(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["vendors~index~utils"],{

/***/ "./node_modules/@babel/runtime/helpers/esm/extends.js":
/*!************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/esm/extends.js ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _extends; });
function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js":
/*!******************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _inheritsLoose; });
function _inheritsLoose(subClass, superClass) {
  subClass.prototype = Object.create(superClass.prototype);
  subClass.prototype.constructor = subClass;
  subClass.__proto__ = superClass;
}

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js ***!
  \*********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _objectWithoutPropertiesLoose; });
function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;

  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }

  return target;
}

/***/ }),

/***/ "./node_modules/change-emitter/lib/index.js":
/*!**************************************************!*\
  !*** ./node_modules/change-emitter/lib/index.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
var createChangeEmitter = exports.createChangeEmitter = function createChangeEmitter() {
  var currentListeners = [];
  var nextListeners = currentListeners;

  function ensureCanMutateNextListeners() {
    if (nextListeners === currentListeners) {
      nextListeners = currentListeners.slice();
    }
  }

  function listen(listener) {
    if (typeof listener !== 'function') {
      throw new Error('Expected listener to be a function.');
    }

    var isSubscribed = true;

    ensureCanMutateNextListeners();
    nextListeners.push(listener);

    return function () {
      if (!isSubscribed) {
        return;
      }

      isSubscribed = false;

      ensureCanMutateNextListeners();
      var index = nextListeners.indexOf(listener);
      nextListeners.splice(index, 1);
    };
  }

  function emit() {
    currentListeners = nextListeners;
    var listeners = currentListeners;
    for (var i = 0; i < listeners.length; i++) {
      listeners[i].apply(listeners, arguments);
    }
  }

  return {
    listen: listen,
    emit: emit
  };
};

/***/ }),

/***/ "./node_modules/fbjs/lib/shallowEqual.js":
/*!***********************************************!*\
  !*** ./node_modules/fbjs/lib/shallowEqual.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 * 
 */

/*eslint-disable no-self-compare */



var hasOwnProperty = Object.prototype.hasOwnProperty;

/**
 * inlined Object.is polyfill to avoid requiring consumers ship their own
 * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is
 */
function is(x, y) {
  // SameValue algorithm
  if (x === y) {
    // Steps 1-5, 7-10
    // Steps 6.b-6.e: +0 != -0
    // Added the nonzero y check to make Flow happy, but it is redundant
    return x !== 0 || y !== 0 || 1 / x === 1 / y;
  } else {
    // Step 6.a: NaN == NaN
    return x !== x && y !== y;
  }
}

/**
 * Performs equality by iterating through keys on an object and returning false
 * when any key has values which are not strictly equal between the arguments.
 * Returns true when the values of all keys are strictly equal.
 */
function shallowEqual(objA, objB) {
  if (is(objA, objB)) {
    return true;
  }

  if (typeof objA !== 'object' || objA === null || typeof objB !== 'object' || objB === null) {
    return false;
  }

  var keysA = Object.keys(objA);
  var keysB = Object.keys(objB);

  if (keysA.length !== keysB.length) {
    return false;
  }

  // Test for A's keys different from B.
  for (var i = 0; i < keysA.length; i++) {
    if (!hasOwnProperty.call(objB, keysA[i]) || !is(objA[keysA[i]], objB[keysA[i]])) {
      return false;
    }
  }

  return true;
}

module.exports = shallowEqual;

/***/ }),

/***/ "./node_modules/grommet-icons/StyledIcon.js":
/*!**************************************************!*\
  !*** ./node_modules/grommet-icons/StyledIcon.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
exports.StyledIcon = void 0;

var _react = _interopRequireDefault(__webpack_require__(/*! react */ "./node_modules/react/index.js"));

var _styledComponents = _interopRequireWildcard(__webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js"));

var _grommetStyles = __webpack_require__(/*! grommet-styles */ "./node_modules/grommet-styles/es6/index.js");

var _defaultProps = __webpack_require__(/*! ./default-props */ "./node_modules/grommet-icons/default-props.js");

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj["default"] = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

var colorCss = (0, _styledComponents.css)(["", " ", " g{fill:inherit;stroke:inherit;}*:not([stroke]){&[fill=\"none\"]{stroke-width:0;}}*[stroke*=\"#\"],*[STROKE*=\"#\"]{stroke:inherit;fill:none;}*[fill-rule],*[FILL-RULE],*[fill*=\"#\"],*[FILL*=\"#\"]{fill:inherit;stroke:none;}"], function (props) {
  return (0, _grommetStyles.colorStyle)('fill', props.color || props.theme.global.colors.icon, props.theme);
}, function (props) {
  return (0, _grommetStyles.colorStyle)('stroke', props.color || props.theme.global.colors.icon, props.theme);
});

var IconInner = function IconInner(_ref) {
  var a11yTitle = _ref.a11yTitle,
      color = _ref.color,
      size = _ref.size,
      theme = _ref.theme,
      rest = _objectWithoutPropertiesLoose(_ref, ["a11yTitle", "color", "size", "theme"]);

  return _react["default"].createElement("svg", _extends({
    "aria-label": a11yTitle
  }, rest));
};

IconInner.displayName = 'Icon';
var StyledIcon = (0, _styledComponents["default"])(IconInner).withConfig({
  displayName: "StyledIcon",
  componentId: "ofa7kd-0"
})(["display:inline-block;flex:0 0 auto;", " ", " ", ""], function (_ref2) {
  var _ref2$size = _ref2.size,
      size = _ref2$size === void 0 ? 'medium' : _ref2$size,
      theme = _ref2.theme;
  return "\n    width: " + (theme.icon.size[size] || size) + ";\n    height: " + (theme.icon.size[size] || size) + ";\n  ";
}, function (_ref3) {
  var color = _ref3.color;
  return color !== 'plain' && colorCss;
}, function (_ref4) {
  var theme = _ref4.theme;
  return theme && theme.icon.extend;
});
exports.StyledIcon = StyledIcon;
StyledIcon.defaultProps = {};
Object.setPrototypeOf(StyledIcon.defaultProps, _defaultProps.defaultProps);

/***/ }),

/***/ "./node_modules/grommet-icons/default-props.js":
/*!*****************************************************!*\
  !*** ./node_modules/grommet-icons/default-props.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
exports.extendDefaultTheme = exports.defaultProps = void 0;

var _utils = __webpack_require__(/*! ./utils */ "./node_modules/grommet-icons/utils.js");

var _themes = __webpack_require__(/*! ./themes */ "./node_modules/grommet-icons/themes/index.js");

var defaultProps = {
  theme: _themes.base
};
exports.defaultProps = defaultProps;

var extendDefaultTheme = function extendDefaultTheme(theme) {
  defaultProps.theme = (0, _utils.deepMerge)(_themes.base, theme);
};

exports.extendDefaultTheme = extendDefaultTheme;

/***/ }),

/***/ "./node_modules/grommet-icons/icons/Actions.js":
/*!*****************************************************!*\
  !*** ./node_modules/grommet-icons/icons/Actions.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
exports.Actions = void 0;

var _react = _interopRequireDefault(__webpack_require__(/*! react */ "./node_modules/react/index.js"));

var _StyledIcon = __webpack_require__(/*! ../StyledIcon */ "./node_modules/grommet-icons/StyledIcon.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var Actions = function Actions(props) {
  return _react["default"].createElement(_StyledIcon.StyledIcon, _extends({
    viewBox: "0 0 24 24",
    a11yTitle: "Actions"
  }, props), _react["default"].createElement("path", {
    fill: "none",
    stroke: "#000",
    strokeWidth: "2",
    d: "M12,17.5 C15.0375661,17.5 17.5,15.0375661 17.5,12 C17.5,8.96243388 15.0375661,6.5 12,6.5 C8.96243388,6.5 6.5,8.96243388 6.5,12 C6.5,15.0375661 8.96243388,17.5 12,17.5 Z M12,6.5 L12,1 M12,23 L12,17.5 M1,12 L6.5,12 M17.5,12 L23,12 M4.4375,4.4375 L8.5625,8.5625 M15.4375,15.4375 L19.5625,19.5625 M19.5625,4.4375 L15.4375,8.5625 M8.5625,15.4375 L4.4375,19.5625"
  }));
};

exports.Actions = Actions;

/***/ }),

/***/ "./node_modules/grommet-icons/icons/ClosedCaption.js":
/*!***********************************************************!*\
  !*** ./node_modules/grommet-icons/icons/ClosedCaption.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
exports.ClosedCaption = void 0;

var _react = _interopRequireDefault(__webpack_require__(/*! react */ "./node_modules/react/index.js"));

var _StyledIcon = __webpack_require__(/*! ../StyledIcon */ "./node_modules/grommet-icons/StyledIcon.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var ClosedCaption = function ClosedCaption(props) {
  return _react["default"].createElement(_StyledIcon.StyledIcon, _extends({
    viewBox: "0 0 24 24",
    a11yTitle: "ClosedCaption"
  }, props), _react["default"].createElement("path", {
    fill: "none",
    stroke: "#000",
    strokeWidth: "2",
    d: "M1,12 C1,5 2.5,4 12,4 C21.5,4 23,5 23,12 C23,19 21.5,20 12,20 C2.5,20 1,19 1,12 Z M5.25,14 C5.25,15.5 6,16 7.75,16 C9.5,16 10.25,15.5 10.25,14 L9.97861679,14 C9.97861671,15.25 8.97905547,16 7.75,16 C6.52094453,16 5.52138329,15.25 5.52138321,14 L5.52138321,10 C5.5,8.75 6.5,8 7.75,8 C9,8 10,8.75 9.97861679,10 L10.25,10 C10.25,8.75 9.2286998,8 7.75,8 C6.2713002,8 5.25,8.75 5.25,10 L5.25,14 Z M13.25,14 C13.25,15.5 14,16 15.75,16 C17.5,16 18.25,15.5 18.25,14 L17.9786168,14 C17.9786167,15.25 16.9790555,16 15.75,16 C14.5209445,16 13.5213833,15.25 13.5213832,14 L13.5213832,10 C13.5,8.75 14.5,8 15.75,8 C17,8 18,8.75 17.9786168,10 L18.25,10 C18.25,8.75 17.2286998,8 15.75,8 C14.2713002,8 13.25,8.75 13.25,10 L13.25,14 Z"
  }));
};

exports.ClosedCaption = ClosedCaption;

/***/ }),

/***/ "./node_modules/grommet-icons/icons/Expand.js":
/*!****************************************************!*\
  !*** ./node_modules/grommet-icons/icons/Expand.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
exports.Expand = void 0;

var _react = _interopRequireDefault(__webpack_require__(/*! react */ "./node_modules/react/index.js"));

var _StyledIcon = __webpack_require__(/*! ../StyledIcon */ "./node_modules/grommet-icons/StyledIcon.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var Expand = function Expand(props) {
  return _react["default"].createElement(_StyledIcon.StyledIcon, _extends({
    viewBox: "0 0 24 24",
    a11yTitle: "Expand"
  }, props), _react["default"].createElement("path", {
    fill: "none",
    stroke: "#000",
    strokeWidth: "2",
    d: "M10,14 L2,22 M1,15 L1,23 L9,23 M22,2 L14,10 M15,1 L23,1 L23,9"
  }));
};

exports.Expand = Expand;

/***/ }),

/***/ "./node_modules/grommet-icons/icons/FormDown.js":
/*!******************************************************!*\
  !*** ./node_modules/grommet-icons/icons/FormDown.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
exports.FormDown = void 0;

var _react = _interopRequireDefault(__webpack_require__(/*! react */ "./node_modules/react/index.js"));

var _StyledIcon = __webpack_require__(/*! ../StyledIcon */ "./node_modules/grommet-icons/StyledIcon.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var FormDown = function FormDown(props) {
  return _react["default"].createElement(_StyledIcon.StyledIcon, _extends({
    viewBox: "0 0 24 24",
    a11yTitle: "FormDown"
  }, props), _react["default"].createElement("polyline", {
    fill: "none",
    stroke: "#000",
    strokeWidth: "2",
    points: "18 9 12 15 6 9"
  }));
};

exports.FormDown = FormDown;

/***/ }),

/***/ "./node_modules/grommet-icons/icons/FormNext.js":
/*!******************************************************!*\
  !*** ./node_modules/grommet-icons/icons/FormNext.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
exports.FormNext = void 0;

var _react = _interopRequireDefault(__webpack_require__(/*! react */ "./node_modules/react/index.js"));

var _StyledIcon = __webpack_require__(/*! ../StyledIcon */ "./node_modules/grommet-icons/StyledIcon.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var FormNext = function FormNext(props) {
  return _react["default"].createElement(_StyledIcon.StyledIcon, _extends({
    viewBox: "0 0 24 24",
    a11yTitle: "FormNext"
  }, props), _react["default"].createElement("polyline", {
    fill: "none",
    stroke: "#000",
    strokeWidth: "2",
    points: "9 6 15 12 9 18"
  }));
};

exports.FormNext = FormNext;

/***/ }),

/***/ "./node_modules/grommet-icons/icons/FormPrevious.js":
/*!**********************************************************!*\
  !*** ./node_modules/grommet-icons/icons/FormPrevious.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
exports.FormPrevious = void 0;

var _react = _interopRequireDefault(__webpack_require__(/*! react */ "./node_modules/react/index.js"));

var _StyledIcon = __webpack_require__(/*! ../StyledIcon */ "./node_modules/grommet-icons/StyledIcon.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var FormPrevious = function FormPrevious(props) {
  return _react["default"].createElement(_StyledIcon.StyledIcon, _extends({
    viewBox: "0 0 24 24",
    a11yTitle: "FormPrevious"
  }, props), _react["default"].createElement("polyline", {
    fill: "none",
    stroke: "#000",
    strokeWidth: "2",
    points: "9 6 15 12 9 18",
    transform: "matrix(-1 0 0 1 24 0)"
  }));
};

exports.FormPrevious = FormPrevious;

/***/ }),

/***/ "./node_modules/grommet-icons/icons/FormSearch.js":
/*!********************************************************!*\
  !*** ./node_modules/grommet-icons/icons/FormSearch.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
exports.FormSearch = void 0;

var _react = _interopRequireDefault(__webpack_require__(/*! react */ "./node_modules/react/index.js"));

var _StyledIcon = __webpack_require__(/*! ../StyledIcon */ "./node_modules/grommet-icons/StyledIcon.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var FormSearch = function FormSearch(props) {
  return _react["default"].createElement(_StyledIcon.StyledIcon, _extends({
    viewBox: "0 0 24 24",
    a11yTitle: "FormSearch"
  }, props), _react["default"].createElement("path", {
    fill: "none",
    stroke: "#000",
    strokeWidth: "2",
    d: "M13.8,13.8 L18,18 L13.8,13.8 Z M10.5,15 C12.9852814,15 15,12.9852814 15,10.5 C15,8.01471863 12.9852814,6 10.5,6 C8.01471863,6 6,8.01471863 6,10.5 C6,12.9852814 8.01471863,15 10.5,15 Z"
  }));
};

exports.FormSearch = FormSearch;

/***/ }),

/***/ "./node_modules/grommet-icons/icons/FormUp.js":
/*!****************************************************!*\
  !*** ./node_modules/grommet-icons/icons/FormUp.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
exports.FormUp = void 0;

var _react = _interopRequireDefault(__webpack_require__(/*! react */ "./node_modules/react/index.js"));

var _StyledIcon = __webpack_require__(/*! ../StyledIcon */ "./node_modules/grommet-icons/StyledIcon.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var FormUp = function FormUp(props) {
  return _react["default"].createElement(_StyledIcon.StyledIcon, _extends({
    viewBox: "0 0 24 24",
    a11yTitle: "FormUp"
  }, props), _react["default"].createElement("polyline", {
    fill: "none",
    stroke: "#000",
    strokeWidth: "2",
    points: "18 9 12 15 6 9",
    transform: "matrix(1 0 0 -1 0 24)"
  }));
};

exports.FormUp = FormUp;

/***/ }),

/***/ "./node_modules/grommet-icons/icons/Next.js":
/*!**************************************************!*\
  !*** ./node_modules/grommet-icons/icons/Next.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
exports.Next = void 0;

var _react = _interopRequireDefault(__webpack_require__(/*! react */ "./node_modules/react/index.js"));

var _StyledIcon = __webpack_require__(/*! ../StyledIcon */ "./node_modules/grommet-icons/StyledIcon.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var Next = function Next(props) {
  return _react["default"].createElement(_StyledIcon.StyledIcon, _extends({
    viewBox: "0 0 24 24",
    a11yTitle: "Next"
  }, props), _react["default"].createElement("polyline", {
    fill: "none",
    stroke: "#000",
    strokeWidth: "2",
    points: "7 2 17 12 7 22"
  }));
};

exports.Next = Next;

/***/ }),

/***/ "./node_modules/grommet-icons/icons/Pause.js":
/*!***************************************************!*\
  !*** ./node_modules/grommet-icons/icons/Pause.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
exports.Pause = void 0;

var _react = _interopRequireDefault(__webpack_require__(/*! react */ "./node_modules/react/index.js"));

var _StyledIcon = __webpack_require__(/*! ../StyledIcon */ "./node_modules/grommet-icons/StyledIcon.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var Pause = function Pause(props) {
  return _react["default"].createElement(_StyledIcon.StyledIcon, _extends({
    viewBox: "0 0 24 24",
    a11yTitle: "Pause"
  }, props), _react["default"].createElement("path", {
    fill: "none",
    stroke: "#000",
    strokeWidth: "2",
    d: "M3,21 L9,21 L9,3 L3,3 L3,21 Z M15,21 L21,21 L21,3 L15,3 L15,21 Z"
  }));
};

exports.Pause = Pause;

/***/ }),

/***/ "./node_modules/grommet-icons/icons/Play.js":
/*!**************************************************!*\
  !*** ./node_modules/grommet-icons/icons/Play.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
exports.Play = void 0;

var _react = _interopRequireDefault(__webpack_require__(/*! react */ "./node_modules/react/index.js"));

var _StyledIcon = __webpack_require__(/*! ../StyledIcon */ "./node_modules/grommet-icons/StyledIcon.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var Play = function Play(props) {
  return _react["default"].createElement(_StyledIcon.StyledIcon, _extends({
    viewBox: "0 0 24 24",
    a11yTitle: "Play"
  }, props), _react["default"].createElement("polygon", {
    fill: "none",
    stroke: "#000",
    strokeWidth: "2",
    points: "3 22 21 12 3 2"
  }));
};

exports.Play = Play;

/***/ }),

/***/ "./node_modules/grommet-icons/icons/Previous.js":
/*!******************************************************!*\
  !*** ./node_modules/grommet-icons/icons/Previous.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
exports.Previous = void 0;

var _react = _interopRequireDefault(__webpack_require__(/*! react */ "./node_modules/react/index.js"));

var _StyledIcon = __webpack_require__(/*! ../StyledIcon */ "./node_modules/grommet-icons/StyledIcon.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var Previous = function Previous(props) {
  return _react["default"].createElement(_StyledIcon.StyledIcon, _extends({
    viewBox: "0 0 24 24",
    a11yTitle: "Previous"
  }, props), _react["default"].createElement("polyline", {
    fill: "none",
    stroke: "#000",
    strokeWidth: "2",
    points: "7 2 17 12 7 22",
    transform: "matrix(-1 0 0 1 24 0)"
  }));
};

exports.Previous = Previous;

/***/ }),

/***/ "./node_modules/grommet-icons/icons/Subtract.js":
/*!******************************************************!*\
  !*** ./node_modules/grommet-icons/icons/Subtract.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
exports.Subtract = void 0;

var _react = _interopRequireDefault(__webpack_require__(/*! react */ "./node_modules/react/index.js"));

var _StyledIcon = __webpack_require__(/*! ../StyledIcon */ "./node_modules/grommet-icons/StyledIcon.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var Subtract = function Subtract(props) {
  return _react["default"].createElement(_StyledIcon.StyledIcon, _extends({
    viewBox: "0 0 24 24",
    a11yTitle: "Subtract"
  }, props), _react["default"].createElement("path", {
    fill: "none",
    stroke: "#000",
    strokeWidth: "2",
    d: "M2,12 L22,12"
  }));
};

exports.Subtract = Subtract;

/***/ }),

/***/ "./node_modules/grommet-icons/icons/Volume.js":
/*!****************************************************!*\
  !*** ./node_modules/grommet-icons/icons/Volume.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
exports.Volume = void 0;

var _react = _interopRequireDefault(__webpack_require__(/*! react */ "./node_modules/react/index.js"));

var _StyledIcon = __webpack_require__(/*! ../StyledIcon */ "./node_modules/grommet-icons/StyledIcon.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var Volume = function Volume(props) {
  return _react["default"].createElement(_StyledIcon.StyledIcon, _extends({
    viewBox: "0 0 24 24",
    a11yTitle: "Volume"
  }, props), _react["default"].createElement("path", {
    fill: "none",
    stroke: "#000",
    strokeWidth: "2",
    d: "M15,16 C17.209,16 19,14.209 19,12 C19,9.791 17.209,8 15,8 M15,20 C20,20 23,16.411 23,12 C23,7.589 19.411,4 15,4 M1,12 L1,8 L6,8 L12,3 L12,21 L6,16 L1,16 L1,12"
  }));
};

exports.Volume = Volume;

/***/ }),

/***/ "./node_modules/grommet-icons/icons/VolumeLow.js":
/*!*******************************************************!*\
  !*** ./node_modules/grommet-icons/icons/VolumeLow.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
exports.VolumeLow = void 0;

var _react = _interopRequireDefault(__webpack_require__(/*! react */ "./node_modules/react/index.js"));

var _StyledIcon = __webpack_require__(/*! ../StyledIcon */ "./node_modules/grommet-icons/StyledIcon.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var VolumeLow = function VolumeLow(props) {
  return _react["default"].createElement(_StyledIcon.StyledIcon, _extends({
    viewBox: "0 0 24 24",
    a11yTitle: "VolumeLow"
  }, props), _react["default"].createElement("path", {
    fill: "none",
    stroke: "#000",
    strokeWidth: "2",
    d: "M1,8 L1,16 L6.09901951,16 L12,21 L12,3 L6,8 L1,8 Z M15,16 L15,16 C17.209139,16 19,14.209139 19,12 C19,9.790861 17.209139,8 15,8"
  }));
};

exports.VolumeLow = VolumeLow;

/***/ }),

/***/ "./node_modules/grommet-icons/themes/base.js":
/*!***************************************************!*\
  !*** ./node_modules/grommet-icons/themes/base.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
exports.base = void 0;
var base = {
  global: {
    colors: {
      icon: '#666666'
    }
  },
  icon: {
    size: {
      small: '12px',
      medium: '24px',
      large: '48px',
      xlarge: '96px'
    }
  }
};
exports.base = base;

/***/ }),

/***/ "./node_modules/grommet-icons/themes/index.js":
/*!****************************************************!*\
  !*** ./node_modules/grommet-icons/themes/index.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
exports.base = void 0;

var _base = __webpack_require__(/*! ./base */ "./node_modules/grommet-icons/themes/base.js");

exports.base = _base.base;

/***/ }),

/***/ "./node_modules/grommet-icons/utils.js":
/*!*********************************************!*\
  !*** ./node_modules/grommet-icons/utils.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
exports.isObject = isObject;
exports.deepMerge = deepMerge;
exports["default"] = void 0;

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function isObject(item) {
  return item && typeof item === 'object' && !Array.isArray(item);
}

function deepMerge(target) {
  for (var _len = arguments.length, sources = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
    sources[_key - 1] = arguments[_key];
  }

  if (!sources.length) {
    return target;
  } // making sure to not change target (immutable)


  var output = _extends({}, target);

  sources.forEach(function (source) {
    if (isObject(source)) {
      Object.keys(source).forEach(function (key) {
        if (isObject(source[key])) {
          if (!output[key]) {
            output[key] = _extends({}, source[key]);
          } else {
            output[key] = deepMerge(output[key], source[key]);
          }
        } else {
          output[key] = source[key];
        }
      });
    }
  });
  return output;
}

var _default = {
  deepMerge: deepMerge,
  isObject: isObject
};
exports["default"] = _default;

/***/ }),

/***/ "./node_modules/grommet-styles/es6/index.js":
/*!**************************************************!*\
  !*** ./node_modules/grommet-styles/es6/index.js ***!
  \**************************************************/
/*! exports provided: colorStyle, sizeStyle, colorIsDark, normalizeColor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _styles__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./styles */ "./node_modules/grommet-styles/es6/styles/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "colorStyle", function() { return _styles__WEBPACK_IMPORTED_MODULE_0__["colorStyle"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "sizeStyle", function() { return _styles__WEBPACK_IMPORTED_MODULE_0__["sizeStyle"]; });

/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils */ "./node_modules/grommet-styles/es6/utils/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "colorIsDark", function() { return _utils__WEBPACK_IMPORTED_MODULE_1__["colorIsDark"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "normalizeColor", function() { return _utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"]; });




/***/ }),

/***/ "./node_modules/grommet-styles/es6/styles/color.js":
/*!*********************************************************!*\
  !*** ./node_modules/grommet-styles/es6/styles/color.js ***!
  \*********************************************************/
/*! exports provided: colorStyle */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "colorStyle", function() { return colorStyle; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils */ "./node_modules/grommet-styles/es6/utils/index.js");


var colorStyle = function colorStyle(name, value, theme, required) {
  return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["", ":", ";"], name, Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(value, theme, required));
};

/***/ }),

/***/ "./node_modules/grommet-styles/es6/styles/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/grommet-styles/es6/styles/index.js ***!
  \*********************************************************/
/*! exports provided: colorStyle, sizeStyle */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _color__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./color */ "./node_modules/grommet-styles/es6/styles/color.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "colorStyle", function() { return _color__WEBPACK_IMPORTED_MODULE_0__["colorStyle"]; });

/* harmony import */ var _size__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./size */ "./node_modules/grommet-styles/es6/styles/size.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "sizeStyle", function() { return _size__WEBPACK_IMPORTED_MODULE_1__["sizeStyle"]; });




/***/ }),

/***/ "./node_modules/grommet-styles/es6/styles/size.js":
/*!********************************************************!*\
  !*** ./node_modules/grommet-styles/es6/styles/size.js ***!
  \********************************************************/
/*! exports provided: sizeStyle */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "sizeStyle", function() { return sizeStyle; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");

var sizeStyle = function sizeStyle(name, value, theme) {
  return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["", ":", ";"], name, theme.global.size[value] || value);
};

/***/ }),

/***/ "./node_modules/grommet-styles/es6/utils/colors.js":
/*!*********************************************************!*\
  !*** ./node_modules/grommet-styles/es6/utils/colors.js ***!
  \*********************************************************/
/*! exports provided: colorIsDark, normalizeColor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "colorIsDark", function() { return colorIsDark; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "normalizeColor", function() { return normalizeColor; });
// https://stackoverflow.com/questions/5623838/rgb-to-hex-and-hex-to-rgb
var parseHexToRGB = function parseHexToRGB(color) {
  return color.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i, function (m, r, g, b) {
    return "#" + r + r + g + g + b + b;
  }).substring(1).match(/.{2}/g).map(function (x) {
    return parseInt(x, 16);
  });
};

var getRGBArray = function getRGBArray(color) {
  if (/^#/.test(color)) {
    return parseHexToRGB(color);
  }

  if (/^rgb/.test(color)) {
    return color.match(/rgba?\((\s?[0-9]*\s?),(\s?[0-9]*\s?),(\s?[0-9]*\s?).*?\)/).splice(1);
  }

  return color;
};

var colorIsDark = function colorIsDark(color) {
  var _getRGBArray = getRGBArray(color),
      red = _getRGBArray[0],
      green = _getRGBArray[1],
      blue = _getRGBArray[2]; // http://www.had2know.com/technology/
  //  color-contrast-calculator-web-design.html


  var brightness = (299 * red + 587 * green + 114 * blue) / 1000;
  return brightness < 125;
};
var normalizeColor = function normalizeColor(color, theme) {
  var colorSpec = theme.global.colors[color] || color; // If the color has a light or dark object, use that

  var result = colorSpec;

  if (theme.dark && colorSpec.dark) {
    result = colorSpec.dark;
  } else if (!theme.dark && colorSpec.light) {
    result = colorSpec.light;
  } // allow one level of indirection in color names


  if (result && theme.global.colors[result] && theme.global.colors[result] !== result) {
    result = normalizeColor(result, theme);
  }

  return result;
};

/***/ }),

/***/ "./node_modules/grommet-styles/es6/utils/index.js":
/*!********************************************************!*\
  !*** ./node_modules/grommet-styles/es6/utils/index.js ***!
  \********************************************************/
/*! exports provided: colorIsDark, normalizeColor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _colors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./colors */ "./node_modules/grommet-styles/es6/utils/colors.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "colorIsDark", function() { return _colors__WEBPACK_IMPORTED_MODULE_0__["colorIsDark"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "normalizeColor", function() { return _colors__WEBPACK_IMPORTED_MODULE_0__["normalizeColor"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Accordion/Accordion.js":
/*!********************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Accordion/Accordion.js ***!
  \********************************************************************/
/*! exports provided: Accordion */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Accordion", function() { return AccordionWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
/* harmony import */ var _AccordionContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./AccordionContext */ "./node_modules/grommet/es6/components/Accordion/AccordionContext.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }





var activeAsArray = function activeAsArray(active) {
  return typeof active === 'number' ? [active] : active;
};

var Accordion = function Accordion(_ref) {
  var activeIndex = _ref.activeIndex,
      _ref$animate = _ref.animate,
      animate = _ref$animate === void 0 ? true : _ref$animate,
      children = _ref.children,
      _ref$messages = _ref.messages,
      messages = _ref$messages === void 0 ? {
    tabContents: 'Tab Contents'
  } : _ref$messages,
      multiple = _ref.multiple,
      onActive = _ref.onActive,
      rest = _objectWithoutPropertiesLoose(_ref, ["activeIndex", "animate", "children", "messages", "multiple", "onActive"]);

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])([]),
      activeIndexes = _useState[0],
      setActiveIndexes = _useState[1];

  var _useState2 = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(),
      stateActiveIndex = _useState2[0],
      setStateActiveIndex = _useState2[1]; // Derived state from props
  // https://reactjs.org/docs/hooks-faq.html#how-do-i-implement-getderivedstatefromprops


  var derivedActiveIndexes = activeAsArray(activeIndex) || [];

  if ((typeof activeIndex !== 'undefined' || activeIndex !== stateActiveIndex) && derivedActiveIndexes.join() !== activeIndexes.join()) {
    setActiveIndexes(derivedActiveIndexes);
    setStateActiveIndex(activeIndex);
  }

  var _onPanelChange = function onPanelChange(index) {
    var nextActiveIndexes = [].concat(activeIndexes || []);
    var nextActiveIndex = nextActiveIndexes.indexOf(index);

    if (nextActiveIndex > -1) {
      nextActiveIndexes.splice(nextActiveIndex, 1);
    } else if (multiple) {
      nextActiveIndexes.push(index);
    } else {
      nextActiveIndexes = [index];
    }

    setActiveIndexes(nextActiveIndexes);

    if (onActive) {
      onActive(nextActiveIndexes);
    }
  }; // eslint-disable-next-line no-param-reassign


  delete rest.onActive;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_1__["Box"], _extends({
    role: "tablist"
  }, rest), react__WEBPACK_IMPORTED_MODULE_0__["Children"].toArray(children).map(function (panel, index) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_AccordionContext__WEBPACK_IMPORTED_MODULE_2__["AccordionContext"].Provider, {
      key: "accordion-panel_" + (index + 0),
      value: {
        active: activeIndexes.indexOf(index) > -1,
        animate: animate,
        messages: messages,
        onPanelChange: function onPanelChange() {
          return _onPanelChange(index);
        }
      }
    }, panel);
  }));
};

var AccordionDoc;

if (true) {
  // eslint-disable-next-line global-require
  AccordionDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Accordion/doc.js").doc(Accordion);
}

var AccordionWrapper = AccordionDoc || Accordion;


/***/ }),

/***/ "./node_modules/grommet/es6/components/Accordion/AccordionContext.js":
/*!***************************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Accordion/AccordionContext.js ***!
  \***************************************************************************/
/*! exports provided: AccordionContext */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AccordionContext", function() { return AccordionContext; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

var AccordionContext = Object(react__WEBPACK_IMPORTED_MODULE_0__["createContext"])({});

/***/ }),

/***/ "./node_modules/grommet/es6/components/Accordion/doc.js":
/*!**************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Accordion/doc.js ***!
  \**************************************************************/
/*! exports provided: doc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var doc = function doc(Accordion) {
  var DocumentedAccordion = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Accordion).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('Accordion')).description('An accordion containing collapsible panels.').usage("import { Accordion, AccordionPanel } from 'grommet';\n<Accordion>\n  <AccordionPanel label='Panel 1'>...</AccordionPanel>\n  <AccordionPanel label='Panel 2'>...</AccordionPanel>\n</Accordion>").intrinsicElement('div');
  DocumentedAccordion.propTypes = _extends({}, _utils__WEBPACK_IMPORTED_MODULE_1__["genericProps"], {
    activeIndex: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number)]).description("Active panel index. If specified, Accordion will be a controlled \ncomponent. This means that future panel changes will not work unless you\nsubscribe to onActive function and update activeIndex accordingly.").defaultValue(0),
    animate: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Transition content in & out with a slide down animation.').defaultValue(true),
    children: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].node.description('Array of AccordionPanels.'),
    onActive: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Function that will be called when the active index changes.\nIt will always send an array with currently active panel indexes."),
    multiple: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Allow multiple panels to be opened at once.').defaultValue(false),
    messages: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      tabContents: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string
    }).description('Custom messages for Tabs. Used for accessibility by screen readers.').defaultValue({
      tabContents: 'Tab Contents'
    })
  });
  return DocumentedAccordion;
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/Accordion/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Accordion/index.js ***!
  \****************************************************************/
/*! exports provided: Accordion */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Accordion__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Accordion */ "./node_modules/grommet/es6/components/Accordion/Accordion.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Accordion", function() { return _Accordion__WEBPACK_IMPORTED_MODULE_0__["Accordion"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/AccordionPanel/AccordionPanel.js":
/*!******************************************************************************!*\
  !*** ./node_modules/grommet/es6/components/AccordionPanel/AccordionPanel.js ***!
  \******************************************************************************/
/*! exports provided: AccordionPanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AccordionPanel", function() { return AccordionPanelWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Button */ "./node_modules/grommet/es6/components/Button/index.js");
/* harmony import */ var _Collapsible__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Collapsible */ "./node_modules/grommet/es6/components/Collapsible/index.js");
/* harmony import */ var _Heading__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../Heading */ "./node_modules/grommet/es6/components/Heading/index.js");
/* harmony import */ var _hocs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../hocs */ "./node_modules/grommet/es6/components/hocs.js");
/* harmony import */ var _Accordion_AccordionContext__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../Accordion/AccordionContext */ "./node_modules/grommet/es6/components/Accordion/AccordionContext.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }













var AccordionPanel = function AccordionPanel(_ref) {
  var children = _ref.children,
      header = _ref.header,
      label = _ref.label,
      theme = _ref.theme,
      onMouseOut = _ref.onMouseOut,
      onMouseOver = _ref.onMouseOver,
      onFocus = _ref.onFocus,
      onBlur = _ref.onBlur,
      rest = _objectWithoutPropertiesLoose(_ref, ["children", "header", "label", "theme", "onMouseOut", "onMouseOver", "onFocus", "onBlur"]);

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(undefined),
      hover = _useState[0],
      setHover = _useState[1];

  var iconColor = Object(_utils__WEBPACK_IMPORTED_MODULE_3__["normalizeColor"])(theme.accordion.icons.color || 'control', theme);

  var onHandleMouseOver = function onHandleMouseOver() {
    var dark = theme.dark;
    setHover(dark ? 'light-4' : 'dark-3');

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    if (onMouseOver) onMouseOver(args);
  };

  var onHandleMouseOut = function onHandleMouseOut() {
    setHover(undefined);

    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    if (onMouseOut) onMouseOut(args);
  };

  var onHandleFocus = function onHandleFocus() {
    var dark = theme.dark;
    setHover(dark ? 'light-4' : 'dark-3');

    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }

    if (onFocus) onFocus(args);
  };

  var onHandleBlur = function onHandleBlur() {
    setHover(undefined);

    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
      args[_key4] = arguments[_key4];
    }

    if (onBlur) onBlur(args);
  };

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Accordion_AccordionContext__WEBPACK_IMPORTED_MODULE_10__["AccordionContext"].Consumer, null, function (panelContext) {
    var active = panelContext.active,
        animate = panelContext.animate,
        onPanelChange = panelContext.onPanelChange;
    var AccordionIcon = active ? theme.accordion.icons.collapse : theme.accordion.icons.expand;
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_5__["Box"], {
      flex: false
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_6__["Button"], {
      role: "tab",
      "aria-selected": active,
      "aria-expanded": active,
      onClick: onPanelChange,
      onMouseOver: onHandleMouseOver,
      onMouseOut: onHandleMouseOut,
      onFocus: onHandleFocus,
      onBlur: onHandleBlur
    }, header || react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_5__["Box"], _extends({
      align: "center",
      direction: "row",
      justify: "between"
    }, rest), typeof label === 'string' ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_5__["Box"], {
      pad: {
        horizontal: 'xsmall'
      }
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Heading__WEBPACK_IMPORTED_MODULE_8__["Heading"], {
      level: theme.accordion.heading && theme.accordion.heading.level || 4,
      color: hover
    }, label)) : label, AccordionIcon && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_5__["Box"], {
      pad: {
        horizontal: 'small'
      }
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(AccordionIcon, {
      color: iconColor
    })))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_5__["Box"], {
      border: theme.accordion.border
    }, animate ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Collapsible__WEBPACK_IMPORTED_MODULE_7__["Collapsible"], {
      open: active
    }, children) : active && children));
  });
};

AccordionPanel.defaultProps = {};
Object.setPrototypeOf(AccordionPanel.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_4__["defaultProps"]);
var AccordionPanelDoc;

if (true) {
  // eslint-disable-next-line global-require
  AccordionPanelDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/AccordionPanel/doc.js").doc(AccordionPanel);
}

var AccordionPanelWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(styled_components__WEBPACK_IMPORTED_MODULE_2__["withTheme"], _hocs__WEBPACK_IMPORTED_MODULE_9__["withForwardRef"])(AccordionPanelDoc || AccordionPanel);


/***/ }),

/***/ "./node_modules/grommet/es6/components/AccordionPanel/doc.js":
/*!*******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/AccordionPanel/doc.js ***!
  \*******************************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);

function doc(Panel) {
  var DocumentedAccordionPanel = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Panel).description('An Accordion panel.').intrinsicElement('div');
  DocumentedAccordionPanel.propTypes = {
    label: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].node]).description('The panel label.'),
    header: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].node.description('If specified, the entire panel header will be managed by the caller.')
  };
  return DocumentedAccordionPanel;
}
var themeDoc = {
  'accordion.heading.level': {
    description: 'The heading level used for the accordion.',
    type: 'number',
    defaultValue: '4'
  },
  'accordion.icons.collapse': {
    description: 'The icon to use when the panel is expanded.',
    type: 'React.Element',
    defaultValue: '<FormUp />'
  },
  'accordion.icons.color': {
    description: 'The icon color to use in the accordion.',
    type: 'string | { dark: string, light: string }',
    defaultValue: 'control'
  },
  'accordion.icons.expand': {
    description: 'The icon to use when the panel is collapsed.',
    type: 'React.Element',
    defaultValue: '<FormDown />'
  },
  'accordion.border.color': {
    description: 'The border color to use in the accordion.',
    type: 'string | { dark: string, light: string }',
    defaultValue: 'border'
  },
  'accordion.border.side': {
    description: 'The border side to use in the accordion.',
    type: 'string',
    defaultValue: 'bottom'
  }
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/AccordionPanel/index.js":
/*!*********************************************************************!*\
  !*** ./node_modules/grommet/es6/components/AccordionPanel/index.js ***!
  \*********************************************************************/
/*! exports provided: AccordionPanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _AccordionPanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AccordionPanel */ "./node_modules/grommet/es6/components/AccordionPanel/AccordionPanel.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AccordionPanel", function() { return _AccordionPanel__WEBPACK_IMPORTED_MODULE_0__["AccordionPanel"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Anchor/Anchor.js":
/*!**************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Anchor/Anchor.js ***!
  \**************************************************************/
/*! exports provided: Anchor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Anchor", function() { return AnchorWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
/* harmony import */ var _StyledAnchor__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./StyledAnchor */ "./node_modules/grommet/es6/components/Anchor/StyledAnchor.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }







var Anchor = Object(react__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function (_ref, ref) {
  var a11yTitle = _ref.a11yTitle,
      children = _ref.children,
      color = _ref.color,
      disabled = _ref.disabled,
      href = _ref.href,
      icon = _ref.icon,
      label = _ref.label,
      _onBlur = _ref.onBlur,
      onClick = _ref.onClick,
      _onFocus = _ref.onFocus,
      reverse = _ref.reverse,
      rest = _objectWithoutPropertiesLoose(_ref, ["a11yTitle", "children", "color", "disabled", "href", "icon", "label", "onBlur", "onClick", "onFocus", "reverse"]);

  var theme = Object(react__WEBPACK_IMPORTED_MODULE_0__["useContext"])(styled_components__WEBPACK_IMPORTED_MODULE_1__["ThemeContext"]) || _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"].theme;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(),
      focus = _useState[0],
      setFocus = _useState[1];

  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    if ((icon || label) && children) {
      console.warn('Anchor should not have children if icon or label is provided');
    }
  }, [children, icon, label]);
  var coloredIcon = icon;

  if (icon && !icon.props.color) {
    coloredIcon = Object(react__WEBPACK_IMPORTED_MODULE_0__["cloneElement"])(icon, {
      color: Object(_utils__WEBPACK_IMPORTED_MODULE_3__["normalizeColor"])(color || theme.anchor.color, theme)
    });
  }

  var first = reverse ? label : coloredIcon;
  var second = reverse ? coloredIcon : label;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledAnchor__WEBPACK_IMPORTED_MODULE_5__["StyledAnchor"], _extends({}, rest, {
    ref: ref,
    "aria-label": a11yTitle,
    colorProp: color,
    disabled: disabled,
    hasIcon: !!icon,
    focus: focus,
    hasLabel: label,
    reverse: reverse,
    href: !disabled ? href : undefined,
    onClick: !disabled ? onClick : undefined,
    onFocus: function onFocus(event) {
      setFocus(true);
      if (_onFocus) _onFocus(event);
    },
    onBlur: function onBlur(event) {
      setFocus(false);
      if (_onBlur) _onBlur(event);
    }
  }), first && second ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"], {
    as: "span",
    direction: "row",
    align: "center",
    gap: "small",
    style: {
      display: 'inline-flex'
    }
  }, first, second) : first || second || children);
});
Anchor.displayName = 'Anchor';
var AnchorDoc;

if (true) {
  // eslint-disable-next-line global-require
  AnchorDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Anchor/doc.js").doc(Anchor);
}

var AnchorWrapper = AnchorDoc || Anchor;


/***/ }),

/***/ "./node_modules/grommet/es6/components/Anchor/StyledAnchor.js":
/*!********************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Anchor/StyledAnchor.js ***!
  \********************************************************************/
/*! exports provided: StyledAnchor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledAnchor", function() { return StyledAnchor; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");



var disabledStyle = "\n  opacity: 0.3;\n  cursor: default;\n  text-decoration: none;\n";

var sizeStyle = function sizeStyle(props) {
  if (props.size) {
    var size = props.size || 'medium';
    var data = props.theme.text[size];
    return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["font-size:", ";line-height:", ";"], data.size, data.height);
  }

  return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["font-size:inherit;line-height:inherit;"]);
};

var StyledAnchor = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].a.withConfig({
  displayName: "StyledAnchor",
  componentId: "sc-1rp7lwl-0"
})(["box-sizing:border-box;", " color:", ";", " text-decoration:", ";cursor:pointer;outline:none;", " ", " ", " ", " ", " ", ""], function (props) {
  return sizeStyle(props);
}, function (props) {
  return Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.colorProp || props.theme.anchor.color, props.theme);
}, function (props) {
  return props.theme.anchor.fontWeight && "font-weight: " + props.theme.anchor.fontWeight + ";";
}, function (props) {
  return props.hasIcon ? 'none' : props.theme.anchor.textDecoration;
}, _utils__WEBPACK_IMPORTED_MODULE_1__["genericStyles"], function (props) {
  return !props.disabled && props.theme.anchor.hover && Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["&:hover{", " ", " ", "}"], props.theme.anchor.hover.textDecoration && "text-decoration: " + props.theme.anchor.hover.textDecoration + ";", props.theme.anchor.hover.fontWeight && "font-weight: " + props.theme.anchor.hover.fontWeight + ";", props.theme.anchor.hover.extend);
}, function (props) {
  return props.hasIcon && !props.hasLabel && "\n    padding: " + props.theme.global.edgeSize.small + ";\n  ";
}, function (props) {
  return props.disabled && disabledStyle;
}, function (props) {
  return props.focus && _utils__WEBPACK_IMPORTED_MODULE_1__["focusStyle"];
}, function (props) {
  return props.theme.anchor.extend;
});
StyledAnchor.defaultProps = {};
Object.setPrototypeOf(StyledAnchor.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Anchor/doc.js":
/*!***********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Anchor/doc.js ***!
  \***********************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var doc = function doc(Anchor) {
  var DocumentedAnchor = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Anchor).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('Anchor')).description('A text link.').details("We have a separate component from the browser\nbase so we can style it. You can either set the icon and/or label properties\nor just use children.").usage("import { Anchor } from 'grommet';\n" + "<Anchor href={location} label='Label' />").intrinsicElement('a');
  DocumentedAnchor.propTypes = _extends({}, _utils__WEBPACK_IMPORTED_MODULE_1__["genericProps"], {
    a11yTitle: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description('Custom title to be used by screen readers.'),
    color: _utils__WEBPACK_IMPORTED_MODULE_1__["colorPropType"].description('Label color and icon color, if not specified on the icon.'),
    disabled: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Whether the anchor is disabled.').defaultValue(false),
    href: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description('Hyperlink reference to place in the anchor.'),
    icon: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].element.description('Icon element to place in the anchor.'),
    label: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].node.description('Label text to place in the anchor.'),
    onClick: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Click handler. It can be used, for example,\n        to add analytics and track who clicked in the anchor."),
    reverse: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Whether an icon and label should be reversed so that the\n        icon is at the end of the anchor.").defaultValue(false),
    size: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['xsmall', 'small', 'medium', 'large', 'xlarge', 'xxlarge']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description("The font size is typically driven by the components containing\nthis component. But, it can be adjusted directly via this size property,\ntypically when it is not contained in a 'Heading', 'Paragraph', or 'Text'."),
    as: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func]).description("The DOM tag or react component to use for the element.")
  });
  return DocumentedAnchor;
};
var themeDoc = _extends({
  'anchor.color': {
    description: 'The color of the label text and icon strokes.',
    type: 'string | { dark: string, light: string }',
    defaultValue: "{ light: '#1D67E3', dark: '#6194EB' }"
  },
  'anchor.fontWeight': {
    description: 'The font weight of the label.',
    type: 'number',
    defaultValue: 600
  },
  'anchor.textDecoration': {
    description: "The text decoration of the label. \nRefer to [MDN](https://developer.mozilla.org/en-US/docs/Web/CSS/text-decoration)\nfor possible values.",
    type: 'string',
    defaultValue: 'none'
  },
  'anchor.hover.fontWeight': {
    description: 'The font weight of the label when hovering.',
    type: 'number',
    defaultValue: undefined
  },
  'anchor.hover.textDecoration': {
    description: "The text decoration of the label when hovering. \nRefer to [MDN](https://developer.mozilla.org/en-US/docs/Web/CSS/text-decoration)\nfor possible values.",
    type: 'string',
    defaultValue: 'underline'
  },
  'anchor.hover.extend': {
    description: 'Any additional style for the Anchor when hovering.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'anchor.extend': {
    description: 'Any additional style for the Anchor.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'text.medium.size': {
    description: 'The font size of the text label.',
    type: 'string',
    defaultValue: '18px'
  },
  'text.medium.height': {
    description: 'The line height of the text label.',
    type: 'string',
    defaultValue: '24px'
  }
}, _utils__WEBPACK_IMPORTED_MODULE_1__["themeDocUtils"].focusStyle, {}, _utils__WEBPACK_IMPORTED_MODULE_1__["themeDocUtils"].edgeStyle('The possible sizes for margin.'));

/***/ }),

/***/ "./node_modules/grommet/es6/components/Anchor/index.js":
/*!*************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Anchor/index.js ***!
  \*************************************************************/
/*! exports provided: Anchor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Anchor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Anchor */ "./node_modules/grommet/es6/components/Anchor/Anchor.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Anchor", function() { return _Anchor__WEBPACK_IMPORTED_MODULE_0__["Anchor"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Box/Box.js":
/*!********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Box/Box.js ***!
  \********************************************************/
/*! exports provided: Box */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Box", function() { return BoxWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _Keyboard__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Keyboard */ "./node_modules/grommet/es6/components/Keyboard/index.js");
/* harmony import */ var _StyledBox__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./StyledBox */ "./node_modules/grommet/es6/components/Box/StyledBox.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }







var Box = Object(react__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function (_ref, ref) {
  var a11yTitle = _ref.a11yTitle,
      background = _ref.background,
      children = _ref.children,
      _ref$direction = _ref.direction,
      direction = _ref$direction === void 0 ? 'column' : _ref$direction,
      elevation = _ref.elevation,
      fill = _ref.fill,
      gap = _ref.gap,
      _onBlur = _ref.onBlur,
      onClick = _ref.onClick,
      _onFocus = _ref.onFocus,
      overflow = _ref.overflow,
      _ref$responsive = _ref.responsive,
      responsive = _ref$responsive === void 0 ? true : _ref$responsive,
      tag = _ref.tag,
      as = _ref.as,
      wrap = _ref.wrap,
      width = _ref.width,
      height = _ref.height,
      tabIndex = _ref.tabIndex,
      rest = _objectWithoutPropertiesLoose(_ref, ["a11yTitle", "background", "children", "direction", "elevation", "fill", "gap", "onBlur", "onClick", "onFocus", "overflow", "responsive", "tag", "as", "wrap", "width", "height", "tabIndex"]);

  var theme = Object(react__WEBPACK_IMPORTED_MODULE_0__["useContext"])(styled_components__WEBPACK_IMPORTED_MODULE_1__["ThemeContext"]) || _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"].theme;
  var focusable = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
    return onClick && !(tabIndex < 0);
  }, [onClick, tabIndex]);

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(),
      focus = _useState[0],
      setFocus = _useState[1];

  var clickProps = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
    if (focusable) {
      return {
        onClick: onClick,
        onFocus: function onFocus(event) {
          setFocus(true);
          if (_onFocus) _onFocus(event);
        },
        onBlur: function onBlur(event) {
          setFocus(false);
          if (_onBlur) _onBlur(event);
        }
      };
    }

    var result = {};
    if (_onBlur) result.onBlur = _onBlur;
    if (onClick) result.onClick = onClick;
    if (_onFocus) result.onFocus = _onFocus;
    return result;
  }, [focusable, onClick, _onFocus, _onBlur]);
  var adjustedTabIndex = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
    if (tabIndex !== undefined) return tabIndex;
    if (focusable) return 0;
    return undefined;
  }, [focusable, tabIndex]);
  var contents = children;

  if (gap) {
    contents = [];
    var firstIndex;
    react__WEBPACK_IMPORTED_MODULE_0__["Children"].forEach(children, function (child, index) {
      if (child) {
        if (firstIndex === undefined) {
          firstIndex = index;
        } else {
          contents.push(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledBox__WEBPACK_IMPORTED_MODULE_5__["StyledBoxGap"] // eslint-disable-next-line react/no-array-index-key
          , {
            key: "gap-" + index,
            gap: gap,
            directionProp: direction,
            responsive: responsive
          }));
        }
      }

      contents.push(child);
    });
  }

  var content = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledBox__WEBPACK_IMPORTED_MODULE_5__["StyledBox"], _extends({
    as: !as && tag ? tag : as,
    "aria-label": a11yTitle,
    background: background,
    ref: ref,
    directionProp: direction,
    elevationProp: elevation,
    fillProp: fill,
    focus: focus,
    overflowProp: overflow,
    wrapProp: wrap,
    widthProp: width,
    heightProp: height,
    responsive: responsive,
    tabIndex: adjustedTabIndex
  }, clickProps, rest), contents);

  if (onClick) {
    content = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Keyboard__WEBPACK_IMPORTED_MODULE_4__["Keyboard"], {
      onEnter: onClick
    }, content);
  } // When a Box changes the darkness, it sets darkChanged so that StyledBox
  // can know what the underlying darkness is when deciding which elevation
  // to show.


  if (background || theme.darkChanged) {
    var dark = Object(_utils__WEBPACK_IMPORTED_MODULE_3__["backgroundIsDark"])(background, theme);
    var darkChanged = dark !== undefined && dark !== theme.dark;

    if (darkChanged || theme.darkChanged) {
      dark = dark === undefined ? theme.dark : dark;
      content = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(styled_components__WEBPACK_IMPORTED_MODULE_1__["ThemeContext"].Provider, {
        value: _extends({}, theme, {
          dark: dark,
          darkChanged: darkChanged
        })
      }, content);
    }
  }

  return content;
});
Box.displayName = 'Box';
var BoxDoc;

if (true) {
  BoxDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Box/doc.js").doc(Box); // eslint-disable-line global-require
}

var BoxWrapper = BoxDoc || Box;


/***/ }),

/***/ "./node_modules/grommet/es6/components/Box/StyledBox.js":
/*!**************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Box/StyledBox.js ***!
  \**************************************************************/
/*! exports provided: StyledBox, StyledBoxGap */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledBox", function() { return StyledBox; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledBoxGap", function() { return StyledBoxGap; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
var _FLEX_MAP;




var ALIGN_MAP = {
  baseline: 'baseline',
  center: 'center',
  end: 'flex-end',
  start: 'flex-start',
  stretch: 'stretch'
};
var alignStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["align-items:", ";"], function (props) {
  return ALIGN_MAP[props.align];
});
var ALIGN_CONTENT_MAP = {
  around: 'around',
  between: 'between',
  center: 'center',
  end: 'flex-end',
  start: 'flex-start',
  stretch: 'stretch'
};
var alignContentStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["align-content:", ";"], function (props) {
  return ALIGN_CONTENT_MAP[props.alignContent];
});
var BASIS_MAP = {
  auto: 'auto',
  full: '100%',
  '1/2': '50%',
  '1/4': '25%',
  '2/4': '50%',
  '3/4': '75%',
  '1/3': '33.33%',
  '2/3': '66.66%'
};
var basisStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["flex-basis:", ";"], function (props) {
  return BASIS_MAP[props.basis] || props.theme.global.size[props.basis] || props.basis;
}); // min-width and min-height needed because of this
// https://stackoverflow.com/questions/36247140/why-doesnt-flex-item-shrink-past-content-size
// we assume we are in the context of a Box going the other direction
// TODO: revisit this

var directionStyle = function directionStyle(direction, theme) {
  var styles = [Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["min-width:0;min-height:0;flex-direction:", ";"], direction === 'row-responsive' ? 'row' : direction)];

  if (direction === 'row-responsive' && theme.box.responsiveBreakpoint) {
    var breakpoint = theme.global.breakpoints[theme.box.responsiveBreakpoint];

    if (breakpoint) {
      styles.push(Object(_utils__WEBPACK_IMPORTED_MODULE_2__["breakpointStyle"])(breakpoint, "\n        flex-direction: column;\n        flex-basis: auto;\n        justify-content: flex-start;\n        align-items: stretch;\n      "));
    }
  }

  return styles;
};

var elevationStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["box-shadow:", ";"], function (props) {
  return props.theme.global.elevation[props.theme.dark && !props.theme.darkChanged || !props.theme.dark && props.theme.darkChanged ? 'dark' : 'light'][props.elevationProp];
});
var FLEX_MAP = (_FLEX_MAP = {}, _FLEX_MAP[true] = '1 1', _FLEX_MAP[false] = '0 0', _FLEX_MAP.grow = '1 0', _FLEX_MAP.shrink = '0 1', _FLEX_MAP);

var flexGrowShrinkProp = function flexGrowShrinkProp(flex) {
  if (typeof flex === 'boolean' || typeof flex === 'string') {
    return FLEX_MAP[flex];
  }

  return (flex.grow ? flex.grow : 0) + " " + (flex.shrink ? flex.shrink : 0);
};

var flexStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["flex:", ";"], function (props) {
  return "" + flexGrowShrinkProp(props.flex) + (props.flex !== true && !props.basis ? ' auto' : '');
});

var fillStyle = function fillStyle(fillProp) {
  if (fillProp === 'horizontal') {
    return 'width: 100%;';
  }

  if (fillProp === 'vertical') {
    return 'height: 100%;';
  }

  if (fillProp) {
    return "\n      width: 100%;\n      height: 100%;\n    ";
  }

  return undefined;
};

var JUSTIFY_MAP = {
  around: 'space-around',
  between: 'space-between',
  center: 'center',
  end: 'flex-end',
  evenly: 'space-evenly',
  start: 'flex-start'
};
var justifyStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["justify-content:", ";"], function (props) {
  return JUSTIFY_MAP[props.justify];
});
var WRAP_MAP = {
  "true": 'wrap',
  reverse: 'wrap-reverse'
};
var wrapStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["flex-wrap:", ";"], function (props) {
  return WRAP_MAP[props.wrapProp];
});
var ROUND_MAP = {
  full: '100%'
};

var roundStyle = function roundStyle(data, responsive, theme) {
  var breakpoint = theme.box.responsiveBreakpoint && theme.global.breakpoints[theme.box.responsiveBreakpoint];
  var styles = [];

  if (typeof data === 'object') {
    var size = ROUND_MAP[data.size] || theme.global.edgeSize[data.size || 'medium'] || data.size;
    var responsiveSize = responsive && breakpoint && breakpoint.edgeSize[data.size] && (breakpoint.edgeSize[data.size] || data.size);

    if (data.corner === 'top') {
      styles.push(Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["border-top-left-radius:", ";border-top-right-radius:", ";"], size, size));

      if (responsiveSize) {
        styles.push(Object(_utils__WEBPACK_IMPORTED_MODULE_2__["breakpointStyle"])(breakpoint, "\n          border-top-left-radius: " + responsiveSize + ";\n          border-top-right-radius: " + responsiveSize + ";\n        "));
      }
    } else if (data.corner === 'bottom') {
      styles.push(Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["border-bottom-left-radius:", ";border-bottom-right-radius:", ";"], size, size));

      if (responsiveSize) {
        styles.push(Object(_utils__WEBPACK_IMPORTED_MODULE_2__["breakpointStyle"])(breakpoint, "\n          border-bottom-left-radius: " + responsiveSize + ";\n          border-bottom-right-radius: " + responsiveSize + ";\n        "));
      }
    } else if (data.corner === 'left') {
      styles.push(Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["border-top-left-radius:", ";border-bottom-left-radius:", ";"], size, size));

      if (responsiveSize) {
        styles.push(Object(_utils__WEBPACK_IMPORTED_MODULE_2__["breakpointStyle"])(breakpoint, "\n          border-top-left-radius: " + responsiveSize + ";\n          border-bottom-left-radius: " + responsiveSize + ";\n        "));
      }
    } else if (data.corner === 'right') {
      styles.push(Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["border-top-right-radius:", ";border-bottom-right-radius:", ";"], size, size));

      if (responsiveSize) {
        styles.push(Object(_utils__WEBPACK_IMPORTED_MODULE_2__["breakpointStyle"])(breakpoint, "\n          border-top-right-radius: " + responsiveSize + ";\n          border-bottom-right-radius: " + responsiveSize + ";\n        "));
      }
    } else if (data.corner) {
      styles.push(Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["border-", "-radius:", ";"], data.corner, size));

      if (responsiveSize) {
        styles.push(Object(_utils__WEBPACK_IMPORTED_MODULE_2__["breakpointStyle"])(breakpoint, "\n          border-" + data.corner + "-radius: " + responsiveSize + ";\n        "));
      }
    } else {
      styles.push(Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["border-radius:", ";"], size));

      if (responsiveSize) {
        styles.push(Object(_utils__WEBPACK_IMPORTED_MODULE_2__["breakpointStyle"])(breakpoint, "\n          border-radius: " + responsiveSize + ";\n        "));
      }
    }
  } else {
    var _size = data === true ? 'medium' : data;

    styles.push(Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["border-radius:", ";"], ROUND_MAP[_size] || theme.global.edgeSize[_size] || _size));

    var _responsiveSize = breakpoint && breakpoint.edgeSize[_size];

    if (_responsiveSize) {
      styles.push(Object(_utils__WEBPACK_IMPORTED_MODULE_2__["breakpointStyle"])(breakpoint, "\n        border-radius: " + _responsiveSize + ";\n      "));
    }
  }

  return styles;
};

var SLIDE_SIZES = {
  xsmall: 1,
  small: 5,
  medium: 10,
  large: 50,
  xlarge: 200
};
var PULSE_SIZES = {
  xsmall: 1.001,
  small: 1.01,
  medium: 1.1,
  large: 1.5,
  xlarge: 2
};
var JIGGLE_SIZES = {
  xsmall: 0.1,
  small: 1,
  medium: 5,
  large: 400,
  xlarge: 1000
};
var ZOOM_SIZES = {
  xsmall: 0.001,
  small: 0.01,
  medium: 0.05,
  large: 0.1,
  xlarge: 0.5
};

var animationBounds = function animationBounds(type, size) {
  if (size === void 0) {
    size = 'medium';
  }

  if (type === 'fadeIn') {
    return ['opacity: 0;', 'opacity: 1;'];
  }

  if (type === 'fadeOut') {
    return ['opacity: 1;', 'opacity: 0;'];
  }

  if (type === 'jiggle') {
    var deg = JIGGLE_SIZES[size];
    return ["transform: rotate(-" + deg + "deg);", "transform: rotate(" + deg + "deg);"];
  }

  if (type === 'pulse') {
    return ['transform: scale(1);', "transform: scale(" + PULSE_SIZES[size] + ")"];
  }

  if (type === 'flipIn') {
    return ['transform: rotateY(90deg);', 'transform: rotateY(0);'];
  }

  if (type === 'flipOut') {
    return ['transform: rotateY(0);', 'transform: rotateY(90deg);'];
  }

  if (type === 'slideDown') {
    return ["transform: translateY(-" + SLIDE_SIZES[size] + "%);", 'transform: none;'];
  }

  if (type === 'slideLeft') {
    return ["transform: translateX(" + SLIDE_SIZES[size] + "%);", 'transform: none;'];
  }

  if (type === 'slideRight') {
    return ["transform: translateX(-" + SLIDE_SIZES[size] + "%);", 'transform: none;'];
  }

  if (type === 'slideUp') {
    return ["transform: translateY(" + SLIDE_SIZES[size] + "%);", 'transform: none;'];
  }

  if (type === 'zoomIn') {
    return ["transform: scale(" + (1 - ZOOM_SIZES[size]) + ");", 'transform: none;'];
  }

  if (type === 'zoomOut') {
    return ["transform: scale(" + (1 + ZOOM_SIZES[size]) + ");", 'transform: none;'];
  }

  return [];
};

var normalizeTiming = function normalizeTiming(time, defaultTiming) {
  return time ? time / 1000.0 + "s" : defaultTiming;
};

var animationEnding = function animationEnding(type) {
  if (type === 'jiggle') {
    return 'alternate infinite';
  }

  if (type === 'pulse') {
    return 'alternate infinite';
  }

  return 'forwards';
};

var animationObjectStyle = function animationObjectStyle(animation, theme) {
  var bounds = animationBounds(animation.type, animation.size);

  if (bounds) {
    var animationTransition = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["from{", ";}to{", ";}"], bounds[0], bounds[1]);
    return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["", " ", " ", " ", ""], Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["keyframes"])(["", ""], animationTransition), normalizeTiming(animation.duration, (theme.global.animation[animation.type] ? theme.global.animation[animation.type].duration : undefined) || theme.global.animation.duration), normalizeTiming(animation.delay, '0s'), animationEnding(animation.type));
  }

  return '';
};

var animationItemStyle = function animationItemStyle(item, theme) {
  if (typeof item === 'string') {
    return animationObjectStyle({
      type: item
    }, theme);
  }

  if (Array.isArray(item)) {
    return item.reduce(function (style, a, index) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["", "", " ", ""], style, index > 0 ? ',' : '', animationItemStyle(a, theme));
    }, '');
  }

  if (typeof item === 'object') {
    return animationObjectStyle(item, theme);
  }

  return '';
};

var animationAncilaries = function animationAncilaries(animation) {
  if (animation.type === 'flipIn' || animation.type === 'flipOut') {
    return 'perspective: 1000px; transform-style: preserve-3d;';
  }

  return '';
};

var animationObjectInitialStyle = function animationObjectInitialStyle(animation) {
  var bounds = animationBounds(animation.type, animation.size);

  if (bounds) {
    return bounds[0] + " " + animationAncilaries(animation);
  }

  return '';
};

var animationInitialStyle = function animationInitialStyle(item) {
  if (typeof item === 'string') {
    return animationObjectInitialStyle({
      type: item
    });
  }

  if (Array.isArray(item)) {
    return item.map(function (a) {
      return typeof a === 'string' ? animationObjectInitialStyle({
        type: a
      }) : animationObjectInitialStyle(a);
    }).join('');
  }

  if (typeof item === 'object') {
    return animationObjectInitialStyle(item);
  }

  return '';
};

var animationStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["", ";"], function (props) {
  return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["", " animation:", ";"], animationInitialStyle(props.animation), animationItemStyle(props.animation, props.theme));
});
var interactiveStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["cursor:pointer;&:hover{", "}"], function (props) {
  return props.hoverIndicator && Object(_utils__WEBPACK_IMPORTED_MODULE_2__["getHoverIndicatorStyle"])(props.hoverIndicator, props.theme);
});

var getSize = function getSize(props, size) {
  return props.theme.global.size[size] || size;
};

var heightObjectStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["", ";", ";"], function (props) {
  return props.heightProp.max && Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["max-height:", ";"], getSize(props, props.heightProp.max));
}, function (props) {
  return props.heightProp.min && Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["min-height:", ";"], getSize(props, props.heightProp.min));
});
var heightStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["height:", ";"], function (props) {
  return getSize(props, props.heightProp);
});
var widthObjectStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["", ";", ";"], function (props) {
  return props.widthProp.max && Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["max-width:", ";"], getSize(props, props.widthProp.max));
}, function (props) {
  return props.widthProp.min && Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["min-width:", ";"], getSize(props, props.widthProp.min));
});
var widthStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["width:", ";"], function (props) {
  return getSize(props, props.widthProp);
}); // NOTE: basis must be after flex! Otherwise, flex overrides basis

var StyledBox = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledBox",
  componentId: "sc-13pk1d4-0"
})(["display:flex;box-sizing:border-box;outline:none;", ";", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", ""], function (props) {
  return !props.basis && 'max-width: 100%;';
}, _utils__WEBPACK_IMPORTED_MODULE_2__["genericStyles"], function (props) {
  return props.align && alignStyle;
}, function (props) {
  return props.alignContent && alignContentStyle;
}, function (props) {
  return props.background && Object(_utils__WEBPACK_IMPORTED_MODULE_2__["backgroundStyle"])(props.background, props.theme);
}, function (props) {
  return props.border && (Array.isArray(props.border) ? props.border.map(function (border) {
    return Object(_utils__WEBPACK_IMPORTED_MODULE_2__["borderStyle"])(border, props.responsive, props.theme);
  }) : Object(_utils__WEBPACK_IMPORTED_MODULE_2__["borderStyle"])(props.border, props.responsive, props.theme));
}, function (props) {
  return props.directionProp && directionStyle(props.directionProp, props.theme);
}, function (props) {
  return props.heightProp && (typeof props.heightProp === 'object' ? heightObjectStyle : heightStyle);
}, function (props) {
  return props.widthProp && (typeof props.widthProp === 'object' ? widthObjectStyle : widthStyle);
}, function (props) {
  return props.flex !== undefined && flexStyle;
}, function (props) {
  return props.basis && basisStyle;
}, function (props) {
  return props.fillProp && fillStyle(props.fillProp);
}, function (props) {
  return props.justify && justifyStyle;
}, function (props) {
  return props.pad && Object(_utils__WEBPACK_IMPORTED_MODULE_2__["edgeStyle"])('padding', props.pad, props.responsive, props.theme.box.responsiveBreakpoint, props.theme);
}, function (props) {
  return props.round && roundStyle(props.round, props.responsive, props.theme);
}, function (props) {
  return props.wrapProp && wrapStyle;
}, function (props) {
  return props.overflowProp && Object(_utils__WEBPACK_IMPORTED_MODULE_2__["overflowStyle"])(props.overflowProp);
}, function (props) {
  return props.elevationProp && elevationStyle;
}, function (props) {
  return props.animation && animationStyle;
}, function (props) {
  return props.onClick && interactiveStyle;
}, function (props) {
  return props.onClick && props.focus && props.focusIndicator !== false && _utils__WEBPACK_IMPORTED_MODULE_2__["focusStyle"];
}, function (props) {
  return props.theme.box && props.theme.box.extend;
});

var gapStyle = function gapStyle(directionProp, gap, responsive, theme) {
  var breakpoint = theme.box.responsiveBreakpoint && theme.global.breakpoints[theme.box.responsiveBreakpoint];
  var responsiveSize = breakpoint && breakpoint.edgeSize[gap] && breakpoint.edgeSize[gap];
  var styles = [];

  if (directionProp === 'column') {
    styles.push(Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["height:", ";"], theme.global.edgeSize[gap] || gap));

    if (responsiveSize) {
      styles.push(Object(_utils__WEBPACK_IMPORTED_MODULE_2__["breakpointStyle"])(breakpoint, "height: " + responsiveSize + ";"));
    }
  } else {
    styles.push("width: " + (theme.global.edgeSize[gap] || gap) + ";");

    if (responsive && directionProp === 'row-responsive') {
      styles.push(Object(_utils__WEBPACK_IMPORTED_MODULE_2__["breakpointStyle"])(breakpoint, "\n        width: auto;\n        height: " + responsiveSize + ";\n      "));
    }
  }

  return styles;
};

StyledBox.defaultProps = {};
Object.setPrototypeOf(StyledBox.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_1__["defaultProps"]);
var StyledBoxGap = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledBox__StyledBoxGap",
  componentId: "sc-13pk1d4-1"
})(["flex:0 0 auto;", ";"], function (props) {
  return props.gap && gapStyle(props.directionProp, props.gap, props.responsive, props.theme);
});
StyledBoxGap.defaultProps = {};
Object.setPrototypeOf(StyledBoxGap.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_1__["defaultProps"]);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Box/doc.js":
/*!********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Box/doc.js ***!
  \********************************************************/
/*! exports provided: OVERFLOW_VALUES, doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OVERFLOW_VALUES", function() { return OVERFLOW_VALUES; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var PAD_SIZES = ['xxsmall', 'xsmall', 'small', 'medium', 'large', 'xlarge'];
var OVERFLOW_VALUES = ['auto', 'hidden', 'scroll', 'visible'];
var ANIMATION_TYPE = react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['fadeIn', 'fadeOut', 'jiggle', 'pulse', 'slideUp', 'slideDown', 'slideLeft', 'slideRight', 'zoomIn', 'zoomOut']);
var ANIMATION_SHAPE = react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
  type: ANIMATION_TYPE,
  delay: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number,
  duration: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number,
  size: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['xsmall', 'small', 'medium', 'large', 'xlarge'])
});
var BORDER_SHAPE = react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
  color: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
    dark: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
    light: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string
  })]),
  side: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['top', 'left', 'bottom', 'right', 'horizontal', 'vertical', 'all']),
  size: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['xsmall', 'small', 'medium', 'large', 'xlarge']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
  style: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['solid', 'dashed', 'dotted', 'double', 'groove', 'ridge', 'inset', 'outset', 'hidden']).defaultValue('solid')
}); // if you update values here, make sure to update in Drop/doc too.

var overflowPropType = react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(OVERFLOW_VALUES), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
  horizontal: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(OVERFLOW_VALUES),
  vertical: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(OVERFLOW_VALUES)
}), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]);
var doc = function doc(Box) {
  var DocumentedBox = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Box).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('Box')).description("A container that lays out its contents in one direction. Box\n      provides CSS flexbox capabilities for layout, as well as general\n      styling of things like background color, border, and animation.").usage("import { Box } from 'grommet';\n<Box />").intrinsicElement('div');
  DocumentedBox.propTypes = _extends({}, _utils__WEBPACK_IMPORTED_MODULE_1__["genericProps"], {
    align: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['start', 'center', 'end', 'baseline', 'stretch']).description('How to align the contents along the cross axis.'),
    alignContent: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['start', 'center', 'end', 'between', 'around', 'stretch']).description("How to align the contents when there is extra space in\n        the cross axis.").defaultValue('stretch'),
    animation: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([ANIMATION_TYPE, ANIMATION_SHAPE, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([ANIMATION_TYPE, ANIMATION_SHAPE]))]).description("Animation effect(s) to use. 'duration' and 'delay' should\n        be in milliseconds. 'jiggle' and 'pulse' types are intended for\n        small elements, like icons."),
    background: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      color: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
      dark: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
      image: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
      position: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
      opacity: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['weak', 'medium', 'strong'])]),
      repeat: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['no-repeat', 'repeat']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
      size: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['cover', 'contain']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
      light: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string
    })]).description("Either a color identifier to use for the background\n        color. For example: 'neutral-1'. Or, a 'url()' for an image. Dark\n        is not needed if color is provided."),
    basis: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['xxsmall', 'xsmall', 'small', 'medium', 'large', 'xlarge', 'xxlarge', 'full', '1/2', '1/3', '2/3', '1/4', '2/4', '3/4', 'auto']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description("A fixed or relative size along its container's main axis."),
    border: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['top', 'left', 'bottom', 'right', 'horizontal', 'vertical', 'all']), BORDER_SHAPE, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(BORDER_SHAPE)]).description('Include a border.'),
    direction: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['row', 'column', 'row-responsive', 'row-reverse', 'column-reverse']).description('The orientation to layout the child components in.').defaultValue('column'),
    elevation: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['none', 'xsmall', 'small', 'medium', 'large', 'xlarge']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description("Elevated height above the underlying context, indicated\n        via a drop shadow.").defaultValue('none'),
    flex: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['grow', 'shrink']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      grow: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number,
      shrink: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number
    })]).description('Whether flex-grow and/or flex-shrink is true and at a desired factor.'),
    fill: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['horizontal', 'vertical']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool]).description('Whether the width and/or height should fill the container.'),
    focusIndicator: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("When interactive via 'onClick', whether it should receive a focus\n        outline.").defaultValue(true),
    gap: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['none', 'xxsmall', 'xsmall', 'small', 'medium', 'large', 'xlarge']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description("The amount of spacing between child elements. This\n        should not be used in conjunction with 'wrap' as the gap elements\n        will not wrap gracefully."),
    height: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['xxsmall', 'xsmall', 'small', 'medium', 'large', 'xlarge', 'xxlarge']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      min: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['xxsmall', 'xsmall', 'small', 'medium', 'large', 'xlarge', 'xxlarge']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
      max: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['xxsmall', 'xsmall', 'small', 'medium', 'large', 'xlarge', 'xxlarge']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string])
    })]).description('A fixed height.'),
    hoverIndicator: _utils__WEBPACK_IMPORTED_MODULE_1__["hoverIndicatorPropType"].description("When 'onClick' has been specified, the hover indicator to apply\n        when the user is mousing over the box.").defaultValue(false),
    justify: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['around', 'between', 'center', 'end', 'evenly', 'start', 'stretch']).description('How to align the contents along the main axis.').defaultValue('stretch'),
    onClick: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Click handler. Setting this property adds additional attributes to\n      the DOM for accessibility."),
    overflow: overflowPropType.description('box overflow.'),
    pad: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['none'].concat(PAD_SIZES)), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      bottom: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(PAD_SIZES), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
      horizontal: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(PAD_SIZES), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
      left: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(PAD_SIZES), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
      right: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(PAD_SIZES), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
      top: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(PAD_SIZES), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
      vertical: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(PAD_SIZES), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string])
    }), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description("The amount of padding around the box contents. An\n        object can be specified to distinguish horizontal padding, vertical\n        padding, and padding on a particular side of the box").defaultValue('none'),
    responsive: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Whether margin, pad, and border\n      sizes should be scaled for mobile environments.").defaultValue(true),
    round: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['xsmall', 'small', 'medium', 'large', 'xlarge', 'full']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      corner: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['top', 'left', 'bottom', 'right', 'top-left', 'top-right', 'bottom-left', 'bottom-right']),
      size: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['xsmall', 'small', 'medium', 'large', 'xlarge']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string])
    })]).description('How much to round the corners.').defaultValue(false),
    tag: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func]).description("The DOM tag to use for the element. NOTE: This is deprecated in favor\nof indicating the DOM tag via the 'as' property."),
    as: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func]).description('The DOM tag or react component to use for the element.').defaultValue('div'),
    width: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['xxsmall', 'xsmall', 'small', 'medium', 'large', 'xlarge', 'xxlarge']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      min: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['xxsmall', 'xsmall', 'small', 'medium', 'large', 'xlarge', 'xxlarge']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
      max: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['xxsmall', 'xsmall', 'small', 'medium', 'large', 'xlarge', 'xxlarge']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string])
    })]).description('A fixed width.'),
    wrap: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['reverse'])]).description("Whether children can wrap if they can't all fit.").defaultValue(false)
  });
  return DocumentedBox;
};
var themeDoc = _extends({
  'global.animation': {
    description: 'The animation configuration for the Box.',
    type: 'object',
    defaultValue: "{\n  duration: '1s',\n  jiggle: {\n    duration: '0.1s',\n  },\n}"
  },
  'global.borderSize': {
    description: 'The possible border sizes in the Box.',
    type: 'object',
    defaultValue: "{\n  xsmall: '1px',\n  small: '2px',\n  medium: '4px',\n  large: '12px',\n  xlarge: '24px,\n}"
  },
  'global.elevation': {
    description: 'The possible shadows in Box elevation.',
    type: 'object',
    defaultValue: "{\n  light: {\n    none: 'none',\n    xsmall: '0px 1px 2px rgba(100, 100, 100, 0.50)',\n    small: '0px 2px 4px rgba(100, 100, 100, 0.50)',\n    medium: '0px 3px 8px rgba(100, 100, 100, 0.50)',\n    large: '0px 6px 12px rgba(100, 100, 100, 0.50)',\n    xlarge: '0px 8px 16px rgba(100, 100, 100, 0.50)',\n  },\n  dark: {\n    none: 'none',\n    xsmall: '0px 2px 2px rgba(255, 255, 255, 0.40)',\n    small: '0px 4px 4px rgba(255, 255, 255, 0.40)',\n    medium: '0px 6px 8px rgba(255, 255, 255, 0.40)',\n    large: '0px 8px 16px rgba(255, 255, 255, 0.40)',\n    xlarge: '0px 10px 24px rgba(255, 255, 255, 0.40)',\n  },\n}"
  },
  'global.colors.border': {
    description: 'The color of the border',
    type: 'string | { dark: string, light: string }',
    defaultValue: '{ dark: rgba(255, 255, 255, 0.33), light: rgba(0, 0, 0, 0.33), }'
  },
  'global.hover.background.color': {
    description: 'The color of the default background when hovering',
    type: 'string | { dark: string, light: string }',
    defaultValue: 'active'
  },
  'global.hover.background.opacity': {
    description: 'The opacity of the default background when hovering',
    type: 'string | { dark: string, light: string }',
    defaultValue: 'medium'
  },
  'global.hover.color': {
    description: 'The color of the default background when hovering',
    type: 'string | { dark: string, light: string }',
    defaultValue: '{ dark: "white", light: "black" }'
  },
  'global.opacity.medium': {
    description: 'The value used when background opacity is set to true.',
    type: 'number',
    defaultValue: '0.4'
  },
  'global.size': {
    description: 'The possible sizes for width, height, and basis.',
    type: 'object',
    defaultValue: "{\n  xxsmall: '48px',\n  xsmall: '96px',\n  small: '192px',\n  medium: '384px',\n  large: '768px',\n  xlarge: '1152px',\n  xxlarge: '1536px',\n  full: '100%',\n}"
  },
  'box.extend': {
    description: 'Any additional style for the Box.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'box.responsiveBreakpoint': {
    description: "The actual breakpoint to trigger changes in the border, \n    direction, gap, margin, pad, and round.",
    type: 'string',
    defaultValue: 'small'
  }
}, _utils__WEBPACK_IMPORTED_MODULE_1__["themeDocUtils"].edgeStyle('The possible sizes for any of gap, margin, and pad.'), {}, _utils__WEBPACK_IMPORTED_MODULE_1__["themeDocUtils"].breakpointStyle("The possible breakpoints that could affect border, direction, gap, margin, \n    pad, and round."));

/***/ }),

/***/ "./node_modules/grommet/es6/components/Box/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Box/index.js ***!
  \**********************************************************/
/*! exports provided: Box */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Box */ "./node_modules/grommet/es6/components/Box/Box.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Box", function() { return _Box__WEBPACK_IMPORTED_MODULE_0__["Box"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Button/Button.js":
/*!**************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Button/Button.js ***!
  \**************************************************************/
/*! exports provided: Button */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Button", function() { return ButtonWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
/* harmony import */ var _StyledButton__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./StyledButton */ "./node_modules/grommet/es6/components/Button/StyledButton.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }







var Button = Object(react__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function (_ref, ref) {
  var a11yTitle = _ref.a11yTitle,
      color = _ref.color,
      children = _ref.children,
      disabled = _ref.disabled,
      icon = _ref.icon,
      _ref$focusIndicator = _ref.focusIndicator,
      focusIndicator = _ref$focusIndicator === void 0 ? true : _ref$focusIndicator,
      _ref$gap = _ref.gap,
      gap = _ref$gap === void 0 ? 'small' : _ref$gap,
      fill = _ref.fill,
      href = _ref.href,
      label = _ref.label,
      _onBlur = _ref.onBlur,
      onClick = _ref.onClick,
      _onFocus = _ref.onFocus,
      onMouseOut = _ref.onMouseOut,
      onMouseOver = _ref.onMouseOver,
      plain = _ref.plain,
      primary = _ref.primary,
      reverse = _ref.reverse,
      _ref$type = _ref.type,
      type = _ref$type === void 0 ? 'button' : _ref$type,
      as = _ref.as,
      rest = _objectWithoutPropertiesLoose(_ref, ["a11yTitle", "color", "children", "disabled", "icon", "focusIndicator", "gap", "fill", "href", "label", "onBlur", "onClick", "onFocus", "onMouseOut", "onMouseOver", "plain", "primary", "reverse", "type", "as"]);

  var theme = Object(react__WEBPACK_IMPORTED_MODULE_0__["useContext"])(styled_components__WEBPACK_IMPORTED_MODULE_1__["ThemeContext"]) || _default_props__WEBPACK_IMPORTED_MODULE_3__["defaultProps"].theme;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(),
      focus = _useState[0],
      setFocus = _useState[1];

  if ((icon || label) && children) {
    console.warn('Button should not have children if icon or label is provided');
  }

  var isDarkBackground = function isDarkBackground() {
    var backgroundColor = Object(_utils__WEBPACK_IMPORTED_MODULE_2__["normalizeBackground"])(Object(_utils__WEBPACK_IMPORTED_MODULE_2__["normalizeColor"])(color || theme.button.primary.color || theme.global.colors.control || 'brand', theme), theme);
    return Object(_utils__WEBPACK_IMPORTED_MODULE_2__["colorIsDark"])(backgroundColor, theme);
  };

  var _useState2 = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(false),
      hover = _useState2[0],
      setHover = _useState2[1];

  var onMouseOverButton = function onMouseOverButton(event) {
    setHover(true);

    if (onMouseOver) {
      onMouseOver(event);
    }
  };

  var onMouseOutButton = function onMouseOutButton(event) {
    setHover(false);

    if (onMouseOut) {
      onMouseOut(event);
    }
  };

  var buttonIcon = icon; // only change color if user did not specify the color themselves...

  if (primary && icon && !icon.props.color) {
    buttonIcon = Object(react__WEBPACK_IMPORTED_MODULE_0__["cloneElement"])(icon, {
      color: theme.global.colors.text[isDarkBackground() ? 'dark' : 'light']
    });
  }

  var domTag = !as && href ? 'a' : as;
  var first = reverse ? label : buttonIcon;
  var second = reverse ? buttonIcon : label;
  var contents;

  if (first && second) {
    contents = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"], {
      direction: "row",
      align: "center",
      justify: "center",
      gap: gap
    }, first, second);
  } else if (typeof children === 'function') {
    contents = children({
      hover: hover,
      focus: focus
    });
  } else {
    contents = first || second || children;
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledButton__WEBPACK_IMPORTED_MODULE_5__["StyledButton"], _extends({}, rest, {
    as: domTag,
    ref: ref,
    "aria-label": a11yTitle,
    colorValue: color,
    disabled: disabled,
    hasIcon: !!icon,
    gap: gap,
    hasLabel: !!label,
    fillContainer: fill,
    focus: focus,
    focusIndicator: focusIndicator,
    href: href,
    onClick: onClick,
    onFocus: function onFocus(event) {
      setFocus(true);
      if (_onFocus) _onFocus(event);
    },
    onBlur: function onBlur(event) {
      setFocus(false);
      if (_onBlur) _onBlur(event);
    },
    onMouseOver: onMouseOverButton,
    onMouseOut: onMouseOutButton,
    pad: !plain,
    plain: typeof plain !== 'undefined' ? plain : react__WEBPACK_IMPORTED_MODULE_0__["Children"].count(children) > 0 || icon && !label,
    primary: primary,
    type: !href ? type : undefined
  }), contents);
});
Button.displayName = 'Button';
var ButtonDoc;

if (true) {
  // eslint-disable-next-line global-require
  ButtonDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Button/doc.js").doc(Button);
}

var ButtonWrapper = ButtonDoc || Button;


/***/ }),

/***/ "./node_modules/grommet/es6/components/Button/StyledButton.js":
/*!********************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Button/StyledButton.js ***!
  \********************************************************************/
/*! exports provided: StyledButton */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledButton", function() { return StyledButton; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");




var basicStyle = function basicStyle(props) {
  return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["border:", " solid ", ";border-radius:", ";color:", ";padding:", " ", ";font-size:", ";line-height:", ";"], props.theme.button.border.width, Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.colorValue || props.theme.button.border.color || 'control', props.theme), props.theme.button.border.radius, Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.button.color || 'text', props.theme), props.theme.button.padding.vertical, props.theme.button.padding.horizontal, props.theme.text.medium.size, props.theme.text.medium.height);
};

var primaryStyle = function primaryStyle(props) {
  return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["", " border-radius:", ";"], Object(_utils__WEBPACK_IMPORTED_MODULE_1__["backgroundStyle"])(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.colorValue || props.theme.button.primary.color || 'control', props.theme), props.theme, props.theme.button.color), props.theme.button.border.radius);
};

function getHoverColor(props) {
  if (props.colorValue) {
    return Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.colorValue, props.theme);
  }

  return Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.button.border.color || 'control', props.theme);
}

var hoverStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["&:hover{", " ", ";}"], function (props) {
  return props.hoverIndicator && Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getHoverIndicatorStyle"])(props.hoverIndicator, props.theme);
}, function (props) {
  return !props.plain && Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["box-shadow:0px 0px 0px 2px ", ";"], getHoverColor(props));
});

var fillStyle = function fillStyle(fillContainer) {
  if (fillContainer === 'horizontal') {
    return 'width: 100%;';
  }

  if (fillContainer === 'vertical') {
    return 'height: 100%;';
  }

  if (fillContainer) {
    return "\n      width: 100%;\n      height: 100%;\n      max-width: none;\n      flex: 1 0 auto;\n    ";
  }

  return undefined;
};

var plainStyle = function plainStyle(props) {
  return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["color:", ";border:none;padding:0;text-align:inherit;"], Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.colorValue || 'inherit', props.theme));
}; // Deprecate props.theme.button.disabled.opacity in V3


var StyledButton = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].button.withConfig({
  displayName: "StyledButton",
  componentId: "sc-323bzc-0"
})(["display:inline-block;box-sizing:border-box;cursor:pointer;outline:none;font:inherit;text-decoration:none;margin:0;background:transparent;overflow:visible;text-transform:none;", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", ""], _utils__WEBPACK_IMPORTED_MODULE_1__["genericStyles"], function (props) {
  return props.plain && plainStyle(props);
}, function (props) {
  return !props.plain && basicStyle(props);
}, function (props) {
  return props.primary && primaryStyle(props);
}, function (props) {
  return !props.disabled && !props.focus && hoverStyle;
}, function (props) {
  return !props.disabled && props.active && _utils__WEBPACK_IMPORTED_MODULE_1__["activeStyle"];
}, function (props) {
  return props.disabled && Object(_utils__WEBPACK_IMPORTED_MODULE_1__["disabledStyle"])(props.theme.button.disabled && props.theme.button.disabled.opacity);
}, function (props) {
  return props.focus && (!props.plain || props.focusIndicator) && _utils__WEBPACK_IMPORTED_MODULE_1__["focusStyle"];
}, function (props) {
  return !props.plain && "\n    transition-property: color,\n      background-color,\n      border-color,\n      box-shadow;\n    transition-duration: 0.1s;\n    transition-timing-function: ease-in-out;\n  ";
}, function (props) {
  return props.fillContainer && fillStyle(props.fillContainer);
}, function (props) {
  return props.hasIcon && !props.hasLabel && "\n    line-height: 0;\n  ";
}, function (props) {
  return props.pad && props.hasIcon && !props.hasLabel && "\npadding: " + props.theme.global.edgeSize.small + ";\n";
}, function (props) {
  return props.theme.button.extend;
});
StyledButton.defaultProps = {};
Object.setPrototypeOf(StyledButton.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Button/doc.js":
/*!***********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Button/doc.js ***!
  \***********************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var doc = function doc(Button) {
  var DocumentedButton = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Button).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('Button')).description('A button.').details("You can provide a single function child that will be called with\n      'hover' and 'focus' keys. This allows you to customize the rendering\n      of the Button in those cases.").usage("import { Button } from 'grommet';\n<Button primary label='Label' />").intrinsicElement('button');
  DocumentedButton.propTypes = _extends({}, _utils__WEBPACK_IMPORTED_MODULE_1__["genericProps"], {
    active: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Whether the button is active.').defaultValue(false),
    color: _utils__WEBPACK_IMPORTED_MODULE_1__["colorPropType"].description('Fill color for primary, label color for plain, border color otherwise.'),
    disabled: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Whether the button is disabled.').defaultValue(false),
    fill: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['horizontal', 'vertical']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool]).description("Whether the button expands to fill all of the available width and/or \n        height.").defaultValue(false),
    focusIndicator: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Whether when 'plain' it should receive a focus outline.").defaultValue(true),
    hoverIndicator: _utils__WEBPACK_IMPORTED_MODULE_1__["hoverIndicatorPropType"].description("The hover indicator to apply when the user is mousing over the\nbutton. An object can be also be specified for color index support:\n{background: 'neutral-2'}. This prop is meant to be used only\nwith plain Buttons.").defaultValue(false),
    href: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description('If specified, the button will behave like an anchor tag.'),
    target: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['_self', '_blank', '_parent', '_top']).description("Specifies where to display the URL defined in the href property."),
    icon: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].element.description('Icon element to place in the button.'),
    gap: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['none', 'xxsmall', 'xsmall', 'small', 'medium', 'large', 'xlarge']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description("The amount of spacing between icon and label in the button.").defaultValue('small'),
    label: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].node.description('Label text to place in the button.'),
    onClick: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Click handler. Not setting this property and not specifying a href\ncauses the Button to be disabled."),
    plain: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Whether this is a plain button with no border or pad.\nNon plain button will show both pad and border.\nThe plain button has no border and unless the icon prop exist it has no pad as \nwell.").defaultValue(false),
    primary: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Whether this is a primary button. There should be at most one per page\n         or screen.").defaultValue(false),
    reverse: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Whether an icon and label should be reversed so that the icon is at the\nend of the anchor.").defaultValue(false),
    type: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['button', 'reset', 'submit']).description("The type of button. Set the type to submit for the default button on \n        forms.").defaultValue('button'),
    as: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func]).description("The DOM tag or react component to use for the element.")
  });
  return DocumentedButton;
};
var themeDoc = _extends({
  'global.active.background.color': {
    description: 'The background color when using active prop.',
    type: 'string | { dark: string, light: string }',
    defaultValue: 'active'
  },
  'global.active.background.opacity': {
    description: 'The value used for active button background opacity.',
    type: 'number | string',
    defaultValue: 'medium'
  },
  'global.active.color': {
    description: 'The text color when using active prop.',
    type: 'string | { dark: string, light: string }',
    defaultValue: "{ dark: 'white', light: 'black' }"
  },
  'global.hover.background': {
    description: 'The background style when hovering.',
    type: 'string | { color: string, opacity: string }',
    defaultValue: "{ color: 'active', opacity: 'medium' }"
  },
  'global.hover.color': {
    description: 'The text color when hovering.',
    type: 'string | { dark: string, light: string }',
    defaultValue: "{ dark: 'white', light: 'black' }"
  },
  'global.edgeSize.small': {
    description: 'The padding around an icon-only button.',
    type: 'string | { dark: string, light: string }',
    defaultValue: '12px'
  },
  'global.colors.control': {
    description: 'The color of the border.',
    type: 'string | { dark: string, light: string }',
    defaultValue: "{ dark: 'accent-1', light: 'brand', }"
  },
  'global.colors.brand': {
    description: 'The light version of the border.',
    type: 'string',
    defaultValue: '#7D4CDB'
  },
  'global.colors.text': {
    description: 'The color of the text label.',
    type: 'string | { dark: string, light: string }',
    defaultValue: "{ dark: '#f8f8f8', light: '#444444' }"
  },
  'text.medium.size': {
    description: 'The font size of the text label.',
    type: 'string',
    defaultValue: '18px'
  },
  'text.medium.height': {
    description: 'The line height of the text label.',
    type: 'string',
    defaultValue: '24px'
  },
  'button.border.color': {
    description: "The color of the border.",
    type: 'string | { dark: string, light: string }'
  },
  'button.border.radius': {
    description: 'The corner radius.',
    type: 'string',
    defaultValue: '18px'
  },
  'button.border.width': {
    description: 'The border width.',
    type: 'string',
    defaultValue: '2px'
  },
  'button.color': {
    description: "The color of the text label.",
    type: 'string | { dark: string, light: string }'
  },
  'button.primary.color': {
    description: "The color of the background for primary buttons.",
    type: 'string | { dark: string, light: string }'
  },
  'button.disabled.opacity': {
    description: 'The opacity when the button is disabled.',
    type: 'number',
    defaultValue: 0.3
  },
  'button.padding.horizontal': {
    description: 'The horizontal padding.',
    type: 'string',
    defaultValue: '22px'
  },
  'button.padding.vertical': {
    description: 'The vertical padding.',
    type: 'string',
    defaultValue: '4px'
  },
  'button.extend': {
    description: 'Any additional style for the Button.',
    type: 'string | (props) => {}'
  }
}, _utils__WEBPACK_IMPORTED_MODULE_1__["themeDocUtils"].focusStyle, {}, _utils__WEBPACK_IMPORTED_MODULE_1__["themeDocUtils"].disabledStyle);

/***/ }),

/***/ "./node_modules/grommet/es6/components/Button/index.js":
/*!*************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Button/index.js ***!
  \*************************************************************/
/*! exports provided: Button */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Button */ "./node_modules/grommet/es6/components/Button/Button.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Button", function() { return _Button__WEBPACK_IMPORTED_MODULE_0__["Button"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Calendar/Calendar.js":
/*!******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Calendar/Calendar.js ***!
  \******************************************************************/
/*! exports provided: Calendar */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Calendar", function() { return CalendarWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Button */ "./node_modules/grommet/es6/components/Button/index.js");
/* harmony import */ var _Heading__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Heading */ "./node_modules/grommet/es6/components/Heading/index.js");
/* harmony import */ var _Keyboard__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Keyboard */ "./node_modules/grommet/es6/components/Keyboard/index.js");
/* harmony import */ var _StyledCalendar__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./StyledCalendar */ "./node_modules/grommet/es6/components/Calendar/StyledCalendar.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./utils */ "./node_modules/grommet/es6/components/Calendar/utils.js");
function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }











var headingPadMap = {
  small: 'xsmall',
  medium: 'small',
  large: 'medium'
};

var buildStartEnd = function buildStartEnd(reference, firstDayOfWeek) {
  var start = new Date(reference);
  start.setDate(1); // first of month
  // In case Sunday is the first day of the month, and the user asked for Monday
  // to be the first day of the week, then we need to include Sunday and six
  // days prior.

  start = start.getDay() === 0 && firstDayOfWeek === 1 ? start = Object(_utils__WEBPACK_IMPORTED_MODULE_9__["subtractDays"])(start, 6) : // beginning of week
  start = Object(_utils__WEBPACK_IMPORTED_MODULE_9__["subtractDays"])(start, start.getDay() - firstDayOfWeek);
  var end = Object(_utils__WEBPACK_IMPORTED_MODULE_9__["addDays"])(start, 7 * 5 + 7); // 5 weeks to end of week

  return {
    start: start,
    end: end
  };
};

var buildState = function buildState(props) {
  var date = props.date,
      dates = props.dates,
      firstDayOfWeek = props.firstDayOfWeek,
      reference = props.reference;
  var normalizedReference;

  if (reference) {
    normalizedReference = new Date(reference);
  } else if (date) {
    normalizedReference = new Date(date);
  } else if (dates && dates.length > 0) {
    if (typeof dates[0] === 'string') {
      normalizedReference = new Date(dates[0]);
    } else if (Array.isArray(dates[0])) {
      normalizedReference = new Date(dates[0][0]);
    } else {
      normalizedReference = new Date();
    }
  } else {
    normalizedReference = new Date();
  }

  return _extends({}, buildStartEnd(normalizedReference, firstDayOfWeek), {
    reference: normalizedReference
  });
};

var Calendar =
/*#__PURE__*/
function (_Component) {
  _inheritsLoose(Calendar, _Component);

  function Calendar() {
    var _this;

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _Component.call.apply(_Component, [this].concat(args)) || this;

    _defineProperty(_assertThisInitialized(_this), "state", {});

    _defineProperty(_assertThisInitialized(_this), "dayRefs", {});

    _defineProperty(_assertThisInitialized(_this), "clearSlideStateLater", function () {
      clearTimeout(_this.timer);
      _this.timer = setTimeout(function () {
        var targetStartEnd = _this.state.targetStartEnd;

        if (targetStartEnd) {
          _this.setState({
            start: targetStartEnd.start,
            end: targetStartEnd.end,
            targetStartEnd: undefined,
            slide: undefined
          });
        } // Wait for animation to finish before cleaning up.
        // Empirically determined.

      }, 800);
    });

    _defineProperty(_assertThisInitialized(_this), "setReference", function (reference) {
      var _this$props = _this.props,
          animate = _this$props.animate,
          bounds = _this$props.bounds,
          firstDayOfWeek = _this$props.firstDayOfWeek,
          onReference = _this$props.onReference;
      var _this$state = _this.state,
          start = _this$state.start,
          end = _this$state.end,
          targetStartEnd = _this$state.targetStartEnd;

      if (Object(_utils__WEBPACK_IMPORTED_MODULE_9__["betweenDates"])(reference, bounds)) {
        var nextStartEnd = buildStartEnd(reference, firstDayOfWeek);
        var nextState = {
          reference: reference
        }; // if we're changing too fast, bypass animation

        if (!animate || targetStartEnd) {
          nextState.targetStartEnd = nextStartEnd;
          nextState.start = nextStartEnd.start;
          nextState.end = nextStartEnd.end;
          nextState.targetStartEnd = undefined;
          nextState.slide = undefined;
        } else {
          nextState.targetStartEnd = nextStartEnd;

          if (nextStartEnd.start.getTime() < start.getTime()) {
            nextState.start = nextStartEnd.start;
            nextState.slide = {
              direction: 'down',
              weeks: Object(_utils__WEBPACK_IMPORTED_MODULE_9__["daysApart"])(start, nextStartEnd.start) / 7
            };
          } else if (nextStartEnd.end.getTime() > end.getTime()) {
            nextState.end = nextStartEnd.end;
            nextState.slide = {
              direction: 'up',
              weeks: Object(_utils__WEBPACK_IMPORTED_MODULE_9__["daysApart"])(nextStartEnd.end, end) / 7
            };
          }
        }

        _this.clearSlideStateLater();

        _this.setState(nextState, function () {
          if (onReference) {
            onReference(reference.toISOString());
          }
        });
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onFocus", function (day) {
      return function () {
        var bounds = _this.props.bounds;
        var reference = _this.state.reference;

        if (Object(_utils__WEBPACK_IMPORTED_MODULE_9__["betweenDates"])(day, bounds)) {
          _this.setState({
            focused: day
          }, function () {
            if (day.getMonth() !== reference.getMonth()) {
              _this.setReference(day);
            }
          });
        }
      };
    });

    _defineProperty(_assertThisInitialized(_this), "onClickDay", function (dateString) {
      return function () {
        var _this$props2 = _this.props,
            onSelect = _this$props2.onSelect,
            range = _this$props2.range;

        if (range) {
          var nextState = Object(_utils__WEBPACK_IMPORTED_MODULE_9__["updateDateRange"])(dateString, _this.state);

          _this.setState(nextState);

          if (onSelect) {
            onSelect(nextState.dates || nextState.date || undefined);
          }
        } else if (onSelect) {
          onSelect(dateString);
        }
      };
    });

    _defineProperty(_assertThisInitialized(_this), "setFocus", function (day) {
      var ref = _this.dayRefs[day.toISOString()];

      if (ref && ref.current) {
        ref.current.focus();
      }
    });

    _defineProperty(_assertThisInitialized(_this), "renderCalendarHeader", function (previousMonth, nextMonth) {
      var _this$props3 = _this.props,
          bounds = _this$props3.bounds,
          locale = _this$props3.locale,
          size = _this$props3.size,
          theme = _this$props3.theme;
      var reference = _this.state.reference;
      var PreviousIcon = size === 'small' ? theme.calendar.icons.small.previous : theme.calendar.icons.previous;
      var NextIcon = size === 'small' ? theme.calendar.icons.small.next : theme.calendar.icons.next;
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"], {
        direction: "row",
        justify: "between",
        align: "center"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"], {
        flex: true,
        pad: {
          horizontal: headingPadMap[size] || 'small'
        }
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Heading__WEBPACK_IMPORTED_MODULE_6__["Heading"], {
        level: size === 'small' ? theme.calendar.heading && theme.calendar.heading.level || 4 : (theme.calendar.heading && theme.calendar.heading.level || 4) - 1,
        size: size,
        margin: "none"
      }, reference.toLocaleDateString(locale, {
        month: 'long',
        year: 'numeric'
      }))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"], {
        flex: false,
        direction: "row",
        align: "center"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_5__["Button"], {
        a11yTitle: previousMonth.toLocaleDateString(locale, {
          month: 'long',
          year: 'numeric'
        }),
        icon: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PreviousIcon, {
          size: size !== 'small' ? size : undefined
        }),
        disabled: !Object(_utils__WEBPACK_IMPORTED_MODULE_9__["betweenDates"])(previousMonth, bounds),
        onClick: function onClick() {
          return _this.setReference(previousMonth);
        }
      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_5__["Button"], {
        a11yTitle: nextMonth.toLocaleDateString(locale, {
          month: 'long',
          year: 'numeric'
        }),
        icon: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(NextIcon, {
          size: size !== 'small' ? size : undefined
        }),
        disabled: !Object(_utils__WEBPACK_IMPORTED_MODULE_9__["betweenDates"])(nextMonth, bounds),
        onClick: function onClick() {
          return _this.setReference(nextMonth);
        }
      })));
    });

    _defineProperty(_assertThisInitialized(_this), "renderDaysOfWeek", function (locale, size, start) {
      var day = new Date(start);
      var days = [];

      while (days.length < 7) {
        days.push(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledCalendar__WEBPACK_IMPORTED_MODULE_8__["StyledDayContainer"], {
          key: days.length,
          sizeProp: size
        }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledCalendar__WEBPACK_IMPORTED_MODULE_8__["StyledDay"], {
          otherMonth: true,
          sizeProp: size
        }, day.toLocaleDateString(locale, {
          weekday: 'narrow'
        }))));
        day = Object(_utils__WEBPACK_IMPORTED_MODULE_9__["addDays"])(day, 1);
      }

      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledCalendar__WEBPACK_IMPORTED_MODULE_8__["StyledWeek"], null, days);
    });

    return _this;
  }

  Calendar.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {
    var reference = nextProps.reference;
    var prevReference = prevState.reference;

    if (Object.prototype.hasOwnProperty.call(nextProps, 'date') || Object.prototype.hasOwnProperty.call(nextProps, 'dates') || !prevReference || reference) {
      var state = {};

      if (Object.prototype.hasOwnProperty.call(nextProps, 'date') || Object.prototype.hasOwnProperty.call(nextProps, 'dates')) {
        state.date = nextProps.date;
        state.dates = nextProps.dates;
      }

      if (!prevReference || reference) {
        state = _extends({}, state, {}, buildState(nextProps));
      }

      return state;
    }

    return null;
  };

  var _proto = Calendar.prototype;

  _proto.componentDidUpdate = function componentDidUpdate() {
    var focused = this.state.focused;

    if (focused) {
      var ref = this.dayRefs[focused.toISOString()];

      if (ref && ref.current && ref.current !== document.activeElement) {
        ref.current.focus();
      }
    }
  };

  _proto.componentWillUnmount = function componentWillUnmount() {
    clearTimeout(this.timer);
  };

  _proto.render = function render() {
    var _this2 = this;

    var _this$props4 = this.props,
        bounds = _this$props4.bounds,
        dateProp = _this$props4.date,
        datesProp = _this$props4.dates,
        disabled = _this$props4.disabled,
        daysOfWeek = _this$props4.daysOfWeek,
        firstDayOfWeek = _this$props4.firstDayOfWeek,
        header = _this$props4.header,
        locale = _this$props4.locale,
        onReference = _this$props4.onReference,
        onSelect = _this$props4.onSelect,
        range = _this$props4.range,
        showAdjacentDays = _this$props4.showAdjacentDays,
        size = _this$props4.size,
        theme = _this$props4.theme,
        rest = _objectWithoutPropertiesLoose(_this$props4, ["bounds", "date", "dates", "disabled", "daysOfWeek", "firstDayOfWeek", "header", "locale", "onReference", "onSelect", "range", "showAdjacentDays", "size", "theme"]);

    var _this$state2 = this.state,
        date = _this$state2.date,
        dates = _this$state2.dates,
        focused = _this$state2.focused,
        start = _this$state2.start,
        reference = _this$state2.reference,
        end = _this$state2.end,
        slide = _this$state2.slide; // We have to deal with reference being the end of a month with more
    // days than the month we are changing to. So, we always set reference
    // to the first of the month before changing the month.

    var previousMonth = Object(_utils__WEBPACK_IMPORTED_MODULE_9__["endOfMonth"])(Object(_utils__WEBPACK_IMPORTED_MODULE_9__["subtractMonths"])(Object(_utils__WEBPACK_IMPORTED_MODULE_9__["startOfMonth"])(reference), 1));
    var nextMonth = Object(_utils__WEBPACK_IMPORTED_MODULE_9__["startOfMonth"])(Object(_utils__WEBPACK_IMPORTED_MODULE_9__["addMonths"])(Object(_utils__WEBPACK_IMPORTED_MODULE_9__["startOfMonth"])(reference), 1));
    var weeks = [];
    var day = new Date(start);
    var days;
    this.dayRefs = {};

    while (day.getTime() < end.getTime()) {
      if (day.getDay() === firstDayOfWeek) {
        if (days) {
          weeks.push(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledCalendar__WEBPACK_IMPORTED_MODULE_8__["StyledWeek"], {
            key: day.getTime()
          }, days));
        }

        days = [];
      }

      var otherMonth = day.getMonth() !== reference.getMonth();

      if (!showAdjacentDays && otherMonth) {
        days.push(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledCalendar__WEBPACK_IMPORTED_MODULE_8__["StyledDayContainer"], {
          key: day.getTime(),
          sizeProp: size
        }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledCalendar__WEBPACK_IMPORTED_MODULE_8__["StyledDay"], {
          sizeProp: size
        })));
      } else {
        var dateString = day.toISOString();
        this.dayRefs[dateString] = react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef();
        var selected = false;
        var inRange = false;
        var selectedState = Object(_utils__WEBPACK_IMPORTED_MODULE_9__["withinDates"])(day, date || dates);

        if (selectedState === 2) {
          selected = true;
        } else if (selectedState === 1) {
          inRange = true;
        }

        var dayDisabled = Object(_utils__WEBPACK_IMPORTED_MODULE_9__["withinDates"])(day, disabled) || bounds && !Object(_utils__WEBPACK_IMPORTED_MODULE_9__["betweenDates"])(day, bounds);
        days.push(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledCalendar__WEBPACK_IMPORTED_MODULE_8__["StyledDayContainer"], {
          key: day.getTime(),
          sizeProp: size
        }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_5__["Button"], {
          ref: this.dayRefs[dateString],
          a11yTitle: day.toDateString(),
          plain: true,
          hoverIndicator: !dayDisabled,
          disabled: dayDisabled,
          onClick: this.onClickDay(dateString),
          onFocus: this.onFocus(day),
          onBlur: function onBlur() {
            return _this2.setState({
              focused: false
            });
          }
        }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledCalendar__WEBPACK_IMPORTED_MODULE_8__["StyledDay"], {
          inRange: inRange,
          otherMonth: day.getMonth() !== reference.getMonth(),
          isSelected: selected,
          sizeProp: size
        }, day.getDate()))));
      }

      day = Object(_utils__WEBPACK_IMPORTED_MODULE_9__["addDays"])(day, 1);
    }

    weeks.push(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledCalendar__WEBPACK_IMPORTED_MODULE_8__["StyledWeek"], {
      key: day.getTime()
    }, days));
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledCalendar__WEBPACK_IMPORTED_MODULE_8__["StyledCalendar"], _extends({
      sizeProp: size
    }, rest), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Keyboard__WEBPACK_IMPORTED_MODULE_7__["Keyboard"], {
      onUp: function onUp(event) {
        event.preventDefault();

        _this2.setFocus(Object(_utils__WEBPACK_IMPORTED_MODULE_9__["addDays"])(focused, -7));
      },
      onDown: function onDown(event) {
        event.preventDefault();

        _this2.setFocus(Object(_utils__WEBPACK_IMPORTED_MODULE_9__["addDays"])(focused, 7));
      },
      onLeft: function onLeft() {
        return focused && _this2.setFocus(Object(_utils__WEBPACK_IMPORTED_MODULE_9__["addDays"])(focused, -1));
      },
      onRight: function onRight() {
        return focused && _this2.setFocus(Object(_utils__WEBPACK_IMPORTED_MODULE_9__["addDays"])(focused, 1));
      }
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"], null, header ? header({
      date: reference,
      locale: locale,
      onPreviousMonth: function onPreviousMonth() {
        return _this2.setReference(previousMonth);
      },
      onNextMonth: function onNextMonth() {
        return _this2.setReference(nextMonth);
      },
      previousInBound: Object(_utils__WEBPACK_IMPORTED_MODULE_9__["betweenDates"])(previousMonth, bounds),
      nextInBound: Object(_utils__WEBPACK_IMPORTED_MODULE_9__["betweenDates"])(nextMonth, bounds)
    }) : this.renderCalendarHeader(previousMonth, nextMonth), daysOfWeek && this.renderDaysOfWeek(locale, size, start), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledCalendar__WEBPACK_IMPORTED_MODULE_8__["StyledWeeksContainer"], {
      sizeProp: size
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledCalendar__WEBPACK_IMPORTED_MODULE_8__["StyledWeeks"], {
      slide: slide,
      sizeProp: size
    }, weeks)))));
  };

  return Calendar;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

_defineProperty(Calendar, "defaultProps", {
  animate: true,
  firstDayOfWeek: 0,
  size: 'medium',
  locale: 'en-US',
  showAdjacentDays: true
});

Object.setPrototypeOf(Calendar.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_3__["defaultProps"]);
var CalendarDoc;

if (true) {
  // eslint-disable-next-line global-require
  CalendarDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Calendar/doc.js").doc(Calendar);
}

var CalendarWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(styled_components__WEBPACK_IMPORTED_MODULE_2__["withTheme"])(CalendarDoc || Calendar);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Calendar/StyledCalendar.js":
/*!************************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Calendar/StyledCalendar.js ***!
  \************************************************************************/
/*! exports provided: StyledCalendar, StyledWeeksContainer, StyledWeeks, StyledWeek, StyledDayContainer, StyledDay */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledCalendar", function() { return StyledCalendar; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledWeeksContainer", function() { return StyledWeeksContainer; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledWeeks", function() { return StyledWeeks; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledWeek", function() { return StyledWeek; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledDayContainer", function() { return StyledDayContainer; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledDay", function() { return StyledDay; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");




var sizeStyle = function sizeStyle(props) {
  var data = props.theme.calendar[props.sizeProp];
  return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["font-size:", ";line-height:", ";width:", ";"], data.fontSize, data.lineHeight, props.theme.global.size[props.sizeProp]);
};

var StyledCalendar = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledCalendar",
  componentId: "sc-1y4xhmp-0"
})(["", " ", " ", ""], _utils__WEBPACK_IMPORTED_MODULE_1__["genericStyles"], function (props) {
  return sizeStyle(props);
}, function (props) {
  return props.theme.calendar && props.theme.calendar.extend;
});
StyledCalendar.defaultProps = {};
Object.setPrototypeOf(StyledCalendar.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var StyledWeeksContainer = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledCalendar__StyledWeeksContainer",
  componentId: "sc-1y4xhmp-1"
})(["overflow:hidden;", ";"], function (props) {
  return "height: " + Object(_utils__WEBPACK_IMPORTED_MODULE_1__["parseMetricToNum"])(props.theme.calendar[props.sizeProp].daySize) * 6 + "px;";
});
StyledWeeksContainer.defaultProps = {};
Object.setPrototypeOf(StyledWeeksContainer.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);

var slideStyle = function slideStyle(props) {
  var _props$slide = props.slide,
      direction = _props$slide.direction,
      weeks = _props$slide.weeks,
      sizeProp = props.sizeProp,
      theme = props.theme;
  var _theme$calendar$sizeP = theme.calendar[sizeProp],
      daySize = _theme$calendar$sizeP.daySize,
      slideDuration = _theme$calendar$sizeP.slideDuration;
  var amount = Object(_utils__WEBPACK_IMPORTED_MODULE_1__["parseMetricToNum"])(daySize) * weeks;
  var translateYFrom = direction === 'down' ? "-" + amount + "px" : '0';
  var translateYTo = direction === 'up' ? "-" + amount + "px" : '0';
  var slideTransition = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["0%{transform:translateY(", ");}100%{transform:translateY(", ");}"], translateYFrom, translateYTo);
  return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["animation:", " ", " forwards;"], Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["keyframes"])(["", ""], slideTransition), slideDuration);
};

var StyledWeeks = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledCalendar__StyledWeeks",
  componentId: "sc-1y4xhmp-2"
})(["position:relative;", ";"], function (props) {
  return props.slide && slideStyle(props);
});
StyledWeeks.defaultProps = {};
Object.setPrototypeOf(StyledWeeks.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var StyledWeek = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledCalendar__StyledWeek",
  componentId: "sc-1y4xhmp-3"
})(["display:flex;flex-direction:row;flex-justify:between;"]);
StyledWeek.defaultProps = {};
Object.setPrototypeOf(StyledWeek.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var StyledDayContainer = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledCalendar__StyledDayContainer",
  componentId: "sc-1y4xhmp-4"
})(["flex:0 0 auto;"]);
StyledDayContainer.defaultProps = {};
Object.setPrototypeOf(StyledDayContainer.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);

var daySizeStyle = function daySizeStyle(props) {
  var data = props.theme.calendar[props.sizeProp];
  return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["width:", ";height:", ";"], data.daySize, data.daySize);
};

var StyledDay = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledCalendar__StyledDay",
  componentId: "sc-1y4xhmp-5"
})(["display:flex;justify-content:center;align-items:center;", " ", " ", " ", " ", ""], function (props) {
  return daySizeStyle(props);
}, function (props) {
  return props.isSelected && Object(_utils__WEBPACK_IMPORTED_MODULE_1__["backgroundStyle"])('control', props.theme) || props.inRange && Object(_utils__WEBPACK_IMPORTED_MODULE_1__["backgroundStyle"])({
    color: 'control',
    opacity: 'weak'
  }, props.theme);
}, function (props) {
  return props.otherMonth && 'opacity: 0.5;';
}, function (props) {
  return props.isSelected && 'font-weight: bold;';
}, function (props) {
  return props.theme.calendar && props.theme.calendar.day && props.theme.calendar.day.extend;
});
StyledDay.defaultProps = {};
Object.setPrototypeOf(StyledDay.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Calendar/doc.js":
/*!*************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Calendar/doc.js ***!
  \*************************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var doc = function doc(Calendar) {
  var DocumentedCalendar = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Calendar).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('Calendar')).description("A calendar of days displayed by month.\n      It can be used to select a single date, a range of dates, or multiple\n      individual dates.").usage("import { Calendar } from 'grommet';\n<Calendar />").intrinsicElement('div');
  DocumentedCalendar.propTypes = _extends({}, _utils__WEBPACK_IMPORTED_MODULE_1__["genericProps"], {
    animate: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Whether to animate the calender as the user interacts with it.").defaultValue(true),
    bounds: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string).description("An array of two numbers indicating the limits on\n        navigation in ISO8601 format"),
    date: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description('The selected date in ISO8601 format'),
    dates: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string)])).description("Multiple selected dates in ISO8601 format.\n      Items that are an array indicate a range of dates."),
    disabled: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string)])).description("Multiple dates in ISO8601 format that should not be\n        selectable. Items that are an array indicate a range of dates."),
    daysOfWeek: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Whether to show the days of the week.").defaultValue(false),
    firstDayOfWeek: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf([0, 1]).description('The first day of the week. 0 for Sunday. 1 for Monday.').defaultValue(0),
    header: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("If specified, the entire calendar header will be managed by the caller.\nThe function passes the following options:\n\n```\n  {\n    date: Date,\n    locale: string,\n    onPreviousMonth: func,\n    onNextMonth: func,\n    previousInBound: bool,\n    nextInBound: bool,\n  }\n```\n\n`onPreviousMonth` and `onNextMonth` are callbacks that will tell the \ncalendar to move between months.\n`previousInBound` and `nextInBound` are booleans that tell, when using \n`bounds`, if the current date is within that range. You can then use that \nto disable the previous and next buttons.\n"),
    locale: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description('The locale to use.').defaultValue('en-US'),
    onReference: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Called with an ISO8601 date when the user navigates to a different\n       month."),
    onSelect: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Called with an ISO8601 date when\n      the user selects a day.\n      For single select, make this the subsequent `date` property value.\n      For multiple select or ranges, toggle values in `dates`.\n      Not specifying this property makes the component read only."),
    range: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Whether to automatically manage multiple date selection as a range.\n        When the user clicks the first date, onSelect will be called with that\n        date. When the user selects another date, onSelect will be called with\n        an array of two dates.").defaultValue(false),
    reference: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description("The date to show if `date` isn't set, in ISO8601 format"),
    showAdjacentDays: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Whether to show the days from the previous and next months.").defaultValue(true),
    size: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['small', 'medium', 'large']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description('What size to make it.').defaultValue('medium')
  });
  return DocumentedCalendar;
};
var themeDoc = _extends({
  'calendar.day.extend': {
    description: 'Any additional style for the day of Calendar.',
    type: 'string | (props) => {}'
  },
  'calendar.extend': {
    description: 'Any additional style for the Calendar.',
    type: 'string | (props) => {}'
  },
  'calendar.heading.level': {
    description: 'The heading level used for the calendar.',
    type: 'number',
    defaultValue: '4'
  },
  'calendar.icons.next': {
    description: 'The icon to use for the next month navigation control.',
    type: 'element',
    defaultValue: '<Next />'
  },
  'calendar.icons.previous': {
    description: 'The icon to use for the previous month navigation control.',
    type: 'element',
    defaultValue: '<Previous />'
  },
  'calendar.icons.small.next': {
    description: 'The icon to use for the next month navigation control when small.',
    type: 'element',
    defaultValue: '<FormNext />'
  },
  'calendar.icons.small.previous': {
    description: 'The icon to use for the previous month navigation control when small.',
    type: 'element',
    defaultValue: '<FormPrevious />'
  },
  'calendar.large.daySize': {
    description: 'The size of a day when large.',
    type: 'string',
    defaultValue: '109.7px'
  },
  'calendar.large.fontSize': {
    description: 'The font size to use for days when large.',
    type: 'string',
    defaultValue: '30px'
  },
  'calendar.large.lineHeight': {
    description: 'The line height to use for days when large.',
    type: 'number',
    defaultValue: 1.11
  },
  'calendar.large.slideDuration': {
    description: 'How long it animate the slide between months when large.',
    type: 'string',
    defaultValue: '0.8s'
  },
  'calendar.medium.daySize': {
    description: 'The size of a day when medium.',
    type: 'string',
    defaultValue: '54.84px'
  },
  'calendar.medium.fontSize': {
    description: 'The font size to use for days when medium.',
    type: 'string',
    defaultValue: '18px'
  },
  'calendar.medium.lineHeight': {
    description: 'The line height to use for days when medium.',
    type: 'number',
    defaultValue: 1.45
  },
  'calendar.medium.slideDuration': {
    description: 'How long it animate the slide between months when medium.',
    type: 'string',
    defaultValue: '0.5s'
  },
  'calendar.small.daySize': {
    description: 'The size of a day when small.',
    type: 'string',
    defaultValue: '27.42px'
  },
  'calendar.small.fontSize': {
    description: 'The font size to use for days when small.',
    type: 'string',
    defaultValue: '14px'
  },
  'calendar.small.lineHeight': {
    description: 'The line height to use for days when small.',
    type: 'number',
    defaultValue: 1.375
  },
  'calendar.small.slideDuration': {
    description: 'How long it animate the slide between months when small.',
    type: 'string',
    defaultValue: '0.2s'
  },
  'global.size.small': {
    description: 'The width of the calendar when small.',
    type: 'string',
    defaultValue: '192px'
  },
  'global.size.medium': {
    description: 'The width of the calendar when medium.',
    type: 'string',
    defaultValue: '384px'
  },
  'global.size.large': {
    description: 'The width of the calendar when large.',
    type: 'string',
    defaultValue: '768px'
  }
}, _utils__WEBPACK_IMPORTED_MODULE_1__["themeDocUtils"].iconColor, {}, _utils__WEBPACK_IMPORTED_MODULE_1__["themeDocUtils"].edgeStyle('The possible sizes for margin.'));

/***/ }),

/***/ "./node_modules/grommet/es6/components/Calendar/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Calendar/index.js ***!
  \***************************************************************/
/*! exports provided: Calendar */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Calendar__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Calendar */ "./node_modules/grommet/es6/components/Calendar/Calendar.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Calendar", function() { return _Calendar__WEBPACK_IMPORTED_MODULE_0__["Calendar"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Calendar/utils.js":
/*!***************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Calendar/utils.js ***!
  \***************************************************************/
/*! exports provided: addDays, subtractDays, addMonths, subtractMonths, startOfMonth, endOfMonth, sameDay, sameDayOrAfter, sameDayOrBefore, daysApart, betweenDates, withinDates, updateDateRange */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "addDays", function() { return addDays; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "subtractDays", function() { return subtractDays; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "addMonths", function() { return addMonths; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "subtractMonths", function() { return subtractMonths; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "startOfMonth", function() { return startOfMonth; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "endOfMonth", function() { return endOfMonth; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "sameDay", function() { return sameDay; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "sameDayOrAfter", function() { return sameDayOrAfter; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "sameDayOrBefore", function() { return sameDayOrBefore; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "daysApart", function() { return daysApart; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "betweenDates", function() { return betweenDates; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "withinDates", function() { return withinDates; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "updateDateRange", function() { return updateDateRange; });
// Utility functions for the Calendar.
// Just what's needed to avoid having to include a dependency like momentjs.
var DAY_MILLISECONDS = 24 * 60 * 60 * 1000;
var addDays = function addDays(date, days) {
  var result = new Date(date.getTime() + DAY_MILLISECONDS * days); // Deal with crossing the daylight savings time boundary,
  // where adding a day's worth when the time is midnight results in
  // being a day off.

  var hourDelta = result.getHours() - date.getHours(); // At this point, hourDelta is typically 0 (normal day),
  // +23 (November daylight saving), or -23 (March Daylight saving)
  // depending on which side of the switch we are on.
  // Convert so that hourDelta is either +1 or -1.

  if (hourDelta === 23) {
    hourDelta -= 24;
  } else if (hourDelta === -23) {
    hourDelta += 24;
  }

  result.setHours(result.getHours() - hourDelta);
  return result;
};
var subtractDays = function subtractDays(date, days) {
  return addDays(date, -days);
};
var addMonths = function addMonths(date, months) {
  var result = new Date(date);
  var years = Math.floor((date.getMonth() + months) / 12);
  result.setFullYear(date.getFullYear() + years);
  var targetMonth = (date.getMonth() + months) % 12;
  result.setMonth(targetMonth < 0 ? 12 + targetMonth : targetMonth);
  return result;
};
var subtractMonths = function subtractMonths(date, months) {
  return addMonths(date, -months);
};
var startOfMonth = function startOfMonth(date) {
  var result = new Date(date);
  result.setDate(1);
  return result;
};
var endOfMonth = function endOfMonth(date) {
  var result = addMonths(date, 1);
  result.setDate(0);
  return result;
};
var sameDay = function sameDay(date1, date2) {
  return date1.getFullYear() === date2.getFullYear() && date1.getMonth() === date2.getMonth() && date1.getDate() === date2.getDate();
};
var sameDayOrAfter = function sameDayOrAfter(date1, date2) {
  return date1.getFullYear() > date2.getFullYear() || date1.getFullYear() === date2.getFullYear() && (date1.getMonth() > date2.getMonth() || date1.getMonth() === date2.getMonth() && date1.getDate() >= date2.getDate());
};
var sameDayOrBefore = function sameDayOrBefore(date1, date2) {
  return date1.getFullYear() < date2.getFullYear() || date1.getFullYear() === date2.getFullYear() && (date1.getMonth() < date2.getMonth() || date1.getMonth() === date2.getMonth() && date1.getDate() <= date2.getDate());
};
var daysApart = function daysApart(date1, date2) {
  return Math.floor((date1.getTime() - date2.getTime()) / DAY_MILLISECONDS);
}; // betweenDates takes and array of two elements and checks if the
// supplied date lies between them, inclusive.
// returns 2 if exact match to one end, 1 if between, undefined otherwise

var betweenDates = function betweenDates(date, dates) {
  var result;

  if (dates) {
    var _dates$map = dates.map(function (d) {
      return new Date(d);
    }),
        from = _dates$map[0],
        to = _dates$map[1];

    if (sameDay(date, from) || sameDay(date, to)) {
      result = 2;
    } else if (sameDayOrAfter(date, from) && sameDayOrBefore(date, to)) {
      result = 1;
    }
  } else {
    result = 1;
  }

  return result;
}; // withinDates takes and array of string dates or 2 element arrays and
// checks whether the supplied date matches any string or is between
// any dates in arrays.
// returns 2 if exact match, 1 if between, undefined otherwise

var withinDates = function withinDates(date, dates) {
  var result;

  if (dates) {
    if (Array.isArray(dates)) {
      dates.some(function (d) {
        if (typeof d === 'string') {
          if (sameDay(date, new Date(d))) {
            result = 2;
          }
        } else {
          result = betweenDates(date, d);
        }

        return result;
      });
    } else if (sameDay(date, new Date(dates))) {
      result = 2;
    }
  }

  return result;
};
var updateDateRange = function updateDateRange(selectedDate, _ref) {
  var date = _ref.date,
      dates = _ref.dates,
      previousSelectedDate = _ref.previousSelectedDate;
  var result = {
    previousSelectedDate: selectedDate
  };

  if (!dates) {
    if (!date) {
      result.date = selectedDate;
    } else {
      var priorDate = new Date(date);
      var nextDate = new Date(selectedDate);

      if (priorDate.getTime() < nextDate.getTime()) {
        result.date = undefined;
        result.dates = [[date, selectedDate]];
      } else if (priorDate.getTime() > nextDate.getTime()) {
        result.date = undefined;
        result.dates = [[selectedDate, date]];
      } else {
        result.date = undefined;
      }
    }
  } else {
    var priorDates = dates[0].map(function (d) {
      return new Date(d);
    });
    var previousDate = new Date(previousSelectedDate);

    var _nextDate = new Date(selectedDate);

    if (_nextDate.getTime() === priorDates[0].getTime()) {
      result.dates = undefined;
      var _dates$ = dates[0];
      result.date = _dates$[1];
    } else if (_nextDate.getTime() === priorDates[1].getTime()) {
      result.dates = undefined;
      var _dates$2 = dates[0];
      result.date = _dates$2[0];
    } else if (_nextDate.getTime() < previousDate.getTime()) {
      if (_nextDate.getTime() < priorDates[0].getTime()) {
        result.dates = [[selectedDate, dates[0][1]]];
      } else if (_nextDate.getTime() > priorDates[0].getTime()) {
        result.dates = [[dates[0][0], selectedDate]];
      }
    } else if (_nextDate.getTime() > previousDate.getTime()) {
      if (_nextDate.getTime() > priorDates[1].getTime()) {
        result.dates = [[dates[0][0], selectedDate]];
      } else if (_nextDate.getTime() < priorDates[1].getTime()) {
        result.dates = [[selectedDate, dates[0][1]]];
      }
    }
  }

  return result;
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/Carousel/Carousel.js":
/*!******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Carousel/Carousel.js ***!
  \******************************************************************/
/*! exports provided: Carousel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Carousel", function() { return CarouselWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Button */ "./node_modules/grommet/es6/components/Button/index.js");
/* harmony import */ var _Keyboard__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Keyboard */ "./node_modules/grommet/es6/components/Keyboard/index.js");
/* harmony import */ var _Stack__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../Stack */ "./node_modules/grommet/es6/components/Stack/index.js");
/* harmony import */ var _hocs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../hocs */ "./node_modules/grommet/es6/components/hocs.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }












var Carousel =
/*#__PURE__*/
function (_Component) {
  _inheritsLoose(Carousel, _Component);

  function Carousel(p) {
    var _this;

    _this = _Component.call(this, p) || this;

    _defineProperty(_assertThisInitialized(_this), "play", function () {
      var play = _this.props.play;
      clearInterval(_this.timer);
      _this.timer = setInterval(function () {
        var children = _this.props.children;
        var activeIndex = _this.state.activeIndex;
        var lastIndex = react__WEBPACK_IMPORTED_MODULE_0__["Children"].count(children) - 1;

        if (activeIndex < lastIndex) {
          _this.setState({
            activeIndex: activeIndex + 1,
            priorActiveIndex: activeIndex
          });
        } else {
          _this.setState({
            activeIndex: 0,
            priorActiveIndex: activeIndex
          });
        }
      }, play);
    });

    _defineProperty(_assertThisInitialized(_this), "onRight", function () {
      var activeIndex = _this.state.activeIndex;
      clearInterval(_this.timer);

      _this.setState({
        activeIndex: activeIndex + 1,
        priorActiveIndex: activeIndex
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onLeft", function () {
      var activeIndex = _this.state.activeIndex;
      clearInterval(_this.timer);

      _this.setState({
        activeIndex: activeIndex - 1,
        priorActiveIndex: activeIndex
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onSelect", function (index) {
      return function () {
        var activeIndex = _this.state.activeIndex;
        clearInterval(_this.timer);

        _this.setState({
          activeIndex: index,
          priorActiveIndex: activeIndex
        });
      };
    });

    _this.state = {
      activeIndex: p.initialChild
    };
    return _this;
  }

  var _proto = Carousel.prototype;

  _proto.componentDidMount = function componentDidMount() {
    var play = this.props.play;

    if (play) {
      this.play();
    }
  };

  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {
    var play = this.props.play;

    if (play && (!prevProps.play || play !== prevProps.play)) {
      this.play();
    } else if (!play && prevProps.play) {
      clearInterval(this.timer);
    }
  };

  _proto.componentWillUnmount = function componentWillUnmount() {
    clearInterval(this.timer);
  };

  _proto.render = function render() {
    var _this2 = this;

    var _this$props = this.props,
        children = _this$props.children,
        controls = _this$props.controls,
        fill = _this$props.fill,
        focus = _this$props.focus,
        theme = _this$props.theme,
        rest = _objectWithoutPropertiesLoose(_this$props, ["children", "controls", "fill", "focus", "theme"]);

    var _this$state = this.state,
        activeIndex = _this$state.activeIndex,
        priorActiveIndex = _this$state.priorActiveIndex;
    var showArrows = controls && controls !== 'selectors';
    var showSelectors = controls && controls !== 'arrows';
    var lastIndex = react__WEBPACK_IMPORTED_MODULE_0__["Children"].count(children) - 1;
    var onLeft = activeIndex > 0 ? this.onLeft : undefined;
    var onRight = activeIndex < lastIndex ? this.onRight : undefined;
    var CurrentIcon = theme.carousel.icons.current;
    var iconColor = Object(_utils__WEBPACK_IMPORTED_MODULE_3__["normalizeColor"])(theme.carousel.icons.color || 'control', theme);
    var selectors = [];
    var wrappedChildren = react__WEBPACK_IMPORTED_MODULE_0__["Children"].map(children, function (child, index) {
      selectors.push(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_6__["Button"] // eslint-disable-next-line react/no-array-index-key
      , {
        key: index,
        icon: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(CurrentIcon, {
          color: activeIndex === index ? iconColor : undefined
        }),
        onClick: _this2.onSelect(index)
      }));
      var animation;

      if (index === activeIndex) {
        if (priorActiveIndex !== undefined) {
          animation = {
            type: priorActiveIndex < activeIndex ? 'slideLeft' : 'slideRight',
            size: 'xlarge',
            duration: theme.carousel.animation.duration
          };
        }
      } else if (index === priorActiveIndex) {
        animation = {
          type: 'fadeOut',
          duration: theme.carousel.animation.duration
        };
      } else {
        animation = {
          type: 'fadeOut',
          duration: 0
        };
      }

      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_5__["Box"], {
        fill: fill,
        overflow: "hidden"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_5__["Box"], {
        fill: fill,
        animation: animation
      }, child));
    });
    var NextIcon = theme.carousel.icons.next;
    var PreviousIcon = theme.carousel.icons.previous;
    var nextIconDisabled = activeIndex >= lastIndex;
    var previousIconDisabled = activeIndex <= 0;
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Keyboard__WEBPACK_IMPORTED_MODULE_7__["Keyboard"], {
      onLeft: onLeft,
      onRight: onRight
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Stack__WEBPACK_IMPORTED_MODULE_8__["Stack"], _extends({
      guidingChild: activeIndex,
      fill: fill
    }, rest), wrappedChildren, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_5__["Box"], {
      tabIndex: "0",
      focus: focus,
      fill: true,
      direction: "row",
      justify: "between"
    }, showArrows && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_6__["Button"], {
      fill: "vertical",
      icon: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PreviousIcon, {
        color: Object(_utils__WEBPACK_IMPORTED_MODULE_3__["normalizeColor"])(previousIconDisabled ? theme.carousel.disabled.icons.color : theme.carousel.icons.color, theme)
      }),
      plain: true,
      disabled: previousIconDisabled,
      onClick: onLeft,
      hoverIndicator: true
    }), showSelectors && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_5__["Box"], {
      justify: "end",
      fill: !showArrows && 'horizontal'
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_5__["Box"], {
      direction: "row",
      justify: "center"
    }, selectors)), showArrows && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_6__["Button"], {
      fill: "vertical",
      icon: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(NextIcon, {
        color: Object(_utils__WEBPACK_IMPORTED_MODULE_3__["normalizeColor"])(nextIconDisabled ? theme.carousel.disabled.icons.color : theme.carousel.icons.color, theme)
      }),
      plain: true,
      disabled: nextIconDisabled,
      onClick: onRight,
      hoverIndicator: true
    }))));
  };

  return Carousel;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

Carousel.defaultProps = {
  initialChild: 0,
  controls: true
};
Object.setPrototypeOf(Carousel.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_4__["defaultProps"]);
var CarouselDoc;

if (true) {
  // eslint-disable-next-line global-require
  CarouselDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Carousel/doc.js").doc(Carousel);
}

var CarouselWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(Object(_hocs__WEBPACK_IMPORTED_MODULE_9__["withFocus"])(), styled_components__WEBPACK_IMPORTED_MODULE_2__["withTheme"])(CarouselDoc || Carousel);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Carousel/doc.js":
/*!*************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Carousel/doc.js ***!
  \*************************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var doc = function doc(Carousel) {
  var DocumentedCarousel = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Carousel).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('Carousel')).description("A carousel that cycles through children. Child components\n      would typically be Images. It is the caller's responsibility to ensure\n      that all children are the same size.").usage("import { Carousel } from 'grommet';\n<Carousel />").intrinsicElement('div');
  DocumentedCarousel.propTypes = _extends({}, _utils__WEBPACK_IMPORTED_MODULE_1__["genericProps"], {
    fill: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Whether to expand to fill\n      all of the available width and height in the parent container."),
    play: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number.description("If specified, the number of\n      milliseconds between automatically transitioning to the next child. It\n      will loop through all children indefinitely."),
    initialChild: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number.description("If specified, the index of\n      the first element to be shown. Defaults to 0."),
    controls: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['arrows', 'selectors'])]).description("Whether to show carousel controls and which type of controls.").defaultValue(true)
  });
  return DocumentedCarousel;
};
var themeDoc = _extends({
  'carousel.icons.next': {
    description: 'The icon to use for the next image navigation control.',
    type: 'element',
    defaultValue: '<Next />'
  },
  'carousel.animation.duration': {
    description: 'The duration of the Carousel animation.',
    type: 'number',
    defaultValue: 1000
  },
  'carousel.icons.previous': {
    description: 'The icon to use for the previous image navigation control.',
    type: 'element',
    defaultValue: '<Previous />'
  },
  'carousel.icons.current': {
    description: "The icon to use on the middle navigation control. \n      One icon per carousel image.",
    type: 'element',
    defaultValue: '<Next />'
  },
  'carousel.icons.color': {
    description: 'The color used for Carousel icons.',
    type: "string | { 'dark': string, 'light': string }",
    defaultValue: undefined
  },
  'carousel.disabled.icons.color': {
    description: 'The color used for disabled Carousel icons.',
    type: "string | { 'dark': string, 'light': string }",
    defaultValue: undefined
  }
}, _utils__WEBPACK_IMPORTED_MODULE_1__["themeDocUtils"].iconColor, {}, _utils__WEBPACK_IMPORTED_MODULE_1__["themeDocUtils"].edgeStyle('The possible sizes for margin.'));

/***/ }),

/***/ "./node_modules/grommet/es6/components/Carousel/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Carousel/index.js ***!
  \***************************************************************/
/*! exports provided: Carousel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Carousel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Carousel */ "./node_modules/grommet/es6/components/Carousel/Carousel.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Carousel", function() { return _Carousel__WEBPACK_IMPORTED_MODULE_0__["Carousel"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Chart/Chart.js":
/*!************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Chart/Chart.js ***!
  \************************************************************/
/*! exports provided: Chart */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Chart", function() { return ChartWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _StyledChart__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./StyledChart */ "./node_modules/grommet/es6/components/Chart/StyledChart.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utils */ "./node_modules/grommet/es6/components/Chart/utils.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }






var gradientMaskColor = '#ffffff'; // use constants so re-renders don't re-trigger effects

var defaultSize = {
  height: 'small',
  width: 'medium'
};
var defaultValues = [];
var Chart = react__WEBPACK_IMPORTED_MODULE_0___default.a.forwardRef(function (_ref, ref) {
  var propsBounds = _ref.bounds,
      color = _ref.color,
      gap = _ref.gap,
      id = _ref.id,
      onClick = _ref.onClick,
      onHover = _ref.onHover,
      _ref$overflow = _ref.overflow,
      overflow = _ref$overflow === void 0 ? false : _ref$overflow,
      round = _ref.round,
      _ref$size = _ref.size,
      propsSize = _ref$size === void 0 ? defaultSize : _ref$size,
      _ref$thickness = _ref.thickness,
      thickness = _ref$thickness === void 0 ? 'medium' : _ref$thickness,
      _ref$type = _ref.type,
      type = _ref$type === void 0 ? 'bar' : _ref$type,
      _ref$values = _ref.values,
      propsValues = _ref$values === void 0 ? defaultValues : _ref$values,
      rest = _objectWithoutPropertiesLoose(_ref, ["bounds", "color", "gap", "id", "onClick", "onHover", "overflow", "round", "size", "thickness", "type", "values"]);

  var theme = Object(react__WEBPACK_IMPORTED_MODULE_0__["useContext"])(styled_components__WEBPACK_IMPORTED_MODULE_1__["ThemeContext"]);

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])([]),
      values = _useState[0],
      setValues = _useState[1];

  var _useState2 = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])([[0, 0], [0, 0]]),
      bounds = _useState2[0],
      setBounds = _useState2[1];

  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])([0, 0]),
      containerSize = _useState3[0],
      setContainerSize = _useState3[1];

  var _useState4 = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])([0, 0]),
      size = _useState4[0],
      setSize = _useState4[1];

  var _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])([1, 1]),
      scale = _useState5[0],
      setScale = _useState5[1];

  var _useState6 = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(0),
      strokeWidth = _useState6[0],
      setStrokeWidth = _useState6[1];

  var containerRef = ref || Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])(); // calculations

  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    var nextValues = Object(_utils__WEBPACK_IMPORTED_MODULE_4__["normalizeValues"])(propsValues);
    setValues(nextValues);
    var nextBounds = Object(_utils__WEBPACK_IMPORTED_MODULE_4__["normalizeBounds"])(propsBounds, nextValues);
    setBounds(nextBounds);
    var nextStrokeWidth = Object(_utils__WEBPACK_IMPORTED_MODULE_2__["parseMetricToNum"])(theme.global.edgeSize[thickness] || thickness);
    setStrokeWidth(nextStrokeWidth);
    var gapWidth = gap ? Object(_utils__WEBPACK_IMPORTED_MODULE_2__["parseMetricToNum"])(theme.global.edgeSize[gap] || gap) : nextStrokeWidth; // autoWidth is how wide we'd pefer

    var autoWidth = nextStrokeWidth * nextValues.length + (nextValues.length - 1) * gapWidth;
    var sizeWidth = typeof propsSize === 'string' ? propsSize : propsSize.width || defaultSize.width;
    var width;

    if (sizeWidth === 'full') {
      width = containerSize[0];
    } else if (sizeWidth === 'auto') {
      width = autoWidth;
    } else {
      width = Object(_utils__WEBPACK_IMPORTED_MODULE_2__["parseMetricToNum"])(theme.global.size[sizeWidth] || sizeWidth);
    }

    var sizeHeight = typeof propsSize === 'string' ? propsSize : propsSize.height || defaultSize.height;
    var height;

    if (sizeHeight === 'full') {
      height = containerSize[1];
    } else {
      height = Object(_utils__WEBPACK_IMPORTED_MODULE_2__["parseMetricToNum"])(theme.global.size[sizeHeight] || sizeHeight);
    }

    setSize([width, height]);
    var nextScale = [(sizeWidth === 'auto' ? autoWidth : width) / (nextBounds[0][1] - nextBounds[0][0]), height / (nextBounds[1][1] - nextBounds[1][0])];
    setScale(nextScale);
  }, [containerSize, gap, propsBounds, propsSize, propsValues, theme.global.edgeSize, theme.global.size, thickness]); // set container size when we get ref or when size changes

  if (containerRef.current && propsSize && (propsSize === 'full' || propsSize.height === 'full' || propsSize.width === 'full')) {
    var containerNode = containerRef.current;

    if (containerNode) {
      var parentNode = containerNode.parentNode;

      if (parentNode) {
        var rect = parentNode.getBoundingClientRect();

        if (rect.width !== containerSize[0] || rect.height !== containerSize[1]) {
          setContainerSize([rect.width, rect.height]);
        }
      }
    }
  } // container size, if needed


  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    var onResize = function onResize() {
      var parentNode = containerRef.current.parentNode;
      var rect = parentNode.getBoundingClientRect();
      setContainerSize([rect.width, rect.height]);
    };

    if (propsSize && (propsSize === 'full' || propsSize.width === 'full' || propsSize.height === 'full')) {
      window.addEventListener('resize', onResize);
      return function () {
        return window.removeEventListener('resize', onResize);
      };
    }

    return undefined;
  }, [containerRef, propsSize]);
  var useGradient = color && Array.isArray(color);

  var renderBars = function renderBars() {
    return (values || []).map(function (valueArg, index) {
      var label = valueArg.label,
          valueOnHover = valueArg.onHover,
          value = valueArg.value,
          valueRest = _objectWithoutPropertiesLoose(valueArg, ["label", "onHover", "value"]);

      var key = "p-" + index;
      var bottom = value.length === 2 ? bounds[1][0] : value[1];
      var top = value.length === 2 ? value[1] : value[2];

      if (top !== 0) {
        var d = "M " + (value[0] - bounds[0][0]) * scale[0] + "," + ("" + (size[1] - (bottom - bounds[1][0]) * scale[1])) + (" L " + (value[0] - bounds[0][0]) * scale[0] + ",") + ("" + (size[1] - (top - bounds[1][0]) * scale[1]));
        var hoverProps;

        if (valueOnHover) {
          hoverProps = {
            onMouseOver: function onMouseOver() {
              return valueOnHover(true);
            },
            onMouseLeave: function onMouseLeave() {
              return valueOnHover(false);
            }
          };
        }

        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("g", {
          key: key,
          fill: "none"
        }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("title", null, label), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path", _extends({
          d: d
        }, hoverProps, valueRest)));
      }

      return undefined;
    });
  };

  var renderLine = function renderLine() {
    var d = '';
    (values || []).forEach(function (_ref2, index) {
      var value = _ref2.value;
      d += (index ? ' L' : 'M') + " " + (value[0] - bounds[0][0]) * scale[0] + "," + ("" + (size[1] - (value[1] - bounds[1][0]) * scale[1]));
    });
    var hoverProps;

    if (onHover) {
      hoverProps = {
        onMouseOver: function onMouseOver() {
          return onHover(true);
        },
        onMouseLeave: function onMouseLeave() {
          return onHover(false);
        }
      };
    }

    var clickProps;

    if (onClick) {
      clickProps = {
        onClick: onClick
      };
    }

    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("g", {
      fill: "none"
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path", _extends({
      d: d
    }, hoverProps, clickProps)));
  };

  var renderArea = function renderArea() {
    var d = '';
    (values || []).forEach(function (_ref3, index) {
      var value = _ref3.value;
      var top = value.length === 2 ? value[1] : value[2];
      d += (!index ? 'M' : ' L') + " " + (value[0] - bounds[0][0]) * scale[0] + "," + ("" + (size[1] - (top - bounds[1][0]) * scale[1]));
    });
    (values || []).reverse().forEach(function (_ref4) {
      var value = _ref4.value;
      var bottom = value.length === 2 ? bounds[1][0] : value[1];
      d += " L " + (value[0] - bounds[0][0]) * scale[0] + "," + ("" + (size[1] - (bottom - bounds[1][0]) * scale[1]));
    });

    if (d.length > 0) {
      d += ' Z';
    }

    var hoverProps;

    if (onHover) {
      hoverProps = {
        onMouseOver: function onMouseOver() {
          return onHover(true);
        },
        onMouseLeave: function onMouseLeave() {
          return onHover(false);
        }
      };
    }

    var clickProps;

    if (onClick) {
      clickProps = {
        onClick: onClick
      };
    }

    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("g", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path", _extends({
      d: d
    }, hoverProps, clickProps)));
  };

  var renderPoints = function renderPoints() {
    return (values || []).map(function (valueArg, index) {
      var label = valueArg.label,
          valueOnHover = valueArg.onHover,
          value = valueArg.value,
          valueRest = _objectWithoutPropertiesLoose(valueArg, ["label", "onHover", "value"]);

      var key = "p-" + index;
      var hoverProps;

      if (valueOnHover) {
        hoverProps = {
          onMouseOver: function onMouseOver() {
            return valueOnHover(true);
          },
          onMouseLeave: function onMouseLeave() {
            return valueOnHover(false);
          }
        };
      }

      var center = value.length === 2 ? value[1] : value[2];
      var shape;

      if (round) {
        var cx = (value[0] - bounds[0][0]) * scale[0];
        var cy = size[1] - (center - bounds[1][0]) * scale[1];
        shape = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("circle", _extends({
          cx: cx,
          cy: cy,
          r: strokeWidth / 2
        }, hoverProps, valueRest));
      } else {
        var x = (value[0] - bounds[0][0]) * scale[0] - strokeWidth / 2;
        var y = size[1] - (center - bounds[1][0]) * scale[1] - strokeWidth / 2;
        shape = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("rect", _extends({
          x: x,
          y: y,
          width: strokeWidth,
          height: strokeWidth
        }, hoverProps, valueRest));
      }

      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("g", {
        key: key,
        stroke: "none"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("title", null, label), shape);
    });
  };

  var contents;

  if (type === 'bar') {
    contents = renderBars();
  } else if (type === 'line') {
    contents = renderLine();
  } else if (type === 'area') {
    contents = renderArea();
  } else if (type === 'point') {
    contents = renderPoints();
  }

  var viewBounds = overflow ? [0, 0, size[0], size[1]] : [-(strokeWidth / 2), -(strokeWidth / 2), size[0] + strokeWidth, size[1] + strokeWidth];
  var viewBox = viewBounds.join(' ');
  var colorName;

  if (!useGradient) {
    if (color && color.color) colorName = color.color;else if (color) colorName = color;else if (theme.chart && theme.chart.color) colorName = theme.chart.color;else colorName = 'graph-0';
  }

  var opacity = color && color.opacity ? theme.global.opacity[color.opacity] : undefined;
  var stroke;

  if (type !== 'point') {
    if (useGradient) stroke = gradientMaskColor;else stroke = Object(_utils__WEBPACK_IMPORTED_MODULE_2__["normalizeColor"])(colorName, theme);
  } else stroke = 'none';

  var fill;

  if (type === 'point' || type === 'area') {
    if (useGradient) fill = gradientMaskColor;else fill = Object(_utils__WEBPACK_IMPORTED_MODULE_2__["normalizeColor"])(colorName, theme);
  } else fill = 'none';

  var drawing = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("g", {
    stroke: stroke,
    strokeWidth: type !== 'point' ? strokeWidth : undefined,
    fill: fill,
    strokeLinecap: round ? 'round' : 'butt',
    strokeLinejoin: round ? 'round' : 'miter',
    opacity: opacity
  }, contents);
  var defs;
  var gradientRect;

  if (useGradient && size[1]) {
    var gradientId = id + "-gradient";
    var maskId = id + "-mask";
    defs = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("defs", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("linearGradient", {
      id: gradientId,
      x1: 0,
      y1: 0,
      x2: 0,
      y2: 1
    }, color.sort(function (c1, c2) {
      return c2.value - c1.value;
    }).map(function (_ref5) {
      var value = _ref5.value,
          gradientColor = _ref5.color;
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("stop", {
        key: value,
        offset: (size[1] - (value - bounds[1][0]) * scale[1]) / size[1],
        stopColor: Object(_utils__WEBPACK_IMPORTED_MODULE_2__["normalizeColor"])(gradientColor, theme)
      });
    })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("mask", {
      id: maskId
    }, drawing));
    gradientRect = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("rect", {
      x: viewBounds[0],
      y: viewBounds[1],
      width: viewBounds[2],
      height: viewBounds[3],
      fill: "url(#" + gradientId + ")",
      mask: "url(#" + maskId + ")"
    });
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledChart__WEBPACK_IMPORTED_MODULE_3__["StyledChart"], _extends({
    ref: containerRef,
    id: id,
    viewBox: viewBox,
    preserveAspectRatio: "none",
    width: size === 'full' ? '100%' : size[0],
    height: size === 'full' ? '100%' : size[1]
  }, rest), defs, useGradient ? gradientRect : drawing);
});
Chart.displayName = 'Chart';
var ChartDoc;

if (true) {
  ChartDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Chart/doc.js").doc(Chart); // eslint-disable-line global-require
}

var ChartWrapper = ChartDoc || Chart;


/***/ }),

/***/ "./node_modules/grommet/es6/components/Chart/StyledChart.js":
/*!******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Chart/StyledChart.js ***!
  \******************************************************************/
/*! exports provided: StyledChart */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledChart", function() { return StyledChart; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");



var StyledChart = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].svg.withConfig({
  displayName: "StyledChart",
  componentId: "sc-1nae0gf-0"
})(["display:block;max-width:100%;overflow:visible;", " ", ";"], _utils__WEBPACK_IMPORTED_MODULE_1__["genericStyles"], function (props) {
  return props.theme.chart && props.theme.chart.extend;
});
StyledChart.defaultProps = {};
Object.setPrototypeOf(StyledChart.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Chart/calcs.js":
/*!************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Chart/calcs.js ***!
  \************************************************************/
/*! exports provided: calcs */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "calcs", function() { return calcs; });
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ "./node_modules/grommet/es6/components/Chart/utils.js");

var calcs = function calcs(values, options) {
  if (options === void 0) {
    options = {};
  }

  var coarseness = options.coarseness || 5;
  var steps = options.steps || [1, 1];
  var calcValues = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["normalizeValues"])(values || []);
  var min;
  var max;

  if (options.min !== undefined && options.max !== undefined) {
    var _options = options;
    min = _options.min;
    max = _options.max;
  } else if (calcValues.length) {
    // Calculate the max and min y values.
    min = calcValues[0].value[1] || 0;
    max = min;
    calcValues.forEach(function (value) {
      var y = value.value[1];
      min = Math.min(min, y);
      max = Math.max(max, y); // handle ranges of values

      if (value.value[2] !== undefined) {
        var y2 = value.value[2];
        min = Math.min(min, y2);
        max = Math.max(max, y2);
      }
    });
    min = options.min !== undefined ? options.min : min;
    max = options.max !== undefined ? options.max : max; // Calculate some reasonable y bounds based on the max and min y values.
    // This is so values like 87342.12 don't end up being displayed as the
    // graph axis edge label.

    var delta = max - min;
    var interval = Number.parseFloat((delta / coarseness).toPrecision(1));
    max = max - max % interval + interval;
    min -= min % interval;
  }

  var bounds = calcValues.length ? [[calcValues[0].value[0], calcValues[calcValues.length - 1].value[0]], [min, max]] : [[], []];
  var dimensions = [bounds[0][1] - bounds[0][0], bounds[1][1] - bounds[1][0]]; // Calculate x and y axis values across the specfied number of steps.

  var yAxis = [];
  var y = bounds[1][1];
  var yStepInterval = dimensions[1] / steps[1];

  while (y >= bounds[1][0]) {
    yAxis.push(y);
    y -= yStepInterval;
  }

  var xAxis = [];
  var x = bounds[0][0];
  var xStepInterval = dimensions[0] / steps[0];

  while (xStepInterval > 0 && x <= bounds[0][1] || xStepInterval < 0 && x >= bounds[0][1]) {
    xAxis.push(x);
    x += xStepInterval;
  } // Set bar thickness based on number of values being rendered.
  // Someday, it would be better to include the actual rendered size.
  // These values were emirically determined, trying to balance visibility
  // and overlap across resolutions.


  var thickness;
  var pad;

  if (calcValues.length < 5) {
    thickness = 'xlarge';
    pad = 'large';
  } else if (calcValues.length < 11) {
    thickness = 'large';
    pad = 'medium';
  } else if (calcValues.length < 21) {
    thickness = 'medium';
    pad = 'small';
  } else if (calcValues.length < 61) {
    thickness = 'small';
    pad = 'xsmall';
  } else if (calcValues.length < 121) {
    thickness = 'xsmall';
    pad = 'xxsmall';
  } else {
    thickness = 'hair';
  }

  return {
    axis: [xAxis, yAxis],
    bounds: bounds,
    dimensions: dimensions,
    pad: pad,
    thickness: thickness
  };
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/Chart/doc.js":
/*!**********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Chart/doc.js ***!
  \**********************************************************/
/*! exports provided: doc, docCalcs, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "docCalcs", function() { return docCalcs; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var doc = function doc(Chart) {
  var DocumentedChart = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Chart).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('Chart')).description('A graphical chart.').usage("import { Chart } from 'grommet';\n<Chart />"); // We don't include svg due to a collision on the values property
  // .intrinsicElement('svg');

  DocumentedChart.propTypes = _extends({}, _utils__WEBPACK_IMPORTED_MODULE_1__["genericProps"], {
    bounds: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number)).description("The limits for the values, specified as a two dimensional array.\n      If not specified, the bounds will automatically be set to fit\n      the provided values."),
    color: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      color: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
      opacity: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['weak', 'medium', 'strong']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool])
    }), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      color: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
      value: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number
    }))]).description("A color identifier to use for the graphic color. If an\n      array is specified, it is used to create a gradient mask. Array objects\n      indicate what color to show at what value. In the simplest case, the\n      values should map to the Y bounds values, resulting in a vertical\n      gradient. Specifying more objects allows more fine grained control over\n      where the gradient colors change.").defaultValue('accent-1'),
    gap: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['none', 'xxsmall', 'xsmall', 'small', 'medium', 'large', 'xlarge']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description("The amount of spacing between data points. This\n      is only used when the size specifies width as 'auto'."),
    id: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description("A unique identifier for the Chart. This\n      is required if more than one Chart is shown and they use color\n      gradients."),
    onClick: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Called when the user clicks on it.\n      This is only available when the type is line or area."),
    onHover: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Called with a boolean argument\n      indicating when the user hovers onto or away from it.\n      This is only available when the type is line or area."),
    overflow: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Whether the chart strokes should overflow the component. Set this\n      to true for precise positioning when stacking charts or including\n      precise axes. Set this to false to have the graphical elements\n      align with the component boundaries.").defaultValue(false),
    round: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Whether to round the line ends.').defaultValue(false),
    size: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['xxsmall', 'xsmall', 'small', 'medium', 'large', 'xlarge', 'full']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      height: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['xxsmall', 'xsmall', 'small', 'medium', 'large', 'xlarge', 'full']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
      width: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['xxsmall', 'xsmall', 'small', 'medium', 'large', 'xlarge', 'full', 'auto']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string])
    }), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description('The size of the Chart.').defaultValue({
      width: 'medium',
      height: 'small'
    }),
    thickness: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['hair', 'xsmall', 'small', 'medium', 'large', 'xlarge', 'none']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description('The width of the stroke.').defaultValue('medium'),
    type: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['bar', 'line', 'area', 'point']).description('The visual type of chart.').defaultValue('bar'),
    values: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      label: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
      // for accessibility of bars
      onClick: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func,
      onHover: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func,
      value: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number.isRequired, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number).isRequired]).isRequired
    })])).description("Array of value objects describing the data.\n      'value' is a tuple indicating the coordinate of the value or a triple\n      indicating the x coordinate and a range of two y coordinates.\n      'label' is a text string describing it.\n      'onHover' and 'onClick' only work when type='bar'.").isRequired
  });
  return DocumentedChart;
};
var docCalcs = function docCalcs(calcs) {
  var DocumentedCalcs = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(calcs).description("\n      A function to help calculate values for bounds and axis. Use it via:\n      const data = calcs(<myValues>, { coarseness: 5, steps: [1, 1] });\n      where 'data' will contain 'bounds' and 'axis' properties.\n    ").usage("import { calcs } from 'grommet';\nconst data = calcs(<values>, { coarseness: 5, steps: [1, 1] });");
  return DocumentedCalcs;
};
var themeDoc = {
  'chart.color': {
    description: 'Color of the Chart.',
    type: 'string | {dark: string, light: string}',
    defaultValue: 'accent-1'
  },
  'chart.extend': {
    description: 'Any additional style for the Chart.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'global.colors': {
    description: 'Color options.',
    type: 'object',
    defaultValue: "{\n      \"accent-1\": \"#6FFFB0\",\n      \"graph-0\": \"accent-1\",\n      ...\n    }"
  },
  'global.edgeSize': {
    description: 'The possible sizes for the thickness in the Chart.',
    type: 'object',
    defaultValue: "{\n        none: '0px',\n        hair: '1px',\n        xxsmall: '3px',\n        xsmall: '6px',\n        small: '12px',\n        medium: '24px',\n        large: '48px',\n        xlarge: '96px',\n        responsiveBreakpoint: 'small',\n    }"
  },
  'global.opacity': {
    description: 'The opacity of the Chart stroke.',
    type: 'object',
    defaultValue: "{\n      strong: 0.8,\n      medium: 0.4,\n      weak: 0.1,\n    }"
  },
  'global.size': {
    description: 'The possible sizes for Chart width and height.',
    type: 'object',
    defaultValue: "{\n      xxsmall: '48px',\n      xsmall: '96px',\n      small: '192px',\n      medium: '384px',\n      large: '768px',\n      xlarge: '1152px',\n      xxlarge: '1536px',\n      full: '100%',\n      }"
  }
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/Chart/index.js":
/*!************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Chart/index.js ***!
  \************************************************************/
/*! exports provided: Chart, calcs */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Chart__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Chart */ "./node_modules/grommet/es6/components/Chart/Chart.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Chart", function() { return _Chart__WEBPACK_IMPORTED_MODULE_0__["Chart"]; });

/* harmony import */ var _calcs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./calcs */ "./node_modules/grommet/es6/components/Chart/calcs.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "calcs", function() { return _calcs__WEBPACK_IMPORTED_MODULE_1__["calcs"]; });




/***/ }),

/***/ "./node_modules/grommet/es6/components/Chart/utils.js":
/*!************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Chart/utils.js ***!
  \************************************************************/
/*! exports provided: normalizeValues, normalizeBounds, areNormalizedValuesEquals, areNormalizedBoundsEquals */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "normalizeValues", function() { return normalizeValues; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "normalizeBounds", function() { return normalizeBounds; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "areNormalizedValuesEquals", function() { return areNormalizedValuesEquals; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "areNormalizedBoundsEquals", function() { return areNormalizedBoundsEquals; });
var normalizeValues = function normalizeValues(values) {
  return (values || []).map(function (value, index) {
    if (Array.isArray(value)) {
      return {
        value: value
      };
    }

    if (typeof value === 'number') {
      return {
        value: [index, value]
      };
    }

    return value;
  });
};
var normalizeBounds = function normalizeBounds(bounds, values) {
  var result = bounds;

  if (!result) {
    result = [[0, 1], [0, 1]];
    (values || []).forEach(function (value) {
      result[0][0] = Math.min(result[0][0], value.value[0]);
      result[0][1] = Math.max(result[0][1], value.value[0]);
      result[1][0] = Math.min(result[1][0], value.value[1]);
      result[1][1] = Math.max(result[1][1], value.value[1]);
    });
  }

  return result;
};
var areNormalizedValuesEquals = function areNormalizedValuesEquals(valuesX, valuesY) {
  if (!valuesX || !valuesY) return false;
  if (valuesX.length !== valuesY.length) return false;
  if (valuesX.length === 0) return true;
  if (!valuesX[0].value || !valuesY[0].value) return false;
  return valuesX.every(function (_, i) {
    return valuesX[i].value.every(function (value, index) {
      return value === valuesY[i].value[index];
    });
  });
};
var areNormalizedBoundsEquals = function areNormalizedBoundsEquals(boundsX, boundsY) {
  if (!boundsX || !boundsY) return false;
  if (boundsX.length !== boundsY.length || !(boundsX.length > 0)) return false;
  return boundsX.every(function (_, i) {
    return boundsX[i].every(function (value, index) {
      return value === boundsY[i][index];
    });
  });
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/CheckBox/CheckBox.js":
/*!******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/CheckBox/CheckBox.js ***!
  \******************************************************************/
/*! exports provided: CheckBox */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CheckBox", function() { return CheckBoxWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils_object__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/object */ "./node_modules/grommet/es6/utils/object.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
/* harmony import */ var _hocs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../hocs */ "./node_modules/grommet/es6/components/hocs.js");
/* harmony import */ var _StyledCheckBox__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./StyledCheckBox */ "./node_modules/grommet/es6/components/CheckBox/StyledCheckBox.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }











var stopLabelClick = function stopLabelClick(event) {
  // prevents clicking on the label trigging the event twice
  // https://stackoverflow.com/questions/24501497/why-the-onclick-element-will-trigger-twice-for-label-element
  if (event.target.type !== 'checkbox') {
    event.stopPropagation();
  }
};

var CheckBox = function CheckBox(_ref) {
  var _ref2;

  var checked = _ref.checked,
      disabled = _ref.disabled,
      focus = _ref.focus,
      forwardRef = _ref.forwardRef,
      id = _ref.id,
      label = _ref.label,
      name = _ref.name,
      onChange = _ref.onChange,
      reverse = _ref.reverse,
      theme = _ref.theme,
      toggle = _ref.toggle,
      indeterminate = _ref.indeterminate,
      rest = _objectWithoutPropertiesLoose(_ref, ["checked", "disabled", "focus", "forwardRef", "id", "label", "name", "onChange", "reverse", "theme", "toggle", "indeterminate"]);

  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    if (checked && indeterminate) {
      console.warn('Checkbox cannot be "checked" and "indeterminate" at the same time.');
    }

    if (toggle && indeterminate) {
      console.warn('Checkbox of type toggle does not have "indeterminate" state.');
    }
  }, [checked, toggle, indeterminate]);
  var themeableProps = {
    checked: checked,
    disabled: disabled,
    focus: focus,
    reverse: reverse,
    toggle: toggle,
    indeterminate: indeterminate
  };
  var hidden;

  if (disabled && checked) {
    hidden = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
      name: name,
      type: "hidden",
      value: "true"
    });
  }

  var _theme$checkBox$icons = theme.checkBox.icons,
      CheckedIcon = _theme$checkBox$icons.checked,
      IndeterminateIcon = _theme$checkBox$icons.indeterminate;
  var borderColor = Object(_utils__WEBPACK_IMPORTED_MODULE_8__["normalizeColor"])(theme.checkBox.border.color, theme);

  if (checked) {
    borderColor = Object(_utils__WEBPACK_IMPORTED_MODULE_8__["normalizeColor"])(theme.checkBox.color || 'control', theme);
  }

  var visual = toggle ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledCheckBox__WEBPACK_IMPORTED_MODULE_7__["StyledCheckBoxToggle"], themeableProps, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledCheckBox__WEBPACK_IMPORTED_MODULE_7__["StyledCheckBoxKnob"], themeableProps)) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledCheckBox__WEBPACK_IMPORTED_MODULE_7__["StyledCheckBoxBox"], _extends({
    as: _Box__WEBPACK_IMPORTED_MODULE_5__["Box"],
    align: "center",
    justify: "center",
    width: theme.checkBox.size,
    height: theme.checkBox.size,
    border: {
      size: theme.checkBox.border.width,
      color: borderColor
    },
    round: theme.checkBox.check.radius
  }, themeableProps), !indeterminate && checked && (CheckedIcon ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(CheckedIcon, {
    theme: theme,
    as: _StyledCheckBox__WEBPACK_IMPORTED_MODULE_7__["StyledCheckBoxIcon"]
  }) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledCheckBox__WEBPACK_IMPORTED_MODULE_7__["StyledCheckBoxIcon"], _extends({
    theme: theme,
    viewBox: "0 0 24 24",
    preserveAspectRatio: "xMidYMid meet"
  }, themeableProps), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path", {
    fill: "none",
    d: "M6,11.3 L10.3,16 L18,6.2"
  }))), !checked && indeterminate && (IndeterminateIcon ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(IndeterminateIcon, {
    theme: theme,
    as: _StyledCheckBox__WEBPACK_IMPORTED_MODULE_7__["StyledCheckBoxIcon"]
  }) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledCheckBox__WEBPACK_IMPORTED_MODULE_7__["StyledCheckBoxIcon"], _extends({
    theme: theme,
    viewBox: "0 0 24 24",
    preserveAspectRatio: "xMidYMid meet"
  }, themeableProps), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path", {
    fill: "none",
    d: "M6,12 L18,12"
  }))));
  var side = reverse ? 'left' : 'right';
  var checkBoxNode = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledCheckBox__WEBPACK_IMPORTED_MODULE_7__["StyledCheckBox"], _extends({
    as: _Box__WEBPACK_IMPORTED_MODULE_5__["Box"],
    align: "center",
    justify: "center",
    margin: label && (_ref2 = {}, _ref2[side] = theme.checkBox.gap || 'small', _ref2)
  }, themeableProps), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledCheckBox__WEBPACK_IMPORTED_MODULE_7__["StyledCheckBoxInput"], _extends({}, rest, {
    ref: forwardRef,
    type: "checkbox"
  }, Object(_utils_object__WEBPACK_IMPORTED_MODULE_3__["removeUndefined"])({
    id: id,
    name: name,
    checked: checked,
    disabled: disabled,
    onChange: onChange
  }), themeableProps)), visual, hidden);
  var normalizedLabel = typeof label === 'string' ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, label) : label;
  var first = reverse ? normalizedLabel : checkBoxNode;
  var second = reverse ? checkBoxNode : normalizedLabel;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledCheckBox__WEBPACK_IMPORTED_MODULE_7__["StyledCheckBoxContainer"], _extends({
    reverse: reverse
  }, Object(_utils_object__WEBPACK_IMPORTED_MODULE_3__["removeUndefined"])({
    htmlFor: id,
    disabled: disabled
  }), {
    checked: checked,
    onClick: stopLabelClick
  }, themeableProps), first, second);
};

CheckBox.defaultProps = {};
Object.setPrototypeOf(CheckBox.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_4__["defaultProps"]);
var CheckBoxDoc;

if (true) {
  // eslint-disable-next-line global-require
  CheckBoxDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/CheckBox/doc.js").doc(CheckBox);
}

var CheckBoxWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(Object(_hocs__WEBPACK_IMPORTED_MODULE_6__["withFocus"])(), styled_components__WEBPACK_IMPORTED_MODULE_2__["withTheme"], _hocs__WEBPACK_IMPORTED_MODULE_6__["withForwardRef"])(CheckBoxDoc || CheckBox);


/***/ }),

/***/ "./node_modules/grommet/es6/components/CheckBox/StyledCheckBox.js":
/*!************************************************************************!*\
  !*** ./node_modules/grommet/es6/components/CheckBox/StyledCheckBox.js ***!
  \************************************************************************/
/*! exports provided: StyledCheckBoxIcon, StyledCheckBoxContainer, StyledCheckBoxInput, StyledCheckBoxBox, StyledCheckBoxToggle, StyledCheckBoxKnob, StyledCheckBox */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledCheckBoxIcon", function() { return StyledCheckBoxIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledCheckBoxContainer", function() { return StyledCheckBoxContainer; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledCheckBoxInput", function() { return StyledCheckBoxInput; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledCheckBoxBox", function() { return StyledCheckBoxBox; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledCheckBoxToggle", function() { return StyledCheckBoxToggle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledCheckBoxKnob", function() { return StyledCheckBoxKnob; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledCheckBox", function() { return StyledCheckBox; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");



var disabledStyle = "\n  opacity: 0.5;\n  cursor: default;\n";
var hoverStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])([":hover input:not([disabled]) + div,:hover input:not([disabled]) + span{border-color:", ";}"], function (props) {
  return Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.checkBox.hover.border.color, props.theme);
});
var StyledCheckBoxIcon = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].svg.withConfig({
  displayName: "StyledCheckBox__StyledCheckBoxIcon",
  componentId: "sc-1dbk5ju-0"
})(["box-sizing:border-box;stroke-width:", ";stroke:", ";width:", ";height:", ";", ";"], function (props) {
  return props.theme.checkBox.check.thickness;
}, function (props) {
  return Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.checkBox.color || 'control', props.theme);
}, function (props) {
  return props.theme.checkBox.icon.size || props.theme.checkBox.size;
}, function (props) {
  return props.theme.checkBox.icon.size || props.theme.checkBox.size;
}, function (props) {
  return props.theme.checkBox.icon.extend;
});
StyledCheckBoxIcon.defaultProps = {};
Object.setPrototypeOf(StyledCheckBoxIcon.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var StyledCheckBoxContainer = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].label.withConfig({
  displayName: "StyledCheckBox__StyledCheckBoxContainer",
  componentId: "sc-1dbk5ju-1"
})(["display:flex;flex-direction:row;align-items:center;user-select:none;", " ", " ", " ", ""], function (props) {
  return props.disabled && disabledStyle;
}, function (props) {
  return !props.disabled && 'cursor: pointer;';
}, function (props) {
  return props.theme.checkBox.hover.border.color && hoverStyle;
}, function (props) {
  return props.theme.checkBox.extend;
});
StyledCheckBoxContainer.defaultProps = {};
Object.setPrototypeOf(StyledCheckBoxContainer.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var StyledCheckBoxInput = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].input.withConfig({
  displayName: "StyledCheckBox__StyledCheckBoxInput",
  componentId: "sc-1dbk5ju-2"
})(["opacity:0;-moz-appearance:none;width:0;height:0;margin:0;", ":checked + span > span{left:calc( ", " - ", " );background:", ";}"], function (props) {
  return !props.disabled && 'cursor: pointer;';
}, function (props) {
  return props.theme.checkBox.toggle.size;
}, function (props) {
  return props.theme.checkBox.size;
}, function (props) {
  return Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.checkBox.color || 'control', props.theme);
});
StyledCheckBoxInput.defaultProps = {};
Object.setPrototypeOf(StyledCheckBoxInput.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var StyledCheckBoxBox = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledCheckBox__StyledCheckBoxBox",
  componentId: "sc-1dbk5ju-3"
})(["", ";", ";"], function (props) {
  return props.focus && _utils__WEBPACK_IMPORTED_MODULE_1__["focusStyle"];
}, function (props) {
  return props.theme.checkBox.check.extend;
});
StyledCheckBoxBox.defaultProps = {};
Object.setPrototypeOf(StyledCheckBoxBox.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var StyledCheckBoxToggle = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].span.withConfig({
  displayName: "StyledCheckBox__StyledCheckBoxToggle",
  componentId: "sc-1dbk5ju-4"
})(["box-sizing:border-box;vertical-align:middle;display:inline-block;width:", ";height:", ";border:", " solid;border-color:", ";border-radius:", ";background-color:", ";", ";", ";"], function (props) {
  return props.theme.checkBox.toggle.size;
}, function (props) {
  return props.theme.checkBox.size;
}, function (props) {
  return props.theme.checkBox.border.width;
}, function (props) {
  return Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.checkBox.border.color, props.theme);
}, function (props) {
  return props.theme.checkBox.toggle.radius;
}, function (props) {
  return props.theme.checkBox.toggle.background ? Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.checkBox.toggle.background, props.theme) : 'transparent';
}, function (props) {
  return props.focus && _utils__WEBPACK_IMPORTED_MODULE_1__["focusStyle"];
}, function (props) {
  return props.theme.checkBox.toggle.extend;
});
StyledCheckBoxToggle.defaultProps = {};
Object.setPrototypeOf(StyledCheckBoxToggle.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var StyledCheckBoxKnob = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].span.withConfig({
  displayName: "StyledCheckBox__StyledCheckBoxKnob",
  componentId: "sc-1dbk5ju-5"
})(["box-sizing:border-box;position:relative;display:inherit;top:-", ";left:-", ";transition:all 0.3s;width:", ";height:", ";background:", ";border-radius:", ";", ";"], function (props) {
  return props.theme.checkBox.border.width;
}, function (props) {
  return props.theme.checkBox.border.width;
}, function (props) {
  return props.theme.checkBox.size;
}, function (props) {
  return props.theme.checkBox.size;
}, function (props) {
  return Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.checkBox.toggle.color[props.theme.dark ? 'dark' : 'light'], props.theme);
}, function (props) {
  return props.theme.checkBox.toggle.radius;
}, function (props) {
  return props.theme.checkBox.toggle.knob.extend;
});
StyledCheckBoxKnob.defaultProps = {};
Object.setPrototypeOf(StyledCheckBoxKnob.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var StyledCheckBox = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledCheckBox",
  componentId: "sc-1dbk5ju-6"
})(["flex-shrink:0;"]);
StyledCheckBox.defaultProps = {};
Object.setPrototypeOf(StyledCheckBox.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);


/***/ }),

/***/ "./node_modules/grommet/es6/components/CheckBox/doc.js":
/*!*************************************************************!*\
  !*** ./node_modules/grommet/es6/components/CheckBox/doc.js ***!
  \*************************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");


var doc = function doc(CheckBox) {
  var DocumentedCheckBox = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(CheckBox).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('CheckBox')).description('A checkbox toggle control.').usage("import { CheckBox } from 'grommet';\n<CheckBox />").intrinsicElement('input');
  DocumentedCheckBox.propTypes = {
    checked: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Same as React <input checked={} />').defaultValue(false),
    disabled: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Same as React <input disabled={} />. Also adds a hidden input element\n      with the same name so form submissions work.").defaultValue(false),
    id: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description('The DOM id attribute value to use for the underlying <input/> element.'),
    label: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].node.description('Label text to place next to the control.'),
    name: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description("The DOM name attribute value to use for the underlying <input/> \n      element."),
    onChange: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Function that will be called when the user clicks the check box. It\n      will be passed a React event object. The current state can be accessed\n      via event.target.checked. Same as React <input onChange={} />."),
    reverse: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Whether to show the label in front of the checkbox.').defaultValue(false),
    toggle: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Whether to visualize it as a toggle switch.').defaultValue(false),
    indeterminate: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Whether state is indeterminate.\nNOTE: This can only be used with non-toggle components").defaultValue(false)
  };
  return DocumentedCheckBox;
};
var themeDoc = {
  'checkBox.border.color': {
    description: 'The border color when unchecked.',
    type: "string | { 'dark': string, 'light': string }",
    defaultValue: "{ dark: 'rgba(255, 255, 255, 0.5)', light: 'rgba(0, 0, 0, 0.15)' }"
  },
  'checkBox.border.width': {
    description: 'The border width when unchecked.',
    type: 'string',
    defaultValue: '2px'
  },
  'checkBox.check.extend': {
    description: 'Any additional style for checked CheckBox.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'checkBox.check.radius': {
    description: 'The radius of the checked icon.',
    type: 'string',
    defaultValue: '4px'
  },
  'checkBox.check.thickness': {
    description: 'The stroke width of the checked icon.',
    type: 'string',
    defaultValue: '4px'
  },
  'checkBox.color': {
    description: 'The stroke color for the CheckBox icon, and the border when checked.',
    type: "string | { 'dark': string, 'light': string }",
    defaultValue: undefined
  },
  'checkBox.extend': {
    description: 'Any additional style for CheckBox.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'checkBox.gap': {
    description: 'The right margin of the CheckBox to its label.',
    type: 'string',
    defaultValue: undefined
  },
  'checkBox.hover.border.color': {
    description: 'The border color on hover.',
    type: "string | { 'dark': string, 'light': string }",
    defaultValue: "{ dark: 'white', light: 'black' }"
  },
  'checkBox.icon.size': {
    description: 'The size of the checked icon.',
    type: 'string',
    defaultValue: undefined
  },
  'checkBox.icon.extend': {
    description: 'Any additional style for CheckBox icon.',
    type: 'string | (props)=>{}',
    defaultValue: undefined
  },
  'checkBox.icons.checked': {
    description: 'The icon to use when checked.',
    type: 'React.Element',
    defaultValue: undefined
  },
  'checkBox.icons.indeterminate': {
    description: 'The icon to use when indeterminate.',
    type: 'React.Element',
    defaultValue: undefined
  },
  'checkBox.size': {
    description: 'The height and width used for the CheckBox icon.',
    type: 'string',
    defaultValue: '24px'
  },
  'checkBox.toggle.background': {
    description: 'The background color of the toggle.',
    type: "string | { 'dark': string, 'light': string }",
    defaultValue: undefined
  },
  'checkBox.toggle.color': {
    description: 'The color of the toggle knob.',
    type: "string | { 'dark': string, 'light': string }",
    defaultValue: "{ dark: '#d9d9d9', light: '#d9d9d9' }"
  },
  'checkBox.toggle.extend': {
    description: 'Any additional style for CheckBox toggle.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'checkBox.toggle.knob.extend': {
    description: 'Any additional style for the CheckBox toggle knob.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'checkBox.toggle.radius': {
    description: 'The border radius used for the toggle and the knob.',
    type: 'string',
    defaultValue: '24px'
  },
  'checkBox.toggle.size': {
    description: 'The width size of the toggle.',
    type: 'string',
    defaultValue: '42px'
  }
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/CheckBox/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/grommet/es6/components/CheckBox/index.js ***!
  \***************************************************************/
/*! exports provided: CheckBox */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _CheckBox__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CheckBox */ "./node_modules/grommet/es6/components/CheckBox/CheckBox.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "CheckBox", function() { return _CheckBox__WEBPACK_IMPORTED_MODULE_0__["CheckBox"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Clock/Analog.js":
/*!*************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Clock/Analog.js ***!
  \*************************************************************/
/*! exports provided: Analog */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Analog", function() { return AnalogWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _StyledClock__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./StyledClock */ "./node_modules/grommet/es6/components/Clock/StyledClock.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }






 // this will serve both minutes and hours (360 / 6)

var ANGLE_UNIT = 6; // 360 / 12

var HOUR_ANGLE_UNIT = 30;

var getClockDimensions = function getClockDimensions(theme) {
  return {
    size: Object(_utils__WEBPACK_IMPORTED_MODULE_3__["parseMetricToNum"])(theme.clock.analog.size.medium),
    secondSize: Object(_utils__WEBPACK_IMPORTED_MODULE_3__["parseMetricToNum"])(theme.clock.analog.second.size),
    minuteSize: Object(_utils__WEBPACK_IMPORTED_MODULE_3__["parseMetricToNum"])(theme.clock.analog.minute.size),
    hourSize: Object(_utils__WEBPACK_IMPORTED_MODULE_3__["parseMetricToNum"])(theme.clock.analog.hour.size)
  };
};

var getClockState = function getClockState(_ref) {
  var hours = _ref.hours,
      minutes = _ref.minutes,
      seconds = _ref.seconds;
  var hour12 = hours > 12 ? hours - 12 : hours;
  var minuteAngle = minutes * ANGLE_UNIT;
  return {
    // offset hour angle by half of the minute angle so that it gets closer
    // to the next hour
    hourAngle: hour12 * HOUR_ANGLE_UNIT + minutes / 2,
    minuteAngle: minuteAngle,
    secondAngle: seconds * ANGLE_UNIT
  };
};

var Analog =
/*#__PURE__*/
function (_Component) {
  _inheritsLoose(Analog, _Component);

  function Analog() {
    var _this;

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _Component.call.apply(_Component, [this].concat(args)) || this;

    _defineProperty(_assertThisInitialized(_this), "state", {});

    return _this;
  }

  Analog.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {
    var elements = nextProps.elements;
    var nextState = getClockState(elements);

    if (prevState.hourAngle === undefined || Object.keys(nextState).some(function (k) {
      return prevState[k] !== nextState[k];
    })) {
      return nextState;
    }

    return null;
  };

  var _proto = Analog.prototype;

  _proto.render = function render() {
    var _this$props = this.props,
        precision = _this$props.precision,
        theme = _this$props.theme,
        rest = _objectWithoutPropertiesLoose(_this$props, ["precision", "theme"]);

    var _this$state = this.state,
        hourAngle = _this$state.hourAngle,
        minuteAngle = _this$state.minuteAngle,
        secondAngle = _this$state.secondAngle;

    var _getClockDimensions = getClockDimensions(theme),
        size = _getClockDimensions.size,
        secondSize = _getClockDimensions.secondSize,
        minuteSize = _getClockDimensions.minuteSize,
        hourSize = _getClockDimensions.hourSize;

    var halfSize = size / 2;
    var secondHand;

    if (precision === 'seconds') {
      secondHand = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledClock__WEBPACK_IMPORTED_MODULE_5__["StyledSecond"], {
        x1: halfSize,
        y1: halfSize,
        x2: halfSize,
        y2: secondSize,
        stroke: "#000000",
        strokeLinecap: theme.clock.analog.second.shape,
        style: {
          transform: "rotate(" + secondAngle + "deg)",
          transformOrigin: halfSize + "px " + halfSize + "px"
        }
      });
    }

    var minuteHand;

    if (precision === 'seconds' || precision === 'minutes') {
      minuteHand = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledClock__WEBPACK_IMPORTED_MODULE_5__["StyledMinute"], {
        x1: halfSize,
        y1: halfSize,
        x2: halfSize,
        y2: minuteSize,
        stroke: "#000000",
        strokeLinecap: theme.clock.analog.minute.shape,
        style: {
          transform: "rotate(" + minuteAngle + "deg)",
          transformOrigin: halfSize + "px " + halfSize + "px"
        }
      });
    }

    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledClock__WEBPACK_IMPORTED_MODULE_5__["StyledAnalog"], _extends({
      version: "1.1",
      width: size,
      height: size,
      preserveAspectRatio: "xMidYMid meet",
      viewBox: "0 0 " + size + " " + size
    }, rest), secondHand, minuteHand, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledClock__WEBPACK_IMPORTED_MODULE_5__["StyledHour"], {
      x1: halfSize,
      y1: halfSize,
      x2: halfSize,
      y2: hourSize,
      stroke: "#000000",
      strokeLinecap: theme.clock.analog.hour.shape,
      style: {
        transform: "rotate(" + hourAngle + "deg)",
        transformOrigin: halfSize + "px " + halfSize + "px"
      }
    }));
  };

  return Analog;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

_defineProperty(Analog, "defaultProps", {
  size: 'medium'
});

Object.setPrototypeOf(Analog.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_4__["defaultProps"]);
var AnalogWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(styled_components__WEBPACK_IMPORTED_MODULE_2__["withTheme"])(Analog);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Clock/Clock.js":
/*!************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Clock/Clock.js ***!
  \************************************************************/
/*! exports provided: Clock */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Clock", function() { return ClockWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Analog__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Analog */ "./node_modules/grommet/es6/components/Clock/Analog.js");
/* harmony import */ var _Digital__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Digital */ "./node_modules/grommet/es6/components/Clock/Digital.js");
function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }




var TIME_REGEXP = /T([0-9]{2}):([0-9]{2})(?::([0-9.,]{2,}))?/;
var DURATION_REGEXP = /^(-|\+)?P.*T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?$/;

var parseTime = function parseTime(time, hourLimit) {
  var result = {};

  if (time) {
    var match = DURATION_REGEXP.exec(time);

    if (match) {
      result.hours = parseFloat(match[2]);

      if (hourLimit === 12) {
        result.hours12 = result.hours > 12 ? result.hours - 12 : result.hours;
      }

      result.minutes = parseFloat(match[3]) || 0;
      result.seconds = parseFloat(match[4]) || 0;
      result.duration = true;
    } else {
      match = TIME_REGEXP.exec(time);

      if (match) {
        result.hours = parseFloat(match[1]);

        if (hourLimit === 12) {
          result.hours12 = result.hours > 12 ? result.hours - 12 : result.hours;
        }

        result.minutes = parseFloat(match[2]) || 0;
        result.seconds = parseFloat(match[3]) || 0;
      } else {
        console.error("Grommet Clock cannot parse '" + time + "'");
      }
    }
  } else {
    var date = new Date();
    result.hours = date.getHours();
    result.minutes = date.getMinutes();
    result.seconds = date.getSeconds();
  }

  return result;
};

var Clock =
/*#__PURE__*/
function (_Component) {
  _inheritsLoose(Clock, _Component);

  function Clock() {
    var _this;

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _Component.call.apply(_Component, [this].concat(args)) || this;

    _defineProperty(_assertThisInitialized(_this), "state", {});

    return _this;
  }

  Clock.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {
    var hourLimit = nextProps.hourLimit,
        time = nextProps.time;
    var elements = prevState.elements;

    if (!elements || time) {
      var nextElements = parseTime(time, hourLimit);

      if (!elements) {
        return {
          elements: nextElements
        };
      }

      if (Object.keys(nextElements).some(function (k) {
        return elements[k] !== nextElements[k];
      })) {
        return {
          elements: nextElements
        };
      }
    }

    return null;
  };

  var _proto = Clock.prototype;

  _proto.componentDidMount = function componentDidMount() {
    var run = this.props.run;

    if (run) {
      this.run();
    }
  };

  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {
    var run = this.props.run;

    if (run && !prevProps.run) {
      this.run();
    } else if (!run && prevProps.run) {
      clearInterval(this.timer);
    }
  };

  _proto.componentWillUnmount = function componentWillUnmount() {
    clearInterval(this.timer);
  };

  _proto.run = function run() {
    var _this2 = this;

    var _this$props = this.props,
        hourLimit = _this$props.hourLimit,
        onChange = _this$props.onChange,
        precision = _this$props.precision,
        run = _this$props.run;
    var elements = this.state.elements; // set the interval time based on the precision

    var interval = 1000;
    var increment = 'seconds';

    if (precision !== 'seconds' && elements.seconds === 0) {
      interval *= 60;
      increment = 'minutes';

      if (precision !== 'minutes' && elements.minutes === 0) {
        interval *= 60;
        increment = 'hours';
      }
    }

    clearInterval(this.timer);
    this.timer = setInterval(function () {
      var previousElements = _this2.state.elements;

      var nextElements = _extends({}, previousElements); // adjust time based on precision


      if (increment === 'seconds') {
        if (run === 'backward') {
          nextElements.seconds -= 1;
        } else {
          nextElements.seconds += 1;
        }
      } else if (increment === 'minutes') {
        if (run === 'backward') {
          nextElements.minutes -= 1;
        } else {
          nextElements.minutes += 1;
        }
      } else if (increment === 'hours') {
        if (run === 'backward') {
          nextElements.hours -= 1;
        } else {
          nextElements.hours += 1;
        }
      } // deal with overflows


      if (nextElements.seconds >= 60) {
        nextElements.minutes += Math.floor(nextElements.seconds / 60);
        nextElements.seconds = 0;
      } else if (nextElements.seconds < 0) {
        nextElements.minutes += Math.floor(nextElements.seconds / 60);
        nextElements.seconds = 59;
      }

      if (nextElements.minutes >= 60) {
        nextElements.hours += Math.floor(nextElements.minutes / 60);
        nextElements.minutes = 0;
      } else if (nextElements.minutes < 0) {
        nextElements.hours += Math.floor(nextElements.minutes / 60);
        nextElements.minutes = 59;
      }

      if (nextElements.hours >= 24 || nextElements.hours < 0) {
        nextElements.hours = 0;
      }

      if (hourLimit === 12) {
        nextElements.hours12 = nextElements.hours > 12 ? nextElements.hours - 12 : nextElements.hours;
      }

      _this2.setState({
        elements: nextElements
      }, function () {
        if (onChange) {
          if (elements.duration) {
            onChange("P" + elements.hours + "H" + elements.minutes + "M" + elements.seconds + "S");
          } else {
            onChange("T" + elements.hours + ":" + elements.minutes + ":" + elements.seconds);
          }
        }
      });
    }, interval);
  };

  _proto.render = function render() {
    var _this$props2 = this.props,
        type = _this$props2.type,
        rest = _objectWithoutPropertiesLoose(_this$props2, ["type"]);

    var elements = this.state.elements;
    var content;

    if (type === 'analog') {
      content = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Analog__WEBPACK_IMPORTED_MODULE_1__["Analog"], _extends({
        elements: elements
      }, rest));
    } else if (type === 'digital') {
      content = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Digital__WEBPACK_IMPORTED_MODULE_2__["Digital"], _extends({
        elements: elements
      }, rest));
    }

    return content;
  };

  return Clock;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

_defineProperty(Clock, "defaultProps", {
  hourLimit: 24,
  precision: 'seconds',
  run: 'forward',
  size: 'medium',
  type: 'analog'
});

var ClockDoc;

if (true) {
  ClockDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Clock/doc.js").doc(Clock); // eslint-disable-line global-require
}

var ClockWrapper = ClockDoc || Clock;


/***/ }),

/***/ "./node_modules/grommet/es6/components/Clock/Digital.js":
/*!**************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Clock/Digital.js ***!
  \**************************************************************/
/*! exports provided: Digital */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Digital", function() { return Digital; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
/* harmony import */ var _StyledClock__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./StyledClock */ "./node_modules/grommet/es6/components/Clock/StyledClock.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }





var Digit =
/*#__PURE__*/
function (_Component) {
  _inheritsLoose(Digit, _Component);

  function Digit() {
    var _this;

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _Component.call.apply(_Component, [this].concat(args)) || this;

    _defineProperty(_assertThisInitialized(_this), "state", {});

    return _this;
  }

  Digit.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {
    var number = nextProps.number;

    if (number !== prevState.number) {
      return {
        previous: prevState.number,
        number: number
      };
    }

    return null;
  };

  var _proto = Digit.prototype;

  _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {
    var _this2 = this;

    var previous = this.state.previous;

    if (prevState.previous === undefined && previous !== undefined) {
      clearTimeout(this.timer);
      this.timer = setTimeout(function () {
        _this2.setState({
          previous: undefined
        });
      }, 900);
    }
  };

  _proto.componentWillUnmount = function componentWillUnmount() {
    clearTimeout(this.timer);
  };

  _proto.render = function render() {
    /* eslint-disable-next-line react/prop-types */
    var _this$props = this.props,
        run = _this$props.run,
        size = _this$props.size;
    var _this$state = this.state,
        number = _this$state.number,
        previous = _this$state.previous;

    if (previous !== undefined) {
      var direction = run === 'backward' ? 'down' : 'up';
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledClock__WEBPACK_IMPORTED_MODULE_2__["StyledDigitalDigit"], {
        size: size
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledClock__WEBPACK_IMPORTED_MODULE_2__["StyledDigitalPrevious"], {
        direction: direction
      }, Math.floor(previous)), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledClock__WEBPACK_IMPORTED_MODULE_2__["StyledDigitalNext"], {
        direction: direction
      }, Math.floor(number)));
    }

    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledClock__WEBPACK_IMPORTED_MODULE_2__["StyledDigitalDigit"], {
      size: size
    }, Math.floor(number));
  };

  return Digit;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

var Element = function Element(_ref) {
  var number = _ref.number,
      run = _ref.run,
      sep = _ref.sep,
      size = _ref.size;
  var tens = Math.floor(number / 10);
  var ones = number % 10;
  var result = [react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Digit, {
    key: "tens",
    run: run,
    size: size,
    number: tens
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Digit, {
    key: "ones",
    run: run,
    size: size,
    number: ones
  })];

  if (sep) {
    result.unshift(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledClock__WEBPACK_IMPORTED_MODULE_2__["StyledDigitalDigit"], {
      key: "sep",
      size: size
    }, ":"));
  }

  return result;
};

var Digital = function Digital(props) {
  var elements = props.elements,
      precision = props.precision,
      run = props.run,
      size = props.size,
      rest = _objectWithoutPropertiesLoose(props, ["elements", "precision", "run", "size"]);

  var seconds;

  if (precision === 'seconds') {
    seconds = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Element, {
      number: elements.seconds,
      run: run,
      size: size,
      sep: true
    });
  }

  var minutes;

  if (precision === 'minutes' || precision === 'seconds') {
    minutes = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Element, {
      number: elements.minutes,
      run: run,
      size: size,
      sep: true
    });
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_1__["Box"], _extends({
    direction: "row"
  }, rest), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Element, {
    number: elements.hours12 || elements.hours,
    run: run,
    size: size
  }), minutes, seconds);
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/Clock/StyledClock.js":
/*!******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Clock/StyledClock.js ***!
  \******************************************************************/
/*! exports provided: StyledHour, StyledMinute, StyledSecond, StyledAnalog, StyledDigitalDigit, StyledDigitalPrevious, StyledDigitalNext */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledHour", function() { return StyledHour; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledMinute", function() { return StyledMinute; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledSecond", function() { return StyledSecond; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledAnalog", function() { return StyledAnalog; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledDigitalDigit", function() { return StyledDigitalDigit; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledDigitalPrevious", function() { return StyledDigitalPrevious; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledDigitalNext", function() { return StyledDigitalNext; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");



var StyledHour = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].line.withConfig({
  displayName: "StyledClock__StyledHour",
  componentId: "y4xw8s-0"
})(["stroke-width:", ";stroke:", ";transition:stroke 1s ease-out;"], function (props) {
  return props.theme.clock.analog.hour.width;
}, function (props) {
  return Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.clock.analog.hour.color, props.theme);
});
StyledHour.defaultProps = {};
Object.setPrototypeOf(StyledHour.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var StyledMinute = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].line.withConfig({
  displayName: "StyledClock__StyledMinute",
  componentId: "y4xw8s-1"
})(["stroke-width:", ";stroke:", ";transition:stroke 1s ease-out;"], function (props) {
  return props.theme.clock.analog.minute.width;
}, function (props) {
  return Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.clock.analog.minute.color, props.theme);
});
StyledMinute.defaultProps = {};
Object.setPrototypeOf(StyledMinute.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var StyledSecond = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].line.withConfig({
  displayName: "StyledClock__StyledSecond",
  componentId: "y4xw8s-2"
})(["stroke-width:", ";stroke:", ";transition:stroke 1s ease-out;"], function (props) {
  return props.theme.clock.analog.second.width;
}, function (props) {
  return Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.clock.analog.second.color, props.theme);
});
StyledSecond.defaultProps = {};
Object.setPrototypeOf(StyledSecond.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var StyledAnalog = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].svg.withConfig({
  displayName: "StyledClock__StyledAnalog",
  componentId: "y4xw8s-3"
})(["width:", ";height:", ";", " ", ";"], function (props) {
  return props.theme.clock.analog.size[props.size];
}, function (props) {
  return props.theme.clock.analog.size[props.size];
}, _utils__WEBPACK_IMPORTED_MODULE_1__["genericStyles"], function (props) {
  return props.theme.clock.analog && props.theme.clock.analog.extend;
});
StyledAnalog.defaultProps = {};
Object.setPrototypeOf(StyledAnalog.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);

var sizeStyle = function sizeStyle(props) {
  // size is a combination of the level and size properties
  var size = props.size || 'medium';
  var data = props.theme.clock.digital.text[size];
  return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["font-size:", ";line-height:", ";"], data.size, data.height);
};

var StyledDigitalDigit = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledClock__StyledDigitalDigit",
  componentId: "y4xw8s-4"
})(["position:relative;width:0.8em;text-align:center;overflow:hidden;", ";"], function (props) {
  return sizeStyle(props);
});
StyledDigitalDigit.defaultProps = {};
Object.setPrototypeOf(StyledDigitalDigit.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var previousUp = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["keyframes"])(["0%{transform:translateY(0);}100%{transform:translateY(-100%);}"]);
var previousDown = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["keyframes"])(["0%{transform:translateY(0);}100%{transform:translateY(100%);}"]);
var StyledDigitalPrevious = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledClock__StyledDigitalPrevious",
  componentId: "y4xw8s-5"
})(["position:absolute;top:0;left:0;width:0.8em;text-align:center;animation:", " 0.5s forwards;"], function (props) {
  return props.direction === 'down' ? previousDown : previousUp;
});
StyledDigitalPrevious.defaultProps = {};
Object.setPrototypeOf(StyledDigitalPrevious.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var nextUp = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["keyframes"])(["0%{transform:translateY(100%);}100%{transform:translateY(0);}"]);
var nextDown = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["keyframes"])(["0%{transform:translateY(-100%);}100%{transform:translateY(0);}"]);
var StyledDigitalNext = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledClock__StyledDigitalNext",
  componentId: "y4xw8s-6"
})(["position:absolute;top:0;left:0;width:0.8em;text-align:center;animation:", " 0.5s forwards;"], function (props) {
  return props.direction === 'down' ? nextDown : nextUp;
});
StyledDigitalNext.defaultProps = {};
Object.setPrototypeOf(StyledDigitalNext.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Clock/doc.js":
/*!**********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Clock/doc.js ***!
  \**********************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var doc = function doc(Clock) {
  var DocumentedClock = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Clock).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('Clock')).description('A clock with timezone awareness.').usage("import { Clock } from 'grommet';\n<Clock />").intrinsicElement(['div', 'svg']);
  DocumentedClock.propTypes = _extends({}, _utils__WEBPACK_IMPORTED_MODULE_1__["genericProps"], {
    hourLimit: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf([12, 24, '12', '24']).description('Whether to roll over the hours after 12 or after 24.').defaultValue(24),
    onChange: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("If the clock is running, this function will be called with the\n      current time value each time it changes."),
    precision: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['hours', 'minutes', 'seconds']).description('How precise a time to represent.').defaultValue('seconds'),
    run: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['backward', 'forward'])]).description("Whether the clock should actively adjust time or be fixed to the\n      time specified. 'backward' could be used as a countdown timer.").defaultValue('forward'),
    size: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['small', 'medium', 'large', 'xlarge']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description('Clock size').defaultValue('medium'),
    time: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description("ISO8601 time or duration. For example: 'PT8H12M23S',\n      'T08:12:23', or '2015-02-22T08:12:23'. Any included date\n      portion will be ignored for an analog clock. If not provided, the\n      current browser time will be used."),
    type: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['analog', 'digital']).description('What type of visualization to show.').defaultValue('analog')
  });
  return DocumentedClock;
};
var themeDoc = {
  'clock.analog.extend': {
    description: 'Any additional style for Clock.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'clock.analog.hour.color': {
    description: 'The color of the hour hand.',
    type: 'string | { dark: string, light: string }',
    defaultValue: '{ dark: light-2, light: dark-3 }'
  },
  'clock.analog.hour.shape': {
    description: 'The shape of the hour hand',
    type: 'string',
    defaultValue: 'round'
  },
  'clock.analog.hour.size': {
    description: 'The length of the hour hand.',
    type: 'string',
    defaultValue: '24px'
  },
  'clock.analog.hour.width': {
    description: 'The thickness of the hour hand',
    type: 'string',
    defaultValue: '8px'
  },
  'clock.analog.minute.color': {
    description: 'The color of the hour minute.',
    type: 'string | { dark: string, light: string }',
    defaultValue: '{ dark: light-4, light: dark-3 }'
  },
  'clock.analog.minute.shape': {
    description: 'The shape of the minute hand.',
    type: 'string',
    defaultValue: 'round'
  },
  'clock.analog.minute.size': {
    description: 'The length of the minute hand.',
    type: 'string',
    defaultValue: '12px'
  },
  'clock.analog.minute.width': {
    description: 'The thickness of the minute hand.',
    type: 'string',
    defaultValue: '4px'
  },
  'clock.analog.second.color': {
    description: 'The color of the seconds hand',
    type: 'string | { dark: string, light: string }',
    defaultValue: '{ dark: accent-1, light: accent-1 }'
  },
  'clock.analog.second.shape': {
    description: 'The shape of the seconds hand.',
    type: 'string',
    defaultValue: 'round'
  },
  'clock.analog.second.size': {
    description: 'The length of the seconds hand.',
    type: 'string',
    defaultValue: '10px'
  },
  'clock.analog.second.width': {
    description: 'The thickness of the seconds hand.',
    type: 'string',
    defaultValue: '3px'
  },
  'clock.analog.size.medium': {
    description: 'The whole size of the Analog clock',
    type: 'string',
    defaultValue: '96px'
  }
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/Clock/index.js":
/*!************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Clock/index.js ***!
  \************************************************************/
/*! exports provided: Clock */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Clock__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Clock */ "./node_modules/grommet/es6/components/Clock/Clock.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Clock", function() { return _Clock__WEBPACK_IMPORTED_MODULE_0__["Clock"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Collapsible/Collapsible.js":
/*!************************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Collapsible/Collapsible.js ***!
  \************************************************************************/
/*! exports provided: Collapsible */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Collapsible", function() { return CollapsibleWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }







var animatedBoxProperty = function animatedBoxProperty(direction) {
  return direction === 'horizontal' ? 'width' : 'height';
};

var AnimatedBox = Object(styled_components__WEBPACK_IMPORTED_MODULE_2__["default"])(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"]).withConfig({
  displayName: "Collapsible__AnimatedBox",
  componentId: "sc-15kniua-0"
})(["", ";"], function (props) {
  return !props.animate && (props.open ? "\n    max-" + animatedBoxProperty(props.collapsibleDirection) + ": unset;\n    visibility: visible;\n  " : "\n    max-" + animatedBoxProperty(props.collapsibleDirection) + ": 0;\n    visibility: hidden;\n    overflow: hidden;\n  ");
});

var Collapsible =
/*#__PURE__*/
function (_Component) {
  _inheritsLoose(Collapsible, _Component);

  Collapsible.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {
    var open = nextProps.open;

    if (open !== prevState.open) {
      return {
        animate: true,
        open: open
      };
    }

    return null;
  };

  function Collapsible(props, context) {
    var _this;

    _this = _Component.call(this, props, context) || this;
    /* eslint-disable-next-line react/prop-types */

    _defineProperty(_assertThisInitialized(_this), "ref", Object(react__WEBPACK_IMPORTED_MODULE_0__["createRef"])());

    _defineProperty(_assertThisInitialized(_this), "getSnapshotBeforeUpdate", function () {
      return _this.ref.current && _this.ref.current.getBoundingClientRect();
    });

    _this.state = {
      open: props.open,
      animate: false
    };
    return _this;
  }

  var _proto = Collapsible.prototype;

  _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState, snapshot) {
    var _this2 = this;

    var _this$props = this.props,
        direction = _this$props.direction,
        _this$props$theme$col = _this$props.theme.collapsible,
        minSpeed = _this$props$theme$col.minSpeed,
        baseline = _this$props$theme$col.baseline;
    var _this$state = this.state,
        animate = _this$state.animate,
        open = _this$state.open;
    var container = this.ref.current;

    if (container) {
      var dimension = animatedBoxProperty(direction);
      var boudingClientRect = container.getBoundingClientRect();
      var dimensionSize = boudingClientRect[dimension];
      var shouldAnimate = animate && prevState.open !== open;

      if (open && snapshot[dimension] && dimensionSize !== snapshot[dimension]) {
        shouldAnimate = true;
      }

      if (shouldAnimate) {
        if (this.animationTimeout) {
          clearTimeout(this.animationTimeout);
        }

        var speed = Math.max(dimensionSize / baseline * minSpeed, minSpeed);
        container.style["max-" + dimension] = snapshot[dimension] + "px";
        container.style.overflow = 'hidden';
        requestAnimationFrame(function () {
          requestAnimationFrame(function () {
            // eslint-disable-next-line max-len
            container.style.transition = "max-" + dimension + " " + speed + "ms, visibility 50ms";
            container.style["max-" + dimension] = open ? dimensionSize + "px" : '0px';
            _this2.animationTimeout = setTimeout(function () {
              container.removeAttribute('style');

              _this2.setState({
                animate: false
              });
            }, speed);
          });
        });
      }
    }
  };

  _proto.componentWillUnmount = function componentWillUnmount() {
    if (this.animationTimeout) {
      clearTimeout(this.animationTimeout);
    }
  };

  _proto.render = function render() {
    /* eslint-disable-next-line react/prop-types */
    var _this$props2 = this.props,
        children = _this$props2.children,
        direction = _this$props2.direction;
    var _this$state2 = this.state,
        animate = _this$state2.animate,
        open = _this$state2.open;
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(AnimatedBox, {
      "aria-hidden": !open,
      ref: this.ref,
      open: open,
      animate: animate,
      collapsibleDirection: direction
    }, children);
  };

  return Collapsible;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

Collapsible.defaultProps = {};
Object.setPrototypeOf(Collapsible.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_3__["defaultProps"]);
var CollapsibleDoc;

if (true) {
  // eslint-disable-next-line global-require
  CollapsibleDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Collapsible/doc.js").doc(Collapsible);
}

var CollapsibleWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(styled_components__WEBPACK_IMPORTED_MODULE_2__["withTheme"])(CollapsibleDoc || Collapsible);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Collapsible/doc.js":
/*!****************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Collapsible/doc.js ***!
  \****************************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);

var doc = function doc(Collapsible) {
  var DocumentedCollapsible = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Collapsible).description('Expand or collapse animation.').usage("import { Collapsible } from 'grommet';\n<Collapsible open>test</Collapsible>").intrinsicElement('div');
  DocumentedCollapsible.propTypes = {
    open: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Whether or not the component should be open.'),
    direction: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['horizontal', 'vertical']).description('Direction to animate the collapsible content.').defaultValue('vertical')
  };
  return DocumentedCollapsible;
};
var themeDoc = {
  'collapsible.minSpeed': {
    description: 'The minimum speed of Collapsible animation in milliseconds.',
    type: 'number',
    defaultValue: 200
  },
  'collapsible.baseline': {
    description: 'Default height to be used to calculate the optimal collapsible speed.',
    type: 'number',
    defaultValue: 500
  },
  'collapsible.extend': {
    description: 'Any additional style for Collapsible.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  }
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/Collapsible/index.js":
/*!******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Collapsible/index.js ***!
  \******************************************************************/
/*! exports provided: Collapsible */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Collapsible__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Collapsible */ "./node_modules/grommet/es6/components/Collapsible/Collapsible.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Collapsible", function() { return _Collapsible__WEBPACK_IMPORTED_MODULE_0__["Collapsible"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/DataTable/Body.js":
/*!***************************************************************!*\
  !*** ./node_modules/grommet/es6/components/DataTable/Body.js ***!
  \***************************************************************/
/*! exports provided: Body */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Body", function() { return ButtonWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var _InfiniteScroll__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../InfiniteScroll */ "./node_modules/grommet/es6/components/InfiniteScroll/index.js");
/* harmony import */ var _TableRow__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../TableRow */ "./node_modules/grommet/es6/components/TableRow/index.js");
/* harmony import */ var _TableCell__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../TableCell */ "./node_modules/grommet/es6/components/TableCell/index.js");
/* harmony import */ var _Keyboard__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Keyboard */ "./node_modules/grommet/es6/components/Keyboard/index.js");
/* harmony import */ var _hocs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../hocs */ "./node_modules/grommet/es6/components/hocs.js");
/* harmony import */ var _Cell__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Cell */ "./node_modules/grommet/es6/components/DataTable/Cell.js");
/* harmony import */ var _StyledDataTable__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./StyledDataTable */ "./node_modules/grommet/es6/components/DataTable/StyledDataTable.js");
/* harmony import */ var _buildState__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./buildState */ "./node_modules/grommet/es6/components/DataTable/buildState.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }












var Body = function Body(_ref) {
  var background = _ref.background,
      border = _ref.border,
      columns = _ref.columns,
      data = _ref.data,
      forwardRef = _ref.forwardRef,
      onMore = _ref.onMore,
      replace = _ref.replace,
      onClickRow = _ref.onClickRow,
      pad = _ref.pad,
      primaryProperty = _ref.primaryProperty,
      rowProps = _ref.rowProps,
      size = _ref.size,
      step = _ref.step,
      theme = _ref.theme,
      rest = _objectWithoutPropertiesLoose(_ref, ["background", "border", "columns", "data", "forwardRef", "onMore", "replace", "onClickRow", "pad", "primaryProperty", "rowProps", "size", "step", "theme"]);

  var _React$useState = react__WEBPACK_IMPORTED_MODULE_0___default.a.useState(),
      active = _React$useState[0],
      setActive = _React$useState[1];

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Keyboard__WEBPACK_IMPORTED_MODULE_5__["Keyboard"], {
    onEnter: onClickRow && active >= 0 ? function (event) {
      event.persist();
      var adjustedEvent = event;
      adjustedEvent.datum = data[active];
      onClickRow(adjustedEvent);
    } : undefined,
    onUp: onClickRow && active ? function () {
      setActive(active - 1);
    } : undefined,
    onDown: onClickRow && data.length ? function () {
      setActive(active >= 0 ? Math.min(active + 1, data.length - 1) : 0);
    } : undefined
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledDataTable__WEBPACK_IMPORTED_MODULE_8__["StyledDataTableBody"], _extends({
    ref: forwardRef,
    size: size,
    tabIndex: onClickRow ? 0 : undefined
  }, rest), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_InfiniteScroll__WEBPACK_IMPORTED_MODULE_2__["InfiniteScroll"], {
    items: data,
    onMore: onMore,
    replace: replace,
    renderMarker: function renderMarker(marker) {
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_TableRow__WEBPACK_IMPORTED_MODULE_3__["TableRow"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_TableCell__WEBPACK_IMPORTED_MODULE_4__["TableCell"], null, marker));
    },
    scrollableAncestor: "window",
    step: step
  }, function (datum, index) {
    var primaryValue = primaryProperty ? Object(_buildState__WEBPACK_IMPORTED_MODULE_9__["datumValue"])(datum, primaryProperty) : undefined;
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledDataTable__WEBPACK_IMPORTED_MODULE_8__["StyledDataTableRow"], {
      key: primaryValue || index,
      size: size,
      active: active >= 0 ? active === index : undefined,
      onClick: onClickRow ? function (event) {
        // extract from React's synthetic event pool
        event.persist();
        var adjustedEvent = event;
        adjustedEvent.datum = datum;
        adjustedEvent.index = index;
        onClickRow(adjustedEvent);
      } : undefined,
      onMouseOver: onClickRow ? function () {
        return setActive(index);
      } : undefined,
      onMouseOut: onClickRow ? function () {
        return setActive(undefined);
      } : undefined,
      onFocus: onClickRow ? function () {
        return setActive(index);
      } : undefined,
      onBlur: onClickRow ? function () {
        return setActive(undefined);
      } : undefined
    }, columns.map(function (column) {
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Cell__WEBPACK_IMPORTED_MODULE_7__["Cell"], {
        key: column.property,
        background: background,
        border: border,
        context: "body",
        column: column,
        datum: datum,
        index: index,
        pad: pad,
        primaryProperty: primaryProperty,
        rowProp: rowProps && rowProps[primaryValue],
        scope: column.primary || column.property === primaryProperty ? 'row' : undefined
      });
    }));
  })));
};

var ButtonWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(Object(_hocs__WEBPACK_IMPORTED_MODULE_6__["withFocus"])(), _hocs__WEBPACK_IMPORTED_MODULE_6__["withForwardRef"])(Body);


/***/ }),

/***/ "./node_modules/grommet/es6/components/DataTable/Cell.js":
/*!***************************************************************!*\
  !*** ./node_modules/grommet/es6/components/DataTable/Cell.js ***!
  \***************************************************************/
/*! exports provided: Cell */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Cell", function() { return CellWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _TableCell__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../TableCell */ "./node_modules/grommet/es6/components/TableCell/index.js");
/* harmony import */ var _Text__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Text */ "./node_modules/grommet/es6/components/Text/index.js");
/* harmony import */ var _buildState__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./buildState */ "./node_modules/grommet/es6/components/DataTable/buildState.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }









var normalizeProp = function normalizeProp(name, rowProp, prop) {
  if (rowProp && rowProp[name]) return rowProp[name];
  return prop;
};

var Cell = function Cell(_ref) {
  var background = _ref.background,
      border = _ref.border,
      _ref$column = _ref.column,
      align = _ref$column.align,
      property = _ref$column.property,
      render = _ref$column.render,
      context = _ref.context,
      datum = _ref.datum,
      index = _ref.index,
      pad = _ref.pad,
      primaryProperty = _ref.primaryProperty,
      rowProp = _ref.rowProp,
      scope = _ref.scope,
      theme = _ref.theme;
  var value = Object(_buildState__WEBPACK_IMPORTED_MODULE_6__["datumValue"])(datum, property);
  var content;

  if (render) {
    content = render(datum);
  } else if (value !== undefined) {
    content = value;
  }

  if (typeof content === 'string' || typeof content === 'number') {
    var textProps = property === primaryProperty ? theme.dataTable.primary : {};
    content = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Text__WEBPACK_IMPORTED_MODULE_5__["Text"], textProps, content);
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_TableCell__WEBPACK_IMPORTED_MODULE_4__["TableCell"], _extends({
    scope: scope
  }, theme.dataTable[context], {
    align: align,
    background: normalizeProp('background', rowProp, Array.isArray(background) ? background[index % background.length] : background),
    border: normalizeProp('border', rowProp, border),
    pad: normalizeProp('pad', rowProp, pad)
  }), content);
};

Cell.defaultProps = {};
Object.setPrototypeOf(Cell.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_3__["defaultProps"]);
var CellWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(styled_components__WEBPACK_IMPORTED_MODULE_2__["withTheme"])(Cell);


/***/ }),

/***/ "./node_modules/grommet/es6/components/DataTable/DataTable.js":
/*!********************************************************************!*\
  !*** ./node_modules/grommet/es6/components/DataTable/DataTable.js ***!
  \********************************************************************/
/*! exports provided: DataTable */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DataTable", function() { return DataTableWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Header__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Header */ "./node_modules/grommet/es6/components/DataTable/Header.js");
/* harmony import */ var _Footer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Footer */ "./node_modules/grommet/es6/components/DataTable/Footer.js");
/* harmony import */ var _Body__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Body */ "./node_modules/grommet/es6/components/DataTable/Body.js");
/* harmony import */ var _GroupedBody__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./GroupedBody */ "./node_modules/grommet/es6/components/DataTable/GroupedBody.js");
/* harmony import */ var _buildState__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./buildState */ "./node_modules/grommet/es6/components/DataTable/buildState.js");
/* harmony import */ var _StyledDataTable__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./StyledDataTable */ "./node_modules/grommet/es6/components/DataTable/StyledDataTable.js");
function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }








var contexts = ['header', 'body', 'footer'];

var normalizeProp = function normalizeProp(prop, context) {
  if (prop) {
    if (prop[context]) return prop[context];
    if (contexts.some(function (c) {
      return prop[c];
    })) return undefined;
    return prop;
  }

  return undefined;
};

var DataTable =
/*#__PURE__*/
function (_Component) {
  _inheritsLoose(DataTable, _Component);

  function DataTable() {
    var _this;

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _Component.call.apply(_Component, [this].concat(args)) || this;

    _defineProperty(_assertThisInitialized(_this), "state", {});

    _defineProperty(_assertThisInitialized(_this), "onFiltering", function (property) {
      _this.setState({
        filtering: property
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onFilter", function (property, value) {
      /* eslint-disable-next-line react/prop-types */
      var onSearch = _this.props.onSearch;
      var filters = _this.state.filters;

      var nextFilters = _extends({}, filters);

      nextFilters[property] = value;

      _this.setState({
        filters: nextFilters
      }); // Let caller know about search, if interested


      if (onSearch) {
        onSearch(nextFilters);
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onSort", function (property) {
      return function () {
        var sort = _this.state.sort;
        var ascending = sort && property === sort.property ? !sort.ascending : true;

        _this.setState({
          sort: {
            property: property,
            ascending: ascending
          }
        });
      };
    });

    _defineProperty(_assertThisInitialized(_this), "onToggleGroup", function (groupValue) {
      return function () {
        var groupState = _this.state.groupState;
        var groupBy = _this.props.groupBy;

        var nextGroupState = _extends({}, groupState);

        nextGroupState[groupValue] = _extends({}, nextGroupState[groupValue], {
          expanded: !nextGroupState[groupValue].expanded
        });

        _this.setState({
          groupState: nextGroupState
        });

        if (groupBy.onExpand) {
          var expandedKeys = Object.keys(nextGroupState).filter(function (k) {
            return nextGroupState[k].expanded;
          });
          groupBy.onExpand(expandedKeys);
        }
      };
    });

    _defineProperty(_assertThisInitialized(_this), "onToggleGroups", function () {
      var groupState = _this.state.groupState;
      var groupBy = _this.props.groupBy;
      var expanded = Object.keys(groupState).filter(function (k) {
        return !groupState[k].expanded;
      }).length === 0;
      var nextGroupState = {};
      Object.keys(groupState).forEach(function (k) {
        nextGroupState[k] = _extends({}, groupState[k], {
          expanded: !expanded
        });
      });

      _this.setState({
        groupState: nextGroupState
      });

      if (groupBy.onExpand) {
        var expandedKeys = Object.keys(nextGroupState).filter(function (k) {
          return nextGroupState[k].expanded;
        });
        groupBy.onExpand(expandedKeys);
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onResize", function (property) {
      return function (width) {
        var widths = _this.state.widths;

        var nextWidths = _extends({}, widths || {});

        nextWidths[property] = width;

        _this.setState({
          widths: nextWidths
        });
      };
    });

    return _this;
  }

  DataTable.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {
    return Object(_buildState__WEBPACK_IMPORTED_MODULE_5__["buildState"])(nextProps, prevState);
  };

  var _proto = DataTable.prototype;

  _proto.render = function render() {
    var _this$props = this.props,
        background = _this$props.background,
        border = _this$props.border,
        columns = _this$props.columns,
        propsData = _this$props.data,
        groupBy = _this$props.groupBy,
        onMore = _this$props.onMore,
        replace = _this$props.replace,
        pad = _this$props.pad,
        resizeable = _this$props.resizeable,
        rowProps = _this$props.rowProps,
        size = _this$props.size,
        sortable = _this$props.sortable,
        step = _this$props.step,
        onClickRow = _this$props.onClickRow,
        onSearch = _this$props.onSearch,
        rest = _objectWithoutPropertiesLoose(_this$props, ["background", "border", "columns", "data", "groupBy", "onMore", "replace", "pad", "resizeable", "rowProps", "size", "sortable", "step", "onClickRow", "onSearch"]);

    var _this$state = this.state,
        data = _this$state.data,
        filtering = _this$state.filtering,
        filters = _this$state.filters,
        footerValues = _this$state.footerValues,
        groups = _this$state.groups,
        groupState = _this$state.groupState,
        primaryProperty = _this$state.primaryProperty,
        showFooter = _this$state.showFooter,
        sort = _this$state.sort,
        widths = _this$state.widths;

    if (size && resizeable) {
      console.warn('DataTable cannot combine "size" and "resizeble".');
    }

    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledDataTable__WEBPACK_IMPORTED_MODULE_6__["StyledDataTable"], rest, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Header__WEBPACK_IMPORTED_MODULE_1__["Header"], {
      background: normalizeProp(background, 'header'),
      border: normalizeProp(border, 'header'),
      columns: columns,
      filtering: filtering,
      filters: filters,
      groups: groups,
      groupState: groupState,
      pad: normalizeProp(pad, 'header'),
      size: size,
      sort: sort,
      widths: widths,
      onFiltering: this.onFiltering,
      onFilter: this.onFilter,
      onResize: resizeable ? this.onResize : undefined,
      onSort: sortable ? this.onSort : undefined,
      onToggle: this.onToggleGroups
    }), groups ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_GroupedBody__WEBPACK_IMPORTED_MODULE_4__["GroupedBody"], {
      background: normalizeProp(background, 'body'),
      border: normalizeProp(border, 'body'),
      columns: columns,
      groupBy: groupBy.property ? groupBy.property : groupBy,
      groups: groups,
      groupState: groupState,
      pad: normalizeProp(pad, 'body'),
      primaryProperty: primaryProperty,
      onToggle: this.onToggleGroup,
      size: size
    }) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Body__WEBPACK_IMPORTED_MODULE_3__["Body"], {
      background: normalizeProp(background, 'body'),
      border: normalizeProp(border, 'body'),
      columns: columns,
      data: data,
      onMore: onMore,
      replace: replace,
      onClickRow: onClickRow,
      pad: normalizeProp(pad, 'body'),
      primaryProperty: primaryProperty,
      rowProps: rowProps,
      size: size,
      step: step
    }), showFooter && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Footer__WEBPACK_IMPORTED_MODULE_2__["Footer"], {
      background: normalizeProp(background, 'footer'),
      border: normalizeProp(border, 'footer'),
      columns: columns,
      footerValues: footerValues,
      groups: groups,
      pad: normalizeProp(pad, 'footer'),
      primaryProperty: primaryProperty,
      size: size
    }));
  };

  return DataTable;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

_defineProperty(DataTable, "defaultProps", {
  columns: [],
  data: [],
  step: 50
});

var DataTableDoc;

if (true) {
  // eslint-disable-next-line global-require
  DataTableDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/DataTable/doc.js").doc(DataTable);
}

var DataTableWrapper = DataTableDoc || DataTable;


/***/ }),

/***/ "./node_modules/grommet/es6/components/DataTable/ExpanderCell.js":
/*!***********************************************************************!*\
  !*** ./node_modules/grommet/es6/components/DataTable/ExpanderCell.js ***!
  \***********************************************************************/
/*! exports provided: ExpanderCell */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ExpanderCell", function() { return ExpanderCellWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Button */ "./node_modules/grommet/es6/components/Button/index.js");
/* harmony import */ var _TableCell__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../TableCell */ "./node_modules/grommet/es6/components/TableCell/index.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }










var ExpanderCell = function ExpanderCell(_ref) {
  var context = _ref.context,
      expanded = _ref.expanded,
      onToggle = _ref.onToggle,
      theme = _ref.theme,
      rest = _objectWithoutPropertiesLoose(_ref, ["context", "expanded", "onToggle", "theme"]);

  var content;

  if (onToggle) {
    var ExpandIcon = theme.dataTable.icons[expanded ? 'contract' : 'expand'];
    content = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ExpandIcon, {
      color: Object(_utils__WEBPACK_IMPORTED_MODULE_7__["normalizeColor"])('border', theme)
    });
  }

  var normalizedThemeProps = _extends({}, theme.table[context], {}, theme.dataTable[context]);

  delete normalizedThemeProps.background;
  delete normalizedThemeProps.border;
  delete normalizedThemeProps.pad;
  content = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"], _extends({}, normalizedThemeProps, rest, {
    align: "center",
    pad: "xsmall"
  }), content);

  if (onToggle) {
    content = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_5__["Button"], {
      fill: true,
      a11yTitle: expanded ? 'collapse' : 'expand',
      hoverIndicator: true,
      disabled: !onToggle,
      onClick: onToggle
    }, content);
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_TableCell__WEBPACK_IMPORTED_MODULE_6__["TableCell"], {
    size: "xxsmall",
    plain: true,
    verticalAlign: context === 'groupEnd' ? 'bottom' : 'top',
    pad: "none"
  }, content);
};

ExpanderCell.defaultProps = {};
Object.setPrototypeOf(ExpanderCell.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_3__["defaultProps"]);
var ExpanderCellWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(styled_components__WEBPACK_IMPORTED_MODULE_2__["withTheme"])(ExpanderCell);


/***/ }),

/***/ "./node_modules/grommet/es6/components/DataTable/Footer.js":
/*!*****************************************************************!*\
  !*** ./node_modules/grommet/es6/components/DataTable/Footer.js ***!
  \*****************************************************************/
/*! exports provided: Footer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Footer", function() { return FooterWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _TableRow__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../TableRow */ "./node_modules/grommet/es6/components/TableRow/index.js");
/* harmony import */ var _TableCell__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../TableCell */ "./node_modules/grommet/es6/components/TableCell/index.js");
/* harmony import */ var _Cell__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Cell */ "./node_modules/grommet/es6/components/DataTable/Cell.js");
/* harmony import */ var _StyledDataTable__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./StyledDataTable */ "./node_modules/grommet/es6/components/DataTable/StyledDataTable.js");
function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }










var Footer = function Footer(_ref) {
  var background = _ref.background,
      border = _ref.border,
      columns = _ref.columns,
      footerValues = _ref.footerValues,
      groups = _ref.groups,
      pad = _ref.pad,
      primaryProperty = _ref.primaryProperty,
      theme = _ref.theme,
      rest = _objectWithoutPropertiesLoose(_ref, ["background", "border", "columns", "footerValues", "groups", "pad", "primaryProperty", "theme"]);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledDataTable__WEBPACK_IMPORTED_MODULE_7__["StyledDataTableFooter"], rest, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_TableRow__WEBPACK_IMPORTED_MODULE_4__["TableRow"], null, groups && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_TableCell__WEBPACK_IMPORTED_MODULE_5__["TableCell"], {
    plain: true,
    size: "xxsmall",
    pad: "none",
    verticalAlign: "top"
  }), columns.map(function (column) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Cell__WEBPACK_IMPORTED_MODULE_6__["Cell"], {
      key: column.property,
      background: background,
      border: border,
      context: "footer",
      column: column,
      datum: footerValues,
      pad: pad,
      primaryProperty: primaryProperty
    });
  })));
};

Footer.defaultProps = {};
Object.setPrototypeOf(Footer.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_3__["defaultProps"]);
var FooterWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(styled_components__WEBPACK_IMPORTED_MODULE_2__["withTheme"])(Footer);


/***/ }),

/***/ "./node_modules/grommet/es6/components/DataTable/GroupedBody.js":
/*!**********************************************************************!*\
  !*** ./node_modules/grommet/es6/components/DataTable/GroupedBody.js ***!
  \**********************************************************************/
/*! exports provided: GroupedBody */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GroupedBody", function() { return GroupedBody; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Cell__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Cell */ "./node_modules/grommet/es6/components/DataTable/Cell.js");
/* harmony import */ var _ExpanderCell__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ExpanderCell */ "./node_modules/grommet/es6/components/DataTable/ExpanderCell.js");
/* harmony import */ var _StyledDataTable__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./StyledDataTable */ "./node_modules/grommet/es6/components/DataTable/StyledDataTable.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }





var GroupedBody = function GroupedBody(_ref) {
  var background = _ref.background,
      border = _ref.border,
      columns = _ref.columns,
      groupBy = _ref.groupBy,
      groups = _ref.groups,
      groupState = _ref.groupState,
      pad = _ref.pad,
      primaryProperty = _ref.primaryProperty,
      onToggle = _ref.onToggle,
      size = _ref.size,
      rest = _objectWithoutPropertiesLoose(_ref, ["background", "border", "columns", "groupBy", "groups", "groupState", "pad", "primaryProperty", "onToggle", "size"]);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledDataTable__WEBPACK_IMPORTED_MODULE_3__["StyledDataTableBody"], _extends({
    size: size
  }, rest), groups.map(function (group) {
    var expanded = groupState[group.key].expanded;
    var memberCount = group.data.length;
    var content = memberCount > 1 ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledDataTable__WEBPACK_IMPORTED_MODULE_3__["StyledDataTableRow"], {
      key: group.key,
      size: size
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ExpanderCell__WEBPACK_IMPORTED_MODULE_2__["ExpanderCell"], {
      context: expanded ? 'groupHeader' : 'body',
      expanded: expanded,
      onToggle: onToggle(group.key)
    }), columns.map(function (column) {
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Cell__WEBPACK_IMPORTED_MODULE_1__["Cell"], {
        key: column.property,
        background: background,
        border: border,
        context: expanded ? 'groupHeader' : 'body',
        column: column,
        datum: group.datum,
        pad: pad,
        scope: column.property === groupBy ? 'row' : undefined
      });
    })) : null;

    if (memberCount === 1 || expanded) {
      content = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0__["Fragment"], {
        key: group.key
      }, content, group.data.map(function (datum, index) {
        var context = memberCount > 1 && index === memberCount - 1 ? 'groupEnd' : 'body';
        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledDataTable__WEBPACK_IMPORTED_MODULE_3__["StyledDataTableRow"], {
          key: datum[primaryProperty],
          size: size
        }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ExpanderCell__WEBPACK_IMPORTED_MODULE_2__["ExpanderCell"], {
          context: context
        }), columns.map(function (column) {
          return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Cell__WEBPACK_IMPORTED_MODULE_1__["Cell"], {
            key: column.property,
            background: background,
            border: border,
            context: context,
            column: column,
            datum: datum,
            pad: pad,
            scope: column.primary ? 'row' : undefined
          });
        }));
      }));
    }

    return content;
  }));
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/DataTable/Header.js":
/*!*****************************************************************!*\
  !*** ./node_modules/grommet/es6/components/DataTable/Header.js ***!
  \*****************************************************************/
/*! exports provided: Header */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Header", function() { return HeaderWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Button */ "./node_modules/grommet/es6/components/Button/index.js");
/* harmony import */ var _TableCell__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../TableCell */ "./node_modules/grommet/es6/components/TableCell/index.js");
/* harmony import */ var _Text__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Text */ "./node_modules/grommet/es6/components/Text/index.js");
/* harmony import */ var _Resizer__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Resizer */ "./node_modules/grommet/es6/components/DataTable/Resizer.js");
/* harmony import */ var _Searcher__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Searcher */ "./node_modules/grommet/es6/components/DataTable/Searcher.js");
/* harmony import */ var _ExpanderCell__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./ExpanderCell */ "./node_modules/grommet/es6/components/DataTable/ExpanderCell.js");
/* harmony import */ var _StyledDataTable__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./StyledDataTable */ "./node_modules/grommet/es6/components/DataTable/StyledDataTable.js");
function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }














var Header = function Header(_ref) {
  var background = _ref.background,
      border = _ref.border,
      columns = _ref.columns,
      filtering = _ref.filtering,
      filters = _ref.filters,
      groups = _ref.groups,
      groupState = _ref.groupState,
      onFilter = _ref.onFilter,
      onFiltering = _ref.onFiltering,
      onResize = _ref.onResize,
      onSort = _ref.onSort,
      onToggle = _ref.onToggle,
      pad = _ref.pad,
      sort = _ref.sort,
      theme = _ref.theme,
      widths = _ref.widths,
      rest = _objectWithoutPropertiesLoose(_ref, ["background", "border", "columns", "filtering", "filters", "groups", "groupState", "onFilter", "onFiltering", "onResize", "onSort", "onToggle", "pad", "sort", "theme", "widths"]);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledDataTable__WEBPACK_IMPORTED_MODULE_11__["StyledDataTableHeader"], rest, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledDataTable__WEBPACK_IMPORTED_MODULE_11__["StyledDataTableRow"], null, groups && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ExpanderCell__WEBPACK_IMPORTED_MODULE_10__["ExpanderCell"], {
    context: "header",
    expanded: Object.keys(groupState).filter(function (k) {
      return !groupState[k].expanded;
    }).length === 0,
    onToggle: onToggle
  }), columns.map(function (_ref2) {
    var property = _ref2.property,
        header = _ref2.header,
        align = _ref2.align,
        search = _ref2.search,
        sortable = _ref2.sortable;
    var content = typeof header === 'string' ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Text__WEBPACK_IMPORTED_MODULE_7__["Text"], null, header) : header;

    if (onSort && sortable !== false) {
      var Icon = onSort && sortable !== false && sort && sort.property === property && theme.dataTable.icons[sort.ascending ? 'ascending' : 'descending'];
      content = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_5__["Button"], {
        plain: true,
        fill: "vertical",
        onClick: onSort(property)
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"], {
        direction: "row",
        align: "center",
        gap: "xsmall"
      }, content, Icon && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Icon, null)));
    }

    if (search || onResize) {
      var resizer = onResize ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Resizer__WEBPACK_IMPORTED_MODULE_8__["Resizer"], {
        property: property,
        onResize: onResize
      }) : null;
      var searcher = search && filters ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Searcher__WEBPACK_IMPORTED_MODULE_9__["Searcher"], {
        filtering: filtering,
        filters: filters,
        property: property,
        onFilter: onFilter,
        onFiltering: onFiltering
      }) : null;
      content = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"], {
        direction: "row",
        align: "center",
        justify: !align || align === 'start' ? 'between' : align,
        gap: "small",
        fill: "vertical",
        style: onResize ? {
          position: 'relative'
        } : undefined
      }, content, searcher && resizer ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"], {
        flex: "shrink",
        direction: "row",
        align: "center",
        gap: "small"
      }, searcher, resizer) : searcher || resizer);
    }

    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_TableCell__WEBPACK_IMPORTED_MODULE_6__["TableCell"], {
      key: property,
      align: align,
      background: background,
      border: border,
      pad: pad,
      plain: true,
      scope: "col",
      style: widths && widths[property] ? {
        width: widths[property]
      } : undefined
    }, content);
  })));
};

Header.defaultProps = {};
Object.setPrototypeOf(Header.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_3__["defaultProps"]);
var HeaderWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(styled_components__WEBPACK_IMPORTED_MODULE_2__["withTheme"])(Header);


/***/ }),

/***/ "./node_modules/grommet/es6/components/DataTable/Resizer.js":
/*!******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/DataTable/Resizer.js ***!
  \******************************************************************/
/*! exports provided: Resizer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Resizer", function() { return ResizerWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }






var ResizerBox = Object(styled_components__WEBPACK_IMPORTED_MODULE_2__["default"])(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"]).withConfig({
  displayName: "Resizer__ResizerBox",
  componentId: "sc-8l808w-0"
})(["cursor:col-resize;"]);

var Resizer =
/*#__PURE__*/
function (_Component) {
  _inheritsLoose(Resizer, _Component);

  function Resizer() {
    var _this;

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _Component.call.apply(_Component, [this].concat(args)) || this;

    _defineProperty(_assertThisInitialized(_this), "state", {});

    _defineProperty(_assertThisInitialized(_this), "ref", react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef());

    _defineProperty(_assertThisInitialized(_this), "onMouseDown", function (event) {
      if (_this.ref.current) {
        var element = _this.ref.current; // find TH parent

        while (element && element.nodeName !== 'TH') {
          element = element.parentNode;
        }

        var rect = element.getBoundingClientRect();

        _this.setState({
          start: event.clientX,
          width: rect.width
        }, function () {
          document.addEventListener('mousemove', _this.onMouseMove);
          document.addEventListener('mouseup', _this.onMouseUp);
        });
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onMouseMove", function (event) {
      var _this$props = _this.props,
          onResize = _this$props.onResize,
          property = _this$props.property;
      var _this$state = _this.state,
          start = _this$state.start,
          width = _this$state.width; // We determined 12 empirically as being wide enough to hit but
      // not too wide to cause false hits.

      var nextWidth = Math.max(12, width + (event.clientX - start));
      onResize(property)(nextWidth);
    });

    _defineProperty(_assertThisInitialized(_this), "onMouseUp", function () {
      document.removeEventListener('mouseup', _this.onMouseUp);
      document.removeEventListener('mousemove', _this.onMouseMove);

      _this.setState({
        start: undefined,
        width: undefined
      });
    });

    return _this;
  }

  var _proto = Resizer.prototype;

  _proto.render = function render() {
    var theme = this.props.theme;
    var start = this.state.start;
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ResizerBox, _extends({
      ref: this.ref,
      flex: false,
      responsive: false,
      pad: {
        vertical: 'small'
      }
    }, theme.dataTable.resize, {
      onMouseDown: this.onMouseDown,
      onMouseMove: start ? this.onMouseMove : undefined,
      onMouseUp: start ? this.onMouseUp : undefined
    }));
  };

  return Resizer;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

Resizer.defaultProps = {};
Object.setPrototypeOf(Resizer.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_3__["defaultProps"]);
var ResizerWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(styled_components__WEBPACK_IMPORTED_MODULE_2__["withTheme"])(Resizer);


/***/ }),

/***/ "./node_modules/grommet/es6/components/DataTable/Searcher.js":
/*!*******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/DataTable/Searcher.js ***!
  \*******************************************************************/
/*! exports provided: Searcher */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Searcher", function() { return SearcherWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var grommet_icons_icons_FormSearch__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! grommet-icons/icons/FormSearch */ "./node_modules/grommet-icons/icons/FormSearch.js");
/* harmony import */ var grommet_icons_icons_FormSearch__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(grommet_icons_icons_FormSearch__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Button */ "./node_modules/grommet/es6/components/Button/index.js");
/* harmony import */ var _Keyboard__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Keyboard */ "./node_modules/grommet/es6/components/Keyboard/index.js");
/* harmony import */ var _Text__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../Text */ "./node_modules/grommet/es6/components/Text/index.js");
/* harmony import */ var _TextInput__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../TextInput */ "./node_modules/grommet/es6/components/TextInput/index.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }













var Searcher =
/*#__PURE__*/
function (_Component) {
  _inheritsLoose(Searcher, _Component);

  function Searcher() {
    var _this;

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _Component.call.apply(_Component, [this].concat(args)) || this;

    _defineProperty(_assertThisInitialized(_this), "inputRef", react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef());

    return _this;
  }

  var _proto = Searcher.prototype;

  _proto.componentDidMount = function componentDidMount() {
    this.focusInputIfNeeded();
  };

  _proto.componentDidUpdate = function componentDidUpdate() {
    this.focusInputIfNeeded();
  };

  _proto.focusInputIfNeeded = function focusInputIfNeeded() {
    /* eslint-disable-next-line react/prop-types */
    var _this$props = this.props,
        filtering = _this$props.filtering,
        property = _this$props.property;

    if (this.inputRef.current && filtering === property) {
      this.inputRef.current.focus();
    }
  };

  _proto.render = function render() {
    var _this$props2 = this.props,
        filtering = _this$props2.filtering,
        filters = _this$props2.filters,
        onFilter = _this$props2.onFilter,
        onFiltering = _this$props2.onFiltering,
        property = _this$props2.property,
        theme = _this$props2.theme;

    if (filtering === property) {
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Keyboard__WEBPACK_IMPORTED_MODULE_7__["Keyboard"], {
        onEsc: function onEsc() {
          return onFiltering(undefined);
        }
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_5__["Box"], {
        flex: true,
        pad: {
          horizontal: 'small'
        }
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_TextInput__WEBPACK_IMPORTED_MODULE_9__["TextInput"], {
        name: "search-" + property,
        ref: this.inputRef,
        value: filters[property],
        onChange: function onChange(event) {
          return onFilter(property, event.target.value);
        },
        onBlur: function onBlur() {
          return onFiltering(undefined);
        }
      })));
    }

    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, filters[property] ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_5__["Box"], {
      flex: false,
      pad: {
        horizontal: 'small'
      },
      direction: "row",
      align: "center"
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Text__WEBPACK_IMPORTED_MODULE_8__["Text"], null, filters[property])) : null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_6__["Button"], {
      a11yTitle: "focus-search-" + property,
      icon: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(grommet_icons_icons_FormSearch__WEBPACK_IMPORTED_MODULE_3__["FormSearch"], {
        color: Object(_utils__WEBPACK_IMPORTED_MODULE_10__["normalizeColor"])(filtering === property ? 'brand' : 'border', theme)
      }),
      hoverIndicator: true,
      onClick: function onClick() {
        return onFiltering(filtering === property ? undefined : property);
      }
    }));
  };

  return Searcher;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

Searcher.defaultProps = {};
Object.setPrototypeOf(Searcher.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_4__["defaultProps"]);
var SearcherWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(styled_components__WEBPACK_IMPORTED_MODULE_2__["withTheme"])(Searcher);


/***/ }),

/***/ "./node_modules/grommet/es6/components/DataTable/StyledDataTable.js":
/*!**************************************************************************!*\
  !*** ./node_modules/grommet/es6/components/DataTable/StyledDataTable.js ***!
  \**************************************************************************/
/*! exports provided: StyledDataTable, StyledDataTableRow, StyledDataTableBody, StyledDataTableHeader, StyledDataTableFooter */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledDataTable", function() { return StyledDataTable; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledDataTableRow", function() { return StyledDataTableRow; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledDataTableBody", function() { return StyledDataTableBody; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledDataTableHeader", function() { return StyledDataTableHeader; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledDataTableFooter", function() { return StyledDataTableFooter; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _TableRow__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../TableRow */ "./node_modules/grommet/es6/components/TableRow/index.js");
/* harmony import */ var _Table__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Table */ "./node_modules/grommet/es6/components/Table/index.js");
/* harmony import */ var _TableBody__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../TableBody */ "./node_modules/grommet/es6/components/TableBody/index.js");
/* harmony import */ var _TableHeader__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../TableHeader */ "./node_modules/grommet/es6/components/TableHeader/index.js");
/* harmony import */ var _TableFooter__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../TableFooter */ "./node_modules/grommet/es6/components/TableFooter/index.js");








var StyledDataTable = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["default"])(_Table__WEBPACK_IMPORTED_MODULE_4__["Table"]).withConfig({
  displayName: "StyledDataTable",
  componentId: "xrlyjm-0"
})(["border-spacing:0;border-collapse:collapse;height:auto;", ";"], _utils__WEBPACK_IMPORTED_MODULE_1__["genericStyles"]);
StyledDataTable.defaultProps = {};
Object.setPrototypeOf(StyledDataTable.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var hoverStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["", " color:", ";"], function (props) {
  return Object(_utils__WEBPACK_IMPORTED_MODULE_1__["backgroundStyle"])(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.table && props.theme.table.row && props.theme.table.row.hover && props.theme.table.row.hover.background || props.theme.global.hover.background, props.theme), props.theme);
}, function (props) {
  return Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.table && props.theme.table.row && props.theme.table.row.hover && props.theme.table.row.hover.color || props.theme.global.hover.color, props.theme);
});
var StyledDataTableRow = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["default"])(_TableRow__WEBPACK_IMPORTED_MODULE_3__["TableRow"]).withConfig({
  displayName: "StyledDataTable__StyledDataTableRow",
  componentId: "xrlyjm-1"
})(["", " ", " &:hover{", "}", ""], function (props) {
  return props.size && "\n    display: table;\n    width: 100%;\n    table-layout: fixed;\n  ";
}, function (props) {
  return props.onClick && "\n    cursor: pointer;\n  ";
}, function (props) {
  return props.onClickRow && !props.active && hoverStyle;
}, function (props) {
  return props.active && hoverStyle;
});
StyledDataTableRow.defaultProps = {};
Object.setPrototypeOf(StyledDataTableRow.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var StyledDataTableBody = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["default"])(_TableBody__WEBPACK_IMPORTED_MODULE_5__["TableBody"]).withConfig({
  displayName: "StyledDataTable__StyledDataTableBody",
  componentId: "xrlyjm-2"
})(["", " ", ""], function (props) {
  return props.size && "\n    display: block;\n    width: 100%;\n    max-height: " + props.theme.global.size[props.size] + ";\n    overflow: auto;\n  ";
}, function (props) {
  return props.focus && _utils__WEBPACK_IMPORTED_MODULE_1__["focusStyle"];
});
StyledDataTableBody.defaultProps = {};
Object.setPrototypeOf(StyledDataTableBody.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var StyledDataTableHeader = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["default"])(_TableHeader__WEBPACK_IMPORTED_MODULE_6__["TableHeader"]).withConfig({
  displayName: "StyledDataTable__StyledDataTableHeader",
  componentId: "xrlyjm-3"
})(["", ""], function (props) {
  return props.size && "\n    display: table;\n    width: 100%;\n    table-layout: fixed;\n  ";
});
StyledDataTableHeader.defaultProps = {};
Object.setPrototypeOf(StyledDataTableHeader.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var StyledDataTableFooter = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["default"])(_TableFooter__WEBPACK_IMPORTED_MODULE_7__["TableFooter"]).withConfig({
  displayName: "StyledDataTable__StyledDataTableFooter",
  componentId: "xrlyjm-4"
})(["", ""], function (props) {
  return props.size && "\n    display: table;\n    width: 100%;\n    table-layout: fixed;\n  ";
});
StyledDataTableFooter.defaultProps = {};
Object.setPrototypeOf(StyledDataTableFooter.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);


/***/ }),

/***/ "./node_modules/grommet/es6/components/DataTable/buildState.js":
/*!*********************************************************************!*\
  !*** ./node_modules/grommet/es6/components/DataTable/buildState.js ***!
  \*********************************************************************/
/*! exports provided: datumValue, buildState */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "datumValue", function() { return datumValue; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "buildState", function() { return buildState; });
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var datumValue = function datumValue(datum, property) {
  var parts = property.split('.');

  if (parts.length === 1) {
    return datum[property];
  }

  if (!datum[parts[0]]) {
    return undefined;
  }

  return datumValue(datum[parts[0]], parts.slice(1).join('.'));
};

var sumReducer = function sumReducer(accumulated, next) {
  return accumulated + next;
};

var minReducer = function minReducer(accumulated, next) {
  return accumulated === undefined ? next : Math.min(accumulated, next);
};

var maxReducer = function maxReducer(accumulated, next) {
  return accumulated === undefined ? next : Math.max(accumulated, next);
};

var reducers = {
  max: maxReducer,
  min: minReducer,
  sum: sumReducer
};

var aggregateColumn = function aggregateColumn(column, data) {
  var value;

  if (column.aggregate === 'avg') {
    value = data.map(function (d) {
      return datumValue(d, column.property);
    }).reduce(sumReducer);
    value /= data.length;
  } else {
    value = data.map(function (d) {
      return datumValue(d, column.property);
    }).reduce(reducers[column.aggregate], 0);
  }

  return value;
};

var findPrimary = function findPrimary(nextProps, prevState, nextState) {
  var columns = nextProps.columns,
      primaryKey = nextProps.primaryKey;
  var primaryProperty;
  columns.forEach(function (column) {
    // remember the first key property
    if (column.primary && !primaryProperty) {
      primaryProperty = column.property;
    }
  });

  if (!primaryProperty && columns.length > 0) {
    primaryProperty = primaryKey || columns[0].property;
  }

  return _extends({}, nextState, {
    primaryProperty: primaryProperty
  });
}; // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions#Escaping


var escapeRegExp = function escapeRegExp(input) {
  return input.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
};

var filter = function filter(nextProps, prevState, nextState) {
  var columns = nextProps.columns,
      onSearch = nextProps.onSearch;
  var data = nextState.data,
      filters = nextState.filters;
  var nextFilters;
  var regexps;
  columns.forEach(function (column) {
    if (column.search) {
      if (!nextFilters) {
        nextFilters = {};
        regexps = {};
      }

      nextFilters[column.property] = filters ? filters[column.property] || '' : ''; // don't do filtering if the caller has supplied onSearch

      if (nextFilters[column.property] && column.search && !onSearch) {
        regexps[column.property] = new RegExp(escapeRegExp(nextFilters[column.property]), 'i');
      }
    }
  });
  var nextData = data;

  if (nextFilters) {
    nextData = data.filter(function (datum) {
      return !Object.keys(regexps).some(function (property) {
        return !regexps[property].test(datumValue(datum, property));
      });
    });
  }

  return _extends({}, nextState, {
    filters: nextFilters,
    data: nextData
  });
};

var aggregate = function aggregate(nextProps, prevState, nextState) {
  var columns = nextProps.columns;
  var data = nextState.data;
  var aggregateValues = {};
  columns.forEach(function (column) {
    if (column.aggregate) {
      aggregateValues[column.property] = aggregateColumn(column, data);
    }
  });
  return _extends({}, nextState, {
    aggregateValues: aggregateValues
  });
};

var buildFooterValues = function buildFooterValues(nextProps, prevState, nextState) {
  var columns = nextProps.columns;
  var aggregateValues = nextState.aggregateValues;
  var showFooter;
  var footerValues = {};
  columns.forEach(function (column) {
    if (column.footer) {
      showFooter = true;

      if (typeof column.footer === 'string') {
        footerValues[column.property] = column.footer;
      } else if (column.footer.aggregate) {
        footerValues[column.property] = aggregateValues[column.property];
      }
    }
  });
  return _extends({}, nextState, {
    footerValues: footerValues,
    showFooter: showFooter
  });
};

var sortData = function sortData(nextProps, prevState, nextState) {
  var sort = prevState.sort;
  var data = nextState.data;
  var nextData = data;

  if (sort) {
    var property = sort.property,
        ascending = sort.ascending;
    nextData = [].concat(data);
    var before = ascending ? 1 : -1;
    var after = ascending ? -1 : 1;
    nextData.sort(function (d1, d2) {
      if (d1[property] > d2[property]) return before;
      if (d1[property] < d2[property]) return after;
      return 0;
    });
  }

  return _extends({}, nextState, {
    data: nextData
  });
};

var groupData = function groupData(nextProps, prevState, nextState) {
  var columns = nextProps.columns,
      groupBy = nextProps.groupBy;
  var data = nextState.data;
  var groups;
  var groupState;
  var expandedState;

  if (groupBy) {
    groups = [];
    groupState = {};
    var groupMap = {};
    data.forEach(function (datum) {
      var groupByProperty = groupBy.property ? groupBy.property : groupBy;
      var groupValue = datumValue(datum, groupByProperty);

      if (!groupMap[groupValue]) {
        var group = {
          data: [],
          datum: {},
          key: groupValue
        };
        group.datum[groupByProperty] = groupValue;
        groups.push(group);

        if (groupBy.expand) {
          expandedState = groupBy.expand.some(function (key) {
            return key === groupValue;
          });
        } else {
          expandedState = prevState.groupState && prevState.groupState[groupValue] ? prevState.groupState[groupValue].expanded : false;
        }

        groupState[groupValue] = {
          expanded: expandedState
        };
        groupMap[groupValue] = group;
      }

      groupMap[groupValue].data.push(datum);
    }); // calculate any aggregates

    columns.forEach(function (column) {
      if (column.aggregate) {
        groups.forEach(function (group) {
          group.datum[column.property] = aggregateColumn(column, group.data); // eslint-disable-line
        });
      }
    });
  }

  return _extends({}, nextState, {
    groups: groups,
    groupState: groupState
  });
};

var buildState = function buildState(nextProps, prevState) {
  var data = nextProps.data;
  var filters = prevState.filters,
      sort = prevState.sort,
      widths = prevState.widths;
  var nextState = {
    data: data,
    filters: filters,
    sort: sort,
    widths: widths
  };
  nextState = findPrimary(nextProps, prevState, nextState);
  nextState = filter(nextProps, prevState, nextState);
  nextState = aggregate(nextProps, prevState, nextState);
  nextState = buildFooterValues(nextProps, prevState, nextState);
  nextState = sortData(nextProps, prevState, nextState);
  nextState = groupData(nextProps, prevState, nextState);
  return nextState;
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/DataTable/doc.js":
/*!**************************************************************!*\
  !*** ./node_modules/grommet/es6/components/DataTable/doc.js ***!
  \**************************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var sizes = ['xxsmall', 'xsmall', 'small', 'medium', 'large', 'xlarge'];
var sides = ['horizontal', 'vertical', 'top', 'bottom', 'left', 'right'];
var parts = ['header', 'body', 'footer'];
var padShapeSides = {};
sides.forEach(function (side) {
  padShapeSides[side] = react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(sizes);
});
var padShapeParts = {};
parts.forEach(function (part) {
  padShapeParts[part] = {};
  sides.forEach(function (side) {
    padShapeParts[part][side] = react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(sizes);
  });
});
var backgroundShape = {};
parts.forEach(function (part) {
  backgroundShape[part] = react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string)]);
});
var borderTypes = [react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(sides), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
  color: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
    dark: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
    light: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string
  })]),
  side: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(sides),
  size: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(sizes), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string])
})];
var borderShape = {};
parts.forEach(function (part) {
  borderShape[part] = react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType(borderTypes);
});
var doc = function doc(DataTable) {
  var DocumentedDataTable = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(DataTable).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('DataTable')).description('A data driven table.').usage("import { DataTable } from 'grommet';\n<DataTable />").intrinsicElement('table');
  DocumentedDataTable.propTypes = _extends({}, _utils__WEBPACK_IMPORTED_MODULE_1__["genericProps"], {
    background: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape(backgroundShape)]).description("Cell background. You can set the background per context by passing an\n      object with keys for 'heading', 'body', and/or 'footer'. If you pass\n      an array, rows will cycle between the array values."),
    border: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([].concat(borderTypes, [react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape(borderShape)])).description("Cell border. You can set the border per context by passing an\n      object with keys for 'heading', 'body', and/or 'footer'."),
    columns: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      align: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['center', 'start', 'end']),
      aggregate: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['avg', 'max', 'min', 'sum']),
      footer: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].node, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
        aggregate: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool
      })]),
      header: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].node, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
        aggregate: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool
      })]),
      primary: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool,
      property: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.isRequired,
      render: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func,
      search: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool,
      sortable: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool
    })).description("A description of the data. The order controls the column order.\n      'property' indicates which property in the data objects to associate\n      the column with. 'header' indicates what to display in the column\n      header. 'render' allows for custom rendering of body cells. Use 'render'\n      for custom formatting for things like currency and date or to\n      display rich content like Meters. 'align' indicates how the cells in\n      the column are aligned. 'aggregate' indicates how the data in the\n      column should be aggregated. This only applies to a footer or groupBy\n      context. 'footer' indicates what should be shown in the footer for\n      the column. 'search' indicates whether a search filter should be\n      made available for the column. 'primary' indicates that this property\n      should be used as the unique identifier, which gives the cell 'row' scope\n      for accessibility. If 'primary' is not used for any column, and\n      'primaryKey' isn't specified either, then the first column will be used."),
    data: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({})).description('Array of data objects.'),
    groupBy: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      property: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
      expand: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string),
      onExpand: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func
    })]).description("Property to group data by. If object is specified\n      'property' is used to group data by, 'expand' accepts array of \n       group keys that sets expanded groups and 'onExpand' is a function\n       that will be called after expand button is clicked with\n       an array of keys of expanded groups."),
    onMore: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Use this to indicate that 'data' doesn't contain all that it could.\n      It will be called when all of the data rows have been rendered.\n      This might be used when the total number of items that could be retrieved\n      is more than you'd want to load into the browser. 'onMore' allows you\n      to lazily fetch more from the server only when needed. This cannot\n      be combined with properties that expect all data to be present in the\n      browser, such as columns.search, sortable, groupBy, or \n      columns.aggregate."),
    replace: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Whether to replace previously rendered items with a generic spacing\n      element when they have scrolled out of view. This is more performant but\n      means that in-page searching will not find elements that have been\n      replaced."),
    onClickRow: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("When supplied, this function will be called with an event object that\n      include a 'datum' property containing the data value associated with\n      the clicked row. You should not include interactive elements, like\n      Anchor or Button inside table cells as that can cause confusion with\n      overlapping interactive elements."),
    onSearch: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("When supplied, and when at least one column has 'search' enabled,\n      this function will be called with an object with keys for property\n      names and values which are the search text strings. This is typically\n      employed so a back-end can be used to search through the data."),
    pad: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(sizes), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape(padShapeSides), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape(padShapeParts)]).description("Cell padding. You can set the padding per context by passing an\n      object with keys for 'heading', 'body', and/or 'footer'."),
    primaryKey: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description("When supplied, indicates the property for a data object to use to\n      get a unique identifier. See also the 'columns.primary' description.\n      Use this property when the columns approach will not work for your\n      data set."),
    resizeable: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Whether to allow the user to resize column widths.'),
    rowProps: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({}).description("Row specific background, border, and pad, keyed by primary key value.\n      For example:\n      { \"primary-key-value\": { background: ..., border: ..., pad: ... }},\n      where the background, border, and pad accept the same values as\n      the same named properties on DataTable."),
    size: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['small', 'medium', 'large', 'xlarge']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description("The height of the table body. If set, the table body will have a fixed\n      height and the rows will be scrollable within it. In order to preserve\n      header and footer cell alignment, all cells will have the same\n      width. This cannot be used in combination with 'resizeable'."),
    sortable: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Whether to allow the user to sort columns.'),
    step: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number.description('How many items to render at a time.').defaultValue(50)
  });
  return DocumentedDataTable;
};
var themeDoc = {
  'global.hover.background': {
    description: 'The background style when hovering over an interactive row.',
    type: 'string | { color: string, opacity: string }',
    defaultValue: "{ color: 'active', opacity: 'medium' }"
  },
  'global.hover.color': {
    description: 'The text color when hovering over an interactive row.',
    type: 'string | { dark: string, light: string }',
    defaultValue: "{ dark: 'white', light: 'black' }"
  },
  'dataTable.groupHeader.background': {
    description: 'The background color of the group header.',
    type: 'string | { dark: string, light: string }',
    defaultValue: "{ dark: 'dark-2', light: 'light-2' }"
  },
  'dataTable.groupHeader.border.side': {
    description: 'The border side rendered for the group header.',
    type: 'string',
    defaultValue: 'bottom'
  },
  'dataTable.groupHeader.border.size': {
    description: 'The border size of the group header border.',
    type: 'string',
    defaultValue: 'xsmall'
  },
  'dataTable.groupHeader.fill': {
    description: 'Whether the height should fill the group header.',
    type: 'string',
    defaultValue: 'vertical'
  },
  'dataTable.groupHeader.pad': {
    description: 'The pad used for the group header.',
    type: 'string | object',
    defaultValue: "{ horizontal: 'small', vertical: 'xsmall' }"
  },
  'dataTable.header': {
    description: 'Styles for the header.',
    type: 'object',
    defaultValue: '{}'
  },
  'dataTable.icons.ascending': {
    description: 'The ascending icon.',
    type: 'React.Element',
    defaultValue: '<FormDown />'
  },
  'dataTable.icons.contract': {
    description: 'The contract icon.',
    type: 'React.Element',
    defaultValue: '<FormUp />'
  },
  'dataTable.icons.descending': {
    description: 'The descending icon.',
    type: 'React.Element',
    defaultValue: '<FormUp />'
  },
  'dataTable.icons.expand': {
    description: 'The expand icon.',
    type: 'React.Element',
    defaultValue: '<FormDown />'
  },
  'dataTable.primary.weight': {
    description: 'The font weight for primary cells.',
    type: 'string',
    defaultValue: 'bold'
  },
  'dataTable.resize.border.color': {
    description: 'The border color for resize.',
    type: 'string | { dark: string, light: string }',
    defaultValue: 'border'
  },
  'dataTable.resize.border.side': {
    description: 'The border side used for resize.',
    type: 'string',
    defaultValue: 'right'
  },
  'table.row.hover.background': {
    description: 'The background color when hovering over an interactive row.',
    type: 'string | { color: string, opacity: string }'
  },
  'table.row.hover.color': {
    description: 'The text color when hovering over an interactive row.',
    type: 'string | { dark: string, light: string }'
  }
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/DataTable/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/grommet/es6/components/DataTable/index.js ***!
  \****************************************************************/
/*! exports provided: DataTable */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _DataTable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DataTable */ "./node_modules/grommet/es6/components/DataTable/DataTable.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "DataTable", function() { return _DataTable__WEBPACK_IMPORTED_MODULE_0__["DataTable"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Diagram/Diagram.js":
/*!****************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Diagram/Diagram.js ***!
  \****************************************************************/
/*! exports provided: Diagram */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Diagram", function() { return DiagramWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _StyledDiagram__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./StyledDiagram */ "./node_modules/grommet/es6/components/Diagram/StyledDiagram.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }








var computeMidPoint = function computeMidPoint(fromPoint, toPoint) {
  return [fromPoint[0] > toPoint[0] ? toPoint[0] + (fromPoint[0] - toPoint[0]) / 2 : fromPoint[0] + (toPoint[0] - fromPoint[0]) / 2, fromPoint[1] > toPoint[1] ? toPoint[1] + (fromPoint[1] - toPoint[1]) / 2 : fromPoint[1] + (toPoint[1] - fromPoint[1]) / 2];
};

var COMMANDS = {
  curved: function curved(fromPoint, toPoint, offset, anchor) {
    var midPoint = computeMidPoint(fromPoint, toPoint);
    var cmds = "M " + (fromPoint[0] + offset) + "," + (fromPoint[1] + offset) + " ";

    if (anchor === 'horizontal') {
      cmds += "Q " + (midPoint[0] + offset) + "," + (fromPoint[1] + offset) + " " + (midPoint[0] + offset + "," + (midPoint[1] + offset) + " ");
    } else {
      cmds += "Q " + (fromPoint[0] + offset) + "," + (midPoint[1] + offset) + " " + (midPoint[0] + offset + "," + (midPoint[1] + offset) + " ");
    }

    cmds += "T " + (toPoint[0] + offset) + "," + (toPoint[1] + offset);
    return cmds;
  },
  direct: function direct(fromPoint, toPoint, offset) {
    return "M " + (fromPoint[0] + offset) + "," + (fromPoint[1] + offset) + " " + ("L " + (toPoint[0] + offset) + "," + (toPoint[1] + offset));
  },
  rectilinear: function rectilinear(fromPoint, toPoint, offset, anchor) {
    var midPoint = computeMidPoint(fromPoint, toPoint);
    var cmds = "M " + (fromPoint[0] + offset) + "," + (fromPoint[1] + offset) + " ";

    if (anchor === 'horizontal') {
      cmds += "L " + (midPoint[0] + offset) + "," + (fromPoint[1] + offset) + " " + ("L " + (midPoint[0] + offset) + "," + (toPoint[1] + offset) + " ");
    } else {
      cmds += "L " + (fromPoint[0] + offset) + "," + (midPoint[1] + offset) + " " + ("L " + (toPoint[0] + offset) + "," + (midPoint[1] + offset) + " ");
    }

    cmds += "L " + (toPoint[0] + offset) + "," + (toPoint[1] + offset);
    return cmds;
  }
};

var findTarget = function findTarget(target) {
  if (typeof target === 'string') {
    return document.getElementById(target);
  }

  return target;
};

var Diagram = function Diagram(_ref) {
  var connections = _ref.connections,
      theme = _ref.theme,
      rest = _objectWithoutPropertiesLoose(_ref, ["connections", "theme"]);

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])({
    width: 0,
    height: 0
  }),
      dimensions = _useState[0],
      setDimensions = _useState[1];

  var _useState2 = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(),
      connectionPoints = _useState2[0],
      setConnectionPoints = _useState2[1];

  var svgRef = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])();
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    setConnectionPoints(undefined);
  }, [connections]);
  var onResize = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function () {
    var svg = svgRef.current;

    if (svg) {
      var rect = svg.getBoundingClientRect();

      if (rect.width !== dimensions.width || rect.height !== dimensions.height) {
        setDimensions({
          width: rect.width,
          height: rect.height
        });
        setConnectionPoints(undefined);
      }
    }
  }, [dimensions.width, dimensions.height]); // Ref that stores resize handler

  var savedOnResize = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])(); // Update resize ref value if onResize changes.
  // This allows our effect below to always get latest handler

  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    savedOnResize.current = onResize;
  }, [onResize]);
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    var onResizeHandler = function onResizeHandler(event) {
      return savedOnResize.current(event);
    };

    onResizeHandler();
    window.addEventListener('resize', onResizeHandler);
    return function () {
      window.removeEventListener('resize', onResizeHandler);
    };
  }, []);
  var placeConnections = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function () {
    var containerRect = svgRef.current.getBoundingClientRect();
    var updatedConnectionPoints = connections.map(function (_ref2) {
      var anchor = _ref2.anchor,
          fromTarget = _ref2.fromTarget,
          toTarget = _ref2.toTarget;
      var points;
      var fromElement = findTarget(fromTarget);
      var toElement = findTarget(toTarget);

      if (!fromElement) {
        console.warn("Diagram cannot find " + fromTarget);
      }

      if (!toElement) {
        console.warn("Diagram cannot find " + toTarget);
      }

      if (fromElement && toElement) {
        var fromRect = fromElement.getBoundingClientRect();
        var toRect = toElement.getBoundingClientRect(); // There is no x and y when unit testing.

        var fromPoint = [fromRect.left - containerRect.left || 0, fromRect.top - containerRect.top || 0];
        var toPoint = [toRect.left - containerRect.left || 0, toRect.top - containerRect.top || 0];

        if (anchor === 'vertical') {
          fromPoint[0] += fromRect.width / 2;
          toPoint[0] += toRect.width / 2;

          if (fromRect.top < toRect.top) {
            fromPoint[1] += fromRect.height;
          } else {
            toPoint[1] += toRect.height;
          }
        } else if (anchor === 'horizontal') {
          fromPoint[1] += fromRect.height / 2;
          toPoint[1] += toRect.height / 2;

          if (fromRect.left < toRect.left) {
            fromPoint[0] += fromRect.width;
          } else {
            toPoint[0] += toRect.width;
          }
        } else {
          // center
          fromPoint[0] += fromRect.width / 2;
          fromPoint[1] += fromRect.height / 2;
          toPoint[0] += toRect.width / 2;
          toPoint[1] += toRect.height / 2;
        }

        points = [fromPoint, toPoint];
      }

      return points;
    });
    setConnectionPoints(updatedConnectionPoints);
  }, [connections]);
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    if (!connectionPoints) {
      placeConnections();
    }
  }, [connectionPoints, placeConnections]);
  var paths;

  if (connectionPoints) {
    paths = connections.map(function (_ref3, index) {
      var anchor = _ref3.anchor,
          color = _ref3.color,
          offset = _ref3.offset,
          round = _ref3.round,
          thickness = _ref3.thickness,
          type = _ref3.type,
          connectionRest = _objectWithoutPropertiesLoose(_ref3, ["anchor", "color", "offset", "round", "thickness", "type"]);

      var path;

      var cleanedRest = _extends({}, connectionRest);

      delete cleanedRest.fromTarget;
      delete cleanedRest.toTarget;
      var points = connectionPoints[index];

      if (points) {
        var offsetWidth = offset ? Object(_utils__WEBPACK_IMPORTED_MODULE_4__["parseMetricToNum"])(theme.global.edgeSize[offset]) : 0;
        var d = COMMANDS[type || 'curved'](points[0], points[1], offsetWidth, anchor);
        var strokeWidth = thickness ? Object(_utils__WEBPACK_IMPORTED_MODULE_4__["parseMetricToNum"])(theme.global.edgeSize[thickness] || thickness) : 1;
        var colorName = color || theme.diagram.line && theme.diagram.line.color;

        if (!colorName) {
          var colors = Object.keys(theme.global.colors).filter(function (n) {
            return n.match(/^graph-[0-9]$/);
          });
          colorName = colors[index % colors.length];
        }

        path = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path", _extends({
          // eslint-disable-next-line react/no-array-index-key
          key: index
        }, cleanedRest, {
          stroke: Object(_utils__WEBPACK_IMPORTED_MODULE_4__["normalizeColor"])(colorName, theme),
          strokeWidth: strokeWidth,
          strokeLinecap: round ? 'round' : 'butt',
          strokeLinejoin: round ? 'round' : 'miter',
          fill: "none",
          d: d
        }));
      }

      return path;
    });
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledDiagram__WEBPACK_IMPORTED_MODULE_5__["StyledDiagram"], _extends({
    ref: svgRef,
    viewBox: "0 0 " + dimensions.width + " " + dimensions.height,
    preserveAspectRatio: "xMinYMin meet"
  }, rest), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("g", null, paths));
};

Diagram.defaultProps = {
  connections: []
};
Object.setPrototypeOf(Diagram.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_3__["defaultProps"]);
var DiagramDoc;

if (true) {
  // eslint-disable-next-line global-require
  DiagramDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Diagram/doc.js").doc(Diagram);
}

var DiagramWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(styled_components__WEBPACK_IMPORTED_MODULE_2__["withTheme"])(DiagramDoc || Diagram);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Diagram/StyledDiagram.js":
/*!**********************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Diagram/StyledDiagram.js ***!
  \**********************************************************************/
/*! exports provided: StyledDiagram */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledDiagram", function() { return StyledDiagram; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");


var StyledDiagram = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].svg.withConfig({
  displayName: "StyledDiagram",
  componentId: "sc-1vzeu9f-0"
})(["max-width:100%;width:100%;height:100%;", ";"], function (props) {
  return props.theme.diagram && props.theme.diagram.extend;
});
StyledDiagram.defaultProps = {};
Object.setPrototypeOf(StyledDiagram.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_1__["defaultProps"]);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Diagram/doc.js":
/*!************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Diagram/doc.js ***!
  \************************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");


var doc = function doc(Diagram) {
  var DocumentedDiagram = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Diagram).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('Diagram')).description("Graphical connection lines. Diagram is meant to be used with Stack.\n      Boxes can be used in the `guidingChild` layer of Stack and then\n      Diagram can be used to draw lines connecting the Boxes.").usage("import { Diagram } from 'grommet';\n<Diagram />").intrinsicElement('svg');
  DocumentedDiagram.propTypes = {
    connections: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      anchor: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['center', 'vertical', 'horizontal']),
      color: _utils__WEBPACK_IMPORTED_MODULE_1__["colorPropType"],
      fromTarget: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object]).isRequired,
      label: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
      // for accessibility
      offset: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['xsmall', 'small', 'medium', 'large']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
      thickness: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['hair', 'xxsmall', 'xsmall', 'small', 'medium', 'large']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
      toTarget: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object]).isRequired,
      type: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['direct', 'curved', 'rectilinear'])
    })).description("Array of objects describing the connections.\n      The 'fromTarget' and 'toTarget' may be either DOM element ids or\n      React references.\n      'offset' can be used to shift a bit to reduce the amount of overlap\n      with other connection lines to make the lines easier to distinguish.").isRequired
  };
  return DocumentedDiagram;
};
var themeDoc = {
  'diagram.extend': {
    description: 'Any additional style for Diagram.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'diagram.line.color': {
    description: 'The color of the connection line.',
    type: 'string | {dark: string, light: string}',
    defaultValue: 'accent-1'
  },
  'global.colors': {
    description: 'Color options.',
    type: 'object',
    defaultValue: "{\n      \"accent-1\": \"#6FFFB0\",\n      \"graph-0\": \"accent-1\",\n      \"graph-1\": \"neutral-1\",\n      ...\n    }"
  },
  'global.edgeSize': {
    description: 'The possible sizes for the connections thickness and offset.',
    type: 'object',
    defaultValue: "{\n        none: '0px',\n        hair: '1px',\n        xxsmall: '3px',\n        xsmall: '6px',\n        small: '12px',\n        medium: '24px',\n        large: '48px',\n        xlarge: '96px',\n        responsiveBreakpoint: 'small',\n    }"
  }
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/Diagram/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Diagram/index.js ***!
  \**************************************************************/
/*! exports provided: Diagram */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Diagram__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Diagram */ "./node_modules/grommet/es6/components/Diagram/Diagram.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Diagram", function() { return _Diagram__WEBPACK_IMPORTED_MODULE_0__["Diagram"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Distribution/Distribution.js":
/*!**************************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Distribution/Distribution.js ***!
  \**************************************************************************/
/*! exports provided: Distribution */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Distribution", function() { return DistributionWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
/* harmony import */ var _Text__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Text */ "./node_modules/grommet/es6/components/Text/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }






var Value = function Value(_ref) {
  var basis = _ref.basis,
      children = _ref.children;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_2__["Box"], {
    basis: basis,
    flex: "shrink",
    overflow: "hidden"
  }, children);
};

Value.propTypes = {
  basis: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  children: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.node.isRequired
};

var Distribution = function Distribution(_ref2) {
  var basis = _ref2.basis,
      children = _ref2.children,
      direction = _ref2.direction,
      fill = _ref2.fill,
      gap = _ref2.gap,
      values = _ref2.values,
      rest = _objectWithoutPropertiesLoose(_ref2, ["basis", "children", "direction", "fill", "gap", "values"]);

  if (values.length === 1) {
    var value = values[0];
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Value, {
      value: value,
      basis: basis
    }, children(value));
  }

  if (values.length > 1) {
    var reducer = function reducer(accumulator, _ref3) {
      var value = _ref3.value;
      return accumulator + value;
    };

    var total = values.reduce(reducer, 0); // figure out how many of the values area needed to represent half of the
    // total

    var subTotal = 0;
    var subIndex;
    values.some(function (v, index) {
      subTotal += v.value;

      if (subTotal >= total * 0.4) {
        subIndex = index + 1;
        return true;
      }

      return false;
    });

    if (subIndex === values.length) {
      var _value = values[0];
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Value, {
        value: _value,
        basis: basis
      }, children(_value));
    }

    var childBasis;

    if (subTotal > total * 0.7) {
      childBasis = ['3/4', '1/4'];
    } else if (subTotal > total * 0.6) {
      childBasis = ['2/3', '1/3'];
    } else {
      childBasis = ['1/2', '1/2'];
    }

    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_2__["Box"], _extends({
      direction: direction,
      basis: basis,
      flex: basis ? 'shrink' : true,
      overflow: "hidden",
      gap: gap,
      fill: fill
    }, rest), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Distribution, {
      values: values.slice(0, subIndex),
      basis: childBasis[0],
      direction: direction === 'row' ? 'column' : 'row',
      gap: gap
    }, children), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Distribution, {
      values: values.slice(subIndex),
      basis: childBasis[1],
      direction: direction === 'row' ? 'column' : 'row',
      gap: gap
    }, children));
  }

  return null;
};

Distribution.defaultProps = {
  basis: undefined,
  children: function children(value) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_2__["Box"], {
      fill: true,
      border: true
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Text__WEBPACK_IMPORTED_MODULE_3__["Text"], null, value.value));
  },
  direction: 'row',
  gap: 'xsmall',
  values: []
};
var DistributionDoc;

if (true) {
  // eslint-disable-next-line global-require
  DistributionDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Distribution/doc.js").doc(Distribution);
}

var DistributionWrapper = DistributionDoc || Distribution;


/***/ }),

/***/ "./node_modules/grommet/es6/components/Distribution/doc.js":
/*!*****************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Distribution/doc.js ***!
  \*****************************************************************/
/*! exports provided: doc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var doc = function doc(Distribution) {
  var DocumentedDistribution = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Distribution).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('Distribution')).description("Proportionally sized grid of boxes. The proportions are approximate. The\n      area given to each box isn't mathematically precise according to the\n      ratio to the total values. Instead, the boxes are laid out in a\n      manner that makes them more visually easy to scan. For example,\n      two values of 48 and 52 will actually each get 50% of the area.").usage("import { Distribution } from 'grommet';\n<Distribution />").intrinsicElement('div');
  DocumentedDistribution.propTypes = _extends({}, _utils__WEBPACK_IMPORTED_MODULE_1__["genericProps"], {
    basis: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['xxsmall', 'xsmall', 'small', 'medium', 'large', 'xlarge', 'xxlarge', 'full', '1/2', '1/3', '2/3', '1/4', '2/4', '3/4', 'auto']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description("A fixed or relative size along its container's main axis."),
    children: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description('Function that will be called when each value is rendered.'),
    fill: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Whether the distribution expands to fill all of the available width \n        and height.").defaultValue(false),
    gap: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['none', 'xxsmall', 'xsmall', 'small', 'medium', 'large', 'xlarge']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description('The amount of spacing between child elements.').defaultValue('xsmall'),
    values: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      value: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number.isRequired
    })).description("Array of objects containing a value. The array should already be\n      sorted from largest to smallest value. The caller can put other\n      properties in the object. The children function will be called to\n      render the contents of each value.").isRequired
  });
  return DocumentedDistribution;
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/Distribution/index.js":
/*!*******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Distribution/index.js ***!
  \*******************************************************************/
/*! exports provided: Distribution */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Distribution__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Distribution */ "./node_modules/grommet/es6/components/Distribution/Distribution.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Distribution", function() { return _Distribution__WEBPACK_IMPORTED_MODULE_0__["Distribution"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Drop/Drop.js":
/*!**********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Drop/Drop.js ***!
  \**********************************************************/
/*! exports provided: Drop */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Drop", function() { return DropWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ "./node_modules/react-dom/index.js");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _DropContainer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./DropContainer */ "./node_modules/grommet/es6/components/Drop/DropContainer.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }






var Drop =
/*#__PURE__*/
function (_Component) {
  _inheritsLoose(Drop, _Component);

  function Drop() {
    var _this;

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _Component.call.apply(_Component, [this].concat(args)) || this;

    _defineProperty(_assertThisInitialized(_this), "originalFocusedElement", document.activeElement);

    _defineProperty(_assertThisInitialized(_this), "dropContainer", Object(_utils__WEBPACK_IMPORTED_MODULE_2__["getNewContainer"])());

    return _this;
  }

  var _proto = Drop.prototype;

  _proto.componentWillUnmount = function componentWillUnmount() {
    var restrictFocus = this.props.restrictFocus;

    if (restrictFocus && this.originalFocusedElement) {
      if (this.originalFocusedElement.focus) {
        Object(_utils__WEBPACK_IMPORTED_MODULE_2__["setFocusWithoutScroll"])(this.originalFocusedElement);
      } else if (this.originalFocusedElement.parentNode && this.originalFocusedElement.parentNode.focus) {
        // required for IE11 and Edge
        Object(_utils__WEBPACK_IMPORTED_MODULE_2__["setFocusWithoutScroll"])(this.originalFocusedElement.parentNode);
      }
    }

    document.body.removeChild(this.dropContainer);
  };

  _proto.render = function render() {
    var _this$props = this.props,
        dropTarget = _this$props.target,
        rest = _objectWithoutPropertiesLoose(_this$props, ["target"]);

    return Object(react_dom__WEBPACK_IMPORTED_MODULE_1__["createPortal"])(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_DropContainer__WEBPACK_IMPORTED_MODULE_3__["DropContainer"], _extends({
      dropTarget: dropTarget
    }, rest)), this.dropContainer);
  };

  return Drop;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

_defineProperty(Drop, "defaultProps", {
  align: {
    top: 'top',
    left: 'left'
  },
  plain: false
});

var DropDoc;

if (true) {
  DropDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Drop/doc.js").doc(Drop); // eslint-disable-line global-require
}

var DropWrapper = DropDoc || Drop;


/***/ }),

/***/ "./node_modules/grommet/es6/components/Drop/DropContainer.js":
/*!*******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Drop/DropContainer.js ***!
  \*******************************************************************/
/*! exports provided: DropContainer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DropContainer", function() { return DropContainer; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _contexts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../contexts */ "./node_modules/grommet/es6/contexts/index.js");
/* harmony import */ var _FocusedContainer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../FocusedContainer */ "./node_modules/grommet/es6/components/FocusedContainer.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
/* harmony import */ var _Keyboard__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Keyboard */ "./node_modules/grommet/es6/components/Keyboard/index.js");
/* harmony import */ var _StyledDrop__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./StyledDrop */ "./node_modules/grommet/es6/components/Drop/StyledDrop.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }








 // using react synthetic event to be able to stop propagation that
// would otherwise close the layer on ESC.

var preventLayerClose = function preventLayerClose(event) {
  var key = event.keyCode ? event.keyCode : event.which;

  if (key === 27) {
    event.stopPropagation();
  }
};

var DropContainer =
/*#__PURE__*/
function (_Component) {
  _inheritsLoose(DropContainer, _Component);

  function DropContainer() {
    var _this;

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _Component.call.apply(_Component, [this].concat(args)) || this;

    _defineProperty(_assertThisInitialized(_this), "dropRef", react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef());

    _defineProperty(_assertThisInitialized(_this), "addScrollListener", function () {
      var dropTarget = _this.props.dropTarget;
      _this.scrollParents = Object(_utils__WEBPACK_IMPORTED_MODULE_4__["findScrollParents"])(dropTarget);

      _this.scrollParents.forEach(function (scrollParent) {
        return scrollParent.addEventListener('scroll', _this.place);
      });
    });

    _defineProperty(_assertThisInitialized(_this), "removeScrollListener", function () {
      _this.scrollParents.forEach(function (scrollParent) {
        return scrollParent.removeEventListener('scroll', _this.place);
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onClickDocument", function (event) {
      var _this$props = _this.props,
          dropTarget = _this$props.dropTarget,
          onClickOutside = _this$props.onClickOutside;
      var dropTargetNode = dropTarget;
      var dropNode = _this.dropRef.current;

      if (onClickOutside && dropNode && // need this for ie11
      !dropTargetNode.contains(event.target) && !dropNode.contains(event.target)) {
        onClickOutside();
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onResize", function () {
      _this.removeScrollListener();

      _this.addScrollListener();

      _this.place(false);
    });

    _defineProperty(_assertThisInitialized(_this), "place", function (preserveHeight) {
      var _this$props2 = _this.props,
          align = _this$props2.align,
          dropTarget = _this$props2.dropTarget,
          responsive = _this$props2.responsive,
          stretch = _this$props2.stretch,
          theme = _this$props2.theme;
      var windowWidth = window.innerWidth;
      var windowHeight = window.innerHeight;
      var target = dropTarget;
      var container = _this.dropRef.current;

      if (container && target) {
        // clear prior styling
        container.style.left = '';
        container.style.top = '';
        container.style.bottom = '';
        container.style.width = '';

        if (!preserveHeight) {
          container.style.maxHeight = '';
        } // get bounds


        var targetRect = Object(_utils__WEBPACK_IMPORTED_MODULE_4__["findVisibleParent"])(target).getBoundingClientRect();
        var containerRect = container.getBoundingClientRect(); // determine width

        var width = Math.min(stretch ? Math.max(targetRect.width, containerRect.width) : containerRect.width, windowWidth); // set left position

        var left;

        if (align.left) {
          if (align.left === 'left') {
            left = targetRect.left;
          } else if (align.left === 'right') {
            left = targetRect.left + targetRect.width;
          }
        } else if (align.right) {
          if (align.right === 'left') {
            left = targetRect.left - width;
          } else if (align.right === 'right') {
            left = targetRect.left + targetRect.width - width;
          }
        } else {
          left = targetRect.left + targetRect.width / 2 - width / 2;
        }

        if (left + width > windowWidth) {
          left -= left + width - windowWidth;
        } else if (left < 0) {
          left = 0;
        } // set top or bottom position


        var top;
        var bottom;
        var maxHeight = containerRect.height;

        if (align.top) {
          if (align.top === 'top') {
            top = targetRect.top;
          } else {
            top = targetRect.bottom;
          } // Calculate visible area underneath the control w.r.t window height


          var percentVisibleAreaBelow = 100 - targetRect.bottom / windowHeight * 100; // Check whether it is within 20% from bottom of the window or visible
          // area to flip the control
          // DropContainer doesn't fit well within visible area when
          // percentVisibleAreaBelow value<=20%
          // There is enough space from DropContainer to bottom of the window
          // when percentVisibleAreaBelow>20%.

          if (windowHeight === top || percentVisibleAreaBelow <= 20) {
            // We need more room than we have.
            // We put it below, but there's more room above, put it above
            top = '';

            if (align.top === 'bottom') {
              bottom = targetRect.top;
            } else {
              bottom = targetRect.bottom;
            }

            maxHeight = bottom;
            container.style.maxHeight = maxHeight + "px";
          } else if (top > 0) {
            maxHeight = windowHeight - top;
            container.style.maxHeight = maxHeight + "px";
          } else {
            maxHeight = windowHeight - top;
          }
        } else if (align.bottom) {
          if (align.bottom === 'bottom') {
            bottom = targetRect.bottom;
          } else {
            bottom = targetRect.top;
          }

          maxHeight = bottom;
          container.style.maxHeight = maxHeight + "px";
        } else {
          // center
          top = targetRect.top + targetRect.height / 2 - containerRect.height / 2;
          maxHeight = windowHeight - top;
        } // if we can't fit it all, or we're rather close,
        // see if there's more room the other direction


        if (responsive && (containerRect.height > maxHeight || maxHeight < windowHeight / 10)) {
          // We need more room than we have.
          if (align.top && top > windowHeight / 2) {
            // We put it below, but there's more room above, put it above
            top = '';

            if (align.top === 'bottom') {
              // top = Math.max(targetRect.top - containerRect.height, 0);
              // maxHeight = targetRect.top - top;
              bottom = targetRect.top;
            } else {
              // top = Math.max(targetRect.bottom - containerRect.height, 0);
              // maxHeight = targetRect.bottom - top;
              bottom = targetRect.bottom;
            }

            maxHeight = bottom;
          } else if (align.bottom && maxHeight < windowHeight / 2) {
            // We put it above but there's more room below, put it below
            bottom = '';

            if (align.bottom === 'bottom') {
              top = targetRect.top;
            } else {
              top = targetRect.bottom;
            }

            maxHeight = windowHeight - top;
          }
        }

        container.style.left = left + "px";

        if (stretch) {
          // offset width by 0.1 to avoid a bug in ie11 that
          // unnecessarily wraps the text if width is the same
          // NOTE: turned off for now
          container.style.width = width + 0.1 + "px";
        } // the (position:absolute + scrollTop)
        // is presenting issues with desktop scroll flickering


        if (top !== '') {
          container.style.top = top + "px";
        }

        if (bottom !== '') {
          container.style.bottom = windowHeight - bottom + "px";
        }

        if (!preserveHeight) {
          if (theme.drop && theme.drop.maxHeight) {
            maxHeight = Math.min(maxHeight, Object(_utils__WEBPACK_IMPORTED_MODULE_4__["parseMetricToNum"])(theme.drop.maxHeight));
          }

          container.style.maxHeight = maxHeight + "px";
        }
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onEsc", function (event) {
      var onEsc = _this.props.onEsc;
      event.stopPropagation();

      if (onEsc) {
        onEsc(event);
      }
    });

    _defineProperty(_assertThisInitialized(_this), "preventClickBubbling", function (event) {
      event.stopPropagation();
      /**
       * the React event system actually listens to all events at the top level
       * and then handles its own bubbling / capturing virtually. This means that
       * even if we call stopPropagation, it only affects the React synthetic
       * event, and the native event still bubbles upward.
       * Any code that uses native events (like the close listener in this class)
       * will still get the bubbled event, unless we also call
       * event.nativeEvent.stopImmediatePropagation, which bridges the gap from
       * React synthetic event to native DOM event.
       */

      event.nativeEvent.stopImmediatePropagation();
    });

    return _this;
  }

  var _proto = DropContainer.prototype;

  _proto.componentDidMount = function componentDidMount() {
    var restrictFocus = this.props.restrictFocus;
    this.addScrollListener();
    window.addEventListener('resize', this.onResize);
    document.addEventListener('mousedown', this.onClickDocument);
    this.place(false);

    if (restrictFocus) {
      this.dropRef.current.focus();
    }
  };

  _proto.componentDidUpdate = function componentDidUpdate() {
    this.place(true);
  };

  _proto.componentWillUnmount = function componentWillUnmount() {
    this.removeScrollListener();
    window.removeEventListener('resize', this.onResize);
    document.removeEventListener('mousedown', this.onClickDocument);
  };

  _proto.render = function render() {
    var _this$props3 = this.props,
        alignProp = _this$props3.align,
        children = _this$props3.children,
        elevation = _this$props3.elevation,
        onClickOutside = _this$props3.onClickOutside,
        onEsc = _this$props3.onEsc,
        onKeyDown = _this$props3.onKeyDown,
        plain = _this$props3.plain,
        propsTheme = _this$props3.theme,
        rest = _objectWithoutPropertiesLoose(_this$props3, ["align", "children", "elevation", "onClickOutside", "onEsc", "onKeyDown", "plain", "theme"]);

    var theme = this.context || propsTheme;
    var content = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledDrop__WEBPACK_IMPORTED_MODULE_7__["StyledDrop"], _extends({
      as: _Box__WEBPACK_IMPORTED_MODULE_5__["Box"],
      plain: plain,
      elevation: !plain ? elevation || theme.global.drop.shadowSize || 'small' : undefined,
      tabIndex: "-1",
      ref: this.dropRef,
      alignProp: alignProp,
      onMouseDown: this.preventClickBubbling
    }, rest), children);

    if (theme.global.drop.background) {
      var dark = Object(_utils__WEBPACK_IMPORTED_MODULE_4__["backgroundIsDark"])(theme.global.drop.background, theme);

      if (dark !== undefined && dark !== theme.dark) {
        content = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_contexts__WEBPACK_IMPORTED_MODULE_2__["ThemeContext"].Provider, {
          value: _extends({}, theme, {
            dark: dark
          })
        }, content);
      }
    }

    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_FocusedContainer__WEBPACK_IMPORTED_MODULE_3__["FocusedContainer"], {
      onKeyDown: onEsc && preventLayerClose
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Keyboard__WEBPACK_IMPORTED_MODULE_6__["Keyboard"], {
      onEsc: onEsc && this.onEsc,
      onKeyDown: onKeyDown,
      target: "document"
    }, content));
  };

  return DropContainer;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

_defineProperty(DropContainer, "contextType", _contexts__WEBPACK_IMPORTED_MODULE_2__["ThemeContext"]);

_defineProperty(DropContainer, "defaultProps", {
  align: {
    top: 'top',
    left: 'left'
  },
  overflow: 'auto',
  stretch: 'width'
});

Object.setPrototypeOf(DropContainer.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_1__["defaultProps"]);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Drop/StyledDrop.js":
/*!****************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Drop/StyledDrop.js ***!
  \****************************************************************/
/*! exports provided: StyledDrop */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledDrop", function() { return StyledDrop; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _utils_background__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/background */ "./node_modules/grommet/es6/utils/background.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");





function getTransformOriginStyle(align) {
  var vertical = 'top';

  if (align.bottom) {
    vertical = 'bottom';
  }

  var horizontal = 'left';

  if (align.right) {
    horizontal = 'right';
  }

  return vertical + " " + horizontal;
}

var dropKeyFrames = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["keyframes"])(["0%{opacity:0.5;transform:scale(0.8);}100%{opacity:1;transform:scale(1);}"]);
var StyledDrop = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledDrop",
  componentId: "sc-16s5rx8-0"
})(["", " border-radius:", ";position:fixed;z-index:", ";outline:none;", " opacity:0;transform-origin:", ";animation:", " 0.1s forwards;animation-delay:0.01s;@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){display:flex;align-items:stretch;}", ""], _utils__WEBPACK_IMPORTED_MODULE_1__["baseStyle"], function (props) {
  return props.theme.global.drop.border.radius;
}, function (props) {
  return props.theme.global.drop.zIndex;
}, function (props) {
  return !props.plain && Object(_utils_background__WEBPACK_IMPORTED_MODULE_2__["backgroundStyle"])(props.theme.global.drop.background, props.theme);
}, function (props) {
  return getTransformOriginStyle(props.alignProp);
}, dropKeyFrames, function (props) {
  return props.theme.global.drop && props.theme.global.drop.extend;
});
StyledDrop.defaultProps = {};
Object.setPrototypeOf(StyledDrop.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_3__["defaultProps"]);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Drop/doc.js":
/*!*********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Drop/doc.js ***!
  \*********************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Box_doc__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Box/doc */ "./node_modules/grommet/es6/components/Box/doc.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");


 // if you update values here, make sure to update in Box/doc too.

var dropOverflowPropTypes = react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(_Box_doc__WEBPACK_IMPORTED_MODULE_1__["OVERFLOW_VALUES"]), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
  horizontal: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(_Box_doc__WEBPACK_IMPORTED_MODULE_1__["OVERFLOW_VALUES"]),
  vertical: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(_Box_doc__WEBPACK_IMPORTED_MODULE_1__["OVERFLOW_VALUES"])
}), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]);
var doc = function doc(Drop) {
  var DocumentedDrop = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Drop).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_2__["getAvailableAtBadge"])('Drop')).description('A container that is overlaid next to a target.').usage("import { Drop } from 'grommet';\n<Drop target={reference}>...</Drop>").intrinsicElement('div');
  DocumentedDrop.propTypes = {
    align: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      top: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['top', 'bottom']),
      bottom: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['top', 'bottom']),
      right: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['left', 'right']),
      left: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['left', 'right'])
    }).description("How to align the drop with respect to the target element. Not \n        specifying a vertical or horizontal alignment will cause it to be \n        aligned in the center.").defaultValue({
      top: 'top',
      left: 'left'
    }),
    onClickOutside: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description('Function that will be invoked when the user clicks outside the drop.'),
    onEsc: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Function that will be called when the user presses the escape key inside\n       the drop."),
    overflow: dropOverflowPropTypes.description('How to control the overflow inside the drop.').defaultValue('auto'),
    responsive: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Whether to dynamically re-place when resized.').defaultValue(true),
    restrictFocus: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Whether the drop should control focus.').defaultValue(false),
    stretch: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Whether the drop element should be stretched to at least match the\n      width of the target element. The default is true because\n      that is what most uses of Drop want, like Select and Menu.").defaultValue(true),
    target: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object.description("Target where the drop will be aligned to. This should be a React \n      reference.").isRequired,
    elevation: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['none', 'xsmall', 'small', 'medium', 'large', 'xlarge']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description("Elevated height of the target, indicated via a drop shadow."),
    plain: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Whether the drop element should have no background nor shadow").defaultValue(false)
  };
  return DocumentedDrop;
};
var themeDoc = {
  'drop.maxHeight': {
    description: 'The max height of the Drop container',
    type: 'string',
    defaultValue: undefined
  },
  'global.drop.background': {
    description: 'The background color of Drop',
    type: 'string | { dark: string, light: string }',
    defaultValue: '#ffffff'
  },
  'global.drop.border.radius': {
    description: 'The corner radius',
    type: 'string',
    defaultValue: '0px'
  },
  'global.drop.extend': {
    description: 'Any additional style for Drop.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'global.drop.shadowSize': {
    description: 'Elevated height of the Drop',
    type: 'string',
    defaultValue: 'small'
  },
  'global.drop.zIndex': {
    description: 'The stack order of the Drop',
    type: 'number',
    defaultValue: 20
  }
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/Drop/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Drop/index.js ***!
  \***********************************************************/
/*! exports provided: Drop */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Drop__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Drop */ "./node_modules/grommet/es6/components/Drop/Drop.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Drop", function() { return _Drop__WEBPACK_IMPORTED_MODULE_0__["Drop"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/DropButton/DropButton.js":
/*!**********************************************************************!*\
  !*** ./node_modules/grommet/es6/components/DropButton/DropButton.js ***!
  \**********************************************************************/
/*! exports provided: DropButton */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DropButton", function() { return DropButtonWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Button */ "./node_modules/grommet/es6/components/Button/index.js");
/* harmony import */ var _Drop__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Drop */ "./node_modules/grommet/es6/components/Drop/index.js");
/* harmony import */ var _hocs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../hocs */ "./node_modules/grommet/es6/components/hocs.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }








var DropButton =
/*#__PURE__*/
function (_Component) {
  _inheritsLoose(DropButton, _Component);

  function DropButton(props) {
    var _this;

    _this = _Component.call(this, props) || this;

    _defineProperty(_assertThisInitialized(_this), "buttonRef", Object(react__WEBPACK_IMPORTED_MODULE_0__["createRef"])());

    _defineProperty(_assertThisInitialized(_this), "onDropClose", function () {
      var onClose = _this.props.onClose;

      _this.setState({
        show: false
      }, function () {
        if (onClose) {
          onClose();
        }
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onToggle", function (event) {
      var _this$props = _this.props,
          onClick = _this$props.onClick,
          onClose = _this$props.onClose,
          onOpen = _this$props.onOpen;
      var show = _this.state.show;

      _this.setState({
        show: !show
      }, function () {
        return show ? onClose && onClose() : onOpen && onOpen();
      });

      if (onClick) {
        onClick(event);
      }
    });

    _this.state = {
      show: props.open || false
    };
    return _this;
  }

  DropButton.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {
    var show = prevState.show;
    var open = nextProps.open;

    if (open !== undefined && open !== show) {
      return {
        show: open
      };
    }

    return null;
  };

  var _proto = DropButton.prototype;

  _proto.componentDidMount = function componentDidMount() {
    var open = this.props.open;

    if (open) {
      this.forceUpdate();
    }
  };

  _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {
    var forwardRef = this.props.forwardRef;
    var show = this.state.show;

    if (!show && prevState.show) {
      // focus on the button if the drop is closed
      Object(_utils__WEBPACK_IMPORTED_MODULE_5__["setFocusWithoutScroll"])((forwardRef || this.buttonRef).current);
    }
  };

  _proto.render = function render() {
    var _this$props2 = this.props,
        disabled = _this$props2.disabled,
        dropAlign = _this$props2.dropAlign,
        dropProps = _this$props2.dropProps,
        forwardRef = _this$props2.forwardRef,
        dropContent = _this$props2.dropContent,
        dropTarget = _this$props2.dropTarget,
        id = _this$props2.id,
        open = _this$props2.open,
        rest = _objectWithoutPropertiesLoose(_this$props2, ["disabled", "dropAlign", "dropProps", "forwardRef", "dropContent", "dropTarget", "id", "open"]);

    var show = this.state.show;
    delete rest.onClose;
    delete rest.onOpen;
    var drop;

    if (show && (forwardRef || this.buttonRef).current) {
      drop = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Drop__WEBPACK_IMPORTED_MODULE_3__["Drop"], _extends({
        id: id ? id + "__drop" : undefined,
        restrictFocus: true,
        align: dropAlign,
        target: dropTarget || (forwardRef || this.buttonRef).current,
        onClickOutside: this.onDropClose,
        onEsc: this.onDropClose
      }, dropProps), dropContent);
    }

    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_2__["Button"], _extends({
      id: id,
      ref: forwardRef || this.buttonRef,
      disabled: disabled
    }, rest, {
      onClick: this.onToggle
    })), drop);
  };

  return DropButton;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

_defineProperty(DropButton, "defaultProps", {
  a11yTitle: 'Open Drop',
  dropAlign: {
    top: 'top',
    left: 'left'
  }
});

var DropButtonDoc;

if (true) {
  // eslint-disable-next-line global-require
  DropButtonDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/DropButton/doc.js").doc(DropButton);
}

var DropButtonWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(_hocs__WEBPACK_IMPORTED_MODULE_4__["withForwardRef"])(DropButtonDoc || DropButton);


/***/ }),

/***/ "./node_modules/grommet/es6/components/DropButton/doc.js":
/*!***************************************************************!*\
  !*** ./node_modules/grommet/es6/components/DropButton/doc.js ***!
  \***************************************************************/
/*! exports provided: doc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var doc = function doc(DropButton) {
  var DocumentedDropButton = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(DropButton).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('DropButton')).description("A Button that controls a Drop. When opened, the Drop will contain\n      whatever is specified via `dropContent`. The Drop will control the focus\n      so that the contents behind it are not focusable. All properties and \n      theme properties of Button or Drop can be passed through.\n      ").usage("import { DropButton } from 'grommet';\n<DropButton dropContent={...} />").intrinsicElement('button');
  DocumentedDropButton.propTypes = _extends({}, _utils__WEBPACK_IMPORTED_MODULE_1__["genericProps"], {
    disabled: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Whether the button should be disabled.').defaultValue(false),
    dropAlign: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      top: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['top', 'bottom']),
      bottom: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['top', 'bottom']),
      right: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['left', 'right']),
      left: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['left', 'right'])
    }).description('How to align the drop with respect to the button.').defaultValue({
      top: 'top',
      left: 'left'
    }),
    dropContent: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].element.description('Content to put inside the Drop.').isRequired,
    dropTarget: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object.description("Target where the drop will be aligned to. This should be\n      a React reference. Typically, this is not required as the drop will be\n      aligned to the DropButton itself by default."),
    dropProps: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object.description('Any valid Drop prop.'),
    onClose: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description('Callback for when the drop is closed'),
    onOpen: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description('Callback for when the drop is opened'),
    open: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Whether the drop should be open or not. Setting this property does not\n      influence user interaction after it has been rendered.").defaultValue(false)
  });
  return DocumentedDropButton;
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/DropButton/index.js":
/*!*****************************************************************!*\
  !*** ./node_modules/grommet/es6/components/DropButton/index.js ***!
  \*****************************************************************/
/*! exports provided: DropButton */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _DropButton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DropButton */ "./node_modules/grommet/es6/components/DropButton/DropButton.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "DropButton", function() { return _DropButton__WEBPACK_IMPORTED_MODULE_0__["DropButton"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/FocusedContainer.js":
/*!*****************************************************************!*\
  !*** ./node_modules/grommet/es6/components/FocusedContainer.js ***!
  \*****************************************************************/
/*! exports provided: FocusedContainer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FocusedContainer", function() { return FocusedContainer; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }




var isNotAncestorOf = function isNotAncestorOf(child) {
  return function (parent) {
    return !parent.contains(child);
  };
};

var FocusedContainer = function FocusedContainer(_ref) {
  var _ref$hidden = _ref.hidden,
      hidden = _ref$hidden === void 0 ? false : _ref$hidden,
      _ref$restrictScroll = _ref.restrictScroll,
      restrictScroll = _ref$restrictScroll === void 0 ? false : _ref$restrictScroll,
      children = _ref.children,
      rest = _objectWithoutPropertiesLoose(_ref, ["hidden", "restrictScroll", "children"]);

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(''),
      bodyOverflowStyle = _useState[0],
      setBodyOverflowStyle = _useState[1];

  var ref = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])(null);
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    var removeTrap = function removeTrap() {
      var child = ref.current;
      Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getBodyChildElements"])().filter(isNotAncestorOf(child)).forEach(_utils__WEBPACK_IMPORTED_MODULE_1__["makeNodeFocusable"]);

      if (restrictScroll) {
        document.body.style.overflow = bodyOverflowStyle;
      }
    };

    var trapFocus = function trapFocus() {
      var child = ref.current;
      Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getBodyChildElements"])().filter(isNotAncestorOf(child)).forEach(_utils__WEBPACK_IMPORTED_MODULE_1__["makeNodeUnfocusable"]);

      if (restrictScroll) {
        setBodyOverflowStyle(document.body.style.overflow);
        document.body.style.overflow = 'hidden';
      }
    };

    var timer = setTimeout(function () {
      if (!hidden) {
        trapFocus();
      }
    }, 0);
    return function () {
      removeTrap();
      clearTimeout(timer);
    };
  }, [hidden, bodyOverflowStyle, restrictScroll]);
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", _extends({
    ref: ref,
    "aria-hidden": hidden
  }, rest), children);
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/Footer/Footer.js":
/*!**************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Footer/Footer.js ***!
  \**************************************************************/
/*! exports provided: Footer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Footer", function() { return FooterWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }




var Footer = function Footer(_ref) {
  var rest = _extends({}, _ref);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_1__["Box"], _extends({
    as: "footer",
    align: "center",
    direction: "row",
    flex: false,
    gap: "medium",
    justify: "between"
  }, rest));
};

var FooterDoc;

if (true) {
  // eslint-disable-next-line global-require
  FooterDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Footer/doc.js").doc(Footer);
}

var FooterWrapper = FooterDoc || Footer;


/***/ }),

/***/ "./node_modules/grommet/es6/components/Footer/doc.js":
/*!***********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Footer/doc.js ***!
  \***********************************************************/
/*! exports provided: doc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");


var doc = function doc(Footer) {
  var DocumentedFooter = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Footer).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('Footer')).description('Footer for a document or section').usage("import { Footer } from 'grommet';\n<Footer />");
  return DocumentedFooter;
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/Footer/index.js":
/*!*************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Footer/index.js ***!
  \*************************************************************/
/*! exports provided: Footer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Footer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Footer */ "./node_modules/grommet/es6/components/Footer/Footer.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Footer", function() { return _Footer__WEBPACK_IMPORTED_MODULE_0__["Footer"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Form/Form.js":
/*!**********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Form/Form.js ***!
  \**********************************************************/
/*! exports provided: Form */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Form", function() { return FormWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _FormContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./FormContext */ "./node_modules/grommet/es6/components/Form/FormContext.js");
function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }





var updateReducer = function updateReducer(name, data, error, validations) {
  return function (state) {
    var errors = state.errors,
        touched = state.touched,
        value = state.value;

    var nextValue = _extends({}, value);

    nextValue[name] = data;

    var nextTouched = _extends({}, touched);

    nextTouched[name] = true;

    var nextErrors = _extends({}, errors);

    if (errors[name]) {
      var nextError = error || validations[name] && validations[name](data, nextValue);

      if (nextError) {
        nextErrors[name] = nextError;
      } else {
        delete nextErrors[name];
      }
    }

    return {
      value: nextValue,
      errors: nextErrors,
      touched: nextTouched
    };
  };
};

var defaultMessages = {
  invalid: 'invalid',
  required: 'required'
};

var Form =
/*#__PURE__*/
function (_Component) {
  _inheritsLoose(Form, _Component);

  function Form() {
    var _this;

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _Component.call.apply(_Component, [this].concat(args)) || this;

    _defineProperty(_assertThisInitialized(_this), "state", {
      errors: {},
      value: {},
      touched: {}
    });

    _defineProperty(_assertThisInitialized(_this), "validations", {});

    _defineProperty(_assertThisInitialized(_this), "onSubmit", function (event) {
      var onSubmit = _this.props.onSubmit;
      var _this$state = _this.state,
          errors = _this$state.errors,
          value = _this$state.value; // Don't submit the form via browser form action. We don't want it
      // if the validation fails. And, we assume a javascript action handler
      // otherwise.

      event.preventDefault();

      var nextErrors = _extends({}, errors);

      Object.keys(_this.validations).forEach(function (name) {
        var validate = _this.validations[name];
        var error = validate && validate(value[name], value);

        if (error) {
          nextErrors[name] = error;
        } else {
          delete nextErrors[name];
        }
      });

      if (Object.keys(nextErrors).length === 0 && onSubmit) {
        event.persist(); // extract from React's synthetic event pool

        var adjustedEvent = event;
        adjustedEvent.value = value;
        onSubmit(adjustedEvent);
      } else {
        _this.setState({
          errors: nextErrors
        });
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onReset", function (event) {
      var _this$props = _this.props,
          onChange = _this$props.onChange,
          onReset = _this$props.onReset;
      var value = {};

      _this.setState({
        errors: {},
        value: value,
        touched: {}
      }, function () {
        if (onReset) {
          event.persist(); // extract from React's synthetic event pool

          var adjustedEvent = event;
          adjustedEvent.value = value;
          onReset(adjustedEvent);
        }

        if (onChange) {
          onChange(value);
        }
      });
    });

    _defineProperty(_assertThisInitialized(_this), "update", function (name, data, error) {
      _this.setState(updateReducer(name, data, error, _this.validations), function () {
        var onChange = _this.props.onChange;
        var value = _this.state.value;

        if (onChange) {
          onChange(value);
        }
      });
    });

    _defineProperty(_assertThisInitialized(_this), "addValidation", function (name, validate) {
      _this.validations[name] = validate;
    });

    return _this;
  }

  Form.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {
    var value = nextProps.value,
        errors = nextProps.errors,
        messages = nextProps.messages;
    var stateValue = prevState.value,
        stateErrors = prevState.errors,
        priorValue = prevState.priorValue,
        priorErrors = prevState.priorErrors,
        priorMessages = prevState.priorMessages;

    if (!priorValue || value !== priorValue || errors !== priorErrors || messages !== priorMessages) {
      return {
        value: value !== priorValue ? value : stateValue,
        priorValue: value,
        errors: (errors !== priorErrors ? errors : stateErrors) || {},
        priorErrors: errors,
        messages: _extends({}, defaultMessages, {}, messages),
        priorMessages: messages
      };
    }

    return null;
  };

  var _proto = Form.prototype;

  _proto.render = function render() {
    var _this$props2 = this.props,
        children = _this$props2.children,
        rest = _objectWithoutPropertiesLoose(_this$props2, ["children"]);

    delete rest.messages;
    delete rest.theme;
    delete rest.value;
    var _this$state2 = this.state,
        errors = _this$state2.errors,
        touched = _this$state2.touched,
        value = _this$state2.value,
        messages = _this$state2.messages;
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("form", _extends({}, rest, {
      onReset: this.onReset,
      onSubmit: this.onSubmit
    }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_FormContext__WEBPACK_IMPORTED_MODULE_2__["FormContext"].Provider, {
      value: {
        addValidation: this.addValidation,
        errors: errors,
        messages: messages,
        touched: touched,
        update: this.update,
        value: value
      }
    }, children));
  };

  return Form;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

_defineProperty(Form, "defaultProps", {
  messages: defaultMessages,
  value: {}
});

Object.setPrototypeOf(Form.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_1__["defaultProps"]);
var FormDoc;

if (true) {
  FormDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Form/doc.js").doc(Form); // eslint-disable-line global-require
}

var FormWrapper = FormDoc || Form;
FormWrapper.displayName = 'Form';


/***/ }),

/***/ "./node_modules/grommet/es6/components/Form/FormContext.js":
/*!*****************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Form/FormContext.js ***!
  \*****************************************************************/
/*! exports provided: FormContext */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FormContext", function() { return FormContext; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

var FormContext = react__WEBPACK_IMPORTED_MODULE_0___default.a.createContext(undefined);

/***/ }),

/***/ "./node_modules/grommet/es6/components/Form/doc.js":
/*!*********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Form/doc.js ***!
  \*********************************************************/
/*! exports provided: doc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");


var doc = function doc(Form) {
  var DocumentedForm = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Form).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('Form')).description('A form that manages state for its fields.').usage("import { Form } from 'grommet';\n<Form />").intrinsicElement('form');
  DocumentedForm.propTypes = {
    errors: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({}).description("An object representing any errors in the data. They keys should\n        match the keys in the value object.").defaultValue({}),
    messages: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      invalid: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
      required: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string
    }).description('Custom validation messages.').defaultValue({
      invalid: 'invalid',
      required: 'required'
    }),
    onChange: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description('Function that will be called when any fields are updated.'),
    onSubmit: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Function that will be called when the form is submitted. The\n      single argument is an event containing the latest value object\n      via `event.value`."),
    onReset: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Function that will be called when the form is reset. The\n      single argument is the event provided by react."),
    value: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({}).description('An object representing all of the data in the form.').defaultValue({})
  };
  return DocumentedForm;
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/Form/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Form/index.js ***!
  \***********************************************************/
/*! exports provided: Form, FormContext */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Form__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Form */ "./node_modules/grommet/es6/components/Form/Form.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Form", function() { return _Form__WEBPACK_IMPORTED_MODULE_0__["Form"]; });

/* harmony import */ var _FormContext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FormContext */ "./node_modules/grommet/es6/components/Form/FormContext.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "FormContext", function() { return _FormContext__WEBPACK_IMPORTED_MODULE_1__["FormContext"]; });




/***/ }),

/***/ "./node_modules/grommet/es6/components/FormField/FormField.js":
/*!********************************************************************!*\
  !*** ./node_modules/grommet/es6/components/FormField/FormField.js ***!
  \********************************************************************/
/*! exports provided: FormField */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FormField", function() { return FormFieldWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
/* harmony import */ var _CheckBox__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../CheckBox */ "./node_modules/grommet/es6/components/CheckBox/index.js");
/* harmony import */ var _Text__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Text */ "./node_modules/grommet/es6/components/Text/index.js");
/* harmony import */ var _TextInput__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../TextInput */ "./node_modules/grommet/es6/components/TextInput/index.js");
/* harmony import */ var _hocs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../hocs */ "./node_modules/grommet/es6/components/hocs.js");
/* harmony import */ var _Form_FormContext__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../Form/FormContext */ "./node_modules/grommet/es6/components/Form/FormContext.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// eslint-disable-next-line max-len

/* eslint-disable react/no-multi-comp, react/prefer-stateless-function, max-classes-per-file */












var validateField = function validateField(required, validate, messages) {
  return function (value, data) {
    var error;

    if (required && (value === undefined || value === '')) {
      error = messages.required;
    } else if (validate) {
      if (typeof validate === 'function') {
        error = validate(value, data);
      } else if (validate.regexp) {
        if (!validate.regexp.test(value)) {
          error = validate.message || messages.invalid;
        }
      }
    }

    return error;
  };
};

var FormFieldBox = Object(styled_components__WEBPACK_IMPORTED_MODULE_2__["default"])(_Box__WEBPACK_IMPORTED_MODULE_5__["Box"]).withConfig({
  displayName: "FormField__FormFieldBox",
  componentId: "m9hood-0"
})(["", ""], function (props) {
  return props.theme.formField.extend;
});

var FormFieldContent =
/*#__PURE__*/
function (_Component) {
  _inheritsLoose(FormFieldContent, _Component);

  function FormFieldContent() {
    var _this;

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _Component.call.apply(_Component, [this].concat(args)) || this;

    _defineProperty(_assertThisInitialized(_this), "renderChildren", function (value, update) {
      var _this$props = _this.props,
          name = _this$props.name,
          checked = _this$props.checked,
          component = _this$props.component,
          required = _this$props.required,
          valueProp = _this$props.value,
          _onChange = _this$props.onChange,
          rest = _objectWithoutPropertiesLoose(_this$props, ["name", "checked", "component", "required", "value", "onChange"]);

      delete rest.className;
      var Input = component || _TextInput__WEBPACK_IMPORTED_MODULE_8__["TextInput"];

      if (Input === _CheckBox__WEBPACK_IMPORTED_MODULE_6__["CheckBox"]) {
        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Input, _extends({
          name: name,
          checked: value[name] !== undefined ? value[name] : checked || false,
          onChange: function onChange(event) {
            update(name, event.target.checked);
            if (_onChange) _onChange(event);
          }
        }, rest));
      }

      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Input, _extends({
        name: name,
        value: value[name] !== undefined ? value[name] : valueProp || '',
        onChange: function onChange(event) {
          update(name, event.value || event.target.value || '');
          if (_onChange) _onChange(event);
        },
        plain: true,
        focusIndicator: false
      }, rest));
    });

    return _this;
  }

  var _proto = FormFieldContent.prototype;

  _proto.componentDidMount = function componentDidMount() {
    var _this$props2 = this.props,
        checked = _this$props2.checked,
        context = _this$props2.context,
        name = _this$props2.name,
        value = _this$props2.value;

    if (context && context.value[name] === undefined && (value !== undefined || checked !== undefined)) {
      context.update(name, value !== undefined ? value : checked);
    }
  };

  _proto.render = function render() {
    var _this2 = this;

    var _this$props3 = this.props,
        children = _this$props3.children,
        className = _this$props3.className,
        component = _this$props3.component,
        context = _this$props3.context,
        error = _this$props3.error,
        focus = _this$props3.focus,
        help = _this$props3.help,
        htmlFor = _this$props3.htmlFor,
        label = _this$props3.label,
        name = _this$props3.name,
        pad = _this$props3.pad,
        required = _this$props3.required,
        style = _this$props3.style,
        theme = _this$props3.theme,
        validate = _this$props3.validate,
        onBlur = _this$props3.onBlur,
        onFocus = _this$props3.onFocus,
        margin = _this$props3.margin;
    var formField = theme.formField;
    var border = formField.border;
    var normalizedError = error;
    var contents = children;

    if (context) {
      var addValidation = context.addValidation,
          errors = context.errors,
          value = context.value,
          update = context.update,
          messages = context.messages;
      addValidation(name, validateField(required, validate, messages));
      normalizedError = error || errors[name];
      contents = children || this.renderChildren(value, update);
    }

    if (pad) {
      contents = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_5__["Box"], formField.content, contents);
    }

    var borderColor;

    if (focus && !normalizedError) {
      borderColor = 'focus';
    } else if (normalizedError) {
      borderColor = border && border.error.color || 'status-critical';
    } else {
      borderColor = border && border.color || 'border';
    }

    var abut;
    var abutMargin;
    var outerStyle = style;

    if (border) {
      var normalizedChildren = children ? react__WEBPACK_IMPORTED_MODULE_0__["Children"].map(children, function (child) {
        if (child) {
          return Object(react__WEBPACK_IMPORTED_MODULE_0__["cloneElement"])(child, {
            plain: true,
            focusIndicator: false,
            onBlur: onBlur,
            onFocus: onFocus
          });
        }

        return child;
      }) : contents;
      contents = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_5__["Box"], {
        ref: function ref(_ref) {
          _this2.childContainerRef = _ref;
        },
        border: border.position === 'inner' ? _extends({}, border, {
          side: border.side || 'bottom',
          color: borderColor
        }) : undefined
      }, normalizedChildren);
      abut = border.position === 'outer' && (border.side === 'all' || border.side === 'horizontal' || !border.side);

      if (abut) {
        // marginBottom is set to overlap adjacent fields
        abutMargin = {
          bottom: '-1px'
        };

        if (margin) {
          abutMargin = margin;
        } else if (border.size) {
          // if the user defines a margin,
          // then the default margin below will be overriden
          abutMargin = {
            bottom: "-" + Object(_utils__WEBPACK_IMPORTED_MODULE_3__["parseMetricToNum"])(theme.global.borderSize[border.size] || border.size) + "px"
          };
        }

        outerStyle = _extends({
          position: focus ? 'relative' : undefined,
          zIndex: focus ? 10 : undefined
        }, style);
      }
    }

    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(FormFieldBox, {
      className: className,
      border: border && border.position === 'outer' ? _extends({}, border, {
        color: borderColor
      }) : undefined,
      margin: abut ? abutMargin : margin || _extends({}, formField.margin),
      style: outerStyle
    }, label && component !== _CheckBox__WEBPACK_IMPORTED_MODULE_6__["CheckBox"] || help ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, label && component !== _CheckBox__WEBPACK_IMPORTED_MODULE_6__["CheckBox"] && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Text__WEBPACK_IMPORTED_MODULE_7__["Text"], _extends({
      as: "label",
      htmlFor: htmlFor
    }, formField.label), label), help && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Text__WEBPACK_IMPORTED_MODULE_7__["Text"], _extends({}, formField.help, {
      color: formField.help.color[theme.dark ? 'dark' : 'light']
    }), help)) : undefined, contents, normalizedError && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Text__WEBPACK_IMPORTED_MODULE_7__["Text"], _extends({}, formField.error, {
      color: formField.error.color[theme.dark ? 'dark' : 'light']
    }), normalizedError));
  };

  return FormFieldContent;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]); // Can't be a functional component because styled-components withTheme() needs
// to attach a ref.


var FormField =
/*#__PURE__*/
function (_Component2) {
  _inheritsLoose(FormField, _Component2);

  function FormField() {
    return _Component2.apply(this, arguments) || this;
  }

  var _proto2 = FormField.prototype;

  _proto2.render = function render() {
    var _this3 = this;

    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Form_FormContext__WEBPACK_IMPORTED_MODULE_10__["FormContext"].Consumer, null, function (context) {
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(FormFieldContent, _extends({
        context: context
      }, _this3.props));
    });
  };

  return FormField;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

FormField.defaultProps = {};
Object.setPrototypeOf(FormField.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_4__["defaultProps"]);
var FormFieldDoc;

if (true) {
  // eslint-disable-next-line global-require
  FormFieldDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/FormField/doc.js").doc(FormField);
}

var FormFieldWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(Object(_hocs__WEBPACK_IMPORTED_MODULE_9__["withFocus"])({
  focusWithMouse: true
}), styled_components__WEBPACK_IMPORTED_MODULE_2__["withTheme"])(FormFieldDoc || FormField);


/***/ }),

/***/ "./node_modules/grommet/es6/components/FormField/doc.js":
/*!**************************************************************!*\
  !*** ./node_modules/grommet/es6/components/FormField/doc.js ***!
  \**************************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");


var doc = function doc(FormField) {
  var DocumentedFormField = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(FormField).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('FormField')).description("A single field in a form. FormField wraps an input component with\n      a label, help, and/or error messaging. It typically contains an input\n      control like TextInput, TextArea, Select, etc.").usage("import { FormField } from 'grommet';\n<FormField />").intrinsicElement('div');
  DocumentedFormField.propTypes = {
    component: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object]).description("The component to insert in the FormField. Grommet will add update the \n      form values when this field changes. Any additional properties \n      (such as initial value) you pass to FormField will be forwarded to this\n      component. The component may be custom as long it supports the properties\n      of name, value, onChange (event => {}), while event has either event.value\n      or event.target.value."),
    error: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].node]).description('Any error text describing issues with the field'),
    help: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].node]).description('Any help text describing how the field works'),
    htmlFor: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description('The id of the input element contained in this field'),
    label: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].node]).description('A short label describing the field'),
    name: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description("The name of the value data when in a Form and the name of\n      the input field."),
    margin: _utils__WEBPACK_IMPORTED_MODULE_1__["marginProp"],
    pad: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Whether to add padding to align with the padding of TextInput.'),
    required: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Whether the field is required.'),
    validate: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      regexp: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object,
      // regular expression
      message: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string
    }), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func]).description("Validation rule when used within a grommet Form. Provide a regular\n      expression or a function. If a\n      function is provided, it will be called with two arguments, the value\n      for this field and the entire value object. This permits validation to\n      encompass multiple fields. The function should return a string message\n      describing the validation issue, if any.")
  };
  return DocumentedFormField;
};
var themeDoc = {
  'formField.border.color': {
    description: 'The border color.',
    type: "string | { 'dark': string, 'light': string }",
    defaultValue: 'border'
  },
  'formField.border.error.color': {
    description: 'The border color of the error.',
    type: "string | {'dark': string, 'light': string}",
    defaultValue: "{ dark: 'white', light: 'status-critical' },"
  },
  'formField.border.position': {
    description: 'The border position.',
    type: 'string',
    defaultValue: 'inner'
  },
  'formField.border.side': {
    description: 'The border side of the FormField.',
    type: 'string',
    defaultValue: 'bottom'
  },
  'formField.content.pad': {
    description: 'The pad of the FormField content.',
    type: 'object',
    defaultValue: "{ horizontal: 'small', bottom: 'small' }"
  },
  'formField.error.color': {
    description: 'The color of the FormField error.',
    type: "string | {'dark': string, 'light': string}",
    defaultValue: "{ dark: 'status-critical', light: 'status-critical' }"
  },
  'formField.error.margin': {
    description: 'The margin used for the FormField error.',
    type: 'string | object',
    defaultValue: "{ vertical: 'xsmall', horizontal: 'small' }"
  },
  'formField.extend': {
    description: 'Any additional style for FormField.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'formField.help.color': {
    description: 'The color of the FormField help.',
    type: "string | {'dark': string, 'light': string}",
    defaultValue: "{ dark: 'dark-3', light: 'dark-3' }"
  },
  'formField.help.margin': {
    description: 'The margin for the FormField help.',
    type: 'string | object',
    defaultValue: "{ left: 'small' }"
  },
  'formField.label': {
    description: 'Any props of Text that will be applied on the FormField label.',
    type: 'object',
    defaultValue: 'undefined'
  },
  'formField.label.margin': {
    description: 'The margin for the FormField label.',
    type: 'string | object',
    defaultValue: "{ vertical: 'xsmall', horizontal: 'small' }"
  },
  'formField.margin': {
    description: 'The margin of FormField.',
    type: 'string | object',
    defaultValue: "{ bottom: 'small' }"
  },
  'global.borderSize': {
    description: 'The possible border sizes for FormField.',
    type: 'object',
    defaultValue: "{\n  xsmall: '1px',\n  small: '2px',\n  medium: '4px',\n  large: '12px',\n  xlarge: '24px,\n}"
  }
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/FormField/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/grommet/es6/components/FormField/index.js ***!
  \****************************************************************/
/*! exports provided: FormField */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _FormField__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FormField */ "./node_modules/grommet/es6/components/FormField/FormField.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "FormField", function() { return _FormField__WEBPACK_IMPORTED_MODULE_0__["FormField"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Grid/Grid.js":
/*!**********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Grid/Grid.js ***!
  \**********************************************************/
/*! exports provided: Grid */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Grid", function() { return GridWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _StyledGrid__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./StyledGrid */ "./node_modules/grommet/es6/components/Grid/StyledGrid.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }




var Grid = function Grid(props) {
  var a11yTitle = props.a11yTitle,
      fill = props.fill,
      rows = props.rows,
      tag = props.tag,
      as = props.as,
      rest = _objectWithoutPropertiesLoose(props, ["a11yTitle", "fill", "rows", "tag", "as"]);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledGrid__WEBPACK_IMPORTED_MODULE_1__["StyledGrid"], _extends({
    a11yTitleProp: a11yTitle,
    as: !as && tag ? tag : as,
    fillContainer: fill,
    rowsProp: rows
  }, rest));
};

var GridDoc;

if (true) {
  GridDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Grid/doc.js").doc(Grid); // eslint-disable-line global-require
}

var GridWrapper = GridDoc || Grid;
GridWrapper.available = typeof window !== 'undefined' && window.CSS && window.CSS.supports && window.CSS.supports('display', 'grid');


/***/ }),

/***/ "./node_modules/grommet/es6/components/Grid/StyledGrid.js":
/*!****************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Grid/StyledGrid.js ***!
  \****************************************************************/
/*! exports provided: StyledGrid */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledGrid", function() { return StyledGrid; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");




var fillStyle = function fillStyle(fill) {
  if (fill === 'horizontal') {
    return 'width: 100%;';
  }

  if (fill === 'vertical') {
    return 'height: 100%;';
  }

  if (fill) {
    return "\n      width: 100%;\n      height: 100%;\n    ";
  }

  return undefined;
};

var ALIGN_MAP = {
  center: 'center',
  end: 'flex-end',
  start: 'flex-start',
  stretch: 'stretch'
};
var alignStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["align-items:", ";"], function (props) {
  return ALIGN_MAP[props.align];
});
var ALIGN_CONTENT_MAP = {
  around: 'space-around',
  between: 'space-between',
  center: 'center',
  end: 'flex-end',
  start: 'flex-start',
  stretch: 'stretch'
};
var alignContentStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["align-content:", ";"], function (props) {
  return ALIGN_CONTENT_MAP[props.alignContent];
});
var JUSTIFY_MAP = {
  center: 'center',
  end: 'flex-end',
  start: 'flex-start',
  stretch: 'stretch'
};
var justifyStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["justify-items:", ";"], function (props) {
  return JUSTIFY_MAP[props.justify];
});
var JUSTIFY_CONTENT_MAP = {
  around: 'space-around',
  between: 'space-between',
  center: 'center',
  end: 'flex-end',
  start: 'flex-start',
  stretch: 'stretch'
};
var justifyContentStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["justify-content:", ";"], function (props) {
  return JUSTIFY_CONTENT_MAP[props.justifyContent];
});

var gapStyle = function gapStyle(props) {
  if (typeof props.gap === 'string') {
    var gapSize = props.theme.global.edgeSize[props.gap] || props.gap;
    return "grid-gap: " + gapSize + " " + gapSize + ";";
  }

  if (props.gap.row && props.gap.column) {
    return "\n      grid-row-gap: " + (props.theme.global.edgeSize[props.gap.row] || props.gap.row) + ";\n      grid-column-gap: " + (props.theme.global.edgeSize[props.gap.column] || props.gap.column) + ";\n    ";
  }

  if (props.gap.row) {
    return "\n      grid-row-gap: " + (props.theme.global.edgeSize[props.gap.row] || props.gap.row) + ";\n    ";
  }

  if (props.gap.column) {
    return "\n      grid-column-gap: " + (props.theme.global.edgeSize[props.gap.column] || props.gap.column) + ";\n    ";
  }

  return '';
};

var SIZE_MAP = {
  flex: '1fr',
  full: '100%',
  '1/2': '50%',
  '1/4': '25%',
  '2/4': '50%',
  '3/4': '75%',
  '1/3': '33.33%',
  '2/3': '66.66%'
};

var getRepeatCount = function getRepeatCount(count) {
  return typeof count === 'number' ? count : "auto-" + count;
};

var getRepeatSize = function getRepeatSize(size, theme) {
  if (Array.isArray(size)) {
    return "minmax(" + (theme.global.size[size[0]] || size[0]) + ", " + (theme.global.size[size[1]] || size[1]) + ")";
  }

  return "minmax(" + (theme.global.size[size] || size) + ", 1fr)";
};

var sizeFor = function sizeFor(size, props, isRow) {
  var mapped = SIZE_MAP[size];

  if (isRow && mapped && (!props.fillContainer || props.fillContainer === 'horizontal')) {
    console.warn('Grid needs `fill` when using fractional row sizes');
  }

  return mapped || props.theme.global.size[size] || size;
};

var columnsStyle = function columnsStyle(props) {
  if (Array.isArray(props.columns)) {
    return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["grid-template-columns:", ";"], props.columns.map(function (s) {
      if (Array.isArray(s)) {
        return "minmax(" + sizeFor(s[0], props) + ", " + sizeFor(s[1], props) + ")";
      }

      return sizeFor(s, props);
    }).join(' '));
  }

  if (typeof props.columns === 'object') {
    return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["grid-template-columns:repeat( ", ",", " );"], getRepeatCount(props.columns.count), getRepeatSize(props.columns.size, props.theme));
  }

  return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["grid-template-columns:repeat( auto-fill,", " );"], getRepeatSize(props.columns, props.theme));
};

var rowsStyle = function rowsStyle(props) {
  if (Array.isArray(props.rowsProp)) {
    return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["grid-template-rows:", ";"], props.rowsProp.map(function (s) {
      if (Array.isArray(s)) {
        return "minmax(" + sizeFor(s[0], props, true) + ", " + sizeFor(s[1], props, true) + ")";
      }

      return sizeFor(s, props, true);
    }).join(' '));
  }

  return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["grid-auto-rows:", ";"], props.theme.global.size[props.rowsProp]);
};

var areasStyle = function areasStyle(props) {
  // translate areas objects into grid-template-areas syntax
  if (!Array.isArray(props.rowsProp) || !Array.isArray(props.columns)) {
    console.warn('Grid `areas` requires `rows` and `columns` to be arrays.');
  }

  if (Array.isArray(props.areas) && props.areas.every(function (area) {
    return Array.isArray(area);
  })) {
    return "grid-template-areas: " + props.areas.map(function (area) {
      return "\"" + area.join(' ') + "\"";
    }).join(' ') + ";";
  }

  var cells = props.rowsProp.map(function () {
    return props.columns.map(function () {
      return '.';
    });
  });
  props.areas.forEach(function (area) {
    for (var row = area.start[1]; row <= area.end[1]; row += 1) {
      for (var column = area.start[0]; column <= area.end[0]; column += 1) {
        cells[row][column] = area.name;
      }
    }
  });
  return "grid-template-areas: " + cells.map(function (r) {
    return "\"" + r.join(' ') + "\"";
  }).join(' ') + ";";
};

var StyledGrid = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.attrs(function (props) {
  return {
    'aria-label': props.a11yTitleProp
  };
}).withConfig({
  displayName: "StyledGrid",
  componentId: "sc-1wofa1l-0"
})(["display:grid;box-sizing:border-box;", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", ""], _utils__WEBPACK_IMPORTED_MODULE_1__["genericStyles"], function (props) {
  return props.fillContainer && fillStyle(props.fillContainer);
}, function (props) {
  return props.align && alignStyle;
}, function (props) {
  return props.alignContent && alignContentStyle;
}, function (props) {
  return props.areas && areasStyle(props);
}, function (props) {
  return props.columns && columnsStyle(props);
}, function (props) {
  return props.gap && gapStyle(props);
}, function (props) {
  return props.justify && justifyStyle;
}, function (props) {
  return props.justifyContent && justifyContentStyle;
}, function (props) {
  return props.rowsProp && rowsStyle(props);
}, function (props) {
  return props.theme.grid && props.theme.grid.extend;
});
StyledGrid.defaultProps = {};
Object.setPrototypeOf(StyledGrid.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Grid/doc.js":
/*!*********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Grid/doc.js ***!
  \*********************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var fixedSizes = ['xsmall', 'small', 'medium', 'large', 'xlarge'];
var sizes = ['xsmall', 'small', 'medium', 'large', 'xlarge', 'full', '1/2', '1/3', '2/3', '1/4', '2/4', '3/4', 'flex', 'auto'];
var edgeSizes = ['xxsmall', 'xsmall', 'small', 'medium', 'large', 'xlarge', 'none'];
var doc = function doc(Grid) {
  var DocumentedGrid = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Grid).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('Grid')).description("A grid system for laying out content. To use, define the\nrows and columns, create area names for adjacent cells, and then\nplace Box components inside those areas using the gridArea property.\nSee https://css-tricks.com/snippets/css/complete-guide-grid/.\nThe availability of Grid can be tested via `Grid.available`. Use this\nto create fallback rendering for older browsers, like ie11.").usage("import { Grid } from 'grommet';\n<Grid />").intrinsicElement('div');
  DocumentedGrid.propTypes = _extends({}, _utils__WEBPACK_IMPORTED_MODULE_1__["genericProps"], {
    align: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['start', 'center', 'end', 'stretch']).description("How to align the individual items inside the grid when there is extra\nspace in the column axis.").defaultValue('stretch'),
    alignContent: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['start', 'center', 'end', 'between', 'around', 'stretch']).description('How to align the contents along the column axis.'),
    areas: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      name: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
      start: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number),
      end: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number)
    })), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string))]).description("Grid areas.\n      Either area names and column,row coordinates.\n      Or, an array of string arrays that specify named grid areas."),
    columns: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(sizes), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string])), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(sizes), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string])), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(fixedSizes), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      count: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['fit', 'fill']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number]),
      size: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(fixedSizes), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(sizes)), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string])
    }), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description("Column sizes.\n      If an array value is an array, the inner array indicates the\n      minimum and maximum sizes for the column.\n      Specifying a single string will repeat multiple columns\n      of that size, as long as there is room for more.\n      Specifying an object allows indicating how the columns\n      stretch to fit the available space."),
    fill: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['horizontal', 'vertical']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool]).description('Whether the width and/or height should fill the container.'),
    gap: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(edgeSizes), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      row: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(edgeSizes), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
      column: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(edgeSizes), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string])
    }), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description('Gap sizes between rows and/or columns.'),
    justify: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['start', 'center', 'end', 'stretch']).description("How to align the individual items inside the grid when there is extra\nspace in the row axis.").defaultValue('stretch'),
    justifyContent: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['start', 'center', 'end', 'between', 'around', 'stretch']).description('How to align the contents along the row axis.'),
    rows: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(sizes), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string])), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(sizes), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string])), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(fixedSizes), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description("Row sizes.\n      If an array value is an array, the inner array indicates the\n      minimum and maximum sizes for the row.\n      Specifying a single string will cause automatically added rows to be\n      the specified size."),
    tag: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func]).description("The DOM tag to use for the element. NOTE: This is deprecated\n      in favor of indicating the DOM tag via the 'as' property."),
    as: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func]).description('The DOM tag or react component to use for the element.').defaultValue('div')
  });
  return DocumentedGrid;
};
var themeDoc = _extends({
  'global.size': {
    description: 'The possible sizes for row and column.',
    type: 'object',
    defaultValue: "{\n      xxsmall: '48px',\n      xsmall: '96px',\n      small: '192px',\n      medium: '384px',\n      large: '768px',\n      xlarge: '1152px',\n      xxlarge: '1536px',\n      full: '100%',\n    }"
  },
  'grid.extend': {
    description: 'Any additional style for the Grid.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  }
}, _utils__WEBPACK_IMPORTED_MODULE_1__["themeDocUtils"].edgeStyle('The possible sizes for the grid margin and gap.'));

/***/ }),

/***/ "./node_modules/grommet/es6/components/Grid/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Grid/index.js ***!
  \***********************************************************/
/*! exports provided: Grid */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Grid__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Grid */ "./node_modules/grommet/es6/components/Grid/Grid.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Grid", function() { return _Grid__WEBPACK_IMPORTED_MODULE_0__["Grid"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Grommet/Grommet.js":
/*!****************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Grommet/Grommet.js ***!
  \****************************************************************/
/*! exports provided: Grommet */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Grommet", function() { return GrommetWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _contexts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../contexts */ "./node_modules/grommet/es6/contexts/index.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _themes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../themes */ "./node_modules/grommet/es6/themes/index.js");
/* harmony import */ var _StyledGrommet__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./StyledGrommet */ "./node_modules/grommet/es6/components/Grommet/StyledGrommet.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _templateObject() {
  var data = _taggedTemplateLiteralLoose(["\n  body { margin: 0; }\n"]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteralLoose(strings, raw) { if (!raw) { raw = strings.slice(0); } strings.raw = raw; return strings; }







var FullGlobalStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_1__["createGlobalStyle"])(_templateObject());

var Grommet =
/*#__PURE__*/
function (_Component) {
  _inheritsLoose(Grommet, _Component);

  function Grommet() {
    var _this;

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _Component.call.apply(_Component, [this].concat(args)) || this;

    _defineProperty(_assertThisInitialized(_this), "state", {});

    _defineProperty(_assertThisInitialized(_this), "onResize", function () {
      var _this$state = _this.state,
          theme = _this$state.theme,
          responsive = _this$state.responsive;
      var breakpoint = Object(_utils__WEBPACK_IMPORTED_MODULE_3__["getBreakpoint"])(window.innerWidth, theme);

      if (breakpoint !== responsive) {
        _this.setState({
          responsive: breakpoint
        });
      }
    });

    return _this;
  }

  Grommet.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {
    var _nextProps$theme = nextProps.theme,
        theme = _nextProps$theme === void 0 ? {} : _nextProps$theme,
        themeMode = nextProps.themeMode;
    var stateTheme = prevState.theme,
        themeProp = prevState.themeProp,
        themeModeProp = prevState.themeModeProp;
    var nextTheme = Object(_utils__WEBPACK_IMPORTED_MODULE_3__["deepMerge"])(_themes__WEBPACK_IMPORTED_MODULE_4__["base"], theme);

    if (!stateTheme || theme !== themeProp || themeMode !== themeModeProp) {
      var background = nextTheme.global.colors.background; // Determine whether to start in dark or light mode.

      if (typeof background === 'object') {
        // background is an object, use themeMode, theme default
        // or first key
        var color = background[themeMode || nextTheme.defaultMode || Object.keys(background)[0]];
        nextTheme.dark = color ? Object(_utils__WEBPACK_IMPORTED_MODULE_3__["colorIsDark"])(color) : false;
      } else if (nextTheme.dark === undefined) {
        nextTheme.dark = background && Object(_utils__WEBPACK_IMPORTED_MODULE_3__["colorIsDark"])(background) || false;
      }

      return {
        theme: nextTheme,
        themeProp: theme,
        themeModeProp: themeMode
      };
    }

    return null;
  };

  var _proto = Grommet.prototype;

  _proto.componentDidMount = function componentDidMount() {
    window.addEventListener('resize', this.onResize);
    this.onResize();
  };

  _proto.componentWillUnmount = function componentWillUnmount() {
    window.removeEventListener('resize', this.onResize);
  };

  _proto.deviceResponsive = function deviceResponsive() {
    var userAgent = this.props.userAgent;
    var theme = this.state.theme;
    /*
     * Regexes provided for mobile and tablet detection are meant to replace
     * a full-featured specific library due to contributing a considerable size
     * into the bundle.
     *
     * User agents found https://deviceatlas.com/blog/list-of-user-agent-strings
     */

    if (userAgent) {
      if (/(tablet|ipad|playbook|silk)|(android(?!.*mobile))/i.test(userAgent)) {
        return Object(_utils__WEBPACK_IMPORTED_MODULE_3__["getDeviceBreakpoint"])('tablet', theme);
      }

      if (/Mobile|iPhone|Android/.test(userAgent)) {
        return Object(_utils__WEBPACK_IMPORTED_MODULE_3__["getDeviceBreakpoint"])('phone', theme);
      }

      return Object(_utils__WEBPACK_IMPORTED_MODULE_3__["getDeviceBreakpoint"])('computer', theme);
    }

    return undefined;
  };

  _proto.render = function render() {
    var _this$props = this.props,
        children = _this$props.children,
        full = _this$props.full,
        rest = _objectWithoutPropertiesLoose(_this$props, ["children", "full"]);

    delete rest.theme;
    var _this$state2 = this.state,
        theme = _this$state2.theme,
        stateResponsive = _this$state2.responsive; // Value from state should be correct once we resize
    // On first render we try to guess otherwise set the default as a tablet

    var responsive = stateResponsive || this.deviceResponsive() || theme.global.deviceBreakpoints.tablet;
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_contexts__WEBPACK_IMPORTED_MODULE_2__["ThemeContext"].Provider, {
      value: theme
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_contexts__WEBPACK_IMPORTED_MODULE_2__["ResponsiveContext"].Provider, {
      value: responsive
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledGrommet__WEBPACK_IMPORTED_MODULE_5__["StyledGrommet"], _extends({
      full: full
    }, rest), children), full && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(FullGlobalStyle, null)));
  };

  return Grommet;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

_defineProperty(Grommet, "displayName", 'Grommet');

var GrommetDoc;

if (true) {
  // eslint-disable-next-line global-require
  GrommetDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Grommet/doc.js").doc(Grommet);
}

var GrommetWrapper = GrommetDoc || Grommet;


/***/ }),

/***/ "./node_modules/grommet/es6/components/Grommet/StyledGrommet.js":
/*!**********************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Grommet/StyledGrommet.js ***!
  \**********************************************************************/
/*! exports provided: StyledGrommet */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledGrommet", function() { return StyledGrommet; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");



var fullStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["width:100vw;height:100vh;overflow:auto;"]);
var StyledGrommet = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledGrommet",
  componentId: "sc-19lkkz7-0"
})(["", " ", " ", " ", " ", ""], function (props) {
  return !props.plain && _utils__WEBPACK_IMPORTED_MODULE_1__["baseStyle"];
}, function (props) {
  return props.full && fullStyle;
}, function (props) {
  return props.theme.global.font.face;
}, function (props) {
  return props.theme.grommet.extend;
}, function (props) {
  return props.cssVars && Object.keys(props.theme.global.colors).filter(function (k) {
    return typeof props.theme.global.colors[k] === 'string';
  }).map(function (k) {
    return "--" + k + ": " + props.theme.global.colors[k] + ";";
  }).join('\n');
});
StyledGrommet.defaultProps = {};
Object.setPrototypeOf(StyledGrommet.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Grommet/doc.js":
/*!************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Grommet/doc.js ***!
  \************************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");


var doc = function doc(Grommet) {
  var DocumentedGrommet = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Grommet).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('Grommet')).description('The top level Grommet container.').usage("import { Grommet } from 'grommet';\n<Grommet>...</Grommet>").intrinsicElement('div');
  DocumentedGrommet.propTypes = {
    full: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Whether to take the whole viewport.').defaultValue(false),
    plain: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Whether or not Grommet should apply a global font-family, font-size, \n        and line-height.").defaultValue(false),
    cssVars: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Whether to expose the css variables.').defaultValue(false),
    theme: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object.description('Custom styles for Grommet app component.'),
    themeMode: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['dark', 'light']).description("Dark vs. light theme variation. Default is unspecified and left to\n      theme."),
    userAgent: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description("User agent used to detect the device width for setting the initial \n      breakpoint.")
  };
  return DocumentedGrommet;
};
var themeDoc = {
  'grommet.extend': {
    description: 'Any additional style for Grommet.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'global.font.face': {
    description: 'Custom font face declaration',
    type: 'string | (props) => {}',
    defaultValue: undefined
  }
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/Grommet/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Grommet/index.js ***!
  \**************************************************************/
/*! exports provided: Grommet */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Grommet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Grommet */ "./node_modules/grommet/es6/components/Grommet/Grommet.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Grommet", function() { return _Grommet__WEBPACK_IMPORTED_MODULE_0__["Grommet"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Header/Header.js":
/*!**************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Header/Header.js ***!
  \**************************************************************/
/*! exports provided: Header */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Header", function() { return HeaderWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }




var Header = function Header(_ref) {
  var rest = _extends({}, _ref);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_1__["Box"], _extends({
    align: "center",
    as: "header",
    direction: "row",
    flex: false,
    justify: "between",
    gap: "medium"
  }, rest));
};

var HeaderDoc;

if (true) {
  // eslint-disable-next-line global-require
  HeaderDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Header/doc.js").doc(Header);
}

var HeaderWrapper = HeaderDoc || Header;


/***/ }),

/***/ "./node_modules/grommet/es6/components/Header/doc.js":
/*!***********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Header/doc.js ***!
  \***********************************************************/
/*! exports provided: doc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");


var doc = function doc(Header) {
  var DocumentedHeader = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Header).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('Header')).description('Is a Box container for introductory content').usage("import { Header } from 'grommet';\n<Header />");
  return DocumentedHeader;
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/Header/index.js":
/*!*************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Header/index.js ***!
  \*************************************************************/
/*! exports provided: Header */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Header__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Header */ "./node_modules/grommet/es6/components/Header/Header.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Header", function() { return _Header__WEBPACK_IMPORTED_MODULE_0__["Header"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Heading/Heading.js":
/*!****************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Heading/Heading.js ***!
  \****************************************************************/
/*! exports provided: Heading */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Heading", function() { return HeadingWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _StyledHeading__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./StyledHeading */ "./node_modules/grommet/es6/components/Heading/StyledHeading.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }




var Heading = function Heading(props) {
  var color = props.color,
      level = props.level,
      rest = _objectWithoutPropertiesLoose(props, ["color", "level"]); // enforce level to be a number


  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledHeading__WEBPACK_IMPORTED_MODULE_1__["StyledHeading"], _extends({
    as: "h" + level,
    colorProp: color,
    level: +level
  }, rest));
};

Heading.defaultProps = {
  level: 1,
  responsive: true
};
var HeadingDoc;

if (true) {
  // eslint-disable-next-line global-require
  HeadingDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Heading/doc.js").doc(Heading);
}

var HeadingWrapper = HeadingDoc || Heading;


/***/ }),

/***/ "./node_modules/grommet/es6/components/Heading/StyledHeading.js":
/*!**********************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Heading/StyledHeading.js ***!
  \**********************************************************************/
/*! exports provided: StyledHeading */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledHeading", function() { return StyledHeading; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");




var sizeStyle = function sizeStyle(props) {
  // size is a combination of the level and size properties
  var size = props.size || 'medium';
  var headingTheme = props.theme.heading;
  var levelStyle = headingTheme.level[props.level];

  if (levelStyle) {
    var data = levelStyle[size];
    var styles = [Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["font-size:", ";line-height:", ";max-width:", ";font-weight:", ";"], data ? data.size : size, data ? data.height : 'normal', data ? data.maxWidth : levelStyle.medium.maxWidth, levelStyle.font.weight || headingTheme.weight)];

    if (props.responsive && headingTheme.responsiveBreakpoint) {
      var breakpoint = props.theme.global.breakpoints[headingTheme.responsiveBreakpoint];

      if (breakpoint) {
        var responsiveData = headingTheme.level[Math.min(props.level + 1, 4)][size];

        if (responsiveData) {
          styles.push(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["breakpointStyle"])(breakpoint, "\n            font-size: " + responsiveData.size + ";\n            line-height: " + responsiveData.height + ";\n            max-width: " + responsiveData.maxWidth + ";\n          "));
        }
      }
    }

    return styles;
  }

  console.warn("Heading level " + props.level + " is not defined in your theme.");
  return '';
};

var fontFamily = function fontFamily(props) {
  var font = props.theme.heading.level[props.level].font;

  if (font && font.family) {
    return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["font-family:", ";"], font.family);
  }

  return props.theme.heading.font ? Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["font-family:", ";"], props.theme.heading.font.family) : '';
};

var TEXT_ALIGN_MAP = {
  center: 'center',
  end: 'right',
  start: 'left'
};
var textAlignStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["text-align:", ";"], function (props) {
  return TEXT_ALIGN_MAP[props.textAlign];
});
var truncateStyle = "\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n";
var colorStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["color:", ";"], function (props) {
  return Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.colorProp, props.theme);
});
var StyledHeading = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].h1.withConfig({
  displayName: "StyledHeading",
  componentId: "sc-1rdh4aw-0"
})(["", " ", " ", " ", " ", " ", " ", ""], _utils__WEBPACK_IMPORTED_MODULE_1__["genericStyles"], function (props) {
  return fontFamily(props);
}, function (props) {
  return sizeStyle(props);
}, function (props) {
  return props.textAlign && textAlignStyle;
}, function (props) {
  return props.truncate && truncateStyle;
}, function (props) {
  return props.colorProp && colorStyle;
}, function (props) {
  return props.theme.heading && props.theme.heading.extend;
});
StyledHeading.defaultProps = {};
Object.setPrototypeOf(StyledHeading.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Heading/doc.js":
/*!************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Heading/doc.js ***!
  \************************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var doc = function doc(Heading) {
  var DocumentedHeading = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Heading).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('Heading')).description('Heading text structured in levels.').usage("import { Heading } from 'grommet';\n<Heading />").intrinsicElement(['h1', 'h2', 'h3', 'h4']);
  DocumentedHeading.propTypes = _extends({}, _utils__WEBPACK_IMPORTED_MODULE_1__["genericProps"], {
    color: _utils__WEBPACK_IMPORTED_MODULE_1__["colorPropType"].description('A color identifier to use for the text color.'),
    level: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf([1, 2, 3, 4, 5, 6, '1', '2', '3', '4', '5', '6']).description("The heading level. It corresponds to the number after the 'H' for\nthe DOM tag. Set the level for semantic accuracy and accessibility.\nThe sizing can be further adjusted using the size property.").defaultValue(1),
    responsive: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Whether the font size should be scaled for\n      mobile environments.").defaultValue(true),
    size: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['small', 'medium', 'large', 'xlarge']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description("The font size is primarily driven by the chosen tag. But, it can\nbe adjusted via this size property. The tag should be set for semantic\ncorrectness and accessibility. This size property allows for stylistic\nadjustments.").defaultValue('medium'),
    textAlign: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['start', 'center', 'end']).description('How to align the text inside the heading.').defaultValue('start'),
    truncate: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Restrict the text to a single line and truncate with ellipsis if it\nis too long to all fit.").defaultValue(false)
  });
  return DocumentedHeading;
};
var themeDoc = _extends({}, _utils__WEBPACK_IMPORTED_MODULE_1__["themeDocUtils"].breakpointStyle('The possible breakpoints that could affect font-size and max-width'), {}, _utils__WEBPACK_IMPORTED_MODULE_1__["themeDocUtils"].edgeStyle('The possible sizes for margin.'), {
  'heading.extend': {
    description: 'Any additional style for Heading.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'heading.level': {
    description: "The level that impacts line-height, max-width, font size, \nweight and family of the Heading. Heading level is automatically adjusted at \ndifferent screen sizes. These screen sizes are derived from breakpoints.",
    type: 'object',
    defaultValue: "\n      1: {\n        medium: {\n          size: 34px,\n          height: 40px,\n          width: 826px,\n        },\n      },\n      weight: 600,\n      font:\n        {\n          family: undefined,\n        }"
  },
  'heading.weight': {
    description: 'Default heading weight used unless a per level heading is defined.',
    type: 'number',
    defaultValue: 600
  },
  'heading.font': {
    description: 'Default heading font used unless a per level heading is defined.',
    type: 'object',
    defaultValue: undefined
  },
  'heading.responsiveBreakpoint': {
    description: "The breakpoint to trigger changes in the Heading layout. \nThe actual values will be derived from global.breakpoints.",
    type: 'string',
    defaultValue: 'small'
  }
});

/***/ }),

/***/ "./node_modules/grommet/es6/components/Heading/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Heading/index.js ***!
  \**************************************************************/
/*! exports provided: Heading */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Heading__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Heading */ "./node_modules/grommet/es6/components/Heading/Heading.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Heading", function() { return _Heading__WEBPACK_IMPORTED_MODULE_0__["Heading"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Image/Image.js":
/*!************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Image/Image.js ***!
  \************************************************************/
/*! exports provided: Image */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Image", function() { return ImageWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var _hocs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../hocs */ "./node_modules/grommet/es6/components/hocs.js");
/* harmony import */ var _StyledImage__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./StyledImage */ "./node_modules/grommet/es6/components/Image/StyledImage.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }






var Image = function Image(_ref) {
  var fallback = _ref.fallback,
      forwardRef = _ref.forwardRef,
      onError = _ref.onError,
      opacity = _ref.opacity,
      fill = _ref.fill,
      src = _ref.src,
      rest = _objectWithoutPropertiesLoose(_ref, ["fallback", "forwardRef", "onError", "opacity", "fill", "src"]);

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(false),
      imageMissing = _useState[0],
      setImageMissing = _useState[1];

  var handleError = function handleError(event) {
    if (onError) {
      onError(event);
    }

    setImageMissing(true);
  };

  var extraProps = {
    onError: (onError || fallback) && handleError
  };
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledImage__WEBPACK_IMPORTED_MODULE_3__["StyledImage"], _extends({}, rest, extraProps, {
    ref: forwardRef,
    opacityProp: opacity,
    fillProp: fill,
    src: !imageMissing ? src : fallback
  }));
};

var ImageDoc;

if (true) {
  ImageDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Image/doc.js").doc(Image); // eslint-disable-line global-require
}

var ImageWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(_hocs__WEBPACK_IMPORTED_MODULE_2__["withForwardRef"])(ImageDoc || Image);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Image/StyledImage.js":
/*!******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Image/StyledImage.js ***!
  \******************************************************************/
/*! exports provided: StyledImage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledImage", function() { return StyledImage; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");



var FIT_MAP = {
  cover: 'cover',
  contain: 'contain'
};
var fitStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["flex:1 1;overflow:hidden;object-fit:", ";"], function (props) {
  return FIT_MAP[props.fit];
});
var fillStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["width:100%;height:100%;"]);
var StyledImage = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].img.withConfig({
  displayName: "StyledImage",
  componentId: "ey4zx9-0"
})(["", " ", " ", " ", " ", ""], _utils__WEBPACK_IMPORTED_MODULE_1__["genericStyles"], function (props) {
  return props.fit && fitStyle;
}, function (props) {
  return props.fillProp && fillStyle;
}, function (props) {
  return props.theme.image && props.theme.image.extend;
}, function (props) {
  return props.opacityProp && "opacity: " + (props.opacityProp === true ? props.theme.global.opacity.medium : props.theme.global.opacity[props.opacityProp] || props.opacityProp) + ";\n  ";
});
StyledImage.defaultProps = {};
Object.setPrototypeOf(StyledImage.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Image/doc.js":
/*!**********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Image/doc.js ***!
  \**********************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var doc = function doc(Image) {
  var DocumentedImage = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Image).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('Image')).description('An image.').usage("import { Image } from 'grommet';\n<Image/>").intrinsicElement('img');
  DocumentedImage.propTypes = _extends({}, _utils__WEBPACK_IMPORTED_MODULE_1__["genericProps"], {
    fit: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['cover', 'contain']).description('How the image fills its container.'),
    fallback: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description("Specifies the URL of the fallback image used when \n      src is failing to load"),
    opacity: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['weak', 'medium', 'strong']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool]).description('Transparency of the image.'),
    fill: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Whether the image expands to fill all of the available width and height')
  });
  return DocumentedImage;
};
var themeDoc = {
  'global.opacity.medium': {
    description: 'The value used when opacity is set to true.',
    type: 'number',
    defaultValue: '0.4'
  },
  'image.extend': {
    description: 'Any additional style for the Image.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  }
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/Image/index.js":
/*!************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Image/index.js ***!
  \************************************************************/
/*! exports provided: Image */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Image__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Image */ "./node_modules/grommet/es6/components/Image/Image.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Image", function() { return _Image__WEBPACK_IMPORTED_MODULE_0__["Image"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/InfiniteScroll/InfiniteScroll.js":
/*!******************************************************************************!*\
  !*** ./node_modules/grommet/es6/components/InfiniteScroll/InfiniteScroll.js ***!
  \******************************************************************************/
/*! exports provided: InfiniteScroll */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InfiniteScroll", function() { return InfiniteScrollWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ "./node_modules/react-dom/index.js");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

/* eslint-disable react/no-find-dom-node */



 // Wraps an item to ensure we can get a ref to it

var Ref =
/*#__PURE__*/
function (_Component) {
  _inheritsLoose(Ref, _Component);

  function Ref() {
    return _Component.apply(this, arguments) || this;
  }

  var _proto = Ref.prototype;

  _proto.render = function render() {
    var children = this.props.children;
    return children;
  };

  return Ref;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

var InfiniteScroll = function InfiniteScroll(_ref) {
  var children = _ref.children,
      _ref$items = _ref.items,
      items = _ref$items === void 0 ? [] : _ref$items,
      onMore = _ref.onMore,
      renderMarker = _ref.renderMarker,
      replace = _ref.replace,
      show = _ref.show,
      _ref$step = _ref.step,
      step = _ref$step === void 0 ? 50 : _ref$step;
  // the last page we have items for
  var lastPage = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
    return Math.ceil(items.length / step);
  }, [items.length, step]); // the first page we are displaying

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(0),
      beginPage = _useState[0],
      setBeginPage = _useState[1]; // the last page we are displaying


  var _useState2 = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(show ? Math.floor((show + step) / step) - 1 : 0),
      endPage = _useState2[0],
      setEndPage = _useState2[1]; // how tall we've measured a page to be


  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(),
      pageHeight = _useState3[0],
      setPageHeight = _useState3[1]; // how much area a page requires


  var _useState4 = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(),
      pageArea = _useState4[0],
      setPageArea = _useState4[1]; // whether the items are laid out in a grid instead of linearly


  var _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(),
      multiColumn = _useState5[0],
      setMultiColumn = _useState5[1]; // what we're waiting for onMore to give us


  var _useState6 = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(0),
      pendingLength = _useState6[0],
      setPendingLength = _useState6[1];

  var belowMarkerRef = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])();
  var firstPageItemRef = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])();
  var lastPageItemRef = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])();
  var showRef = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])(); // calculating space based on where the first and last items being displayed
  // are located

  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    if (firstPageItemRef.current && lastPageItemRef.current && !pageHeight) {
      /* eslint-disable react/no-find-dom-node */
      var beginRect = Object(react_dom__WEBPACK_IMPORTED_MODULE_1__["findDOMNode"])(firstPageItemRef.current).getBoundingClientRect();
      var endRect = Object(react_dom__WEBPACK_IMPORTED_MODULE_1__["findDOMNode"])(lastPageItemRef.current).getBoundingClientRect();
      var nextPageHeight = endRect.top + endRect.height - beginRect.top; // Check if the items are arranged in a single column or not.

      var nextMultiColumn = nextPageHeight / step < endRect.height;
      var nextPageArea = endRect.height * endRect.width * step;
      setPageHeight(nextPageHeight);
      setPageArea(nextPageArea);
      setMultiColumn(nextMultiColumn);
    }
  }, [pageHeight, step]); // scroll handling

  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    var scrollParents;

    var onScroll = function onScroll() {
      var scrollParent = scrollParents[0]; // Determine the window into the first scroll parent

      var top;
      var height;
      var width;

      if (scrollParent === document) {
        top = document.documentElement.scrollTop || document.body.scrollTop;
        height = window.innerHeight;
        width = window.innerWidth;
      } else {
        top = scrollParent.scrollTop;
        var rect = scrollParent.getBoundingClientRect();
        height = rect.height;
        width = rect.width;
      } // Figure out which pages we should make visible based on the scroll
      // window.


      var offset = height / 4;
      var nextBeginPage = replace ? Math.min(lastPage, Math.max(0, multiColumn ? Math.floor(Math.max(0, top - offset) * width / pageArea) : Math.floor(Math.max(0, top - offset) / pageHeight))) : 0;
      var nextEndPage = Math.min(lastPage, Math.max(!replace && endPage || 0, multiColumn ? Math.ceil((top + height + offset) * width / pageArea) : Math.floor((top + height + offset) / pageHeight)));
      if (nextBeginPage !== beginPage) setBeginPage(nextBeginPage);
      if (nextEndPage !== endPage) setEndPage(nextEndPage);
    };

    if (pageHeight && belowMarkerRef.current) {
      scrollParents = Object(_utils__WEBPACK_IMPORTED_MODULE_2__["findScrollParents"])(belowMarkerRef.current);
      scrollParents.forEach(function (scrollParent) {
        return scrollParent.addEventListener('scroll', onScroll);
      });
      onScroll();
    }

    return function () {
      if (scrollParents) {
        scrollParents.forEach(function (scrollParent) {
          return scrollParent.removeEventListener('scroll', onScroll);
        });
      }
    };
  }, [beginPage, endPage, lastPage, multiColumn, pageArea, pageHeight, replace]); // check if we need to ask for more

  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    if (onMore && endPage === lastPage && items.length >= pendingLength) {
      // remember we've asked for more, so we don't keep asking if it takes
      // a while
      setPendingLength(items.length + 1);
      onMore();
    }
  }, [endPage, items.length, lastPage, onMore, pendingLength, step]); // scroll to any 'show'

  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    // ride out any animation delays, 100ms empirically measured
    var timer = setTimeout(function () {
      if (show && showRef.current) {
        Object(react_dom__WEBPACK_IMPORTED_MODULE_1__["findDOMNode"])(showRef.current).scrollIntoView();
      }
    }, 100);
    return function () {
      return clearTimeout(timer);
    };
  }, [show]);
  var firstIndex = beginPage * step;
  var lastIndex = Math.min((endPage + 1) * step, items.length) - 1;
  var result = [];

  if (replace && pageHeight && firstIndex) {
    var marker = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_3__["Box"], {
      key: "above",
      flex: false,
      height: beginPage * pageHeight + "px"
    });

    if (renderMarker) {
      // need to give it a key
      marker = react__WEBPACK_IMPORTED_MODULE_0___default.a.cloneElement(renderMarker(marker), {
        key: 'above'
      });
    }

    result.push(marker);
  }

  items.slice(firstIndex, lastIndex + 1).forEach(function (item, index) {
    var itemsIndex = firstIndex + index;
    var child = children(item, itemsIndex); // we only need the Refs if we don't know the pageHeight

    if (!pageHeight && itemsIndex === 0) {
      child = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Ref, {
        key: "first",
        ref: firstPageItemRef
      }, child);
    } else if (!pageHeight && (itemsIndex === step - 1 || itemsIndex === lastIndex)) {
      child = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Ref, {
        key: "last",
        ref: lastPageItemRef
      }, child);
    }

    if (show && show === itemsIndex) {
      child = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Ref, {
        key: "show",
        ref: showRef
      }, child);
    }

    result.push(child);
  });

  if (endPage < lastPage || replace || onMore) {
    var _marker = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_3__["Box"], {
      key: "below",
      ref: belowMarkerRef,
      flex: false,
      height: (replace ? (lastPage - endPage) * pageHeight : 0) + "px"
    });

    if (renderMarker) {
      // need to give it a key
      _marker = react__WEBPACK_IMPORTED_MODULE_0___default.a.cloneElement(renderMarker(_marker), {
        key: 'below'
      });
    }

    result.push(_marker);
  }

  return result;
};

var InfiniteScrollDoc;

if (true) {
  // eslint-disable-next-line global-require
  InfiniteScrollDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/InfiniteScroll/doc.js").doc(InfiniteScroll);
}

var InfiniteScrollWrapper = InfiniteScrollDoc || InfiniteScroll;


/***/ }),

/***/ "./node_modules/grommet/es6/components/InfiniteScroll/doc.js":
/*!*******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/InfiniteScroll/doc.js ***!
  \*******************************************************************/
/*! exports provided: doc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");


var doc = function doc(InfiniteScroll) {
  var DocumentedInfiniteScroll = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(InfiniteScroll).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('InfiniteScroll')).description('A container that lazily renders items.').usage("import { InfiniteScroll } from 'grommet';\n<InfiniteScroll />");
  DocumentedInfiniteScroll.propTypes = {
    children: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description('Function that will be called when each item is rendered.'),
    items: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].any).description('The children callback will be called to render each item.'),
    onMore: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Use this to indicate that 'items' doesn't contain all that it could.\n      It will be called when the entire list of items has been rendered.\n      This might be used when the total number of items that could be retrieved\n      is more than you'd want to load into the browser. 'onMore' allows you\n      to lazily fetch more from the server only when needed."),
    renderMarker: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Function that will be called to render the marker element that\n      is inserted into the DOM to track when scrolling nears the end of the\n      rendered items. It will be called with a single element that should\n      be wrapped appropriately. This is needed when the default\n      element, a <span>, isn't sufficient, such as a row of a table body."),
    replace: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Whether to replace previously rendered items with a generic spacing\n      element when they have scrolled out of view. This is more performant but\n      means that in-page searching will not find elements that have been\n      replaced. In general, this should be set to true within Drop containers\n      and false otherwise.").defaultValue(false),
    scrollableAncestor: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].node, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['window'])]).description("A custom ancestor to determine if the marker is visible in it.\n      This is useful in cases where you do not want the immediate\n      scrollable ancestor to be the container. For example, when your\n      marker is in a div that has overflow auto but you are detecting\n      visibility based on the window.\n      This should typically be a reference to a DOM node, but it will\n      also work to pass it the string \"window\" if you are using server\n      rendering."),
    show: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number.description('Ensure that the item at this index is visible initially.'),
    step: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number.description('How many items to render at a time.').defaultValue(50)
  };
  return DocumentedInfiniteScroll;
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/InfiniteScroll/index.js":
/*!*********************************************************************!*\
  !*** ./node_modules/grommet/es6/components/InfiniteScroll/index.js ***!
  \*********************************************************************/
/*! exports provided: InfiniteScroll */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _InfiniteScroll__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./InfiniteScroll */ "./node_modules/grommet/es6/components/InfiniteScroll/InfiniteScroll.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "InfiniteScroll", function() { return _InfiniteScroll__WEBPACK_IMPORTED_MODULE_0__["InfiniteScroll"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Keyboard/Keyboard.js":
/*!******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Keyboard/Keyboard.js ***!
  \******************************************************************/
/*! exports provided: Keyboard */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Keyboard", function() { return KeyboardWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }


var KEYS = {
  8: 'onBackspace',
  9: 'onTab',
  13: 'onEnter',
  27: 'onEsc',
  32: 'onSpace',
  37: 'onLeft',
  38: 'onUp',
  39: 'onRight',
  40: 'onDown',
  188: 'onComma',
  16: 'onShift'
};

var Keyboard = function Keyboard(_ref) {
  var target = _ref.target,
      children = _ref.children,
      onKeyDown = _ref.onKeyDown,
      restProps = _objectWithoutPropertiesLoose(_ref, ["target", "children", "onKeyDown"]);

  var onKeyDownHandler = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function (event) {
    var key = event.keyCode ? event.keyCode : event.which;
    var callbackName = KEYS[key];

    for (var _len = arguments.length, rest = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
      rest[_key - 1] = arguments[_key];
    }

    if (callbackName && restProps[callbackName]) {
      restProps[callbackName].apply(restProps, [event].concat(rest));
    }

    if (onKeyDown) {
      onKeyDown.apply(void 0, [event].concat(rest));
    }
  }, [onKeyDown, restProps]);
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    if (target === 'document') {
      document.addEventListener('keydown', onKeyDownHandler);
    }

    return function () {
      if (target === 'document') {
        document.removeEventListener('keydown', onKeyDownHandler);
      }
    };
  }, [onKeyDownHandler, target]);
  return target === 'document' ? children : Object(react__WEBPACK_IMPORTED_MODULE_0__["cloneElement"])(react__WEBPACK_IMPORTED_MODULE_0__["Children"].only(children), {
    onKeyDown: onKeyDownHandler
  });
};

var KeyboardDoc;

if (true) {
  // eslint-disable-next-line global-require
  KeyboardDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Keyboard/doc.js").doc(Keyboard);
}

var KeyboardWrapper = KeyboardDoc || Keyboard;


/***/ }),

/***/ "./node_modules/grommet/es6/components/Keyboard/doc.js":
/*!*************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Keyboard/doc.js ***!
  \*************************************************************/
/*! exports provided: doc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);

var doc = function doc(Keyboard) {
  var DocumentedKeyboard = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Keyboard).description('A handler of keyboard key presses.').usage("import { Keyboard } from 'grommet';\n<Keyboard onUp={() => {}} />");
  DocumentedKeyboard.propTypes = {
    target: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['component', 'document']).description('Where to listen for the keyboard presses.').defaultValue('component'),
    onBackspace: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description('Function that will be called when the user presses the backspace key.'),
    onComma: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description('Function that will be called when the user presses the comma key.'),
    onDown: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description('Function that will be called when the user presses the down key.'),
    onEnter: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description('Function that will be called when the user presses the enter key.'),
    onEsc: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description('Function that will be called when the user presses the esc key.'),
    onKeyDown: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description('Function that will be called when the user presses any key.'),
    onLeft: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description('Function that will be called when the user presses the left key.'),
    onRight: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description('Function that will be called when the user presses the right key.'),
    onShift: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description('Function that will be called when the user presses the shift key.'),
    onSpace: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description('Function that will be called when the user presses the space key.'),
    onTab: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description('Function that will be called when the user presses the tab key.'),
    onUp: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description('Function that will be called when the user presses the up key.')
  };
  return DocumentedKeyboard;
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/Keyboard/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Keyboard/index.js ***!
  \***************************************************************/
/*! exports provided: Keyboard */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Keyboard__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Keyboard */ "./node_modules/grommet/es6/components/Keyboard/Keyboard.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Keyboard", function() { return _Keyboard__WEBPACK_IMPORTED_MODULE_0__["Keyboard"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Layer/Layer.js":
/*!************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Layer/Layer.js ***!
  \************************************************************/
/*! exports provided: Layer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Layer", function() { return LayerWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ "./node_modules/react-dom/index.js");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _LayerContainer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./LayerContainer */ "./node_modules/grommet/es6/components/Layer/LayerContainer.js");
/* harmony import */ var _StyledLayer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./StyledLayer */ "./node_modules/grommet/es6/components/Layer/StyledLayer.js");
function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }







var Layer =
/*#__PURE__*/
function (_Component) {
  _inheritsLoose(Layer, _Component);

  function Layer() {
    var _this;

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _Component.call.apply(_Component, [this].concat(args)) || this;

    _defineProperty(_assertThisInitialized(_this), "state", {
      islayerContainerAvailable: false
    });

    return _this;
  }

  var _proto = Layer.prototype;

  _proto.componentDidMount = function componentDidMount() {
    // ensure document is available
    this.originalFocusedElement = document.activeElement;
    this.layerContainer = Object(_utils__WEBPACK_IMPORTED_MODULE_2__["getNewContainer"])();
    this.setState({
      islayerContainerAvailable: true
    });
  };

  _proto.componentWillUnmount = function componentWillUnmount() {
    var _this2 = this;

    var _this$props = this.props,
        animate = _this$props.animate,
        animation = _this$props.animation;

    if (this.originalFocusedElement) {
      if (this.originalFocusedElement.focus) {
        // wait for the fixed positioning to come back to normal
        // see layer styling for reference
        setTimeout(function () {
          _this2.originalFocusedElement.focus();
        }, 0);
      } else if (this.originalFocusedElement.parentNode && this.originalFocusedElement.parentNode.focus) {
        // required for IE11 and Edge
        this.originalFocusedElement.parentNode.focus();
      }
    }

    var activeAnimation = animation !== undefined ? animation : animate;

    if (activeAnimation !== false) {
      // undefined uses 'slide' as the default
      // animate out and remove later
      var layerClone = this.layerContainer.cloneNode(true);
      layerClone.id = 'layerClone';
      document.body.appendChild(layerClone);
      var clonedContainer = layerClone.querySelector('[class*="StyledLayer__StyledContainer"]');

      if (clonedContainer && clonedContainer.style) {
        clonedContainer.style.animationDirection = 'reverse';
      }

      setTimeout(function () {
        // we add the id and query here so the unit tests work
        var clone = document.getElementById('layerClone');
        if (clone) document.body.removeChild(clone);
      }, _StyledLayer__WEBPACK_IMPORTED_MODULE_4__["animationDuration"]);
    }
  };

  _proto.render = function render() {
    var islayerContainerAvailable = this.state.islayerContainerAvailable;
    return islayerContainerAvailable ? Object(react_dom__WEBPACK_IMPORTED_MODULE_1__["createPortal"])(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_LayerContainer__WEBPACK_IMPORTED_MODULE_3__["LayerContainer"], this.props), this.layerContainer) : null;
  };

  return Layer;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

_defineProperty(Layer, "defaultProps", {
  full: false,
  margin: 'none',
  modal: true,
  position: 'center',
  responsive: true
});

var LayerDoc;

if (true) {
  LayerDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Layer/doc.js").doc(Layer); // eslint-disable-line global-require
}

var LayerWrapper = LayerDoc || Layer;


/***/ }),

/***/ "./node_modules/grommet/es6/components/Layer/LayerContainer.js":
/*!*********************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Layer/LayerContainer.js ***!
  \*********************************************************************/
/*! exports provided: LayerContainer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LayerContainer", function() { return LayerContainer; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _contexts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../contexts */ "./node_modules/grommet/es6/contexts/index.js");
/* harmony import */ var _FocusedContainer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../FocusedContainer */ "./node_modules/grommet/es6/components/FocusedContainer.js");
/* harmony import */ var _Keyboard__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Keyboard */ "./node_modules/grommet/es6/components/Keyboard/index.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _StyledLayer__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./StyledLayer */ "./node_modules/grommet/es6/components/Layer/StyledLayer.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }









var HiddenAnchor = styled_components__WEBPACK_IMPORTED_MODULE_1__["default"].a.withConfig({
  displayName: "LayerContainer__HiddenAnchor",
  componentId: "sc-1srj14c-0"
})(["width:0;height:0;overflow:hidden;position:absolute;"]);

var LayerContainer =
/*#__PURE__*/
function (_Component) {
  _inheritsLoose(LayerContainer, _Component);

  function LayerContainer() {
    var _this;

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _Component.call.apply(_Component, [this].concat(args)) || this;

    _defineProperty(_assertThisInitialized(_this), "anchorRef", Object(react__WEBPACK_IMPORTED_MODULE_0__["createRef"])());

    _defineProperty(_assertThisInitialized(_this), "containerRef", react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef());

    _defineProperty(_assertThisInitialized(_this), "layerRef", react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef());

    _defineProperty(_assertThisInitialized(_this), "makeLayerVisible", function () {
      var node = _this.layerRef.current || _this.containerRef.current;

      if (node && node.scrollIntoView) {
        node.scrollIntoView();
      }
    });

    return _this;
  }

  var _proto = LayerContainer.prototype;

  _proto.componentDidMount = function componentDidMount() {
    var position = this.props.position;

    if (position !== 'hidden') {
      this.makeLayerVisible(); // Once layer is open we make sure it has focus so that you
      // can start tabbing inside the layer. If the caller put focus
      // on an element already, we honor that. Otherwise, we put
      // the focus in the hidden anchor.

      var element = document.activeElement;

      while (element) {
        if (element === this.containerRef.current) {
          // already have focus inside the container
          break;
        }

        element = element.parentElement;
      }

      if (!element && this.anchorRef.current) {
        this.anchorRef.current.focus();
      }
    }
  };

  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {
    var position = this.props.position;

    if (prevProps.position !== position && position !== 'hidden') {
      this.makeLayerVisible();
    }
  };

  _proto.render = function render() {
    var _this$props = this.props,
        children = _this$props.children,
        id = _this$props.id,
        modal = _this$props.modal,
        onClickOutside = _this$props.onClickOutside,
        onEsc = _this$props.onEsc,
        plain = _this$props.plain,
        position = _this$props.position,
        responsive = _this$props.responsive,
        propsTheme = _this$props.theme,
        rest = _objectWithoutPropertiesLoose(_this$props, ["children", "id", "modal", "onClickOutside", "onEsc", "plain", "position", "responsive", "theme"]);

    var theme = this.context || propsTheme;
    var content = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledLayer__WEBPACK_IMPORTED_MODULE_7__["StyledContainer"], _extends({
      id: id
    }, rest, {
      position: position,
      plain: plain,
      responsive: responsive,
      ref: this.containerRef
    }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(HiddenAnchor, {
      ref: this.anchorRef,
      tabIndex: "-1",
      "aria-hidden": "true"
    }), children);

    if (modal) {
      content = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledLayer__WEBPACK_IMPORTED_MODULE_7__["StyledLayer"], {
        id: id,
        plain: plain,
        position: position,
        responsive: responsive,
        tabIndex: "-1",
        ref: this.layerRef
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledLayer__WEBPACK_IMPORTED_MODULE_7__["StyledOverlay"], {
        plain: plain,
        onMouseDown: onClickOutside,
        responsive: responsive
      }), content);
      /* eslint-enable jsx-a11y/anchor-is-valid, jsx-a11y/anchor-has-content */
    }

    if (onEsc) {
      content = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Keyboard__WEBPACK_IMPORTED_MODULE_5__["Keyboard"], {
        onEsc: onEsc
      }, content);
    }

    if (theme.layer.background) {
      var dark = Object(_utils__WEBPACK_IMPORTED_MODULE_6__["backgroundIsDark"])(theme.layer.background, theme);

      if (dark !== undefined && dark !== theme.dark) {
        content = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_contexts__WEBPACK_IMPORTED_MODULE_3__["ThemeContext"].Provider, {
          value: _extends({}, theme, {
            dark: dark
          })
        }, content);
      }
    }

    if (modal) {
      content = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_FocusedContainer__WEBPACK_IMPORTED_MODULE_4__["FocusedContainer"], {
        hidden: position === 'hidden',
        restrictScroll: true
      }, content);
    }

    return content;
  };

  return LayerContainer;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

_defineProperty(LayerContainer, "contextType", _contexts__WEBPACK_IMPORTED_MODULE_3__["ThemeContext"]);

_defineProperty(LayerContainer, "defaultProps", {
  full: false,
  margin: 'none',
  modal: true,
  position: 'center'
});

Object.setPrototypeOf(LayerContainer.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Layer/StyledLayer.js":
/*!******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Layer/StyledLayer.js ***!
  \******************************************************************/
/*! exports provided: animationDuration, StyledLayer, StyledOverlay, StyledContainer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "animationDuration", function() { return animationDuration; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledLayer", function() { return StyledLayer; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledOverlay", function() { return StyledOverlay; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledContainer", function() { return StyledContainer; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");



var hiddenPositionStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["left:-100%;right:100%;z-index:-1;position:fixed;"]);
var desktopLayerStyle = "\n  position: fixed;\n  top: 0px;\n  left: 0px;\n  right: 0px;\n  bottom: 0px;\n  width: 100vw;\n  height: 100vh;\n";
var responsiveLayerStyle = "\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  min-height: 100vh;\n";
var StyledLayer = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledLayer",
  componentId: "rmtehz-0"
})(["", " background:unset;position:relative;z-index:", ";pointer-events:none;outline:none;", " ", ";"], _utils__WEBPACK_IMPORTED_MODULE_1__["baseStyle"], function (props) {
  return props.theme.layer.zIndex;
}, function (props) {
  if (props.position === 'hidden') {
    return hiddenPositionStyle;
  }

  var styles = [desktopLayerStyle];

  if (props.responsive && props.theme.layer.responsiveBreakpoint) {
    var breakpoint = props.theme.global.breakpoints[props.theme.layer.responsiveBreakpoint];
    styles.push(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["breakpointStyle"])(breakpoint, responsiveLayerStyle));
  }

  return styles;
}, function (props) {
  return props.theme.layer && props.theme.layer.extend;
});
StyledLayer.defaultProps = {};
Object.setPrototypeOf(StyledLayer.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var StyledOverlay = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledLayer__StyledOverlay",
  componentId: "rmtehz-1"
})(["position:absolute;", " top:0px;left:0px;right:0px;bottom:0px;", " pointer-events:all;"], function (props) {
  if (props.responsive && props.theme.layer.responsiveBreakpoint) {
    var breakpoint = props.theme.global.breakpoints[props.theme.layer.responsiveBreakpoint];
    return Object(_utils__WEBPACK_IMPORTED_MODULE_1__["breakpointStyle"])(breakpoint, 'position: relative;');
  }

  return '';
}, function (props) {
  return !props.plain && props.theme.layer.overlay.background && Object(_utils__WEBPACK_IMPORTED_MODULE_1__["backgroundStyle"])(props.theme.layer.overlay.background, props.theme);
});

var getMargin = function getMargin(margin, theme, position) {
  var axis = position.indexOf('top') !== -1 || position.indexOf('bottom') !== -1 ? 'vertical' : 'horizontal';
  var marginValue = margin[position] || margin[axis] || margin;
  var marginApplied = theme.global.edgeSize[marginValue] || marginValue;
  var marginInTheme = !!theme.global.edgeSize[marginValue];
  return !marginInTheme && typeof marginValue !== 'string' ? '0px' : marginApplied;
};

var MARGINS = function MARGINS(margin, theme, position) {
  if (position === void 0) {
    position = undefined;
  }

  if (position) {
    return getMargin(margin, theme, position);
  }

  return {
    bottom: getMargin(margin, theme, 'bottom'),
    'bottom-left': getMargin(margin, theme, 'bottom-left'),
    'bottom-right': getMargin(margin, theme, 'bottom-right'),
    left: getMargin(margin, theme, 'left'),
    right: getMargin(margin, theme, 'right'),
    top: getMargin(margin, theme, 'top'),
    'top-right': getMargin(margin, theme, 'top-right'),
    'top-left': getMargin(margin, theme, 'top-left')
  };
};

var KEYFRAMES = {
  center: {
    vertical: Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["keyframes"])(["0%{transform:translateX(-50%) scale(0.8);}100%{transform:translateX(-50%) scale(1);}"]),
    horizontal: Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["keyframes"])(["0%{transform:translateY(-50%) scale(0.8);}100%{transform:translateY(-50) scale(1);}"]),
    "true": Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["keyframes"])(["0%{transform:scale(0.8);}100%{transform:scale(1);}"]),
    "false": Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["keyframes"])(["0%{transform:translate(-50%,-50%) scale(0.8);}100%{transform:translate(-50%,-50%) scale(1);}"])
  },
  top: {
    vertical: Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["keyframes"])(["0%{transform:translate(-50%,-100%);}100%{transform:translate(-50%,0);}"]),
    horizontal: Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["keyframes"])(["0%{transform:translateY(-100%);}100%{transform:translateY(0);}"]),
    "true": Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["keyframes"])(["0%{transform:translateY(-100%);}100%{transform:translateY(0);}"]),
    "false": Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["keyframes"])(["0%{transform:translate(-50%,-100%);}100%{transform:translate(-50%,0);}"])
  },
  bottom: {
    vertical: Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["keyframes"])(["0%{transform:translate(-50%,100%);}100%{transform:translate(-50%,0);}"]),
    horizontal: Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["keyframes"])(["0%{transform:translateY(100%);}100%{transform:translateY(0);}"]),
    "true": Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["keyframes"])(["0%{transform:translateY(100%);}100%{transform:translateY(0);}"]),
    "false": Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["keyframes"])(["0%{transform:translate(-50%,100%);}100%{transform:translate(-50%,0);}"])
  },
  left: {
    vertical: Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["keyframes"])(["0%{transform:translateX(-100%);}100%{transform:translateX(0);}"]),
    horizontal: Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["keyframes"])(["0%{transform:translate(-100%,-50%);}100%{transform:translate(0,-50%);}"]),
    "true": Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["keyframes"])(["0%{transform:translateX(-100%);}100%{transform:translateX(0);}"]),
    "false": Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["keyframes"])(["0%{transform:translate(-100%,-50%);}100%{transform:translate(0,-50%);}"])
  },
  right: {
    vertical: Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["keyframes"])(["0%{transform:translateX(100%);}100%{transform:translateX(0);}"]),
    horizontal: Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["keyframes"])(["0%{transform:translate(100%,-50%);}100%{transform:translate(0,-50%);}"]),
    "true": Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["keyframes"])(["0%{transform:translateX(100%);}100%{transform:translateX(0);}"]),
    "false": Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["keyframes"])(["0%{transform:translate(100%,-50%);}100%{transform:translate(0,-50%);}"])
  }
};
var animationDuration = 200;

var getAnimationStyle = function getAnimationStyle(props, position, full) {
  var animation = props.animation !== undefined ? props.animation : props.animate;
  if (animation === undefined) animation = 'slide';
  var keys;

  if (animation === 'slide' || animation === true) {
    keys = KEYFRAMES[position][full];
  } else if (animation === 'fadeIn') {
    keys = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["keyframes"])(["0%{opacity:0}100%{opacity:1}"]);
  }

  return keys ? Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["animation:", " ", "s ease-in-out forwards;"], keys, animationDuration / 1000.0) : '';
}; // POSITIONS combines 'position', 'full', and 'margin' properties, since
// they are all interdependent.
// Basically, non-full axes combine 50% position with -50% translation.
// full axes pin to the window edges offset by any margin.
// The keyframe animations are included as they are done via translations
// as well so they must take into account the non-animated positioning.


var POSITIONS = {
  center: {
    vertical: function vertical(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["top:", ";bottom:", ";left:50%;transform:translateX(-50%);", ""], margin.top, margin.bottom, function (props) {
        return getAnimationStyle(props, 'center', 'vertical');
      });
    },
    horizontal: function horizontal(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["left:", ";right:", ";top:50%;transform:translateY(-50%);", ""], margin.left, margin.right, function (props) {
        return getAnimationStyle(props, 'center', 'horizontal');
      });
    },
    "true": function _true(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["top:", ";bottom:", ";left:", ";right:", ";", ""], margin.top, margin.bottom, margin.left, margin.right, function (props) {
        return getAnimationStyle(props, 'center', 'true');
      });
    },
    "false": function _false() {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["top:50%;left:50%;transform:translate(-50%,-50%);", ""], function (props) {
        return getAnimationStyle(props, 'center', 'false');
      });
    }
  },
  top: {
    vertical: function vertical(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["top:", ";bottom:", ";left:50%;transform:translate(-50%,0%);", ""], margin.top, margin.bottom, function (props) {
        return getAnimationStyle(props, 'top', 'vertical');
      });
    },
    horizontal: function horizontal(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["left:", ";right:", ";top:", ";transform:translateY(0);", ""], margin.left, margin.right, margin.top, function (props) {
        return getAnimationStyle(props, 'top', 'horizontal');
      });
    },
    "true": function _true(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["top:", ";bottom:", ";left:", ";right:", ";transform:translateY(0);", ""], margin.top, margin.bottom, margin.left, margin.right, function (props) {
        return getAnimationStyle(props, 'top', 'true');
      });
    },
    "false": function _false(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["top:", ";left:50%;transform:translate(-50%,0);", ""], margin.top, function (props) {
        return getAnimationStyle(props, 'top', 'false');
      });
    }
  },
  bottom: {
    vertical: function vertical(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["top:", " bottom:", ";left:50%;transform:translate(-50%,0);", ""], margin.top, margin.bottom, function (props) {
        return getAnimationStyle(props, 'bottom', 'vertical');
      });
    },
    horizontal: function horizontal(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["left:", ";right:", ";bottom:", ";transform:translateY(0);", ""], margin.left, margin.top, margin.bottom, function (props) {
        return getAnimationStyle(props, 'bottom', 'horizontal');
      });
    },
    "true": function _true(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["top:", ";bottom:", ";left:", ";right:", ";transform:translateY(0);", ""], margin.top, margin.bottom, margin.left, margin.right, function (props) {
        return getAnimationStyle(props, 'bottom', 'true');
      });
    },
    "false": function _false(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["bottom:", ";left:50%;transform:translate(-50%,0);", ""], margin.bottom, function (props) {
        return getAnimationStyle(props, 'bottom', 'false');
      });
    }
  },
  left: {
    vertical: function vertical(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["top:", ";bottom:", ";left:", ";transform:translateX(0);", ""], margin.top, margin.bottom, margin.left, function (props) {
        return getAnimationStyle(props, 'left', 'vertical');
      });
    },
    horizontal: function horizontal(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["left:", ";right:", ";top:50%;transform:translate(0,-50%);", ""], margin.left, margin.right, function (props) {
        return getAnimationStyle(props, 'left', 'horizontal');
      });
    },
    "true": function _true(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["top:", ";bottom:", ";left:", ";right:", ";transform:translateX(0);", ""], margin.top, margin.bottom, margin.left, margin.right, function (props) {
        return getAnimationStyle(props, 'left', 'true');
      });
    },
    "false": function _false(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["left:", ";top:50%;transform:translate(0,-50%);", ""], margin.left, function (props) {
        return getAnimationStyle(props, 'left', 'false');
      });
    }
  },
  right: {
    vertical: function vertical(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["top:", ";bottom:", ";right:", ";transform:translateX(0);", ""], margin.top, margin.bottom, margin.right, function (props) {
        return getAnimationStyle(props, 'right', 'vertical');
      });
    },
    horizontal: function horizontal(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["left:", ";right:", ";top:50%;transform:translate(0,-50%);", ""], margin.left, margin.right, function (props) {
        return getAnimationStyle(props, 'right', 'horizontal');
      });
    },
    "true": function _true(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["top:", ";bottom:", ";left:", ";right:", ";transform:translateX(0);", ""], margin.top, margin.bottom, margin.left, margin.right, function (props) {
        return getAnimationStyle(props, 'right', 'true');
      });
    },
    "false": function _false(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["right:", ";top:50%;transform:translate(0,-50%);", ""], margin.right, function (props) {
        return getAnimationStyle(props, 'right', 'false');
      });
    }
  },
  'top-right': {
    vertical: function vertical(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["top:", ";bottom:", ";right:", ";transform:translateX(0);", ";"], margin.top, margin.bottom, margin.right, function (props) {
        return getAnimationStyle(props, 'top', 'true');
      });
    },
    horizontal: function horizontal(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["left:", ";right:", ";top:0;transform:translateX(0);", ";"], margin.left, margin.right, function (props) {
        return getAnimationStyle(props, 'top', 'true');
      });
    },
    "true": function _true(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["top:", ";bottom:", ";left:", ";right:", ";transform:translateX(0);", ";"], margin.top, margin.bottom, margin.left, margin.right, function (props) {
        return getAnimationStyle(props, 'top', 'true');
      });
    },
    "false": function _false(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["top:", ";right:", ";transform:translateY(0);", ";"], margin.top, margin.right, function (props) {
        return getAnimationStyle(props, 'top', 'true');
      });
    }
  },
  'top-left': {
    vertical: function vertical(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["top:", ";bottom:", ";left:", ";transform:translateX(0);", ""], margin.top, margin.bottom, margin.left, function (props) {
        return getAnimationStyle(props, 'top', 'true');
      });
    },
    horizontal: function horizontal(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["left:", ";right:", ";top:0;transform:translateX(0);", ""], margin.left, margin.right, function (props) {
        return getAnimationStyle(props, 'top', 'true');
      });
    },
    "true": function _true(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["top:", ";bottom:", ";left:", ";right:", ";transform:translateX(0);", ""], margin.top, margin.bottom, margin.left, margin.right, function (props) {
        return getAnimationStyle(props, 'top', 'true');
      });
    },
    "false": function _false(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["top:", ";left:", ";transform:translateY(0);", ""], margin.top, margin.left, function (props) {
        return getAnimationStyle(props, 'top', 'true');
      });
    }
  },
  'bottom-right': {
    vertical: function vertical(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["top:", ";bottom:", ";right:", ";transform:translateX(0);", ""], margin.top, margin.bottom, margin.right, function (props) {
        return getAnimationStyle(props, 'bottom', 'true');
      });
    },
    horizontal: function horizontal(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["left:", ";right:", ";bottom:", ";transform:translateY(0);", ""], margin.left, margin.right, margin.bottom, function (props) {
        return getAnimationStyle(props, 'bottom', 'true');
      });
    },
    "true": function _true(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["top:", ";bottom:", ";left:", ";right:", ";transform:translateX(0);", ""], margin.top, margin.bottom, margin.left, margin.right, function (props) {
        return getAnimationStyle(props, 'bottom', 'true');
      });
    },
    "false": function _false(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["bottom:", ";right:", ";transform:translateY(0);", ""], margin.bottom, margin.right, function (props) {
        return getAnimationStyle(props, 'bottom', 'true');
      });
    }
  },
  'bottom-left': {
    vertical: function vertical(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["top:", ";bottom:", ";left:", ";transform:translateX(0);", ""], margin.top, margin.bottom, margin.left, function (props) {
        return getAnimationStyle(props, 'bottom', 'true');
      });
    },
    horizontal: function horizontal(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["left:", ";right:", ";bottom:", ";transform:translateY(0);", ""], margin.left, margin.right, margin.bottom, function (props) {
        return getAnimationStyle(props, 'bottom', 'true');
      });
    },
    "true": function _true(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["top:", ";bottom:", ";left:", ";right:", ";transform:translateX(0);", ""], margin.top, margin.bottom, margin.left, margin.right, function (props) {
        return getAnimationStyle(props, 'bottom', 'true');
      });
    },
    "false": function _false(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["bottom:", ";left:", ";transform:translateY(0);", ""], margin.bottom, margin.left, function (props) {
        return getAnimationStyle(props, 'bottom', 'true');
      });
    }
  }
};
var desktopContainerStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["position:", ";max-height:", ";max-width:", ";border-radius:", ";", ";"], function (props) {
  return props.modal ? 'absolute' : 'fixed';
}, function (props) {
  return "calc(100% - " + MARGINS(props.margin, props.theme, 'top') + " - " + MARGINS(props.margin, props.theme, 'bottom') + ")";
}, function (props) {
  return "calc(100% - " + MARGINS(props.margin, props.theme, 'left') + " - " + MARGINS(props.margin, props.theme, 'right') + ")";
}, function (props) {
  return props.plain ? 0 : props.theme.layer.border.radius;
}, function (props) {
  return props.position !== 'hidden' && POSITIONS[props.position][props.full](MARGINS(props.margin, props.theme)) || '';
});
var responsiveContainerStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["position:relative;max-height:none;max-width:none;border-radius:0;top:0;bottom:0;left:0;right:0;transform:none;animation:none;height:100vh;width:100vw;"]);
var StyledContainer = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledLayer__StyledContainer",
  componentId: "rmtehz-2"
})(["", " display:flex;flex-direction:column;min-height:", ";", " outline:none;pointer-events:all;z-index:", ";", " ", ";"], function (props) {
  return !props.modal ? _utils__WEBPACK_IMPORTED_MODULE_1__["baseStyle"] : '';
}, function (props) {
  return props.theme.global.size.xxsmall;
}, function (props) {
  return !props.plain && props.theme.layer.background && Object(_utils__WEBPACK_IMPORTED_MODULE_1__["backgroundStyle"])(props.theme.layer.background, props.theme);
}, function (props) {
  return props.theme.layer.container.zIndex;
}, desktopContainerStyle, function (props) {
  if (props.responsive && props.theme.layer.responsiveBreakpoint) {
    var breakpoint = props.theme.global.breakpoints[props.theme.layer.responsiveBreakpoint];

    if (breakpoint) {
      return Object(_utils__WEBPACK_IMPORTED_MODULE_1__["breakpointStyle"])(breakpoint, responsiveContainerStyle);
    }
  }

  return '';
});
StyledContainer.defaultProps = {};
Object.setPrototypeOf(StyledContainer.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Layer/doc.js":
/*!**********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Layer/doc.js ***!
  \**********************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var PAD_SIZES = ['xxsmall', 'xsmall', 'small', 'medium', 'large'];
var doc = function doc(Layer) {
  var DocumentedLayer = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Layer).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('Layer')).description("An overlay. Layer is typically modal and anchored to an edge, corner, or\n      center of the window. It is the caller's responsibility to provide a\n      control for the user to close the layer.").usage("import { Layer } from 'grommet';\n<Layer />").intrinsicElement('div');
  DocumentedLayer.propTypes = {
    animate: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Whether to animate the Layer content when it opens. This\n        property is deprecated and will be removed in the next major version\n        of grommet. Instead, use 'animation'.").defaultValue(true),
    animation: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['slide', 'fadeIn', 'none']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool]).description('Animation transition of the Layer content when it opens and closes.').defaultValue('slide'),
    full: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['vertical', 'horizontal'])]).description("Whether the width and/or height should fill the current viewport \n        size.").defaultValue(false),
    margin: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['none'].concat(PAD_SIZES)), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      bottom: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(PAD_SIZES), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
      horizontal: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(PAD_SIZES), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
      left: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(PAD_SIZES), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
      right: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(PAD_SIZES), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
      top: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(PAD_SIZES), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
      vertical: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(PAD_SIZES), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string])
    }), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description("The amount of margin around the Layer. An object can be specified to\ndistinguish horizontal margin, vertical margin, and margin on a\nparticular side of the layer"),
    modal: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Whether there should be an overlay preventing interaction underneath \n        the layer.").defaultValue(true),
    onClickOutside: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Function that will be invoked on modal layers when the user clicks \n      outside the layer."),
    onEsc: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Function that will be called when the user presses the escape key inside\n       the layer."),
    plain: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Whether this is a plain Layer with no background color or border.').defaultValue(false),
    position: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['bottom', 'bottom-left', 'bottom-right', 'center', 'hidden', 'left', 'right', 'top', 'top-left', 'top-right']).description('Position of the layer content.').defaultValue('center'),
    responsive: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Whether the layer should take full width and height on mobile').defaultValue(true)
  };
  return DocumentedLayer;
};
var themeDoc = _extends({
  'global.size.xxsmall': {
    description: 'The minimal height of the Layer.',
    type: 'string',
    defaultValue: '48px'
  },
  'layer.background': {
    description: 'The background color of the Layer Container.',
    type: 'string',
    defaultValue: 'white'
  },
  'layer.container.zIndex': {
    description: 'The stack order of Layer Container.',
    type: 'number',
    defaultValue: '15'
  },
  'layer.extend': {
    description: 'Any additional style for Layer.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'layer.overlay.background': {
    description: 'The background of the Layer overlay.',
    type: 'string',
    defaultValue: 'rgba(0, 0, 0, 0.5)'
  },
  'layer.responsiveBreakpoint': {
    description: "The actual breakpoint to trigger changes in the border, \ndirection, gap, margin, pad, and round.",
    type: 'string',
    defaultValue: 'small'
  },
  'layer.zIndex': {
    description: 'The stack order of Layer.',
    type: 'number',
    defaultValue: '10'
  }
}, _utils__WEBPACK_IMPORTED_MODULE_1__["themeDocUtils"].breakpointStyle("The possible breakpoints that could affect border, direction, gap, margin, \n    pad, and round."));

/***/ }),

/***/ "./node_modules/grommet/es6/components/Layer/index.js":
/*!************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Layer/index.js ***!
  \************************************************************/
/*! exports provided: Layer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Layer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Layer */ "./node_modules/grommet/es6/components/Layer/Layer.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Layer", function() { return _Layer__WEBPACK_IMPORTED_MODULE_0__["Layer"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/List/List.js":
/*!**********************************************************!*\
  !*** ./node_modules/grommet/es6/components/List/List.js ***!
  \**********************************************************/
/*! exports provided: List */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "List", function() { return ListWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
/* harmony import */ var _InfiniteScroll__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../InfiniteScroll */ "./node_modules/grommet/es6/components/InfiniteScroll/index.js");
/* harmony import */ var _Keyboard__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Keyboard */ "./node_modules/grommet/es6/components/Keyboard/index.js");
/* harmony import */ var _Text__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Text */ "./node_modules/grommet/es6/components/Text/index.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _hocs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../hocs */ "./node_modules/grommet/es6/components/hocs.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }










var StyledList = styled_components__WEBPACK_IMPORTED_MODULE_2__["default"].ul.withConfig({
  displayName: "List__StyledList",
  componentId: "sc-130gdqg-0"
})(["list-style:none;margin:0;padding:0;", ""], function (props) {
  return props.focus && _utils__WEBPACK_IMPORTED_MODULE_7__["focusStyle"];
});
var StyledItem = Object(styled_components__WEBPACK_IMPORTED_MODULE_2__["default"])(_Box__WEBPACK_IMPORTED_MODULE_3__["Box"]).withConfig({
  displayName: "List__StyledItem",
  componentId: "sc-130gdqg-1"
})(["", ""], function (props) {
  return props.onClick && "cursor: pointer;";
});

var normalize = function normalize(item, index, property) {
  if (typeof property === 'function') {
    return property(item, index);
  }

  return item[property];
};

var List = react__WEBPACK_IMPORTED_MODULE_0___default.a.forwardRef(function (props, ref) {
  var action = props.action,
      as = props.as,
      background = props.background,
      border = props.border,
      children = props.children,
      data = props.data,
      focus = props.focus,
      itemProps = props.itemProps,
      pad = props.pad,
      primaryKey = props.primaryKey,
      secondaryKey = props.secondaryKey,
      step = props.step,
      theme = props.theme,
      onClickItem = props.onClickItem,
      onMore = props.onMore,
      rest = _objectWithoutPropertiesLoose(props, ["action", "as", "background", "border", "children", "data", "focus", "itemProps", "pad", "primaryKey", "secondaryKey", "step", "theme", "onClickItem", "onMore"]);

  var _React$useState = react__WEBPACK_IMPORTED_MODULE_0___default.a.useState(),
      active = _React$useState[0],
      setActive = _React$useState[1];

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Keyboard__WEBPACK_IMPORTED_MODULE_5__["Keyboard"], {
    onEnter: onClickItem && active >= 0 ? function (event) {
      event.persist();
      var adjustedEvent = event;
      adjustedEvent.item = data[active];
      adjustedEvent.index = active;
      onClickItem(adjustedEvent);
    } : undefined,
    onUp: onClickItem && active ? function () {
      setActive(active - 1);
    } : undefined,
    onDown: onClickItem && data && data.length ? function () {
      setActive(active >= 0 ? Math.min(active + 1, data.length - 1) : 0);
    } : undefined
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StyledList, _extends({
    ref: ref,
    as: as || 'ul',
    tabIndex: onClickItem ? 0 : undefined
  }, rest), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_InfiniteScroll__WEBPACK_IMPORTED_MODULE_4__["InfiniteScroll"], {
    items: data,
    onMore: onMore,
    scrollableAncestor: "window",
    step: step,
    renderMarker: function renderMarker(marker) {
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_3__["Box"], {
        as: "li",
        flex: false
      }, marker);
    }
  }, function (item, index) {
    var content;
    var boxProps = {};

    if (children) {
      content = children(item, index, onClickItem ? {
        active: active === index
      } : undefined);
    } else if (primaryKey) {
      if (typeof primaryKey === 'function') {
        content = primaryKey(item, index);
      } else {
        content = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Text__WEBPACK_IMPORTED_MODULE_6__["Text"], {
          key: "p",
          weight: "bold"
        }, normalize(item, index, primaryKey));
      }

      if (secondaryKey) {
        if (typeof secondaryKey === 'function') {
          content = [content, secondaryKey(item, index)];
        } else {
          content = [content, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Text__WEBPACK_IMPORTED_MODULE_6__["Text"], {
            key: "s"
          }, normalize(item, index, secondaryKey))];
        }

        boxProps = {
          direction: 'row',
          align: 'center',
          justify: 'between',
          gap: 'medium'
        };
      }
    } else if (typeof item === 'object') {
      content = item[Object.keys(item)[0]];
    } else {
      content = item;
    }

    if (action) {
      content = [react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_3__["Box"], {
        align: "start"
      }, content), action(item, index)];
      boxProps = {
        direction: 'row',
        align: secondaryKey ? 'start' : 'center',
        justify: 'between',
        gap: 'medium'
      };
    }

    var adjustedBackground = background || theme.list.item.background;

    if (active === index) {
      adjustedBackground = theme.global.hover.background;
    } else if (Array.isArray(adjustedBackground)) {
      adjustedBackground = adjustedBackground[index % adjustedBackground.length];
    }

    var adjustedBorder = border || theme.list.item.border;

    if (adjustedBorder === 'horizontal' && index) {
      adjustedBorder = 'bottom';
    }

    if (itemProps && itemProps[index]) {
      boxProps = _extends({}, boxProps, {}, itemProps[index]);
    }

    var clickProps;

    if (onClickItem) {
      clickProps = {
        tabIndex: -1,
        active: active === index,
        onClick: function onClick(event) {
          event.persist(); // extract from React's synthetic event pool

          var adjustedEvent = event;
          adjustedEvent.item = item;
          adjustedEvent.index = index;
          onClickItem(adjustedEvent);
        },
        onMouseOver: function onMouseOver() {
          return setActive(index);
        },
        onMouseOut: function onMouseOut() {
          return setActive(undefined);
        },
        onFocus: function onFocus() {
          return setActive(index);
        },
        onBlur: function onBlur() {
          return setActive(undefined);
        }
      };
    }

    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StyledItem, _extends({
      key: index,
      tag: "li",
      flex: false,
      pad: pad || theme.list.item.pad,
      background: adjustedBackground,
      border: adjustedBorder
    }, boxProps, clickProps), content);
  })));
});
List.displayName = 'List';
var ListDoc;

if (true) {
  ListDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/List/doc.js").doc(List); // eslint-disable-line global-require
}

var ListWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(styled_components__WEBPACK_IMPORTED_MODULE_2__["withTheme"], Object(_hocs__WEBPACK_IMPORTED_MODULE_8__["withFocus"])(), _hocs__WEBPACK_IMPORTED_MODULE_8__["withForwardRef"])(ListDoc || List);


/***/ }),

/***/ "./node_modules/grommet/es6/components/List/doc.js":
/*!*********************************************************!*\
  !*** ./node_modules/grommet/es6/components/List/doc.js ***!
  \*********************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var sizes = ['xxsmall', 'xsmall', 'small', 'medium', 'large', 'xlarge'];
var sides = ['horizontal', 'vertical', 'top', 'bottom', 'left', 'right'];
var padShapeSides = {};
sides.forEach(function (side) {
  padShapeSides[side] = react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(sizes);
});
var borderTypes = [react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(sides), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
  color: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
    dark: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
    light: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string
  })]),
  side: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(sides),
  size: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(sizes), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string])
})];
var doc = function doc(List) {
  var DocumentedList = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(List).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('List')).description('An ordered list of items.').usage("import { List } from 'grommet';\n<List data={[...]} />").intrinsicElement('ol');
  DocumentedList.propTypes = _extends({}, _utils__WEBPACK_IMPORTED_MODULE_1__["genericProps"], {
    as: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description('The DOM tag or react component to use for the element.').defaultValue('ul'),
    background: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string)]).description("Item background. An array value indicates that items should have\n      different backgrounds, modulo the array index."),
    border: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType(borderTypes).description("Item border."),
    data: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({})])).description('Array of data objects.'),
    children: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Function that will be called when each data item is rendered.\n      It will be passed three arguments, the individual data item, its index,\n      and an object indicating the state of the item, if any. It\n      should return a react element.\n      For example:\n      `children={(item, index, { active }) => <Box ...>{...}</Box>}`\n      "),
    itemProps: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({}).description("Item specific background, border, and pad, keyed by data index.\n      For example:\n      { 27: { background: ..., border: ..., pad: ... }},\n      where the background, border, and pad accept the same values as\n      the same named properties on List."),
    onMore: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Use this to indicate that 'data' doesn't contain all that it could.\n      It will be called when all of the data items have been rendered.\n      This might be used when the total number of items that could be retrieved\n      is more than you'd want to load into the browser. 'onMore' allows you\n      to lazily fetch more from the server only when needed."),
    onClickItem: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("When supplied, this function will be called with an event object that\n      include a 'item' property containing the data value associated with\n      the clicked item and an 'index' property containing the index in 'data'\n      of the clicked item. You should not include interactive elements, like\n      Anchor or Button inside 'primaryKey' or 'secondaryKey' as that can\n      cause confusion with overlapping interactive elements."),
    pad: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(sizes), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape(padShapeSides)]).description("Item padding."),
    primaryKey: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func]).description("When a string is supplied, it indicates the property in a data item\n      object to use to get the primary content. If a function is supplied, it\n      will be called with the current data item object and should return\n      a React element that will be rendered as the primary content."),
    secondaryKey: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func]).description("When a string is supplied, it indicates the property in a data item\n      object to use to get the secondary content. If a function is supplied, it\n      will be called with the current data item object and should return\n      a React element that will be rendered as the secondary content."),
    step: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number.description('How many items to render at a time.').defaultValue(50)
  });
  return DocumentedList;
};
var themeDoc = {
  'global.hover.background': {
    description: 'The background style when hovering over an interactive item.',
    type: 'string | { color: string, opacity: string }',
    defaultValue: "{ color: 'active', opacity: 'medium' }"
  },
  'global.hover.color': {
    description: 'The text color when hovering over an interactive item.',
    type: 'string | { dark: string, light: string }',
    defaultValue: "{ dark: 'white', light: 'black' }"
  },
  'list.extend': {
    description: 'Any additional style for the list.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'list.item.background': {
    description: 'Background color for list items.',
    type: 'string | [string]',
    defaultValue: undefined
  },
  'list.item.border': {
    description: 'Border for list items.',
    type: 'boolean | string | object',
    defaultValue: 'horizontal'
  },
  'list.item.pad': {
    description: 'Border for list items.',
    type: 'boolean | string | object',
    defaultValue: "{ horizontal: 'medium', vertical: 'small' }"
  },
  'list.item.extend': {
    description: 'Any additional style for the list items.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  }
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/List/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/grommet/es6/components/List/index.js ***!
  \***********************************************************/
/*! exports provided: List */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _List__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./List */ "./node_modules/grommet/es6/components/List/List.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "List", function() { return _List__WEBPACK_IMPORTED_MODULE_0__["List"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Main/Main.js":
/*!**********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Main/Main.js ***!
  \**********************************************************/
/*! exports provided: Main */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Main", function() { return MainWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }




var Main = function Main(_ref) {
  var rest = _extends({}, _ref);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_1__["Box"], _extends({
    as: "main",
    fill: "vertical",
    flex: "grow",
    overflow: "auto"
  }, rest));
};

var MainDoc;

if (true) {
  // eslint-disable-next-line global-require
  MainDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Main/doc.js").doc(Main);
}

var MainWrapper = MainDoc || Main;


/***/ }),

/***/ "./node_modules/grommet/es6/components/Main/doc.js":
/*!*********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Main/doc.js ***!
  \*********************************************************/
/*! exports provided: doc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");


var doc = function doc(Main) {
  var DocumentedMain = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Main).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('Main')).description('main content of a document.').usage("import { Main } from 'grommet';\n<Main />");
  return DocumentedMain;
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/Main/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Main/index.js ***!
  \***********************************************************/
/*! exports provided: Main */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Main__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Main */ "./node_modules/grommet/es6/components/Main/Main.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Main", function() { return _Main__WEBPACK_IMPORTED_MODULE_0__["Main"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Markdown/Markdown.js":
/*!******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Markdown/Markdown.js ***!
  \******************************************************************/
/*! exports provided: Markdown */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Markdown", function() { return GrommetMarkdownWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var markdown_to_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! markdown-to-jsx */ "./node_modules/markdown-to-jsx/dist/esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _Heading__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Heading */ "./node_modules/grommet/es6/components/Heading/index.js");
/* harmony import */ var _Paragraph__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Paragraph */ "./node_modules/grommet/es6/components/Paragraph/index.js");
/* harmony import */ var _Anchor__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Anchor */ "./node_modules/grommet/es6/components/Anchor/index.js");
/* harmony import */ var _Image__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Image */ "./node_modules/grommet/es6/components/Image/index.js");
/* harmony import */ var _Table__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Table */ "./node_modules/grommet/es6/components/Table/index.js");
/* harmony import */ var _TableBody__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../TableBody */ "./node_modules/grommet/es6/components/TableBody/index.js");
/* harmony import */ var _TableCell__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../TableCell */ "./node_modules/grommet/es6/components/TableCell/index.js");
/* harmony import */ var _TableFooter__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../TableFooter */ "./node_modules/grommet/es6/components/TableFooter/index.js");
/* harmony import */ var _TableHeader__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../TableHeader */ "./node_modules/grommet/es6/components/TableHeader/index.js");
/* harmony import */ var _TableRow__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../TableRow */ "./node_modules/grommet/es6/components/TableRow/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }















var GrommetMarkdown = function GrommetMarkdown(_ref) {
  var components = _ref.components,
      options = _ref.options,
      theme = _ref.theme,
      rest = _objectWithoutPropertiesLoose(_ref, ["components", "options", "theme"]);

  var heading = [1, 2, 3, 4].reduce(function (obj, level) {
    var result = _extends({}, obj);

    result["h" + level] = {
      component: _Heading__WEBPACK_IMPORTED_MODULE_3__["Heading"],
      props: {
        level: level
      }
    };
    return result;
  }, {});
  var overrides = Object(_utils__WEBPACK_IMPORTED_MODULE_2__["deepMerge"])({
    a: {
      component: _Anchor__WEBPACK_IMPORTED_MODULE_5__["Anchor"]
    },
    img: {
      component: _Image__WEBPACK_IMPORTED_MODULE_6__["Image"]
    },
    p: {
      component: _Paragraph__WEBPACK_IMPORTED_MODULE_4__["Paragraph"]
    },
    table: {
      component: _Table__WEBPACK_IMPORTED_MODULE_7__["Table"]
    },
    td: {
      component: _TableCell__WEBPACK_IMPORTED_MODULE_9__["TableCell"]
    },
    tbody: {
      component: _TableBody__WEBPACK_IMPORTED_MODULE_8__["TableBody"]
    },
    tfoot: {
      component: _TableFooter__WEBPACK_IMPORTED_MODULE_10__["TableFooter"]
    },
    th: {
      component: _TableCell__WEBPACK_IMPORTED_MODULE_9__["TableCell"]
    },
    thead: {
      component: _TableHeader__WEBPACK_IMPORTED_MODULE_11__["TableHeader"]
    },
    tr: {
      component: _TableRow__WEBPACK_IMPORTED_MODULE_12__["TableRow"]
    }
  }, heading, components, options && options.overrides);
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(markdown_to_jsx__WEBPACK_IMPORTED_MODULE_1__["default"], _extends({
    options: _extends({}, options, {
      overrides: overrides
    })
  }, rest));
};

var GrommetMarkdownDoc;

if (true) {
  // eslint-disable-next-line global-require
  GrommetMarkdownDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Markdown/doc.js").doc(GrommetMarkdown);
}

var GrommetMarkdownWrapper = GrommetMarkdownDoc || GrommetMarkdown;


/***/ }),

/***/ "./node_modules/grommet/es6/components/Markdown/doc.js":
/*!*************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Markdown/doc.js ***!
  \*************************************************************/
/*! exports provided: doc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");


var doc = function doc(Markdown) {
  var DocumentedMarkdown = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Markdown).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('Markdown')).description('Markdown formatting using Grommet components.').usage("import { Markdown } from 'grommet';\n      <Markdown>{content}</Markdown>").intrinsicElement('div');
  DocumentedMarkdown.propTypes = {
    components: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({}).description("Custom components and props to override html elements such as 'img'\n      or 'pre'. By default 'a', 'p', 'img', and table elements are overridden\n      with grommet components")
  };
  return DocumentedMarkdown;
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/Markdown/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Markdown/index.js ***!
  \***************************************************************/
/*! exports provided: Markdown */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Markdown__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Markdown */ "./node_modules/grommet/es6/components/Markdown/Markdown.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Markdown", function() { return _Markdown__WEBPACK_IMPORTED_MODULE_0__["Markdown"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/MaskedInput/MaskedInput.js":
/*!************************************************************************!*\
  !*** ./node_modules/grommet/es6/components/MaskedInput/MaskedInput.js ***!
  \************************************************************************/
/*! exports provided: MaskedInput */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MaskedInput", function() { return MaskedInputWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var _contexts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../contexts */ "./node_modules/grommet/es6/contexts/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Button */ "./node_modules/grommet/es6/components/Button/index.js");
/* harmony import */ var _Drop__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Drop */ "./node_modules/grommet/es6/components/Drop/index.js");
/* harmony import */ var _Keyboard__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Keyboard */ "./node_modules/grommet/es6/components/Keyboard/index.js");
/* harmony import */ var _hocs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../hocs */ "./node_modules/grommet/es6/components/hocs.js");
/* harmony import */ var _StyledMaskedInput__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./StyledMaskedInput */ "./node_modules/grommet/es6/components/MaskedInput/StyledMaskedInput.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }












var parseValue = function parseValue(mask, value) {
  // break the value up into mask parts
  var valueParts = []; // { part, beginIndex, endIndex }

  var valueIndex = 0;
  var maskIndex = 0;

  while (value !== undefined && valueIndex < value.length && maskIndex < mask.length) {
    var item = mask[maskIndex];
    var found = void 0;

    if (item.fixed) {
      var length = item.fixed.length;
      valueParts.push({
        part: item.fixed,
        beginIndex: valueIndex,
        endIndex: valueIndex + length - 1
      });
      var part = value.slice(valueIndex, valueIndex + length);

      if (part === item.fixed) {
        valueIndex += length;
      }

      maskIndex += 1;
      found = true;
    } else if (item.options) {
      // reverse assuming larger is later
      found = item.options.slice(0).reverse() // eslint-disable-next-line no-loop-func
      .some(function (option) {
        var length = option.length;
        var part = value.slice(valueIndex, valueIndex + length);

        if (part === option) {
          valueParts.push({
            part: part,
            beginIndex: valueIndex,
            endIndex: valueIndex + length - 1
          });
          valueIndex += length;
          maskIndex += 1;
          return true;
        }

        return false;
      });
    }

    if (!found) {
      if (item.regexp) {
        var minLength = Array.isArray(item.length) && item.length[0] || item.length || 1;
        var maxLength = Array.isArray(item.length) && item.length[1] || item.length || value.length - valueIndex;
        var _length = maxLength;

        while (!found && _length >= minLength) {
          var _part = value.slice(valueIndex, valueIndex + _length);

          if (item.regexp.test(_part)) {
            valueParts.push({
              part: _part,
              beginIndex: valueIndex,
              endIndex: valueIndex + _length - 1
            });
            valueIndex += _length;
            maskIndex += 1;
            found = true;
          }

          _length -= 1;
        }

        if (!found) {
          valueIndex = value.length;
        }
      } else {
        var _length2 = Array.isArray(item.length) ? item.length[1] : item.length || value.length - valueIndex;

        var _part2 = value.slice(valueIndex, valueIndex + _length2);

        valueParts.push({
          part: _part2,
          beginIndex: valueIndex,
          endIndex: valueIndex + _length2 - 1
        });
        valueIndex += _length2;
        maskIndex += 1;
      }
    }
  }

  return valueParts;
};

var MaskedInput =
/*#__PURE__*/
function (_Component) {
  _inheritsLoose(MaskedInput, _Component);

  function MaskedInput() {
    var _this;

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _Component.call.apply(_Component, [this].concat(args)) || this;

    _defineProperty(_assertThisInitialized(_this), "state", {});

    _defineProperty(_assertThisInitialized(_this), "inputRef", react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef());

    _defineProperty(_assertThisInitialized(_this), "dropRef", react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef());

    _defineProperty(_assertThisInitialized(_this), "locateCaret", function () {
      // leave time for caret to be placed after receiving focus
      clearTimeout(_this.caretTimeout);
      _this.caretTimeout = setTimeout(function () {
        var mask = _this.props.mask;
        var _this$state = _this.state,
            activeMaskIndex = _this$state.activeMaskIndex,
            valueParts = _this$state.valueParts;

        if (_this.inputRef.current) {
          // determine which mask element the caret is at
          var caretIndex = _this.inputRef.current.selectionStart;
          var maskIndex;
          valueParts.some(function (part, index) {
            if (part.beginIndex <= caretIndex && part.endIndex >= caretIndex) {
              maskIndex = index;
              return true;
            }

            return false;
          });

          if (maskIndex === undefined && valueParts.length < mask.length) {
            maskIndex = valueParts.length; // first unused one
          }

          if (maskIndex && mask[maskIndex].fixed) {
            maskIndex -= 1; // fixed mask parts are never "active"
          }

          if (maskIndex !== activeMaskIndex) {
            // eslint-disable-next-line react/no-did-update-set-state
            _this.setState({
              activeMaskIndex: maskIndex,
              activeOptionIndex: -1,
              showDrop: maskIndex >= 0 && mask[maskIndex].options && true
            });
          }
        }
      }, 10); // 10ms empirically chosen
    });

    _defineProperty(_assertThisInitialized(_this), "onFocus", function (event) {
      var onFocus = _this.props.onFocus;

      _this.locateCaret();

      if (onFocus) {
        onFocus(event);
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onBlur", function (event) {
      // delay so we don't remove the drop before Button events can be processed
      var onBlur = _this.props.onBlur;
      clearTimeout(_this.blurTimeout);
      _this.blurTimeout = setTimeout(function () {
        var showDrop = _this.state.showDrop;

        if (showDrop && _this.dropRef.current && document.activeElement !== _this.inputRef.current && !_this.dropRef.current.parentNode.contains(document.activeElement)) {
          _this.setState({
            activeMaskIndex: undefined,
            showDrop: false
          });
        }
      }, 10); // 10ms empirically chosen

      if (onBlur) {
        onBlur(event);
      }
    });

    _defineProperty(_assertThisInitialized(_this), "setValue", function (nextValue) {
      // Calling set value function directly on input because React library
      // overrides setter `event.target.value =` and loses original event
      // target fidelity.
      // https://stackoverflow.com/a/46012210 &&
      // https://github.com/grommet/grommet/pull/3171#discussion_r296415239
      var nativeInputValueSetter = Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype, 'value').set;
      nativeInputValueSetter.call(_this.inputRef.current, nextValue);
      var event = new Event('input', {
        bubbles: true
      });

      _this.inputRef.current.dispatchEvent(event);
    });

    _defineProperty(_assertThisInitialized(_this), "onChange", function (event) {
      var _this$props = _this.props,
          onChange = _this$props.onChange,
          mask = _this$props.mask;
      var value = event.target.value; // Align with the mask.

      var valueParts = parseValue(mask, value);
      var nextValue = valueParts.map(function (part) {
        return part.part;
      }).join('');

      if (value === nextValue) {
        if (onChange) {
          onChange(event);
        }
      } else {
        _this.setValue(nextValue);
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onOption", function (option) {
      return function () {
        var mask = _this.props.mask;
        var _this$state2 = _this.state,
            activeMaskIndex = _this$state2.activeMaskIndex,
            valueParts = _this$state2.valueParts;
        var nextValueParts = [].concat(valueParts);
        nextValueParts[activeMaskIndex] = {
          part: option
        }; // add any fixed parts that follow

        var index = activeMaskIndex + 1;

        while (index < mask.length && !nextValueParts[index] && mask[index].fixed) {
          nextValueParts[index] = {
            part: mask[index].fixed
          };
          index += 1;
        }

        var nextValue = nextValueParts.map(function (part) {
          return part.part;
        }).join('');

        _this.setValue(nextValue); // restore focus to input


        _this.inputRef.current.focus();
      };
    });

    _defineProperty(_assertThisInitialized(_this), "onNextOption", function (event) {
      var mask = _this.props.mask;
      var _this$state3 = _this.state,
          activeMaskIndex = _this$state3.activeMaskIndex,
          activeOptionIndex = _this$state3.activeOptionIndex;
      var item = mask[activeMaskIndex];

      if (item && item.options) {
        event.preventDefault();
        var index = Math.min(activeOptionIndex + 1, item.options.length - 1);

        _this.setState({
          activeOptionIndex: index
        });
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onPreviousOption", function (event) {
      var mask = _this.props.mask;
      var _this$state4 = _this.state,
          activeMaskIndex = _this$state4.activeMaskIndex,
          activeOptionIndex = _this$state4.activeOptionIndex;

      if (activeMaskIndex >= 0 && mask[activeMaskIndex].options) {
        event.preventDefault();
        var index = Math.max(activeOptionIndex - 1, 0);

        _this.setState({
          activeOptionIndex: index
        });
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onSelectOption", function (event) {
      var mask = _this.props.mask;
      var _this$state5 = _this.state,
          activeMaskIndex = _this$state5.activeMaskIndex,
          activeOptionIndex = _this$state5.activeOptionIndex;

      if (activeMaskIndex >= 0 && activeOptionIndex >= 0) {
        event.preventDefault();
        var option = mask[activeMaskIndex].options[activeOptionIndex];

        _this.onOption(option)();
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onEsc", function (event) {
      var showDrop = _this.state.showDrop;

      if (showDrop) {
        // we have to stop both synthetic events and native events
        // drop and layer should not close by pressing esc on this input
        event.stopPropagation();
        event.nativeEvent.stopImmediatePropagation();

        _this.setState({
          showDrop: false
        });
      }
    });

    _defineProperty(_assertThisInitialized(_this), "renderPlaceholder", function () {
      var mask = _this.props.mask;
      return mask.map(function (item) {
        return item.placeholder || item.fixed;
      }).join('');
    });

    return _this;
  }

  MaskedInput.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {
    var mask = nextProps.mask,
        value = nextProps.value;
    var priorMask = prevState.priorMask,
        priorValue = prevState.priorValue;

    if (priorMask !== mask || priorValue !== value) {
      var valueParts = parseValue(mask, value);
      return {
        priorMask: mask,
        priorValue: value,
        valueParts: valueParts
      };
    }

    return null;
  };

  var _proto = MaskedInput.prototype;

  _proto.componentDidUpdate = function componentDidUpdate() {
    var focus = this.props.focus;

    if (focus) {
      this.locateCaret();
    }
  };

  _proto.componentWillUnmount = function componentWillUnmount() {
    clearTimeout(this.caretTimeout);
    clearTimeout(this.blurTimeout);
  };

  _proto.render = function render() {
    var _this2 = this;

    var _this$props2 = this.props,
        defaultValue = _this$props2.defaultValue,
        forwardRef = _this$props2.forwardRef,
        id = _this$props2.id,
        placeholder = _this$props2.placeholder,
        plain = _this$props2.plain,
        mask = _this$props2.mask,
        value = _this$props2.value,
        onChange = _this$props2.onChange,
        onKeyDown = _this$props2.onKeyDown,
        propsTheme = _this$props2.theme,
        rest = _objectWithoutPropertiesLoose(_this$props2, ["defaultValue", "forwardRef", "id", "placeholder", "plain", "mask", "value", "onChange", "onKeyDown", "theme"]);

    var theme = this.context || propsTheme;
    var _this$state6 = this.state,
        activeMaskIndex = _this$state6.activeMaskIndex,
        activeOptionIndex = _this$state6.activeOptionIndex,
        showDrop = _this$state6.showDrop;
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledMaskedInput__WEBPACK_IMPORTED_MODULE_9__["StyledMaskedInputContainer"], {
      plain: plain
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Keyboard__WEBPACK_IMPORTED_MODULE_7__["Keyboard"], {
      onEsc: this.onEsc,
      onTab: this.onTab,
      onLeft: this.locateCaret,
      onRight: this.locateCaret,
      onUp: this.onPreviousOption,
      onDown: this.onNextOption,
      onEnter: this.onSelectOption,
      onKeyDown: onKeyDown
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledMaskedInput__WEBPACK_IMPORTED_MODULE_9__["StyledMaskedInput"], _extends({
      id: id,
      ref: function ref(node) {
        _this2.inputRef.current = node;

        if (forwardRef) {
          if (typeof forwardRef === 'object') {
            forwardRef.current = node;
          } else {
            forwardRef(node);
          }
        }
      },
      autoComplete: "off",
      plain: plain,
      placeholder: placeholder || this.renderPlaceholder()
    }, rest, {
      defaultValue: defaultValue,
      value: value,
      theme: theme,
      onFocus: this.onFocus,
      onBlur: this.onBlur,
      onChange: this.onChange
    }))), showDrop && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Drop__WEBPACK_IMPORTED_MODULE_6__["Drop"], {
      id: id ? "masked-input-drop__" + id : undefined,
      align: {
        top: 'bottom',
        left: 'left'
      },
      responsive: false,
      target: this.inputRef.current
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"], {
      ref: this.dropRef
    }, mask[activeMaskIndex].options.map(function (option, index) {
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"], {
        key: option,
        flex: false
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_5__["Button"], {
        tabIndex: "-1",
        onClick: _this2.onOption(option),
        onMouseOver: function onMouseOver() {
          return _this2.setState({
            activeOptionIndex: index
          });
        },
        onFocus: function onFocus() {},
        active: index === activeOptionIndex,
        hoverIndicator: "background"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"], {
        pad: {
          horizontal: 'small',
          vertical: 'xsmall'
        }
      }, option)));
    }))));
  };

  return MaskedInput;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

_defineProperty(MaskedInput, "contextType", _contexts__WEBPACK_IMPORTED_MODULE_2__["ThemeContext"]);

_defineProperty(MaskedInput, "defaultProps", {
  mask: []
});

Object.setPrototypeOf(MaskedInput.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_3__["defaultProps"]);
var MaskedInputDoc;

if (true) {
  // eslint-disable-next-line global-require
  MaskedInputDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/MaskedInput/doc.js").doc(MaskedInput);
}

var MaskedInputWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(Object(_hocs__WEBPACK_IMPORTED_MODULE_8__["withFocus"])({
  focusWithMouse: true
}), _hocs__WEBPACK_IMPORTED_MODULE_8__["withForwardRef"])(MaskedInputDoc || MaskedInput);


/***/ }),

/***/ "./node_modules/grommet/es6/components/MaskedInput/StyledMaskedInput.js":
/*!******************************************************************************!*\
  !*** ./node_modules/grommet/es6/components/MaskedInput/StyledMaskedInput.js ***!
  \******************************************************************************/
/*! exports provided: StyledMaskedInput, StyledMaskedInputContainer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledMaskedInput", function() { return StyledMaskedInput; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledMaskedInputContainer", function() { return StyledMaskedInputContainer; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");



var sizeStyle = function sizeStyle(props) {
  var data = props.theme.text[props.size];
  return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["font-size:", ";line-height:", ";"], data.size, data.height);
};

var plainStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["border:none;"]);
var StyledMaskedInput = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].input.withConfig({
  displayName: "StyledMaskedInput",
  componentId: "sc-99vkfa-0"
})(["", " width:100%;", " ", " ", " &::-moz-focus-inner{border:none;outline:none;}", ";", ";"], _utils__WEBPACK_IMPORTED_MODULE_1__["inputStyle"], function (props) {
  return props.size && sizeStyle(props);
}, function (props) {
  return props.plain && plainStyle;
}, _utils__WEBPACK_IMPORTED_MODULE_1__["placeholderStyle"], function (props) {
  return props.focus && !props.plain && _utils__WEBPACK_IMPORTED_MODULE_1__["focusStyle"];
}, function (props) {
  return props.theme.maskedInput && props.theme.maskedInput.extend;
});
var StyledMaskedInputContainer = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledMaskedInput__StyledMaskedInputContainer",
  componentId: "sc-99vkfa-1"
})(["position:relative;width:100%;"]);

/***/ }),

/***/ "./node_modules/grommet/es6/components/MaskedInput/doc.js":
/*!****************************************************************!*\
  !*** ./node_modules/grommet/es6/components/MaskedInput/doc.js ***!
  \****************************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var doc = function doc(MaskedInput) {
  var DocumentedMaskedInput = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(MaskedInput).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('MaskedInput')).description('An input field with formalized syntax.').usage("import { MaskedInput } from 'grommet';\n<MaskedInput id='item' name='item' />").intrinsicElement('input');
  DocumentedMaskedInput.propTypes = {
    id: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description('The id attribute of the input.'),
    name: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description('The name attribute of the input.'),
    onChange: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Function that will be called when the user types or pastes text."),
    onBlur: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Function that will be called when the user leaves the field."),
    mask: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      length: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number)]),
      fixed: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
      options: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number])),
      regexp: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({}) // RegExp

    })).description("Describes the structure of the mask. If a regexp is provided, it should\n      allow both the final full string element as well as partial strings\n      as the user types characters one by one."),
    size: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['small', 'medium', 'large', 'xlarge']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description('The size of the text.'),
    value: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number]).description("What text to put in the input. The caller should ensure that it\n      is initially valid with respect to the mask.")
  };
  return DocumentedMaskedInput;
};
var themeDoc = _extends({
  'global.hover.background': {
    description: 'The background style when hovering.',
    type: 'string | { color: string, opacity: string }',
    defaultValue: "{ color: 'active', opacity: 'medium' }"
  },
  'global.hover.color': {
    description: 'The text color when hovering.',
    type: 'string | { dark: string, light: string }',
    defaultValue: "{ dark: 'white', light: 'black' }"
  },
  'maskedInput.extend': {
    description: 'Any additional style for MaskedInput.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'text.medium': {
    description: 'The size of the text for MaskedInput.',
    type: 'string',
    defaultValue: '18px'
  }
}, _utils__WEBPACK_IMPORTED_MODULE_1__["themeDocUtils"].focusStyle, {}, _utils__WEBPACK_IMPORTED_MODULE_1__["themeDocUtils"].placeholderStyle, {}, _utils__WEBPACK_IMPORTED_MODULE_1__["themeDocUtils"].inputStyle);

/***/ }),

/***/ "./node_modules/grommet/es6/components/MaskedInput/index.js":
/*!******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/MaskedInput/index.js ***!
  \******************************************************************/
/*! exports provided: MaskedInput */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _MaskedInput__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MaskedInput */ "./node_modules/grommet/es6/components/MaskedInput/MaskedInput.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MaskedInput", function() { return _MaskedInput__WEBPACK_IMPORTED_MODULE_0__["MaskedInput"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Menu/Menu.js":
/*!**********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Menu/Menu.js ***!
  \**********************************************************/
/*! exports provided: Menu */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Menu", function() { return MenuWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var react_desc_lib_PropTypes__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-desc/lib/PropTypes */ "./node_modules/react-desc/lib/PropTypes.js");
/* harmony import */ var react_desc_lib_PropTypes__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_desc_lib_PropTypes__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Button */ "./node_modules/grommet/es6/components/Button/index.js");
/* harmony import */ var _DropButton__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../DropButton */ "./node_modules/grommet/es6/components/DropButton/index.js");
/* harmony import */ var _Keyboard__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../Keyboard */ "./node_modules/grommet/es6/components/Keyboard/index.js");
/* harmony import */ var _Text__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../Text */ "./node_modules/grommet/es6/components/Text/index.js");
/* harmony import */ var _hocs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../hocs */ "./node_modules/grommet/es6/components/hocs.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }













var ContainerBox = Object(styled_components__WEBPACK_IMPORTED_MODULE_2__["default"])(_Box__WEBPACK_IMPORTED_MODULE_5__["Box"]).withConfig({
  displayName: "Menu__ContainerBox",
  componentId: "sc-17fcys9-0"
})(["max-height:inherit;@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){width:100%;}", ";"], function (props) {
  return props.theme.menu.extend;
});
/* Notes on keyboard interactivity (based on W3) // For details reference: https://www.w3.org/TR/wai-aria-practices/#menu

To open menu when menu button is focused:
- Space/Enter/Up arrow/Down arrow will open menu

To navigate within menu:
- Up/down arrow keys can be used and will loop through options
(keeping focus within the Menu)
- Tab can be used, but once the last menu item is reached, Tab will close the 
Menu and continue through page content.

To close the menu:
- Tabbing beyond the first or last menu item.
- Esc will close the menu
- Select a menu item

To make a selection:
- Enter key is pressed.
- Space is pressed.
*/

var Menu = function Menu(props) {
  var a11yTitle = props.a11yTitle,
      children = props.children,
      disabled = props.disabled,
      dropAlign = props.dropAlign,
      dropBackground = props.dropBackground,
      dropProps = props.dropProps,
      dropTarget = props.dropTarget,
      forwardRef = props.forwardRef,
      justifyContent = props.justifyContent,
      icon = props.icon,
      items = props.items,
      label = props.label,
      messages = props.messages,
      onKeyDown = props.onKeyDown,
      open = props.open,
      plain = props.plain,
      size = props.size,
      theme = props.theme,
      rest = _objectWithoutPropertiesLoose(props, ["a11yTitle", "children", "disabled", "dropAlign", "dropBackground", "dropProps", "dropTarget", "forwardRef", "justifyContent", "icon", "items", "label", "messages", "onKeyDown", "open", "plain", "size", "theme"]);

  var MenuIcon = theme.menu.icons.down;
  var iconColor = Object(_utils__WEBPACK_IMPORTED_MODULE_11__["normalizeColor"])('control', theme);
  var align = dropProps.align || dropAlign;
  var controlButtonIndex;

  if (align.top === 'top') {
    controlButtonIndex = -1;
  } else if (align.bottom === 'bottom') {
    controlButtonIndex = items.length;
  } else {
    controlButtonIndex = undefined;
  }

  var buttonRefs = {};
  var constants = {
    none: 'none',
    tab: 9,
    // Menu control button included on top of menu items
    controlTop: align.top === 'top' || undefined,
    // Menu control button included on the bottom of menu items
    controlBottom: align.bottom === 'bottom' || undefined,
    controlButtonIndex: controlButtonIndex
  };

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(constants.none),
      activeItemIndex = _useState[0],
      setActiveItemIndex = _useState[1];

  var _useState2 = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(open || false),
      isOpen = _useState2[0],
      setOpen = _useState2[1];

  var onDropClose = function onDropClose() {
    setActiveItemIndex(constants.none);
    setOpen(false);
  };

  var onDropOpen = function onDropOpen() {
    setOpen(true);
  };

  var onSelectMenuItem = function onSelectMenuItem(event) {
    if (isOpen) {
      if (activeItemIndex >= 0) {
        event.preventDefault();
        event.stopPropagation();
        buttonRefs[activeItemIndex].click();
      }
    } else {
      onDropOpen();
    }
  };

  var isTab = function isTab(event) {
    return event.keyCode === constants.tab || event.which === constants.tab;
  };

  var onNextMenuItem = function onNextMenuItem(event) {
    event.preventDefault();

    if (!isOpen) {
      onDropOpen();
    } else if (isTab(event) && (!constants.controlBottom && activeItemIndex === items.length - 1 || constants.controlBottom && activeItemIndex === controlButtonIndex)) {
      // User has reached end of the menu, this tab will close
      // the menu drop because there are no more "next items" to access
      onDropClose();
    } else {
      var index;

      if ( // This checks if the user has reached the end of the menu.
      // In the case the the menu control button is located at the
      // bottom of the menu, it checks if the user has reached the button.
      // Otherwise, it checks if the user is at the last menu item.
      constants.controlBottom && activeItemIndex === controlButtonIndex || !constants.controlBottom && activeItemIndex === items.length - 1 || activeItemIndex === constants.none) {
        // place focus on the first menu item
        index = 0;
      } else {
        index = activeItemIndex + 1;
      }

      setActiveItemIndex(index);
      buttonRefs[index].focus();
    }
  };

  var onPreviousMenuItem = function onPreviousMenuItem(event) {
    event.preventDefault();

    if (!isOpen) {
      onDropOpen();
    } else if (isTab(event) && (constants.controlTop && activeItemIndex === controlButtonIndex || !constants.controlTop && activeItemIndex - 1 < 0)) {
      // User has reached beginning of the menu, this tab will close
      // the menu drop because there are no more "previous items" to access
      onDropClose();
    } else {
      var index;

      if (activeItemIndex - 1 < 0) {
        if (constants.controlTop && activeItemIndex - 1 === controlButtonIndex) {
          index = items.length;
        } else {
          index = items.length - 1;
        }
      } else {
        index = activeItemIndex - 1;
      }

      setActiveItemIndex(index);
      buttonRefs[index].focus();
    }
  };

  var content = children || react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_5__["Box"], {
    direction: "row",
    justify: justifyContent,
    align: "center",
    pad: "small",
    gap: label && icon !== false ? 'small' : undefined
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Text__WEBPACK_IMPORTED_MODULE_9__["Text"], {
    size: size
  }, label), icon !== false ? icon !== true && icon || react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(MenuIcon, {
    color: iconColor,
    size: size
  }) : null);
  var controlMirror = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_5__["Box"], {
    flex: false
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_6__["Button"], {
    ref: function ref(r) {
      // make it accessible at the end of all menu items
      buttonRefs[items.length] = r;
    },
    a11yTitle: a11yTitle || messages.closeMenu || 'Close Menu',
    active: activeItemIndex === controlButtonIndex,
    focusIndicator: false,
    hoverIndicator: "background",
    plain: plain,
    onClick: onDropClose,
    onFocus: function onFocus() {
      return setActiveItemIndex(controlButtonIndex);
    } // On first tab into menu, the control button should not
    // be able to receive tab focus because the focus should
    // go to the first menu item instead.
    ,
    tabIndex: activeItemIndex === constants.none ? '-1' : undefined
  }, typeof content === 'function' ? function () {
    return content(_extends({}, props, {
      drop: true
    }));
  } : content));
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Keyboard__WEBPACK_IMPORTED_MODULE_8__["Keyboard"], {
    onDown: onNextMenuItem,
    onUp: onPreviousMenuItem,
    onEnter: onSelectMenuItem,
    onSpace: onSelectMenuItem,
    onEsc: onDropClose,
    onTab: onDropClose,
    onKeyDown: onKeyDown
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_DropButton__WEBPACK_IMPORTED_MODULE_7__["DropButton"], _extends({
    ref: forwardRef
  }, rest, {
    a11yTitle: a11yTitle || messages.openMenu || 'Open Menu',
    disabled: disabled,
    dropAlign: align,
    dropTarget: dropTarget,
    plain: plain,
    open: isOpen,
    onOpen: onDropOpen,
    onClose: onDropClose,
    dropContent: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Keyboard__WEBPACK_IMPORTED_MODULE_8__["Keyboard"], {
      onTab: function onTab(event) {
        return event.shiftKey ? onPreviousMenuItem(event) : onNextMenuItem(event);
      },
      onEnter: onSelectMenuItem
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ContainerBox, {
      background: dropBackground || theme.menu.background
    }, align.top === 'top' ? controlMirror : undefined, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_5__["Box"], {
      overflow: "auto"
    }, items.map(function (item, index) {
      return (// eslint-disable-next-line react/no-array-index-key
        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_5__["Box"], {
          key: index,
          flex: false
        }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_6__["Button"], _extends({
          ref: function ref(r) {
            buttonRefs[index] = r;
          },
          onFocus: function onFocus() {
            return setActiveItemIndex(index);
          },
          active: activeItemIndex === index,
          hoverIndicator: "background",
          focusIndicator: false
        }, _extends({}, item, {
          icon: undefined,
          label: undefined
        }), {
          onClick: function onClick() {
            if (item.onClick) {
              item.onClick.apply(item, arguments);
            }

            if (item.close !== false) {
              onDropClose();
            }
          }
        }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_5__["Box"], {
          align: "start",
          pad: "small",
          direction: "row",
          gap: item.gap
        }, item.reverse && item.label, item.icon, !item.reverse && item.label)))
      );
    })), align.bottom === 'bottom' ? controlMirror : undefined))
  }), content));
};

Menu.propTypes = {
  dropAlign: react_desc_lib_PropTypes__WEBPACK_IMPORTED_MODULE_3___default.a.shape({
    top: react_desc_lib_PropTypes__WEBPACK_IMPORTED_MODULE_3___default.a.string,
    left: react_desc_lib_PropTypes__WEBPACK_IMPORTED_MODULE_3___default.a.string
  }),
  dropProps: react_desc_lib_PropTypes__WEBPACK_IMPORTED_MODULE_3___default.a.shape({}),
  items: react_desc_lib_PropTypes__WEBPACK_IMPORTED_MODULE_3___default.a.arrayOf({}),
  messages: react_desc_lib_PropTypes__WEBPACK_IMPORTED_MODULE_3___default.a.shape({
    openMenu: react_desc_lib_PropTypes__WEBPACK_IMPORTED_MODULE_3___default.a.string,
    closeMenu: react_desc_lib_PropTypes__WEBPACK_IMPORTED_MODULE_3___default.a.string
  }),
  justifyContent: react_desc_lib_PropTypes__WEBPACK_IMPORTED_MODULE_3___default.a.string
};
Menu.defaultProps = {
  dropAlign: {
    top: 'top',
    left: 'left'
  },
  dropProps: {},
  items: [],
  messages: {
    openMenu: 'Open Menu',
    closeMenu: 'Close Menu'
  },
  justifyContent: 'start'
};
Menu.displayName = 'Menu';
Object.setPrototypeOf(Menu.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_4__["defaultProps"]);
var MenuDoc;

if (true) {
  MenuDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Menu/doc.js").doc(Menu); // eslint-disable-line global-require
}

var MenuWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(styled_components__WEBPACK_IMPORTED_MODULE_2__["withTheme"], _hocs__WEBPACK_IMPORTED_MODULE_10__["withForwardRef"])(MenuDoc || Menu);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Menu/doc.js":
/*!*********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Menu/doc.js ***!
  \*********************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var VERTICAL_ALIGN_OPTIONS = ['top', 'bottom'];
var HORIZONTAL_ALIGN_OPTIONS = ['right', 'left'];
var doc = function doc(Menu) {
  var DocumentedMenu = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Menu).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('Menu')).description("A control that opens a Drop containing plain Buttons.").details("The labels and behavior of the contained Buttons are described\n      via the `items` property.\n      You can provide a single function child that will be called with\n      'hover', 'focus', and 'drop' keys. This allows you to customize\n      the rendering of the Menu button in those cases.").usage("import { Menu } from 'grommet';\n<Menu />").intrinsicElement('button');
  DocumentedMenu.propTypes = _extends({}, _utils__WEBPACK_IMPORTED_MODULE_1__["genericProps"], {
    disabled: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Whether the menu should be disabled.').defaultValue(false),
    dropAlign: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      top: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(VERTICAL_ALIGN_OPTIONS),
      bottom: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(VERTICAL_ALIGN_OPTIONS),
      left: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(HORIZONTAL_ALIGN_OPTIONS),
      right: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(HORIZONTAL_ALIGN_OPTIONS)
    }).description("Where to place the drop down.\nThe keys correspond to a side of the drop down.\nThe values correspond to a side of the control. For instance,\n{left: 'left', top: 'bottom'} would align the left edges and the top of\nthe drop down to the bottom of the control. At most one of left or right and\none of top or bottom should be specified.").defaultValue({
      top: 'top',
      left: 'left'
    }),
    dropBackground: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      color: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
      opacity: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['weak', 'medium', 'strong'])])
    })]).description('Background color when drop is active'),
    dropTarget: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object.description("Target where the drop will be aligned to. This should be\n      a React reference. Typically, this is not required as the drop will be\n      aligned to the Menu itself by default."),
    dropProps: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object.description('Any valid Drop prop.'),
    justifyContent: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['start', 'center', 'end', 'between', 'around', 'stretch']).description('How to align the contents along the row axis.').defaultValue('start'),
    icon: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].node]).description('Indicates the icon shown as a control to open it.'),
    items: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object).description("Menu items to be placed inside the drop down.\nThe object values can be any Button prop, for example: label and onClick.").isRequired,
    label: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].node]).description('Indicates the label shown as a control to open it.'),
    messages: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      closeMenu: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
      openMenu: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string
    }).description("Custom messages. Used for accessibility by screen readers. \n      These values will be overridden if an a11yTitle is provided.").defaultValue({
      openMenu: 'Open Menu',
      closeMenu: 'Close Menu'
    }),
    open: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Whether the state of the component should be open').defaultValue(false),
    size: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['small', 'medium', 'large', 'xlarge']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description('The size of the menu.').defaultValue('medium')
  });
  return DocumentedMenu;
};
var themeDoc = {
  'global.colors.control': {
    description: 'The color to use for the icon.',
    type: 'string | { dark: string, light: string }',
    defaultValue: undefined
  },
  'menu.background': {
    description: 'The color for the background of the menu Drop when it is open.',
    type: 'string',
    defaultValue: undefined
  },
  'menu.extend': {
    description: 'Any additional style for the Menu.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'menu.icons.down': {
    description: 'The icon to show to the right of the label.',
    type: 'React.Element',
    defaultValue: '<FormDown />'
  }
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/Menu/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Menu/index.js ***!
  \***********************************************************/
/*! exports provided: Menu */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Menu__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Menu */ "./node_modules/grommet/es6/components/Menu/Menu.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Menu", function() { return _Menu__WEBPACK_IMPORTED_MODULE_0__["Menu"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Meter/Bar.js":
/*!**********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Meter/Bar.js ***!
  \**********************************************************/
/*! exports provided: Bar */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Bar", function() { return BarWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _StyledMeter__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./StyledMeter */ "./node_modules/grommet/es6/components/Meter/StyledMeter.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./utils */ "./node_modules/grommet/es6/components/Meter/utils.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }









var Bar = function Bar(props) {
  var background = props.background,
      max = props.max,
      round = props.round,
      size = props.size,
      theme = props.theme,
      thickness = props.thickness,
      values = props.values,
      rest = _objectWithoutPropertiesLoose(props, ["background", "max", "round", "size", "theme", "thickness", "values"]);

  var width = size === 'full' ? 288 : Object(_utils__WEBPACK_IMPORTED_MODULE_4__["parseMetricToNum"])(theme.global.size[size] || size);
  var height = Object(_utils__WEBPACK_IMPORTED_MODULE_4__["parseMetricToNum"])(theme.global.edgeSize[thickness] || thickness); // account for the round cap, if any

  var capOffset = round ? height / 2 : 0;
  var mid = height / 2;
  var someHighlight = (values || []).some(function (v) {
    return v.highlight;
  });
  var start = capOffset;
  var paths = (values || []).filter(function (v) {
    return v.value > 0;
  }).map(function (valueArg, index) {
    var color = valueArg.color,
        highlight = valueArg.highlight,
        label = valueArg.label,
        onHover = valueArg.onHover,
        value = valueArg.value,
        pathRest = _objectWithoutPropertiesLoose(valueArg, ["color", "highlight", "label", "onHover", "value"]);

    var key = "p-" + index;
    var delta = value * (width - 2 * capOffset) / max;
    var d = "M " + start + "," + mid + " L " + (start + delta) + "," + mid;
    var colorName = color || Object(_utils__WEBPACK_IMPORTED_MODULE_6__["defaultColor"])(index, theme, values ? values.length : 0);
    var hoverProps;

    if (onHover) {
      hoverProps = {
        onMouseOver: function onMouseOver() {
          return onHover(true);
        },
        onMouseLeave: function onMouseLeave() {
          return onHover(false);
        }
      };
    }

    start += delta;
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path", _extends({
      key: key,
      d: d,
      fill: "none"
    }, Object(_utils__WEBPACK_IMPORTED_MODULE_6__["strokeProps"])(someHighlight && !highlight ? background : colorName, theme), {
      strokeWidth: height,
      strokeLinecap: round ? 'round' : 'butt'
    }, hoverProps, pathRest));
  }).reverse(); // reverse so the caps looks right

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledMeter__WEBPACK_IMPORTED_MODULE_5__["StyledMeter"], _extends({
    viewBox: "0 0 " + width + " " + height,
    preserveAspectRatio: "none",
    width: size === 'full' ? '100%' : width,
    height: height,
    round: round ? {
      size: thickness
    } : undefined
  }, rest), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path", _extends({
    d: "M " + capOffset + "," + mid + " L " + (width - capOffset) + "," + mid,
    fill: "none"
  }, Object(_utils__WEBPACK_IMPORTED_MODULE_6__["strokeProps"])(background, theme), {
    strokeWidth: height,
    strokeLinecap: round ? 'round' : 'square'
  })), paths);
};

Bar.defaultProps = {
  background: 'light-1'
};
Object.setPrototypeOf(Bar.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_3__["defaultProps"]);
var BarWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(styled_components__WEBPACK_IMPORTED_MODULE_2__["withTheme"])(Bar);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Meter/Circle.js":
/*!*************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Meter/Circle.js ***!
  \*************************************************************/
/*! exports provided: Circle */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Circle", function() { return CircleWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _StyledMeter__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./StyledMeter */ "./node_modules/grommet/es6/components/Meter/StyledMeter.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./utils */ "./node_modules/grommet/es6/components/Meter/utils.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }









var Circle = function Circle(props) {
  var background = props.background,
      max = props.max,
      round = props.round,
      size = props.size,
      theme = props.theme,
      thickness = props.thickness,
      values = props.values,
      rest = _objectWithoutPropertiesLoose(props, ["background", "max", "round", "size", "theme", "thickness", "values"]);

  var width = size === 'full' ? 288 : Object(_utils__WEBPACK_IMPORTED_MODULE_4__["parseMetricToNum"])(theme.global.size[size] || size);
  var height = Object(_utils__WEBPACK_IMPORTED_MODULE_4__["parseMetricToNum"])(theme.global.edgeSize[thickness] || thickness);
  var mid = width / 2;
  var radius = width / 2 - height / 2;
  var anglePer = 360 / max;
  var someHighlight = (values || []).some(function (v) {
    return v.highlight;
  });
  var startValue = 0;
  var startAngle = 0;
  var paths = [];
  var pathCaps = [];
  (values || []).filter(function (v) {
    return v.value > 0;
  }).forEach(function (valueArg, index) {
    var color = valueArg.color,
        highlight = valueArg.highlight,
        label = valueArg.label,
        onHover = valueArg.onHover,
        value = valueArg.value,
        pathRest = _objectWithoutPropertiesLoose(valueArg, ["color", "highlight", "label", "onHover", "value"]);

    var key = "p-" + index;
    var colorName = color || Object(_utils__WEBPACK_IMPORTED_MODULE_6__["defaultColor"])(index, theme, values ? values.length : 0);
    var endAngle;

    if (startValue + value >= max) {
      endAngle = 360;
    } else {
      endAngle = Math.min(360, Object(_utils__WEBPACK_IMPORTED_MODULE_4__["translateEndAngle"])(startAngle, anglePer, value));
    }

    var hoverProps;

    if (onHover) {
      hoverProps = {
        onMouseOver: function onMouseOver() {
          return onHover(true);
        },
        onMouseLeave: function onMouseLeave() {
          return onHover(false);
        }
      };
    }

    var stroke = Object(_utils__WEBPACK_IMPORTED_MODULE_6__["strokeProps"])(someHighlight && !highlight ? background : colorName, theme);

    if (round) {
      var d1 = Object(_utils__WEBPACK_IMPORTED_MODULE_4__["arcCommands"])(width / 2, width / 2, radius, startAngle, endAngle);
      paths.unshift(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path", _extends({
        key: key,
        d: d1,
        fill: "none"
      }, stroke, {
        strokeWidth: height,
        strokeLinecap: "round"
      }, hoverProps, pathRest))); // To handle situations where the last values are small, redraw
      // a dot at the end. Give just a bit of angle to avoid anti-aliasing
      // leakage around the edge.

      var d2 = Object(_utils__WEBPACK_IMPORTED_MODULE_4__["arcCommands"])(width / 2, width / 2, radius, endAngle - 0.5, endAngle);
      var pathCap = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path", _extends({
        key: key + "-",
        d: d2,
        fill: "none"
      }, stroke, {
        strokeWidth: height,
        strokeLinecap: "round"
      }, hoverProps, pathRest)); // If we are on a large enough path to not need re-drawing previous
      // ones, clear the pathCaps we've collected already.

      if (endAngle - startAngle > 2 * anglePer) {
        pathCaps = [];
      }

      pathCaps.unshift(pathCap);
    } else {
      var d = Object(_utils__WEBPACK_IMPORTED_MODULE_4__["arcCommands"])(width / 2, width / 2, radius, startAngle, endAngle);
      paths.push(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path", _extends({
        key: key,
        d: d,
        fill: "none"
      }, stroke, {
        strokeWidth: height,
        strokeLinecap: "butt"
      }, hoverProps, pathRest)));
    }

    startValue += value;
    startAngle = endAngle;
  });
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledMeter__WEBPACK_IMPORTED_MODULE_5__["StyledMeter"], _extends({
    viewBox: "0 0 " + width + " " + width,
    width: size === 'full' ? '100%' : width,
    height: size === 'full' ? '100%' : width
  }, rest), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("circle", _extends({
    cx: mid,
    cy: mid,
    r: radius
  }, Object(_utils__WEBPACK_IMPORTED_MODULE_6__["strokeProps"])(background, theme), {
    strokeWidth: height,
    strokeLinecap: round ? 'round' : 'square',
    fill: "none"
  })), paths, pathCaps);
};

Circle.defaultProps = {};
Object.setPrototypeOf(Circle.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_3__["defaultProps"]);
var CircleWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(styled_components__WEBPACK_IMPORTED_MODULE_2__["withTheme"])(Circle);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Meter/Meter.js":
/*!************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Meter/Meter.js ***!
  \************************************************************/
/*! exports provided: Meter */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Meter", function() { return MeterWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Bar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Bar */ "./node_modules/grommet/es6/components/Meter/Bar.js");
/* harmony import */ var _Circle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Circle */ "./node_modules/grommet/es6/components/Meter/Circle.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }





var deriveMax = function deriveMax(values) {
  var max = 100;

  if (values && values.length > 1) {
    max = 0;
    values.forEach(function (v) {
      max += v.value;
    });
  }

  return max;
};

var Meter = function Meter(_ref) {
  var _ref$background = _ref.background,
      background = _ref$background === void 0 ? {
    color: 'light-2',
    opacity: 'medium'
  } : _ref$background,
      _ref$size = _ref.size,
      size = _ref$size === void 0 ? 'medium' : _ref$size,
      _ref$thickness = _ref.thickness,
      thickness = _ref$thickness === void 0 ? 'medium' : _ref$thickness,
      _ref$type = _ref.type,
      type = _ref$type === void 0 ? 'bar' : _ref$type,
      values = _ref.values,
      rest = _objectWithoutPropertiesLoose(_ref, ["background", "size", "thickness", "type", "values"]);

  var memoizedMax = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
    return deriveMax(values);
  }, [values]);
  var content;

  if (type === 'bar') {
    content = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Bar__WEBPACK_IMPORTED_MODULE_1__["Bar"], _extends({
      max: memoizedMax,
      values: values,
      size: size,
      thickness: thickness,
      background: background
    }, rest));
  } else if (type === 'circle') {
    content = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Circle__WEBPACK_IMPORTED_MODULE_2__["Circle"], _extends({
      max: memoizedMax,
      values: values,
      size: size,
      thickness: thickness,
      background: background
    }, rest));
  }

  return content;
};

var MeterDoc;

if (true) {
  MeterDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Meter/doc.js").doc(Meter); // eslint-disable-line global-require
}

var MeterWrapper = MeterDoc || Meter;


/***/ }),

/***/ "./node_modules/grommet/es6/components/Meter/StyledMeter.js":
/*!******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Meter/StyledMeter.js ***!
  \******************************************************************/
/*! exports provided: StyledMeter */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledMeter", function() { return StyledMeter; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");



var roundStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["border-radius:", ";"], function (props) {
  return props.theme.global.edgeSize[props.round.size];
}); // overflow: hidden is needed for ie11

var StyledMeter = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].svg.withConfig({
  displayName: "StyledMeter",
  componentId: "nsxarx-0"
})(["max-width:100%;overflow:hidden;", " ", " path{transition:stroke 0.3s,stroke-width 0.3s;}", ";"], _utils__WEBPACK_IMPORTED_MODULE_1__["genericStyles"], function (props) {
  return props.round && roundStyle;
}, function (props) {
  return props.theme.meter && props.theme.meter.extend;
});
StyledMeter.defaultProps = {};
Object.setPrototypeOf(StyledMeter.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Meter/doc.js":
/*!**********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Meter/doc.js ***!
  \**********************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var doc = function doc(Meter) {
  var DocumentedMeter = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Meter).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('Meter')).description('A graphical meter.').usage("import { Meter } from 'grommet';\n<Meter />"); // We don't include svg due to a collision on the values property
  // .intrinsicElement('svg');

  DocumentedMeter.propTypes = _extends({}, _utils__WEBPACK_IMPORTED_MODULE_1__["genericProps"], {
    background: _utils__WEBPACK_IMPORTED_MODULE_1__["backgroundPropType"].defaultValue({
      color: 'light-2',
      opacity: 'medium'
    }),
    max: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description('The maximum value for the Meter.'),
    round: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Whether to round the line ends').defaultValue(false),
    size: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['xsmall', 'small', 'medium', 'large', 'xlarge', 'full']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description('The size of the Meter.').defaultValue('medium'),
    thickness: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['xsmall', 'small', 'medium', 'large', 'xlarge']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description('The size of the Meter.').defaultValue('medium'),
    type: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['bar', 'circle']).description('The visual type of meter.').defaultValue('bar'),
    values: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      color: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
      highlight: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool,
      label: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.isRequired,
      // for accessibility
      onClick: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func,
      onHover: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func,
      value: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number.isRequired
    })).description("Array of value objects describing the data.\n      'value' is the actual numeric value.\n      'label' is a text string describing it.\n      'color' indicates the color name to use. If not specified a default one\n      will be chosen.\n      'onClick' will be called when the user clicks on it.\n      Set 'highlight' to call attention to it.\n      'onHover' will be called with a boolean argument indicating when the\n      user hovers onto or away from it.")
  });
  return DocumentedMeter;
};
var themeDoc = {
  'global.colors': {
    description: 'Color options.',
    type: 'object',
    defaultValue: "{\n      \"accent-1\": \"#6FFFB0\",\n      \"graph-0\": \"accent-1\",\n      ...\n    }"
  },
  'global.edgeSize': {
    description: "The border-radius of the styled Meter. thickness, height and \n    width of the Bar Meter, height of the Circle Meter.",
    type: 'object',
    defaultValue: "{\n        none: '0px',\n        hair: '1px',\n        xxsmall: '3px',\n        xsmall: '6px',\n        small: '12px',\n        medium: '24px',\n        large: '48px',\n        xlarge: '96px',\n        responsiveBreakpoint: 'small',\n    }"
  },
  'global.opacity.medium': {
    description: 'The opacity value used on the Meter color.',
    type: 'number',
    defaultValue: '0.4'
  },
  'global.size': {
    description: 'The possible sizes for Circle Meter width.',
    type: 'object',
    defaultValue: "{\n      xxsmall: '48px',\n      xsmall: '96px',\n      small: '192px',\n      medium: '384px',\n      large: '768px',\n      xlarge: '1152px',\n      xxlarge: '1536px',\n      full: '100%',\n    }"
  },
  'meter.color': {
    description: 'The color used for the Meter.',
    type: 'string',
    defaultValue: 'accent-1'
  },
  'meter.extend': {
    description: 'Any additional style for Meter.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  }
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/Meter/index.js":
/*!************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Meter/index.js ***!
  \************************************************************/
/*! exports provided: Meter */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Meter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Meter */ "./node_modules/grommet/es6/components/Meter/Meter.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Meter", function() { return _Meter__WEBPACK_IMPORTED_MODULE_0__["Meter"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Meter/utils.js":
/*!************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Meter/utils.js ***!
  \************************************************************/
/*! exports provided: strokeProps, defaultColor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "strokeProps", function() { return strokeProps; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "defaultColor", function() { return defaultColor; });
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");

var strokeProps = function strokeProps(color, theme) {
  var result = {};

  if (color) {
    if (typeof color === 'object') {
      result.stroke = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["normalizeColor"])(color.color, theme);

      if (color.opacity) {
        result.strokeOpacity = "" + (color.opacity === true ? theme.global.opacity.medium : theme.global.opacity[color.opacity]);
      }
    } else {
      result.stroke = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["normalizeColor"])(color, theme);
    }
  }

  return result;
};
var neutralExp = /^neutral-\d+/;
var defaultColor = function defaultColor(index, theme, valuesLength) {
  if (index === valuesLength - 1 && theme.meter.color) {
    return theme.meter.color;
  }

  if (theme.meter && theme.meter.colors) {
    var _colors = theme.meter.colors[theme.dark ? 'dark' : 'light'] || theme.meter.colors;

    return _colors[index % _colors.length];
  }

  var colors = Object.keys(theme.global.colors).filter(function (n) {
    return n.match(/^graph-[0-9]$/);
  });

  if (colors.length > 0) {
    return colors[index % colors.length];
  } // Deprecate using "neutral-*" color names. Remove eventually.


  var neutralColors = Object.keys(theme.global.colors).filter(function (k) {
    return neutralExp.test(k);
  });
  return neutralColors[index % neutralColors.length];
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/Paragraph/Paragraph.js":
/*!********************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Paragraph/Paragraph.js ***!
  \********************************************************************/
/*! exports provided: Paragraph */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Paragraph", function() { return ParagraphWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _StyledParagraph__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./StyledParagraph */ "./node_modules/grommet/es6/components/Paragraph/StyledParagraph.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }




var Paragraph = function Paragraph(_ref) {
  var color = _ref.color,
      fill = _ref.fill,
      rest = _objectWithoutPropertiesLoose(_ref, ["color", "fill"]);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledParagraph__WEBPACK_IMPORTED_MODULE_1__["StyledParagraph"], _extends({
    colorProp: color,
    fillProp: fill
  }, rest));
};

var ParagraphDoc;

if (true) {
  // eslint-disable-next-line global-require
  ParagraphDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Paragraph/doc.js").doc(Paragraph);
}

var ParagraphWrapper = ParagraphDoc || Paragraph;


/***/ }),

/***/ "./node_modules/grommet/es6/components/Paragraph/StyledParagraph.js":
/*!**************************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Paragraph/StyledParagraph.js ***!
  \**************************************************************************/
/*! exports provided: StyledParagraph */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledParagraph", function() { return StyledParagraph; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");



var colorStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["color:", ";"], function (props) {
  return Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.colorProp, props.theme);
});

var sizeStyle = function sizeStyle(props) {
  var size = props.size || 'medium';
  var data = props.theme.paragraph[size];
  return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["font-size:", ";line-height:", ";max-width:", ";"], data.size, data.height, props.fillProp ? 'none' : data.maxWidth);
};

var TEXT_ALIGN_MAP = {
  center: 'center',
  end: 'right',
  start: 'left'
};
var textAlignStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["text-align:", ";"], function (props) {
  return TEXT_ALIGN_MAP[props.textAlign];
});
var StyledParagraph = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].p.withConfig({
  displayName: "StyledParagraph",
  componentId: "tbetod-0"
})(["", " ", " ", " ", " ", ""], _utils__WEBPACK_IMPORTED_MODULE_1__["genericStyles"], function (props) {
  return sizeStyle(props);
}, function (props) {
  return props.textAlign && textAlignStyle;
}, function (props) {
  return props.colorProp && colorStyle;
}, function (props) {
  return props.theme.paragraph && props.theme.paragraph.extend;
});
StyledParagraph.defaultProps = {};
Object.setPrototypeOf(StyledParagraph.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Paragraph/doc.js":
/*!**************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Paragraph/doc.js ***!
  \**************************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var doc = function doc(Paragraph) {
  var DocumentedParagraph = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Paragraph).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('Paragraph')).description('A paragraph of text.').usage("import { Paragraph } from 'grommet';\n<Paragraph />").intrinsicElement('p');
  DocumentedParagraph.propTypes = _extends({}, _utils__WEBPACK_IMPORTED_MODULE_1__["genericProps"], {
    color: _utils__WEBPACK_IMPORTED_MODULE_1__["colorPropType"].description('A color identifier to use for the text color.'),
    fill: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Whether the width should fill the container.').defaultValue(false),
    responsive: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Whether margin should be scaled for mobile environments.").defaultValue(true),
    size: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['small', 'medium', 'large', 'xlarge', 'xxlarge']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description('The size of the Paragraph text.').defaultValue('medium'),
    textAlign: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['start', 'center', 'end']).description('How to align the text inside the paragraph.').defaultValue('start')
  });
  return DocumentedParagraph;
};
var themeDoc = _extends({
  paragraph: {
    description: "The possible sizes of the paragraph in terms of its max-width,\n     font-size and line-height.",
    type: 'object',
    defaultValue: "{\n      small: {\n        size: '14px',\n        height: '20px',\n        maxWidth: '336px',\n       },\n      medium: {\n        size: '18px',\n        height: '24px',\n        maxWidth: '432px',\n      },\n      large: {\n        size: '22px',\n        height: '28px',\n        maxWidth: '528px',\n      },\n      xlarge: {\n        size: '26px',\n        height: '32px',\n        maxWidth: '624px',\n      },\n      xxlarge: {\n        size: '34px',\n        height: '40px',\n        maxWidth: '816px',\n      },\n    }"
  },
  'paragraph.textAlign': {
    description: "How to align the text inside the Paragraph.",
    type: 'string',
    defaultValue: 'start'
  },
  'paragraph.extend': {
    description: 'Any additional style for the Paragraph.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  }
}, _utils__WEBPACK_IMPORTED_MODULE_1__["themeDocUtils"].edgeStyle('The possible sizes for margin.'));

/***/ }),

/***/ "./node_modules/grommet/es6/components/Paragraph/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Paragraph/index.js ***!
  \****************************************************************/
/*! exports provided: Paragraph */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Paragraph__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Paragraph */ "./node_modules/grommet/es6/components/Paragraph/Paragraph.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Paragraph", function() { return _Paragraph__WEBPACK_IMPORTED_MODULE_0__["Paragraph"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/RadioButton/RadioButton.js":
/*!************************************************************************!*\
  !*** ./node_modules/grommet/es6/components/RadioButton/RadioButton.js ***!
  \************************************************************************/
/*! exports provided: RadioButton */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RadioButton", function() { return RadioButtonWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
/* harmony import */ var _hocs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../hocs */ "./node_modules/grommet/es6/components/hocs.js");
/* harmony import */ var _StyledRadioButton__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./StyledRadioButton */ "./node_modules/grommet/es6/components/RadioButton/StyledRadioButton.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }










var RadioButton = function RadioButton(_ref) {
  var checked = _ref.checked,
      children = _ref.children,
      disabled = _ref.disabled,
      focus = _ref.focus,
      forwardRef = _ref.forwardRef,
      id = _ref.id,
      label = _ref.label,
      name = _ref.name,
      onChange = _ref.onChange,
      theme = _ref.theme,
      rest = _objectWithoutPropertiesLoose(_ref, ["checked", "children", "disabled", "focus", "forwardRef", "id", "label", "name", "onChange", "theme"]);

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(),
      hover = _useState[0],
      setHover = _useState[1];

  var normalizedLabel = typeof label === 'string' ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, label) : label;
  var Icon = theme.radioButton.icons.circle;
  var borderColor = Object(_utils__WEBPACK_IMPORTED_MODULE_4__["normalizeColor"])(theme.radioButton.border.color, theme);

  if (checked) {
    borderColor = Object(_utils__WEBPACK_IMPORTED_MODULE_4__["normalizeColor"])(theme.radioButton.color || 'control', theme);
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledRadioButton__WEBPACK_IMPORTED_MODULE_7__["StyledRadioButtonContainer"], _extends({}, Object(_utils__WEBPACK_IMPORTED_MODULE_4__["removeUndefined"])({
    htmlFor: id,
    disabled: disabled
  }), {
    onClick: function onClick(event) {
      // prevents clicking on the label trigging the event twice
      // https://stackoverflow.com/questions/24501497/why-the-onclick-element-will-trigger-twice-for-label-element
      if (event.target.type !== 'radio') {
        event.stopPropagation();
      }
    },
    onMouseEnter: function onMouseEnter() {
      return setHover(true);
    },
    onMouseLeave: function onMouseLeave() {
      return setHover(false);
    }
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledRadioButton__WEBPACK_IMPORTED_MODULE_7__["StyledRadioButton"], {
    as: _Box__WEBPACK_IMPORTED_MODULE_5__["Box"],
    margin: label ? {
      right: theme.radioButton.gap || 'small'
    } : undefined
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledRadioButton__WEBPACK_IMPORTED_MODULE_7__["StyledRadioButtonInput"], _extends({}, rest, {
    ref: forwardRef,
    type: "radio"
  }, Object(_utils__WEBPACK_IMPORTED_MODULE_4__["removeUndefined"])({
    id: id,
    name: name,
    checked: checked,
    disabled: disabled,
    onChange: onChange
  }))), children ? children({
    checked: checked,
    hover: hover
  }) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledRadioButton__WEBPACK_IMPORTED_MODULE_7__["StyledRadioButtonBox"], {
    focus: focus,
    as: _Box__WEBPACK_IMPORTED_MODULE_5__["Box"],
    align: "center",
    justify: "center",
    width: theme.radioButton.size,
    height: theme.radioButton.size,
    border: {
      size: theme.radioButton.border.width,
      color: borderColor
    },
    round: theme.radioButton.check.radius
  }, checked && (Icon ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Icon, {
    as: _StyledRadioButton__WEBPACK_IMPORTED_MODULE_7__["StyledRadioButtonIcon"]
  }) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledRadioButton__WEBPACK_IMPORTED_MODULE_7__["StyledRadioButtonIcon"], {
    viewBox: "0 0 24 24",
    preserveAspectRatio: "xMidYMid meet"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("circle", {
    cx: 12,
    cy: 12,
    r: 6
  }))))), normalizedLabel);
};

RadioButton.defaultProps = {};
Object.setPrototypeOf(RadioButton.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_3__["defaultProps"]);
var RadioButtonDoc;

if (true) {
  // eslint-disable-next-line global-require
  RadioButtonDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/RadioButton/doc.js").doc(RadioButton);
}

var RadioButtonWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(styled_components__WEBPACK_IMPORTED_MODULE_2__["withTheme"], _hocs__WEBPACK_IMPORTED_MODULE_6__["withForwardRef"])(RadioButtonDoc || RadioButton);


/***/ }),

/***/ "./node_modules/grommet/es6/components/RadioButton/StyledRadioButton.js":
/*!******************************************************************************!*\
  !*** ./node_modules/grommet/es6/components/RadioButton/StyledRadioButton.js ***!
  \******************************************************************************/
/*! exports provided: StyledRadioButtonContainer, StyledRadioButtonInput, StyledRadioButtonIcon, StyledRadioButtonBox, StyledRadioButton */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledRadioButtonContainer", function() { return StyledRadioButtonContainer; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledRadioButtonInput", function() { return StyledRadioButtonInput; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledRadioButtonIcon", function() { return StyledRadioButtonIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledRadioButtonBox", function() { return StyledRadioButtonBox; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledRadioButton", function() { return StyledRadioButton; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");



var disabledStyle = "\n  opacity: 0.5;\n  cursor: default;\n";
var StyledRadioButtonContainer = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].label.withConfig({
  displayName: "StyledRadioButton__StyledRadioButtonContainer",
  componentId: "g1f6ld-0"
})(["display:flex;flex-direction:row;align-items:center;user-select:none;", " ", ":hover input:not([disabled]) + div,:hover input:not([disabled]) + span{border-color:", ";}", ";"], function (props) {
  return props.disabled && disabledStyle;
}, function (props) {
  return !props.disabled && 'cursor: pointer;';
}, function (props) {
  return Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.radioButton.hover.border.color, props.theme);
}, function (props) {
  return props.theme.radioButton.extend;
});
StyledRadioButtonContainer.defaultProps = {};
Object.setPrototypeOf(StyledRadioButtonContainer.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var StyledRadioButtonInput = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].input.withConfig({
  displayName: "StyledRadioButton__StyledRadioButtonInput",
  componentId: "g1f6ld-1"
})(["opacity:0;-moz-appearance:none;width:0;height:0;margin:0;", ";"], function (props) {
  return !props.disabled && 'cursor: pointer;';
});
StyledRadioButtonInput.defaultProps = {};
Object.setPrototypeOf(StyledRadioButtonInput.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var StyledRadioButtonIcon = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].svg.withConfig({
  displayName: "StyledRadioButton__StyledRadioButtonIcon",
  componentId: "g1f6ld-2"
})(["box-sizing:border-box;width:", ";height:", ";fill:", ";", ";"], function (props) {
  return props.theme.radioButton.icon.size || props.theme.radioButton.size;
}, function (props) {
  return props.theme.radioButton.icon.size || props.theme.radioButton.size;
}, function (props) {
  return Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.radioButton.check.color || 'control', props.theme);
}, function (props) {
  return props.theme.radioButton.icon.extend;
});
StyledRadioButtonIcon.defaultProps = {};
Object.setPrototypeOf(StyledRadioButtonIcon.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var StyledRadioButtonBox = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledRadioButton__StyledRadioButtonBox",
  componentId: "g1f6ld-3"
})(["", ";", ";"], function (props) {
  return props.focus && _utils__WEBPACK_IMPORTED_MODULE_1__["focusStyle"];
}, function (props) {
  return props.theme.radioButton.check.extend;
});
StyledRadioButtonBox.defaultProps = {};
Object.setPrototypeOf(StyledRadioButtonBox.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var StyledRadioButton = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledRadioButton",
  componentId: "g1f6ld-4"
})(["", ";"], function (props) {
  return props.theme.radioButton && props.theme.radioButton.extend;
});
StyledRadioButton.defaultProps = {};
Object.setPrototypeOf(StyledRadioButton.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);


/***/ }),

/***/ "./node_modules/grommet/es6/components/RadioButton/doc.js":
/*!****************************************************************!*\
  !*** ./node_modules/grommet/es6/components/RadioButton/doc.js ***!
  \****************************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");


var doc = function doc(RadioButton) {
  var DocumentedRadioButton = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(RadioButton).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('RadioButton')).description('A radio button control.').details("RadioButton should typically not be used directly.\n      Instead, use RadioButtonGroup.").usage("import { RadioButton } from 'grommet';\n<RadioButton />").intrinsicElement('input');
  DocumentedRadioButton.propTypes = {
    checked: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Same as React <input checked={} />'),
    children: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Function that will be called to render the visual representation.\n      It will be passed an object indicating whether the button is checked. It\n      should return a react element.\n      For example:\n      `children={({ checked }) => <Box ...>{...}</Box>}`\n      "),
    disabled: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Same as React <input disabled={} />. Also adds a hidden input element\nwith the same name so form submissions work."),
    id: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description('The DOM id attribute value to use for the underlying <input/> element.'),
    label: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].node.description('Label text to place next to the control.'),
    name: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description("The DOM name attribute value to use for the underlying <input/>\n       element.").isRequired,
    onChange: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Function that will be called when the user clicks the radio button. It\n      will be passed a React event object. The current state can be accessed\n      via event.target.checked. Same as React <input onChange={} />.")
  };
  return DocumentedRadioButton;
};
var themeDoc = {
  'radioButton.border.color': {
    description: 'The color of the border of the Radio Button.',
    type: 'string | { dark: string, light: string }',
    defaultValue: "{dark: 'rgba(255, 255, 255, 0.5), light: 'rgba(0, 0, 0, 0.15)}"
  },
  'radioButton.border.width': {
    description: 'The width size of the border of the RadioButton.',
    type: 'string',
    defaultValue: '2px'
  },
  'radioButton.check.color': {
    description: 'The color of the checked icon in the RadioButton.',
    type: 'string | { dark: string, light: string }',
    defaultValue: 'undefined'
  },
  'radioButton.check.extend': {
    description: 'Any additional style for the checked RadioButton.',
    type: 'string | (props) => {}'
  },
  'radioButton.check.radius': {
    description: 'The border-radius of the RadioButton.',
    type: 'string',
    defaultValue: '100%'
  },
  'radioButton.extend': {
    description: 'Any additional style for the RadioButton.',
    type: 'string | (props) => {}'
  },
  'radioButton.gap': {
    description: 'The gap between the label and the RadioButton itself.',
    type: 'string',
    defaultValue: 'small'
  },
  'radioButton.size': {
    description: 'The size of the RadioButton.',
    type: 'string',
    defaultValue: '24px'
  },
  'radioButton.hover.border.color': {
    description: "The color of the RadioButton border when hovered over.",
    type: 'string | { dark: string, light: string }',
    defaultValue: '{dark: white, light: black}'
  },
  'radioButton.icon.extend': {
    description: 'Any additional style for the RadioButton icon.',
    type: 'string | (props) => {}'
  },
  'radioButton.icon.size': {
    description: 'The size of the icon in the RadioButton.',
    type: 'string'
  }
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/RadioButton/index.js":
/*!******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/RadioButton/index.js ***!
  \******************************************************************/
/*! exports provided: RadioButton */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _RadioButton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RadioButton */ "./node_modules/grommet/es6/components/RadioButton/RadioButton.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RadioButton", function() { return _RadioButton__WEBPACK_IMPORTED_MODULE_0__["RadioButton"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/RadioButtonGroup/RadioButtonGroup.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/grommet/es6/components/RadioButtonGroup/RadioButtonGroup.js ***!
  \**********************************************************************************/
/*! exports provided: RadioButtonGroup */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RadioButtonGroup", function() { return RadioButtonGroupWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
/* harmony import */ var _Keyboard__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Keyboard */ "./node_modules/grommet/es6/components/Keyboard/index.js");
/* harmony import */ var _RadioButton__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../RadioButton */ "./node_modules/grommet/es6/components/RadioButton/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }





var RadioButtonGroup = Object(react__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function (_ref, ref) {
  var children = _ref.children,
      _ref$gap = _ref.gap,
      gap = _ref$gap === void 0 ? 'small' : _ref$gap,
      name = _ref.name,
      onChange = _ref.onChange,
      optionsProp = _ref.options,
      valueProp = _ref.value,
      rest = _objectWithoutPropertiesLoose(_ref, ["children", "gap", "name", "onChange", "options", "value"]);

  // normalize options to always use an object
  var options = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
    return optionsProp.map(function (o) {
      return typeof o === 'string' ? {
        id: o,
        label: o,
        value: o
      } : o;
    });
  }, [optionsProp]);

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(valueProp),
      value = _useState[0],
      setValue = _useState[1];

  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    return setValue(valueProp);
  }, [valueProp]);

  var _useState2 = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(),
      focus = _useState2[0],
      setFocus = _useState2[1];

  var optionRefs = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])([]);
  var valueIndex = react__WEBPACK_IMPORTED_MODULE_0___default.a.useMemo(function () {
    var result;
    options.some(function (option, index) {
      if (option.value === value) {
        result = index;
        return true;
      }

      return false;
    });
    return result;
  }, [options, value]);
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    if (focus && valueIndex >= 0) optionRefs.current[valueIndex].focus();
  }, [focus, valueIndex]);

  var onNext = function onNext() {
    if (valueIndex !== undefined && valueIndex < options.length - 1) {
      var nextIndex = valueIndex + 1;
      var nextValue = options[nextIndex].value;
      setValue(nextValue);

      if (onChange) {
        onChange({
          target: {
            value: nextValue
          }
        });
      }
    }
  };

  var onPrevious = function onPrevious() {
    if (valueIndex > 0) {
      var nextIndex = valueIndex - 1;
      var nextValue = options[nextIndex].value;
      setValue(nextValue);

      if (onChange) {
        onChange({
          target: {
            value: nextValue
          }
        });
      }
    }
  };

  var onFocus = function onFocus() {
    // Delay just a wee bit so Chrome doesn't missing turning the button on.
    // Chrome behaves differently in that focus is given to radio buttons
    // when the user selects one, unlike Safari and Firefox.
    setTimeout(function () {
      return !focus && setFocus(true);
    }, 1);
  };

  var onBlur = function onBlur() {
    return focus && setFocus(false);
  };

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Keyboard__WEBPACK_IMPORTED_MODULE_2__["Keyboard"], {
    target: "document",
    onUp: focus ? onPrevious : undefined,
    onDown: focus ? onNext : undefined,
    onLeft: focus ? onPrevious : undefined,
    onRight: focus ? onNext : undefined
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_1__["Box"], _extends({
    ref: ref,
    gap: gap
  }, rest), options.map(function (_ref2, index) {
    var disabled = _ref2.disabled,
        id = _ref2.id,
        label = _ref2.label,
        optionValue = _ref2.value;
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_RadioButton__WEBPACK_IMPORTED_MODULE_3__["RadioButton"], {
      ref: function ref(aRef) {
        optionRefs.current[index] = aRef;
      },
      key: optionValue,
      name: name,
      label: !children ? label : undefined,
      disabled: disabled,
      checked: optionValue === value,
      focus: focus && (optionValue === value || value === undefined && !index),
      id: id,
      value: optionValue,
      onChange: onChange,
      onFocus: onFocus,
      onBlur: onBlur
    }, children ? function (state) {
      return children(optionsProp[index], state);
    } : null);
  })));
});
RadioButtonGroup.displayName = 'RadioButtonGroup';
var RadioButtonGroupDoc;

if (true) {
  // eslint-disable-next-line global-require
  RadioButtonGroupDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/RadioButtonGroup/doc.js").doc(RadioButtonGroup);
}

var RadioButtonGroupWrapper = RadioButtonGroupDoc || RadioButtonGroup;


/***/ }),

/***/ "./node_modules/grommet/es6/components/RadioButtonGroup/doc.js":
/*!*********************************************************************!*\
  !*** ./node_modules/grommet/es6/components/RadioButtonGroup/doc.js ***!
  \*********************************************************************/
/*! exports provided: doc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");


var doc = function doc(RadioButtonGroup) {
  var DocumentedRadioButtonGroup = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(RadioButtonGroup).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('RadioButtonGroup')).description('A group of radio buttons.').usage("import { RadioButtonGroup } from 'grommet';\n<RadioButtonGroup />").intrinsicElement('div');
  DocumentedRadioButtonGroup.propTypes = {
    children: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Function that will be called to render the visual representation.\n      It will be passed an object indicating whether the button is checked. It\n      should return a react element.\n      For example:\n      `children={(option, { checked }) => <Box ...>{...}</Box>}`\n      "),
    name: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description("The DOM name attribute value to use for the underlying <input/> \n      elements.").isRequired,
    onChange: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Function that will be called when the user clicks on of the radio\n      buttons. It will be passed a React event object."),
    options: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      disabled: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool,
      id: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
      label: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].element]),
      value: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.isRequired
    }))]).description("Options can be either a string or an object.").isRequired,
    value: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description("Currently selected option value.")
  };
  return DocumentedRadioButtonGroup;
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/RadioButtonGroup/index.js":
/*!***********************************************************************!*\
  !*** ./node_modules/grommet/es6/components/RadioButtonGroup/index.js ***!
  \***********************************************************************/
/*! exports provided: RadioButtonGroup */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _RadioButtonGroup__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RadioButtonGroup */ "./node_modules/grommet/es6/components/RadioButtonGroup/RadioButtonGroup.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RadioButtonGroup", function() { return _RadioButtonGroup__WEBPACK_IMPORTED_MODULE_0__["RadioButtonGroup"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/RangeInput/RangeInput.js":
/*!**********************************************************************!*\
  !*** ./node_modules/grommet/es6/components/RangeInput/RangeInput.js ***!
  \**********************************************************************/
/*! exports provided: RangeInput */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RangeInput", function() { return RangeInputWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var _hocs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../hocs */ "./node_modules/grommet/es6/components/hocs.js");
/* harmony import */ var _StyledRangeInput__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./StyledRangeInput */ "./node_modules/grommet/es6/components/RangeInput/StyledRangeInput.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }






var RangeInput = function RangeInput(_ref) {
  var forwardRef = _ref.forwardRef,
      rest = _objectWithoutPropertiesLoose(_ref, ["forwardRef"]);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledRangeInput__WEBPACK_IMPORTED_MODULE_3__["StyledRangeInput"], _extends({}, rest, {
    ref: forwardRef,
    type: "range"
  }));
};

var RangeInputDoc;

if (true) {
  // eslint-disable-next-line global-require
  RangeInputDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/RangeInput/doc.js").doc(RangeInput);
}

var RangeInputWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(Object(_hocs__WEBPACK_IMPORTED_MODULE_2__["withFocus"])(), _hocs__WEBPACK_IMPORTED_MODULE_2__["withForwardRef"])(RangeInputDoc || RangeInput);


/***/ }),

/***/ "./node_modules/grommet/es6/components/RangeInput/StyledRangeInput.js":
/*!****************************************************************************!*\
  !*** ./node_modules/grommet/es6/components/RangeInput/StyledRangeInput.js ***!
  \****************************************************************************/
/*! exports provided: StyledRangeInput */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledRangeInput", function() { return StyledRangeInput; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");



var rangeTrackStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["box-sizing:border-box;width:100%;height:", ";background:", ";", ""], function (props) {
  return props.theme.rangeInput.track.height;
}, function (props) {
  return Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.rangeInput.track.color, props.theme);
}, function (props) {
  return props.theme.rangeInput && props.theme.rangeInput.track && props.theme.rangeInput.track.extend;
});
var rangeThumbStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["box-sizing:border-box;position:relative;border-radius:", ";height:", ";width:", ";overflow:visible;background:", ";-webkit-appearance:none;cursor:pointer;", ""], function (props) {
  return props.theme.global.spacing;
}, function (props) {
  return props.theme.global.spacing;
}, function (props) {
  return props.theme.global.spacing;
}, function (props) {
  return Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.rangeInput.thumb.color || 'control', props.theme);
}, function (props) {
  return props.theme.rangeInput && props.theme.rangeInput.thumb && props.theme.rangeInput.thumb.extend;
});
var firefoxMicrosoftThumbStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["", " margin-top:0px;height:", ";width:", ";", ""], rangeThumbStyle, function (props) {
  return props.theme.global.spacing;
}, function (props) {
  return props.theme.global.spacing;
}, function (props) {
  return props.theme.rangeInput && props.theme.rangeInput.thumb && props.theme.rangeInput.thumb.extend;
});
/* eslint-disable max-len */

var StyledRangeInput = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].input.withConfig({
  displayName: "StyledRangeInput",
  componentId: "sc-15st9ck-0"
})(["box-sizing:border-box;position:relative;-webkit-appearance:none;border-color:transparent;height:", ";width:100%;padding:0px;cursor:pointer;background:transparent;&:focus{outline:none;}&::-moz-focus-inner{border:none;}&::-moz-focus-outer{border:none;}&::-webkit-slider-runnable-track{", "}&::-webkit-slider-thumb{margin-top:-", "px;", " ", "}&::-moz-range-track{", "}&::-moz-range-thumb{", "}&::-ms-thumb{", "}", " &::-ms-track{", " border-color:transparent;color:transparent;}&::-ms-fill-lower{background:", ";border-color:transparent;}&::-ms-fill-upper{background:", ";border-color:transparent;}", " ", ""], function (props) {
  return props.theme.global.spacing;
}, rangeTrackStyle, function (props) {
  return (Object(_utils__WEBPACK_IMPORTED_MODULE_1__["parseMetricToNum"])(props.theme.global.spacing) - Object(_utils__WEBPACK_IMPORTED_MODULE_1__["parseMetricToNum"])(props.theme.rangeInput.track.height || 0)) * 0.5;
}, rangeThumbStyle, function (props) {
  return !props.disabled && Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["&:hover{box-shadow:0px 0px 0px 2px ", ";}"], Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.rangeInput.thumb.color || 'control', props.theme));
}, rangeTrackStyle, firefoxMicrosoftThumbStyle, firefoxMicrosoftThumbStyle, function (props) {
  return !props.disabled && Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["&:hover::-moz-range-thumb{box-shadow:0px 0px 0px 2px ", ";}&:hover::-ms-thumb{box-shadow:0px 0px 0px 2px ", ";}"], Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.rangeInput.thumb.color || 'control', props.theme), Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.rangeInput.thumb.color || 'control', props.theme));
}, rangeTrackStyle, function (props) {
  return Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.rangeInput.track.color, props.theme);
}, function (props) {
  return Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.rangeInput.track.color, props.theme);
}, function (props) {
  return props.focus && _utils__WEBPACK_IMPORTED_MODULE_1__["focusStyle"];
}, function (props) {
  return props.theme.rangeInput && props.theme.rangeInput.extend;
});
/* eslint-enable max-len */

StyledRangeInput.defaultProps = {};
Object.setPrototypeOf(StyledRangeInput.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);


/***/ }),

/***/ "./node_modules/grommet/es6/components/RangeInput/doc.js":
/*!***************************************************************!*\
  !*** ./node_modules/grommet/es6/components/RangeInput/doc.js ***!
  \***************************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var doc = function doc(RangeInput) {
  var DocumentedRangeInput = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(RangeInput).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('RangeInput')).description('A slider control to input a value within a fixed range.').usage("import { RangeInput } from 'grommet';\n<RangeInput />").intrinsicElement('input');
  DocumentedRangeInput.propTypes = {
    id: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description('The id attribute of the range input.'),
    min: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description('The minimum value permitted.'),
    max: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description('The maximum value permitted.'),
    name: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description('The name attribute of the range input.'),
    onChange: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Function that will be called when the user changes the value. It will\n      be passed an event object. The new input value will be available\n      via 'event.target.value'."),
    step: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number.description('The step interval between values.'),
    value: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description('The current value.')
  };
  return DocumentedRangeInput;
};
var themeDoc = _extends({}, _utils__WEBPACK_IMPORTED_MODULE_1__["themeDocUtils"].focusStyle, {
  'global.spacing': {
    description: 'The height, width and border-radius of the range thumb.',
    type: 'string',
    defaultValue: '24px'
  },
  'rangeInput.extend': {
    description: 'Any additional style for the RangeInput.',
    type: "string | (props) => `\n      any CSS styling;\n    `",
    defaultValue: undefined
  },
  'rangeInput.thumb.color': {
    description: 'The color of the thumb.',
    type: 'string | { dark: undefined, light: undefined }',
    defaultValue: undefined
  },
  'rangeInput.thumb.extend': {
    description: 'Any additional style for the thumb.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'rangeInput.track.color': {
    description: 'The color of the track.',
    type: 'string',
    defaultValue: '{ dark: rgba(255, 255, 255, 0.33), light: rgba(0, 0, 0, 0.33) }'
  },
  'rangeInput.track.extend': {
    description: 'Any additional style for the track.',
    type: "string | (props) => `\n      any CSS styling;\n    `",
    defaultValue: undefined
  },
  'rangeInput.track.height': {
    description: 'The height of the track.',
    type: 'string',
    defaultValue: '4px'
  }
});

/***/ }),

/***/ "./node_modules/grommet/es6/components/RangeInput/index.js":
/*!*****************************************************************!*\
  !*** ./node_modules/grommet/es6/components/RangeInput/index.js ***!
  \*****************************************************************/
/*! exports provided: RangeInput */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _RangeInput__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RangeInput */ "./node_modules/grommet/es6/components/RangeInput/RangeInput.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RangeInput", function() { return _RangeInput__WEBPACK_IMPORTED_MODULE_0__["RangeInput"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/RangeSelector/EdgeControl.js":
/*!**************************************************************************!*\
  !*** ./node_modules/grommet/es6/components/RangeSelector/EdgeControl.js ***!
  \**************************************************************************/
/*! exports provided: EdgeControl */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EdgeControl", function() { return EdgeControlWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
/* harmony import */ var _Keyboard__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Keyboard */ "./node_modules/grommet/es6/components/Keyboard/index.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _hocs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../hocs */ "./node_modules/grommet/es6/components/hocs.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }









var DIRECTION_PROPS = {
  horizontal: {
    cursor: 'col-resize',
    fill: 'vertical'
  },
  vertical: {
    cursor: 'row-resize',
    fill: 'horizontal'
  }
};

var EdgeControl = function EdgeControl(_ref) {
  var color = _ref.color,
      direction = _ref.direction,
      edge = _ref.edge,
      forwardRef = _ref.forwardRef,
      onDecrease = _ref.onDecrease,
      onIncrease = _ref.onIncrease,
      theme = _ref.theme,
      rest = _objectWithoutPropertiesLoose(_ref, ["color", "direction", "edge", "forwardRef", "onDecrease", "onIncrease", "theme"]);

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(false),
      focused = _useState[0],
      setFocused = _useState[1];

  var _DIRECTION_PROPS$dire = DIRECTION_PROPS[direction],
      cursor = _DIRECTION_PROPS$dire.cursor,
      fill = _DIRECTION_PROPS$dire.fill;
  var size = Object(_utils__WEBPACK_IMPORTED_MODULE_6__["parseMetricToNum"])(theme.global.spacing) / 2;
  var keyboardProps = direction === 'vertical' ? {
    onUp: onDecrease,
    onDown: onIncrease
  } : {
    onLeft: onDecrease,
    onRight: onIncrease
  };
  var boxDirection = direction === 'vertical' ? 'row' : 'column';
  var type = theme.rangeSelector && theme.rangeSelector.edge && theme.rangeSelector.edge.type || 'disc';
  var node;

  if (type === 'bar') {
    node = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"], {
      flex: true,
      justifySelf: "stretch",
      width: size + "px",
      background: Object(_utils__WEBPACK_IMPORTED_MODULE_6__["normalizeColor"])(color || 'control', theme),
      border: focused ? {
        color: Object(_utils__WEBPACK_IMPORTED_MODULE_6__["normalizeColor"])('focus', theme)
      } : undefined
    });
  } else if (type === 'disc') {
    node = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"], {
      width: size + (focused ? 2 : 0) + "px",
      height: size + (focused ? 2 : 0) + "px",
      round: "full",
      background: Object(_utils__WEBPACK_IMPORTED_MODULE_6__["normalizeColor"])(color || 'control', theme),
      border: focused ? {
        color: Object(_utils__WEBPACK_IMPORTED_MODULE_6__["normalizeColor"])('focus', theme)
      } : undefined
    });
  } else {
    node = type;
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Keyboard__WEBPACK_IMPORTED_MODULE_5__["Keyboard"], keyboardProps, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"], {
    direction: boxDirection,
    style: {
      flex: '0 0 1px'
    },
    overflow: "visible",
    align: "center",
    justify: "center"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"], _extends({
    ref: forwardRef,
    direction: boxDirection,
    justify: "center",
    align: "center",
    basis: "full",
    fill: fill,
    style: {
      cursor: cursor,
      minWidth: size,
      minHeight: size,
      zIndex: 10
    },
    tabIndex: 0,
    onFocus: function onFocus() {
      return setFocused(true);
    },
    onBlur: function onBlur() {
      return setFocused(false);
    }
  }, rest), node)));
};

EdgeControl.defaultProps = {};
Object.setPrototypeOf(EdgeControl.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_3__["defaultProps"]);
var EdgeControlWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(_hocs__WEBPACK_IMPORTED_MODULE_7__["withForwardRef"], styled_components__WEBPACK_IMPORTED_MODULE_2__["withTheme"])(EdgeControl);


/***/ }),

/***/ "./node_modules/grommet/es6/components/RangeSelector/RangeSelector.js":
/*!****************************************************************************!*\
  !*** ./node_modules/grommet/es6/components/RangeSelector/RangeSelector.js ***!
  \****************************************************************************/
/*! exports provided: RangeSelector */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RangeSelector", function() { return RangeSelectorWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _contexts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../contexts */ "./node_modules/grommet/es6/contexts/index.js");
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
/* harmony import */ var _hocs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../hocs */ "./node_modules/grommet/es6/components/hocs.js");
/* harmony import */ var _EdgeControl__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./EdgeControl */ "./node_modules/grommet/es6/components/RangeSelector/EdgeControl.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }








var Container = Object(styled_components__WEBPACK_IMPORTED_MODULE_2__["default"])(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"]).withConfig({
  displayName: "RangeSelector__Container",
  componentId: "siof5p-0"
})(["user-select:none;"]);

var RangeSelector =
/*#__PURE__*/
function (_Component) {
  _inheritsLoose(RangeSelector, _Component);

  function RangeSelector() {
    var _this;

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _Component.call.apply(_Component, [this].concat(args)) || this;

    _defineProperty(_assertThisInitialized(_this), "state", {});

    _defineProperty(_assertThisInitialized(_this), "containerRef", react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef());

    _defineProperty(_assertThisInitialized(_this), "valueForMouseCoord", function (event) {
      var _this$props = _this.props,
          direction = _this$props.direction,
          max = _this$props.max,
          min = _this$props.min,
          step = _this$props.step;

      var rect = _this.containerRef.current.getBoundingClientRect();

      var value;

      if (direction === 'vertical') {
        // there is no x and y in unit testing
        var y = event.clientY - (rect.top || 0); // unit test resilience

        var scaleY = rect.height / (max - min + 1) || 1; // unit test resilience

        value = Math.floor(y / scaleY) + min;
      } else {
        var x = event.clientX - (rect.left || 0); // unit test resilience

        var scaleX = rect.width / (max - min + 1) || 1; // unit test resilience

        value = Math.floor(x / scaleX) + min;
      } // align with closest step within [min, max]


      var result = Math.ceil(value / step) * step;

      if (result < min) {
        return min;
      }

      if (result > max) {
        return max;
      }

      return result;
    });

    _defineProperty(_assertThisInitialized(_this), "onClick", function (event) {
      var _this$props2 = _this.props,
          onChange = _this$props2.onChange,
          values = _this$props2.values;
      var lastChange = _this.state.lastChange;

      var value = _this.valueForMouseCoord(event);

      if (value <= values[0] || value < values[1] && lastChange === 'lower') {
        _this.setState({
          lastChange: 'lower'
        }, function () {
          return onChange([value, values[1]]);
        });
      } else if (value >= values[1] || value > values[0] && lastChange === 'upper') {
        _this.setState({
          lastChange: 'upper'
        }, function () {
          return onChange([values[0], value]);
        });
      }
    });

    _defineProperty(_assertThisInitialized(_this), "lowerMouseDown", function () {
      _this.setState({
        changing: 'lower'
      });

      window.addEventListener('mousemove', _this.mouseMove);
      window.addEventListener('mouseup', _this.mouseUp);
    });

    _defineProperty(_assertThisInitialized(_this), "upperMouseDown", function () {
      _this.setState({
        changing: 'upper'
      });

      window.addEventListener('mousemove', _this.mouseMove);
      window.addEventListener('mouseup', _this.mouseUp);
    });

    _defineProperty(_assertThisInitialized(_this), "selectionMouseDown", function (event) {
      var moveValue = _this.valueForMouseCoord(event);

      _this.setState({
        changing: 'selection',
        moveValue: moveValue
      });

      window.addEventListener('mousemove', _this.mouseMove);
      window.addEventListener('mouseup', _this.mouseUp);
    });

    _defineProperty(_assertThisInitialized(_this), "mouseMove", function (event) {
      var _this$props3 = _this.props,
          max = _this$props3.max,
          min = _this$props3.min,
          onChange = _this$props3.onChange,
          values = _this$props3.values;
      var _this$state = _this.state,
          changing = _this$state.changing,
          moveValue = _this$state.moveValue;

      var value = _this.valueForMouseCoord(event);

      var nextValues;

      if (changing === 'lower' && value <= values[1] && value !== moveValue) {
        nextValues = [value, values[1]];
      } else if (changing === 'upper' && value >= values[0] && value !== moveValue) {
        nextValues = [values[0], value];
      } else if (changing === 'selection' && value !== moveValue) {
        var delta = value - moveValue;

        if (values[0] + delta >= min && values[1] + delta <= max) {
          nextValues = [values[0] + delta, values[1] + delta];
        }
      }

      if (nextValues) {
        _this.setState({
          lastChange: changing,
          moveValue: value
        }, function () {
          onChange(nextValues);
        });
      }
    });

    _defineProperty(_assertThisInitialized(_this), "mouseUp", function () {
      _this.setState({
        changing: undefined
      });

      window.removeEventListener('mousemove', _this.mouseMove);
      window.removeEventListener('mouseup', _this.mouseUp);
    });

    return _this;
  }

  var _proto = RangeSelector.prototype;

  _proto.componentWillUnmount = function componentWillUnmount() {
    window.removeEventListener('mousemove', this.mouseMove);
    window.removeEventListener('mouseup', this.mouseUp);
  };

  _proto.render = function render() {
    var _this$props4 = this.props,
        color = _this$props4.color,
        direction = _this$props4.direction,
        forwardRef = _this$props4.forwardRef,
        invert = _this$props4.invert,
        max = _this$props4.max,
        messages = _this$props4.messages,
        min = _this$props4.min,
        onChange = _this$props4.onChange,
        opacity = _this$props4.opacity,
        round = _this$props4.round,
        size = _this$props4.size,
        step = _this$props4.step,
        values = _this$props4.values,
        propsTheme = _this$props4.theme,
        rest = _objectWithoutPropertiesLoose(_this$props4, ["color", "direction", "forwardRef", "invert", "max", "messages", "min", "onChange", "opacity", "round", "size", "step", "values", "theme"]);

    var theme = this.context || propsTheme;
    var _this$state2 = this.state,
        nextLower = _this$state2.nextLower,
        nextUpper = _this$state2.nextUpper;
    var lower = nextLower !== undefined ? nextLower : values[0];
    var upper = nextUpper !== undefined ? nextUpper : values[1]; // It needs to be true when vertical, due to how browsers manage height

    var fill = direction === 'vertical' ? true : 'vertical';
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Container, _extends({
      ref: this.containerRef,
      direction: direction === 'vertical' ? 'column' : 'row',
      fill: fill
    }, rest, {
      tabIndex: "-1",
      onClick: onChange ? this.onClick : undefined
    }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"], {
      style: {
        flex: lower - min + " 0 0"
      },
      background: invert ? // preserve existing dark, instead of using darknes
      // of this color
      {
        color: color || theme.rangeSelector.background.invert.color,
        opacity: opacity,
        dark: theme.dark
      } : undefined,
      fill: fill,
      round: round
    }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_EdgeControl__WEBPACK_IMPORTED_MODULE_6__["EdgeControl"], {
      a11yTitle: messages.lower,
      tabIndex: 0,
      ref: forwardRef,
      color: color,
      direction: direction,
      edge: "lower",
      onMouseDown: onChange ? this.lowerMouseDown : undefined,
      onDecrease: onChange && lower - step >= min ? function () {
        return onChange([lower - step, upper]);
      } : undefined,
      onIncrease: onChange && lower + step <= upper ? function () {
        return onChange([lower + step, upper]);
      } : undefined
    }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"], {
      style: {
        flex: upper - lower + 1 + " 0 0",
        cursor: direction === 'vertical' ? 'ns-resize' : 'ew-resize'
      },
      background: invert ? undefined : // preserve existing dark, instead of using darknes of
      // this color
      {
        color: color || 'control',
        opacity: opacity,
        dark: theme.dark
      },
      fill: fill,
      round: round,
      onMouseDown: onChange ? this.selectionMouseDown : undefined
    }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_EdgeControl__WEBPACK_IMPORTED_MODULE_6__["EdgeControl"], {
      a11yTitle: messages.upper,
      tabIndex: 0,
      color: color,
      direction: direction,
      edge: "upper",
      onMouseDown: onChange ? this.upperMouseDown : undefined,
      onDecrease: onChange && upper - step >= lower ? function () {
        return onChange([lower, upper - step]);
      } : undefined,
      onIncrease: onChange && upper + step <= max ? function () {
        return onChange([lower, upper + step]);
      } : undefined
    }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"], {
      style: {
        flex: max - upper + " 0 0"
      },
      background: invert ? // preserve existing dark, instead of using darknes of this
      // color
      {
        color: color || theme.rangeSelector.background.invert.color,
        opacity: opacity,
        dark: theme.dark
      } : undefined,
      fill: fill,
      round: round
    }));
  };

  return RangeSelector;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

_defineProperty(RangeSelector, "contextType", _contexts__WEBPACK_IMPORTED_MODULE_3__["ThemeContext"]);

_defineProperty(RangeSelector, "defaultProps", {
  direction: 'horizontal',
  max: 100,
  messages: {
    lower: 'Lower Bounds',
    upper: 'Upper Bounds'
  },
  min: 0,
  opacity: 'medium',
  size: 'medium',
  step: 1,
  values: []
});

var RangeSelectorDoc;

if (true) {
  // eslint-disable-next-line global-require
  RangeSelectorDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/RangeSelector/doc.js").doc(RangeSelector);
}

var RangeSelectorWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(_hocs__WEBPACK_IMPORTED_MODULE_5__["withForwardRef"])(RangeSelectorDoc || RangeSelector);


/***/ }),

/***/ "./node_modules/grommet/es6/components/RangeSelector/doc.js":
/*!******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/RangeSelector/doc.js ***!
  \******************************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");


var doc = function doc(RangeSelector) {
  var DocumentedRangeSelector = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(RangeSelector).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('RangeSelector')).description('A control to input a range of values.').usage("import { RangeSelector } from 'grommet';\n<RangeSelector />").intrinsicElement('div');
  DocumentedRangeSelector.propTypes = {
    color: _utils__WEBPACK_IMPORTED_MODULE_1__["colorPropType"].description('What color to use to indicate the selection.'),
    direction: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['horizontal', 'vertical']).description('').defaultValue('horizontal'),
    invert: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Whether to indicate what has not been selected.'),
    max: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number.description('The maximum value permitted.').defaultValue(100),
    messages: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      lower: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
      upper: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string
    }).description('Custom messages used by screen readers for accessibility.'),
    min: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number.description('The minimum value permitted.').defaultValue(0),
    onChange: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Function that will be called when the user changes one of the\n      values. It will be passed an array of two numbers indicating\n      the new values selected."),
    opacity: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['weak', 'medium', 'strong']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool]).description('Transparency of the selection indicator.').defaultValue('medium'),
    round: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['xsmall', 'small', 'medium', 'large', 'full']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description('How much to round the corners.'),
    size: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['xxsmall', 'xsmall', 'small', 'medium', 'large', 'xlarge', 'full']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description('How thick to make the selection indicator.').defaultValue('medium'),
    step: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number.description('The step interval between values.').defaultValue(1),
    values: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number).description('The current values.').isRequired
  };
  return DocumentedRangeSelector;
};
var themeDoc = {
  'global.borderSize': {
    description: 'The size of the border.',
    type: 'string',
    defaultValue: "{\n      xsmall: '1px',\n      small: '2px',\n      medium: '4px',\n      large: '12px',\n      xlarge: '24px,\n    }"
  },
  'global.colors.border': {
    description: 'The color for the border.',
    type: 'string | { dark: string, light: string }',
    defaultValue: {
      dark: 'rgba(255, 255, 255, 0.33)',
      light: 'rgba(0, 0, 0, 0.33)'
    }
  },
  'global.colors.control': {
    description: 'The color for the edge controls.',
    type: 'string | { dark: string, light: string }',
    defaultValue: '{dark: accent-1, light: brand}'
  },
  'global.colors.focus': {
    description: 'The color of the focus.',
    type: 'string',
    defaultValue: 'accent-1'
  },
  'global.edgeSize.small': {
    description: 'The possible sizes for the margin, padding and gap.',
    type: 'string',
    defaultValue: '6px'
  },
  'rangeSelector.background.invert.color': {
    description: 'The background color on an invert display.',
    type: 'string',
    defaultValue: 'light-4'
  },
  'rangeSelector.edge.type': {
    description: 'The edge control type.',
    type: "'bar' | 'disc' | node",
    defaultValue: undefined
  },
  'global.spacing': {
    description: 'The size of the edge controls thumb.',
    type: 'string',
    defaultValue: '24px'
  }
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/RangeSelector/index.js":
/*!********************************************************************!*\
  !*** ./node_modules/grommet/es6/components/RangeSelector/index.js ***!
  \********************************************************************/
/*! exports provided: RangeSelector */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _RangeSelector__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RangeSelector */ "./node_modules/grommet/es6/components/RangeSelector/RangeSelector.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RangeSelector", function() { return _RangeSelector__WEBPACK_IMPORTED_MODULE_0__["RangeSelector"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/RoutedAnchor/RoutedAnchor.js":
/*!**************************************************************************!*\
  !*** ./node_modules/grommet/es6/components/RoutedAnchor/RoutedAnchor.js ***!
  \**************************************************************************/
/*! exports provided: RoutedAnchor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoutedAnchor", function() { return RoutedAnchorWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _Anchor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Anchor */ "./node_modules/grommet/es6/components/Anchor/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }





var RoutedAnchor =
/*#__PURE__*/
function (_Component) {
  _inheritsLoose(RoutedAnchor, _Component);

  function RoutedAnchor() {
    return _Component.apply(this, arguments) || this;
  }

  var _proto = RoutedAnchor.prototype;

  _proto.render = function render() {
    var _this = this;

    var _this$props = this.props,
        path = _this$props.path,
        method = _this$props.method,
        rest = _objectWithoutPropertiesLoose(_this$props, ["path", "method"]);

    if (true) {
      console.warn("This component will be deprecated in the upcoming releases. \n        Please refer to https://github.com/grommet/grommet/issues/2855 \n        for more information.");
    }

    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Anchor__WEBPACK_IMPORTED_MODULE_2__["Anchor"], _extends({}, rest, {
      href: path,
      onClick: function onClick(event) {
        var onClick = _this.props.onClick;
        var router = _this.context.router;

        if (event) {
          var modifierKey = event.ctrlKey || event.metaKey; // if the user right-clicked in the Anchor we should let it go

          if (modifierKey) {
            return;
          }
        }

        if (router) {
          event.preventDefault();
          (router.history || router)[method](path);
        }

        if (onClick) {
          for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
            args[_key - 1] = arguments[_key];
          }

          onClick.apply(void 0, [event].concat(args));
        }
      }
    }));
  };

  return RoutedAnchor;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

_defineProperty(RoutedAnchor, "contextTypes", {
  router: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({}).isRequired
});

_defineProperty(RoutedAnchor, "defaultProps", {
  method: 'push'
});

var RoutedAnchorDoc;

if (true) {
  // eslint-disable-next-line global-require
  RoutedAnchorDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/RoutedAnchor/doc.js").doc(RoutedAnchor);
}

var RoutedAnchorWrapper = RoutedAnchorDoc || RoutedAnchor;


/***/ }),

/***/ "./node_modules/grommet/es6/components/RoutedAnchor/doc.js":
/*!*****************************************************************!*\
  !*** ./node_modules/grommet/es6/components/RoutedAnchor/doc.js ***!
  \*****************************************************************/
/*! exports provided: doc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var doc = function doc(RoutedAnchor) {
  var DocumentedRoutedAnchor = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(RoutedAnchor).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('RoutedAnchor')).description('An Anchor with support for React Router.').usage("import { RoutedAnchor } from 'grommet';\n" + "<RoutedAnchor primary path='/documentation' />").intrinsicElement('a');
  DocumentedRoutedAnchor.propTypes = _extends({}, _utils__WEBPACK_IMPORTED_MODULE_1__["ROUTER_PROPS"]);
  return DocumentedRoutedAnchor;
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/RoutedAnchor/index.js":
/*!*******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/RoutedAnchor/index.js ***!
  \*******************************************************************/
/*! exports provided: RoutedAnchor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _RoutedAnchor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RoutedAnchor */ "./node_modules/grommet/es6/components/RoutedAnchor/RoutedAnchor.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RoutedAnchor", function() { return _RoutedAnchor__WEBPACK_IMPORTED_MODULE_0__["RoutedAnchor"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/RoutedButton/RoutedButton.js":
/*!**************************************************************************!*\
  !*** ./node_modules/grommet/es6/components/RoutedButton/RoutedButton.js ***!
  \**************************************************************************/
/*! exports provided: RoutedButton */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoutedButton", function() { return RoutedButtonWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Button */ "./node_modules/grommet/es6/components/Button/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }





var RoutedButton =
/*#__PURE__*/
function (_Component) {
  _inheritsLoose(RoutedButton, _Component);

  function RoutedButton() {
    var _this;

    for (var _len = arguments.length, _args = new Array(_len), _key = 0; _key < _len; _key++) {
      _args[_key] = arguments[_key];
    }

    _this = _Component.call.apply(_Component, [this].concat(_args)) || this;

    _defineProperty(_assertThisInitialized(_this), "onClick", function (event) {
      var _this$props = _this.props,
          method = _this$props.method,
          onClick = _this$props.onClick,
          path = _this$props.path;
      var router = _this.context.router;

      if (event) {
        var modifierKey = event.ctrlKey || event.metaKey; // if the user right-clicked in the button we should let it go

        if (modifierKey) {
          return;
        }
      }

      if (router) {
        event.preventDefault();
        (router.history || router)[method](path);
      }

      if (onClick) {
        for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
          args[_key2 - 1] = arguments[_key2];
        }

        onClick.apply(void 0, [event].concat(args));
      }
    });

    return _this;
  }

  var _proto = RoutedButton.prototype;

  _proto.render = function render() {
    var _this$props2 = this.props,
        href = _this$props2.href,
        path = _this$props2.path,
        method = _this$props2.method,
        onClick = _this$props2.onClick,
        rest = _objectWithoutPropertiesLoose(_this$props2, ["href", "path", "method", "onClick"]);

    if (true) {
      console.warn("This component will be deprecated in the upcoming releases.\n         Please refer to https://github.com/grommet/grommet/issues/2855 \n         for more information.");
    }

    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_2__["Button"], _extends({}, rest, {
      href: path || href,
      disabled: !path && !onClick,
      onClick: this.onClick
    }));
  };

  return RoutedButton;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

_defineProperty(RoutedButton, "contextTypes", {
  router: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({}).isRequired
});

_defineProperty(RoutedButton, "defaultProps", {
  method: 'push'
});

var RoutedButtonDoc;

if (true) {
  // eslint-disable-next-line global-require
  RoutedButtonDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/RoutedButton/doc.js").doc(RoutedButton);
}

var RoutedButtonWrapper = RoutedButtonDoc || RoutedButton;


/***/ }),

/***/ "./node_modules/grommet/es6/components/RoutedButton/doc.js":
/*!*****************************************************************!*\
  !*** ./node_modules/grommet/es6/components/RoutedButton/doc.js ***!
  \*****************************************************************/
/*! exports provided: doc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var doc = function doc(RoutedButton) {
  var DocumentedRoutedButton = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(RoutedButton).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('RoutedButton')).description('A button with support for React Router.').usage("import { RoutedButton } from 'grommet';\n<RoutedButton primary path='/documentation' />").intrinsicElement('button');
  DocumentedRoutedButton.propTypes = _extends({}, _utils__WEBPACK_IMPORTED_MODULE_1__["ROUTER_PROPS"]);
  return DocumentedRoutedButton;
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/RoutedButton/index.js":
/*!*******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/RoutedButton/index.js ***!
  \*******************************************************************/
/*! exports provided: RoutedButton */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _RoutedButton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RoutedButton */ "./node_modules/grommet/es6/components/RoutedButton/RoutedButton.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RoutedButton", function() { return _RoutedButton__WEBPACK_IMPORTED_MODULE_0__["RoutedButton"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Select/Select.js":
/*!**************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Select/Select.js ***!
  \**************************************************************/
/*! exports provided: Select */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Select", function() { return SelectWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
/* harmony import */ var _DropButton__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../DropButton */ "./node_modules/grommet/es6/components/DropButton/index.js");
/* harmony import */ var _Keyboard__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Keyboard */ "./node_modules/grommet/es6/components/Keyboard/index.js");
/* harmony import */ var _TextInput__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../TextInput */ "./node_modules/grommet/es6/components/TextInput/index.js");
/* harmony import */ var _hocs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../hocs */ "./node_modules/grommet/es6/components/hocs.js");
/* harmony import */ var _SelectContainer__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./SelectContainer */ "./node_modules/grommet/es6/components/Select/SelectContainer.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }












var SelectTextInput = Object(styled_components__WEBPACK_IMPORTED_MODULE_2__["default"])(_TextInput__WEBPACK_IMPORTED_MODULE_8__["TextInput"]).withConfig({
  displayName: "Select__SelectTextInput",
  componentId: "sc-17idtfo-0"
})(["cursor:pointer;"]);
var StyledSelectDropButton = Object(styled_components__WEBPACK_IMPORTED_MODULE_2__["default"])(_DropButton__WEBPACK_IMPORTED_MODULE_6__["DropButton"]).withConfig({
  displayName: "Select__StyledSelectDropButton",
  componentId: "sc-17idtfo-1"
})(["", ";", ";", ";"], function (props) {
  return !props.plain && _utils__WEBPACK_IMPORTED_MODULE_3__["controlBorderStyle"];
}, function (props) {
  return props.theme.select && props.theme.select.control && props.theme.select.control.extend;
}, function (props) {
  return props.open && props.theme.select.control.open;
});
StyledSelectDropButton.defaultProps = {};
Object.setPrototypeOf(StyledSelectDropButton.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_4__["defaultProps"]);

var Select = function Select(props) {
  var a11yTitle = props.a11yTitle,
      alignSelf = props.alignSelf,
      children = props.children,
      closeOnChange = props.closeOnChange,
      disabled = props.disabled,
      dropAlign = props.dropAlign,
      dropProps = props.dropProps,
      dropTarget = props.dropTarget,
      forwardRef = props.forwardRef,
      gridArea = props.gridArea,
      id = props.id,
      icon = props.icon,
      labelKey = props.labelKey,
      margin = props.margin,
      messages = props.messages,
      onChange = props.onChange,
      onClose = props.onClose,
      onMore = props.onMore,
      onOpen = props.onOpen,
      propOpen = props.open,
      options = props.options,
      placeholder = props.placeholder,
      plain = props.plain,
      selected = props.selected,
      size = props.size,
      theme = props.theme,
      value = props.value,
      valueLabel = props.valueLabel,
      rest = _objectWithoutPropertiesLoose(props, ["a11yTitle", "alignSelf", "children", "closeOnChange", "disabled", "dropAlign", "dropProps", "dropTarget", "forwardRef", "gridArea", "id", "icon", "labelKey", "margin", "messages", "onChange", "onClose", "onMore", "onOpen", "open", "options", "placeholder", "plain", "selected", "size", "theme", "value", "valueLabel"]);

  var inputRef = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])();

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(propOpen),
      open = _useState[0],
      setOpen = _useState[1];

  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    setOpen(propOpen);
  }, [propOpen]);

  var onRequestOpen = function onRequestOpen() {
    setOpen(true);

    if (onOpen) {
      onOpen();
    }
  };

  var onRequestClose = function onRequestClose() {
    setOpen(false);

    if (onClose) {
      onClose();
    }
  };

  var onSelectChange = function onSelectChange(event) {
    if (closeOnChange) {
      onRequestClose();
    }

    if (onChange) {
      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
        args[_key - 1] = arguments[_key];
      }

      onChange.apply(void 0, [_extends({}, event, {
        target: inputRef.current
      })].concat(args));
    }
  };

  var SelectIcon;

  switch (icon) {
    case false:
      break;

    case true:
    case undefined:
      SelectIcon = theme.select.icons.down;
      break;

    default:
      SelectIcon = icon;
  }

  var selectValue;
  var inputValue = '';

  if (valueLabel) {
    selectValue = valueLabel;
  } else if (Array.isArray(value)) {
    if (value.length > 1) {
      if (react__WEBPACK_IMPORTED_MODULE_0___default.a.isValidElement(value[0])) {
        selectValue = value;
      } else {
        inputValue = messages.multiple;
      }
    } else if (value.length === 1) {
      if (react__WEBPACK_IMPORTED_MODULE_0___default.a.isValidElement(value[0])) {
        selectValue = value[0];
      } else if (labelKey && typeof value[0] === 'object') {
        if (typeof labelKey === 'function') {
          inputValue = labelKey(value[0]);
        } else {
          inputValue = value[0][labelKey];
        }
      } else {
        inputValue = value[0];
      }
    } else {
      inputValue = '';
    }
  } else if (labelKey && typeof value === 'object') {
    if (typeof labelKey === 'function') {
      inputValue = labelKey(value);
    } else {
      inputValue = value[labelKey];
    }
  } else if (react__WEBPACK_IMPORTED_MODULE_0___default.a.isValidElement(value)) {
    selectValue = value; // deprecated in favor of valueLabel
  } else if (selected !== undefined) {
    if (Array.isArray(selected)) {
      if (selected.length > 1) {
        inputValue = messages.multiple;
      } else if (selected.length === 1) {
        inputValue = options[selected[0]];
      }
    } else {
      inputValue = options[selected];
    }
  } else {
    inputValue = value;
  } // const dark = theme.select.background
  // ? colorIsDark(theme.select.background)
  // : theme.dark;


  var iconColor = Object(_utils__WEBPACK_IMPORTED_MODULE_3__["normalizeColor"])(theme.select.icons.color || 'control', theme);
  delete rest.onSearch;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Keyboard__WEBPACK_IMPORTED_MODULE_7__["Keyboard"], {
    onDown: onRequestOpen,
    onUp: onRequestOpen
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StyledSelectDropButton, {
    ref: forwardRef,
    id: id,
    disabled: disabled === true || undefined,
    dropAlign: dropAlign,
    dropTarget: dropTarget,
    open: open,
    alignSelf: alignSelf,
    gridArea: gridArea,
    margin: margin,
    onOpen: onRequestOpen,
    onClose: onRequestClose,
    dropContent: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_SelectContainer__WEBPACK_IMPORTED_MODULE_10__["SelectContainer"], _extends({}, props, {
      onChange: onSelectChange,
      onMore: onMore
    })),
    plain: plain,
    dropProps: _extends({}, dropProps)
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_5__["Box"], {
    align: "center",
    direction: "row",
    justify: "between",
    background: theme.select.background
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_5__["Box"], {
    direction: "row",
    flex: true,
    basis: "auto"
  }, selectValue || react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(SelectTextInput, _extends({
    a11yTitle: a11yTitle && "" + a11yTitle + (typeof value === 'string' ? ", " + value : ''),
    id: id ? id + "__input" : undefined,
    ref: inputRef
  }, rest, {
    tabIndex: "-1",
    type: "text",
    placeholder: placeholder,
    plain: true,
    readOnly: true,
    value: inputValue,
    size: size,
    onClick: disabled === true ? undefined : onRequestOpen
  }))), SelectIcon && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_5__["Box"], {
    margin: theme.select.icons.margin,
    flex: false,
    style: {
      minWidth: 'auto'
    }
  }, Object(react__WEBPACK_IMPORTED_MODULE_0__["isValidElement"])(SelectIcon) ? SelectIcon : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(SelectIcon, {
    color: iconColor,
    size: size
  })))));
};

Select.defaultProps = _extends({
  closeOnChange: true,
  dropAlign: {
    top: 'bottom',
    left: 'left'
  },
  messages: {
    multiple: 'multiple'
  }
}, _default_props__WEBPACK_IMPORTED_MODULE_4__["defaultProps"]);
var SelectDoc;

if (true) {
  // eslint-disable-next-line global-require
  SelectDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Select/doc.js").doc(Select);
}

var SelectWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(styled_components__WEBPACK_IMPORTED_MODULE_2__["withTheme"], _hocs__WEBPACK_IMPORTED_MODULE_9__["withForwardRef"])(SelectDoc || Select);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Select/SelectContainer.js":
/*!***********************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Select/SelectContainer.js ***!
  \***********************************************************************/
/*! exports provided: SelectContainer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SelectContainer", function() { return SelectContainerWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
/* harmony import */ var _InfiniteScroll__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../InfiniteScroll */ "./node_modules/grommet/es6/components/InfiniteScroll/index.js");
/* harmony import */ var _Keyboard__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Keyboard */ "./node_modules/grommet/es6/components/Keyboard/index.js");
/* harmony import */ var _Text__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Text */ "./node_modules/grommet/es6/components/Text/index.js");
/* harmony import */ var _TextInput__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../TextInput */ "./node_modules/grommet/es6/components/TextInput/index.js");
/* harmony import */ var _SelectOption__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./SelectOption */ "./node_modules/grommet/es6/components/Select/SelectOption.js");
/* harmony import */ var _StyledSelect__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./StyledSelect */ "./node_modules/grommet/es6/components/Select/StyledSelect.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }











 // position relative is so scroll can be managed correctly

var OptionsBox = Object(styled_components__WEBPACK_IMPORTED_MODULE_1__["default"])(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"]).withConfig({
  displayName: "SelectContainer__OptionsBox",
  componentId: "sc-1wi0ul8-0"
})(["position:relative;scroll-behavior:smooth;"]);
var OptionBox = Object(styled_components__WEBPACK_IMPORTED_MODULE_1__["default"])(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"]).withConfig({
  displayName: "SelectContainer__OptionBox",
  componentId: "sc-1wi0ul8-1"
})(["", ""], function (props) {
  return props.selected && _utils__WEBPACK_IMPORTED_MODULE_2__["selectedStyle"];
});

var SelectContainer =
/*#__PURE__*/
function (_Component) {
  _inheritsLoose(SelectContainer, _Component);

  function SelectContainer(props) {
    var _this;

    _this = _Component.call(this, props) || this;

    _defineProperty(_assertThisInitialized(_this), "optionRefs", {});

    _defineProperty(_assertThisInitialized(_this), "searchRef", Object(react__WEBPACK_IMPORTED_MODULE_0__["createRef"])());

    _defineProperty(_assertThisInitialized(_this), "optionsRef", Object(react__WEBPACK_IMPORTED_MODULE_0__["createRef"])());

    _defineProperty(_assertThisInitialized(_this), "onSearchChange", function (event) {
      _this.setState({
        search: event.target.value,
        activeIndex: -1
      }, function () {
        var search = _this.state.search;

        _this.onSearch(search);
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onSearch", Object(_utils__WEBPACK_IMPORTED_MODULE_2__["debounce"])(function (search) {
      var onSearch = _this.props.onSearch;
      onSearch(search);
    }, Object(_utils__WEBPACK_IMPORTED_MODULE_2__["debounceDelay"])(_this.props)));

    _defineProperty(_assertThisInitialized(_this), "selectOption", function (option) {
      return function () {
        var _this$props = _this.props,
            multiple = _this$props.multiple,
            onChange = _this$props.onChange,
            value = _this$props.value,
            selected = _this$props.selected;
        var initialOptions = _this.state.initialOptions;

        if (onChange) {
          var nextValue = Array.isArray(value) ? value.slice() : []; // preserve compatibility until selected is deprecated

          if (selected) {
            nextValue = selected.map(function (s) {
              return initialOptions[s];
            });
          }

          if (multiple) {
            if (nextValue.indexOf(option) !== -1) {
              nextValue = nextValue.filter(function (v) {
                return v !== option;
              });
            } else {
              nextValue.push(option);
            }
          } else {
            nextValue = option;
          }

          var nextSelected = Array.isArray(nextValue) ? nextValue.map(function (v) {
            return initialOptions.indexOf(v);
          }) : initialOptions.indexOf(nextValue);
          onChange({
            option: option,
            value: nextValue,
            selected: nextSelected
          });
        }
      };
    });

    _defineProperty(_assertThisInitialized(_this), "clearKeyboardNavigation", function () {
      clearTimeout(_this.keyboardNavTimer);
      _this.keyboardNavTimer = setTimeout(function () {
        _this.setState({
          keyboardNavigating: false
        });
      }, 100); // 100ms was empirically determined
    });

    _defineProperty(_assertThisInitialized(_this), "onNextOption", function (event) {
      var options = _this.props.options;
      var activeIndex = _this.state.activeIndex;
      event.preventDefault();
      var nextActiveIndex = activeIndex + 1;

      while (nextActiveIndex < options.length && _this.isDisabled(nextActiveIndex)) {
        nextActiveIndex += 1;
      }

      if (nextActiveIndex !== options.length) {
        _this.setState({
          activeIndex: nextActiveIndex,
          keyboardNavigating: true
        }, function () {
          var buttonNode = _this.optionRefs[nextActiveIndex];
          var optionsNode = _this.optionsRef.current;

          if (buttonNode && Object(_utils__WEBPACK_IMPORTED_MODULE_2__["isNodeAfterScroll"])(buttonNode, optionsNode) && optionsNode.scrollTo) {
            optionsNode.scrollTo(0, buttonNode.offsetTop - (optionsNode.getBoundingClientRect().height - buttonNode.getBoundingClientRect().height));
          }

          _this.clearKeyboardNavigation();
        });
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onPreviousOption", function (event) {
      var activeIndex = _this.state.activeIndex;
      event.preventDefault();
      var nextActiveIndex = activeIndex - 1;

      while (nextActiveIndex >= 0 && _this.isDisabled(nextActiveIndex)) {
        nextActiveIndex -= 1;
      }

      if (nextActiveIndex >= 0) {
        _this.setState({
          activeIndex: nextActiveIndex,
          keyboardNavigating: true
        }, function () {
          var buttonNode = _this.optionRefs[nextActiveIndex];
          var optionsNode = _this.optionsRef.current;

          if (buttonNode && Object(_utils__WEBPACK_IMPORTED_MODULE_2__["isNodeBeforeScroll"])(buttonNode, optionsNode) && optionsNode.scrollTo) {
            optionsNode.scrollTo(0, buttonNode.offsetTop);
          }

          _this.clearKeyboardNavigation();
        });
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onActiveOption", function (index) {
      return function () {
        var keyboardNavigating = _this.state.keyboardNavigating;

        if (!keyboardNavigating) {
          _this.setState({
            activeIndex: index
          });
        }
      };
    });

    _defineProperty(_assertThisInitialized(_this), "onSelectOption", function (event) {
      var options = _this.props.options;
      var activeIndex = _this.state.activeIndex;

      if (activeIndex >= 0) {
        event.preventDefault(); // prevent submitting forms

        _this.selectOption(options[activeIndex])();
      }
    });

    _defineProperty(_assertThisInitialized(_this), "optionLabel", function (index) {
      var _this$props2 = _this.props,
          options = _this$props2.options,
          labelKey = _this$props2.labelKey;
      var option = options[index];
      var optionLabel;

      if (labelKey) {
        if (typeof labelKey === 'function') {
          optionLabel = labelKey(option);
        } else {
          optionLabel = option[labelKey];
        }
      } else {
        optionLabel = option;
      }

      return optionLabel;
    });

    _defineProperty(_assertThisInitialized(_this), "optionValue", function (index) {
      var _this$props3 = _this.props,
          options = _this$props3.options,
          valueKey = _this$props3.valueKey;
      var option = options[index];
      var optionValue;

      if (valueKey) {
        if (typeof valueKey === 'function') {
          optionValue = valueKey(option);
        } else {
          optionValue = option[valueKey];
        }
      } else {
        optionValue = option;
      }

      return optionValue;
    });

    _defineProperty(_assertThisInitialized(_this), "isDisabled", function (index) {
      var _this$props4 = _this.props,
          disabled = _this$props4.disabled,
          disabledKey = _this$props4.disabledKey,
          options = _this$props4.options;
      var option = options[index];
      var result;

      if (disabledKey) {
        if (typeof disabledKey === 'function') {
          result = disabledKey(option, index);
        } else {
          result = option[disabledKey];
        }
      } else if (Array.isArray(disabled)) {
        if (typeof disabled[0] === 'number') {
          result = disabled.indexOf(index) !== -1;
        } else {
          var optionValue = _this.optionValue(index);

          result = disabled.indexOf(optionValue) !== -1;
        }
      }

      return result;
    });

    _defineProperty(_assertThisInitialized(_this), "isSelected", function (index) {
      var _this$props5 = _this.props,
          selected = _this$props5.selected,
          value = _this$props5.value,
          valueKey = _this$props5.valueKey;
      var result;

      if (selected) {
        // deprecated in favor of value
        result = selected.indexOf(index) !== -1;
      } else {
        var optionValue = _this.optionValue(index);

        if (Array.isArray(value)) {
          if (value.length === 0) {
            result = false;
          } else if (typeof value[0] !== 'object') {
            result = value.indexOf(optionValue) !== -1;
          } else if (valueKey) {
            result = value.some(function (valueItem) {
              var valueValue = typeof valueKey === 'function' ? valueKey(valueItem) : valueItem[valueKey];
              return valueValue === optionValue;
            });
          }
        } else if (valueKey && typeof value === 'object') {
          var valueValue = typeof valueKey === 'function' ? valueKey(value) : value[valueKey];
          result = valueValue === optionValue;
        } else {
          result = value === optionValue;
        }
      }

      return result;
    });

    _this.state = {
      initialOptions: props.options,
      search: '',
      activeIndex: -1
    };
    return _this;
  }

  SelectContainer.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {
    var options = nextProps.options,
        value = nextProps.value,
        onSearch = nextProps.onSearch;

    if (onSearch) {
      if (prevState.activeIndex === -1 && prevState.search === '' && options && value) {
        var optionValue = Array.isArray(value) && value.length ? value[0] : value;
        var activeIndex = options.indexOf(optionValue);
        return {
          activeIndex: activeIndex
        };
      }

      if (prevState.activeIndex === -1 && prevState.search !== '') {
        return {
          activeIndex: 0
        };
      }
    }

    return null;
  };

  var _proto = SelectContainer.prototype;

  _proto.componentDidMount = function componentDidMount() {
    var _this2 = this;

    var onSearch = this.props.onSearch;
    var activeIndex = this.state.activeIndex; // timeout need to send the operation through event loop and allow
    // time to the portal to be available

    setTimeout(function () {
      var optionsNode = _this2.optionsRef.current;

      if (onSearch) {
        var input = _this2.searchRef.current;

        if (input && input.focus) {
          Object(_utils__WEBPACK_IMPORTED_MODULE_2__["setFocusWithoutScroll"])(input);
        }
      } else if (optionsNode) {
        Object(_utils__WEBPACK_IMPORTED_MODULE_2__["setFocusWithoutScroll"])(optionsNode);
      } // scroll to active option if it is below the fold


      if (activeIndex >= 0 && optionsNode) {
        var optionNode = _this2.optionRefs[activeIndex];

        var _optionsNode$getBound = optionsNode.getBoundingClientRect(),
            containerBottom = _optionsNode$getBound.bottom;

        if (optionNode) {
          var _optionNode$getBoundi = optionNode.getBoundingClientRect(),
              optionTop = _optionNode$getBoundi.bottom;

          if (containerBottom < optionTop) {
            optionNode.scrollIntoView();
          }
        }
      }
    }, 0);
  };

  _proto.render = function render() {
    var _this3 = this;

    var _this$props6 = this.props,
        children = _this$props6.children,
        dropHeight = _this$props6.dropHeight,
        emptySearchMessage = _this$props6.emptySearchMessage,
        id = _this$props6.id,
        onMore = _this$props6.onMore,
        onKeyDown = _this$props6.onKeyDown,
        onSearch = _this$props6.onSearch,
        options = _this$props6.options,
        searchPlaceholder = _this$props6.searchPlaceholder,
        theme = _this$props6.theme,
        replace = _this$props6.replace;
    var _this$state = this.state,
        activeIndex = _this$state.activeIndex,
        search = _this$state.search;
    var customSearchInput = theme.select.searchInput;
    var SelectTextInput = customSearchInput || _TextInput__WEBPACK_IMPORTED_MODULE_8__["TextInput"];

    var selectOptionsStyle = _extends({}, theme.select.options.box, {}, theme.select.options.container);

    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Keyboard__WEBPACK_IMPORTED_MODULE_6__["Keyboard"], {
      onEnter: this.onSelectOption,
      onUp: this.onPreviousOption,
      onDown: this.onNextOption,
      onKeyDown: onKeyDown
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledSelect__WEBPACK_IMPORTED_MODULE_10__["StyledContainer"], {
      as: _Box__WEBPACK_IMPORTED_MODULE_4__["Box"],
      id: id ? id + "__select-drop" : undefined,
      dropHeight: dropHeight
    }, onSearch && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"], {
      pad: !customSearchInput ? 'xsmall' : undefined,
      flex: false
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(SelectTextInput, {
      focusIndicator: !customSearchInput,
      size: "small",
      ref: this.searchRef,
      type: "search",
      value: search,
      placeholder: searchPlaceholder,
      onChange: this.onSearchChange
    })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(OptionsBox, {
      flex: "shrink",
      role: "menubar",
      tabIndex: "-1",
      ref: this.optionsRef,
      overflow: "auto"
    }, options.length > 0 ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_InfiniteScroll__WEBPACK_IMPORTED_MODULE_5__["InfiniteScroll"], {
      items: options,
      step: theme.select.step,
      onMore: onMore,
      replace: replace
    }, function (option, index) {
      var isDisabled = _this3.isDisabled(index);

      var isSelected = _this3.isSelected(index);

      var isActive = activeIndex === index;
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_SelectOption__WEBPACK_IMPORTED_MODULE_9__["SelectOption"] // eslint-disable-next-line react/no-array-index-key
      , {
        key: index,
        ref: function ref(_ref) {
          _this3.optionRefs[index] = _ref;
        },
        disabled: isDisabled || undefined,
        active: isActive,
        selected: isSelected,
        option: option,
        onMouseOver: !isDisabled ? _this3.onActiveOption(index) : undefined,
        onClick: !isDisabled ? _this3.selectOption(option) : undefined
      }, children ? children(option, index, options, {
        active: isActive,
        disabled: isDisabled,
        selected: isSelected
      }) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(OptionBox, _extends({}, selectOptionsStyle, {
        selected: isSelected
      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Text__WEBPACK_IMPORTED_MODULE_7__["Text"], theme.select.options.text, _this3.optionLabel(index))));
    }) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_SelectOption__WEBPACK_IMPORTED_MODULE_9__["SelectOption"], {
      key: "search_empty",
      disabled: true,
      option: emptySearchMessage
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(OptionBox, selectOptionsStyle, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Text__WEBPACK_IMPORTED_MODULE_7__["Text"], theme.select.container.text, emptySearchMessage))))));
  };

  return SelectContainer;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

_defineProperty(SelectContainer, "defaultProps", {
  children: null,
  disabled: undefined,
  emptySearchMessage: 'No matches found',
  id: undefined,
  multiple: false,
  name: undefined,
  onKeyDown: undefined,
  onSearch: undefined,
  options: undefined,
  searchPlaceholder: undefined,
  selected: undefined,
  value: '',
  replace: true
});

Object.setPrototypeOf(SelectContainer.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_3__["defaultProps"]);
var SelectContainerWrapper = Object(styled_components__WEBPACK_IMPORTED_MODULE_1__["withTheme"])(SelectContainer);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Select/SelectOption.js":
/*!********************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Select/SelectOption.js ***!
  \********************************************************************/
/*! exports provided: SelectOption */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SelectOption", function() { return SelectOptionWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Button */ "./node_modules/grommet/es6/components/Button/index.js");
/* harmony import */ var _hocs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../hocs */ "./node_modules/grommet/es6/components/hocs.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }






function areEqual(prevProps, nextProps) {
  var active = prevProps.active,
      disabled = prevProps.disabled,
      option = prevProps.option,
      selected = prevProps.selected;
  var nextActive = nextProps.active,
      nextDisabled = nextProps.disabled,
      nextOption = nextProps.option,
      nextSelected = nextProps.selected;
  return active === nextActive && selected === nextSelected && disabled === nextDisabled && option === nextOption;
}

var SelectOption = react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(function (_ref) {
  var forwardRef = _ref.forwardRef,
      rest = _objectWithoutPropertiesLoose(_ref, ["forwardRef"]);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_1__["Box"], {
    flex: false
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_2__["Button"], _extends({
    tabIndex: "-1",
    ref: forwardRef,
    role: "menuitem",
    hoverIndicator: "background"
  }, rest)));
}, areEqual);
var SelectOptionWrapper = Object(_hocs__WEBPACK_IMPORTED_MODULE_3__["withForwardRef"])(SelectOption);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Select/StyledSelect.js":
/*!********************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Select/StyledSelect.js ***!
  \********************************************************************/
/*! exports provided: StyledContainer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledContainer", function() { return StyledContainer; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");


var StyledContainer = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledSelect__StyledContainer",
  componentId: "znp66n-0"
})(["@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){width:100%;}", ";", ";"], function (props) {
  return props.dropHeight ? Object(_utils__WEBPACK_IMPORTED_MODULE_1__["sizeStyle"])('max-height', props.dropHeight, props.theme) : 'max-height: inherit;';
}, function (props) {
  return props.theme.select.container && props.theme.select.container.extend;
});

/***/ }),

/***/ "./node_modules/grommet/es6/components/Select/doc.js":
/*!***********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Select/doc.js ***!
  \***********************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var doc = function doc(Select) {
  var DocumentedSelect = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Select).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('Select')).description('A control to select a value, with optional search.').usage("import { Select } from 'grommet';\n<Select />"); // We don't include svg due to a collision on the values property
  // .intrinsicElement('select');

  DocumentedSelect.propTypes = _extends({}, _utils__WEBPACK_IMPORTED_MODULE_1__["genericProps"], {
    children: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Function that will be called when each option is rendered.\n      It will be passed (option, index, options, state) where option\n      is the option to render, index is the index of that option in the\n      options array, and state is an object with\n      { active, disabled, selected } keys indicating the current state\n      of the option."),
    closeOnChange: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Wether to close the drop when a selection is made.').defaultValue(true),
    disabled: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object]))]).description("Whether the entire select or individual options should be disabled.\n        An array of numbers indicates the indexes into 'options' of the\n        disabled options. An array of strings or objects work the same way\n        as the 'value' to indicate which options are disabled.").defaultValue(false),
    disabledKey: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func]).description("When the options array contains objects, this property indicates how\n      to determine which options should be disabled. If a string is\n      provided, it is used as the key for each item object and if that key\n      returns truthy, the option is disabled. If a function is provided, it is\n      called with the option and the return value determines if the option\n      is disabled."),
    dropAlign: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      top: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['top', 'bottom']),
      bottom: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['top', 'bottom']),
      right: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['left', 'right']),
      left: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['left', 'right'])
    }).description('How to align the drop.').defaultValue({
      top: 'bottom',
      left: 'left'
    }),
    dropHeight: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['xsmall', 'small', 'medium', 'large', 'xlarge']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description('The height of the drop container.'),
    dropTarget: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object.description("Target where the options drop will be aligned to. This should be\n      a React reference. Typically, this is not required as the drop will be\n      aligned to the Select itself by default."),
    dropProps: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object.description('Any valid Drop prop.'),
    focusIndicator: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Whether when 'plain' it should receive a focus outline."),
    icon: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].node]).description("A custom icon to be used when rendering the select. You can use false to\n       not render an icon at all."),
    labelKey: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func]).description("When the options array contains objects, this property indicates how\n      to determine the label of each option. If a string is\n      provided, it is used as the key to retrieve each option's label.\n      If a function is provided, it is called with the option and the\n      return value indicates the label."),
    messages: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      multiple: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string
    }).description('Custom messages.'),
    multiple: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Whether to allow multiple options to be selected.'),
    onChange: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description('Function that will be called when the user selects an option.'),
    onClose: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description('Function that will be called when the Select drop closes.'),
    onOpen: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description('Function that will be called when the Select drop opens.'),
    onSearch: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Function that will be called when the user types in the search input.\n      If this property is not provided, no search field will be rendered."),
    onMore: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Use this to indicate that 'items' doesn't contain all that it could.\n      It will be called when the entire list of items has been rendered.\n      This might be used when the total number of items that could be retrieved\n      is more than you'd want to load into the browser. 'onMore' allows you\n      to lazily fetch more from the server only when needed."),
    options: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].element, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object])).description("Options can be either a string or an object. If an object is used, use\n      children callback in order to render anything based on the current item.").isRequired,
    open: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Control the state of the component."),
    placeholder: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].element, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].node]).description('Placeholder to use when no value is provided.'),
    plain: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Whether this is a plain Select input with no border or padding.'),
    replace: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Whether to replace previously rendered items with a generic spacing\n      element when they have scrolled out of view. This is more performant but\n      means that in-page searching will not find elements that have been\n      replaced.").defaultValue(true),
    searchPlaceholder: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description("Placeholder text to use in the search box when the search input is \n      empty."),
    selected: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number)]).description("Index of the currently selected option. When multiple, the set of\n      options selected. NOTE: This is deprecated in favor of indicating\n      the selected values via the 'value' property."),
    size: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['small', 'medium', 'large', 'xlarge']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description('The size of the text and icon.'),
    value: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].element, // deprecated, use valueLabel
    react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object]))]).description("Currently selected value. This can be an array\n      when multiple. Passing an element allows the caller to control how\n      the value is rendered. Passing an element is deprecated. Instead,\n      use the 'valueLabel' property."),
    valueLabel: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].node.description("Provides custom rendering of the value. If not provided, Select\n      will render the value automatically."),
    valueKey: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func]).description("When the options array contains objects, this property indicates how\n      to determine the value of each option. If a string is\n      provided, it is used as the key to retrieve each option's value.\n      If a function is provided, it is called with the option and the\n      return value indicates the value."),
    emptySearchMessage: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description("Empty option message to display when no matching results were found").defaultValue('No matches found')
  });
  return DocumentedSelect;
};
var themeDoc = {
  'global.hover.background': {
    description: 'The background style when hovering.',
    type: 'string | { color: string, opacity: string }',
    defaultValue: "{ color: 'active', opacity: 'medium' }"
  },
  'global.hover.color': {
    description: 'The text color when hovering.',
    type: 'string | { dark: string, light: string }',
    defaultValue: "{ dark: 'white', light: 'black' }"
  },
  'select.background': {
    description: 'The background color used for Select.',
    type: 'string',
    defaultValue: undefined
  },
  'select.options.container': {
    description: 'Any valid Box prop for the options container.',
    type: 'object',
    defaultValue: "{ align: 'start', pad: 'small' }"
  },
  'select.options.text': {
    description: 'Any valid Text prop for text used inside the options container.',
    type: 'object',
    defaultValue: "{ margin: 'none }"
  },
  'select.container.extend': {
    description: 'Any additional style for the container of the Select component.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'select.control.open': {
    description: "Any additional style for the control open state of the Select \ncomponent.",
    type: 'object',
    defaultValue: undefined
  },
  'select.control.extend': {
    description: 'Any additional style for the control of the Select component.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'select.icons.margin': {
    description: 'The margin used for Select icons.',
    type: 'string | object',
    defaultValue: undefined
  },
  'select.icons.color': {
    description: 'The color used for Select icons.',
    type: 'string | { dark: string, light: string }',
    defaultValue: undefined
  },
  'select.icons.down': {
    description: 'The down icon to use for opening the Select.',
    type: 'React.Element',
    defaultValue: '<FormDown />'
  },
  'select.searchInput': {
    description: "Component for the Select search input field.",
    type: 'React.Component',
    defaultValue: undefined
  },
  'select.step': {
    description: "How many items to render at a time.",
    type: 'number',
    defaultValue: 20
  }
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/Select/index.js":
/*!*************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Select/index.js ***!
  \*************************************************************/
/*! exports provided: Select */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Select__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Select */ "./node_modules/grommet/es6/components/Select/Select.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Select", function() { return _Select__WEBPACK_IMPORTED_MODULE_0__["Select"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/SkipLink/SkipLink.js":
/*!******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/SkipLink/SkipLink.js ***!
  \******************************************************************/
/*! exports provided: SkipLink */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SkipLink", function() { return SkipLink; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Anchor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Anchor */ "./node_modules/grommet/es6/components/Anchor/index.js");
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }




var SkipLink = function SkipLink(_ref) {
  var id = _ref.id,
      label = _ref.label,
      rest = _objectWithoutPropertiesLoose(_ref, ["id", "label"]);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_2__["Box"], {
    margin: "small"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Anchor__WEBPACK_IMPORTED_MODULE_1__["Anchor"], _extends({
    href: "#" + id,
    label: label
  }, rest)));
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/SkipLink/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/grommet/es6/components/SkipLink/index.js ***!
  \***************************************************************/
/*! exports provided: SkipLink */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _SkipLink__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./SkipLink */ "./node_modules/grommet/es6/components/SkipLink/SkipLink.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SkipLink", function() { return _SkipLink__WEBPACK_IMPORTED_MODULE_0__["SkipLink"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/SkipLinkTarget/SkipLinkTarget.js":
/*!******************************************************************************!*\
  !*** ./node_modules/grommet/es6/components/SkipLinkTarget/SkipLinkTarget.js ***!
  \******************************************************************************/
/*! exports provided: SkipLinkTarget */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SkipLinkTarget", function() { return SkipLinkTarget; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _Anchor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Anchor */ "./node_modules/grommet/es6/components/Anchor/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }




var HiddenAnchor = Object(styled_components__WEBPACK_IMPORTED_MODULE_1__["default"])(_Anchor__WEBPACK_IMPORTED_MODULE_2__["Anchor"]).withConfig({
  displayName: "SkipLinkTarget__HiddenAnchor",
  componentId: "sc-16wjfgk-0"
})(["width:0;height:0;overflow:hidden;position:absolute;"]);
var SkipLinkTarget = function SkipLinkTarget(_ref) {
  var label = _ref.label,
      rest = _objectWithoutPropertiesLoose(_ref, ["label"]);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(HiddenAnchor, _extends({}, rest, {
    tabIndex: "-1",
    "aria-hidden": "true"
  }), label);
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/SkipLinkTarget/index.js":
/*!*********************************************************************!*\
  !*** ./node_modules/grommet/es6/components/SkipLinkTarget/index.js ***!
  \*********************************************************************/
/*! exports provided: SkipLinkTarget */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _SkipLinkTarget__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./SkipLinkTarget */ "./node_modules/grommet/es6/components/SkipLinkTarget/SkipLinkTarget.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SkipLinkTarget", function() { return _SkipLinkTarget__WEBPACK_IMPORTED_MODULE_0__["SkipLinkTarget"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/SkipLinks/SkipLinks.js":
/*!********************************************************************!*\
  !*** ./node_modules/grommet/es6/components/SkipLinks/SkipLinks.js ***!
  \********************************************************************/
/*! exports provided: SkipLinks */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SkipLinks", function() { return SkipLinksWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
/* harmony import */ var _Heading__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Heading */ "./node_modules/grommet/es6/components/Heading/index.js");
/* harmony import */ var _Layer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Layer */ "./node_modules/grommet/es6/components/Layer/index.js");





var SkipLinks = function SkipLinks(_ref) {
  var children = _ref.children,
      id = _ref.id,
      messages = _ref.messages;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(false),
      showLayer = _useState[0],
      setShowLayer = _useState[1];

  var layerRef = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])(null);

  var onFocus = function onFocus() {
    setShowLayer(true);
  };

  var removeLayer = function removeLayer() {
    setShowLayer(false);
  };

  var onBlur = function onBlur() {
    // timeout needed so it gives enough time for activeElement to be updated
    setTimeout(function () {
      var layerNode = layerRef.current;

      if (layerNode && layerNode.layerContainer.contains && !layerNode.layerContainer.contains(document.activeElement)) {
        removeLayer();
      }
    }, 0);
  };

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Layer__WEBPACK_IMPORTED_MODULE_3__["Layer"], {
    id: id,
    position: showLayer ? 'top' : 'hidden',
    ref: layerRef,
    onFocus: onFocus,
    onBlur: onBlur
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_1__["Box"], {
    pad: {
      horizontal: 'medium'
    }
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Heading__WEBPACK_IMPORTED_MODULE_2__["Heading"], {
    level: 2
  }, messages.skipTo, ":"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_1__["Box"], {
    direction: "row",
    align: "center",
    pad: {
      bottom: 'medium'
    }
  }, children.map(function (element, index) {
    return Object(react__WEBPACK_IMPORTED_MODULE_0__["cloneElement"])(element, {
      key: "skip-link-" + index,
      onClick: removeLayer
    });
  }))));
};

SkipLinks.defaultProps = {
  messages: {
    skipTo: 'Skip To'
  }
};
var SkipLinksDoc;

if (true) {
  // eslint-disable-next-line global-require
  SkipLinksDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/SkipLinks/doc.js").doc(SkipLinks);
}

var SkipLinksWrapper = SkipLinksDoc || SkipLinks;


/***/ }),

/***/ "./node_modules/grommet/es6/components/SkipLinks/doc.js":
/*!**************************************************************!*\
  !*** ./node_modules/grommet/es6/components/SkipLinks/doc.js ***!
  \**************************************************************/
/*! exports provided: doc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");


var doc = function doc(SkipLinks) {
  var DocumentedSkipLinks = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(SkipLinks).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('SkipLinks')).description('Describe a list of elements to skip to.').usage("import { SkipLinks } from 'grommet';\n<SkipLinks elements={['main', 'footer']} />");
  DocumentedSkipLinks.propTypes = {
    children: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].node.description('Array of SkipLink').isRequired,
    messages: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      skipTo: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string
    }).description("Custom messages for SkipLinks. Used for accessibility by screen \nreaders.")
  };
  return DocumentedSkipLinks;
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/SkipLinks/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/grommet/es6/components/SkipLinks/index.js ***!
  \****************************************************************/
/*! exports provided: SkipLinks */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _SkipLinks__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./SkipLinks */ "./node_modules/grommet/es6/components/SkipLinks/SkipLinks.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SkipLinks", function() { return _SkipLinks__WEBPACK_IMPORTED_MODULE_0__["SkipLinks"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Stack/Stack.js":
/*!************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Stack/Stack.js ***!
  \************************************************************/
/*! exports provided: Stack */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Stack", function() { return StackWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _StyledStack__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./StyledStack */ "./node_modules/grommet/es6/components/Stack/StyledStack.js");
function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }




var buildStyledChildren = function buildStyledChildren(_ref) {
  var anchor = _ref.anchor,
      fill = _ref.fill,
      guidingIndex = _ref.guidingIndex,
      interactiveChild = _ref.interactiveChild,
      interactiveIndex = _ref.interactiveIndex;
  var childIndex = 0;
  return function (child) {
    if (child) {
      var interactive = interactiveChild === undefined || interactiveIndex === childIndex;
      var isGuidingIndex = childIndex === guidingIndex;
      childIndex += 1;
      var props = isGuidingIndex ? {
        guiding: true,
        fillContainer: fill
      } : {
        anchor: anchor
      };
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledStack__WEBPACK_IMPORTED_MODULE_1__["StyledStackLayer"], _extends({
        interactive: interactive
      }, props), child);
    }

    return child;
  };
};

var Stack = function Stack(_ref2) {
  var anchor = _ref2.anchor,
      children = _ref2.children,
      fill = _ref2.fill,
      guidingChild = _ref2.guidingChild,
      interactiveChild = _ref2.interactiveChild,
      rest = _objectWithoutPropertiesLoose(_ref2, ["anchor", "children", "fill", "guidingChild", "interactiveChild"]);

  var toChildIndex = function toChildIndex(child) {
    var index = child;
    if (index === 'first' || !index) index = 0;else if (index === 'last') index = react__WEBPACK_IMPORTED_MODULE_0___default.a.Children.count(children) - 1;
    return index;
  };

  var guidingIndex = toChildIndex(guidingChild);
  var interactiveIndex = interactiveChild && toChildIndex(interactiveChild);
  var styledChildren = react__WEBPACK_IMPORTED_MODULE_0__["Children"].map(children, buildStyledChildren({
    anchor: anchor,
    fill: fill,
    guidingIndex: guidingIndex,
    interactiveChild: interactiveChild,
    interactiveIndex: interactiveIndex
  }));
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledStack__WEBPACK_IMPORTED_MODULE_1__["StyledStack"], _extends({
    fillContainer: fill
  }, rest), styledChildren);
};

var StackDoc;

if (true) {
  StackDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Stack/doc.js").doc(Stack); // eslint-disable-line global-require
}

var StackWrapper = StackDoc || Stack;


/***/ }),

/***/ "./node_modules/grommet/es6/components/Stack/StyledStack.js":
/*!******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Stack/StyledStack.js ***!
  \******************************************************************/
/*! exports provided: StyledStack, StyledStackLayer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledStack", function() { return StyledStack; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledStackLayer", function() { return StyledStackLayer; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");



var fillStyle = "\n  width: 100%;\n  height: 100%;\n  max-width: none;\n  flex-grow: 1;\n  display: flex;\n";
var StyledStack = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledStack",
  componentId: "ajspsk-0"
})(["position:relative;", " ", " ", ""], _utils__WEBPACK_IMPORTED_MODULE_1__["genericStyles"], function (props) {
  return props.fillContainer && fillStyle;
}, function (props) {
  return props.theme.stack && props.theme.stack.extend;
});
StyledStack.defaultProps = {};
Object.setPrototypeOf(StyledStack.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var styleMap = {
  fill: "\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n  ",
  center: "\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n  ",
  left: "\n    top: 50%;\n    left: 0;\n    transform: translateY(-50%);\n  ",
  right: "\n    top: 50%;\n    right: 0;\n    transform: translateY(-50%);\n  ",
  top: "\n    top: 0;\n    left: 50%;\n    transform: translateX(-50%);\n  ",
  bottom: "\n    bottom: 0;\n    left: 50%;\n    transform: translateX(-50%);\n  ",
  'top-left': "\n    top: 0;\n    left: 0;\n  ",
  'bottom-left': "\n    bottom: 0;\n    left: 0;\n  ",
  'top-right': "\n    top: 0;\n    right: 0;\n  ",
  'bottom-right': "\n    bottom: 0;\n    right: 0;\n  "
};
var StyledStackLayer = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledStack__StyledStackLayer",
  componentId: "ajspsk-1"
})(["position:", ";", " ", " ", " ", ""], function (props) {
  return props.guiding ? 'relative' : 'absolute';
}, function (props) {
  return props.guiding && 'display: block;';
}, function (props) {
  return !props.guiding && styleMap[props.anchor || 'fill'] + ";";
}, function (props) {
  return props.fillContainer && "\n    width: 100%;\n    height: 100%;\n  ";
}, function (props) {
  return !props.interactive && "pointer-events: none;";
});
StyledStackLayer.defaultProps = {};
Object.setPrototypeOf(StyledStackLayer.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Stack/doc.js":
/*!**********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Stack/doc.js ***!
  \**********************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var doc = function doc(Stack) {
  var DocumentedStack = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Stack).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('Stack')).description("A container that stacks contents on top of each other. One child is\n      designated as the `guidingChild` which determines the size. All\n      other children are placed within that size, either above or below\n      based on their order. Stack is typically used to decorate Meter, Chart,\n      or icons.").usage("import { Stack } from 'grommet';\n<Stack />").intrinsicElement('div');
  DocumentedStack.propTypes = _extends({}, _utils__WEBPACK_IMPORTED_MODULE_1__["genericProps"], {
    anchor: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['center', 'left', 'right', 'top', 'bottom', 'top-left', 'bottom-left', 'top-right', 'bottom-right']).description("Where to anchor children from. If not specified, children\n      fill the guiding child's area."),
    fill: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Whether to expand to fill\n      all of the available width and height in the parent container.").defaultValue(false),
    guidingChild: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['first', 'last'])]).description("Which child to guide layout from. All other children\n      will be positioned within that area. Defaults to 'first'.").defaultValue('first'),
    interactiveChild: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['first', 'last'])]).description("Which child to restrict user interaction to. All other children\n      will have user interaction disabled.")
  });
  return DocumentedStack;
};
var themeDoc = {
  'stack.extend': {
    description: 'Any additional style for the control of the Stack component.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  }
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/Stack/index.js":
/*!************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Stack/index.js ***!
  \************************************************************/
/*! exports provided: Stack */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Stack__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Stack */ "./node_modules/grommet/es6/components/Stack/Stack.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Stack", function() { return _Stack__WEBPACK_IMPORTED_MODULE_0__["Stack"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Tab/StyledTab.js":
/*!**************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Tab/StyledTab.js ***!
  \**************************************************************/
/*! exports provided: StyledTab */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledTab", function() { return StyledTab; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");



var tabHoverStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["&:hover{", " ", " ", ";}"], function (props) {
  return props.theme.tab.hover.background && Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["background:", ";"], Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.tab.hover.background, props.theme));
}, function (props) {
  return props.theme.tab.hover.color && Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["color:", ";"], Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.tab.hover.color, props.theme));
}, function (props) {
  return props.theme.tab.hover.extend;
});
var StyledTab = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledTab",
  componentId: "sc-1nnwnsb-0"
})(["", " ", " ", ""], _utils__WEBPACK_IMPORTED_MODULE_1__["genericStyles"], function (props) {
  return !props.plain && props.theme.tab.hover && tabHoverStyle;
}, function (props) {
  return props.theme.tab.extend;
});
StyledTab.defaultProps = {};
Object.setPrototypeOf(StyledTab.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Tab/Tab.js":
/*!********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Tab/Tab.js ***!
  \********************************************************/
/*! exports provided: Tab */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Tab", function() { return TabWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Button */ "./node_modules/grommet/es6/components/Button/index.js");
/* harmony import */ var _Text__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Text */ "./node_modules/grommet/es6/components/Text/index.js");
/* harmony import */ var _hocs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../hocs */ "./node_modules/grommet/es6/components/hocs.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _StyledTab__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./StyledTab */ "./node_modules/grommet/es6/components/Tab/StyledTab.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }












var Tab = function Tab(_ref) {
  var active = _ref.active,
      forwardRef = _ref.forwardRef,
      plain = _ref.plain,
      title = _ref.title,
      onActivate = _ref.onActivate,
      onMouseOver = _ref.onMouseOver,
      onMouseOut = _ref.onMouseOut,
      theme = _ref.theme,
      rest = _objectWithoutPropertiesLoose(_ref, ["active", "forwardRef", "plain", "title", "onActivate", "onMouseOver", "onMouseOut", "theme"]);

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(undefined),
      over = _useState[0],
      setOver = _useState[1];

  var normalizedTitle = title;
  var tabStyles = {};

  var onMouseOverTab = function onMouseOverTab(event) {
    setOver(true);

    if (onMouseOver) {
      onMouseOver(event);
    }
  };

  var onMouseOutTab = function onMouseOutTab(event) {
    setOver(undefined);

    if (onMouseOut) {
      onMouseOut(event);
    }
  };

  var onClickTab = function onClickTab(event) {
    if (event) {
      event.preventDefault();
    }

    onActivate();
  };

  if (!plain) {
    if (typeof title !== 'string') {
      normalizedTitle = title;
    } else if (active) {
      normalizedTitle = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Text__WEBPACK_IMPORTED_MODULE_6__["Text"], theme.tab.active, title);
    } else {
      normalizedTitle = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Text__WEBPACK_IMPORTED_MODULE_6__["Text"], {
        color: over ? theme.tab.hover.color : theme.tab.color
      }, title);
    }

    if (theme.tab.border) {
      var borderColor = theme.tab.border.color || theme.global.control.border.color;

      if (active) {
        borderColor = theme.tab.border.active.color || borderColor;
      } else if (over) {
        borderColor = theme.tab.border.hover.color || borderColor;
      }

      borderColor = Object(_utils__WEBPACK_IMPORTED_MODULE_8__["normalizeColor"])(borderColor, theme);
      tabStyles.border = {
        side: theme.tab.border.side,
        size: theme.tab.border.size,
        color: borderColor
      };
    }

    tabStyles.background = active ? theme.tab.active.background || theme.tab.background : theme.tab.background;
    tabStyles.pad = theme.tab.pad;
    tabStyles.margin = theme.tab.margin;
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_5__["Button"], _extends({
    ref: forwardRef,
    plain: true,
    role: "tab",
    "aria-selected": active,
    "aria-expanded": active
  }, rest, {
    onClick: onClickTab,
    onMouseOver: onMouseOverTab,
    onMouseOut: onMouseOutTab,
    onFocus: onMouseOver,
    onBlur: onMouseOut
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledTab__WEBPACK_IMPORTED_MODULE_9__["StyledTab"], _extends({
    as: _Box__WEBPACK_IMPORTED_MODULE_4__["Box"],
    plain: plain
  }, tabStyles), normalizedTitle));
};

Tab.defaultProps = {};
Object.setPrototypeOf(Tab.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_3__["defaultProps"]);
var TabDoc;

if (true) {
  TabDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Tab/doc.js").doc(Tab); // eslint-disable-line global-require
}

var TabWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(styled_components__WEBPACK_IMPORTED_MODULE_2__["withTheme"], _hocs__WEBPACK_IMPORTED_MODULE_7__["withForwardRef"])(TabDoc || Tab);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Tab/doc.js":
/*!********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Tab/doc.js ***!
  \********************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);

var doc = function doc(Tab) {
  var DocumentedTab = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Tab).description('One tab within Tabs.').usage("import { Tab } from 'grommet';\n<Tab />").intrinsicElement('button');
  DocumentedTab.propTypes = {
    plain: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Whether this is a plain tab with no style.').defaultValue(false),
    title: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].node.description('The title of the tab.')
  };
  return DocumentedTab;
};
var themeDoc = {
  'tab.active': {
    description: 'styles for the active tab.',
    type: 'object',
    defaultValue: "{color: 'text', background: undefined }"
  },
  'tab.background': {
    description: 'background styling of Tab.',
    type: 'object',
    defaultValue: undefined
  },
  'tab.border': {
    description: 'border styles of the tab',
    type: 'object',
    defaultValue: "{\n      side: 'bottom',\n      size: 'small',\n      color: {\n        dark: 'accent-1',\n        light: 'brand',\n      },\n      active: {\n        color: {\n          dark: 'white',\n          light: 'black',\n        },\n      },\n      hover: {\n        color: {\n          dark: 'white',\n          light: 'black',\n        },\n        // extend: undefined,\n      },\n    }"
  },
  'tab.color': {
    description: 'text color for the Tab.',
    type: 'string',
    defaultValue: 'control'
  },
  'tab.hover.background': {
    description: 'background style of the Tab on hover.',
    type: 'string | object',
    defaultValue: undefined
  },
  'tab.hover.color': {
    description: 'text color of the tab on hover.',
    type: 'string | { dark: string, light: string }',
    defaultValue: "{ dark: 'white', light: 'black' }"
  },
  'tab.hover.extend': {
    description: 'Any additional style for Tab hover.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'tab.margin': {
    description: 'The margin of Tab.',
    type: 'string | object',
    defaultValue: "{ vertical: 'xxsmall', horizontal: 'small' }"
  },
  'tab.pad': {
    description: 'The pad of Tab.',
    type: 'string | object',
    defaultValue: "{ bottom: 'xsmall' }"
  }
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/Tab/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Tab/index.js ***!
  \**********************************************************/
/*! exports provided: Tab */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Tab__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Tab */ "./node_modules/grommet/es6/components/Tab/Tab.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Tab", function() { return _Tab__WEBPACK_IMPORTED_MODULE_0__["Tab"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Table/StyledTable.js":
/*!******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Table/StyledTable.js ***!
  \******************************************************************/
/*! exports provided: StyledTableCell, StyledTableDataCaption, StyledTableRow, StyledTableBody, StyledTableHeader, StyledTableFooter, StyledTable */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledTableCell", function() { return StyledTableCell; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledTableDataCaption", function() { return StyledTableDataCaption; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledTableRow", function() { return StyledTableRow; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledTableBody", function() { return StyledTableBody; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledTableHeader", function() { return StyledTableHeader; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledTableFooter", function() { return StyledTableFooter; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledTable", function() { return StyledTable; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");



var SIZE_MAP = {
  '1/2': '50%',
  '1/4': '25%',
  '2/4': '50%',
  '3/4': '75%',
  '1/3': '33.33%',
  '2/3': '66.66%'
};
var sizeStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["width:", ";max-width:", ";overflow:hidden;"], function (props) {
  return SIZE_MAP[props.size] || props.theme.global.size[props.size];
}, function (props) {
  return SIZE_MAP[props.size] || props.theme.global.size[props.size];
});
var StyledTableCell = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].td.withConfig({
  displayName: "StyledTable__StyledTableCell",
  componentId: "sc-1m3u5g-0"
})(["margin:0;padding:0;font-weight:inherit;text-align:inherit;height:100%;", " ", " ", " ", " ", " ", " ", ""], function (props) {
  return props.size && sizeStyle;
}, function (props) {
  return props.verticalAlign && "vertical-align: " + props.verticalAlign + ";";
}, function (props) {
  return props.align && "text-align: " + props.align + ";";
}, function (props) {
  return props.background && Object(_utils__WEBPACK_IMPORTED_MODULE_1__["backgroundStyle"])(props.background, props.theme);
}, function (props) {
  return props.border && Object(_utils__WEBPACK_IMPORTED_MODULE_1__["borderStyle"])(props.border, props.responsive, props.theme);
}, function (props) {
  return props.pad && Object(_utils__WEBPACK_IMPORTED_MODULE_1__["edgeStyle"])('padding', props.pad, props.responsive, props.theme.box.responsiveBreakpoint, props.theme);
}, function (props) {
  return props.tableContextTheme && props.tableContextTheme.extend;
});
StyledTableCell.defaultProps = {};
Object.setPrototypeOf(StyledTableCell.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var StyledTableDataCaption = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].caption.withConfig({
  displayName: "StyledTable__StyledTableDataCaption",
  componentId: "sc-1m3u5g-1"
})(["margin-bottom:", ";"], function (props) {
  return props.theme.global.edgeSize.xxsmall;
});
StyledTableDataCaption.defaultProps = {};
Object.setPrototypeOf(StyledTableDataCaption.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var StyledTableRow = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].tr.withConfig({
  displayName: "StyledTable__StyledTableRow",
  componentId: "sc-1m3u5g-2"
})(["height:100%;"]);
StyledTableRow.defaultProps = {};
Object.setPrototypeOf(StyledTableRow.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var StyledTableBody = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].tbody.withConfig({
  displayName: "StyledTable__StyledTableBody",
  componentId: "sc-1m3u5g-3"
})([""]);
StyledTableBody.defaultProps = {};
Object.setPrototypeOf(StyledTableBody.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var StyledTableHeader = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].thead.withConfig({
  displayName: "StyledTable__StyledTableHeader",
  componentId: "sc-1m3u5g-4"
})([""]);
StyledTableHeader.defaultProps = {};
Object.setPrototypeOf(StyledTableHeader.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var StyledTableFooter = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].tfoot.withConfig({
  displayName: "StyledTable__StyledTableFooter",
  componentId: "sc-1m3u5g-5"
})([""]);
StyledTableFooter.defaultProps = {};
Object.setPrototypeOf(StyledTableFooter.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var StyledTable = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].table.withConfig({
  displayName: "StyledTable",
  componentId: "sc-1m3u5g-6"
})(["border-spacing:0;border-collapse:collapse;width:inherit;@media all and (min--moz-device-pixel-ratio:0){table-layout:fixed;}", " ", ";"], _utils__WEBPACK_IMPORTED_MODULE_1__["genericStyles"], function (props) {
  return props.theme.table && props.theme.table.extend;
});
StyledTable.defaultProps = {};
Object.setPrototypeOf(StyledTable.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Table/Table.js":
/*!************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Table/Table.js ***!
  \************************************************************/
/*! exports provided: Table */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Table", function() { return TableWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _StyledTable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./StyledTable */ "./node_modules/grommet/es6/components/Table/StyledTable.js");
function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }




var Table = function Table(_ref) {
  var caption = _ref.caption,
      children = _ref.children,
      rest = _objectWithoutPropertiesLoose(_ref, ["caption", "children"]);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledTable__WEBPACK_IMPORTED_MODULE_1__["StyledTable"], rest, caption ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledTable__WEBPACK_IMPORTED_MODULE_1__["StyledTableDataCaption"], null, caption) : null, children);
};

var TableDoc;

if (true) {
  TableDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Table/doc.js").doc(Table); // eslint-disable-line global-require
}

var TableWrapper = TableDoc || Table;


/***/ }),

/***/ "./node_modules/grommet/es6/components/Table/TableContext.js":
/*!*******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Table/TableContext.js ***!
  \*******************************************************************/
/*! exports provided: TableContext */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TableContext", function() { return TableContext; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

var TableContext = react__WEBPACK_IMPORTED_MODULE_0___default.a.createContext(undefined);

/***/ }),

/***/ "./node_modules/grommet/es6/components/Table/doc.js":
/*!**********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Table/doc.js ***!
  \**********************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _utils_themeDocUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/themeDocUtils */ "./node_modules/grommet/es6/utils/themeDocUtils.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }




var doc = function doc(Table) {
  var DocumentedTable = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Table).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('Table')).description('A table of data organized in cells.').usage( // eslint-disable-next-line max-len
  "import { Table, TableHeader, TableFooter, TableBody, TableRow } from 'grommet';\n<Table />").intrinsicElement('table');
  DocumentedTable.propTypes = _extends({}, _utils__WEBPACK_IMPORTED_MODULE_1__["genericProps"], {
    caption: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description('One line description.')
  });
  return DocumentedTable;
};
var themeDoc = _extends({}, _utils_themeDocUtils__WEBPACK_IMPORTED_MODULE_2__["themeDocUtils"].responsiveBreakpoint('The actual breakpoint to trigger changes in Table.'), {
  'global.size': {
    description: 'The size that impacts max-width and width.',
    defaultValue: "{\n      xxsmall: '48px',\n      xsmall: '96px',\n      small: '192px',\n      medium: '384px',\n      large: '768px',\n      xlarge: '1152px',\n      xxlarge: '1536px',\n      full: '100%',\n      }"
  },
  'table.extend': {
    description: 'Any additional style for Table.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  }
});

/***/ }),

/***/ "./node_modules/grommet/es6/components/Table/index.js":
/*!************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Table/index.js ***!
  \************************************************************/
/*! exports provided: Table */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Table__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Table */ "./node_modules/grommet/es6/components/Table/Table.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Table", function() { return _Table__WEBPACK_IMPORTED_MODULE_0__["Table"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/TableBody/TableBody.js":
/*!********************************************************************!*\
  !*** ./node_modules/grommet/es6/components/TableBody/TableBody.js ***!
  \********************************************************************/
/*! exports provided: TableBody */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TableBody", function() { return TableBodyWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var _hocs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../hocs */ "./node_modules/grommet/es6/components/hocs.js");
/* harmony import */ var _Table_TableContext__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Table/TableContext */ "./node_modules/grommet/es6/components/Table/TableContext.js");
/* harmony import */ var _Table_StyledTable__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Table/StyledTable */ "./node_modules/grommet/es6/components/Table/StyledTable.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }







var TableBody = function TableBody(_ref) {
  var forwardRef = _ref.forwardRef,
      rest = _objectWithoutPropertiesLoose(_ref, ["forwardRef"]);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Table_TableContext__WEBPACK_IMPORTED_MODULE_3__["TableContext"].Provider, {
    value: "body"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Table_StyledTable__WEBPACK_IMPORTED_MODULE_4__["StyledTableBody"], _extends({
    ref: forwardRef
  }, rest)));
};

var TableBodyDoc;

if (true) {
  // eslint-disable-next-line global-require
  TableBodyDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/TableBody/doc.js").doc(TableBody);
}

var TableBodyWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(_hocs__WEBPACK_IMPORTED_MODULE_2__["withForwardRef"])(TableBodyDoc || TableBody);


/***/ }),

/***/ "./node_modules/grommet/es6/components/TableBody/doc.js":
/*!**************************************************************!*\
  !*** ./node_modules/grommet/es6/components/TableBody/doc.js ***!
  \**************************************************************/
/*! exports provided: doc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);

var doc = function doc(TableBody) {
  var DocumentedTableBody = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(TableBody).description('The body of a table.').usage("import { TableBody } from 'grommet';\n<TableBody />").intrinsicElement('tbody');
  return DocumentedTableBody;
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/TableBody/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/grommet/es6/components/TableBody/index.js ***!
  \****************************************************************/
/*! exports provided: TableBody */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _TableBody__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./TableBody */ "./node_modules/grommet/es6/components/TableBody/TableBody.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TableBody", function() { return _TableBody__WEBPACK_IMPORTED_MODULE_0__["TableBody"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/TableCell/TableCell.js":
/*!********************************************************************!*\
  !*** ./node_modules/grommet/es6/components/TableCell/TableCell.js ***!
  \********************************************************************/
/*! exports provided: TableCell */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TableCell", function() { return TableCellWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
/* harmony import */ var _Table_TableContext__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Table/TableContext */ "./node_modules/grommet/es6/components/Table/TableContext.js");
/* harmony import */ var _Table_StyledTable__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Table/StyledTable */ "./node_modules/grommet/es6/components/Table/StyledTable.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }









var TableCell = function TableCell(_ref) {
  var align = _ref.align,
      background = _ref.background,
      border = _ref.border,
      children = _ref.children,
      colSpan = _ref.colSpan,
      pad = _ref.pad,
      plain = _ref.plain,
      scope = _ref.scope,
      size = _ref.size,
      theme = _ref.theme,
      verticalAlign = _ref.verticalAlign,
      rest = _objectWithoutPropertiesLoose(_ref, ["align", "background", "border", "children", "colSpan", "pad", "plain", "scope", "size", "theme", "verticalAlign"]);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Table_TableContext__WEBPACK_IMPORTED_MODULE_5__["TableContext"].Consumer, null, function (tableContext) {
    var tableContextTheme;

    if (tableContext === 'header') {
      tableContextTheme = theme.table && theme.table.header;
    } else if (tableContext === 'footer') {
      tableContextTheme = theme.table && theme.table.footer;
    } else {
      tableContextTheme = theme.table && theme.table.body;
    } // merge tabelContextTheme and rest


    var mergedProps = _extends({}, tableContextTheme, {}, rest);

    Object.keys(mergedProps).forEach(function (key) {
      if (rest[key] === undefined) mergedProps[key] = tableContextTheme[key];
    }); // split out background, border, and pad

    var cellProps = {
      align: align || mergedProps.align || undefined,
      background: background || mergedProps.background || undefined,
      border: border || mergedProps.border || undefined,
      pad: pad || mergedProps.pad || undefined,
      verticalAlign: verticalAlign || mergedProps.verticalAlign || undefined
    };
    delete mergedProps.align;
    delete mergedProps.background;
    delete mergedProps.border;
    delete mergedProps.pad;
    delete mergedProps.verticalAlign;
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Table_StyledTable__WEBPACK_IMPORTED_MODULE_6__["StyledTableCell"], _extends({
      as: scope ? 'th' : undefined,
      scope: scope,
      size: size,
      colSpan: colSpan,
      tableContext: tableContext,
      tableContextTheme: tableContextTheme
    }, plain ? mergedProps : {}, cellProps), plain || !Object.keys(mergedProps).length ? children : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"], _extends({}, mergedProps, {
      align: align
    }), children));
  });
};

TableCell.defaultProps = {};
Object.setPrototypeOf(TableCell.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_3__["defaultProps"]);
var TableCellDoc;

if (true) {
  // eslint-disable-next-line global-require
  TableCellDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/TableCell/doc.js").doc(TableCell);
}

var TableCellWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(styled_components__WEBPACK_IMPORTED_MODULE_2__["withTheme"])(TableCellDoc || TableCell);


/***/ }),

/***/ "./node_modules/grommet/es6/components/TableCell/doc.js":
/*!**************************************************************!*\
  !*** ./node_modules/grommet/es6/components/TableCell/doc.js ***!
  \**************************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);

var doc = function doc(TableCell) {
  var DocumentedTableCell = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(TableCell).description('A cell of data in a table.').usage("import { TableCell } from 'grommet';\n<TableCell />").intrinsicElement('td');
  DocumentedTableCell.propTypes = {
    plain: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Whether default styling context should be removed.').defaultValue(false),
    scope: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['col', 'row']).description("For header cells, what scope the header is for.\n        Typically, the cells in a TableHeader have 'col' scope and\n        the primary cell in each row in the TableBody has 'row' scope."),
    size: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['xxsmall', 'xsmall', 'small', 'medium', 'large', 'xlarge', '1/2', '1/3', '2/3', '1/4', '2/4', '3/4']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description("What size the cell should be. Typically, this is not needed\n      unless you are trying to align multiple tables."),
    verticalAlign: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['top', 'middle', 'bottom']).description('How to align the contents vertically.')
  };
  return DocumentedTableCell;
};
var themeDoc = {
  'table.body.align': {
    description: 'How to align the body inside the Table.',
    type: 'string',
    defaultValue: 'start'
  },
  'table.body.border': {
    description: 'The border side of the body.',
    type: 'string',
    defaultValue: undefined
  },
  'table.body.extend': {
    description: 'Any additional style for Table body.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'table.body.pad': {
    description: 'The padding of the body.',
    type: 'string | object',
    defaultValue: "{ horizontal: 'small', vertical: 'xsmall' }"
  },
  'table.footer.align': {
    description: 'How to align the footer inside the Table.',
    type: 'string',
    defaultValue: 'start'
  },
  'table.footer.border': {
    description: 'The border side of the footer.',
    type: 'string',
    defaultValue: 'top'
  },
  'table.footer.extend': {
    description: 'Any additional style for Table footer.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'table.footer.fill': {
    description: 'Whether the height should fill the footer.',
    type: 'string',
    defaultValue: 'vertical'
  },
  'table.footer.pad': {
    description: 'The padding of the footer.',
    type: 'string | object',
    defaultValue: "{ horizontal: 'small', vertical: 'xsmall' }"
  },
  'table.footer.verticalAlign': {
    description: 'How to align the content vertically.',
    type: 'string',
    defaultValue: 'top'
  },
  'table.header.align': {
    description: 'How to align the header inside the Table.',
    type: 'string',
    defaultValue: 'start'
  },
  'table.header.background': {
    description: 'The background color of the header.',
    type: 'string | object',
    defaultValue: undefined
  },
  'table.header.border': {
    description: 'The border side of the header.',
    type: 'string',
    defaultValue: 'bottom'
  },
  'table.header.fill': {
    description: 'Whether the height should fill the header.',
    type: 'string',
    defaultValue: 'vertical'
  },
  'table.header.extend': {
    description: 'Any additional style for Table header.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'table.header.pad': {
    description: 'The padding of the header.',
    type: 'string | object',
    defaultValue: "{ horizontal: 'small', vertical: 'xsmall' }"
  },
  'table.header.verticalAlign': {
    description: 'How to align the content vertically.',
    type: 'string',
    defaultValue: 'bottom'
  }
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/TableCell/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/grommet/es6/components/TableCell/index.js ***!
  \****************************************************************/
/*! exports provided: TableCell */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _TableCell__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./TableCell */ "./node_modules/grommet/es6/components/TableCell/TableCell.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TableCell", function() { return _TableCell__WEBPACK_IMPORTED_MODULE_0__["TableCell"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/TableFooter/TableFooter.js":
/*!************************************************************************!*\
  !*** ./node_modules/grommet/es6/components/TableFooter/TableFooter.js ***!
  \************************************************************************/
/*! exports provided: TableFooter */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TableFooter", function() { return TableFooterWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Table_TableContext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Table/TableContext */ "./node_modules/grommet/es6/components/Table/TableContext.js");
/* harmony import */ var _Table_StyledTable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Table/StyledTable */ "./node_modules/grommet/es6/components/Table/StyledTable.js");




var TableFooter = function TableFooter(props) {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Table_TableContext__WEBPACK_IMPORTED_MODULE_1__["TableContext"].Provider, {
    value: "footer"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Table_StyledTable__WEBPACK_IMPORTED_MODULE_2__["StyledTableFooter"], props));
};

var TableFooterDoc;

if (true) {
  // eslint-disable-next-line global-require
  TableFooterDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/TableFooter/doc.js").doc(TableFooter);
}

var TableFooterWrapper = TableFooterDoc || TableFooter;


/***/ }),

/***/ "./node_modules/grommet/es6/components/TableFooter/doc.js":
/*!****************************************************************!*\
  !*** ./node_modules/grommet/es6/components/TableFooter/doc.js ***!
  \****************************************************************/
/*! exports provided: doc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);

var doc = function doc(TableFooter) {
  var DocumentedTableFooter = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(TableFooter).description('The footer of a table.').usage("import { TableFooter } from 'grommet';\n<TableFooter />").intrinsicElement('tfoot');
  return DocumentedTableFooter;
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/TableFooter/index.js":
/*!******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/TableFooter/index.js ***!
  \******************************************************************/
/*! exports provided: TableFooter */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _TableFooter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./TableFooter */ "./node_modules/grommet/es6/components/TableFooter/TableFooter.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TableFooter", function() { return _TableFooter__WEBPACK_IMPORTED_MODULE_0__["TableFooter"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/TableHeader/TableHeader.js":
/*!************************************************************************!*\
  !*** ./node_modules/grommet/es6/components/TableHeader/TableHeader.js ***!
  \************************************************************************/
/*! exports provided: TableHeader */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TableHeader", function() { return TableHeaderWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Table_TableContext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Table/TableContext */ "./node_modules/grommet/es6/components/Table/TableContext.js");
/* harmony import */ var _Table_StyledTable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Table/StyledTable */ "./node_modules/grommet/es6/components/Table/StyledTable.js");




var TableHeader = function TableHeader(props) {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Table_TableContext__WEBPACK_IMPORTED_MODULE_1__["TableContext"].Provider, {
    value: "header"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Table_StyledTable__WEBPACK_IMPORTED_MODULE_2__["StyledTableHeader"], props));
};

var TableHeaderDoc;

if (true) {
  // eslint-disable-next-line global-require
  TableHeaderDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/TableHeader/doc.js").doc(TableHeader);
}

var TableHeaderWrapper = TableHeaderDoc || TableHeader;


/***/ }),

/***/ "./node_modules/grommet/es6/components/TableHeader/doc.js":
/*!****************************************************************!*\
  !*** ./node_modules/grommet/es6/components/TableHeader/doc.js ***!
  \****************************************************************/
/*! exports provided: doc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);

var doc = function doc(TableHeader) {
  var DocumentedTableHeader = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(TableHeader).description('The header of a table.').usage("import { TableHeader } from 'grommet';\n<TableHeader />").intrinsicElement('thead');
  return DocumentedTableHeader;
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/TableHeader/index.js":
/*!******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/TableHeader/index.js ***!
  \******************************************************************/
/*! exports provided: TableHeader */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _TableHeader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./TableHeader */ "./node_modules/grommet/es6/components/TableHeader/TableHeader.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TableHeader", function() { return _TableHeader__WEBPACK_IMPORTED_MODULE_0__["TableHeader"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/TableRow/TableRow.js":
/*!******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/TableRow/TableRow.js ***!
  \******************************************************************/
/*! exports provided: TableRow */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TableRow", function() { return TableRowWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Table_StyledTable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Table/StyledTable */ "./node_modules/grommet/es6/components/Table/StyledTable.js");



var TableRow = function TableRow(props) {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Table_StyledTable__WEBPACK_IMPORTED_MODULE_1__["StyledTableRow"], props);
};

var TableRowDoc;

if (true) {
  // eslint-disable-next-line global-require
  TableRowDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/TableRow/doc.js").doc(TableRow);
}

var TableRowWrapper = TableRowDoc || TableRow;


/***/ }),

/***/ "./node_modules/grommet/es6/components/TableRow/doc.js":
/*!*************************************************************!*\
  !*** ./node_modules/grommet/es6/components/TableRow/doc.js ***!
  \*************************************************************/
/*! exports provided: doc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);

var doc = function doc(TableRow) {
  var DocumentedTableRow = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(TableRow).description('A row of cells in a table.').usage("import { TableRow } from 'grommet';\n<TableRow />").intrinsicElement('tr');
  return DocumentedTableRow;
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/TableRow/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/grommet/es6/components/TableRow/index.js ***!
  \***************************************************************/
/*! exports provided: TableRow */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _TableRow__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./TableRow */ "./node_modules/grommet/es6/components/TableRow/TableRow.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TableRow", function() { return _TableRow__WEBPACK_IMPORTED_MODULE_0__["TableRow"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Tabs/StyledTabs.js":
/*!****************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Tabs/StyledTabs.js ***!
  \****************************************************************/
/*! exports provided: StyledTabsHeader, StyledTabPanel, StyledTabs */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledTabsHeader", function() { return StyledTabsHeader; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledTabPanel", function() { return StyledTabPanel; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledTabs", function() { return StyledTabs; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
var _FLEX_MAP;




var StyledTabsHeader = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledTabs__StyledTabsHeader",
  componentId: "a4fwxl-0"
})(["", ";"], function (props) {
  return props.theme.tabs.header.extend;
});
StyledTabsHeader.defaultProps = {};
Object.setPrototypeOf(StyledTabsHeader.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var FLEX_MAP = (_FLEX_MAP = {}, _FLEX_MAP[true] = '1 1', _FLEX_MAP[false] = '0 0', _FLEX_MAP.grow = '1 0', _FLEX_MAP.shrink = '0 1', _FLEX_MAP);
var flexStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["flex:", ";"], function (props) {
  return "" + FLEX_MAP[props.flex] + (props.flex !== true ? ' auto' : '');
});
var StyledTabPanel = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledTabs__StyledTabPanel",
  componentId: "a4fwxl-1"
})(["min-height:0;", " ", ";"], function (props) {
  return props.flex && flexStyle;
}, function (props) {
  return props.theme.tabs.panel.extend;
});
StyledTabPanel.defaultProps = {};
Object.setPrototypeOf(StyledTabPanel.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var StyledTabs = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledTabs",
  componentId: "a4fwxl-2"
})(["", " ", ";"], _utils__WEBPACK_IMPORTED_MODULE_1__["genericStyles"], function (props) {
  return props.theme.tabs.extend;
});
StyledTabs.defaultProps = {};
Object.setPrototypeOf(StyledTabs.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Tabs/Tabs.js":
/*!**********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Tabs/Tabs.js ***!
  \**********************************************************/
/*! exports provided: Tabs */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Tabs", function() { return TabsWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
/* harmony import */ var _StyledTabs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./StyledTabs */ "./node_modules/grommet/es6/components/Tabs/StyledTabs.js");
var _this = undefined;

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }








var Tabs = function Tabs(_ref) {
  var children = _ref.children,
      flex = _ref.flex,
      _ref$justify = _ref.justify,
      justify = _ref$justify === void 0 ? 'center' : _ref$justify,
      _ref$messages = _ref.messages,
      messages = _ref$messages === void 0 ? {
    tabContents: 'Tab Contents'
  } : _ref$messages,
      theme = _ref.theme,
      rest = _objectWithoutPropertiesLoose(_ref, ["children", "flex", "justify", "messages", "theme"]);

  var propsActiveIndex = rest.activeIndex,
      onActive = rest.onActive;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(rest.activeIndex || 0),
      activeIndex = _useState[0],
      setActiveIndex = _useState[1];

  if (activeIndex !== propsActiveIndex && propsActiveIndex !== undefined) {
    setActiveIndex(propsActiveIndex);
  }

  var activateTab = function activateTab(index) {
    if (propsActiveIndex === undefined) {
      setActiveIndex(index);
    }

    if (onActive) {
      onActive(index);
    }
  };
  /* eslint-disable no-param-reassign */


  delete rest.activeIndex;
  delete rest.onActive;
  /* eslint-enable no-param-reassign */

  var activeContent;
  var activeTitle;
  var tabs = react__WEBPACK_IMPORTED_MODULE_0__["Children"].map(children, function (tab, index) {
    if (!tab) return undefined;
    var tabProps = tab.props || {};
    var isTabActive = index === activeIndex;

    if (isTabActive) {
      activeContent = tabProps.children;

      if (typeof tabProps.title === 'string') {
        activeTitle = tabProps.title;
      } else {
        activeTitle = index + 1;
      }
    }

    return Object(react__WEBPACK_IMPORTED_MODULE_0__["cloneElement"])(tab, {
      active: isTabActive,
      onActivate: function onActivate() {
        return activateTab(index);
      }
    });
  }, _this);
  var tabContentTitle = (activeTitle || '') + " " + messages.tabContents;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledTabs__WEBPACK_IMPORTED_MODULE_5__["StyledTabs"], _extends({
    as: _Box__WEBPACK_IMPORTED_MODULE_4__["Box"],
    role: "tablist",
    flex: flex
  }, rest, {
    background: theme.tabs.background
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledTabs__WEBPACK_IMPORTED_MODULE_5__["StyledTabsHeader"], {
    as: _Box__WEBPACK_IMPORTED_MODULE_4__["Box"],
    direction: "row",
    justify: justify,
    flex: false,
    wrap: true,
    background: theme.tabs.header.background,
    gap: theme.tabs.gap
  }, tabs), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledTabs__WEBPACK_IMPORTED_MODULE_5__["StyledTabPanel"], {
    flex: flex,
    "aria-label": tabContentTitle,
    role: "tabpanel"
  }, activeContent));
};

Tabs.defaultProps = {};
Object.setPrototypeOf(Tabs.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_3__["defaultProps"]);
var TabsDoc;

if (true) {
  TabsDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Tabs/doc.js").doc(Tabs); // eslint-disable-line global-require
}

var TabsWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(styled_components__WEBPACK_IMPORTED_MODULE_2__["withTheme"])(TabsDoc || Tabs);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Tabs/doc.js":
/*!*********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Tabs/doc.js ***!
  \*********************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var doc = function doc(Tabs) {
  var DocumentedTabs = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Tabs).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('Tabs')).description('A container with controls to show one Tab at a time.').usage("import { Tabs, Tab } from 'grommet';\n<Tabs>\n  <Tab title='Tab 1'>...</Tab>\n  <Tab title='Tab 2'>...</Tab>\n</Tabs>").intrinsicElement('div');
  DocumentedTabs.propTypes = _extends({}, _utils__WEBPACK_IMPORTED_MODULE_1__["genericProps"], {
    activeIndex: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number.description("Active tab index. If specified, Tabs will be a controlled component.\nThis means that future tab changes will not work unless you subscribe to\nonActive function and update activeIndex accordingly."),
    children: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].node.description('Array of Tab.').isRequired,
    flex: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['grow', 'shrink']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool]).description('Whether flex-grow and/or flex-shrink is true.'),
    justify: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['start', 'center', 'end']).description('How to align the tabs along the main axis.').defaultValue('center'),
    messages: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      tabContents: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string
    }).description('Custom messages for Tabs. Used for accessibility by screen readers.').defaultValue({
      tabContents: 'Tab Contents'
    }),
    onActive: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Function that will be called with the active tab index when the\ncurrently active tab changes.")
  });
  return DocumentedTabs;
};
var themeDoc = {
  'global.borderSize': {
    description: 'The size of the border.',
    type: 'string',
    defaultValue: "{\n      xsmall: '1px',\n      small: '2px',\n      medium: '4px',\n      large: '12px',\n      xlarge: '24px,\n    }"
  },
  'global.colors.border': {
    description: 'The color of tabs border.',
    type: 'string | { dark: string, light: string }',
    defaultValue: '{ dark: rgba(255, 255, 255, 0.33), light: rgba(0, 0, 0, 0.33) }'
  },
  'global.edgeSize.small': {
    description: 'The possible sizes for margin, pad and gap.',
    type: 'string',
    defaultValue: '6px'
  },
  'tabs.background': {
    description: 'background styling of Tabs.',
    type: 'string | object',
    defaultValue: undefined
  },
  'tabs.extend': {
    description: 'Any additional style for Tabs.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'tabs.gap': {
    description: 'The gap size between the Tabs.',
    type: 'string',
    defaultValue: undefined
  },
  'tabs.header.background': {
    description: 'The background styles of Tabs header.',
    type: 'string | { dark: string, light: string }',
    defaultValue: undefined
  },
  'tabs.header.extend': {
    description: 'Any additional style for Tabs header.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'tabs.panel.extend': {
    description: 'Any additional style for Tabs panel.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  }
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/Tabs/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Tabs/index.js ***!
  \***********************************************************/
/*! exports provided: Tabs */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Tabs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Tabs */ "./node_modules/grommet/es6/components/Tabs/Tabs.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Tabs", function() { return _Tabs__WEBPACK_IMPORTED_MODULE_0__["Tabs"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Text/StyledText.js":
/*!****************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Text/StyledText.js ***!
  \****************************************************************/
/*! exports provided: StyledText */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledText", function() { return StyledText; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");




var sizeStyle = function sizeStyle(props) {
  var size = props.size || 'medium';
  var data = props.theme.text[size];

  if (data) {
    return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["font-size:", ";line-height:", ";"], data.size, data.height);
  }

  return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["font-size:", ";line-height:normal;"], size);
};

var TEXT_ALIGN_MAP = {
  center: 'center',
  end: 'right',
  start: 'left'
};
var textAlignStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["text-align:", ";"], function (props) {
  return TEXT_ALIGN_MAP[props.textAlign];
});
var truncateStyle = "\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n";
var colorStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["color:", ";"], function (props) {
  return Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.colorProp, props.theme);
});
var weightStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["font-weight:", ";"], function (props) {
  return props.weight;
});
var wordBreakStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["word-break:", ";"], function (props) {
  return props.wordBreak;
});
var StyledText = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].span.withConfig({
  displayName: "StyledText",
  componentId: "sc-1sadyjn-0"
})(["", " ", " ", " ", " ", " ", " ", " ", ""], _utils__WEBPACK_IMPORTED_MODULE_1__["genericStyles"], function (props) {
  return sizeStyle(props);
}, function (props) {
  return props.textAlign && textAlignStyle;
}, function (props) {
  return props.truncate && truncateStyle;
}, function (props) {
  return props.colorProp && colorStyle;
}, function (props) {
  return props.weight && weightStyle;
}, function (props) {
  return props.wordBreak && wordBreakStyle;
}, function (props) {
  return props.theme.text && props.theme.text.extend;
});
StyledText.defaultProps = {};
Object.setPrototypeOf(StyledText.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Text/Text.js":
/*!**********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Text/Text.js ***!
  \**********************************************************/
/*! exports provided: Text */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Text", function() { return TextWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _StyledText__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./StyledText */ "./node_modules/grommet/es6/components/Text/StyledText.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }




var Text = function Text(_ref) {
  var color = _ref.color,
      tag = _ref.tag,
      as = _ref.as,
      rest = _objectWithoutPropertiesLoose(_ref, ["color", "tag", "as"]);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledText__WEBPACK_IMPORTED_MODULE_1__["StyledText"], _extends({
    as: !as && tag ? tag : as,
    colorProp: color
  }, rest));
};

Text.defaultProps = {
  level: 1
};
var TextDoc;

if (true) {
  TextDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Text/doc.js").doc(Text); // eslint-disable-line global-require
}

var TextWrapper = TextDoc || Text;


/***/ }),

/***/ "./node_modules/grommet/es6/components/Text/doc.js":
/*!*********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Text/doc.js ***!
  \*********************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var doc = function doc(Text) {
  var DocumentedText = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Text).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('Text')).description('Arbitrary text.').usage("import { Text } from 'grommet';\n<Text />").intrinsicElement('span');
  DocumentedText.propTypes = _extends({}, _utils__WEBPACK_IMPORTED_MODULE_1__["genericProps"], {
    color: _utils__WEBPACK_IMPORTED_MODULE_1__["colorPropType"].description('A color identifier to use for the text color.'),
    size: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['xsmall', 'small', 'medium', 'large', 'xlarge', 'xxlarge']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description("The font size and line height are primarily driven by the chosen tag. \nBut, it can be adjusted via this size property. The tag should be set for \nsemantic correctness and accessibility. This size property allows for stylistic\nadjustments.").defaultValue('medium'),
    tag: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func]).description("The DOM tag to use for the element. NOTE: This is deprecated in favor\n         of indicating the DOM tag via the 'as' property."),
    as: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].element]).description("The DOM tag or react component to use for the element.").defaultValue('span'),
    textAlign: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['start', 'center', 'end']).description('How to align the text inside the component.').defaultValue('start'),
    truncate: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Restrict the text to a single line and truncate with ellipsis if it\nis too long to all fit.").defaultValue(false),
    weight: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['normal', 'bold']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number]).description('Font weight'),
    wordBreak: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['normal', 'break-all', 'keep-all', 'break-word']).description('Whether words should break when reaching the end of a line.').defaultValue('normal')
  });
  return DocumentedText;
};
var themeDoc = _extends({
  'global.colors.text': {
    description: 'The text color used for Text.',
    type: 'object | { dark: string, light: string }',
    defaultValue: "{ dark: '#f8f8f8', light: '#444444' }"
  },
  text: {
    description: "The possible sizes of the text in terms of its font-size and \nline-height.",
    type: 'object',
    defaultValue: "{\n      xsmall: {\n        size: '12px',\n        height: '18px',\n       },\n      small: {\n        size: '14px',\n        height: '20px',\n       },\n      medium: {\n        size: '18px',\n        height: '24px',\n      },\n      large: {\n        size: '22px',\n        height: '28px',\n      },\n      xlarge: {\n        size: '26px',\n        height: '32px',\n      },\n      xxlarge: {\n        size: '34px',\n        height: '40px',\n      },\n    }"
  },
  'text.extend': {
    description: 'Any additional style for Text.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  }
}, _utils__WEBPACK_IMPORTED_MODULE_1__["themeDocUtils"].edgeStyle('The possible sizes for margin.'));

/***/ }),

/***/ "./node_modules/grommet/es6/components/Text/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Text/index.js ***!
  \***********************************************************/
/*! exports provided: Text */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Text__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Text */ "./node_modules/grommet/es6/components/Text/Text.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Text", function() { return _Text__WEBPACK_IMPORTED_MODULE_0__["Text"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/TextArea/StyledTextArea.js":
/*!************************************************************************!*\
  !*** ./node_modules/grommet/es6/components/TextArea/StyledTextArea.js ***!
  \************************************************************************/
/*! exports provided: StyledTextArea */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledTextArea", function() { return StyledTextArea; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");



var plainStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["border:none;width:100%;-webkit-appearance:none;"]);

var sizeStyle = function sizeStyle(props) {
  var data = props.theme.text[props.size];
  return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["font-size:", ";line-height:", ";"], data.size, data.height);
};

var resizeStyle = function resizeStyle(resize) {
  if (resize === 'horizontal') {
    return 'resize: horizontal;';
  }

  if (resize === 'vertical') {
    return 'resize: vertical;';
  }

  if (resize) {
    return 'resize: both;';
  }

  return 'resize: none;';
};

var StyledTextArea = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].textarea.withConfig({
  displayName: "StyledTextArea",
  componentId: "sc-17i3mwp-0"
})(["", " width:100%;", " ", " ", " ", " ", " ", " &::-moz-focus-inner{border:none;outline:none;}", ";", ";"], _utils__WEBPACK_IMPORTED_MODULE_1__["inputStyle"], function (props) {
  return props.resize !== undefined && resizeStyle(props.resize);
}, function (props) {
  return props.fillArg && 'height: 100%;';
}, function (props) {
  return props.size && sizeStyle(props);
}, function (props) {
  return props.plain && plainStyle;
}, function (props) {
  return props.disabled && Object(_utils__WEBPACK_IMPORTED_MODULE_1__["disabledStyle"])(props.theme.textArea.disabled && props.theme.textArea.disabled.opacity);
}, _utils__WEBPACK_IMPORTED_MODULE_1__["placeholderStyle"], function (props) {
  return props.focus && !props.plain && _utils__WEBPACK_IMPORTED_MODULE_1__["focusStyle"];
}, function (props) {
  return props.theme.textArea && props.theme.textArea.extend;
});
StyledTextArea.defaultProps = {};
Object.setPrototypeOf(StyledTextArea.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);


/***/ }),

/***/ "./node_modules/grommet/es6/components/TextArea/TextArea.js":
/*!******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/TextArea/TextArea.js ***!
  \******************************************************************/
/*! exports provided: TextArea */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TextArea", function() { return TextAreaWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var _Keyboard__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Keyboard */ "./node_modules/grommet/es6/components/Keyboard/index.js");
/* harmony import */ var _hocs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../hocs */ "./node_modules/grommet/es6/components/hocs.js");
/* harmony import */ var _StyledTextArea__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./StyledTextArea */ "./node_modules/grommet/es6/components/TextArea/StyledTextArea.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }







var TextArea = function TextArea(_ref) {
  var fill = _ref.fill,
      forwardRef = _ref.forwardRef,
      rest = _objectWithoutPropertiesLoose(_ref, ["fill", "forwardRef"]);

  var onEsc = function onEsc(event) {
    // we have to stop both synthetic events and native events
    // drop and layer should not close by pressing esc on this input
    event.stopPropagation();
    event.nativeEvent.stopImmediatePropagation();
  };

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Keyboard__WEBPACK_IMPORTED_MODULE_2__["Keyboard"], {
    onEsc: onEsc
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledTextArea__WEBPACK_IMPORTED_MODULE_4__["StyledTextArea"], _extends({
    ref: forwardRef,
    fillArg: fill
  }, rest)));
};

var TextAreaDoc;

if (true) {
  // eslint-disable-next-line global-require
  TextAreaDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/TextArea/doc.js").doc(TextArea);
}

var TextAreaWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(Object(_hocs__WEBPACK_IMPORTED_MODULE_3__["withFocus"])({
  focusWithMouse: true
}), _hocs__WEBPACK_IMPORTED_MODULE_3__["withForwardRef"])(TextAreaDoc || TextArea);


/***/ }),

/***/ "./node_modules/grommet/es6/components/TextArea/doc.js":
/*!*************************************************************!*\
  !*** ./node_modules/grommet/es6/components/TextArea/doc.js ***!
  \*************************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var doc = function doc(TextArea) {
  var DocumentedTextArea = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(TextArea).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('TextArea')).description('A control to input multiple lines of text.').usage("import { TextArea } from 'grommet';\n<TextArea id='item' name='item' />").intrinsicElement('textarea');
  DocumentedTextArea.propTypes = {
    id: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description('The id attribute of the textarea.'),
    fill: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Whether the width and height should fill the container.').defaultValue(false),
    focusIndicator: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Whether the plain textarea should receive a focus outline.'),
    name: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description('The name attribute of the textarea.'),
    onChange: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description('Function that will be called when the user types in the textarea.'),
    placeholder: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description('Placeholder text to use when no value is provided.'),
    plain: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Whether this is a plain textarea with no border or padding.\nOnly use this when the containing context provides sufficient affordance."),
    value: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description('What text to put in the textarea.'),
    resize: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['vertical', 'horizontal']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool]).description('Whether user is allowed to resize the textarea.').defaultValue(true),
    size: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['small', 'medium', 'large', 'xlarge']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description('The size of the TextArea.')
  };
  return DocumentedTextArea;
};
var themeDoc = _extends({
  'global.colors.border': {
    description: 'The color of the border.',
    type: 'string | { dark: string, light: string }',
    defaultValue: {
      dark: 'rgba(255, 255, 255, 0.33)',
      light: 'rgba(0, 0, 0, 0.33)'
    }
  },
  'global.control.border.color': {
    description: 'The border color.',
    type: 'string',
    defaultValue: 'border'
  },
  'global.control.border.radius': {
    description: 'The border radius.',
    type: 'string',
    defaultValue: '4px'
  },
  'global.control.border.width': {
    description: 'The border width.',
    type: 'string',
    defaultValue: '1px'
  },
  'textArea.extend': {
    description: 'Any additional style for Text.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'textArea.disabled.opacity': {
    description: 'The opacity when the textArea is disabled.',
    type: 'number',
    defaultValue: 0.3
  }
}, _utils__WEBPACK_IMPORTED_MODULE_1__["themeDocUtils"].focusStyle, {}, _utils__WEBPACK_IMPORTED_MODULE_1__["themeDocUtils"].placeholderStyle, {}, _utils__WEBPACK_IMPORTED_MODULE_1__["themeDocUtils"].inputStyle, {}, _utils__WEBPACK_IMPORTED_MODULE_1__["themeDocUtils"].disabledStyle);

/***/ }),

/***/ "./node_modules/grommet/es6/components/TextArea/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/grommet/es6/components/TextArea/index.js ***!
  \***************************************************************/
/*! exports provided: TextArea */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _TextArea__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./TextArea */ "./node_modules/grommet/es6/components/TextArea/TextArea.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TextArea", function() { return _TextArea__WEBPACK_IMPORTED_MODULE_0__["TextArea"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/TextInput/StyledTextInput.js":
/*!**************************************************************************!*\
  !*** ./node_modules/grommet/es6/components/TextInput/StyledTextInput.js ***!
  \**************************************************************************/
/*! exports provided: StyledTextInput, StyledTextInputContainer, StyledPlaceholder, StyledSuggestions */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledTextInput", function() { return StyledTextInput; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledTextInputContainer", function() { return StyledTextInputContainer; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledPlaceholder", function() { return StyledPlaceholder; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledSuggestions", function() { return StyledSuggestions; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");




var sizeStyle = function sizeStyle(props) {
  var data = props.theme.text[props.size];
  return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["font-size:", ";line-height:", ";"], data.size, data.height);
};

var plainStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["border:none;"]);
var StyledTextInput = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].input.withConfig({
  displayName: "StyledTextInput",
  componentId: "sc-1x30a0s-0"
})(["", " width:100%;", " ", " ", " &::-moz-focus-inner{border:none;outline:none;}", ";", " ", ";"], _utils__WEBPACK_IMPORTED_MODULE_1__["inputStyle"], function (props) {
  return props.size && sizeStyle(props);
}, function (props) {
  return props.plain && plainStyle;
}, _utils__WEBPACK_IMPORTED_MODULE_1__["placeholderStyle"], function (props) {
  return props.focus && !props.plain && _utils__WEBPACK_IMPORTED_MODULE_1__["focusStyle"];
}, function (props) {
  return props.disabled && Object(_utils__WEBPACK_IMPORTED_MODULE_1__["disabledStyle"])(props.theme.textInput.disabled && props.theme.textInput.disabled.opacity);
}, function (props) {
  return props.theme.textInput && props.theme.textInput.extend;
});
StyledTextInput.defaultProps = {};
Object.setPrototypeOf(StyledTextInput.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var StyledTextInputContainer = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledTextInput__StyledTextInputContainer",
  componentId: "sc-1x30a0s-1"
})(["position:relative;width:100%;", ";"], function (props) {
  return props.theme.textInput && props.theme.textInput.container && props.theme.textInput.container.extend;
});
StyledTextInputContainer.defaultProps = {};
Object.setPrototypeOf(StyledTextInputContainer.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var StyledPlaceholder = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledTextInput__StyledPlaceholder",
  componentId: "sc-1x30a0s-2"
})(["position:absolute;left:", "px;top:50%;transform:translateY(-50%);display:flex;justify-content:center;pointer-events:none;", ";"], function (props) {
  return Object(_utils__WEBPACK_IMPORTED_MODULE_1__["parseMetricToNum"])(props.theme.global.input.padding) - Object(_utils__WEBPACK_IMPORTED_MODULE_1__["parseMetricToNum"])(props.theme.global.control.border.width);
}, function (props) {
  return props.theme.textInput && props.theme.textInput.placeholder && props.theme.textInput.placeholder.extend;
});
StyledPlaceholder.defaultProps = {};
Object.setPrototypeOf(StyledPlaceholder.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var StyledSuggestions = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].ol.withConfig({
  displayName: "StyledTextInput__StyledSuggestions",
  componentId: "sc-1x30a0s-3"
})(["border-top-left-radius:0;border-top-right-radius:0;margin:0;padding:0;list-style-type:none;", ";"], function (props) {
  return props.theme.textInput && props.theme.textInput.suggestions && props.theme.textInput.suggestions.extend;
});
StyledSuggestions.defaultProps = {};
Object.setPrototypeOf(StyledSuggestions.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);


/***/ }),

/***/ "./node_modules/grommet/es6/components/TextInput/TextInput.js":
/*!********************************************************************!*\
  !*** ./node_modules/grommet/es6/components/TextInput/TextInput.js ***!
  \********************************************************************/
/*! exports provided: TextInput */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TextInput", function() { return TextInputWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Button */ "./node_modules/grommet/es6/components/Button/index.js");
/* harmony import */ var _Drop__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Drop */ "./node_modules/grommet/es6/components/Drop/index.js");
/* harmony import */ var _InfiniteScroll__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../InfiniteScroll */ "./node_modules/grommet/es6/components/InfiniteScroll/index.js");
/* harmony import */ var _Keyboard__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../Keyboard */ "./node_modules/grommet/es6/components/Keyboard/index.js");
/* harmony import */ var _hocs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../hocs */ "./node_modules/grommet/es6/components/hocs.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _StyledTextInput__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./StyledTextInput */ "./node_modules/grommet/es6/components/TextInput/StyledTextInput.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }














function renderLabel(suggestion) {
  if (suggestion && typeof suggestion === 'object') {
    return suggestion.label || suggestion.value;
  }

  return suggestion;
}

function stringLabel(suggestion) {
  if (suggestion && typeof suggestion === 'object') {
    if (suggestion.label && typeof suggestion.label === 'string') {
      return suggestion.label;
    }

    return suggestion.value;
  }

  return suggestion;
}

var ContainerBox = Object(styled_components__WEBPACK_IMPORTED_MODULE_2__["default"])(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"]).withConfig({
  displayName: "TextInput__ContainerBox",
  componentId: "sc-1ai0c08-0"
})(["", ";@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){width:100%;}"], function (props) {
  return props.dropHeight ? Object(_utils__WEBPACK_IMPORTED_MODULE_10__["sizeStyle"])('max-height', props.dropHeight, props.theme) : 'max-height: inherit;';
});

var TextInput =
/*#__PURE__*/
function (_Component) {
  _inheritsLoose(TextInput, _Component);

  function TextInput() {
    var _this;

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _Component.call.apply(_Component, [this].concat(args)) || this;

    _defineProperty(_assertThisInitialized(_this), "state", {
      activeSuggestionIndex: -1,
      showDrop: false
    });

    _defineProperty(_assertThisInitialized(_this), "inputRef", react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef());

    _defineProperty(_assertThisInitialized(_this), "announce", function (message, mode) {
      var _this$props = _this.props,
          announce = _this$props.announce,
          suggestions = _this$props.suggestions;

      if (suggestions && suggestions.length > 0) {
        announce(message, mode);
      }
    });

    _defineProperty(_assertThisInitialized(_this), "announceSuggestionsCount", function () {
      var _this$props2 = _this.props,
          suggestions = _this$props2.suggestions,
          suggestionsCount = _this$props2.messages.suggestionsCount;

      _this.announce(suggestions.length + " " + suggestionsCount);
    });

    _defineProperty(_assertThisInitialized(_this), "announceSuggestionsExist", function () {
      var suggestionsExist = _this.props.messages.suggestionsExist;

      _this.announce(suggestionsExist);
    });

    _defineProperty(_assertThisInitialized(_this), "announceSuggestionsIsOpen", function () {
      var suggestionIsOpen = _this.props.messages.suggestionIsOpen;

      _this.announce(suggestionIsOpen);
    });

    _defineProperty(_assertThisInitialized(_this), "announceSuggestion", function (index) {
      var _this$props3 = _this.props,
          suggestions = _this$props3.suggestions,
          enterSelect = _this$props3.messages.enterSelect;

      if (suggestions && suggestions.length > 0) {
        var labelMessage = stringLabel(suggestions[index]);

        _this.announce(labelMessage + " " + enterSelect);
      }
    });

    _defineProperty(_assertThisInitialized(_this), "resetSuggestions", function () {
      // delay this to avoid re-render interupting event delivery
      // https://github.com/grommet/grommet/issues/2154
      // 10ms was chosen empirically based on ie11 using TextInput
      // with and without a FormField.
      clearTimeout(_this.resetTimer);
      _this.resetTimer = setTimeout(function () {
        var suggestions = _this.props.suggestions;

        if (suggestions && suggestions.length) {
          _this.setState({
            activeSuggestionIndex: -1,
            showDrop: true,
            selectedSuggestionIndex: -1
          }, _this.announceSuggestionsCount);
        }
      }, 10);
    });

    _defineProperty(_assertThisInitialized(_this), "getSelectedSuggestionIndex", function () {
      var _this$props4 = _this.props,
          suggestions = _this$props4.suggestions,
          value = _this$props4.value;
      var suggestionValues = suggestions.map(function (suggestion) {
        if (typeof suggestion === 'object') {
          return suggestion.value;
        }

        return suggestion;
      });
      return suggestionValues.indexOf(value);
    });

    _defineProperty(_assertThisInitialized(_this), "onShowSuggestions", function () {
      // Get values of suggestions, so we can highlight selected suggestion
      var selectedSuggestionIndex = _this.getSelectedSuggestionIndex();

      _this.setState({
        showDrop: true,
        activeSuggestionIndex: -1,
        selectedSuggestionIndex: selectedSuggestionIndex
      }, _this.announceSuggestionsIsOpen);
    });

    _defineProperty(_assertThisInitialized(_this), "onNextSuggestion", function (event) {
      var suggestions = _this.props.suggestions;
      var _this$state = _this.state,
          activeSuggestionIndex = _this$state.activeSuggestionIndex,
          showDrop = _this$state.showDrop;

      if (suggestions && suggestions.length > 0) {
        if (!showDrop) {
          _this.onShowSuggestions();
        } else {
          event.preventDefault();
          var index = Math.min(activeSuggestionIndex + 1, suggestions.length - 1);

          _this.setState({
            activeSuggestionIndex: index
          }, function () {
            return _this.announceSuggestion(index);
          });
        }
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onPreviousSuggestion", function (event) {
      var suggestions = _this.props.suggestions;
      var _this$state2 = _this.state,
          activeSuggestionIndex = _this$state2.activeSuggestionIndex,
          showDrop = _this$state2.showDrop;

      if (suggestions && suggestions.length > 0 && showDrop) {
        event.preventDefault();
        var index = Math.max(activeSuggestionIndex - 1, 0);

        _this.setState({
          activeSuggestionIndex: index
        }, function () {
          return _this.announceSuggestion(index);
        });
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onClickSuggestion", function (suggestion, event) {
      var _this$props5 = _this.props,
          forwardRef = _this$props5.forwardRef,
          onSelect = _this$props5.onSelect;

      _this.setState({
        showDrop: false,
        activeSuggestionIndex: -1
      });

      if (onSelect) {
        // TODO: needed for backwards compatibility sake

        /* eslint-disable no-param-reassign */
        event.suggestion = suggestion;
        event.target = (forwardRef || _this.inputRef).current;
        /* eslint-enable no-param-reassign */

        onSelect(event);
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onSuggestionSelect", function (event) {
      var _this$props6 = _this.props,
          forwardRef = _this$props6.forwardRef,
          onSelect = _this$props6.onSelect,
          suggestions = _this$props6.suggestions;
      var activeSuggestionIndex = _this.state.activeSuggestionIndex;

      _this.setState({
        showDrop: false,
        activeSuggestionIndex: -1
      });

      if (activeSuggestionIndex >= 0) {
        event.preventDefault(); // prevent submitting forms
        // TODO: needed for backwards compatibility sake

        /* eslint-disable no-param-reassign */

        event.suggestion = suggestions[activeSuggestionIndex];
        event.target = (forwardRef || _this.inputRef).current;
        /* eslint-enable no-param-reassign */

        if (onSelect) {
          onSelect(event);
        }
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onFocus", function (event) {
      var _this$props7 = _this.props,
          onFocus = _this$props7.onFocus,
          suggestions = _this$props7.suggestions;

      if (suggestions && suggestions.length > 0) {
        _this.announceSuggestionsExist();
      }

      _this.resetSuggestions();

      if (onFocus) {
        onFocus(event);
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onBlur", function (event) {
      var onBlur = _this.props.onBlur;
      clearTimeout(_this.resetTimer);

      if (onBlur) {
        onBlur(event);
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onChange", function (event) {
      var onChange = _this.props.onChange;

      _this.resetSuggestions();

      if (onChange) {
        onChange(event);
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onEsc", function (event) {
      var showDrop = _this.state.showDrop;

      if (showDrop) {
        // we have to stop both synthetic events and native events
        // drop and layer should not close by pressing esc on this input
        event.stopPropagation();
        event.nativeEvent.stopImmediatePropagation();

        _this.setState({
          showDrop: false
        });
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onTab", function () {
      _this.setState({
        showDrop: false
      });
    });

    _defineProperty(_assertThisInitialized(_this), "renderSuggestions", function () {
      var _this$props8 = _this.props,
          suggestions = _this$props8.suggestions,
          theme = _this$props8.theme;
      var _this$state3 = _this.state,
          activeSuggestionIndex = _this$state3.activeSuggestionIndex,
          selectedSuggestionIndex = _this$state3.selectedSuggestionIndex;
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledTextInput__WEBPACK_IMPORTED_MODULE_11__["StyledSuggestions"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_InfiniteScroll__WEBPACK_IMPORTED_MODULE_7__["InfiniteScroll"], {
        items: suggestions,
        step: theme.select.step
      }, function (suggestion, index) {
        var plain = typeof suggestion === 'object' && typeof Object(react__WEBPACK_IMPORTED_MODULE_0__["isValidElement"])(suggestion.label);
        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
          key: stringLabel(suggestion) + "-" + index
        }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_5__["Button"], {
          active: activeSuggestionIndex === index || selectedSuggestionIndex === index,
          fill: true,
          hoverIndicator: "background",
          onClick: function onClick(event) {
            _this.onClickSuggestion(suggestion, event);
          }
        }, plain ? renderLabel(suggestion) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"], {
          align: "start",
          pad: "small"
        }, renderLabel(suggestion))));
      }));
    });

    return _this;
  }

  TextInput.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {
    var suggestions = nextProps.suggestions;
    var showDrop = prevState.showDrop;

    if (showDrop && (!suggestions || !suggestions.length)) {
      return {
        showDrop: false
      };
    }

    return null;
  };

  var _proto = TextInput.prototype;

  _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {
    var _this$props9 = this.props,
        onSuggestionsOpen = _this$props9.onSuggestionsOpen,
        onSuggestionsClose = _this$props9.onSuggestionsClose,
        suggestions = _this$props9.suggestions;
    var showDrop = this.state.showDrop;

    if (showDrop !== prevState.showDrop) {
      if (showDrop && onSuggestionsOpen) {
        onSuggestionsOpen();
      } else if (onSuggestionsClose) {
        onSuggestionsClose();
      }
    }

    if (!showDrop && suggestions && (!prevProps.suggestions || !prevProps.suggestions.length)) {
      this.resetSuggestions();
    }
  };

  _proto.componentWillUnmount = function componentWillUnmount() {
    clearTimeout(this.resetTimer);
  };

  _proto.render = function render() {
    var _this2 = this;

    var _this$props10 = this.props,
        defaultValue = _this$props10.defaultValue,
        dropAlign = _this$props10.dropAlign,
        dropHeight = _this$props10.dropHeight,
        dropTarget = _this$props10.dropTarget,
        dropProps = _this$props10.dropProps,
        forwardRef = _this$props10.forwardRef,
        id = _this$props10.id,
        placeholder = _this$props10.placeholder,
        plain = _this$props10.plain,
        theme = _this$props10.theme,
        value = _this$props10.value,
        onKeyDown = _this$props10.onKeyDown,
        rest = _objectWithoutPropertiesLoose(_this$props10, ["defaultValue", "dropAlign", "dropHeight", "dropTarget", "dropProps", "forwardRef", "id", "placeholder", "plain", "theme", "value", "onKeyDown"]);

    delete rest.onChange; // se we can manage in this.onChange()

    delete rest.onSuggestionsOpen;
    delete rest.onSuggestionsClose;
    var showDrop = this.state.showDrop; // needed so that styled components does not invoke
    // onSelect when text input is clicked

    delete rest.onSelect;
    var drop;

    if (showDrop) {
      drop = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Drop__WEBPACK_IMPORTED_MODULE_6__["Drop"], _extends({
        id: id ? "text-input-drop__" + id : undefined,
        align: dropAlign,
        responsive: false,
        target: dropTarget || (forwardRef || this.inputRef).current,
        onClickOutside: function onClickOutside() {
          return _this2.setState({
            showDrop: false
          });
        },
        onEsc: function onEsc() {
          return _this2.setState({
            showDrop: false
          });
        }
      }, dropProps), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ContainerBox, {
        overflow: "auto",
        dropHeight: dropHeight
      }, this.renderSuggestions()));
    }

    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledTextInput__WEBPACK_IMPORTED_MODULE_11__["StyledTextInputContainer"], {
      plain: plain
    }, placeholder && typeof placeholder !== 'string' && !value ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledTextInput__WEBPACK_IMPORTED_MODULE_11__["StyledPlaceholder"], null, placeholder) : null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Keyboard__WEBPACK_IMPORTED_MODULE_8__["Keyboard"], {
      onEnter: this.onSuggestionSelect,
      onEsc: this.onEsc,
      onTab: this.onTab,
      onUp: this.onPreviousSuggestion,
      onDown: this.onNextSuggestion,
      onKeyDown: onKeyDown
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledTextInput__WEBPACK_IMPORTED_MODULE_11__["StyledTextInput"], _extends({
      id: id,
      ref: forwardRef || this.inputRef,
      autoComplete: "off",
      plain: plain,
      placeholder: typeof placeholder === 'string' ? placeholder : undefined
    }, rest, {
      defaultValue: renderLabel(defaultValue),
      value: renderLabel(value),
      onFocus: this.onFocus,
      onBlur: this.onBlur,
      onChange: this.onChange
    }))), drop);
  };

  return TextInput;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

_defineProperty(TextInput, "defaultProps", {
  dropAlign: {
    top: 'bottom',
    left: 'left'
  },
  messages: {
    enterSelect: '(Press Enter to Select)',
    suggestionsCount: 'suggestions available',
    suggestionsExist: 'This input has suggestions use arrow keys to navigate',
    suggestionIsOpen: 'Suggestions drop is open, continue to use arrow keys to navigate'
  }
});

Object.setPrototypeOf(TextInput.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_3__["defaultProps"]);
var TextInputDoc;

if (true) {
  // eslint-disable-next-line global-require
  TextInputDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/TextInput/doc.js").doc(TextInput);
}

var TextInputWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(Object(_hocs__WEBPACK_IMPORTED_MODULE_9__["withFocus"])({
  focusWithMouse: true
}), styled_components__WEBPACK_IMPORTED_MODULE_2__["withTheme"], _hocs__WEBPACK_IMPORTED_MODULE_9__["withAnnounce"], _hocs__WEBPACK_IMPORTED_MODULE_9__["withForwardRef"])(TextInputDoc || TextInput);


/***/ }),

/***/ "./node_modules/grommet/es6/components/TextInput/doc.js":
/*!**************************************************************!*\
  !*** ./node_modules/grommet/es6/components/TextInput/doc.js ***!
  \**************************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var doc = function doc(TextInput) {
  var DocumentedTextInput = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(TextInput).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('TextInput')).description('A control to input a single line of text, with optional suggestions.').usage("import { TextInput } from 'grommet';\n<TextInput id='item' name='item' />").intrinsicElement('input');
  DocumentedTextInput.propTypes = {
    dropAlign: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      top: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['top', 'bottom']),
      bottom: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['top', 'bottom']),
      right: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['left', 'right']),
      left: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['left', 'right'])
    }).description('How to align the drop.').defaultValue({
      top: 'bottom',
      left: 'left'
    }),
    dropHeight: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['xsmall', 'small', 'medium', 'large', 'xlarge']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description('The height of the drop container.'),
    dropTarget: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object.description("Target where any suggestions drop will be aligned to. This should be\n      a React reference. Typically, this is not required as the drop will be\n      aligned to the TextInput itself by default."),
    dropProps: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object.description('Any valid Drop prop.'),
    id: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description('The id attribute of the input.'),
    focusIndicator: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Whether the plain text input should receive a focus outline.'),
    messages: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      enterSelect: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
      suggestionsCount: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
      suggestionsExist: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
      suggestionIsOpen: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string
    }).description("Custom messages for TextInput. Used for accessibility by screen \n        readers.").defaultValue({
      enterSelect: '(Press Enter to Select)',
      suggestionsCount: 'suggestions available',
      suggestionsExist: 'This input has suggestions use arrow keys to navigate',
      suggestionIsOpen: 'Suggestions drop is open, continue to use arrow keys to navigate'
    }),
    name: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description('The name attribute of the input.'),
    onChange: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description('Function that will be called when the user types in the input.'),
    onSelect: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Function that will be called when the user selects a suggestion.\nThe suggestion contains the object chosen from the supplied suggestions."),
    onSuggestionsOpen: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description('Function that will be called when the suggestions drop is opened.'),
    onSuggestionsClose: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description('Function that will be called when the suggestions drop is closed.'),
    placeholder: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].node.description('Placeholder to use when no value is provided.'),
    plain: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Whether this is a plain input with no border or padding.\nOnly use this when the containing context provides sufficient affordance"),
    size: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['small', 'medium', 'large', 'xlarge']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description('The size of the TextInput.'),
    suggestions: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      label: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].node,
      value: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].any
    }), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string])).description("Suggestions to show. It is recommended to avoid showing too many\nsuggestions and instead rely on the user to type more."),
    value: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number]).description('What text to put in the input.')
  };
  return DocumentedTextInput;
};
var themeDoc = _extends({
  'global.colors.border': {
    description: 'The color of the border.',
    type: 'object',
    defaultValue: {
      dark: 'rgba(255, 255, 255, 0.33)',
      light: 'rgba(0, 0, 0, 0.33)'
    }
  },
  'global.control.border.color': {
    description: 'The border color.',
    type: 'string',
    defaultValue: 'border'
  },
  'global.control.border.radius': {
    description: 'The border radius.',
    type: 'string',
    defaultValue: '4px'
  },
  'global.control.border.width': {
    description: 'The border width.',
    type: 'string',
    defaultValue: '1px'
  },
  'select.step': {
    description: 'How many suggestions to render at a time.',
    type: 'number',
    defaultValue: 20
  },
  text: {
    description: "The possible sizes of the text in terms of its font-size and \n    line-height.",
    type: 'object',
    defaultValue: "{\n      xsmall: {\n        size: '12px',\n        height: '18px',\n       },\n      small: {\n        size: '14px',\n        height: '20px',\n       },\n      medium: {\n        size: '18px',\n        height: '24px',\n      },\n      large: {\n        size: '22px',\n        height: '28px',\n      },\n      xlarge: {\n        size: '26px',\n        height: '32px',\n      },\n      xxlarge: {\n        size: '34px',\n        height: '40px',\n      },\n    }"
  },
  'textInput.extend': {
    description: 'Any additional style for TextInput.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'textInput.container.extend': {
    description: 'Any additional style for TextInput container.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'textInput.placeholder.extend': {
    description: 'Any additional style for non-string placeholder inside TextInput.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'textInput.suggestions.extend': {
    description: 'Any additional style for TextInput suggestions.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'textInput.disabled.opacity': {
    description: 'The opacity when the textInput is disabled.',
    type: 'number',
    defaultValue: 0.3
  }
}, _utils__WEBPACK_IMPORTED_MODULE_1__["themeDocUtils"].focusStyle, {}, _utils__WEBPACK_IMPORTED_MODULE_1__["themeDocUtils"].placeholderStyle, {}, _utils__WEBPACK_IMPORTED_MODULE_1__["themeDocUtils"].disabledStyle, {}, _utils__WEBPACK_IMPORTED_MODULE_1__["themeDocUtils"].inputStyle);

/***/ }),

/***/ "./node_modules/grommet/es6/components/TextInput/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/grommet/es6/components/TextInput/index.js ***!
  \****************************************************************/
/*! exports provided: TextInput */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _TextInput__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./TextInput */ "./node_modules/grommet/es6/components/TextInput/TextInput.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TextInput", function() { return _TextInput__WEBPACK_IMPORTED_MODULE_0__["TextInput"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Video/StyledVideo.js":
/*!******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Video/StyledVideo.js ***!
  \******************************************************************/
/*! exports provided: StyledVideo, StyledVideoContainer, StyledVideoControls, StyledVideoScrubber */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledVideo", function() { return StyledVideo; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledVideoContainer", function() { return StyledVideoContainer; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledVideoControls", function() { return StyledVideoControls; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledVideoScrubber", function() { return StyledVideoScrubber; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");



var FIT_MAP = {
  cover: 'cover',
  contain: 'contain'
};
var fitStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["flex:1 1;min-height:0;object-fit:", ";"], function (props) {
  return FIT_MAP[props.fit];
});
var StyledVideo = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].video.withConfig({
  displayName: "StyledVideo",
  componentId: "w4v8h9-0"
})(["max-width:100%;", "::cue{background:", ";}", ";"], function (props) {
  return props.fit && fitStyle;
}, function (props) {
  return props.theme.video.captions.background;
}, function (props) {
  return props.theme.video && props.theme.video.extend;
});
StyledVideo.defaultProps = {};
Object.setPrototypeOf(StyledVideo.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var StyledVideoContainer = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledVideo__StyledVideoContainer",
  componentId: "w4v8h9-1"
})(["flex:1 1;display:flex;flex-direction:column;overflow:hidden;position:relative;", ";"], _utils__WEBPACK_IMPORTED_MODULE_1__["genericStyles"]);
StyledVideoContainer.defaultProps = {};
Object.setPrototypeOf(StyledVideoContainer.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var positionStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["position:absolute;left:0;right:0;bottom:0;"]);
var StyledVideoControls = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledVideo__StyledVideoControls",
  componentId: "w4v8h9-2"
})(["flex:0 0;", " opacity:0;transition:opacity 0.3s;", ";"], function (props) {
  return props.over && positionStyle;
}, function (props) {
  return props.active ? 'opacity: 1;' : 'pointer-events: none';
});
StyledVideoControls.defaultProps = {};
Object.setPrototypeOf(StyledVideoControls.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var headStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["::after{content:'';height:100%;width:", ";background:", ";position:absolute;left:", ";}"], function (props) {
  return props.theme.global.edgeSize.xsmall;
}, function (props) {
  return Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.video.scrubber.color, props.theme);
}, function (props) {
  return props.value + "%";
});
var StyledVideoScrubber = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledVideo__StyledVideoScrubber",
  componentId: "w4v8h9-3"
})(["cursor:pointer;width:100%;height:100%;", ";"], function (props) {
  return props.value && headStyle;
});
StyledVideoScrubber.defaultProps = {};
Object.setPrototypeOf(StyledVideoScrubber.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Video/Video.js":
/*!************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Video/Video.js ***!
  \************************************************************/
/*! exports provided: Video */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Video", function() { return VideoWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Button */ "./node_modules/grommet/es6/components/Button/index.js");
/* harmony import */ var _Menu__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Menu */ "./node_modules/grommet/es6/components/Menu/index.js");
/* harmony import */ var _Meter__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Meter */ "./node_modules/grommet/es6/components/Meter/index.js");
/* harmony import */ var _Stack__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../Stack */ "./node_modules/grommet/es6/components/Stack/index.js");
/* harmony import */ var _Text__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../Text */ "./node_modules/grommet/es6/components/Text/index.js");
/* harmony import */ var _hocs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../hocs */ "./node_modules/grommet/es6/components/hocs.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _StyledVideo__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./StyledVideo */ "./node_modules/grommet/es6/components/Video/StyledVideo.js");
function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }













 // Split the volume control into 6 segments. Empirically determined.

var VOLUME_STEP = 0.166667;

var formatTime = function formatTime(time) {
  var minutes = Math.round(time / 60);

  if (minutes < 10) {
    minutes = "0" + minutes;
  }

  var seconds = Math.round(time) % 60;

  if (seconds < 10) {
    seconds = "0" + seconds;
  }

  return minutes + ":" + seconds;
};

var videoEvents = ['onAbort', 'onCanPlay', 'onCanPlayThrough', 'onDurationChange', 'onEmptied', 'onEncrypted', 'onEnded', 'onError', 'onLoadedData', 'onLoadedMetadata', 'onLoadStart', 'onPause', 'onPlay', 'onPlaying', 'onProgress', 'onRateChange', 'onSeeked', 'onSeeking', 'onStalled', 'onSuspend', 'onTimeUpdate', 'onVolumeChange', 'onWaiting'];

var Video =
/*#__PURE__*/
function (_Component) {
  _inheritsLoose(Video, _Component);

  Video.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {
    var forwardRef = nextProps.forwardRef;
    var videoRef = prevState.videoRef;
    var nextVideoRef = forwardRef || videoRef;

    if (nextVideoRef !== videoRef) {
      return {
        videoRef: nextVideoRef
      };
    }

    return null;
  };

  function Video(props) {
    var _this;

    _this = _Component.call(this, props) || this;

    _defineProperty(_assertThisInitialized(_this), "state", {
      captions: [],
      scrubberRef: react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef(),
      videoRef: react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef()
    });

    _defineProperty(_assertThisInitialized(_this), "hasPlayed", false);

    _defineProperty(_assertThisInitialized(_this), "injectUpdateVideoEvents", function () {
      return videoEvents.reduce(function (previousValue, currentValue) {
        var nextValue = _extends({}, previousValue);

        nextValue[currentValue] = function (e) {
          if (currentValue in _this.props &&
          /* eslint-disable react/destructuring-assignment */
          typeof _this.props[currentValue] === 'function') {
            _this.props[currentValue](e);
            /* eslint-enable react/destructuring-assignment */

          }

          _this.update();
        };

        return nextValue;
      }, {});
    });

    _defineProperty(_assertThisInitialized(_this), "update", function () {
      var videoRef = _this.state.videoRef;
      var video = videoRef.current; // Set flag for Video first play

      if (!_this.hasPlayed && !video.paused && !video.loading || video.currentTime) {
        _this.hasPlayed = true;
      }

      var interacting = _this.state.interacting;

      if (video.ended) {
        interacting = false;
      }

      _this.setState({
        duration: video.duration,
        currentTime: video.currentTime,
        // buffered: video.buffered,
        // paused: video.paused,
        // muted: video.muted,
        volume: video.volume,
        // ended: video.ended,
        // readyState: video.readyState,
        interacting: interacting,
        // computed values
        // hasPlayed: this.hasPlayed,
        playing: !video.paused && !video.loading,
        // percentageBuffered: video.buffered.length &&
        //   (video.buffered.end(video.buffered.length - 1) /
        //   video.duration) * 100,
        percentagePlayed: video.currentTime / video.duration * 100 // loading: video.readyState < video.HAVE_ENOUGH_DATA,

      });
    });

    _defineProperty(_assertThisInitialized(_this), "play", function () {
      var videoRef = _this.state.videoRef;
      videoRef.current.play();
    });

    _defineProperty(_assertThisInitialized(_this), "pause", function () {
      var videoRef = _this.state.videoRef;
      videoRef.current.pause();
    });

    _defineProperty(_assertThisInitialized(_this), "scrub", function (event) {
      var _this$state = _this.state,
          duration = _this$state.duration,
          scrubberRef = _this$state.scrubberRef;

      if (scrubberRef.current) {
        var scrubberRect = scrubberRef.current.getBoundingClientRect();
        var percent = (event.clientX - scrubberRect.left) / scrubberRect.width;

        _this.setState({
          scrubTime: duration * percent
        });
      }
    });

    _defineProperty(_assertThisInitialized(_this), "seek", function (event) {
      var _this$state2 = _this.state,
          duration = _this$state2.duration,
          scrubberRef = _this$state2.scrubberRef,
          videoRef = _this$state2.videoRef;

      if (scrubberRef.current) {
        var scrubberRect = scrubberRef.current.getBoundingClientRect();
        var percent = (event.clientX - scrubberRect.left) / scrubberRect.width;
        videoRef.current.currentTime = duration * percent;
      }
    });

    _defineProperty(_assertThisInitialized(_this), "unmute", function () {
      var videoRef = _this.state.videoRef;

      if (videoRef.current) {
        videoRef.current.muted = false;
      }
    });

    _defineProperty(_assertThisInitialized(_this), "mute", function () {
      var videoRef = _this.state.videoRef;

      if (videoRef.current) {
        videoRef.current.muted = true;
      }
    });

    _defineProperty(_assertThisInitialized(_this), "louder", function () {
      var videoRef = _this.state.videoRef;
      videoRef.current.volume += VOLUME_STEP;
    });

    _defineProperty(_assertThisInitialized(_this), "quieter", function () {
      var videoRef = _this.state.videoRef;
      videoRef.current.volume -= VOLUME_STEP;
    });

    _defineProperty(_assertThisInitialized(_this), "showCaptions", function (index) {
      var videoRef = _this.state.videoRef;
      var textTracks = videoRef.current.textTracks;

      for (var i = 0; i < textTracks.length; i += 1) {
        textTracks[i].mode = i === index ? 'showing' : 'hidden';
      } // Using forceUpdate to force redraw of controls when changing captions


      _this.forceUpdate();
    });

    _defineProperty(_assertThisInitialized(_this), "fullscreen", function () {
      var videoRef = _this.state.videoRef;
      var video = videoRef.current;

      if (video.requestFullscreen) {
        video.requestFullscreen();
      } else if (video.msRequestFullscreen) {
        video.msRequestFullscreen();
      } else if (video.mozRequestFullScreen) {
        video.mozRequestFullScreen();
      } else if (video.webkitRequestFullscreen) {
        video.webkitRequestFullscreen();
      } else {
        console.warn("Your browser doesn't support fullscreen.");
      }
    });

    _defineProperty(_assertThisInitialized(_this), "interactionStart", function () {
      _this.setState({
        interacting: true
      });

      clearTimeout(_this.interactionTimer);
      _this.interactionTimer = setTimeout(_this.interactionStop, 3000);
    });

    _defineProperty(_assertThisInitialized(_this), "interactionStop", function () {
      var focus = _this.state.focus;

      if (!focus && !_this.unmounted) {
        _this.setState({
          interacting: false
        });
      }
    });

    _defineProperty(_assertThisInitialized(_this), "restate", function () {
      var _this$state3 = _this.state,
          captions = _this$state3.captions,
          height = _this$state3.height,
          videoRef = _this$state3.videoRef,
          width = _this$state3.width;
      var video = videoRef.current;

      if (video) {
        if (video.videoHeight) {
          // set the size based on the video aspect ratio
          var rect = video.getBoundingClientRect();
          var ratio = rect.width / rect.height;
          var videoRatio = video.videoWidth / video.videoHeight;

          if (videoRatio > ratio) {
            var nextHeight = rect.width / videoRatio;

            if (nextHeight !== height) {
              _this.setState({
                height: nextHeight,
                width: undefined
              });
            }
          } else {
            var nextWidth = rect.height * videoRatio;

            if (nextWidth !== width) {
              _this.setState({
                height: undefined,
                width: nextWidth
              });
            }
          }
        } // remember the state of the text tracks for subsequent rendering


        var textTracks = video.textTracks;

        if (textTracks.length > 0) {
          if (textTracks.length === 1) {
            var active = textTracks[0].mode === 'showing';

            if (!captions || !captions[0] || captions[0].active !== active) {
              _this.setState({
                captions: [{
                  active: active
                }]
              });
            }
          } else {
            var nextCaptions = [];
            var set = false;

            for (var i = 0; i < textTracks.length; i += 1) {
              var track = textTracks[i];

              var _active = track.mode === 'showing';

              nextCaptions.push({
                label: track.label,
                active: _active
              });

              if (!captions || !captions[i] || captions[i].active !== _active) {
                set = true;
              }
            }

            if (set) {
              _this.setState({
                captions: nextCaptions
              });
            }
          }
        }
      }
    });

    _this.update = Object(_utils__WEBPACK_IMPORTED_MODULE_11__["throttle"])(_this.update, 100, _assertThisInitialized(_this));
    _this.mediaEventProps = _this.injectUpdateVideoEvents();
    return _this;
  }

  var _proto = Video.prototype;

  _proto.componentDidMount = function componentDidMount() {
    var mute = this.props.mute;
    var videoRef = this.state.videoRef;
    var video = videoRef.current;

    if (mute) {
      this.mute();
    }

    if (video) {
      // hide all captioning to start with
      var textTracks = video.textTracks;

      for (var i = 0; i < textTracks.length; i += 1) {
        textTracks[i].mode = 'hidden';
      }

      this.restate();
    }
  };

  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {
    var autoPlay = this.props.autoPlay;

    if (autoPlay && !prevProps.autoPlay) {
      // Caller wants the video to play now.
      this.play();
    }

    this.restate();
  };

  _proto.componentWillUnmount = function componentWillUnmount() {
    this.unmounted = true;
  };

  _proto.renderControls = function renderControls() {
    var _this2 = this;

    var _this$props = this.props,
        controls = _this$props.controls,
        theme = _this$props.theme;
    var _this$state4 = this.state,
        captions = _this$state4.captions,
        currentTime = _this$state4.currentTime,
        duration = _this$state4.duration,
        interacting = _this$state4.interacting,
        percentagePlayed = _this$state4.percentagePlayed,
        playing = _this$state4.playing,
        scrubberRef = _this$state4.scrubberRef,
        scrubTime = _this$state4.scrubTime,
        volume = _this$state4.volume;
    var over = controls === 'over';
    var background = over ? theme.video.controls && theme.video.controls.background || {
      color: 'dark-1',
      opacity: 'strong'
    } : undefined;
    var iconColor = over && (theme.video.icons.color || 'light-1');
    var formattedTime = formatTime(scrubTime || currentTime || duration);
    var Icons = {
      ClosedCaption: theme.video.icons.closedCaption,
      Configure: theme.video.icons.configure,
      FullScreen: theme.video.icons.fullScreen,
      Pause: theme.video.icons.pause,
      Play: theme.video.icons.play,
      ReduceVolume: theme.video.icons.reduceVolume,
      Volume: theme.video.icons.volume
    };
    var captionControls = captions.map(function (caption) {
      return {
        icon: caption.label ? undefined : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Icons.ClosedCaption, {
          color: iconColor
        }),
        label: caption.label,
        active: caption.active,
        onClick: function onClick() {
          return _this2.showCaptions(caption.active ? -1 : 0);
        }
      };
    });
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledVideo__WEBPACK_IMPORTED_MODULE_12__["StyledVideoControls"], {
      over: over,
      active: !this.hasPlayed || controls === 'below' || over && interacting
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"], {
      direction: "row",
      align: "center",
      justify: "between",
      background: background
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_5__["Button"], {
      icon: playing ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Icons.Pause, {
        color: iconColor
      }) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Icons.Play, {
        color: iconColor
      }),
      hoverIndicator: "background",
      onClick: playing ? this.pause : this.play
    }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"], {
      direction: "row",
      align: "center",
      flex: true
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"], {
      flex: true
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Stack__WEBPACK_IMPORTED_MODULE_8__["Stack"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Meter__WEBPACK_IMPORTED_MODULE_7__["Meter"], {
      "aria-label": "Video progress",
      background: over ? theme.video.scrubber && theme.video.scrubber.track && theme.video.scrubber.track.color || 'dark-3' : undefined,
      size: "full",
      thickness: "small",
      values: [{
        value: percentagePlayed || 0
      }]
    }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledVideo__WEBPACK_IMPORTED_MODULE_12__["StyledVideoScrubber"], {
      ref: scrubberRef,
      tabIndex: 0,
      role: "button",
      value: scrubTime ? Math.round(scrubTime / duration * 100) : undefined,
      onMouseMove: this.scrub,
      onMouseLeave: function onMouseLeave() {
        return _this2.setState({
          scrubTime: undefined
        });
      },
      onClick: this.seek
    }))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"], {
      pad: {
        horizontal: 'small'
      }
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Text__WEBPACK_IMPORTED_MODULE_9__["Text"], {
      margin: "none"
    }, formattedTime))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Menu__WEBPACK_IMPORTED_MODULE_6__["Menu"], {
      icon: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Icons.Configure, {
        color: iconColor
      }),
      dropAlign: {
        bottom: 'top',
        right: 'right'
      },
      dropBackground: background,
      items: [{
        icon: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Icons.Volume, {
          color: iconColor
        }),
        onClick: volume <= 1 - VOLUME_STEP ? this.louder : undefined,
        close: false
      }, {
        icon: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Icons.ReduceVolume, {
          color: iconColor
        }),
        onClick: volume >= VOLUME_STEP ? this.quieter : undefined,
        close: false
      }].concat(captionControls, [{
        icon: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Icons.FullScreen, {
          color: iconColor
        }),
        onClick: this.fullscreen
      }])
    })));
  };

  _proto.render = function render() {
    var _this$props2 = this.props,
        alignSelf = _this$props2.alignSelf,
        autoPlay = _this$props2.autoPlay,
        children = _this$props2.children,
        controls = _this$props2.controls,
        gridArea = _this$props2.gridArea,
        loop = _this$props2.loop,
        margin = _this$props2.margin,
        theme = _this$props2.theme,
        rest = _objectWithoutPropertiesLoose(_this$props2, ["alignSelf", "autoPlay", "children", "controls", "gridArea", "loop", "margin", "theme"]);

    var _this$state5 = this.state,
        height = _this$state5.height,
        videoRef = _this$state5.videoRef,
        width = _this$state5.width;
    var controlsElement = controls ? this.renderControls() : undefined;
    var mouseEventListeners;

    if (controls === 'over') {
      mouseEventListeners = {
        onMouseEnter: this.interactionStart,
        onMouseMove: this.interactionStart,
        onTouchStart: this.interactionStart
      };
    }

    var style;

    if (rest.fit === 'contain' && controls === 'over') {
      // constrain the size to fit the aspect ratio so the controls
      // overlap correctly
      if (width) {
        style = {
          width: width
        };
      } else if (height) {
        style = {
          height: height
        };
      }
    }

    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledVideo__WEBPACK_IMPORTED_MODULE_12__["StyledVideoContainer"], _extends({}, mouseEventListeners, {
      alignSelf: alignSelf,
      gridArea: gridArea,
      margin: margin,
      style: style
    }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledVideo__WEBPACK_IMPORTED_MODULE_12__["StyledVideo"], _extends({}, rest, {
      ref: videoRef
    }, this.mediaEventProps, {
      autoPlay: autoPlay || false,
      loop: loop || false
    }), children), controlsElement);
  };

  return Video;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

Video.defaultProps = {
  controls: 'over'
};
Object.setPrototypeOf(Video.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_3__["defaultProps"]);
var VideoDoc;

if (true) {
  // eslint-disable-next-line global-require
  VideoDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Video/doc.js").doc(Video);
}

var VideoWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(styled_components__WEBPACK_IMPORTED_MODULE_2__["withTheme"], _hocs__WEBPACK_IMPORTED_MODULE_10__["withForwardRef"])(VideoDoc || Video);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Video/doc.js":
/*!**********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Video/doc.js ***!
  \**********************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _utils_themeDocUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/themeDocUtils */ "./node_modules/grommet/es6/utils/themeDocUtils.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }




var doc = function doc(Video) {
  var DocumentedVideo = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Video).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('Video')).description('A video player.').usage("import { Video } from 'grommet';\n<Video />").intrinsicElement('video');
  DocumentedVideo.propTypes = _extends({}, _utils__WEBPACK_IMPORTED_MODULE_1__["genericProps"], {
    autoPlay: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Enables automatic playback of the video as soon as it is loaded.'),
    controls: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf([false, 'over', 'below']).description('Whether to show playback controls and where to place them.').defaultValue('over'),
    fit: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['cover', 'contain']).description('How the image fills its container.'),
    loop: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Enables continuous video looping.'),
    mute: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Enables video muting. This option is best used with the autoPlay flag.')
  });
  return DocumentedVideo;
};
var themeDoc = _extends({}, _utils_themeDocUtils__WEBPACK_IMPORTED_MODULE_2__["themeDocUtils"].responsiveBreakpoint('The actual breakpoint to trigger changes in the video component layout.'), {
  'global.edgeSize.xsmall': {
    description: 'The width of the video scrubber.',
    type: 'object',
    defaultValue: '6px'
  },
  'video.captions.background': {
    description: 'The caption background color of the video ',
    type: 'string',
    defaultValue: 'rgba(0, 0, 0, 0.7)'
  },
  'video.scrubber.color': {
    description: 'The background color of the video scrubber.',
    type: 'string',
    defaultValue: 'light-4'
  },
  'video.extend': {
    description: 'Any additional style for Video.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  }
});

/***/ }),

/***/ "./node_modules/grommet/es6/components/Video/index.js":
/*!************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Video/index.js ***!
  \************************************************************/
/*! exports provided: Video */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Video__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Video */ "./node_modules/grommet/es6/components/Video/Video.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Video", function() { return _Video__WEBPACK_IMPORTED_MODULE_0__["Video"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/WorldMap/StyledWorldMap.js":
/*!************************************************************************!*\
  !*** ./node_modules/grommet/es6/components/WorldMap/StyledWorldMap.js ***!
  \************************************************************************/
/*! exports provided: StyledWorldMap */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledWorldMap", function() { return StyledWorldMap; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");




var fillStyle = function fillStyle(fillProp) {
  if (fillProp === 'horizontal') {
    return "\n      width: 100%;\n      height: unset;\n    ";
  }

  if (fillProp === 'vertical') {
    return "\n      width: unset;\n      height: 100%;\n    ";
  }

  if (fillProp) {
    return "\n      width: 100%;\n      height: 100%;\n    ";
  }

  return '';
}; // undefined fillProp has width for backwards compatibility


var StyledWorldMap = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].svg.withConfig({
  displayName: "StyledWorldMap",
  componentId: "had4c3-0"
})(["", " ", " ", ";"], _utils__WEBPACK_IMPORTED_MODULE_1__["genericStyles"], function (props) {
  return props.fillProp !== undefined ? fillStyle(props.fillProp) : 'width: 100%;';
}, function (props) {
  return props.theme.worldMap && props.theme.worldMap.extend;
});
StyledWorldMap.defaultProps = {};
Object.setPrototypeOf(StyledWorldMap.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);


/***/ }),

/***/ "./node_modules/grommet/es6/components/WorldMap/WorldMap.js":
/*!******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/WorldMap/WorldMap.js ***!
  \******************************************************************/
/*! exports provided: WorldMap */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WorldMap", function() { return WorldMapWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _StyledWorldMap__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./StyledWorldMap */ "./node_modules/grommet/es6/components/WorldMap/StyledWorldMap.js");
function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }






 // The graphic is drawn as a rectangular grid using coordinates spaced
// by FACTOR pixels. The contents have both an area boundary for interaction
// and dots described as rows where each row is described by three values:
// a starting coordinate and a length. This approach is more efficient than
// describing it via SVG elements, keeping the code/library size smaller.

var CONTINENTS = [{
  name: 'Australia',
  origin: [74, 32],
  area: [[4, 0], [7, 1], [15, 7], [13, 9], [0, 6], [0, 2]],
  dots: [[4, 0, 1], [2, 1, 6], [0, 2, 9], [0, 3, 10], [0, 4, 10], [0, 5, 3], [5, 5, 5], [5, 6, 4], [15, 7, 1], [14, 8, 1], [13, 9, 1]]
}, {
  name: 'Asia',
  origin: [52, 1],
  area: [[16, 0], [38, 5], [40, 7], [28, 17], [24, 25], [29, 29], [19, 29], [11, 24], [3, 23], [0, 20], [0, 19], [6, 13], [7, 6]],
  dots: [[16, 0, 1], [17, 1, 2], [18, 2, 2], [15, 3, 6], [28, 3, 1], [30, 3, 1], [10, 4, 2], [13, 4, 10], [24, 4, 1], [9, 5, 22], [32, 5, 1], [38, 5, 1], [7, 6, 2], [10, 6, 1], [12, 6, 27], [7, 7, 34], [7, 8, 31], [7, 9, 26], [34, 9, 3], [7, 10, 22], [31, 10, 1], [33, 10, 1], [7, 11, 21], [32, 11, 2], [7, 12, 21], [32, 12, 1], [6, 13, 22], [32, 13, 1], [6, 14, 22], [5, 15, 22], [3, 16, 2], [6, 16, 20], [2, 17, 3], [6, 17, 16], [24, 17, 1], [28, 17, 1], [1, 18, 22], [26, 18, 2], [0, 19, 24], [0, 20, 5], [6, 20, 17], [2, 21, 5], [10, 21, 14], [2, 22, 5], [11, 22, 4], [16, 22, 4], [3, 23, 3], [11, 23, 2], [17, 23, 3], [23, 23, 1], [11, 24, 2], [18, 24, 2], [23, 24, 1], [24, 25, 1], [18, 26, 1], [22, 26, 1], [18, 27, 1], [20, 27, 4], [18, 28, 1], [21, 28, 1], [23, 28, 1], [26, 28, 3], [19, 29, 1], [28, 29, 2]]
}, {
  // 21X, 40Y
  name: 'Africa',
  origin: [40, 19],
  area: [[3, 0], [6, 0], [11, 2], [16, 7], [16, 15], [11, 18], [9, 18], [0, 6], [0, 3]],
  dots: [[3, 0, 4], [2, 1, 6], [9, 1, 2], [1, 2, 11], [0, 3, 13], [0, 4, 14], [0, 5, 14], [0, 6, 16], [1, 7, 16], [2, 8, 2], [6, 8, 11], [7, 9, 9], [7, 10, 8], [7, 11, 7], [8, 12, 7], [7, 13, 8], [7, 14, 7], [16, 14, 1], [8, 15, 5], [15, 15, 2], [8, 16, 5], [9, 17, 3], [9, 18, 3]]
}, {
  name: 'Europe',
  origin: [39, 2],
  area: [[8, 0], [10, 0], [20, 2], [19, 11], [18, 13], [14, 16], [3, 16], [0, 7]],
  dots: [[8, 0, 3], [9, 1, 1], [20, 2, 1], [19, 3, 1], [12, 4, 1], [19, 4, 1], [9, 5, 6], [9, 6, 7], [17, 6, 3], [0, 7, 1], [8, 7, 12], [7, 8, 3], [11, 8, 9], [7, 9, 3], [11, 9, 9], [4, 10, 1], [7, 10, 1], [9, 10, 1], [11, 10, 9], [3, 11, 2], [7, 11, 13], [4, 12, 1], [6, 12, 13], [4, 13, 15], [5, 14, 3], [9, 14, 4], [15, 14, 2], [3, 15, 3], [8, 15, 1], [10, 15, 5], [6, 15, 2], [3, 16, 2], [10, 16, 5]]
}, {
  name: 'South America',
  origin: [22, 26],
  area: [[2, 0], [5, 0], [11, 4], [11, 8], [3, 18], [2, 17], [0, 4], [0, 3]],
  dots: [[2, 0, 4], [1, 1, 7], [1, 2, 7], [0, 3, 10], [0, 4, 12], [1, 5, 11], [2, 6, 9], [3, 7, 8], [3, 8, 8], [3, 9, 6], [3, 10, 6], [3, 11, 5], [3, 12, 3], [2, 13, 3], [2, 14, 3], [2, 15, 2], [2, 16, 2], [2, 17, 2], [3, 18, 1]]
}, {
  name: 'North America',
  origin: [0, 0],
  area: [[21, 0], [39, 0], [39, 6], [22, 26], [16, 23], [2, 12], [0, 7]],
  dots: [[22, 0, 6], [29, 0, 1], [31, 0, 1], [33, 0, 5], [20, 1, 1], [22, 1, 1], [24, 1, 2], [27, 1, 13], [17, 2, 1], [20, 2, 5], [26, 2, 13], [13, 3, 1], [19, 3, 1], [21, 3, 3], [26, 3, 14], [14, 4, 1], [16, 4, 4], [21, 4, 3], [29, 4, 11], [12, 5, 3], [16, 5, 1], [18, 5, 1], [20, 5, 3], [24, 5, 1], [30, 5, 8], [14, 6, 3], [19, 6, 1], [22, 6, 4], [31, 6, 8], [0, 7, 15], [16, 7, 1], [18, 7, 4], [24, 7, 2], [30, 7, 7], [2, 8, 20], [24, 8, 3], [29, 8, 5], [2, 9, 20], [24, 9, 2], [30, 9, 3], [1, 10, 18], [23, 10, 2], [31, 10, 1], [2, 11, 2], [8, 11, 11], [23, 11, 2], [26, 11, 1], [2, 12, 1], [8, 12, 13], [24, 12, 3], [10, 13, 12], [23, 13, 5], [11, 14, 17], [11, 15, 9], [21, 15, 6], [28, 15, 2], [11, 16, 11], [23, 16, 4], [11, 17, 14], [12, 18, 11], [12, 19, 12], [13, 20, 9], [15, 21, 3], [22, 21, 1], [16, 22, 2], [16, 23, 2], [20, 23, 1], [23, 23, 1], [18, 24, 3], [21, 25, 1], [22, 26, 1]]
}]; // FACTOR is the distance in pixels between coordinates

var FACTOR = 10;

var maxCoordinate = function maxCoordinate(a, b) {
  return [Math.max(a[0], b[0]), Math.max(a[1], b[1])];
}; // const minCoordinate = (a, b) =>
//   [Math.min(a[0], b[0]), Math.min(a[1], b[1])];
// Based on https://stackoverflow.com/a/43861247


var MAP_LAT_BOTTOM = -50.0; // empirically determined

var MAP_LAT_BOTTOM_RAD = MAP_LAT_BOTTOM * Math.PI / 180;
var MAP_LON_LEFT = -171.0; // empirically determined

var MAP_LON_RIGHT = 184.0; // empirically determined

var MAP_LON_DELTA = MAP_LON_RIGHT - MAP_LON_LEFT;

var mapValues = function mapValues(extent) {
  var mapRadius = extent[0] / MAP_LON_DELTA * 360 / (2 * Math.PI);
  var mapOffsetY = Math.round(mapRadius / 2 * Math.log((1 + Math.sin(MAP_LAT_BOTTOM_RAD)) / (1 - Math.sin(MAP_LAT_BOTTOM_RAD))));
  return {
    mapRadius: mapRadius,
    mapOffsetY: mapOffsetY
  };
};

var latLonToCoord = function latLonToCoord(latLon, origin, extent) {
  var _mapValues = mapValues(extent),
      mapRadius = _mapValues.mapRadius,
      mapOffsetY = _mapValues.mapOffsetY;

  var x = Math.round((latLon[1] - MAP_LON_LEFT) * extent[0] / MAP_LON_DELTA);
  var latitudeRad = latLon[0] * Math.PI / 180;
  var y = extent[1] + mapOffsetY - Math.round(mapRadius / 2 * Math.log((1 + Math.sin(latitudeRad)) / (1 - Math.sin(latitudeRad))));
  return [x, y]; // the coordinate value of this point on the map image
};

var coordToLatLon = function coordToLatLon(coord, origin, extent) {
  var _mapValues2 = mapValues(extent),
      mapRadius = _mapValues2.mapRadius,
      mapOffsetY = _mapValues2.mapOffsetY;

  var a = (extent[1] + mapOffsetY - coord[1]) / mapRadius;
  var lat = 180 / Math.PI * (2 * Math.atan(Math.exp(a)) - Math.PI / 2);
  var lon = coord[0] * MAP_LON_DELTA / extent[0] + MAP_LON_LEFT;
  return [lat, lon];
};

var buildContinentState = function buildContinentState(_ref) {
  var area = _ref.area,
      dots = _ref.dots,
      origin = _ref.origin;
  var extent = [].concat(origin);
  var stateDots = dots.map(function (segment) {
    var count = segment[2];
    var spots = [];

    for (var i = 0; i < count; i += 1) {
      spots.push('h0');
    }

    var dotCommands = spots.join(' m10,0 ');
    var x = FACTOR * (origin[0] + segment[0] + 1);
    var y = FACTOR * (origin[1] + segment[1] + 1);
    extent = maxCoordinate(extent, [origin[0] + segment[0] + segment[2], origin[1] + segment[1]]);
    return "M" + x + "," + y + " " + dotCommands;
  }).join(' ');
  var stateArea = area.map(function (point, index) {
    var x = FACTOR * (point[0] + origin[0] + 1);
    var y = FACTOR * (point[1] + origin[1] + 1);
    return "" + (index === 0 ? 'M' : 'L') + x + "," + y;
  }).join(' ') + " Z";
  var mid = [origin[0] + (extent[0] - origin[0]) / 2, origin[1] + (extent[1] - origin[1]) / 2];
  return {
    area: stateArea,
    dots: stateDots,
    origin: origin,
    extent: extent,
    mid: mid
  };
};

var buildState = function buildState() {
  var continents = {}; // Build the SVG paths describing the individual dots

  var origin = [0, 0];
  var extent = [0, 0];
  CONTINENTS.forEach(function (continent) {
    continents[continent.name] = buildContinentState(continent);
    extent = maxCoordinate(extent, continents[continent.name].extent);
  });
  return {
    continents: continents,
    extent: extent,
    origin: origin,
    x: origin[0] * FACTOR,
    y: origin[1] * FACTOR,
    width: (extent[0] - origin[0] + 1) * FACTOR,
    height: (extent[1] - origin[1] + 2) * FACTOR
  };
};

var updateState = function updateState(state, _ref2) {
  var continents = _ref2.continents,
      places = _ref2.places;

  var nextState = _extends({}, state);

  if (continents) {
    continents.forEach(function (continent) {
      nextState.continents[continent.name] = _extends({}, state.continents[continent.name], {}, continent);
    });
  }

  nextState.places = (places || []).map(function (_ref3) {
    var location = _ref3.location,
        place = _objectWithoutPropertiesLoose(_ref3, ["location"]);

    var coords = latLonToCoord(location, state.origin, state.extent);
    return _extends({
      coords: coords,
      key: location.join(',')
    }, place);
  });
  return nextState;
};

var buildInteractiveProps = function buildInteractiveProps(_ref4, activeFunc, active) {
  var name = _ref4.name,
      onClick = _ref4.onClick,
      onHover = _ref4.onHover;
  return {
    role: 'button',
    'aria-label': name,
    tabIndex: '0',
    onClick: onClick ? function () {
      return onClick(name);
    } : undefined,
    onMouseOver: function onMouseOver() {
      if (!active) {
        activeFunc(name);

        if (onHover) {
          onHover(true);
        }
      }
    },
    onMouseLeave: function onMouseLeave() {
      if (active) {
        activeFunc(undefined);

        if (onHover) {
          onHover(false);
        }
      }
    },
    onFocus: function onFocus() {
      // This moves the map unnecessarily. Instead, we should check
      // the position and scroll if it isn't already visible
      // this._worldMapRef.scrollIntoView();
      if (!active) {
        activeFunc(name);
      }
    },
    onBlur: function onBlur() {
      if (active) {
        activeFunc(undefined);
      }
    }
  };
};

var WorldMap =
/*#__PURE__*/
function (_Component) {
  _inheritsLoose(WorldMap, _Component);

  function WorldMap() {
    var _this;

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _Component.call.apply(_Component, [this].concat(args)) || this;

    _defineProperty(_assertThisInitialized(_this), "state", {});

    _defineProperty(_assertThisInitialized(_this), "onMouseOver", function () {
      // track when we're over the map to avoid dealing with mouse moves
      _this.setState({
        over: true
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onMouseMove", function (event) {
      var width = _this.state.width; // determine the map coordinates for where the mouse is
      // containerRef uses the group so we can handle aspect ratio scaling

      var rect = _this.containerRef.getBoundingClientRect();

      var scale = rect.width / width; // since the SVG viewBox might be scaled

      var coords = [Math.round((event.clientX - rect.left) / scale / FACTOR), Math.round((event.clientY - rect.top) / scale / FACTOR)];

      _this.setState({
        activeCoords: coords
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onMouseLeave", function () {
      _this.setState({
        over: false,
        activeCoords: undefined
      });
    });

    return _this;
  }

  WorldMap.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {
    if (!prevState.continents) {
      return updateState(buildState(), nextProps);
    }

    return updateState(prevState, nextProps);
  };

  var _proto = WorldMap.prototype;

  _proto.render = function render() {
    var _this2 = this;

    var _this$props = this.props,
        color = _this$props.color,
        fill = _this$props.fill,
        onSelectPlace = _this$props.onSelectPlace,
        hoverColor = _this$props.hoverColor,
        theme = _this$props.theme,
        rest = _objectWithoutPropertiesLoose(_this$props, ["color", "fill", "onSelectPlace", "hoverColor", "theme"]);

    delete rest.places;
    delete rest.continents;
    var _this$state = this.state,
        activeContinent = _this$state.activeContinent,
        activeCoords = _this$state.activeCoords,
        activePlace = _this$state.activePlace,
        continentStates = _this$state.continents,
        extent = _this$state.extent,
        origin = _this$state.origin,
        over = _this$state.over,
        placeStates = _this$state.places,
        x = _this$state.x,
        y = _this$state.y,
        width = _this$state.width,
        height = _this$state.height;
    var continents = Object.keys(continentStates).map(function (name) {
      var _continentStates$name = continentStates[name],
          area = _continentStates$name.area,
          continentColor = _continentStates$name.color,
          dots = _continentStates$name.dots,
          onClick = _continentStates$name.onClick,
          onHover = _continentStates$name.onHover;
      var active = activeContinent && activeContinent === name;
      var interactiveProps = {};

      if (onClick || onHover) {
        interactiveProps = buildInteractiveProps(continentStates[name], function (activate) {
          return _this2.setState({
            activeContinent: activate
          });
        }, active);
      }

      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("g", _extends({
        key: name
      }, interactiveProps), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path", {
        stroke: "none",
        fill: "#fff",
        fillOpacity: "0.01",
        d: area
      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path", {
        d: dots,
        strokeLinecap: "round",
        strokeWidth: Object(_utils__WEBPACK_IMPORTED_MODULE_4__["parseMetricToNum"])(theme.worldMap.continent[active ? 'active' : 'base']),
        stroke: Object(_utils__WEBPACK_IMPORTED_MODULE_4__["normalizeColor"])(continentColor || color || theme.worldMap.color, theme)
      }));
    });
    var places = placeStates.map(function (place) {
      var placeColor = place.color,
          coords = place.coords,
          key = place.key,
          name = place.name,
          onClick = place.onClick,
          onHover = place.onHover,
          restPlace = _objectWithoutPropertiesLoose(place, ["color", "coords", "key", "name", "onClick", "onHover"]);

      var d = "M" + FACTOR * coords[0] + ", " + FACTOR * coords[1] + " h0";
      var active = activePlace && activePlace === name;
      var interactiveProps = {};

      if (onClick || onHover) {
        interactiveProps = buildInteractiveProps(place, function (activate) {
          return _this2.setState({
            activePlace: activate
          });
        }, active);
      }

      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path", _extends({
        key: key,
        strokeLinecap: "round",
        strokeWidth: Object(_utils__WEBPACK_IMPORTED_MODULE_4__["parseMetricToNum"])(theme.worldMap.place[active ? 'active' : 'base']),
        stroke: Object(_utils__WEBPACK_IMPORTED_MODULE_4__["normalizeColor"])(placeColor || color || theme.worldMap.color, theme)
      }, interactiveProps, restPlace, {
        d: d
      }));
    }); // If the caller is interested in onSelectPlace changes, track where the

    var interactiveProps = {};

    if (onSelectPlace) {
      interactiveProps = {
        onMouseOver: this.onMouseOver,
        onMouseMove: over ? this.onMouseMove : undefined,
        onMouseLeave: this.onMouseLeave
      };
    }

    var active;

    if (activeCoords) {
      var d = "M" + FACTOR * activeCoords[0] + ", " + FACTOR * activeCoords[1] + " h0";
      active = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("g", {
        stroke: "none",
        fill: "none",
        fillRule: "evenodd",
        onClick: function onClick() {
          return onSelectPlace(coordToLatLon(activeCoords, origin, extent));
        }
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path", {
        strokeLinecap: "round",
        strokeWidth: Object(_utils__WEBPACK_IMPORTED_MODULE_4__["parseMetricToNum"])(theme.worldMap.place.active),
        stroke: Object(_utils__WEBPACK_IMPORTED_MODULE_4__["normalizeColor"])(hoverColor || color || theme.worldMap.hover.color, theme),
        d: d
      }));
    }

    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledWorldMap__WEBPACK_IMPORTED_MODULE_5__["StyledWorldMap"], _extends({
      viewBox: x + " " + y + " " + width + " " + height,
      preserveAspectRatio: "xMinYMin meet",
      fillProp: fill,
      width: width,
      height: height
    }, interactiveProps, rest), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("g", {
      ref: function ref(_ref5) {
        _this2.containerRef = _ref5;
      },
      stroke: "none",
      fill: "none",
      fillRule: "evenodd"
    }, continents), places, active);
  };

  return WorldMap;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

WorldMap.defaultProps = {};
Object.setPrototypeOf(WorldMap.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_3__["defaultProps"]);
var WorldMapDoc;

if (true) {
  // eslint-disable-next-line global-require
  WorldMapDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/WorldMap/doc.js").doc(WorldMap);
}

var WorldMapWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(styled_components__WEBPACK_IMPORTED_MODULE_2__["withTheme"])(WorldMapDoc || WorldMap);


/***/ }),

/***/ "./node_modules/grommet/es6/components/WorldMap/doc.js":
/*!*************************************************************!*\
  !*** ./node_modules/grommet/es6/components/WorldMap/doc.js ***!
  \*************************************************************/
/*! exports provided: themeDoc, doc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var themeDoc = {
  'worldMap.color': {
    description: 'The color for each individual dot when a color is not passed as a prop',
    type: 'string',
    defaultValue: 'light-3'
  },
  'worldMap.continent.active': {
    description: "The size of the visual dots belonging to a continent when the\ncontinent is being hovered.",
    type: 'string',
    defaultValue: '8px'
  },
  'worldMap.continent.base': {
    description: "The size of the visual dots belonging to a continent that is\nnot being hovered.",
    type: 'string',
    defaultValue: '6px'
  },
  'worldMap.hover.color': {
    description: 'The color for an individual dot when it is being hovered',
    type: 'string',
    defaultValue: 'light-4'
  },
  'worldMap.place.active': {
    description: "The size of a visual dot for an individual place in the map \nwhen it is being hovered.",
    type: 'string',
    defaultValue: '20px'
  },
  'worldMap.place.base': {
    description: "The size of the visual dot representing an individual place \nin the map when it is not being hovered.",
    type: 'string',
    defaultValue: '8px'
  },
  'worldMap.extend': {
    description: 'Any additional style for the WorldMap.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  }
};
var doc = function doc(WorldMap) {
  var DocumentedWorldMap = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(WorldMap).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('WorldMap')).description('A map of the world, or a continent.').usage("import { WorldMap } from 'grommet';\n<WorldMap />").intrinsicElement('svg');
  DocumentedWorldMap.propTypes = _extends({}, _utils__WEBPACK_IMPORTED_MODULE_1__["genericProps"], {
    color: _utils__WEBPACK_IMPORTED_MODULE_1__["colorPropType"].description('Default color'),
    continents: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      color: _utils__WEBPACK_IMPORTED_MODULE_1__["colorPropType"],
      name: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['Africa', 'Asia', 'Australia', 'Europe', 'North America', 'South America']).isRequired,
      onClick: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func,
      onHover: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func
    })).description('Continent details.'),
    fill: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['horizontal', 'vertical']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool]).description('Whether the width and/or height should fill the container.'),
    onSelectPlace: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Called when the user clicks on a place.\n        It is passed the location."),
    places: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      color: _utils__WEBPACK_IMPORTED_MODULE_1__["colorPropType"],
      name: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
      // for a11y aria-label
      location: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number).isRequired,
      onClick: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func,
      onHover: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func
    })).description('Place details.'),
    hoverColor: _utils__WEBPACK_IMPORTED_MODULE_1__["colorPropType"].description('Color when hovering over places while selecting.')
  });
  return DocumentedWorldMap;
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/WorldMap/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/grommet/es6/components/WorldMap/index.js ***!
  \***************************************************************/
/*! exports provided: WorldMap */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _WorldMap__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./WorldMap */ "./node_modules/grommet/es6/components/WorldMap/WorldMap.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "WorldMap", function() { return _WorldMap__WEBPACK_IMPORTED_MODULE_0__["WorldMap"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/hocs.js":
/*!*****************************************************!*\
  !*** ./node_modules/grommet/es6/components/hocs.js ***!
  \*****************************************************/
/*! exports provided: withFocus, withForwardRef, withAnnounce, withTheme */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "withFocus", function() { return withFocus; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "withForwardRef", function() { return withForwardRef; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "withAnnounce", function() { return withAnnounce; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose_getDisplayName__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose/getDisplayName */ "./node_modules/recompose/getDisplayName.js");
/* harmony import */ var recompose_getDisplayName__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(recompose_getDisplayName__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var hoist_non_react_statics__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! hoist-non-react-statics */ "./node_modules/grommet/node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js");
/* harmony import */ var hoist_non_react_statics__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(hoist_non_react_statics__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "withTheme", function() { return styled_components__WEBPACK_IMPORTED_MODULE_3__["withTheme"]; });

/* harmony import */ var _contexts__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../contexts */ "./node_modules/grommet/es6/contexts/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

/* eslint-disable react/no-multi-comp */





var withFocus = function withFocus(_temp) {
  var _ref = _temp === void 0 ? {} : _temp,
      focusWithMouse = _ref.focusWithMouse;

  return function (WrappedComponent) {
    var FocusableComponent =
    /*#__PURE__*/
    function (_Component) {
      _inheritsLoose(FocusableComponent, _Component);

      FocusableComponent.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {
        var withFocusRef = nextProps.withFocusRef;
        var wrappedRef = prevState.wrappedRef;
        var nextWrappedRef = withFocusRef || wrappedRef;

        if (nextWrappedRef !== wrappedRef) {
          return {
            wrappedRef: nextWrappedRef
          };
        }

        return null;
      };

      // not in state because it doesn't affect rendering
      function FocusableComponent(props) {
        var _this;

        _this = _Component.call(this, props) || this;

        _defineProperty(_assertThisInitialized(_this), "mouseActive", false);

        _defineProperty(_assertThisInitialized(_this), "componentDidMount", function () {
          var wrappedRef = _this.state.wrappedRef; // components such as anchors and buttons should not retain focus after
          // being clicked while text-based components should

          if (!focusWithMouse) {
            window.addEventListener('mousedown', _this.handleActiveMouse);
          } // we could be using onFocus in the wrapper node itself
          // but react does not invoke it if you programically
          // call wrapperNode.focus() inside componentWillUnmount
          // see Drop "this.originalFocusedElement.focus();" for reference


          var wrapperNode = wrappedRef.current;

          if (wrapperNode && wrapperNode.addEventListener) {
            wrapperNode.addEventListener('focus', _this.setFocus);
          }
        });

        _defineProperty(_assertThisInitialized(_this), "componentWillUnmount", function () {
          var wrappedRef = _this.state.wrappedRef;
          window.removeEventListener('mousedown', _this.handleActiveMouse);
          var wrapperNode = wrappedRef.current;

          if (wrapperNode && wrapperNode.addEventListener) {
            wrapperNode.removeEventListener('focus', _this.setFocus);
          }

          clearTimeout(_this.focusTimer);
          clearTimeout(_this.mouseTimer);
        });

        _defineProperty(_assertThisInitialized(_this), "handleActiveMouse", function () {
          // from https://marcysutton.com/button-focus-hell/
          _this.mouseActive = true; // this avoids showing focus when clicking around

          clearTimeout(_this.mouseTimer); // empirical number to reset mouseActive after
          // some time has passed without mousedown

          _this.mouseTimer = setTimeout(function () {
            _this.mouseActive = false;
          }, 150);
        });

        _defineProperty(_assertThisInitialized(_this), "setFocus", function () {
          // delay setting focus to avoid interupting events,
          // 1ms was chosen empirically based on ie11 using Select and TextInput
          // with and without a FormField.
          clearTimeout(_this.focusTimer);
          _this.focusTimer = setTimeout(function () {
            var focus = _this.state.focus;

            if (!focus && !_this.mouseActive) {
              _this.setState({
                focus: true
              });
            }
          }, 1);
        });

        _defineProperty(_assertThisInitialized(_this), "resetFocus", function () {
          clearTimeout(_this.focusTimer);
          _this.focusTimer = setTimeout(function () {
            var focus = _this.state.focus;

            if (focus) {
              _this.setState({
                focus: false
              });
            }
          }, 1);
        });

        _this.state = {
          focus: false,
          wrappedRef: react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef()
        };
        return _this;
      }

      var _proto = FocusableComponent.prototype;

      _proto.render = function render() {
        var _this2 = this;

        var _this$props = this.props,
            _onFocus = _this$props.onFocus,
            _onBlur = _this$props.onBlur,
            withFocusRef = _this$props.withFocusRef,
            rest = _objectWithoutPropertiesLoose(_this$props, ["onFocus", "onBlur", "withFocusRef"]);

        var _this$state = this.state,
            focus = _this$state.focus,
            wrappedRef = _this$state.wrappedRef;
        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(WrappedComponent, _extends({
          ref: wrappedRef,
          focus: focus
        }, rest, {
          onFocus: function onFocus(event) {
            _this2.setFocus();

            if (_onFocus) {
              _onFocus(event);
            }
          },
          onBlur: function onBlur(event) {
            _this2.resetFocus();

            if (_onBlur) {
              _onBlur(event);
            }
          }
        }));
      };

      return FocusableComponent;
    }(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

    var ForwardRef = react__WEBPACK_IMPORTED_MODULE_0___default.a.forwardRef(function (props, ref) {
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(FocusableComponent, _extends({}, props, {
        withFocusRef: ref
      }));
    });
    ForwardRef.displayName = recompose_getDisplayName__WEBPACK_IMPORTED_MODULE_1___default()(WrappedComponent);
    ForwardRef.name = ForwardRef.displayName;
    ForwardRef.defaultProps = WrappedComponent.defaultProps;
    hoist_non_react_statics__WEBPACK_IMPORTED_MODULE_2___default()(ForwardRef, WrappedComponent);
    return ForwardRef;
  };
};
var withForwardRef = function withForwardRef(WrappedComponent) {
  var ForwardRefComponent = react__WEBPACK_IMPORTED_MODULE_0___default.a.forwardRef(function (props, ref) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(WrappedComponent, _extends({
      forwardRef: ref
    }, props));
  });
  ForwardRefComponent.displayName = recompose_getDisplayName__WEBPACK_IMPORTED_MODULE_1___default()(WrappedComponent);
  ForwardRefComponent.name = ForwardRefComponent.displayName;
  ForwardRefComponent.defaultProps = WrappedComponent.defaultProps;
  hoist_non_react_statics__WEBPACK_IMPORTED_MODULE_2___default()(ForwardRefComponent, WrappedComponent);
  return ForwardRefComponent;
};
var withAnnounce = function withAnnounce(WrappedComponent) {
  var ForwardRef = react__WEBPACK_IMPORTED_MODULE_0___default.a.forwardRef(function (props, ref) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_contexts__WEBPACK_IMPORTED_MODULE_4__["AnnounceContext"].Consumer, null, function (announce) {
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(WrappedComponent, _extends({}, props, {
        announce: announce,
        ref: ref
      }));
    });
  });
  ForwardRef.displayName = recompose_getDisplayName__WEBPACK_IMPORTED_MODULE_1___default()(WrappedComponent);
  ForwardRef.name = ForwardRef.displayName;
  ForwardRef.defaultProps = WrappedComponent.defaultProps;
  hoist_non_react_statics__WEBPACK_IMPORTED_MODULE_2___default()(ForwardRef, WrappedComponent);
  return ForwardRef;
};


/***/ }),

/***/ "./node_modules/grommet/es6/components/index.js":
/*!******************************************************!*\
  !*** ./node_modules/grommet/es6/components/index.js ***!
  \******************************************************/
/*! exports provided: Accordion, AccordionPanel, Anchor, Box, Button, Calendar, Carousel, Chart, calcs, CheckBox, Clock, Collapsible, DataTable, Diagram, Distribution, Drop, DropButton, Footer, Form, FormContext, FormField, Grid, Grommet, Header, Heading, Image, InfiniteScroll, Keyboard, Layer, List, Main, Markdown, MaskedInput, Menu, Meter, Paragraph, RadioButton, RadioButtonGroup, RangeInput, RangeSelector, RoutedAnchor, RoutedButton, Select, SkipLink, SkipLinks, SkipLinkTarget, Stack, Table, TableBody, TableCell, TableFooter, TableHeader, TableRow, Tab, Tabs, Text, TextArea, TextInput, Video, WorldMap */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Accordion__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Accordion */ "./node_modules/grommet/es6/components/Accordion/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Accordion", function() { return _Accordion__WEBPACK_IMPORTED_MODULE_0__["Accordion"]; });

/* harmony import */ var _AccordionPanel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AccordionPanel */ "./node_modules/grommet/es6/components/AccordionPanel/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AccordionPanel", function() { return _AccordionPanel__WEBPACK_IMPORTED_MODULE_1__["AccordionPanel"]; });

/* harmony import */ var _Anchor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Anchor */ "./node_modules/grommet/es6/components/Anchor/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Anchor", function() { return _Anchor__WEBPACK_IMPORTED_MODULE_2__["Anchor"]; });

/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Box */ "./node_modules/grommet/es6/components/Box/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Box", function() { return _Box__WEBPACK_IMPORTED_MODULE_3__["Box"]; });

/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Button */ "./node_modules/grommet/es6/components/Button/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Button", function() { return _Button__WEBPACK_IMPORTED_MODULE_4__["Button"]; });

/* harmony import */ var _Calendar__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Calendar */ "./node_modules/grommet/es6/components/Calendar/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Calendar", function() { return _Calendar__WEBPACK_IMPORTED_MODULE_5__["Calendar"]; });

/* harmony import */ var _Carousel__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Carousel */ "./node_modules/grommet/es6/components/Carousel/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Carousel", function() { return _Carousel__WEBPACK_IMPORTED_MODULE_6__["Carousel"]; });

/* harmony import */ var _Chart__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Chart */ "./node_modules/grommet/es6/components/Chart/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Chart", function() { return _Chart__WEBPACK_IMPORTED_MODULE_7__["Chart"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "calcs", function() { return _Chart__WEBPACK_IMPORTED_MODULE_7__["calcs"]; });

/* harmony import */ var _CheckBox__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./CheckBox */ "./node_modules/grommet/es6/components/CheckBox/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "CheckBox", function() { return _CheckBox__WEBPACK_IMPORTED_MODULE_8__["CheckBox"]; });

/* harmony import */ var _Clock__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Clock */ "./node_modules/grommet/es6/components/Clock/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Clock", function() { return _Clock__WEBPACK_IMPORTED_MODULE_9__["Clock"]; });

/* harmony import */ var _Collapsible__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Collapsible */ "./node_modules/grommet/es6/components/Collapsible/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Collapsible", function() { return _Collapsible__WEBPACK_IMPORTED_MODULE_10__["Collapsible"]; });

/* harmony import */ var _DataTable__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./DataTable */ "./node_modules/grommet/es6/components/DataTable/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "DataTable", function() { return _DataTable__WEBPACK_IMPORTED_MODULE_11__["DataTable"]; });

/* harmony import */ var _Diagram__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./Diagram */ "./node_modules/grommet/es6/components/Diagram/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Diagram", function() { return _Diagram__WEBPACK_IMPORTED_MODULE_12__["Diagram"]; });

/* harmony import */ var _Distribution__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./Distribution */ "./node_modules/grommet/es6/components/Distribution/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Distribution", function() { return _Distribution__WEBPACK_IMPORTED_MODULE_13__["Distribution"]; });

/* harmony import */ var _Drop__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./Drop */ "./node_modules/grommet/es6/components/Drop/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Drop", function() { return _Drop__WEBPACK_IMPORTED_MODULE_14__["Drop"]; });

/* harmony import */ var _DropButton__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./DropButton */ "./node_modules/grommet/es6/components/DropButton/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "DropButton", function() { return _DropButton__WEBPACK_IMPORTED_MODULE_15__["DropButton"]; });

/* harmony import */ var _Footer__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./Footer */ "./node_modules/grommet/es6/components/Footer/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Footer", function() { return _Footer__WEBPACK_IMPORTED_MODULE_16__["Footer"]; });

/* harmony import */ var _Form__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./Form */ "./node_modules/grommet/es6/components/Form/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Form", function() { return _Form__WEBPACK_IMPORTED_MODULE_17__["Form"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "FormContext", function() { return _Form__WEBPACK_IMPORTED_MODULE_17__["FormContext"]; });

/* harmony import */ var _FormField__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./FormField */ "./node_modules/grommet/es6/components/FormField/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "FormField", function() { return _FormField__WEBPACK_IMPORTED_MODULE_18__["FormField"]; });

/* harmony import */ var _Grid__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./Grid */ "./node_modules/grommet/es6/components/Grid/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Grid", function() { return _Grid__WEBPACK_IMPORTED_MODULE_19__["Grid"]; });

/* harmony import */ var _Grommet__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./Grommet */ "./node_modules/grommet/es6/components/Grommet/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Grommet", function() { return _Grommet__WEBPACK_IMPORTED_MODULE_20__["Grommet"]; });

/* harmony import */ var _Header__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./Header */ "./node_modules/grommet/es6/components/Header/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Header", function() { return _Header__WEBPACK_IMPORTED_MODULE_21__["Header"]; });

/* harmony import */ var _Heading__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./Heading */ "./node_modules/grommet/es6/components/Heading/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Heading", function() { return _Heading__WEBPACK_IMPORTED_MODULE_22__["Heading"]; });

/* harmony import */ var _Image__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./Image */ "./node_modules/grommet/es6/components/Image/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Image", function() { return _Image__WEBPACK_IMPORTED_MODULE_23__["Image"]; });

/* harmony import */ var _InfiniteScroll__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./InfiniteScroll */ "./node_modules/grommet/es6/components/InfiniteScroll/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "InfiniteScroll", function() { return _InfiniteScroll__WEBPACK_IMPORTED_MODULE_24__["InfiniteScroll"]; });

/* harmony import */ var _Keyboard__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./Keyboard */ "./node_modules/grommet/es6/components/Keyboard/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Keyboard", function() { return _Keyboard__WEBPACK_IMPORTED_MODULE_25__["Keyboard"]; });

/* harmony import */ var _Layer__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./Layer */ "./node_modules/grommet/es6/components/Layer/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Layer", function() { return _Layer__WEBPACK_IMPORTED_MODULE_26__["Layer"]; });

/* harmony import */ var _List__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./List */ "./node_modules/grommet/es6/components/List/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "List", function() { return _List__WEBPACK_IMPORTED_MODULE_27__["List"]; });

/* harmony import */ var _Main__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./Main */ "./node_modules/grommet/es6/components/Main/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Main", function() { return _Main__WEBPACK_IMPORTED_MODULE_28__["Main"]; });

/* harmony import */ var _Markdown__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./Markdown */ "./node_modules/grommet/es6/components/Markdown/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Markdown", function() { return _Markdown__WEBPACK_IMPORTED_MODULE_29__["Markdown"]; });

/* harmony import */ var _MaskedInput__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./MaskedInput */ "./node_modules/grommet/es6/components/MaskedInput/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MaskedInput", function() { return _MaskedInput__WEBPACK_IMPORTED_MODULE_30__["MaskedInput"]; });

/* harmony import */ var _Menu__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./Menu */ "./node_modules/grommet/es6/components/Menu/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Menu", function() { return _Menu__WEBPACK_IMPORTED_MODULE_31__["Menu"]; });

/* harmony import */ var _Meter__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./Meter */ "./node_modules/grommet/es6/components/Meter/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Meter", function() { return _Meter__WEBPACK_IMPORTED_MODULE_32__["Meter"]; });

/* harmony import */ var _Paragraph__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./Paragraph */ "./node_modules/grommet/es6/components/Paragraph/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Paragraph", function() { return _Paragraph__WEBPACK_IMPORTED_MODULE_33__["Paragraph"]; });

/* harmony import */ var _RadioButton__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./RadioButton */ "./node_modules/grommet/es6/components/RadioButton/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RadioButton", function() { return _RadioButton__WEBPACK_IMPORTED_MODULE_34__["RadioButton"]; });

/* harmony import */ var _RadioButtonGroup__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./RadioButtonGroup */ "./node_modules/grommet/es6/components/RadioButtonGroup/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RadioButtonGroup", function() { return _RadioButtonGroup__WEBPACK_IMPORTED_MODULE_35__["RadioButtonGroup"]; });

/* harmony import */ var _RangeInput__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./RangeInput */ "./node_modules/grommet/es6/components/RangeInput/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RangeInput", function() { return _RangeInput__WEBPACK_IMPORTED_MODULE_36__["RangeInput"]; });

/* harmony import */ var _RangeSelector__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./RangeSelector */ "./node_modules/grommet/es6/components/RangeSelector/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RangeSelector", function() { return _RangeSelector__WEBPACK_IMPORTED_MODULE_37__["RangeSelector"]; });

/* harmony import */ var _RoutedAnchor__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./RoutedAnchor */ "./node_modules/grommet/es6/components/RoutedAnchor/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RoutedAnchor", function() { return _RoutedAnchor__WEBPACK_IMPORTED_MODULE_38__["RoutedAnchor"]; });

/* harmony import */ var _RoutedButton__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./RoutedButton */ "./node_modules/grommet/es6/components/RoutedButton/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RoutedButton", function() { return _RoutedButton__WEBPACK_IMPORTED_MODULE_39__["RoutedButton"]; });

/* harmony import */ var _Select__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./Select */ "./node_modules/grommet/es6/components/Select/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Select", function() { return _Select__WEBPACK_IMPORTED_MODULE_40__["Select"]; });

/* harmony import */ var _SkipLink__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./SkipLink */ "./node_modules/grommet/es6/components/SkipLink/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SkipLink", function() { return _SkipLink__WEBPACK_IMPORTED_MODULE_41__["SkipLink"]; });

/* harmony import */ var _SkipLinks__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ./SkipLinks */ "./node_modules/grommet/es6/components/SkipLinks/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SkipLinks", function() { return _SkipLinks__WEBPACK_IMPORTED_MODULE_42__["SkipLinks"]; });

/* harmony import */ var _SkipLinkTarget__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ./SkipLinkTarget */ "./node_modules/grommet/es6/components/SkipLinkTarget/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SkipLinkTarget", function() { return _SkipLinkTarget__WEBPACK_IMPORTED_MODULE_43__["SkipLinkTarget"]; });

/* harmony import */ var _Stack__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ./Stack */ "./node_modules/grommet/es6/components/Stack/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Stack", function() { return _Stack__WEBPACK_IMPORTED_MODULE_44__["Stack"]; });

/* harmony import */ var _Table__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ./Table */ "./node_modules/grommet/es6/components/Table/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Table", function() { return _Table__WEBPACK_IMPORTED_MODULE_45__["Table"]; });

/* harmony import */ var _TableBody__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ./TableBody */ "./node_modules/grommet/es6/components/TableBody/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TableBody", function() { return _TableBody__WEBPACK_IMPORTED_MODULE_46__["TableBody"]; });

/* harmony import */ var _TableCell__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ./TableCell */ "./node_modules/grommet/es6/components/TableCell/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TableCell", function() { return _TableCell__WEBPACK_IMPORTED_MODULE_47__["TableCell"]; });

/* harmony import */ var _TableFooter__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ./TableFooter */ "./node_modules/grommet/es6/components/TableFooter/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TableFooter", function() { return _TableFooter__WEBPACK_IMPORTED_MODULE_48__["TableFooter"]; });

/* harmony import */ var _TableHeader__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! ./TableHeader */ "./node_modules/grommet/es6/components/TableHeader/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TableHeader", function() { return _TableHeader__WEBPACK_IMPORTED_MODULE_49__["TableHeader"]; });

/* harmony import */ var _TableRow__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! ./TableRow */ "./node_modules/grommet/es6/components/TableRow/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TableRow", function() { return _TableRow__WEBPACK_IMPORTED_MODULE_50__["TableRow"]; });

/* harmony import */ var _Tab__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! ./Tab */ "./node_modules/grommet/es6/components/Tab/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Tab", function() { return _Tab__WEBPACK_IMPORTED_MODULE_51__["Tab"]; });

/* harmony import */ var _Tabs__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! ./Tabs */ "./node_modules/grommet/es6/components/Tabs/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Tabs", function() { return _Tabs__WEBPACK_IMPORTED_MODULE_52__["Tabs"]; });

/* harmony import */ var _Text__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! ./Text */ "./node_modules/grommet/es6/components/Text/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Text", function() { return _Text__WEBPACK_IMPORTED_MODULE_53__["Text"]; });

/* harmony import */ var _TextArea__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! ./TextArea */ "./node_modules/grommet/es6/components/TextArea/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TextArea", function() { return _TextArea__WEBPACK_IMPORTED_MODULE_54__["TextArea"]; });

/* harmony import */ var _TextInput__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! ./TextInput */ "./node_modules/grommet/es6/components/TextInput/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TextInput", function() { return _TextInput__WEBPACK_IMPORTED_MODULE_55__["TextInput"]; });

/* harmony import */ var _Video__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__(/*! ./Video */ "./node_modules/grommet/es6/components/Video/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Video", function() { return _Video__WEBPACK_IMPORTED_MODULE_56__["Video"]; });

/* harmony import */ var _WorldMap__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__(/*! ./WorldMap */ "./node_modules/grommet/es6/components/WorldMap/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "WorldMap", function() { return _WorldMap__WEBPACK_IMPORTED_MODULE_57__["WorldMap"]; });




























































/***/ }),

/***/ "./node_modules/grommet/es6/contexts/AnnounceContext/AnnounceContext.js":
/*!******************************************************************************!*\
  !*** ./node_modules/grommet/es6/contexts/AnnounceContext/AnnounceContext.js ***!
  \******************************************************************************/
/*! exports provided: AnnounceContext */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnounceContext", function() { return AnnounceContext; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);


var createAnnouncer = function createAnnouncer() {
  var announcer = document.createElement('div');
  announcer.style.left = '-100%';
  announcer.style.right = '100%';
  announcer.style.position = 'fixed';
  announcer.style['z-index'] = '-1';
  document.body.insertBefore(announcer, document.body.firstChild);
  return announcer;
};

var AnnounceContext = react__WEBPACK_IMPORTED_MODULE_0___default.a.createContext(function (message, mode, timeout) {
  if (mode === void 0) {
    mode = 'polite';
  }

  if (timeout === void 0) {
    timeout = 500;
  }

  // we only create a new container if we don't have one already
  // we create a separate node so that grommet does not set aria-hidden to it
  var announcer = document.body.querySelector('[aria-live]') || createAnnouncer();
  announcer.setAttribute('aria-live', 'off');
  announcer.innerHTML = message;
  announcer.setAttribute('aria-live', mode);
  setTimeout(function () {
    announcer.innerHTML = '';
  }, timeout);
});

/***/ }),

/***/ "./node_modules/grommet/es6/contexts/AnnounceContext/index.js":
/*!********************************************************************!*\
  !*** ./node_modules/grommet/es6/contexts/AnnounceContext/index.js ***!
  \********************************************************************/
/*! exports provided: AnnounceContext */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _AnnounceContext__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AnnounceContext */ "./node_modules/grommet/es6/contexts/AnnounceContext/AnnounceContext.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AnnounceContext", function() { return _AnnounceContext__WEBPACK_IMPORTED_MODULE_0__["AnnounceContext"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/contexts/ResponsiveContext/ResponsiveContext.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/grommet/es6/contexts/ResponsiveContext/ResponsiveContext.js ***!
  \**********************************************************************************/
/*! exports provided: ResponsiveContext */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ResponsiveContext", function() { return ResponsiveContext; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

var ResponsiveContext = react__WEBPACK_IMPORTED_MODULE_0___default.a.createContext(undefined);

/***/ }),

/***/ "./node_modules/grommet/es6/contexts/ResponsiveContext/index.js":
/*!**********************************************************************!*\
  !*** ./node_modules/grommet/es6/contexts/ResponsiveContext/index.js ***!
  \**********************************************************************/
/*! exports provided: ResponsiveContext */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _ResponsiveContext__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ResponsiveContext */ "./node_modules/grommet/es6/contexts/ResponsiveContext/ResponsiveContext.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ResponsiveContext", function() { return _ResponsiveContext__WEBPACK_IMPORTED_MODULE_0__["ResponsiveContext"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/contexts/ThemeContext/ThemeContext.js":
/*!************************************************************************!*\
  !*** ./node_modules/grommet/es6/contexts/ThemeContext/ThemeContext.js ***!
  \************************************************************************/
/*! exports provided: ThemeContext */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ThemeContext", function() { return styled_components__WEBPACK_IMPORTED_MODULE_2__["ThemeContext"]; });

/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");





styled_components__WEBPACK_IMPORTED_MODULE_2__["ThemeContext"].Extend = function (_ref) {
  var children = _ref.children,
      value = _ref.value;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(styled_components__WEBPACK_IMPORTED_MODULE_2__["ThemeContext"].Consumer, null, function (theme) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(styled_components__WEBPACK_IMPORTED_MODULE_2__["ThemeContext"].Provider, {
      value: Object(_utils__WEBPACK_IMPORTED_MODULE_3__["deepMerge"])(theme, value)
    }, children);
  });
};

styled_components__WEBPACK_IMPORTED_MODULE_2__["ThemeContext"].Extend.propTypes = {
  children: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.node.isRequired,
  value: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({}).isRequired
};


/***/ }),

/***/ "./node_modules/grommet/es6/contexts/ThemeContext/index.js":
/*!*****************************************************************!*\
  !*** ./node_modules/grommet/es6/contexts/ThemeContext/index.js ***!
  \*****************************************************************/
/*! exports provided: ThemeContext */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _ThemeContext__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ThemeContext */ "./node_modules/grommet/es6/contexts/ThemeContext/ThemeContext.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ThemeContext", function() { return _ThemeContext__WEBPACK_IMPORTED_MODULE_0__["ThemeContext"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/contexts/index.js":
/*!****************************************************!*\
  !*** ./node_modules/grommet/es6/contexts/index.js ***!
  \****************************************************/
/*! exports provided: AnnounceContext, ResponsiveContext, ThemeContext */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _AnnounceContext__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AnnounceContext */ "./node_modules/grommet/es6/contexts/AnnounceContext/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AnnounceContext", function() { return _AnnounceContext__WEBPACK_IMPORTED_MODULE_0__["AnnounceContext"]; });

/* harmony import */ var _ResponsiveContext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ResponsiveContext */ "./node_modules/grommet/es6/contexts/ResponsiveContext/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ResponsiveContext", function() { return _ResponsiveContext__WEBPACK_IMPORTED_MODULE_1__["ResponsiveContext"]; });

/* harmony import */ var _ThemeContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ThemeContext */ "./node_modules/grommet/es6/contexts/ThemeContext/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ThemeContext", function() { return _ThemeContext__WEBPACK_IMPORTED_MODULE_2__["ThemeContext"]; });





/***/ }),

/***/ "./node_modules/grommet/es6/default-props.js":
/*!***************************************************!*\
  !*** ./node_modules/grommet/es6/default-props.js ***!
  \***************************************************/
/*! exports provided: defaultProps, extendDefaultTheme */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "defaultProps", function() { return defaultProps; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "extendDefaultTheme", function() { return extendDefaultTheme; });
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _themes_base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./themes/base */ "./node_modules/grommet/es6/themes/base.js");


var defaultProps = {
  theme: _themes_base__WEBPACK_IMPORTED_MODULE_1__["base"]
};
var extendDefaultTheme = function extendDefaultTheme(theme) {
  defaultProps.theme = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["deepMerge"])(_themes_base__WEBPACK_IMPORTED_MODULE_1__["base"], theme);
};

/***/ }),

/***/ "./node_modules/grommet/es6/index.js":
/*!*******************************************!*\
  !*** ./node_modules/grommet/es6/index.js ***!
  \*******************************************/
/*! exports provided: Accordion, AccordionPanel, Anchor, Box, Button, Calendar, Carousel, Chart, calcs, CheckBox, Clock, Collapsible, DataTable, Diagram, Distribution, Drop, DropButton, Footer, Form, FormContext, FormField, Grid, Grommet, Header, Heading, Image, InfiniteScroll, Keyboard, Layer, List, Main, Markdown, MaskedInput, Menu, Meter, Paragraph, RadioButton, RadioButtonGroup, RangeInput, RangeSelector, RoutedAnchor, RoutedButton, Select, SkipLink, SkipLinks, SkipLinkTarget, Stack, Table, TableBody, TableCell, TableFooter, TableHeader, TableRow, Tab, Tabs, Text, TextArea, TextInput, Video, WorldMap, AnnounceContext, ResponsiveContext, ThemeContext, defaultProps, extendDefaultTheme, base, generate, grommet, dark */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./components */ "./node_modules/grommet/es6/components/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Accordion", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Accordion"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AccordionPanel", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["AccordionPanel"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Anchor", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Anchor"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Box", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Box"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Button", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Button"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Calendar", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Calendar"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Carousel", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Carousel"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Chart", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Chart"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "calcs", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["calcs"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "CheckBox", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["CheckBox"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Clock", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Clock"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Collapsible", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Collapsible"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "DataTable", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["DataTable"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Diagram", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Diagram"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Distribution", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Distribution"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Drop", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Drop"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "DropButton", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["DropButton"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Footer", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Footer"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Form", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Form"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "FormContext", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["FormContext"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "FormField", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["FormField"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Grid", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Grid"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Grommet", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Grommet"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Header", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Header"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Heading", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Heading"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Image", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Image"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "InfiniteScroll", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["InfiniteScroll"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Keyboard", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Keyboard"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Layer", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Layer"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "List", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["List"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Main", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Main"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Markdown", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Markdown"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MaskedInput", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["MaskedInput"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Menu", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Menu"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Meter", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Meter"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Paragraph", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Paragraph"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RadioButton", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["RadioButton"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RadioButtonGroup", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["RadioButtonGroup"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RangeInput", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["RangeInput"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RangeSelector", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["RangeSelector"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RoutedAnchor", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["RoutedAnchor"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RoutedButton", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["RoutedButton"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Select", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Select"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SkipLink", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["SkipLink"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SkipLinks", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["SkipLinks"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SkipLinkTarget", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["SkipLinkTarget"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Stack", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Stack"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Table", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Table"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TableBody", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["TableBody"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TableCell", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["TableCell"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TableFooter", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["TableFooter"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TableHeader", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["TableHeader"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TableRow", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["TableRow"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Tab", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Tab"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Tabs", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Tabs"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Text", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Text"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TextArea", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["TextArea"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TextInput", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["TextInput"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Video", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Video"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "WorldMap", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["WorldMap"]; });

/* harmony import */ var _contexts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./contexts */ "./node_modules/grommet/es6/contexts/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AnnounceContext", function() { return _contexts__WEBPACK_IMPORTED_MODULE_1__["AnnounceContext"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ResponsiveContext", function() { return _contexts__WEBPACK_IMPORTED_MODULE_1__["ResponsiveContext"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ThemeContext", function() { return _contexts__WEBPACK_IMPORTED_MODULE_1__["ThemeContext"]; });

/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "defaultProps", function() { return _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "extendDefaultTheme", function() { return _default_props__WEBPACK_IMPORTED_MODULE_2__["extendDefaultTheme"]; });

/* harmony import */ var _themes__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./themes */ "./node_modules/grommet/es6/themes/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "base", function() { return _themes__WEBPACK_IMPORTED_MODULE_3__["base"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "generate", function() { return _themes__WEBPACK_IMPORTED_MODULE_3__["generate"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "grommet", function() { return _themes__WEBPACK_IMPORTED_MODULE_3__["grommet"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "dark", function() { return _themes__WEBPACK_IMPORTED_MODULE_3__["dark"]; });






/***/ }),

/***/ "./node_modules/grommet/es6/themes/base.js":
/*!*************************************************!*\
  !*** ./node_modules/grommet/es6/themes/base.js ***!
  \*************************************************/
/*! exports provided: generate, base */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "generate", function() { return generate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "base", function() { return base; });
/* harmony import */ var polished__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! polished */ "./node_modules/polished/dist/polished.es.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var grommet_icons_icons_Actions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! grommet-icons/icons/Actions */ "./node_modules/grommet-icons/icons/Actions.js");
/* harmony import */ var grommet_icons_icons_Actions__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(grommet_icons_icons_Actions__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var grommet_icons_icons_ClosedCaption__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! grommet-icons/icons/ClosedCaption */ "./node_modules/grommet-icons/icons/ClosedCaption.js");
/* harmony import */ var grommet_icons_icons_ClosedCaption__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(grommet_icons_icons_ClosedCaption__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var grommet_icons_icons_Expand__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! grommet-icons/icons/Expand */ "./node_modules/grommet-icons/icons/Expand.js");
/* harmony import */ var grommet_icons_icons_Expand__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(grommet_icons_icons_Expand__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var grommet_icons_icons_FormDown__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! grommet-icons/icons/FormDown */ "./node_modules/grommet-icons/icons/FormDown.js");
/* harmony import */ var grommet_icons_icons_FormDown__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(grommet_icons_icons_FormDown__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var grommet_icons_icons_FormNext__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! grommet-icons/icons/FormNext */ "./node_modules/grommet-icons/icons/FormNext.js");
/* harmony import */ var grommet_icons_icons_FormNext__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(grommet_icons_icons_FormNext__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var grommet_icons_icons_FormPrevious__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! grommet-icons/icons/FormPrevious */ "./node_modules/grommet-icons/icons/FormPrevious.js");
/* harmony import */ var grommet_icons_icons_FormPrevious__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(grommet_icons_icons_FormPrevious__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var grommet_icons_icons_FormUp__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! grommet-icons/icons/FormUp */ "./node_modules/grommet-icons/icons/FormUp.js");
/* harmony import */ var grommet_icons_icons_FormUp__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(grommet_icons_icons_FormUp__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var grommet_icons_icons_Next__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! grommet-icons/icons/Next */ "./node_modules/grommet-icons/icons/Next.js");
/* harmony import */ var grommet_icons_icons_Next__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(grommet_icons_icons_Next__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var grommet_icons_icons_Pause__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! grommet-icons/icons/Pause */ "./node_modules/grommet-icons/icons/Pause.js");
/* harmony import */ var grommet_icons_icons_Pause__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(grommet_icons_icons_Pause__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var grommet_icons_icons_Play__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! grommet-icons/icons/Play */ "./node_modules/grommet-icons/icons/Play.js");
/* harmony import */ var grommet_icons_icons_Play__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(grommet_icons_icons_Play__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var grommet_icons_icons_Previous__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! grommet-icons/icons/Previous */ "./node_modules/grommet-icons/icons/Previous.js");
/* harmony import */ var grommet_icons_icons_Previous__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(grommet_icons_icons_Previous__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var grommet_icons_icons_Subtract__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! grommet-icons/icons/Subtract */ "./node_modules/grommet-icons/icons/Subtract.js");
/* harmony import */ var grommet_icons_icons_Subtract__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(grommet_icons_icons_Subtract__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var grommet_icons_icons_Volume__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! grommet-icons/icons/Volume */ "./node_modules/grommet-icons/icons/Volume.js");
/* harmony import */ var grommet_icons_icons_Volume__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(grommet_icons_icons_Volume__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var grommet_icons_icons_VolumeLow__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! grommet-icons/icons/VolumeLow */ "./node_modules/grommet-icons/icons/VolumeLow.js");
/* harmony import */ var grommet_icons_icons_VolumeLow__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(grommet_icons_icons_VolumeLow__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var grommet_icons_themes_base__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! grommet-icons/themes/base */ "./node_modules/grommet-icons/themes/base.js");
/* harmony import */ var grommet_icons_themes_base__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(grommet_icons_themes_base__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var _utils_object__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../utils/object */ "./node_modules/grommet/es6/utils/object.js");
/* harmony import */ var _utils_colors__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../utils/colors */ "./node_modules/grommet/es6/utils/colors.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }




















var brandColor = '#7D4CDB';
var accentColors = ['#6FFFB0', '#FD6FFF', '#81FCED', '#FFCA58'];
var neutralColors = ['#00873D', '#3D138D', '#00739D', '#A2423D'];
var statusColors = {
  critical: '#FF4040',
  error: '#FF4040',
  warning: '#FFAA15',
  ok: '#00C781',
  unknown: '#CCCCCC',
  disabled: '#CCCCCC'
};
var darkColors = ['#333333', '#555555', '#777777', '#999999', '#999999', '#999999'];
var lightColors = ['#F8F8F8', '#F2F2F2', '#EDEDED', '#DADADA', '#DADADA', '#DADADA'];
var focusColor = accentColors[0];
var colors = {
  active: Object(polished__WEBPACK_IMPORTED_MODULE_0__["rgba"])(221, 221, 221, 0.5),
  black: '#000000',
  border: {
    dark: Object(polished__WEBPACK_IMPORTED_MODULE_0__["rgba"])(255, 255, 255, 0.33),
    light: Object(polished__WEBPACK_IMPORTED_MODULE_0__["rgba"])(0, 0, 0, 0.33)
  },
  brand: brandColor,
  control: {
    dark: 'accent-1',
    light: 'brand'
  },
  focus: focusColor,
  // "graph-0": 'accent-1',
  // "graph-1": 'neutral-1',
  // "graph-2": 'accent-2',
  // "graph-3": 'neutral-2',
  placeholder: '#AAAAAA',
  selected: 'brand',
  text: {
    dark: '#f8f8f8',
    light: '#444444'
  },
  icon: {
    dark: '#f8f8f8',
    light: '#666666'
  },
  white: '#FFFFFF'
};

var colorArray = function colorArray(array, prefix) {
  return array.forEach(function (color, index) {
    colors[prefix + "-" + (index + 1)] = color;
  });
};

colorArray(accentColors, 'accent');
colorArray(darkColors, 'dark');
colorArray(lightColors, 'light');
colorArray(neutralColors, 'neutral');
Object.keys(statusColors).forEach(function (color) {
  colors["status-" + color] = statusColors[color];
});
var generate = function generate(baseSpacing, scale) {
  if (baseSpacing === void 0) {
    baseSpacing = 24;
  }

  if (scale === void 0) {
    scale = 6;
  }

  // 24
  var baseFontSize = baseSpacing * 0.75; // 18

  var fontScale = baseSpacing / scale; // 4

  var fontSizing = function fontSizing(factor) {
    return {
      size: baseFontSize + factor * fontScale + "px",
      height: baseSpacing + factor * fontScale + "px",
      // maxWidth chosen to be ~50 characters wide
      // see: https://ux.stackexchange.com/a/34125
      maxWidth: baseSpacing * (baseFontSize + factor * fontScale) + "px"
    };
  };

  var borderWidth = 2;
  var result = Object(_utils_object__WEBPACK_IMPORTED_MODULE_17__["deepMerge"])(grommet_icons_themes_base__WEBPACK_IMPORTED_MODULE_16__["base"], {
    global: {
      active: {
        background: {
          color: 'active',
          opacity: 'medium'
        },
        color: {
          dark: 'white',
          light: 'black'
        }
      },
      animation: {
        duration: '1s',
        jiggle: {
          duration: '0.1s'
        }
      },
      borderSize: {
        xsmall: '1px',
        small: '2px',
        medium: baseSpacing / 6 + "px",
        // 4
        large: baseSpacing / 2 + "px",
        // 12
        xlarge: baseSpacing + "px" // 24

      },
      breakpoints: {
        small: {
          value: baseSpacing * 32,
          // 768
          borderSize: {
            xsmall: '1px',
            small: '2px',
            medium: baseSpacing / 6 + "px",
            // 4
            large: baseSpacing / 4 + "px",
            // 6
            xlarge: baseSpacing / 2 + "px" // 12

          },
          edgeSize: {
            none: '0px',
            hair: '1px',
            // for Chart
            xxsmall: '2px',
            xsmall: baseSpacing / 8 + "px",
            // 3
            small: baseSpacing / 4 + "px",
            // 6
            medium: baseSpacing / 2 + "px",
            // 12
            large: baseSpacing + "px",
            // 24
            xlarge: baseSpacing * 2 + "px" // 48

          },
          size: {
            xxsmall: baseSpacing + "px",
            // 24
            xsmall: baseSpacing * 2 + "px",
            // 48
            small: baseSpacing * 4 + "px",
            // 96
            medium: baseSpacing * 8 + "px",
            // 192
            large: baseSpacing * 16 + "px",
            // 384
            xlarge: baseSpacing * 32 + "px",
            // 768
            full: '100%'
          }
        },
        medium: {
          value: baseSpacing * 64 // 1536

        },
        large: {} // anything above 'medium'

      },
      // Breakpoints used at Server Side Rendering for the initial rendering
      // These values correspond to the theme breakpoints
      deviceBreakpoints: {
        phone: 'small',
        tablet: 'medium',
        computer: 'large'
      },
      colors: colors,
      control: {
        border: {
          width: '1px',
          radius: '4px',
          color: 'border'
        },
        disabled: {
          opacity: 0.3
        }
      },
      // The time to wait after the user stopped typing, measured in ms.
      debounceDelay: 300,
      drop: {
        background: '#ffffff',
        border: {
          radius: '0px'
        },
        shadowSize: 'small',
        zIndex: '20'
      },
      edgeSize: {
        none: '0px',
        hair: '1px',
        // for Chart
        xxsmall: baseSpacing / 8 + "px",
        // 3
        xsmall: baseSpacing / 4 + "px",
        // 6
        small: baseSpacing / 2 + "px",
        // 12
        medium: baseSpacing + "px",
        // 24
        large: baseSpacing * 2 + "px",
        // 48
        xlarge: baseSpacing * 4 + "px",
        // 96
        responsiveBreakpoint: 'small'
      },
      elevation: {
        light: {
          none: 'none',
          xsmall: '0px 1px 2px rgba(0, 0, 0, 0.20)',
          small: '0px 2px 4px rgba(0, 0, 0, 0.20)',
          medium: '0px 4px 8px rgba(0, 0, 0, 0.20)',
          large: '0px 8px 16px rgba(0, 0, 0, 0.20)',
          xlarge: '0px 12px 24px rgba(0, 0, 0, 0.20)'
        },
        dark: {
          none: 'none',
          xsmall: '0px 2px 2px rgba(255, 255, 255, 0.40)',
          small: '0px 4px 4px rgba(255, 255, 255, 0.40)',
          medium: '0px 6px 8px rgba(255, 255, 255, 0.40)',
          large: '0px 8px 16px rgba(255, 255, 255, 0.40)',
          xlarge: '0px 12px 24px rgba(255, 255, 255, 0.40)'
        }
      },
      focus: {
        border: {
          color: 'focus'
        }
      },
      font: _extends({}, fontSizing(0)),
      hover: {
        background: {
          color: 'active',
          opacity: 'medium'
        },
        color: {
          dark: 'white',
          light: 'black'
        }
      },
      input: {
        padding: baseSpacing / 2 + "px",
        weight: 600
      },
      opacity: {
        strong: 0.8,
        medium: 0.4,
        weak: 0.1
      },
      selected: {
        background: 'selected',
        color: 'white'
      },
      spacing: baseSpacing + "px",
      size: {
        xxsmall: baseSpacing * 2 + "px",
        // 48
        xsmall: baseSpacing * 4 + "px",
        // 96
        small: baseSpacing * 8 + "px",
        // 192
        medium: baseSpacing * 16 + "px",
        // 384
        large: baseSpacing * 32 + "px",
        // 768
        xlarge: baseSpacing * 48 + "px",
        // 1152
        xxlarge: baseSpacing * 64 + "px",
        // 1536
        full: '100%'
      }
    },
    accordion: {
      border: {
        side: 'bottom',
        color: 'border'
      },
      heading: {
        level: '4'
      },
      // level ranges from 1-6
      icons: {
        collapse: grommet_icons_icons_FormUp__WEBPACK_IMPORTED_MODULE_8__["FormUp"],
        expand: grommet_icons_icons_FormDown__WEBPACK_IMPORTED_MODULE_5__["FormDown"] // color: { dark: undefined, light: undefined },

      }
    },
    anchor: {
      textDecoration: 'none',
      fontWeight: 600,
      color: {
        dark: 'accent-1',
        light: 'brand'
      },
      hover: {
        textDecoration: 'underline' // fontWeight: undefined,
        // extend: undefined,

      } // extend: undefined,

    },
    box: {
      responsiveBreakpoint: 'small' // when we switch rows to columns
      // extend: undefined,

    },
    button: {
      border: {
        // color: { dark: undefined, light: undefined }
        width: borderWidth + "px",
        radius: baseSpacing * 0.75 + "px"
      },
      // color: { dark: undefined, light: undefined }
      primary: {// color: { dark: undefined, light: undefined }
      },
      // disabled: { opacity: undefined },
      padding: {
        vertical: baseSpacing / 4 - borderWidth + "px",
        horizontal: baseSpacing - borderWidth + "px"
      }
    },
    calendar: {
      // daySize must align with global.size
      small: {
        fontSize: baseFontSize - fontScale + "px",
        lineHeight: 1.375,
        daySize: baseSpacing * 8 / 7 + "px",
        slideDuration: '0.2s'
      },
      medium: {
        fontSize: baseFontSize + "px",
        lineHeight: 1.45,
        daySize: baseSpacing * 16 / 7 + "px",
        slideDuration: '0.5s'
      },
      large: {
        fontSize: baseFontSize + 3 * fontScale + "px",
        lineHeight: 1.11,
        daySize: baseSpacing * 32 / 7 + "px",
        slideDuration: '0.8s'
      },
      icons: {
        previous: grommet_icons_icons_Previous__WEBPACK_IMPORTED_MODULE_12__["Previous"],
        next: grommet_icons_icons_Next__WEBPACK_IMPORTED_MODULE_9__["Next"],
        small: {
          previous: grommet_icons_icons_FormPrevious__WEBPACK_IMPORTED_MODULE_7__["FormPrevious"],
          next: grommet_icons_icons_FormNext__WEBPACK_IMPORTED_MODULE_6__["FormNext"]
        }
      },
      heading: {
        level: '4'
      } // level ranges from 1-6

    },
    carousel: {
      icons: {
        current: grommet_icons_icons_Subtract__WEBPACK_IMPORTED_MODULE_13__["Subtract"],
        next: grommet_icons_icons_Next__WEBPACK_IMPORTED_MODULE_9__["Next"],
        previous: grommet_icons_icons_Previous__WEBPACK_IMPORTED_MODULE_12__["Previous"] // color: { dark: undefined, light: undefined },

      },
      animation: {
        duration: 1000
      },
      disabled: {
        icons: {// color: { dark: undefined, light: undefined },
        }
      }
    },
    chart: {
      color: 'accent-1' // extend: undefined,

    },
    checkBox: {
      border: {
        color: {
          dark: 'rgba(255, 255, 255, 0.5)',
          light: 'rgba(0, 0, 0, 0.15)'
        },
        width: '2px'
      },
      check: {
        // extend: undefined,
        radius: '4px',
        thickness: '4px'
      },
      // color: { dark: undefined, light: undefined },
      // extend: undefined,
      // gap: undefined
      hover: {
        border: {
          color: {
            dark: 'white',
            light: 'black'
          }
        }
      },
      icon: {// size: undefined,
        // extend: undefined,
      },
      icons: {// checked: undefined,
        // indeterminate: undefined,
      },
      size: baseSpacing + "px",
      toggle: {
        // background: undefined
        color: {
          dark: '#d9d9d9',
          light: '#d9d9d9'
        },
        knob: {// extend: undefined,
        },
        radius: baseSpacing + "px",
        size: baseSpacing * 2 + "px" // extend: undefined,

      }
    },
    clock: {
      analog: {
        // extend: undefined,
        hour: {
          color: {
            dark: 'light-2',
            light: 'dark-3'
          },
          width: baseSpacing / 3 + "px",
          size: baseSpacing + "px",
          shape: 'round'
        },
        minute: {
          color: {
            dark: 'light-4',
            light: 'dark-3'
          },
          width: baseSpacing / 6 + "px",
          size: Math.round(baseSpacing / 2) + "px",
          shape: 'round'
        },
        second: {
          color: {
            dark: 'accent-1',
            light: 'accent-1'
          },
          width: baseSpacing / 8 + "px",
          size: Math.round(baseSpacing / 2.666) + "px",
          shape: 'round'
        },
        size: {
          small: baseSpacing * 3 + "px",
          medium: baseSpacing * 4 + "px",
          large: baseSpacing * 6 + "px",
          xlarge: baseSpacing * 9 + "px",
          huge: baseSpacing * 12 + "px"
        }
      },
      digital: {
        text: {
          xsmall: {
            size: baseFontSize - 2 * fontScale + "px",
            height: 1.5
          },
          small: {
            size: baseFontSize - fontScale + "px",
            height: 1.43
          },
          medium: {
            size: baseFontSize + "px",
            height: 1.375
          },
          large: {
            size: baseFontSize + fontScale + "px",
            height: 1.167
          },
          xlarge: {
            size: baseFontSize + 2 * fontScale + "px",
            height: 1.1875
          },
          xxlarge: {
            size: baseFontSize + 4 * fontScale + "px",
            height: 1.125
          }
        }
      }
    },
    collapsible: {
      minSpeed: 200,
      baseline: 500
    },
    dataTable: {
      groupHeader: {
        background: {
          dark: 'dark-2',
          light: 'light-2'
        },
        border: {
          side: 'bottom',
          size: 'xsmall'
        },
        pad: {
          horizontal: 'small',
          vertical: 'xsmall'
        }
      },
      groupEnd: {
        border: {
          side: 'bottom',
          size: 'xsmall'
        }
      },
      header: {},
      icons: {
        ascending: grommet_icons_icons_FormDown__WEBPACK_IMPORTED_MODULE_5__["FormDown"],
        contract: grommet_icons_icons_FormUp__WEBPACK_IMPORTED_MODULE_8__["FormUp"],
        descending: grommet_icons_icons_FormUp__WEBPACK_IMPORTED_MODULE_8__["FormUp"],
        expand: grommet_icons_icons_FormDown__WEBPACK_IMPORTED_MODULE_5__["FormDown"]
      },
      primary: {
        weight: 'bold'
      },
      resize: {
        border: {
          color: 'border',
          side: 'right'
        }
      }
    },
    diagram: {
      // extend: undefined,
      line: {
        color: 'accent-1'
      }
    },
    // drop: {
    //   extend: undefined,
    //   maxHeight: undefined,
    // },
    formField: {
      border: {
        color: 'border',
        error: {
          color: {
            dark: 'white',
            light: 'status-critical'
          }
        },
        position: 'inner',
        side: 'bottom'
      },
      content: {
        pad: {
          horizontal: 'small',
          bottom: 'small'
        }
      },
      error: {
        color: {
          dark: 'status-critical',
          light: 'status-critical'
        },
        margin: {
          vertical: 'xsmall',
          horizontal: 'small'
        }
      },
      // extend: undefined,
      help: {
        color: {
          dark: 'dark-3',
          light: 'dark-3'
        },
        margin: {
          left: 'small'
        }
      },
      label: {
        margin: {
          vertical: 'xsmall',
          horizontal: 'small'
        }
      },
      margin: {
        bottom: 'small'
      }
    },
    grommet: {// extend: undefined
    },
    heading: {
      font: {// family: undefined
      },
      level: {
        1: {
          font: {// family: undefined,
            // weight: undefined,
          },
          small: _extends({}, fontSizing(4)),
          medium: _extends({}, fontSizing(8)),
          large: _extends({}, fontSizing(16)),
          xlarge: _extends({}, fontSizing(24))
        },
        2: {
          font: {// family: undefined,
            // weight: undefined,
          },
          small: _extends({}, fontSizing(2)),
          medium: _extends({}, fontSizing(4)),
          large: _extends({}, fontSizing(8)),
          xlarge: _extends({}, fontSizing(12))
        },
        3: {
          font: {// family: undefined,
            // weight: undefined,
          },
          small: _extends({}, fontSizing(1)),
          medium: _extends({}, fontSizing(2)),
          large: _extends({}, fontSizing(4)),
          xlarge: _extends({}, fontSizing(6))
        },
        4: {
          font: {// family: undefined,
            // weight: undefined,
          },
          small: _extends({}, fontSizing(0)),
          medium: _extends({}, fontSizing(0)),
          large: _extends({}, fontSizing(0)),
          xlarge: _extends({}, fontSizing(0))
        },
        5: {
          font: {// family: undefined,
            // weight: undefined,
          },
          small: _extends({}, fontSizing(-0.5)),
          medium: _extends({}, fontSizing(-0.5)),
          large: _extends({}, fontSizing(-0.5)),
          xlarge: _extends({}, fontSizing(-0.5))
        },
        6: {
          font: {// family: undefined,
            // weight: undefined,
          },
          small: _extends({}, fontSizing(-1)),
          medium: _extends({}, fontSizing(-1)),
          large: _extends({}, fontSizing(-1)),
          xlarge: _extends({}, fontSizing(-1))
        }
      },
      responsiveBreakpoint: 'small',
      // when we scale the font size down
      weight: 600
    },
    layer: {
      background: 'white',
      border: {
        radius: '4px'
      },
      container: {
        zIndex: '15'
      },
      // extend: undefined,
      overlay: {
        background: 'rgba(0, 0, 0, 0.5)'
      },
      responsiveBreakpoint: 'small',
      // when Layer takes over the full screen
      zIndex: '10'
    },
    list: {
      item: {
        // background: undefined,
        border: 'horizontal',
        pad: {
          horizontal: 'medium',
          vertical: 'small'
        } // extend: undefined,

      } // extend: undefined,

    },
    maskedInput: {// extend: undefined,
    },
    menu: {
      // background: undefined,
      // extend: undefined,
      icons: {
        down: grommet_icons_icons_FormDown__WEBPACK_IMPORTED_MODULE_5__["FormDown"]
      }
    },
    meter: {
      color: 'accent-1' // colors: [],
      // extend: undefined,

    },
    paragraph: {
      small: _extends({}, fontSizing(-1)),
      medium: _extends({}, fontSizing(0)),
      large: _extends({}, fontSizing(1)),
      xlarge: _extends({}, fontSizing(2)),
      xxlarge: _extends({}, fontSizing(4))
    },
    radioButton: {
      border: {
        color: {
          dark: 'rgba(255, 255, 255, 0.5)',
          light: 'rgba(0, 0, 0, 0.15)'
        },
        width: '2px'
      },
      check: {
        radius: '100%' // color: { dark: undefined, light: undefined },
        // extend: undefined,

      },
      hover: {
        border: {
          color: {
            dark: 'white',
            light: 'black'
          }
        }
      },
      icon: {// size: undefined,
        // extend: undefined,
      },
      icons: {// circle: undefined,
      },
      gap: 'small',
      size: baseSpacing + "px"
    },
    rangeInput: {
      track: {
        height: '4px',
        color: Object(styled_components__WEBPACK_IMPORTED_MODULE_1__["css"])(["", ";"], function (props) {
          return Object(polished__WEBPACK_IMPORTED_MODULE_0__["rgba"])(Object(_utils_colors__WEBPACK_IMPORTED_MODULE_18__["normalizeColor"])('border', props.theme), 0.2);
        })
      },
      thumb: {// color: { dark: undefined, light: undefined },
      }
    },
    rangeSelector: {
      background: {
        invert: {
          color: 'light-4'
        }
      } // edge: {
      //   type: undefined,
      // },

    },
    select: {
      // background: undefined,
      container: {// extend: undefined,
      },
      control: {// extend: undefined,
        // open: undefined,
      },
      icons: {
        // color: { dark: undefined, light: undefined },
        margin: {
          horizontal: 'small'
        },
        down: grommet_icons_icons_FormDown__WEBPACK_IMPORTED_MODULE_5__["FormDown"]
      },
      options: {
        container: {
          align: 'start',
          pad: 'small'
        },
        text: {
          margin: 'none'
        }
      },
      // searchInput: undefined,
      step: 20
    },
    tab: {
      active: {
        color: 'text' // background: undefined,

      },
      // background: undefined,
      border: {
        side: 'bottom',
        size: 'small',
        color: {
          dark: 'accent-1',
          light: 'brand'
        },
        active: {
          color: {
            dark: 'white',
            light: 'black'
          }
        },
        hover: {
          color: {
            dark: 'white',
            light: 'black'
          } // extend: undefined,

        }
      },
      color: 'control',
      // extend: undefined,
      hover: {
        // background: undefined,
        // extend: undefined,
        color: {
          dark: 'white',
          light: 'black'
        }
      },
      margin: {
        vertical: 'xxsmall',
        horizontal: 'small'
      },
      pad: {
        bottom: 'xsmall'
      }
    },
    tabs: {
      // background: undefined,
      // extend: undefined,
      // gap: undefined,
      header: {// background: undefined,
        // extend: undefined,
      },
      panel: {// extend: undefined,
      }
    },
    table: {
      header: {
        align: 'start',
        pad: {
          horizontal: 'small',
          vertical: 'xsmall'
        },
        border: 'bottom' // verticalAlign: undefined,
        // background: undefined,
        // extend: undefined,

      },
      body: {
        align: 'start',
        pad: {
          horizontal: 'small',
          vertical: 'xsmall'
        } // background: undefined,
        // border: undefined,
        // extend: undefined,

      },
      // row: {
      //   hover: {
      //     background: undefined,
      //     color: undefined,
      //   },
      // },
      footer: {
        align: 'start',
        pad: {
          horizontal: 'small',
          vertical: 'xsmall'
        },
        border: 'top' // verticalAlign: undefined,
        // background: undefined,
        // extend: undefined,

      }
    },
    text: {
      xsmall: _extends({}, fontSizing(-1.5)),
      small: _extends({}, fontSizing(-1)),
      medium: _extends({}, fontSizing(0)),
      // 18px
      large: _extends({}, fontSizing(1)),
      // 22px
      xlarge: _extends({}, fontSizing(2)),
      xxlarge: _extends({}, fontSizing(4))
    },
    textArea: {// extend: undefined,
      // disabled: { opacity: undefined },
    },
    textInput: {// extend: undefined,
      // disabled: { opacity: undefined },
    },
    video: {
      captions: {
        background: 'rgba(0, 0, 0, 0.7)'
      },
      // controls: { background: undefined },
      icons: {
        closedCaption: grommet_icons_icons_ClosedCaption__WEBPACK_IMPORTED_MODULE_3__["ClosedCaption"],
        configure: grommet_icons_icons_Actions__WEBPACK_IMPORTED_MODULE_2__["Actions"],
        fullScreen: grommet_icons_icons_Expand__WEBPACK_IMPORTED_MODULE_4__["Expand"],
        pause: grommet_icons_icons_Pause__WEBPACK_IMPORTED_MODULE_10__["Pause"],
        play: grommet_icons_icons_Play__WEBPACK_IMPORTED_MODULE_11__["Play"],
        reduceVolume: grommet_icons_icons_VolumeLow__WEBPACK_IMPORTED_MODULE_15__["VolumeLow"],
        volume: grommet_icons_icons_Volume__WEBPACK_IMPORTED_MODULE_14__["Volume"] // color: { dark: undefined, light: undefined },

      },
      // scrubber: { track: { color: undefined } },
      scrubber: {
        color: 'light-4'
      }
    },
    worldMap: {
      color: 'light-3',
      continent: {
        active: '8px',
        base: '6px'
      },
      hover: {
        color: 'light-4'
      },
      place: {
        active: '20px',
        base: '8px'
      }
    }
  });
  return Object(_utils_object__WEBPACK_IMPORTED_MODULE_17__["deepFreeze"])(result);
};
var base = generate(24);

/***/ }),

/***/ "./node_modules/grommet/es6/themes/dark.js":
/*!*************************************************!*\
  !*** ./node_modules/grommet/es6/themes/dark.js ***!
  \*************************************************/
/*! exports provided: dark */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "dark", function() { return dark; });
/* harmony import */ var polished__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! polished */ "./node_modules/polished/dist/polished.es.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils_object__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/object */ "./node_modules/grommet/es6/utils/object.js");
/* harmony import */ var _utils_colors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/colors */ "./node_modules/grommet/es6/utils/colors.js");




var accentColors = ['#FD6FFF', '#60EB9F', '#60EBE1', '#FFCA58'];
var neutralColors = ['#EB6060', '#01C781', '#6095EB', '#FFB200'];
var statusColors = {
  critical: '#FF3333',
  error: '#FF3333',
  warning: '#F7E464',
  ok: '#7DD892',
  unknown: '#a8a8a8',
  disabled: '#a8a8a8'
};
var backgroundColor = '#111111';
var colors = {
  active: Object(polished__WEBPACK_IMPORTED_MODULE_0__["rgba"])(102, 102, 102, 0.5),
  background: backgroundColor,
  black: '#000000',
  brand: '#FD6FFF',
  control: {
    dark: '#FFCA58',
    light: '#403216'
  },
  focus: '#FFCA58',
  icon: {
    dark: '#f8f8f8',
    light: '#666666'
  },
  placeholder: '#AAAAAA',
  text: {
    dark: '#eeeeee',
    light: '#444444'
  },
  white: '#FFFFFF'
};

var colorArray = function colorArray(array, prefix) {
  return array.forEach(function (color, index) {
    colors[prefix + "-" + (index + 1)] = color;
  });
};

colorArray(accentColors, 'accent');
colorArray(neutralColors, 'neutral');
Object.keys(statusColors).forEach(function (color) {
  colors["status-" + color] = statusColors[color];
});
var dark = Object(_utils_object__WEBPACK_IMPORTED_MODULE_2__["deepFreeze"])({
  global: {
    colors: colors,
    drop: {
      background: '#333333'
    },
    focus: {
      border: {
        color: Object(styled_components__WEBPACK_IMPORTED_MODULE_1__["css"])(["", ";"], function (props) {
          return Object(_utils_colors__WEBPACK_IMPORTED_MODULE_3__["normalizeColor"])('focus', props.theme);
        }),
        width: '2px'
      }
    },
    font: {
      family: 'Arial'
    },
    input: {
      weight: 700
    }
  },
  anchor: {
    color: 'control'
  },
  layer: {
    background: backgroundColor,
    overlay: {
      background: Object(polished__WEBPACK_IMPORTED_MODULE_0__["rgba"])(48, 48, 48, 0.5)
    }
  }
});

/***/ }),

/***/ "./node_modules/grommet/es6/themes/grommet.js":
/*!****************************************************!*\
  !*** ./node_modules/grommet/es6/themes/grommet.js ***!
  \****************************************************/
/*! exports provided: grommet */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "grommet", function() { return grommet; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils_object__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/object */ "./node_modules/grommet/es6/utils/object.js");


var grommet = Object(_utils_object__WEBPACK_IMPORTED_MODULE_1__["deepFreeze"])({
  global: {
    colors: {
      background: {
        light: '#ffffff',
        dark: '#000000'
      }
    },
    font: {
      family: "-apple-system,\n         BlinkMacSystemFont, \n         \"Segoe UI\", \n         Roboto, \n         Oxygen, \n         Ubuntu, \n         Cantarell, \n         \"Fira Sans\", \n         \"Droid Sans\",  \n         \"Helvetica Neue\", \n         Arial, sans-serif,  \n         \"Apple Color Emoji\", \n         \"Segoe UI Emoji\", \n         \"Segoe UI Symbol\""
    }
  },
  button: {
    extend: Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["", ""], function (props) {
      return !props.plain && 'font-weight: bold;';
    })
  }
});

/***/ }),

/***/ "./node_modules/grommet/es6/themes/index.js":
/*!**************************************************!*\
  !*** ./node_modules/grommet/es6/themes/index.js ***!
  \**************************************************/
/*! exports provided: base, generate, grommet, dark */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base */ "./node_modules/grommet/es6/themes/base.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "base", function() { return _base__WEBPACK_IMPORTED_MODULE_0__["base"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "generate", function() { return _base__WEBPACK_IMPORTED_MODULE_0__["generate"]; });

/* harmony import */ var _grommet__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./grommet */ "./node_modules/grommet/es6/themes/grommet.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "grommet", function() { return _grommet__WEBPACK_IMPORTED_MODULE_1__["grommet"]; });

/* harmony import */ var _dark__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./dark */ "./node_modules/grommet/es6/themes/dark.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "dark", function() { return _dark__WEBPACK_IMPORTED_MODULE_2__["dark"]; });





/***/ }),

/***/ "./node_modules/grommet/es6/utils/DOM.js":
/*!***********************************************!*\
  !*** ./node_modules/grommet/es6/utils/DOM.js ***!
  \***********************************************/
/*! exports provided: filterByFocusable, findScrollParents, getFirstFocusableDescendant, getBodyChildElements, getNewContainer, setFocusWithoutScroll, setTabIndex, copyAttribute, makeNodeFocusable, makeNodeUnfocusable, findVisibleParent, isNodeAfterScroll, isNodeBeforeScroll */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "filterByFocusable", function() { return filterByFocusable; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "findScrollParents", function() { return findScrollParents; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getFirstFocusableDescendant", function() { return getFirstFocusableDescendant; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getBodyChildElements", function() { return getBodyChildElements; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getNewContainer", function() { return getNewContainer; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setFocusWithoutScroll", function() { return setFocusWithoutScroll; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setTabIndex", function() { return setTabIndex; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "copyAttribute", function() { return copyAttribute; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "makeNodeFocusable", function() { return makeNodeFocusable; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "makeNodeUnfocusable", function() { return makeNodeUnfocusable; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "findVisibleParent", function() { return findVisibleParent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isNodeAfterScroll", function() { return isNodeAfterScroll; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isNodeBeforeScroll", function() { return isNodeBeforeScroll; });
var filterByFocusable = function filterByFocusable(elements) {
  return Array.prototype.filter.call(elements || [], function (element) {
    var currentTag = element.tagName.toLowerCase();
    var validTags = /(svg|a|area|input|select|textarea|button|iframe|div)$/;
    var isValidTag = currentTag.match(validTags) && element.focus;

    if (currentTag === 'a') {
      return isValidTag && element.childNodes.length > 0 && element.getAttribute('href');
    }

    if (currentTag === 'svg' || currentTag === 'div') {
      return isValidTag && element.hasAttribute('tabindex') && element.getAttribute('tabindex') !== '-1';
    }

    return isValidTag;
  });
};
var findScrollParents = function findScrollParents(element, horizontal) {
  var result = [];

  if (element) {
    var parent = element.parentNode;

    while (parent && parent.getBoundingClientRect) {
      var rect = parent.getBoundingClientRect(); // 10px is to account for borders and scrollbars in a lazy way

      if (horizontal) {
        if (rect.width && parent.scrollWidth > rect.width + 10) {
          result.push(parent);
        }
      } else if (rect.height && parent.scrollHeight > rect.height + 10) {
        result.push(parent);
      }

      parent = parent.parentNode;
    } // last scrollable element will be the document
    // if nothing else is scrollable in the page


    if (result.length === 0) {
      result.push(document);
    } else if (result[0].tagName.toLowerCase() === 'body') {
      result.length = 0;
      result.push(document);
    }
  }

  return result;
};
var getFirstFocusableDescendant = function getFirstFocusableDescendant(element) {
  var children = element.getElementsByTagName('*');

  for (var i = 0; i < children.length; i += 1) {
    var child = children[i];
    var tagName = child.tagName.toLowerCase();

    if (tagName === 'input' || tagName === 'select') {
      return child;
    }
  }

  return undefined;
};
var getBodyChildElements = function getBodyChildElements() {
  var excludeMatch = /^(script|link)$/i;
  var children = [];
  [].forEach.call(document.body.children, function (node) {
    if (!excludeMatch.test(node.tagName)) {
      children.push(node);
    }
  });
  return children;
};
var getNewContainer = function getNewContainer() {
  // setup DOM
  var container = document.createElement('div');
  document.body.appendChild(container);
  return container;
};
var setFocusWithoutScroll = function setFocusWithoutScroll(element) {
  var x = window.scrollX;
  var y = window.scrollY;
  element.focus();
  window.scrollTo(x, y);
};
var setTabIndex = function setTabIndex(tabIndex) {
  return function (element) {
    element.setAttribute('tabindex', tabIndex);
  };
};
var copyAttribute = function copyAttribute(source) {
  return function (target) {
    return function (element) {
      element.setAttribute(target, element.getAttribute(source));
    };
  };
};

var deleteAttribute = function deleteAttribute(attribute) {
  return function (element) {
    return element.removeAttribute(attribute);
  };
};

var unsetTabIndex = setTabIndex(-1);
var saveTabIndex = copyAttribute('tabindex')('data-g-tabindex');
var restoreTabIndex = copyAttribute('data-g-tabindex')('tabindex');
var deleteTabIndex = deleteAttribute('tabindex');
var deleteTabIndexCopy = deleteAttribute('data-g-tabindex');
var makeNodeFocusable = function makeNodeFocusable(node) {
  // do not touch aria live containers so that announcements work
  if (!node.hasAttribute('aria-live')) {
    node.setAttribute('aria-hidden', false); // allow children to receive focus again

    filterByFocusable(node.getElementsByTagName('*')).forEach(function (child) {
      if (child.hasAttribute('data-g-tabindex')) {
        restoreTabIndex(child);
      } else {
        deleteTabIndex(child);
      }

      deleteTabIndexCopy(child);
    });
  }
};
var makeNodeUnfocusable = function makeNodeUnfocusable(node) {
  // do not touch aria live containers so that announcements work
  if (!node.hasAttribute('aria-live')) {
    node.setAttribute('aria-hidden', true); // prevent children to receive focus

    filterByFocusable(node.getElementsByTagName('*')).forEach(function (child) {
      if (child.hasAttribute('tabindex')) {
        saveTabIndex(child);
      }

      unsetTabIndex(child);
    });
  }
};
var findVisibleParent = function findVisibleParent(element) {
  if (element) {
    return element.offsetParent ? element : findVisibleParent(element.parentElement) || element;
  }

  return undefined;
};
var isNodeAfterScroll = function isNodeAfterScroll(node, target) {
  if (target === void 0) {
    target = window;
  }

  var _node$getBoundingClie = node.getBoundingClientRect(),
      bottom = _node$getBoundingClie.bottom;

  var _target$getBoundingCl = target.getBoundingClientRect(),
      height = _target$getBoundingCl.height,
      top = _target$getBoundingCl.top;

  return bottom >= top + height;
};
var isNodeBeforeScroll = function isNodeBeforeScroll(node, target) {
  if (target === void 0) {
    target = window;
  }

  var _node$getBoundingClie2 = node.getBoundingClientRect(),
      top = _node$getBoundingClie2.top;

  var _target$getBoundingCl2 = target.getBoundingClientRect(),
      targetTop = _target$getBoundingCl2.top;

  return top <= targetTop;
};

/***/ }),

/***/ "./node_modules/grommet/es6/utils/background.js":
/*!******************************************************!*\
  !*** ./node_modules/grommet/es6/utils/background.js ***!
  \******************************************************/
/*! exports provided: normalizeBackground, backgroundIsDark, backgroundStyle, activeStyle, selectedStyle, getHoverIndicatorStyle */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "normalizeBackground", function() { return normalizeBackground; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "backgroundIsDark", function() { return backgroundIsDark; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "backgroundStyle", function() { return backgroundStyle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "activeStyle", function() { return activeStyle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectedStyle", function() { return selectedStyle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getHoverIndicatorStyle", function() { return getHoverIndicatorStyle; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _colors__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./colors */ "./node_modules/grommet/es6/utils/colors.js");
/* harmony import */ var _styles__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./styles */ "./node_modules/grommet/es6/utils/styles.js");



var normalizeBackground = function normalizeBackground(background, theme) {
  // If the background has a light or dark object, use that
  var result = background;

  if (background) {
    if (theme.dark && background.dark && typeof background.dark !== 'boolean') {
      result = background.dark;
    } else if (!theme.dark && background.light && typeof background.light !== 'boolean') {
      result = background.light;
    }

    result = Object(_styles__WEBPACK_IMPORTED_MODULE_2__["evalStyle"])(result, theme);
  }

  return result;
};
var backgroundIsDark = function backgroundIsDark(backgroundArg, theme) {
  var background = normalizeBackground(backgroundArg, theme);
  var result;

  if (background) {
    if (typeof background === 'object') {
      var color = background.color,
          dark = background.dark,
          opacity = background.opacity;

      if (typeof dark === 'boolean') {
        result = dark;
      } else if (color && ( // weak opacity means we keep the existing darkness
      !opacity || opacity !== 'weak')) {
        var backgroundColor = Object(_colors__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(background.color, theme);

        if (backgroundColor) {
          result = Object(_colors__WEBPACK_IMPORTED_MODULE_1__["colorIsDark"])(backgroundColor);
        }
      }
    } else {
      var _color = Object(_colors__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(background, theme);

      if (_color) {
        result = Object(_colors__WEBPACK_IMPORTED_MODULE_1__["colorIsDark"])(_color);
      }
    }
  }

  return result;
};
var backgroundStyle = function backgroundStyle(backgroundArg, theme, textColorArg) {
  // If the background has a light or dark object, use that
  var background = normalizeBackground(backgroundArg, theme);
  var textColor = textColorArg || theme.global.colors.text;

  if (typeof background === 'object') {
    var styles = [];

    if (background.image) {
      var color;

      if (background.dark === false) {
        color = Object(_colors__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(textColor.light || textColor, theme);
      } else if (background.dark) {
        color = Object(_colors__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(textColor.dark || textColor, theme);
      } else if (!textColorArg) {
        color = 'inherit';
      }

      styles.push(Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["background-image:", ";background-repeat:", ";background-position:", ";background-size:", ";color:", ";"], background.image, background.repeat || 'no-repeat', background.position || 'center center', background.size || 'cover', color));
    }

    if (background.color) {
      var _color2 = Object(_colors__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(background.color, theme);

      var backgroundColor = Object(_colors__WEBPACK_IMPORTED_MODULE_1__["getRGBA"])(_color2, background.opacity === true ? theme.global.opacity.medium : theme.global.opacity[background.opacity] || background.opacity) || _color2;

      styles.push(Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["background-color:", ";", ""], backgroundColor, (!background.opacity || background.opacity !== 'weak') && "color: " + Object(_colors__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(textColor[background.dark || Object(_colors__WEBPACK_IMPORTED_MODULE_1__["colorIsDark"])(backgroundColor) ? 'dark' : 'light'] || textColor, theme) + ";"));
    }

    if (background.dark === false) {
      styles.push(Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["color:", ";"], textColor.light || textColor));
    } else if (background.dark) {
      styles.push(Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["color:", ";"], textColor.dark || textColor));
    }

    return styles;
  }

  if (background) {
    if (background.lastIndexOf('url', 0) === 0) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["background:", " no-repeat center center;background-size:cover;"], background);
    }

    var _backgroundColor = Object(_colors__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(background, theme);

    if (_backgroundColor) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["background:", ";color:", ";"], _backgroundColor, Object(_colors__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(textColor[Object(_colors__WEBPACK_IMPORTED_MODULE_1__["colorIsDark"])(_backgroundColor) ? 'dark' : 'light'] || textColor, theme));
    }
  }

  return undefined;
};
var activeStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["", ""], function (props) {
  return backgroundStyle(Object(_colors__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.global.active.background, props.theme), props.theme, props.theme.global.active.color);
});
var selectedStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["", ""], function (props) {
  return backgroundStyle(Object(_colors__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.global.selected.background, props.theme), props.theme, props.theme.global.selected.color);
});
var getHoverIndicatorStyle = function getHoverIndicatorStyle(hoverIndicator, theme) {
  var background;

  if (hoverIndicator === true || hoverIndicator === 'background') {
    background = theme.global.hover.background;
  } else {
    background = hoverIndicator;
  }

  return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["", ""], backgroundStyle(background, theme, theme.global.hover.color));
};

/***/ }),

/***/ "./node_modules/grommet/es6/utils/border.js":
/*!**************************************************!*\
  !*** ./node_modules/grommet/es6/utils/border.js ***!
  \**************************************************/
/*! exports provided: borderStyle */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "borderStyle", function() { return borderStyle; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _colors__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./colors */ "./node_modules/grommet/es6/utils/colors.js");
/* harmony import */ var _mixins__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./mixins */ "./node_modules/grommet/es6/utils/mixins.js");



var borderStyle = function borderStyle(data, responsive, theme) {
  var styles = [];
  var color = Object(_colors__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(data.color || 'border', theme);
  var borderSize = data.size || 'xsmall';
  var style = data.style || 'solid';
  var side = typeof data === 'string' ? data : data.side || 'all';
  var value = style + " " + (theme.global.borderSize[borderSize] || borderSize) + " " + color;
  var breakpoint = theme.box.responsiveBreakpoint && theme.global.breakpoints[theme.box.responsiveBreakpoint];
  var responsiveValue = responsive && breakpoint && (breakpoint.borderSize[borderSize] || borderSize) && style + " " + (breakpoint.borderSize[borderSize] || borderSize) + " " + color;

  if (side === 'top' || side === 'bottom' || side === 'left' || side === 'right') {
    styles.push(Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["border-", ":", ";"], side, value));

    if (responsiveValue) {
      styles.push(Object(_mixins__WEBPACK_IMPORTED_MODULE_2__["breakpointStyle"])(breakpoint, "\n        border-" + side + ": " + responsiveValue + ";\n      "));
    }
  } else if (side === 'vertical') {
    styles.push(Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["border-left:", ";border-right:", ";"], value, value));

    if (responsiveValue) {
      styles.push(Object(_mixins__WEBPACK_IMPORTED_MODULE_2__["breakpointStyle"])(breakpoint, "\n        border-left: " + responsiveValue + ";\n        border-right: " + responsiveValue + ";\n      "));
    }
  } else if (side === 'horizontal') {
    styles.push(Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["border-top:", ";border-bottom:", ";"], value, value));

    if (responsiveValue) {
      styles.push(Object(_mixins__WEBPACK_IMPORTED_MODULE_2__["breakpointStyle"])(breakpoint, "\n        border-top: " + responsiveValue + ";\n        border-bottom: " + responsiveValue + ";\n      "));
    }
  } else {
    styles.push(Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["border:", ";"], value));

    if (responsiveValue) {
      styles.push(Object(_mixins__WEBPACK_IMPORTED_MODULE_2__["breakpointStyle"])(breakpoint, "border: " + responsiveValue + ";"));
    }
  }

  return styles;
};

/***/ }),

/***/ "./node_modules/grommet/es6/utils/colors.js":
/*!**************************************************!*\
  !*** ./node_modules/grommet/es6/utils/colors.js ***!
  \**************************************************/
/*! exports provided: normalizeColor, colorIsDark, getRGBA */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "normalizeColor", function() { return normalizeColor; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "colorIsDark", function() { return colorIsDark; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getRGBA", function() { return getRGBA; });
var normalizeColor = function normalizeColor(color, theme, required) {
  var colorSpec = theme.global.colors[color] !== undefined ? theme.global.colors[color] : color; // If the color has a light or dark object, use that

  var result = colorSpec;

  if (colorSpec) {
    if (theme.dark && colorSpec.dark !== undefined) {
      result = colorSpec.dark;
    } else if (!theme.dark && colorSpec.light !== undefined) {
      result = colorSpec.light;
    }
  } // allow one level of indirection in color names


  if (result && theme.global.colors[result] !== undefined) {
    result = normalizeColor(result, theme);
  }

  return required && result === color ? 'inherit' : result;
};

var parseHexToRGB = function parseHexToRGB(color) {
  return color.length < 7 // 7 is what's needed for '#RRGGBB'
  ? color.match(/[A-Za-z0-9]{1}/g).map(function (v) {
    return parseInt("" + v + v, 16);
  }) : // https://stackoverflow.com/a/42429333
  color.match(/[A-Za-z0-9]{2}/g).map(function (v) {
    return parseInt(v, 16);
  });
}; // From: https://stackoverflow.com/a/9493060/8513067
// Converts an HSL color value to RGB. Conversion formula
// adapted from http://en.wikipedia.org/wiki/HSL_color_space.
// Assumes h, s, and l are contained in the set [0, 1] and
// returns r, g, and b in the set [0, 255].


var hslToRGB = function hslToRGB(h, s, l) {
  var r;
  var g;
  var b;

  if (s === 0 || s === '0') {
    // achromatic
    r = l;
    g = l;
    b = l;
  } else {
    var hue2rgb = function hue2rgb(p, q, inT) {
      var t = inT;
      if (t < 0) t += 1;
      if (t > 1) t -= 1;
      if (t < 0.16666667) return p + (q - p) * 6 * t;
      if (t < 1 / 2) return q;
      if (t < 0.66666667) return p + (q - p) * (0.66666667 - t) * 6;
      return p;
    };

    var q = l < 0.5 ? l * (1 + s) : l + s - l * s;
    var p = 2 * l - q;
    r = hue2rgb(p, q, h + 0.33333333);
    g = hue2rgb(p, q, h);
    b = hue2rgb(p, q, h - 0.33333333);
  }

  return [Math.round(r * 255), Math.round(g * 255), Math.round(b * 255)];
}; // allow for alpha: #RGB, #RGBA, #RRGGBB, or #RRGGBBAA


var hexExp = /^#[A-Za-z0-9]{3,4}$|^#[A-Za-z0-9]{6,8}$/;
var rgbExp = /rgba?\(\s?([0-9]*)\s?,\s?([0-9]*)\s?,\s?([0-9]*)\s?\)/;
var rgbaExp = /rgba?\(\s?([0-9]*)\s?,\s?([0-9]*)\s?,\s?([0-9]*)\s?,\s?([.0-9]*)\s?\)/; // e.g. hsl(240, 60%, 50%)

var hslExp = /hsla?\(\s?([0-9]*)\s?,\s?([0-9]*)%?\s?,\s?([0-9]*)%?\s?.*?\)/;

var canExtractRGBArray = function canExtractRGBArray(color) {
  return hexExp.test(color) || rgbExp.test(color) || rgbaExp.test(color) || hslExp.test(color);
};

var getRGBArray = function getRGBArray(color) {
  if (hexExp.test(color)) {
    var _parseHexToRGB = parseHexToRGB(color),
        red = _parseHexToRGB[0],
        green = _parseHexToRGB[1],
        blue = _parseHexToRGB[2],
        alpha = _parseHexToRGB[3];

    return [red, green, blue, alpha !== undefined ? alpha / 255.0 : undefined];
  }

  var match = color.match(rgbExp);

  if (match) {
    return match.splice(1).map(function (v) {
      return parseInt(v, 10);
    });
  }

  match = color.match(rgbaExp);

  if (match) {
    return match.splice(1).map(function (v) {
      return parseFloat(v, 10);
    });
  }

  match = color.match(hslExp);

  if (match) {
    var _match$splice$map = match.splice(1).map(function (v) {
      return parseInt(v, 10);
    }),
        h = _match$splice$map[0],
        s = _match$splice$map[1],
        l = _match$splice$map[2];

    return hslToRGB(h / 360.0, s / 100.0, l / 100.0);
  }

  return color;
};

var colorIsDark = function colorIsDark(color) {
  var _getRGBArray = getRGBArray(color),
      red = _getRGBArray[0],
      green = _getRGBArray[1],
      blue = _getRGBArray[2],
      alpha = _getRGBArray[3]; // if there is an alpha and it's greater than 50%, we can't really tell


  if (alpha < 0.5) return undefined;
  var brightness = (299 * red + 587 * green + 114 * blue) / 1000; // From: http://www.had2know.com/technology/color-contrast-calculator-web-design.html
  // Above domain is no longer registered.

  return brightness < 125;
};
var getRGBA = function getRGBA(color, opacity) {
  if (color && canExtractRGBArray(color)) {
    var _getRGBArray2 = getRGBArray(color),
        red = _getRGBArray2[0],
        green = _getRGBArray2[1],
        blue = _getRGBArray2[2],
        alpha = _getRGBArray2[3];

    var normalizedAlpha;

    if (opacity !== undefined) {
      normalizedAlpha = opacity;
    } else if (alpha !== undefined) {
      normalizedAlpha = alpha;
    } else {
      normalizedAlpha = 1;
    }

    return "rgba(" + red + ", " + green + ", " + blue + ", " + normalizedAlpha + ")";
  }

  return undefined;
};

/***/ }),

/***/ "./node_modules/grommet/es6/utils/debounce.js":
/*!****************************************************!*\
  !*** ./node_modules/grommet/es6/utils/debounce.js ***!
  \****************************************************/
/*! exports provided: debounce, debounceDelay */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "debounce", function() { return debounce; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "debounceDelay", function() { return debounceDelay; });
var _this = undefined;

var debounce = function debounce(cb, timer) {
  var timeout;
  return function () {
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var context = _this;
    clearTimeout(timeout);
    timeout = setTimeout(function () {
      return cb.apply(context, args);
    }, timer);
  };
};
var debounceDelay = function debounceDelay(_ref) {
  var theme = _ref.theme;
  return theme.global.debounceDelay;
};

/***/ }),

/***/ "./node_modules/grommet/es6/utils/graphics.js":
/*!****************************************************!*\
  !*** ./node_modules/grommet/es6/utils/graphics.js ***!
  \****************************************************/
/*! exports provided: baseUnit, polarToCartesian, arcCommands, translateEndAngle */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "baseUnit", function() { return baseUnit; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "polarToCartesian", function() { return polarToCartesian; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "arcCommands", function() { return arcCommands; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "translateEndAngle", function() { return translateEndAngle; });
var POST_DECIMAL_DIGITS = 10;
var baseUnit = 24;
var polarToCartesian = function polarToCartesian(centerX, centerY, radius, angleInDegrees) {
  var angleInRadians = (angleInDegrees - 90) * Math.PI / 180.0;
  return {
    x: centerX + radius * Math.cos(angleInRadians),
    y: centerY + radius * Math.sin(angleInRadians)
  };
};
var arcCommands = function arcCommands(centerX, centerY, radius, startAngle, endAngle) {
  // handle that we can't draw a complete circle
  var normalizedEndAngle = endAngle;

  if (endAngle - startAngle >= 360) {
    normalizedEndAngle = startAngle + 359.99;
  }

  var start = polarToCartesian(centerX, centerY, radius, normalizedEndAngle);
  var end = polarToCartesian(centerX, centerY, radius, startAngle);
  var arcSweep = normalizedEndAngle - startAngle <= 180 ? '0' : '1';
  var d = ['M', start.x.toFixed(POST_DECIMAL_DIGITS), start.y.toFixed(POST_DECIMAL_DIGITS), 'A', radius.toFixed(POST_DECIMAL_DIGITS), radius.toFixed(POST_DECIMAL_DIGITS), 0, arcSweep, 0, end.x.toFixed(POST_DECIMAL_DIGITS), end.y.toFixed(POST_DECIMAL_DIGITS)].join(' ');
  return d;
};
var translateEndAngle = function translateEndAngle(startAngle, anglePer, value) {
  return Math.min(360, Math.max(0, startAngle + anglePer * value));
};

/***/ }),

/***/ "./node_modules/grommet/es6/utils/index.js":
/*!*************************************************!*\
  !*** ./node_modules/grommet/es6/utils/index.js ***!
  \*************************************************/
/*! exports provided: parseMetricToNum, fontSize, breakpointStyle, findAllByType, getAvailableAtBadge, normalizeBackground, backgroundIsDark, backgroundStyle, activeStyle, selectedStyle, getHoverIndicatorStyle, borderStyle, normalizeColor, colorIsDark, getRGBA, debounce, debounceDelay, filterByFocusable, findScrollParents, getFirstFocusableDescendant, getBodyChildElements, getNewContainer, setFocusWithoutScroll, setTabIndex, copyAttribute, makeNodeFocusable, makeNodeUnfocusable, findVisibleParent, isNodeAfterScroll, isNodeBeforeScroll, baseUnit, polarToCartesian, arcCommands, translateEndAngle, a11yTitlePropType, backgroundPropType, colorPropType, marginProp, genericProps, hoverIndicatorPropType, baseStyle, controlBorderStyle, edgeStyle, focusStyle, inputStyle, overflowStyle, placeholderStyle, evalStyle, genericStyles, disabledStyle, sizeStyle, isObject, deepFreeze, deepMerge, removeUndefined, getBreakpoint, getDeviceBreakpoint, ROUTER_PROPS, throttle, themeDocUtils */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _mixins__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mixins */ "./node_modules/grommet/es6/utils/mixins.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "parseMetricToNum", function() { return _mixins__WEBPACK_IMPORTED_MODULE_0__["parseMetricToNum"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "fontSize", function() { return _mixins__WEBPACK_IMPORTED_MODULE_0__["fontSize"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "breakpointStyle", function() { return _mixins__WEBPACK_IMPORTED_MODULE_0__["breakpointStyle"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "findAllByType", function() { return _mixins__WEBPACK_IMPORTED_MODULE_0__["findAllByType"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getAvailableAtBadge", function() { return _mixins__WEBPACK_IMPORTED_MODULE_0__["getAvailableAtBadge"]; });

/* harmony import */ var _background__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./background */ "./node_modules/grommet/es6/utils/background.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "normalizeBackground", function() { return _background__WEBPACK_IMPORTED_MODULE_1__["normalizeBackground"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "backgroundIsDark", function() { return _background__WEBPACK_IMPORTED_MODULE_1__["backgroundIsDark"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "backgroundStyle", function() { return _background__WEBPACK_IMPORTED_MODULE_1__["backgroundStyle"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "activeStyle", function() { return _background__WEBPACK_IMPORTED_MODULE_1__["activeStyle"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "selectedStyle", function() { return _background__WEBPACK_IMPORTED_MODULE_1__["selectedStyle"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getHoverIndicatorStyle", function() { return _background__WEBPACK_IMPORTED_MODULE_1__["getHoverIndicatorStyle"]; });

/* harmony import */ var _border__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./border */ "./node_modules/grommet/es6/utils/border.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "borderStyle", function() { return _border__WEBPACK_IMPORTED_MODULE_2__["borderStyle"]; });

/* harmony import */ var _colors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./colors */ "./node_modules/grommet/es6/utils/colors.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "normalizeColor", function() { return _colors__WEBPACK_IMPORTED_MODULE_3__["normalizeColor"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "colorIsDark", function() { return _colors__WEBPACK_IMPORTED_MODULE_3__["colorIsDark"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getRGBA", function() { return _colors__WEBPACK_IMPORTED_MODULE_3__["getRGBA"]; });

/* harmony import */ var _debounce__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./debounce */ "./node_modules/grommet/es6/utils/debounce.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "debounce", function() { return _debounce__WEBPACK_IMPORTED_MODULE_4__["debounce"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "debounceDelay", function() { return _debounce__WEBPACK_IMPORTED_MODULE_4__["debounceDelay"]; });

/* harmony import */ var _DOM__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./DOM */ "./node_modules/grommet/es6/utils/DOM.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "filterByFocusable", function() { return _DOM__WEBPACK_IMPORTED_MODULE_5__["filterByFocusable"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "findScrollParents", function() { return _DOM__WEBPACK_IMPORTED_MODULE_5__["findScrollParents"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getFirstFocusableDescendant", function() { return _DOM__WEBPACK_IMPORTED_MODULE_5__["getFirstFocusableDescendant"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getBodyChildElements", function() { return _DOM__WEBPACK_IMPORTED_MODULE_5__["getBodyChildElements"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getNewContainer", function() { return _DOM__WEBPACK_IMPORTED_MODULE_5__["getNewContainer"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "setFocusWithoutScroll", function() { return _DOM__WEBPACK_IMPORTED_MODULE_5__["setFocusWithoutScroll"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "setTabIndex", function() { return _DOM__WEBPACK_IMPORTED_MODULE_5__["setTabIndex"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "copyAttribute", function() { return _DOM__WEBPACK_IMPORTED_MODULE_5__["copyAttribute"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "makeNodeFocusable", function() { return _DOM__WEBPACK_IMPORTED_MODULE_5__["makeNodeFocusable"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "makeNodeUnfocusable", function() { return _DOM__WEBPACK_IMPORTED_MODULE_5__["makeNodeUnfocusable"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "findVisibleParent", function() { return _DOM__WEBPACK_IMPORTED_MODULE_5__["findVisibleParent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "isNodeAfterScroll", function() { return _DOM__WEBPACK_IMPORTED_MODULE_5__["isNodeAfterScroll"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "isNodeBeforeScroll", function() { return _DOM__WEBPACK_IMPORTED_MODULE_5__["isNodeBeforeScroll"]; });

/* harmony import */ var _graphics__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./graphics */ "./node_modules/grommet/es6/utils/graphics.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "baseUnit", function() { return _graphics__WEBPACK_IMPORTED_MODULE_6__["baseUnit"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "polarToCartesian", function() { return _graphics__WEBPACK_IMPORTED_MODULE_6__["polarToCartesian"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "arcCommands", function() { return _graphics__WEBPACK_IMPORTED_MODULE_6__["arcCommands"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "translateEndAngle", function() { return _graphics__WEBPACK_IMPORTED_MODULE_6__["translateEndAngle"]; });

/* harmony import */ var _prop_types__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./prop-types */ "./node_modules/grommet/es6/utils/prop-types.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "a11yTitlePropType", function() { return _prop_types__WEBPACK_IMPORTED_MODULE_7__["a11yTitlePropType"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "backgroundPropType", function() { return _prop_types__WEBPACK_IMPORTED_MODULE_7__["backgroundPropType"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "colorPropType", function() { return _prop_types__WEBPACK_IMPORTED_MODULE_7__["colorPropType"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "marginProp", function() { return _prop_types__WEBPACK_IMPORTED_MODULE_7__["marginProp"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "genericProps", function() { return _prop_types__WEBPACK_IMPORTED_MODULE_7__["genericProps"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "hoverIndicatorPropType", function() { return _prop_types__WEBPACK_IMPORTED_MODULE_7__["hoverIndicatorPropType"]; });

/* harmony import */ var _styles__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./styles */ "./node_modules/grommet/es6/utils/styles.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "baseStyle", function() { return _styles__WEBPACK_IMPORTED_MODULE_8__["baseStyle"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "controlBorderStyle", function() { return _styles__WEBPACK_IMPORTED_MODULE_8__["controlBorderStyle"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "edgeStyle", function() { return _styles__WEBPACK_IMPORTED_MODULE_8__["edgeStyle"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "focusStyle", function() { return _styles__WEBPACK_IMPORTED_MODULE_8__["focusStyle"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "inputStyle", function() { return _styles__WEBPACK_IMPORTED_MODULE_8__["inputStyle"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "overflowStyle", function() { return _styles__WEBPACK_IMPORTED_MODULE_8__["overflowStyle"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "placeholderStyle", function() { return _styles__WEBPACK_IMPORTED_MODULE_8__["placeholderStyle"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "evalStyle", function() { return _styles__WEBPACK_IMPORTED_MODULE_8__["evalStyle"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "genericStyles", function() { return _styles__WEBPACK_IMPORTED_MODULE_8__["genericStyles"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "disabledStyle", function() { return _styles__WEBPACK_IMPORTED_MODULE_8__["disabledStyle"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "sizeStyle", function() { return _styles__WEBPACK_IMPORTED_MODULE_8__["sizeStyle"]; });

/* harmony import */ var _object__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./object */ "./node_modules/grommet/es6/utils/object.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "isObject", function() { return _object__WEBPACK_IMPORTED_MODULE_9__["isObject"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "deepFreeze", function() { return _object__WEBPACK_IMPORTED_MODULE_9__["deepFreeze"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "deepMerge", function() { return _object__WEBPACK_IMPORTED_MODULE_9__["deepMerge"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "removeUndefined", function() { return _object__WEBPACK_IMPORTED_MODULE_9__["removeUndefined"]; });

/* harmony import */ var _responsive__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./responsive */ "./node_modules/grommet/es6/utils/responsive.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getBreakpoint", function() { return _responsive__WEBPACK_IMPORTED_MODULE_10__["getBreakpoint"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getDeviceBreakpoint", function() { return _responsive__WEBPACK_IMPORTED_MODULE_10__["getDeviceBreakpoint"]; });

/* harmony import */ var _router__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./router */ "./node_modules/grommet/es6/utils/router.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ROUTER_PROPS", function() { return _router__WEBPACK_IMPORTED_MODULE_11__["ROUTER_PROPS"]; });

/* harmony import */ var _throttle__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./throttle */ "./node_modules/grommet/es6/utils/throttle.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "throttle", function() { return _throttle__WEBPACK_IMPORTED_MODULE_12__["throttle"]; });

/* harmony import */ var _themeDocUtils__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./themeDocUtils */ "./node_modules/grommet/es6/utils/themeDocUtils.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "themeDocUtils", function() { return _themeDocUtils__WEBPACK_IMPORTED_MODULE_13__["themeDocUtils"]; });
















/***/ }),

/***/ "./node_modules/grommet/es6/utils/mixins.js":
/*!**************************************************!*\
  !*** ./node_modules/grommet/es6/utils/mixins.js ***!
  \**************************************************/
/*! exports provided: parseMetricToNum, fontSize, breakpointStyle, findAllByType, getAvailableAtBadge */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "parseMetricToNum", function() { return parseMetricToNum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fontSize", function() { return fontSize; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "breakpointStyle", function() { return breakpointStyle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "findAllByType", function() { return findAllByType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getAvailableAtBadge", function() { return getAvailableAtBadge; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");

var parseMetricToNum = function parseMetricToNum(fontAsString) {
  if (fontAsString.match(/\s/) && "development" !== 'production') {
    console.warn("Invalid single measurement value: \"" + fontAsString + "\"");
  }

  return parseFloat(fontAsString.match(/\d+(\.\d+)?/), 10);
};
var fontSize = function fontSize(size, lineHeight) {
  return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["font-size:", ";line-height:", ";"], function (props) {
    return parseMetricToNum(size) / parseMetricToNum(props.theme.global.font.size) * 1 + "rem";
  }, function (props) {
    return lineHeight || Math.ceil(parseMetricToNum(size) / parseMetricToNum(props.theme.global.lineHeight)) * (parseMetricToNum(props.theme.global.lineHeight) / parseMetricToNum(size)) + "px";
  });
};
var breakpointStyle = function breakpointStyle(breakpoint, content) {
  return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["@media only screen ", "{", ";}"], breakpoint.value && "and (max-width: " + breakpoint.value + "px)", content);
};
var findAllByType = function findAllByType(component, type) {
  var matches = [];

  if (component.type === type) {
    matches.push(component);
  }

  if (component.children) {
    component.children.forEach(function (child) {
      matches = matches.concat(findAllByType(child, type));
    });
  }

  return matches;
};
var getAvailableAtBadge = function getAvailableAtBadge(availableAt) {
  return [{
    url: "https://storybook.grommet.io/?selectedKind=" + availableAt + "&full=0&addons=0&stories=1&panelRight=0",
    badge: 'https://cdn-images-1.medium.com/fit/c/120/120/1*TD1P0HtIH9zF0UEH28zYtw.png',
    label: 'Storybook'
  }, {
    url: "https://codesandbox.io/s/github/grommet/grommet-sandbox?initialpath=" + availableAt.toLowerCase() + "&module=%2Fsrc%2F" + availableAt + ".js",
    badge: 'https://codesandbox.io/static/img/play-codesandbox.svg',
    label: 'CodeSandbox'
  }];
};

/***/ }),

/***/ "./node_modules/grommet/es6/utils/object.js":
/*!**************************************************!*\
  !*** ./node_modules/grommet/es6/utils/object.js ***!
  \**************************************************/
/*! exports provided: isObject, deepFreeze, deepMerge, removeUndefined */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isObject", function() { return isObject; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "deepFreeze", function() { return deepFreeze; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "deepMerge", function() { return deepMerge; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "removeUndefined", function() { return removeUndefined; });
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var isObject = function isObject(item) {
  return item && typeof item === 'object' && !Array.isArray(item);
};
var deepFreeze = function deepFreeze(obj) {
  Object.keys(obj).forEach(function (key) {
    return key && isObject(obj[key]) && Object.freeze(obj[key]);
  });
  return Object.freeze(obj);
};
var deepMerge = function deepMerge(target) {
  for (var _len = arguments.length, sources = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
    sources[_key - 1] = arguments[_key];
  }

  if (!sources.length) {
    return target;
  } // making sure to not change target (immutable)


  var output = _extends({}, target);

  sources.forEach(function (source) {
    if (isObject(source)) {
      Object.keys(source).forEach(function (key) {
        if (isObject(source[key])) {
          if (!output[key]) {
            output[key] = _extends({}, source[key]);
          } else {
            output[key] = deepMerge(output[key], source[key]);
          }
        } else {
          output[key] = source[key];
        }
      });
    }
  });
  return output;
};
var removeUndefined = function removeUndefined(obj) {
  var result = {};
  Object.keys(obj).forEach(function (key) {
    if (obj[key] !== undefined) {
      result[key] = obj[key];
    }
  });
  return result;
};

/***/ }),

/***/ "./node_modules/grommet/es6/utils/prop-types.js":
/*!******************************************************!*\
  !*** ./node_modules/grommet/es6/utils/prop-types.js ***!
  \******************************************************/
/*! exports provided: a11yTitlePropType, backgroundPropType, colorPropType, marginProp, genericProps, hoverIndicatorPropType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a11yTitlePropType", function() { return a11yTitlePropType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "backgroundPropType", function() { return backgroundPropType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "colorPropType", function() { return colorPropType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "marginProp", function() { return marginProp; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "genericProps", function() { return genericProps; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hoverIndicatorPropType", function() { return hoverIndicatorPropType; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);

var a11yTitlePropType = react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description("Custom label to be used by screen readers. When provided, an aria-label will\n   be added to the element.");
var backgroundPropType = react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
  color: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
  opacity: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['weak', 'medium', 'strong']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool])
})]).description('Background color');
var colorPropType = react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
  dark: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
  light: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string
})]);
var MARGIN_SIZES = ['xxsmall', 'xsmall', 'small', 'medium', 'large', 'xlarge'];
var marginProp = react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['none'].concat(MARGIN_SIZES)), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
  bottom: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(MARGIN_SIZES), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
  horizontal: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(MARGIN_SIZES), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
  left: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(MARGIN_SIZES), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
  right: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(MARGIN_SIZES), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
  top: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(MARGIN_SIZES), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
  vertical: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(MARGIN_SIZES), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string])
}), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description("The amount of margin around the component. An object can\n    be specified to distinguish horizontal margin, vertical margin, and\n    margin on a particular side.");
var genericProps = {
  a11yTitle: a11yTitlePropType,
  alignSelf: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['start', 'center', 'end', 'stretch']).description("How to align along the cross axis when contained in\n      a Box or along the column axis when contained in a Grid."),
  gridArea: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description("The name of the area to place\n    this inside a parent Grid."),
  margin: marginProp
};
var hoverIndicatorPropType = react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['background']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
  color: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
  dark: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
  image: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
  light: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
  position: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
  opacity: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['weak', 'medium', 'strong'])]),
  repeat: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['no-repeat', 'repeat']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
  size: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['cover', 'contain']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string])
})]);

/***/ }),

/***/ "./node_modules/grommet/es6/utils/responsive.js":
/*!******************************************************!*\
  !*** ./node_modules/grommet/es6/utils/responsive.js ***!
  \******************************************************/
/*! exports provided: getBreakpoint, getDeviceBreakpoint */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getBreakpoint", function() { return getBreakpoint; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getDeviceBreakpoint", function() { return getDeviceBreakpoint; });
var getBreakpoint = function getBreakpoint(windowWidth, theme) {
  var result;
  Object.keys(theme.global.breakpoints).sort(function (a, b) {
    var first = theme.global.breakpoints[a];
    var second = theme.global.breakpoints[b];
    if (!first) return 1;
    if (!second) return -1;
    if (!first.value) return 1;
    if (!second.value) return -1;
    return first.value - second.value;
  }).some(function (name) {
    var breakpoint = theme.global.breakpoints[name];

    if (breakpoint) {
      if (!breakpoint.value || breakpoint.value >= windowWidth) {
        result = name;
        return true;
      }
    }

    return false;
  });
  return result;
};
var getDeviceBreakpoint = function getDeviceBreakpoint(type, theme) {
  return theme.global.deviceBreakpoints[type];
};

/***/ }),

/***/ "./node_modules/grommet/es6/utils/router.js":
/*!**************************************************!*\
  !*** ./node_modules/grommet/es6/utils/router.js ***!
  \**************************************************/
/*! exports provided: ROUTER_PROPS */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ROUTER_PROPS", function() { return ROUTER_PROPS; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);

var ROUTER_PROPS = {
  path: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description('Indicates the path to be used for react-router link.').isRequired,
  method: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['push', 'replace']).description("Indicates whether the browser history should be appended to or \n      replaced.").defaultValue('push')
};

/***/ }),

/***/ "./node_modules/grommet/es6/utils/styles.js":
/*!**************************************************!*\
  !*** ./node_modules/grommet/es6/utils/styles.js ***!
  \**************************************************/
/*! exports provided: baseStyle, controlBorderStyle, edgeStyle, focusStyle, inputStyle, overflowStyle, placeholderStyle, evalStyle, genericStyles, disabledStyle, sizeStyle */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "baseStyle", function() { return baseStyle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "controlBorderStyle", function() { return controlBorderStyle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "edgeStyle", function() { return edgeStyle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "focusStyle", function() { return focusStyle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "inputStyle", function() { return inputStyle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "overflowStyle", function() { return overflowStyle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "placeholderStyle", function() { return placeholderStyle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "evalStyle", function() { return evalStyle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "genericStyles", function() { return genericStyles; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "disabledStyle", function() { return disabledStyle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "sizeStyle", function() { return sizeStyle; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _colors__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./colors */ "./node_modules/grommet/es6/utils/colors.js");
/* harmony import */ var _mixins__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./mixins */ "./node_modules/grommet/es6/utils/mixins.js");



var baseStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["font-family:", ";font-size:", ";line-height:", ";font-weight:", ";", " box-sizing:border-box;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;"], function (props) {
  return props.theme.global.font.family;
}, function (props) {
  return props.theme.global.font.size;
}, function (props) {
  return props.theme.global.font.height;
}, function (props) {
  return props.theme.global.font.weight;
}, function (props) {
  return !props.plain && props.theme.global.colors.background && Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["background:", ";color:", ";"], Object(_colors__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])('background', props.theme, true), Object(_colors__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])('text', props.theme, true));
});
var controlBorderStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["border:", " solid ", ";border-radius:", ";"], function (props) {
  return props.theme.global.control.border.width;
}, function (props) {
  return Object(_colors__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.global.control.border.color || 'border', props.theme);
}, function (props) {
  return props.theme.global.control.border.radius;
});
var edgeStyle = function edgeStyle(kind, data, responsive, responsiveBreakpoint, theme) {
  var breakpoint = responsiveBreakpoint && theme.global.breakpoints[responsiveBreakpoint];

  if (typeof data === 'string') {
    return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["", ":", ";", ";"], kind, theme.global.edgeSize[data] || data, responsive && breakpoint ? Object(_mixins__WEBPACK_IMPORTED_MODULE_2__["breakpointStyle"])(breakpoint, "\n        " + kind + ": " + (breakpoint.edgeSize[data] || data) + ";\n      ") : '');
  }

  var result = [];

  if (data.horizontal) {
    result.push(Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["", "-left:", ";", "-right:", ";", ";"], kind, theme.global.edgeSize[data.horizontal] || data.horizontal, kind, theme.global.edgeSize[data.horizontal] || data.horizontal, responsive && breakpoint ? Object(_mixins__WEBPACK_IMPORTED_MODULE_2__["breakpointStyle"])(breakpoint, "\n        " + kind + "-left: " + (breakpoint.edgeSize[data.horizontal] || data.horizontal) + ";\n        " + kind + "-right: " + (breakpoint.edgeSize[data.horizontal] || data.horizontal) + ";\n      ") : ''));
  }

  if (data.vertical) {
    result.push(Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["", "-top:", ";", "-bottom:", ";", ";"], kind, theme.global.edgeSize[data.vertical] || data.vertical, kind, theme.global.edgeSize[data.vertical] || data.vertical, responsive && breakpoint ? Object(_mixins__WEBPACK_IMPORTED_MODULE_2__["breakpointStyle"])(breakpoint, "\n        " + kind + "-top: " + (breakpoint.edgeSize[data.vertical] || data.vertical) + ";\n        " + kind + "-bottom: " + (breakpoint.edgeSize[data.vertical] || data.vertical) + ";\n      ") : ''));
  }

  if (data.top) {
    result.push(Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["", "-top:", ";", ";"], kind, theme.global.edgeSize[data.top] || data.top, responsive && breakpoint ? Object(_mixins__WEBPACK_IMPORTED_MODULE_2__["breakpointStyle"])(breakpoint, "\n        " + kind + "-top: " + (breakpoint.edgeSize[data.top] || data.top) + ";\n      ") : ''));
  }

  if (data.bottom) {
    result.push(Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["", "-bottom:", ";", ";"], kind, theme.global.edgeSize[data.bottom] || data.bottom, responsive && breakpoint ? Object(_mixins__WEBPACK_IMPORTED_MODULE_2__["breakpointStyle"])(breakpoint, "\n        " + kind + "-bottom: " + (breakpoint.edgeSize[data.bottom] || data.bottom) + ";\n      ") : ''));
  }

  if (data.left) {
    result.push(Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["", "-left:", ";", ";"], kind, theme.global.edgeSize[data.left] || data.left, responsive && breakpoint ? Object(_mixins__WEBPACK_IMPORTED_MODULE_2__["breakpointStyle"])(breakpoint, "\n        " + kind + "-left: " + (breakpoint.edgeSize[data.left] || data.left) + ";\n      ") : ''));
  }

  if (data.right) {
    result.push(Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["", "-right:", ";", ";"], kind, theme.global.edgeSize[data.right] || data.right, responsive && breakpoint ? Object(_mixins__WEBPACK_IMPORTED_MODULE_2__["breakpointStyle"])(breakpoint, "\n        " + kind + "-right: " + (breakpoint.edgeSize[data.right] || data.right) + ";\n      ") : ''));
  }

  return result;
}; // focus also supports clickable elements inside svg

var focusStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["> circle,> ellipse,> line,> path,> polygon,> polyline,> rect{outline:", " solid 2px;}outline-color:", ";border-color:", ";box-shadow:0 0 2px 2px ", ";::-moz-focus-inner{border:0;}"], function (props) {
  return Object(_colors__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.global.focus.border.color, props.theme);
}, function (props) {
  return Object(_colors__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.global.focus.border.color, props.theme);
}, function (props) {
  return Object(_colors__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.global.focus.border.color, props.theme);
}, function (props) {
  return Object(_colors__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.global.focus.border.color, props.theme);
});
var inputStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["box-sizing:border-box;font-size:inherit;font-family:inherit;border:none;-webkit-appearance:none;padding:", "px;outline:none;background:transparent;color:inherit;", " margin:0;", " ", "::-webkit-search-decoration{-webkit-appearance:none;}"], function (props) {
  return Object(_mixins__WEBPACK_IMPORTED_MODULE_2__["parseMetricToNum"])(props.theme.global.input.padding) - Object(_mixins__WEBPACK_IMPORTED_MODULE_2__["parseMetricToNum"])(props.theme.global.control.border.width);
}, function (props) {
  return props.theme.global.input.weight && Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["font-weight:", ";"], props.theme.global.input.weight);
}, function (props) {
  return props.focus && (!props.plain || props.focusIndicator) && focusStyle;
}, controlBorderStyle);
var overflowStyle = function overflowStyle(overflowProp) {
  if (typeof overflowProp === 'string') {
    return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["overflow:", ";"], overflowProp);
  }

  return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["", " ", ";"], overflowProp.horizontal && "overflow-x: " + overflowProp.horizontal + ";", overflowProp.vertical && "overflow-y: " + overflowProp.vertical + ";");
};
var placeholderColor = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["color:", ";"], function (props) {
  return props.theme.global.colors.placeholder;
});
var placeholderStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["&::-webkit-input-placeholder{", ";}&::-moz-placeholder{", ";}&:-ms-input-placeholder{", ";}"], placeholderColor, placeholderColor, placeholderColor); // evalStyle() converts a styled-components item into a string

var evalStyle = function evalStyle(arg, theme) {
  if (arg && Array.isArray(arg) && typeof arg[0] === 'function') {
    return arg[0]({
      theme: theme
    });
  }

  return arg;
};
var ALIGN_SELF_MAP = {
  center: 'center',
  end: 'flex-end',
  start: 'flex-start',
  stretch: 'stretch'
};
var genericStyles = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["", " ", " ", ""], function (props) {
  return props.alignSelf && "align-self: " + ALIGN_SELF_MAP[props.alignSelf] + ";";
}, function (props) {
  return props.gridArea && "grid-area: " + props.gridArea + ";";
}, function (props) {
  return props.margin && edgeStyle('margin', props.margin, props.responsive, props.theme.global.edgeSize.responsiveBreakpoint, props.theme);
});
var disabledStyle = function disabledStyle(componentStyle) {
  return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["opacity:", ";cursor:default;"], function (props) {
    return componentStyle || props.theme.global.control.disabled.opacity;
  });
};
var sizeStyle = function sizeStyle(name, value, theme) {
  return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["", ":", ";"], name, theme.global.size[value] || value);
};

/***/ }),

/***/ "./node_modules/grommet/es6/utils/themeDocUtils.js":
/*!*********************************************************!*\
  !*** ./node_modules/grommet/es6/utils/themeDocUtils.js ***!
  \*********************************************************/
/*! exports provided: themeDocUtils */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDocUtils", function() { return themeDocUtils; });
var themeDocUtils = {
  // 'The possible breakpoints that could affect border, direction, gap,
  // margin, pad, and round.',
  breakpointStyle: function breakpointStyle(description) {
    return {
      'global.breakpoints': {
        description: description,
        type: 'object',
        defaultValue: "{\n    small: {\n      value: '768px',\n      borderSize: {\n        xsmall: '1px',\n        small: '2px',\n        medium: '4px',\n        large: '6px',\n        xlarge: '12px',\n      },\n      edgeSize: {\n        none: '0px',\n        hair: '1px',\n        xxsmall: '2px',\n        xsmall: '3px',\n        small: '6px',\n        medium: '12px',\n        large: '24px',\n        xlarge: '48px',\n      },\n      size: {\n        xxsmall: '24px',\n        xsmall: '48px',\n        small: '96px',\n        medium: '192px',\n        large: '384px',\n        xlarge: '768px',\n        full: '100%',\n      },\n    },\n    medium: {\n      value: '1536px',\n    },\n    large: {},\n  }"
      }
    };
  },
  disabledStyle: {
    'global.control.disabled.opacity': {
      description: 'The opacity when a component is disabled.',
      type: 'number',
      defaultValue: 0.3
    }
  },
  edgeStyle: function edgeStyle(description) {
    return {
      'global.edgeSize': {
        description: description,
        type: 'object',
        defaultValue: "{\n    edgeSize: {\n      none: '0px',\n      hair: '1px',\n      xxsmall: '3px',\n      xsmall: '6px',\n      small: '12px',\n      medium: '24px',\n      large: '48px',\n      xlarge: '96px',\n      responsiveBreakpoint: 'small',\n    },\n  }"
      }
    };
  },
  focusStyle: {
    'global.focus.border.color': {
      description: 'The color around the component when in focus.',
      type: 'string | { dark: string, light: string }',
      defaultValue: 'focus'
    }
  },
  iconColor: {
    'global.colors.icon': {
      description: 'The color of a given icon.',
      type: 'string | { dark: string, light: string }',
      defaultValue: '{ dark: #f8f8f8, light: #666666 }'
    }
  },
  inputStyle: {
    'global.input.weight': {
      description: 'The font weight of the text entered.',
      type: 'number',
      defaultValue: 600
    },
    'global.input.padding': {
      description: 'The padding of the text.',
      type: 'string',
      defaultValue: '12px'
    }
  },
  placeholderStyle: {
    'global.colors.placeholder': {
      description: 'The placeholder color used for the component.',
      type: 'string',
      defaultValue: '#AAAAAA'
    }
  },
  responsiveBreakpoint: function responsiveBreakpoint(description) {
    return {
      'global.edgeSize.responsiveBreakpoint': {
        description: description,
        type: 'string',
        defaultValue: 'small'
      }
    };
  }
};

/***/ }),

/***/ "./node_modules/grommet/es6/utils/throttle.js":
/*!****************************************************!*\
  !*** ./node_modules/grommet/es6/utils/throttle.js ***!
  \****************************************************/
/*! exports provided: throttle */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "throttle", function() { return throttle; });
var _this = undefined;

// (C) Copyright 2014-2016 Hewlett Packard Enterprise Development LP
var throttle = function throttle(fn, threshhold, scope) {
  if (threshhold === void 0) {
    threshhold = 250;
  }

  if (scope === void 0) {
    scope = _this;
  }

  var last;
  var deferTimer;
  return function () {
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var now = Date.now();

    if (last && now < last + threshhold) {
      clearTimeout(deferTimer);
      deferTimer = setTimeout(function () {
        last = now;
        fn.apply(scope, args);
      }, threshhold);
    } else {
      last = now;
      fn.apply(scope, args);
    }
  };
};

/***/ }),

/***/ "./node_modules/grommet/node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/grommet/node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js ***!
  \*******************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var reactIs = __webpack_require__(/*! react-is */ "./node_modules/react-is/index.js");

/**
 * Copyright 2015, Yahoo! Inc.
 * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.
 */
var REACT_STATICS = {
  childContextTypes: true,
  contextType: true,
  contextTypes: true,
  defaultProps: true,
  displayName: true,
  getDefaultProps: true,
  getDerivedStateFromError: true,
  getDerivedStateFromProps: true,
  mixins: true,
  propTypes: true,
  type: true
};
var KNOWN_STATICS = {
  name: true,
  length: true,
  prototype: true,
  caller: true,
  callee: true,
  arguments: true,
  arity: true
};
var FORWARD_REF_STATICS = {
  '$$typeof': true,
  render: true,
  defaultProps: true,
  displayName: true,
  propTypes: true
};
var MEMO_STATICS = {
  '$$typeof': true,
  compare: true,
  defaultProps: true,
  displayName: true,
  propTypes: true,
  type: true
};
var TYPE_STATICS = {};
TYPE_STATICS[reactIs.ForwardRef] = FORWARD_REF_STATICS;

function getStatics(component) {
  if (reactIs.isMemo(component)) {
    return MEMO_STATICS;
  }

  return TYPE_STATICS[component['$$typeof']] || REACT_STATICS;
}

var defineProperty = Object.defineProperty;
var getOwnPropertyNames = Object.getOwnPropertyNames;
var getOwnPropertySymbols = Object.getOwnPropertySymbols;
var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;
var getPrototypeOf = Object.getPrototypeOf;
var objectPrototype = Object.prototype;
function hoistNonReactStatics(targetComponent, sourceComponent, blacklist) {
  if (typeof sourceComponent !== 'string') {
    // don't hoist over string (html) components
    if (objectPrototype) {
      var inheritedComponent = getPrototypeOf(sourceComponent);

      if (inheritedComponent && inheritedComponent !== objectPrototype) {
        hoistNonReactStatics(targetComponent, inheritedComponent, blacklist);
      }
    }

    var keys = getOwnPropertyNames(sourceComponent);

    if (getOwnPropertySymbols) {
      keys = keys.concat(getOwnPropertySymbols(sourceComponent));
    }

    var targetStatics = getStatics(targetComponent);
    var sourceStatics = getStatics(sourceComponent);

    for (var i = 0; i < keys.length; ++i) {
      var key = keys[i];

      if (!KNOWN_STATICS[key] && !(blacklist && blacklist[key]) && !(sourceStatics && sourceStatics[key]) && !(targetStatics && targetStatics[key])) {
        var descriptor = getOwnPropertyDescriptor(sourceComponent, key);

        try {
          // Avoid failures from read-only properties
          defineProperty(targetComponent, key, descriptor);
        } catch (e) {}
      }
    }
  }

  return targetComponent;
}

module.exports = hoistNonReactStatics;


/***/ }),

/***/ "./node_modules/markdown-to-jsx/dist/esm.js":
/*!**************************************************!*\
  !*** ./node_modules/markdown-to-jsx/dist/esm.js ***!
  \**************************************************/
/*! exports provided: compiler, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "compiler", function() { return compiler; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Markdown; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var unquote__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! unquote */ "./node_modules/unquote/index.js");
/* harmony import */ var unquote__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(unquote__WEBPACK_IMPORTED_MODULE_1__);
var _extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},_typeof=typeof Symbol=='function'&&typeof Symbol.iterator=='symbol'?function(a){return typeof a}:function(a){return a&&typeof Symbol=='function'&&a.constructor===Symbol&&a!==Symbol.prototype?'symbol':typeof a};function _objectWithoutProperties(a,b){var c={};for(var d in a)b.indexOf(d)>=0||Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);return c}var ATTRIBUTE_TO_JSX_PROP_MAP={accesskey:'accessKey',allowfullscreen:'allowFullScreen',allowtransparency:'allowTransparency',autocomplete:'autoComplete',autofocus:'autoFocus',autoplay:'autoPlay',cellpadding:'cellPadding',cellspacing:'cellSpacing',charset:'charSet',class:'className',classid:'classId',colspan:'colSpan',contenteditable:'contentEditable',contextmenu:'contextMenu',crossorigin:'crossOrigin',enctype:'encType',for:'htmlFor',formaction:'formAction',formenctype:'formEncType',formmethod:'formMethod',formnovalidate:'formNoValidate',formtarget:'formTarget',frameborder:'frameBorder',hreflang:'hrefLang',inputmode:'inputMode',keyparams:'keyParams',keytype:'keyType',marginheight:'marginHeight',marginwidth:'marginWidth',maxlength:'maxLength',mediagroup:'mediaGroup',minlength:'minLength',novalidate:'noValidate',radiogroup:'radioGroup',readonly:'readOnly',rowspan:'rowSpan',spellcheck:'spellCheck',srcdoc:'srcDoc',srclang:'srcLang',srcset:'srcSet',tabindex:'tabIndex',usemap:'useMap'},namedCodesToUnicode={amp:'&',apos:'\'',gt:'>',lt:'<',nbsp:'\xA0',quot:'\u201C'},DO_NOT_PROCESS_HTML_ELEMENTS=['style','script'],ATTR_EXTRACTOR_R=/([-A-Z0-9_:]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|(?:\{((?:\\.|{[^}]*?}|[^}])*)\})))?/gi,AUTOLINK_MAILTO_CHECK_R=/mailto:/i,BLOCK_END_R=/\n{2,}$/,BLOCKQUOTE_R=/^( *>[^\n]+(\n[^\n]+)*\n*)+\n{2,}/,BLOCKQUOTE_TRIM_LEFT_MULTILINE_R=/^ *> ?/gm,BREAK_LINE_R=/^ {2,}\n/,BREAK_THEMATIC_R=/^(?:( *[-*_]) *){3,}(?:\n *)+\n/,CODE_BLOCK_FENCED_R=/^\s*(`{3,}|~{3,}) *(\S+)? *\n([\s\S]+?)\s*\1 *(?:\n *)+\n?/,CODE_BLOCK_R=/^(?: {4}[^\n]+\n*)+(?:\n *)+\n?/,CODE_INLINE_R=/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,CONSECUTIVE_NEWLINE_R=/^(?:\n *)*\n/,CR_NEWLINE_R=/\r\n?/g,FOOTNOTE_R=/^\[\^(.*)\](:.*)\n/,FOOTNOTE_REFERENCE_R=/^\[\^(.*)\]/,FORMFEED_R=/\f/g,GFM_TASK_R=/^\s*?\[(x|\s)\]/,HEADING_R=/^ *(#{1,6}) *([^\n]+)\n{0,2}/,HEADING_SETEXT_R=/^([^\n]+)\n *(=|-){3,} *(?:\n *)+\n/,HTML_BLOCK_ELEMENT_R=/^ *(?!<[a-z][^ >/]* ?\/>)<([a-z][^ >/]*) ?([^>]*)\/{0}>\n?(\s*(?:<\1[^>]*?>[\s\S]*?<\/\1>|(?!<\1)[\s\S])*?)<\/\1>\n*/i,HTML_CHAR_CODE_R=/&([a-z]+);/g,HTML_COMMENT_R=/^<!--.*?-->/,HTML_CUSTOM_ATTR_R=/^(data|aria|x)-[a-z_][a-z\d_.-]*$/,HTML_SELF_CLOSING_ELEMENT_R=/^ *<([a-z][a-z0-9:]*)(?:\s+((?:<.*?>|[^>])*))?\/?>(?!<\/\1>)(\s*\n)?/i,INTERPOLATION_R=/^\{.*\}$/,LINK_AUTOLINK_BARE_URL_R=/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,LINK_AUTOLINK_MAILTO_R=/^<([^ >]+@[^ >]+)>/,LINK_AUTOLINK_R=/^<([^ >]+:\/[^ >]+)>/,LIST_ITEM_END_R=/ *\n+$/,LIST_LOOKBEHIND_R=/(?:^|\n)( *)$/,CAPTURE_LETTER_AFTER_HYPHEN=/-([a-z])?/gi,NP_TABLE_R=/^(.*\|?.*)\n *(\|? *[-:]+ *\|[-| :]*)\n((?:.*\|.*\n)*)\n?/,PARAGRAPH_R=/^((?:[^\n]|\n(?! *\n))+)(?:\n *)+\n/,REFERENCE_IMAGE_OR_LINK=/^\[([^\]]*)\]:\s*(\S+)\s*("([^"]*)")?/,REFERENCE_IMAGE_R=/^!\[([^\]]*)\] ?\[([^\]]*)\]/,REFERENCE_LINK_R=/^\[([^\]]*)\] ?\[([^\]]*)\]/,SQUARE_BRACKETS_R=/(\[|\])/g,SHOULD_RENDER_AS_BLOCK_R=/(\n|^[-*]\s|^#|^ {2,}|^-{2,}|^>\s)/,TAB_R=/\t/g,TABLE_SEPARATOR_R=/^ *\| */,TABLE_TRIM_PIPES=/(^ *\||\| *$)/g,TABLE_CELL_END_TRIM=/ *$/,TABLE_CENTER_ALIGN=/^ *:-+: *$/,TABLE_LEFT_ALIGN=/^ *:-+ *$/,TABLE_RIGHT_ALIGN=/^ *-+: *$/,TEXT_BOLD_R=/^([*_])\1((?:\[.*?\][([].*?[)\]]|<.*?>(?:.*?<.*?>)?|`.*?`|~+.*?~+|.)*?)\1\1(?!\1)/,TEXT_EMPHASIZED_R=/^([*_])((?:\[.*?\][([].*?[)\]]|<.*?>(?:.*?<.*?>)?|`.*?`|~+.*?~+|.)*?)\1(?!\1)/,TEXT_STRIKETHROUGHED_R=/^~~((?:\[.*?\]|<.*?>(?:.*?<.*?>)?|`.*?`|.)*?)~~/,TEXT_ESCAPED_R=/^\\([^0-9A-Za-z\s])/,TEXT_PLAIN_R=/^[\s\S]+?(?=[^0-9A-Z\s\u00c0-\uffff&;.()'"]|\d+\.|\n\n| {2,}\n|\w+:\S|$)/i,TRIM_NEWLINES_AND_TRAILING_WHITESPACE_R=/(^\n+|\n+$|\s+$)/g,HTML_LEFT_TRIM_AMOUNT_R=/^([ \t]*)/,UNESCAPE_URL_R=/\\([^0-9A-Z\s])/gi,LIST_BULLET='(?:[*+-]|\\d+\\.)',LIST_ITEM_PREFIX='( *)((?:[*+-]|\\d+\\.)) +',LIST_ITEM_PREFIX_R=/^( *)((?:[*+-]|\d+\.)) +/,LIST_ITEM_R=/( *)((?:[*+-]|\d+\.)) +[^\n]*(?:\n(?!\1(?:[*+-]|\d+\.) )[^\n]*)*(\n|$)/gm,LIST_R=/^( *)((?:[*+-]|\d+\.)) [\s\S]+?(?:\n{2,}(?! )(?!\1(?:[*+-]|\d+\.) (?!(?:[*+-]|\d+\.) ))\n*|\s*\n*$)/,LINK_INSIDE='(?:\\[[^\\]]*\\]|[^\\[\\]]|\\](?=[^\\[]*\\]))*',LINK_HREF_AND_TITLE='\\s*<?((?:[^\\s\\\\]|\\\\.)*?)>?(?:\\s+[\'"]([\\s\\S]*?)[\'"])?\\s*',LINK_R=/^\[((?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*)\]\(\s*<?((?:[^\s\\]|\\.)*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*\)/,IMAGE_R=/^!\[((?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*)\]\(\s*<?((?:[^\s\\]|\\.)*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*\)/,BLOCK_SYNTAXES=[BLOCKQUOTE_R,CODE_BLOCK_R,CODE_BLOCK_FENCED_R,HEADING_R,HEADING_SETEXT_R,HTML_BLOCK_ELEMENT_R,HTML_COMMENT_R,HTML_SELF_CLOSING_ELEMENT_R,LIST_ITEM_R,LIST_R,NP_TABLE_R,PARAGRAPH_R];function containsBlockSyntax(a){return BLOCK_SYNTAXES.some(function(b){return b.test(a)})}function slugify(a){return a.replace(/[]/g,'a').replace(/[]/g,'c').replace(/[]/g,'d').replace(/[]/g,'e').replace(/[]/g,'i').replace(/[]/g,'n').replace(/[]/g,'o').replace(/[]/g,'u').replace(/[]/g,'y').replace(/[^a-z0-9- ]/gi,'').replace(/ /gi,'-').toLowerCase()}function parseTableAlignCapture(a){if(TABLE_RIGHT_ALIGN.test(a))return'right';return TABLE_CENTER_ALIGN.test(a)?'center':TABLE_LEFT_ALIGN.test(a)?'left':null}function parseTableRow(a,b,c){var d=c.inTable;c.inTable=!0;var e=b(a.trim(),c);c.inTable=d;var f=[[]];return e.forEach(function(a,b){a.type==='tableSeparator'?b!==0&&b!==e.length-1&&f.push([]):(a.type==='text'&&(e[b+1]==null||e[b+1].type==='tableSeparator')&&(a.content=a.content.replace(TABLE_CELL_END_TRIM,'')),f[f.length-1].push(a))}),f}function parseTableAlign(a){var b=a.replace(TABLE_TRIM_PIPES,'').split('|');return b.map(parseTableAlignCapture)}function parseTableCells(a,b,c){var d=a.trim().split('\n');return d.map(function(a){return parseTableRow(a,b,c)})}function parseTable(a,b,c){c.inline=!0;var d=parseTableRow(a[1],b,c),e=parseTableAlign(a[2],b,c),f=parseTableCells(a[3],b,c);return c.inline=!1,{align:e,cells:f,header:d,type:'table'}}function getTableStyle(a,b){return a.align[b]==null?{}:{textAlign:a.align[b]}}function normalizeAttributeKey(a){var b=a.indexOf('-');return b!==-1&&a.match(HTML_CUSTOM_ATTR_R)===null&&(a=a.replace(CAPTURE_LETTER_AFTER_HYPHEN,function(a,b){return b.toUpperCase()})),a}function attributeValueToJSXPropValue(a,b){return a==='style'?b.split(/;\s?/).reduce(function(a,b){var c=b.slice(0,b.indexOf(':')),d=c.replace(/(-[a-z])/g,function(a){return a[1].toUpperCase()});return a[d]=b.slice(c.length+1).trim(),a},{}):a==='href'?sanitizeUrl(b):(b.match(INTERPOLATION_R)&&(b=b.slice(1,b.length-1)),b==='true'||b!=='false'&&b)}function normalizeWhitespace(a){return a.replace(CR_NEWLINE_R,'\n').replace(FORMFEED_R,'').replace(TAB_R,'    ')}function parserFor(a){function b(d,e){for(var f=[],g='';d;)for(var l=0;l<c.length;){var h=c[l],j=a[h],k=j.match(d,e,g);if(k){var i=k[0];d=d.substring(i.length);var m=j.parse(k,b,e);m.type==null&&(m.type=h),f.push(m),g=i;break}l++}return f}var c=Object.keys(a);return  true&&c.forEach(function(b){var c=a[b].order; false||typeof c=='number'&&isFinite(c)||console.warn('markdown-to-jsx: Invalid order for rule `'+b+'`: '+c)}),c.sort(function(b,c){var d=a[b].order,e=a[c].order;return d===e?b<c?-1:1:d-e}),function(a,c){return b(normalizeWhitespace(a),c)}}function inlineRegex(a){return function(b,c){return c.inline?a.exec(b):null}}function simpleInlineRegex(a){return function(b,c){return c.inline||c.simple?a.exec(b):null}}function blockRegex(a){return function(b,c){return c.inline||c.simple?null:a.exec(b)}}function anyScopeRegex(a){return function(b){return a.exec(b)}}function reactFor(a){return function b(c,d){if(d=d||{},Array.isArray(c)){for(var e=d.key,f=[],g=!1,h=0;h<c.length;h++){d.key=h;var j=b(c[h],d),k=typeof j=='string';k&&g?f[f.length-1]+=j:f.push(j),g=k}return d.key=e,f}return a(c,b,d)}}function sanitizeUrl(a){try{var b=decodeURIComponent(a);if(b.match(/^\s*javascript:/i))return  true&&console.warn('Anchor URL contains an unsafe JavaScript expression, it will not be rendered.',b),null}catch(b){return  true&&console.warn('Anchor URL could not be decoded due to malformed syntax or characters, it will not be rendered.',a),null}return a}function unescapeUrl(a){return a.replace(UNESCAPE_URL_R,'$1')}function parseInline(a,b,c){var d=c.inline||!1,e=c.simple||!1;c.inline=!0,c.simple=!0;var f=a(b,c);return c.inline=d,c.simple=e,f}function parseSimpleInline(a,b,c){var d=c.inline||!1,e=c.simple||!1;c.inline=!1,c.simple=!0;var f=a(b,c);return c.inline=d,c.simple=e,f}function parseBlock(a,b,c){return c.inline=!1,a(b+'\n\n',c)}function parseCaptureInline(a,b,c){return{content:parseInline(b,a[1],c)}}function captureNothing(){return{}}function renderNothing(){return null}function ruleOutput(a){return function(b,c,d){return a[b.type].react(b,c,d)}}function cx(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return b.filter(Boolean).join(' ')}function get(a,b,c){for(var d=a,e=b.split('.');e.length&&(d=d[e[0]],d!==void 0);)e.shift();return d||c}function getTag(a,b){var c=get(b,a);return c?typeof c=='function'||(typeof c=='undefined'?'undefined':_typeof(c))==='object'&&'render'in c?c:get(b,a+'.component',a):a}var PARSE_PRIORITY_MAX=1,PARSE_PRIORITY_HIGH=2,PARSE_PRIORITY_MED=3,PARSE_PRIORITY_LOW=4,PARSE_PRIORITY_MIN=5;function compiler(a,b){function d(a,c){for(var d=get(b.overrides,a+'.props',{}),e=arguments.length,g=Array(e>2?e-2:0),h=2;h<e;h++)g[h-2]=arguments[h];return f.apply(void 0,[getTag(a,b.overrides),_extends({},c,d,{className:cx(c&&c.className,d.className)||void 0})].concat(g))}function c(a){var c=!1;b.forceInline?c=!0:!b.forceBlock&&(c=SHOULD_RENDER_AS_BLOCK_R.test(a)===!1);var e=k(j(c?a:a.replace(TRIM_NEWLINES_AND_TRAILING_WHITESPACE_R,'')+'\n\n',{inline:c})),f=void 0;return e.length>1?f=c?d('span',{key:'outer'},e):d('div',{key:'outer'},e):e.length===1?(f=e[0],typeof f=='string'&&(f=d('span',{key:'outer'},f))):f=d('span',{key:'outer'}),f}function e(a){var b=a.match(ATTR_EXTRACTOR_R);return b?b.reduce(function(a,b,d){var e=b.indexOf('=');if(e!==-1){var f=normalizeAttributeKey(b.slice(0,e)).trim(),g=unquote__WEBPACK_IMPORTED_MODULE_1___default()(b.slice(e+1).trim()),h=ATTRIBUTE_TO_JSX_PROP_MAP[f]||f,i=a[h]=attributeValueToJSXPropValue(f,g);(HTML_BLOCK_ELEMENT_R.test(i)||HTML_SELF_CLOSING_ELEMENT_R.test(i))&&(a[h]=react__WEBPACK_IMPORTED_MODULE_0___default.a.cloneElement(c(i.trim()),{key:d}))}else a[ATTRIBUTE_TO_JSX_PROP_MAP[b]||b]=!0;return a},{}):void 0}b=b||{},b.overrides=b.overrides||{},b.slugify=b.slugify||slugify,b.namedCodesToUnicode=b.namedCodesToUnicode?_extends({},namedCodesToUnicode,b.namedCodesToUnicode):namedCodesToUnicode;var f=b.createElement||react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement;if(true){if(typeof a!='string')throw new Error('markdown-to-jsx: the first argument must be\n                             a string');if(Object.prototype.toString.call(b.overrides)!=='[object Object]')throw new Error('markdown-to-jsx: options.overrides (second argument property) must be\n                             undefined or an object literal with shape:\n                             {\n                                htmltagname: {\n                                    component: string|ReactComponent(optional),\n                                    props: object(optional)\n                                }\n                             }')}var g=[],h={},i={blockQuote:{match:blockRegex(BLOCKQUOTE_R),order:PARSE_PRIORITY_HIGH,parse:function d(a,b,c){return{content:b(a[0].replace(BLOCKQUOTE_TRIM_LEFT_MULTILINE_R,''),c)}},react:function e(a,b,c){return d('blockquote',{key:c.key},b(a.content,c))}},breakLine:{match:anyScopeRegex(BREAK_LINE_R),order:PARSE_PRIORITY_HIGH,parse:captureNothing,react:function e(a,b,c){return d('br',{key:c.key})}},breakThematic:{match:blockRegex(BREAK_THEMATIC_R),order:PARSE_PRIORITY_HIGH,parse:captureNothing,react:function e(a,b,c){return d('hr',{key:c.key})}},codeBlock:{match:blockRegex(CODE_BLOCK_R),order:PARSE_PRIORITY_MAX,parse:function c(a){var b=a[0].replace(/^ {4}/gm,'').replace(/\n+$/,'');return{content:b,lang:void 0}},react:function e(a,b,c){return d('pre',{key:c.key},d('code',{className:a.lang?'lang-'+a.lang:''},a.content))}},codeFenced:{match:blockRegex(CODE_BLOCK_FENCED_R),order:PARSE_PRIORITY_MAX,parse:function b(a){return{content:a[3],lang:a[2]||void 0,type:'codeBlock'}}},codeInline:{match:simpleInlineRegex(CODE_INLINE_R),order:PARSE_PRIORITY_LOW,parse:function b(a){return{content:a[2]}},react:function e(a,b,c){return d('code',{key:c.key},a.content)}},footnote:{match:blockRegex(FOOTNOTE_R),order:PARSE_PRIORITY_MAX,parse:function b(a){return g.push({footnote:a[2],identifier:a[1]}),{}},react:renderNothing},footnoteReference:{match:inlineRegex(FOOTNOTE_REFERENCE_R),order:PARSE_PRIORITY_HIGH,parse:function b(a){return{content:a[1],target:'#'+a[1]}},react:function e(a,b,c){return d('a',{key:c.key,href:sanitizeUrl(a.target)},d('sup',{key:c.key},a.content))}},gfmTask:{match:inlineRegex(GFM_TASK_R),order:PARSE_PRIORITY_HIGH,parse:function b(a){return{completed:a[1].toLowerCase()==='x'}},react:function e(a,b,c){return d('input',{checked:a.completed,key:c.key,readOnly:!0,type:'checkbox'})}},heading:{match:blockRegex(HEADING_R),order:PARSE_PRIORITY_HIGH,parse:function e(a,c,d){return{content:parseInline(c,a[2],d),id:b.slugify(a[2]),level:a[1].length}},react:function f(a,b,c){var e='h'+a.level;return d(e,{id:a.id,key:c.key},b(a.content,c))}},headingSetext:{match:blockRegex(HEADING_SETEXT_R),order:PARSE_PRIORITY_MAX,parse:function d(a,b,c){return{content:parseInline(b,a[1],c),level:a[2]==='='?1:2,type:'heading'}}},htmlBlock:{match:anyScopeRegex(HTML_BLOCK_ELEMENT_R),order:PARSE_PRIORITY_HIGH,parse:function l(a,b,c){var d=a[3].match(HTML_LEFT_TRIM_AMOUNT_R),f=d[1],g=new RegExp('^'+f,'gm'),h=a[3].replace(g,''),i=containsBlockSyntax(h)?parseBlock:parseInline,j=a[1].toLowerCase(),k=DO_NOT_PROCESS_HTML_ELEMENTS.indexOf(j)!==-1;return{attrs:e(a[2]),content:k?a[3]:i(b,h,c),noInnerParse:k,tag:k?j:a[1]}},react:function e(a,b,c){return d(a.tag,_extends({key:c.key},a.attrs),a.noInnerParse?a.content:b(a.content,c))}},htmlComment:{match:anyScopeRegex(HTML_COMMENT_R),order:PARSE_PRIORITY_HIGH,parse:function a(){return{}},react:renderNothing},htmlSelfClosing:{match:anyScopeRegex(HTML_SELF_CLOSING_ELEMENT_R),order:PARSE_PRIORITY_HIGH,parse:function b(a){return{attrs:e(a[2]||''),tag:a[1]}},react:function e(a,b,c){return d(a.tag,_extends({},a.attrs,{key:c.key}))}},image:{match:simpleInlineRegex(IMAGE_R),order:PARSE_PRIORITY_HIGH,parse:function b(a){return{alt:a[1],target:unescapeUrl(a[2]),title:a[3]}},react:function e(a,b,c){return d('img',{key:c.key,alt:a.alt||void 0,title:a.title||void 0,src:sanitizeUrl(a.target)})}},link:{match:inlineRegex(LINK_R,!1),order:PARSE_PRIORITY_LOW,parse:function d(a,b,c){return{content:parseSimpleInline(b,a[1],c),target:unescapeUrl(a[2]),title:a[3]}},react:function e(a,b,c){return d('a',{key:c.key,href:sanitizeUrl(a.target),title:a.title},b(a.content,c))}},linkAngleBraceStyleDetector:{match:inlineRegex(LINK_AUTOLINK_R),order:PARSE_PRIORITY_MAX,parse:function b(a){return{content:[{content:a[1],type:'text'}],target:a[1],type:'link'}}},linkBareUrlDetector:{match:inlineRegex(LINK_AUTOLINK_BARE_URL_R),order:PARSE_PRIORITY_MAX,parse:function b(a){return{content:[{content:a[1],type:'text'}],target:a[1],title:void 0,type:'link'}}},linkMailtoDetector:{match:inlineRegex(LINK_AUTOLINK_MAILTO_R),order:PARSE_PRIORITY_MAX,parse:function d(a){var b=a[1],c=a[1];return AUTOLINK_MAILTO_CHECK_R.test(c)||(c='mailto:'+c),{content:[{content:b.replace('mailto:',''),type:'text'}],target:c,type:'link'}}},list:{match:function f(a,b,c){var d=LIST_LOOKBEHIND_R.exec(c),e=b._list||!b.inline;return d&&e?(a=d[1]+a,LIST_R.exec(a)):null},order:PARSE_PRIORITY_HIGH,parse:function j(a,b,c){var d=a[2],e=d.length>1,f=e?+d:void 0,g=a[0].replace(BLOCK_END_R,'\n').match(LIST_ITEM_R),h=!1,i=g.map(function(a,d){var e=LIST_ITEM_PREFIX_R.exec(a)[0].length,f=new RegExp('^ {1,'+e+'}','gm'),i=a.replace(f,'').replace(LIST_ITEM_PREFIX_R,''),j=d===g.length-1,k=i.indexOf('\n\n')!==-1,l=k||j&&h;h=l;var m=c.inline,n=c._list;c._list=!0;var o;l?(c.inline=!1,o=i.replace(LIST_ITEM_END_R,'\n\n')):(c.inline=!0,o=i.replace(LIST_ITEM_END_R,''));var p=b(o,c);return c.inline=m,c._list=n,p});return{items:i,ordered:e,start:f}},react:function f(a,b,c){var e=a.ordered?'ol':'ul';return d(e,{key:c.key,start:a.start},a.items.map(function(a,e){return d('li',{key:e},b(a,c))}))}},newlineCoalescer:{match:blockRegex(CONSECUTIVE_NEWLINE_R),order:PARSE_PRIORITY_LOW,parse:captureNothing,react:function a(){return'\n'}},paragraph:{match:blockRegex(PARAGRAPH_R),order:PARSE_PRIORITY_LOW,parse:parseCaptureInline,react:function e(a,b,c){return d('p',{key:c.key},b(a.content,c))}},ref:{match:inlineRegex(REFERENCE_IMAGE_OR_LINK),order:PARSE_PRIORITY_MAX,parse:function b(a){return h[a[1]]={target:a[2],title:a[4]},{}},react:renderNothing},refImage:{match:simpleInlineRegex(REFERENCE_IMAGE_R),order:PARSE_PRIORITY_MAX,parse:function b(a){return{alt:a[1]||void 0,ref:a[2]}},react:function e(a,b,c){return d('img',{key:c.key,alt:a.alt,src:sanitizeUrl(h[a.ref].target),title:h[a.ref].title})}},refLink:{match:inlineRegex(REFERENCE_LINK_R),order:PARSE_PRIORITY_MAX,parse:function d(a,b,c){return{content:b(a[1],c),fallbackContent:b(a[0].replace(SQUARE_BRACKETS_R,'\\$1'),c),ref:a[2]}},react:function e(a,b,c){return h[a.ref]?d('a',{key:c.key,href:sanitizeUrl(h[a.ref].target),title:h[a.ref].title},b(a.content,c)):d('span',{key:c.key},b(a.fallbackContent,c))}},table:{match:blockRegex(NP_TABLE_R),order:PARSE_PRIORITY_HIGH,parse:parseTable,react:function f(a,b,e){return d('table',{key:e.key},d('thead',null,d('tr',null,a.header.map(function(c,f){return d('th',{key:f,style:getTableStyle(a,f)},b(c,e))}))),d('tbody',null,a.cells.map(function(c,f){return d('tr',{key:f},c.map(function(f,g){return d('td',{key:g,style:getTableStyle(a,g)},b(f,e))}))})))}},tableSeparator:{match:function c(a,b){return b.inTable?TABLE_SEPARATOR_R.exec(a):null},order:PARSE_PRIORITY_HIGH,parse:function a(){return{type:'tableSeparator'}},react:function a(){return' | '}},text:{match:anyScopeRegex(TEXT_PLAIN_R),order:PARSE_PRIORITY_MIN,parse:function c(a){return{content:a[0].replace(HTML_CHAR_CODE_R,function(a,c){return b.namedCodesToUnicode[c]?b.namedCodesToUnicode[c]:a})}},react:function b(a){return a.content}},textBolded:{match:simpleInlineRegex(TEXT_BOLD_R),order:PARSE_PRIORITY_MED,parse:function d(a,b,c){return{content:b(a[2],c)}},react:function e(a,b,c){return d('strong',{key:c.key},b(a.content,c))}},textEmphasized:{match:simpleInlineRegex(TEXT_EMPHASIZED_R),order:PARSE_PRIORITY_LOW,parse:function d(a,b,c){return{content:b(a[2],c)}},react:function e(a,b,c){return d('em',{key:c.key},b(a.content,c))}},textEscaped:{match:simpleInlineRegex(TEXT_ESCAPED_R),order:PARSE_PRIORITY_HIGH,parse:function b(a){return{content:a[1],type:'text'}}},textStrikethroughed:{match:simpleInlineRegex(TEXT_STRIKETHROUGHED_R),order:PARSE_PRIORITY_LOW,parse:parseCaptureInline,react:function e(a,b,c){return d('del',{key:c.key},b(a.content,c))}}},j=parserFor(i),k=reactFor(ruleOutput(i)),l=c(a);return g.length&&l.props.children.push(d('footer',{key:'footer'},g.map(function(a){return d('div',{id:a.identifier,key:a.identifier},a.identifier,k(j(a.footnote,{inline:!0})))}))),l}function Markdown(a){var b=a.children,c=a.options,d=_objectWithoutProperties(a,['children','options']);return react__WEBPACK_IMPORTED_MODULE_0___default.a.cloneElement(compiler(b,c),d)}if(true){var PropTypes=__webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");Markdown.propTypes={children:PropTypes.string.isRequired,options:PropTypes.object}}

//# sourceMappingURL=esm.js.map

/***/ }),

/***/ "./node_modules/polished/dist/polished.es.js":
/*!***************************************************!*\
  !*** ./node_modules/polished/dist/polished.es.js ***!
  \***************************************************/
/*! exports provided: adjustHue, animation, backgroundImages, backgrounds, between, border, borderColor, borderRadius, borderStyle, borderWidth, buttons, clearFix, complement, cover, darken, desaturate, directionalProperty, ellipsis, em, fluidRange, fontFace, getContrast, getLuminance, getValueAndUnit, grayscale, hiDPI, hideText, hideVisually, hsl, hslToColorString, hsla, invert, lighten, linearGradient, margin, math, meetsContrastGuidelines, mix, modularScale, normalize, opacify, padding, parseToHsl, parseToRgb, position, radialGradient, readableColor, rem, retinaImage, rgb, rgbToColorString, rgba, saturate, setHue, setLightness, setSaturation, shade, size, stripUnit, textInputs, timingFunctions, tint, toColorString, transitions, transparentize, triangle, wordWrap */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "adjustHue", function() { return curriedAdjustHue; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "animation", function() { return animation; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "backgroundImages", function() { return backgroundImages; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "backgrounds", function() { return backgrounds; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "between", function() { return between; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "border", function() { return border; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "borderColor", function() { return borderColor; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "borderRadius", function() { return borderRadius; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "borderStyle", function() { return borderStyle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "borderWidth", function() { return borderWidth; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "buttons", function() { return buttons; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "clearFix", function() { return clearFix; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "complement", function() { return complement; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "cover", function() { return cover; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "darken", function() { return curriedDarken; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "desaturate", function() { return curriedDesaturate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "directionalProperty", function() { return directionalProperty; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ellipsis", function() { return ellipsis; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "em", function() { return em; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fluidRange", function() { return fluidRange; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fontFace", function() { return fontFace; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getContrast", function() { return getContrast; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getLuminance", function() { return getLuminance; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getValueAndUnit", function() { return getValueAndUnit; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "grayscale", function() { return grayscale; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hiDPI", function() { return hiDPI; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hideText", function() { return hideText; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hideVisually", function() { return hideVisually; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hsl", function() { return hsl; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hslToColorString", function() { return hslToColorString; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hsla", function() { return hsla; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "invert", function() { return invert; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "lighten", function() { return curriedLighten; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "linearGradient", function() { return linearGradient; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "margin", function() { return margin; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "math", function() { return math; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "meetsContrastGuidelines", function() { return meetsContrastGuidelines; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "mix", function() { return curriedMix; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "modularScale", function() { return modularScale; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "normalize", function() { return normalize; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "opacify", function() { return curriedOpacify; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "padding", function() { return padding; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "parseToHsl", function() { return parseToHsl; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "parseToRgb", function() { return parseToRgb; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "position", function() { return position; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "radialGradient", function() { return radialGradient; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "readableColor", function() { return readableColor; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "rem", function() { return rem; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "retinaImage", function() { return retinaImage; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "rgb", function() { return rgb; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "rgbToColorString", function() { return rgbToColorString; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "rgba", function() { return rgba; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "saturate", function() { return curriedSaturate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setHue", function() { return curriedSetHue; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setLightness", function() { return curriedSetLightness; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setSaturation", function() { return curriedSetSaturation; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "shade", function() { return curriedShade; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "size", function() { return size; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "stripUnit", function() { return stripUnit; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "textInputs", function() { return textInputs; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "timingFunctions", function() { return timingFunctions; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "tint", function() { return curriedTint; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "toColorString", function() { return toColorString; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "transitions", function() { return transitions; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "transparentize", function() { return curriedTransparentize; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "triangle", function() { return triangle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "wordWrap", function() { return wordWrap; });
/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/extends */ "./node_modules/polished/node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var _babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/esm/assertThisInitialized */ "./node_modules/polished/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/esm/inheritsLoose */ "./node_modules/polished/node_modules/@babel/runtime/helpers/esm/inheritsLoose.js");
/* harmony import */ var _babel_runtime_helpers_esm_wrapNativeSuper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/esm/wrapNativeSuper */ "./node_modules/polished/node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js");
/* harmony import */ var _babel_runtime_helpers_esm_taggedTemplateLiteralLoose__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/esm/taggedTemplateLiteralLoose */ "./node_modules/polished/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteralLoose.js");






function last() {
  var _ref;

  return _ref = arguments.length - 1, _ref < 0 || arguments.length <= _ref ? undefined : arguments[_ref];
}

function negation(a) {
  return -a;
}

function addition(a, b) {
  return a + b;
}

function subtraction(a, b) {
  return a - b;
}

function multiplication(a, b) {
  return a * b;
}

function division(a, b) {
  return a / b;
}

function factorial(a) {
  if (a % 1 || !(+a >= 0)) return NaN;
  if (a > 170) return Infinity;else if (a === 0) return 1;else {
    return a * factorial(a - 1);
  }
}

function power(a, b) {
  return Math.pow(a, b);
}

function sqrt(a) {
  return Math.sqrt(a);
}

function max() {
  return Math.max.apply(Math, arguments);
}

function min() {
  return Math.min.apply(Math, arguments);
}

function comma() {
  return Array.of.apply(Array, arguments);
}

var defaultMathSymbols = {
  symbols: {
    '!': {
      postfix: {
        symbol: '!',
        f: factorial,
        notation: 'postfix',
        precedence: 6,
        rightToLeft: 0,
        argCount: 1
      },
      symbol: '!',
      regSymbol: '!'
    },
    '^': {
      infix: {
        symbol: '^',
        f: power,
        notation: 'infix',
        precedence: 5,
        rightToLeft: 1,
        argCount: 2
      },
      symbol: '^',
      regSymbol: '\\^'
    },
    '*': {
      infix: {
        symbol: '*',
        f: multiplication,
        notation: 'infix',
        precedence: 4,
        rightToLeft: 0,
        argCount: 2
      },
      symbol: '*',
      regSymbol: '\\*'
    },
    '/': {
      infix: {
        symbol: '/',
        f: division,
        notation: 'infix',
        precedence: 4,
        rightToLeft: 0,
        argCount: 2
      },
      symbol: '/',
      regSymbol: '/'
    },
    '+': {
      infix: {
        symbol: '+',
        f: addition,
        notation: 'infix',
        precedence: 2,
        rightToLeft: 0,
        argCount: 2
      },
      prefix: {
        symbol: '+',
        f: last,
        notation: 'prefix',
        precedence: 3,
        rightToLeft: 0,
        argCount: 1
      },
      symbol: '+',
      regSymbol: '\\+'
    },
    '-': {
      infix: {
        symbol: '-',
        f: subtraction,
        notation: 'infix',
        precedence: 2,
        rightToLeft: 0,
        argCount: 2
      },
      prefix: {
        symbol: '-',
        f: negation,
        notation: 'prefix',
        precedence: 3,
        rightToLeft: 0,
        argCount: 1
      },
      symbol: '-',
      regSymbol: '-'
    },
    ',': {
      infix: {
        symbol: ',',
        f: comma,
        notation: 'infix',
        precedence: 1,
        rightToLeft: 0,
        argCount: 2
      },
      symbol: ',',
      regSymbol: ','
    },
    '(': {
      prefix: {
        symbol: '(',
        f: last,
        notation: 'prefix',
        precedence: 0,
        rightToLeft: 0,
        argCount: 1
      },
      symbol: '(',
      regSymbol: '\\('
    },
    ')': {
      postfix: {
        symbol: ')',
        f: undefined,
        notation: 'postfix',
        precedence: 0,
        rightToLeft: 0,
        argCount: 1
      },
      symbol: ')',
      regSymbol: '\\)'
    },
    min: {
      func: {
        symbol: 'min',
        f: min,
        notation: 'func',
        precedence: 0,
        rightToLeft: 0,
        argCount: 1
      },
      symbol: 'min',
      regSymbol: 'min\\b'
    },
    max: {
      func: {
        symbol: 'max',
        f: max,
        notation: 'func',
        precedence: 0,
        rightToLeft: 0,
        argCount: 1
      },
      symbol: 'max',
      regSymbol: 'max\\b'
    },
    sqrt: {
      func: {
        symbol: 'sqrt',
        f: sqrt,
        notation: 'func',
        precedence: 0,
        rightToLeft: 0,
        argCount: 1
      },
      symbol: 'sqrt',
      regSymbol: 'sqrt\\b'
    }
  }
};

// based on https://github.com/styled-components/styled-components/blob/fcf6f3804c57a14dd7984dfab7bc06ee2edca044/src/utils/error.js

/**
 * Parse errors.md and turn it into a simple hash of code: message
 * @private
 */
var ERRORS = {
  "1": "Passed invalid arguments to hsl, please pass multiple numbers e.g. hsl(360, 0.75, 0.4) or an object e.g. rgb({ hue: 255, saturation: 0.4, lightness: 0.75 }).\n\n",
  "2": "Passed invalid arguments to hsla, please pass multiple numbers e.g. hsla(360, 0.75, 0.4, 0.7) or an object e.g. rgb({ hue: 255, saturation: 0.4, lightness: 0.75, alpha: 0.7 }).\n\n",
  "3": "Passed an incorrect argument to a color function, please pass a string representation of a color.\n\n",
  "4": "Couldn't generate valid rgb string from %s, it returned %s.\n\n",
  "5": "Couldn't parse the color string. Please provide the color as a string in hex, rgb, rgba, hsl or hsla notation.\n\n",
  "6": "Passed invalid arguments to rgb, please pass multiple numbers e.g. rgb(255, 205, 100) or an object e.g. rgb({ red: 255, green: 205, blue: 100 }).\n\n",
  "7": "Passed invalid arguments to rgba, please pass multiple numbers e.g. rgb(255, 205, 100, 0.75) or an object e.g. rgb({ red: 255, green: 205, blue: 100, alpha: 0.75 }).\n\n",
  "8": "Passed invalid argument to toColorString, please pass a RgbColor, RgbaColor, HslColor or HslaColor object.\n\n",
  "9": "Please provide a number of steps to the modularScale helper.\n\n",
  "10": "Please pass a number or one of the predefined scales to the modularScale helper as the ratio.\n\n",
  "11": "Invalid value passed as base to modularScale, expected number or em string but got \"%s\"\n\n",
  "12": "Expected a string ending in \"px\" or a number passed as the first argument to %s(), got \"%s\" instead.\n\n",
  "13": "Expected a string ending in \"px\" or a number passed as the second argument to %s(), got \"%s\" instead.\n\n",
  "14": "Passed invalid pixel value (\"%s\") to %s(), please pass a value like \"12px\" or 12.\n\n",
  "15": "Passed invalid base value (\"%s\") to %s(), please pass a value like \"12px\" or 12.\n\n",
  "16": "You must provide a template to this method.\n\n",
  "17": "You passed an unsupported selector state to this method.\n\n",
  "18": "minScreen and maxScreen must be provided as stringified numbers with the same units.\n\n",
  "19": "fromSize and toSize must be provided as stringified numbers with the same units.\n\n",
  "20": "expects either an array of objects or a single object with the properties prop, fromSize, and toSize.\n\n",
  "21": "expects the objects in the first argument array to have the properties `prop`, `fromSize`, and `toSize`.\n\n",
  "22": "expects the first argument object to have the properties `prop`, `fromSize`, and `toSize`.\n\n",
  "23": "fontFace expects a name of a font-family.\n\n",
  "24": "fontFace expects either the path to the font file(s) or a name of a local copy.\n\n",
  "25": "fontFace expects localFonts to be an array.\n\n",
  "26": "fontFace expects fileFormats to be an array.\n\n",
  "27": "radialGradient requries at least 2 color-stops to properly render.\n\n",
  "28": "Please supply a filename to retinaImage() as the first argument.\n\n",
  "29": "Passed invalid argument to triangle, please pass correct pointingDirection e.g. 'right'.\n\n",
  "30": "Passed an invalid value to `height` or `width`. Please provide a pixel based unit.\n\n",
  "31": "The animation shorthand only takes 8 arguments. See the specification for more information: http://mdn.io/animation\n\n",
  "32": "To pass multiple animations please supply them in arrays, e.g. animation(['rotate', '2s'], ['move', '1s'])\nTo pass a single animation please supply them in simple values, e.g. animation('rotate', '2s')\n\n",
  "33": "The animation shorthand arrays can only have 8 elements. See the specification for more information: http://mdn.io/animation\n\n",
  "34": "borderRadius expects a radius value as a string or number as the second argument.\n\n",
  "35": "borderRadius expects one of \"top\", \"bottom\", \"left\" or \"right\" as the first argument.\n\n",
  "36": "Property must be a string value.\n\n",
  "37": "Syntax Error at %s.\n\n",
  "38": "Formula contains a function that needs parentheses at %s.\n\n",
  "39": "Formula is missing closing parenthesis at %s.\n\n",
  "40": "Formula has too many closing parentheses at %s.\n\n",
  "41": "All values in a formula must have the same unit or be unitless.\n\n",
  "42": "Please provide a number of steps to the modularScale helper.\n\n",
  "43": "Please pass a number or one of the predefined scales to the modularScale helper as the ratio.\n\n",
  "44": "Invalid value passed as base to modularScale, expected number or em/rem string but got %s.\n\n",
  "45": "Passed invalid argument to hslToColorString, please pass a HslColor or HslaColor object.\n\n",
  "46": "Passed invalid argument to rgbToColorString, please pass a RgbColor or RgbaColor object.\n\n",
  "47": "minScreen and maxScreen must be provided as stringified numbers with the same units.\n\n",
  "48": "fromSize and toSize must be provided as stringified numbers with the same units.\n\n",
  "49": "Expects either an array of objects or a single object with the properties prop, fromSize, and toSize.\n\n",
  "50": "Expects the objects in the first argument array to have the properties prop, fromSize, and toSize.\n\n",
  "51": "Expects the first argument object to have the properties prop, fromSize, and toSize.\n\n",
  "52": "fontFace expects either the path to the font file(s) or a name of a local copy.\n\n",
  "53": "fontFace expects localFonts to be an array.\n\n",
  "54": "fontFace expects fileFormats to be an array.\n\n",
  "55": "fontFace expects a name of a font-family.\n\n",
  "56": "linearGradient requries at least 2 color-stops to properly render.\n\n",
  "57": "radialGradient requries at least 2 color-stops to properly render.\n\n",
  "58": "Please supply a filename to retinaImage() as the first argument.\n\n",
  "59": "Passed invalid argument to triangle, please pass correct pointingDirection e.g. 'right'.\n\n",
  "60": "Passed an invalid value to `height` or `width`. Please provide a pixel based unit.\n\n",
  "61": "Property must be a string value.\n\n",
  "62": "borderRadius expects a radius value as a string or number as the second argument.\n\n",
  "63": "borderRadius expects one of \"top\", \"bottom\", \"left\" or \"right\" as the first argument.\n\n",
  "64": "The animation shorthand only takes 8 arguments. See the specification for more information: http://mdn.io/animation.\n\n",
  "65": "To pass multiple animations please supply them in arrays, e.g. animation(['rotate', '2s'], ['move', '1s'])\\nTo pass a single animation please supply them in simple values, e.g. animation('rotate', '2s').\n\n",
  "66": "The animation shorthand arrays can only have 8 elements. See the specification for more information: http://mdn.io/animation.\n\n",
  "67": "You must provide a template to this method.\n\n",
  "68": "You passed an unsupported selector state to this method.\n\n",
  "69": "Expected a string ending in \"px\" or a number passed as the first argument to %s(), got %s instead.\n\n",
  "70": "Expected a string ending in \"px\" or a number passed as the second argument to %s(), got %s instead.\n\n",
  "71": "Passed invalid pixel value %s to %s(), please pass a value like \"12px\" or 12.\n\n",
  "72": "Passed invalid base value %s to %s(), please pass a value like \"12px\" or 12.\n"
};
/**
 * super basic version of sprintf
 * @private
 */

function format() {
  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }

  var a = args[0];
  var b = [];
  var c;

  for (c = 1; c < args.length; c += 1) {
    b.push(args[c]);
  }

  b.forEach(function (d) {
    a = a.replace(/%[a-z]/, d);
  });
  return a;
}
/**
 * Create an error file out of errors.md for development and a simple web link to the full errors
 * in production mode.
 * @private
 */


var PolishedError =
/*#__PURE__*/
function (_Error) {
  Object(_babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_2__["default"])(PolishedError, _Error);

  function PolishedError(code) {
    var _this;

    if (false) {} else {
      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
        args[_key2 - 1] = arguments[_key2];
      }

      _this = _Error.call(this, format.apply(void 0, [ERRORS[code]].concat(args))) || this;
    }

    return Object(_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_1__["default"])(_this);
  }

  return PolishedError;
}(
/*#__PURE__*/
Object(_babel_runtime_helpers_esm_wrapNativeSuper__WEBPACK_IMPORTED_MODULE_3__["default"])(Error));

var unitRegExp = /((?!\w)a|na|hc|mc|dg|me[r]?|xe|ni(?![a-zA-Z])|mm|cp|tp|xp|q(?!s)|hv|xamv|nimv|wv|sm|s(?!\D|$)|ged|darg?|nrut)/g; // Merges additional math functionality into the defaults.

function mergeSymbolMaps(additionalSymbols) {
  var symbolMap = {};
  symbolMap.symbols = additionalSymbols ? Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, defaultMathSymbols.symbols, {}, additionalSymbols.symbols) : Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, defaultMathSymbols.symbols);
  return symbolMap;
}

function exec(operators, values) {
  var _ref;

  var op = operators.pop();
  values.push(op.f.apply(op, (_ref = []).concat.apply(_ref, values.splice(-op.argCount))));
  return op.precedence;
}

function calculate(expression, additionalSymbols) {
  var symbolMap = mergeSymbolMaps(additionalSymbols);
  var match;
  var operators = [symbolMap.symbols['('].prefix];
  var values = [];
  var pattern = new RegExp( // Pattern for numbers
  "\\d+(?:\\.\\d+)?|" + // ...and patterns for individual operators/function names
  Object.keys(symbolMap.symbols).map(function (key) {
    return symbolMap.symbols[key];
  }) // longer symbols should be listed first
  // $FlowFixMe
  .sort(function (a, b) {
    return b.symbol.length - a.symbol.length;
  }) // $FlowFixMe
  .map(function (val) {
    return val.regSymbol;
  }).join('|') + "|(\\S)", 'g');
  pattern.lastIndex = 0; // Reset regular expression object

  var afterValue = false;

  do {
    match = pattern.exec(expression);

    var _ref2 = match || [')', undefined],
        token = _ref2[0],
        bad = _ref2[1];

    var notNumber = symbolMap.symbols[token];
    var notNewValue = notNumber && !notNumber.prefix && !notNumber.func;
    var notAfterValue = !notNumber || !notNumber.postfix && !notNumber.infix; // Check for syntax errors:

    if (bad || (afterValue ? notAfterValue : notNewValue)) {
      throw new PolishedError(37, match ? match.index : expression.length, expression);
    }

    if (afterValue) {
      // We either have an infix or postfix operator (they should be mutually exclusive)
      var curr = notNumber.postfix || notNumber.infix;

      do {
        var prev = operators[operators.length - 1];
        if ((curr.precedence - prev.precedence || prev.rightToLeft) > 0) break; // Apply previous operator, since it has precedence over current one
      } while (exec(operators, values)); // Exit loop after executing an opening parenthesis or function


      afterValue = curr.notation === 'postfix';

      if (curr.symbol !== ')') {
        operators.push(curr); // Postfix always has precedence over any operator that follows after it

        if (afterValue) exec(operators, values);
      }
    } else if (notNumber) {
      // prefix operator or function
      operators.push(notNumber.prefix || notNumber.func);

      if (notNumber.func) {
        // Require an opening parenthesis
        match = pattern.exec(expression);

        if (!match || match[0] !== '(') {
          throw new PolishedError(38, match ? match.index : expression.length, expression);
        }
      }
    } else {
      // number
      values.push(+token);
      afterValue = true;
    }
  } while (match && operators.length);

  if (operators.length) {
    throw new PolishedError(39, match ? match.index : expression.length, expression);
  } else if (match) {
    throw new PolishedError(40, match ? match.index : expression.length, expression);
  } else {
    return values.pop();
  }
}

function reverseString(str) {
  return str.split('').reverse().join('');
}
/**
 * Helper for doing math with CSS Units. Accepts a formula as a string. All values in the formula must have the same unit (or be unitless). Supports complex formulas utliziing addition, subtraction, multiplication, division, square root, powers, factorial, min, max, as well as parentheses for order of operation.
 *
 *In cases where you need to do calculations with mixed units where one unit is a [relative length unit](https://developer.mozilla.org/en-US/docs/Web/CSS/length#Relative_length_units), you will want to use [CSS Calc](https://developer.mozilla.org/en-US/docs/Web/CSS/calc).
 *
 * *warning* While we've done everything possible to ensure math safely evalutes formulas expressed as strings, you should always use extreme caution when passing `math` user provided values.
 * @example
 * // Styles as object usage
 * const styles = {
 *   fontSize: math('12rem + 8rem'),
 *   fontSize: math('(12px + 2px) * 3'),
 *   fontSize: math('3px^2 + sqrt(4)'),
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   fontSize: ${math('12rem + 8rem')};
 *   fontSize: ${math('(12px + 2px) * 3')};
 *   fontSize: ${math('3px^2 + sqrt(4)')};
 * `
 *
 * // CSS as JS Output
 *
 * div: {
 *   fontSize: '20rem',
 *   fontSize: '42px',
 *   fontSize: '11px',
 * }
 */


function math(formula, additionalSymbols) {
  var reversedFormula = reverseString(formula);
  var formulaMatch = reversedFormula.match(unitRegExp); // Check that all units are the same

  if (formulaMatch && !formulaMatch.every(function (unit) {
    return unit === formulaMatch[0];
  })) {
    throw new PolishedError(41);
  }

  var cleanFormula = reverseString(reversedFormula.replace(unitRegExp, ''));
  return "" + calculate(cleanFormula, additionalSymbols) + (formulaMatch ? reverseString(formulaMatch[0]) : '');
}

// @private
function capitalizeString(string) {
  return string.charAt(0).toUpperCase() + string.slice(1);
}

var positionMap = ['Top', 'Right', 'Bottom', 'Left'];

function generateProperty(property, position) {
  if (!property) return position.toLowerCase();
  var splitProperty = property.split('-');

  if (splitProperty.length > 1) {
    splitProperty.splice(1, 0, position);
    return splitProperty.reduce(function (acc, val) {
      return "" + acc + capitalizeString(val);
    });
  }

  var joinedProperty = property.replace(/([a-z])([A-Z])/g, "$1" + position + "$2");
  return property === joinedProperty ? "" + property + position : joinedProperty;
}

function generateStyles(property, valuesWithDefaults) {
  var styles = {};

  for (var i = 0; i < valuesWithDefaults.length; i += 1) {
    if (valuesWithDefaults[i] || valuesWithDefaults[i] === 0) {
      styles[generateProperty(property, positionMap[i])] = valuesWithDefaults[i];
    }
  }

  return styles;
}
/**
 * Enables shorthand for direction-based properties. It accepts a property (hyphenated or camelCased) and up to four values that map to top, right, bottom, and left, respectively. You can optionally pass an empty string to get only the directional values as properties. You can also optionally pass a null argument for a directional value to ignore it.
 * @example
 * // Styles as object usage
 * const styles = {
 *   ...directionalProperty('padding', '12px', '24px', '36px', '48px')
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   ${directionalProperty('padding', '12px', '24px', '36px', '48px')}
 * `
 *
 * // CSS as JS Output
 *
 * div {
 *   'paddingTop': '12px',
 *   'paddingRight': '24px',
 *   'paddingBottom': '36px',
 *   'paddingLeft': '48px'
 * }
 */


function directionalProperty(property) {
  for (var _len = arguments.length, values = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
    values[_key - 1] = arguments[_key];
  }

  //  prettier-ignore
  var firstValue = values[0],
      _values$ = values[1],
      secondValue = _values$ === void 0 ? firstValue : _values$,
      _values$2 = values[2],
      thirdValue = _values$2 === void 0 ? firstValue : _values$2,
      _values$3 = values[3],
      fourthValue = _values$3 === void 0 ? secondValue : _values$3;
  var valuesWithDefaults = [firstValue, secondValue, thirdValue, fourthValue];
  return generateStyles(property, valuesWithDefaults);
}

/**
 * Check if a string ends with something
 * @private
 */
function endsWith (string, suffix) {
  return string.substr(-suffix.length) === suffix;
}

var cssRegex = /^([+-]?(?:\d+|\d*\.\d+))([a-z]*|%)$/;
/**
 * Returns a given CSS value minus its unit (or the original value if an invalid string is passed). Optionally returns an array containing the stripped value and the original unit of measure.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   '--dimension': stripUnit('100px'),
 *   '--unit': stripUnit('100px')[1],
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   --dimension: ${stripUnit('100px')};
 *   --unit: ${stripUnit('100px')[1]};
 * `
 *
 * // CSS in JS Output
 *
 * element {
 *   '--dimension': 100,
 *   '--unit': 'px',
 * }
 */

function stripUnit(value, unitReturn) {
  if (typeof value !== 'string') return unitReturn ? [value, undefined] : value;
  var matchedValue = value.match(cssRegex);

  if (unitReturn) {
    if (matchedValue) return [parseFloat(value), matchedValue[2]];
    return [value, undefined];
  }

  if (matchedValue) return parseFloat(value);
  return value;
}

/**
 * Factory function that creates pixel-to-x converters
 * @private
 */

var pxtoFactory = function pxtoFactory(to) {
  return function (pxval, base) {
    if (base === void 0) {
      base = '16px';
    }

    var newPxval = pxval;
    var newBase = base;

    if (typeof pxval === 'string') {
      if (!endsWith(pxval, 'px')) {
        throw new PolishedError(69, to, pxval);
      }

      newPxval = stripUnit(pxval);
    }

    if (typeof base === 'string') {
      if (!endsWith(base, 'px')) {
        throw new PolishedError(70, to, base);
      }

      newBase = stripUnit(base);
    }

    if (typeof newPxval === 'string') {
      throw new PolishedError(71, pxval, to);
    }

    if (typeof newBase === 'string') {
      throw new PolishedError(72, base, to);
    }

    return "" + newPxval / newBase + to;
  };
};

/**
 * Convert pixel value to ems. The default base value is 16px, but can be changed by passing a
 * second argument to the function.
 * @function
 * @param {string|number} pxval
 * @param {string|number} [base='16px']
 * @example
 * // Styles as object usage
 * const styles = {
 *   'height': em('16px')
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   height: ${em('16px')}
 * `
 *
 * // CSS in JS Output
 *
 * element {
 *   'height': '1em'
 * }
 */

var em =
/*#__PURE__*/
pxtoFactory('em');

var cssRegex$1 = /^([+-]?(?:\d+|\d*\.\d+))([a-z]*|%)$/;
/**
 * Returns a given CSS value and its unit as elements of an array.
 *
 * @deprecated - getValueAndUnit has been marked for deprecation in polished 3.0 and will be fully deprecated in 4.0. It's functionality has been been moved to stripUnit as an optional return.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   '--dimension': getValueAndUnit('100px')[0],
 *   '--unit': getValueAndUnit('100px')[1],
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   --dimension: ${getValueAndUnit('100px')[0]};
 *   --unit: ${getValueAndUnit('100px')[1]};
 * `
 *
 * // CSS in JS Output
 *
 * element {
 *   '--dimension': 100,
 *   '--unit': 'px',
 * }
 */

function getValueAndUnit(value) {
  // eslint-disable-next-line no-console
  console.warn("getValueAndUnit has been marked for deprecation in polished 3.0 and will be fully deprecated in 4.0. It's functionality has been been moved to stripUnit as an optional return.");
  if (typeof value !== 'string') return [value, ''];
  var matchedValue = value.match(cssRegex$1);
  if (matchedValue) return [parseFloat(value), matchedValue[2]];
  return [value, undefined];
}

var ratioNames = {
  minorSecond: 1.067,
  majorSecond: 1.125,
  minorThird: 1.2,
  majorThird: 1.25,
  perfectFourth: 1.333,
  augFourth: 1.414,
  perfectFifth: 1.5,
  minorSixth: 1.6,
  goldenSection: 1.618,
  majorSixth: 1.667,
  minorSeventh: 1.778,
  majorSeventh: 1.875,
  octave: 2,
  majorTenth: 2.5,
  majorEleventh: 2.667,
  majorTwelfth: 3,
  doubleOctave: 4
};

function getRatio(ratioName) {
  return ratioNames[ratioName];
}
/**
 * Establish consistent measurements and spacial relationships throughout your projects by incrementing an em or rem value up or down a defined scale. We provide a list of commonly used scales as pre-defined variables.
 * @example
 * // Styles as object usage
 * const styles = {
 *    // Increment two steps up the default scale
 *   'fontSize': modularScale(2)
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *    // Increment two steps up the default scale
 *   fontSize: ${modularScale(2)}
 * `
 *
 * // CSS in JS Output
 *
 * element {
 *   'fontSize': '1.77689em'
 * }
 */


function modularScale(steps, base, ratio) {
  if (base === void 0) {
    base = '1em';
  }

  if (ratio === void 0) {
    ratio = 1.333;
  }

  if (typeof steps !== 'number') {
    throw new PolishedError(42);
  }

  if (typeof ratio === 'string' && !ratioNames[ratio]) {
    throw new PolishedError(43);
  }

  var _ref = typeof base === 'string' ? stripUnit(base, true) : [base, ''],
      realBase = _ref[0],
      unit = _ref[1];

  var realRatio = typeof ratio === 'string' ? getRatio(ratio) : ratio;

  if (typeof realBase === 'string') {
    throw new PolishedError(44, base);
  }

  return "" + realBase * Math.pow(realRatio, steps) + unit;
}

/**
 * Convert pixel value to rems. The default base value is 16px, but can be changed by passing a
 * second argument to the function.
 * @function
 * @param {string|number} pxval
 * @param {string|number} [base='16px']
 * @example
 * // Styles as object usage
 * const styles = {
 *   'height': rem('16px')
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   height: ${rem('16px')}
 * `
 *
 * // CSS in JS Output
 *
 * element {
 *   'height': '1rem'
 * }
 */

var rem =
/*#__PURE__*/
pxtoFactory('rem');

/**
 * Returns a CSS calc formula for linear interpolation of a property between two values. Accepts optional minScreen (defaults to '320px') and maxScreen (defaults to '1200px').
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   fontSize: between('20px', '100px', '400px', '1000px'),
 *   fontSize: between('20px', '100px')
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   fontSize: ${between('20px', '100px', '400px', '1000px')};
 *   fontSize: ${between('20px', '100px')}
 * `
 *
 * // CSS as JS Output
 *
 * h1: {
 *   'fontSize': 'calc(-33.33333333333334px + 13.333333333333334vw)',
 *   'fontSize': 'calc(-9.090909090909093px + 9.090909090909092vw)'
 * }
 */

function between(fromSize, toSize, minScreen, maxScreen) {
  if (minScreen === void 0) {
    minScreen = '320px';
  }

  if (maxScreen === void 0) {
    maxScreen = '1200px';
  }

  var _stripUnit = stripUnit(fromSize, true),
      unitlessFromSize = _stripUnit[0],
      fromSizeUnit = _stripUnit[1];

  var _stripUnit2 = stripUnit(toSize, true),
      unitlessToSize = _stripUnit2[0],
      toSizeUnit = _stripUnit2[1];

  var _stripUnit3 = stripUnit(minScreen, true),
      unitlessMinScreen = _stripUnit3[0],
      minScreenUnit = _stripUnit3[1];

  var _stripUnit4 = stripUnit(maxScreen, true),
      unitlessMaxScreen = _stripUnit4[0],
      maxScreenUnit = _stripUnit4[1];

  if (typeof unitlessMinScreen !== 'number' || typeof unitlessMaxScreen !== 'number' || !minScreenUnit || !maxScreenUnit || minScreenUnit !== maxScreenUnit) {
    throw new PolishedError(47);
  }

  if (typeof unitlessFromSize !== 'number' || typeof unitlessToSize !== 'number' || fromSizeUnit !== toSizeUnit) {
    throw new PolishedError(48);
  }

  var slope = (unitlessFromSize - unitlessToSize) / (unitlessMinScreen - unitlessMaxScreen);
  var base = unitlessToSize - slope * unitlessMaxScreen;
  return "calc(" + base.toFixed(2) + (fromSizeUnit || '') + " + " + (100 * slope).toFixed(2) + "vw)";
}

function clearFix(parent) {
  var _ref;

  if (parent === void 0) {
    parent = '&';
  }

  var pseudoSelector = parent + "::after";
  return _ref = {}, _ref[pseudoSelector] = {
    clear: 'both',
    content: '""',
    display: 'table'
  }, _ref;
}

function cover(offset) {
  if (offset === void 0) {
    offset = 0;
  }

  return {
    position: 'absolute',
    top: offset,
    right: offset,
    bottom: offset,
    left: offset
  };
}

function ellipsis(width) {
  if (width === void 0) {
    width = '100%';
  }

  return {
    display: 'inline-block',
    maxWidth: width,
    overflow: 'hidden',
    textOverflow: 'ellipsis',
    whiteSpace: 'nowrap',
    wordWrap: 'normal'
  };
}

function fluidRange(cssProp, minScreen, maxScreen) {
  if (minScreen === void 0) {
    minScreen = '320px';
  }

  if (maxScreen === void 0) {
    maxScreen = '1200px';
  }

  if (!Array.isArray(cssProp) && typeof cssProp !== 'object' || cssProp === null) {
    throw new PolishedError(49);
  }

  if (Array.isArray(cssProp)) {
    var mediaQueries = {};
    var fallbacks = {};

    for (var _iterator = cssProp, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {
      var _extends2, _extends3;

      var _ref;

      if (_isArray) {
        if (_i >= _iterator.length) break;
        _ref = _iterator[_i++];
      } else {
        _i = _iterator.next();
        if (_i.done) break;
        _ref = _i.value;
      }

      var obj = _ref;

      if (!obj.prop || !obj.fromSize || !obj.toSize) {
        throw new PolishedError(50);
      }

      fallbacks[obj.prop] = obj.fromSize;
      mediaQueries["@media (min-width: " + minScreen + ")"] = Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, mediaQueries["@media (min-width: " + minScreen + ")"], (_extends2 = {}, _extends2[obj.prop] = between(obj.fromSize, obj.toSize, minScreen, maxScreen), _extends2));
      mediaQueries["@media (min-width: " + maxScreen + ")"] = Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, mediaQueries["@media (min-width: " + maxScreen + ")"], (_extends3 = {}, _extends3[obj.prop] = obj.toSize, _extends3));
    }

    return Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, fallbacks, {}, mediaQueries);
  } else {
    var _ref2, _ref3, _ref4;

    if (!cssProp.prop || !cssProp.fromSize || !cssProp.toSize) {
      throw new PolishedError(51);
    }

    return _ref4 = {}, _ref4[cssProp.prop] = cssProp.fromSize, _ref4["@media (min-width: " + minScreen + ")"] = (_ref2 = {}, _ref2[cssProp.prop] = between(cssProp.fromSize, cssProp.toSize, minScreen, maxScreen), _ref2), _ref4["@media (min-width: " + maxScreen + ")"] = (_ref3 = {}, _ref3[cssProp.prop] = cssProp.toSize, _ref3), _ref4;
  }
}

var dataURIRegex = /^\s*data:([a-z]+\/[a-z-]+(;[a-z-]+=[a-z-]+)?)?(;charset=[a-z0-9-]+)?(;base64)?,[a-z0-9!$&',()*+,;=\-._~:@/?%\s]*\s*$/i;
var formatHintMap = {
  woff: 'woff',
  woff2: 'woff2',
  ttf: 'truetype',
  otf: 'opentype',
  eot: 'embedded-opentype',
  svg: 'svg',
  svgz: 'svg'
};

function generateFormatHint(format, formatHint) {
  if (!formatHint) return '';
  return " format(\"" + formatHintMap[format] + "\")";
}

function isDataURI(fontFilePath) {
  return !!fontFilePath.match(dataURIRegex);
}

function generateFileReferences(fontFilePath, fileFormats, formatHint) {
  if (isDataURI(fontFilePath)) {
    return "url(\"" + fontFilePath + "\")" + generateFormatHint(fileFormats[0], formatHint);
  }

  var fileFontReferences = fileFormats.map(function (format) {
    return "url(\"" + fontFilePath + "." + format + "\")" + generateFormatHint(format, formatHint);
  });
  return fileFontReferences.join(', ');
}

function generateLocalReferences(localFonts) {
  var localFontReferences = localFonts.map(function (font) {
    return "local(\"" + font + "\")";
  });
  return localFontReferences.join(', ');
}

function generateSources(fontFilePath, localFonts, fileFormats, formatHint) {
  var fontReferences = [];
  if (localFonts) fontReferences.push(generateLocalReferences(localFonts));

  if (fontFilePath) {
    fontReferences.push(generateFileReferences(fontFilePath, fileFormats, formatHint));
  }

  return fontReferences.join(', ');
}
/**
 * CSS for a @font-face declaration.
 *
 * @example
 * // Styles as object basic usage
 * const styles = {
 *    ...fontFace({
 *      'fontFamily': 'Sans-Pro',
 *      'fontFilePath': 'path/to/file'
 *    })
 * }
 *
 * // styled-components basic usage
 * const GlobalStyle = createGlobalStyle`${
 *   fontFace({
 *     'fontFamily': 'Sans-Pro',
 *     'fontFilePath': 'path/to/file'
 *   }
 * )}`
 *
 * // CSS as JS Output
 *
 * '@font-face': {
 *   'fontFamily': 'Sans-Pro',
 *   'src': 'url("path/to/file.eot"), url("path/to/file.woff2"), url("path/to/file.woff"), url("path/to/file.ttf"), url("path/to/file.svg")',
 * }
 */


function fontFace(_ref) {
  var fontFamily = _ref.fontFamily,
      fontFilePath = _ref.fontFilePath,
      fontStretch = _ref.fontStretch,
      fontStyle = _ref.fontStyle,
      fontVariant = _ref.fontVariant,
      fontWeight = _ref.fontWeight,
      _ref$fileFormats = _ref.fileFormats,
      fileFormats = _ref$fileFormats === void 0 ? ['eot', 'woff2', 'woff', 'ttf', 'svg'] : _ref$fileFormats,
      _ref$formatHint = _ref.formatHint,
      formatHint = _ref$formatHint === void 0 ? false : _ref$formatHint,
      localFonts = _ref.localFonts,
      unicodeRange = _ref.unicodeRange,
      fontDisplay = _ref.fontDisplay,
      fontVariationSettings = _ref.fontVariationSettings,
      fontFeatureSettings = _ref.fontFeatureSettings;
  // Error Handling
  if (!fontFamily) throw new PolishedError(55);

  if (!fontFilePath && !localFonts) {
    throw new PolishedError(52);
  }

  if (localFonts && !Array.isArray(localFonts)) {
    throw new PolishedError(53);
  }

  if (!Array.isArray(fileFormats)) {
    throw new PolishedError(54);
  }

  var fontFaceDeclaration = {
    '@font-face': {
      fontFamily: fontFamily,
      src: generateSources(fontFilePath, localFonts, fileFormats, formatHint),
      unicodeRange: unicodeRange,
      fontStretch: fontStretch,
      fontStyle: fontStyle,
      fontVariant: fontVariant,
      fontWeight: fontWeight,
      fontDisplay: fontDisplay,
      fontVariationSettings: fontVariationSettings,
      fontFeatureSettings: fontFeatureSettings
    }
  }; // Removes undefined fields for cleaner css object.

  return JSON.parse(JSON.stringify(fontFaceDeclaration));
}

function hideText() {
  return {
    textIndent: '101%',
    overflow: 'hidden',
    whiteSpace: 'nowrap'
  };
}

function hideVisually() {
  return {
    border: '0',
    clip: 'rect(0 0 0 0)',
    clipPath: 'inset(50%)',
    height: '1px',
    margin: '-1px',
    overflow: 'hidden',
    padding: '0',
    position: 'absolute',
    whiteSpace: 'nowrap',
    width: '1px'
  };
}

/**
 * Generates a media query to target HiDPI devices.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *  [hiDPI(1.5)]: {
 *    width: 200px;
 *  }
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   ${hiDPI(1.5)} {
 *     width: 200px;
 *   }
 * `
 *
 * // CSS as JS Output
 *
 * '@media only screen and (-webkit-min-device-pixel-ratio: 1.5),
 *  only screen and (min--moz-device-pixel-ratio: 1.5),
 *  only screen and (-o-min-device-pixel-ratio: 1.5/1),
 *  only screen and (min-resolution: 144dpi),
 *  only screen and (min-resolution: 1.5dppx)': {
 *   'width': '200px',
 * }
 */
function hiDPI(ratio) {
  if (ratio === void 0) {
    ratio = 1.3;
  }

  return "\n    @media only screen and (-webkit-min-device-pixel-ratio: " + ratio + "),\n    only screen and (min--moz-device-pixel-ratio: " + ratio + "),\n    only screen and (-o-min-device-pixel-ratio: " + ratio + "/1),\n    only screen and (min-resolution: " + Math.round(ratio * 96) + "dpi),\n    only screen and (min-resolution: " + ratio + "dppx)\n  ";
}

function constructGradientValue(literals) {
  var template = '';

  for (var _len = arguments.length, substitutions = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
    substitutions[_key - 1] = arguments[_key];
  }

  for (var i = 0; i < literals.length; i += 1) {
    template += literals[i];

    if (i === substitutions.length - 1 && substitutions[i]) {
      var definedValues = substitutions.filter(function (substitute) {
        return !!substitute;
      }); // Adds leading coma if properties preceed color-stops

      if (definedValues.length > 1) {
        template = template.slice(0, -1);
        template += ", " + substitutions[i]; // No trailing space if color-stops is the only param provided
      } else if (definedValues.length === 1) {
        template += "" + substitutions[i];
      }
    } else if (substitutions[i]) {
      template += substitutions[i] + " ";
    }
  }

  return template.trim();
}

function _templateObject() {
  var data = Object(_babel_runtime_helpers_esm_taggedTemplateLiteralLoose__WEBPACK_IMPORTED_MODULE_4__["default"])(["linear-gradient(", "", ")"]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}
function linearGradient(_ref) {
  var colorStops = _ref.colorStops,
      fallback = _ref.fallback,
      _ref$toDirection = _ref.toDirection,
      toDirection = _ref$toDirection === void 0 ? '' : _ref$toDirection;

  if (!colorStops || colorStops.length < 2) {
    throw new PolishedError(56);
  }

  return {
    backgroundColor: fallback || colorStops[0].split(' ')[0],
    backgroundImage: constructGradientValue(_templateObject(), toDirection, colorStops.join(', '))
  };
}

function normalize() {
  var _ref;

  return [(_ref = {
    html: {
      lineHeight: '1.15',
      textSizeAdjust: '100%'
    },
    body: {
      margin: '0'
    },
    h1: {
      fontSize: '2em',
      margin: '0.67em 0'
    },
    hr: {
      boxSizing: 'content-box',
      height: '0',
      overflow: 'visible'
    },
    pre: {
      fontFamily: 'monospace, monospace',
      fontSize: '1em'
    },
    a: {
      backgroundColor: 'transparent'
    },
    'abbr[title]': {
      borderBottom: 'none',
      textDecoration: 'underline'
    }
  }, _ref["b,\n    strong"] = {
    fontWeight: 'bolder'
  }, _ref["code,\n    kbd,\n    samp"] = {
    fontFamily: 'monospace, monospace',
    fontSize: '1em'
  }, _ref.small = {
    fontSize: '80%'
  }, _ref["sub,\n    sup"] = {
    fontSize: '75%',
    lineHeight: '0',
    position: 'relative',
    verticalAlign: 'baseline'
  }, _ref.sub = {
    bottom: '-0.25em'
  }, _ref.sup = {
    top: '-0.5em'
  }, _ref.img = {
    borderStyle: 'none'
  }, _ref["button,\n    input,\n    optgroup,\n    select,\n    textarea"] = {
    fontFamily: 'inherit',
    fontSize: '100%',
    lineHeight: '1.15',
    margin: '0'
  }, _ref["button,\n    input"] = {
    overflow: 'visible'
  }, _ref["button,\n    select"] = {
    textTransform: 'none'
  }, _ref["button,\n    html [type=\"button\"],\n    [type=\"reset\"],\n    [type=\"submit\"]"] = {
    WebkitAppearance: 'button'
  }, _ref["button::-moz-focus-inner,\n    [type=\"button\"]::-moz-focus-inner,\n    [type=\"reset\"]::-moz-focus-inner,\n    [type=\"submit\"]::-moz-focus-inner"] = {
    borderStyle: 'none',
    padding: '0'
  }, _ref["button:-moz-focusring,\n    [type=\"button\"]:-moz-focusring,\n    [type=\"reset\"]:-moz-focusring,\n    [type=\"submit\"]:-moz-focusring"] = {
    outline: '1px dotted ButtonText'
  }, _ref.fieldset = {
    padding: '0.35em 0.625em 0.75em'
  }, _ref.legend = {
    boxSizing: 'border-box',
    color: 'inherit',
    display: 'table',
    maxWidth: '100%',
    padding: '0',
    whiteSpace: 'normal'
  }, _ref.progress = {
    verticalAlign: 'baseline'
  }, _ref.textarea = {
    overflow: 'auto'
  }, _ref["[type=\"checkbox\"],\n    [type=\"radio\"]"] = {
    boxSizing: 'border-box',
    padding: '0'
  }, _ref["[type=\"number\"]::-webkit-inner-spin-button,\n    [type=\"number\"]::-webkit-outer-spin-button"] = {
    height: 'auto'
  }, _ref['[type="search"]'] = {
    WebkitAppearance: 'textfield',
    outlineOffset: '-2px'
  }, _ref['[type="search"]::-webkit-search-decoration'] = {
    WebkitAppearance: 'none'
  }, _ref['::-webkit-file-upload-button'] = {
    WebkitAppearance: 'button',
    font: 'inherit'
  }, _ref.details = {
    display: 'block'
  }, _ref.summary = {
    display: 'list-item'
  }, _ref.template = {
    display: 'none'
  }, _ref['[hidden]'] = {
    display: 'none'
  }, _ref), {
    'abbr[title]': {
      textDecoration: 'underline dotted'
    }
  }];
}

function _templateObject$1() {
  var data = Object(_babel_runtime_helpers_esm_taggedTemplateLiteralLoose__WEBPACK_IMPORTED_MODULE_4__["default"])(["radial-gradient(", "", "", "", ")"]);

  _templateObject$1 = function _templateObject() {
    return data;
  };

  return data;
}
function radialGradient(_ref) {
  var colorStops = _ref.colorStops,
      _ref$extent = _ref.extent,
      extent = _ref$extent === void 0 ? '' : _ref$extent,
      fallback = _ref.fallback,
      _ref$position = _ref.position,
      position = _ref$position === void 0 ? '' : _ref$position,
      _ref$shape = _ref.shape,
      shape = _ref$shape === void 0 ? '' : _ref$shape;

  if (!colorStops || colorStops.length < 2) {
    throw new PolishedError(57);
  }

  return {
    backgroundColor: fallback || colorStops[0].split(' ')[0],
    backgroundImage: constructGradientValue(_templateObject$1(), position, shape, extent, colorStops.join(', '))
  };
}

function retinaImage(filename, backgroundSize, extension, retinaFilename, retinaSuffix) {
  var _ref;

  if (extension === void 0) {
    extension = 'png';
  }

  if (retinaSuffix === void 0) {
    retinaSuffix = '_2x';
  }

  if (!filename) {
    throw new PolishedError(58);
  } // Replace the dot at the beginning of the passed extension if one exists


  var ext = extension.replace(/^\./, '');
  var rFilename = retinaFilename ? retinaFilename + "." + ext : "" + filename + retinaSuffix + "." + ext;
  return _ref = {
    backgroundImage: "url(" + filename + "." + ext + ")"
  }, _ref[hiDPI()] = Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({
    backgroundImage: "url(" + rFilename + ")"
  }, backgroundSize ? {
    backgroundSize: backgroundSize
  } : {}), _ref;
}

var functionsMap = {
  easeInBack: 'cubic-bezier(0.600, -0.280, 0.735, 0.045)',
  easeInCirc: 'cubic-bezier(0.600,  0.040, 0.980, 0.335)',
  easeInCubic: 'cubic-bezier(0.550,  0.055, 0.675, 0.190)',
  easeInExpo: 'cubic-bezier(0.950,  0.050, 0.795, 0.035)',
  easeInQuad: 'cubic-bezier(0.550,  0.085, 0.680, 0.530)',
  easeInQuart: 'cubic-bezier(0.895,  0.030, 0.685, 0.220)',
  easeInQuint: 'cubic-bezier(0.755,  0.050, 0.855, 0.060)',
  easeInSine: 'cubic-bezier(0.470,  0.000, 0.745, 0.715)',
  easeOutBack: 'cubic-bezier(0.175,  0.885, 0.320, 1.275)',
  easeOutCubic: 'cubic-bezier(0.215,  0.610, 0.355, 1.000)',
  easeOutCirc: 'cubic-bezier(0.075,  0.820, 0.165, 1.000)',
  easeOutExpo: 'cubic-bezier(0.190,  1.000, 0.220, 1.000)',
  easeOutQuad: 'cubic-bezier(0.250,  0.460, 0.450, 0.940)',
  easeOutQuart: 'cubic-bezier(0.165,  0.840, 0.440, 1.000)',
  easeOutQuint: 'cubic-bezier(0.230,  1.000, 0.320, 1.000)',
  easeOutSine: 'cubic-bezier(0.390,  0.575, 0.565, 1.000)',
  easeInOutBack: 'cubic-bezier(0.680, -0.550, 0.265, 1.550)',
  easeInOutCirc: 'cubic-bezier(0.785,  0.135, 0.150, 0.860)',
  easeInOutCubic: 'cubic-bezier(0.645,  0.045, 0.355, 1.000)',
  easeInOutExpo: 'cubic-bezier(1.000,  0.000, 0.000, 1.000)',
  easeInOutQuad: 'cubic-bezier(0.455,  0.030, 0.515, 0.955)',
  easeInOutQuart: 'cubic-bezier(0.770,  0.000, 0.175, 1.000)',
  easeInOutQuint: 'cubic-bezier(0.860,  0.000, 0.070, 1.000)',
  easeInOutSine: 'cubic-bezier(0.445,  0.050, 0.550, 0.950)'
};
/* eslint-enable key-spacing */

function getTimingFunction(functionName) {
  return functionsMap[functionName];
}
/**
 * String to represent common easing functions as demonstrated here: (github.com/jaukia/easie).
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   'transitionTimingFunction': timingFunctions('easeInQuad')
 * }
 *
 * // styled-components usage
 *  const div = styled.div`
 *   transitionTimingFunction: ${timingFunctions('easeInQuad')};
 * `
 *
 * // CSS as JS Output
 *
 * 'div': {
 *   'transitionTimingFunction': 'cubic-bezier(0.550,  0.085, 0.680, 0.530)',
 * }
 */


function timingFunctions(timingFunction) {
  return getTimingFunction(timingFunction);
}

var getBorderWidth = function getBorderWidth(pointingDirection, height, width) {
  var fullWidth = "" + width[0] + (width[1] || '');
  var halfWidth = "" + width[0] / 2 + (width[1] || '');
  var fullHeight = "" + height[0] + (height[1] || '');
  var halfHeight = "" + height[0] / 2 + (height[1] || '');

  switch (pointingDirection) {
    case 'top':
      return "0 " + halfWidth + " " + fullHeight + " " + halfWidth;

    case 'topLeft':
      return fullWidth + " " + fullHeight + " 0 0";

    case 'left':
      return halfHeight + " " + fullWidth + " " + halfHeight + " 0";

    case 'bottomLeft':
      return fullWidth + " 0 0 " + fullHeight;

    case 'bottom':
      return fullHeight + " " + halfWidth + " 0 " + halfWidth;

    case 'bottomRight':
      return "0 0 " + fullWidth + " " + fullHeight;

    case 'right':
      return halfHeight + " 0 " + halfHeight + " " + fullWidth;

    case 'topRight':
    default:
      return "0 " + fullWidth + " " + fullHeight + " 0";
  }
};

var getBorderColor = function getBorderColor(pointingDirection, foregroundColor, backgroundColor) {
  switch (pointingDirection) {
    case 'top':
    case 'bottomRight':
      return backgroundColor + " " + backgroundColor + " " + foregroundColor + " " + backgroundColor;

    case 'right':
    case 'bottomLeft':
      return backgroundColor + " " + backgroundColor + " " + backgroundColor + " " + foregroundColor;

    case 'bottom':
    case 'topLeft':
      return foregroundColor + " " + backgroundColor + " " + backgroundColor + " " + backgroundColor;

    case 'left':
    case 'topRight':
      return backgroundColor + " " + foregroundColor + " " + backgroundColor + " " + backgroundColor;

    default:
      throw new PolishedError(59);
  }
};
/**
 * CSS to represent triangle with any pointing direction with an optional background color.
 *
 * @example
 * // Styles as object usage
 *
 * const styles = {
 *   ...triangle({ pointingDirection: 'right', width: '100px', height: '100px', foregroundColor: 'red' })
 * }
 *
 *
 * // styled-components usage
 * const div = styled.div`
 *   ${triangle({ pointingDirection: 'right', width: '100px', height: '100px', foregroundColor: 'red' })}
 *
 *
 * // CSS as JS Output
 *
 * div: {
 *  'borderColor': 'transparent transparent transparent red',
 *  'borderStyle': 'solid',
 *  'borderWidth': '50px 0 50px 100px',
 *  'height': '0',
 *  'width': '0',
 * }
 */


function triangle(_ref) {
  var pointingDirection = _ref.pointingDirection,
      height = _ref.height,
      width = _ref.width,
      foregroundColor = _ref.foregroundColor,
      _ref$backgroundColor = _ref.backgroundColor,
      backgroundColor = _ref$backgroundColor === void 0 ? 'transparent' : _ref$backgroundColor;
  var widthAndUnit = stripUnit(width, true);
  var heightAndUnit = stripUnit(height, true);

  if (isNaN(heightAndUnit[0]) || isNaN(widthAndUnit[0])) {
    throw new PolishedError(60);
  }

  return {
    width: '0',
    height: '0',
    borderColor: getBorderColor(pointingDirection, foregroundColor, backgroundColor),
    borderStyle: 'solid',
    borderWidth: getBorderWidth(pointingDirection, heightAndUnit, widthAndUnit)
  };
}

function wordWrap(wrap) {
  if (wrap === void 0) {
    wrap = 'break-word';
  }

  var wordBreak = wrap === 'break-word' ? 'break-all' : wrap;
  return {
    overflowWrap: wrap,
    wordWrap: wrap,
    wordBreak: wordBreak
  };
}

function colorToInt(color) {
  return Math.round(color * 255);
}

function convertToInt(red, green, blue) {
  return colorToInt(red) + "," + colorToInt(green) + "," + colorToInt(blue);
}

function hslToRgb(hue, saturation, lightness, convert) {
  if (convert === void 0) {
    convert = convertToInt;
  }

  if (saturation === 0) {
    // achromatic
    return convert(lightness, lightness, lightness);
  } // formulae from https://en.wikipedia.org/wiki/HSL_and_HSV


  var huePrime = (hue % 360 + 360) % 360 / 60;
  var chroma = (1 - Math.abs(2 * lightness - 1)) * saturation;
  var secondComponent = chroma * (1 - Math.abs(huePrime % 2 - 1));
  var red = 0;
  var green = 0;
  var blue = 0;

  if (huePrime >= 0 && huePrime < 1) {
    red = chroma;
    green = secondComponent;
  } else if (huePrime >= 1 && huePrime < 2) {
    red = secondComponent;
    green = chroma;
  } else if (huePrime >= 2 && huePrime < 3) {
    green = chroma;
    blue = secondComponent;
  } else if (huePrime >= 3 && huePrime < 4) {
    green = secondComponent;
    blue = chroma;
  } else if (huePrime >= 4 && huePrime < 5) {
    red = secondComponent;
    blue = chroma;
  } else if (huePrime >= 5 && huePrime < 6) {
    red = chroma;
    blue = secondComponent;
  }

  var lightnessModification = lightness - chroma / 2;
  var finalRed = red + lightnessModification;
  var finalGreen = green + lightnessModification;
  var finalBlue = blue + lightnessModification;
  return convert(finalRed, finalGreen, finalBlue);
}

var namedColorMap = {
  aliceblue: 'f0f8ff',
  antiquewhite: 'faebd7',
  aqua: '00ffff',
  aquamarine: '7fffd4',
  azure: 'f0ffff',
  beige: 'f5f5dc',
  bisque: 'ffe4c4',
  black: '000',
  blanchedalmond: 'ffebcd',
  blue: '0000ff',
  blueviolet: '8a2be2',
  brown: 'a52a2a',
  burlywood: 'deb887',
  cadetblue: '5f9ea0',
  chartreuse: '7fff00',
  chocolate: 'd2691e',
  coral: 'ff7f50',
  cornflowerblue: '6495ed',
  cornsilk: 'fff8dc',
  crimson: 'dc143c',
  cyan: '00ffff',
  darkblue: '00008b',
  darkcyan: '008b8b',
  darkgoldenrod: 'b8860b',
  darkgray: 'a9a9a9',
  darkgreen: '006400',
  darkgrey: 'a9a9a9',
  darkkhaki: 'bdb76b',
  darkmagenta: '8b008b',
  darkolivegreen: '556b2f',
  darkorange: 'ff8c00',
  darkorchid: '9932cc',
  darkred: '8b0000',
  darksalmon: 'e9967a',
  darkseagreen: '8fbc8f',
  darkslateblue: '483d8b',
  darkslategray: '2f4f4f',
  darkslategrey: '2f4f4f',
  darkturquoise: '00ced1',
  darkviolet: '9400d3',
  deeppink: 'ff1493',
  deepskyblue: '00bfff',
  dimgray: '696969',
  dimgrey: '696969',
  dodgerblue: '1e90ff',
  firebrick: 'b22222',
  floralwhite: 'fffaf0',
  forestgreen: '228b22',
  fuchsia: 'ff00ff',
  gainsboro: 'dcdcdc',
  ghostwhite: 'f8f8ff',
  gold: 'ffd700',
  goldenrod: 'daa520',
  gray: '808080',
  green: '008000',
  greenyellow: 'adff2f',
  grey: '808080',
  honeydew: 'f0fff0',
  hotpink: 'ff69b4',
  indianred: 'cd5c5c',
  indigo: '4b0082',
  ivory: 'fffff0',
  khaki: 'f0e68c',
  lavender: 'e6e6fa',
  lavenderblush: 'fff0f5',
  lawngreen: '7cfc00',
  lemonchiffon: 'fffacd',
  lightblue: 'add8e6',
  lightcoral: 'f08080',
  lightcyan: 'e0ffff',
  lightgoldenrodyellow: 'fafad2',
  lightgray: 'd3d3d3',
  lightgreen: '90ee90',
  lightgrey: 'd3d3d3',
  lightpink: 'ffb6c1',
  lightsalmon: 'ffa07a',
  lightseagreen: '20b2aa',
  lightskyblue: '87cefa',
  lightslategray: '789',
  lightslategrey: '789',
  lightsteelblue: 'b0c4de',
  lightyellow: 'ffffe0',
  lime: '0f0',
  limegreen: '32cd32',
  linen: 'faf0e6',
  magenta: 'f0f',
  maroon: '800000',
  mediumaquamarine: '66cdaa',
  mediumblue: '0000cd',
  mediumorchid: 'ba55d3',
  mediumpurple: '9370db',
  mediumseagreen: '3cb371',
  mediumslateblue: '7b68ee',
  mediumspringgreen: '00fa9a',
  mediumturquoise: '48d1cc',
  mediumvioletred: 'c71585',
  midnightblue: '191970',
  mintcream: 'f5fffa',
  mistyrose: 'ffe4e1',
  moccasin: 'ffe4b5',
  navajowhite: 'ffdead',
  navy: '000080',
  oldlace: 'fdf5e6',
  olive: '808000',
  olivedrab: '6b8e23',
  orange: 'ffa500',
  orangered: 'ff4500',
  orchid: 'da70d6',
  palegoldenrod: 'eee8aa',
  palegreen: '98fb98',
  paleturquoise: 'afeeee',
  palevioletred: 'db7093',
  papayawhip: 'ffefd5',
  peachpuff: 'ffdab9',
  peru: 'cd853f',
  pink: 'ffc0cb',
  plum: 'dda0dd',
  powderblue: 'b0e0e6',
  purple: '800080',
  rebeccapurple: '639',
  red: 'f00',
  rosybrown: 'bc8f8f',
  royalblue: '4169e1',
  saddlebrown: '8b4513',
  salmon: 'fa8072',
  sandybrown: 'f4a460',
  seagreen: '2e8b57',
  seashell: 'fff5ee',
  sienna: 'a0522d',
  silver: 'c0c0c0',
  skyblue: '87ceeb',
  slateblue: '6a5acd',
  slategray: '708090',
  slategrey: '708090',
  snow: 'fffafa',
  springgreen: '00ff7f',
  steelblue: '4682b4',
  tan: 'd2b48c',
  teal: '008080',
  thistle: 'd8bfd8',
  tomato: 'ff6347',
  turquoise: '40e0d0',
  violet: 'ee82ee',
  wheat: 'f5deb3',
  white: 'fff',
  whitesmoke: 'f5f5f5',
  yellow: 'ff0',
  yellowgreen: '9acd32'
};
/**
 * Checks if a string is a CSS named color and returns its equivalent hex value, otherwise returns the original color.
 * @private
 */

function nameToHex(color) {
  if (typeof color !== 'string') return color;
  var normalizedColorName = color.toLowerCase();
  return namedColorMap[normalizedColorName] ? "#" + namedColorMap[normalizedColorName] : color;
}

var hexRegex = /^#[a-fA-F0-9]{6}$/;
var hexRgbaRegex = /^#[a-fA-F0-9]{8}$/;
var reducedHexRegex = /^#[a-fA-F0-9]{3}$/;
var reducedRgbaHexRegex = /^#[a-fA-F0-9]{4}$/;
var rgbRegex = /^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i;
var rgbaRegex = /^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i;
var hslRegex = /^hsl\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i;
var hslaRegex = /^hsla\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i;
/**
 * Returns an RgbColor or RgbaColor object. This utility function is only useful
 * if want to extract a color component. With the color util `toColorString` you
 * can convert a RgbColor or RgbaColor object back to a string.
 *
 * @example
 * // Assigns `{ red: 255, green: 0, blue: 0 }` to color1
 * const color1 = parseToRgb('rgb(255, 0, 0)');
 * // Assigns `{ red: 92, green: 102, blue: 112, alpha: 0.75 }` to color2
 * const color2 = parseToRgb('hsla(210, 10%, 40%, 0.75)');
 */

function parseToRgb(color) {
  if (typeof color !== 'string') {
    throw new PolishedError(3);
  }

  var normalizedColor = nameToHex(color);

  if (normalizedColor.match(hexRegex)) {
    return {
      red: parseInt("" + normalizedColor[1] + normalizedColor[2], 16),
      green: parseInt("" + normalizedColor[3] + normalizedColor[4], 16),
      blue: parseInt("" + normalizedColor[5] + normalizedColor[6], 16)
    };
  }

  if (normalizedColor.match(hexRgbaRegex)) {
    var alpha = parseFloat((parseInt("" + normalizedColor[7] + normalizedColor[8], 16) / 255).toFixed(2));
    return {
      red: parseInt("" + normalizedColor[1] + normalizedColor[2], 16),
      green: parseInt("" + normalizedColor[3] + normalizedColor[4], 16),
      blue: parseInt("" + normalizedColor[5] + normalizedColor[6], 16),
      alpha: alpha
    };
  }

  if (normalizedColor.match(reducedHexRegex)) {
    return {
      red: parseInt("" + normalizedColor[1] + normalizedColor[1], 16),
      green: parseInt("" + normalizedColor[2] + normalizedColor[2], 16),
      blue: parseInt("" + normalizedColor[3] + normalizedColor[3], 16)
    };
  }

  if (normalizedColor.match(reducedRgbaHexRegex)) {
    var _alpha = parseFloat((parseInt("" + normalizedColor[4] + normalizedColor[4], 16) / 255).toFixed(2));

    return {
      red: parseInt("" + normalizedColor[1] + normalizedColor[1], 16),
      green: parseInt("" + normalizedColor[2] + normalizedColor[2], 16),
      blue: parseInt("" + normalizedColor[3] + normalizedColor[3], 16),
      alpha: _alpha
    };
  }

  var rgbMatched = rgbRegex.exec(normalizedColor);

  if (rgbMatched) {
    return {
      red: parseInt("" + rgbMatched[1], 10),
      green: parseInt("" + rgbMatched[2], 10),
      blue: parseInt("" + rgbMatched[3], 10)
    };
  }

  var rgbaMatched = rgbaRegex.exec(normalizedColor);

  if (rgbaMatched) {
    return {
      red: parseInt("" + rgbaMatched[1], 10),
      green: parseInt("" + rgbaMatched[2], 10),
      blue: parseInt("" + rgbaMatched[3], 10),
      alpha: parseFloat("" + rgbaMatched[4])
    };
  }

  var hslMatched = hslRegex.exec(normalizedColor);

  if (hslMatched) {
    var hue = parseInt("" + hslMatched[1], 10);
    var saturation = parseInt("" + hslMatched[2], 10) / 100;
    var lightness = parseInt("" + hslMatched[3], 10) / 100;
    var rgbColorString = "rgb(" + hslToRgb(hue, saturation, lightness) + ")";
    var hslRgbMatched = rgbRegex.exec(rgbColorString);

    if (!hslRgbMatched) {
      throw new PolishedError(4, normalizedColor, rgbColorString);
    }

    return {
      red: parseInt("" + hslRgbMatched[1], 10),
      green: parseInt("" + hslRgbMatched[2], 10),
      blue: parseInt("" + hslRgbMatched[3], 10)
    };
  }

  var hslaMatched = hslaRegex.exec(normalizedColor);

  if (hslaMatched) {
    var _hue = parseInt("" + hslaMatched[1], 10);

    var _saturation = parseInt("" + hslaMatched[2], 10) / 100;

    var _lightness = parseInt("" + hslaMatched[3], 10) / 100;

    var _rgbColorString = "rgb(" + hslToRgb(_hue, _saturation, _lightness) + ")";

    var _hslRgbMatched = rgbRegex.exec(_rgbColorString);

    if (!_hslRgbMatched) {
      throw new PolishedError(4, normalizedColor, _rgbColorString);
    }

    return {
      red: parseInt("" + _hslRgbMatched[1], 10),
      green: parseInt("" + _hslRgbMatched[2], 10),
      blue: parseInt("" + _hslRgbMatched[3], 10),
      alpha: parseFloat("" + hslaMatched[4])
    };
  }

  throw new PolishedError(5);
}

function rgbToHsl(color) {
  // make sure rgb are contained in a set of [0, 255]
  var red = color.red / 255;
  var green = color.green / 255;
  var blue = color.blue / 255;
  var max = Math.max(red, green, blue);
  var min = Math.min(red, green, blue);
  var lightness = (max + min) / 2;

  if (max === min) {
    // achromatic
    if (color.alpha !== undefined) {
      return {
        hue: 0,
        saturation: 0,
        lightness: lightness,
        alpha: color.alpha
      };
    } else {
      return {
        hue: 0,
        saturation: 0,
        lightness: lightness
      };
    }
  }

  var hue;
  var delta = max - min;
  var saturation = lightness > 0.5 ? delta / (2 - max - min) : delta / (max + min);

  switch (max) {
    case red:
      hue = (green - blue) / delta + (green < blue ? 6 : 0);
      break;

    case green:
      hue = (blue - red) / delta + 2;
      break;

    default:
      // blue case
      hue = (red - green) / delta + 4;
      break;
  }

  hue *= 60;

  if (color.alpha !== undefined) {
    return {
      hue: hue,
      saturation: saturation,
      lightness: lightness,
      alpha: color.alpha
    };
  }

  return {
    hue: hue,
    saturation: saturation,
    lightness: lightness
  };
}

function parseToHsl(color) {
  // Note: At a later stage we can optimize this function as right now a hsl
  // color would be parsed converted to rgb values and converted back to hsl.
  return rgbToHsl(parseToRgb(color));
}

/**
 * Reduces hex values if possible e.g. #ff8866 to #f86
 * @private
 */
var reduceHexValue = function reduceHexValue(value) {
  if (value.length === 7 && value[1] === value[2] && value[3] === value[4] && value[5] === value[6]) {
    return "#" + value[1] + value[3] + value[5];
  }

  return value;
};

function numberToHex(value) {
  var hex = value.toString(16);
  return hex.length === 1 ? "0" + hex : hex;
}

function colorToHex(color) {
  return numberToHex(Math.round(color * 255));
}

function convertToHex(red, green, blue) {
  return reduceHexValue("#" + colorToHex(red) + colorToHex(green) + colorToHex(blue));
}

function hslToHex(hue, saturation, lightness) {
  return hslToRgb(hue, saturation, lightness, convertToHex);
}

function hsl(value, saturation, lightness) {
  if (typeof value === 'number' && typeof saturation === 'number' && typeof lightness === 'number') {
    return hslToHex(value, saturation, lightness);
  } else if (typeof value === 'object' && saturation === undefined && lightness === undefined) {
    return hslToHex(value.hue, value.saturation, value.lightness);
  }

  throw new PolishedError(1);
}

function hsla(value, saturation, lightness, alpha) {
  if (typeof value === 'number' && typeof saturation === 'number' && typeof lightness === 'number' && typeof alpha === 'number') {
    return alpha >= 1 ? hslToHex(value, saturation, lightness) : "rgba(" + hslToRgb(value, saturation, lightness) + "," + alpha + ")";
  } else if (typeof value === 'object' && saturation === undefined && lightness === undefined && alpha === undefined) {
    return value.alpha >= 1 ? hslToHex(value.hue, value.saturation, value.lightness) : "rgba(" + hslToRgb(value.hue, value.saturation, value.lightness) + "," + value.alpha + ")";
  }

  throw new PolishedError(2);
}

function rgb(value, green, blue) {
  if (typeof value === 'number' && typeof green === 'number' && typeof blue === 'number') {
    return reduceHexValue("#" + numberToHex(value) + numberToHex(green) + numberToHex(blue));
  } else if (typeof value === 'object' && green === undefined && blue === undefined) {
    return reduceHexValue("#" + numberToHex(value.red) + numberToHex(value.green) + numberToHex(value.blue));
  }

  throw new PolishedError(6);
}

function rgba(firstValue, secondValue, thirdValue, fourthValue) {
  if (typeof firstValue === 'string' && typeof secondValue === 'number') {
    var rgbValue = parseToRgb(firstValue);
    return "rgba(" + rgbValue.red + "," + rgbValue.green + "," + rgbValue.blue + "," + secondValue + ")";
  } else if (typeof firstValue === 'number' && typeof secondValue === 'number' && typeof thirdValue === 'number' && typeof fourthValue === 'number') {
    return fourthValue >= 1 ? rgb(firstValue, secondValue, thirdValue) : "rgba(" + firstValue + "," + secondValue + "," + thirdValue + "," + fourthValue + ")";
  } else if (typeof firstValue === 'object' && secondValue === undefined && thirdValue === undefined && fourthValue === undefined) {
    return firstValue.alpha >= 1 ? rgb(firstValue.red, firstValue.green, firstValue.blue) : "rgba(" + firstValue.red + "," + firstValue.green + "," + firstValue.blue + "," + firstValue.alpha + ")";
  }

  throw new PolishedError(7);
}

var isRgb = function isRgb(color) {
  return typeof color.red === 'number' && typeof color.green === 'number' && typeof color.blue === 'number' && (typeof color.alpha !== 'number' || typeof color.alpha === 'undefined');
};

var isRgba = function isRgba(color) {
  return typeof color.red === 'number' && typeof color.green === 'number' && typeof color.blue === 'number' && typeof color.alpha === 'number';
};

var isHsl = function isHsl(color) {
  return typeof color.hue === 'number' && typeof color.saturation === 'number' && typeof color.lightness === 'number' && (typeof color.alpha !== 'number' || typeof color.alpha === 'undefined');
};

var isHsla = function isHsla(color) {
  return typeof color.hue === 'number' && typeof color.saturation === 'number' && typeof color.lightness === 'number' && typeof color.alpha === 'number';
};
/**
 * Converts a RgbColor, RgbaColor, HslColor or HslaColor object to a color string.
 * This util is useful in case you only know on runtime which color object is
 * used. Otherwise we recommend to rely on `rgb`, `rgba`, `hsl` or `hsla`.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   background: toColorString({ red: 255, green: 205, blue: 100 }),
 *   background: toColorString({ red: 255, green: 205, blue: 100, alpha: 0.72 }),
 *   background: toColorString({ hue: 240, saturation: 1, lightness: 0.5 }),
 *   background: toColorString({ hue: 360, saturation: 0.75, lightness: 0.4, alpha: 0.72 }),
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   background: ${toColorString({ red: 255, green: 205, blue: 100 })};
 *   background: ${toColorString({ red: 255, green: 205, blue: 100, alpha: 0.72 })};
 *   background: ${toColorString({ hue: 240, saturation: 1, lightness: 0.5 })};
 *   background: ${toColorString({ hue: 360, saturation: 0.75, lightness: 0.4, alpha: 0.72 })};
 * `
 *
 * // CSS in JS Output
 * element {
 *   background: "#ffcd64";
 *   background: "rgba(255,205,100,0.72)";
 *   background: "#00f";
 *   background: "rgba(179,25,25,0.72)";
 * }
 */


function toColorString(color) {
  if (typeof color !== 'object') throw new PolishedError(8);
  if (isRgba(color)) return rgba(color);
  if (isRgb(color)) return rgb(color);
  if (isHsla(color)) return hsla(color);
  if (isHsl(color)) return hsl(color);
  throw new PolishedError(8);
}

// Type definitions taken from https://github.com/gcanti/flow-static-land/blob/master/src/Fun.js
// eslint-disable-next-line no-unused-vars
// eslint-disable-next-line no-unused-vars
// eslint-disable-next-line no-redeclare
function curried(f, length, acc) {
  return function fn() {
    // eslint-disable-next-line prefer-rest-params
    var combined = acc.concat(Array.prototype.slice.call(arguments));
    return combined.length >= length ? f.apply(this, combined) : curried(f, length, combined);
  };
} // eslint-disable-next-line no-redeclare


function curry(f) {
  // eslint-disable-line no-redeclare
  return curried(f, f.length, []);
}

/**
 * Changes the hue of the color. Hue is a number between 0 to 360. The first
 * argument for adjustHue is the amount of degrees the color is rotated around
 * the color wheel, always producing a positive hue value.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   background: adjustHue(180, '#448'),
 *   background: adjustHue('180', 'rgba(101,100,205,0.7)'),
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   background: ${adjustHue(180, '#448')};
 *   background: ${adjustHue('180', 'rgba(101,100,205,0.7)')};
 * `
 *
 * // CSS in JS Output
 * element {
 *   background: "#888844";
 *   background: "rgba(136,136,68,0.7)";
 * }
 */

function adjustHue(degree, color) {
  if (color === 'transparent') return color;
  var hslColor = parseToHsl(color);
  return toColorString(Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, hslColor, {
    hue: hslColor.hue + parseFloat(degree)
  }));
} // prettier-ignore


var curriedAdjustHue =
/*#__PURE__*/
curry
/* ::<number | string, string, string> */
(adjustHue);

/**
 * Returns the complement of the provided color. This is identical to adjustHue(180, <color>).
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   background: complement('#448'),
 *   background: complement('rgba(204,205,100,0.7)'),
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   background: ${complement('#448')};
 *   background: ${complement('rgba(204,205,100,0.7)')};
 * `
 *
 * // CSS in JS Output
 * element {
 *   background: "#884";
 *   background: "rgba(153,153,153,0.7)";
 * }
 */

function complement(color) {
  if (color === 'transparent') return color;
  var hslColor = parseToHsl(color);
  return toColorString(Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, hslColor, {
    hue: (hslColor.hue + 180) % 360
  }));
}

function guard(lowerBoundary, upperBoundary, value) {
  return Math.max(lowerBoundary, Math.min(upperBoundary, value));
}

/**
 * Returns a string value for the darkened color.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   background: darken(0.2, '#FFCD64'),
 *   background: darken('0.2', 'rgba(255,205,100,0.7)'),
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   background: ${darken(0.2, '#FFCD64')};
 *   background: ${darken('0.2', 'rgba(255,205,100,0.7)')};
 * `
 *
 * // CSS in JS Output
 *
 * element {
 *   background: "#ffbd31";
 *   background: "rgba(255,189,49,0.7)";
 * }
 */

function darken(amount, color) {
  if (color === 'transparent') return color;
  var hslColor = parseToHsl(color);
  return toColorString(Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, hslColor, {
    lightness: guard(0, 1, hslColor.lightness - parseFloat(amount))
  }));
} // prettier-ignore


var curriedDarken =
/*#__PURE__*/
curry
/* ::<number | string, string, string> */
(darken);

/**
 * Decreases the intensity of a color. Its range is between 0 to 1. The first
 * argument of the desaturate function is the amount by how much the color
 * intensity should be decreased.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   background: desaturate(0.2, '#CCCD64'),
 *   background: desaturate('0.2', 'rgba(204,205,100,0.7)'),
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   background: ${desaturate(0.2, '#CCCD64')};
 *   background: ${desaturate('0.2', 'rgba(204,205,100,0.7)')};
 * `
 *
 * // CSS in JS Output
 * element {
 *   background: "#b8b979";
 *   background: "rgba(184,185,121,0.7)";
 * }
 */

function desaturate(amount, color) {
  if (color === 'transparent') return color;
  var hslColor = parseToHsl(color);
  return toColorString(Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, hslColor, {
    saturation: guard(0, 1, hslColor.saturation - parseFloat(amount))
  }));
} // prettier-ignore


var curriedDesaturate =
/*#__PURE__*/
curry
/* ::<number | string, string, string> */
(desaturate);

/**
 * Returns a number (float) representing the luminance of a color.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   background: getLuminance('#CCCD64') >= getLuminance('#0000ff') ? '#CCCD64' : '#0000ff',
 *   background: getLuminance('rgba(58, 133, 255, 1)') >= getLuminance('rgba(255, 57, 149, 1)') ?
 *                             'rgba(58, 133, 255, 1)' :
 *                             'rgba(255, 57, 149, 1)',
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   background: ${getLuminance('#CCCD64') >= getLuminance('#0000ff') ? '#CCCD64' : '#0000ff'};
 *   background: ${getLuminance('rgba(58, 133, 255, 1)') >= getLuminance('rgba(255, 57, 149, 1)') ?
 *                             'rgba(58, 133, 255, 1)' :
 *                             'rgba(255, 57, 149, 1)'};
 *
 * // CSS in JS Output
 *
 * div {
 *   background: "#CCCD64";
 *   background: "rgba(58, 133, 255, 1)";
 * }
 */

function getLuminance(color) {
  if (color === 'transparent') return 0;
  var rgbColor = parseToRgb(color);

  var _Object$keys$map = Object.keys(rgbColor).map(function (key) {
    var channel = rgbColor[key] / 255;
    return channel <= 0.03928 ? channel / 12.92 : Math.pow((channel + 0.055) / 1.055, 2.4);
  }),
      r = _Object$keys$map[0],
      g = _Object$keys$map[1],
      b = _Object$keys$map[2];

  return parseFloat((0.2126 * r + 0.7152 * g + 0.0722 * b).toFixed(3));
}

/**
 * Returns the contrast ratio between two colors based on
 * [W3's recommended equation for calculating contrast](http://www.w3.org/TR/WCAG20/#contrast-ratiodef).
 *
 * @example
 * const contrastRatio = getContrast('#444', '#fff');
 */

function getContrast(color1, color2) {
  var luminance1 = getLuminance(color1);
  var luminance2 = getLuminance(color2);
  return parseFloat((luminance1 > luminance2 ? (luminance1 + 0.05) / (luminance2 + 0.05) : (luminance2 + 0.05) / (luminance1 + 0.05)).toFixed(2));
}

/**
 * Converts the color to a grayscale, by reducing its saturation to 0.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   background: grayscale('#CCCD64'),
 *   background: grayscale('rgba(204,205,100,0.7)'),
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   background: ${grayscale('#CCCD64')};
 *   background: ${grayscale('rgba(204,205,100,0.7)')};
 * `
 *
 * // CSS in JS Output
 * element {
 *   background: "#999";
 *   background: "rgba(153,153,153,0.7)";
 * }
 */

function grayscale(color) {
  if (color === 'transparent') return color;
  return toColorString(Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, parseToHsl(color), {
    saturation: 0
  }));
}

function hslToColorString(color) {
  if (typeof color === 'object' && typeof color.hue === 'number' && typeof color.saturation === 'number' && typeof color.lightness === 'number') {
    if (color.alpha && typeof color.alpha === 'number') {
      return hsla({
        hue: color.hue,
        saturation: color.saturation,
        lightness: color.lightness,
        alpha: color.alpha
      });
    }

    return hsl({
      hue: color.hue,
      saturation: color.saturation,
      lightness: color.lightness
    });
  }

  throw new PolishedError(45);
}

/**
 * Inverts the red, green and blue values of a color.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   background: invert('#CCCD64'),
 *   background: invert('rgba(101,100,205,0.7)'),
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   background: ${invert('#CCCD64')};
 *   background: ${invert('rgba(101,100,205,0.7)')};
 * `
 *
 * // CSS in JS Output
 *
 * element {
 *   background: "#33329b";
 *   background: "rgba(154,155,50,0.7)";
 * }
 */

function invert(color) {
  if (color === 'transparent') return color; // parse color string to rgb

  var value = parseToRgb(color);
  return toColorString(Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, value, {
    red: 255 - value.red,
    green: 255 - value.green,
    blue: 255 - value.blue
  }));
}

/**
 * Returns a string value for the lightened color.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   background: lighten(0.2, '#CCCD64'),
 *   background: lighten('0.2', 'rgba(204,205,100,0.7)'),
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   background: ${lighten(0.2, '#FFCD64')};
 *   background: ${lighten('0.2', 'rgba(204,205,100,0.7)')};
 * `
 *
 * // CSS in JS Output
 *
 * element {
 *   background: "#e5e6b1";
 *   background: "rgba(229,230,177,0.7)";
 * }
 */

function lighten(amount, color) {
  if (color === 'transparent') return color;
  var hslColor = parseToHsl(color);
  return toColorString(Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, hslColor, {
    lightness: guard(0, 1, hslColor.lightness + parseFloat(amount))
  }));
} // prettier-ignore


var curriedLighten =
/*#__PURE__*/
curry
/* ::<number | string, string, string> */
(lighten);

function meetsContrastGuidelines(color1, color2) {
  var contrastRatio = getContrast(color1, color2);
  return {
    AA: contrastRatio >= 4.5,
    AALarge: contrastRatio >= 3,
    AAA: contrastRatio >= 7,
    AAALarge: contrastRatio >= 4.5
  };
}

/**
 * Mixes the two provided colors together by calculating the average of each of the RGB components weighted to the first color by the provided weight.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   background: mix(0.5, '#f00', '#00f')
 *   background: mix(0.25, '#f00', '#00f')
 *   background: mix('0.5', 'rgba(255, 0, 0, 0.5)', '#00f')
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   background: ${mix(0.5, '#f00', '#00f')};
 *   background: ${mix(0.25, '#f00', '#00f')};
 *   background: ${mix('0.5', 'rgba(255, 0, 0, 0.5)', '#00f')};
 * `
 *
 * // CSS in JS Output
 *
 * element {
 *   background: "#7f007f";
 *   background: "#3f00bf";
 *   background: "rgba(63, 0, 191, 0.75)";
 * }
 */

function mix(weight, color, otherColor) {
  if (color === 'transparent') return otherColor;
  if (otherColor === 'transparent') return color;
  var parsedColor1 = parseToRgb(color);

  var color1 = Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, parsedColor1, {
    alpha: typeof parsedColor1.alpha === 'number' ? parsedColor1.alpha : 1
  });

  var parsedColor2 = parseToRgb(otherColor);

  var color2 = Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, parsedColor2, {
    alpha: typeof parsedColor2.alpha === 'number' ? parsedColor2.alpha : 1
  }); // The formular is copied from the original Sass implementation:
  // http://sass-lang.com/documentation/Sass/Script/Functions.html#mix-instance_method


  var alphaDelta = color1.alpha - color2.alpha;
  var x = parseFloat(weight) * 2 - 1;
  var y = x * alphaDelta === -1 ? x : x + alphaDelta;
  var z = 1 + x * alphaDelta;
  var weight1 = (y / z + 1) / 2.0;
  var weight2 = 1 - weight1;
  var mixedColor = {
    red: Math.floor(color1.red * weight1 + color2.red * weight2),
    green: Math.floor(color1.green * weight1 + color2.green * weight2),
    blue: Math.floor(color1.blue * weight1 + color2.blue * weight2),
    alpha: color1.alpha + (color2.alpha - color1.alpha) * (parseFloat(weight) / 1.0)
  };
  return rgba(mixedColor);
} // prettier-ignore


var curriedMix =
/*#__PURE__*/
curry
/* ::<number | string, string, string, string> */
(mix);

/**
 * Increases the opacity of a color. Its range for the amount is between 0 to 1.
 *
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   background: opacify(0.1, 'rgba(255, 255, 255, 0.9)');
 *   background: opacify(0.2, 'hsla(0, 0%, 100%, 0.5)'),
 *   background: opacify('0.5', 'rgba(255, 0, 0, 0.2)'),
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   background: ${opacify(0.1, 'rgba(255, 255, 255, 0.9)')};
 *   background: ${opacify(0.2, 'hsla(0, 0%, 100%, 0.5)')},
 *   background: ${opacify('0.5', 'rgba(255, 0, 0, 0.2)')},
 * `
 *
 * // CSS in JS Output
 *
 * element {
 *   background: "#fff";
 *   background: "rgba(255,255,255,0.7)";
 *   background: "rgba(255,0,0,0.7)";
 * }
 */

function opacify(amount, color) {
  if (color === 'transparent') return color;
  var parsedColor = parseToRgb(color);
  var alpha = typeof parsedColor.alpha === 'number' ? parsedColor.alpha : 1;

  var colorWithAlpha = Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, parsedColor, {
    alpha: guard(0, 1, (alpha * 100 + parseFloat(amount) * 100) / 100)
  });

  return rgba(colorWithAlpha);
} // prettier-ignore


var curriedOpacify =
/*#__PURE__*/
curry
/* ::<number | string, string, string> */
(opacify);

/**
 * Returns black or white (or optional light and dark return colors) for best contrast depending on the luminosity of the given color.
 * Follows [W3C specs for readability](https://www.w3.org/TR/WCAG20-TECHS/G18.html).
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   color: readableColor('#000'),
 *   color: readableColor('black', '#001', '#ff8'),
 *   color: readableColor('white', '#001', '#ff8'),
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   color: ${readableColor('#000')};
 *   color: ${readableColor('black', '#001', '#ff8')};
 *   color: ${readableColor('white', '#001', '#ff8')};
 * `
 *
 * // CSS in JS Output
 *
 * element {
 *   color: "#fff";
 *   color: "#ff8";
 *   color: "#001";
 * }
 */

function readableColor(color, lightReturnColor, darkReturnColor) {
  if (lightReturnColor === void 0) {
    lightReturnColor = '#000';
  }

  if (darkReturnColor === void 0) {
    darkReturnColor = '#fff';
  }

  return getLuminance(color) > 0.179 ? lightReturnColor : darkReturnColor;
}

function rgbToColorString(color) {
  if (typeof color === 'object' && typeof color.red === 'number' && typeof color.green === 'number' && typeof color.blue === 'number') {
    if (color.alpha && typeof color.alpha === 'number') {
      return rgba({
        red: color.red,
        green: color.green,
        blue: color.blue,
        alpha: color.alpha
      });
    }

    return rgb({
      red: color.red,
      green: color.green,
      blue: color.blue
    });
  }

  throw new PolishedError(46);
}

/**
 * Increases the intensity of a color. Its range is between 0 to 1. The first
 * argument of the saturate function is the amount by how much the color
 * intensity should be increased.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   background: saturate(0.2, '#CCCD64'),
 *   background: saturate('0.2', 'rgba(204,205,100,0.7)'),
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   background: ${saturate(0.2, '#FFCD64')};
 *   background: ${saturate('0.2', 'rgba(204,205,100,0.7)')};
 * `
 *
 * // CSS in JS Output
 *
 * element {
 *   background: "#e0e250";
 *   background: "rgba(224,226,80,0.7)";
 * }
 */

function saturate(amount, color) {
  if (color === 'transparent') return color;
  var hslColor = parseToHsl(color);
  return toColorString(Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, hslColor, {
    saturation: guard(0, 1, hslColor.saturation + parseFloat(amount))
  }));
} // prettier-ignore


var curriedSaturate =
/*#__PURE__*/
curry
/* ::<number | string, string, string> */
(saturate);

/**
 * Sets the hue of a color to the provided value. The hue range can be
 * from 0 and 359.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   background: setHue(42, '#CCCD64'),
 *   background: setHue('244', 'rgba(204,205,100,0.7)'),
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   background: ${setHue(42, '#CCCD64')};
 *   background: ${setHue('244', 'rgba(204,205,100,0.7)')};
 * `
 *
 * // CSS in JS Output
 * element {
 *   background: "#cdae64";
 *   background: "rgba(107,100,205,0.7)";
 * }
 */

function setHue(hue, color) {
  if (color === 'transparent') return color;
  return toColorString(Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, parseToHsl(color), {
    hue: parseFloat(hue)
  }));
} // prettier-ignore


var curriedSetHue =
/*#__PURE__*/
curry
/* ::<number | string, string, string> */
(setHue);

/**
 * Sets the lightness of a color to the provided value. The lightness range can be
 * from 0 and 1.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   background: setLightness(0.2, '#CCCD64'),
 *   background: setLightness('0.75', 'rgba(204,205,100,0.7)'),
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   background: ${setLightness(0.2, '#CCCD64')};
 *   background: ${setLightness('0.75', 'rgba(204,205,100,0.7)')};
 * `
 *
 * // CSS in JS Output
 * element {
 *   background: "#4d4d19";
 *   background: "rgba(223,224,159,0.7)";
 * }
 */

function setLightness(lightness, color) {
  if (color === 'transparent') return color;
  return toColorString(Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, parseToHsl(color), {
    lightness: parseFloat(lightness)
  }));
} // prettier-ignore


var curriedSetLightness =
/*#__PURE__*/
curry
/* ::<number | string, string, string> */
(setLightness);

/**
 * Sets the saturation of a color to the provided value. The saturation range can be
 * from 0 and 1.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   background: setSaturation(0.2, '#CCCD64'),
 *   background: setSaturation('0.75', 'rgba(204,205,100,0.7)'),
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   background: ${setSaturation(0.2, '#CCCD64')};
 *   background: ${setSaturation('0.75', 'rgba(204,205,100,0.7)')};
 * `
 *
 * // CSS in JS Output
 * element {
 *   background: "#adad84";
 *   background: "rgba(228,229,76,0.7)";
 * }
 */

function setSaturation(saturation, color) {
  if (color === 'transparent') return color;
  return toColorString(Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, parseToHsl(color), {
    saturation: parseFloat(saturation)
  }));
} // prettier-ignore


var curriedSetSaturation =
/*#__PURE__*/
curry
/* ::<number | string, string, string> */
(setSaturation);

/**
 * Shades a color by mixing it with black. `shade` can produce
 * hue shifts, where as `darken` manipulates the luminance channel and therefore
 * doesn't produce hue shifts.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   background: shade(0.25, '#00f')
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   background: ${shade(0.25, '#00f')};
 * `
 *
 * // CSS in JS Output
 *
 * element {
 *   background: "#00003f";
 * }
 */

function shade(percentage, color) {
  if (color === 'transparent') return color;
  return curriedMix(parseFloat(percentage), 'rgb(0, 0, 0)', color);
} // prettier-ignore


var curriedShade =
/*#__PURE__*/
curry
/* ::<number | string, string, string> */
(shade);

/**
 * Tints a color by mixing it with white. `tint` can produce
 * hue shifts, where as `lighten` manipulates the luminance channel and therefore
 * doesn't produce hue shifts.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   background: tint(0.25, '#00f')
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   background: ${tint(0.25, '#00f')};
 * `
 *
 * // CSS in JS Output
 *
 * element {
 *   background: "#bfbfff";
 * }
 */

function tint(percentage, color) {
  if (color === 'transparent') return color;
  return curriedMix(parseFloat(percentage), 'rgb(255, 255, 255)', color);
} // prettier-ignore


var curriedTint =
/*#__PURE__*/
curry
/* ::<number | string, string, string> */
(tint);

/**
 * Decreases the opacity of a color. Its range for the amount is between 0 to 1.
 *
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   background: transparentize(0.1, '#fff');
 *   background: transparentize(0.2, 'hsl(0, 0%, 100%)'),
 *   background: transparentize('0.5', 'rgba(255, 0, 0, 0.8)'),
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   background: ${transparentize(0.1, '#fff')};
 *   background: ${transparentize(0.2, 'hsl(0, 0%, 100%)')},
 *   background: ${transparentize('0.5', 'rgba(255, 0, 0, 0.8)')},
 * `
 *
 * // CSS in JS Output
 *
 * element {
 *   background: "rgba(255,255,255,0.9)";
 *   background: "rgba(255,255,255,0.8)";
 *   background: "rgba(255,0,0,0.3)";
 * }
 */

function transparentize(amount, color) {
  if (color === 'transparent') return color;
  var parsedColor = parseToRgb(color);
  var alpha = typeof parsedColor.alpha === 'number' ? parsedColor.alpha : 1;

  var colorWithAlpha = Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, parsedColor, {
    alpha: guard(0, 1, (alpha * 100 - parseFloat(amount) * 100) / 100)
  });

  return rgba(colorWithAlpha);
} // prettier-ignore


var curriedTransparentize =
/*#__PURE__*/
curry
/* ::<number | string, string, string> */
(transparentize);

function animation() {
  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }

  // Allow single or multiple animations passed
  var multiMode = Array.isArray(args[0]);

  if (!multiMode && args.length > 8) {
    throw new PolishedError(64);
  }

  var code = args.map(function (arg) {
    if (multiMode && !Array.isArray(arg) || !multiMode && Array.isArray(arg)) {
      throw new PolishedError(65);
    }

    if (Array.isArray(arg) && arg.length > 8) {
      throw new PolishedError(66);
    }

    return Array.isArray(arg) ? arg.join(' ') : arg;
  }).join(', ');
  return {
    animation: code
  };
}

function backgroundImages() {
  for (var _len = arguments.length, properties = new Array(_len), _key = 0; _key < _len; _key++) {
    properties[_key] = arguments[_key];
  }

  return {
    backgroundImage: properties.join(', ')
  };
}

function backgrounds() {
  for (var _len = arguments.length, properties = new Array(_len), _key = 0; _key < _len; _key++) {
    properties[_key] = arguments[_key];
  }

  return {
    background: properties.join(', ')
  };
}

var sideMap = ['top', 'right', 'bottom', 'left'];
/**
 * Shorthand for the border property that splits out individual properties for use with tools like Fela and Styletron. A side keyword can optionally be passed to target only one side's border properties.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   ...border('1px', 'solid', 'red')
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   ${border('1px', 'solid', 'red')}
 * `
 *
 * // CSS as JS Output
 *
 * div {
 *   'borderColor': 'red',
 *   'borderStyle': 'solid',
 *   'borderWidth': `1px`,
 * }
 *
 * // Styles as object usage
 * const styles = {
 *   ...border('top', '1px', 'solid', 'red')
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   ${border('top', '1px', 'solid', 'red')}
 * `
 *
 * // CSS as JS Output
 *
 * div {
 *   'borderTopColor': 'red',
 *   'borderTopStyle': 'solid',
 *   'borderTopWidth': `1px`,
 * }
 */

function border(sideKeyword) {
  for (var _len = arguments.length, values = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
    values[_key - 1] = arguments[_key];
  }

  if (typeof sideKeyword === 'string' && sideMap.indexOf(sideKeyword) >= 0) {
    var _ref;

    return _ref = {}, _ref["border" + capitalizeString(sideKeyword) + "Width"] = values[0], _ref["border" + capitalizeString(sideKeyword) + "Style"] = values[1], _ref["border" + capitalizeString(sideKeyword) + "Color"] = values[2], _ref;
  } else {
    values.unshift(sideKeyword);
    return {
      borderWidth: values[0],
      borderStyle: values[1],
      borderColor: values[2]
    };
  }
}

function borderColor() {
  for (var _len = arguments.length, values = new Array(_len), _key = 0; _key < _len; _key++) {
    values[_key] = arguments[_key];
  }

  return directionalProperty.apply(void 0, ['borderColor'].concat(values));
}

function borderRadius(side, radius) {
  var uppercaseSide = capitalizeString(side);

  if (!radius && radius !== 0) {
    throw new PolishedError(62);
  }

  if (uppercaseSide === 'Top' || uppercaseSide === 'Bottom') {
    var _ref;

    return _ref = {}, _ref["border" + uppercaseSide + "RightRadius"] = radius, _ref["border" + uppercaseSide + "LeftRadius"] = radius, _ref;
  }

  if (uppercaseSide === 'Left' || uppercaseSide === 'Right') {
    var _ref2;

    return _ref2 = {}, _ref2["borderTop" + uppercaseSide + "Radius"] = radius, _ref2["borderBottom" + uppercaseSide + "Radius"] = radius, _ref2;
  }

  throw new PolishedError(63);
}

function borderStyle() {
  for (var _len = arguments.length, values = new Array(_len), _key = 0; _key < _len; _key++) {
    values[_key] = arguments[_key];
  }

  return directionalProperty.apply(void 0, ['borderStyle'].concat(values));
}

function borderWidth() {
  for (var _len = arguments.length, values = new Array(_len), _key = 0; _key < _len; _key++) {
    values[_key] = arguments[_key];
  }

  return directionalProperty.apply(void 0, ['borderWidth'].concat(values));
}

function generateSelectors(template, state) {
  var stateSuffix = state ? ":" + state : '';
  return template(stateSuffix);
}
/**
 * Function helper that adds an array of states to a template of selectors. Used in textInputs and buttons.
 * @private
 */


function statefulSelectors(states, template, stateMap) {
  if (!template) throw new PolishedError(67);
  if (states.length === 0) return generateSelectors(template, null);
  var selectors = [];

  for (var i = 0; i < states.length; i += 1) {
    if (stateMap && stateMap.indexOf(states[i]) < 0) {
      throw new PolishedError(68);
    }

    selectors.push(generateSelectors(template, states[i]));
  }

  selectors = selectors.join(',');
  return selectors;
}

var stateMap = [undefined, null, 'active', 'focus', 'hover'];

function template(state) {
  return "button" + state + ",\n  input[type=\"button\"]" + state + ",\n  input[type=\"reset\"]" + state + ",\n  input[type=\"submit\"]" + state;
}
/**
 * Populates selectors that target all buttons. You can pass optional states to append to the selectors.
 * @example
 * // Styles as object usage
 * const styles = {
 *   [buttons('active')]: {
 *     'border': 'none'
 *   }
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   > ${buttons('active')} {
 *     border: none;
 *   }
 * `
 *
 * // CSS in JS Output
 *
 *  'button:active,
 *  'input[type="button"]:active,
 *  'input[type=\"reset\"]:active,
 *  'input[type=\"submit\"]:active: {
 *   'border': 'none'
 * }
 */


function buttons() {
  for (var _len = arguments.length, states = new Array(_len), _key = 0; _key < _len; _key++) {
    states[_key] = arguments[_key];
  }

  return statefulSelectors(states, template, stateMap);
}

function margin() {
  for (var _len = arguments.length, values = new Array(_len), _key = 0; _key < _len; _key++) {
    values[_key] = arguments[_key];
  }

  return directionalProperty.apply(void 0, ['margin'].concat(values));
}

function padding() {
  for (var _len = arguments.length, values = new Array(_len), _key = 0; _key < _len; _key++) {
    values[_key] = arguments[_key];
  }

  return directionalProperty.apply(void 0, ['padding'].concat(values));
}

var positionMap$1 = ['absolute', 'fixed', 'relative', 'static', 'sticky'];
/**
 * Shorthand accepts up to five values, including null to skip a value, and maps them to their respective directions. The first value can optionally be a position keyword.
 * @example
 * // Styles as object usage
 * const styles = {
 *   ...position('12px', '24px', '36px', '48px')
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   ${position('12px', '24px', '36px', '48px')}
 * `
 *
 * // CSS as JS Output
 *
 * div {
 *   'top': '12px',
 *   'right': '24px',
 *   'bottom': '36px',
 *   'left': '48px'
 * }
 *
 * // Styles as object usage
 * const styles = {
 *   ...position('absolute', '12px', '24px', '36px', '48px')
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   ${position('absolute', '12px', '24px', '36px', '48px')}
 * `
 *
 * // CSS as JS Output
 *
 * div {
 *   'position': 'absolute',
 *   'top': '12px',
 *   'right': '24px',
 *   'bottom': '36px',
 *   'left': '48px'
 * }
 */

function position(positionKeyword) {
  for (var _len = arguments.length, values = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
    values[_key - 1] = arguments[_key];
  }

  if (positionMap$1.indexOf(positionKeyword) >= 0) {
    return Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({
      position: positionKeyword
    }, directionalProperty.apply(void 0, [''].concat(values)));
  } else {
    var firstValue = positionKeyword; // in this case position is actually the first value

    return directionalProperty.apply(void 0, ['', firstValue].concat(values));
  }
}

function size(height, width) {
  if (width === void 0) {
    width = height;
  }

  return {
    height: height,
    width: width
  };
}

var stateMap$1 = [undefined, null, 'active', 'focus', 'hover'];

function template$1(state) {
  return "input[type=\"color\"]" + state + ",\n    input[type=\"date\"]" + state + ",\n    input[type=\"datetime\"]" + state + ",\n    input[type=\"datetime-local\"]" + state + ",\n    input[type=\"email\"]" + state + ",\n    input[type=\"month\"]" + state + ",\n    input[type=\"number\"]" + state + ",\n    input[type=\"password\"]" + state + ",\n    input[type=\"search\"]" + state + ",\n    input[type=\"tel\"]" + state + ",\n    input[type=\"text\"]" + state + ",\n    input[type=\"time\"]" + state + ",\n    input[type=\"url\"]" + state + ",\n    input[type=\"week\"]" + state + ",\n    input:not([type])" + state + ",\n    textarea" + state;
}
/**
 * Populates selectors that target all text inputs. You can pass optional states to append to the selectors.
 * @example
 * // Styles as object usage
 * const styles = {
 *   [textInputs('active')]: {
 *     'border': 'none'
 *   }
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   > ${textInputs('active')} {
 *     border: none;
 *   }
 * `
 *
 * // CSS in JS Output
 *
 *  'input[type="color"]:active,
 *  input[type="date"]:active,
 *  input[type="datetime"]:active,
 *  input[type="datetime-local"]:active,
 *  input[type="email"]:active,
 *  input[type="month"]:active,
 *  input[type="number"]:active,
 *  input[type="password"]:active,
 *  input[type="search"]:active,
 *  input[type="tel"]:active,
 *  input[type="text"]:active,
 *  input[type="time"]:active,
 *  input[type="url"]:active,
 *  input[type="week"]:active,
 *  input:not([type]):active,
 *  textarea:active': {
 *   'border': 'none'
 * }
 */


function textInputs() {
  for (var _len = arguments.length, states = new Array(_len), _key = 0; _key < _len; _key++) {
    states[_key] = arguments[_key];
  }

  return statefulSelectors(states, template$1, stateMap$1);
}

/**
 * Accepts any number of transition values as parameters for creating a single transition statement. You may also pass an array of properties as the first parameter that you would like to apply the same transition values to (second parameter).
 * @example
 * // Styles as object usage
 * const styles = {
 *   ...transitions('opacity 1.0s ease-in 0s', 'width 2.0s ease-in 2s'),
 *   ...transitions(['color', 'background-color'], '2.0s ease-in 2s')
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   ${transitions('opacity 1.0s ease-in 0s', 'width 2.0s ease-in 2s')};
 *   ${transitions(['color', 'background-color'], '2.0s ease-in 2s'),};
 * `
 *
 * // CSS as JS Output
 *
 * div {
 *   'transition': 'opacity 1.0s ease-in 0s, width 2.0s ease-in 2s'
 *   'transition': 'color 2.0s ease-in 2s, background-color 2.0s ease-in 2s',
 * }
 */

function transitions() {
  for (var _len = arguments.length, properties = new Array(_len), _key = 0; _key < _len; _key++) {
    properties[_key] = arguments[_key];
  }

  if (Array.isArray(properties[0]) && properties.length === 2) {
    var value = properties[1];

    if (typeof value !== 'string') {
      throw new PolishedError(61);
    }

    var transitionsString = properties[0].map(function (property) {
      return property + " " + value;
    }).join(', ');
    return {
      transition: transitionsString
    };
  } else {
    return {
      transition: properties.join(', ')
    };
  }
}




/***/ }),

/***/ "./node_modules/polished/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/polished/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js ***!
  \************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _assertThisInitialized; });
function _assertThisInitialized(self) {
  if (self === void 0) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }

  return self;
}

/***/ }),

/***/ "./node_modules/polished/node_modules/@babel/runtime/helpers/esm/construct.js":
/*!************************************************************************************!*\
  !*** ./node_modules/polished/node_modules/@babel/runtime/helpers/esm/construct.js ***!
  \************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _construct; });
/* harmony import */ var _setPrototypeOf__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./setPrototypeOf */ "./node_modules/polished/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js");


function isNativeReflectConstruct() {
  if (typeof Reflect === "undefined" || !Reflect.construct) return false;
  if (Reflect.construct.sham) return false;
  if (typeof Proxy === "function") return true;

  try {
    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));
    return true;
  } catch (e) {
    return false;
  }
}

function _construct(Parent, args, Class) {
  if (isNativeReflectConstruct()) {
    _construct = Reflect.construct;
  } else {
    _construct = function _construct(Parent, args, Class) {
      var a = [null];
      a.push.apply(a, args);
      var Constructor = Function.bind.apply(Parent, a);
      var instance = new Constructor();
      if (Class) Object(_setPrototypeOf__WEBPACK_IMPORTED_MODULE_0__["default"])(instance, Class.prototype);
      return instance;
    };
  }

  return _construct.apply(null, arguments);
}

/***/ }),

/***/ "./node_modules/polished/node_modules/@babel/runtime/helpers/esm/extends.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/polished/node_modules/@babel/runtime/helpers/esm/extends.js ***!
  \**********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _extends; });
function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

/***/ }),

/***/ "./node_modules/polished/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/polished/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js ***!
  \*****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _getPrototypeOf; });
function _getPrototypeOf(o) {
  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
    return o.__proto__ || Object.getPrototypeOf(o);
  };
  return _getPrototypeOf(o);
}

/***/ }),

/***/ "./node_modules/polished/node_modules/@babel/runtime/helpers/esm/inheritsLoose.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/polished/node_modules/@babel/runtime/helpers/esm/inheritsLoose.js ***!
  \****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _inheritsLoose; });
function _inheritsLoose(subClass, superClass) {
  subClass.prototype = Object.create(superClass.prototype);
  subClass.prototype.constructor = subClass;
  subClass.__proto__ = superClass;
}

/***/ }),

/***/ "./node_modules/polished/node_modules/@babel/runtime/helpers/esm/isNativeFunction.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/polished/node_modules/@babel/runtime/helpers/esm/isNativeFunction.js ***!
  \*******************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _isNativeFunction; });
function _isNativeFunction(fn) {
  return Function.toString.call(fn).indexOf("[native code]") !== -1;
}

/***/ }),

/***/ "./node_modules/polished/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/polished/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js ***!
  \*****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _setPrototypeOf; });
function _setPrototypeOf(o, p) {
  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
    o.__proto__ = p;
    return o;
  };

  return _setPrototypeOf(o, p);
}

/***/ }),

/***/ "./node_modules/polished/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteralLoose.js":
/*!*****************************************************************************************************!*\
  !*** ./node_modules/polished/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteralLoose.js ***!
  \*****************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _taggedTemplateLiteralLoose; });
function _taggedTemplateLiteralLoose(strings, raw) {
  if (!raw) {
    raw = strings.slice(0);
  }

  strings.raw = raw;
  return strings;
}

/***/ }),

/***/ "./node_modules/polished/node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/polished/node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js ***!
  \******************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _wrapNativeSuper; });
/* harmony import */ var _getPrototypeOf__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getPrototypeOf */ "./node_modules/polished/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _setPrototypeOf__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./setPrototypeOf */ "./node_modules/polished/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js");
/* harmony import */ var _isNativeFunction__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./isNativeFunction */ "./node_modules/polished/node_modules/@babel/runtime/helpers/esm/isNativeFunction.js");
/* harmony import */ var _construct__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./construct */ "./node_modules/polished/node_modules/@babel/runtime/helpers/esm/construct.js");




function _wrapNativeSuper(Class) {
  var _cache = typeof Map === "function" ? new Map() : undefined;

  _wrapNativeSuper = function _wrapNativeSuper(Class) {
    if (Class === null || !Object(_isNativeFunction__WEBPACK_IMPORTED_MODULE_2__["default"])(Class)) return Class;

    if (typeof Class !== "function") {
      throw new TypeError("Super expression must either be null or a function");
    }

    if (typeof _cache !== "undefined") {
      if (_cache.has(Class)) return _cache.get(Class);

      _cache.set(Class, Wrapper);
    }

    function Wrapper() {
      return Object(_construct__WEBPACK_IMPORTED_MODULE_3__["default"])(Class, arguments, Object(_getPrototypeOf__WEBPACK_IMPORTED_MODULE_0__["default"])(this).constructor);
    }

    Wrapper.prototype = Object.create(Class.prototype, {
      constructor: {
        value: Wrapper,
        enumerable: false,
        writable: true,
        configurable: true
      }
    });
    return Object(_setPrototypeOf__WEBPACK_IMPORTED_MODULE_1__["default"])(Wrapper, Class);
  };

  return _wrapNativeSuper(Class);
}

/***/ }),

/***/ "./node_modules/react-desc/lib/PropTypes.js":
/*!**************************************************!*\
  !*** ./node_modules/react-desc/lib/PropTypes.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

// array function should not be used here so that we can the local this
var addPropTypeDocumentationField = function addPropTypeDocumentationField(fieldName) {
  return function addFieldToReactDesc(value) {
    if (!this.reactDesc) {
      this.reactDesc = {};
    }
    this.reactDesc[fieldName] = value;
    return this;
  };
};

var documentedPropType = {
  defaultValue: addPropTypeDocumentationField('defaultValue'),
  description: addPropTypeDocumentationField('description'),
  deprecated: addPropTypeDocumentationField('deprecated'),
  format: addPropTypeDocumentationField('format')
};

var createPropType = function createPropType(type) {
  var propTypeObj = _extends({
    type: type
  }, documentedPropType);
  Object.defineProperty(propTypeObj, 'isRequired', {
    get: function getRequired() {
      if (!this.reactDesc) {
        this.reactDesc = {};
      }
      this.reactDesc.required = true;
      return this;
    },
    enumerable: true,
    configurable: true
  });
  return propTypeObj;
};

var createPropTypeWithArgs = function createPropTypeWithArgs(type) {
  return function (args) {
    var propTypeObj = _extends({
      args: args,
      type: type
    }, documentedPropType);
    Object.defineProperty(propTypeObj, 'isRequired', {
      get: function getRequired() {
        if (!this.reactDesc) {
          this.reactDesc = {};
        }
        this.reactDesc.required = true;
        return this;
      },
      enumerable: true,
      configurable: true
    });
    return propTypeObj;
  };
};

var PropTypes = {
  custom: function custom(callback) {
    var target = callback.bind(null);
    target.type = 'func';
    Object.keys(documentedPropType).forEach(function (fieldName) {
      target[fieldName] = documentedPropType[fieldName];
    });
    return target;
  }
};

function definePropType(type) {
  Object.defineProperty(PropTypes, type, {
    get: function getPropType() {
      return createPropType(type);
    },
    enumerable: true,
    configurable: true
  });
}

function definePropTypeWithArgs(type) {
  Object.defineProperty(PropTypes, type, {
    get: function getPropType() {
      return createPropTypeWithArgs(type);
    },
    enumerable: true,
    configurable: true
  });
}

definePropType('any');
definePropType('array');
definePropType('bool');
definePropType('element');
definePropType('func');
definePropType('node');
definePropType('number');
definePropType('object');
definePropType('symbol');
definePropType('string');

definePropTypeWithArgs('arrayOf');
definePropTypeWithArgs('instanceOf');
definePropTypeWithArgs('objectOf');
definePropTypeWithArgs('oneOfType');
definePropTypeWithArgs('oneOf');
definePropTypeWithArgs('shape');

exports.default = PropTypes;

/***/ }),

/***/ "./node_modules/react-desc/lib/descToJSON.js":
/*!***************************************************!*\
  !*** ./node_modules/react-desc/lib/descToJSON.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.default = descToJSON;

var arrayFormat = function arrayFormat(array, prefix) {
  return array.map(function (propType) {
    return propTypeFormat(propType, prefix);
  });
};

var shapeFormat = function shapeFormat(shape, prefix) {
  var props = Object.keys(shape).map(function (key) {
    var value = shape[key];
    var valueFormat = void 0;
    if (value.type && (value.type === 'arrayOf' || value.type === 'oneOfType' || value.type === 'oneOf') && Array.isArray(value.args)) {
      valueFormat = '\n' + propTypeFormat(value, prefix + '    ');
    } else if (value.type === 'shape') {
      valueFormat = '\n' + propTypeFormat(value, prefix + '    ');
    } else {
      valueFormat = propTypeFormat(value);
    }
    return prefix + '  ' + key + ': ' + valueFormat;
  });
  return prefix + '{\n' + props.join(',\n') + '\n' + prefix + '}';
};

var propTypeFormat = function propTypeFormat(propType) {
  var prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';

  var result = void 0;
  if (propType.type) {
    switch (propType.type) {
      case 'arrayOf':
        if (Array.isArray(propType.args)) {
          result = prefix + '[\n' + arrayFormat(propType.args, prefix + '  ').join('\n') + '\n' + prefix + ']';
        } else if (propType.args.type === 'oneOfType') {
          result = prefix + '[\n' + propTypeFormat(propType.args, prefix + '  ') + '\n' + prefix + ']';
        } else {
          result = prefix + '[' + propTypeFormat(propType.args) + ']';
        }
        break;
      case 'bool':
        result = prefix + 'boolean';
        break;
      case 'func':
        result = prefix + 'function';
        break;
      case 'instanceOf':
        result = prefix + 'new ' + propType.args.name + '(...)';
        break;
      case 'objectOf':
        result = prefix + '{ test: ' + propType.args.type + ', ... }';
        break;
      case 'oneOf':
        result = propType.args.map(function (a) {
          return '' + prefix + a;
        }).join('\n');
        break;
      case 'oneOfType':
        if (Array.isArray(propType.args)) {
          result = arrayFormat(propType.args, prefix).join('\n');
        } else {
          result = '' + prefix + propTypeFormat(propType.args);
        }
        break;
      case 'shape':
        result = '' + shapeFormat(propType.args, prefix);
        break;
      default:
        result = '' + prefix + propType.type;
        break;
    }
  } else {
    result = prefix + 'custom';
  }
  return result;
};

var propTypeAsJson = function propTypeAsJson(propType, propName, defaultValue) {
  var documentation = _extends({}, propType.reactDesc, {
    name: propName
  });

  if (defaultValue) {
    documentation.defaultValue = defaultValue;
  }

  documentation.format = documentation.format || propTypeFormat(propType);

  return documentation;
};

function descToJSON(component) {
  var reactDesc = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

  if (!component) {
    throw new Error('react-desc: component is required');
  }

  var documentation = _extends({
    name: component.displayName || component.name
  }, reactDesc);
  if (reactDesc) {
    delete documentation.propTypes;

    if (reactDesc.propTypes) {
      var propTypes = [];
      Object.keys(reactDesc.propTypes).forEach(function (propName) {
        var propType = reactDesc.propTypes[propName];
        propTypes.push(propTypeAsJson(propType, propName, (component.defaultProps || {})[propName]));
      });
      if (propTypes.length > 0) {
        documentation.properties = propTypes;
      }
    }
  }
  return documentation;
}

/***/ }),

/***/ "./node_modules/react-desc/lib/descToMarkdown.js":
/*!*******************************************************!*\
  !*** ./node_modules/react-desc/lib/descToMarkdown.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

exports.default = descToMarkdown;

var _descToJSON = __webpack_require__(/*! ./descToJSON */ "./node_modules/react-desc/lib/descToJSON.js");

var _descToJSON2 = _interopRequireDefault(_descToJSON);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var code = '```';

function parseAvailableAt(_ref) {
  var badge = _ref.badge,
      url = _ref.url;

  return '[![](' + badge + ')](' + url + ')';
}

function getAvailableAt(_ref2) {
  var availableAt = _ref2.availableAt;

  if (!availableAt) {
    return '';
  }
  var availableAtStr = void 0;
  if (Array.isArray(availableAt)) {
    availableAtStr = availableAt.map(function (currentAvailable) {
      return parseAvailableAt(currentAvailable);
    }).join(' ');
  } else {
    availableAtStr = parseAvailableAt(availableAt);
  }
  return '\n' + availableAtStr;
}

function getHeader(_ref3) {
  var description = _ref3.description,
      details = _ref3.details,
      deprecated = _ref3.deprecated,
      name = _ref3.name;

  return '## ' + (deprecated ? '~~' + name + '~~' : name) + (deprecated ? ' (' + deprecated + ')' : '') + '\n' + description + (details ? '\n\n' + details : '') + '\n';
}

function getUsage(_ref4) {
  var usage = _ref4.usage;

  return usage ? '\n## Usage\n\n' + code + 'javascript\n' + usage + '\n' + code : '';
}

function getDefaultValue(defaultValue) {
  var defaultValueString = (typeof defaultValue === 'undefined' ? 'undefined' : _typeof(defaultValue)) === 'object' ? JSON.stringify(defaultValue, undefined, 2) : defaultValue;

  return ' Defaults to `' + defaultValueString + '`.';
}

function getProperties(_ref5) {
  var _ref5$properties = _ref5.properties,
      properties = _ref5$properties === undefined ? [] : _ref5$properties;

  var props = properties.map(function (_ref6) {
    var defaultValue = _ref6.defaultValue,
        deprecated = _ref6.deprecated,
        description = _ref6.description,
        format = _ref6.format,
        name = _ref6.name,
        required = _ref6.required;
    return '\n' + (deprecated ? '**~~' + name + '~~**' : '**' + name + '**') + (deprecated ? ' (' + deprecated + ')' : '') + '\n\n' + (required ? 'Required. ' : '') + description + (defaultValue ? getDefaultValue(defaultValue) : '') + '\n\n' + code + '\n' + format + '\n' + code;
  });
  return '\n\n## Properties\n' + props.join('\n') + '\n  ';
}

function getIntrinsicElement(_ref7) {
  var intrinsicElement = _ref7.intrinsicElement;

  return intrinsicElement ? '\n## Intrinsic element\n\n' + code + '\n' + intrinsicElement + '\n' + code : '';
}

function descToMarkdown(component, reactDesc) {
  if (!component) {
    throw new Error('react-desc: component is required');
  }

  var documentation = (0, _descToJSON2.default)(component, reactDesc);
  var availableAt = getAvailableAt(documentation);
  var header = getHeader(documentation);
  var usage = getUsage(documentation);
  var properties = getProperties(documentation);
  var intrinsicElement = getIntrinsicElement(documentation);
  return '' + header + availableAt + usage + properties + intrinsicElement;
}

/***/ }),

/***/ "./node_modules/react-desc/lib/descToTypescript.js":
/*!*********************************************************!*\
  !*** ./node_modules/react-desc/lib/descToTypescript.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.default = descToTypescript;

var arrayFormat = function arrayFormat(array) {
  return array.map(function (propType) {
    return propTypeFormat(propType);
  });
};

var shapeFormat = function shapeFormat(shape) {
  var props = Object.keys(shape).map(function (key) {
    var value = shape[key];
    var valueFormat = void 0;
    if (value.type && (value.type === 'arrayOf' || value.type === 'oneOfType' || value.type === 'oneOf') && Array.isArray(value.args)) {
      valueFormat = '' + propTypeFormat(value);
    } else if (value.type === 'shape') {
      valueFormat = '' + propTypeFormat(value);
    } else {
      valueFormat = propTypeFormat(value);
    }
    return '' + key + (value.reactDesc && value.reactDesc.required ? '' : '?') + ': ' + valueFormat;
  });
  return '{' + props.join(',') + '}';
};

var propTypeFormat = function propTypeFormat(propType, joinWith) {
  var result = void 0;
  if (Array.isArray(propType)) {
    result = arrayFormat(propType).join(joinWith);
  } else if (typeof propType !== 'function' && propType.type) {
    switch (propType.type) {
      case 'array':
        result = 'any[]';
        break;
      case 'arrayOf':
        if (propType.args.type === 'oneOfType') {
          result = '(' + propTypeFormat(propType.args, ' | ') + ')[]';
        } else {
          result = propTypeFormat(propType.args, '\n') + '[]';
        }
        break;
      case 'bool':
        result = 'boolean';
        break;
      case 'func':
        result = '((...args: any[]) => any)';
        break;
      case 'node':
        result = 'React.ReactNode';
        break;
      case 'element':
        result = 'JSX.Element';
        break;
      case 'instanceOf':
        result = 'any';
        break;
      case 'symbol':
        result = 'any';
        break;
      case 'objectOf':
        result = '{ [key: string]: ' + propTypeFormat(propType.args) + ' }';
        break;
      case 'oneOf':
        result = propType.args.map(function (a) {
          return '"' + a + '"';
        }).join(' | ');
        break;
      case 'oneOfType':
        result = '' + propTypeFormat(propType.args, ' | ');
        break;
      case 'shape':
        result = '' + shapeFormat(propType.args);
        break;
      default:
        result = '' + propType.type;
        break;
    }
  } else {
    result = 'any';
  }
  return result;
};

var propTypeAsTypescript = function propTypeAsTypescript(propType, propName) {
  var documentation = _extends({}, propType.reactDesc, {
    name: propName
  });

  documentation.format = propTypeFormat(propType);

  return documentation;
};

function descToTypescript(component) {
  var reactDesc = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

  if (!component) {
    throw new Error('react-desc: component is required');
  }

  var documentation = _extends({
    name: component.displayName || component.name
  }, reactDesc);
  if (reactDesc) {
    delete documentation.propTypes;

    if (reactDesc.propTypes) {
      var propTypes = [];
      Object.keys(reactDesc.propTypes).forEach(function (propName) {
        var propType = reactDesc.propTypes[propName];
        propTypes.push(propTypeAsTypescript(propType, propName));
      });
      if (propTypes.length > 0) {
        documentation.properties = propTypes;
      }
    }
  }
  return documentation;
}

/***/ }),

/***/ "./node_modules/react-desc/lib/describe.js":
/*!*************************************************!*\
  !*** ./node_modules/react-desc/lib/describe.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = describe;

var _propTypes = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");

var _propTypes2 = _interopRequireDefault(_propTypes);

var _descToJSON = __webpack_require__(/*! ./descToJSON */ "./node_modules/react-desc/lib/descToJSON.js");

var _descToJSON2 = _interopRequireDefault(_descToJSON);

var _descToMarkdown = __webpack_require__(/*! ./descToMarkdown */ "./node_modules/react-desc/lib/descToMarkdown.js");

var _descToMarkdown2 = _interopRequireDefault(_descToMarkdown);

var _descToTypescript = __webpack_require__(/*! ./descToTypescript */ "./node_modules/react-desc/lib/descToTypescript.js");

var _descToTypescript2 = _interopRequireDefault(_descToTypescript);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var convertArray = function convertArray(array) {
  return array.map(function (type) {
    return convertPropType(type);
  });
};

var convertShape = function convertShape(shape) {
  var result = {};
  Object.keys(shape).forEach(function (key) {
    result[key] = convertPropType(shape[key]);
  });
  return result;
};

var convertPropType = function convertPropType(propType) {
  var result = void 0;
  if (propType && propType.type) {
    if (!_propTypes2.default[propType.type]) {
      throw new Error('react-desc: unknown type ' + propType.type);
    }
    if (propType.args) {
      if (propType.type === 'oneOfType' || propType.type === 'arrayOf') {
        if (Array.isArray(propType.args)) {
          result = _propTypes2.default[propType.type](convertArray(propType.args));
        } else {
          result = _propTypes2.default[propType.type](convertPropType(propType.args));
        }
      } else if (propType.type === 'shape') {
        result = _propTypes2.default[propType.type](convertShape(propType.args));
      } else {
        result = _propTypes2.default[propType.type](propType.args);
      }
    } else {
      result = _propTypes2.default[propType.type];
    }
  } else {
    result = propType;
  }
  return result;
};

function describe(ComponentInstance) {
  if (!ComponentInstance) {
    throw new Error('react-desc: component is required');
  }

  var documentation = {
    propTypes: {}
  };

  var DocumentedComponent = ComponentInstance;

  var addDocumentationProp = function addDocumentationProp(propName) {
    return function (value) {
      documentation[propName] = value;
      return DocumentedComponent;
    };
  };

  DocumentedComponent.availableAt = addDocumentationProp('availableAt');
  DocumentedComponent.description = addDocumentationProp('description');
  DocumentedComponent.details = addDocumentationProp('details');
  DocumentedComponent.deprecated = addDocumentationProp('deprecated');
  DocumentedComponent.usage = addDocumentationProp('usage');
  DocumentedComponent.intrinsicElement = addDocumentationProp('intrinsicElement');

  DocumentedComponent.toJSON = _descToJSON2.default.bind(null, ComponentInstance, documentation);
  DocumentedComponent.toTypescript = _descToTypescript2.default.bind(null, ComponentInstance, documentation);
  DocumentedComponent.toMarkdown = _descToMarkdown2.default.bind(null, ComponentInstance, documentation);

  Object.defineProperty(DocumentedComponent, 'propTypes', {
    get: function get() {
      return DocumentedComponent.propTypesValue;
    },
    set: function set(value) {
      if (!DocumentedComponent.propTypesValue) {
        DocumentedComponent.propTypesValue = {};
      }
      Object.keys(value).forEach(function (name) {
        var propType = value[name];
        if (propType.type) {
          documentation.propTypes[name] = propType;
          propType = convertPropType(propType);
          if (value[name].reactDesc.required) {
            propType = propType.isRequired;
          }
        }
        DocumentedComponent.propTypesValue[name] = propType;
        return propType;
      });
    },
    enumerable: true,
    configurable: true
  });

  return DocumentedComponent;
}

/***/ }),

/***/ "./node_modules/react-desc/lib/index.js":
/*!**********************************************!*\
  !*** ./node_modules/react-desc/lib/index.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _PropTypes = __webpack_require__(/*! ./PropTypes */ "./node_modules/react-desc/lib/PropTypes.js");

var _PropTypes2 = _interopRequireDefault(_PropTypes);

var _describe = __webpack_require__(/*! ./describe */ "./node_modules/react-desc/lib/describe.js");

var _describe2 = _interopRequireDefault(_describe);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.PropTypes = _PropTypes2.default;
exports.describe = _describe2.default;

exports.default = {
  describe: _describe2.default,
  PropTypes: _PropTypes2.default
};

/***/ }),

/***/ "./node_modules/react-viewport-utils/dist/index.es.js":
/*!************************************************************!*\
  !*** ./node_modules/react-viewport-utils/dist/index.es.js ***!
  \************************************************************/
/*! exports provided: ObserveBoundingClientRect, ObserveViewport, VERSION, ViewportProvider, cancelAnimationFrame, connectViewport, requestAnimationFrame, useDimensions, useDimensionsEffect, useLayoutSnapshot, useRect, useRectEffect, useScroll, useScrollEffect, useViewport, useViewportEffect */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObserveBoundingClientRect", function() { return ObserveBoundingClientRect; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObserveViewport", function() { return ObserveViewport; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "VERSION", function() { return VERSION; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewportProvider", function() { return ViewportProvider; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "cancelAnimationFrame", function() { return cancelAnimationFrame; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "connectViewport", function() { return connect; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "requestAnimationFrame", function() { return requestAnimationFrame; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useDimensions", function() { return useDimensions; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useDimensionsEffect", function() { return useDimensionsEffect; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useLayoutSnapshot", function() { return useLayoutSnapshot; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useRect", function() { return useRect; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useRectEffect", function() { return useRectEffect; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useScroll", function() { return useScroll; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useScrollEffect", function() { return useScrollEffect; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useViewport", function() { return useViewport; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useViewportEffect", function() { return useViewportEffect; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var memoize_one__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! memoize-one */ "./node_modules/memoize-one/dist/memoize-one.esm.js");



/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
/* global Reflect, Promise */

var extendStatics = function(d, b) {
    extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return extendStatics(d, b);
};

function __extends(d, b) {
    extendStatics(d, b);
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
}

var __assign = function() {
    __assign = Object.assign || function __assign(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};

function __spreadArrays() {
    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
    for (var r = Array(s), k = 0, i = 0; i < il; i++)
        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
            r[k] = a[j];
    return r;
}

var shallowEqualScroll = function (a, b) {
    if (a === b) {
        return true;
    }
    return (a.x === b.x &&
        a.y === b.y &&
        a.xTurn === b.xTurn &&
        a.yTurn === b.yTurn &&
        a.xDTurn === b.xDTurn &&
        a.yDTurn === b.yDTurn &&
        a.isScrollingUp === b.isScrollingUp &&
        a.isScrollingDown === b.isScrollingDown &&
        a.isScrollingLeft === b.isScrollingLeft &&
        a.isScrollingRight === b.isScrollingRight);
};
var shallowEqualRect = function (a, b) {
    if (a === b) {
        return true;
    }
    return (a.top === b.top &&
        a.right === b.right &&
        a.bottom === b.bottom &&
        a.left === b.left &&
        a.height === b.height &&
        a.width === b.width);
};
var shallowEqualDimensions = function (a, b) {
    if (a === b) {
        return true;
    }
    return (a.width === b.width &&
        a.height === b.height &&
        a.clientWidth === b.clientWidth &&
        a.clientHeight === b.clientHeight &&
        a.outerWidth === b.outerWidth &&
        a.outerHeight === b.outerHeight &&
        a.documentWidth === b.documentWidth &&
        a.documentHeight === b.documentHeight);
};
// implementation based on https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md
var browserSupportsPassiveEvents = (function () {
    if (typeof window === 'undefined') {
        return false;
    }
    var supportsPassive = false;
    try {
        var opts = Object.defineProperty({}, 'passive', {
            get: function () {
                supportsPassive = true;
            },
        });
        window.addEventListener('testPassive', null, opts);
        window.removeEventListener('testPassive', null, opts);
    }
    catch (e) {
        return false;
    }
    return supportsPassive;
})();
var simpleDebounce = function (fn, delay) {
    var timeout;
    return (function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        clearTimeout(timeout);
        timeout = setTimeout.apply(void 0, __spreadArrays([fn, delay], args));
    });
};
var debounceOnUpdate = function (fn, delay) {
    var timeout;
    var scrollDidUpdate = false;
    var dimensionsDidUpdate = false;
    return function (viewport, options) {
        clearTimeout(timeout);
        scrollDidUpdate = scrollDidUpdate || options.scrollDidUpdate;
        dimensionsDidUpdate = dimensionsDidUpdate || options.dimensionsDidUpdate;
        timeout = setTimeout(function () {
            fn(viewport, {
                scrollDidUpdate: scrollDidUpdate,
                dimensionsDidUpdate: dimensionsDidUpdate,
            });
            scrollDidUpdate = false;
            dimensionsDidUpdate = false;
        }, delay);
    };
};
var warnNoContextAvailable = function (location) {
    if (false) {}
    var fromHook = location.startsWith('use');
    if (fromHook) {
        console.warn("react-viewport-utils: " + location + " hook is not able to connect to a <ViewportProvider>. Therefore it cannot detect updates from the viewport and will not work as expected. To resolve this issue please add a <ViewportProvider> as a parent of the component using the hook, e.g. directly in the ReactDOM.render call:\n\nimport * as ReactDOM from 'react-dom';\nimport { ViewportProvider, " + location + " } from 'react-viewport-utils';\n\nconst MyComponent = () => {\n  " + location + "()\n  ...\n}\n\nReactDOM.render(\n  <ViewportProvider>\n    <main role=\"main\">\n      <MyComponent />\n    </main>\n  </ViewportProvider>,\n  document.getElementById('root')\n);");
        return;
    }
    console.warn("react-viewport-utils: " + location + " component is not able to connect to a <ViewportProvider>. Therefore it cannot detect updates from the viewport and will not work as expected. To resolve this issue please add a <ViewportProvider> as a parent of the <ObserveViewport> component, e.g. directly in the ReactDOM.render call:\n\nimport * as ReactDOM from 'react-dom';\nimport { ViewportProvider, ObserveViewport } from 'react-viewport-utils';\nReactDOM.render(\n  <ViewportProvider>\n    <main role=\"main\">\n      <ObserveViewport>\n        {({ scroll, dimensions }) => ...}\n      </ObserveViewport>\n    </main>\n  </ViewportProvider>,\n  document.getElementById('root')\n);");
};
var warnNoResizeObserver = function () {
    if (false) {}
    console.warn('react-viewport-utils: This browser does not support the ResizeObserver API, therefore not all possible resize events will be detected. In most of the cases this is not an issue and can be ignored. If its relevant to your application please consider adding a polyfill, e.g. https://www.npmjs.com/package/resize-observer-polyfill .');
};
var requestAnimationFrame = (function () {
    var fallback = function (callback) {
        return setTimeout(callback, 1000 / 60);
    };
    if (typeof window !== 'undefined') {
        return (window.requestAnimationFrame ||
            window.webkitRequestAnimationFrame ||
            window.mozRequestAnimationFrame ||
            fallback);
    }
    return fallback;
})();
var cancelAnimationFrame = (function () {
    if (typeof window !== 'undefined') {
        return (window.cancelAnimationFrame ||
            window.webkitCancelAnimationFrame ||
            window.webkitCancelRequestAnimationFrame ||
            clearTimeout);
    }
    return clearTimeout;
})();
var now = typeof performance !== 'undefined' && performance.now
    ? performance.now.bind(performance)
    : Date.now;
var createPerformanceMarker = function () {
    var start = now();
    return function () { return now() - start; };
};

var getClientDimensions = function () {
    if (typeof document === 'undefined' || !document.documentElement) {
        return createEmptyDimensionState();
    }
    var innerWidth = window.innerWidth, innerHeight = window.innerHeight, outerWidth = window.outerWidth, outerHeight = window.outerHeight;
    var _a = document.documentElement, clientWidth = _a.clientWidth, clientHeight = _a.clientHeight, scrollHeight = _a.scrollHeight, scrollWidth = _a.scrollWidth, offsetHeight = _a.offsetHeight, offsetWidth = _a.offsetWidth;
    return {
        width: innerWidth,
        height: innerHeight,
        clientWidth: clientWidth,
        clientHeight: clientHeight,
        outerWidth: outerWidth,
        outerHeight: outerHeight,
        documentWidth: Math.max(scrollWidth, offsetWidth, clientWidth),
        documentHeight: Math.max(scrollHeight, offsetHeight, clientHeight),
    };
};
var getNodeScroll = function (elem) {
    if (elem === void 0) { elem = window; }
    var scrollX = elem.scrollX, scrollY = elem.scrollY;
    if (scrollX === undefined) {
        scrollX = elem.pageXOffset;
    }
    if (scrollY === undefined) {
        scrollY = elem.pageYOffset;
    }
    return {
        x: scrollX,
        y: scrollY,
    };
};
var getClientScroll = function (prevScrollState) {
    if (prevScrollState === void 0) { prevScrollState = createEmptyScrollState(); }
    if (typeof window === 'undefined') {
        return createEmptyScrollState();
    }
    var _a = getNodeScroll(), x = _a.x, y = _a.y;
    var nextScrollState = __assign({}, prevScrollState);
    var prevIsScrollingLeft = prevScrollState.isScrollingLeft, prevIsScrollingUp = prevScrollState.isScrollingUp, prevXTurn = prevScrollState.xTurn, prevYTurn = prevScrollState.yTurn;
    nextScrollState.isScrollingLeft = isScrollingLeft(x, nextScrollState);
    nextScrollState.isScrollingRight = isScrollingRight(x, nextScrollState);
    nextScrollState.isScrollingUp = isScrollingUp(y, nextScrollState);
    nextScrollState.isScrollingDown = isScrollingDown(y, nextScrollState);
    nextScrollState.xTurn =
        nextScrollState.isScrollingLeft === prevIsScrollingLeft ? prevXTurn : x;
    nextScrollState.yTurn =
        nextScrollState.isScrollingUp === prevIsScrollingUp ? prevYTurn : y;
    nextScrollState.xDTurn = x - nextScrollState.xTurn;
    nextScrollState.yDTurn = y - nextScrollState.yTurn;
    nextScrollState.x = x;
    nextScrollState.y = y;
    return nextScrollState;
};
var isScrollingLeft = function (x, prev) {
    switch (true) {
        case x < prev.x:
            return true;
        case x > prev.x:
            return false;
        case x === prev.x:
            return prev.isScrollingLeft;
        default:
            throw new Error('Could not calculate isScrollingLeft');
    }
};
var isScrollingRight = function (x, prev) {
    switch (true) {
        case x > prev.x:
            return true;
        case x < prev.x:
            return false;
        case x === prev.x:
            return prev.isScrollingRight;
        default:
            throw new Error('Could not calculate isScrollingRight');
    }
};
var isScrollingUp = function (y, prev) {
    switch (true) {
        case y < prev.y:
            return true;
        case y > prev.y:
            return false;
        case y === prev.y:
            return prev.isScrollingUp;
        default:
            throw new Error('Could not calculate isScrollingUp');
    }
};
var isScrollingDown = function (y, prev) {
    switch (true) {
        case y > prev.y:
            return true;
        case y < prev.y:
            return false;
        case y === prev.y:
            return prev.isScrollingDown;
        default:
            throw new Error('Could not calculate isScrollingDown');
    }
};
var createEmptyScrollState = function () { return ({
    x: 0,
    y: 0,
    isScrollingUp: false,
    isScrollingDown: false,
    isScrollingLeft: false,
    isScrollingRight: false,
    xTurn: 0,
    yTurn: 0,
    xDTurn: 0,
    yDTurn: 0,
}); };
var createEmptyDimensionState = function () { return ({
    width: 0,
    height: 0,
    clientWidth: 0,
    clientHeight: 0,
    outerWidth: 0,
    outerHeight: 0,
    documentWidth: 0,
    documentHeight: 0,
}); };
var ViewportCollector = /** @class */ (function (_super) {
    __extends(ViewportCollector, _super);
    function ViewportCollector(props) {
        var _this = _super.call(this, props) || this;
        _this.tick = function () {
            if (_this) {
                if (_this.scrollMightHaveUpdated || _this.resizeMightHaveUpdated) {
                    _this.syncState();
                    _this.scrollMightHaveUpdated = false;
                    _this.resizeMightHaveUpdated = false;
                }
                _this.tickId = undefined;
            }
        };
        _this.handleScroll = function () {
            _this.scrollMightHaveUpdated = true;
            if (!_this.tickId) {
                _this.tickId = requestAnimationFrame(_this.tick);
            }
        };
        _this.handleResize = function () {
            _this.resizeMightHaveUpdated = true;
            if (!_this.tickId) {
                _this.tickId = requestAnimationFrame(_this.tick);
            }
        };
        _this.handleResizeDebounce = simpleDebounce(_this.handleResize, 88);
        _this.getPublicScroll = Object(memoize_one__WEBPACK_IMPORTED_MODULE_1__["default"])(function (scroll) { return (__assign({}, scroll)); }, function (_a, _b) {
            var a = _a[0];
            var b = _b[0];
            return shallowEqualScroll(a, b);
        });
        _this.getPublicDimensions = Object(memoize_one__WEBPACK_IMPORTED_MODULE_1__["default"])(function (dimensions) { return (__assign({}, dimensions)); }, function (_a, _b) {
            var a = _a[0];
            var b = _b[0];
            return shallowEqualDimensions(a, b);
        });
        _this.syncState = function () {
            if (_this.scrollMightHaveUpdated) {
                Object.assign(_this.scrollState, getClientScroll(_this.scrollState));
            }
            if (_this.resizeMightHaveUpdated) {
                Object.assign(_this.dimensionsState, getClientDimensions());
            }
            var scrollDidUpdate = _this.scrollMightHaveUpdated &&
                !shallowEqualScroll(_this.lastSyncedScrollState, _this.scrollState);
            var dimensionsDidUpdate = _this.resizeMightHaveUpdated &&
                !shallowEqualDimensions(_this.lastSyncedDimensionsState, _this.dimensionsState);
            if (scrollDidUpdate) {
                _this.lastSyncedScrollState = __assign({}, _this.scrollState);
            }
            if (dimensionsDidUpdate) {
                _this.lastSyncedDimensionsState = __assign({}, _this.dimensionsState);
            }
            if (scrollDidUpdate || dimensionsDidUpdate) {
                var publicState = _this.getPropsFromState();
                _this.props.onUpdate(publicState, {
                    scrollDidUpdate: scrollDidUpdate,
                    dimensionsDidUpdate: dimensionsDidUpdate,
                });
                _this.updateOnIdle(publicState, {
                    scrollDidUpdate: scrollDidUpdate,
                    dimensionsDidUpdate: dimensionsDidUpdate,
                });
            }
        };
        _this.updateOnIdle = debounceOnUpdate(function () {
            var _a;
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i] = arguments[_i];
            }
            if (typeof _this.props.onIdledUpdate === 'function') {
                (_a = _this.props).onIdledUpdate.apply(_a, args);
            }
        }, 166);
        _this.state = {
            parentProviderExists: false,
        };
        _this.scrollMightHaveUpdated = false;
        _this.resizeMightHaveUpdated = false;
        _this.scrollState = createEmptyScrollState();
        _this.dimensionsState = createEmptyDimensionState();
        _this.lastSyncedDimensionsState = __assign({}, _this.dimensionsState);
        _this.lastSyncedScrollState = __assign({}, _this.scrollState);
        _this.resizeObserver = null;
        return _this;
    }
    ViewportCollector.prototype.componentDidMount = function () {
        var options = browserSupportsPassiveEvents ? { passive: true } : false;
        window.addEventListener('scroll', this.handleScroll, options);
        window.addEventListener('resize', this.handleResizeDebounce, options);
        window.addEventListener('orientationchange', this.handleResizeDebounce, options);
        if (typeof window.ResizeObserver !== 'undefined') {
            this.resizeObserver = new window.ResizeObserver(this.handleResizeDebounce);
            this.resizeObserver.observe(document.body);
        }
        else {
            warnNoResizeObserver();
        }
        this.handleScroll();
        this.handleResize();
    };
    ViewportCollector.prototype.componentWillUnmount = function () {
        window.removeEventListener('scroll', this.handleScroll, false);
        window.removeEventListener('resize', this.handleResizeDebounce, false);
        window.removeEventListener('orientationchange', this.handleResizeDebounce, false);
        if (this.resizeObserver) {
            this.resizeObserver.disconnect();
            this.resizeObserver = null;
        }
        if (typeof this.tickId === 'number') {
            cancelAnimationFrame(this.tickId);
        }
    };
    ViewportCollector.prototype.getPropsFromState = function () {
        return {
            scroll: this.getPublicScroll(this.lastSyncedScrollState),
            dimensions: this.getPublicDimensions(this.lastSyncedDimensionsState),
        };
    };
    ViewportCollector.prototype.render = function () {
        return null;
    };
    return ViewportCollector;
}(react__WEBPACK_IMPORTED_MODULE_0__["PureComponent"]));

var createFallbackViewportRequester = function () {
    var defaultValue;
    var lastAccess = 0;
    return function () {
        if (!defaultValue || now() - lastAccess > 1000) {
            defaultValue = {
                scroll: getClientScroll(),
                dimensions: getClientDimensions(),
            };
            lastAccess = now();
        }
        return defaultValue;
    };
};
var ViewportContext = Object(react__WEBPACK_IMPORTED_MODULE_0__["createContext"])({
    removeViewportChangeListener: function (handler) { },
    scheduleReinitializeChangeHandler: function (handler) { },
    addViewportChangeListener: function (handler, options) { },
    getCurrentViewport: createFallbackViewportRequester(),
    hasRootProviderAsParent: false,
    version: '1.11.0',
});
var maxIterations = function (priority) {
    switch (priority) {
        case 'highest':
            return 0;
        case 'high':
            return 4;
        case 'normal':
            return 16;
        case 'low':
            return 64;
    }
};
var shouldSkipIteration = function (_a, budget) {
    var getPriority = _a.priority, averageExecutionCost = _a.averageExecutionCost, skippedIterations = _a.skippedIterations;
    var priority = getPriority();
    if (priority === 'highest') {
        return false;
    }
    if (priority !== 'low' && averageExecutionCost <= budget) {
        return false;
    }
    if (averageExecutionCost <= budget / 10) {
        return false;
    }
    var probability = skippedIterations / maxIterations(priority);
    if (probability >= 1) {
        return false;
    }
    return Math.random() > probability;
};
var ViewportProvider = /** @class */ (function (_super) {
    __extends(ViewportProvider, _super);
    function ViewportProvider(props) {
        var _this = _super.call(this, props) || this;
        _this.listeners = [];
        _this.triggerUpdateToListeners = function (state, _a, options) {
            var scrollDidUpdate = _a.scrollDidUpdate, dimensionsDidUpdate = _a.dimensionsDidUpdate;
            var getOverallDuration = createPerformanceMarker();
            var _b = Object.assign({ isIdle: false, shouldInitialize: false }, options), isIdle = _b.isIdle, shouldInitialize = _b.shouldInitialize;
            var updatableListeners = _this.listeners.filter(function (_a) {
                var notifyScroll = _a.notifyScroll, notifyDimensions = _a.notifyDimensions, notifyOnlyWhenIdle = _a.notifyOnlyWhenIdle, skippedIterations = _a.skippedIterations, initialized = _a.initialized;
                var needsUpdate = skippedIterations > 0;
                if (notifyOnlyWhenIdle() !== isIdle && !needsUpdate) {
                    return false;
                }
                if (shouldInitialize && !initialized) {
                    return true;
                }
                var updateForScroll = notifyScroll() && scrollDidUpdate;
                var updateForDimensions = notifyDimensions() && dimensionsDidUpdate;
                return updateForScroll || updateForDimensions;
            });
            if (_this.props.experimentalSchedulerEnabled) {
                if (!isIdle) {
                    var budget_1 = 16 / updatableListeners.length;
                    updatableListeners = updatableListeners.filter(function (listener) {
                        var skip = listener.initialized
                            ? shouldSkipIteration(listener, budget_1)
                            : false;
                        if (skip) {
                            listener.skippedIterations++;
                            return false;
                        }
                        listener.skippedIterations = 0;
                        return true;
                    });
                }
            }
            var layouts = updatableListeners.map(function (_a) {
                var recalculateLayoutBeforeUpdate = _a.recalculateLayoutBeforeUpdate;
                if (recalculateLayoutBeforeUpdate) {
                    var getDuration = createPerformanceMarker();
                    var layoutState = recalculateLayoutBeforeUpdate(state);
                    return [layoutState, getDuration()];
                }
                return null;
            });
            var overallJSHandlerTotalCost = 0;
            updatableListeners.forEach(function (listener, index) {
                var handler = listener.handler, averageExecutionCost = listener.averageExecutionCost, iterations = listener.iterations;
                var _a = layouts[index] || [null, 0], layout = _a[0], layoutCost = _a[1];
                var getDuration = createPerformanceMarker();
                handler(state, layout);
                var totalCost = layoutCost + getDuration();
                var diff = totalCost - averageExecutionCost;
                var i = iterations + 1;
                listener.averageExecutionCost = averageExecutionCost + diff / i;
                listener.iterations = i;
                listener.initialized = true;
                overallJSHandlerTotalCost += totalCost;
            });
            if (_this.props.experimentalSchedulerLayoutCalculatorEnabled &&
                updatableListeners.length) {
                setTimeout(function () {
                    var diffPerHandler = (getOverallDuration() - overallJSHandlerTotalCost) /
                        updatableListeners.length;
                    updatableListeners.forEach(function (listener) {
                        listener.averageExecutionCost =
                            listener.averageExecutionCost +
                                diffPerHandler / listener.iterations;
                    });
                }, 0);
            }
        };
        _this.addViewportChangeListener = function (handler, options) {
            _this.listeners.push(__assign({ handler: handler, iterations: 0, averageExecutionCost: 0, skippedIterations: 0, initialized: false }, options));
            _this.handleListenerUpdate();
        };
        _this.scheduleReinitializeChangeHandler = function (h) {
            var listener = _this.listeners.find(function (_a) {
                var handler = _a.handler;
                return handler === h;
            });
            if (listener && listener.initialized) {
                listener.initialized = false;
                _this.handleListenerUpdate();
            }
        };
        _this.removeViewportChangeListener = function (h) {
            _this.listeners = _this.listeners.filter(function (_a) {
                var handler = _a.handler;
                return handler !== h;
            });
            _this.handleListenerUpdate();
        };
        _this.collector = Object(react__WEBPACK_IMPORTED_MODULE_0__["createRef"])();
        _this.getCurrentDefaultViewport = createFallbackViewportRequester();
        _this.contextValue = {
            addViewportChangeListener: _this.addViewportChangeListener,
            removeViewportChangeListener: _this.removeViewportChangeListener,
            scheduleReinitializeChangeHandler: _this.scheduleReinitializeChangeHandler,
            getCurrentViewport: function () {
                if (!_this.collector.current) {
                    return _this.getCurrentDefaultViewport();
                }
                return _this.collector.current.getPropsFromState();
            },
            hasRootProviderAsParent: true,
            version: '1.11.0',
        };
        _this.renderChildren = function (props) {
            if (props.hasRootProviderAsParent) {
                if ( true &&
                    props.version !== '1.11.0') {
                    console.warn("react-viewport-utils: Two different versions of the react-viewport-utils library are used in the same react tree. This can lead to unexpected results as the versions might not be compatible.\nThe <ViewportProvider> of version " + props.version + " is currently used, another <ViewportProvider> of version 1.11.0 was detected but is ignored.\nThis is most probably due to some dependencies that use different versions of the react-viewport-utils library. You can check if an update is possible.");
                }
                return _this.props.children;
            }
            return (Object(react__WEBPACK_IMPORTED_MODULE_0__["createElement"])(react__WEBPACK_IMPORTED_MODULE_0__["Fragment"], null,
                _this.state.hasListeners && (Object(react__WEBPACK_IMPORTED_MODULE_0__["createElement"])(ViewportCollector, { ref: _this.collector, onUpdate: _this.triggerUpdateToListeners, onIdledUpdate: function (state, updates) {
                        return _this.triggerUpdateToListeners(state, updates, { isIdle: true });
                    } })),
                Object(react__WEBPACK_IMPORTED_MODULE_0__["createElement"])(ViewportContext.Provider, { value: _this.contextValue }, _this.props.children)));
        };
        _this.state = {
            hasListeners: false,
        };
        return _this;
    }
    ViewportProvider.prototype.componentWillUnmount = function () {
        if (typeof this.updateListenersTick === 'number') {
            clearTimeout(this.updateListenersTick);
        }
        if (typeof this.initializeListenersTick === 'number') {
            cancelAnimationFrame(this.initializeListenersTick);
        }
    };
    ViewportProvider.prototype.handleListenerUpdate = function () {
        var _this = this;
        if (this.updateListenersTick === undefined) {
            this.updateListenersTick = setTimeout(function () {
                var nextState = _this.listeners.length !== 0;
                if (_this.state.hasListeners !== nextState) {
                    _this.setState({
                        hasListeners: _this.listeners.length !== 0,
                    });
                }
                _this.updateListenersTick = undefined;
            }, 1);
        }
        if (this.initializeListenersTick === undefined) {
            this.initializeListenersTick = requestAnimationFrame(function () {
                if (_this.collector.current &&
                    _this.listeners.some(function (l) { return !l.initialized; })) {
                    _this.triggerUpdateToListeners(_this.collector.current.getPropsFromState(), {
                        dimensionsDidUpdate: false,
                        scrollDidUpdate: false,
                    }, {
                        isIdle: false,
                        shouldInitialize: true,
                    });
                }
                _this.initializeListenersTick = undefined;
            });
        }
    };
    ViewportProvider.prototype.render = function () {
        return (Object(react__WEBPACK_IMPORTED_MODULE_0__["createElement"])(ViewportContext.Consumer, null, this.renderChildren));
    };
    return ViewportProvider;
}(react__WEBPACK_IMPORTED_MODULE_0__["PureComponent"]));

var ObserveViewport = /** @class */ (function (_super) {
    __extends(ObserveViewport, _super);
    function ObserveViewport(props) {
        var _this = _super.call(this, props) || this;
        _this.handleViewportUpdate = function (viewport, layoutSnapshot) {
            if (_this.props.onUpdate) {
                _this.props.onUpdate(viewport, layoutSnapshot);
            }
            if (_this.props.children) {
                _this.syncState(viewport);
            }
        };
        _this.registerViewportListeners = function (_a) {
            var addViewportChangeListener = _a.addViewportChangeListener, removeViewportChangeListener = _a.removeViewportChangeListener, scheduleReinitializeChangeHandler = _a.scheduleReinitializeChangeHandler, hasRootProviderAsParent = _a.hasRootProviderAsParent, getCurrentViewport = _a.getCurrentViewport;
            if (!hasRootProviderAsParent) {
                warnNoContextAvailable('ObserveViewport');
                return null;
            }
            var shouldRegister = _this.removeViewportChangeListener !== removeViewportChangeListener;
            if (!shouldRegister) {
                return null;
            }
            if (_this.removeViewportChangeListener) {
                _this.removeViewportChangeListener(_this.handleViewportUpdate);
            }
            _this.removeViewportChangeListener = removeViewportChangeListener;
            _this.getCurrentViewport = getCurrentViewport;
            _this.scheduleReinitializeChangeHandler = scheduleReinitializeChangeHandler;
            addViewportChangeListener(_this.handleViewportUpdate, {
                notifyScroll: function () { return !_this.props.disableScrollUpdates; },
                notifyDimensions: function () { return !_this.props.disableDimensionsUpdates; },
                notifyOnlyWhenIdle: function () { return _this.props.deferUpdateUntilIdle; },
                priority: function () { return _this.props.priority; },
                recalculateLayoutBeforeUpdate: function (viewport) {
                    if (_this.props.recalculateLayoutBeforeUpdate) {
                        return _this.props.recalculateLayoutBeforeUpdate(viewport);
                    }
                    return null;
                },
            });
            if (_this.props.children) {
                _this.syncState(getCurrentViewport());
            }
            return null;
        };
        _this.state = {
            scroll: createEmptyScrollState(),
            dimensions: createEmptyDimensionState(),
        };
        return _this;
    }
    ObserveViewport.prototype.componentDidUpdate = function (prevProps) {
        var dimensionsBecameActive = !this.props.disableDimensionsUpdates &&
            prevProps.disableDimensionsUpdates;
        var scrollBecameActive = !this.props.disableScrollUpdates && prevProps.disableScrollUpdates;
        if (typeof this.scheduleReinitializeChangeHandler === 'function' &&
            (dimensionsBecameActive || scrollBecameActive)) {
            this.scheduleReinitializeChangeHandler(this.handleViewportUpdate);
        }
    };
    ObserveViewport.prototype.componentWillUnmount = function () {
        if (this.removeViewportChangeListener) {
            this.removeViewportChangeListener(this.handleViewportUpdate);
        }
        this.removeViewportChangeListener = undefined;
        this.scheduleReinitializeChangeHandler = undefined;
        if (typeof this.tickId === 'number') {
            cancelAnimationFrame(this.tickId);
        }
    };
    ObserveViewport.prototype.syncState = function (nextViewport) {
        var _this = this;
        if (this.tickId === undefined) {
            this.tickId = requestAnimationFrame(function () {
                _this.setState(nextViewport);
                _this.tickId = undefined;
            });
        }
    };
    Object.defineProperty(ObserveViewport.prototype, "optionNotifyScroll", {
        get: function () {
            return !this.props.disableScrollUpdates;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ObserveViewport.prototype, "optionNotifyDimensions", {
        get: function () {
            return !this.props.disableDimensionsUpdates;
        },
        enumerable: true,
        configurable: true
    });
    ObserveViewport.prototype.render = function () {
        var children = this.props.children;
        return (Object(react__WEBPACK_IMPORTED_MODULE_0__["createElement"])(react__WEBPACK_IMPORTED_MODULE_0__["Fragment"], null,
            Object(react__WEBPACK_IMPORTED_MODULE_0__["createElement"])(ViewportContext.Consumer, null, this.registerViewportListeners),
            children ? children(this.state) : null));
    };
    ObserveViewport.defaultProps = {
        disableScrollUpdates: false,
        disableDimensionsUpdates: false,
        deferUpdateUntilIdle: false,
        priority: 'normal',
    };
    return ObserveViewport;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]));

function connect(options) {
    if (options === void 0) { options = {}; }
    var deferUpdateUntilIdle = Boolean(options.deferUpdateUntilIdle);
    var omit = options.omit || [];
    var shouldOmitScroll = omit.indexOf('scroll') !== -1;
    var shouldOmitDimensions = omit.indexOf('dimensions') !== -1;
    return function (WrappedComponent) {
        var _a;
        var displayName = WrappedComponent.displayName || WrappedComponent.name || 'Component';
        return _a = /** @class */ (function (_super) {
                __extends(ConnectViewport, _super);
                function ConnectViewport() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                ConnectViewport.prototype.render = function () {
                    var _this = this;
                    return (Object(react__WEBPACK_IMPORTED_MODULE_0__["createElement"])(ObserveViewport, { disableScrollUpdates: shouldOmitScroll, disableDimensionsUpdates: shouldOmitDimensions, deferUpdateUntilIdle: deferUpdateUntilIdle }, function (_a) {
                        var scroll = _a.scroll, dimensions = _a.dimensions;
                        return (Object(react__WEBPACK_IMPORTED_MODULE_0__["createElement"])(WrappedComponent, __assign({ scroll: scroll, dimensions: dimensions }, _this.props)));
                    }));
                };
                return ConnectViewport;
            }(react__WEBPACK_IMPORTED_MODULE_0__["Component"])),
            _a.displayName = "connectViewport(" + displayName + ")",
            _a;
    };
}

/**
 * @deprecated Use useRect or useRectEffect instead as it provides better performance.
 */
var ObserveBoundingClientRect = /** @class */ (function (_super) {
    __extends(ObserveBoundingClientRect, _super);
    function ObserveBoundingClientRect(props) {
        var _this = _super.call(this, props) || this;
        _this.syncState = function () {
            var node = _this.props.node;
            if (!node || !node.current) {
                return;
            }
            var rect = _this.getRectFromNode();
            if (rect && !_this.state.isInitialized) {
                _this.setState(__assign(__assign({}, rect), { isInitialized: true }));
                return;
            }
            _this.setState(rect);
        };
        _this.state = {
            top: 0,
            right: 0,
            bottom: 0,
            left: 0,
            height: 0,
            width: 0,
            isInitialized: false,
        };
        return _this;
    }
    ObserveBoundingClientRect.prototype.componentDidMount = function () {
        this.tick(this.syncState);
    };
    ObserveBoundingClientRect.prototype.componentDidUpdate = function (prevProps, prevState) {
        var rect = this.getRectFromState();
        var prevRect = this.getRectFromState(prevState);
        if (!rect) {
            return;
        }
        if (this.props.onInit) {
            if (!prevState.isInitialized && this.state.isInitialized) {
                this.props.onInit(rect);
            }
        }
        if (this.props.onUpdate) {
            if (prevRect === null || !shallowEqualRect(rect, prevRect)) {
                this.props.onUpdate(rect);
            }
        }
    };
    ObserveBoundingClientRect.prototype.componentWillUnmount = function () {
        if (typeof this.tickId === 'number') {
            cancelAnimationFrame(this.tickId);
        }
    };
    ObserveBoundingClientRect.prototype.tick = function (updater) {
        var _this = this;
        this.tickId = requestAnimationFrame(function () {
            updater();
            _this.tick(updater);
        });
    };
    ObserveBoundingClientRect.prototype.getRectFromState = function (state) {
        if (state === void 0) { state = this.state; }
        if (!state.isInitialized) {
            return null;
        }
        return {
            height: state.height,
            width: state.width,
            top: state.top,
            bottom: state.bottom,
            left: state.left,
            right: state.right,
        };
    };
    ObserveBoundingClientRect.prototype.getRectFromNode = function () {
        var node = this.props.node;
        if (!node || !node.current) {
            return null;
        }
        var rect = node.current.getBoundingClientRect();
        return {
            height: rect.height,
            width: rect.width,
            top: rect.top,
            bottom: rect.bottom,
            left: rect.left,
            right: rect.right,
        };
    };
    ObserveBoundingClientRect.prototype.render = function () {
        var children = this.props.children;
        return typeof children === 'function'
            ? children(this.getRectFromState())
            : null;
    };
    return ObserveBoundingClientRect;
}(react__WEBPACK_IMPORTED_MODULE_0__["PureComponent"]));

function useViewportEffect(handleViewportChange, second, third) {
    var _a = Object(react__WEBPACK_IMPORTED_MODULE_0__["useContext"])(ViewportContext), addViewportChangeListener = _a.addViewportChangeListener, removeViewportChangeListener = _a.removeViewportChangeListener, hasRootProviderAsParent = _a.hasRootProviderAsParent;
    var _b = sortArgs(second, third), options = _b.options, deps = _b.deps;
    var memoOptions = useOptions(options);
    Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
        if (!hasRootProviderAsParent) {
            warnNoContextAvailable('useViewport');
            return;
        }
        addViewportChangeListener(handleViewportChange, {
            notifyScroll: function () { return !memoOptions.disableScrollUpdates; },
            notifyDimensions: function () { return !memoOptions.disableDimensionsUpdates; },
            notifyOnlyWhenIdle: function () { return Boolean(memoOptions.deferUpdateUntilIdle); },
            priority: function () { return memoOptions.priority || 'normal'; },
            recalculateLayoutBeforeUpdate: memoOptions.recalculateLayoutBeforeUpdate,
        });
        return function () { return removeViewportChangeListener(handleViewportChange); };
    }, __spreadArrays([
        addViewportChangeListener || null,
        removeViewportChangeListener || null
    ], deps));
}
var useViewport = function (options) {
    if (options === void 0) { options = {}; }
    var getCurrentViewport = Object(react__WEBPACK_IMPORTED_MODULE_0__["useContext"])(ViewportContext).getCurrentViewport;
    var _a = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(getCurrentViewport()), state = _a[0], setViewport = _a[1];
    useViewportEffect(function (viewport) { return setViewport(viewport); }, options);
    return state;
};
function useScrollEffect(effect, second, third) {
    var _a = sortArgs(second, third), options = _a.options, deps = _a.deps;
    useViewportEffect(function (viewport, snapshot) { return effect(viewport.scroll, snapshot); }, __assign({ disableDimensionsUpdates: true }, options), deps);
}
var useScroll = function (options) {
    if (options === void 0) { options = {}; }
    var scroll = useViewport(__assign({ disableDimensionsUpdates: true }, options)).scroll;
    return scroll;
};
function useDimensionsEffect(effect, second, third) {
    var _a = sortArgs(second, third), options = _a.options, deps = _a.deps;
    useViewportEffect(function (viewport, snapshot) { return effect(viewport.dimensions, snapshot); }, __assign({ disableScrollUpdates: true }, options), deps);
}
var useDimensions = function (options) {
    if (options === void 0) { options = {}; }
    var dimensions = useViewport(__assign({ disableScrollUpdates: true }, options)).dimensions;
    return dimensions;
};
var useRectEffect = function (effect, ref, options) {
    useViewportEffect(function (_, snapshot) { return effect(snapshot); }, __assign(__assign({}, options), { recalculateLayoutBeforeUpdate: function () {
            return ref.current ? ref.current.getBoundingClientRect() : null;
        } }), [ref.current]);
};
var useRect = function (ref, options) {
    return useLayoutSnapshot(function () { return (ref.current ? ref.current.getBoundingClientRect() : null); }, options, [ref.current]);
};
function useLayoutSnapshot(recalculateLayoutBeforeUpdate, second, third) {
    var _a = sortArgs(second, third), options = _a.options, deps = _a.deps;
    var _b = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(null), state = _b[0], setSnapshot = _b[1];
    useViewportEffect(function (_, snapshot) { return setSnapshot(snapshot); }, __assign(__assign({}, options), { recalculateLayoutBeforeUpdate: recalculateLayoutBeforeUpdate }), deps);
    return state;
}
var useOptions = function (o) {
    var optionsRef = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])(Object.create(null));
    for (var _i = 0, _a = Object.keys(optionsRef.current); _i < _a.length; _i++) {
        var key = _a[_i];
        delete optionsRef.current[key];
    }
    Object.assign(optionsRef.current, o);
    return optionsRef.current;
};
var sortArgs = function (first, second) {
    var options = {};
    if (first && !Array.isArray(first)) {
        options = first;
    }
    var deps = second || [];
    if (first && Array.isArray(first)) {
        deps = first;
    }
    return { deps: deps, options: options };
};

var VERSION = '1.11.0';


//# sourceMappingURL=index.es.js.map


/***/ }),

/***/ "./node_modules/recompose/dist/Recompose.esm.js":
/*!******************************************************!*\
  !*** ./node_modules/recompose/dist/Recompose.esm.js ***!
  \******************************************************/
/*! exports provided: mapProps, withProps, withPropsOnChange, withHandlers, defaultProps, renameProp, renameProps, flattenProp, withState, withStateHandlers, withReducer, branch, renderComponent, renderNothing, shouldUpdate, pure, onlyUpdateForKeys, onlyUpdateForPropTypes, withContext, getContext, lifecycle, toClass, toRenderProps, fromRenderProps, setStatic, setPropTypes, setDisplayName, compose, getDisplayName, wrapDisplayName, shallowEqual, isClassComponent, createSink, componentFromProp, nest, hoistStatics, componentFromStream, componentFromStreamWithConfig, mapPropsStream, mapPropsStreamWithConfig, createEventHandler, createEventHandlerWithConfig, setObservableConfig */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "mapProps", function() { return mapProps; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "withProps", function() { return withProps; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "withPropsOnChange", function() { return withPropsOnChange; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "withHandlers", function() { return withHandlers; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "defaultProps", function() { return defaultProps; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "renameProp", function() { return renameProp; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "renameProps", function() { return renameProps; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "flattenProp", function() { return flattenProp; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "withState", function() { return withState; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "withStateHandlers", function() { return withStateHandlers; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "withReducer", function() { return withReducer; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "branch", function() { return branch; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "renderComponent", function() { return renderComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "renderNothing", function() { return renderNothing; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "shouldUpdate", function() { return shouldUpdate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "pure", function() { return pure; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "onlyUpdateForKeys", function() { return onlyUpdateForKeys; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "onlyUpdateForPropTypes", function() { return onlyUpdateForPropTypes; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "withContext", function() { return withContext; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getContext", function() { return getContext; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "lifecycle", function() { return lifecycle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "toClass", function() { return toClass; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "toRenderProps", function() { return toRenderProps; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fromRenderProps", function() { return fromRenderProps; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setStatic", function() { return setStatic; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setPropTypes", function() { return setPropTypes; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setDisplayName", function() { return setDisplayName; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "compose", function() { return compose; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getDisplayName", function() { return getDisplayName; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "wrapDisplayName", function() { return wrapDisplayName; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isClassComponent", function() { return isClassComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createSink", function() { return createSink; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "componentFromProp", function() { return componentFromProp; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "nest", function() { return nest; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hoistStatics", function() { return hoistStatics; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "componentFromStream", function() { return componentFromStream; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "componentFromStreamWithConfig", function() { return componentFromStreamWithConfig; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "mapPropsStream", function() { return mapPropsStream; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "mapPropsStreamWithConfig", function() { return mapPropsStreamWithConfig; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createEventHandler", function() { return createEventHandler; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createEventHandlerWithConfig", function() { return createEventHandlerWithConfig; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setObservableConfig", function() { return configureObservable; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/esm/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var fbjs_lib_shallowEqual__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! fbjs/lib/shallowEqual */ "./node_modules/fbjs/lib/shallowEqual.js");
/* harmony import */ var fbjs_lib_shallowEqual__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(fbjs_lib_shallowEqual__WEBPACK_IMPORTED_MODULE_2__);
/* harmony reexport (default from non-harmony) */ __webpack_require__.d(__webpack_exports__, "shallowEqual", function() { return fbjs_lib_shallowEqual__WEBPACK_IMPORTED_MODULE_2___default.a; });
/* harmony import */ var _babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/esm/inheritsLoose */ "./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js");
/* harmony import */ var react_lifecycles_compat__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-lifecycles-compat */ "./node_modules/react-lifecycles-compat/react-lifecycles-compat.es.js");
/* harmony import */ var _babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectWithoutPropertiesLoose */ "./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js");
/* harmony import */ var hoist_non_react_statics__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! hoist-non-react-statics */ "./node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js");
/* harmony import */ var hoist_non_react_statics__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(hoist_non_react_statics__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var change_emitter__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! change-emitter */ "./node_modules/change-emitter/lib/index.js");
/* harmony import */ var change_emitter__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(change_emitter__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var symbol_observable__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! symbol-observable */ "./node_modules/symbol-observable/es/index.js");










var setStatic = function setStatic(key, value) {
  return function (BaseComponent) {
    /* eslint-disable no-param-reassign */
    BaseComponent[key] = value;
    /* eslint-enable no-param-reassign */

    return BaseComponent;
  };
};

var setDisplayName = function setDisplayName(displayName) {
  return setStatic('displayName', displayName);
};

var getDisplayName = function getDisplayName(Component$$1) {
  if (typeof Component$$1 === 'string') {
    return Component$$1;
  }

  if (!Component$$1) {
    return undefined;
  }

  return Component$$1.displayName || Component$$1.name || 'Component';
};

var wrapDisplayName = function wrapDisplayName(BaseComponent, hocName) {
  return hocName + "(" + getDisplayName(BaseComponent) + ")";
};

var mapProps = function mapProps(propsMapper) {
  return function (BaseComponent) {
    var factory = Object(react__WEBPACK_IMPORTED_MODULE_0__["createFactory"])(BaseComponent);

    var MapProps = function MapProps(props) {
      return factory(propsMapper(props));
    };

    if (true) {
      return setDisplayName(wrapDisplayName(BaseComponent, 'mapProps'))(MapProps);
    }

    return MapProps;
  };
};

var withProps = function withProps(input) {
  var hoc = mapProps(function (props) {
    return Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__["default"])({}, props, typeof input === 'function' ? input(props) : input);
  });

  if (true) {
    return function (BaseComponent) {
      return setDisplayName(wrapDisplayName(BaseComponent, 'withProps'))(hoc(BaseComponent));
    };
  }

  return hoc;
};

var pick = function pick(obj, keys) {
  var result = {};

  for (var i = 0; i < keys.length; i++) {
    var key = keys[i];

    if (obj.hasOwnProperty(key)) {
      result[key] = obj[key];
    }
  }

  return result;
};

var withPropsOnChange = function withPropsOnChange(shouldMapOrKeys, propsMapper) {
  return function (BaseComponent) {
    var factory = Object(react__WEBPACK_IMPORTED_MODULE_0__["createFactory"])(BaseComponent);
    var shouldMap = typeof shouldMapOrKeys === 'function' ? shouldMapOrKeys : function (props, nextProps) {
      return !fbjs_lib_shallowEqual__WEBPACK_IMPORTED_MODULE_2___default()(pick(props, shouldMapOrKeys), pick(nextProps, shouldMapOrKeys));
    };

    var WithPropsOnChange =
    /*#__PURE__*/
    function (_Component) {
      Object(_babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_3__["default"])(WithPropsOnChange, _Component);

      function WithPropsOnChange() {
        var _this;

        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }

        _this = _Component.call.apply(_Component, [this].concat(args)) || this;
        _this.state = {
          computedProps: propsMapper(_this.props),
          prevProps: _this.props
        };
        return _this;
      }

      WithPropsOnChange.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {
        if (shouldMap(prevState.prevProps, nextProps)) {
          return {
            computedProps: propsMapper(nextProps),
            prevProps: nextProps
          };
        }

        return {
          prevProps: nextProps
        };
      };

      var _proto = WithPropsOnChange.prototype;

      _proto.render = function render() {
        return factory(Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__["default"])({}, this.props, this.state.computedProps));
      };

      return WithPropsOnChange;
    }(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

    Object(react_lifecycles_compat__WEBPACK_IMPORTED_MODULE_4__["polyfill"])(WithPropsOnChange);

    if (true) {
      return setDisplayName(wrapDisplayName(BaseComponent, 'withPropsOnChange'))(WithPropsOnChange);
    }

    return WithPropsOnChange;
  };
};

var mapValues = function mapValues(obj, func) {
  var result = {};
  /* eslint-disable no-restricted-syntax */

  for (var key in obj) {
    if (obj.hasOwnProperty(key)) {
      result[key] = func(obj[key], key);
    }
  }
  /* eslint-enable no-restricted-syntax */


  return result;
};

var withHandlers = function withHandlers(handlers) {
  return function (BaseComponent) {
    var factory = Object(react__WEBPACK_IMPORTED_MODULE_0__["createFactory"])(BaseComponent);

    var WithHandlers =
    /*#__PURE__*/
    function (_Component) {
      Object(_babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_3__["default"])(WithHandlers, _Component);

      function WithHandlers() {
        var _this;

        for (var _len = arguments.length, _args = new Array(_len), _key = 0; _key < _len; _key++) {
          _args[_key] = arguments[_key];
        }

        _this = _Component.call.apply(_Component, [this].concat(_args)) || this;
        _this.handlers = mapValues(typeof handlers === 'function' ? handlers(_this.props) : handlers, function (createHandler) {
          return function () {
            var handler = createHandler(_this.props);

            if ( true && typeof handler !== 'function') {
              console.error( // eslint-disable-line no-console
              'withHandlers(): Expected a map of higher-order functions. ' + 'Refer to the docs for more info.');
            }

            return handler.apply(void 0, arguments);
          };
        });
        return _this;
      }

      var _proto = WithHandlers.prototype;

      _proto.render = function render() {
        return factory(Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__["default"])({}, this.props, this.handlers));
      };

      return WithHandlers;
    }(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

    if (true) {
      return setDisplayName(wrapDisplayName(BaseComponent, 'withHandlers'))(WithHandlers);
    }

    return WithHandlers;
  };
};

var defaultProps = function defaultProps(props) {
  return function (BaseComponent) {
    var factory = Object(react__WEBPACK_IMPORTED_MODULE_0__["createFactory"])(BaseComponent);

    var DefaultProps = function DefaultProps(ownerProps) {
      return factory(ownerProps);
    };

    DefaultProps.defaultProps = props;

    if (true) {
      return setDisplayName(wrapDisplayName(BaseComponent, 'defaultProps'))(DefaultProps);
    }

    return DefaultProps;
  };
};

var omit = function omit(obj, keys) {
  var rest = Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__["default"])({}, obj);

  for (var i = 0; i < keys.length; i++) {
    var key = keys[i];

    if (rest.hasOwnProperty(key)) {
      delete rest[key];
    }
  }

  return rest;
};

var renameProp = function renameProp(oldName, newName) {
  var hoc = mapProps(function (props) {
    var _extends2;

    return Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__["default"])({}, omit(props, [oldName]), (_extends2 = {}, _extends2[newName] = props[oldName], _extends2));
  });

  if (true) {
    return function (BaseComponent) {
      return setDisplayName(wrapDisplayName(BaseComponent, 'renameProp'))(hoc(BaseComponent));
    };
  }

  return hoc;
};

var keys = Object.keys;

var mapKeys = function mapKeys(obj, func) {
  return keys(obj).reduce(function (result, key) {
    var val = obj[key];
    /* eslint-disable no-param-reassign */

    result[func(val, key)] = val;
    /* eslint-enable no-param-reassign */

    return result;
  }, {});
};

var renameProps = function renameProps(nameMap) {
  var hoc = mapProps(function (props) {
    return Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__["default"])({}, omit(props, keys(nameMap)), mapKeys(pick(props, keys(nameMap)), function (_, oldName) {
      return nameMap[oldName];
    }));
  });

  if (true) {
    return function (BaseComponent) {
      return setDisplayName(wrapDisplayName(BaseComponent, 'renameProps'))(hoc(BaseComponent));
    };
  }

  return hoc;
};

var flattenProp = function flattenProp(propName) {
  return function (BaseComponent) {
    var factory = Object(react__WEBPACK_IMPORTED_MODULE_0__["createFactory"])(BaseComponent);

    var FlattenProp = function FlattenProp(props) {
      return factory(Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__["default"])({}, props, props[propName]));
    };

    if (true) {
      return setDisplayName(wrapDisplayName(BaseComponent, 'flattenProp'))(FlattenProp);
    }

    return FlattenProp;
  };
};

var withState = function withState(stateName, stateUpdaterName, initialState) {
  return function (BaseComponent) {
    var factory = Object(react__WEBPACK_IMPORTED_MODULE_0__["createFactory"])(BaseComponent);

    var WithState =
    /*#__PURE__*/
    function (_Component) {
      Object(_babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_3__["default"])(WithState, _Component);

      function WithState() {
        var _this;

        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }

        _this = _Component.call.apply(_Component, [this].concat(args)) || this;
        _this.state = {
          stateValue: typeof initialState === 'function' ? initialState(_this.props) : initialState
        };

        _this.updateStateValue = function (updateFn, callback) {
          return _this.setState(function (_ref) {
            var stateValue = _ref.stateValue;
            return {
              stateValue: typeof updateFn === 'function' ? updateFn(stateValue) : updateFn
            };
          }, callback);
        };

        return _this;
      }

      var _proto = WithState.prototype;

      _proto.render = function render() {
        var _extends2;

        return factory(Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__["default"])({}, this.props, (_extends2 = {}, _extends2[stateName] = this.state.stateValue, _extends2[stateUpdaterName] = this.updateStateValue, _extends2)));
      };

      return WithState;
    }(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

    if (true) {
      return setDisplayName(wrapDisplayName(BaseComponent, 'withState'))(WithState);
    }

    return WithState;
  };
};

var withStateHandlers = function withStateHandlers(initialState, stateUpdaters) {
  return function (BaseComponent) {
    var factory = Object(react__WEBPACK_IMPORTED_MODULE_0__["createFactory"])(BaseComponent);

    var WithStateHandlers =
    /*#__PURE__*/
    function (_Component) {
      Object(_babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_3__["default"])(WithStateHandlers, _Component);

      function WithStateHandlers() {
        var _this;

        for (var _len = arguments.length, _args = new Array(_len), _key = 0; _key < _len; _key++) {
          _args[_key] = arguments[_key];
        }

        _this = _Component.call.apply(_Component, [this].concat(_args)) || this;
        _this.state = typeof initialState === 'function' ? initialState(_this.props) : initialState;
        _this.stateUpdaters = mapValues(stateUpdaters, function (handler) {
          return function (mayBeEvent) {
            for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
              args[_key2 - 1] = arguments[_key2];
            }

            // Having that functional form of setState can be called async
            // we need to persist SyntheticEvent
            if (mayBeEvent && typeof mayBeEvent.persist === 'function') {
              mayBeEvent.persist();
            }

            _this.setState(function (state, props) {
              return handler(state, props).apply(void 0, [mayBeEvent].concat(args));
            });
          };
        });
        return _this;
      }

      var _proto = WithStateHandlers.prototype;

      _proto.render = function render() {
        return factory(Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__["default"])({}, this.props, this.state, this.stateUpdaters));
      };

      return WithStateHandlers;
    }(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

    if (true) {
      return setDisplayName(wrapDisplayName(BaseComponent, 'withStateHandlers'))(WithStateHandlers);
    }

    return WithStateHandlers;
  };
};

var noop = function noop() {};

var withReducer = function withReducer(stateName, dispatchName, reducer, initialState) {
  return function (BaseComponent) {
    var factory = Object(react__WEBPACK_IMPORTED_MODULE_0__["createFactory"])(BaseComponent);

    var WithReducer =
    /*#__PURE__*/
    function (_Component) {
      Object(_babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_3__["default"])(WithReducer, _Component);

      function WithReducer() {
        var _this;

        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }

        _this = _Component.call.apply(_Component, [this].concat(args)) || this;
        _this.state = {
          stateValue: _this.initializeStateValue()
        };

        _this.dispatch = function (action, callback) {
          if (callback === void 0) {
            callback = noop;
          }

          return _this.setState(function (_ref) {
            var stateValue = _ref.stateValue;
            return {
              stateValue: reducer(stateValue, action)
            };
          }, function () {
            return callback(_this.state.stateValue);
          });
        };

        return _this;
      }

      var _proto = WithReducer.prototype;

      _proto.initializeStateValue = function initializeStateValue() {
        if (initialState !== undefined) {
          return typeof initialState === 'function' ? initialState(this.props) : initialState;
        }

        return reducer(undefined, {
          type: '@@recompose/INIT'
        });
      };

      _proto.render = function render() {
        var _extends2;

        return factory(Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__["default"])({}, this.props, (_extends2 = {}, _extends2[stateName] = this.state.stateValue, _extends2[dispatchName] = this.dispatch, _extends2)));
      };

      return WithReducer;
    }(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

    if (true) {
      return setDisplayName(wrapDisplayName(BaseComponent, 'withReducer'))(WithReducer);
    }

    return WithReducer;
  };
};

var identity = function identity(Component$$1) {
  return Component$$1;
};

var branch = function branch(test, left, right) {
  if (right === void 0) {
    right = identity;
  }

  return function (BaseComponent) {
    var leftFactory;
    var rightFactory;

    var Branch = function Branch(props) {
      if (test(props)) {
        leftFactory = leftFactory || Object(react__WEBPACK_IMPORTED_MODULE_0__["createFactory"])(left(BaseComponent));
        return leftFactory(props);
      }

      rightFactory = rightFactory || Object(react__WEBPACK_IMPORTED_MODULE_0__["createFactory"])(right(BaseComponent));
      return rightFactory(props);
    };

    if (true) {
      return setDisplayName(wrapDisplayName(BaseComponent, 'branch'))(Branch);
    }

    return Branch;
  };
};

var renderComponent = function renderComponent(Component$$1) {
  return function (_) {
    var factory = Object(react__WEBPACK_IMPORTED_MODULE_0__["createFactory"])(Component$$1);

    var RenderComponent = function RenderComponent(props) {
      return factory(props);
    };

    if (true) {
      RenderComponent.displayName = wrapDisplayName(Component$$1, 'renderComponent');
    }

    return RenderComponent;
  };
};

var Nothing =
/*#__PURE__*/
function (_Component) {
  Object(_babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_3__["default"])(Nothing, _Component);

  function Nothing() {
    return _Component.apply(this, arguments) || this;
  }

  var _proto = Nothing.prototype;

  _proto.render = function render() {
    return null;
  };

  return Nothing;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

var renderNothing = function renderNothing(_) {
  return Nothing;
};

var shouldUpdate = function shouldUpdate(test) {
  return function (BaseComponent) {
    var factory = Object(react__WEBPACK_IMPORTED_MODULE_0__["createFactory"])(BaseComponent);

    var ShouldUpdate =
    /*#__PURE__*/
    function (_Component) {
      Object(_babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_3__["default"])(ShouldUpdate, _Component);

      function ShouldUpdate() {
        return _Component.apply(this, arguments) || this;
      }

      var _proto = ShouldUpdate.prototype;

      _proto.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {
        return test(this.props, nextProps);
      };

      _proto.render = function render() {
        return factory(this.props);
      };

      return ShouldUpdate;
    }(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

    if (true) {
      return setDisplayName(wrapDisplayName(BaseComponent, 'shouldUpdate'))(ShouldUpdate);
    }

    return ShouldUpdate;
  };
};

var pure = function pure(BaseComponent) {
  var hoc = shouldUpdate(function (props, nextProps) {
    return !fbjs_lib_shallowEqual__WEBPACK_IMPORTED_MODULE_2___default()(props, nextProps);
  });

  if (true) {
    return setDisplayName(wrapDisplayName(BaseComponent, 'pure'))(hoc(BaseComponent));
  }

  return hoc(BaseComponent);
};

var onlyUpdateForKeys = function onlyUpdateForKeys(propKeys) {
  var hoc = shouldUpdate(function (props, nextProps) {
    return !fbjs_lib_shallowEqual__WEBPACK_IMPORTED_MODULE_2___default()(pick(nextProps, propKeys), pick(props, propKeys));
  });

  if (true) {
    return function (BaseComponent) {
      return setDisplayName(wrapDisplayName(BaseComponent, 'onlyUpdateForKeys'))(hoc(BaseComponent));
    };
  }

  return hoc;
};

var onlyUpdateForPropTypes = function onlyUpdateForPropTypes(BaseComponent) {
  var propTypes = BaseComponent.propTypes;

  if (true) {
    if (!propTypes) {
      /* eslint-disable */
      console.error('A component without any `propTypes` was passed to ' + '`onlyUpdateForPropTypes()`. Check the implementation of the ' + ("component with display name \"" + getDisplayName(BaseComponent) + "\"."));
      /* eslint-enable */
    }
  }

  var propKeys = Object.keys(propTypes || {});
  var OnlyUpdateForPropTypes = onlyUpdateForKeys(propKeys)(BaseComponent);

  if (true) {
    return setDisplayName(wrapDisplayName(BaseComponent, 'onlyUpdateForPropTypes'))(OnlyUpdateForPropTypes);
  }

  return OnlyUpdateForPropTypes;
};

var withContext = function withContext(childContextTypes, getChildContext) {
  return function (BaseComponent) {
    var factory = Object(react__WEBPACK_IMPORTED_MODULE_0__["createFactory"])(BaseComponent);

    var WithContext =
    /*#__PURE__*/
    function (_Component) {
      Object(_babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_3__["default"])(WithContext, _Component);

      function WithContext() {
        var _this;

        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }

        _this = _Component.call.apply(_Component, [this].concat(args)) || this;

        _this.getChildContext = function () {
          return getChildContext(_this.props);
        };

        return _this;
      }

      var _proto = WithContext.prototype;

      _proto.render = function render() {
        return factory(this.props);
      };

      return WithContext;
    }(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

    WithContext.childContextTypes = childContextTypes;

    if (true) {
      return setDisplayName(wrapDisplayName(BaseComponent, 'withContext'))(WithContext);
    }

    return WithContext;
  };
};

var getContext = function getContext(contextTypes) {
  return function (BaseComponent) {
    var factory = Object(react__WEBPACK_IMPORTED_MODULE_0__["createFactory"])(BaseComponent);

    var GetContext = function GetContext(ownerProps, context) {
      return factory(Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__["default"])({}, ownerProps, context));
    };

    GetContext.contextTypes = contextTypes;

    if (true) {
      return setDisplayName(wrapDisplayName(BaseComponent, 'getContext'))(GetContext);
    }

    return GetContext;
  };
};

var lifecycle = function lifecycle(spec) {
  return function (BaseComponent) {
    var factory = Object(react__WEBPACK_IMPORTED_MODULE_0__["createFactory"])(BaseComponent);

    if ( true && spec.hasOwnProperty('render')) {
      console.error('lifecycle() does not support the render method; its behavior is to ' + 'pass all props and state to the base component.');
    }

    var Lifecycle =
    /*#__PURE__*/
    function (_Component) {
      Object(_babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_3__["default"])(Lifecycle, _Component);

      function Lifecycle() {
        return _Component.apply(this, arguments) || this;
      }

      var _proto = Lifecycle.prototype;

      _proto.render = function render() {
        return factory(Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__["default"])({}, this.props, this.state));
      };

      return Lifecycle;
    }(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

    Object.keys(spec).forEach(function (hook) {
      return Lifecycle.prototype[hook] = spec[hook];
    });

    if (true) {
      return setDisplayName(wrapDisplayName(BaseComponent, 'lifecycle'))(Lifecycle);
    }

    return Lifecycle;
  };
};

var isClassComponent = function isClassComponent(Component$$1) {
  return Boolean(Component$$1 && Component$$1.prototype && typeof Component$$1.prototype.render === 'function');
};

var toClass = function toClass(baseComponent) {
  var _class, _temp;

  return isClassComponent(baseComponent) ? baseComponent : (_temp = _class =
  /*#__PURE__*/
  function (_Component) {
    Object(_babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_3__["default"])(ToClass, _Component);

    function ToClass() {
      return _Component.apply(this, arguments) || this;
    }

    var _proto = ToClass.prototype;

    _proto.render = function render() {
      if (typeof baseComponent === 'string') {
        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(baseComponent, this.props);
      }

      return baseComponent(this.props, this.context);
    };

    return ToClass;
  }(react__WEBPACK_IMPORTED_MODULE_0__["Component"]), _class.displayName = getDisplayName(baseComponent), _class.propTypes = baseComponent.propTypes, _class.contextTypes = baseComponent.contextTypes, _class.defaultProps = baseComponent.defaultProps, _temp);
};

function toRenderProps(hoc) {
  var RenderPropsComponent = function RenderPropsComponent(props) {
    return props.children(props);
  };

  return hoc(RenderPropsComponent);
}

var fromRenderProps = function fromRenderProps(RenderPropsComponent, propsMapper, renderPropName) {
  if (renderPropName === void 0) {
    renderPropName = 'children';
  }

  return function (BaseComponent) {
    var baseFactory = react__WEBPACK_IMPORTED_MODULE_0___default.a.createFactory(BaseComponent);
    var renderPropsFactory = react__WEBPACK_IMPORTED_MODULE_0___default.a.createFactory(RenderPropsComponent);

    var FromRenderProps = function FromRenderProps(ownerProps) {
      var _renderPropsFactory;

      return renderPropsFactory((_renderPropsFactory = {}, _renderPropsFactory[renderPropName] = function () {
        return baseFactory(Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__["default"])({}, ownerProps, propsMapper.apply(void 0, arguments)));
      }, _renderPropsFactory));
    };

    if (true) {
      return setDisplayName(wrapDisplayName(BaseComponent, 'fromRenderProps'))(FromRenderProps);
    }

    return FromRenderProps;
  };
};

var setPropTypes = function setPropTypes(propTypes) {
  return setStatic('propTypes', propTypes);
};

var compose = function compose() {
  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {
    funcs[_key] = arguments[_key];
  }

  return funcs.reduce(function (a, b) {
    return function () {
      return a(b.apply(void 0, arguments));
    };
  }, function (arg) {
    return arg;
  });
};

var createSink = function createSink(callback) {
  var Sink =
  /*#__PURE__*/
  function (_Component) {
    Object(_babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_3__["default"])(Sink, _Component);

    function Sink() {
      var _this;

      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
        args[_key] = arguments[_key];
      }

      _this = _Component.call.apply(_Component, [this].concat(args)) || this;
      _this.state = {};
      return _this;
    }

    Sink.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps) {
      callback(nextProps);
      return null;
    };

    var _proto = Sink.prototype;

    _proto.render = function render() {
      return null;
    };

    return Sink;
  }(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

  Object(react_lifecycles_compat__WEBPACK_IMPORTED_MODULE_4__["polyfill"])(Sink);
  return Sink;
};

var componentFromProp = function componentFromProp(propName) {
  var Component$$1 = function Component$$1(props) {
    return Object(react__WEBPACK_IMPORTED_MODULE_0__["createElement"])(props[propName], omit(props, [propName]));
  };

  Component$$1.displayName = "componentFromProp(" + propName + ")";
  return Component$$1;
};

var nest = function nest() {
  for (var _len = arguments.length, Components = new Array(_len), _key = 0; _key < _len; _key++) {
    Components[_key] = arguments[_key];
  }

  var factories = Components.map(react__WEBPACK_IMPORTED_MODULE_0__["createFactory"]);

  var Nest = function Nest(_ref) {
    var children = _ref.children,
        props = Object(_babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_5__["default"])(_ref, ["children"]);

    return factories.reduceRight(function (child, factory) {
      return factory(props, child);
    }, children);
  };

  if (true) {
    var displayNames = Components.map(getDisplayName);
    Nest.displayName = "nest(" + displayNames.join(', ') + ")";
  }

  return Nest;
};

var hoistStatics = function hoistStatics(higherOrderComponent, blacklist) {
  return function (BaseComponent) {
    var NewComponent = higherOrderComponent(BaseComponent);
    hoist_non_react_statics__WEBPACK_IMPORTED_MODULE_6___default()(NewComponent, BaseComponent, blacklist);
    return NewComponent;
  };
};

var _config = {
  fromESObservable: null,
  toESObservable: null
};

var configureObservable = function configureObservable(c) {
  _config = c;
};

var config = {
  fromESObservable: function fromESObservable(observable) {
    return typeof _config.fromESObservable === 'function' ? _config.fromESObservable(observable) : observable;
  },
  toESObservable: function toESObservable(stream) {
    return typeof _config.toESObservable === 'function' ? _config.toESObservable(stream) : stream;
  }
};

var componentFromStreamWithConfig = function componentFromStreamWithConfig(config$$1) {
  return function (propsToVdom) {
    return (
      /*#__PURE__*/
      function (_Component) {
        Object(_babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_3__["default"])(ComponentFromStream, _Component);

        function ComponentFromStream() {
          var _config$fromESObserva;

          var _this;

          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }

          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _this.state = {
            vdom: null
          };
          _this.propsEmitter = Object(change_emitter__WEBPACK_IMPORTED_MODULE_7__["createChangeEmitter"])();
          _this.props$ = config$$1.fromESObservable((_config$fromESObserva = {
            subscribe: function subscribe(observer) {
              var unsubscribe = _this.propsEmitter.listen(function (props) {
                if (props) {
                  observer.next(props);
                } else {
                  observer.complete();
                }
              });

              return {
                unsubscribe: unsubscribe
              };
            }
          }, _config$fromESObserva[symbol_observable__WEBPACK_IMPORTED_MODULE_8__["default"]] = function () {
            return this;
          }, _config$fromESObserva));
          _this.vdom$ = config$$1.toESObservable(propsToVdom(_this.props$));
          return _this;
        }

        var _proto = ComponentFromStream.prototype;

        _proto.componentWillMount = function componentWillMount() {
          var _this2 = this;

          // Subscribe to child prop changes so we know when to re-render
          this.subscription = this.vdom$.subscribe({
            next: function next(vdom) {
              _this2.setState({
                vdom: vdom
              });
            }
          });
          this.propsEmitter.emit(this.props);
        };

        _proto.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {
          // Receive new props from the owner
          this.propsEmitter.emit(nextProps);
        };

        _proto.shouldComponentUpdate = function shouldComponentUpdate(nextProps, nextState) {
          return nextState.vdom !== this.state.vdom;
        };

        _proto.componentWillUnmount = function componentWillUnmount() {
          // Call without arguments to complete stream
          this.propsEmitter.emit(); // Clean-up subscription before un-mounting

          this.subscription.unsubscribe();
        };

        _proto.render = function render() {
          return this.state.vdom;
        };

        return ComponentFromStream;
      }(react__WEBPACK_IMPORTED_MODULE_0__["Component"])
    );
  };
};

var componentFromStream = function componentFromStream(propsToVdom) {
  return componentFromStreamWithConfig(config)(propsToVdom);
};

var identity$1 = function identity(t) {
  return t;
};

var mapPropsStreamWithConfig = function mapPropsStreamWithConfig(config$$1) {
  var componentFromStream$$1 = componentFromStreamWithConfig({
    fromESObservable: identity$1,
    toESObservable: identity$1
  });
  return function (transform) {
    return function (BaseComponent) {
      var factory = Object(react__WEBPACK_IMPORTED_MODULE_0__["createFactory"])(BaseComponent);
      var fromESObservable = config$$1.fromESObservable,
          toESObservable = config$$1.toESObservable;
      return componentFromStream$$1(function (props$) {
        var _ref;

        return _ref = {
          subscribe: function subscribe(observer) {
            var subscription = toESObservable(transform(fromESObservable(props$))).subscribe({
              next: function next(childProps) {
                return observer.next(factory(childProps));
              }
            });
            return {
              unsubscribe: function unsubscribe() {
                return subscription.unsubscribe();
              }
            };
          }
        }, _ref[symbol_observable__WEBPACK_IMPORTED_MODULE_8__["default"]] = function () {
          return this;
        }, _ref;
      });
    };
  };
};

var mapPropsStream = function mapPropsStream(transform) {
  var hoc = mapPropsStreamWithConfig(config)(transform);

  if (true) {
    return function (BaseComponent) {
      return setDisplayName(wrapDisplayName(BaseComponent, 'mapPropsStream'))(hoc(BaseComponent));
    };
  }

  return hoc;
};

var createEventHandlerWithConfig = function createEventHandlerWithConfig(config$$1) {
  return function () {
    var _config$fromESObserva;

    var emitter = Object(change_emitter__WEBPACK_IMPORTED_MODULE_7__["createChangeEmitter"])();
    var stream = config$$1.fromESObservable((_config$fromESObserva = {
      subscribe: function subscribe(observer) {
        var unsubscribe = emitter.listen(function (value) {
          return observer.next(value);
        });
        return {
          unsubscribe: unsubscribe
        };
      }
    }, _config$fromESObserva[symbol_observable__WEBPACK_IMPORTED_MODULE_8__["default"]] = function () {
      return this;
    }, _config$fromESObserva));
    return {
      handler: emitter.emit,
      stream: stream
    };
  };
};
var createEventHandler = createEventHandlerWithConfig(config);

// Higher-order component helpers




/***/ }),

/***/ "./node_modules/recompose/getDisplayName.js":
/*!**************************************************!*\
  !*** ./node_modules/recompose/getDisplayName.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
exports.default = void 0;

var getDisplayName = function getDisplayName(Component) {
  if (typeof Component === 'string') {
    return Component;
  }

  if (!Component) {
    return undefined;
  }

  return Component.displayName || Component.name || 'Component';
};

var _default = getDisplayName;
exports.default = _default;

/***/ }),

/***/ "./node_modules/symbol-observable/es/index.js":
/*!****************************************************!*\
  !*** ./node_modules/symbol-observable/es/index.js ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global, module) {/* harmony import */ var _ponyfill_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ponyfill.js */ "./node_modules/symbol-observable/es/ponyfill.js");
/* global window */


var root;

if (typeof self !== 'undefined') {
  root = self;
} else if (typeof window !== 'undefined') {
  root = window;
} else if (typeof global !== 'undefined') {
  root = global;
} else if (true) {
  root = module;
} else {}

var result = Object(_ponyfill_js__WEBPACK_IMPORTED_MODULE_0__["default"])(root);
/* harmony default export */ __webpack_exports__["default"] = (result);

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js"), __webpack_require__(/*! ./../../webpack/buildin/harmony-module.js */ "./node_modules/webpack/buildin/harmony-module.js")(module)))

/***/ }),

/***/ "./node_modules/symbol-observable/es/ponyfill.js":
/*!*******************************************************!*\
  !*** ./node_modules/symbol-observable/es/ponyfill.js ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return symbolObservablePonyfill; });
function symbolObservablePonyfill(root) {
	var result;
	var Symbol = root.Symbol;

	if (typeof Symbol === 'function') {
		if (Symbol.observable) {
			result = Symbol.observable;
		} else {
			result = Symbol('observable');
			Symbol.observable = result;
		}
	} else {
		result = '@@observable';
	}

	return result;
};


/***/ }),

/***/ "./node_modules/unquote/index.js":
/*!***************************************!*\
  !*** ./node_modules/unquote/index.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

var reg = /[\'\"]/

module.exports = function unquote(str) {
  if (!str) {
    return ''
  }
  if (reg.test(str.charAt(0))) {
    str = str.substr(1)
  }
  if (reg.test(str.charAt(str.length - 1))) {
    str = str.substr(0, str.length - 1)
  }
  return str
}


/***/ }),

/***/ "./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

var g;

// This works in non-strict mode
g = (function() {
	return this;
})();

try {
	// This works if eval is allowed (see CSP)
	g = g || new Function("return this")();
} catch (e) {
	// This works if the window reference is available
	if (typeof window === "object") g = window;
}

// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}

module.exports = g;


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHNMb29zZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2hhbmdlLWVtaXR0ZXIvbGliL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mYmpzL2xpYi9zaGFsbG93RXF1YWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQtaWNvbnMvU3R5bGVkSWNvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC1pY29ucy9kZWZhdWx0LXByb3BzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0LWljb25zL2ljb25zL0FjdGlvbnMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQtaWNvbnMvaWNvbnMvQ2xvc2VkQ2FwdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC1pY29ucy9pY29ucy9FeHBhbmQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQtaWNvbnMvaWNvbnMvRm9ybURvd24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQtaWNvbnMvaWNvbnMvRm9ybU5leHQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQtaWNvbnMvaWNvbnMvRm9ybVByZXZpb3VzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0LWljb25zL2ljb25zL0Zvcm1TZWFyY2guanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQtaWNvbnMvaWNvbnMvRm9ybVVwLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0LWljb25zL2ljb25zL05leHQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQtaWNvbnMvaWNvbnMvUGF1c2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQtaWNvbnMvaWNvbnMvUGxheS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC1pY29ucy9pY29ucy9QcmV2aW91cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC1pY29ucy9pY29ucy9TdWJ0cmFjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC1pY29ucy9pY29ucy9Wb2x1bWUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQtaWNvbnMvaWNvbnMvVm9sdW1lTG93LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0LWljb25zL3RoZW1lcy9iYXNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0LWljb25zL3RoZW1lcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC1pY29ucy91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC1zdHlsZXMvZXM2L2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0LXN0eWxlcy9lczYvc3R5bGVzL2NvbG9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0LXN0eWxlcy9lczYvc3R5bGVzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0LXN0eWxlcy9lczYvc3R5bGVzL3NpemUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQtc3R5bGVzL2VzNi91dGlscy9jb2xvcnMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQtc3R5bGVzL2VzNi91dGlscy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9BY2NvcmRpb24vQWNjb3JkaW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0FjY29yZGlvbi9BY2NvcmRpb25Db250ZXh0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0FjY29yZGlvbi9kb2MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvQWNjb3JkaW9uL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0FjY29yZGlvblBhbmVsL0FjY29yZGlvblBhbmVsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0FjY29yZGlvblBhbmVsL2RvYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9BY2NvcmRpb25QYW5lbC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9BbmNob3IvQW5jaG9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0FuY2hvci9TdHlsZWRBbmNob3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvQW5jaG9yL2RvYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9BbmNob3IvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvQm94L0JveC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9Cb3gvU3R5bGVkQm94LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0JveC9kb2MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvQm94L2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0J1dHRvbi9CdXR0b24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvQnV0dG9uL1N0eWxlZEJ1dHRvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9CdXR0b24vZG9jLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0J1dHRvbi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9DYWxlbmRhci9DYWxlbmRhci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9DYWxlbmRhci9TdHlsZWRDYWxlbmRhci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9DYWxlbmRhci9kb2MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvQ2FsZW5kYXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvQ2FsZW5kYXIvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvQ2Fyb3VzZWwvQ2Fyb3VzZWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvQ2Fyb3VzZWwvZG9jLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0Nhcm91c2VsL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0NoYXJ0L0NoYXJ0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0NoYXJ0L1N0eWxlZENoYXJ0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0NoYXJ0L2NhbGNzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0NoYXJ0L2RvYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9DaGFydC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9DaGFydC91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9DaGVja0JveC9DaGVja0JveC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9DaGVja0JveC9TdHlsZWRDaGVja0JveC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9DaGVja0JveC9kb2MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvQ2hlY2tCb3gvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvQ2xvY2svQW5hbG9nLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0Nsb2NrL0Nsb2NrLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0Nsb2NrL0RpZ2l0YWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvQ2xvY2svU3R5bGVkQ2xvY2suanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvQ2xvY2svZG9jLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0Nsb2NrL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0NvbGxhcHNpYmxlL0NvbGxhcHNpYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0NvbGxhcHNpYmxlL2RvYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9Db2xsYXBzaWJsZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9EYXRhVGFibGUvQm9keS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9EYXRhVGFibGUvQ2VsbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9EYXRhVGFibGUvRGF0YVRhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0RhdGFUYWJsZS9FeHBhbmRlckNlbGwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvRGF0YVRhYmxlL0Zvb3Rlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9EYXRhVGFibGUvR3JvdXBlZEJvZHkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvRGF0YVRhYmxlL0hlYWRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9EYXRhVGFibGUvUmVzaXplci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9EYXRhVGFibGUvU2VhcmNoZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvRGF0YVRhYmxlL1N0eWxlZERhdGFUYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9EYXRhVGFibGUvYnVpbGRTdGF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9EYXRhVGFibGUvZG9jLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0RhdGFUYWJsZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9EaWFncmFtL0RpYWdyYW0uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvRGlhZ3JhbS9TdHlsZWREaWFncmFtLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0RpYWdyYW0vZG9jLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0RpYWdyYW0vaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvRGlzdHJpYnV0aW9uL0Rpc3RyaWJ1dGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9EaXN0cmlidXRpb24vZG9jLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0Rpc3RyaWJ1dGlvbi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9Ecm9wL0Ryb3AuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvRHJvcC9Ecm9wQ29udGFpbmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0Ryb3AvU3R5bGVkRHJvcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9Ecm9wL2RvYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9Ecm9wL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0Ryb3BCdXR0b24vRHJvcEJ1dHRvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9Ecm9wQnV0dG9uL2RvYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9Ecm9wQnV0dG9uL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0ZvY3VzZWRDb250YWluZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvRm9vdGVyL0Zvb3Rlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9Gb290ZXIvZG9jLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0Zvb3Rlci9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9Gb3JtL0Zvcm0uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvRm9ybS9Gb3JtQ29udGV4dC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9Gb3JtL2RvYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9Gb3JtL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0Zvcm1GaWVsZC9Gb3JtRmllbGQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvRm9ybUZpZWxkL2RvYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9Gb3JtRmllbGQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvR3JpZC9HcmlkLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0dyaWQvU3R5bGVkR3JpZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9HcmlkL2RvYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9HcmlkL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0dyb21tZXQvR3JvbW1ldC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9Hcm9tbWV0L1N0eWxlZEdyb21tZXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvR3JvbW1ldC9kb2MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvR3JvbW1ldC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9IZWFkZXIvSGVhZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0hlYWRlci9kb2MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvSGVhZGVyL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0hlYWRpbmcvSGVhZGluZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9IZWFkaW5nL1N0eWxlZEhlYWRpbmcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvSGVhZGluZy9kb2MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvSGVhZGluZy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9JbWFnZS9JbWFnZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9JbWFnZS9TdHlsZWRJbWFnZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9JbWFnZS9kb2MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvSW1hZ2UvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvSW5maW5pdGVTY3JvbGwvSW5maW5pdGVTY3JvbGwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvSW5maW5pdGVTY3JvbGwvZG9jLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0luZmluaXRlU2Nyb2xsL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0tleWJvYXJkL0tleWJvYXJkLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0tleWJvYXJkL2RvYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9LZXlib2FyZC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9MYXllci9MYXllci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9MYXllci9MYXllckNvbnRhaW5lci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9MYXllci9TdHlsZWRMYXllci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9MYXllci9kb2MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvTGF5ZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvTGlzdC9MaXN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0xpc3QvZG9jLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0xpc3QvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvTWFpbi9NYWluLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL01haW4vZG9jLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL01haW4vaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvTWFya2Rvd24vTWFya2Rvd24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvTWFya2Rvd24vZG9jLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL01hcmtkb3duL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL01hc2tlZElucHV0L01hc2tlZElucHV0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL01hc2tlZElucHV0L1N0eWxlZE1hc2tlZElucHV0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL01hc2tlZElucHV0L2RvYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9NYXNrZWRJbnB1dC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9NZW51L01lbnUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvTWVudS9kb2MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvTWVudS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9NZXRlci9CYXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvTWV0ZXIvQ2lyY2xlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL01ldGVyL01ldGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL01ldGVyL1N0eWxlZE1ldGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL01ldGVyL2RvYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9NZXRlci9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9NZXRlci91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9QYXJhZ3JhcGgvUGFyYWdyYXBoLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1BhcmFncmFwaC9TdHlsZWRQYXJhZ3JhcGguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvUGFyYWdyYXBoL2RvYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9QYXJhZ3JhcGgvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvUmFkaW9CdXR0b24vUmFkaW9CdXR0b24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvUmFkaW9CdXR0b24vU3R5bGVkUmFkaW9CdXR0b24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvUmFkaW9CdXR0b24vZG9jLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1JhZGlvQnV0dG9uL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1JhZGlvQnV0dG9uR3JvdXAvUmFkaW9CdXR0b25Hcm91cC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9SYWRpb0J1dHRvbkdyb3VwL2RvYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9SYWRpb0J1dHRvbkdyb3VwL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1JhbmdlSW5wdXQvUmFuZ2VJbnB1dC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9SYW5nZUlucHV0L1N0eWxlZFJhbmdlSW5wdXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvUmFuZ2VJbnB1dC9kb2MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvUmFuZ2VJbnB1dC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9SYW5nZVNlbGVjdG9yL0VkZ2VDb250cm9sLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1JhbmdlU2VsZWN0b3IvUmFuZ2VTZWxlY3Rvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9SYW5nZVNlbGVjdG9yL2RvYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9SYW5nZVNlbGVjdG9yL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1JvdXRlZEFuY2hvci9Sb3V0ZWRBbmNob3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvUm91dGVkQW5jaG9yL2RvYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9Sb3V0ZWRBbmNob3IvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvUm91dGVkQnV0dG9uL1JvdXRlZEJ1dHRvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9Sb3V0ZWRCdXR0b24vZG9jLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1JvdXRlZEJ1dHRvbi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9TZWxlY3QvU2VsZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1NlbGVjdC9TZWxlY3RDb250YWluZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvU2VsZWN0L1NlbGVjdE9wdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9TZWxlY3QvU3R5bGVkU2VsZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1NlbGVjdC9kb2MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvU2VsZWN0L2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1NraXBMaW5rL1NraXBMaW5rLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1NraXBMaW5rL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1NraXBMaW5rVGFyZ2V0L1NraXBMaW5rVGFyZ2V0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1NraXBMaW5rVGFyZ2V0L2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1NraXBMaW5rcy9Ta2lwTGlua3MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvU2tpcExpbmtzL2RvYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9Ta2lwTGlua3MvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvU3RhY2svU3RhY2suanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvU3RhY2svU3R5bGVkU3RhY2suanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvU3RhY2svZG9jLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1N0YWNrL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1RhYi9TdHlsZWRUYWIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvVGFiL1RhYi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9UYWIvZG9jLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1RhYi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9UYWJsZS9TdHlsZWRUYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9UYWJsZS9UYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9UYWJsZS9UYWJsZUNvbnRleHQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvVGFibGUvZG9jLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1RhYmxlL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1RhYmxlQm9keS9UYWJsZUJvZHkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvVGFibGVCb2R5L2RvYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9UYWJsZUJvZHkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvVGFibGVDZWxsL1RhYmxlQ2VsbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9UYWJsZUNlbGwvZG9jLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1RhYmxlQ2VsbC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9UYWJsZUZvb3Rlci9UYWJsZUZvb3Rlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9UYWJsZUZvb3Rlci9kb2MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvVGFibGVGb290ZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvVGFibGVIZWFkZXIvVGFibGVIZWFkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvVGFibGVIZWFkZXIvZG9jLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1RhYmxlSGVhZGVyL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1RhYmxlUm93L1RhYmxlUm93LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1RhYmxlUm93L2RvYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9UYWJsZVJvdy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9UYWJzL1N0eWxlZFRhYnMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvVGFicy9UYWJzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1RhYnMvZG9jLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1RhYnMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvVGV4dC9TdHlsZWRUZXh0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1RleHQvVGV4dC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9UZXh0L2RvYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9UZXh0L2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1RleHRBcmVhL1N0eWxlZFRleHRBcmVhLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1RleHRBcmVhL1RleHRBcmVhLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1RleHRBcmVhL2RvYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9UZXh0QXJlYS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9UZXh0SW5wdXQvU3R5bGVkVGV4dElucHV0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1RleHRJbnB1dC9UZXh0SW5wdXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvVGV4dElucHV0L2RvYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9UZXh0SW5wdXQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvVmlkZW8vU3R5bGVkVmlkZW8uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvVmlkZW8vVmlkZW8uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvVmlkZW8vZG9jLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1ZpZGVvL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1dvcmxkTWFwL1N0eWxlZFdvcmxkTWFwLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1dvcmxkTWFwL1dvcmxkTWFwLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1dvcmxkTWFwL2RvYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9Xb3JsZE1hcC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9ob2NzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb250ZXh0cy9Bbm5vdW5jZUNvbnRleHQvQW5ub3VuY2VDb250ZXh0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb250ZXh0cy9Bbm5vdW5jZUNvbnRleHQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbnRleHRzL1Jlc3BvbnNpdmVDb250ZXh0L1Jlc3BvbnNpdmVDb250ZXh0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb250ZXh0cy9SZXNwb25zaXZlQ29udGV4dC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29udGV4dHMvVGhlbWVDb250ZXh0L1RoZW1lQ29udGV4dC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29udGV4dHMvVGhlbWVDb250ZXh0L2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb250ZXh0cy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvZGVmYXVsdC1wcm9wcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L3RoZW1lcy9iYXNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi90aGVtZXMvZGFyay5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvdGhlbWVzL2dyb21tZXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L3RoZW1lcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvdXRpbHMvRE9NLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi91dGlscy9iYWNrZ3JvdW5kLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi91dGlscy9ib3JkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L3V0aWxzL2NvbG9ycy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvdXRpbHMvZGVib3VuY2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L3V0aWxzL2dyYXBoaWNzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi91dGlscy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvdXRpbHMvbWl4aW5zLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi91dGlscy9vYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L3V0aWxzL3Byb3AtdHlwZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L3V0aWxzL3Jlc3BvbnNpdmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L3V0aWxzL3JvdXRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvdXRpbHMvc3R5bGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi91dGlscy90aGVtZURvY1V0aWxzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi91dGlscy90aHJvdHRsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9ub2RlX21vZHVsZXMvaG9pc3Qtbm9uLXJlYWN0LXN0YXRpY3MvZGlzdC9ob2lzdC1ub24tcmVhY3Qtc3RhdGljcy5janMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21hcmtkb3duLXRvLWpzeC9kaXN0L2VzbS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcG9saXNoZWQvZGlzdC9wb2xpc2hlZC5lcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcG9saXNoZWQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2Fzc2VydFRoaXNJbml0aWFsaXplZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcG9saXNoZWQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NvbnN0cnVjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcG9saXNoZWQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BvbGlzaGVkL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9nZXRQcm90b3R5cGVPZi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcG9saXNoZWQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzTG9vc2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BvbGlzaGVkL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pc05hdGl2ZUZ1bmN0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wb2xpc2hlZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2V0UHJvdG90eXBlT2YuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BvbGlzaGVkL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90YWdnZWRUZW1wbGF0ZUxpdGVyYWxMb29zZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcG9saXNoZWQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3dyYXBOYXRpdmVTdXBlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZGVzYy9saWIvUHJvcFR5cGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1kZXNjL2xpYi9kZXNjVG9KU09OLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1kZXNjL2xpYi9kZXNjVG9NYXJrZG93bi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZGVzYy9saWIvZGVzY1RvVHlwZXNjcmlwdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZGVzYy9saWIvZGVzY3JpYmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRlc2MvbGliL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC12aWV3cG9ydC11dGlscy9kaXN0L2luZGV4LmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWNvbXBvc2UvZGlzdC9SZWNvbXBvc2UuZXNtLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWNvbXBvc2UvZ2V0RGlzcGxheU5hbWUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N5bWJvbC1vYnNlcnZhYmxlL2VzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zeW1ib2wtb2JzZXJ2YWJsZS9lcy9wb255ZmlsbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdW5xdW90ZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQWU7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QUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxFQUFFLG9EQUFhLGNBQWMsRUFBRSxvREFBYSw4Qzs7Ozs7Ozs7Ozs7O0FDdEk3QztBQUFBO0FBQUE7QUFBQTs7Ozs7Ozs7Ozs7OztBQ0FBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDTztBQUNQLGtFQUFrRTtBQUNsRTtBQUNBOztBQUVBLHNEQUFzRDtBQUN0RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQSxFQUFFO0FBQ0Y7QUFDQTs7QUFFTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVB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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7O0FBRVY7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTOztBQUVULGtDQUFrQzs7O0FBR2xDO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDRDQUFLLGVBQWUsNkVBQTBCO0FBQ3pEO0FBQ0EsS0FBSyxFQUFFLDRDQUFLLGVBQWUsa0RBQVE7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssRUFBRSw0Q0FBSyxlQUFlLG9FQUFpQjtBQUM1QztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FB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QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUE0QjtBQUNLO0FBQ1I7QUFDSDtBQUNHO0FBQ0U7QUFDQTtBQUNIO0FBQ0c7QUFDSDtBQUNNO0FBQ0Y7QUFDRjtBQUNLO0FBQ1I7QUFDTTtBQUNKO0FBQ0Y7QUFDSztBQUNMO0FBQ0c7QUFDRDtBQUNDO0FBQ0Y7QUFDUztBQUNOO0FBQ0g7QUFDRDtBQUNBO0FBQ0k7QUFDRztBQUNQO0FBQ0M7QUFDSTtBQUNFO0FBQ0s7QUFDTjtBQUNHO0FBQ0Q7QUFDQTtBQUNOO0FBQ0U7QUFDQztBQUNLO0FBQ1Q7QUFDQTtBQUNJO0FBQ0E7QUFDRTtBQUNBO0FBQ0g7QUFDTDtBQUNDO0FBQ0E7QUFDSTtBQUNDO0FBQ0o7Ozs7Ozs7Ozs7Ozs7QUN4RHhCO0FBQUE7QUFBQTtBQUFBO0FBQTBCOztBQUUxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0EsRTs7Ozs7Ozs7Ozs7O0FDekJBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUF5QjtBQUNJO0FBQ0o7QUFDQTtBQUNFO0FBQ0w7QUFDSztBQUNFO0FBQ0o7QUFDQTtBQUNJO0FBQ0o7QUFDRTs7Ozs7Ozs7Ozs7OztBQ1ozQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUF3QztBQUNqQztBQUNQLGtDQUFrQyxhQUFvQjtBQUN0RDtBQUNBOztBQUVBO0FBQ0E7QUFDTztBQUNQLFNBQVMsNkRBQUcsa0JBQWtCLGlCQUFpQjtBQUMvQztBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNPO0FBQ1AsU0FBUyw2REFBRywyQkFBMkIsTUFBTTtBQUM3QztBQUNPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRTs7Ozs7Ozs7Ozs7O0FDM0NBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxxQkFBcUIsZ0RBQWdELGdCQUFnQixzQkFBc0IsT0FBTywyQkFBMkIsMEJBQTBCLHlEQUF5RCwyQkFBMkIsRUFBRSxFQUFFLEVBQUUsZUFBZSxHQUFHLHdDQUF3Qzs7QUFFcFQ7QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDTztBQUNQLDJGQUEyRixhQUFhO0FBQ3hHO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7OztBQUdILDBCQUEwQjs7QUFFMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQyxXQUFXO0FBQ1g7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxFOzs7Ozs7Ozs7Ozs7QUNoREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQXVDO0FBQ2hDLHdCQUF3QixvREFBUztBQUNqQyx5QkFBeUIsb0RBQVMsWUFBWSxvREFBUyxTQUFTLG9EQUFTO0FBQ2hGLFNBQVMsb0RBQVM7QUFDbEIsV0FBVyxvREFBUyxZQUFZLG9EQUFTLHNDQUFzQyxvREFBUztBQUN4RixDQUFDO0FBQ00sb0JBQW9CLG9EQUFTLFlBQVksb0RBQVMsU0FBUyxvREFBUztBQUMzRSxRQUFRLG9EQUFTO0FBQ2pCLFNBQVMsb0RBQVM7QUFDbEIsQ0FBQztBQUNEO0FBQ08saUJBQWlCLG9EQUFTLFlBQVksb0RBQVMsdUNBQXVDLG9EQUFTO0FBQ3RHLFVBQVUsb0RBQVMsWUFBWSxvREFBUyxzQkFBc0Isb0RBQVM7QUFDdkUsY0FBYyxvREFBUyxZQUFZLG9EQUFTLHNCQUFzQixvREFBUztBQUMzRSxRQUFRLG9EQUFTLFlBQVksb0RBQVMsc0JBQXNCLG9EQUFTO0FBQ3JFLFNBQVMsb0RBQVMsWUFBWSxvREFBUyxzQkFBc0Isb0RBQVM7QUFDdEUsT0FBTyxvREFBUyxZQUFZLG9EQUFTLHNCQUFzQixvREFBUztBQUNwRSxZQUFZLG9EQUFTLFlBQVksb0RBQVMsc0JBQXNCLG9EQUFTO0FBQ3pFLENBQUMsR0FBRyxvREFBUztBQUNOO0FBQ1A7QUFDQSxhQUFhLG9EQUFTO0FBQ3RCLFlBQVksb0RBQVM7QUFDckI7QUFDQTtBQUNPLDZCQUE2QixvREFBUyxZQUFZLG9EQUFTLE9BQU8sb0RBQVMsU0FBUyxvREFBUyx3QkFBd0Isb0RBQVM7QUFDckksU0FBUyxvREFBUztBQUNsQixRQUFRLG9EQUFTLFlBQVksb0RBQVMsT0FBTyxvREFBUztBQUN0RCxTQUFTLG9EQUFTO0FBQ2xCLFNBQVMsb0RBQVM7QUFDbEIsWUFBWSxvREFBUztBQUNyQixXQUFXLG9EQUFTLFlBQVksb0RBQVMsU0FBUyxvREFBUyxPQUFPLG9EQUFTLFNBQVMsb0RBQVM7QUFDN0YsVUFBVSxvREFBUyxZQUFZLG9EQUFTLGlDQUFpQyxvREFBUztBQUNsRixRQUFRLG9EQUFTLFlBQVksb0RBQVMsOEJBQThCLG9EQUFTO0FBQzdFLENBQUMsSTs7Ozs7Ozs7Ozs7O0FDbENEO0FBQUE7QUFBQTtBQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ087QUFDUDtBQUNBLEU7Ozs7Ozs7Ozs7OztBQzFCQTtBQUFBO0FBQUE7QUFBQTtBQUF1QztBQUNoQztBQUNQLFFBQVEsb0RBQVM7QUFDakIsVUFBVSxvREFBUztBQUNuQixFOzs7Ozs7Ozs7Ozs7QUNKQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBd0M7QUFDRTtBQUNtQjtBQUN0RCxnQkFBZ0IsNkRBQUcsb0JBQW9CLGVBQWUsaUJBQWlCLGlCQUFpQiwyQkFBMkIsOEJBQThCLDBCQUEwQixrQ0FBa0MsbUNBQW1DO0FBQ3ZQO0FBQ0EsQ0FBQztBQUNEO0FBQ0EsQ0FBQztBQUNEO0FBQ0EsQ0FBQztBQUNEO0FBQ0EsQ0FBQztBQUNELGlFQUFpRSw2REFBRyxtQkFBbUIsV0FBVyxJQUFJLDhEQUFjLG1DQUFtQyw4REFBYztBQUNySyxDQUFDO0FBQ00seUJBQXlCLDZEQUFHLDBCQUEwQixtQkFBbUI7QUFDaEY7QUFDQSxDQUFDO0FBQ0QsU0FBUyw4REFBYztBQUN2QixDQUFDO0FBQ0Q7QUFDQSxDQUFDO0FBQ007QUFDUDs7QUFFQTtBQUNBLFdBQVcsNkRBQUcsYUFBYSxLQUFLLDBFQUEwRSwrREFBZSxrRkFBa0Y7QUFDM007O0FBRUE7O0FBRUE7QUFDQSxnQkFBZ0IsNkRBQUcsa0JBQWtCLGdCQUFnQixLQUFLLGlLQUFpSywrREFBZSw2R0FBNkcsZ0dBQWdHO0FBQ3ZiOztBQUVBO0FBQ0EsZ0JBQWdCLDZEQUFHLGlCQUFpQixpQkFBaUIsS0FBSyx5SkFBeUosK0RBQWUsd0dBQXdHLDZGQUE2RjtBQUN2YTs7QUFFQTtBQUNBLGdCQUFnQiw2REFBRyxpQkFBaUIsS0FBSyxrRkFBa0YsK0RBQWUsOEZBQThGO0FBQ3hPOztBQUVBO0FBQ0EsZ0JBQWdCLDZEQUFHLG9CQUFvQixLQUFLLHdGQUF3RiwrREFBZSx1R0FBdUc7QUFDMVA7O0FBRUE7QUFDQSxnQkFBZ0IsNkRBQUcsa0JBQWtCLEtBQUssb0ZBQW9GLCtEQUFlLGlHQUFpRztBQUM5Tzs7QUFFQTtBQUNBLGdCQUFnQiw2REFBRyxtQkFBbUIsS0FBSyxzRkFBc0YsK0RBQWUsb0dBQW9HO0FBQ3BQOztBQUVBO0FBQ0EsRUFBRTs7QUFFSyxpQkFBaUIsNkRBQUcsZ0VBQWdFLHdCQUF3QixtQkFBbUIsa0JBQWtCLDRCQUE0QixtQkFBbUIsVUFBVTtBQUNqTixTQUFTLDhEQUFjO0FBQ3ZCLENBQUM7QUFDRCxTQUFTLDhEQUFjO0FBQ3ZCLENBQUM7QUFDRCxTQUFTLDhEQUFjO0FBQ3ZCLENBQUM7QUFDRCxTQUFTLDhEQUFjO0FBQ3ZCLENBQUM7QUFDTSxpQkFBaUIsNkRBQUcseUJBQXlCLGtCQUFrQixvQkFBb0IsWUFBWSx3QkFBd0IsZUFBZSxhQUFhLHVCQUF1QixjQUFjLGNBQWMscUNBQXFDLHlCQUF5QjtBQUMzUSxTQUFTLGdFQUFnQixxQ0FBcUMsZ0VBQWdCO0FBQzlFLENBQUM7QUFDRCw0Q0FBNEMsNkRBQUcsb0JBQW9CO0FBQ25FLENBQUM7QUFDRDtBQUNBLENBQUM7QUFDTTtBQUNQO0FBQ0EsV0FBVyw2REFBRyxpQkFBaUI7QUFDL0I7O0FBRUEsU0FBUyw2REFBRyxhQUFhLDRFQUE0RSx1RUFBdUU7QUFDNUs7QUFDQSx1QkFBdUIsNkRBQUcsY0FBYztBQUN4QztBQUNBLENBQUM7QUFDTSx1QkFBdUIsNkRBQUcsZ0NBQWdDLE1BQU0sb0JBQW9CLE1BQU0sd0JBQXdCLE1BQU0sMERBQTBEOztBQUVsTDtBQUNQO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sb0JBQW9CLDZEQUFHO0FBQzlCLGlGQUFpRjtBQUNqRixDQUFDO0FBQ0QsOERBQThEO0FBQzlELENBQUM7QUFDRDtBQUNBLENBQUM7QUFDTTtBQUNQLFNBQVMsNkRBQUcsZ0JBQWdCLGVBQWU7QUFDM0M7QUFDQSxHQUFHO0FBQ0g7QUFDTztBQUNQLFNBQVMsNkRBQUcsYUFBYTtBQUN6QixFOzs7Ozs7Ozs7Ozs7QUNsSEE7QUFBQTtBQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsY0FBYyw0Q0FBNEMsZ0lBQWdJLG9CQUFvQix1TUFBdU0sZ0JBQWdCLHdMQUF3TCxRQUFRLGdCQUFnQiwrQkFBK0IsZ0JBQWdCLE1BQU07QUFDbHNCO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsaUJBQWlCLDROQUE0TixNQUFNO0FBQzNRO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLDhCQUE4QjtBQUNyRDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qiw4QkFBOEI7QUFDckQsc0JBQXNCLGdDQUFnQztBQUN0RDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEU7Ozs7Ozs7Ozs7OztBQ3RFQTtBQUFBO0FBQUEsWUFBWSxTQUFJOztBQUVoQjtBQUNPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx1RUFBdUUsYUFBYTtBQUNwRjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRTs7Ozs7Ozs7Ozs7O0FDaENhOztBQUViLGNBQWMsbUJBQU8sQ0FBQyxrREFBVTs7QUFFaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLG1CQUFtQixpQkFBaUI7QUFDcEM7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7Ozs7Ozs7Ozs7Ozs7QUNuR0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSx3Q0FBd0MsY0FBYyxtQkFBbUIseUZBQXlGLFNBQVMsaUZBQWlGLGdCQUFnQixhQUFhLHFHQUFxRyx1Q0FBdUMsU0FBUyx1RkFBdUYsU0FBK0QsK0JBQStCLGs4QkFBazhCLHNCQUFzQiwwREFBMEQsK0lBQStJLFNBQVMsR0FBRyxJQUFJLElBQUksTUFBTSwyREFBMkQsR0FBRywrQ0FBK0MsR0FBRywrREFBK0QsR0FBRyx1Q0FBdUMsR0FBRyx5Q0FBeUMsR0FBRyxHQUFHLEdBQUcsZ0VBQWdFLEVBQUUsdVFBQXVRLElBQUksY0FBYyxJQUFJLHVDQUF1QyxHQUFHLHlGQUF5RixFQUFFLDZGQUE2RiwrTUFBK00sSUFBSSx3REFBd0QscWlCQUFxaUIsR0FBRyxJQUFJLEdBQUcsMGlCQUEwaUIsb0JBQW9CLEdBQUcsaVpBQWlaLEdBQUcsOG5CQUE4bkIsZ0NBQWdDLHVDQUF1QyxpQkFBaUIsRUFBRSxvQkFBb0IsNlNBQTZTLG1DQUFtQywyQ0FBMkMsZ0ZBQWdGLDhCQUE4QixnQkFBZ0IsYUFBYSxvQkFBb0IsWUFBWSxXQUFXLCtCQUErQiwyTUFBMk0sSUFBSSw0QkFBNEIsZ0RBQWdELHFDQUFxQyxnQ0FBZ0MsMkJBQTJCLHlCQUF5Qiw0QkFBNEIsRUFBRSwyQkFBMkIsWUFBWSxzRkFBc0Ysb0JBQW9CLHVDQUF1Qyw0QkFBNEIsMEJBQTBCLEVBQUUsc0JBQXNCLGtDQUFrQyxxQkFBcUIsMEdBQTBHLHVCQUF1QixLQUFLLDJDQUEyQyw2QkFBNkIsMkJBQTJCLG9FQUFvRSwwQkFBMEIsRUFBRSx5Q0FBeUMsR0FBRyw2R0FBNkcsZ0NBQWdDLGlGQUFpRixzQkFBc0IsZ0JBQWdCLGtCQUFrQixFQUFFLGFBQWEsV0FBVyxFQUFFLG1DQUFtQyxNQUFNLFdBQVcsd0JBQXdCLHFCQUFxQix1Q0FBdUMsTUFBTSxJQUFJLFNBQVMscUJBQXFCLE9BQU8sS0FBbUMsd0JBQXdCLGlCQUFpQixNQUFtQyx1R0FBdUcsdUJBQXVCLDhCQUE4QiwwQkFBMEIsZ0JBQWdCLG9DQUFvQyx3QkFBd0IscUJBQXFCLGdDQUFnQyw4QkFBOEIscUJBQXFCLDBDQUEwQyx1QkFBdUIscUJBQXFCLDBDQUEwQywwQkFBMEIsbUJBQW1CLGtCQUFrQixxQkFBcUIsdUJBQXVCLFVBQVUsbUJBQW1CLDhCQUE4QixXQUFXLEtBQUssUUFBUSxxQ0FBcUMsb0NBQW9DLGlCQUFpQixpQkFBaUIsd0JBQXdCLElBQUksNEJBQTRCLHNDQUFzQyxLQUFtQyx1R0FBdUcsU0FBUyxPQUFPLEtBQW1DLHlIQUF5SCxTQUFTLHdCQUF3QixzQ0FBc0MsNEJBQTRCLGtDQUFrQyx3QkFBd0IsYUFBYSwrQkFBK0Isa0NBQWtDLGtDQUFrQyx3QkFBd0IsYUFBYSwrQkFBK0IsMkJBQTJCLGlDQUFpQyxtQ0FBbUMsT0FBTywrQkFBK0IsMEJBQTBCLFNBQVMseUJBQXlCLFlBQVksdUJBQXVCLHVCQUF1QiwrQkFBK0IsY0FBYywwQ0FBMEMsSUFBSSxzQkFBc0IsbUNBQW1DLG9CQUFvQiwyQkFBMkIsaUNBQWlDLFdBQVcsWUFBWSxxQkFBcUIsZUFBZSxtSUFBbUksOEdBQXFILHVCQUF1QixnQkFBZ0IsdUNBQXVDLDRDQUE0QyxJQUFJLHdCQUF3Qix3REFBd0QsTUFBTSxpREFBaUQsY0FBYyxjQUFjLFNBQVMsNEVBQTRFLDRFQUE0RSxTQUFTLFlBQVksZ0NBQWdDLFlBQVksYUFBYSxZQUFZLDBEQUEwRCxZQUFZLGtCQUFrQixZQUFZLElBQUksY0FBYyxnQ0FBZ0Msa0NBQWtDLHFCQUFxQixXQUFXLG1EQUFtRCw4Q0FBTyxpR0FBaUcsMkVBQTJFLDRDQUFLLDJCQUEyQixNQUFNLEdBQUcsMkNBQTJDLFNBQVMsR0FBRyxTQUFTLE9BQU8sNEJBQTRCLHFGQUFxRixnRUFBZ0UsdUJBQXVCLDRDQUFLLGVBQWUsR0FBRyxJQUFtQyxFQUFFLDRIQUE0SCxrUUFBa1EsZ0RBQWdELGlMQUFpTCxnQ0FBZ0MsR0FBRyxhQUFhLElBQUksWUFBWSxpRkFBaUYsT0FBTyxnRUFBZ0UseUJBQXlCLHVCQUF1QixVQUFVLGtCQUFrQixZQUFZLHlHQUF5RyxlQUFlLFVBQVUsR0FBRyxnQkFBZ0IsMEdBQTBHLGVBQWUsVUFBVSxHQUFHLFlBQVksNEVBQTRFLHVCQUF1QixFQUFFLDJCQUEyQixPQUFPLHVCQUF1Qix5QkFBeUIsZ0JBQWdCLFVBQVUsV0FBVyxtQ0FBbUMsY0FBYyxhQUFhLG1GQUFtRixPQUFPLGtEQUFrRCxhQUFhLG9GQUFvRixPQUFPLGNBQWMseUJBQXlCLGlCQUFpQixVQUFVLGFBQWEsV0FBVywwRUFBMEUsZUFBZSw4QkFBOEIsS0FBSyxxQkFBcUIsb0JBQW9CLHNGQUFzRixPQUFPLDhCQUE4Qix5QkFBeUIsY0FBYyxxQ0FBcUMsVUFBVSxVQUFVLGNBQWMsVUFBVSw0RUFBNEUsT0FBTyxvQ0FBb0MseUJBQXlCLGtCQUFrQiwwREFBMEQsR0FBRyxVQUFVLDhFQUE4RSxPQUFPLG9FQUFvRSx5QkFBeUIsa0JBQWtCLFlBQVksa0JBQWtCLGtCQUFrQixnQkFBZ0Isb0ZBQW9GLE9BQU8sb0VBQW9FLFlBQVksNEZBQTRGLG1OQUFtTixPQUFPLG1FQUFtRSx5QkFBeUIseUJBQXlCLFVBQVUsb0RBQW9ELGNBQWMsaUZBQWlGLFNBQVMscUJBQXFCLGtCQUFrQiwrRkFBK0YsT0FBTyw0QkFBNEIseUJBQXlCLDBCQUEwQixVQUFVLFVBQVUsSUFBSSxRQUFRLCtFQUErRSxPQUFPLDhDQUE4Qyx5QkFBeUIsZ0JBQWdCLDRFQUE0RSxHQUFHLE9BQU8sOEVBQThFLE9BQU8seUVBQXlFLHlCQUF5QixjQUFjLG1EQUFtRCxrQkFBa0IsOEJBQThCLGdGQUFnRixPQUFPLFVBQVUseUJBQXlCLDRCQUE0QixzQkFBc0IseUZBQXlGLE9BQU8sVUFBVSx5QkFBeUIseUNBQXlDLHFCQUFxQix1RkFBdUYsa0JBQWtCLHlEQUF5RCxVQUFVLDRDQUE0Qyx5QkFBeUIsT0FBTyx3QkFBd0IscURBQXFELDJDQUEyQyxtREFBbUQscUhBQXFILDREQUE0RCxRQUFRLDZHQUE2RyxJQUFJLHlCQUF5QixXQUFXLE1BQU0sa0dBQWtHLGFBQWEsOEJBQThCLEVBQUUsT0FBTywyQkFBMkIseUJBQXlCLDBCQUEwQixZQUFZLHdCQUF3QiwyQkFBMkIsZUFBZSxNQUFNLFNBQVMsSUFBSSxtQkFBbUIseUdBQXlHLFlBQVksWUFBWSx3R0FBd0csY0FBYyxVQUFVLGtCQUFrQixNQUFNLHdGQUF3RixnQkFBZ0IsdUJBQXVCLElBQUkscUJBQXFCLFdBQVcsd0ZBQXdGLE9BQU8sMkJBQTJCLHlCQUF5QixnQkFBZ0IsMEVBQTBFLEdBQUcsVUFBVSxxRkFBcUYsT0FBTyx3RkFBd0YseUJBQXlCLHVCQUF1QixpRUFBaUUsMkJBQTJCLFVBQVUsMEJBQTBCLFFBQVEsZ0dBQWdHLGtCQUFrQixVQUFVLHVEQUF1RCxlQUFlLCtCQUErQixTQUFTLDZDQUE2QyxlQUFlLE1BQU0scUJBQXFCLGVBQWUsK0JBQStCLFNBQVMsR0FBRyxLQUFLLGlCQUFpQixzQkFBc0IsZ0RBQWdELDhDQUE4QyxPQUFPLHVCQUF1QixvQkFBb0IsYUFBYSxPQUFPLCtFQUErRSxPQUFPLG9EQUFvRCwyREFBMkQsR0FBRyxxQkFBcUIsa0JBQWtCLGFBQWEsc0ZBQXNGLE9BQU8sbUJBQW1CLHlCQUF5QixtQkFBbUIsVUFBVSxrQkFBa0IsaUJBQWlCLDRGQUE0RixPQUFPLG1CQUFtQix5QkFBeUIsZUFBZSxVQUFVLGtCQUFrQixjQUFjLHNGQUFzRixPQUFPLDJCQUEyQixzQkFBc0IsMEhBQTBILGdCQUFnQixVQUFVLG1CQUFtQixpREFBaUQsbURBQW1ELGFBQWEsbUJBQW1CLGdCQUFnQixpQ0FBaUMsOEJBQThCLFVBQVUsSUFBSSxNQUFxQixxQkFBcUIsa0ZBQWtGLE9BQU8sNENBQUssK0JBQStCLEdBQUcsSUFBbUMsRUFBRSxjQUFjLG1CQUFPLENBQUMsc0RBQVksRUFBRSxvQkFBb0I7O0FBRXJtbkIsK0I7Ozs7Ozs7Ozs7OztBQ0ZBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQTBEO0FBQzRCO0FBQ2hCO0FBQ0k7QUFDc0I7O0FBRWhHO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwrQkFBK0IsMkJBQTJCO0FBQzFEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0hBQXNILDZDQUE2QztBQUNuSyw2SEFBNkgseURBQXlEO0FBQ3RMO0FBQ0E7QUFDQTtBQUNBLHFIQUFxSCxrQ0FBa0M7QUFDdkosNEhBQTRILCtDQUErQztBQUMzSztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHFFQUFxRSxhQUFhO0FBQ2xGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLGFBQWEsaUJBQWlCO0FBQzlCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsRUFBRSx3RkFBYzs7QUFFaEI7QUFDQTs7QUFFQSxRQUFRLEtBQXFDLEVBQUUsRUFFMUM7QUFDTCxnR0FBZ0csZUFBZTtBQUMvRztBQUNBOztBQUVBO0FBQ0E7O0FBRUEsV0FBVyxnR0FBc0I7QUFDakM7O0FBRUE7QUFDQSxDQUFDO0FBQ0Q7QUFDQSwwRkFBZ0I7O0FBRWhCLGtJQUFrSTs7QUFFbEk7QUFDQTtBQUNBLDBDQUEwQyxrRkFBUSxHQUFHLGdDQUFnQywrQkFBK0Isa0ZBQVEsR0FBRztBQUMvSDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNILHdCQUF3Qjs7QUFFeEI7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDZFQUE2RTs7QUFFN0U7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsK0VBQStFO0FBQy9FLE9BQU8saUNBQWlDOzs7QUFHeEM7O0FBRUE7QUFDQSw2QkFBNkI7O0FBRTdCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGlCQUFpQjtBQUNqQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQSx1REFBdUQ7O0FBRXZEO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLGlCQUFpQiwrQkFBK0I7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0EsMEZBQTBGLGFBQWE7QUFDdkc7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxjQUFjO0FBQ3pCLFdBQVcsY0FBYztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQixlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsY0FBYztBQUN6QixXQUFXLGNBQWM7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLGdKQUFnSjtBQUNoSjs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsOERBQThELGtGQUFRLEdBQUcsd0VBQXdFO0FBQ2pKLDhEQUE4RCxrRkFBUSxHQUFHLHdFQUF3RTtBQUNqSjs7QUFFQSxXQUFXLGtGQUFRLEdBQUcsZUFBZTtBQUNyQyxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBOztBQUVBLHFCQUFxQixzR0FBc0csNkpBQTZKO0FBQ3hSO0FBQ0E7O0FBRUEsK0NBQStDLHFCQUFxQixzQkFBc0IsMkJBQTJCO0FBQ3JIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTyxXQUFXO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsaUdBQWlHLGFBQWE7QUFDOUc7QUFDQTs7QUFFQSxpQkFBaUIscUJBQXFCO0FBQ3RDOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU8sRUFBRTs7QUFFVDtBQUNBO0FBQ0EsNENBQTRDO0FBQzVDLE9BQU87QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsYUFBYSxxR0FBMkI7O0FBRXhDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0EsYUFBYSxxR0FBMkI7O0FBRXhDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7O0FBR0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLGtCQUFrQixrRkFBUTtBQUM3QjtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUcsS0FBSztBQUNSOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixzRkFBc0Y7QUFDeEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU8sVUFBVSxzRkFBc0Y7QUFDdkc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOzs7QUFHSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7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Q0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixrRkFBUSxHQUFHO0FBQ2xDO0FBQ0EsR0FBRztBQUNILENBQUM7OztBQUdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQixtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQixtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsdUJBQXVCLGtGQUFRLEdBQUc7QUFDbEM7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQixtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNENBQTRDOztBQUU1QztBQUNBLHVCQUF1QixrRkFBUSxHQUFHO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkIsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsa0ZBQVEsR0FBRztBQUNsQztBQUNBLEdBQUc7QUFDSCxDQUFDOzs7QUFHRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQixtQkFBbUI7QUFDbkIsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGVBQWUsa0ZBQVEsR0FBRztBQUMxQjtBQUNBLEdBQUc7O0FBRUg7O0FBRUEsZUFBZSxrRkFBUSxHQUFHO0FBQzFCO0FBQ0EsR0FBRyxFQUFFO0FBQ0w7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7O0FBR0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CLG1CQUFtQix1Q0FBdUM7QUFDMUQsbUJBQW1CLHVDQUF1QztBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx1QkFBdUIsa0ZBQVEsR0FBRztBQUNsQztBQUNBLEdBQUc7O0FBRUg7QUFDQSxDQUFDOzs7QUFHRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2QsY0FBYztBQUNkLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQixtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixrRkFBUSxHQUFHO0FBQ2xDO0FBQ0EsR0FBRztBQUNILENBQUM7OztBQUdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkIsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHVCQUF1QixrRkFBUSxHQUFHO0FBQ2xDO0FBQ0EsR0FBRztBQUNILENBQUM7OztBQUdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkIsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNB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Q0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLDJCOzs7Ozs7Ozs7Ozs7QUNsQkE7QUFBQTtBQUFBO0FBQ3FDOztBQUVyQzs7QUFFQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0EsQ0FBQztBQUNEO0FBQ0EsQ0FBQyxVQUFVLElBQTZCO0FBQ3hDO0FBQ0EsQ0FBQyxNQUFNLEVBRU47O0FBRUQsYUFBYSw0REFBUTtBQUNOLHFFQUFNLEVBQUM7Ozs7Ozs7Ozs7Ozs7O0FDbEJ0QjtBQUFBO0FBQWU7QUFDZjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTs7QUFFQTtBQUNBOzs7Ozs7Ozs7Ozs7QUNoQkE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7QUNiQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDRDQUE0Qzs7QUFFNUMiLCJmaWxlIjoidmVuZG9yc35pbmRleH51dGlscy5jaHVuay5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG5cbiAgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2luaGVyaXRzTG9vc2Uoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzLnByb3RvdHlwZSk7XG4gIHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzO1xuICBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHtcbiAgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307XG4gIHZhciB0YXJnZXQgPSB7fTtcbiAgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuICB2YXIga2V5LCBpO1xuXG4gIGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAga2V5ID0gc291cmNlS2V5c1tpXTtcbiAgICBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlO1xuICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufSIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbnZhciBjcmVhdGVDaGFuZ2VFbWl0dGVyID0gZXhwb3J0cy5jcmVhdGVDaGFuZ2VFbWl0dGVyID0gZnVuY3Rpb24gY3JlYXRlQ2hhbmdlRW1pdHRlcigpIHtcbiAgdmFyIGN1cnJlbnRMaXN0ZW5lcnMgPSBbXTtcbiAgdmFyIG5leHRMaXN0ZW5lcnMgPSBjdXJyZW50TGlzdGVuZXJzO1xuXG4gIGZ1bmN0aW9uIGVuc3VyZUNhbk11dGF0ZU5leHRMaXN0ZW5lcnMoKSB7XG4gICAgaWYgKG5leHRMaXN0ZW5lcnMgPT09IGN1cnJlbnRMaXN0ZW5lcnMpIHtcbiAgICAgIG5leHRMaXN0ZW5lcnMgPSBjdXJyZW50TGlzdGVuZXJzLnNsaWNlKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbGlzdGVuKGxpc3RlbmVyKSB7XG4gICAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCBsaXN0ZW5lciB0byBiZSBhIGZ1bmN0aW9uLicpO1xuICAgIH1cblxuICAgIHZhciBpc1N1YnNjcmliZWQgPSB0cnVlO1xuXG4gICAgZW5zdXJlQ2FuTXV0YXRlTmV4dExpc3RlbmVycygpO1xuICAgIG5leHRMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCFpc1N1YnNjcmliZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpc1N1YnNjcmliZWQgPSBmYWxzZTtcblxuICAgICAgZW5zdXJlQ2FuTXV0YXRlTmV4dExpc3RlbmVycygpO1xuICAgICAgdmFyIGluZGV4ID0gbmV4dExpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKTtcbiAgICAgIG5leHRMaXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gZW1pdCgpIHtcbiAgICBjdXJyZW50TGlzdGVuZXJzID0gbmV4dExpc3RlbmVycztcbiAgICB2YXIgbGlzdGVuZXJzID0gY3VycmVudExpc3RlbmVycztcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgbGlzdGVuZXJzW2ldLmFwcGx5KGxpc3RlbmVycywgYXJndW1lbnRzKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGxpc3RlbjogbGlzdGVuLFxuICAgIGVtaXQ6IGVtaXRcbiAgfTtcbn07IiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAdHlwZWNoZWNrc1xuICogXG4gKi9cblxuLyplc2xpbnQtZGlzYWJsZSBuby1zZWxmLWNvbXBhcmUgKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG4vKipcbiAqIGlubGluZWQgT2JqZWN0LmlzIHBvbHlmaWxsIHRvIGF2b2lkIHJlcXVpcmluZyBjb25zdW1lcnMgc2hpcCB0aGVpciBvd25cbiAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9pc1xuICovXG5mdW5jdGlvbiBpcyh4LCB5KSB7XG4gIC8vIFNhbWVWYWx1ZSBhbGdvcml0aG1cbiAgaWYgKHggPT09IHkpIHtcbiAgICAvLyBTdGVwcyAxLTUsIDctMTBcbiAgICAvLyBTdGVwcyA2LmItNi5lOiArMCAhPSAtMFxuICAgIC8vIEFkZGVkIHRoZSBub256ZXJvIHkgY2hlY2sgdG8gbWFrZSBGbG93IGhhcHB5LCBidXQgaXQgaXMgcmVkdW5kYW50XG4gICAgcmV0dXJuIHggIT09IDAgfHwgeSAhPT0gMCB8fCAxIC8geCA9PT0gMSAvIHk7XG4gIH0gZWxzZSB7XG4gICAgLy8gU3RlcCA2LmE6IE5hTiA9PSBOYU5cbiAgICByZXR1cm4geCAhPT0geCAmJiB5ICE9PSB5O1xuICB9XG59XG5cbi8qKlxuICogUGVyZm9ybXMgZXF1YWxpdHkgYnkgaXRlcmF0aW5nIHRocm91Z2gga2V5cyBvbiBhbiBvYmplY3QgYW5kIHJldHVybmluZyBmYWxzZVxuICogd2hlbiBhbnkga2V5IGhhcyB2YWx1ZXMgd2hpY2ggYXJlIG5vdCBzdHJpY3RseSBlcXVhbCBiZXR3ZWVuIHRoZSBhcmd1bWVudHMuXG4gKiBSZXR1cm5zIHRydWUgd2hlbiB0aGUgdmFsdWVzIG9mIGFsbCBrZXlzIGFyZSBzdHJpY3RseSBlcXVhbC5cbiAqL1xuZnVuY3Rpb24gc2hhbGxvd0VxdWFsKG9iakEsIG9iakIpIHtcbiAgaWYgKGlzKG9iakEsIG9iakIpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBpZiAodHlwZW9mIG9iakEgIT09ICdvYmplY3QnIHx8IG9iakEgPT09IG51bGwgfHwgdHlwZW9mIG9iakIgIT09ICdvYmplY3QnIHx8IG9iakIgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIga2V5c0EgPSBPYmplY3Qua2V5cyhvYmpBKTtcbiAgdmFyIGtleXNCID0gT2JqZWN0LmtleXMob2JqQik7XG5cbiAgaWYgKGtleXNBLmxlbmd0aCAhPT0ga2V5c0IubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gVGVzdCBmb3IgQSdzIGtleXMgZGlmZmVyZW50IGZyb20gQi5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzQS5sZW5ndGg7IGkrKykge1xuICAgIGlmICghaGFzT3duUHJvcGVydHkuY2FsbChvYmpCLCBrZXlzQVtpXSkgfHwgIWlzKG9iakFba2V5c0FbaV1dLCBvYmpCW2tleXNBW2ldXSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzaGFsbG93RXF1YWw7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLlN0eWxlZEljb24gPSB2b2lkIDA7XG5cbnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJyZWFjdFwiKSk7XG5cbnZhciBfc3R5bGVkQ29tcG9uZW50cyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoXCJzdHlsZWQtY29tcG9uZW50c1wiKSk7XG5cbnZhciBfZ3JvbW1ldFN0eWxlcyA9IHJlcXVpcmUoXCJncm9tbWV0LXN0eWxlc1wiKTtcblxudmFyIF9kZWZhdWx0UHJvcHMgPSByZXF1aXJlKFwiLi9kZWZhdWx0LXByb3BzXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7IHZhciBkZXNjID0gT2JqZWN0LmRlZmluZVByb3BlcnR5ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KSA6IHt9OyBpZiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTsgfSBlbHNlIHsgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IH0gfSBuZXdPYmpbXCJkZWZhdWx0XCJdID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxudmFyIGNvbG9yQ3NzID0gKDAsIF9zdHlsZWRDb21wb25lbnRzLmNzcykoW1wiXCIsIFwiIFwiLCBcIiBne2ZpbGw6aW5oZXJpdDtzdHJva2U6aW5oZXJpdDt9Kjpub3QoW3N0cm9rZV0peyZbZmlsbD1cXFwibm9uZVxcXCJde3N0cm9rZS13aWR0aDowO319KltzdHJva2UqPVxcXCIjXFxcIl0sKltTVFJPS0UqPVxcXCIjXFxcIl17c3Ryb2tlOmluaGVyaXQ7ZmlsbDpub25lO30qW2ZpbGwtcnVsZV0sKltGSUxMLVJVTEVdLCpbZmlsbCo9XFxcIiNcXFwiXSwqW0ZJTEwqPVxcXCIjXFxcIl17ZmlsbDppbmhlcml0O3N0cm9rZTpub25lO31cIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gKDAsIF9ncm9tbWV0U3R5bGVzLmNvbG9yU3R5bGUpKCdmaWxsJywgcHJvcHMuY29sb3IgfHwgcHJvcHMudGhlbWUuZ2xvYmFsLmNvbG9ycy5pY29uLCBwcm9wcy50aGVtZSk7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuICgwLCBfZ3JvbW1ldFN0eWxlcy5jb2xvclN0eWxlKSgnc3Ryb2tlJywgcHJvcHMuY29sb3IgfHwgcHJvcHMudGhlbWUuZ2xvYmFsLmNvbG9ycy5pY29uLCBwcm9wcy50aGVtZSk7XG59KTtcblxudmFyIEljb25Jbm5lciA9IGZ1bmN0aW9uIEljb25Jbm5lcihfcmVmKSB7XG4gIHZhciBhMTF5VGl0bGUgPSBfcmVmLmExMXlUaXRsZSxcbiAgICAgIGNvbG9yID0gX3JlZi5jb2xvcixcbiAgICAgIHNpemUgPSBfcmVmLnNpemUsXG4gICAgICB0aGVtZSA9IF9yZWYudGhlbWUsXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZiwgW1wiYTExeVRpdGxlXCIsIFwiY29sb3JcIiwgXCJzaXplXCIsIFwidGhlbWVcIl0pO1xuXG4gIHJldHVybiBfcmVhY3RbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgX2V4dGVuZHMoe1xuICAgIFwiYXJpYS1sYWJlbFwiOiBhMTF5VGl0bGVcbiAgfSwgcmVzdCkpO1xufTtcblxuSWNvbklubmVyLmRpc3BsYXlOYW1lID0gJ0ljb24nO1xudmFyIFN0eWxlZEljb24gPSAoMCwgX3N0eWxlZENvbXBvbmVudHNbXCJkZWZhdWx0XCJdKShJY29uSW5uZXIpLndpdGhDb25maWcoe1xuICBkaXNwbGF5TmFtZTogXCJTdHlsZWRJY29uXCIsXG4gIGNvbXBvbmVudElkOiBcIm9mYTdrZC0wXCJcbn0pKFtcImRpc3BsYXk6aW5saW5lLWJsb2NrO2ZsZXg6MCAwIGF1dG87XCIsIFwiIFwiLCBcIiBcIiwgXCJcIl0sIGZ1bmN0aW9uIChfcmVmMikge1xuICB2YXIgX3JlZjIkc2l6ZSA9IF9yZWYyLnNpemUsXG4gICAgICBzaXplID0gX3JlZjIkc2l6ZSA9PT0gdm9pZCAwID8gJ21lZGl1bScgOiBfcmVmMiRzaXplLFxuICAgICAgdGhlbWUgPSBfcmVmMi50aGVtZTtcbiAgcmV0dXJuIFwiXFxuICAgIHdpZHRoOiBcIiArICh0aGVtZS5pY29uLnNpemVbc2l6ZV0gfHwgc2l6ZSkgKyBcIjtcXG4gICAgaGVpZ2h0OiBcIiArICh0aGVtZS5pY29uLnNpemVbc2l6ZV0gfHwgc2l6ZSkgKyBcIjtcXG4gIFwiO1xufSwgZnVuY3Rpb24gKF9yZWYzKSB7XG4gIHZhciBjb2xvciA9IF9yZWYzLmNvbG9yO1xuICByZXR1cm4gY29sb3IgIT09ICdwbGFpbicgJiYgY29sb3JDc3M7XG59LCBmdW5jdGlvbiAoX3JlZjQpIHtcbiAgdmFyIHRoZW1lID0gX3JlZjQudGhlbWU7XG4gIHJldHVybiB0aGVtZSAmJiB0aGVtZS5pY29uLmV4dGVuZDtcbn0pO1xuZXhwb3J0cy5TdHlsZWRJY29uID0gU3R5bGVkSWNvbjtcblN0eWxlZEljb24uZGVmYXVsdFByb3BzID0ge307XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoU3R5bGVkSWNvbi5kZWZhdWx0UHJvcHMsIF9kZWZhdWx0UHJvcHMuZGVmYXVsdFByb3BzKTsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZXh0ZW5kRGVmYXVsdFRoZW1lID0gZXhwb3J0cy5kZWZhdWx0UHJvcHMgPSB2b2lkIDA7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKFwiLi91dGlsc1wiKTtcblxudmFyIF90aGVtZXMgPSByZXF1aXJlKFwiLi90aGVtZXNcIik7XG5cbnZhciBkZWZhdWx0UHJvcHMgPSB7XG4gIHRoZW1lOiBfdGhlbWVzLmJhc2Vcbn07XG5leHBvcnRzLmRlZmF1bHRQcm9wcyA9IGRlZmF1bHRQcm9wcztcblxudmFyIGV4dGVuZERlZmF1bHRUaGVtZSA9IGZ1bmN0aW9uIGV4dGVuZERlZmF1bHRUaGVtZSh0aGVtZSkge1xuICBkZWZhdWx0UHJvcHMudGhlbWUgPSAoMCwgX3V0aWxzLmRlZXBNZXJnZSkoX3RoZW1lcy5iYXNlLCB0aGVtZSk7XG59O1xuXG5leHBvcnRzLmV4dGVuZERlZmF1bHRUaGVtZSA9IGV4dGVuZERlZmF1bHRUaGVtZTsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuQWN0aW9ucyA9IHZvaWQgMDtcblxudmFyIF9yZWFjdCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcInJlYWN0XCIpKTtcblxudmFyIF9TdHlsZWRJY29uID0gcmVxdWlyZShcIi4uL1N0eWxlZEljb25cIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG52YXIgQWN0aW9ucyA9IGZ1bmN0aW9uIEFjdGlvbnMocHJvcHMpIHtcbiAgcmV0dXJuIF9yZWFjdFtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfU3R5bGVkSWNvbi5TdHlsZWRJY29uLCBfZXh0ZW5kcyh7XG4gICAgdmlld0JveDogXCIwIDAgMjQgMjRcIixcbiAgICBhMTF5VGl0bGU6IFwiQWN0aW9uc1wiXG4gIH0sIHByb3BzKSwgX3JlYWN0W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZmlsbDogXCJub25lXCIsXG4gICAgc3Ryb2tlOiBcIiMwMDBcIixcbiAgICBzdHJva2VXaWR0aDogXCIyXCIsXG4gICAgZDogXCJNMTIsMTcuNSBDMTUuMDM3NTY2MSwxNy41IDE3LjUsMTUuMDM3NTY2MSAxNy41LDEyIEMxNy41LDguOTYyNDMzODggMTUuMDM3NTY2MSw2LjUgMTIsNi41IEM4Ljk2MjQzMzg4LDYuNSA2LjUsOC45NjI0MzM4OCA2LjUsMTIgQzYuNSwxNS4wMzc1NjYxIDguOTYyNDMzODgsMTcuNSAxMiwxNy41IFogTTEyLDYuNSBMMTIsMSBNMTIsMjMgTDEyLDE3LjUgTTEsMTIgTDYuNSwxMiBNMTcuNSwxMiBMMjMsMTIgTTQuNDM3NSw0LjQzNzUgTDguNTYyNSw4LjU2MjUgTTE1LjQzNzUsMTUuNDM3NSBMMTkuNTYyNSwxOS41NjI1IE0xOS41NjI1LDQuNDM3NSBMMTUuNDM3NSw4LjU2MjUgTTguNTYyNSwxNS40Mzc1IEw0LjQzNzUsMTkuNTYyNVwiXG4gIH0pKTtcbn07XG5cbmV4cG9ydHMuQWN0aW9ucyA9IEFjdGlvbnM7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLkNsb3NlZENhcHRpb24gPSB2b2lkIDA7XG5cbnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJyZWFjdFwiKSk7XG5cbnZhciBfU3R5bGVkSWNvbiA9IHJlcXVpcmUoXCIuLi9TdHlsZWRJY29uXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxudmFyIENsb3NlZENhcHRpb24gPSBmdW5jdGlvbiBDbG9zZWRDYXB0aW9uKHByb3BzKSB7XG4gIHJldHVybiBfcmVhY3RbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX1N0eWxlZEljb24uU3R5bGVkSWNvbiwgX2V4dGVuZHMoe1xuICAgIHZpZXdCb3g6IFwiMCAwIDI0IDI0XCIsXG4gICAgYTExeVRpdGxlOiBcIkNsb3NlZENhcHRpb25cIlxuICB9LCBwcm9wcyksIF9yZWFjdFtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGZpbGw6IFwibm9uZVwiLFxuICAgIHN0cm9rZTogXCIjMDAwXCIsXG4gICAgc3Ryb2tlV2lkdGg6IFwiMlwiLFxuICAgIGQ6IFwiTTEsMTIgQzEsNSAyLjUsNCAxMiw0IEMyMS41LDQgMjMsNSAyMywxMiBDMjMsMTkgMjEuNSwyMCAxMiwyMCBDMi41LDIwIDEsMTkgMSwxMiBaIE01LjI1LDE0IEM1LjI1LDE1LjUgNiwxNiA3Ljc1LDE2IEM5LjUsMTYgMTAuMjUsMTUuNSAxMC4yNSwxNCBMOS45Nzg2MTY3OSwxNCBDOS45Nzg2MTY3MSwxNS4yNSA4Ljk3OTA1NTQ3LDE2IDcuNzUsMTYgQzYuNTIwOTQ0NTMsMTYgNS41MjEzODMyOSwxNS4yNSA1LjUyMTM4MzIxLDE0IEw1LjUyMTM4MzIxLDEwIEM1LjUsOC43NSA2LjUsOCA3Ljc1LDggQzksOCAxMCw4Ljc1IDkuOTc4NjE2NzksMTAgTDEwLjI1LDEwIEMxMC4yNSw4Ljc1IDkuMjI4Njk5OCw4IDcuNzUsOCBDNi4yNzEzMDAyLDggNS4yNSw4Ljc1IDUuMjUsMTAgTDUuMjUsMTQgWiBNMTMuMjUsMTQgQzEzLjI1LDE1LjUgMTQsMTYgMTUuNzUsMTYgQzE3LjUsMTYgMTguMjUsMTUuNSAxOC4yNSwxNCBMMTcuOTc4NjE2OCwxNCBDMTcuOTc4NjE2NywxNS4yNSAxNi45NzkwNTU1LDE2IDE1Ljc1LDE2IEMxNC41MjA5NDQ1LDE2IDEzLjUyMTM4MzMsMTUuMjUgMTMuNTIxMzgzMiwxNCBMMTMuNTIxMzgzMiwxMCBDMTMuNSw4Ljc1IDE0LjUsOCAxNS43NSw4IEMxNyw4IDE4LDguNzUgMTcuOTc4NjE2OCwxMCBMMTguMjUsMTAgQzE4LjI1LDguNzUgMTcuMjI4Njk5OCw4IDE1Ljc1LDggQzE0LjI3MTMwMDIsOCAxMy4yNSw4Ljc1IDEzLjI1LDEwIEwxMy4yNSwxNCBaXCJcbiAgfSkpO1xufTtcblxuZXhwb3J0cy5DbG9zZWRDYXB0aW9uID0gQ2xvc2VkQ2FwdGlvbjsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuRXhwYW5kID0gdm9pZCAwO1xuXG52YXIgX3JlYWN0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwicmVhY3RcIikpO1xuXG52YXIgX1N0eWxlZEljb24gPSByZXF1aXJlKFwiLi4vU3R5bGVkSWNvblwiKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbnZhciBFeHBhbmQgPSBmdW5jdGlvbiBFeHBhbmQocHJvcHMpIHtcbiAgcmV0dXJuIF9yZWFjdFtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfU3R5bGVkSWNvbi5TdHlsZWRJY29uLCBfZXh0ZW5kcyh7XG4gICAgdmlld0JveDogXCIwIDAgMjQgMjRcIixcbiAgICBhMTF5VGl0bGU6IFwiRXhwYW5kXCJcbiAgfSwgcHJvcHMpLCBfcmVhY3RbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBmaWxsOiBcIm5vbmVcIixcbiAgICBzdHJva2U6IFwiIzAwMFwiLFxuICAgIHN0cm9rZVdpZHRoOiBcIjJcIixcbiAgICBkOiBcIk0xMCwxNCBMMiwyMiBNMSwxNSBMMSwyMyBMOSwyMyBNMjIsMiBMMTQsMTAgTTE1LDEgTDIzLDEgTDIzLDlcIlxuICB9KSk7XG59O1xuXG5leHBvcnRzLkV4cGFuZCA9IEV4cGFuZDsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuRm9ybURvd24gPSB2b2lkIDA7XG5cbnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJyZWFjdFwiKSk7XG5cbnZhciBfU3R5bGVkSWNvbiA9IHJlcXVpcmUoXCIuLi9TdHlsZWRJY29uXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxudmFyIEZvcm1Eb3duID0gZnVuY3Rpb24gRm9ybURvd24ocHJvcHMpIHtcbiAgcmV0dXJuIF9yZWFjdFtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfU3R5bGVkSWNvbi5TdHlsZWRJY29uLCBfZXh0ZW5kcyh7XG4gICAgdmlld0JveDogXCIwIDAgMjQgMjRcIixcbiAgICBhMTF5VGl0bGU6IFwiRm9ybURvd25cIlxuICB9LCBwcm9wcyksIF9yZWFjdFtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcInBvbHlsaW5lXCIsIHtcbiAgICBmaWxsOiBcIm5vbmVcIixcbiAgICBzdHJva2U6IFwiIzAwMFwiLFxuICAgIHN0cm9rZVdpZHRoOiBcIjJcIixcbiAgICBwb2ludHM6IFwiMTggOSAxMiAxNSA2IDlcIlxuICB9KSk7XG59O1xuXG5leHBvcnRzLkZvcm1Eb3duID0gRm9ybURvd247IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLkZvcm1OZXh0ID0gdm9pZCAwO1xuXG52YXIgX3JlYWN0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwicmVhY3RcIikpO1xuXG52YXIgX1N0eWxlZEljb24gPSByZXF1aXJlKFwiLi4vU3R5bGVkSWNvblwiKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbnZhciBGb3JtTmV4dCA9IGZ1bmN0aW9uIEZvcm1OZXh0KHByb3BzKSB7XG4gIHJldHVybiBfcmVhY3RbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX1N0eWxlZEljb24uU3R5bGVkSWNvbiwgX2V4dGVuZHMoe1xuICAgIHZpZXdCb3g6IFwiMCAwIDI0IDI0XCIsXG4gICAgYTExeVRpdGxlOiBcIkZvcm1OZXh0XCJcbiAgfSwgcHJvcHMpLCBfcmVhY3RbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJwb2x5bGluZVwiLCB7XG4gICAgZmlsbDogXCJub25lXCIsXG4gICAgc3Ryb2tlOiBcIiMwMDBcIixcbiAgICBzdHJva2VXaWR0aDogXCIyXCIsXG4gICAgcG9pbnRzOiBcIjkgNiAxNSAxMiA5IDE4XCJcbiAgfSkpO1xufTtcblxuZXhwb3J0cy5Gb3JtTmV4dCA9IEZvcm1OZXh0OyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5Gb3JtUHJldmlvdXMgPSB2b2lkIDA7XG5cbnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJyZWFjdFwiKSk7XG5cbnZhciBfU3R5bGVkSWNvbiA9IHJlcXVpcmUoXCIuLi9TdHlsZWRJY29uXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxudmFyIEZvcm1QcmV2aW91cyA9IGZ1bmN0aW9uIEZvcm1QcmV2aW91cyhwcm9wcykge1xuICByZXR1cm4gX3JlYWN0W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9TdHlsZWRJY29uLlN0eWxlZEljb24sIF9leHRlbmRzKHtcbiAgICB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLFxuICAgIGExMXlUaXRsZTogXCJGb3JtUHJldmlvdXNcIlxuICB9LCBwcm9wcyksIF9yZWFjdFtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcInBvbHlsaW5lXCIsIHtcbiAgICBmaWxsOiBcIm5vbmVcIixcbiAgICBzdHJva2U6IFwiIzAwMFwiLFxuICAgIHN0cm9rZVdpZHRoOiBcIjJcIixcbiAgICBwb2ludHM6IFwiOSA2IDE1IDEyIDkgMThcIixcbiAgICB0cmFuc2Zvcm06IFwibWF0cml4KC0xIDAgMCAxIDI0IDApXCJcbiAgfSkpO1xufTtcblxuZXhwb3J0cy5Gb3JtUHJldmlvdXMgPSBGb3JtUHJldmlvdXM7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLkZvcm1TZWFyY2ggPSB2b2lkIDA7XG5cbnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJyZWFjdFwiKSk7XG5cbnZhciBfU3R5bGVkSWNvbiA9IHJlcXVpcmUoXCIuLi9TdHlsZWRJY29uXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxudmFyIEZvcm1TZWFyY2ggPSBmdW5jdGlvbiBGb3JtU2VhcmNoKHByb3BzKSB7XG4gIHJldHVybiBfcmVhY3RbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX1N0eWxlZEljb24uU3R5bGVkSWNvbiwgX2V4dGVuZHMoe1xuICAgIHZpZXdCb3g6IFwiMCAwIDI0IDI0XCIsXG4gICAgYTExeVRpdGxlOiBcIkZvcm1TZWFyY2hcIlxuICB9LCBwcm9wcyksIF9yZWFjdFtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGZpbGw6IFwibm9uZVwiLFxuICAgIHN0cm9rZTogXCIjMDAwXCIsXG4gICAgc3Ryb2tlV2lkdGg6IFwiMlwiLFxuICAgIGQ6IFwiTTEzLjgsMTMuOCBMMTgsMTggTDEzLjgsMTMuOCBaIE0xMC41LDE1IEMxMi45ODUyODE0LDE1IDE1LDEyLjk4NTI4MTQgMTUsMTAuNSBDMTUsOC4wMTQ3MTg2MyAxMi45ODUyODE0LDYgMTAuNSw2IEM4LjAxNDcxODYzLDYgNiw4LjAxNDcxODYzIDYsMTAuNSBDNiwxMi45ODUyODE0IDguMDE0NzE4NjMsMTUgMTAuNSwxNSBaXCJcbiAgfSkpO1xufTtcblxuZXhwb3J0cy5Gb3JtU2VhcmNoID0gRm9ybVNlYXJjaDsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuRm9ybVVwID0gdm9pZCAwO1xuXG52YXIgX3JlYWN0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwicmVhY3RcIikpO1xuXG52YXIgX1N0eWxlZEljb24gPSByZXF1aXJlKFwiLi4vU3R5bGVkSWNvblwiKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbnZhciBGb3JtVXAgPSBmdW5jdGlvbiBGb3JtVXAocHJvcHMpIHtcbiAgcmV0dXJuIF9yZWFjdFtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfU3R5bGVkSWNvbi5TdHlsZWRJY29uLCBfZXh0ZW5kcyh7XG4gICAgdmlld0JveDogXCIwIDAgMjQgMjRcIixcbiAgICBhMTF5VGl0bGU6IFwiRm9ybVVwXCJcbiAgfSwgcHJvcHMpLCBfcmVhY3RbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJwb2x5bGluZVwiLCB7XG4gICAgZmlsbDogXCJub25lXCIsXG4gICAgc3Ryb2tlOiBcIiMwMDBcIixcbiAgICBzdHJva2VXaWR0aDogXCIyXCIsXG4gICAgcG9pbnRzOiBcIjE4IDkgMTIgMTUgNiA5XCIsXG4gICAgdHJhbnNmb3JtOiBcIm1hdHJpeCgxIDAgMCAtMSAwIDI0KVwiXG4gIH0pKTtcbn07XG5cbmV4cG9ydHMuRm9ybVVwID0gRm9ybVVwOyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5OZXh0ID0gdm9pZCAwO1xuXG52YXIgX3JlYWN0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwicmVhY3RcIikpO1xuXG52YXIgX1N0eWxlZEljb24gPSByZXF1aXJlKFwiLi4vU3R5bGVkSWNvblwiKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbnZhciBOZXh0ID0gZnVuY3Rpb24gTmV4dChwcm9wcykge1xuICByZXR1cm4gX3JlYWN0W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9TdHlsZWRJY29uLlN0eWxlZEljb24sIF9leHRlbmRzKHtcbiAgICB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLFxuICAgIGExMXlUaXRsZTogXCJOZXh0XCJcbiAgfSwgcHJvcHMpLCBfcmVhY3RbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJwb2x5bGluZVwiLCB7XG4gICAgZmlsbDogXCJub25lXCIsXG4gICAgc3Ryb2tlOiBcIiMwMDBcIixcbiAgICBzdHJva2VXaWR0aDogXCIyXCIsXG4gICAgcG9pbnRzOiBcIjcgMiAxNyAxMiA3IDIyXCJcbiAgfSkpO1xufTtcblxuZXhwb3J0cy5OZXh0ID0gTmV4dDsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuUGF1c2UgPSB2b2lkIDA7XG5cbnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJyZWFjdFwiKSk7XG5cbnZhciBfU3R5bGVkSWNvbiA9IHJlcXVpcmUoXCIuLi9TdHlsZWRJY29uXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxudmFyIFBhdXNlID0gZnVuY3Rpb24gUGF1c2UocHJvcHMpIHtcbiAgcmV0dXJuIF9yZWFjdFtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfU3R5bGVkSWNvbi5TdHlsZWRJY29uLCBfZXh0ZW5kcyh7XG4gICAgdmlld0JveDogXCIwIDAgMjQgMjRcIixcbiAgICBhMTF5VGl0bGU6IFwiUGF1c2VcIlxuICB9LCBwcm9wcyksIF9yZWFjdFtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGZpbGw6IFwibm9uZVwiLFxuICAgIHN0cm9rZTogXCIjMDAwXCIsXG4gICAgc3Ryb2tlV2lkdGg6IFwiMlwiLFxuICAgIGQ6IFwiTTMsMjEgTDksMjEgTDksMyBMMywzIEwzLDIxIFogTTE1LDIxIEwyMSwyMSBMMjEsMyBMMTUsMyBMMTUsMjEgWlwiXG4gIH0pKTtcbn07XG5cbmV4cG9ydHMuUGF1c2UgPSBQYXVzZTsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuUGxheSA9IHZvaWQgMDtcblxudmFyIF9yZWFjdCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcInJlYWN0XCIpKTtcblxudmFyIF9TdHlsZWRJY29uID0gcmVxdWlyZShcIi4uL1N0eWxlZEljb25cIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG52YXIgUGxheSA9IGZ1bmN0aW9uIFBsYXkocHJvcHMpIHtcbiAgcmV0dXJuIF9yZWFjdFtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfU3R5bGVkSWNvbi5TdHlsZWRJY29uLCBfZXh0ZW5kcyh7XG4gICAgdmlld0JveDogXCIwIDAgMjQgMjRcIixcbiAgICBhMTF5VGl0bGU6IFwiUGxheVwiXG4gIH0sIHByb3BzKSwgX3JlYWN0W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwicG9seWdvblwiLCB7XG4gICAgZmlsbDogXCJub25lXCIsXG4gICAgc3Ryb2tlOiBcIiMwMDBcIixcbiAgICBzdHJva2VXaWR0aDogXCIyXCIsXG4gICAgcG9pbnRzOiBcIjMgMjIgMjEgMTIgMyAyXCJcbiAgfSkpO1xufTtcblxuZXhwb3J0cy5QbGF5ID0gUGxheTsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuUHJldmlvdXMgPSB2b2lkIDA7XG5cbnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJyZWFjdFwiKSk7XG5cbnZhciBfU3R5bGVkSWNvbiA9IHJlcXVpcmUoXCIuLi9TdHlsZWRJY29uXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxudmFyIFByZXZpb3VzID0gZnVuY3Rpb24gUHJldmlvdXMocHJvcHMpIHtcbiAgcmV0dXJuIF9yZWFjdFtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfU3R5bGVkSWNvbi5TdHlsZWRJY29uLCBfZXh0ZW5kcyh7XG4gICAgdmlld0JveDogXCIwIDAgMjQgMjRcIixcbiAgICBhMTF5VGl0bGU6IFwiUHJldmlvdXNcIlxuICB9LCBwcm9wcyksIF9yZWFjdFtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcInBvbHlsaW5lXCIsIHtcbiAgICBmaWxsOiBcIm5vbmVcIixcbiAgICBzdHJva2U6IFwiIzAwMFwiLFxuICAgIHN0cm9rZVdpZHRoOiBcIjJcIixcbiAgICBwb2ludHM6IFwiNyAyIDE3IDEyIDcgMjJcIixcbiAgICB0cmFuc2Zvcm06IFwibWF0cml4KC0xIDAgMCAxIDI0IDApXCJcbiAgfSkpO1xufTtcblxuZXhwb3J0cy5QcmV2aW91cyA9IFByZXZpb3VzOyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5TdWJ0cmFjdCA9IHZvaWQgMDtcblxudmFyIF9yZWFjdCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcInJlYWN0XCIpKTtcblxudmFyIF9TdHlsZWRJY29uID0gcmVxdWlyZShcIi4uL1N0eWxlZEljb25cIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG52YXIgU3VidHJhY3QgPSBmdW5jdGlvbiBTdWJ0cmFjdChwcm9wcykge1xuICByZXR1cm4gX3JlYWN0W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9TdHlsZWRJY29uLlN0eWxlZEljb24sIF9leHRlbmRzKHtcbiAgICB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLFxuICAgIGExMXlUaXRsZTogXCJTdWJ0cmFjdFwiXG4gIH0sIHByb3BzKSwgX3JlYWN0W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZmlsbDogXCJub25lXCIsXG4gICAgc3Ryb2tlOiBcIiMwMDBcIixcbiAgICBzdHJva2VXaWR0aDogXCIyXCIsXG4gICAgZDogXCJNMiwxMiBMMjIsMTJcIlxuICB9KSk7XG59O1xuXG5leHBvcnRzLlN1YnRyYWN0ID0gU3VidHJhY3Q7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLlZvbHVtZSA9IHZvaWQgMDtcblxudmFyIF9yZWFjdCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcInJlYWN0XCIpKTtcblxudmFyIF9TdHlsZWRJY29uID0gcmVxdWlyZShcIi4uL1N0eWxlZEljb25cIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG52YXIgVm9sdW1lID0gZnVuY3Rpb24gVm9sdW1lKHByb3BzKSB7XG4gIHJldHVybiBfcmVhY3RbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX1N0eWxlZEljb24uU3R5bGVkSWNvbiwgX2V4dGVuZHMoe1xuICAgIHZpZXdCb3g6IFwiMCAwIDI0IDI0XCIsXG4gICAgYTExeVRpdGxlOiBcIlZvbHVtZVwiXG4gIH0sIHByb3BzKSwgX3JlYWN0W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZmlsbDogXCJub25lXCIsXG4gICAgc3Ryb2tlOiBcIiMwMDBcIixcbiAgICBzdHJva2VXaWR0aDogXCIyXCIsXG4gICAgZDogXCJNMTUsMTYgQzE3LjIwOSwxNiAxOSwxNC4yMDkgMTksMTIgQzE5LDkuNzkxIDE3LjIwOSw4IDE1LDggTTE1LDIwIEMyMCwyMCAyMywxNi40MTEgMjMsMTIgQzIzLDcuNTg5IDE5LjQxMSw0IDE1LDQgTTEsMTIgTDEsOCBMNiw4IEwxMiwzIEwxMiwyMSBMNiwxNiBMMSwxNiBMMSwxMlwiXG4gIH0pKTtcbn07XG5cbmV4cG9ydHMuVm9sdW1lID0gVm9sdW1lOyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5Wb2x1bWVMb3cgPSB2b2lkIDA7XG5cbnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJyZWFjdFwiKSk7XG5cbnZhciBfU3R5bGVkSWNvbiA9IHJlcXVpcmUoXCIuLi9TdHlsZWRJY29uXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxudmFyIFZvbHVtZUxvdyA9IGZ1bmN0aW9uIFZvbHVtZUxvdyhwcm9wcykge1xuICByZXR1cm4gX3JlYWN0W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9TdHlsZWRJY29uLlN0eWxlZEljb24sIF9leHRlbmRzKHtcbiAgICB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLFxuICAgIGExMXlUaXRsZTogXCJWb2x1bWVMb3dcIlxuICB9LCBwcm9wcyksIF9yZWFjdFtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGZpbGw6IFwibm9uZVwiLFxuICAgIHN0cm9rZTogXCIjMDAwXCIsXG4gICAgc3Ryb2tlV2lkdGg6IFwiMlwiLFxuICAgIGQ6IFwiTTEsOCBMMSwxNiBMNi4wOTkwMTk1MSwxNiBMMTIsMjEgTDEyLDMgTDYsOCBMMSw4IFogTTE1LDE2IEwxNSwxNiBDMTcuMjA5MTM5LDE2IDE5LDE0LjIwOTEzOSAxOSwxMiBDMTksOS43OTA4NjEgMTcuMjA5MTM5LDggMTUsOFwiXG4gIH0pKTtcbn07XG5cbmV4cG9ydHMuVm9sdW1lTG93ID0gVm9sdW1lTG93OyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5iYXNlID0gdm9pZCAwO1xudmFyIGJhc2UgPSB7XG4gIGdsb2JhbDoge1xuICAgIGNvbG9yczoge1xuICAgICAgaWNvbjogJyM2NjY2NjYnXG4gICAgfVxuICB9LFxuICBpY29uOiB7XG4gICAgc2l6ZToge1xuICAgICAgc21hbGw6ICcxMnB4JyxcbiAgICAgIG1lZGl1bTogJzI0cHgnLFxuICAgICAgbGFyZ2U6ICc0OHB4JyxcbiAgICAgIHhsYXJnZTogJzk2cHgnXG4gICAgfVxuICB9XG59O1xuZXhwb3J0cy5iYXNlID0gYmFzZTsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuYmFzZSA9IHZvaWQgMDtcblxudmFyIF9iYXNlID0gcmVxdWlyZShcIi4vYmFzZVwiKTtcblxuZXhwb3J0cy5iYXNlID0gX2Jhc2UuYmFzZTsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuaXNPYmplY3QgPSBpc09iamVjdDtcbmV4cG9ydHMuZGVlcE1lcmdlID0gZGVlcE1lcmdlO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB2b2lkIDA7XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIGlzT2JqZWN0KGl0ZW0pIHtcbiAgcmV0dXJuIGl0ZW0gJiYgdHlwZW9mIGl0ZW0gPT09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KGl0ZW0pO1xufVxuXG5mdW5jdGlvbiBkZWVwTWVyZ2UodGFyZ2V0KSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBzb3VyY2VzID0gbmV3IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBzb3VyY2VzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIGlmICghc291cmNlcy5sZW5ndGgpIHtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9IC8vIG1ha2luZyBzdXJlIHRvIG5vdCBjaGFuZ2UgdGFyZ2V0IChpbW11dGFibGUpXG5cblxuICB2YXIgb3V0cHV0ID0gX2V4dGVuZHMoe30sIHRhcmdldCk7XG5cbiAgc291cmNlcy5mb3JFYWNoKGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICBpZiAoaXNPYmplY3Qoc291cmNlKSkge1xuICAgICAgT2JqZWN0LmtleXMoc291cmNlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKGlzT2JqZWN0KHNvdXJjZVtrZXldKSkge1xuICAgICAgICAgIGlmICghb3V0cHV0W2tleV0pIHtcbiAgICAgICAgICAgIG91dHB1dFtrZXldID0gX2V4dGVuZHMoe30sIHNvdXJjZVtrZXldKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3V0cHV0W2tleV0gPSBkZWVwTWVyZ2Uob3V0cHV0W2tleV0sIHNvdXJjZVtrZXldKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3V0cHV0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIG91dHB1dDtcbn1cblxudmFyIF9kZWZhdWx0ID0ge1xuICBkZWVwTWVyZ2U6IGRlZXBNZXJnZSxcbiAgaXNPYmplY3Q6IGlzT2JqZWN0XG59O1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBfZGVmYXVsdDsiLCJleHBvcnQgKiBmcm9tICcuL3N0eWxlcyc7XG5leHBvcnQgKiBmcm9tICcuL3V0aWxzJzsiLCJpbXBvcnQgeyBjc3MgfSBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBub3JtYWxpemVDb2xvciB9IGZyb20gJy4uL3V0aWxzJztcbmV4cG9ydCB2YXIgY29sb3JTdHlsZSA9IGZ1bmN0aW9uIGNvbG9yU3R5bGUobmFtZSwgdmFsdWUsIHRoZW1lLCByZXF1aXJlZCkge1xuICByZXR1cm4gY3NzKFtcIlwiLCBcIjpcIiwgXCI7XCJdLCBuYW1lLCBub3JtYWxpemVDb2xvcih2YWx1ZSwgdGhlbWUsIHJlcXVpcmVkKSk7XG59OyIsImV4cG9ydCAqIGZyb20gJy4vY29sb3InO1xuZXhwb3J0ICogZnJvbSAnLi9zaXplJzsiLCJpbXBvcnQgeyBjc3MgfSBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5leHBvcnQgdmFyIHNpemVTdHlsZSA9IGZ1bmN0aW9uIHNpemVTdHlsZShuYW1lLCB2YWx1ZSwgdGhlbWUpIHtcbiAgcmV0dXJuIGNzcyhbXCJcIiwgXCI6XCIsIFwiO1wiXSwgbmFtZSwgdGhlbWUuZ2xvYmFsLnNpemVbdmFsdWVdIHx8IHZhbHVlKTtcbn07IiwiLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNTYyMzgzOC9yZ2ItdG8taGV4LWFuZC1oZXgtdG8tcmdiXG52YXIgcGFyc2VIZXhUb1JHQiA9IGZ1bmN0aW9uIHBhcnNlSGV4VG9SR0IoY29sb3IpIHtcbiAgcmV0dXJuIGNvbG9yLnJlcGxhY2UoL14jPyhbYS1mXFxkXSkoW2EtZlxcZF0pKFthLWZcXGRdKSQvaSwgZnVuY3Rpb24gKG0sIHIsIGcsIGIpIHtcbiAgICByZXR1cm4gXCIjXCIgKyByICsgciArIGcgKyBnICsgYiArIGI7XG4gIH0pLnN1YnN0cmluZygxKS5tYXRjaCgvLnsyfS9nKS5tYXAoZnVuY3Rpb24gKHgpIHtcbiAgICByZXR1cm4gcGFyc2VJbnQoeCwgMTYpO1xuICB9KTtcbn07XG5cbnZhciBnZXRSR0JBcnJheSA9IGZ1bmN0aW9uIGdldFJHQkFycmF5KGNvbG9yKSB7XG4gIGlmICgvXiMvLnRlc3QoY29sb3IpKSB7XG4gICAgcmV0dXJuIHBhcnNlSGV4VG9SR0IoY29sb3IpO1xuICB9XG5cbiAgaWYgKC9ecmdiLy50ZXN0KGNvbG9yKSkge1xuICAgIHJldHVybiBjb2xvci5tYXRjaCgvcmdiYT9cXCgoXFxzP1swLTldKlxccz8pLChcXHM/WzAtOV0qXFxzPyksKFxccz9bMC05XSpcXHM/KS4qP1xcKS8pLnNwbGljZSgxKTtcbiAgfVxuXG4gIHJldHVybiBjb2xvcjtcbn07XG5cbmV4cG9ydCB2YXIgY29sb3JJc0RhcmsgPSBmdW5jdGlvbiBjb2xvcklzRGFyayhjb2xvcikge1xuICB2YXIgX2dldFJHQkFycmF5ID0gZ2V0UkdCQXJyYXkoY29sb3IpLFxuICAgICAgcmVkID0gX2dldFJHQkFycmF5WzBdLFxuICAgICAgZ3JlZW4gPSBfZ2V0UkdCQXJyYXlbMV0sXG4gICAgICBibHVlID0gX2dldFJHQkFycmF5WzJdOyAvLyBodHRwOi8vd3d3LmhhZDJrbm93LmNvbS90ZWNobm9sb2d5L1xuICAvLyAgY29sb3ItY29udHJhc3QtY2FsY3VsYXRvci13ZWItZGVzaWduLmh0bWxcblxuXG4gIHZhciBicmlnaHRuZXNzID0gKDI5OSAqIHJlZCArIDU4NyAqIGdyZWVuICsgMTE0ICogYmx1ZSkgLyAxMDAwO1xuICByZXR1cm4gYnJpZ2h0bmVzcyA8IDEyNTtcbn07XG5leHBvcnQgdmFyIG5vcm1hbGl6ZUNvbG9yID0gZnVuY3Rpb24gbm9ybWFsaXplQ29sb3IoY29sb3IsIHRoZW1lKSB7XG4gIHZhciBjb2xvclNwZWMgPSB0aGVtZS5nbG9iYWwuY29sb3JzW2NvbG9yXSB8fCBjb2xvcjsgLy8gSWYgdGhlIGNvbG9yIGhhcyBhIGxpZ2h0IG9yIGRhcmsgb2JqZWN0LCB1c2UgdGhhdFxuXG4gIHZhciByZXN1bHQgPSBjb2xvclNwZWM7XG5cbiAgaWYgKHRoZW1lLmRhcmsgJiYgY29sb3JTcGVjLmRhcmspIHtcbiAgICByZXN1bHQgPSBjb2xvclNwZWMuZGFyaztcbiAgfSBlbHNlIGlmICghdGhlbWUuZGFyayAmJiBjb2xvclNwZWMubGlnaHQpIHtcbiAgICByZXN1bHQgPSBjb2xvclNwZWMubGlnaHQ7XG4gIH0gLy8gYWxsb3cgb25lIGxldmVsIG9mIGluZGlyZWN0aW9uIGluIGNvbG9yIG5hbWVzXG5cblxuICBpZiAocmVzdWx0ICYmIHRoZW1lLmdsb2JhbC5jb2xvcnNbcmVzdWx0XSAmJiB0aGVtZS5nbG9iYWwuY29sb3JzW3Jlc3VsdF0gIT09IHJlc3VsdCkge1xuICAgIHJlc3VsdCA9IG5vcm1hbGl6ZUNvbG9yKHJlc3VsdCwgdGhlbWUpO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07IiwiZXhwb3J0ICogZnJvbSAnLi9jb2xvcnMnOyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCBDaGlsZHJlbiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEJveCB9IGZyb20gJy4uL0JveCc7XG5pbXBvcnQgeyBBY2NvcmRpb25Db250ZXh0IH0gZnJvbSAnLi9BY2NvcmRpb25Db250ZXh0JztcblxudmFyIGFjdGl2ZUFzQXJyYXkgPSBmdW5jdGlvbiBhY3RpdmVBc0FycmF5KGFjdGl2ZSkge1xuICByZXR1cm4gdHlwZW9mIGFjdGl2ZSA9PT0gJ251bWJlcicgPyBbYWN0aXZlXSA6IGFjdGl2ZTtcbn07XG5cbnZhciBBY2NvcmRpb24gPSBmdW5jdGlvbiBBY2NvcmRpb24oX3JlZikge1xuICB2YXIgYWN0aXZlSW5kZXggPSBfcmVmLmFjdGl2ZUluZGV4LFxuICAgICAgX3JlZiRhbmltYXRlID0gX3JlZi5hbmltYXRlLFxuICAgICAgYW5pbWF0ZSA9IF9yZWYkYW5pbWF0ZSA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9yZWYkYW5pbWF0ZSxcbiAgICAgIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbixcbiAgICAgIF9yZWYkbWVzc2FnZXMgPSBfcmVmLm1lc3NhZ2VzLFxuICAgICAgbWVzc2FnZXMgPSBfcmVmJG1lc3NhZ2VzID09PSB2b2lkIDAgPyB7XG4gICAgdGFiQ29udGVudHM6ICdUYWIgQ29udGVudHMnXG4gIH0gOiBfcmVmJG1lc3NhZ2VzLFxuICAgICAgbXVsdGlwbGUgPSBfcmVmLm11bHRpcGxlLFxuICAgICAgb25BY3RpdmUgPSBfcmVmLm9uQWN0aXZlLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9yZWYsIFtcImFjdGl2ZUluZGV4XCIsIFwiYW5pbWF0ZVwiLCBcImNoaWxkcmVuXCIsIFwibWVzc2FnZXNcIiwgXCJtdWx0aXBsZVwiLCBcIm9uQWN0aXZlXCJdKTtcblxuICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUoW10pLFxuICAgICAgYWN0aXZlSW5kZXhlcyA9IF91c2VTdGF0ZVswXSxcbiAgICAgIHNldEFjdGl2ZUluZGV4ZXMgPSBfdXNlU3RhdGVbMV07XG5cbiAgdmFyIF91c2VTdGF0ZTIgPSB1c2VTdGF0ZSgpLFxuICAgICAgc3RhdGVBY3RpdmVJbmRleCA9IF91c2VTdGF0ZTJbMF0sXG4gICAgICBzZXRTdGF0ZUFjdGl2ZUluZGV4ID0gX3VzZVN0YXRlMlsxXTsgLy8gRGVyaXZlZCBzdGF0ZSBmcm9tIHByb3BzXG4gIC8vIGh0dHBzOi8vcmVhY3Rqcy5vcmcvZG9jcy9ob29rcy1mYXEuaHRtbCNob3ctZG8taS1pbXBsZW1lbnQtZ2V0ZGVyaXZlZHN0YXRlZnJvbXByb3BzXG5cblxuICB2YXIgZGVyaXZlZEFjdGl2ZUluZGV4ZXMgPSBhY3RpdmVBc0FycmF5KGFjdGl2ZUluZGV4KSB8fCBbXTtcblxuICBpZiAoKHR5cGVvZiBhY3RpdmVJbmRleCAhPT0gJ3VuZGVmaW5lZCcgfHwgYWN0aXZlSW5kZXggIT09IHN0YXRlQWN0aXZlSW5kZXgpICYmIGRlcml2ZWRBY3RpdmVJbmRleGVzLmpvaW4oKSAhPT0gYWN0aXZlSW5kZXhlcy5qb2luKCkpIHtcbiAgICBzZXRBY3RpdmVJbmRleGVzKGRlcml2ZWRBY3RpdmVJbmRleGVzKTtcbiAgICBzZXRTdGF0ZUFjdGl2ZUluZGV4KGFjdGl2ZUluZGV4KTtcbiAgfVxuXG4gIHZhciBfb25QYW5lbENoYW5nZSA9IGZ1bmN0aW9uIG9uUGFuZWxDaGFuZ2UoaW5kZXgpIHtcbiAgICB2YXIgbmV4dEFjdGl2ZUluZGV4ZXMgPSBbXS5jb25jYXQoYWN0aXZlSW5kZXhlcyB8fCBbXSk7XG4gICAgdmFyIG5leHRBY3RpdmVJbmRleCA9IG5leHRBY3RpdmVJbmRleGVzLmluZGV4T2YoaW5kZXgpO1xuXG4gICAgaWYgKG5leHRBY3RpdmVJbmRleCA+IC0xKSB7XG4gICAgICBuZXh0QWN0aXZlSW5kZXhlcy5zcGxpY2UobmV4dEFjdGl2ZUluZGV4LCAxKTtcbiAgICB9IGVsc2UgaWYgKG11bHRpcGxlKSB7XG4gICAgICBuZXh0QWN0aXZlSW5kZXhlcy5wdXNoKGluZGV4KTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmV4dEFjdGl2ZUluZGV4ZXMgPSBbaW5kZXhdO1xuICAgIH1cblxuICAgIHNldEFjdGl2ZUluZGV4ZXMobmV4dEFjdGl2ZUluZGV4ZXMpO1xuXG4gICAgaWYgKG9uQWN0aXZlKSB7XG4gICAgICBvbkFjdGl2ZShuZXh0QWN0aXZlSW5kZXhlcyk7XG4gICAgfVxuICB9OyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cblxuXG4gIGRlbGV0ZSByZXN0Lm9uQWN0aXZlO1xuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChCb3gsIF9leHRlbmRzKHtcbiAgICByb2xlOiBcInRhYmxpc3RcIlxuICB9LCByZXN0KSwgQ2hpbGRyZW4udG9BcnJheShjaGlsZHJlbikubWFwKGZ1bmN0aW9uIChwYW5lbCwgaW5kZXgpIHtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChBY2NvcmRpb25Db250ZXh0LlByb3ZpZGVyLCB7XG4gICAgICBrZXk6IFwiYWNjb3JkaW9uLXBhbmVsX1wiICsgKGluZGV4ICsgMCksXG4gICAgICB2YWx1ZToge1xuICAgICAgICBhY3RpdmU6IGFjdGl2ZUluZGV4ZXMuaW5kZXhPZihpbmRleCkgPiAtMSxcbiAgICAgICAgYW5pbWF0ZTogYW5pbWF0ZSxcbiAgICAgICAgbWVzc2FnZXM6IG1lc3NhZ2VzLFxuICAgICAgICBvblBhbmVsQ2hhbmdlOiBmdW5jdGlvbiBvblBhbmVsQ2hhbmdlKCkge1xuICAgICAgICAgIHJldHVybiBfb25QYW5lbENoYW5nZShpbmRleCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBwYW5lbCk7XG4gIH0pKTtcbn07XG5cbnZhciBBY2NvcmRpb25Eb2M7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBnbG9iYWwtcmVxdWlyZVxuICBBY2NvcmRpb25Eb2MgPSByZXF1aXJlKCcuL2RvYycpLmRvYyhBY2NvcmRpb24pO1xufVxuXG52YXIgQWNjb3JkaW9uV3JhcHBlciA9IEFjY29yZGlvbkRvYyB8fCBBY2NvcmRpb247XG5leHBvcnQgeyBBY2NvcmRpb25XcmFwcGVyIGFzIEFjY29yZGlvbiB9OyIsImltcG9ydCB7IGNyZWF0ZUNvbnRleHQgfSBmcm9tICdyZWFjdCc7XG5leHBvcnQgdmFyIEFjY29yZGlvbkNvbnRleHQgPSBjcmVhdGVDb250ZXh0KHt9KTsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5pbXBvcnQgeyBkZXNjcmliZSwgUHJvcFR5cGVzIH0gZnJvbSAncmVhY3QtZGVzYyc7XG5pbXBvcnQgeyBnZW5lcmljUHJvcHMsIGdldEF2YWlsYWJsZUF0QmFkZ2UgfSBmcm9tICcuLi8uLi91dGlscyc7XG5leHBvcnQgdmFyIGRvYyA9IGZ1bmN0aW9uIGRvYyhBY2NvcmRpb24pIHtcbiAgdmFyIERvY3VtZW50ZWRBY2NvcmRpb24gPSBkZXNjcmliZShBY2NvcmRpb24pLmF2YWlsYWJsZUF0KGdldEF2YWlsYWJsZUF0QmFkZ2UoJ0FjY29yZGlvbicpKS5kZXNjcmlwdGlvbignQW4gYWNjb3JkaW9uIGNvbnRhaW5pbmcgY29sbGFwc2libGUgcGFuZWxzLicpLnVzYWdlKFwiaW1wb3J0IHsgQWNjb3JkaW9uLCBBY2NvcmRpb25QYW5lbCB9IGZyb20gJ2dyb21tZXQnO1xcbjxBY2NvcmRpb24+XFxuICA8QWNjb3JkaW9uUGFuZWwgbGFiZWw9J1BhbmVsIDEnPi4uLjwvQWNjb3JkaW9uUGFuZWw+XFxuICA8QWNjb3JkaW9uUGFuZWwgbGFiZWw9J1BhbmVsIDInPi4uLjwvQWNjb3JkaW9uUGFuZWw+XFxuPC9BY2NvcmRpb24+XCIpLmludHJpbnNpY0VsZW1lbnQoJ2RpdicpO1xuICBEb2N1bWVudGVkQWNjb3JkaW9uLnByb3BUeXBlcyA9IF9leHRlbmRzKHt9LCBnZW5lcmljUHJvcHMsIHtcbiAgICBhY3RpdmVJbmRleDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm51bWJlciwgUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm51bWJlcildKS5kZXNjcmlwdGlvbihcIkFjdGl2ZSBwYW5lbCBpbmRleC4gSWYgc3BlY2lmaWVkLCBBY2NvcmRpb24gd2lsbCBiZSBhIGNvbnRyb2xsZWQgXFxuY29tcG9uZW50LiBUaGlzIG1lYW5zIHRoYXQgZnV0dXJlIHBhbmVsIGNoYW5nZXMgd2lsbCBub3Qgd29yayB1bmxlc3MgeW91XFxuc3Vic2NyaWJlIHRvIG9uQWN0aXZlIGZ1bmN0aW9uIGFuZCB1cGRhdGUgYWN0aXZlSW5kZXggYWNjb3JkaW5nbHkuXCIpLmRlZmF1bHRWYWx1ZSgwKSxcbiAgICBhbmltYXRlOiBQcm9wVHlwZXMuYm9vbC5kZXNjcmlwdGlvbignVHJhbnNpdGlvbiBjb250ZW50IGluICYgb3V0IHdpdGggYSBzbGlkZSBkb3duIGFuaW1hdGlvbi4nKS5kZWZhdWx0VmFsdWUodHJ1ZSksXG4gICAgY2hpbGRyZW46IFByb3BUeXBlcy5ub2RlLmRlc2NyaXB0aW9uKCdBcnJheSBvZiBBY2NvcmRpb25QYW5lbHMuJyksXG4gICAgb25BY3RpdmU6IFByb3BUeXBlcy5mdW5jLmRlc2NyaXB0aW9uKFwiRnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCB3aGVuIHRoZSBhY3RpdmUgaW5kZXggY2hhbmdlcy5cXG5JdCB3aWxsIGFsd2F5cyBzZW5kIGFuIGFycmF5IHdpdGggY3VycmVudGx5IGFjdGl2ZSBwYW5lbCBpbmRleGVzLlwiKSxcbiAgICBtdWx0aXBsZTogUHJvcFR5cGVzLmJvb2wuZGVzY3JpcHRpb24oJ0FsbG93IG11bHRpcGxlIHBhbmVscyB0byBiZSBvcGVuZWQgYXQgb25jZS4nKS5kZWZhdWx0VmFsdWUoZmFsc2UpLFxuICAgIG1lc3NhZ2VzOiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgdGFiQ29udGVudHM6IFByb3BUeXBlcy5zdHJpbmdcbiAgICB9KS5kZXNjcmlwdGlvbignQ3VzdG9tIG1lc3NhZ2VzIGZvciBUYWJzLiBVc2VkIGZvciBhY2Nlc3NpYmlsaXR5IGJ5IHNjcmVlbiByZWFkZXJzLicpLmRlZmF1bHRWYWx1ZSh7XG4gICAgICB0YWJDb250ZW50czogJ1RhYiBDb250ZW50cydcbiAgICB9KVxuICB9KTtcbiAgcmV0dXJuIERvY3VtZW50ZWRBY2NvcmRpb247XG59OyIsImV4cG9ydCB7IEFjY29yZGlvbiB9IGZyb20gJy4vQWNjb3JkaW9uJzsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbXBvc2UgfSBmcm9tICdyZWNvbXBvc2UnO1xuaW1wb3J0IHsgd2l0aFRoZW1lIH0gZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgbm9ybWFsaXplQ29sb3IgfSBmcm9tICcuLi8uLi91dGlscyc7XG5pbXBvcnQgeyBkZWZhdWx0UHJvcHMgfSBmcm9tICcuLi8uLi9kZWZhdWx0LXByb3BzJztcbmltcG9ydCB7IEJveCB9IGZyb20gJy4uL0JveCc7XG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICcuLi9CdXR0b24nO1xuaW1wb3J0IHsgQ29sbGFwc2libGUgfSBmcm9tICcuLi9Db2xsYXBzaWJsZSc7XG5pbXBvcnQgeyBIZWFkaW5nIH0gZnJvbSAnLi4vSGVhZGluZyc7XG5pbXBvcnQgeyB3aXRoRm9yd2FyZFJlZiB9IGZyb20gJy4uL2hvY3MnO1xuaW1wb3J0IHsgQWNjb3JkaW9uQ29udGV4dCB9IGZyb20gJy4uL0FjY29yZGlvbi9BY2NvcmRpb25Db250ZXh0JztcblxudmFyIEFjY29yZGlvblBhbmVsID0gZnVuY3Rpb24gQWNjb3JkaW9uUGFuZWwoX3JlZikge1xuICB2YXIgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuLFxuICAgICAgaGVhZGVyID0gX3JlZi5oZWFkZXIsXG4gICAgICBsYWJlbCA9IF9yZWYubGFiZWwsXG4gICAgICB0aGVtZSA9IF9yZWYudGhlbWUsXG4gICAgICBvbk1vdXNlT3V0ID0gX3JlZi5vbk1vdXNlT3V0LFxuICAgICAgb25Nb3VzZU92ZXIgPSBfcmVmLm9uTW91c2VPdmVyLFxuICAgICAgb25Gb2N1cyA9IF9yZWYub25Gb2N1cyxcbiAgICAgIG9uQmx1ciA9IF9yZWYub25CbHVyLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9yZWYsIFtcImNoaWxkcmVuXCIsIFwiaGVhZGVyXCIsIFwibGFiZWxcIiwgXCJ0aGVtZVwiLCBcIm9uTW91c2VPdXRcIiwgXCJvbk1vdXNlT3ZlclwiLCBcIm9uRm9jdXNcIiwgXCJvbkJsdXJcIl0pO1xuXG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZSh1bmRlZmluZWQpLFxuICAgICAgaG92ZXIgPSBfdXNlU3RhdGVbMF0sXG4gICAgICBzZXRIb3ZlciA9IF91c2VTdGF0ZVsxXTtcblxuICB2YXIgaWNvbkNvbG9yID0gbm9ybWFsaXplQ29sb3IodGhlbWUuYWNjb3JkaW9uLmljb25zLmNvbG9yIHx8ICdjb250cm9sJywgdGhlbWUpO1xuXG4gIHZhciBvbkhhbmRsZU1vdXNlT3ZlciA9IGZ1bmN0aW9uIG9uSGFuZGxlTW91c2VPdmVyKCkge1xuICAgIHZhciBkYXJrID0gdGhlbWUuZGFyaztcbiAgICBzZXRIb3ZlcihkYXJrID8gJ2xpZ2h0LTQnIDogJ2RhcmstMycpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIGlmIChvbk1vdXNlT3Zlcikgb25Nb3VzZU92ZXIoYXJncyk7XG4gIH07XG5cbiAgdmFyIG9uSGFuZGxlTW91c2VPdXQgPSBmdW5jdGlvbiBvbkhhbmRsZU1vdXNlT3V0KCkge1xuICAgIHNldEhvdmVyKHVuZGVmaW5lZCk7XG5cbiAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjIpLCBfa2V5MiA9IDA7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgIGFyZ3NbX2tleTJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICB9XG5cbiAgICBpZiAob25Nb3VzZU91dCkgb25Nb3VzZU91dChhcmdzKTtcbiAgfTtcblxuICB2YXIgb25IYW5kbGVGb2N1cyA9IGZ1bmN0aW9uIG9uSGFuZGxlRm9jdXMoKSB7XG4gICAgdmFyIGRhcmsgPSB0aGVtZS5kYXJrO1xuICAgIHNldEhvdmVyKGRhcmsgPyAnbGlnaHQtNCcgOiAnZGFyay0zJyk7XG5cbiAgICBmb3IgKHZhciBfbGVuMyA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjMpLCBfa2V5MyA9IDA7IF9rZXkzIDwgX2xlbjM7IF9rZXkzKyspIHtcbiAgICAgIGFyZ3NbX2tleTNdID0gYXJndW1lbnRzW19rZXkzXTtcbiAgICB9XG5cbiAgICBpZiAob25Gb2N1cykgb25Gb2N1cyhhcmdzKTtcbiAgfTtcblxuICB2YXIgb25IYW5kbGVCbHVyID0gZnVuY3Rpb24gb25IYW5kbGVCbHVyKCkge1xuICAgIHNldEhvdmVyKHVuZGVmaW5lZCk7XG5cbiAgICBmb3IgKHZhciBfbGVuNCA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjQpLCBfa2V5NCA9IDA7IF9rZXk0IDwgX2xlbjQ7IF9rZXk0KyspIHtcbiAgICAgIGFyZ3NbX2tleTRdID0gYXJndW1lbnRzW19rZXk0XTtcbiAgICB9XG5cbiAgICBpZiAob25CbHVyKSBvbkJsdXIoYXJncyk7XG4gIH07XG5cbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQWNjb3JkaW9uQ29udGV4dC5Db25zdW1lciwgbnVsbCwgZnVuY3Rpb24gKHBhbmVsQ29udGV4dCkge1xuICAgIHZhciBhY3RpdmUgPSBwYW5lbENvbnRleHQuYWN0aXZlLFxuICAgICAgICBhbmltYXRlID0gcGFuZWxDb250ZXh0LmFuaW1hdGUsXG4gICAgICAgIG9uUGFuZWxDaGFuZ2UgPSBwYW5lbENvbnRleHQub25QYW5lbENoYW5nZTtcbiAgICB2YXIgQWNjb3JkaW9uSWNvbiA9IGFjdGl2ZSA/IHRoZW1lLmFjY29yZGlvbi5pY29ucy5jb2xsYXBzZSA6IHRoZW1lLmFjY29yZGlvbi5pY29ucy5leHBhbmQ7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQm94LCB7XG4gICAgICBmbGV4OiBmYWxzZVxuICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7XG4gICAgICByb2xlOiBcInRhYlwiLFxuICAgICAgXCJhcmlhLXNlbGVjdGVkXCI6IGFjdGl2ZSxcbiAgICAgIFwiYXJpYS1leHBhbmRlZFwiOiBhY3RpdmUsXG4gICAgICBvbkNsaWNrOiBvblBhbmVsQ2hhbmdlLFxuICAgICAgb25Nb3VzZU92ZXI6IG9uSGFuZGxlTW91c2VPdmVyLFxuICAgICAgb25Nb3VzZU91dDogb25IYW5kbGVNb3VzZU91dCxcbiAgICAgIG9uRm9jdXM6IG9uSGFuZGxlRm9jdXMsXG4gICAgICBvbkJsdXI6IG9uSGFuZGxlQmx1clxuICAgIH0sIGhlYWRlciB8fCBSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwgX2V4dGVuZHMoe1xuICAgICAgYWxpZ246IFwiY2VudGVyXCIsXG4gICAgICBkaXJlY3Rpb246IFwicm93XCIsXG4gICAgICBqdXN0aWZ5OiBcImJldHdlZW5cIlxuICAgIH0sIHJlc3QpLCB0eXBlb2YgbGFiZWwgPT09ICdzdHJpbmcnID8gUmVhY3QuY3JlYXRlRWxlbWVudChCb3gsIHtcbiAgICAgIHBhZDoge1xuICAgICAgICBob3Jpem9udGFsOiAneHNtYWxsJ1xuICAgICAgfVxuICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSGVhZGluZywge1xuICAgICAgbGV2ZWw6IHRoZW1lLmFjY29yZGlvbi5oZWFkaW5nICYmIHRoZW1lLmFjY29yZGlvbi5oZWFkaW5nLmxldmVsIHx8IDQsXG4gICAgICBjb2xvcjogaG92ZXJcbiAgICB9LCBsYWJlbCkpIDogbGFiZWwsIEFjY29yZGlvbkljb24gJiYgUmVhY3QuY3JlYXRlRWxlbWVudChCb3gsIHtcbiAgICAgIHBhZDoge1xuICAgICAgICBob3Jpem9udGFsOiAnc21hbGwnXG4gICAgICB9XG4gICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChBY2NvcmRpb25JY29uLCB7XG4gICAgICBjb2xvcjogaWNvbkNvbG9yXG4gICAgfSkpKSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQm94LCB7XG4gICAgICBib3JkZXI6IHRoZW1lLmFjY29yZGlvbi5ib3JkZXJcbiAgICB9LCBhbmltYXRlID8gUmVhY3QuY3JlYXRlRWxlbWVudChDb2xsYXBzaWJsZSwge1xuICAgICAgb3BlbjogYWN0aXZlXG4gICAgfSwgY2hpbGRyZW4pIDogYWN0aXZlICYmIGNoaWxkcmVuKSk7XG4gIH0pO1xufTtcblxuQWNjb3JkaW9uUGFuZWwuZGVmYXVsdFByb3BzID0ge307XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoQWNjb3JkaW9uUGFuZWwuZGVmYXVsdFByb3BzLCBkZWZhdWx0UHJvcHMpO1xudmFyIEFjY29yZGlvblBhbmVsRG9jO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZ2xvYmFsLXJlcXVpcmVcbiAgQWNjb3JkaW9uUGFuZWxEb2MgPSByZXF1aXJlKCcuL2RvYycpLmRvYyhBY2NvcmRpb25QYW5lbCk7XG59XG5cbnZhciBBY2NvcmRpb25QYW5lbFdyYXBwZXIgPSBjb21wb3NlKHdpdGhUaGVtZSwgd2l0aEZvcndhcmRSZWYpKEFjY29yZGlvblBhbmVsRG9jIHx8IEFjY29yZGlvblBhbmVsKTtcbmV4cG9ydCB7IEFjY29yZGlvblBhbmVsV3JhcHBlciBhcyBBY2NvcmRpb25QYW5lbCB9OyIsImltcG9ydCB7IGRlc2NyaWJlLCBQcm9wVHlwZXMgfSBmcm9tICdyZWFjdC1kZXNjJztcbmV4cG9ydCBmdW5jdGlvbiBkb2MoUGFuZWwpIHtcbiAgdmFyIERvY3VtZW50ZWRBY2NvcmRpb25QYW5lbCA9IGRlc2NyaWJlKFBhbmVsKS5kZXNjcmlwdGlvbignQW4gQWNjb3JkaW9uIHBhbmVsLicpLmludHJpbnNpY0VsZW1lbnQoJ2RpdicpO1xuICBEb2N1bWVudGVkQWNjb3JkaW9uUGFuZWwucHJvcFR5cGVzID0ge1xuICAgIGxhYmVsOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMubm9kZV0pLmRlc2NyaXB0aW9uKCdUaGUgcGFuZWwgbGFiZWwuJyksXG4gICAgaGVhZGVyOiBQcm9wVHlwZXMubm9kZS5kZXNjcmlwdGlvbignSWYgc3BlY2lmaWVkLCB0aGUgZW50aXJlIHBhbmVsIGhlYWRlciB3aWxsIGJlIG1hbmFnZWQgYnkgdGhlIGNhbGxlci4nKVxuICB9O1xuICByZXR1cm4gRG9jdW1lbnRlZEFjY29yZGlvblBhbmVsO1xufVxuZXhwb3J0IHZhciB0aGVtZURvYyA9IHtcbiAgJ2FjY29yZGlvbi5oZWFkaW5nLmxldmVsJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGhlYWRpbmcgbGV2ZWwgdXNlZCBmb3IgdGhlIGFjY29yZGlvbi4nLFxuICAgIHR5cGU6ICdudW1iZXInLFxuICAgIGRlZmF1bHRWYWx1ZTogJzQnXG4gIH0sXG4gICdhY2NvcmRpb24uaWNvbnMuY29sbGFwc2UnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgaWNvbiB0byB1c2Ugd2hlbiB0aGUgcGFuZWwgaXMgZXhwYW5kZWQuJyxcbiAgICB0eXBlOiAnUmVhY3QuRWxlbWVudCcsXG4gICAgZGVmYXVsdFZhbHVlOiAnPEZvcm1VcCAvPidcbiAgfSxcbiAgJ2FjY29yZGlvbi5pY29ucy5jb2xvcic6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBpY29uIGNvbG9yIHRvIHVzZSBpbiB0aGUgYWNjb3JkaW9uLicsXG4gICAgdHlwZTogJ3N0cmluZyB8IHsgZGFyazogc3RyaW5nLCBsaWdodDogc3RyaW5nIH0nLFxuICAgIGRlZmF1bHRWYWx1ZTogJ2NvbnRyb2wnXG4gIH0sXG4gICdhY2NvcmRpb24uaWNvbnMuZXhwYW5kJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGljb24gdG8gdXNlIHdoZW4gdGhlIHBhbmVsIGlzIGNvbGxhcHNlZC4nLFxuICAgIHR5cGU6ICdSZWFjdC5FbGVtZW50JyxcbiAgICBkZWZhdWx0VmFsdWU6ICc8Rm9ybURvd24gLz4nXG4gIH0sXG4gICdhY2NvcmRpb24uYm9yZGVyLmNvbG9yJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGJvcmRlciBjb2xvciB0byB1c2UgaW4gdGhlIGFjY29yZGlvbi4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCB7IGRhcms6IHN0cmluZywgbGlnaHQ6IHN0cmluZyB9JyxcbiAgICBkZWZhdWx0VmFsdWU6ICdib3JkZXInXG4gIH0sXG4gICdhY2NvcmRpb24uYm9yZGVyLnNpZGUnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgYm9yZGVyIHNpZGUgdG8gdXNlIGluIHRoZSBhY2NvcmRpb24uJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICdib3R0b20nXG4gIH1cbn07IiwiZXhwb3J0IHsgQWNjb3JkaW9uUGFuZWwgfSBmcm9tICcuL0FjY29yZGlvblBhbmVsJzsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmltcG9ydCBSZWFjdCwgeyBjbG9uZUVsZW1lbnQsIGZvcndhcmRSZWYsIHVzZUNvbnRleHQsIHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBUaGVtZUNvbnRleHQgfSBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBkZWZhdWx0UHJvcHMgfSBmcm9tICcuLi8uLi9kZWZhdWx0LXByb3BzJztcbmltcG9ydCB7IG5vcm1hbGl6ZUNvbG9yIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuaW1wb3J0IHsgQm94IH0gZnJvbSAnLi4vQm94JztcbmltcG9ydCB7IFN0eWxlZEFuY2hvciB9IGZyb20gJy4vU3R5bGVkQW5jaG9yJztcbnZhciBBbmNob3IgPSBmb3J3YXJkUmVmKGZ1bmN0aW9uIChfcmVmLCByZWYpIHtcbiAgdmFyIGExMXlUaXRsZSA9IF9yZWYuYTExeVRpdGxlLFxuICAgICAgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuLFxuICAgICAgY29sb3IgPSBfcmVmLmNvbG9yLFxuICAgICAgZGlzYWJsZWQgPSBfcmVmLmRpc2FibGVkLFxuICAgICAgaHJlZiA9IF9yZWYuaHJlZixcbiAgICAgIGljb24gPSBfcmVmLmljb24sXG4gICAgICBsYWJlbCA9IF9yZWYubGFiZWwsXG4gICAgICBfb25CbHVyID0gX3JlZi5vbkJsdXIsXG4gICAgICBvbkNsaWNrID0gX3JlZi5vbkNsaWNrLFxuICAgICAgX29uRm9jdXMgPSBfcmVmLm9uRm9jdXMsXG4gICAgICByZXZlcnNlID0gX3JlZi5yZXZlcnNlLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9yZWYsIFtcImExMXlUaXRsZVwiLCBcImNoaWxkcmVuXCIsIFwiY29sb3JcIiwgXCJkaXNhYmxlZFwiLCBcImhyZWZcIiwgXCJpY29uXCIsIFwibGFiZWxcIiwgXCJvbkJsdXJcIiwgXCJvbkNsaWNrXCIsIFwib25Gb2N1c1wiLCBcInJldmVyc2VcIl0pO1xuXG4gIHZhciB0aGVtZSA9IHVzZUNvbnRleHQoVGhlbWVDb250ZXh0KSB8fCBkZWZhdWx0UHJvcHMudGhlbWU7XG5cbiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKCksXG4gICAgICBmb2N1cyA9IF91c2VTdGF0ZVswXSxcbiAgICAgIHNldEZvY3VzID0gX3VzZVN0YXRlWzFdO1xuXG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKChpY29uIHx8IGxhYmVsKSAmJiBjaGlsZHJlbikge1xuICAgICAgY29uc29sZS53YXJuKCdBbmNob3Igc2hvdWxkIG5vdCBoYXZlIGNoaWxkcmVuIGlmIGljb24gb3IgbGFiZWwgaXMgcHJvdmlkZWQnKTtcbiAgICB9XG4gIH0sIFtjaGlsZHJlbiwgaWNvbiwgbGFiZWxdKTtcbiAgdmFyIGNvbG9yZWRJY29uID0gaWNvbjtcblxuICBpZiAoaWNvbiAmJiAhaWNvbi5wcm9wcy5jb2xvcikge1xuICAgIGNvbG9yZWRJY29uID0gY2xvbmVFbGVtZW50KGljb24sIHtcbiAgICAgIGNvbG9yOiBub3JtYWxpemVDb2xvcihjb2xvciB8fCB0aGVtZS5hbmNob3IuY29sb3IsIHRoZW1lKVxuICAgIH0pO1xuICB9XG5cbiAgdmFyIGZpcnN0ID0gcmV2ZXJzZSA/IGxhYmVsIDogY29sb3JlZEljb247XG4gIHZhciBzZWNvbmQgPSByZXZlcnNlID8gY29sb3JlZEljb24gOiBsYWJlbDtcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkQW5jaG9yLCBfZXh0ZW5kcyh7fSwgcmVzdCwge1xuICAgIHJlZjogcmVmLFxuICAgIFwiYXJpYS1sYWJlbFwiOiBhMTF5VGl0bGUsXG4gICAgY29sb3JQcm9wOiBjb2xvcixcbiAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgaGFzSWNvbjogISFpY29uLFxuICAgIGZvY3VzOiBmb2N1cyxcbiAgICBoYXNMYWJlbDogbGFiZWwsXG4gICAgcmV2ZXJzZTogcmV2ZXJzZSxcbiAgICBocmVmOiAhZGlzYWJsZWQgPyBocmVmIDogdW5kZWZpbmVkLFxuICAgIG9uQ2xpY2s6ICFkaXNhYmxlZCA/IG9uQ2xpY2sgOiB1bmRlZmluZWQsXG4gICAgb25Gb2N1czogZnVuY3Rpb24gb25Gb2N1cyhldmVudCkge1xuICAgICAgc2V0Rm9jdXModHJ1ZSk7XG4gICAgICBpZiAoX29uRm9jdXMpIF9vbkZvY3VzKGV2ZW50KTtcbiAgICB9LFxuICAgIG9uQmx1cjogZnVuY3Rpb24gb25CbHVyKGV2ZW50KSB7XG4gICAgICBzZXRGb2N1cyhmYWxzZSk7XG4gICAgICBpZiAoX29uQmx1cikgX29uQmx1cihldmVudCk7XG4gICAgfVxuICB9KSwgZmlyc3QgJiYgc2Vjb25kID8gUmVhY3QuY3JlYXRlRWxlbWVudChCb3gsIHtcbiAgICBhczogXCJzcGFuXCIsXG4gICAgZGlyZWN0aW9uOiBcInJvd1wiLFxuICAgIGFsaWduOiBcImNlbnRlclwiLFxuICAgIGdhcDogXCJzbWFsbFwiLFxuICAgIHN0eWxlOiB7XG4gICAgICBkaXNwbGF5OiAnaW5saW5lLWZsZXgnXG4gICAgfVxuICB9LCBmaXJzdCwgc2Vjb25kKSA6IGZpcnN0IHx8IHNlY29uZCB8fCBjaGlsZHJlbik7XG59KTtcbkFuY2hvci5kaXNwbGF5TmFtZSA9ICdBbmNob3InO1xudmFyIEFuY2hvckRvYztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGdsb2JhbC1yZXF1aXJlXG4gIEFuY2hvckRvYyA9IHJlcXVpcmUoJy4vZG9jJykuZG9jKEFuY2hvcik7XG59XG5cbnZhciBBbmNob3JXcmFwcGVyID0gQW5jaG9yRG9jIHx8IEFuY2hvcjtcbmV4cG9ydCB7IEFuY2hvcldyYXBwZXIgYXMgQW5jaG9yIH07IiwiaW1wb3J0IHN0eWxlZCwgeyBjc3MgfSBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBmb2N1c1N0eWxlLCBnZW5lcmljU3R5bGVzLCBub3JtYWxpemVDb2xvciB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmltcG9ydCB7IGRlZmF1bHRQcm9wcyB9IGZyb20gJy4uLy4uL2RlZmF1bHQtcHJvcHMnO1xudmFyIGRpc2FibGVkU3R5bGUgPSBcIlxcbiAgb3BhY2l0eTogMC4zO1xcbiAgY3Vyc29yOiBkZWZhdWx0O1xcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xcblwiO1xuXG52YXIgc2l6ZVN0eWxlID0gZnVuY3Rpb24gc2l6ZVN0eWxlKHByb3BzKSB7XG4gIGlmIChwcm9wcy5zaXplKSB7XG4gICAgdmFyIHNpemUgPSBwcm9wcy5zaXplIHx8ICdtZWRpdW0nO1xuICAgIHZhciBkYXRhID0gcHJvcHMudGhlbWUudGV4dFtzaXplXTtcbiAgICByZXR1cm4gY3NzKFtcImZvbnQtc2l6ZTpcIiwgXCI7bGluZS1oZWlnaHQ6XCIsIFwiO1wiXSwgZGF0YS5zaXplLCBkYXRhLmhlaWdodCk7XG4gIH1cblxuICByZXR1cm4gY3NzKFtcImZvbnQtc2l6ZTppbmhlcml0O2xpbmUtaGVpZ2h0OmluaGVyaXQ7XCJdKTtcbn07XG5cbnZhciBTdHlsZWRBbmNob3IgPSBzdHlsZWQuYS53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiU3R5bGVkQW5jaG9yXCIsXG4gIGNvbXBvbmVudElkOiBcInNjLTFycDdsd2wtMFwiXG59KShbXCJib3gtc2l6aW5nOmJvcmRlci1ib3g7XCIsIFwiIGNvbG9yOlwiLCBcIjtcIiwgXCIgdGV4dC1kZWNvcmF0aW9uOlwiLCBcIjtjdXJzb3I6cG9pbnRlcjtvdXRsaW5lOm5vbmU7XCIsIFwiIFwiLCBcIiBcIiwgXCIgXCIsIFwiIFwiLCBcIiBcIiwgXCJcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gc2l6ZVN0eWxlKHByb3BzKTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gbm9ybWFsaXplQ29sb3IocHJvcHMuY29sb3JQcm9wIHx8IHByb3BzLnRoZW1lLmFuY2hvci5jb2xvciwgcHJvcHMudGhlbWUpO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5hbmNob3IuZm9udFdlaWdodCAmJiBcImZvbnQtd2VpZ2h0OiBcIiArIHByb3BzLnRoZW1lLmFuY2hvci5mb250V2VpZ2h0ICsgXCI7XCI7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLmhhc0ljb24gPyAnbm9uZScgOiBwcm9wcy50aGVtZS5hbmNob3IudGV4dERlY29yYXRpb247XG59LCBnZW5lcmljU3R5bGVzLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuICFwcm9wcy5kaXNhYmxlZCAmJiBwcm9wcy50aGVtZS5hbmNob3IuaG92ZXIgJiYgY3NzKFtcIiY6aG92ZXJ7XCIsIFwiIFwiLCBcIiBcIiwgXCJ9XCJdLCBwcm9wcy50aGVtZS5hbmNob3IuaG92ZXIudGV4dERlY29yYXRpb24gJiYgXCJ0ZXh0LWRlY29yYXRpb246IFwiICsgcHJvcHMudGhlbWUuYW5jaG9yLmhvdmVyLnRleHREZWNvcmF0aW9uICsgXCI7XCIsIHByb3BzLnRoZW1lLmFuY2hvci5ob3Zlci5mb250V2VpZ2h0ICYmIFwiZm9udC13ZWlnaHQ6IFwiICsgcHJvcHMudGhlbWUuYW5jaG9yLmhvdmVyLmZvbnRXZWlnaHQgKyBcIjtcIiwgcHJvcHMudGhlbWUuYW5jaG9yLmhvdmVyLmV4dGVuZCk7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLmhhc0ljb24gJiYgIXByb3BzLmhhc0xhYmVsICYmIFwiXFxuICAgIHBhZGRpbmc6IFwiICsgcHJvcHMudGhlbWUuZ2xvYmFsLmVkZ2VTaXplLnNtYWxsICsgXCI7XFxuICBcIjtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuZGlzYWJsZWQgJiYgZGlzYWJsZWRTdHlsZTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuZm9jdXMgJiYgZm9jdXNTdHlsZTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUuYW5jaG9yLmV4dGVuZDtcbn0pO1xuU3R5bGVkQW5jaG9yLmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKFN0eWxlZEFuY2hvci5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG5leHBvcnQgeyBTdHlsZWRBbmNob3IgfTsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5pbXBvcnQgeyBkZXNjcmliZSwgUHJvcFR5cGVzIH0gZnJvbSAncmVhY3QtZGVzYyc7XG5pbXBvcnQgeyBjb2xvclByb3BUeXBlLCBnZW5lcmljUHJvcHMsIGdldEF2YWlsYWJsZUF0QmFkZ2UsIHRoZW1lRG9jVXRpbHMgfSBmcm9tICcuLi8uLi91dGlscyc7XG5leHBvcnQgdmFyIGRvYyA9IGZ1bmN0aW9uIGRvYyhBbmNob3IpIHtcbiAgdmFyIERvY3VtZW50ZWRBbmNob3IgPSBkZXNjcmliZShBbmNob3IpLmF2YWlsYWJsZUF0KGdldEF2YWlsYWJsZUF0QmFkZ2UoJ0FuY2hvcicpKS5kZXNjcmlwdGlvbignQSB0ZXh0IGxpbmsuJykuZGV0YWlscyhcIldlIGhhdmUgYSBzZXBhcmF0ZSBjb21wb25lbnQgZnJvbSB0aGUgYnJvd3NlclxcbmJhc2Ugc28gd2UgY2FuIHN0eWxlIGl0LiBZb3UgY2FuIGVpdGhlciBzZXQgdGhlIGljb24gYW5kL29yIGxhYmVsIHByb3BlcnRpZXNcXG5vciBqdXN0IHVzZSBjaGlsZHJlbi5cIikudXNhZ2UoXCJpbXBvcnQgeyBBbmNob3IgfSBmcm9tICdncm9tbWV0JztcXG5cIiArIFwiPEFuY2hvciBocmVmPXtsb2NhdGlvbn0gbGFiZWw9J0xhYmVsJyAvPlwiKS5pbnRyaW5zaWNFbGVtZW50KCdhJyk7XG4gIERvY3VtZW50ZWRBbmNob3IucHJvcFR5cGVzID0gX2V4dGVuZHMoe30sIGdlbmVyaWNQcm9wcywge1xuICAgIGExMXlUaXRsZTogUHJvcFR5cGVzLnN0cmluZy5kZXNjcmlwdGlvbignQ3VzdG9tIHRpdGxlIHRvIGJlIHVzZWQgYnkgc2NyZWVuIHJlYWRlcnMuJyksXG4gICAgY29sb3I6IGNvbG9yUHJvcFR5cGUuZGVzY3JpcHRpb24oJ0xhYmVsIGNvbG9yIGFuZCBpY29uIGNvbG9yLCBpZiBub3Qgc3BlY2lmaWVkIG9uIHRoZSBpY29uLicpLFxuICAgIGRpc2FibGVkOiBQcm9wVHlwZXMuYm9vbC5kZXNjcmlwdGlvbignV2hldGhlciB0aGUgYW5jaG9yIGlzIGRpc2FibGVkLicpLmRlZmF1bHRWYWx1ZShmYWxzZSksXG4gICAgaHJlZjogUHJvcFR5cGVzLnN0cmluZy5kZXNjcmlwdGlvbignSHlwZXJsaW5rIHJlZmVyZW5jZSB0byBwbGFjZSBpbiB0aGUgYW5jaG9yLicpLFxuICAgIGljb246IFByb3BUeXBlcy5lbGVtZW50LmRlc2NyaXB0aW9uKCdJY29uIGVsZW1lbnQgdG8gcGxhY2UgaW4gdGhlIGFuY2hvci4nKSxcbiAgICBsYWJlbDogUHJvcFR5cGVzLm5vZGUuZGVzY3JpcHRpb24oJ0xhYmVsIHRleHQgdG8gcGxhY2UgaW4gdGhlIGFuY2hvci4nKSxcbiAgICBvbkNsaWNrOiBQcm9wVHlwZXMuZnVuYy5kZXNjcmlwdGlvbihcIkNsaWNrIGhhbmRsZXIuIEl0IGNhbiBiZSB1c2VkLCBmb3IgZXhhbXBsZSxcXG4gICAgICAgIHRvIGFkZCBhbmFseXRpY3MgYW5kIHRyYWNrIHdobyBjbGlja2VkIGluIHRoZSBhbmNob3IuXCIpLFxuICAgIHJldmVyc2U6IFByb3BUeXBlcy5ib29sLmRlc2NyaXB0aW9uKFwiV2hldGhlciBhbiBpY29uIGFuZCBsYWJlbCBzaG91bGQgYmUgcmV2ZXJzZWQgc28gdGhhdCB0aGVcXG4gICAgICAgIGljb24gaXMgYXQgdGhlIGVuZCBvZiB0aGUgYW5jaG9yLlwiKS5kZWZhdWx0VmFsdWUoZmFsc2UpLFxuICAgIHNpemU6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbJ3hzbWFsbCcsICdzbWFsbCcsICdtZWRpdW0nLCAnbGFyZ2UnLCAneGxhcmdlJywgJ3h4bGFyZ2UnXSksIFByb3BUeXBlcy5zdHJpbmddKS5kZXNjcmlwdGlvbihcIlRoZSBmb250IHNpemUgaXMgdHlwaWNhbGx5IGRyaXZlbiBieSB0aGUgY29tcG9uZW50cyBjb250YWluaW5nXFxudGhpcyBjb21wb25lbnQuIEJ1dCwgaXQgY2FuIGJlIGFkanVzdGVkIGRpcmVjdGx5IHZpYSB0aGlzIHNpemUgcHJvcGVydHksXFxudHlwaWNhbGx5IHdoZW4gaXQgaXMgbm90IGNvbnRhaW5lZCBpbiBhICdIZWFkaW5nJywgJ1BhcmFncmFwaCcsIG9yICdUZXh0Jy5cIiksXG4gICAgYXM6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5mdW5jXSkuZGVzY3JpcHRpb24oXCJUaGUgRE9NIHRhZyBvciByZWFjdCBjb21wb25lbnQgdG8gdXNlIGZvciB0aGUgZWxlbWVudC5cIilcbiAgfSk7XG4gIHJldHVybiBEb2N1bWVudGVkQW5jaG9yO1xufTtcbmV4cG9ydCB2YXIgdGhlbWVEb2MgPSBfZXh0ZW5kcyh7XG4gICdhbmNob3IuY29sb3InOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgY29sb3Igb2YgdGhlIGxhYmVsIHRleHQgYW5kIGljb24gc3Ryb2tlcy4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCB7IGRhcms6IHN0cmluZywgbGlnaHQ6IHN0cmluZyB9JyxcbiAgICBkZWZhdWx0VmFsdWU6IFwieyBsaWdodDogJyMxRDY3RTMnLCBkYXJrOiAnIzYxOTRFQicgfVwiXG4gIH0sXG4gICdhbmNob3IuZm9udFdlaWdodCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBmb250IHdlaWdodCBvZiB0aGUgbGFiZWwuJyxcbiAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICBkZWZhdWx0VmFsdWU6IDYwMFxuICB9LFxuICAnYW5jaG9yLnRleHREZWNvcmF0aW9uJzoge1xuICAgIGRlc2NyaXB0aW9uOiBcIlRoZSB0ZXh0IGRlY29yYXRpb24gb2YgdGhlIGxhYmVsLiBcXG5SZWZlciB0byBbTUROXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MvdGV4dC1kZWNvcmF0aW9uKVxcbmZvciBwb3NzaWJsZSB2YWx1ZXMuXCIsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiAnbm9uZSdcbiAgfSxcbiAgJ2FuY2hvci5ob3Zlci5mb250V2VpZ2h0Jzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGZvbnQgd2VpZ2h0IG9mIHRoZSBsYWJlbCB3aGVuIGhvdmVyaW5nLicsXG4gICAgdHlwZTogJ251bWJlcicsXG4gICAgZGVmYXVsdFZhbHVlOiB1bmRlZmluZWRcbiAgfSxcbiAgJ2FuY2hvci5ob3Zlci50ZXh0RGVjb3JhdGlvbic6IHtcbiAgICBkZXNjcmlwdGlvbjogXCJUaGUgdGV4dCBkZWNvcmF0aW9uIG9mIHRoZSBsYWJlbCB3aGVuIGhvdmVyaW5nLiBcXG5SZWZlciB0byBbTUROXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MvdGV4dC1kZWNvcmF0aW9uKVxcbmZvciBwb3NzaWJsZSB2YWx1ZXMuXCIsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiAndW5kZXJsaW5lJ1xuICB9LFxuICAnYW5jaG9yLmhvdmVyLmV4dGVuZCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ0FueSBhZGRpdGlvbmFsIHN0eWxlIGZvciB0aGUgQW5jaG9yIHdoZW4gaG92ZXJpbmcuJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgKHByb3BzKSA9PiB7fScsXG4gICAgZGVmYXVsdFZhbHVlOiB1bmRlZmluZWRcbiAgfSxcbiAgJ2FuY2hvci5leHRlbmQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdBbnkgYWRkaXRpb25hbCBzdHlsZSBmb3IgdGhlIEFuY2hvci4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCAocHJvcHMpID0+IHt9JyxcbiAgICBkZWZhdWx0VmFsdWU6IHVuZGVmaW5lZFxuICB9LFxuICAndGV4dC5tZWRpdW0uc2l6ZSc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBmb250IHNpemUgb2YgdGhlIHRleHQgbGFiZWwuJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICcxOHB4J1xuICB9LFxuICAndGV4dC5tZWRpdW0uaGVpZ2h0Jzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGxpbmUgaGVpZ2h0IG9mIHRoZSB0ZXh0IGxhYmVsLicsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiAnMjRweCdcbiAgfVxufSwgdGhlbWVEb2NVdGlscy5mb2N1c1N0eWxlLCB7fSwgdGhlbWVEb2NVdGlscy5lZGdlU3R5bGUoJ1RoZSBwb3NzaWJsZSBzaXplcyBmb3IgbWFyZ2luLicpKTsiLCJleHBvcnQgeyBBbmNob3IgfSBmcm9tICcuL0FuY2hvcic7IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5pbXBvcnQgUmVhY3QsIHsgQ2hpbGRyZW4sIGZvcndhcmRSZWYsIHVzZUNvbnRleHQsIHVzZU1lbW8sIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgVGhlbWVDb250ZXh0IH0gZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgZGVmYXVsdFByb3BzIH0gZnJvbSAnLi4vLi4vZGVmYXVsdC1wcm9wcyc7XG5pbXBvcnQgeyBiYWNrZ3JvdW5kSXNEYXJrIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuaW1wb3J0IHsgS2V5Ym9hcmQgfSBmcm9tICcuLi9LZXlib2FyZCc7XG5pbXBvcnQgeyBTdHlsZWRCb3gsIFN0eWxlZEJveEdhcCB9IGZyb20gJy4vU3R5bGVkQm94JztcbnZhciBCb3ggPSBmb3J3YXJkUmVmKGZ1bmN0aW9uIChfcmVmLCByZWYpIHtcbiAgdmFyIGExMXlUaXRsZSA9IF9yZWYuYTExeVRpdGxlLFxuICAgICAgYmFja2dyb3VuZCA9IF9yZWYuYmFja2dyb3VuZCxcbiAgICAgIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbixcbiAgICAgIF9yZWYkZGlyZWN0aW9uID0gX3JlZi5kaXJlY3Rpb24sXG4gICAgICBkaXJlY3Rpb24gPSBfcmVmJGRpcmVjdGlvbiA9PT0gdm9pZCAwID8gJ2NvbHVtbicgOiBfcmVmJGRpcmVjdGlvbixcbiAgICAgIGVsZXZhdGlvbiA9IF9yZWYuZWxldmF0aW9uLFxuICAgICAgZmlsbCA9IF9yZWYuZmlsbCxcbiAgICAgIGdhcCA9IF9yZWYuZ2FwLFxuICAgICAgX29uQmx1ciA9IF9yZWYub25CbHVyLFxuICAgICAgb25DbGljayA9IF9yZWYub25DbGljayxcbiAgICAgIF9vbkZvY3VzID0gX3JlZi5vbkZvY3VzLFxuICAgICAgb3ZlcmZsb3cgPSBfcmVmLm92ZXJmbG93LFxuICAgICAgX3JlZiRyZXNwb25zaXZlID0gX3JlZi5yZXNwb25zaXZlLFxuICAgICAgcmVzcG9uc2l2ZSA9IF9yZWYkcmVzcG9uc2l2ZSA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9yZWYkcmVzcG9uc2l2ZSxcbiAgICAgIHRhZyA9IF9yZWYudGFnLFxuICAgICAgYXMgPSBfcmVmLmFzLFxuICAgICAgd3JhcCA9IF9yZWYud3JhcCxcbiAgICAgIHdpZHRoID0gX3JlZi53aWR0aCxcbiAgICAgIGhlaWdodCA9IF9yZWYuaGVpZ2h0LFxuICAgICAgdGFiSW5kZXggPSBfcmVmLnRhYkluZGV4LFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9yZWYsIFtcImExMXlUaXRsZVwiLCBcImJhY2tncm91bmRcIiwgXCJjaGlsZHJlblwiLCBcImRpcmVjdGlvblwiLCBcImVsZXZhdGlvblwiLCBcImZpbGxcIiwgXCJnYXBcIiwgXCJvbkJsdXJcIiwgXCJvbkNsaWNrXCIsIFwib25Gb2N1c1wiLCBcIm92ZXJmbG93XCIsIFwicmVzcG9uc2l2ZVwiLCBcInRhZ1wiLCBcImFzXCIsIFwid3JhcFwiLCBcIndpZHRoXCIsIFwiaGVpZ2h0XCIsIFwidGFiSW5kZXhcIl0pO1xuXG4gIHZhciB0aGVtZSA9IHVzZUNvbnRleHQoVGhlbWVDb250ZXh0KSB8fCBkZWZhdWx0UHJvcHMudGhlbWU7XG4gIHZhciBmb2N1c2FibGUgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gb25DbGljayAmJiAhKHRhYkluZGV4IDwgMCk7XG4gIH0sIFtvbkNsaWNrLCB0YWJJbmRleF0pO1xuXG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZSgpLFxuICAgICAgZm9jdXMgPSBfdXNlU3RhdGVbMF0sXG4gICAgICBzZXRGb2N1cyA9IF91c2VTdGF0ZVsxXTtcblxuICB2YXIgY2xpY2tQcm9wcyA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIGlmIChmb2N1c2FibGUpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG9uQ2xpY2s6IG9uQ2xpY2ssXG4gICAgICAgIG9uRm9jdXM6IGZ1bmN0aW9uIG9uRm9jdXMoZXZlbnQpIHtcbiAgICAgICAgICBzZXRGb2N1cyh0cnVlKTtcbiAgICAgICAgICBpZiAoX29uRm9jdXMpIF9vbkZvY3VzKGV2ZW50KTtcbiAgICAgICAgfSxcbiAgICAgICAgb25CbHVyOiBmdW5jdGlvbiBvbkJsdXIoZXZlbnQpIHtcbiAgICAgICAgICBzZXRGb2N1cyhmYWxzZSk7XG4gICAgICAgICAgaWYgKF9vbkJsdXIpIF9vbkJsdXIoZXZlbnQpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cblxuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICBpZiAoX29uQmx1cikgcmVzdWx0Lm9uQmx1ciA9IF9vbkJsdXI7XG4gICAgaWYgKG9uQ2xpY2spIHJlc3VsdC5vbkNsaWNrID0gb25DbGljaztcbiAgICBpZiAoX29uRm9jdXMpIHJlc3VsdC5vbkZvY3VzID0gX29uRm9jdXM7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSwgW2ZvY3VzYWJsZSwgb25DbGljaywgX29uRm9jdXMsIF9vbkJsdXJdKTtcbiAgdmFyIGFkanVzdGVkVGFiSW5kZXggPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGFiSW5kZXggIT09IHVuZGVmaW5lZCkgcmV0dXJuIHRhYkluZGV4O1xuICAgIGlmIChmb2N1c2FibGUpIHJldHVybiAwO1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH0sIFtmb2N1c2FibGUsIHRhYkluZGV4XSk7XG4gIHZhciBjb250ZW50cyA9IGNoaWxkcmVuO1xuXG4gIGlmIChnYXApIHtcbiAgICBjb250ZW50cyA9IFtdO1xuICAgIHZhciBmaXJzdEluZGV4O1xuICAgIENoaWxkcmVuLmZvckVhY2goY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCwgaW5kZXgpIHtcbiAgICAgIGlmIChjaGlsZCkge1xuICAgICAgICBpZiAoZmlyc3RJbmRleCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgZmlyc3RJbmRleCA9IGluZGV4O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnRlbnRzLnB1c2goUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWRCb3hHYXAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0L25vLWFycmF5LWluZGV4LWtleVxuICAgICAgICAgICwge1xuICAgICAgICAgICAga2V5OiBcImdhcC1cIiArIGluZGV4LFxuICAgICAgICAgICAgZ2FwOiBnYXAsXG4gICAgICAgICAgICBkaXJlY3Rpb25Qcm9wOiBkaXJlY3Rpb24sXG4gICAgICAgICAgICByZXNwb25zaXZlOiByZXNwb25zaXZlXG4gICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnRlbnRzLnB1c2goY2hpbGQpO1xuICAgIH0pO1xuICB9XG5cbiAgdmFyIGNvbnRlbnQgPSBSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZEJveCwgX2V4dGVuZHMoe1xuICAgIGFzOiAhYXMgJiYgdGFnID8gdGFnIDogYXMsXG4gICAgXCJhcmlhLWxhYmVsXCI6IGExMXlUaXRsZSxcbiAgICBiYWNrZ3JvdW5kOiBiYWNrZ3JvdW5kLFxuICAgIHJlZjogcmVmLFxuICAgIGRpcmVjdGlvblByb3A6IGRpcmVjdGlvbixcbiAgICBlbGV2YXRpb25Qcm9wOiBlbGV2YXRpb24sXG4gICAgZmlsbFByb3A6IGZpbGwsXG4gICAgZm9jdXM6IGZvY3VzLFxuICAgIG92ZXJmbG93UHJvcDogb3ZlcmZsb3csXG4gICAgd3JhcFByb3A6IHdyYXAsXG4gICAgd2lkdGhQcm9wOiB3aWR0aCxcbiAgICBoZWlnaHRQcm9wOiBoZWlnaHQsXG4gICAgcmVzcG9uc2l2ZTogcmVzcG9uc2l2ZSxcbiAgICB0YWJJbmRleDogYWRqdXN0ZWRUYWJJbmRleFxuICB9LCBjbGlja1Byb3BzLCByZXN0KSwgY29udGVudHMpO1xuXG4gIGlmIChvbkNsaWNrKSB7XG4gICAgY29udGVudCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoS2V5Ym9hcmQsIHtcbiAgICAgIG9uRW50ZXI6IG9uQ2xpY2tcbiAgICB9LCBjb250ZW50KTtcbiAgfSAvLyBXaGVuIGEgQm94IGNoYW5nZXMgdGhlIGRhcmtuZXNzLCBpdCBzZXRzIGRhcmtDaGFuZ2VkIHNvIHRoYXQgU3R5bGVkQm94XG4gIC8vIGNhbiBrbm93IHdoYXQgdGhlIHVuZGVybHlpbmcgZGFya25lc3MgaXMgd2hlbiBkZWNpZGluZyB3aGljaCBlbGV2YXRpb25cbiAgLy8gdG8gc2hvdy5cblxuXG4gIGlmIChiYWNrZ3JvdW5kIHx8IHRoZW1lLmRhcmtDaGFuZ2VkKSB7XG4gICAgdmFyIGRhcmsgPSBiYWNrZ3JvdW5kSXNEYXJrKGJhY2tncm91bmQsIHRoZW1lKTtcbiAgICB2YXIgZGFya0NoYW5nZWQgPSBkYXJrICE9PSB1bmRlZmluZWQgJiYgZGFyayAhPT0gdGhlbWUuZGFyaztcblxuICAgIGlmIChkYXJrQ2hhbmdlZCB8fCB0aGVtZS5kYXJrQ2hhbmdlZCkge1xuICAgICAgZGFyayA9IGRhcmsgPT09IHVuZGVmaW5lZCA/IHRoZW1lLmRhcmsgOiBkYXJrO1xuICAgICAgY29udGVudCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGhlbWVDb250ZXh0LlByb3ZpZGVyLCB7XG4gICAgICAgIHZhbHVlOiBfZXh0ZW5kcyh7fSwgdGhlbWUsIHtcbiAgICAgICAgICBkYXJrOiBkYXJrLFxuICAgICAgICAgIGRhcmtDaGFuZ2VkOiBkYXJrQ2hhbmdlZFxuICAgICAgICB9KVxuICAgICAgfSwgY29udGVudCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNvbnRlbnQ7XG59KTtcbkJveC5kaXNwbGF5TmFtZSA9ICdCb3gnO1xudmFyIEJveERvYztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgQm94RG9jID0gcmVxdWlyZSgnLi9kb2MnKS5kb2MoQm94KTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBnbG9iYWwtcmVxdWlyZVxufVxuXG52YXIgQm94V3JhcHBlciA9IEJveERvYyB8fCBCb3g7XG5leHBvcnQgeyBCb3hXcmFwcGVyIGFzIEJveCB9OyIsInZhciBfRkxFWF9NQVA7XG5cbmltcG9ydCBzdHlsZWQsIHsgY3NzLCBrZXlmcmFtZXMgfSBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBkZWZhdWx0UHJvcHMgfSBmcm9tICcuLi8uLi9kZWZhdWx0LXByb3BzJztcbmltcG9ydCB7IGJhY2tncm91bmRTdHlsZSwgYm9yZGVyU3R5bGUsIGJyZWFrcG9pbnRTdHlsZSwgZWRnZVN0eWxlLCBmb2N1c1N0eWxlLCBnZW5lcmljU3R5bGVzLCBnZXRIb3ZlckluZGljYXRvclN0eWxlLCBvdmVyZmxvd1N0eWxlIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xudmFyIEFMSUdOX01BUCA9IHtcbiAgYmFzZWxpbmU6ICdiYXNlbGluZScsXG4gIGNlbnRlcjogJ2NlbnRlcicsXG4gIGVuZDogJ2ZsZXgtZW5kJyxcbiAgc3RhcnQ6ICdmbGV4LXN0YXJ0JyxcbiAgc3RyZXRjaDogJ3N0cmV0Y2gnXG59O1xudmFyIGFsaWduU3R5bGUgPSBjc3MoW1wiYWxpZ24taXRlbXM6XCIsIFwiO1wiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBBTElHTl9NQVBbcHJvcHMuYWxpZ25dO1xufSk7XG52YXIgQUxJR05fQ09OVEVOVF9NQVAgPSB7XG4gIGFyb3VuZDogJ2Fyb3VuZCcsXG4gIGJldHdlZW46ICdiZXR3ZWVuJyxcbiAgY2VudGVyOiAnY2VudGVyJyxcbiAgZW5kOiAnZmxleC1lbmQnLFxuICBzdGFydDogJ2ZsZXgtc3RhcnQnLFxuICBzdHJldGNoOiAnc3RyZXRjaCdcbn07XG52YXIgYWxpZ25Db250ZW50U3R5bGUgPSBjc3MoW1wiYWxpZ24tY29udGVudDpcIiwgXCI7XCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIEFMSUdOX0NPTlRFTlRfTUFQW3Byb3BzLmFsaWduQ29udGVudF07XG59KTtcbnZhciBCQVNJU19NQVAgPSB7XG4gIGF1dG86ICdhdXRvJyxcbiAgZnVsbDogJzEwMCUnLFxuICAnMS8yJzogJzUwJScsXG4gICcxLzQnOiAnMjUlJyxcbiAgJzIvNCc6ICc1MCUnLFxuICAnMy80JzogJzc1JScsXG4gICcxLzMnOiAnMzMuMzMlJyxcbiAgJzIvMyc6ICc2Ni42NiUnXG59O1xudmFyIGJhc2lzU3R5bGUgPSBjc3MoW1wiZmxleC1iYXNpczpcIiwgXCI7XCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIEJBU0lTX01BUFtwcm9wcy5iYXNpc10gfHwgcHJvcHMudGhlbWUuZ2xvYmFsLnNpemVbcHJvcHMuYmFzaXNdIHx8IHByb3BzLmJhc2lzO1xufSk7IC8vIG1pbi13aWR0aCBhbmQgbWluLWhlaWdodCBuZWVkZWQgYmVjYXVzZSBvZiB0aGlzXG4vLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8zNjI0NzE0MC93aHktZG9lc250LWZsZXgtaXRlbS1zaHJpbmstcGFzdC1jb250ZW50LXNpemVcbi8vIHdlIGFzc3VtZSB3ZSBhcmUgaW4gdGhlIGNvbnRleHQgb2YgYSBCb3ggZ29pbmcgdGhlIG90aGVyIGRpcmVjdGlvblxuLy8gVE9ETzogcmV2aXNpdCB0aGlzXG5cbnZhciBkaXJlY3Rpb25TdHlsZSA9IGZ1bmN0aW9uIGRpcmVjdGlvblN0eWxlKGRpcmVjdGlvbiwgdGhlbWUpIHtcbiAgdmFyIHN0eWxlcyA9IFtjc3MoW1wibWluLXdpZHRoOjA7bWluLWhlaWdodDowO2ZsZXgtZGlyZWN0aW9uOlwiLCBcIjtcIl0sIGRpcmVjdGlvbiA9PT0gJ3Jvdy1yZXNwb25zaXZlJyA/ICdyb3cnIDogZGlyZWN0aW9uKV07XG5cbiAgaWYgKGRpcmVjdGlvbiA9PT0gJ3Jvdy1yZXNwb25zaXZlJyAmJiB0aGVtZS5ib3gucmVzcG9uc2l2ZUJyZWFrcG9pbnQpIHtcbiAgICB2YXIgYnJlYWtwb2ludCA9IHRoZW1lLmdsb2JhbC5icmVha3BvaW50c1t0aGVtZS5ib3gucmVzcG9uc2l2ZUJyZWFrcG9pbnRdO1xuXG4gICAgaWYgKGJyZWFrcG9pbnQpIHtcbiAgICAgIHN0eWxlcy5wdXNoKGJyZWFrcG9pbnRTdHlsZShicmVha3BvaW50LCBcIlxcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gICAgICAgIGZsZXgtYmFzaXM6IGF1dG87XFxuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XFxuICAgICAgICBhbGlnbi1pdGVtczogc3RyZXRjaDtcXG4gICAgICBcIikpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBzdHlsZXM7XG59O1xuXG52YXIgZWxldmF0aW9uU3R5bGUgPSBjc3MoW1wiYm94LXNoYWRvdzpcIiwgXCI7XCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLmdsb2JhbC5lbGV2YXRpb25bcHJvcHMudGhlbWUuZGFyayAmJiAhcHJvcHMudGhlbWUuZGFya0NoYW5nZWQgfHwgIXByb3BzLnRoZW1lLmRhcmsgJiYgcHJvcHMudGhlbWUuZGFya0NoYW5nZWQgPyAnZGFyaycgOiAnbGlnaHQnXVtwcm9wcy5lbGV2YXRpb25Qcm9wXTtcbn0pO1xudmFyIEZMRVhfTUFQID0gKF9GTEVYX01BUCA9IHt9LCBfRkxFWF9NQVBbdHJ1ZV0gPSAnMSAxJywgX0ZMRVhfTUFQW2ZhbHNlXSA9ICcwIDAnLCBfRkxFWF9NQVAuZ3JvdyA9ICcxIDAnLCBfRkxFWF9NQVAuc2hyaW5rID0gJzAgMScsIF9GTEVYX01BUCk7XG5cbnZhciBmbGV4R3Jvd1Nocmlua1Byb3AgPSBmdW5jdGlvbiBmbGV4R3Jvd1Nocmlua1Byb3AoZmxleCkge1xuICBpZiAodHlwZW9mIGZsZXggPT09ICdib29sZWFuJyB8fCB0eXBlb2YgZmxleCA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gRkxFWF9NQVBbZmxleF07XG4gIH1cblxuICByZXR1cm4gKGZsZXguZ3JvdyA/IGZsZXguZ3JvdyA6IDApICsgXCIgXCIgKyAoZmxleC5zaHJpbmsgPyBmbGV4LnNocmluayA6IDApO1xufTtcblxudmFyIGZsZXhTdHlsZSA9IGNzcyhbXCJmbGV4OlwiLCBcIjtcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gXCJcIiArIGZsZXhHcm93U2hyaW5rUHJvcChwcm9wcy5mbGV4KSArIChwcm9wcy5mbGV4ICE9PSB0cnVlICYmICFwcm9wcy5iYXNpcyA/ICcgYXV0bycgOiAnJyk7XG59KTtcblxudmFyIGZpbGxTdHlsZSA9IGZ1bmN0aW9uIGZpbGxTdHlsZShmaWxsUHJvcCkge1xuICBpZiAoZmlsbFByb3AgPT09ICdob3Jpem9udGFsJykge1xuICAgIHJldHVybiAnd2lkdGg6IDEwMCU7JztcbiAgfVxuXG4gIGlmIChmaWxsUHJvcCA9PT0gJ3ZlcnRpY2FsJykge1xuICAgIHJldHVybiAnaGVpZ2h0OiAxMDAlOyc7XG4gIH1cblxuICBpZiAoZmlsbFByb3ApIHtcbiAgICByZXR1cm4gXCJcXG4gICAgICB3aWR0aDogMTAwJTtcXG4gICAgICBoZWlnaHQ6IDEwMCU7XFxuICAgIFwiO1xuICB9XG5cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn07XG5cbnZhciBKVVNUSUZZX01BUCA9IHtcbiAgYXJvdW5kOiAnc3BhY2UtYXJvdW5kJyxcbiAgYmV0d2VlbjogJ3NwYWNlLWJldHdlZW4nLFxuICBjZW50ZXI6ICdjZW50ZXInLFxuICBlbmQ6ICdmbGV4LWVuZCcsXG4gIGV2ZW5seTogJ3NwYWNlLWV2ZW5seScsXG4gIHN0YXJ0OiAnZmxleC1zdGFydCdcbn07XG52YXIganVzdGlmeVN0eWxlID0gY3NzKFtcImp1c3RpZnktY29udGVudDpcIiwgXCI7XCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIEpVU1RJRllfTUFQW3Byb3BzLmp1c3RpZnldO1xufSk7XG52YXIgV1JBUF9NQVAgPSB7XG4gIFwidHJ1ZVwiOiAnd3JhcCcsXG4gIHJldmVyc2U6ICd3cmFwLXJldmVyc2UnXG59O1xudmFyIHdyYXBTdHlsZSA9IGNzcyhbXCJmbGV4LXdyYXA6XCIsIFwiO1wiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBXUkFQX01BUFtwcm9wcy53cmFwUHJvcF07XG59KTtcbnZhciBST1VORF9NQVAgPSB7XG4gIGZ1bGw6ICcxMDAlJ1xufTtcblxudmFyIHJvdW5kU3R5bGUgPSBmdW5jdGlvbiByb3VuZFN0eWxlKGRhdGEsIHJlc3BvbnNpdmUsIHRoZW1lKSB7XG4gIHZhciBicmVha3BvaW50ID0gdGhlbWUuYm94LnJlc3BvbnNpdmVCcmVha3BvaW50ICYmIHRoZW1lLmdsb2JhbC5icmVha3BvaW50c1t0aGVtZS5ib3gucmVzcG9uc2l2ZUJyZWFrcG9pbnRdO1xuICB2YXIgc3R5bGVzID0gW107XG5cbiAgaWYgKHR5cGVvZiBkYXRhID09PSAnb2JqZWN0Jykge1xuICAgIHZhciBzaXplID0gUk9VTkRfTUFQW2RhdGEuc2l6ZV0gfHwgdGhlbWUuZ2xvYmFsLmVkZ2VTaXplW2RhdGEuc2l6ZSB8fCAnbWVkaXVtJ10gfHwgZGF0YS5zaXplO1xuICAgIHZhciByZXNwb25zaXZlU2l6ZSA9IHJlc3BvbnNpdmUgJiYgYnJlYWtwb2ludCAmJiBicmVha3BvaW50LmVkZ2VTaXplW2RhdGEuc2l6ZV0gJiYgKGJyZWFrcG9pbnQuZWRnZVNpemVbZGF0YS5zaXplXSB8fCBkYXRhLnNpemUpO1xuXG4gICAgaWYgKGRhdGEuY29ybmVyID09PSAndG9wJykge1xuICAgICAgc3R5bGVzLnB1c2goY3NzKFtcImJvcmRlci10b3AtbGVmdC1yYWRpdXM6XCIsIFwiO2JvcmRlci10b3AtcmlnaHQtcmFkaXVzOlwiLCBcIjtcIl0sIHNpemUsIHNpemUpKTtcblxuICAgICAgaWYgKHJlc3BvbnNpdmVTaXplKSB7XG4gICAgICAgIHN0eWxlcy5wdXNoKGJyZWFrcG9pbnRTdHlsZShicmVha3BvaW50LCBcIlxcbiAgICAgICAgICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiBcIiArIHJlc3BvbnNpdmVTaXplICsgXCI7XFxuICAgICAgICAgIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiBcIiArIHJlc3BvbnNpdmVTaXplICsgXCI7XFxuICAgICAgICBcIikpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZGF0YS5jb3JuZXIgPT09ICdib3R0b20nKSB7XG4gICAgICBzdHlsZXMucHVzaChjc3MoW1wiYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czpcIiwgXCI7Ym9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6XCIsIFwiO1wiXSwgc2l6ZSwgc2l6ZSkpO1xuXG4gICAgICBpZiAocmVzcG9uc2l2ZVNpemUpIHtcbiAgICAgICAgc3R5bGVzLnB1c2goYnJlYWtwb2ludFN0eWxlKGJyZWFrcG9pbnQsIFwiXFxuICAgICAgICAgIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IFwiICsgcmVzcG9uc2l2ZVNpemUgKyBcIjtcXG4gICAgICAgICAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IFwiICsgcmVzcG9uc2l2ZVNpemUgKyBcIjtcXG4gICAgICAgIFwiKSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChkYXRhLmNvcm5lciA9PT0gJ2xlZnQnKSB7XG4gICAgICBzdHlsZXMucHVzaChjc3MoW1wiYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czpcIiwgXCI7Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czpcIiwgXCI7XCJdLCBzaXplLCBzaXplKSk7XG5cbiAgICAgIGlmIChyZXNwb25zaXZlU2l6ZSkge1xuICAgICAgICBzdHlsZXMucHVzaChicmVha3BvaW50U3R5bGUoYnJlYWtwb2ludCwgXCJcXG4gICAgICAgICAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogXCIgKyByZXNwb25zaXZlU2l6ZSArIFwiO1xcbiAgICAgICAgICBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiBcIiArIHJlc3BvbnNpdmVTaXplICsgXCI7XFxuICAgICAgICBcIikpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZGF0YS5jb3JuZXIgPT09ICdyaWdodCcpIHtcbiAgICAgIHN0eWxlcy5wdXNoKGNzcyhbXCJib3JkZXItdG9wLXJpZ2h0LXJhZGl1czpcIiwgXCI7Ym9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6XCIsIFwiO1wiXSwgc2l6ZSwgc2l6ZSkpO1xuXG4gICAgICBpZiAocmVzcG9uc2l2ZVNpemUpIHtcbiAgICAgICAgc3R5bGVzLnB1c2goYnJlYWtwb2ludFN0eWxlKGJyZWFrcG9pbnQsIFwiXFxuICAgICAgICAgIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiBcIiArIHJlc3BvbnNpdmVTaXplICsgXCI7XFxuICAgICAgICAgIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiBcIiArIHJlc3BvbnNpdmVTaXplICsgXCI7XFxuICAgICAgICBcIikpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZGF0YS5jb3JuZXIpIHtcbiAgICAgIHN0eWxlcy5wdXNoKGNzcyhbXCJib3JkZXItXCIsIFwiLXJhZGl1czpcIiwgXCI7XCJdLCBkYXRhLmNvcm5lciwgc2l6ZSkpO1xuXG4gICAgICBpZiAocmVzcG9uc2l2ZVNpemUpIHtcbiAgICAgICAgc3R5bGVzLnB1c2goYnJlYWtwb2ludFN0eWxlKGJyZWFrcG9pbnQsIFwiXFxuICAgICAgICAgIGJvcmRlci1cIiArIGRhdGEuY29ybmVyICsgXCItcmFkaXVzOiBcIiArIHJlc3BvbnNpdmVTaXplICsgXCI7XFxuICAgICAgICBcIikpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZXMucHVzaChjc3MoW1wiYm9yZGVyLXJhZGl1czpcIiwgXCI7XCJdLCBzaXplKSk7XG5cbiAgICAgIGlmIChyZXNwb25zaXZlU2l6ZSkge1xuICAgICAgICBzdHlsZXMucHVzaChicmVha3BvaW50U3R5bGUoYnJlYWtwb2ludCwgXCJcXG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogXCIgKyByZXNwb25zaXZlU2l6ZSArIFwiO1xcbiAgICAgICAgXCIpKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFyIF9zaXplID0gZGF0YSA9PT0gdHJ1ZSA/ICdtZWRpdW0nIDogZGF0YTtcblxuICAgIHN0eWxlcy5wdXNoKGNzcyhbXCJib3JkZXItcmFkaXVzOlwiLCBcIjtcIl0sIFJPVU5EX01BUFtfc2l6ZV0gfHwgdGhlbWUuZ2xvYmFsLmVkZ2VTaXplW19zaXplXSB8fCBfc2l6ZSkpO1xuXG4gICAgdmFyIF9yZXNwb25zaXZlU2l6ZSA9IGJyZWFrcG9pbnQgJiYgYnJlYWtwb2ludC5lZGdlU2l6ZVtfc2l6ZV07XG5cbiAgICBpZiAoX3Jlc3BvbnNpdmVTaXplKSB7XG4gICAgICBzdHlsZXMucHVzaChicmVha3BvaW50U3R5bGUoYnJlYWtwb2ludCwgXCJcXG4gICAgICAgIGJvcmRlci1yYWRpdXM6IFwiICsgX3Jlc3BvbnNpdmVTaXplICsgXCI7XFxuICAgICAgXCIpKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gc3R5bGVzO1xufTtcblxudmFyIFNMSURFX1NJWkVTID0ge1xuICB4c21hbGw6IDEsXG4gIHNtYWxsOiA1LFxuICBtZWRpdW06IDEwLFxuICBsYXJnZTogNTAsXG4gIHhsYXJnZTogMjAwXG59O1xudmFyIFBVTFNFX1NJWkVTID0ge1xuICB4c21hbGw6IDEuMDAxLFxuICBzbWFsbDogMS4wMSxcbiAgbWVkaXVtOiAxLjEsXG4gIGxhcmdlOiAxLjUsXG4gIHhsYXJnZTogMlxufTtcbnZhciBKSUdHTEVfU0laRVMgPSB7XG4gIHhzbWFsbDogMC4xLFxuICBzbWFsbDogMSxcbiAgbWVkaXVtOiA1LFxuICBsYXJnZTogNDAwLFxuICB4bGFyZ2U6IDEwMDBcbn07XG52YXIgWk9PTV9TSVpFUyA9IHtcbiAgeHNtYWxsOiAwLjAwMSxcbiAgc21hbGw6IDAuMDEsXG4gIG1lZGl1bTogMC4wNSxcbiAgbGFyZ2U6IDAuMSxcbiAgeGxhcmdlOiAwLjVcbn07XG5cbnZhciBhbmltYXRpb25Cb3VuZHMgPSBmdW5jdGlvbiBhbmltYXRpb25Cb3VuZHModHlwZSwgc2l6ZSkge1xuICBpZiAoc2l6ZSA9PT0gdm9pZCAwKSB7XG4gICAgc2l6ZSA9ICdtZWRpdW0nO1xuICB9XG5cbiAgaWYgKHR5cGUgPT09ICdmYWRlSW4nKSB7XG4gICAgcmV0dXJuIFsnb3BhY2l0eTogMDsnLCAnb3BhY2l0eTogMTsnXTtcbiAgfVxuXG4gIGlmICh0eXBlID09PSAnZmFkZU91dCcpIHtcbiAgICByZXR1cm4gWydvcGFjaXR5OiAxOycsICdvcGFjaXR5OiAwOyddO1xuICB9XG5cbiAgaWYgKHR5cGUgPT09ICdqaWdnbGUnKSB7XG4gICAgdmFyIGRlZyA9IEpJR0dMRV9TSVpFU1tzaXplXTtcbiAgICByZXR1cm4gW1widHJhbnNmb3JtOiByb3RhdGUoLVwiICsgZGVnICsgXCJkZWcpO1wiLCBcInRyYW5zZm9ybTogcm90YXRlKFwiICsgZGVnICsgXCJkZWcpO1wiXTtcbiAgfVxuXG4gIGlmICh0eXBlID09PSAncHVsc2UnKSB7XG4gICAgcmV0dXJuIFsndHJhbnNmb3JtOiBzY2FsZSgxKTsnLCBcInRyYW5zZm9ybTogc2NhbGUoXCIgKyBQVUxTRV9TSVpFU1tzaXplXSArIFwiKVwiXTtcbiAgfVxuXG4gIGlmICh0eXBlID09PSAnZmxpcEluJykge1xuICAgIHJldHVybiBbJ3RyYW5zZm9ybTogcm90YXRlWSg5MGRlZyk7JywgJ3RyYW5zZm9ybTogcm90YXRlWSgwKTsnXTtcbiAgfVxuXG4gIGlmICh0eXBlID09PSAnZmxpcE91dCcpIHtcbiAgICByZXR1cm4gWyd0cmFuc2Zvcm06IHJvdGF0ZVkoMCk7JywgJ3RyYW5zZm9ybTogcm90YXRlWSg5MGRlZyk7J107XG4gIH1cblxuICBpZiAodHlwZSA9PT0gJ3NsaWRlRG93bicpIHtcbiAgICByZXR1cm4gW1widHJhbnNmb3JtOiB0cmFuc2xhdGVZKC1cIiArIFNMSURFX1NJWkVTW3NpemVdICsgXCIlKTtcIiwgJ3RyYW5zZm9ybTogbm9uZTsnXTtcbiAgfVxuXG4gIGlmICh0eXBlID09PSAnc2xpZGVMZWZ0Jykge1xuICAgIHJldHVybiBbXCJ0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoXCIgKyBTTElERV9TSVpFU1tzaXplXSArIFwiJSk7XCIsICd0cmFuc2Zvcm06IG5vbmU7J107XG4gIH1cblxuICBpZiAodHlwZSA9PT0gJ3NsaWRlUmlnaHQnKSB7XG4gICAgcmV0dXJuIFtcInRyYW5zZm9ybTogdHJhbnNsYXRlWCgtXCIgKyBTTElERV9TSVpFU1tzaXplXSArIFwiJSk7XCIsICd0cmFuc2Zvcm06IG5vbmU7J107XG4gIH1cblxuICBpZiAodHlwZSA9PT0gJ3NsaWRlVXAnKSB7XG4gICAgcmV0dXJuIFtcInRyYW5zZm9ybTogdHJhbnNsYXRlWShcIiArIFNMSURFX1NJWkVTW3NpemVdICsgXCIlKTtcIiwgJ3RyYW5zZm9ybTogbm9uZTsnXTtcbiAgfVxuXG4gIGlmICh0eXBlID09PSAnem9vbUluJykge1xuICAgIHJldHVybiBbXCJ0cmFuc2Zvcm06IHNjYWxlKFwiICsgKDEgLSBaT09NX1NJWkVTW3NpemVdKSArIFwiKTtcIiwgJ3RyYW5zZm9ybTogbm9uZTsnXTtcbiAgfVxuXG4gIGlmICh0eXBlID09PSAnem9vbU91dCcpIHtcbiAgICByZXR1cm4gW1widHJhbnNmb3JtOiBzY2FsZShcIiArICgxICsgWk9PTV9TSVpFU1tzaXplXSkgKyBcIik7XCIsICd0cmFuc2Zvcm06IG5vbmU7J107XG4gIH1cblxuICByZXR1cm4gW107XG59O1xuXG52YXIgbm9ybWFsaXplVGltaW5nID0gZnVuY3Rpb24gbm9ybWFsaXplVGltaW5nKHRpbWUsIGRlZmF1bHRUaW1pbmcpIHtcbiAgcmV0dXJuIHRpbWUgPyB0aW1lIC8gMTAwMC4wICsgXCJzXCIgOiBkZWZhdWx0VGltaW5nO1xufTtcblxudmFyIGFuaW1hdGlvbkVuZGluZyA9IGZ1bmN0aW9uIGFuaW1hdGlvbkVuZGluZyh0eXBlKSB7XG4gIGlmICh0eXBlID09PSAnamlnZ2xlJykge1xuICAgIHJldHVybiAnYWx0ZXJuYXRlIGluZmluaXRlJztcbiAgfVxuXG4gIGlmICh0eXBlID09PSAncHVsc2UnKSB7XG4gICAgcmV0dXJuICdhbHRlcm5hdGUgaW5maW5pdGUnO1xuICB9XG5cbiAgcmV0dXJuICdmb3J3YXJkcyc7XG59O1xuXG52YXIgYW5pbWF0aW9uT2JqZWN0U3R5bGUgPSBmdW5jdGlvbiBhbmltYXRpb25PYmplY3RTdHlsZShhbmltYXRpb24sIHRoZW1lKSB7XG4gIHZhciBib3VuZHMgPSBhbmltYXRpb25Cb3VuZHMoYW5pbWF0aW9uLnR5cGUsIGFuaW1hdGlvbi5zaXplKTtcblxuICBpZiAoYm91bmRzKSB7XG4gICAgdmFyIGFuaW1hdGlvblRyYW5zaXRpb24gPSBjc3MoW1wiZnJvbXtcIiwgXCI7fXRve1wiLCBcIjt9XCJdLCBib3VuZHNbMF0sIGJvdW5kc1sxXSk7XG4gICAgcmV0dXJuIGNzcyhbXCJcIiwgXCIgXCIsIFwiIFwiLCBcIiBcIiwgXCJcIl0sIGtleWZyYW1lcyhbXCJcIiwgXCJcIl0sIGFuaW1hdGlvblRyYW5zaXRpb24pLCBub3JtYWxpemVUaW1pbmcoYW5pbWF0aW9uLmR1cmF0aW9uLCAodGhlbWUuZ2xvYmFsLmFuaW1hdGlvblthbmltYXRpb24udHlwZV0gPyB0aGVtZS5nbG9iYWwuYW5pbWF0aW9uW2FuaW1hdGlvbi50eXBlXS5kdXJhdGlvbiA6IHVuZGVmaW5lZCkgfHwgdGhlbWUuZ2xvYmFsLmFuaW1hdGlvbi5kdXJhdGlvbiksIG5vcm1hbGl6ZVRpbWluZyhhbmltYXRpb24uZGVsYXksICcwcycpLCBhbmltYXRpb25FbmRpbmcoYW5pbWF0aW9uLnR5cGUpKTtcbiAgfVxuXG4gIHJldHVybiAnJztcbn07XG5cbnZhciBhbmltYXRpb25JdGVtU3R5bGUgPSBmdW5jdGlvbiBhbmltYXRpb25JdGVtU3R5bGUoaXRlbSwgdGhlbWUpIHtcbiAgaWYgKHR5cGVvZiBpdGVtID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBhbmltYXRpb25PYmplY3RTdHlsZSh7XG4gICAgICB0eXBlOiBpdGVtXG4gICAgfSwgdGhlbWUpO1xuICB9XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkoaXRlbSkpIHtcbiAgICByZXR1cm4gaXRlbS5yZWR1Y2UoZnVuY3Rpb24gKHN0eWxlLCBhLCBpbmRleCkge1xuICAgICAgcmV0dXJuIGNzcyhbXCJcIiwgXCJcIiwgXCIgXCIsIFwiXCJdLCBzdHlsZSwgaW5kZXggPiAwID8gJywnIDogJycsIGFuaW1hdGlvbkl0ZW1TdHlsZShhLCB0aGVtZSkpO1xuICAgIH0sICcnKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgaXRlbSA9PT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gYW5pbWF0aW9uT2JqZWN0U3R5bGUoaXRlbSwgdGhlbWUpO1xuICB9XG5cbiAgcmV0dXJuICcnO1xufTtcblxudmFyIGFuaW1hdGlvbkFuY2lsYXJpZXMgPSBmdW5jdGlvbiBhbmltYXRpb25BbmNpbGFyaWVzKGFuaW1hdGlvbikge1xuICBpZiAoYW5pbWF0aW9uLnR5cGUgPT09ICdmbGlwSW4nIHx8IGFuaW1hdGlvbi50eXBlID09PSAnZmxpcE91dCcpIHtcbiAgICByZXR1cm4gJ3BlcnNwZWN0aXZlOiAxMDAwcHg7IHRyYW5zZm9ybS1zdHlsZTogcHJlc2VydmUtM2Q7JztcbiAgfVxuXG4gIHJldHVybiAnJztcbn07XG5cbnZhciBhbmltYXRpb25PYmplY3RJbml0aWFsU3R5bGUgPSBmdW5jdGlvbiBhbmltYXRpb25PYmplY3RJbml0aWFsU3R5bGUoYW5pbWF0aW9uKSB7XG4gIHZhciBib3VuZHMgPSBhbmltYXRpb25Cb3VuZHMoYW5pbWF0aW9uLnR5cGUsIGFuaW1hdGlvbi5zaXplKTtcblxuICBpZiAoYm91bmRzKSB7XG4gICAgcmV0dXJuIGJvdW5kc1swXSArIFwiIFwiICsgYW5pbWF0aW9uQW5jaWxhcmllcyhhbmltYXRpb24pO1xuICB9XG5cbiAgcmV0dXJuICcnO1xufTtcblxudmFyIGFuaW1hdGlvbkluaXRpYWxTdHlsZSA9IGZ1bmN0aW9uIGFuaW1hdGlvbkluaXRpYWxTdHlsZShpdGVtKSB7XG4gIGlmICh0eXBlb2YgaXRlbSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gYW5pbWF0aW9uT2JqZWN0SW5pdGlhbFN0eWxlKHtcbiAgICAgIHR5cGU6IGl0ZW1cbiAgICB9KTtcbiAgfVxuXG4gIGlmIChBcnJheS5pc0FycmF5KGl0ZW0pKSB7XG4gICAgcmV0dXJuIGl0ZW0ubWFwKGZ1bmN0aW9uIChhKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIGEgPT09ICdzdHJpbmcnID8gYW5pbWF0aW9uT2JqZWN0SW5pdGlhbFN0eWxlKHtcbiAgICAgICAgdHlwZTogYVxuICAgICAgfSkgOiBhbmltYXRpb25PYmplY3RJbml0aWFsU3R5bGUoYSk7XG4gICAgfSkuam9pbignJyk7XG4gIH1cblxuICBpZiAodHlwZW9mIGl0ZW0gPT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIGFuaW1hdGlvbk9iamVjdEluaXRpYWxTdHlsZShpdGVtKTtcbiAgfVxuXG4gIHJldHVybiAnJztcbn07XG5cbnZhciBhbmltYXRpb25TdHlsZSA9IGNzcyhbXCJcIiwgXCI7XCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIGNzcyhbXCJcIiwgXCIgYW5pbWF0aW9uOlwiLCBcIjtcIl0sIGFuaW1hdGlvbkluaXRpYWxTdHlsZShwcm9wcy5hbmltYXRpb24pLCBhbmltYXRpb25JdGVtU3R5bGUocHJvcHMuYW5pbWF0aW9uLCBwcm9wcy50aGVtZSkpO1xufSk7XG52YXIgaW50ZXJhY3RpdmVTdHlsZSA9IGNzcyhbXCJjdXJzb3I6cG9pbnRlcjsmOmhvdmVye1wiLCBcIn1cIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuaG92ZXJJbmRpY2F0b3IgJiYgZ2V0SG92ZXJJbmRpY2F0b3JTdHlsZShwcm9wcy5ob3ZlckluZGljYXRvciwgcHJvcHMudGhlbWUpO1xufSk7XG5cbnZhciBnZXRTaXplID0gZnVuY3Rpb24gZ2V0U2l6ZShwcm9wcywgc2l6ZSkge1xuICByZXR1cm4gcHJvcHMudGhlbWUuZ2xvYmFsLnNpemVbc2l6ZV0gfHwgc2l6ZTtcbn07XG5cbnZhciBoZWlnaHRPYmplY3RTdHlsZSA9IGNzcyhbXCJcIiwgXCI7XCIsIFwiO1wiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5oZWlnaHRQcm9wLm1heCAmJiBjc3MoW1wibWF4LWhlaWdodDpcIiwgXCI7XCJdLCBnZXRTaXplKHByb3BzLCBwcm9wcy5oZWlnaHRQcm9wLm1heCkpO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5oZWlnaHRQcm9wLm1pbiAmJiBjc3MoW1wibWluLWhlaWdodDpcIiwgXCI7XCJdLCBnZXRTaXplKHByb3BzLCBwcm9wcy5oZWlnaHRQcm9wLm1pbikpO1xufSk7XG52YXIgaGVpZ2h0U3R5bGUgPSBjc3MoW1wiaGVpZ2h0OlwiLCBcIjtcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gZ2V0U2l6ZShwcm9wcywgcHJvcHMuaGVpZ2h0UHJvcCk7XG59KTtcbnZhciB3aWR0aE9iamVjdFN0eWxlID0gY3NzKFtcIlwiLCBcIjtcIiwgXCI7XCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLndpZHRoUHJvcC5tYXggJiYgY3NzKFtcIm1heC13aWR0aDpcIiwgXCI7XCJdLCBnZXRTaXplKHByb3BzLCBwcm9wcy53aWR0aFByb3AubWF4KSk7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLndpZHRoUHJvcC5taW4gJiYgY3NzKFtcIm1pbi13aWR0aDpcIiwgXCI7XCJdLCBnZXRTaXplKHByb3BzLCBwcm9wcy53aWR0aFByb3AubWluKSk7XG59KTtcbnZhciB3aWR0aFN0eWxlID0gY3NzKFtcIndpZHRoOlwiLCBcIjtcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gZ2V0U2l6ZShwcm9wcywgcHJvcHMud2lkdGhQcm9wKTtcbn0pOyAvLyBOT1RFOiBiYXNpcyBtdXN0IGJlIGFmdGVyIGZsZXghIE90aGVyd2lzZSwgZmxleCBvdmVycmlkZXMgYmFzaXNcblxudmFyIFN0eWxlZEJveCA9IHN0eWxlZC5kaXYud2l0aENvbmZpZyh7XG4gIGRpc3BsYXlOYW1lOiBcIlN0eWxlZEJveFwiLFxuICBjb21wb25lbnRJZDogXCJzYy0xM3BrMWQ0LTBcIlxufSkoW1wiZGlzcGxheTpmbGV4O2JveC1zaXppbmc6Ym9yZGVyLWJveDtvdXRsaW5lOm5vbmU7XCIsIFwiO1wiLCBcIiBcIiwgXCIgXCIsIFwiIFwiLCBcIiBcIiwgXCIgXCIsIFwiIFwiLCBcIiBcIiwgXCIgXCIsIFwiIFwiLCBcIiBcIiwgXCIgXCIsIFwiIFwiLCBcIiBcIiwgXCIgXCIsIFwiIFwiLCBcIiBcIiwgXCIgXCIsIFwiIFwiLCBcIiBcIiwgXCIgXCIsIFwiXCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuICFwcm9wcy5iYXNpcyAmJiAnbWF4LXdpZHRoOiAxMDAlOyc7XG59LCBnZW5lcmljU3R5bGVzLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLmFsaWduICYmIGFsaWduU3R5bGU7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLmFsaWduQ29udGVudCAmJiBhbGlnbkNvbnRlbnRTdHlsZTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuYmFja2dyb3VuZCAmJiBiYWNrZ3JvdW5kU3R5bGUocHJvcHMuYmFja2dyb3VuZCwgcHJvcHMudGhlbWUpO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5ib3JkZXIgJiYgKEFycmF5LmlzQXJyYXkocHJvcHMuYm9yZGVyKSA/IHByb3BzLmJvcmRlci5tYXAoZnVuY3Rpb24gKGJvcmRlcikge1xuICAgIHJldHVybiBib3JkZXJTdHlsZShib3JkZXIsIHByb3BzLnJlc3BvbnNpdmUsIHByb3BzLnRoZW1lKTtcbiAgfSkgOiBib3JkZXJTdHlsZShwcm9wcy5ib3JkZXIsIHByb3BzLnJlc3BvbnNpdmUsIHByb3BzLnRoZW1lKSk7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLmRpcmVjdGlvblByb3AgJiYgZGlyZWN0aW9uU3R5bGUocHJvcHMuZGlyZWN0aW9uUHJvcCwgcHJvcHMudGhlbWUpO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5oZWlnaHRQcm9wICYmICh0eXBlb2YgcHJvcHMuaGVpZ2h0UHJvcCA9PT0gJ29iamVjdCcgPyBoZWlnaHRPYmplY3RTdHlsZSA6IGhlaWdodFN0eWxlKTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMud2lkdGhQcm9wICYmICh0eXBlb2YgcHJvcHMud2lkdGhQcm9wID09PSAnb2JqZWN0JyA/IHdpZHRoT2JqZWN0U3R5bGUgOiB3aWR0aFN0eWxlKTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuZmxleCAhPT0gdW5kZWZpbmVkICYmIGZsZXhTdHlsZTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuYmFzaXMgJiYgYmFzaXNTdHlsZTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuZmlsbFByb3AgJiYgZmlsbFN0eWxlKHByb3BzLmZpbGxQcm9wKTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuanVzdGlmeSAmJiBqdXN0aWZ5U3R5bGU7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnBhZCAmJiBlZGdlU3R5bGUoJ3BhZGRpbmcnLCBwcm9wcy5wYWQsIHByb3BzLnJlc3BvbnNpdmUsIHByb3BzLnRoZW1lLmJveC5yZXNwb25zaXZlQnJlYWtwb2ludCwgcHJvcHMudGhlbWUpO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5yb3VuZCAmJiByb3VuZFN0eWxlKHByb3BzLnJvdW5kLCBwcm9wcy5yZXNwb25zaXZlLCBwcm9wcy50aGVtZSk7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLndyYXBQcm9wICYmIHdyYXBTdHlsZTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMub3ZlcmZsb3dQcm9wICYmIG92ZXJmbG93U3R5bGUocHJvcHMub3ZlcmZsb3dQcm9wKTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuZWxldmF0aW9uUHJvcCAmJiBlbGV2YXRpb25TdHlsZTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuYW5pbWF0aW9uICYmIGFuaW1hdGlvblN0eWxlO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5vbkNsaWNrICYmIGludGVyYWN0aXZlU3R5bGU7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLm9uQ2xpY2sgJiYgcHJvcHMuZm9jdXMgJiYgcHJvcHMuZm9jdXNJbmRpY2F0b3IgIT09IGZhbHNlICYmIGZvY3VzU3R5bGU7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLmJveCAmJiBwcm9wcy50aGVtZS5ib3guZXh0ZW5kO1xufSk7XG5cbnZhciBnYXBTdHlsZSA9IGZ1bmN0aW9uIGdhcFN0eWxlKGRpcmVjdGlvblByb3AsIGdhcCwgcmVzcG9uc2l2ZSwgdGhlbWUpIHtcbiAgdmFyIGJyZWFrcG9pbnQgPSB0aGVtZS5ib3gucmVzcG9uc2l2ZUJyZWFrcG9pbnQgJiYgdGhlbWUuZ2xvYmFsLmJyZWFrcG9pbnRzW3RoZW1lLmJveC5yZXNwb25zaXZlQnJlYWtwb2ludF07XG4gIHZhciByZXNwb25zaXZlU2l6ZSA9IGJyZWFrcG9pbnQgJiYgYnJlYWtwb2ludC5lZGdlU2l6ZVtnYXBdICYmIGJyZWFrcG9pbnQuZWRnZVNpemVbZ2FwXTtcbiAgdmFyIHN0eWxlcyA9IFtdO1xuXG4gIGlmIChkaXJlY3Rpb25Qcm9wID09PSAnY29sdW1uJykge1xuICAgIHN0eWxlcy5wdXNoKGNzcyhbXCJoZWlnaHQ6XCIsIFwiO1wiXSwgdGhlbWUuZ2xvYmFsLmVkZ2VTaXplW2dhcF0gfHwgZ2FwKSk7XG5cbiAgICBpZiAocmVzcG9uc2l2ZVNpemUpIHtcbiAgICAgIHN0eWxlcy5wdXNoKGJyZWFrcG9pbnRTdHlsZShicmVha3BvaW50LCBcImhlaWdodDogXCIgKyByZXNwb25zaXZlU2l6ZSArIFwiO1wiKSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHN0eWxlcy5wdXNoKFwid2lkdGg6IFwiICsgKHRoZW1lLmdsb2JhbC5lZGdlU2l6ZVtnYXBdIHx8IGdhcCkgKyBcIjtcIik7XG5cbiAgICBpZiAocmVzcG9uc2l2ZSAmJiBkaXJlY3Rpb25Qcm9wID09PSAncm93LXJlc3BvbnNpdmUnKSB7XG4gICAgICBzdHlsZXMucHVzaChicmVha3BvaW50U3R5bGUoYnJlYWtwb2ludCwgXCJcXG4gICAgICAgIHdpZHRoOiBhdXRvO1xcbiAgICAgICAgaGVpZ2h0OiBcIiArIHJlc3BvbnNpdmVTaXplICsgXCI7XFxuICAgICAgXCIpKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gc3R5bGVzO1xufTtcblxuU3R5bGVkQm94LmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKFN0eWxlZEJveC5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG52YXIgU3R5bGVkQm94R2FwID0gc3R5bGVkLmRpdi53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiU3R5bGVkQm94X19TdHlsZWRCb3hHYXBcIixcbiAgY29tcG9uZW50SWQ6IFwic2MtMTNwazFkNC0xXCJcbn0pKFtcImZsZXg6MCAwIGF1dG87XCIsIFwiO1wiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5nYXAgJiYgZ2FwU3R5bGUocHJvcHMuZGlyZWN0aW9uUHJvcCwgcHJvcHMuZ2FwLCBwcm9wcy5yZXNwb25zaXZlLCBwcm9wcy50aGVtZSk7XG59KTtcblN0eWxlZEJveEdhcC5kZWZhdWx0UHJvcHMgPSB7fTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihTdHlsZWRCb3hHYXAuZGVmYXVsdFByb3BzLCBkZWZhdWx0UHJvcHMpO1xuZXhwb3J0IHsgU3R5bGVkQm94LCBTdHlsZWRCb3hHYXAgfTsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5pbXBvcnQgeyBkZXNjcmliZSwgUHJvcFR5cGVzIH0gZnJvbSAncmVhY3QtZGVzYyc7XG5pbXBvcnQgeyBnZXRBdmFpbGFibGVBdEJhZGdlLCBnZW5lcmljUHJvcHMsIGhvdmVySW5kaWNhdG9yUHJvcFR5cGUsIHRoZW1lRG9jVXRpbHMgfSBmcm9tICcuLi8uLi91dGlscyc7XG52YXIgUEFEX1NJWkVTID0gWyd4eHNtYWxsJywgJ3hzbWFsbCcsICdzbWFsbCcsICdtZWRpdW0nLCAnbGFyZ2UnLCAneGxhcmdlJ107XG5leHBvcnQgdmFyIE9WRVJGTE9XX1ZBTFVFUyA9IFsnYXV0bycsICdoaWRkZW4nLCAnc2Nyb2xsJywgJ3Zpc2libGUnXTtcbnZhciBBTklNQVRJT05fVFlQRSA9IFByb3BUeXBlcy5vbmVPZihbJ2ZhZGVJbicsICdmYWRlT3V0JywgJ2ppZ2dsZScsICdwdWxzZScsICdzbGlkZVVwJywgJ3NsaWRlRG93bicsICdzbGlkZUxlZnQnLCAnc2xpZGVSaWdodCcsICd6b29tSW4nLCAnem9vbU91dCddKTtcbnZhciBBTklNQVRJT05fU0hBUEUgPSBQcm9wVHlwZXMuc2hhcGUoe1xuICB0eXBlOiBBTklNQVRJT05fVFlQRSxcbiAgZGVsYXk6IFByb3BUeXBlcy5udW1iZXIsXG4gIGR1cmF0aW9uOiBQcm9wVHlwZXMubnVtYmVyLFxuICBzaXplOiBQcm9wVHlwZXMub25lT2YoWyd4c21hbGwnLCAnc21hbGwnLCAnbWVkaXVtJywgJ2xhcmdlJywgJ3hsYXJnZSddKVxufSk7XG52YXIgQk9SREVSX1NIQVBFID0gUHJvcFR5cGVzLnNoYXBlKHtcbiAgY29sb3I6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5zaGFwZSh7XG4gICAgZGFyazogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBsaWdodDogUHJvcFR5cGVzLnN0cmluZ1xuICB9KV0pLFxuICBzaWRlOiBQcm9wVHlwZXMub25lT2YoWyd0b3AnLCAnbGVmdCcsICdib3R0b20nLCAncmlnaHQnLCAnaG9yaXpvbnRhbCcsICd2ZXJ0aWNhbCcsICdhbGwnXSksXG4gIHNpemU6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbJ3hzbWFsbCcsICdzbWFsbCcsICdtZWRpdW0nLCAnbGFyZ2UnLCAneGxhcmdlJ10pLCBQcm9wVHlwZXMuc3RyaW5nXSksXG4gIHN0eWxlOiBQcm9wVHlwZXMub25lT2YoWydzb2xpZCcsICdkYXNoZWQnLCAnZG90dGVkJywgJ2RvdWJsZScsICdncm9vdmUnLCAncmlkZ2UnLCAnaW5zZXQnLCAnb3V0c2V0JywgJ2hpZGRlbiddKS5kZWZhdWx0VmFsdWUoJ3NvbGlkJylcbn0pOyAvLyBpZiB5b3UgdXBkYXRlIHZhbHVlcyBoZXJlLCBtYWtlIHN1cmUgdG8gdXBkYXRlIGluIERyb3AvZG9jIHRvby5cblxudmFyIG92ZXJmbG93UHJvcFR5cGUgPSBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2YoT1ZFUkZMT1dfVkFMVUVTKSwgUHJvcFR5cGVzLnNoYXBlKHtcbiAgaG9yaXpvbnRhbDogUHJvcFR5cGVzLm9uZU9mKE9WRVJGTE9XX1ZBTFVFUyksXG4gIHZlcnRpY2FsOiBQcm9wVHlwZXMub25lT2YoT1ZFUkZMT1dfVkFMVUVTKVxufSksIFByb3BUeXBlcy5zdHJpbmddKTtcbmV4cG9ydCB2YXIgZG9jID0gZnVuY3Rpb24gZG9jKEJveCkge1xuICB2YXIgRG9jdW1lbnRlZEJveCA9IGRlc2NyaWJlKEJveCkuYXZhaWxhYmxlQXQoZ2V0QXZhaWxhYmxlQXRCYWRnZSgnQm94JykpLmRlc2NyaXB0aW9uKFwiQSBjb250YWluZXIgdGhhdCBsYXlzIG91dCBpdHMgY29udGVudHMgaW4gb25lIGRpcmVjdGlvbi4gQm94XFxuICAgICAgcHJvdmlkZXMgQ1NTIGZsZXhib3ggY2FwYWJpbGl0aWVzIGZvciBsYXlvdXQsIGFzIHdlbGwgYXMgZ2VuZXJhbFxcbiAgICAgIHN0eWxpbmcgb2YgdGhpbmdzIGxpa2UgYmFja2dyb3VuZCBjb2xvciwgYm9yZGVyLCBhbmQgYW5pbWF0aW9uLlwiKS51c2FnZShcImltcG9ydCB7IEJveCB9IGZyb20gJ2dyb21tZXQnO1xcbjxCb3ggLz5cIikuaW50cmluc2ljRWxlbWVudCgnZGl2Jyk7XG4gIERvY3VtZW50ZWRCb3gucHJvcFR5cGVzID0gX2V4dGVuZHMoe30sIGdlbmVyaWNQcm9wcywge1xuICAgIGFsaWduOiBQcm9wVHlwZXMub25lT2YoWydzdGFydCcsICdjZW50ZXInLCAnZW5kJywgJ2Jhc2VsaW5lJywgJ3N0cmV0Y2gnXSkuZGVzY3JpcHRpb24oJ0hvdyB0byBhbGlnbiB0aGUgY29udGVudHMgYWxvbmcgdGhlIGNyb3NzIGF4aXMuJyksXG4gICAgYWxpZ25Db250ZW50OiBQcm9wVHlwZXMub25lT2YoWydzdGFydCcsICdjZW50ZXInLCAnZW5kJywgJ2JldHdlZW4nLCAnYXJvdW5kJywgJ3N0cmV0Y2gnXSkuZGVzY3JpcHRpb24oXCJIb3cgdG8gYWxpZ24gdGhlIGNvbnRlbnRzIHdoZW4gdGhlcmUgaXMgZXh0cmEgc3BhY2UgaW5cXG4gICAgICAgIHRoZSBjcm9zcyBheGlzLlwiKS5kZWZhdWx0VmFsdWUoJ3N0cmV0Y2gnKSxcbiAgICBhbmltYXRpb246IFByb3BUeXBlcy5vbmVPZlR5cGUoW0FOSU1BVElPTl9UWVBFLCBBTklNQVRJT05fU0hBUEUsIFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5vbmVPZlR5cGUoW0FOSU1BVElPTl9UWVBFLCBBTklNQVRJT05fU0hBUEVdKSldKS5kZXNjcmlwdGlvbihcIkFuaW1hdGlvbiBlZmZlY3QocykgdG8gdXNlLiAnZHVyYXRpb24nIGFuZCAnZGVsYXknIHNob3VsZFxcbiAgICAgICAgYmUgaW4gbWlsbGlzZWNvbmRzLiAnamlnZ2xlJyBhbmQgJ3B1bHNlJyB0eXBlcyBhcmUgaW50ZW5kZWQgZm9yXFxuICAgICAgICBzbWFsbCBlbGVtZW50cywgbGlrZSBpY29ucy5cIiksXG4gICAgYmFja2dyb3VuZDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgIGNvbG9yOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgZGFyazogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmJvb2wsIFByb3BUeXBlcy5zdHJpbmddKSxcbiAgICAgIGltYWdlOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgcG9zaXRpb246IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgICBvcGFjaXR5OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMuYm9vbCwgUHJvcFR5cGVzLm51bWJlciwgUHJvcFR5cGVzLm9uZU9mKFsnd2VhaycsICdtZWRpdW0nLCAnc3Ryb25nJ10pXSksXG4gICAgICByZXBlYXQ6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbJ25vLXJlcGVhdCcsICdyZXBlYXQnXSksIFByb3BUeXBlcy5zdHJpbmddKSxcbiAgICAgIHNpemU6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbJ2NvdmVyJywgJ2NvbnRhaW4nXSksIFByb3BUeXBlcy5zdHJpbmddKSxcbiAgICAgIGxpZ2h0OiBQcm9wVHlwZXMuc3RyaW5nXG4gICAgfSldKS5kZXNjcmlwdGlvbihcIkVpdGhlciBhIGNvbG9yIGlkZW50aWZpZXIgdG8gdXNlIGZvciB0aGUgYmFja2dyb3VuZFxcbiAgICAgICAgY29sb3IuIEZvciBleGFtcGxlOiAnbmV1dHJhbC0xJy4gT3IsIGEgJ3VybCgpJyBmb3IgYW4gaW1hZ2UuIERhcmtcXG4gICAgICAgIGlzIG5vdCBuZWVkZWQgaWYgY29sb3IgaXMgcHJvdmlkZWQuXCIpLFxuICAgIGJhc2lzOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2YoWyd4eHNtYWxsJywgJ3hzbWFsbCcsICdzbWFsbCcsICdtZWRpdW0nLCAnbGFyZ2UnLCAneGxhcmdlJywgJ3h4bGFyZ2UnLCAnZnVsbCcsICcxLzInLCAnMS8zJywgJzIvMycsICcxLzQnLCAnMi80JywgJzMvNCcsICdhdXRvJ10pLCBQcm9wVHlwZXMuc3RyaW5nXSkuZGVzY3JpcHRpb24oXCJBIGZpeGVkIG9yIHJlbGF0aXZlIHNpemUgYWxvbmcgaXRzIGNvbnRhaW5lcidzIG1haW4gYXhpcy5cIiksXG4gICAgYm9yZGVyOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuYm9vbCwgUHJvcFR5cGVzLm9uZU9mKFsndG9wJywgJ2xlZnQnLCAnYm90dG9tJywgJ3JpZ2h0JywgJ2hvcml6b250YWwnLCAndmVydGljYWwnLCAnYWxsJ10pLCBCT1JERVJfU0hBUEUsIFByb3BUeXBlcy5hcnJheU9mKEJPUkRFUl9TSEFQRSldKS5kZXNjcmlwdGlvbignSW5jbHVkZSBhIGJvcmRlci4nKSxcbiAgICBkaXJlY3Rpb246IFByb3BUeXBlcy5vbmVPZihbJ3JvdycsICdjb2x1bW4nLCAncm93LXJlc3BvbnNpdmUnLCAncm93LXJldmVyc2UnLCAnY29sdW1uLXJldmVyc2UnXSkuZGVzY3JpcHRpb24oJ1RoZSBvcmllbnRhdGlvbiB0byBsYXlvdXQgdGhlIGNoaWxkIGNvbXBvbmVudHMgaW4uJykuZGVmYXVsdFZhbHVlKCdjb2x1bW4nKSxcbiAgICBlbGV2YXRpb246IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbJ25vbmUnLCAneHNtYWxsJywgJ3NtYWxsJywgJ21lZGl1bScsICdsYXJnZScsICd4bGFyZ2UnXSksIFByb3BUeXBlcy5zdHJpbmddKS5kZXNjcmlwdGlvbihcIkVsZXZhdGVkIGhlaWdodCBhYm92ZSB0aGUgdW5kZXJseWluZyBjb250ZXh0LCBpbmRpY2F0ZWRcXG4gICAgICAgIHZpYSBhIGRyb3Agc2hhZG93LlwiKS5kZWZhdWx0VmFsdWUoJ25vbmUnKSxcbiAgICBmbGV4OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2YoWydncm93JywgJ3NocmluayddKSwgUHJvcFR5cGVzLmJvb2wsIFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICBncm93OiBQcm9wVHlwZXMubnVtYmVyLFxuICAgICAgc2hyaW5rOiBQcm9wVHlwZXMubnVtYmVyXG4gICAgfSldKS5kZXNjcmlwdGlvbignV2hldGhlciBmbGV4LWdyb3cgYW5kL29yIGZsZXgtc2hyaW5rIGlzIHRydWUgYW5kIGF0IGEgZGVzaXJlZCBmYWN0b3IuJyksXG4gICAgZmlsbDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFsnaG9yaXpvbnRhbCcsICd2ZXJ0aWNhbCddKSwgUHJvcFR5cGVzLmJvb2xdKS5kZXNjcmlwdGlvbignV2hldGhlciB0aGUgd2lkdGggYW5kL29yIGhlaWdodCBzaG91bGQgZmlsbCB0aGUgY29udGFpbmVyLicpLFxuICAgIGZvY3VzSW5kaWNhdG9yOiBQcm9wVHlwZXMuYm9vbC5kZXNjcmlwdGlvbihcIldoZW4gaW50ZXJhY3RpdmUgdmlhICdvbkNsaWNrJywgd2hldGhlciBpdCBzaG91bGQgcmVjZWl2ZSBhIGZvY3VzXFxuICAgICAgICBvdXRsaW5lLlwiKS5kZWZhdWx0VmFsdWUodHJ1ZSksXG4gICAgZ2FwOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2YoWydub25lJywgJ3h4c21hbGwnLCAneHNtYWxsJywgJ3NtYWxsJywgJ21lZGl1bScsICdsYXJnZScsICd4bGFyZ2UnXSksIFByb3BUeXBlcy5zdHJpbmddKS5kZXNjcmlwdGlvbihcIlRoZSBhbW91bnQgb2Ygc3BhY2luZyBiZXR3ZWVuIGNoaWxkIGVsZW1lbnRzLiBUaGlzXFxuICAgICAgICBzaG91bGQgbm90IGJlIHVzZWQgaW4gY29uanVuY3Rpb24gd2l0aCAnd3JhcCcgYXMgdGhlIGdhcCBlbGVtZW50c1xcbiAgICAgICAgd2lsbCBub3Qgd3JhcCBncmFjZWZ1bGx5LlwiKSxcbiAgICBoZWlnaHQ6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbJ3h4c21hbGwnLCAneHNtYWxsJywgJ3NtYWxsJywgJ21lZGl1bScsICdsYXJnZScsICd4bGFyZ2UnLCAneHhsYXJnZSddKSwgUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgIG1pbjogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFsneHhzbWFsbCcsICd4c21hbGwnLCAnc21hbGwnLCAnbWVkaXVtJywgJ2xhcmdlJywgJ3hsYXJnZScsICd4eGxhcmdlJ10pLCBQcm9wVHlwZXMuc3RyaW5nXSksXG4gICAgICBtYXg6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbJ3h4c21hbGwnLCAneHNtYWxsJywgJ3NtYWxsJywgJ21lZGl1bScsICdsYXJnZScsICd4bGFyZ2UnLCAneHhsYXJnZSddKSwgUHJvcFR5cGVzLnN0cmluZ10pXG4gICAgfSldKS5kZXNjcmlwdGlvbignQSBmaXhlZCBoZWlnaHQuJyksXG4gICAgaG92ZXJJbmRpY2F0b3I6IGhvdmVySW5kaWNhdG9yUHJvcFR5cGUuZGVzY3JpcHRpb24oXCJXaGVuICdvbkNsaWNrJyBoYXMgYmVlbiBzcGVjaWZpZWQsIHRoZSBob3ZlciBpbmRpY2F0b3IgdG8gYXBwbHlcXG4gICAgICAgIHdoZW4gdGhlIHVzZXIgaXMgbW91c2luZyBvdmVyIHRoZSBib3guXCIpLmRlZmF1bHRWYWx1ZShmYWxzZSksXG4gICAganVzdGlmeTogUHJvcFR5cGVzLm9uZU9mKFsnYXJvdW5kJywgJ2JldHdlZW4nLCAnY2VudGVyJywgJ2VuZCcsICdldmVubHknLCAnc3RhcnQnLCAnc3RyZXRjaCddKS5kZXNjcmlwdGlvbignSG93IHRvIGFsaWduIHRoZSBjb250ZW50cyBhbG9uZyB0aGUgbWFpbiBheGlzLicpLmRlZmF1bHRWYWx1ZSgnc3RyZXRjaCcpLFxuICAgIG9uQ2xpY2s6IFByb3BUeXBlcy5mdW5jLmRlc2NyaXB0aW9uKFwiQ2xpY2sgaGFuZGxlci4gU2V0dGluZyB0aGlzIHByb3BlcnR5IGFkZHMgYWRkaXRpb25hbCBhdHRyaWJ1dGVzIHRvXFxuICAgICAgdGhlIERPTSBmb3IgYWNjZXNzaWJpbGl0eS5cIiksXG4gICAgb3ZlcmZsb3c6IG92ZXJmbG93UHJvcFR5cGUuZGVzY3JpcHRpb24oJ2JveCBvdmVyZmxvdy4nKSxcbiAgICBwYWQ6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbJ25vbmUnXS5jb25jYXQoUEFEX1NJWkVTKSksIFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICBib3R0b206IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihQQURfU0laRVMpLCBQcm9wVHlwZXMuc3RyaW5nXSksXG4gICAgICBob3Jpem9udGFsOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2YoUEFEX1NJWkVTKSwgUHJvcFR5cGVzLnN0cmluZ10pLFxuICAgICAgbGVmdDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFBBRF9TSVpFUyksIFByb3BUeXBlcy5zdHJpbmddKSxcbiAgICAgIHJpZ2h0OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2YoUEFEX1NJWkVTKSwgUHJvcFR5cGVzLnN0cmluZ10pLFxuICAgICAgdG9wOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2YoUEFEX1NJWkVTKSwgUHJvcFR5cGVzLnN0cmluZ10pLFxuICAgICAgdmVydGljYWw6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihQQURfU0laRVMpLCBQcm9wVHlwZXMuc3RyaW5nXSlcbiAgICB9KSwgUHJvcFR5cGVzLnN0cmluZ10pLmRlc2NyaXB0aW9uKFwiVGhlIGFtb3VudCBvZiBwYWRkaW5nIGFyb3VuZCB0aGUgYm94IGNvbnRlbnRzLiBBblxcbiAgICAgICAgb2JqZWN0IGNhbiBiZSBzcGVjaWZpZWQgdG8gZGlzdGluZ3Vpc2ggaG9yaXpvbnRhbCBwYWRkaW5nLCB2ZXJ0aWNhbFxcbiAgICAgICAgcGFkZGluZywgYW5kIHBhZGRpbmcgb24gYSBwYXJ0aWN1bGFyIHNpZGUgb2YgdGhlIGJveFwiKS5kZWZhdWx0VmFsdWUoJ25vbmUnKSxcbiAgICByZXNwb25zaXZlOiBQcm9wVHlwZXMuYm9vbC5kZXNjcmlwdGlvbihcIldoZXRoZXIgbWFyZ2luLCBwYWQsIGFuZCBib3JkZXJcXG4gICAgICBzaXplcyBzaG91bGQgYmUgc2NhbGVkIGZvciBtb2JpbGUgZW52aXJvbm1lbnRzLlwiKS5kZWZhdWx0VmFsdWUodHJ1ZSksXG4gICAgcm91bmQ6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5ib29sLCBQcm9wVHlwZXMub25lT2YoWyd4c21hbGwnLCAnc21hbGwnLCAnbWVkaXVtJywgJ2xhcmdlJywgJ3hsYXJnZScsICdmdWxsJ10pLCBQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgY29ybmVyOiBQcm9wVHlwZXMub25lT2YoWyd0b3AnLCAnbGVmdCcsICdib3R0b20nLCAncmlnaHQnLCAndG9wLWxlZnQnLCAndG9wLXJpZ2h0JywgJ2JvdHRvbS1sZWZ0JywgJ2JvdHRvbS1yaWdodCddKSxcbiAgICAgIHNpemU6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbJ3hzbWFsbCcsICdzbWFsbCcsICdtZWRpdW0nLCAnbGFyZ2UnLCAneGxhcmdlJ10pLCBQcm9wVHlwZXMuc3RyaW5nXSlcbiAgICB9KV0pLmRlc2NyaXB0aW9uKCdIb3cgbXVjaCB0byByb3VuZCB0aGUgY29ybmVycy4nKS5kZWZhdWx0VmFsdWUoZmFsc2UpLFxuICAgIHRhZzogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLmZ1bmNdKS5kZXNjcmlwdGlvbihcIlRoZSBET00gdGFnIHRvIHVzZSBmb3IgdGhlIGVsZW1lbnQuIE5PVEU6IFRoaXMgaXMgZGVwcmVjYXRlZCBpbiBmYXZvclxcbm9mIGluZGljYXRpbmcgdGhlIERPTSB0YWcgdmlhIHRoZSAnYXMnIHByb3BlcnR5LlwiKSxcbiAgICBhczogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLmZ1bmNdKS5kZXNjcmlwdGlvbignVGhlIERPTSB0YWcgb3IgcmVhY3QgY29tcG9uZW50IHRvIHVzZSBmb3IgdGhlIGVsZW1lbnQuJykuZGVmYXVsdFZhbHVlKCdkaXYnKSxcbiAgICB3aWR0aDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFsneHhzbWFsbCcsICd4c21hbGwnLCAnc21hbGwnLCAnbWVkaXVtJywgJ2xhcmdlJywgJ3hsYXJnZScsICd4eGxhcmdlJ10pLCBQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgbWluOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2YoWyd4eHNtYWxsJywgJ3hzbWFsbCcsICdzbWFsbCcsICdtZWRpdW0nLCAnbGFyZ2UnLCAneGxhcmdlJywgJ3h4bGFyZ2UnXSksIFByb3BUeXBlcy5zdHJpbmddKSxcbiAgICAgIG1heDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFsneHhzbWFsbCcsICd4c21hbGwnLCAnc21hbGwnLCAnbWVkaXVtJywgJ2xhcmdlJywgJ3hsYXJnZScsICd4eGxhcmdlJ10pLCBQcm9wVHlwZXMuc3RyaW5nXSlcbiAgICB9KV0pLmRlc2NyaXB0aW9uKCdBIGZpeGVkIHdpZHRoLicpLFxuICAgIHdyYXA6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5ib29sLCBQcm9wVHlwZXMub25lT2YoWydyZXZlcnNlJ10pXSkuZGVzY3JpcHRpb24oXCJXaGV0aGVyIGNoaWxkcmVuIGNhbiB3cmFwIGlmIHRoZXkgY2FuJ3QgYWxsIGZpdC5cIikuZGVmYXVsdFZhbHVlKGZhbHNlKVxuICB9KTtcbiAgcmV0dXJuIERvY3VtZW50ZWRCb3g7XG59O1xuZXhwb3J0IHZhciB0aGVtZURvYyA9IF9leHRlbmRzKHtcbiAgJ2dsb2JhbC5hbmltYXRpb24nOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgYW5pbWF0aW9uIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBCb3guJyxcbiAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICBkZWZhdWx0VmFsdWU6IFwie1xcbiAgZHVyYXRpb246ICcxcycsXFxuICBqaWdnbGU6IHtcXG4gICAgZHVyYXRpb246ICcwLjFzJyxcXG4gIH0sXFxufVwiXG4gIH0sXG4gICdnbG9iYWwuYm9yZGVyU2l6ZSc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBwb3NzaWJsZSBib3JkZXIgc2l6ZXMgaW4gdGhlIEJveC4nLFxuICAgIHR5cGU6ICdvYmplY3QnLFxuICAgIGRlZmF1bHRWYWx1ZTogXCJ7XFxuICB4c21hbGw6ICcxcHgnLFxcbiAgc21hbGw6ICcycHgnLFxcbiAgbWVkaXVtOiAnNHB4JyxcXG4gIGxhcmdlOiAnMTJweCcsXFxuICB4bGFyZ2U6ICcyNHB4LFxcbn1cIlxuICB9LFxuICAnZ2xvYmFsLmVsZXZhdGlvbic6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBwb3NzaWJsZSBzaGFkb3dzIGluIEJveCBlbGV2YXRpb24uJyxcbiAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICBkZWZhdWx0VmFsdWU6IFwie1xcbiAgbGlnaHQ6IHtcXG4gICAgbm9uZTogJ25vbmUnLFxcbiAgICB4c21hbGw6ICcwcHggMXB4IDJweCByZ2JhKDEwMCwgMTAwLCAxMDAsIDAuNTApJyxcXG4gICAgc21hbGw6ICcwcHggMnB4IDRweCByZ2JhKDEwMCwgMTAwLCAxMDAsIDAuNTApJyxcXG4gICAgbWVkaXVtOiAnMHB4IDNweCA4cHggcmdiYSgxMDAsIDEwMCwgMTAwLCAwLjUwKScsXFxuICAgIGxhcmdlOiAnMHB4IDZweCAxMnB4IHJnYmEoMTAwLCAxMDAsIDEwMCwgMC41MCknLFxcbiAgICB4bGFyZ2U6ICcwcHggOHB4IDE2cHggcmdiYSgxMDAsIDEwMCwgMTAwLCAwLjUwKScsXFxuICB9LFxcbiAgZGFyazoge1xcbiAgICBub25lOiAnbm9uZScsXFxuICAgIHhzbWFsbDogJzBweCAycHggMnB4IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC40MCknLFxcbiAgICBzbWFsbDogJzBweCA0cHggNHB4IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC40MCknLFxcbiAgICBtZWRpdW06ICcwcHggNnB4IDhweCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNDApJyxcXG4gICAgbGFyZ2U6ICcwcHggOHB4IDE2cHggcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjQwKScsXFxuICAgIHhsYXJnZTogJzBweCAxMHB4IDI0cHggcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjQwKScsXFxuICB9LFxcbn1cIlxuICB9LFxuICAnZ2xvYmFsLmNvbG9ycy5ib3JkZXInOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgY29sb3Igb2YgdGhlIGJvcmRlcicsXG4gICAgdHlwZTogJ3N0cmluZyB8IHsgZGFyazogc3RyaW5nLCBsaWdodDogc3RyaW5nIH0nLFxuICAgIGRlZmF1bHRWYWx1ZTogJ3sgZGFyazogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjMzKSwgbGlnaHQ6IHJnYmEoMCwgMCwgMCwgMC4zMyksIH0nXG4gIH0sXG4gICdnbG9iYWwuaG92ZXIuYmFja2dyb3VuZC5jb2xvcic6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBjb2xvciBvZiB0aGUgZGVmYXVsdCBiYWNrZ3JvdW5kIHdoZW4gaG92ZXJpbmcnLFxuICAgIHR5cGU6ICdzdHJpbmcgfCB7IGRhcms6IHN0cmluZywgbGlnaHQ6IHN0cmluZyB9JyxcbiAgICBkZWZhdWx0VmFsdWU6ICdhY3RpdmUnXG4gIH0sXG4gICdnbG9iYWwuaG92ZXIuYmFja2dyb3VuZC5vcGFjaXR5Jzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIG9wYWNpdHkgb2YgdGhlIGRlZmF1bHQgYmFja2dyb3VuZCB3aGVuIGhvdmVyaW5nJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgeyBkYXJrOiBzdHJpbmcsIGxpZ2h0OiBzdHJpbmcgfScsXG4gICAgZGVmYXVsdFZhbHVlOiAnbWVkaXVtJ1xuICB9LFxuICAnZ2xvYmFsLmhvdmVyLmNvbG9yJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGNvbG9yIG9mIHRoZSBkZWZhdWx0IGJhY2tncm91bmQgd2hlbiBob3ZlcmluZycsXG4gICAgdHlwZTogJ3N0cmluZyB8IHsgZGFyazogc3RyaW5nLCBsaWdodDogc3RyaW5nIH0nLFxuICAgIGRlZmF1bHRWYWx1ZTogJ3sgZGFyazogXCJ3aGl0ZVwiLCBsaWdodDogXCJibGFja1wiIH0nXG4gIH0sXG4gICdnbG9iYWwub3BhY2l0eS5tZWRpdW0nOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgdmFsdWUgdXNlZCB3aGVuIGJhY2tncm91bmQgb3BhY2l0eSBpcyBzZXQgdG8gdHJ1ZS4nLFxuICAgIHR5cGU6ICdudW1iZXInLFxuICAgIGRlZmF1bHRWYWx1ZTogJzAuNCdcbiAgfSxcbiAgJ2dsb2JhbC5zaXplJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIHBvc3NpYmxlIHNpemVzIGZvciB3aWR0aCwgaGVpZ2h0LCBhbmQgYmFzaXMuJyxcbiAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICBkZWZhdWx0VmFsdWU6IFwie1xcbiAgeHhzbWFsbDogJzQ4cHgnLFxcbiAgeHNtYWxsOiAnOTZweCcsXFxuICBzbWFsbDogJzE5MnB4JyxcXG4gIG1lZGl1bTogJzM4NHB4JyxcXG4gIGxhcmdlOiAnNzY4cHgnLFxcbiAgeGxhcmdlOiAnMTE1MnB4JyxcXG4gIHh4bGFyZ2U6ICcxNTM2cHgnLFxcbiAgZnVsbDogJzEwMCUnLFxcbn1cIlxuICB9LFxuICAnYm94LmV4dGVuZCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ0FueSBhZGRpdGlvbmFsIHN0eWxlIGZvciB0aGUgQm94LicsXG4gICAgdHlwZTogJ3N0cmluZyB8IChwcm9wcykgPT4ge30nLFxuICAgIGRlZmF1bHRWYWx1ZTogdW5kZWZpbmVkXG4gIH0sXG4gICdib3gucmVzcG9uc2l2ZUJyZWFrcG9pbnQnOiB7XG4gICAgZGVzY3JpcHRpb246IFwiVGhlIGFjdHVhbCBicmVha3BvaW50IHRvIHRyaWdnZXIgY2hhbmdlcyBpbiB0aGUgYm9yZGVyLCBcXG4gICAgZGlyZWN0aW9uLCBnYXAsIG1hcmdpbiwgcGFkLCBhbmQgcm91bmQuXCIsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiAnc21hbGwnXG4gIH1cbn0sIHRoZW1lRG9jVXRpbHMuZWRnZVN0eWxlKCdUaGUgcG9zc2libGUgc2l6ZXMgZm9yIGFueSBvZiBnYXAsIG1hcmdpbiwgYW5kIHBhZC4nKSwge30sIHRoZW1lRG9jVXRpbHMuYnJlYWtwb2ludFN0eWxlKFwiVGhlIHBvc3NpYmxlIGJyZWFrcG9pbnRzIHRoYXQgY291bGQgYWZmZWN0IGJvcmRlciwgZGlyZWN0aW9uLCBnYXAsIG1hcmdpbiwgXFxuICAgIHBhZCwgYW5kIHJvdW5kLlwiKSk7IiwiZXhwb3J0IHsgQm94IH0gZnJvbSAnLi9Cb3gnOyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuaW1wb3J0IFJlYWN0LCB7IGNsb25lRWxlbWVudCwgQ2hpbGRyZW4sIGZvcndhcmRSZWYsIHVzZUNvbnRleHQsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgVGhlbWVDb250ZXh0IH0gZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgY29sb3JJc0RhcmssIG5vcm1hbGl6ZUJhY2tncm91bmQsIG5vcm1hbGl6ZUNvbG9yIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuaW1wb3J0IHsgZGVmYXVsdFByb3BzIH0gZnJvbSAnLi4vLi4vZGVmYXVsdC1wcm9wcyc7XG5pbXBvcnQgeyBCb3ggfSBmcm9tICcuLi9Cb3gnO1xuaW1wb3J0IHsgU3R5bGVkQnV0dG9uIH0gZnJvbSAnLi9TdHlsZWRCdXR0b24nO1xudmFyIEJ1dHRvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24gKF9yZWYsIHJlZikge1xuICB2YXIgYTExeVRpdGxlID0gX3JlZi5hMTF5VGl0bGUsXG4gICAgICBjb2xvciA9IF9yZWYuY29sb3IsXG4gICAgICBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW4sXG4gICAgICBkaXNhYmxlZCA9IF9yZWYuZGlzYWJsZWQsXG4gICAgICBpY29uID0gX3JlZi5pY29uLFxuICAgICAgX3JlZiRmb2N1c0luZGljYXRvciA9IF9yZWYuZm9jdXNJbmRpY2F0b3IsXG4gICAgICBmb2N1c0luZGljYXRvciA9IF9yZWYkZm9jdXNJbmRpY2F0b3IgPT09IHZvaWQgMCA/IHRydWUgOiBfcmVmJGZvY3VzSW5kaWNhdG9yLFxuICAgICAgX3JlZiRnYXAgPSBfcmVmLmdhcCxcbiAgICAgIGdhcCA9IF9yZWYkZ2FwID09PSB2b2lkIDAgPyAnc21hbGwnIDogX3JlZiRnYXAsXG4gICAgICBmaWxsID0gX3JlZi5maWxsLFxuICAgICAgaHJlZiA9IF9yZWYuaHJlZixcbiAgICAgIGxhYmVsID0gX3JlZi5sYWJlbCxcbiAgICAgIF9vbkJsdXIgPSBfcmVmLm9uQmx1cixcbiAgICAgIG9uQ2xpY2sgPSBfcmVmLm9uQ2xpY2ssXG4gICAgICBfb25Gb2N1cyA9IF9yZWYub25Gb2N1cyxcbiAgICAgIG9uTW91c2VPdXQgPSBfcmVmLm9uTW91c2VPdXQsXG4gICAgICBvbk1vdXNlT3ZlciA9IF9yZWYub25Nb3VzZU92ZXIsXG4gICAgICBwbGFpbiA9IF9yZWYucGxhaW4sXG4gICAgICBwcmltYXJ5ID0gX3JlZi5wcmltYXJ5LFxuICAgICAgcmV2ZXJzZSA9IF9yZWYucmV2ZXJzZSxcbiAgICAgIF9yZWYkdHlwZSA9IF9yZWYudHlwZSxcbiAgICAgIHR5cGUgPSBfcmVmJHR5cGUgPT09IHZvaWQgMCA/ICdidXR0b24nIDogX3JlZiR0eXBlLFxuICAgICAgYXMgPSBfcmVmLmFzLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9yZWYsIFtcImExMXlUaXRsZVwiLCBcImNvbG9yXCIsIFwiY2hpbGRyZW5cIiwgXCJkaXNhYmxlZFwiLCBcImljb25cIiwgXCJmb2N1c0luZGljYXRvclwiLCBcImdhcFwiLCBcImZpbGxcIiwgXCJocmVmXCIsIFwibGFiZWxcIiwgXCJvbkJsdXJcIiwgXCJvbkNsaWNrXCIsIFwib25Gb2N1c1wiLCBcIm9uTW91c2VPdXRcIiwgXCJvbk1vdXNlT3ZlclwiLCBcInBsYWluXCIsIFwicHJpbWFyeVwiLCBcInJldmVyc2VcIiwgXCJ0eXBlXCIsIFwiYXNcIl0pO1xuXG4gIHZhciB0aGVtZSA9IHVzZUNvbnRleHQoVGhlbWVDb250ZXh0KSB8fCBkZWZhdWx0UHJvcHMudGhlbWU7XG5cbiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKCksXG4gICAgICBmb2N1cyA9IF91c2VTdGF0ZVswXSxcbiAgICAgIHNldEZvY3VzID0gX3VzZVN0YXRlWzFdO1xuXG4gIGlmICgoaWNvbiB8fCBsYWJlbCkgJiYgY2hpbGRyZW4pIHtcbiAgICBjb25zb2xlLndhcm4oJ0J1dHRvbiBzaG91bGQgbm90IGhhdmUgY2hpbGRyZW4gaWYgaWNvbiBvciBsYWJlbCBpcyBwcm92aWRlZCcpO1xuICB9XG5cbiAgdmFyIGlzRGFya0JhY2tncm91bmQgPSBmdW5jdGlvbiBpc0RhcmtCYWNrZ3JvdW5kKCkge1xuICAgIHZhciBiYWNrZ3JvdW5kQ29sb3IgPSBub3JtYWxpemVCYWNrZ3JvdW5kKG5vcm1hbGl6ZUNvbG9yKGNvbG9yIHx8IHRoZW1lLmJ1dHRvbi5wcmltYXJ5LmNvbG9yIHx8IHRoZW1lLmdsb2JhbC5jb2xvcnMuY29udHJvbCB8fCAnYnJhbmQnLCB0aGVtZSksIHRoZW1lKTtcbiAgICByZXR1cm4gY29sb3JJc0RhcmsoYmFja2dyb3VuZENvbG9yLCB0aGVtZSk7XG4gIH07XG5cbiAgdmFyIF91c2VTdGF0ZTIgPSB1c2VTdGF0ZShmYWxzZSksXG4gICAgICBob3ZlciA9IF91c2VTdGF0ZTJbMF0sXG4gICAgICBzZXRIb3ZlciA9IF91c2VTdGF0ZTJbMV07XG5cbiAgdmFyIG9uTW91c2VPdmVyQnV0dG9uID0gZnVuY3Rpb24gb25Nb3VzZU92ZXJCdXR0b24oZXZlbnQpIHtcbiAgICBzZXRIb3Zlcih0cnVlKTtcblxuICAgIGlmIChvbk1vdXNlT3Zlcikge1xuICAgICAgb25Nb3VzZU92ZXIoZXZlbnQpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgb25Nb3VzZU91dEJ1dHRvbiA9IGZ1bmN0aW9uIG9uTW91c2VPdXRCdXR0b24oZXZlbnQpIHtcbiAgICBzZXRIb3ZlcihmYWxzZSk7XG5cbiAgICBpZiAob25Nb3VzZU91dCkge1xuICAgICAgb25Nb3VzZU91dChldmVudCk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBidXR0b25JY29uID0gaWNvbjsgLy8gb25seSBjaGFuZ2UgY29sb3IgaWYgdXNlciBkaWQgbm90IHNwZWNpZnkgdGhlIGNvbG9yIHRoZW1zZWx2ZXMuLi5cblxuICBpZiAocHJpbWFyeSAmJiBpY29uICYmICFpY29uLnByb3BzLmNvbG9yKSB7XG4gICAgYnV0dG9uSWNvbiA9IGNsb25lRWxlbWVudChpY29uLCB7XG4gICAgICBjb2xvcjogdGhlbWUuZ2xvYmFsLmNvbG9ycy50ZXh0W2lzRGFya0JhY2tncm91bmQoKSA/ICdkYXJrJyA6ICdsaWdodCddXG4gICAgfSk7XG4gIH1cblxuICB2YXIgZG9tVGFnID0gIWFzICYmIGhyZWYgPyAnYScgOiBhcztcbiAgdmFyIGZpcnN0ID0gcmV2ZXJzZSA/IGxhYmVsIDogYnV0dG9uSWNvbjtcbiAgdmFyIHNlY29uZCA9IHJldmVyc2UgPyBidXR0b25JY29uIDogbGFiZWw7XG4gIHZhciBjb250ZW50cztcblxuICBpZiAoZmlyc3QgJiYgc2Vjb25kKSB7XG4gICAgY29udGVudHMgPSBSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwge1xuICAgICAgZGlyZWN0aW9uOiBcInJvd1wiLFxuICAgICAgYWxpZ246IFwiY2VudGVyXCIsXG4gICAgICBqdXN0aWZ5OiBcImNlbnRlclwiLFxuICAgICAgZ2FwOiBnYXBcbiAgICB9LCBmaXJzdCwgc2Vjb25kKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgY2hpbGRyZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICBjb250ZW50cyA9IGNoaWxkcmVuKHtcbiAgICAgIGhvdmVyOiBob3ZlcixcbiAgICAgIGZvY3VzOiBmb2N1c1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIGNvbnRlbnRzID0gZmlyc3QgfHwgc2Vjb25kIHx8IGNoaWxkcmVuO1xuICB9XG5cbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkQnV0dG9uLCBfZXh0ZW5kcyh7fSwgcmVzdCwge1xuICAgIGFzOiBkb21UYWcsXG4gICAgcmVmOiByZWYsXG4gICAgXCJhcmlhLWxhYmVsXCI6IGExMXlUaXRsZSxcbiAgICBjb2xvclZhbHVlOiBjb2xvcixcbiAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgaGFzSWNvbjogISFpY29uLFxuICAgIGdhcDogZ2FwLFxuICAgIGhhc0xhYmVsOiAhIWxhYmVsLFxuICAgIGZpbGxDb250YWluZXI6IGZpbGwsXG4gICAgZm9jdXM6IGZvY3VzLFxuICAgIGZvY3VzSW5kaWNhdG9yOiBmb2N1c0luZGljYXRvcixcbiAgICBocmVmOiBocmVmLFxuICAgIG9uQ2xpY2s6IG9uQ2xpY2ssXG4gICAgb25Gb2N1czogZnVuY3Rpb24gb25Gb2N1cyhldmVudCkge1xuICAgICAgc2V0Rm9jdXModHJ1ZSk7XG4gICAgICBpZiAoX29uRm9jdXMpIF9vbkZvY3VzKGV2ZW50KTtcbiAgICB9LFxuICAgIG9uQmx1cjogZnVuY3Rpb24gb25CbHVyKGV2ZW50KSB7XG4gICAgICBzZXRGb2N1cyhmYWxzZSk7XG4gICAgICBpZiAoX29uQmx1cikgX29uQmx1cihldmVudCk7XG4gICAgfSxcbiAgICBvbk1vdXNlT3Zlcjogb25Nb3VzZU92ZXJCdXR0b24sXG4gICAgb25Nb3VzZU91dDogb25Nb3VzZU91dEJ1dHRvbixcbiAgICBwYWQ6ICFwbGFpbixcbiAgICBwbGFpbjogdHlwZW9mIHBsYWluICE9PSAndW5kZWZpbmVkJyA/IHBsYWluIDogQ2hpbGRyZW4uY291bnQoY2hpbGRyZW4pID4gMCB8fCBpY29uICYmICFsYWJlbCxcbiAgICBwcmltYXJ5OiBwcmltYXJ5LFxuICAgIHR5cGU6ICFocmVmID8gdHlwZSA6IHVuZGVmaW5lZFxuICB9KSwgY29udGVudHMpO1xufSk7XG5CdXR0b24uZGlzcGxheU5hbWUgPSAnQnV0dG9uJztcbnZhciBCdXR0b25Eb2M7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBnbG9iYWwtcmVxdWlyZVxuICBCdXR0b25Eb2MgPSByZXF1aXJlKCcuL2RvYycpLmRvYyhCdXR0b24pO1xufVxuXG52YXIgQnV0dG9uV3JhcHBlciA9IEJ1dHRvbkRvYyB8fCBCdXR0b247XG5leHBvcnQgeyBCdXR0b25XcmFwcGVyIGFzIEJ1dHRvbiB9OyIsImltcG9ydCBzdHlsZWQsIHsgY3NzIH0gZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgYWN0aXZlU3R5bGUsIGJhY2tncm91bmRTdHlsZSwgZGlzYWJsZWRTdHlsZSwgZm9jdXNTdHlsZSwgZ2VuZXJpY1N0eWxlcywgZ2V0SG92ZXJJbmRpY2F0b3JTdHlsZSwgbm9ybWFsaXplQ29sb3IgfSBmcm9tICcuLi8uLi91dGlscyc7XG5pbXBvcnQgeyBkZWZhdWx0UHJvcHMgfSBmcm9tICcuLi8uLi9kZWZhdWx0LXByb3BzJztcblxudmFyIGJhc2ljU3R5bGUgPSBmdW5jdGlvbiBiYXNpY1N0eWxlKHByb3BzKSB7XG4gIHJldHVybiBjc3MoW1wiYm9yZGVyOlwiLCBcIiBzb2xpZCBcIiwgXCI7Ym9yZGVyLXJhZGl1czpcIiwgXCI7Y29sb3I6XCIsIFwiO3BhZGRpbmc6XCIsIFwiIFwiLCBcIjtmb250LXNpemU6XCIsIFwiO2xpbmUtaGVpZ2h0OlwiLCBcIjtcIl0sIHByb3BzLnRoZW1lLmJ1dHRvbi5ib3JkZXIud2lkdGgsIG5vcm1hbGl6ZUNvbG9yKHByb3BzLmNvbG9yVmFsdWUgfHwgcHJvcHMudGhlbWUuYnV0dG9uLmJvcmRlci5jb2xvciB8fCAnY29udHJvbCcsIHByb3BzLnRoZW1lKSwgcHJvcHMudGhlbWUuYnV0dG9uLmJvcmRlci5yYWRpdXMsIG5vcm1hbGl6ZUNvbG9yKHByb3BzLnRoZW1lLmJ1dHRvbi5jb2xvciB8fCAndGV4dCcsIHByb3BzLnRoZW1lKSwgcHJvcHMudGhlbWUuYnV0dG9uLnBhZGRpbmcudmVydGljYWwsIHByb3BzLnRoZW1lLmJ1dHRvbi5wYWRkaW5nLmhvcml6b250YWwsIHByb3BzLnRoZW1lLnRleHQubWVkaXVtLnNpemUsIHByb3BzLnRoZW1lLnRleHQubWVkaXVtLmhlaWdodCk7XG59O1xuXG52YXIgcHJpbWFyeVN0eWxlID0gZnVuY3Rpb24gcHJpbWFyeVN0eWxlKHByb3BzKSB7XG4gIHJldHVybiBjc3MoW1wiXCIsIFwiIGJvcmRlci1yYWRpdXM6XCIsIFwiO1wiXSwgYmFja2dyb3VuZFN0eWxlKG5vcm1hbGl6ZUNvbG9yKHByb3BzLmNvbG9yVmFsdWUgfHwgcHJvcHMudGhlbWUuYnV0dG9uLnByaW1hcnkuY29sb3IgfHwgJ2NvbnRyb2wnLCBwcm9wcy50aGVtZSksIHByb3BzLnRoZW1lLCBwcm9wcy50aGVtZS5idXR0b24uY29sb3IpLCBwcm9wcy50aGVtZS5idXR0b24uYm9yZGVyLnJhZGl1cyk7XG59O1xuXG5mdW5jdGlvbiBnZXRIb3ZlckNvbG9yKHByb3BzKSB7XG4gIGlmIChwcm9wcy5jb2xvclZhbHVlKSB7XG4gICAgcmV0dXJuIG5vcm1hbGl6ZUNvbG9yKHByb3BzLmNvbG9yVmFsdWUsIHByb3BzLnRoZW1lKTtcbiAgfVxuXG4gIHJldHVybiBub3JtYWxpemVDb2xvcihwcm9wcy50aGVtZS5idXR0b24uYm9yZGVyLmNvbG9yIHx8ICdjb250cm9sJywgcHJvcHMudGhlbWUpO1xufVxuXG52YXIgaG92ZXJTdHlsZSA9IGNzcyhbXCImOmhvdmVye1wiLCBcIiBcIiwgXCI7fVwiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5ob3ZlckluZGljYXRvciAmJiBnZXRIb3ZlckluZGljYXRvclN0eWxlKHByb3BzLmhvdmVySW5kaWNhdG9yLCBwcm9wcy50aGVtZSk7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuICFwcm9wcy5wbGFpbiAmJiBjc3MoW1wiYm94LXNoYWRvdzowcHggMHB4IDBweCAycHggXCIsIFwiO1wiXSwgZ2V0SG92ZXJDb2xvcihwcm9wcykpO1xufSk7XG5cbnZhciBmaWxsU3R5bGUgPSBmdW5jdGlvbiBmaWxsU3R5bGUoZmlsbENvbnRhaW5lcikge1xuICBpZiAoZmlsbENvbnRhaW5lciA9PT0gJ2hvcml6b250YWwnKSB7XG4gICAgcmV0dXJuICd3aWR0aDogMTAwJTsnO1xuICB9XG5cbiAgaWYgKGZpbGxDb250YWluZXIgPT09ICd2ZXJ0aWNhbCcpIHtcbiAgICByZXR1cm4gJ2hlaWdodDogMTAwJTsnO1xuICB9XG5cbiAgaWYgKGZpbGxDb250YWluZXIpIHtcbiAgICByZXR1cm4gXCJcXG4gICAgICB3aWR0aDogMTAwJTtcXG4gICAgICBoZWlnaHQ6IDEwMCU7XFxuICAgICAgbWF4LXdpZHRoOiBub25lO1xcbiAgICAgIGZsZXg6IDEgMCBhdXRvO1xcbiAgICBcIjtcbiAgfVxuXG4gIHJldHVybiB1bmRlZmluZWQ7XG59O1xuXG52YXIgcGxhaW5TdHlsZSA9IGZ1bmN0aW9uIHBsYWluU3R5bGUocHJvcHMpIHtcbiAgcmV0dXJuIGNzcyhbXCJjb2xvcjpcIiwgXCI7Ym9yZGVyOm5vbmU7cGFkZGluZzowO3RleHQtYWxpZ246aW5oZXJpdDtcIl0sIG5vcm1hbGl6ZUNvbG9yKHByb3BzLmNvbG9yVmFsdWUgfHwgJ2luaGVyaXQnLCBwcm9wcy50aGVtZSkpO1xufTsgLy8gRGVwcmVjYXRlIHByb3BzLnRoZW1lLmJ1dHRvbi5kaXNhYmxlZC5vcGFjaXR5IGluIFYzXG5cblxudmFyIFN0eWxlZEJ1dHRvbiA9IHN0eWxlZC5idXR0b24ud2l0aENvbmZpZyh7XG4gIGRpc3BsYXlOYW1lOiBcIlN0eWxlZEJ1dHRvblwiLFxuICBjb21wb25lbnRJZDogXCJzYy0zMjNiemMtMFwiXG59KShbXCJkaXNwbGF5OmlubGluZS1ibG9jaztib3gtc2l6aW5nOmJvcmRlci1ib3g7Y3Vyc29yOnBvaW50ZXI7b3V0bGluZTpub25lO2ZvbnQ6aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246bm9uZTttYXJnaW46MDtiYWNrZ3JvdW5kOnRyYW5zcGFyZW50O292ZXJmbG93OnZpc2libGU7dGV4dC10cmFuc2Zvcm06bm9uZTtcIiwgXCIgXCIsIFwiIFwiLCBcIiBcIiwgXCIgXCIsIFwiIFwiLCBcIiBcIiwgXCIgXCIsIFwiIFwiLCBcIiBcIiwgXCIgXCIsIFwiIFwiLCBcIiBcIiwgXCJcIl0sIGdlbmVyaWNTdHlsZXMsIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMucGxhaW4gJiYgcGxhaW5TdHlsZShwcm9wcyk7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuICFwcm9wcy5wbGFpbiAmJiBiYXNpY1N0eWxlKHByb3BzKTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMucHJpbWFyeSAmJiBwcmltYXJ5U3R5bGUocHJvcHMpO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiAhcHJvcHMuZGlzYWJsZWQgJiYgIXByb3BzLmZvY3VzICYmIGhvdmVyU3R5bGU7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuICFwcm9wcy5kaXNhYmxlZCAmJiBwcm9wcy5hY3RpdmUgJiYgYWN0aXZlU3R5bGU7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLmRpc2FibGVkICYmIGRpc2FibGVkU3R5bGUocHJvcHMudGhlbWUuYnV0dG9uLmRpc2FibGVkICYmIHByb3BzLnRoZW1lLmJ1dHRvbi5kaXNhYmxlZC5vcGFjaXR5KTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuZm9jdXMgJiYgKCFwcm9wcy5wbGFpbiB8fCBwcm9wcy5mb2N1c0luZGljYXRvcikgJiYgZm9jdXNTdHlsZTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gIXByb3BzLnBsYWluICYmIFwiXFxuICAgIHRyYW5zaXRpb24tcHJvcGVydHk6IGNvbG9yLFxcbiAgICAgIGJhY2tncm91bmQtY29sb3IsXFxuICAgICAgYm9yZGVyLWNvbG9yLFxcbiAgICAgIGJveC1zaGFkb3c7XFxuICAgIHRyYW5zaXRpb24tZHVyYXRpb246IDAuMXM7XFxuICAgIHRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uOiBlYXNlLWluLW91dDtcXG4gIFwiO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5maWxsQ29udGFpbmVyICYmIGZpbGxTdHlsZShwcm9wcy5maWxsQ29udGFpbmVyKTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuaGFzSWNvbiAmJiAhcHJvcHMuaGFzTGFiZWwgJiYgXCJcXG4gICAgbGluZS1oZWlnaHQ6IDA7XFxuICBcIjtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMucGFkICYmIHByb3BzLmhhc0ljb24gJiYgIXByb3BzLmhhc0xhYmVsICYmIFwiXFxucGFkZGluZzogXCIgKyBwcm9wcy50aGVtZS5nbG9iYWwuZWRnZVNpemUuc21hbGwgKyBcIjtcXG5cIjtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUuYnV0dG9uLmV4dGVuZDtcbn0pO1xuU3R5bGVkQnV0dG9uLmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKFN0eWxlZEJ1dHRvbi5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG5leHBvcnQgeyBTdHlsZWRCdXR0b24gfTsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5pbXBvcnQgeyBkZXNjcmliZSwgUHJvcFR5cGVzIH0gZnJvbSAncmVhY3QtZGVzYyc7XG5pbXBvcnQgeyBjb2xvclByb3BUeXBlLCBnZW5lcmljUHJvcHMsIGdldEF2YWlsYWJsZUF0QmFkZ2UsIGhvdmVySW5kaWNhdG9yUHJvcFR5cGUsIHRoZW1lRG9jVXRpbHMgfSBmcm9tICcuLi8uLi91dGlscyc7XG5leHBvcnQgdmFyIGRvYyA9IGZ1bmN0aW9uIGRvYyhCdXR0b24pIHtcbiAgdmFyIERvY3VtZW50ZWRCdXR0b24gPSBkZXNjcmliZShCdXR0b24pLmF2YWlsYWJsZUF0KGdldEF2YWlsYWJsZUF0QmFkZ2UoJ0J1dHRvbicpKS5kZXNjcmlwdGlvbignQSBidXR0b24uJykuZGV0YWlscyhcIllvdSBjYW4gcHJvdmlkZSBhIHNpbmdsZSBmdW5jdGlvbiBjaGlsZCB0aGF0IHdpbGwgYmUgY2FsbGVkIHdpdGhcXG4gICAgICAnaG92ZXInIGFuZCAnZm9jdXMnIGtleXMuIFRoaXMgYWxsb3dzIHlvdSB0byBjdXN0b21pemUgdGhlIHJlbmRlcmluZ1xcbiAgICAgIG9mIHRoZSBCdXR0b24gaW4gdGhvc2UgY2FzZXMuXCIpLnVzYWdlKFwiaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnZ3JvbW1ldCc7XFxuPEJ1dHRvbiBwcmltYXJ5IGxhYmVsPSdMYWJlbCcgLz5cIikuaW50cmluc2ljRWxlbWVudCgnYnV0dG9uJyk7XG4gIERvY3VtZW50ZWRCdXR0b24ucHJvcFR5cGVzID0gX2V4dGVuZHMoe30sIGdlbmVyaWNQcm9wcywge1xuICAgIGFjdGl2ZTogUHJvcFR5cGVzLmJvb2wuZGVzY3JpcHRpb24oJ1doZXRoZXIgdGhlIGJ1dHRvbiBpcyBhY3RpdmUuJykuZGVmYXVsdFZhbHVlKGZhbHNlKSxcbiAgICBjb2xvcjogY29sb3JQcm9wVHlwZS5kZXNjcmlwdGlvbignRmlsbCBjb2xvciBmb3IgcHJpbWFyeSwgbGFiZWwgY29sb3IgZm9yIHBsYWluLCBib3JkZXIgY29sb3Igb3RoZXJ3aXNlLicpLFxuICAgIGRpc2FibGVkOiBQcm9wVHlwZXMuYm9vbC5kZXNjcmlwdGlvbignV2hldGhlciB0aGUgYnV0dG9uIGlzIGRpc2FibGVkLicpLmRlZmF1bHRWYWx1ZShmYWxzZSksXG4gICAgZmlsbDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFsnaG9yaXpvbnRhbCcsICd2ZXJ0aWNhbCddKSwgUHJvcFR5cGVzLmJvb2xdKS5kZXNjcmlwdGlvbihcIldoZXRoZXIgdGhlIGJ1dHRvbiBleHBhbmRzIHRvIGZpbGwgYWxsIG9mIHRoZSBhdmFpbGFibGUgd2lkdGggYW5kL29yIFxcbiAgICAgICAgaGVpZ2h0LlwiKS5kZWZhdWx0VmFsdWUoZmFsc2UpLFxuICAgIGZvY3VzSW5kaWNhdG9yOiBQcm9wVHlwZXMuYm9vbC5kZXNjcmlwdGlvbihcIldoZXRoZXIgd2hlbiAncGxhaW4nIGl0IHNob3VsZCByZWNlaXZlIGEgZm9jdXMgb3V0bGluZS5cIikuZGVmYXVsdFZhbHVlKHRydWUpLFxuICAgIGhvdmVySW5kaWNhdG9yOiBob3ZlckluZGljYXRvclByb3BUeXBlLmRlc2NyaXB0aW9uKFwiVGhlIGhvdmVyIGluZGljYXRvciB0byBhcHBseSB3aGVuIHRoZSB1c2VyIGlzIG1vdXNpbmcgb3ZlciB0aGVcXG5idXR0b24uIEFuIG9iamVjdCBjYW4gYmUgYWxzbyBiZSBzcGVjaWZpZWQgZm9yIGNvbG9yIGluZGV4IHN1cHBvcnQ6XFxue2JhY2tncm91bmQ6ICduZXV0cmFsLTInfS4gVGhpcyBwcm9wIGlzIG1lYW50IHRvIGJlIHVzZWQgb25seVxcbndpdGggcGxhaW4gQnV0dG9ucy5cIikuZGVmYXVsdFZhbHVlKGZhbHNlKSxcbiAgICBocmVmOiBQcm9wVHlwZXMuc3RyaW5nLmRlc2NyaXB0aW9uKCdJZiBzcGVjaWZpZWQsIHRoZSBidXR0b24gd2lsbCBiZWhhdmUgbGlrZSBhbiBhbmNob3IgdGFnLicpLFxuICAgIHRhcmdldDogUHJvcFR5cGVzLm9uZU9mKFsnX3NlbGYnLCAnX2JsYW5rJywgJ19wYXJlbnQnLCAnX3RvcCddKS5kZXNjcmlwdGlvbihcIlNwZWNpZmllcyB3aGVyZSB0byBkaXNwbGF5IHRoZSBVUkwgZGVmaW5lZCBpbiB0aGUgaHJlZiBwcm9wZXJ0eS5cIiksXG4gICAgaWNvbjogUHJvcFR5cGVzLmVsZW1lbnQuZGVzY3JpcHRpb24oJ0ljb24gZWxlbWVudCB0byBwbGFjZSBpbiB0aGUgYnV0dG9uLicpLFxuICAgIGdhcDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFsnbm9uZScsICd4eHNtYWxsJywgJ3hzbWFsbCcsICdzbWFsbCcsICdtZWRpdW0nLCAnbGFyZ2UnLCAneGxhcmdlJ10pLCBQcm9wVHlwZXMuc3RyaW5nXSkuZGVzY3JpcHRpb24oXCJUaGUgYW1vdW50IG9mIHNwYWNpbmcgYmV0d2VlbiBpY29uIGFuZCBsYWJlbCBpbiB0aGUgYnV0dG9uLlwiKS5kZWZhdWx0VmFsdWUoJ3NtYWxsJyksXG4gICAgbGFiZWw6IFByb3BUeXBlcy5ub2RlLmRlc2NyaXB0aW9uKCdMYWJlbCB0ZXh0IHRvIHBsYWNlIGluIHRoZSBidXR0b24uJyksXG4gICAgb25DbGljazogUHJvcFR5cGVzLmZ1bmMuZGVzY3JpcHRpb24oXCJDbGljayBoYW5kbGVyLiBOb3Qgc2V0dGluZyB0aGlzIHByb3BlcnR5IGFuZCBub3Qgc3BlY2lmeWluZyBhIGhyZWZcXG5jYXVzZXMgdGhlIEJ1dHRvbiB0byBiZSBkaXNhYmxlZC5cIiksXG4gICAgcGxhaW46IFByb3BUeXBlcy5ib29sLmRlc2NyaXB0aW9uKFwiV2hldGhlciB0aGlzIGlzIGEgcGxhaW4gYnV0dG9uIHdpdGggbm8gYm9yZGVyIG9yIHBhZC5cXG5Ob24gcGxhaW4gYnV0dG9uIHdpbGwgc2hvdyBib3RoIHBhZCBhbmQgYm9yZGVyLlxcblRoZSBwbGFpbiBidXR0b24gaGFzIG5vIGJvcmRlciBhbmQgdW5sZXNzIHRoZSBpY29uIHByb3AgZXhpc3QgaXQgaGFzIG5vIHBhZCBhcyBcXG53ZWxsLlwiKS5kZWZhdWx0VmFsdWUoZmFsc2UpLFxuICAgIHByaW1hcnk6IFByb3BUeXBlcy5ib29sLmRlc2NyaXB0aW9uKFwiV2hldGhlciB0aGlzIGlzIGEgcHJpbWFyeSBidXR0b24uIFRoZXJlIHNob3VsZCBiZSBhdCBtb3N0IG9uZSBwZXIgcGFnZVxcbiAgICAgICAgIG9yIHNjcmVlbi5cIikuZGVmYXVsdFZhbHVlKGZhbHNlKSxcbiAgICByZXZlcnNlOiBQcm9wVHlwZXMuYm9vbC5kZXNjcmlwdGlvbihcIldoZXRoZXIgYW4gaWNvbiBhbmQgbGFiZWwgc2hvdWxkIGJlIHJldmVyc2VkIHNvIHRoYXQgdGhlIGljb24gaXMgYXQgdGhlXFxuZW5kIG9mIHRoZSBhbmNob3IuXCIpLmRlZmF1bHRWYWx1ZShmYWxzZSksXG4gICAgdHlwZTogUHJvcFR5cGVzLm9uZU9mKFsnYnV0dG9uJywgJ3Jlc2V0JywgJ3N1Ym1pdCddKS5kZXNjcmlwdGlvbihcIlRoZSB0eXBlIG9mIGJ1dHRvbi4gU2V0IHRoZSB0eXBlIHRvIHN1Ym1pdCBmb3IgdGhlIGRlZmF1bHQgYnV0dG9uIG9uIFxcbiAgICAgICAgZm9ybXMuXCIpLmRlZmF1bHRWYWx1ZSgnYnV0dG9uJyksXG4gICAgYXM6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5mdW5jXSkuZGVzY3JpcHRpb24oXCJUaGUgRE9NIHRhZyBvciByZWFjdCBjb21wb25lbnQgdG8gdXNlIGZvciB0aGUgZWxlbWVudC5cIilcbiAgfSk7XG4gIHJldHVybiBEb2N1bWVudGVkQnV0dG9uO1xufTtcbmV4cG9ydCB2YXIgdGhlbWVEb2MgPSBfZXh0ZW5kcyh7XG4gICdnbG9iYWwuYWN0aXZlLmJhY2tncm91bmQuY29sb3InOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgYmFja2dyb3VuZCBjb2xvciB3aGVuIHVzaW5nIGFjdGl2ZSBwcm9wLicsXG4gICAgdHlwZTogJ3N0cmluZyB8IHsgZGFyazogc3RyaW5nLCBsaWdodDogc3RyaW5nIH0nLFxuICAgIGRlZmF1bHRWYWx1ZTogJ2FjdGl2ZSdcbiAgfSxcbiAgJ2dsb2JhbC5hY3RpdmUuYmFja2dyb3VuZC5vcGFjaXR5Jzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIHZhbHVlIHVzZWQgZm9yIGFjdGl2ZSBidXR0b24gYmFja2dyb3VuZCBvcGFjaXR5LicsXG4gICAgdHlwZTogJ251bWJlciB8IHN0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiAnbWVkaXVtJ1xuICB9LFxuICAnZ2xvYmFsLmFjdGl2ZS5jb2xvcic6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSB0ZXh0IGNvbG9yIHdoZW4gdXNpbmcgYWN0aXZlIHByb3AuJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgeyBkYXJrOiBzdHJpbmcsIGxpZ2h0OiBzdHJpbmcgfScsXG4gICAgZGVmYXVsdFZhbHVlOiBcInsgZGFyazogJ3doaXRlJywgbGlnaHQ6ICdibGFjaycgfVwiXG4gIH0sXG4gICdnbG9iYWwuaG92ZXIuYmFja2dyb3VuZCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBiYWNrZ3JvdW5kIHN0eWxlIHdoZW4gaG92ZXJpbmcuJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgeyBjb2xvcjogc3RyaW5nLCBvcGFjaXR5OiBzdHJpbmcgfScsXG4gICAgZGVmYXVsdFZhbHVlOiBcInsgY29sb3I6ICdhY3RpdmUnLCBvcGFjaXR5OiAnbWVkaXVtJyB9XCJcbiAgfSxcbiAgJ2dsb2JhbC5ob3Zlci5jb2xvcic6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSB0ZXh0IGNvbG9yIHdoZW4gaG92ZXJpbmcuJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgeyBkYXJrOiBzdHJpbmcsIGxpZ2h0OiBzdHJpbmcgfScsXG4gICAgZGVmYXVsdFZhbHVlOiBcInsgZGFyazogJ3doaXRlJywgbGlnaHQ6ICdibGFjaycgfVwiXG4gIH0sXG4gICdnbG9iYWwuZWRnZVNpemUuc21hbGwnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgcGFkZGluZyBhcm91bmQgYW4gaWNvbi1vbmx5IGJ1dHRvbi4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCB7IGRhcms6IHN0cmluZywgbGlnaHQ6IHN0cmluZyB9JyxcbiAgICBkZWZhdWx0VmFsdWU6ICcxMnB4J1xuICB9LFxuICAnZ2xvYmFsLmNvbG9ycy5jb250cm9sJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGNvbG9yIG9mIHRoZSBib3JkZXIuJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgeyBkYXJrOiBzdHJpbmcsIGxpZ2h0OiBzdHJpbmcgfScsXG4gICAgZGVmYXVsdFZhbHVlOiBcInsgZGFyazogJ2FjY2VudC0xJywgbGlnaHQ6ICdicmFuZCcsIH1cIlxuICB9LFxuICAnZ2xvYmFsLmNvbG9ycy5icmFuZCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBsaWdodCB2ZXJzaW9uIG9mIHRoZSBib3JkZXIuJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICcjN0Q0Q0RCJ1xuICB9LFxuICAnZ2xvYmFsLmNvbG9ycy50ZXh0Jzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGNvbG9yIG9mIHRoZSB0ZXh0IGxhYmVsLicsXG4gICAgdHlwZTogJ3N0cmluZyB8IHsgZGFyazogc3RyaW5nLCBsaWdodDogc3RyaW5nIH0nLFxuICAgIGRlZmF1bHRWYWx1ZTogXCJ7IGRhcms6ICcjZjhmOGY4JywgbGlnaHQ6ICcjNDQ0NDQ0JyB9XCJcbiAgfSxcbiAgJ3RleHQubWVkaXVtLnNpemUnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgZm9udCBzaXplIG9mIHRoZSB0ZXh0IGxhYmVsLicsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiAnMThweCdcbiAgfSxcbiAgJ3RleHQubWVkaXVtLmhlaWdodCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBsaW5lIGhlaWdodCBvZiB0aGUgdGV4dCBsYWJlbC4nLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogJzI0cHgnXG4gIH0sXG4gICdidXR0b24uYm9yZGVyLmNvbG9yJzoge1xuICAgIGRlc2NyaXB0aW9uOiBcIlRoZSBjb2xvciBvZiB0aGUgYm9yZGVyLlwiLFxuICAgIHR5cGU6ICdzdHJpbmcgfCB7IGRhcms6IHN0cmluZywgbGlnaHQ6IHN0cmluZyB9J1xuICB9LFxuICAnYnV0dG9uLmJvcmRlci5yYWRpdXMnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgY29ybmVyIHJhZGl1cy4nLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogJzE4cHgnXG4gIH0sXG4gICdidXR0b24uYm9yZGVyLndpZHRoJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGJvcmRlciB3aWR0aC4nLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogJzJweCdcbiAgfSxcbiAgJ2J1dHRvbi5jb2xvcic6IHtcbiAgICBkZXNjcmlwdGlvbjogXCJUaGUgY29sb3Igb2YgdGhlIHRleHQgbGFiZWwuXCIsXG4gICAgdHlwZTogJ3N0cmluZyB8IHsgZGFyazogc3RyaW5nLCBsaWdodDogc3RyaW5nIH0nXG4gIH0sXG4gICdidXR0b24ucHJpbWFyeS5jb2xvcic6IHtcbiAgICBkZXNjcmlwdGlvbjogXCJUaGUgY29sb3Igb2YgdGhlIGJhY2tncm91bmQgZm9yIHByaW1hcnkgYnV0dG9ucy5cIixcbiAgICB0eXBlOiAnc3RyaW5nIHwgeyBkYXJrOiBzdHJpbmcsIGxpZ2h0OiBzdHJpbmcgfSdcbiAgfSxcbiAgJ2J1dHRvbi5kaXNhYmxlZC5vcGFjaXR5Jzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIG9wYWNpdHkgd2hlbiB0aGUgYnV0dG9uIGlzIGRpc2FibGVkLicsXG4gICAgdHlwZTogJ251bWJlcicsXG4gICAgZGVmYXVsdFZhbHVlOiAwLjNcbiAgfSxcbiAgJ2J1dHRvbi5wYWRkaW5nLmhvcml6b250YWwnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgaG9yaXpvbnRhbCBwYWRkaW5nLicsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiAnMjJweCdcbiAgfSxcbiAgJ2J1dHRvbi5wYWRkaW5nLnZlcnRpY2FsJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIHZlcnRpY2FsIHBhZGRpbmcuJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICc0cHgnXG4gIH0sXG4gICdidXR0b24uZXh0ZW5kJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnQW55IGFkZGl0aW9uYWwgc3R5bGUgZm9yIHRoZSBCdXR0b24uJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgKHByb3BzKSA9PiB7fSdcbiAgfVxufSwgdGhlbWVEb2NVdGlscy5mb2N1c1N0eWxlLCB7fSwgdGhlbWVEb2NVdGlscy5kaXNhYmxlZFN0eWxlKTsiLCJleHBvcnQgeyBCdXR0b24gfSBmcm9tICcuL0J1dHRvbic7IiwiZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzTG9vc2Uoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzLnByb3RvdHlwZSk7IHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzOyBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjb21wb3NlIH0gZnJvbSAncmVjb21wb3NlJztcbmltcG9ydCB7IHdpdGhUaGVtZSB9IGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCB7IGRlZmF1bHRQcm9wcyB9IGZyb20gJy4uLy4uL2RlZmF1bHQtcHJvcHMnO1xuaW1wb3J0IHsgQm94IH0gZnJvbSAnLi4vQm94JztcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJy4uL0J1dHRvbic7XG5pbXBvcnQgeyBIZWFkaW5nIH0gZnJvbSAnLi4vSGVhZGluZyc7XG5pbXBvcnQgeyBLZXlib2FyZCB9IGZyb20gJy4uL0tleWJvYXJkJztcbmltcG9ydCB7IFN0eWxlZENhbGVuZGFyLCBTdHlsZWREYXksIFN0eWxlZERheUNvbnRhaW5lciwgU3R5bGVkV2VlaywgU3R5bGVkV2Vla3MsIFN0eWxlZFdlZWtzQ29udGFpbmVyIH0gZnJvbSAnLi9TdHlsZWRDYWxlbmRhcic7XG5pbXBvcnQgeyBhZGREYXlzLCBhZGRNb250aHMsIGJldHdlZW5EYXRlcywgZGF5c0FwYXJ0LCBlbmRPZk1vbnRoLCBzdGFydE9mTW9udGgsIHN1YnRyYWN0RGF5cywgc3VidHJhY3RNb250aHMsIHdpdGhpbkRhdGVzLCB1cGRhdGVEYXRlUmFuZ2UgfSBmcm9tICcuL3V0aWxzJztcbnZhciBoZWFkaW5nUGFkTWFwID0ge1xuICBzbWFsbDogJ3hzbWFsbCcsXG4gIG1lZGl1bTogJ3NtYWxsJyxcbiAgbGFyZ2U6ICdtZWRpdW0nXG59O1xuXG52YXIgYnVpbGRTdGFydEVuZCA9IGZ1bmN0aW9uIGJ1aWxkU3RhcnRFbmQocmVmZXJlbmNlLCBmaXJzdERheU9mV2Vlaykge1xuICB2YXIgc3RhcnQgPSBuZXcgRGF0ZShyZWZlcmVuY2UpO1xuICBzdGFydC5zZXREYXRlKDEpOyAvLyBmaXJzdCBvZiBtb250aFxuICAvLyBJbiBjYXNlIFN1bmRheSBpcyB0aGUgZmlyc3QgZGF5IG9mIHRoZSBtb250aCwgYW5kIHRoZSB1c2VyIGFza2VkIGZvciBNb25kYXlcbiAgLy8gdG8gYmUgdGhlIGZpcnN0IGRheSBvZiB0aGUgd2VlaywgdGhlbiB3ZSBuZWVkIHRvIGluY2x1ZGUgU3VuZGF5IGFuZCBzaXhcbiAgLy8gZGF5cyBwcmlvci5cblxuICBzdGFydCA9IHN0YXJ0LmdldERheSgpID09PSAwICYmIGZpcnN0RGF5T2ZXZWVrID09PSAxID8gc3RhcnQgPSBzdWJ0cmFjdERheXMoc3RhcnQsIDYpIDogLy8gYmVnaW5uaW5nIG9mIHdlZWtcbiAgc3RhcnQgPSBzdWJ0cmFjdERheXMoc3RhcnQsIHN0YXJ0LmdldERheSgpIC0gZmlyc3REYXlPZldlZWspO1xuICB2YXIgZW5kID0gYWRkRGF5cyhzdGFydCwgNyAqIDUgKyA3KTsgLy8gNSB3ZWVrcyB0byBlbmQgb2Ygd2Vla1xuXG4gIHJldHVybiB7XG4gICAgc3RhcnQ6IHN0YXJ0LFxuICAgIGVuZDogZW5kXG4gIH07XG59O1xuXG52YXIgYnVpbGRTdGF0ZSA9IGZ1bmN0aW9uIGJ1aWxkU3RhdGUocHJvcHMpIHtcbiAgdmFyIGRhdGUgPSBwcm9wcy5kYXRlLFxuICAgICAgZGF0ZXMgPSBwcm9wcy5kYXRlcyxcbiAgICAgIGZpcnN0RGF5T2ZXZWVrID0gcHJvcHMuZmlyc3REYXlPZldlZWssXG4gICAgICByZWZlcmVuY2UgPSBwcm9wcy5yZWZlcmVuY2U7XG4gIHZhciBub3JtYWxpemVkUmVmZXJlbmNlO1xuXG4gIGlmIChyZWZlcmVuY2UpIHtcbiAgICBub3JtYWxpemVkUmVmZXJlbmNlID0gbmV3IERhdGUocmVmZXJlbmNlKTtcbiAgfSBlbHNlIGlmIChkYXRlKSB7XG4gICAgbm9ybWFsaXplZFJlZmVyZW5jZSA9IG5ldyBEYXRlKGRhdGUpO1xuICB9IGVsc2UgaWYgKGRhdGVzICYmIGRhdGVzLmxlbmd0aCA+IDApIHtcbiAgICBpZiAodHlwZW9mIGRhdGVzWzBdID09PSAnc3RyaW5nJykge1xuICAgICAgbm9ybWFsaXplZFJlZmVyZW5jZSA9IG5ldyBEYXRlKGRhdGVzWzBdKTtcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoZGF0ZXNbMF0pKSB7XG4gICAgICBub3JtYWxpemVkUmVmZXJlbmNlID0gbmV3IERhdGUoZGF0ZXNbMF1bMF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBub3JtYWxpemVkUmVmZXJlbmNlID0gbmV3IERhdGUoKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgbm9ybWFsaXplZFJlZmVyZW5jZSA9IG5ldyBEYXRlKCk7XG4gIH1cblxuICByZXR1cm4gX2V4dGVuZHMoe30sIGJ1aWxkU3RhcnRFbmQobm9ybWFsaXplZFJlZmVyZW5jZSwgZmlyc3REYXlPZldlZWspLCB7XG4gICAgcmVmZXJlbmNlOiBub3JtYWxpemVkUmVmZXJlbmNlXG4gIH0pO1xufTtcblxudmFyIENhbGVuZGFyID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKENhbGVuZGFyLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBDYWxlbmRhcigpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgX3RoaXMgPSBfQ29tcG9uZW50LmNhbGwuYXBwbHkoX0NvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChhcmdzKSkgfHwgdGhpcztcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJzdGF0ZVwiLCB7fSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiZGF5UmVmc1wiLCB7fSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiY2xlYXJTbGlkZVN0YXRlTGF0ZXJcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgY2xlYXJUaW1lb3V0KF90aGlzLnRpbWVyKTtcbiAgICAgIF90aGlzLnRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB0YXJnZXRTdGFydEVuZCA9IF90aGlzLnN0YXRlLnRhcmdldFN0YXJ0RW5kO1xuXG4gICAgICAgIGlmICh0YXJnZXRTdGFydEVuZCkge1xuICAgICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIHN0YXJ0OiB0YXJnZXRTdGFydEVuZC5zdGFydCxcbiAgICAgICAgICAgIGVuZDogdGFyZ2V0U3RhcnRFbmQuZW5kLFxuICAgICAgICAgICAgdGFyZ2V0U3RhcnRFbmQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHNsaWRlOiB1bmRlZmluZWRcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSAvLyBXYWl0IGZvciBhbmltYXRpb24gdG8gZmluaXNoIGJlZm9yZSBjbGVhbmluZyB1cC5cbiAgICAgICAgLy8gRW1waXJpY2FsbHkgZGV0ZXJtaW5lZC5cblxuICAgICAgfSwgODAwKTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJzZXRSZWZlcmVuY2VcIiwgZnVuY3Rpb24gKHJlZmVyZW5jZSkge1xuICAgICAgdmFyIF90aGlzJHByb3BzID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgYW5pbWF0ZSA9IF90aGlzJHByb3BzLmFuaW1hdGUsXG4gICAgICAgICAgYm91bmRzID0gX3RoaXMkcHJvcHMuYm91bmRzLFxuICAgICAgICAgIGZpcnN0RGF5T2ZXZWVrID0gX3RoaXMkcHJvcHMuZmlyc3REYXlPZldlZWssXG4gICAgICAgICAgb25SZWZlcmVuY2UgPSBfdGhpcyRwcm9wcy5vblJlZmVyZW5jZTtcbiAgICAgIHZhciBfdGhpcyRzdGF0ZSA9IF90aGlzLnN0YXRlLFxuICAgICAgICAgIHN0YXJ0ID0gX3RoaXMkc3RhdGUuc3RhcnQsXG4gICAgICAgICAgZW5kID0gX3RoaXMkc3RhdGUuZW5kLFxuICAgICAgICAgIHRhcmdldFN0YXJ0RW5kID0gX3RoaXMkc3RhdGUudGFyZ2V0U3RhcnRFbmQ7XG5cbiAgICAgIGlmIChiZXR3ZWVuRGF0ZXMocmVmZXJlbmNlLCBib3VuZHMpKSB7XG4gICAgICAgIHZhciBuZXh0U3RhcnRFbmQgPSBidWlsZFN0YXJ0RW5kKHJlZmVyZW5jZSwgZmlyc3REYXlPZldlZWspO1xuICAgICAgICB2YXIgbmV4dFN0YXRlID0ge1xuICAgICAgICAgIHJlZmVyZW5jZTogcmVmZXJlbmNlXG4gICAgICAgIH07IC8vIGlmIHdlJ3JlIGNoYW5naW5nIHRvbyBmYXN0LCBieXBhc3MgYW5pbWF0aW9uXG5cbiAgICAgICAgaWYgKCFhbmltYXRlIHx8IHRhcmdldFN0YXJ0RW5kKSB7XG4gICAgICAgICAgbmV4dFN0YXRlLnRhcmdldFN0YXJ0RW5kID0gbmV4dFN0YXJ0RW5kO1xuICAgICAgICAgIG5leHRTdGF0ZS5zdGFydCA9IG5leHRTdGFydEVuZC5zdGFydDtcbiAgICAgICAgICBuZXh0U3RhdGUuZW5kID0gbmV4dFN0YXJ0RW5kLmVuZDtcbiAgICAgICAgICBuZXh0U3RhdGUudGFyZ2V0U3RhcnRFbmQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgbmV4dFN0YXRlLnNsaWRlID0gdW5kZWZpbmVkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5leHRTdGF0ZS50YXJnZXRTdGFydEVuZCA9IG5leHRTdGFydEVuZDtcblxuICAgICAgICAgIGlmIChuZXh0U3RhcnRFbmQuc3RhcnQuZ2V0VGltZSgpIDwgc3RhcnQuZ2V0VGltZSgpKSB7XG4gICAgICAgICAgICBuZXh0U3RhdGUuc3RhcnQgPSBuZXh0U3RhcnRFbmQuc3RhcnQ7XG4gICAgICAgICAgICBuZXh0U3RhdGUuc2xpZGUgPSB7XG4gICAgICAgICAgICAgIGRpcmVjdGlvbjogJ2Rvd24nLFxuICAgICAgICAgICAgICB3ZWVrczogZGF5c0FwYXJ0KHN0YXJ0LCBuZXh0U3RhcnRFbmQuc3RhcnQpIC8gN1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9IGVsc2UgaWYgKG5leHRTdGFydEVuZC5lbmQuZ2V0VGltZSgpID4gZW5kLmdldFRpbWUoKSkge1xuICAgICAgICAgICAgbmV4dFN0YXRlLmVuZCA9IG5leHRTdGFydEVuZC5lbmQ7XG4gICAgICAgICAgICBuZXh0U3RhdGUuc2xpZGUgPSB7XG4gICAgICAgICAgICAgIGRpcmVjdGlvbjogJ3VwJyxcbiAgICAgICAgICAgICAgd2Vla3M6IGRheXNBcGFydChuZXh0U3RhcnRFbmQuZW5kLCBlbmQpIC8gN1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpcy5jbGVhclNsaWRlU3RhdGVMYXRlcigpO1xuXG4gICAgICAgIF90aGlzLnNldFN0YXRlKG5leHRTdGF0ZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmIChvblJlZmVyZW5jZSkge1xuICAgICAgICAgICAgb25SZWZlcmVuY2UocmVmZXJlbmNlLnRvSVNPU3RyaW5nKCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwib25Gb2N1c1wiLCBmdW5jdGlvbiAoZGF5KSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYm91bmRzID0gX3RoaXMucHJvcHMuYm91bmRzO1xuICAgICAgICB2YXIgcmVmZXJlbmNlID0gX3RoaXMuc3RhdGUucmVmZXJlbmNlO1xuXG4gICAgICAgIGlmIChiZXR3ZWVuRGF0ZXMoZGF5LCBib3VuZHMpKSB7XG4gICAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgZm9jdXNlZDogZGF5XG4gICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGRheS5nZXRNb250aCgpICE9PSByZWZlcmVuY2UuZ2V0TW9udGgoKSkge1xuICAgICAgICAgICAgICBfdGhpcy5zZXRSZWZlcmVuY2UoZGF5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJvbkNsaWNrRGF5XCIsIGZ1bmN0aW9uIChkYXRlU3RyaW5nKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMkcHJvcHMyID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgICBvblNlbGVjdCA9IF90aGlzJHByb3BzMi5vblNlbGVjdCxcbiAgICAgICAgICAgIHJhbmdlID0gX3RoaXMkcHJvcHMyLnJhbmdlO1xuXG4gICAgICAgIGlmIChyYW5nZSkge1xuICAgICAgICAgIHZhciBuZXh0U3RhdGUgPSB1cGRhdGVEYXRlUmFuZ2UoZGF0ZVN0cmluZywgX3RoaXMuc3RhdGUpO1xuXG4gICAgICAgICAgX3RoaXMuc2V0U3RhdGUobmV4dFN0YXRlKTtcblxuICAgICAgICAgIGlmIChvblNlbGVjdCkge1xuICAgICAgICAgICAgb25TZWxlY3QobmV4dFN0YXRlLmRhdGVzIHx8IG5leHRTdGF0ZS5kYXRlIHx8IHVuZGVmaW5lZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKG9uU2VsZWN0KSB7XG4gICAgICAgICAgb25TZWxlY3QoZGF0ZVN0cmluZyk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwic2V0Rm9jdXNcIiwgZnVuY3Rpb24gKGRheSkge1xuICAgICAgdmFyIHJlZiA9IF90aGlzLmRheVJlZnNbZGF5LnRvSVNPU3RyaW5nKCldO1xuXG4gICAgICBpZiAocmVmICYmIHJlZi5jdXJyZW50KSB7XG4gICAgICAgIHJlZi5jdXJyZW50LmZvY3VzKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwicmVuZGVyQ2FsZW5kYXJIZWFkZXJcIiwgZnVuY3Rpb24gKHByZXZpb3VzTW9udGgsIG5leHRNb250aCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzMyA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIGJvdW5kcyA9IF90aGlzJHByb3BzMy5ib3VuZHMsXG4gICAgICAgICAgbG9jYWxlID0gX3RoaXMkcHJvcHMzLmxvY2FsZSxcbiAgICAgICAgICBzaXplID0gX3RoaXMkcHJvcHMzLnNpemUsXG4gICAgICAgICAgdGhlbWUgPSBfdGhpcyRwcm9wczMudGhlbWU7XG4gICAgICB2YXIgcmVmZXJlbmNlID0gX3RoaXMuc3RhdGUucmVmZXJlbmNlO1xuICAgICAgdmFyIFByZXZpb3VzSWNvbiA9IHNpemUgPT09ICdzbWFsbCcgPyB0aGVtZS5jYWxlbmRhci5pY29ucy5zbWFsbC5wcmV2aW91cyA6IHRoZW1lLmNhbGVuZGFyLmljb25zLnByZXZpb3VzO1xuICAgICAgdmFyIE5leHRJY29uID0gc2l6ZSA9PT0gJ3NtYWxsJyA/IHRoZW1lLmNhbGVuZGFyLmljb25zLnNtYWxsLm5leHQgOiB0aGVtZS5jYWxlbmRhci5pY29ucy5uZXh0O1xuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQm94LCB7XG4gICAgICAgIGRpcmVjdGlvbjogXCJyb3dcIixcbiAgICAgICAganVzdGlmeTogXCJiZXR3ZWVuXCIsXG4gICAgICAgIGFsaWduOiBcImNlbnRlclwiXG4gICAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwge1xuICAgICAgICBmbGV4OiB0cnVlLFxuICAgICAgICBwYWQ6IHtcbiAgICAgICAgICBob3Jpem9udGFsOiBoZWFkaW5nUGFkTWFwW3NpemVdIHx8ICdzbWFsbCdcbiAgICAgICAgfVxuICAgICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChIZWFkaW5nLCB7XG4gICAgICAgIGxldmVsOiBzaXplID09PSAnc21hbGwnID8gdGhlbWUuY2FsZW5kYXIuaGVhZGluZyAmJiB0aGVtZS5jYWxlbmRhci5oZWFkaW5nLmxldmVsIHx8IDQgOiAodGhlbWUuY2FsZW5kYXIuaGVhZGluZyAmJiB0aGVtZS5jYWxlbmRhci5oZWFkaW5nLmxldmVsIHx8IDQpIC0gMSxcbiAgICAgICAgc2l6ZTogc2l6ZSxcbiAgICAgICAgbWFyZ2luOiBcIm5vbmVcIlxuICAgICAgfSwgcmVmZXJlbmNlLnRvTG9jYWxlRGF0ZVN0cmluZyhsb2NhbGUsIHtcbiAgICAgICAgbW9udGg6ICdsb25nJyxcbiAgICAgICAgeWVhcjogJ251bWVyaWMnXG4gICAgICB9KSkpLCBSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwge1xuICAgICAgICBmbGV4OiBmYWxzZSxcbiAgICAgICAgZGlyZWN0aW9uOiBcInJvd1wiLFxuICAgICAgICBhbGlnbjogXCJjZW50ZXJcIlxuICAgICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtcbiAgICAgICAgYTExeVRpdGxlOiBwcmV2aW91c01vbnRoLnRvTG9jYWxlRGF0ZVN0cmluZyhsb2NhbGUsIHtcbiAgICAgICAgICBtb250aDogJ2xvbmcnLFxuICAgICAgICAgIHllYXI6ICdudW1lcmljJ1xuICAgICAgICB9KSxcbiAgICAgICAgaWNvbjogUmVhY3QuY3JlYXRlRWxlbWVudChQcmV2aW91c0ljb24sIHtcbiAgICAgICAgICBzaXplOiBzaXplICE9PSAnc21hbGwnID8gc2l6ZSA6IHVuZGVmaW5lZFxuICAgICAgICB9KSxcbiAgICAgICAgZGlzYWJsZWQ6ICFiZXR3ZWVuRGF0ZXMocHJldmlvdXNNb250aCwgYm91bmRzKSxcbiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMuc2V0UmVmZXJlbmNlKHByZXZpb3VzTW9udGgpO1xuICAgICAgICB9XG4gICAgICB9KSwgUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtcbiAgICAgICAgYTExeVRpdGxlOiBuZXh0TW9udGgudG9Mb2NhbGVEYXRlU3RyaW5nKGxvY2FsZSwge1xuICAgICAgICAgIG1vbnRoOiAnbG9uZycsXG4gICAgICAgICAgeWVhcjogJ251bWVyaWMnXG4gICAgICAgIH0pLFxuICAgICAgICBpY29uOiBSZWFjdC5jcmVhdGVFbGVtZW50KE5leHRJY29uLCB7XG4gICAgICAgICAgc2l6ZTogc2l6ZSAhPT0gJ3NtYWxsJyA/IHNpemUgOiB1bmRlZmluZWRcbiAgICAgICAgfSksXG4gICAgICAgIGRpc2FibGVkOiAhYmV0d2VlbkRhdGVzKG5leHRNb250aCwgYm91bmRzKSxcbiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMuc2V0UmVmZXJlbmNlKG5leHRNb250aCk7XG4gICAgICAgIH1cbiAgICAgIH0pKSk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwicmVuZGVyRGF5c09mV2Vla1wiLCBmdW5jdGlvbiAobG9jYWxlLCBzaXplLCBzdGFydCkge1xuICAgICAgdmFyIGRheSA9IG5ldyBEYXRlKHN0YXJ0KTtcbiAgICAgIHZhciBkYXlzID0gW107XG5cbiAgICAgIHdoaWxlIChkYXlzLmxlbmd0aCA8IDcpIHtcbiAgICAgICAgZGF5cy5wdXNoKFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkRGF5Q29udGFpbmVyLCB7XG4gICAgICAgICAga2V5OiBkYXlzLmxlbmd0aCxcbiAgICAgICAgICBzaXplUHJvcDogc2l6ZVxuICAgICAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZERheSwge1xuICAgICAgICAgIG90aGVyTW9udGg6IHRydWUsXG4gICAgICAgICAgc2l6ZVByb3A6IHNpemVcbiAgICAgICAgfSwgZGF5LnRvTG9jYWxlRGF0ZVN0cmluZyhsb2NhbGUsIHtcbiAgICAgICAgICB3ZWVrZGF5OiAnbmFycm93J1xuICAgICAgICB9KSkpKTtcbiAgICAgICAgZGF5ID0gYWRkRGF5cyhkYXksIDEpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWRXZWVrLCBudWxsLCBkYXlzKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIENhbGVuZGFyLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9IGZ1bmN0aW9uIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhuZXh0UHJvcHMsIHByZXZTdGF0ZSkge1xuICAgIHZhciByZWZlcmVuY2UgPSBuZXh0UHJvcHMucmVmZXJlbmNlO1xuICAgIHZhciBwcmV2UmVmZXJlbmNlID0gcHJldlN0YXRlLnJlZmVyZW5jZTtcblxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobmV4dFByb3BzLCAnZGF0ZScpIHx8IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuZXh0UHJvcHMsICdkYXRlcycpIHx8ICFwcmV2UmVmZXJlbmNlIHx8IHJlZmVyZW5jZSkge1xuICAgICAgdmFyIHN0YXRlID0ge307XG5cbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobmV4dFByb3BzLCAnZGF0ZScpIHx8IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuZXh0UHJvcHMsICdkYXRlcycpKSB7XG4gICAgICAgIHN0YXRlLmRhdGUgPSBuZXh0UHJvcHMuZGF0ZTtcbiAgICAgICAgc3RhdGUuZGF0ZXMgPSBuZXh0UHJvcHMuZGF0ZXM7XG4gICAgICB9XG5cbiAgICAgIGlmICghcHJldlJlZmVyZW5jZSB8fCByZWZlcmVuY2UpIHtcbiAgICAgICAgc3RhdGUgPSBfZXh0ZW5kcyh7fSwgc3RhdGUsIHt9LCBidWlsZFN0YXRlKG5leHRQcm9wcykpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgdmFyIF9wcm90byA9IENhbGVuZGFyLnByb3RvdHlwZTtcblxuICBfcHJvdG8uY29tcG9uZW50RGlkVXBkYXRlID0gZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgIHZhciBmb2N1c2VkID0gdGhpcy5zdGF0ZS5mb2N1c2VkO1xuXG4gICAgaWYgKGZvY3VzZWQpIHtcbiAgICAgIHZhciByZWYgPSB0aGlzLmRheVJlZnNbZm9jdXNlZC50b0lTT1N0cmluZygpXTtcblxuICAgICAgaWYgKHJlZiAmJiByZWYuY3VycmVudCAmJiByZWYuY3VycmVudCAhPT0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkge1xuICAgICAgICByZWYuY3VycmVudC5mb2N1cygpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBfcHJvdG8uY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lcik7XG4gIH07XG5cbiAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIHZhciBfdGhpcyRwcm9wczQgPSB0aGlzLnByb3BzLFxuICAgICAgICBib3VuZHMgPSBfdGhpcyRwcm9wczQuYm91bmRzLFxuICAgICAgICBkYXRlUHJvcCA9IF90aGlzJHByb3BzNC5kYXRlLFxuICAgICAgICBkYXRlc1Byb3AgPSBfdGhpcyRwcm9wczQuZGF0ZXMsXG4gICAgICAgIGRpc2FibGVkID0gX3RoaXMkcHJvcHM0LmRpc2FibGVkLFxuICAgICAgICBkYXlzT2ZXZWVrID0gX3RoaXMkcHJvcHM0LmRheXNPZldlZWssXG4gICAgICAgIGZpcnN0RGF5T2ZXZWVrID0gX3RoaXMkcHJvcHM0LmZpcnN0RGF5T2ZXZWVrLFxuICAgICAgICBoZWFkZXIgPSBfdGhpcyRwcm9wczQuaGVhZGVyLFxuICAgICAgICBsb2NhbGUgPSBfdGhpcyRwcm9wczQubG9jYWxlLFxuICAgICAgICBvblJlZmVyZW5jZSA9IF90aGlzJHByb3BzNC5vblJlZmVyZW5jZSxcbiAgICAgICAgb25TZWxlY3QgPSBfdGhpcyRwcm9wczQub25TZWxlY3QsXG4gICAgICAgIHJhbmdlID0gX3RoaXMkcHJvcHM0LnJhbmdlLFxuICAgICAgICBzaG93QWRqYWNlbnREYXlzID0gX3RoaXMkcHJvcHM0LnNob3dBZGphY2VudERheXMsXG4gICAgICAgIHNpemUgPSBfdGhpcyRwcm9wczQuc2l6ZSxcbiAgICAgICAgdGhlbWUgPSBfdGhpcyRwcm9wczQudGhlbWUsXG4gICAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfdGhpcyRwcm9wczQsIFtcImJvdW5kc1wiLCBcImRhdGVcIiwgXCJkYXRlc1wiLCBcImRpc2FibGVkXCIsIFwiZGF5c09mV2Vla1wiLCBcImZpcnN0RGF5T2ZXZWVrXCIsIFwiaGVhZGVyXCIsIFwibG9jYWxlXCIsIFwib25SZWZlcmVuY2VcIiwgXCJvblNlbGVjdFwiLCBcInJhbmdlXCIsIFwic2hvd0FkamFjZW50RGF5c1wiLCBcInNpemVcIiwgXCJ0aGVtZVwiXSk7XG5cbiAgICB2YXIgX3RoaXMkc3RhdGUyID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgZGF0ZSA9IF90aGlzJHN0YXRlMi5kYXRlLFxuICAgICAgICBkYXRlcyA9IF90aGlzJHN0YXRlMi5kYXRlcyxcbiAgICAgICAgZm9jdXNlZCA9IF90aGlzJHN0YXRlMi5mb2N1c2VkLFxuICAgICAgICBzdGFydCA9IF90aGlzJHN0YXRlMi5zdGFydCxcbiAgICAgICAgcmVmZXJlbmNlID0gX3RoaXMkc3RhdGUyLnJlZmVyZW5jZSxcbiAgICAgICAgZW5kID0gX3RoaXMkc3RhdGUyLmVuZCxcbiAgICAgICAgc2xpZGUgPSBfdGhpcyRzdGF0ZTIuc2xpZGU7IC8vIFdlIGhhdmUgdG8gZGVhbCB3aXRoIHJlZmVyZW5jZSBiZWluZyB0aGUgZW5kIG9mIGEgbW9udGggd2l0aCBtb3JlXG4gICAgLy8gZGF5cyB0aGFuIHRoZSBtb250aCB3ZSBhcmUgY2hhbmdpbmcgdG8uIFNvLCB3ZSBhbHdheXMgc2V0IHJlZmVyZW5jZVxuICAgIC8vIHRvIHRoZSBmaXJzdCBvZiB0aGUgbW9udGggYmVmb3JlIGNoYW5naW5nIHRoZSBtb250aC5cblxuICAgIHZhciBwcmV2aW91c01vbnRoID0gZW5kT2ZNb250aChzdWJ0cmFjdE1vbnRocyhzdGFydE9mTW9udGgocmVmZXJlbmNlKSwgMSkpO1xuICAgIHZhciBuZXh0TW9udGggPSBzdGFydE9mTW9udGgoYWRkTW9udGhzKHN0YXJ0T2ZNb250aChyZWZlcmVuY2UpLCAxKSk7XG4gICAgdmFyIHdlZWtzID0gW107XG4gICAgdmFyIGRheSA9IG5ldyBEYXRlKHN0YXJ0KTtcbiAgICB2YXIgZGF5cztcbiAgICB0aGlzLmRheVJlZnMgPSB7fTtcblxuICAgIHdoaWxlIChkYXkuZ2V0VGltZSgpIDwgZW5kLmdldFRpbWUoKSkge1xuICAgICAgaWYgKGRheS5nZXREYXkoKSA9PT0gZmlyc3REYXlPZldlZWspIHtcbiAgICAgICAgaWYgKGRheXMpIHtcbiAgICAgICAgICB3ZWVrcy5wdXNoKFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkV2Vlaywge1xuICAgICAgICAgICAga2V5OiBkYXkuZ2V0VGltZSgpXG4gICAgICAgICAgfSwgZGF5cykpO1xuICAgICAgICB9XG5cbiAgICAgICAgZGF5cyA9IFtdO1xuICAgICAgfVxuXG4gICAgICB2YXIgb3RoZXJNb250aCA9IGRheS5nZXRNb250aCgpICE9PSByZWZlcmVuY2UuZ2V0TW9udGgoKTtcblxuICAgICAgaWYgKCFzaG93QWRqYWNlbnREYXlzICYmIG90aGVyTW9udGgpIHtcbiAgICAgICAgZGF5cy5wdXNoKFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkRGF5Q29udGFpbmVyLCB7XG4gICAgICAgICAga2V5OiBkYXkuZ2V0VGltZSgpLFxuICAgICAgICAgIHNpemVQcm9wOiBzaXplXG4gICAgICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkRGF5LCB7XG4gICAgICAgICAgc2l6ZVByb3A6IHNpemVcbiAgICAgICAgfSkpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBkYXRlU3RyaW5nID0gZGF5LnRvSVNPU3RyaW5nKCk7XG4gICAgICAgIHRoaXMuZGF5UmVmc1tkYXRlU3RyaW5nXSA9IFJlYWN0LmNyZWF0ZVJlZigpO1xuICAgICAgICB2YXIgc2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgdmFyIGluUmFuZ2UgPSBmYWxzZTtcbiAgICAgICAgdmFyIHNlbGVjdGVkU3RhdGUgPSB3aXRoaW5EYXRlcyhkYXksIGRhdGUgfHwgZGF0ZXMpO1xuXG4gICAgICAgIGlmIChzZWxlY3RlZFN0YXRlID09PSAyKSB7XG4gICAgICAgICAgc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKHNlbGVjdGVkU3RhdGUgPT09IDEpIHtcbiAgICAgICAgICBpblJhbmdlID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkYXlEaXNhYmxlZCA9IHdpdGhpbkRhdGVzKGRheSwgZGlzYWJsZWQpIHx8IGJvdW5kcyAmJiAhYmV0d2VlbkRhdGVzKGRheSwgYm91bmRzKTtcbiAgICAgICAgZGF5cy5wdXNoKFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkRGF5Q29udGFpbmVyLCB7XG4gICAgICAgICAga2V5OiBkYXkuZ2V0VGltZSgpLFxuICAgICAgICAgIHNpemVQcm9wOiBzaXplXG4gICAgICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7XG4gICAgICAgICAgcmVmOiB0aGlzLmRheVJlZnNbZGF0ZVN0cmluZ10sXG4gICAgICAgICAgYTExeVRpdGxlOiBkYXkudG9EYXRlU3RyaW5nKCksXG4gICAgICAgICAgcGxhaW46IHRydWUsXG4gICAgICAgICAgaG92ZXJJbmRpY2F0b3I6ICFkYXlEaXNhYmxlZCxcbiAgICAgICAgICBkaXNhYmxlZDogZGF5RGlzYWJsZWQsXG4gICAgICAgICAgb25DbGljazogdGhpcy5vbkNsaWNrRGF5KGRhdGVTdHJpbmcpLFxuICAgICAgICAgIG9uRm9jdXM6IHRoaXMub25Gb2N1cyhkYXkpLFxuICAgICAgICAgIG9uQmx1cjogZnVuY3Rpb24gb25CbHVyKCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgIGZvY3VzZWQ6IGZhbHNlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkRGF5LCB7XG4gICAgICAgICAgaW5SYW5nZTogaW5SYW5nZSxcbiAgICAgICAgICBvdGhlck1vbnRoOiBkYXkuZ2V0TW9udGgoKSAhPT0gcmVmZXJlbmNlLmdldE1vbnRoKCksXG4gICAgICAgICAgaXNTZWxlY3RlZDogc2VsZWN0ZWQsXG4gICAgICAgICAgc2l6ZVByb3A6IHNpemVcbiAgICAgICAgfSwgZGF5LmdldERhdGUoKSkpKSk7XG4gICAgICB9XG5cbiAgICAgIGRheSA9IGFkZERheXMoZGF5LCAxKTtcbiAgICB9XG5cbiAgICB3ZWVrcy5wdXNoKFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkV2Vlaywge1xuICAgICAga2V5OiBkYXkuZ2V0VGltZSgpXG4gICAgfSwgZGF5cykpO1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZENhbGVuZGFyLCBfZXh0ZW5kcyh7XG4gICAgICBzaXplUHJvcDogc2l6ZVxuICAgIH0sIHJlc3QpLCBSZWFjdC5jcmVhdGVFbGVtZW50KEtleWJvYXJkLCB7XG4gICAgICBvblVwOiBmdW5jdGlvbiBvblVwKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgX3RoaXMyLnNldEZvY3VzKGFkZERheXMoZm9jdXNlZCwgLTcpKTtcbiAgICAgIH0sXG4gICAgICBvbkRvd246IGZ1bmN0aW9uIG9uRG93bihldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIF90aGlzMi5zZXRGb2N1cyhhZGREYXlzKGZvY3VzZWQsIDcpKTtcbiAgICAgIH0sXG4gICAgICBvbkxlZnQ6IGZ1bmN0aW9uIG9uTGVmdCgpIHtcbiAgICAgICAgcmV0dXJuIGZvY3VzZWQgJiYgX3RoaXMyLnNldEZvY3VzKGFkZERheXMoZm9jdXNlZCwgLTEpKTtcbiAgICAgIH0sXG4gICAgICBvblJpZ2h0OiBmdW5jdGlvbiBvblJpZ2h0KCkge1xuICAgICAgICByZXR1cm4gZm9jdXNlZCAmJiBfdGhpczIuc2V0Rm9jdXMoYWRkRGF5cyhmb2N1c2VkLCAxKSk7XG4gICAgICB9XG4gICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChCb3gsIG51bGwsIGhlYWRlciA/IGhlYWRlcih7XG4gICAgICBkYXRlOiByZWZlcmVuY2UsXG4gICAgICBsb2NhbGU6IGxvY2FsZSxcbiAgICAgIG9uUHJldmlvdXNNb250aDogZnVuY3Rpb24gb25QcmV2aW91c01vbnRoKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMyLnNldFJlZmVyZW5jZShwcmV2aW91c01vbnRoKTtcbiAgICAgIH0sXG4gICAgICBvbk5leHRNb250aDogZnVuY3Rpb24gb25OZXh0TW9udGgoKSB7XG4gICAgICAgIHJldHVybiBfdGhpczIuc2V0UmVmZXJlbmNlKG5leHRNb250aCk7XG4gICAgICB9LFxuICAgICAgcHJldmlvdXNJbkJvdW5kOiBiZXR3ZWVuRGF0ZXMocHJldmlvdXNNb250aCwgYm91bmRzKSxcbiAgICAgIG5leHRJbkJvdW5kOiBiZXR3ZWVuRGF0ZXMobmV4dE1vbnRoLCBib3VuZHMpXG4gICAgfSkgOiB0aGlzLnJlbmRlckNhbGVuZGFySGVhZGVyKHByZXZpb3VzTW9udGgsIG5leHRNb250aCksIGRheXNPZldlZWsgJiYgdGhpcy5yZW5kZXJEYXlzT2ZXZWVrKGxvY2FsZSwgc2l6ZSwgc3RhcnQpLCBSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZFdlZWtzQ29udGFpbmVyLCB7XG4gICAgICBzaXplUHJvcDogc2l6ZVxuICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkV2Vla3MsIHtcbiAgICAgIHNsaWRlOiBzbGlkZSxcbiAgICAgIHNpemVQcm9wOiBzaXplXG4gICAgfSwgd2Vla3MpKSkpKTtcbiAgfTtcblxuICByZXR1cm4gQ2FsZW5kYXI7XG59KENvbXBvbmVudCk7XG5cbl9kZWZpbmVQcm9wZXJ0eShDYWxlbmRhciwgXCJkZWZhdWx0UHJvcHNcIiwge1xuICBhbmltYXRlOiB0cnVlLFxuICBmaXJzdERheU9mV2VlazogMCxcbiAgc2l6ZTogJ21lZGl1bScsXG4gIGxvY2FsZTogJ2VuLVVTJyxcbiAgc2hvd0FkamFjZW50RGF5czogdHJ1ZVxufSk7XG5cbk9iamVjdC5zZXRQcm90b3R5cGVPZihDYWxlbmRhci5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG52YXIgQ2FsZW5kYXJEb2M7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBnbG9iYWwtcmVxdWlyZVxuICBDYWxlbmRhckRvYyA9IHJlcXVpcmUoJy4vZG9jJykuZG9jKENhbGVuZGFyKTtcbn1cblxudmFyIENhbGVuZGFyV3JhcHBlciA9IGNvbXBvc2Uod2l0aFRoZW1lKShDYWxlbmRhckRvYyB8fCBDYWxlbmRhcik7XG5leHBvcnQgeyBDYWxlbmRhcldyYXBwZXIgYXMgQ2FsZW5kYXIgfTsiLCJpbXBvcnQgc3R5bGVkLCB7IGNzcywga2V5ZnJhbWVzIH0gZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgYmFja2dyb3VuZFN0eWxlLCBnZW5lcmljU3R5bGVzLCBwYXJzZU1ldHJpY1RvTnVtIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuaW1wb3J0IHsgZGVmYXVsdFByb3BzIH0gZnJvbSAnLi4vLi4vZGVmYXVsdC1wcm9wcyc7XG5cbnZhciBzaXplU3R5bGUgPSBmdW5jdGlvbiBzaXplU3R5bGUocHJvcHMpIHtcbiAgdmFyIGRhdGEgPSBwcm9wcy50aGVtZS5jYWxlbmRhcltwcm9wcy5zaXplUHJvcF07XG4gIHJldHVybiBjc3MoW1wiZm9udC1zaXplOlwiLCBcIjtsaW5lLWhlaWdodDpcIiwgXCI7d2lkdGg6XCIsIFwiO1wiXSwgZGF0YS5mb250U2l6ZSwgZGF0YS5saW5lSGVpZ2h0LCBwcm9wcy50aGVtZS5nbG9iYWwuc2l6ZVtwcm9wcy5zaXplUHJvcF0pO1xufTtcblxudmFyIFN0eWxlZENhbGVuZGFyID0gc3R5bGVkLmRpdi53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiU3R5bGVkQ2FsZW5kYXJcIixcbiAgY29tcG9uZW50SWQ6IFwic2MtMXk0eGhtcC0wXCJcbn0pKFtcIlwiLCBcIiBcIiwgXCIgXCIsIFwiXCJdLCBnZW5lcmljU3R5bGVzLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHNpemVTdHlsZShwcm9wcyk7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLmNhbGVuZGFyICYmIHByb3BzLnRoZW1lLmNhbGVuZGFyLmV4dGVuZDtcbn0pO1xuU3R5bGVkQ2FsZW5kYXIuZGVmYXVsdFByb3BzID0ge307XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoU3R5bGVkQ2FsZW5kYXIuZGVmYXVsdFByb3BzLCBkZWZhdWx0UHJvcHMpO1xudmFyIFN0eWxlZFdlZWtzQ29udGFpbmVyID0gc3R5bGVkLmRpdi53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiU3R5bGVkQ2FsZW5kYXJfX1N0eWxlZFdlZWtzQ29udGFpbmVyXCIsXG4gIGNvbXBvbmVudElkOiBcInNjLTF5NHhobXAtMVwiXG59KShbXCJvdmVyZmxvdzpoaWRkZW47XCIsIFwiO1wiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBcImhlaWdodDogXCIgKyBwYXJzZU1ldHJpY1RvTnVtKHByb3BzLnRoZW1lLmNhbGVuZGFyW3Byb3BzLnNpemVQcm9wXS5kYXlTaXplKSAqIDYgKyBcInB4O1wiO1xufSk7XG5TdHlsZWRXZWVrc0NvbnRhaW5lci5kZWZhdWx0UHJvcHMgPSB7fTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihTdHlsZWRXZWVrc0NvbnRhaW5lci5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG5cbnZhciBzbGlkZVN0eWxlID0gZnVuY3Rpb24gc2xpZGVTdHlsZShwcm9wcykge1xuICB2YXIgX3Byb3BzJHNsaWRlID0gcHJvcHMuc2xpZGUsXG4gICAgICBkaXJlY3Rpb24gPSBfcHJvcHMkc2xpZGUuZGlyZWN0aW9uLFxuICAgICAgd2Vla3MgPSBfcHJvcHMkc2xpZGUud2Vla3MsXG4gICAgICBzaXplUHJvcCA9IHByb3BzLnNpemVQcm9wLFxuICAgICAgdGhlbWUgPSBwcm9wcy50aGVtZTtcbiAgdmFyIF90aGVtZSRjYWxlbmRhciRzaXplUCA9IHRoZW1lLmNhbGVuZGFyW3NpemVQcm9wXSxcbiAgICAgIGRheVNpemUgPSBfdGhlbWUkY2FsZW5kYXIkc2l6ZVAuZGF5U2l6ZSxcbiAgICAgIHNsaWRlRHVyYXRpb24gPSBfdGhlbWUkY2FsZW5kYXIkc2l6ZVAuc2xpZGVEdXJhdGlvbjtcbiAgdmFyIGFtb3VudCA9IHBhcnNlTWV0cmljVG9OdW0oZGF5U2l6ZSkgKiB3ZWVrcztcbiAgdmFyIHRyYW5zbGF0ZVlGcm9tID0gZGlyZWN0aW9uID09PSAnZG93bicgPyBcIi1cIiArIGFtb3VudCArIFwicHhcIiA6ICcwJztcbiAgdmFyIHRyYW5zbGF0ZVlUbyA9IGRpcmVjdGlvbiA9PT0gJ3VwJyA/IFwiLVwiICsgYW1vdW50ICsgXCJweFwiIDogJzAnO1xuICB2YXIgc2xpZGVUcmFuc2l0aW9uID0gY3NzKFtcIjAle3RyYW5zZm9ybTp0cmFuc2xhdGVZKFwiLCBcIik7fTEwMCV7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoXCIsIFwiKTt9XCJdLCB0cmFuc2xhdGVZRnJvbSwgdHJhbnNsYXRlWVRvKTtcbiAgcmV0dXJuIGNzcyhbXCJhbmltYXRpb246XCIsIFwiIFwiLCBcIiBmb3J3YXJkcztcIl0sIGtleWZyYW1lcyhbXCJcIiwgXCJcIl0sIHNsaWRlVHJhbnNpdGlvbiksIHNsaWRlRHVyYXRpb24pO1xufTtcblxudmFyIFN0eWxlZFdlZWtzID0gc3R5bGVkLmRpdi53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiU3R5bGVkQ2FsZW5kYXJfX1N0eWxlZFdlZWtzXCIsXG4gIGNvbXBvbmVudElkOiBcInNjLTF5NHhobXAtMlwiXG59KShbXCJwb3NpdGlvbjpyZWxhdGl2ZTtcIiwgXCI7XCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnNsaWRlICYmIHNsaWRlU3R5bGUocHJvcHMpO1xufSk7XG5TdHlsZWRXZWVrcy5kZWZhdWx0UHJvcHMgPSB7fTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihTdHlsZWRXZWVrcy5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG52YXIgU3R5bGVkV2VlayA9IHN0eWxlZC5kaXYud2l0aENvbmZpZyh7XG4gIGRpc3BsYXlOYW1lOiBcIlN0eWxlZENhbGVuZGFyX19TdHlsZWRXZWVrXCIsXG4gIGNvbXBvbmVudElkOiBcInNjLTF5NHhobXAtM1wiXG59KShbXCJkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246cm93O2ZsZXgtanVzdGlmeTpiZXR3ZWVuO1wiXSk7XG5TdHlsZWRXZWVrLmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKFN0eWxlZFdlZWsuZGVmYXVsdFByb3BzLCBkZWZhdWx0UHJvcHMpO1xudmFyIFN0eWxlZERheUNvbnRhaW5lciA9IHN0eWxlZC5kaXYud2l0aENvbmZpZyh7XG4gIGRpc3BsYXlOYW1lOiBcIlN0eWxlZENhbGVuZGFyX19TdHlsZWREYXlDb250YWluZXJcIixcbiAgY29tcG9uZW50SWQ6IFwic2MtMXk0eGhtcC00XCJcbn0pKFtcImZsZXg6MCAwIGF1dG87XCJdKTtcblN0eWxlZERheUNvbnRhaW5lci5kZWZhdWx0UHJvcHMgPSB7fTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihTdHlsZWREYXlDb250YWluZXIuZGVmYXVsdFByb3BzLCBkZWZhdWx0UHJvcHMpO1xuXG52YXIgZGF5U2l6ZVN0eWxlID0gZnVuY3Rpb24gZGF5U2l6ZVN0eWxlKHByb3BzKSB7XG4gIHZhciBkYXRhID0gcHJvcHMudGhlbWUuY2FsZW5kYXJbcHJvcHMuc2l6ZVByb3BdO1xuICByZXR1cm4gY3NzKFtcIndpZHRoOlwiLCBcIjtoZWlnaHQ6XCIsIFwiO1wiXSwgZGF0YS5kYXlTaXplLCBkYXRhLmRheVNpemUpO1xufTtcblxudmFyIFN0eWxlZERheSA9IHN0eWxlZC5kaXYud2l0aENvbmZpZyh7XG4gIGRpc3BsYXlOYW1lOiBcIlN0eWxlZENhbGVuZGFyX19TdHlsZWREYXlcIixcbiAgY29tcG9uZW50SWQ6IFwic2MtMXk0eGhtcC01XCJcbn0pKFtcImRpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjtcIiwgXCIgXCIsIFwiIFwiLCBcIiBcIiwgXCIgXCIsIFwiXCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIGRheVNpemVTdHlsZShwcm9wcyk7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLmlzU2VsZWN0ZWQgJiYgYmFja2dyb3VuZFN0eWxlKCdjb250cm9sJywgcHJvcHMudGhlbWUpIHx8IHByb3BzLmluUmFuZ2UgJiYgYmFja2dyb3VuZFN0eWxlKHtcbiAgICBjb2xvcjogJ2NvbnRyb2wnLFxuICAgIG9wYWNpdHk6ICd3ZWFrJ1xuICB9LCBwcm9wcy50aGVtZSk7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLm90aGVyTW9udGggJiYgJ29wYWNpdHk6IDAuNTsnO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5pc1NlbGVjdGVkICYmICdmb250LXdlaWdodDogYm9sZDsnO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5jYWxlbmRhciAmJiBwcm9wcy50aGVtZS5jYWxlbmRhci5kYXkgJiYgcHJvcHMudGhlbWUuY2FsZW5kYXIuZGF5LmV4dGVuZDtcbn0pO1xuU3R5bGVkRGF5LmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKFN0eWxlZERheS5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG5leHBvcnQgeyBTdHlsZWRDYWxlbmRhciwgU3R5bGVkV2Vla3NDb250YWluZXIsIFN0eWxlZFdlZWtzLCBTdHlsZWRXZWVrLCBTdHlsZWREYXlDb250YWluZXIsIFN0eWxlZERheSB9OyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmltcG9ydCB7IGRlc2NyaWJlLCBQcm9wVHlwZXMgfSBmcm9tICdyZWFjdC1kZXNjJztcbmltcG9ydCB7IGdlbmVyaWNQcm9wcywgZ2V0QXZhaWxhYmxlQXRCYWRnZSwgdGhlbWVEb2NVdGlscyB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmV4cG9ydCB2YXIgZG9jID0gZnVuY3Rpb24gZG9jKENhbGVuZGFyKSB7XG4gIHZhciBEb2N1bWVudGVkQ2FsZW5kYXIgPSBkZXNjcmliZShDYWxlbmRhcikuYXZhaWxhYmxlQXQoZ2V0QXZhaWxhYmxlQXRCYWRnZSgnQ2FsZW5kYXInKSkuZGVzY3JpcHRpb24oXCJBIGNhbGVuZGFyIG9mIGRheXMgZGlzcGxheWVkIGJ5IG1vbnRoLlxcbiAgICAgIEl0IGNhbiBiZSB1c2VkIHRvIHNlbGVjdCBhIHNpbmdsZSBkYXRlLCBhIHJhbmdlIG9mIGRhdGVzLCBvciBtdWx0aXBsZVxcbiAgICAgIGluZGl2aWR1YWwgZGF0ZXMuXCIpLnVzYWdlKFwiaW1wb3J0IHsgQ2FsZW5kYXIgfSBmcm9tICdncm9tbWV0JztcXG48Q2FsZW5kYXIgLz5cIikuaW50cmluc2ljRWxlbWVudCgnZGl2Jyk7XG4gIERvY3VtZW50ZWRDYWxlbmRhci5wcm9wVHlwZXMgPSBfZXh0ZW5kcyh7fSwgZ2VuZXJpY1Byb3BzLCB7XG4gICAgYW5pbWF0ZTogUHJvcFR5cGVzLmJvb2wuZGVzY3JpcHRpb24oXCJXaGV0aGVyIHRvIGFuaW1hdGUgdGhlIGNhbGVuZGVyIGFzIHRoZSB1c2VyIGludGVyYWN0cyB3aXRoIGl0LlwiKS5kZWZhdWx0VmFsdWUodHJ1ZSksXG4gICAgYm91bmRzOiBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMuc3RyaW5nKS5kZXNjcmlwdGlvbihcIkFuIGFycmF5IG9mIHR3byBudW1iZXJzIGluZGljYXRpbmcgdGhlIGxpbWl0cyBvblxcbiAgICAgICAgbmF2aWdhdGlvbiBpbiBJU084NjAxIGZvcm1hdFwiKSxcbiAgICBkYXRlOiBQcm9wVHlwZXMuc3RyaW5nLmRlc2NyaXB0aW9uKCdUaGUgc2VsZWN0ZWQgZGF0ZSBpbiBJU084NjAxIGZvcm1hdCcpLFxuICAgIGRhdGVzOiBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMuc3RyaW5nKV0pKS5kZXNjcmlwdGlvbihcIk11bHRpcGxlIHNlbGVjdGVkIGRhdGVzIGluIElTTzg2MDEgZm9ybWF0LlxcbiAgICAgIEl0ZW1zIHRoYXQgYXJlIGFuIGFycmF5IGluZGljYXRlIGEgcmFuZ2Ugb2YgZGF0ZXMuXCIpLFxuICAgIGRpc2FibGVkOiBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMuc3RyaW5nKV0pKS5kZXNjcmlwdGlvbihcIk11bHRpcGxlIGRhdGVzIGluIElTTzg2MDEgZm9ybWF0IHRoYXQgc2hvdWxkIG5vdCBiZVxcbiAgICAgICAgc2VsZWN0YWJsZS4gSXRlbXMgdGhhdCBhcmUgYW4gYXJyYXkgaW5kaWNhdGUgYSByYW5nZSBvZiBkYXRlcy5cIiksXG4gICAgZGF5c09mV2VlazogUHJvcFR5cGVzLmJvb2wuZGVzY3JpcHRpb24oXCJXaGV0aGVyIHRvIHNob3cgdGhlIGRheXMgb2YgdGhlIHdlZWsuXCIpLmRlZmF1bHRWYWx1ZShmYWxzZSksXG4gICAgZmlyc3REYXlPZldlZWs6IFByb3BUeXBlcy5vbmVPZihbMCwgMV0pLmRlc2NyaXB0aW9uKCdUaGUgZmlyc3QgZGF5IG9mIHRoZSB3ZWVrLiAwIGZvciBTdW5kYXkuIDEgZm9yIE1vbmRheS4nKS5kZWZhdWx0VmFsdWUoMCksXG4gICAgaGVhZGVyOiBQcm9wVHlwZXMuZnVuYy5kZXNjcmlwdGlvbihcIklmIHNwZWNpZmllZCwgdGhlIGVudGlyZSBjYWxlbmRhciBoZWFkZXIgd2lsbCBiZSBtYW5hZ2VkIGJ5IHRoZSBjYWxsZXIuXFxuVGhlIGZ1bmN0aW9uIHBhc3NlcyB0aGUgZm9sbG93aW5nIG9wdGlvbnM6XFxuXFxuYGBgXFxuICB7XFxuICAgIGRhdGU6IERhdGUsXFxuICAgIGxvY2FsZTogc3RyaW5nLFxcbiAgICBvblByZXZpb3VzTW9udGg6IGZ1bmMsXFxuICAgIG9uTmV4dE1vbnRoOiBmdW5jLFxcbiAgICBwcmV2aW91c0luQm91bmQ6IGJvb2wsXFxuICAgIG5leHRJbkJvdW5kOiBib29sLFxcbiAgfVxcbmBgYFxcblxcbmBvblByZXZpb3VzTW9udGhgIGFuZCBgb25OZXh0TW9udGhgIGFyZSBjYWxsYmFja3MgdGhhdCB3aWxsIHRlbGwgdGhlIFxcbmNhbGVuZGFyIHRvIG1vdmUgYmV0d2VlbiBtb250aHMuXFxuYHByZXZpb3VzSW5Cb3VuZGAgYW5kIGBuZXh0SW5Cb3VuZGAgYXJlIGJvb2xlYW5zIHRoYXQgdGVsbCwgd2hlbiB1c2luZyBcXG5gYm91bmRzYCwgaWYgdGhlIGN1cnJlbnQgZGF0ZSBpcyB3aXRoaW4gdGhhdCByYW5nZS4gWW91IGNhbiB0aGVuIHVzZSB0aGF0IFxcbnRvIGRpc2FibGUgdGhlIHByZXZpb3VzIGFuZCBuZXh0IGJ1dHRvbnMuXFxuXCIpLFxuICAgIGxvY2FsZTogUHJvcFR5cGVzLnN0cmluZy5kZXNjcmlwdGlvbignVGhlIGxvY2FsZSB0byB1c2UuJykuZGVmYXVsdFZhbHVlKCdlbi1VUycpLFxuICAgIG9uUmVmZXJlbmNlOiBQcm9wVHlwZXMuZnVuYy5kZXNjcmlwdGlvbihcIkNhbGxlZCB3aXRoIGFuIElTTzg2MDEgZGF0ZSB3aGVuIHRoZSB1c2VyIG5hdmlnYXRlcyB0byBhIGRpZmZlcmVudFxcbiAgICAgICBtb250aC5cIiksXG4gICAgb25TZWxlY3Q6IFByb3BUeXBlcy5mdW5jLmRlc2NyaXB0aW9uKFwiQ2FsbGVkIHdpdGggYW4gSVNPODYwMSBkYXRlIHdoZW5cXG4gICAgICB0aGUgdXNlciBzZWxlY3RzIGEgZGF5LlxcbiAgICAgIEZvciBzaW5nbGUgc2VsZWN0LCBtYWtlIHRoaXMgdGhlIHN1YnNlcXVlbnQgYGRhdGVgIHByb3BlcnR5IHZhbHVlLlxcbiAgICAgIEZvciBtdWx0aXBsZSBzZWxlY3Qgb3IgcmFuZ2VzLCB0b2dnbGUgdmFsdWVzIGluIGBkYXRlc2AuXFxuICAgICAgTm90IHNwZWNpZnlpbmcgdGhpcyBwcm9wZXJ0eSBtYWtlcyB0aGUgY29tcG9uZW50IHJlYWQgb25seS5cIiksXG4gICAgcmFuZ2U6IFByb3BUeXBlcy5ib29sLmRlc2NyaXB0aW9uKFwiV2hldGhlciB0byBhdXRvbWF0aWNhbGx5IG1hbmFnZSBtdWx0aXBsZSBkYXRlIHNlbGVjdGlvbiBhcyBhIHJhbmdlLlxcbiAgICAgICAgV2hlbiB0aGUgdXNlciBjbGlja3MgdGhlIGZpcnN0IGRhdGUsIG9uU2VsZWN0IHdpbGwgYmUgY2FsbGVkIHdpdGggdGhhdFxcbiAgICAgICAgZGF0ZS4gV2hlbiB0aGUgdXNlciBzZWxlY3RzIGFub3RoZXIgZGF0ZSwgb25TZWxlY3Qgd2lsbCBiZSBjYWxsZWQgd2l0aFxcbiAgICAgICAgYW4gYXJyYXkgb2YgdHdvIGRhdGVzLlwiKS5kZWZhdWx0VmFsdWUoZmFsc2UpLFxuICAgIHJlZmVyZW5jZTogUHJvcFR5cGVzLnN0cmluZy5kZXNjcmlwdGlvbihcIlRoZSBkYXRlIHRvIHNob3cgaWYgYGRhdGVgIGlzbid0IHNldCwgaW4gSVNPODYwMSBmb3JtYXRcIiksXG4gICAgc2hvd0FkamFjZW50RGF5czogUHJvcFR5cGVzLmJvb2wuZGVzY3JpcHRpb24oXCJXaGV0aGVyIHRvIHNob3cgdGhlIGRheXMgZnJvbSB0aGUgcHJldmlvdXMgYW5kIG5leHQgbW9udGhzLlwiKS5kZWZhdWx0VmFsdWUodHJ1ZSksXG4gICAgc2l6ZTogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFsnc21hbGwnLCAnbWVkaXVtJywgJ2xhcmdlJ10pLCBQcm9wVHlwZXMuc3RyaW5nXSkuZGVzY3JpcHRpb24oJ1doYXQgc2l6ZSB0byBtYWtlIGl0LicpLmRlZmF1bHRWYWx1ZSgnbWVkaXVtJylcbiAgfSk7XG4gIHJldHVybiBEb2N1bWVudGVkQ2FsZW5kYXI7XG59O1xuZXhwb3J0IHZhciB0aGVtZURvYyA9IF9leHRlbmRzKHtcbiAgJ2NhbGVuZGFyLmRheS5leHRlbmQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdBbnkgYWRkaXRpb25hbCBzdHlsZSBmb3IgdGhlIGRheSBvZiBDYWxlbmRhci4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCAocHJvcHMpID0+IHt9J1xuICB9LFxuICAnY2FsZW5kYXIuZXh0ZW5kJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnQW55IGFkZGl0aW9uYWwgc3R5bGUgZm9yIHRoZSBDYWxlbmRhci4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCAocHJvcHMpID0+IHt9J1xuICB9LFxuICAnY2FsZW5kYXIuaGVhZGluZy5sZXZlbCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBoZWFkaW5nIGxldmVsIHVzZWQgZm9yIHRoZSBjYWxlbmRhci4nLFxuICAgIHR5cGU6ICdudW1iZXInLFxuICAgIGRlZmF1bHRWYWx1ZTogJzQnXG4gIH0sXG4gICdjYWxlbmRhci5pY29ucy5uZXh0Jzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGljb24gdG8gdXNlIGZvciB0aGUgbmV4dCBtb250aCBuYXZpZ2F0aW9uIGNvbnRyb2wuJyxcbiAgICB0eXBlOiAnZWxlbWVudCcsXG4gICAgZGVmYXVsdFZhbHVlOiAnPE5leHQgLz4nXG4gIH0sXG4gICdjYWxlbmRhci5pY29ucy5wcmV2aW91cyc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBpY29uIHRvIHVzZSBmb3IgdGhlIHByZXZpb3VzIG1vbnRoIG5hdmlnYXRpb24gY29udHJvbC4nLFxuICAgIHR5cGU6ICdlbGVtZW50JyxcbiAgICBkZWZhdWx0VmFsdWU6ICc8UHJldmlvdXMgLz4nXG4gIH0sXG4gICdjYWxlbmRhci5pY29ucy5zbWFsbC5uZXh0Jzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGljb24gdG8gdXNlIGZvciB0aGUgbmV4dCBtb250aCBuYXZpZ2F0aW9uIGNvbnRyb2wgd2hlbiBzbWFsbC4nLFxuICAgIHR5cGU6ICdlbGVtZW50JyxcbiAgICBkZWZhdWx0VmFsdWU6ICc8Rm9ybU5leHQgLz4nXG4gIH0sXG4gICdjYWxlbmRhci5pY29ucy5zbWFsbC5wcmV2aW91cyc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBpY29uIHRvIHVzZSBmb3IgdGhlIHByZXZpb3VzIG1vbnRoIG5hdmlnYXRpb24gY29udHJvbCB3aGVuIHNtYWxsLicsXG4gICAgdHlwZTogJ2VsZW1lbnQnLFxuICAgIGRlZmF1bHRWYWx1ZTogJzxGb3JtUHJldmlvdXMgLz4nXG4gIH0sXG4gICdjYWxlbmRhci5sYXJnZS5kYXlTaXplJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIHNpemUgb2YgYSBkYXkgd2hlbiBsYXJnZS4nLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogJzEwOS43cHgnXG4gIH0sXG4gICdjYWxlbmRhci5sYXJnZS5mb250U2l6ZSc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBmb250IHNpemUgdG8gdXNlIGZvciBkYXlzIHdoZW4gbGFyZ2UuJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICczMHB4J1xuICB9LFxuICAnY2FsZW5kYXIubGFyZ2UubGluZUhlaWdodCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBsaW5lIGhlaWdodCB0byB1c2UgZm9yIGRheXMgd2hlbiBsYXJnZS4nLFxuICAgIHR5cGU6ICdudW1iZXInLFxuICAgIGRlZmF1bHRWYWx1ZTogMS4xMVxuICB9LFxuICAnY2FsZW5kYXIubGFyZ2Uuc2xpZGVEdXJhdGlvbic6IHtcbiAgICBkZXNjcmlwdGlvbjogJ0hvdyBsb25nIGl0IGFuaW1hdGUgdGhlIHNsaWRlIGJldHdlZW4gbW9udGhzIHdoZW4gbGFyZ2UuJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICcwLjhzJ1xuICB9LFxuICAnY2FsZW5kYXIubWVkaXVtLmRheVNpemUnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgc2l6ZSBvZiBhIGRheSB3aGVuIG1lZGl1bS4nLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogJzU0Ljg0cHgnXG4gIH0sXG4gICdjYWxlbmRhci5tZWRpdW0uZm9udFNpemUnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgZm9udCBzaXplIHRvIHVzZSBmb3IgZGF5cyB3aGVuIG1lZGl1bS4nLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogJzE4cHgnXG4gIH0sXG4gICdjYWxlbmRhci5tZWRpdW0ubGluZUhlaWdodCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBsaW5lIGhlaWdodCB0byB1c2UgZm9yIGRheXMgd2hlbiBtZWRpdW0uJyxcbiAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICBkZWZhdWx0VmFsdWU6IDEuNDVcbiAgfSxcbiAgJ2NhbGVuZGFyLm1lZGl1bS5zbGlkZUR1cmF0aW9uJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnSG93IGxvbmcgaXQgYW5pbWF0ZSB0aGUgc2xpZGUgYmV0d2VlbiBtb250aHMgd2hlbiBtZWRpdW0uJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICcwLjVzJ1xuICB9LFxuICAnY2FsZW5kYXIuc21hbGwuZGF5U2l6ZSc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBzaXplIG9mIGEgZGF5IHdoZW4gc21hbGwuJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICcyNy40MnB4J1xuICB9LFxuICAnY2FsZW5kYXIuc21hbGwuZm9udFNpemUnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgZm9udCBzaXplIHRvIHVzZSBmb3IgZGF5cyB3aGVuIHNtYWxsLicsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiAnMTRweCdcbiAgfSxcbiAgJ2NhbGVuZGFyLnNtYWxsLmxpbmVIZWlnaHQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgbGluZSBoZWlnaHQgdG8gdXNlIGZvciBkYXlzIHdoZW4gc21hbGwuJyxcbiAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICBkZWZhdWx0VmFsdWU6IDEuMzc1XG4gIH0sXG4gICdjYWxlbmRhci5zbWFsbC5zbGlkZUR1cmF0aW9uJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnSG93IGxvbmcgaXQgYW5pbWF0ZSB0aGUgc2xpZGUgYmV0d2VlbiBtb250aHMgd2hlbiBzbWFsbC4nLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogJzAuMnMnXG4gIH0sXG4gICdnbG9iYWwuc2l6ZS5zbWFsbCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSB3aWR0aCBvZiB0aGUgY2FsZW5kYXIgd2hlbiBzbWFsbC4nLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogJzE5MnB4J1xuICB9LFxuICAnZ2xvYmFsLnNpemUubWVkaXVtJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIHdpZHRoIG9mIHRoZSBjYWxlbmRhciB3aGVuIG1lZGl1bS4nLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogJzM4NHB4J1xuICB9LFxuICAnZ2xvYmFsLnNpemUubGFyZ2UnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgd2lkdGggb2YgdGhlIGNhbGVuZGFyIHdoZW4gbGFyZ2UuJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICc3NjhweCdcbiAgfVxufSwgdGhlbWVEb2NVdGlscy5pY29uQ29sb3IsIHt9LCB0aGVtZURvY1V0aWxzLmVkZ2VTdHlsZSgnVGhlIHBvc3NpYmxlIHNpemVzIGZvciBtYXJnaW4uJykpOyIsImV4cG9ydCB7IENhbGVuZGFyIH0gZnJvbSAnLi9DYWxlbmRhcic7IiwiLy8gVXRpbGl0eSBmdW5jdGlvbnMgZm9yIHRoZSBDYWxlbmRhci5cbi8vIEp1c3Qgd2hhdCdzIG5lZWRlZCB0byBhdm9pZCBoYXZpbmcgdG8gaW5jbHVkZSBhIGRlcGVuZGVuY3kgbGlrZSBtb21lbnRqcy5cbnZhciBEQVlfTUlMTElTRUNPTkRTID0gMjQgKiA2MCAqIDYwICogMTAwMDtcbmV4cG9ydCB2YXIgYWRkRGF5cyA9IGZ1bmN0aW9uIGFkZERheXMoZGF0ZSwgZGF5cykge1xuICB2YXIgcmVzdWx0ID0gbmV3IERhdGUoZGF0ZS5nZXRUaW1lKCkgKyBEQVlfTUlMTElTRUNPTkRTICogZGF5cyk7IC8vIERlYWwgd2l0aCBjcm9zc2luZyB0aGUgZGF5bGlnaHQgc2F2aW5ncyB0aW1lIGJvdW5kYXJ5LFxuICAvLyB3aGVyZSBhZGRpbmcgYSBkYXkncyB3b3J0aCB3aGVuIHRoZSB0aW1lIGlzIG1pZG5pZ2h0IHJlc3VsdHMgaW5cbiAgLy8gYmVpbmcgYSBkYXkgb2ZmLlxuXG4gIHZhciBob3VyRGVsdGEgPSByZXN1bHQuZ2V0SG91cnMoKSAtIGRhdGUuZ2V0SG91cnMoKTsgLy8gQXQgdGhpcyBwb2ludCwgaG91ckRlbHRhIGlzIHR5cGljYWxseSAwIChub3JtYWwgZGF5KSxcbiAgLy8gKzIzIChOb3ZlbWJlciBkYXlsaWdodCBzYXZpbmcpLCBvciAtMjMgKE1hcmNoIERheWxpZ2h0IHNhdmluZylcbiAgLy8gZGVwZW5kaW5nIG9uIHdoaWNoIHNpZGUgb2YgdGhlIHN3aXRjaCB3ZSBhcmUgb24uXG4gIC8vIENvbnZlcnQgc28gdGhhdCBob3VyRGVsdGEgaXMgZWl0aGVyICsxIG9yIC0xLlxuXG4gIGlmIChob3VyRGVsdGEgPT09IDIzKSB7XG4gICAgaG91ckRlbHRhIC09IDI0O1xuICB9IGVsc2UgaWYgKGhvdXJEZWx0YSA9PT0gLTIzKSB7XG4gICAgaG91ckRlbHRhICs9IDI0O1xuICB9XG5cbiAgcmVzdWx0LnNldEhvdXJzKHJlc3VsdC5nZXRIb3VycygpIC0gaG91ckRlbHRhKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5leHBvcnQgdmFyIHN1YnRyYWN0RGF5cyA9IGZ1bmN0aW9uIHN1YnRyYWN0RGF5cyhkYXRlLCBkYXlzKSB7XG4gIHJldHVybiBhZGREYXlzKGRhdGUsIC1kYXlzKTtcbn07XG5leHBvcnQgdmFyIGFkZE1vbnRocyA9IGZ1bmN0aW9uIGFkZE1vbnRocyhkYXRlLCBtb250aHMpIHtcbiAgdmFyIHJlc3VsdCA9IG5ldyBEYXRlKGRhdGUpO1xuICB2YXIgeWVhcnMgPSBNYXRoLmZsb29yKChkYXRlLmdldE1vbnRoKCkgKyBtb250aHMpIC8gMTIpO1xuICByZXN1bHQuc2V0RnVsbFllYXIoZGF0ZS5nZXRGdWxsWWVhcigpICsgeWVhcnMpO1xuICB2YXIgdGFyZ2V0TW9udGggPSAoZGF0ZS5nZXRNb250aCgpICsgbW9udGhzKSAlIDEyO1xuICByZXN1bHQuc2V0TW9udGgodGFyZ2V0TW9udGggPCAwID8gMTIgKyB0YXJnZXRNb250aCA6IHRhcmdldE1vbnRoKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5leHBvcnQgdmFyIHN1YnRyYWN0TW9udGhzID0gZnVuY3Rpb24gc3VidHJhY3RNb250aHMoZGF0ZSwgbW9udGhzKSB7XG4gIHJldHVybiBhZGRNb250aHMoZGF0ZSwgLW1vbnRocyk7XG59O1xuZXhwb3J0IHZhciBzdGFydE9mTW9udGggPSBmdW5jdGlvbiBzdGFydE9mTW9udGgoZGF0ZSkge1xuICB2YXIgcmVzdWx0ID0gbmV3IERhdGUoZGF0ZSk7XG4gIHJlc3VsdC5zZXREYXRlKDEpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbmV4cG9ydCB2YXIgZW5kT2ZNb250aCA9IGZ1bmN0aW9uIGVuZE9mTW9udGgoZGF0ZSkge1xuICB2YXIgcmVzdWx0ID0gYWRkTW9udGhzKGRhdGUsIDEpO1xuICByZXN1bHQuc2V0RGF0ZSgwKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5leHBvcnQgdmFyIHNhbWVEYXkgPSBmdW5jdGlvbiBzYW1lRGF5KGRhdGUxLCBkYXRlMikge1xuICByZXR1cm4gZGF0ZTEuZ2V0RnVsbFllYXIoKSA9PT0gZGF0ZTIuZ2V0RnVsbFllYXIoKSAmJiBkYXRlMS5nZXRNb250aCgpID09PSBkYXRlMi5nZXRNb250aCgpICYmIGRhdGUxLmdldERhdGUoKSA9PT0gZGF0ZTIuZ2V0RGF0ZSgpO1xufTtcbmV4cG9ydCB2YXIgc2FtZURheU9yQWZ0ZXIgPSBmdW5jdGlvbiBzYW1lRGF5T3JBZnRlcihkYXRlMSwgZGF0ZTIpIHtcbiAgcmV0dXJuIGRhdGUxLmdldEZ1bGxZZWFyKCkgPiBkYXRlMi5nZXRGdWxsWWVhcigpIHx8IGRhdGUxLmdldEZ1bGxZZWFyKCkgPT09IGRhdGUyLmdldEZ1bGxZZWFyKCkgJiYgKGRhdGUxLmdldE1vbnRoKCkgPiBkYXRlMi5nZXRNb250aCgpIHx8IGRhdGUxLmdldE1vbnRoKCkgPT09IGRhdGUyLmdldE1vbnRoKCkgJiYgZGF0ZTEuZ2V0RGF0ZSgpID49IGRhdGUyLmdldERhdGUoKSk7XG59O1xuZXhwb3J0IHZhciBzYW1lRGF5T3JCZWZvcmUgPSBmdW5jdGlvbiBzYW1lRGF5T3JCZWZvcmUoZGF0ZTEsIGRhdGUyKSB7XG4gIHJldHVybiBkYXRlMS5nZXRGdWxsWWVhcigpIDwgZGF0ZTIuZ2V0RnVsbFllYXIoKSB8fCBkYXRlMS5nZXRGdWxsWWVhcigpID09PSBkYXRlMi5nZXRGdWxsWWVhcigpICYmIChkYXRlMS5nZXRNb250aCgpIDwgZGF0ZTIuZ2V0TW9udGgoKSB8fCBkYXRlMS5nZXRNb250aCgpID09PSBkYXRlMi5nZXRNb250aCgpICYmIGRhdGUxLmdldERhdGUoKSA8PSBkYXRlMi5nZXREYXRlKCkpO1xufTtcbmV4cG9ydCB2YXIgZGF5c0FwYXJ0ID0gZnVuY3Rpb24gZGF5c0FwYXJ0KGRhdGUxLCBkYXRlMikge1xuICByZXR1cm4gTWF0aC5mbG9vcigoZGF0ZTEuZ2V0VGltZSgpIC0gZGF0ZTIuZ2V0VGltZSgpKSAvIERBWV9NSUxMSVNFQ09ORFMpO1xufTsgLy8gYmV0d2VlbkRhdGVzIHRha2VzIGFuZCBhcnJheSBvZiB0d28gZWxlbWVudHMgYW5kIGNoZWNrcyBpZiB0aGVcbi8vIHN1cHBsaWVkIGRhdGUgbGllcyBiZXR3ZWVuIHRoZW0sIGluY2x1c2l2ZS5cbi8vIHJldHVybnMgMiBpZiBleGFjdCBtYXRjaCB0byBvbmUgZW5kLCAxIGlmIGJldHdlZW4sIHVuZGVmaW5lZCBvdGhlcndpc2VcblxuZXhwb3J0IHZhciBiZXR3ZWVuRGF0ZXMgPSBmdW5jdGlvbiBiZXR3ZWVuRGF0ZXMoZGF0ZSwgZGF0ZXMpIHtcbiAgdmFyIHJlc3VsdDtcblxuICBpZiAoZGF0ZXMpIHtcbiAgICB2YXIgX2RhdGVzJG1hcCA9IGRhdGVzLm1hcChmdW5jdGlvbiAoZCkge1xuICAgICAgcmV0dXJuIG5ldyBEYXRlKGQpO1xuICAgIH0pLFxuICAgICAgICBmcm9tID0gX2RhdGVzJG1hcFswXSxcbiAgICAgICAgdG8gPSBfZGF0ZXMkbWFwWzFdO1xuXG4gICAgaWYgKHNhbWVEYXkoZGF0ZSwgZnJvbSkgfHwgc2FtZURheShkYXRlLCB0bykpIHtcbiAgICAgIHJlc3VsdCA9IDI7XG4gICAgfSBlbHNlIGlmIChzYW1lRGF5T3JBZnRlcihkYXRlLCBmcm9tKSAmJiBzYW1lRGF5T3JCZWZvcmUoZGF0ZSwgdG8pKSB7XG4gICAgICByZXN1bHQgPSAxO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXN1bHQgPSAxO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07IC8vIHdpdGhpbkRhdGVzIHRha2VzIGFuZCBhcnJheSBvZiBzdHJpbmcgZGF0ZXMgb3IgMiBlbGVtZW50IGFycmF5cyBhbmRcbi8vIGNoZWNrcyB3aGV0aGVyIHRoZSBzdXBwbGllZCBkYXRlIG1hdGNoZXMgYW55IHN0cmluZyBvciBpcyBiZXR3ZWVuXG4vLyBhbnkgZGF0ZXMgaW4gYXJyYXlzLlxuLy8gcmV0dXJucyAyIGlmIGV4YWN0IG1hdGNoLCAxIGlmIGJldHdlZW4sIHVuZGVmaW5lZCBvdGhlcndpc2VcblxuZXhwb3J0IHZhciB3aXRoaW5EYXRlcyA9IGZ1bmN0aW9uIHdpdGhpbkRhdGVzKGRhdGUsIGRhdGVzKSB7XG4gIHZhciByZXN1bHQ7XG5cbiAgaWYgKGRhdGVzKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0ZXMpKSB7XG4gICAgICBkYXRlcy5zb21lKGZ1bmN0aW9uIChkKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICBpZiAoc2FtZURheShkYXRlLCBuZXcgRGF0ZShkKSkpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IDI7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc3VsdCA9IGJldHdlZW5EYXRlcyhkYXRlLCBkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHNhbWVEYXkoZGF0ZSwgbmV3IERhdGUoZGF0ZXMpKSkge1xuICAgICAgcmVzdWx0ID0gMjtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufTtcbmV4cG9ydCB2YXIgdXBkYXRlRGF0ZVJhbmdlID0gZnVuY3Rpb24gdXBkYXRlRGF0ZVJhbmdlKHNlbGVjdGVkRGF0ZSwgX3JlZikge1xuICB2YXIgZGF0ZSA9IF9yZWYuZGF0ZSxcbiAgICAgIGRhdGVzID0gX3JlZi5kYXRlcyxcbiAgICAgIHByZXZpb3VzU2VsZWN0ZWREYXRlID0gX3JlZi5wcmV2aW91c1NlbGVjdGVkRGF0ZTtcbiAgdmFyIHJlc3VsdCA9IHtcbiAgICBwcmV2aW91c1NlbGVjdGVkRGF0ZTogc2VsZWN0ZWREYXRlXG4gIH07XG5cbiAgaWYgKCFkYXRlcykge1xuICAgIGlmICghZGF0ZSkge1xuICAgICAgcmVzdWx0LmRhdGUgPSBzZWxlY3RlZERhdGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBwcmlvckRhdGUgPSBuZXcgRGF0ZShkYXRlKTtcbiAgICAgIHZhciBuZXh0RGF0ZSA9IG5ldyBEYXRlKHNlbGVjdGVkRGF0ZSk7XG5cbiAgICAgIGlmIChwcmlvckRhdGUuZ2V0VGltZSgpIDwgbmV4dERhdGUuZ2V0VGltZSgpKSB7XG4gICAgICAgIHJlc3VsdC5kYXRlID0gdW5kZWZpbmVkO1xuICAgICAgICByZXN1bHQuZGF0ZXMgPSBbW2RhdGUsIHNlbGVjdGVkRGF0ZV1dO1xuICAgICAgfSBlbHNlIGlmIChwcmlvckRhdGUuZ2V0VGltZSgpID4gbmV4dERhdGUuZ2V0VGltZSgpKSB7XG4gICAgICAgIHJlc3VsdC5kYXRlID0gdW5kZWZpbmVkO1xuICAgICAgICByZXN1bHQuZGF0ZXMgPSBbW3NlbGVjdGVkRGF0ZSwgZGF0ZV1dO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0LmRhdGUgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHZhciBwcmlvckRhdGVzID0gZGF0ZXNbMF0ubWFwKGZ1bmN0aW9uIChkKSB7XG4gICAgICByZXR1cm4gbmV3IERhdGUoZCk7XG4gICAgfSk7XG4gICAgdmFyIHByZXZpb3VzRGF0ZSA9IG5ldyBEYXRlKHByZXZpb3VzU2VsZWN0ZWREYXRlKTtcblxuICAgIHZhciBfbmV4dERhdGUgPSBuZXcgRGF0ZShzZWxlY3RlZERhdGUpO1xuXG4gICAgaWYgKF9uZXh0RGF0ZS5nZXRUaW1lKCkgPT09IHByaW9yRGF0ZXNbMF0uZ2V0VGltZSgpKSB7XG4gICAgICByZXN1bHQuZGF0ZXMgPSB1bmRlZmluZWQ7XG4gICAgICB2YXIgX2RhdGVzJCA9IGRhdGVzWzBdO1xuICAgICAgcmVzdWx0LmRhdGUgPSBfZGF0ZXMkWzFdO1xuICAgIH0gZWxzZSBpZiAoX25leHREYXRlLmdldFRpbWUoKSA9PT0gcHJpb3JEYXRlc1sxXS5nZXRUaW1lKCkpIHtcbiAgICAgIHJlc3VsdC5kYXRlcyA9IHVuZGVmaW5lZDtcbiAgICAgIHZhciBfZGF0ZXMkMiA9IGRhdGVzWzBdO1xuICAgICAgcmVzdWx0LmRhdGUgPSBfZGF0ZXMkMlswXTtcbiAgICB9IGVsc2UgaWYgKF9uZXh0RGF0ZS5nZXRUaW1lKCkgPCBwcmV2aW91c0RhdGUuZ2V0VGltZSgpKSB7XG4gICAgICBpZiAoX25leHREYXRlLmdldFRpbWUoKSA8IHByaW9yRGF0ZXNbMF0uZ2V0VGltZSgpKSB7XG4gICAgICAgIHJlc3VsdC5kYXRlcyA9IFtbc2VsZWN0ZWREYXRlLCBkYXRlc1swXVsxXV1dO1xuICAgICAgfSBlbHNlIGlmIChfbmV4dERhdGUuZ2V0VGltZSgpID4gcHJpb3JEYXRlc1swXS5nZXRUaW1lKCkpIHtcbiAgICAgICAgcmVzdWx0LmRhdGVzID0gW1tkYXRlc1swXVswXSwgc2VsZWN0ZWREYXRlXV07XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChfbmV4dERhdGUuZ2V0VGltZSgpID4gcHJldmlvdXNEYXRlLmdldFRpbWUoKSkge1xuICAgICAgaWYgKF9uZXh0RGF0ZS5nZXRUaW1lKCkgPiBwcmlvckRhdGVzWzFdLmdldFRpbWUoKSkge1xuICAgICAgICByZXN1bHQuZGF0ZXMgPSBbW2RhdGVzWzBdWzBdLCBzZWxlY3RlZERhdGVdXTtcbiAgICAgIH0gZWxzZSBpZiAoX25leHREYXRlLmdldFRpbWUoKSA8IHByaW9yRGF0ZXNbMV0uZ2V0VGltZSgpKSB7XG4gICAgICAgIHJlc3VsdC5kYXRlcyA9IFtbc2VsZWN0ZWREYXRlLCBkYXRlc1swXVsxXV1dO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59OyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0c0xvb3NlKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcy5wcm90b3R5cGUpOyBzdWJDbGFzcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBzdWJDbGFzczsgc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5pbXBvcnQgUmVhY3QsIHsgQ2hpbGRyZW4sIENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbXBvc2UgfSBmcm9tICdyZWNvbXBvc2UnO1xuaW1wb3J0IHsgd2l0aFRoZW1lIH0gZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgbm9ybWFsaXplQ29sb3IgfSBmcm9tICcuLi8uLi91dGlscyc7XG5pbXBvcnQgeyBkZWZhdWx0UHJvcHMgfSBmcm9tICcuLi8uLi9kZWZhdWx0LXByb3BzJztcbmltcG9ydCB7IEJveCB9IGZyb20gJy4uL0JveCc7XG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICcuLi9CdXR0b24nO1xuaW1wb3J0IHsgS2V5Ym9hcmQgfSBmcm9tICcuLi9LZXlib2FyZCc7XG5pbXBvcnQgeyBTdGFjayB9IGZyb20gJy4uL1N0YWNrJztcbmltcG9ydCB7IHdpdGhGb2N1cyB9IGZyb20gJy4uL2hvY3MnO1xuXG52YXIgQ2Fyb3VzZWwgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoQ2Fyb3VzZWwsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIENhcm91c2VsKHApIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfdGhpcyA9IF9Db21wb25lbnQuY2FsbCh0aGlzLCBwKSB8fCB0aGlzO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcInBsYXlcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHBsYXkgPSBfdGhpcy5wcm9wcy5wbGF5O1xuICAgICAgY2xlYXJJbnRlcnZhbChfdGhpcy50aW1lcik7XG4gICAgICBfdGhpcy50aW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNoaWxkcmVuID0gX3RoaXMucHJvcHMuY2hpbGRyZW47XG4gICAgICAgIHZhciBhY3RpdmVJbmRleCA9IF90aGlzLnN0YXRlLmFjdGl2ZUluZGV4O1xuICAgICAgICB2YXIgbGFzdEluZGV4ID0gQ2hpbGRyZW4uY291bnQoY2hpbGRyZW4pIC0gMTtcblxuICAgICAgICBpZiAoYWN0aXZlSW5kZXggPCBsYXN0SW5kZXgpIHtcbiAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBhY3RpdmVJbmRleDogYWN0aXZlSW5kZXggKyAxLFxuICAgICAgICAgICAgcHJpb3JBY3RpdmVJbmRleDogYWN0aXZlSW5kZXhcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBhY3RpdmVJbmRleDogMCxcbiAgICAgICAgICAgIHByaW9yQWN0aXZlSW5kZXg6IGFjdGl2ZUluZGV4XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sIHBsYXkpO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIm9uUmlnaHRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGFjdGl2ZUluZGV4ID0gX3RoaXMuc3RhdGUuYWN0aXZlSW5kZXg7XG4gICAgICBjbGVhckludGVydmFsKF90aGlzLnRpbWVyKTtcblxuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBhY3RpdmVJbmRleDogYWN0aXZlSW5kZXggKyAxLFxuICAgICAgICBwcmlvckFjdGl2ZUluZGV4OiBhY3RpdmVJbmRleFxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwib25MZWZ0XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBhY3RpdmVJbmRleCA9IF90aGlzLnN0YXRlLmFjdGl2ZUluZGV4O1xuICAgICAgY2xlYXJJbnRlcnZhbChfdGhpcy50aW1lcik7XG5cbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgYWN0aXZlSW5kZXg6IGFjdGl2ZUluZGV4IC0gMSxcbiAgICAgICAgcHJpb3JBY3RpdmVJbmRleDogYWN0aXZlSW5kZXhcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIm9uU2VsZWN0XCIsIGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFjdGl2ZUluZGV4ID0gX3RoaXMuc3RhdGUuYWN0aXZlSW5kZXg7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwoX3RoaXMudGltZXIpO1xuXG4gICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBhY3RpdmVJbmRleDogaW5kZXgsXG4gICAgICAgICAgcHJpb3JBY3RpdmVJbmRleDogYWN0aXZlSW5kZXhcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBhY3RpdmVJbmRleDogcC5pbml0aWFsQ2hpbGRcbiAgICB9O1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBDYXJvdXNlbC5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdmFyIHBsYXkgPSB0aGlzLnByb3BzLnBsYXk7XG5cbiAgICBpZiAocGxheSkge1xuICAgICAgdGhpcy5wbGF5KCk7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG4gICAgdmFyIHBsYXkgPSB0aGlzLnByb3BzLnBsYXk7XG5cbiAgICBpZiAocGxheSAmJiAoIXByZXZQcm9wcy5wbGF5IHx8IHBsYXkgIT09IHByZXZQcm9wcy5wbGF5KSkge1xuICAgICAgdGhpcy5wbGF5KCk7XG4gICAgfSBlbHNlIGlmICghcGxheSAmJiBwcmV2UHJvcHMucGxheSkge1xuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTtcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTtcbiAgfTtcblxuICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgdmFyIF90aGlzJHByb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgY2hpbGRyZW4gPSBfdGhpcyRwcm9wcy5jaGlsZHJlbixcbiAgICAgICAgY29udHJvbHMgPSBfdGhpcyRwcm9wcy5jb250cm9scyxcbiAgICAgICAgZmlsbCA9IF90aGlzJHByb3BzLmZpbGwsXG4gICAgICAgIGZvY3VzID0gX3RoaXMkcHJvcHMuZm9jdXMsXG4gICAgICAgIHRoZW1lID0gX3RoaXMkcHJvcHMudGhlbWUsXG4gICAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfdGhpcyRwcm9wcywgW1wiY2hpbGRyZW5cIiwgXCJjb250cm9sc1wiLCBcImZpbGxcIiwgXCJmb2N1c1wiLCBcInRoZW1lXCJdKTtcblxuICAgIHZhciBfdGhpcyRzdGF0ZSA9IHRoaXMuc3RhdGUsXG4gICAgICAgIGFjdGl2ZUluZGV4ID0gX3RoaXMkc3RhdGUuYWN0aXZlSW5kZXgsXG4gICAgICAgIHByaW9yQWN0aXZlSW5kZXggPSBfdGhpcyRzdGF0ZS5wcmlvckFjdGl2ZUluZGV4O1xuICAgIHZhciBzaG93QXJyb3dzID0gY29udHJvbHMgJiYgY29udHJvbHMgIT09ICdzZWxlY3RvcnMnO1xuICAgIHZhciBzaG93U2VsZWN0b3JzID0gY29udHJvbHMgJiYgY29udHJvbHMgIT09ICdhcnJvd3MnO1xuICAgIHZhciBsYXN0SW5kZXggPSBDaGlsZHJlbi5jb3VudChjaGlsZHJlbikgLSAxO1xuICAgIHZhciBvbkxlZnQgPSBhY3RpdmVJbmRleCA+IDAgPyB0aGlzLm9uTGVmdCA6IHVuZGVmaW5lZDtcbiAgICB2YXIgb25SaWdodCA9IGFjdGl2ZUluZGV4IDwgbGFzdEluZGV4ID8gdGhpcy5vblJpZ2h0IDogdW5kZWZpbmVkO1xuICAgIHZhciBDdXJyZW50SWNvbiA9IHRoZW1lLmNhcm91c2VsLmljb25zLmN1cnJlbnQ7XG4gICAgdmFyIGljb25Db2xvciA9IG5vcm1hbGl6ZUNvbG9yKHRoZW1lLmNhcm91c2VsLmljb25zLmNvbG9yIHx8ICdjb250cm9sJywgdGhlbWUpO1xuICAgIHZhciBzZWxlY3RvcnMgPSBbXTtcbiAgICB2YXIgd3JhcHBlZENoaWxkcmVuID0gQ2hpbGRyZW4ubWFwKGNoaWxkcmVuLCBmdW5jdGlvbiAoY2hpbGQsIGluZGV4KSB7XG4gICAgICBzZWxlY3RvcnMucHVzaChSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3Qvbm8tYXJyYXktaW5kZXgta2V5XG4gICAgICAsIHtcbiAgICAgICAga2V5OiBpbmRleCxcbiAgICAgICAgaWNvbjogUmVhY3QuY3JlYXRlRWxlbWVudChDdXJyZW50SWNvbiwge1xuICAgICAgICAgIGNvbG9yOiBhY3RpdmVJbmRleCA9PT0gaW5kZXggPyBpY29uQ29sb3IgOiB1bmRlZmluZWRcbiAgICAgICAgfSksXG4gICAgICAgIG9uQ2xpY2s6IF90aGlzMi5vblNlbGVjdChpbmRleClcbiAgICAgIH0pKTtcbiAgICAgIHZhciBhbmltYXRpb247XG5cbiAgICAgIGlmIChpbmRleCA9PT0gYWN0aXZlSW5kZXgpIHtcbiAgICAgICAgaWYgKHByaW9yQWN0aXZlSW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGFuaW1hdGlvbiA9IHtcbiAgICAgICAgICAgIHR5cGU6IHByaW9yQWN0aXZlSW5kZXggPCBhY3RpdmVJbmRleCA/ICdzbGlkZUxlZnQnIDogJ3NsaWRlUmlnaHQnLFxuICAgICAgICAgICAgc2l6ZTogJ3hsYXJnZScsXG4gICAgICAgICAgICBkdXJhdGlvbjogdGhlbWUuY2Fyb3VzZWwuYW5pbWF0aW9uLmR1cmF0aW9uXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChpbmRleCA9PT0gcHJpb3JBY3RpdmVJbmRleCkge1xuICAgICAgICBhbmltYXRpb24gPSB7XG4gICAgICAgICAgdHlwZTogJ2ZhZGVPdXQnLFxuICAgICAgICAgIGR1cmF0aW9uOiB0aGVtZS5jYXJvdXNlbC5hbmltYXRpb24uZHVyYXRpb25cbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFuaW1hdGlvbiA9IHtcbiAgICAgICAgICB0eXBlOiAnZmFkZU91dCcsXG4gICAgICAgICAgZHVyYXRpb246IDBcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQm94LCB7XG4gICAgICAgIGZpbGw6IGZpbGwsXG4gICAgICAgIG92ZXJmbG93OiBcImhpZGRlblwiXG4gICAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwge1xuICAgICAgICBmaWxsOiBmaWxsLFxuICAgICAgICBhbmltYXRpb246IGFuaW1hdGlvblxuICAgICAgfSwgY2hpbGQpKTtcbiAgICB9KTtcbiAgICB2YXIgTmV4dEljb24gPSB0aGVtZS5jYXJvdXNlbC5pY29ucy5uZXh0O1xuICAgIHZhciBQcmV2aW91c0ljb24gPSB0aGVtZS5jYXJvdXNlbC5pY29ucy5wcmV2aW91cztcbiAgICB2YXIgbmV4dEljb25EaXNhYmxlZCA9IGFjdGl2ZUluZGV4ID49IGxhc3RJbmRleDtcbiAgICB2YXIgcHJldmlvdXNJY29uRGlzYWJsZWQgPSBhY3RpdmVJbmRleCA8PSAwO1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEtleWJvYXJkLCB7XG4gICAgICBvbkxlZnQ6IG9uTGVmdCxcbiAgICAgIG9uUmlnaHQ6IG9uUmlnaHRcbiAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFN0YWNrLCBfZXh0ZW5kcyh7XG4gICAgICBndWlkaW5nQ2hpbGQ6IGFjdGl2ZUluZGV4LFxuICAgICAgZmlsbDogZmlsbFxuICAgIH0sIHJlc3QpLCB3cmFwcGVkQ2hpbGRyZW4sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQm94LCB7XG4gICAgICB0YWJJbmRleDogXCIwXCIsXG4gICAgICBmb2N1czogZm9jdXMsXG4gICAgICBmaWxsOiB0cnVlLFxuICAgICAgZGlyZWN0aW9uOiBcInJvd1wiLFxuICAgICAganVzdGlmeTogXCJiZXR3ZWVuXCJcbiAgICB9LCBzaG93QXJyb3dzICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7XG4gICAgICBmaWxsOiBcInZlcnRpY2FsXCIsXG4gICAgICBpY29uOiBSZWFjdC5jcmVhdGVFbGVtZW50KFByZXZpb3VzSWNvbiwge1xuICAgICAgICBjb2xvcjogbm9ybWFsaXplQ29sb3IocHJldmlvdXNJY29uRGlzYWJsZWQgPyB0aGVtZS5jYXJvdXNlbC5kaXNhYmxlZC5pY29ucy5jb2xvciA6IHRoZW1lLmNhcm91c2VsLmljb25zLmNvbG9yLCB0aGVtZSlcbiAgICAgIH0pLFxuICAgICAgcGxhaW46IHRydWUsXG4gICAgICBkaXNhYmxlZDogcHJldmlvdXNJY29uRGlzYWJsZWQsXG4gICAgICBvbkNsaWNrOiBvbkxlZnQsXG4gICAgICBob3ZlckluZGljYXRvcjogdHJ1ZVxuICAgIH0pLCBzaG93U2VsZWN0b3JzICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQm94LCB7XG4gICAgICBqdXN0aWZ5OiBcImVuZFwiLFxuICAgICAgZmlsbDogIXNob3dBcnJvd3MgJiYgJ2hvcml6b250YWwnXG4gICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChCb3gsIHtcbiAgICAgIGRpcmVjdGlvbjogXCJyb3dcIixcbiAgICAgIGp1c3RpZnk6IFwiY2VudGVyXCJcbiAgICB9LCBzZWxlY3RvcnMpKSwgc2hvd0Fycm93cyAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge1xuICAgICAgZmlsbDogXCJ2ZXJ0aWNhbFwiLFxuICAgICAgaWNvbjogUmVhY3QuY3JlYXRlRWxlbWVudChOZXh0SWNvbiwge1xuICAgICAgICBjb2xvcjogbm9ybWFsaXplQ29sb3IobmV4dEljb25EaXNhYmxlZCA/IHRoZW1lLmNhcm91c2VsLmRpc2FibGVkLmljb25zLmNvbG9yIDogdGhlbWUuY2Fyb3VzZWwuaWNvbnMuY29sb3IsIHRoZW1lKVxuICAgICAgfSksXG4gICAgICBwbGFpbjogdHJ1ZSxcbiAgICAgIGRpc2FibGVkOiBuZXh0SWNvbkRpc2FibGVkLFxuICAgICAgb25DbGljazogb25SaWdodCxcbiAgICAgIGhvdmVySW5kaWNhdG9yOiB0cnVlXG4gICAgfSkpKSk7XG4gIH07XG5cbiAgcmV0dXJuIENhcm91c2VsO1xufShDb21wb25lbnQpO1xuXG5DYXJvdXNlbC5kZWZhdWx0UHJvcHMgPSB7XG4gIGluaXRpYWxDaGlsZDogMCxcbiAgY29udHJvbHM6IHRydWVcbn07XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoQ2Fyb3VzZWwuZGVmYXVsdFByb3BzLCBkZWZhdWx0UHJvcHMpO1xudmFyIENhcm91c2VsRG9jO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZ2xvYmFsLXJlcXVpcmVcbiAgQ2Fyb3VzZWxEb2MgPSByZXF1aXJlKCcuL2RvYycpLmRvYyhDYXJvdXNlbCk7XG59XG5cbnZhciBDYXJvdXNlbFdyYXBwZXIgPSBjb21wb3NlKHdpdGhGb2N1cygpLCB3aXRoVGhlbWUpKENhcm91c2VsRG9jIHx8IENhcm91c2VsKTtcbmV4cG9ydCB7IENhcm91c2VsV3JhcHBlciBhcyBDYXJvdXNlbCB9OyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmltcG9ydCB7IGRlc2NyaWJlLCBQcm9wVHlwZXMgfSBmcm9tICdyZWFjdC1kZXNjJztcbmltcG9ydCB7IGdlbmVyaWNQcm9wcywgZ2V0QXZhaWxhYmxlQXRCYWRnZSwgdGhlbWVEb2NVdGlscyB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmV4cG9ydCB2YXIgZG9jID0gZnVuY3Rpb24gZG9jKENhcm91c2VsKSB7XG4gIHZhciBEb2N1bWVudGVkQ2Fyb3VzZWwgPSBkZXNjcmliZShDYXJvdXNlbCkuYXZhaWxhYmxlQXQoZ2V0QXZhaWxhYmxlQXRCYWRnZSgnQ2Fyb3VzZWwnKSkuZGVzY3JpcHRpb24oXCJBIGNhcm91c2VsIHRoYXQgY3ljbGVzIHRocm91Z2ggY2hpbGRyZW4uIENoaWxkIGNvbXBvbmVudHNcXG4gICAgICB3b3VsZCB0eXBpY2FsbHkgYmUgSW1hZ2VzLiBJdCBpcyB0aGUgY2FsbGVyJ3MgcmVzcG9uc2liaWxpdHkgdG8gZW5zdXJlXFxuICAgICAgdGhhdCBhbGwgY2hpbGRyZW4gYXJlIHRoZSBzYW1lIHNpemUuXCIpLnVzYWdlKFwiaW1wb3J0IHsgQ2Fyb3VzZWwgfSBmcm9tICdncm9tbWV0JztcXG48Q2Fyb3VzZWwgLz5cIikuaW50cmluc2ljRWxlbWVudCgnZGl2Jyk7XG4gIERvY3VtZW50ZWRDYXJvdXNlbC5wcm9wVHlwZXMgPSBfZXh0ZW5kcyh7fSwgZ2VuZXJpY1Byb3BzLCB7XG4gICAgZmlsbDogUHJvcFR5cGVzLmJvb2wuZGVzY3JpcHRpb24oXCJXaGV0aGVyIHRvIGV4cGFuZCB0byBmaWxsXFxuICAgICAgYWxsIG9mIHRoZSBhdmFpbGFibGUgd2lkdGggYW5kIGhlaWdodCBpbiB0aGUgcGFyZW50IGNvbnRhaW5lci5cIiksXG4gICAgcGxheTogUHJvcFR5cGVzLm51bWJlci5kZXNjcmlwdGlvbihcIklmIHNwZWNpZmllZCwgdGhlIG51bWJlciBvZlxcbiAgICAgIG1pbGxpc2Vjb25kcyBiZXR3ZWVuIGF1dG9tYXRpY2FsbHkgdHJhbnNpdGlvbmluZyB0byB0aGUgbmV4dCBjaGlsZC4gSXRcXG4gICAgICB3aWxsIGxvb3AgdGhyb3VnaCBhbGwgY2hpbGRyZW4gaW5kZWZpbml0ZWx5LlwiKSxcbiAgICBpbml0aWFsQ2hpbGQ6IFByb3BUeXBlcy5udW1iZXIuZGVzY3JpcHRpb24oXCJJZiBzcGVjaWZpZWQsIHRoZSBpbmRleCBvZlxcbiAgICAgIHRoZSBmaXJzdCBlbGVtZW50IHRvIGJlIHNob3duLiBEZWZhdWx0cyB0byAwLlwiKSxcbiAgICBjb250cm9sczogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmJvb2wsIFByb3BUeXBlcy5vbmVPZihbJ2Fycm93cycsICdzZWxlY3RvcnMnXSldKS5kZXNjcmlwdGlvbihcIldoZXRoZXIgdG8gc2hvdyBjYXJvdXNlbCBjb250cm9scyBhbmQgd2hpY2ggdHlwZSBvZiBjb250cm9scy5cIikuZGVmYXVsdFZhbHVlKHRydWUpXG4gIH0pO1xuICByZXR1cm4gRG9jdW1lbnRlZENhcm91c2VsO1xufTtcbmV4cG9ydCB2YXIgdGhlbWVEb2MgPSBfZXh0ZW5kcyh7XG4gICdjYXJvdXNlbC5pY29ucy5uZXh0Jzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGljb24gdG8gdXNlIGZvciB0aGUgbmV4dCBpbWFnZSBuYXZpZ2F0aW9uIGNvbnRyb2wuJyxcbiAgICB0eXBlOiAnZWxlbWVudCcsXG4gICAgZGVmYXVsdFZhbHVlOiAnPE5leHQgLz4nXG4gIH0sXG4gICdjYXJvdXNlbC5hbmltYXRpb24uZHVyYXRpb24nOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgZHVyYXRpb24gb2YgdGhlIENhcm91c2VsIGFuaW1hdGlvbi4nLFxuICAgIHR5cGU6ICdudW1iZXInLFxuICAgIGRlZmF1bHRWYWx1ZTogMTAwMFxuICB9LFxuICAnY2Fyb3VzZWwuaWNvbnMucHJldmlvdXMnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgaWNvbiB0byB1c2UgZm9yIHRoZSBwcmV2aW91cyBpbWFnZSBuYXZpZ2F0aW9uIGNvbnRyb2wuJyxcbiAgICB0eXBlOiAnZWxlbWVudCcsXG4gICAgZGVmYXVsdFZhbHVlOiAnPFByZXZpb3VzIC8+J1xuICB9LFxuICAnY2Fyb3VzZWwuaWNvbnMuY3VycmVudCc6IHtcbiAgICBkZXNjcmlwdGlvbjogXCJUaGUgaWNvbiB0byB1c2Ugb24gdGhlIG1pZGRsZSBuYXZpZ2F0aW9uIGNvbnRyb2wuIFxcbiAgICAgIE9uZSBpY29uIHBlciBjYXJvdXNlbCBpbWFnZS5cIixcbiAgICB0eXBlOiAnZWxlbWVudCcsXG4gICAgZGVmYXVsdFZhbHVlOiAnPE5leHQgLz4nXG4gIH0sXG4gICdjYXJvdXNlbC5pY29ucy5jb2xvcic6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBjb2xvciB1c2VkIGZvciBDYXJvdXNlbCBpY29ucy4nLFxuICAgIHR5cGU6IFwic3RyaW5nIHwgeyAnZGFyayc6IHN0cmluZywgJ2xpZ2h0Jzogc3RyaW5nIH1cIixcbiAgICBkZWZhdWx0VmFsdWU6IHVuZGVmaW5lZFxuICB9LFxuICAnY2Fyb3VzZWwuZGlzYWJsZWQuaWNvbnMuY29sb3InOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgY29sb3IgdXNlZCBmb3IgZGlzYWJsZWQgQ2Fyb3VzZWwgaWNvbnMuJyxcbiAgICB0eXBlOiBcInN0cmluZyB8IHsgJ2RhcmsnOiBzdHJpbmcsICdsaWdodCc6IHN0cmluZyB9XCIsXG4gICAgZGVmYXVsdFZhbHVlOiB1bmRlZmluZWRcbiAgfVxufSwgdGhlbWVEb2NVdGlscy5pY29uQ29sb3IsIHt9LCB0aGVtZURvY1V0aWxzLmVkZ2VTdHlsZSgnVGhlIHBvc3NpYmxlIHNpemVzIGZvciBtYXJnaW4uJykpOyIsImV4cG9ydCB7IENhcm91c2VsIH0gZnJvbSAnLi9DYXJvdXNlbCc7IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5pbXBvcnQgUmVhY3QsIHsgdXNlQ29udGV4dCwgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgVGhlbWVDb250ZXh0IH0gZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgbm9ybWFsaXplQ29sb3IsIHBhcnNlTWV0cmljVG9OdW0gfSBmcm9tICcuLi8uLi91dGlscyc7XG5pbXBvcnQgeyBTdHlsZWRDaGFydCB9IGZyb20gJy4vU3R5bGVkQ2hhcnQnO1xuaW1wb3J0IHsgbm9ybWFsaXplQm91bmRzLCBub3JtYWxpemVWYWx1ZXMgfSBmcm9tICcuL3V0aWxzJztcbnZhciBncmFkaWVudE1hc2tDb2xvciA9ICcjZmZmZmZmJzsgLy8gdXNlIGNvbnN0YW50cyBzbyByZS1yZW5kZXJzIGRvbid0IHJlLXRyaWdnZXIgZWZmZWN0c1xuXG52YXIgZGVmYXVsdFNpemUgPSB7XG4gIGhlaWdodDogJ3NtYWxsJyxcbiAgd2lkdGg6ICdtZWRpdW0nXG59O1xudmFyIGRlZmF1bHRWYWx1ZXMgPSBbXTtcbnZhciBDaGFydCA9IFJlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gKF9yZWYsIHJlZikge1xuICB2YXIgcHJvcHNCb3VuZHMgPSBfcmVmLmJvdW5kcyxcbiAgICAgIGNvbG9yID0gX3JlZi5jb2xvcixcbiAgICAgIGdhcCA9IF9yZWYuZ2FwLFxuICAgICAgaWQgPSBfcmVmLmlkLFxuICAgICAgb25DbGljayA9IF9yZWYub25DbGljayxcbiAgICAgIG9uSG92ZXIgPSBfcmVmLm9uSG92ZXIsXG4gICAgICBfcmVmJG92ZXJmbG93ID0gX3JlZi5vdmVyZmxvdyxcbiAgICAgIG92ZXJmbG93ID0gX3JlZiRvdmVyZmxvdyA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmJG92ZXJmbG93LFxuICAgICAgcm91bmQgPSBfcmVmLnJvdW5kLFxuICAgICAgX3JlZiRzaXplID0gX3JlZi5zaXplLFxuICAgICAgcHJvcHNTaXplID0gX3JlZiRzaXplID09PSB2b2lkIDAgPyBkZWZhdWx0U2l6ZSA6IF9yZWYkc2l6ZSxcbiAgICAgIF9yZWYkdGhpY2tuZXNzID0gX3JlZi50aGlja25lc3MsXG4gICAgICB0aGlja25lc3MgPSBfcmVmJHRoaWNrbmVzcyA9PT0gdm9pZCAwID8gJ21lZGl1bScgOiBfcmVmJHRoaWNrbmVzcyxcbiAgICAgIF9yZWYkdHlwZSA9IF9yZWYudHlwZSxcbiAgICAgIHR5cGUgPSBfcmVmJHR5cGUgPT09IHZvaWQgMCA/ICdiYXInIDogX3JlZiR0eXBlLFxuICAgICAgX3JlZiR2YWx1ZXMgPSBfcmVmLnZhbHVlcyxcbiAgICAgIHByb3BzVmFsdWVzID0gX3JlZiR2YWx1ZXMgPT09IHZvaWQgMCA/IGRlZmF1bHRWYWx1ZXMgOiBfcmVmJHZhbHVlcyxcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfcmVmLCBbXCJib3VuZHNcIiwgXCJjb2xvclwiLCBcImdhcFwiLCBcImlkXCIsIFwib25DbGlja1wiLCBcIm9uSG92ZXJcIiwgXCJvdmVyZmxvd1wiLCBcInJvdW5kXCIsIFwic2l6ZVwiLCBcInRoaWNrbmVzc1wiLCBcInR5cGVcIiwgXCJ2YWx1ZXNcIl0pO1xuXG4gIHZhciB0aGVtZSA9IHVzZUNvbnRleHQoVGhlbWVDb250ZXh0KTtcblxuICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUoW10pLFxuICAgICAgdmFsdWVzID0gX3VzZVN0YXRlWzBdLFxuICAgICAgc2V0VmFsdWVzID0gX3VzZVN0YXRlWzFdO1xuXG4gIHZhciBfdXNlU3RhdGUyID0gdXNlU3RhdGUoW1swLCAwXSwgWzAsIDBdXSksXG4gICAgICBib3VuZHMgPSBfdXNlU3RhdGUyWzBdLFxuICAgICAgc2V0Qm91bmRzID0gX3VzZVN0YXRlMlsxXTtcblxuICB2YXIgX3VzZVN0YXRlMyA9IHVzZVN0YXRlKFswLCAwXSksXG4gICAgICBjb250YWluZXJTaXplID0gX3VzZVN0YXRlM1swXSxcbiAgICAgIHNldENvbnRhaW5lclNpemUgPSBfdXNlU3RhdGUzWzFdO1xuXG4gIHZhciBfdXNlU3RhdGU0ID0gdXNlU3RhdGUoWzAsIDBdKSxcbiAgICAgIHNpemUgPSBfdXNlU3RhdGU0WzBdLFxuICAgICAgc2V0U2l6ZSA9IF91c2VTdGF0ZTRbMV07XG5cbiAgdmFyIF91c2VTdGF0ZTUgPSB1c2VTdGF0ZShbMSwgMV0pLFxuICAgICAgc2NhbGUgPSBfdXNlU3RhdGU1WzBdLFxuICAgICAgc2V0U2NhbGUgPSBfdXNlU3RhdGU1WzFdO1xuXG4gIHZhciBfdXNlU3RhdGU2ID0gdXNlU3RhdGUoMCksXG4gICAgICBzdHJva2VXaWR0aCA9IF91c2VTdGF0ZTZbMF0sXG4gICAgICBzZXRTdHJva2VXaWR0aCA9IF91c2VTdGF0ZTZbMV07XG5cbiAgdmFyIGNvbnRhaW5lclJlZiA9IHJlZiB8fCB1c2VSZWYoKTsgLy8gY2FsY3VsYXRpb25zXG5cbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgbmV4dFZhbHVlcyA9IG5vcm1hbGl6ZVZhbHVlcyhwcm9wc1ZhbHVlcyk7XG4gICAgc2V0VmFsdWVzKG5leHRWYWx1ZXMpO1xuICAgIHZhciBuZXh0Qm91bmRzID0gbm9ybWFsaXplQm91bmRzKHByb3BzQm91bmRzLCBuZXh0VmFsdWVzKTtcbiAgICBzZXRCb3VuZHMobmV4dEJvdW5kcyk7XG4gICAgdmFyIG5leHRTdHJva2VXaWR0aCA9IHBhcnNlTWV0cmljVG9OdW0odGhlbWUuZ2xvYmFsLmVkZ2VTaXplW3RoaWNrbmVzc10gfHwgdGhpY2tuZXNzKTtcbiAgICBzZXRTdHJva2VXaWR0aChuZXh0U3Ryb2tlV2lkdGgpO1xuICAgIHZhciBnYXBXaWR0aCA9IGdhcCA/IHBhcnNlTWV0cmljVG9OdW0odGhlbWUuZ2xvYmFsLmVkZ2VTaXplW2dhcF0gfHwgZ2FwKSA6IG5leHRTdHJva2VXaWR0aDsgLy8gYXV0b1dpZHRoIGlzIGhvdyB3aWRlIHdlJ2QgcGVmZXJcblxuICAgIHZhciBhdXRvV2lkdGggPSBuZXh0U3Ryb2tlV2lkdGggKiBuZXh0VmFsdWVzLmxlbmd0aCArIChuZXh0VmFsdWVzLmxlbmd0aCAtIDEpICogZ2FwV2lkdGg7XG4gICAgdmFyIHNpemVXaWR0aCA9IHR5cGVvZiBwcm9wc1NpemUgPT09ICdzdHJpbmcnID8gcHJvcHNTaXplIDogcHJvcHNTaXplLndpZHRoIHx8IGRlZmF1bHRTaXplLndpZHRoO1xuICAgIHZhciB3aWR0aDtcblxuICAgIGlmIChzaXplV2lkdGggPT09ICdmdWxsJykge1xuICAgICAgd2lkdGggPSBjb250YWluZXJTaXplWzBdO1xuICAgIH0gZWxzZSBpZiAoc2l6ZVdpZHRoID09PSAnYXV0bycpIHtcbiAgICAgIHdpZHRoID0gYXV0b1dpZHRoO1xuICAgIH0gZWxzZSB7XG4gICAgICB3aWR0aCA9IHBhcnNlTWV0cmljVG9OdW0odGhlbWUuZ2xvYmFsLnNpemVbc2l6ZVdpZHRoXSB8fCBzaXplV2lkdGgpO1xuICAgIH1cblxuICAgIHZhciBzaXplSGVpZ2h0ID0gdHlwZW9mIHByb3BzU2l6ZSA9PT0gJ3N0cmluZycgPyBwcm9wc1NpemUgOiBwcm9wc1NpemUuaGVpZ2h0IHx8IGRlZmF1bHRTaXplLmhlaWdodDtcbiAgICB2YXIgaGVpZ2h0O1xuXG4gICAgaWYgKHNpemVIZWlnaHQgPT09ICdmdWxsJykge1xuICAgICAgaGVpZ2h0ID0gY29udGFpbmVyU2l6ZVsxXTtcbiAgICB9IGVsc2Uge1xuICAgICAgaGVpZ2h0ID0gcGFyc2VNZXRyaWNUb051bSh0aGVtZS5nbG9iYWwuc2l6ZVtzaXplSGVpZ2h0XSB8fCBzaXplSGVpZ2h0KTtcbiAgICB9XG5cbiAgICBzZXRTaXplKFt3aWR0aCwgaGVpZ2h0XSk7XG4gICAgdmFyIG5leHRTY2FsZSA9IFsoc2l6ZVdpZHRoID09PSAnYXV0bycgPyBhdXRvV2lkdGggOiB3aWR0aCkgLyAobmV4dEJvdW5kc1swXVsxXSAtIG5leHRCb3VuZHNbMF1bMF0pLCBoZWlnaHQgLyAobmV4dEJvdW5kc1sxXVsxXSAtIG5leHRCb3VuZHNbMV1bMF0pXTtcbiAgICBzZXRTY2FsZShuZXh0U2NhbGUpO1xuICB9LCBbY29udGFpbmVyU2l6ZSwgZ2FwLCBwcm9wc0JvdW5kcywgcHJvcHNTaXplLCBwcm9wc1ZhbHVlcywgdGhlbWUuZ2xvYmFsLmVkZ2VTaXplLCB0aGVtZS5nbG9iYWwuc2l6ZSwgdGhpY2tuZXNzXSk7IC8vIHNldCBjb250YWluZXIgc2l6ZSB3aGVuIHdlIGdldCByZWYgb3Igd2hlbiBzaXplIGNoYW5nZXNcblxuICBpZiAoY29udGFpbmVyUmVmLmN1cnJlbnQgJiYgcHJvcHNTaXplICYmIChwcm9wc1NpemUgPT09ICdmdWxsJyB8fCBwcm9wc1NpemUuaGVpZ2h0ID09PSAnZnVsbCcgfHwgcHJvcHNTaXplLndpZHRoID09PSAnZnVsbCcpKSB7XG4gICAgdmFyIGNvbnRhaW5lck5vZGUgPSBjb250YWluZXJSZWYuY3VycmVudDtcblxuICAgIGlmIChjb250YWluZXJOb2RlKSB7XG4gICAgICB2YXIgcGFyZW50Tm9kZSA9IGNvbnRhaW5lck5vZGUucGFyZW50Tm9kZTtcblxuICAgICAgaWYgKHBhcmVudE5vZGUpIHtcbiAgICAgICAgdmFyIHJlY3QgPSBwYXJlbnROb2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgIGlmIChyZWN0LndpZHRoICE9PSBjb250YWluZXJTaXplWzBdIHx8IHJlY3QuaGVpZ2h0ICE9PSBjb250YWluZXJTaXplWzFdKSB7XG4gICAgICAgICAgc2V0Q29udGFpbmVyU2l6ZShbcmVjdC53aWR0aCwgcmVjdC5oZWlnaHRdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSAvLyBjb250YWluZXIgc2l6ZSwgaWYgbmVlZGVkXG5cblxuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIHZhciBvblJlc2l6ZSA9IGZ1bmN0aW9uIG9uUmVzaXplKCkge1xuICAgICAgdmFyIHBhcmVudE5vZGUgPSBjb250YWluZXJSZWYuY3VycmVudC5wYXJlbnROb2RlO1xuICAgICAgdmFyIHJlY3QgPSBwYXJlbnROb2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgc2V0Q29udGFpbmVyU2l6ZShbcmVjdC53aWR0aCwgcmVjdC5oZWlnaHRdKTtcbiAgICB9O1xuXG4gICAgaWYgKHByb3BzU2l6ZSAmJiAocHJvcHNTaXplID09PSAnZnVsbCcgfHwgcHJvcHNTaXplLndpZHRoID09PSAnZnVsbCcgfHwgcHJvcHNTaXplLmhlaWdodCA9PT0gJ2Z1bGwnKSkge1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIG9uUmVzaXplKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgb25SZXNpemUpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9LCBbY29udGFpbmVyUmVmLCBwcm9wc1NpemVdKTtcbiAgdmFyIHVzZUdyYWRpZW50ID0gY29sb3IgJiYgQXJyYXkuaXNBcnJheShjb2xvcik7XG5cbiAgdmFyIHJlbmRlckJhcnMgPSBmdW5jdGlvbiByZW5kZXJCYXJzKCkge1xuICAgIHJldHVybiAodmFsdWVzIHx8IFtdKS5tYXAoZnVuY3Rpb24gKHZhbHVlQXJnLCBpbmRleCkge1xuICAgICAgdmFyIGxhYmVsID0gdmFsdWVBcmcubGFiZWwsXG4gICAgICAgICAgdmFsdWVPbkhvdmVyID0gdmFsdWVBcmcub25Ib3ZlcixcbiAgICAgICAgICB2YWx1ZSA9IHZhbHVlQXJnLnZhbHVlLFxuICAgICAgICAgIHZhbHVlUmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHZhbHVlQXJnLCBbXCJsYWJlbFwiLCBcIm9uSG92ZXJcIiwgXCJ2YWx1ZVwiXSk7XG5cbiAgICAgIHZhciBrZXkgPSBcInAtXCIgKyBpbmRleDtcbiAgICAgIHZhciBib3R0b20gPSB2YWx1ZS5sZW5ndGggPT09IDIgPyBib3VuZHNbMV1bMF0gOiB2YWx1ZVsxXTtcbiAgICAgIHZhciB0b3AgPSB2YWx1ZS5sZW5ndGggPT09IDIgPyB2YWx1ZVsxXSA6IHZhbHVlWzJdO1xuXG4gICAgICBpZiAodG9wICE9PSAwKSB7XG4gICAgICAgIHZhciBkID0gXCJNIFwiICsgKHZhbHVlWzBdIC0gYm91bmRzWzBdWzBdKSAqIHNjYWxlWzBdICsgXCIsXCIgKyAoXCJcIiArIChzaXplWzFdIC0gKGJvdHRvbSAtIGJvdW5kc1sxXVswXSkgKiBzY2FsZVsxXSkpICsgKFwiIEwgXCIgKyAodmFsdWVbMF0gLSBib3VuZHNbMF1bMF0pICogc2NhbGVbMF0gKyBcIixcIikgKyAoXCJcIiArIChzaXplWzFdIC0gKHRvcCAtIGJvdW5kc1sxXVswXSkgKiBzY2FsZVsxXSkpO1xuICAgICAgICB2YXIgaG92ZXJQcm9wcztcblxuICAgICAgICBpZiAodmFsdWVPbkhvdmVyKSB7XG4gICAgICAgICAgaG92ZXJQcm9wcyA9IHtcbiAgICAgICAgICAgIG9uTW91c2VPdmVyOiBmdW5jdGlvbiBvbk1vdXNlT3ZlcigpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlT25Ib3Zlcih0cnVlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbk1vdXNlTGVhdmU6IGZ1bmN0aW9uIG9uTW91c2VMZWF2ZSgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlT25Ib3ZlcihmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZ1wiLCB7XG4gICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgZmlsbDogXCJub25lXCJcbiAgICAgICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInRpdGxlXCIsIG51bGwsIGxhYmVsKSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgX2V4dGVuZHMoe1xuICAgICAgICAgIGQ6IGRcbiAgICAgICAgfSwgaG92ZXJQcm9wcywgdmFsdWVSZXN0KSkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0pO1xuICB9O1xuXG4gIHZhciByZW5kZXJMaW5lID0gZnVuY3Rpb24gcmVuZGVyTGluZSgpIHtcbiAgICB2YXIgZCA9ICcnO1xuICAgICh2YWx1ZXMgfHwgW10pLmZvckVhY2goZnVuY3Rpb24gKF9yZWYyLCBpbmRleCkge1xuICAgICAgdmFyIHZhbHVlID0gX3JlZjIudmFsdWU7XG4gICAgICBkICs9IChpbmRleCA/ICcgTCcgOiAnTScpICsgXCIgXCIgKyAodmFsdWVbMF0gLSBib3VuZHNbMF1bMF0pICogc2NhbGVbMF0gKyBcIixcIiArIChcIlwiICsgKHNpemVbMV0gLSAodmFsdWVbMV0gLSBib3VuZHNbMV1bMF0pICogc2NhbGVbMV0pKTtcbiAgICB9KTtcbiAgICB2YXIgaG92ZXJQcm9wcztcblxuICAgIGlmIChvbkhvdmVyKSB7XG4gICAgICBob3ZlclByb3BzID0ge1xuICAgICAgICBvbk1vdXNlT3ZlcjogZnVuY3Rpb24gb25Nb3VzZU92ZXIoKSB7XG4gICAgICAgICAgcmV0dXJuIG9uSG92ZXIodHJ1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uTW91c2VMZWF2ZTogZnVuY3Rpb24gb25Nb3VzZUxlYXZlKCkge1xuICAgICAgICAgIHJldHVybiBvbkhvdmVyKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXIgY2xpY2tQcm9wcztcblxuICAgIGlmIChvbkNsaWNrKSB7XG4gICAgICBjbGlja1Byb3BzID0ge1xuICAgICAgICBvbkNsaWNrOiBvbkNsaWNrXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZ1wiLCB7XG4gICAgICBmaWxsOiBcIm5vbmVcIlxuICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIF9leHRlbmRzKHtcbiAgICAgIGQ6IGRcbiAgICB9LCBob3ZlclByb3BzLCBjbGlja1Byb3BzKSkpO1xuICB9O1xuXG4gIHZhciByZW5kZXJBcmVhID0gZnVuY3Rpb24gcmVuZGVyQXJlYSgpIHtcbiAgICB2YXIgZCA9ICcnO1xuICAgICh2YWx1ZXMgfHwgW10pLmZvckVhY2goZnVuY3Rpb24gKF9yZWYzLCBpbmRleCkge1xuICAgICAgdmFyIHZhbHVlID0gX3JlZjMudmFsdWU7XG4gICAgICB2YXIgdG9wID0gdmFsdWUubGVuZ3RoID09PSAyID8gdmFsdWVbMV0gOiB2YWx1ZVsyXTtcbiAgICAgIGQgKz0gKCFpbmRleCA/ICdNJyA6ICcgTCcpICsgXCIgXCIgKyAodmFsdWVbMF0gLSBib3VuZHNbMF1bMF0pICogc2NhbGVbMF0gKyBcIixcIiArIChcIlwiICsgKHNpemVbMV0gLSAodG9wIC0gYm91bmRzWzFdWzBdKSAqIHNjYWxlWzFdKSk7XG4gICAgfSk7XG4gICAgKHZhbHVlcyB8fCBbXSkucmV2ZXJzZSgpLmZvckVhY2goZnVuY3Rpb24gKF9yZWY0KSB7XG4gICAgICB2YXIgdmFsdWUgPSBfcmVmNC52YWx1ZTtcbiAgICAgIHZhciBib3R0b20gPSB2YWx1ZS5sZW5ndGggPT09IDIgPyBib3VuZHNbMV1bMF0gOiB2YWx1ZVsxXTtcbiAgICAgIGQgKz0gXCIgTCBcIiArICh2YWx1ZVswXSAtIGJvdW5kc1swXVswXSkgKiBzY2FsZVswXSArIFwiLFwiICsgKFwiXCIgKyAoc2l6ZVsxXSAtIChib3R0b20gLSBib3VuZHNbMV1bMF0pICogc2NhbGVbMV0pKTtcbiAgICB9KTtcblxuICAgIGlmIChkLmxlbmd0aCA+IDApIHtcbiAgICAgIGQgKz0gJyBaJztcbiAgICB9XG5cbiAgICB2YXIgaG92ZXJQcm9wcztcblxuICAgIGlmIChvbkhvdmVyKSB7XG4gICAgICBob3ZlclByb3BzID0ge1xuICAgICAgICBvbk1vdXNlT3ZlcjogZnVuY3Rpb24gb25Nb3VzZU92ZXIoKSB7XG4gICAgICAgICAgcmV0dXJuIG9uSG92ZXIodHJ1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uTW91c2VMZWF2ZTogZnVuY3Rpb24gb25Nb3VzZUxlYXZlKCkge1xuICAgICAgICAgIHJldHVybiBvbkhvdmVyKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXIgY2xpY2tQcm9wcztcblxuICAgIGlmIChvbkNsaWNrKSB7XG4gICAgICBjbGlja1Byb3BzID0ge1xuICAgICAgICBvbkNsaWNrOiBvbkNsaWNrXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZ1wiLCBudWxsLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCBfZXh0ZW5kcyh7XG4gICAgICBkOiBkXG4gICAgfSwgaG92ZXJQcm9wcywgY2xpY2tQcm9wcykpKTtcbiAgfTtcblxuICB2YXIgcmVuZGVyUG9pbnRzID0gZnVuY3Rpb24gcmVuZGVyUG9pbnRzKCkge1xuICAgIHJldHVybiAodmFsdWVzIHx8IFtdKS5tYXAoZnVuY3Rpb24gKHZhbHVlQXJnLCBpbmRleCkge1xuICAgICAgdmFyIGxhYmVsID0gdmFsdWVBcmcubGFiZWwsXG4gICAgICAgICAgdmFsdWVPbkhvdmVyID0gdmFsdWVBcmcub25Ib3ZlcixcbiAgICAgICAgICB2YWx1ZSA9IHZhbHVlQXJnLnZhbHVlLFxuICAgICAgICAgIHZhbHVlUmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHZhbHVlQXJnLCBbXCJsYWJlbFwiLCBcIm9uSG92ZXJcIiwgXCJ2YWx1ZVwiXSk7XG5cbiAgICAgIHZhciBrZXkgPSBcInAtXCIgKyBpbmRleDtcbiAgICAgIHZhciBob3ZlclByb3BzO1xuXG4gICAgICBpZiAodmFsdWVPbkhvdmVyKSB7XG4gICAgICAgIGhvdmVyUHJvcHMgPSB7XG4gICAgICAgICAgb25Nb3VzZU92ZXI6IGZ1bmN0aW9uIG9uTW91c2VPdmVyKCkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlT25Ib3Zlcih0cnVlKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIG9uTW91c2VMZWF2ZTogZnVuY3Rpb24gb25Nb3VzZUxlYXZlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlT25Ib3ZlcihmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICB2YXIgY2VudGVyID0gdmFsdWUubGVuZ3RoID09PSAyID8gdmFsdWVbMV0gOiB2YWx1ZVsyXTtcbiAgICAgIHZhciBzaGFwZTtcblxuICAgICAgaWYgKHJvdW5kKSB7XG4gICAgICAgIHZhciBjeCA9ICh2YWx1ZVswXSAtIGJvdW5kc1swXVswXSkgKiBzY2FsZVswXTtcbiAgICAgICAgdmFyIGN5ID0gc2l6ZVsxXSAtIChjZW50ZXIgLSBib3VuZHNbMV1bMF0pICogc2NhbGVbMV07XG4gICAgICAgIHNoYXBlID0gUmVhY3QuY3JlYXRlRWxlbWVudChcImNpcmNsZVwiLCBfZXh0ZW5kcyh7XG4gICAgICAgICAgY3g6IGN4LFxuICAgICAgICAgIGN5OiBjeSxcbiAgICAgICAgICByOiBzdHJva2VXaWR0aCAvIDJcbiAgICAgICAgfSwgaG92ZXJQcm9wcywgdmFsdWVSZXN0KSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgeCA9ICh2YWx1ZVswXSAtIGJvdW5kc1swXVswXSkgKiBzY2FsZVswXSAtIHN0cm9rZVdpZHRoIC8gMjtcbiAgICAgICAgdmFyIHkgPSBzaXplWzFdIC0gKGNlbnRlciAtIGJvdW5kc1sxXVswXSkgKiBzY2FsZVsxXSAtIHN0cm9rZVdpZHRoIC8gMjtcbiAgICAgICAgc2hhcGUgPSBSZWFjdC5jcmVhdGVFbGVtZW50KFwicmVjdFwiLCBfZXh0ZW5kcyh7XG4gICAgICAgICAgeDogeCxcbiAgICAgICAgICB5OiB5LFxuICAgICAgICAgIHdpZHRoOiBzdHJva2VXaWR0aCxcbiAgICAgICAgICBoZWlnaHQ6IHN0cm9rZVdpZHRoXG4gICAgICAgIH0sIGhvdmVyUHJvcHMsIHZhbHVlUmVzdCkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImdcIiwge1xuICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgc3Ryb2tlOiBcIm5vbmVcIlxuICAgICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInRpdGxlXCIsIG51bGwsIGxhYmVsKSwgc2hhcGUpO1xuICAgIH0pO1xuICB9O1xuXG4gIHZhciBjb250ZW50cztcblxuICBpZiAodHlwZSA9PT0gJ2JhcicpIHtcbiAgICBjb250ZW50cyA9IHJlbmRlckJhcnMoKTtcbiAgfSBlbHNlIGlmICh0eXBlID09PSAnbGluZScpIHtcbiAgICBjb250ZW50cyA9IHJlbmRlckxpbmUoKTtcbiAgfSBlbHNlIGlmICh0eXBlID09PSAnYXJlYScpIHtcbiAgICBjb250ZW50cyA9IHJlbmRlckFyZWEoKTtcbiAgfSBlbHNlIGlmICh0eXBlID09PSAncG9pbnQnKSB7XG4gICAgY29udGVudHMgPSByZW5kZXJQb2ludHMoKTtcbiAgfVxuXG4gIHZhciB2aWV3Qm91bmRzID0gb3ZlcmZsb3cgPyBbMCwgMCwgc2l6ZVswXSwgc2l6ZVsxXV0gOiBbLShzdHJva2VXaWR0aCAvIDIpLCAtKHN0cm9rZVdpZHRoIC8gMiksIHNpemVbMF0gKyBzdHJva2VXaWR0aCwgc2l6ZVsxXSArIHN0cm9rZVdpZHRoXTtcbiAgdmFyIHZpZXdCb3ggPSB2aWV3Qm91bmRzLmpvaW4oJyAnKTtcbiAgdmFyIGNvbG9yTmFtZTtcblxuICBpZiAoIXVzZUdyYWRpZW50KSB7XG4gICAgaWYgKGNvbG9yICYmIGNvbG9yLmNvbG9yKSBjb2xvck5hbWUgPSBjb2xvci5jb2xvcjtlbHNlIGlmIChjb2xvcikgY29sb3JOYW1lID0gY29sb3I7ZWxzZSBpZiAodGhlbWUuY2hhcnQgJiYgdGhlbWUuY2hhcnQuY29sb3IpIGNvbG9yTmFtZSA9IHRoZW1lLmNoYXJ0LmNvbG9yO2Vsc2UgY29sb3JOYW1lID0gJ2dyYXBoLTAnO1xuICB9XG5cbiAgdmFyIG9wYWNpdHkgPSBjb2xvciAmJiBjb2xvci5vcGFjaXR5ID8gdGhlbWUuZ2xvYmFsLm9wYWNpdHlbY29sb3Iub3BhY2l0eV0gOiB1bmRlZmluZWQ7XG4gIHZhciBzdHJva2U7XG5cbiAgaWYgKHR5cGUgIT09ICdwb2ludCcpIHtcbiAgICBpZiAodXNlR3JhZGllbnQpIHN0cm9rZSA9IGdyYWRpZW50TWFza0NvbG9yO2Vsc2Ugc3Ryb2tlID0gbm9ybWFsaXplQ29sb3IoY29sb3JOYW1lLCB0aGVtZSk7XG4gIH0gZWxzZSBzdHJva2UgPSAnbm9uZSc7XG5cbiAgdmFyIGZpbGw7XG5cbiAgaWYgKHR5cGUgPT09ICdwb2ludCcgfHwgdHlwZSA9PT0gJ2FyZWEnKSB7XG4gICAgaWYgKHVzZUdyYWRpZW50KSBmaWxsID0gZ3JhZGllbnRNYXNrQ29sb3I7ZWxzZSBmaWxsID0gbm9ybWFsaXplQ29sb3IoY29sb3JOYW1lLCB0aGVtZSk7XG4gIH0gZWxzZSBmaWxsID0gJ25vbmUnO1xuXG4gIHZhciBkcmF3aW5nID0gUmVhY3QuY3JlYXRlRWxlbWVudChcImdcIiwge1xuICAgIHN0cm9rZTogc3Ryb2tlLFxuICAgIHN0cm9rZVdpZHRoOiB0eXBlICE9PSAncG9pbnQnID8gc3Ryb2tlV2lkdGggOiB1bmRlZmluZWQsXG4gICAgZmlsbDogZmlsbCxcbiAgICBzdHJva2VMaW5lY2FwOiByb3VuZCA/ICdyb3VuZCcgOiAnYnV0dCcsXG4gICAgc3Ryb2tlTGluZWpvaW46IHJvdW5kID8gJ3JvdW5kJyA6ICdtaXRlcicsXG4gICAgb3BhY2l0eTogb3BhY2l0eVxuICB9LCBjb250ZW50cyk7XG4gIHZhciBkZWZzO1xuICB2YXIgZ3JhZGllbnRSZWN0O1xuXG4gIGlmICh1c2VHcmFkaWVudCAmJiBzaXplWzFdKSB7XG4gICAgdmFyIGdyYWRpZW50SWQgPSBpZCArIFwiLWdyYWRpZW50XCI7XG4gICAgdmFyIG1hc2tJZCA9IGlkICsgXCItbWFza1wiO1xuICAgIGRlZnMgPSBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGVmc1wiLCBudWxsLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwibGluZWFyR3JhZGllbnRcIiwge1xuICAgICAgaWQ6IGdyYWRpZW50SWQsXG4gICAgICB4MTogMCxcbiAgICAgIHkxOiAwLFxuICAgICAgeDI6IDAsXG4gICAgICB5MjogMVxuICAgIH0sIGNvbG9yLnNvcnQoZnVuY3Rpb24gKGMxLCBjMikge1xuICAgICAgcmV0dXJuIGMyLnZhbHVlIC0gYzEudmFsdWU7XG4gICAgfSkubWFwKGZ1bmN0aW9uIChfcmVmNSkge1xuICAgICAgdmFyIHZhbHVlID0gX3JlZjUudmFsdWUsXG4gICAgICAgICAgZ3JhZGllbnRDb2xvciA9IF9yZWY1LmNvbG9yO1xuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdG9wXCIsIHtcbiAgICAgICAga2V5OiB2YWx1ZSxcbiAgICAgICAgb2Zmc2V0OiAoc2l6ZVsxXSAtICh2YWx1ZSAtIGJvdW5kc1sxXVswXSkgKiBzY2FsZVsxXSkgLyBzaXplWzFdLFxuICAgICAgICBzdG9wQ29sb3I6IG5vcm1hbGl6ZUNvbG9yKGdyYWRpZW50Q29sb3IsIHRoZW1lKVxuICAgICAgfSk7XG4gICAgfSkpLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwibWFza1wiLCB7XG4gICAgICBpZDogbWFza0lkXG4gICAgfSwgZHJhd2luZykpO1xuICAgIGdyYWRpZW50UmVjdCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJyZWN0XCIsIHtcbiAgICAgIHg6IHZpZXdCb3VuZHNbMF0sXG4gICAgICB5OiB2aWV3Qm91bmRzWzFdLFxuICAgICAgd2lkdGg6IHZpZXdCb3VuZHNbMl0sXG4gICAgICBoZWlnaHQ6IHZpZXdCb3VuZHNbM10sXG4gICAgICBmaWxsOiBcInVybCgjXCIgKyBncmFkaWVudElkICsgXCIpXCIsXG4gICAgICBtYXNrOiBcInVybCgjXCIgKyBtYXNrSWQgKyBcIilcIlxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkQ2hhcnQsIF9leHRlbmRzKHtcbiAgICByZWY6IGNvbnRhaW5lclJlZixcbiAgICBpZDogaWQsXG4gICAgdmlld0JveDogdmlld0JveCxcbiAgICBwcmVzZXJ2ZUFzcGVjdFJhdGlvOiBcIm5vbmVcIixcbiAgICB3aWR0aDogc2l6ZSA9PT0gJ2Z1bGwnID8gJzEwMCUnIDogc2l6ZVswXSxcbiAgICBoZWlnaHQ6IHNpemUgPT09ICdmdWxsJyA/ICcxMDAlJyA6IHNpemVbMV1cbiAgfSwgcmVzdCksIGRlZnMsIHVzZUdyYWRpZW50ID8gZ3JhZGllbnRSZWN0IDogZHJhd2luZyk7XG59KTtcbkNoYXJ0LmRpc3BsYXlOYW1lID0gJ0NoYXJ0JztcbnZhciBDaGFydERvYztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgQ2hhcnREb2MgPSByZXF1aXJlKCcuL2RvYycpLmRvYyhDaGFydCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZ2xvYmFsLXJlcXVpcmVcbn1cblxudmFyIENoYXJ0V3JhcHBlciA9IENoYXJ0RG9jIHx8IENoYXJ0O1xuZXhwb3J0IHsgQ2hhcnRXcmFwcGVyIGFzIENoYXJ0IH07IiwiaW1wb3J0IHN0eWxlZCBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBnZW5lcmljU3R5bGVzIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuaW1wb3J0IHsgZGVmYXVsdFByb3BzIH0gZnJvbSAnLi4vLi4vZGVmYXVsdC1wcm9wcyc7XG52YXIgU3R5bGVkQ2hhcnQgPSBzdHlsZWQuc3ZnLndpdGhDb25maWcoe1xuICBkaXNwbGF5TmFtZTogXCJTdHlsZWRDaGFydFwiLFxuICBjb21wb25lbnRJZDogXCJzYy0xbmFlMGdmLTBcIlxufSkoW1wiZGlzcGxheTpibG9jazttYXgtd2lkdGg6MTAwJTtvdmVyZmxvdzp2aXNpYmxlO1wiLCBcIiBcIiwgXCI7XCJdLCBnZW5lcmljU3R5bGVzLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLmNoYXJ0ICYmIHByb3BzLnRoZW1lLmNoYXJ0LmV4dGVuZDtcbn0pO1xuU3R5bGVkQ2hhcnQuZGVmYXVsdFByb3BzID0ge307XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoU3R5bGVkQ2hhcnQuZGVmYXVsdFByb3BzLCBkZWZhdWx0UHJvcHMpO1xuZXhwb3J0IHsgU3R5bGVkQ2hhcnQgfTsiLCJpbXBvcnQgeyBub3JtYWxpemVWYWx1ZXMgfSBmcm9tICcuL3V0aWxzJztcbmV4cG9ydCB2YXIgY2FsY3MgPSBmdW5jdGlvbiBjYWxjcyh2YWx1ZXMsIG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgfVxuXG4gIHZhciBjb2Fyc2VuZXNzID0gb3B0aW9ucy5jb2Fyc2VuZXNzIHx8IDU7XG4gIHZhciBzdGVwcyA9IG9wdGlvbnMuc3RlcHMgfHwgWzEsIDFdO1xuICB2YXIgY2FsY1ZhbHVlcyA9IG5vcm1hbGl6ZVZhbHVlcyh2YWx1ZXMgfHwgW10pO1xuICB2YXIgbWluO1xuICB2YXIgbWF4O1xuXG4gIGlmIChvcHRpb25zLm1pbiAhPT0gdW5kZWZpbmVkICYmIG9wdGlvbnMubWF4ICE9PSB1bmRlZmluZWQpIHtcbiAgICB2YXIgX29wdGlvbnMgPSBvcHRpb25zO1xuICAgIG1pbiA9IF9vcHRpb25zLm1pbjtcbiAgICBtYXggPSBfb3B0aW9ucy5tYXg7XG4gIH0gZWxzZSBpZiAoY2FsY1ZhbHVlcy5sZW5ndGgpIHtcbiAgICAvLyBDYWxjdWxhdGUgdGhlIG1heCBhbmQgbWluIHkgdmFsdWVzLlxuICAgIG1pbiA9IGNhbGNWYWx1ZXNbMF0udmFsdWVbMV0gfHwgMDtcbiAgICBtYXggPSBtaW47XG4gICAgY2FsY1ZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgdmFyIHkgPSB2YWx1ZS52YWx1ZVsxXTtcbiAgICAgIG1pbiA9IE1hdGgubWluKG1pbiwgeSk7XG4gICAgICBtYXggPSBNYXRoLm1heChtYXgsIHkpOyAvLyBoYW5kbGUgcmFuZ2VzIG9mIHZhbHVlc1xuXG4gICAgICBpZiAodmFsdWUudmFsdWVbMl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YXIgeTIgPSB2YWx1ZS52YWx1ZVsyXTtcbiAgICAgICAgbWluID0gTWF0aC5taW4obWluLCB5Mik7XG4gICAgICAgIG1heCA9IE1hdGgubWF4KG1heCwgeTIpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIG1pbiA9IG9wdGlvbnMubWluICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm1pbiA6IG1pbjtcbiAgICBtYXggPSBvcHRpb25zLm1heCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5tYXggOiBtYXg7IC8vIENhbGN1bGF0ZSBzb21lIHJlYXNvbmFibGUgeSBib3VuZHMgYmFzZWQgb24gdGhlIG1heCBhbmQgbWluIHkgdmFsdWVzLlxuICAgIC8vIFRoaXMgaXMgc28gdmFsdWVzIGxpa2UgODczNDIuMTIgZG9uJ3QgZW5kIHVwIGJlaW5nIGRpc3BsYXllZCBhcyB0aGVcbiAgICAvLyBncmFwaCBheGlzIGVkZ2UgbGFiZWwuXG5cbiAgICB2YXIgZGVsdGEgPSBtYXggLSBtaW47XG4gICAgdmFyIGludGVydmFsID0gTnVtYmVyLnBhcnNlRmxvYXQoKGRlbHRhIC8gY29hcnNlbmVzcykudG9QcmVjaXNpb24oMSkpO1xuICAgIG1heCA9IG1heCAtIG1heCAlIGludGVydmFsICsgaW50ZXJ2YWw7XG4gICAgbWluIC09IG1pbiAlIGludGVydmFsO1xuICB9XG5cbiAgdmFyIGJvdW5kcyA9IGNhbGNWYWx1ZXMubGVuZ3RoID8gW1tjYWxjVmFsdWVzWzBdLnZhbHVlWzBdLCBjYWxjVmFsdWVzW2NhbGNWYWx1ZXMubGVuZ3RoIC0gMV0udmFsdWVbMF1dLCBbbWluLCBtYXhdXSA6IFtbXSwgW11dO1xuICB2YXIgZGltZW5zaW9ucyA9IFtib3VuZHNbMF1bMV0gLSBib3VuZHNbMF1bMF0sIGJvdW5kc1sxXVsxXSAtIGJvdW5kc1sxXVswXV07IC8vIENhbGN1bGF0ZSB4IGFuZCB5IGF4aXMgdmFsdWVzIGFjcm9zcyB0aGUgc3BlY2ZpZWQgbnVtYmVyIG9mIHN0ZXBzLlxuXG4gIHZhciB5QXhpcyA9IFtdO1xuICB2YXIgeSA9IGJvdW5kc1sxXVsxXTtcbiAgdmFyIHlTdGVwSW50ZXJ2YWwgPSBkaW1lbnNpb25zWzFdIC8gc3RlcHNbMV07XG5cbiAgd2hpbGUgKHkgPj0gYm91bmRzWzFdWzBdKSB7XG4gICAgeUF4aXMucHVzaCh5KTtcbiAgICB5IC09IHlTdGVwSW50ZXJ2YWw7XG4gIH1cblxuICB2YXIgeEF4aXMgPSBbXTtcbiAgdmFyIHggPSBib3VuZHNbMF1bMF07XG4gIHZhciB4U3RlcEludGVydmFsID0gZGltZW5zaW9uc1swXSAvIHN0ZXBzWzBdO1xuXG4gIHdoaWxlICh4U3RlcEludGVydmFsID4gMCAmJiB4IDw9IGJvdW5kc1swXVsxXSB8fCB4U3RlcEludGVydmFsIDwgMCAmJiB4ID49IGJvdW5kc1swXVsxXSkge1xuICAgIHhBeGlzLnB1c2goeCk7XG4gICAgeCArPSB4U3RlcEludGVydmFsO1xuICB9IC8vIFNldCBiYXIgdGhpY2tuZXNzIGJhc2VkIG9uIG51bWJlciBvZiB2YWx1ZXMgYmVpbmcgcmVuZGVyZWQuXG4gIC8vIFNvbWVkYXksIGl0IHdvdWxkIGJlIGJldHRlciB0byBpbmNsdWRlIHRoZSBhY3R1YWwgcmVuZGVyZWQgc2l6ZS5cbiAgLy8gVGhlc2UgdmFsdWVzIHdlcmUgZW1pcmljYWxseSBkZXRlcm1pbmVkLCB0cnlpbmcgdG8gYmFsYW5jZSB2aXNpYmlsaXR5XG4gIC8vIGFuZCBvdmVybGFwIGFjcm9zcyByZXNvbHV0aW9ucy5cblxuXG4gIHZhciB0aGlja25lc3M7XG4gIHZhciBwYWQ7XG5cbiAgaWYgKGNhbGNWYWx1ZXMubGVuZ3RoIDwgNSkge1xuICAgIHRoaWNrbmVzcyA9ICd4bGFyZ2UnO1xuICAgIHBhZCA9ICdsYXJnZSc7XG4gIH0gZWxzZSBpZiAoY2FsY1ZhbHVlcy5sZW5ndGggPCAxMSkge1xuICAgIHRoaWNrbmVzcyA9ICdsYXJnZSc7XG4gICAgcGFkID0gJ21lZGl1bSc7XG4gIH0gZWxzZSBpZiAoY2FsY1ZhbHVlcy5sZW5ndGggPCAyMSkge1xuICAgIHRoaWNrbmVzcyA9ICdtZWRpdW0nO1xuICAgIHBhZCA9ICdzbWFsbCc7XG4gIH0gZWxzZSBpZiAoY2FsY1ZhbHVlcy5sZW5ndGggPCA2MSkge1xuICAgIHRoaWNrbmVzcyA9ICdzbWFsbCc7XG4gICAgcGFkID0gJ3hzbWFsbCc7XG4gIH0gZWxzZSBpZiAoY2FsY1ZhbHVlcy5sZW5ndGggPCAxMjEpIHtcbiAgICB0aGlja25lc3MgPSAneHNtYWxsJztcbiAgICBwYWQgPSAneHhzbWFsbCc7XG4gIH0gZWxzZSB7XG4gICAgdGhpY2tuZXNzID0gJ2hhaXInO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBheGlzOiBbeEF4aXMsIHlBeGlzXSxcbiAgICBib3VuZHM6IGJvdW5kcyxcbiAgICBkaW1lbnNpb25zOiBkaW1lbnNpb25zLFxuICAgIHBhZDogcGFkLFxuICAgIHRoaWNrbmVzczogdGhpY2tuZXNzXG4gIH07XG59OyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmltcG9ydCB7IGRlc2NyaWJlLCBQcm9wVHlwZXMgfSBmcm9tICdyZWFjdC1kZXNjJztcbmltcG9ydCB7IGdlbmVyaWNQcm9wcywgZ2V0QXZhaWxhYmxlQXRCYWRnZSB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmV4cG9ydCB2YXIgZG9jID0gZnVuY3Rpb24gZG9jKENoYXJ0KSB7XG4gIHZhciBEb2N1bWVudGVkQ2hhcnQgPSBkZXNjcmliZShDaGFydCkuYXZhaWxhYmxlQXQoZ2V0QXZhaWxhYmxlQXRCYWRnZSgnQ2hhcnQnKSkuZGVzY3JpcHRpb24oJ0EgZ3JhcGhpY2FsIGNoYXJ0LicpLnVzYWdlKFwiaW1wb3J0IHsgQ2hhcnQgfSBmcm9tICdncm9tbWV0JztcXG48Q2hhcnQgLz5cIik7IC8vIFdlIGRvbid0IGluY2x1ZGUgc3ZnIGR1ZSB0byBhIGNvbGxpc2lvbiBvbiB0aGUgdmFsdWVzIHByb3BlcnR5XG4gIC8vIC5pbnRyaW5zaWNFbGVtZW50KCdzdmcnKTtcblxuICBEb2N1bWVudGVkQ2hhcnQucHJvcFR5cGVzID0gX2V4dGVuZHMoe30sIGdlbmVyaWNQcm9wcywge1xuICAgIGJvdW5kczogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm51bWJlcikpLmRlc2NyaXB0aW9uKFwiVGhlIGxpbWl0cyBmb3IgdGhlIHZhbHVlcywgc3BlY2lmaWVkIGFzIGEgdHdvIGRpbWVuc2lvbmFsIGFycmF5LlxcbiAgICAgIElmIG5vdCBzcGVjaWZpZWQsIHRoZSBib3VuZHMgd2lsbCBhdXRvbWF0aWNhbGx5IGJlIHNldCB0byBmaXRcXG4gICAgICB0aGUgcHJvdmlkZWQgdmFsdWVzLlwiKSxcbiAgICBjb2xvcjogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgIGNvbG9yOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgb3BhY2l0eTogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFsnd2VhaycsICdtZWRpdW0nLCAnc3Ryb25nJ10pLCBQcm9wVHlwZXMuYm9vbF0pXG4gICAgfSksIFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICBjb2xvcjogUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgIHZhbHVlOiBQcm9wVHlwZXMubnVtYmVyXG4gICAgfSkpXSkuZGVzY3JpcHRpb24oXCJBIGNvbG9yIGlkZW50aWZpZXIgdG8gdXNlIGZvciB0aGUgZ3JhcGhpYyBjb2xvci4gSWYgYW5cXG4gICAgICBhcnJheSBpcyBzcGVjaWZpZWQsIGl0IGlzIHVzZWQgdG8gY3JlYXRlIGEgZ3JhZGllbnQgbWFzay4gQXJyYXkgb2JqZWN0c1xcbiAgICAgIGluZGljYXRlIHdoYXQgY29sb3IgdG8gc2hvdyBhdCB3aGF0IHZhbHVlLiBJbiB0aGUgc2ltcGxlc3QgY2FzZSwgdGhlXFxuICAgICAgdmFsdWVzIHNob3VsZCBtYXAgdG8gdGhlIFkgYm91bmRzIHZhbHVlcywgcmVzdWx0aW5nIGluIGEgdmVydGljYWxcXG4gICAgICBncmFkaWVudC4gU3BlY2lmeWluZyBtb3JlIG9iamVjdHMgYWxsb3dzIG1vcmUgZmluZSBncmFpbmVkIGNvbnRyb2wgb3ZlclxcbiAgICAgIHdoZXJlIHRoZSBncmFkaWVudCBjb2xvcnMgY2hhbmdlLlwiKS5kZWZhdWx0VmFsdWUoJ2FjY2VudC0xJyksXG4gICAgZ2FwOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2YoWydub25lJywgJ3h4c21hbGwnLCAneHNtYWxsJywgJ3NtYWxsJywgJ21lZGl1bScsICdsYXJnZScsICd4bGFyZ2UnXSksIFByb3BUeXBlcy5zdHJpbmddKS5kZXNjcmlwdGlvbihcIlRoZSBhbW91bnQgb2Ygc3BhY2luZyBiZXR3ZWVuIGRhdGEgcG9pbnRzLiBUaGlzXFxuICAgICAgaXMgb25seSB1c2VkIHdoZW4gdGhlIHNpemUgc3BlY2lmaWVzIHdpZHRoIGFzICdhdXRvJy5cIiksXG4gICAgaWQ6IFByb3BUeXBlcy5zdHJpbmcuZGVzY3JpcHRpb24oXCJBIHVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGUgQ2hhcnQuIFRoaXNcXG4gICAgICBpcyByZXF1aXJlZCBpZiBtb3JlIHRoYW4gb25lIENoYXJ0IGlzIHNob3duIGFuZCB0aGV5IHVzZSBjb2xvclxcbiAgICAgIGdyYWRpZW50cy5cIiksXG4gICAgb25DbGljazogUHJvcFR5cGVzLmZ1bmMuZGVzY3JpcHRpb24oXCJDYWxsZWQgd2hlbiB0aGUgdXNlciBjbGlja3Mgb24gaXQuXFxuICAgICAgVGhpcyBpcyBvbmx5IGF2YWlsYWJsZSB3aGVuIHRoZSB0eXBlIGlzIGxpbmUgb3IgYXJlYS5cIiksXG4gICAgb25Ib3ZlcjogUHJvcFR5cGVzLmZ1bmMuZGVzY3JpcHRpb24oXCJDYWxsZWQgd2l0aCBhIGJvb2xlYW4gYXJndW1lbnRcXG4gICAgICBpbmRpY2F0aW5nIHdoZW4gdGhlIHVzZXIgaG92ZXJzIG9udG8gb3IgYXdheSBmcm9tIGl0LlxcbiAgICAgIFRoaXMgaXMgb25seSBhdmFpbGFibGUgd2hlbiB0aGUgdHlwZSBpcyBsaW5lIG9yIGFyZWEuXCIpLFxuICAgIG92ZXJmbG93OiBQcm9wVHlwZXMuYm9vbC5kZXNjcmlwdGlvbihcIldoZXRoZXIgdGhlIGNoYXJ0IHN0cm9rZXMgc2hvdWxkIG92ZXJmbG93IHRoZSBjb21wb25lbnQuIFNldCB0aGlzXFxuICAgICAgdG8gdHJ1ZSBmb3IgcHJlY2lzZSBwb3NpdGlvbmluZyB3aGVuIHN0YWNraW5nIGNoYXJ0cyBvciBpbmNsdWRpbmdcXG4gICAgICBwcmVjaXNlIGF4ZXMuIFNldCB0aGlzIHRvIGZhbHNlIHRvIGhhdmUgdGhlIGdyYXBoaWNhbCBlbGVtZW50c1xcbiAgICAgIGFsaWduIHdpdGggdGhlIGNvbXBvbmVudCBib3VuZGFyaWVzLlwiKS5kZWZhdWx0VmFsdWUoZmFsc2UpLFxuICAgIHJvdW5kOiBQcm9wVHlwZXMuYm9vbC5kZXNjcmlwdGlvbignV2hldGhlciB0byByb3VuZCB0aGUgbGluZSBlbmRzLicpLmRlZmF1bHRWYWx1ZShmYWxzZSksXG4gICAgc2l6ZTogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFsneHhzbWFsbCcsICd4c21hbGwnLCAnc21hbGwnLCAnbWVkaXVtJywgJ2xhcmdlJywgJ3hsYXJnZScsICdmdWxsJ10pLCBQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgaGVpZ2h0OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2YoWyd4eHNtYWxsJywgJ3hzbWFsbCcsICdzbWFsbCcsICdtZWRpdW0nLCAnbGFyZ2UnLCAneGxhcmdlJywgJ2Z1bGwnXSksIFByb3BUeXBlcy5zdHJpbmddKSxcbiAgICAgIHdpZHRoOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2YoWyd4eHNtYWxsJywgJ3hzbWFsbCcsICdzbWFsbCcsICdtZWRpdW0nLCAnbGFyZ2UnLCAneGxhcmdlJywgJ2Z1bGwnLCAnYXV0byddKSwgUHJvcFR5cGVzLnN0cmluZ10pXG4gICAgfSksIFByb3BUeXBlcy5zdHJpbmddKS5kZXNjcmlwdGlvbignVGhlIHNpemUgb2YgdGhlIENoYXJ0LicpLmRlZmF1bHRWYWx1ZSh7XG4gICAgICB3aWR0aDogJ21lZGl1bScsXG4gICAgICBoZWlnaHQ6ICdzbWFsbCdcbiAgICB9KSxcbiAgICB0aGlja25lc3M6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbJ2hhaXInLCAneHNtYWxsJywgJ3NtYWxsJywgJ21lZGl1bScsICdsYXJnZScsICd4bGFyZ2UnLCAnbm9uZSddKSwgUHJvcFR5cGVzLnN0cmluZ10pLmRlc2NyaXB0aW9uKCdUaGUgd2lkdGggb2YgdGhlIHN0cm9rZS4nKS5kZWZhdWx0VmFsdWUoJ21lZGl1bScpLFxuICAgIHR5cGU6IFByb3BUeXBlcy5vbmVPZihbJ2JhcicsICdsaW5lJywgJ2FyZWEnLCAncG9pbnQnXSkuZGVzY3JpcHRpb24oJ1RoZSB2aXN1YWwgdHlwZSBvZiBjaGFydC4nKS5kZWZhdWx0VmFsdWUoJ2JhcicpLFxuICAgIHZhbHVlczogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm51bWJlciwgUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm51bWJlciksIFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICBsYWJlbDogUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgIC8vIGZvciBhY2Nlc3NpYmlsaXR5IG9mIGJhcnNcbiAgICAgIG9uQ2xpY2s6IFByb3BUeXBlcy5mdW5jLFxuICAgICAgb25Ib3ZlcjogUHJvcFR5cGVzLmZ1bmMsXG4gICAgICB2YWx1ZTogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLCBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMubnVtYmVyKS5pc1JlcXVpcmVkXSkuaXNSZXF1aXJlZFxuICAgIH0pXSkpLmRlc2NyaXB0aW9uKFwiQXJyYXkgb2YgdmFsdWUgb2JqZWN0cyBkZXNjcmliaW5nIHRoZSBkYXRhLlxcbiAgICAgICd2YWx1ZScgaXMgYSB0dXBsZSBpbmRpY2F0aW5nIHRoZSBjb29yZGluYXRlIG9mIHRoZSB2YWx1ZSBvciBhIHRyaXBsZVxcbiAgICAgIGluZGljYXRpbmcgdGhlIHggY29vcmRpbmF0ZSBhbmQgYSByYW5nZSBvZiB0d28geSBjb29yZGluYXRlcy5cXG4gICAgICAnbGFiZWwnIGlzIGEgdGV4dCBzdHJpbmcgZGVzY3JpYmluZyBpdC5cXG4gICAgICAnb25Ib3ZlcicgYW5kICdvbkNsaWNrJyBvbmx5IHdvcmsgd2hlbiB0eXBlPSdiYXInLlwiKS5pc1JlcXVpcmVkXG4gIH0pO1xuICByZXR1cm4gRG9jdW1lbnRlZENoYXJ0O1xufTtcbmV4cG9ydCB2YXIgZG9jQ2FsY3MgPSBmdW5jdGlvbiBkb2NDYWxjcyhjYWxjcykge1xuICB2YXIgRG9jdW1lbnRlZENhbGNzID0gZGVzY3JpYmUoY2FsY3MpLmRlc2NyaXB0aW9uKFwiXFxuICAgICAgQSBmdW5jdGlvbiB0byBoZWxwIGNhbGN1bGF0ZSB2YWx1ZXMgZm9yIGJvdW5kcyBhbmQgYXhpcy4gVXNlIGl0IHZpYTpcXG4gICAgICBjb25zdCBkYXRhID0gY2FsY3MoPG15VmFsdWVzPiwgeyBjb2Fyc2VuZXNzOiA1LCBzdGVwczogWzEsIDFdIH0pO1xcbiAgICAgIHdoZXJlICdkYXRhJyB3aWxsIGNvbnRhaW4gJ2JvdW5kcycgYW5kICdheGlzJyBwcm9wZXJ0aWVzLlxcbiAgICBcIikudXNhZ2UoXCJpbXBvcnQgeyBjYWxjcyB9IGZyb20gJ2dyb21tZXQnO1xcbmNvbnN0IGRhdGEgPSBjYWxjcyg8dmFsdWVzPiwgeyBjb2Fyc2VuZXNzOiA1LCBzdGVwczogWzEsIDFdIH0pO1wiKTtcbiAgcmV0dXJuIERvY3VtZW50ZWRDYWxjcztcbn07XG5leHBvcnQgdmFyIHRoZW1lRG9jID0ge1xuICAnY2hhcnQuY29sb3InOiB7XG4gICAgZGVzY3JpcHRpb246ICdDb2xvciBvZiB0aGUgQ2hhcnQuJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwge2Rhcms6IHN0cmluZywgbGlnaHQ6IHN0cmluZ30nLFxuICAgIGRlZmF1bHRWYWx1ZTogJ2FjY2VudC0xJ1xuICB9LFxuICAnY2hhcnQuZXh0ZW5kJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnQW55IGFkZGl0aW9uYWwgc3R5bGUgZm9yIHRoZSBDaGFydC4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCAocHJvcHMpID0+IHt9JyxcbiAgICBkZWZhdWx0VmFsdWU6IHVuZGVmaW5lZFxuICB9LFxuICAnZ2xvYmFsLmNvbG9ycyc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ0NvbG9yIG9wdGlvbnMuJyxcbiAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICBkZWZhdWx0VmFsdWU6IFwie1xcbiAgICAgIFxcXCJhY2NlbnQtMVxcXCI6IFxcXCIjNkZGRkIwXFxcIixcXG4gICAgICBcXFwiZ3JhcGgtMFxcXCI6IFxcXCJhY2NlbnQtMVxcXCIsXFxuICAgICAgLi4uXFxuICAgIH1cIlxuICB9LFxuICAnZ2xvYmFsLmVkZ2VTaXplJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIHBvc3NpYmxlIHNpemVzIGZvciB0aGUgdGhpY2tuZXNzIGluIHRoZSBDaGFydC4nLFxuICAgIHR5cGU6ICdvYmplY3QnLFxuICAgIGRlZmF1bHRWYWx1ZTogXCJ7XFxuICAgICAgICBub25lOiAnMHB4JyxcXG4gICAgICAgIGhhaXI6ICcxcHgnLFxcbiAgICAgICAgeHhzbWFsbDogJzNweCcsXFxuICAgICAgICB4c21hbGw6ICc2cHgnLFxcbiAgICAgICAgc21hbGw6ICcxMnB4JyxcXG4gICAgICAgIG1lZGl1bTogJzI0cHgnLFxcbiAgICAgICAgbGFyZ2U6ICc0OHB4JyxcXG4gICAgICAgIHhsYXJnZTogJzk2cHgnLFxcbiAgICAgICAgcmVzcG9uc2l2ZUJyZWFrcG9pbnQ6ICdzbWFsbCcsXFxuICAgIH1cIlxuICB9LFxuICAnZ2xvYmFsLm9wYWNpdHknOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgb3BhY2l0eSBvZiB0aGUgQ2hhcnQgc3Ryb2tlLicsXG4gICAgdHlwZTogJ29iamVjdCcsXG4gICAgZGVmYXVsdFZhbHVlOiBcIntcXG4gICAgICBzdHJvbmc6IDAuOCxcXG4gICAgICBtZWRpdW06IDAuNCxcXG4gICAgICB3ZWFrOiAwLjEsXFxuICAgIH1cIlxuICB9LFxuICAnZ2xvYmFsLnNpemUnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgcG9zc2libGUgc2l6ZXMgZm9yIENoYXJ0IHdpZHRoIGFuZCBoZWlnaHQuJyxcbiAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICBkZWZhdWx0VmFsdWU6IFwie1xcbiAgICAgIHh4c21hbGw6ICc0OHB4JyxcXG4gICAgICB4c21hbGw6ICc5NnB4JyxcXG4gICAgICBzbWFsbDogJzE5MnB4JyxcXG4gICAgICBtZWRpdW06ICczODRweCcsXFxuICAgICAgbGFyZ2U6ICc3NjhweCcsXFxuICAgICAgeGxhcmdlOiAnMTE1MnB4JyxcXG4gICAgICB4eGxhcmdlOiAnMTUzNnB4JyxcXG4gICAgICBmdWxsOiAnMTAwJScsXFxuICAgICAgfVwiXG4gIH1cbn07IiwiZXhwb3J0IHsgQ2hhcnQgfSBmcm9tICcuL0NoYXJ0JztcbmV4cG9ydCB7IGNhbGNzIH0gZnJvbSAnLi9jYWxjcyc7IiwiZXhwb3J0IHZhciBub3JtYWxpemVWYWx1ZXMgPSBmdW5jdGlvbiBub3JtYWxpemVWYWx1ZXModmFsdWVzKSB7XG4gIHJldHVybiAodmFsdWVzIHx8IFtdKS5tYXAoZnVuY3Rpb24gKHZhbHVlLCBpbmRleCkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICB9O1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB2YWx1ZTogW2luZGV4LCB2YWx1ZV1cbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlO1xuICB9KTtcbn07XG5leHBvcnQgdmFyIG5vcm1hbGl6ZUJvdW5kcyA9IGZ1bmN0aW9uIG5vcm1hbGl6ZUJvdW5kcyhib3VuZHMsIHZhbHVlcykge1xuICB2YXIgcmVzdWx0ID0gYm91bmRzO1xuXG4gIGlmICghcmVzdWx0KSB7XG4gICAgcmVzdWx0ID0gW1swLCAxXSwgWzAsIDFdXTtcbiAgICAodmFsdWVzIHx8IFtdKS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgcmVzdWx0WzBdWzBdID0gTWF0aC5taW4ocmVzdWx0WzBdWzBdLCB2YWx1ZS52YWx1ZVswXSk7XG4gICAgICByZXN1bHRbMF1bMV0gPSBNYXRoLm1heChyZXN1bHRbMF1bMV0sIHZhbHVlLnZhbHVlWzBdKTtcbiAgICAgIHJlc3VsdFsxXVswXSA9IE1hdGgubWluKHJlc3VsdFsxXVswXSwgdmFsdWUudmFsdWVbMV0pO1xuICAgICAgcmVzdWx0WzFdWzFdID0gTWF0aC5tYXgocmVzdWx0WzFdWzFdLCB2YWx1ZS52YWx1ZVsxXSk7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufTtcbmV4cG9ydCB2YXIgYXJlTm9ybWFsaXplZFZhbHVlc0VxdWFscyA9IGZ1bmN0aW9uIGFyZU5vcm1hbGl6ZWRWYWx1ZXNFcXVhbHModmFsdWVzWCwgdmFsdWVzWSkge1xuICBpZiAoIXZhbHVlc1ggfHwgIXZhbHVlc1kpIHJldHVybiBmYWxzZTtcbiAgaWYgKHZhbHVlc1gubGVuZ3RoICE9PSB2YWx1ZXNZLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICBpZiAodmFsdWVzWC5sZW5ndGggPT09IDApIHJldHVybiB0cnVlO1xuICBpZiAoIXZhbHVlc1hbMF0udmFsdWUgfHwgIXZhbHVlc1lbMF0udmFsdWUpIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuIHZhbHVlc1guZXZlcnkoZnVuY3Rpb24gKF8sIGkpIHtcbiAgICByZXR1cm4gdmFsdWVzWFtpXS52YWx1ZS5ldmVyeShmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IHZhbHVlc1lbaV0udmFsdWVbaW5kZXhdO1xuICAgIH0pO1xuICB9KTtcbn07XG5leHBvcnQgdmFyIGFyZU5vcm1hbGl6ZWRCb3VuZHNFcXVhbHMgPSBmdW5jdGlvbiBhcmVOb3JtYWxpemVkQm91bmRzRXF1YWxzKGJvdW5kc1gsIGJvdW5kc1kpIHtcbiAgaWYgKCFib3VuZHNYIHx8ICFib3VuZHNZKSByZXR1cm4gZmFsc2U7XG4gIGlmIChib3VuZHNYLmxlbmd0aCAhPT0gYm91bmRzWS5sZW5ndGggfHwgIShib3VuZHNYLmxlbmd0aCA+IDApKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiBib3VuZHNYLmV2ZXJ5KGZ1bmN0aW9uIChfLCBpKSB7XG4gICAgcmV0dXJuIGJvdW5kc1hbaV0uZXZlcnkoZnVuY3Rpb24gKHZhbHVlLCBpbmRleCkge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSBib3VuZHNZW2ldW2luZGV4XTtcbiAgICB9KTtcbiAgfSk7XG59OyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbXBvc2UgfSBmcm9tICdyZWNvbXBvc2UnO1xuaW1wb3J0IHsgd2l0aFRoZW1lIH0gZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgcmVtb3ZlVW5kZWZpbmVkIH0gZnJvbSAnLi4vLi4vdXRpbHMvb2JqZWN0JztcbmltcG9ydCB7IGRlZmF1bHRQcm9wcyB9IGZyb20gJy4uLy4uL2RlZmF1bHQtcHJvcHMnO1xuaW1wb3J0IHsgQm94IH0gZnJvbSAnLi4vQm94JztcbmltcG9ydCB7IHdpdGhGb2N1cywgd2l0aEZvcndhcmRSZWYgfSBmcm9tICcuLi9ob2NzJztcbmltcG9ydCB7IFN0eWxlZENoZWNrQm94LCBTdHlsZWRDaGVja0JveEJveCwgU3R5bGVkQ2hlY2tCb3hJY29uLCBTdHlsZWRDaGVja0JveENvbnRhaW5lciwgU3R5bGVkQ2hlY2tCb3hJbnB1dCwgU3R5bGVkQ2hlY2tCb3hUb2dnbGUsIFN0eWxlZENoZWNrQm94S25vYiB9IGZyb20gJy4vU3R5bGVkQ2hlY2tCb3gnO1xuaW1wb3J0IHsgbm9ybWFsaXplQ29sb3IgfSBmcm9tICcuLi8uLi91dGlscyc7XG5cbnZhciBzdG9wTGFiZWxDbGljayA9IGZ1bmN0aW9uIHN0b3BMYWJlbENsaWNrKGV2ZW50KSB7XG4gIC8vIHByZXZlbnRzIGNsaWNraW5nIG9uIHRoZSBsYWJlbCB0cmlnZ2luZyB0aGUgZXZlbnQgdHdpY2VcbiAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMjQ1MDE0OTcvd2h5LXRoZS1vbmNsaWNrLWVsZW1lbnQtd2lsbC10cmlnZ2VyLXR3aWNlLWZvci1sYWJlbC1lbGVtZW50XG4gIGlmIChldmVudC50YXJnZXQudHlwZSAhPT0gJ2NoZWNrYm94Jykge1xuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICB9XG59O1xuXG52YXIgQ2hlY2tCb3ggPSBmdW5jdGlvbiBDaGVja0JveChfcmVmKSB7XG4gIHZhciBfcmVmMjtcblxuICB2YXIgY2hlY2tlZCA9IF9yZWYuY2hlY2tlZCxcbiAgICAgIGRpc2FibGVkID0gX3JlZi5kaXNhYmxlZCxcbiAgICAgIGZvY3VzID0gX3JlZi5mb2N1cyxcbiAgICAgIGZvcndhcmRSZWYgPSBfcmVmLmZvcndhcmRSZWYsXG4gICAgICBpZCA9IF9yZWYuaWQsXG4gICAgICBsYWJlbCA9IF9yZWYubGFiZWwsXG4gICAgICBuYW1lID0gX3JlZi5uYW1lLFxuICAgICAgb25DaGFuZ2UgPSBfcmVmLm9uQ2hhbmdlLFxuICAgICAgcmV2ZXJzZSA9IF9yZWYucmV2ZXJzZSxcbiAgICAgIHRoZW1lID0gX3JlZi50aGVtZSxcbiAgICAgIHRvZ2dsZSA9IF9yZWYudG9nZ2xlLFxuICAgICAgaW5kZXRlcm1pbmF0ZSA9IF9yZWYuaW5kZXRlcm1pbmF0ZSxcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfcmVmLCBbXCJjaGVja2VkXCIsIFwiZGlzYWJsZWRcIiwgXCJmb2N1c1wiLCBcImZvcndhcmRSZWZcIiwgXCJpZFwiLCBcImxhYmVsXCIsIFwibmFtZVwiLCBcIm9uQ2hhbmdlXCIsIFwicmV2ZXJzZVwiLCBcInRoZW1lXCIsIFwidG9nZ2xlXCIsIFwiaW5kZXRlcm1pbmF0ZVwiXSk7XG5cbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoY2hlY2tlZCAmJiBpbmRldGVybWluYXRlKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ0NoZWNrYm94IGNhbm5vdCBiZSBcImNoZWNrZWRcIiBhbmQgXCJpbmRldGVybWluYXRlXCIgYXQgdGhlIHNhbWUgdGltZS4nKTtcbiAgICB9XG5cbiAgICBpZiAodG9nZ2xlICYmIGluZGV0ZXJtaW5hdGUpIHtcbiAgICAgIGNvbnNvbGUud2FybignQ2hlY2tib3ggb2YgdHlwZSB0b2dnbGUgZG9lcyBub3QgaGF2ZSBcImluZGV0ZXJtaW5hdGVcIiBzdGF0ZS4nKTtcbiAgICB9XG4gIH0sIFtjaGVja2VkLCB0b2dnbGUsIGluZGV0ZXJtaW5hdGVdKTtcbiAgdmFyIHRoZW1lYWJsZVByb3BzID0ge1xuICAgIGNoZWNrZWQ6IGNoZWNrZWQsXG4gICAgZGlzYWJsZWQ6IGRpc2FibGVkLFxuICAgIGZvY3VzOiBmb2N1cyxcbiAgICByZXZlcnNlOiByZXZlcnNlLFxuICAgIHRvZ2dsZTogdG9nZ2xlLFxuICAgIGluZGV0ZXJtaW5hdGU6IGluZGV0ZXJtaW5hdGVcbiAgfTtcbiAgdmFyIGhpZGRlbjtcblxuICBpZiAoZGlzYWJsZWQgJiYgY2hlY2tlZCkge1xuICAgIGhpZGRlbiA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCB7XG4gICAgICBuYW1lOiBuYW1lLFxuICAgICAgdHlwZTogXCJoaWRkZW5cIixcbiAgICAgIHZhbHVlOiBcInRydWVcIlxuICAgIH0pO1xuICB9XG5cbiAgdmFyIF90aGVtZSRjaGVja0JveCRpY29ucyA9IHRoZW1lLmNoZWNrQm94Lmljb25zLFxuICAgICAgQ2hlY2tlZEljb24gPSBfdGhlbWUkY2hlY2tCb3gkaWNvbnMuY2hlY2tlZCxcbiAgICAgIEluZGV0ZXJtaW5hdGVJY29uID0gX3RoZW1lJGNoZWNrQm94JGljb25zLmluZGV0ZXJtaW5hdGU7XG4gIHZhciBib3JkZXJDb2xvciA9IG5vcm1hbGl6ZUNvbG9yKHRoZW1lLmNoZWNrQm94LmJvcmRlci5jb2xvciwgdGhlbWUpO1xuXG4gIGlmIChjaGVja2VkKSB7XG4gICAgYm9yZGVyQ29sb3IgPSBub3JtYWxpemVDb2xvcih0aGVtZS5jaGVja0JveC5jb2xvciB8fCAnY29udHJvbCcsIHRoZW1lKTtcbiAgfVxuXG4gIHZhciB2aXN1YWwgPSB0b2dnbGUgPyBSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZENoZWNrQm94VG9nZ2xlLCB0aGVtZWFibGVQcm9wcywgUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWRDaGVja0JveEtub2IsIHRoZW1lYWJsZVByb3BzKSkgOiBSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZENoZWNrQm94Qm94LCBfZXh0ZW5kcyh7XG4gICAgYXM6IEJveCxcbiAgICBhbGlnbjogXCJjZW50ZXJcIixcbiAgICBqdXN0aWZ5OiBcImNlbnRlclwiLFxuICAgIHdpZHRoOiB0aGVtZS5jaGVja0JveC5zaXplLFxuICAgIGhlaWdodDogdGhlbWUuY2hlY2tCb3guc2l6ZSxcbiAgICBib3JkZXI6IHtcbiAgICAgIHNpemU6IHRoZW1lLmNoZWNrQm94LmJvcmRlci53aWR0aCxcbiAgICAgIGNvbG9yOiBib3JkZXJDb2xvclxuICAgIH0sXG4gICAgcm91bmQ6IHRoZW1lLmNoZWNrQm94LmNoZWNrLnJhZGl1c1xuICB9LCB0aGVtZWFibGVQcm9wcyksICFpbmRldGVybWluYXRlICYmIGNoZWNrZWQgJiYgKENoZWNrZWRJY29uID8gUmVhY3QuY3JlYXRlRWxlbWVudChDaGVja2VkSWNvbiwge1xuICAgIHRoZW1lOiB0aGVtZSxcbiAgICBhczogU3R5bGVkQ2hlY2tCb3hJY29uXG4gIH0pIDogUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWRDaGVja0JveEljb24sIF9leHRlbmRzKHtcbiAgICB0aGVtZTogdGhlbWUsXG4gICAgdmlld0JveDogXCIwIDAgMjQgMjRcIixcbiAgICBwcmVzZXJ2ZUFzcGVjdFJhdGlvOiBcInhNaWRZTWlkIG1lZXRcIlxuICB9LCB0aGVtZWFibGVQcm9wcyksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBmaWxsOiBcIm5vbmVcIixcbiAgICBkOiBcIk02LDExLjMgTDEwLjMsMTYgTDE4LDYuMlwiXG4gIH0pKSksICFjaGVja2VkICYmIGluZGV0ZXJtaW5hdGUgJiYgKEluZGV0ZXJtaW5hdGVJY29uID8gUmVhY3QuY3JlYXRlRWxlbWVudChJbmRldGVybWluYXRlSWNvbiwge1xuICAgIHRoZW1lOiB0aGVtZSxcbiAgICBhczogU3R5bGVkQ2hlY2tCb3hJY29uXG4gIH0pIDogUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWRDaGVja0JveEljb24sIF9leHRlbmRzKHtcbiAgICB0aGVtZTogdGhlbWUsXG4gICAgdmlld0JveDogXCIwIDAgMjQgMjRcIixcbiAgICBwcmVzZXJ2ZUFzcGVjdFJhdGlvOiBcInhNaWRZTWlkIG1lZXRcIlxuICB9LCB0aGVtZWFibGVQcm9wcyksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBmaWxsOiBcIm5vbmVcIixcbiAgICBkOiBcIk02LDEyIEwxOCwxMlwiXG4gIH0pKSkpO1xuICB2YXIgc2lkZSA9IHJldmVyc2UgPyAnbGVmdCcgOiAncmlnaHQnO1xuICB2YXIgY2hlY2tCb3hOb2RlID0gUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWRDaGVja0JveCwgX2V4dGVuZHMoe1xuICAgIGFzOiBCb3gsXG4gICAgYWxpZ246IFwiY2VudGVyXCIsXG4gICAganVzdGlmeTogXCJjZW50ZXJcIixcbiAgICBtYXJnaW46IGxhYmVsICYmIChfcmVmMiA9IHt9LCBfcmVmMltzaWRlXSA9IHRoZW1lLmNoZWNrQm94LmdhcCB8fCAnc21hbGwnLCBfcmVmMilcbiAgfSwgdGhlbWVhYmxlUHJvcHMpLCBSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZENoZWNrQm94SW5wdXQsIF9leHRlbmRzKHt9LCByZXN0LCB7XG4gICAgcmVmOiBmb3J3YXJkUmVmLFxuICAgIHR5cGU6IFwiY2hlY2tib3hcIlxuICB9LCByZW1vdmVVbmRlZmluZWQoe1xuICAgIGlkOiBpZCxcbiAgICBuYW1lOiBuYW1lLFxuICAgIGNoZWNrZWQ6IGNoZWNrZWQsXG4gICAgZGlzYWJsZWQ6IGRpc2FibGVkLFxuICAgIG9uQ2hhbmdlOiBvbkNoYW5nZVxuICB9KSwgdGhlbWVhYmxlUHJvcHMpKSwgdmlzdWFsLCBoaWRkZW4pO1xuICB2YXIgbm9ybWFsaXplZExhYmVsID0gdHlwZW9mIGxhYmVsID09PSAnc3RyaW5nJyA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIG51bGwsIGxhYmVsKSA6IGxhYmVsO1xuICB2YXIgZmlyc3QgPSByZXZlcnNlID8gbm9ybWFsaXplZExhYmVsIDogY2hlY2tCb3hOb2RlO1xuICB2YXIgc2Vjb25kID0gcmV2ZXJzZSA/IGNoZWNrQm94Tm9kZSA6IG5vcm1hbGl6ZWRMYWJlbDtcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkQ2hlY2tCb3hDb250YWluZXIsIF9leHRlbmRzKHtcbiAgICByZXZlcnNlOiByZXZlcnNlXG4gIH0sIHJlbW92ZVVuZGVmaW5lZCh7XG4gICAgaHRtbEZvcjogaWQsXG4gICAgZGlzYWJsZWQ6IGRpc2FibGVkXG4gIH0pLCB7XG4gICAgY2hlY2tlZDogY2hlY2tlZCxcbiAgICBvbkNsaWNrOiBzdG9wTGFiZWxDbGlja1xuICB9LCB0aGVtZWFibGVQcm9wcyksIGZpcnN0LCBzZWNvbmQpO1xufTtcblxuQ2hlY2tCb3guZGVmYXVsdFByb3BzID0ge307XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoQ2hlY2tCb3guZGVmYXVsdFByb3BzLCBkZWZhdWx0UHJvcHMpO1xudmFyIENoZWNrQm94RG9jO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZ2xvYmFsLXJlcXVpcmVcbiAgQ2hlY2tCb3hEb2MgPSByZXF1aXJlKCcuL2RvYycpLmRvYyhDaGVja0JveCk7XG59XG5cbnZhciBDaGVja0JveFdyYXBwZXIgPSBjb21wb3NlKHdpdGhGb2N1cygpLCB3aXRoVGhlbWUsIHdpdGhGb3J3YXJkUmVmKShDaGVja0JveERvYyB8fCBDaGVja0JveCk7XG5leHBvcnQgeyBDaGVja0JveFdyYXBwZXIgYXMgQ2hlY2tCb3ggfTsiLCJpbXBvcnQgc3R5bGVkLCB7IGNzcyB9IGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCB7IGZvY3VzU3R5bGUsIG5vcm1hbGl6ZUNvbG9yIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuaW1wb3J0IHsgZGVmYXVsdFByb3BzIH0gZnJvbSAnLi4vLi4vZGVmYXVsdC1wcm9wcyc7XG52YXIgZGlzYWJsZWRTdHlsZSA9IFwiXFxuICBvcGFjaXR5OiAwLjU7XFxuICBjdXJzb3I6IGRlZmF1bHQ7XFxuXCI7XG52YXIgaG92ZXJTdHlsZSA9IGNzcyhbXCI6aG92ZXIgaW5wdXQ6bm90KFtkaXNhYmxlZF0pICsgZGl2LDpob3ZlciBpbnB1dDpub3QoW2Rpc2FibGVkXSkgKyBzcGFue2JvcmRlci1jb2xvcjpcIiwgXCI7fVwiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBub3JtYWxpemVDb2xvcihwcm9wcy50aGVtZS5jaGVja0JveC5ob3Zlci5ib3JkZXIuY29sb3IsIHByb3BzLnRoZW1lKTtcbn0pO1xudmFyIFN0eWxlZENoZWNrQm94SWNvbiA9IHN0eWxlZC5zdmcud2l0aENvbmZpZyh7XG4gIGRpc3BsYXlOYW1lOiBcIlN0eWxlZENoZWNrQm94X19TdHlsZWRDaGVja0JveEljb25cIixcbiAgY29tcG9uZW50SWQ6IFwic2MtMWRiazVqdS0wXCJcbn0pKFtcImJveC1zaXppbmc6Ym9yZGVyLWJveDtzdHJva2Utd2lkdGg6XCIsIFwiO3N0cm9rZTpcIiwgXCI7d2lkdGg6XCIsIFwiO2hlaWdodDpcIiwgXCI7XCIsIFwiO1wiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5jaGVja0JveC5jaGVjay50aGlja25lc3M7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIG5vcm1hbGl6ZUNvbG9yKHByb3BzLnRoZW1lLmNoZWNrQm94LmNvbG9yIHx8ICdjb250cm9sJywgcHJvcHMudGhlbWUpO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5jaGVja0JveC5pY29uLnNpemUgfHwgcHJvcHMudGhlbWUuY2hlY2tCb3guc2l6ZTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUuY2hlY2tCb3guaWNvbi5zaXplIHx8IHByb3BzLnRoZW1lLmNoZWNrQm94LnNpemU7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLmNoZWNrQm94Lmljb24uZXh0ZW5kO1xufSk7XG5TdHlsZWRDaGVja0JveEljb24uZGVmYXVsdFByb3BzID0ge307XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoU3R5bGVkQ2hlY2tCb3hJY29uLmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbnZhciBTdHlsZWRDaGVja0JveENvbnRhaW5lciA9IHN0eWxlZC5sYWJlbC53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiU3R5bGVkQ2hlY2tCb3hfX1N0eWxlZENoZWNrQm94Q29udGFpbmVyXCIsXG4gIGNvbXBvbmVudElkOiBcInNjLTFkYms1anUtMVwiXG59KShbXCJkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246cm93O2FsaWduLWl0ZW1zOmNlbnRlcjt1c2VyLXNlbGVjdDpub25lO1wiLCBcIiBcIiwgXCIgXCIsIFwiIFwiLCBcIlwiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5kaXNhYmxlZCAmJiBkaXNhYmxlZFN0eWxlO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiAhcHJvcHMuZGlzYWJsZWQgJiYgJ2N1cnNvcjogcG9pbnRlcjsnO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5jaGVja0JveC5ob3Zlci5ib3JkZXIuY29sb3IgJiYgaG92ZXJTdHlsZTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUuY2hlY2tCb3guZXh0ZW5kO1xufSk7XG5TdHlsZWRDaGVja0JveENvbnRhaW5lci5kZWZhdWx0UHJvcHMgPSB7fTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihTdHlsZWRDaGVja0JveENvbnRhaW5lci5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG52YXIgU3R5bGVkQ2hlY2tCb3hJbnB1dCA9IHN0eWxlZC5pbnB1dC53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiU3R5bGVkQ2hlY2tCb3hfX1N0eWxlZENoZWNrQm94SW5wdXRcIixcbiAgY29tcG9uZW50SWQ6IFwic2MtMWRiazVqdS0yXCJcbn0pKFtcIm9wYWNpdHk6MDstbW96LWFwcGVhcmFuY2U6bm9uZTt3aWR0aDowO2hlaWdodDowO21hcmdpbjowO1wiLCBcIjpjaGVja2VkICsgc3BhbiA+IHNwYW57bGVmdDpjYWxjKCBcIiwgXCIgLSBcIiwgXCIgKTtiYWNrZ3JvdW5kOlwiLCBcIjt9XCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuICFwcm9wcy5kaXNhYmxlZCAmJiAnY3Vyc29yOiBwb2ludGVyOyc7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLmNoZWNrQm94LnRvZ2dsZS5zaXplO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5jaGVja0JveC5zaXplO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBub3JtYWxpemVDb2xvcihwcm9wcy50aGVtZS5jaGVja0JveC5jb2xvciB8fCAnY29udHJvbCcsIHByb3BzLnRoZW1lKTtcbn0pO1xuU3R5bGVkQ2hlY2tCb3hJbnB1dC5kZWZhdWx0UHJvcHMgPSB7fTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihTdHlsZWRDaGVja0JveElucHV0LmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbnZhciBTdHlsZWRDaGVja0JveEJveCA9IHN0eWxlZC5kaXYud2l0aENvbmZpZyh7XG4gIGRpc3BsYXlOYW1lOiBcIlN0eWxlZENoZWNrQm94X19TdHlsZWRDaGVja0JveEJveFwiLFxuICBjb21wb25lbnRJZDogXCJzYy0xZGJrNWp1LTNcIlxufSkoW1wiXCIsIFwiO1wiLCBcIjtcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuZm9jdXMgJiYgZm9jdXNTdHlsZTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUuY2hlY2tCb3guY2hlY2suZXh0ZW5kO1xufSk7XG5TdHlsZWRDaGVja0JveEJveC5kZWZhdWx0UHJvcHMgPSB7fTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihTdHlsZWRDaGVja0JveEJveC5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG52YXIgU3R5bGVkQ2hlY2tCb3hUb2dnbGUgPSBzdHlsZWQuc3Bhbi53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiU3R5bGVkQ2hlY2tCb3hfX1N0eWxlZENoZWNrQm94VG9nZ2xlXCIsXG4gIGNvbXBvbmVudElkOiBcInNjLTFkYms1anUtNFwiXG59KShbXCJib3gtc2l6aW5nOmJvcmRlci1ib3g7dmVydGljYWwtYWxpZ246bWlkZGxlO2Rpc3BsYXk6aW5saW5lLWJsb2NrO3dpZHRoOlwiLCBcIjtoZWlnaHQ6XCIsIFwiO2JvcmRlcjpcIiwgXCIgc29saWQ7Ym9yZGVyLWNvbG9yOlwiLCBcIjtib3JkZXItcmFkaXVzOlwiLCBcIjtiYWNrZ3JvdW5kLWNvbG9yOlwiLCBcIjtcIiwgXCI7XCIsIFwiO1wiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5jaGVja0JveC50b2dnbGUuc2l6ZTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUuY2hlY2tCb3guc2l6ZTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUuY2hlY2tCb3guYm9yZGVyLndpZHRoO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBub3JtYWxpemVDb2xvcihwcm9wcy50aGVtZS5jaGVja0JveC5ib3JkZXIuY29sb3IsIHByb3BzLnRoZW1lKTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUuY2hlY2tCb3gudG9nZ2xlLnJhZGl1cztcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUuY2hlY2tCb3gudG9nZ2xlLmJhY2tncm91bmQgPyBub3JtYWxpemVDb2xvcihwcm9wcy50aGVtZS5jaGVja0JveC50b2dnbGUuYmFja2dyb3VuZCwgcHJvcHMudGhlbWUpIDogJ3RyYW5zcGFyZW50Jztcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuZm9jdXMgJiYgZm9jdXNTdHlsZTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUuY2hlY2tCb3gudG9nZ2xlLmV4dGVuZDtcbn0pO1xuU3R5bGVkQ2hlY2tCb3hUb2dnbGUuZGVmYXVsdFByb3BzID0ge307XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoU3R5bGVkQ2hlY2tCb3hUb2dnbGUuZGVmYXVsdFByb3BzLCBkZWZhdWx0UHJvcHMpO1xudmFyIFN0eWxlZENoZWNrQm94S25vYiA9IHN0eWxlZC5zcGFuLndpdGhDb25maWcoe1xuICBkaXNwbGF5TmFtZTogXCJTdHlsZWRDaGVja0JveF9fU3R5bGVkQ2hlY2tCb3hLbm9iXCIsXG4gIGNvbXBvbmVudElkOiBcInNjLTFkYms1anUtNVwiXG59KShbXCJib3gtc2l6aW5nOmJvcmRlci1ib3g7cG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTppbmhlcml0O3RvcDotXCIsIFwiO2xlZnQ6LVwiLCBcIjt0cmFuc2l0aW9uOmFsbCAwLjNzO3dpZHRoOlwiLCBcIjtoZWlnaHQ6XCIsIFwiO2JhY2tncm91bmQ6XCIsIFwiO2JvcmRlci1yYWRpdXM6XCIsIFwiO1wiLCBcIjtcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUuY2hlY2tCb3guYm9yZGVyLndpZHRoO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5jaGVja0JveC5ib3JkZXIud2lkdGg7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLmNoZWNrQm94LnNpemU7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLmNoZWNrQm94LnNpemU7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIG5vcm1hbGl6ZUNvbG9yKHByb3BzLnRoZW1lLmNoZWNrQm94LnRvZ2dsZS5jb2xvcltwcm9wcy50aGVtZS5kYXJrID8gJ2RhcmsnIDogJ2xpZ2h0J10sIHByb3BzLnRoZW1lKTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUuY2hlY2tCb3gudG9nZ2xlLnJhZGl1cztcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUuY2hlY2tCb3gudG9nZ2xlLmtub2IuZXh0ZW5kO1xufSk7XG5TdHlsZWRDaGVja0JveEtub2IuZGVmYXVsdFByb3BzID0ge307XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoU3R5bGVkQ2hlY2tCb3hLbm9iLmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbnZhciBTdHlsZWRDaGVja0JveCA9IHN0eWxlZC5kaXYud2l0aENvbmZpZyh7XG4gIGRpc3BsYXlOYW1lOiBcIlN0eWxlZENoZWNrQm94XCIsXG4gIGNvbXBvbmVudElkOiBcInNjLTFkYms1anUtNlwiXG59KShbXCJmbGV4LXNocmluazowO1wiXSk7XG5TdHlsZWRDaGVja0JveC5kZWZhdWx0UHJvcHMgPSB7fTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihTdHlsZWRDaGVja0JveC5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG5leHBvcnQgeyBTdHlsZWRDaGVja0JveEljb24sIFN0eWxlZENoZWNrQm94Q29udGFpbmVyLCBTdHlsZWRDaGVja0JveElucHV0LCBTdHlsZWRDaGVja0JveEJveCwgU3R5bGVkQ2hlY2tCb3hUb2dnbGUsIFN0eWxlZENoZWNrQm94S25vYiwgU3R5bGVkQ2hlY2tCb3ggfTsiLCJpbXBvcnQgeyBkZXNjcmliZSwgUHJvcFR5cGVzIH0gZnJvbSAncmVhY3QtZGVzYyc7XG5pbXBvcnQgeyBnZXRBdmFpbGFibGVBdEJhZGdlIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuZXhwb3J0IHZhciBkb2MgPSBmdW5jdGlvbiBkb2MoQ2hlY2tCb3gpIHtcbiAgdmFyIERvY3VtZW50ZWRDaGVja0JveCA9IGRlc2NyaWJlKENoZWNrQm94KS5hdmFpbGFibGVBdChnZXRBdmFpbGFibGVBdEJhZGdlKCdDaGVja0JveCcpKS5kZXNjcmlwdGlvbignQSBjaGVja2JveCB0b2dnbGUgY29udHJvbC4nKS51c2FnZShcImltcG9ydCB7IENoZWNrQm94IH0gZnJvbSAnZ3JvbW1ldCc7XFxuPENoZWNrQm94IC8+XCIpLmludHJpbnNpY0VsZW1lbnQoJ2lucHV0Jyk7XG4gIERvY3VtZW50ZWRDaGVja0JveC5wcm9wVHlwZXMgPSB7XG4gICAgY2hlY2tlZDogUHJvcFR5cGVzLmJvb2wuZGVzY3JpcHRpb24oJ1NhbWUgYXMgUmVhY3QgPGlucHV0IGNoZWNrZWQ9e30gLz4nKS5kZWZhdWx0VmFsdWUoZmFsc2UpLFxuICAgIGRpc2FibGVkOiBQcm9wVHlwZXMuYm9vbC5kZXNjcmlwdGlvbihcIlNhbWUgYXMgUmVhY3QgPGlucHV0IGRpc2FibGVkPXt9IC8+LiBBbHNvIGFkZHMgYSBoaWRkZW4gaW5wdXQgZWxlbWVudFxcbiAgICAgIHdpdGggdGhlIHNhbWUgbmFtZSBzbyBmb3JtIHN1Ym1pc3Npb25zIHdvcmsuXCIpLmRlZmF1bHRWYWx1ZShmYWxzZSksXG4gICAgaWQ6IFByb3BUeXBlcy5zdHJpbmcuZGVzY3JpcHRpb24oJ1RoZSBET00gaWQgYXR0cmlidXRlIHZhbHVlIHRvIHVzZSBmb3IgdGhlIHVuZGVybHlpbmcgPGlucHV0Lz4gZWxlbWVudC4nKSxcbiAgICBsYWJlbDogUHJvcFR5cGVzLm5vZGUuZGVzY3JpcHRpb24oJ0xhYmVsIHRleHQgdG8gcGxhY2UgbmV4dCB0byB0aGUgY29udHJvbC4nKSxcbiAgICBuYW1lOiBQcm9wVHlwZXMuc3RyaW5nLmRlc2NyaXB0aW9uKFwiVGhlIERPTSBuYW1lIGF0dHJpYnV0ZSB2YWx1ZSB0byB1c2UgZm9yIHRoZSB1bmRlcmx5aW5nIDxpbnB1dC8+IFxcbiAgICAgIGVsZW1lbnQuXCIpLFxuICAgIG9uQ2hhbmdlOiBQcm9wVHlwZXMuZnVuYy5kZXNjcmlwdGlvbihcIkZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgdXNlciBjbGlja3MgdGhlIGNoZWNrIGJveC4gSXRcXG4gICAgICB3aWxsIGJlIHBhc3NlZCBhIFJlYWN0IGV2ZW50IG9iamVjdC4gVGhlIGN1cnJlbnQgc3RhdGUgY2FuIGJlIGFjY2Vzc2VkXFxuICAgICAgdmlhIGV2ZW50LnRhcmdldC5jaGVja2VkLiBTYW1lIGFzIFJlYWN0IDxpbnB1dCBvbkNoYW5nZT17fSAvPi5cIiksXG4gICAgcmV2ZXJzZTogUHJvcFR5cGVzLmJvb2wuZGVzY3JpcHRpb24oJ1doZXRoZXIgdG8gc2hvdyB0aGUgbGFiZWwgaW4gZnJvbnQgb2YgdGhlIGNoZWNrYm94LicpLmRlZmF1bHRWYWx1ZShmYWxzZSksXG4gICAgdG9nZ2xlOiBQcm9wVHlwZXMuYm9vbC5kZXNjcmlwdGlvbignV2hldGhlciB0byB2aXN1YWxpemUgaXQgYXMgYSB0b2dnbGUgc3dpdGNoLicpLmRlZmF1bHRWYWx1ZShmYWxzZSksXG4gICAgaW5kZXRlcm1pbmF0ZTogUHJvcFR5cGVzLmJvb2wuZGVzY3JpcHRpb24oXCJXaGV0aGVyIHN0YXRlIGlzIGluZGV0ZXJtaW5hdGUuXFxuTk9URTogVGhpcyBjYW4gb25seSBiZSB1c2VkIHdpdGggbm9uLXRvZ2dsZSBjb21wb25lbnRzXCIpLmRlZmF1bHRWYWx1ZShmYWxzZSlcbiAgfTtcbiAgcmV0dXJuIERvY3VtZW50ZWRDaGVja0JveDtcbn07XG5leHBvcnQgdmFyIHRoZW1lRG9jID0ge1xuICAnY2hlY2tCb3guYm9yZGVyLmNvbG9yJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGJvcmRlciBjb2xvciB3aGVuIHVuY2hlY2tlZC4nLFxuICAgIHR5cGU6IFwic3RyaW5nIHwgeyAnZGFyayc6IHN0cmluZywgJ2xpZ2h0Jzogc3RyaW5nIH1cIixcbiAgICBkZWZhdWx0VmFsdWU6IFwieyBkYXJrOiAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjUpJywgbGlnaHQ6ICdyZ2JhKDAsIDAsIDAsIDAuMTUpJyB9XCJcbiAgfSxcbiAgJ2NoZWNrQm94LmJvcmRlci53aWR0aCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBib3JkZXIgd2lkdGggd2hlbiB1bmNoZWNrZWQuJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICcycHgnXG4gIH0sXG4gICdjaGVja0JveC5jaGVjay5leHRlbmQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdBbnkgYWRkaXRpb25hbCBzdHlsZSBmb3IgY2hlY2tlZCBDaGVja0JveC4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCAocHJvcHMpID0+IHt9JyxcbiAgICBkZWZhdWx0VmFsdWU6IHVuZGVmaW5lZFxuICB9LFxuICAnY2hlY2tCb3guY2hlY2sucmFkaXVzJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIHJhZGl1cyBvZiB0aGUgY2hlY2tlZCBpY29uLicsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiAnNHB4J1xuICB9LFxuICAnY2hlY2tCb3guY2hlY2sudGhpY2tuZXNzJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIHN0cm9rZSB3aWR0aCBvZiB0aGUgY2hlY2tlZCBpY29uLicsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiAnNHB4J1xuICB9LFxuICAnY2hlY2tCb3guY29sb3InOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgc3Ryb2tlIGNvbG9yIGZvciB0aGUgQ2hlY2tCb3ggaWNvbiwgYW5kIHRoZSBib3JkZXIgd2hlbiBjaGVja2VkLicsXG4gICAgdHlwZTogXCJzdHJpbmcgfCB7ICdkYXJrJzogc3RyaW5nLCAnbGlnaHQnOiBzdHJpbmcgfVwiLFxuICAgIGRlZmF1bHRWYWx1ZTogdW5kZWZpbmVkXG4gIH0sXG4gICdjaGVja0JveC5leHRlbmQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdBbnkgYWRkaXRpb25hbCBzdHlsZSBmb3IgQ2hlY2tCb3guJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgKHByb3BzKSA9PiB7fScsXG4gICAgZGVmYXVsdFZhbHVlOiB1bmRlZmluZWRcbiAgfSxcbiAgJ2NoZWNrQm94LmdhcCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSByaWdodCBtYXJnaW4gb2YgdGhlIENoZWNrQm94IHRvIGl0cyBsYWJlbC4nLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogdW5kZWZpbmVkXG4gIH0sXG4gICdjaGVja0JveC5ob3Zlci5ib3JkZXIuY29sb3InOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgYm9yZGVyIGNvbG9yIG9uIGhvdmVyLicsXG4gICAgdHlwZTogXCJzdHJpbmcgfCB7ICdkYXJrJzogc3RyaW5nLCAnbGlnaHQnOiBzdHJpbmcgfVwiLFxuICAgIGRlZmF1bHRWYWx1ZTogXCJ7IGRhcms6ICd3aGl0ZScsIGxpZ2h0OiAnYmxhY2snIH1cIlxuICB9LFxuICAnY2hlY2tCb3guaWNvbi5zaXplJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIHNpemUgb2YgdGhlIGNoZWNrZWQgaWNvbi4nLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogdW5kZWZpbmVkXG4gIH0sXG4gICdjaGVja0JveC5pY29uLmV4dGVuZCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ0FueSBhZGRpdGlvbmFsIHN0eWxlIGZvciBDaGVja0JveCBpY29uLicsXG4gICAgdHlwZTogJ3N0cmluZyB8IChwcm9wcyk9Pnt9JyxcbiAgICBkZWZhdWx0VmFsdWU6IHVuZGVmaW5lZFxuICB9LFxuICAnY2hlY2tCb3guaWNvbnMuY2hlY2tlZCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBpY29uIHRvIHVzZSB3aGVuIGNoZWNrZWQuJyxcbiAgICB0eXBlOiAnUmVhY3QuRWxlbWVudCcsXG4gICAgZGVmYXVsdFZhbHVlOiB1bmRlZmluZWRcbiAgfSxcbiAgJ2NoZWNrQm94Lmljb25zLmluZGV0ZXJtaW5hdGUnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgaWNvbiB0byB1c2Ugd2hlbiBpbmRldGVybWluYXRlLicsXG4gICAgdHlwZTogJ1JlYWN0LkVsZW1lbnQnLFxuICAgIGRlZmF1bHRWYWx1ZTogdW5kZWZpbmVkXG4gIH0sXG4gICdjaGVja0JveC5zaXplJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGhlaWdodCBhbmQgd2lkdGggdXNlZCBmb3IgdGhlIENoZWNrQm94IGljb24uJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICcyNHB4J1xuICB9LFxuICAnY2hlY2tCb3gudG9nZ2xlLmJhY2tncm91bmQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgYmFja2dyb3VuZCBjb2xvciBvZiB0aGUgdG9nZ2xlLicsXG4gICAgdHlwZTogXCJzdHJpbmcgfCB7ICdkYXJrJzogc3RyaW5nLCAnbGlnaHQnOiBzdHJpbmcgfVwiLFxuICAgIGRlZmF1bHRWYWx1ZTogdW5kZWZpbmVkXG4gIH0sXG4gICdjaGVja0JveC50b2dnbGUuY29sb3InOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgY29sb3Igb2YgdGhlIHRvZ2dsZSBrbm9iLicsXG4gICAgdHlwZTogXCJzdHJpbmcgfCB7ICdkYXJrJzogc3RyaW5nLCAnbGlnaHQnOiBzdHJpbmcgfVwiLFxuICAgIGRlZmF1bHRWYWx1ZTogXCJ7IGRhcms6ICcjZDlkOWQ5JywgbGlnaHQ6ICcjZDlkOWQ5JyB9XCJcbiAgfSxcbiAgJ2NoZWNrQm94LnRvZ2dsZS5leHRlbmQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdBbnkgYWRkaXRpb25hbCBzdHlsZSBmb3IgQ2hlY2tCb3ggdG9nZ2xlLicsXG4gICAgdHlwZTogJ3N0cmluZyB8IChwcm9wcykgPT4ge30nLFxuICAgIGRlZmF1bHRWYWx1ZTogdW5kZWZpbmVkXG4gIH0sXG4gICdjaGVja0JveC50b2dnbGUua25vYi5leHRlbmQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdBbnkgYWRkaXRpb25hbCBzdHlsZSBmb3IgdGhlIENoZWNrQm94IHRvZ2dsZSBrbm9iLicsXG4gICAgdHlwZTogJ3N0cmluZyB8IChwcm9wcykgPT4ge30nLFxuICAgIGRlZmF1bHRWYWx1ZTogdW5kZWZpbmVkXG4gIH0sXG4gICdjaGVja0JveC50b2dnbGUucmFkaXVzJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGJvcmRlciByYWRpdXMgdXNlZCBmb3IgdGhlIHRvZ2dsZSBhbmQgdGhlIGtub2IuJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICcyNHB4J1xuICB9LFxuICAnY2hlY2tCb3gudG9nZ2xlLnNpemUnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgd2lkdGggc2l6ZSBvZiB0aGUgdG9nZ2xlLicsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiAnNDJweCdcbiAgfVxufTsiLCJleHBvcnQgeyBDaGVja0JveCB9IGZyb20gJy4vQ2hlY2tCb3gnOyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0c0xvb3NlKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcy5wcm90b3R5cGUpOyBzdWJDbGFzcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBzdWJDbGFzczsgc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5pbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY29tcG9zZSB9IGZyb20gJ3JlY29tcG9zZSc7XG5pbXBvcnQgeyB3aXRoVGhlbWUgfSBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBwYXJzZU1ldHJpY1RvTnVtIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuaW1wb3J0IHsgZGVmYXVsdFByb3BzIH0gZnJvbSAnLi4vLi4vZGVmYXVsdC1wcm9wcyc7XG5pbXBvcnQgeyBTdHlsZWRBbmFsb2csIFN0eWxlZEhvdXIsIFN0eWxlZE1pbnV0ZSwgU3R5bGVkU2Vjb25kIH0gZnJvbSAnLi9TdHlsZWRDbG9jayc7IC8vIHRoaXMgd2lsbCBzZXJ2ZSBib3RoIG1pbnV0ZXMgYW5kIGhvdXJzICgzNjAgLyA2KVxuXG52YXIgQU5HTEVfVU5JVCA9IDY7IC8vIDM2MCAvIDEyXG5cbnZhciBIT1VSX0FOR0xFX1VOSVQgPSAzMDtcblxudmFyIGdldENsb2NrRGltZW5zaW9ucyA9IGZ1bmN0aW9uIGdldENsb2NrRGltZW5zaW9ucyh0aGVtZSkge1xuICByZXR1cm4ge1xuICAgIHNpemU6IHBhcnNlTWV0cmljVG9OdW0odGhlbWUuY2xvY2suYW5hbG9nLnNpemUubWVkaXVtKSxcbiAgICBzZWNvbmRTaXplOiBwYXJzZU1ldHJpY1RvTnVtKHRoZW1lLmNsb2NrLmFuYWxvZy5zZWNvbmQuc2l6ZSksXG4gICAgbWludXRlU2l6ZTogcGFyc2VNZXRyaWNUb051bSh0aGVtZS5jbG9jay5hbmFsb2cubWludXRlLnNpemUpLFxuICAgIGhvdXJTaXplOiBwYXJzZU1ldHJpY1RvTnVtKHRoZW1lLmNsb2NrLmFuYWxvZy5ob3VyLnNpemUpXG4gIH07XG59O1xuXG52YXIgZ2V0Q2xvY2tTdGF0ZSA9IGZ1bmN0aW9uIGdldENsb2NrU3RhdGUoX3JlZikge1xuICB2YXIgaG91cnMgPSBfcmVmLmhvdXJzLFxuICAgICAgbWludXRlcyA9IF9yZWYubWludXRlcyxcbiAgICAgIHNlY29uZHMgPSBfcmVmLnNlY29uZHM7XG4gIHZhciBob3VyMTIgPSBob3VycyA+IDEyID8gaG91cnMgLSAxMiA6IGhvdXJzO1xuICB2YXIgbWludXRlQW5nbGUgPSBtaW51dGVzICogQU5HTEVfVU5JVDtcbiAgcmV0dXJuIHtcbiAgICAvLyBvZmZzZXQgaG91ciBhbmdsZSBieSBoYWxmIG9mIHRoZSBtaW51dGUgYW5nbGUgc28gdGhhdCBpdCBnZXRzIGNsb3NlclxuICAgIC8vIHRvIHRoZSBuZXh0IGhvdXJcbiAgICBob3VyQW5nbGU6IGhvdXIxMiAqIEhPVVJfQU5HTEVfVU5JVCArIG1pbnV0ZXMgLyAyLFxuICAgIG1pbnV0ZUFuZ2xlOiBtaW51dGVBbmdsZSxcbiAgICBzZWNvbmRBbmdsZTogc2Vjb25kcyAqIEFOR0xFX1VOSVRcbiAgfTtcbn07XG5cbnZhciBBbmFsb2cgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoQW5hbG9nLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBBbmFsb2coKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIF90aGlzID0gX0NvbXBvbmVudC5jYWxsLmFwcGx5KF9Db21wb25lbnQsIFt0aGlzXS5jb25jYXQoYXJncykpIHx8IHRoaXM7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwic3RhdGVcIiwge30pO1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgQW5hbG9nLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9IGZ1bmN0aW9uIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhuZXh0UHJvcHMsIHByZXZTdGF0ZSkge1xuICAgIHZhciBlbGVtZW50cyA9IG5leHRQcm9wcy5lbGVtZW50cztcbiAgICB2YXIgbmV4dFN0YXRlID0gZ2V0Q2xvY2tTdGF0ZShlbGVtZW50cyk7XG5cbiAgICBpZiAocHJldlN0YXRlLmhvdXJBbmdsZSA9PT0gdW5kZWZpbmVkIHx8IE9iamVjdC5rZXlzKG5leHRTdGF0ZSkuc29tZShmdW5jdGlvbiAoaykge1xuICAgICAgcmV0dXJuIHByZXZTdGF0ZVtrXSAhPT0gbmV4dFN0YXRlW2tdO1xuICAgIH0pKSB7XG4gICAgICByZXR1cm4gbmV4dFN0YXRlO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIHZhciBfcHJvdG8gPSBBbmFsb2cucHJvdG90eXBlO1xuXG4gIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIF90aGlzJHByb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgcHJlY2lzaW9uID0gX3RoaXMkcHJvcHMucHJlY2lzaW9uLFxuICAgICAgICB0aGVtZSA9IF90aGlzJHByb3BzLnRoZW1lLFxuICAgICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3RoaXMkcHJvcHMsIFtcInByZWNpc2lvblwiLCBcInRoZW1lXCJdKTtcblxuICAgIHZhciBfdGhpcyRzdGF0ZSA9IHRoaXMuc3RhdGUsXG4gICAgICAgIGhvdXJBbmdsZSA9IF90aGlzJHN0YXRlLmhvdXJBbmdsZSxcbiAgICAgICAgbWludXRlQW5nbGUgPSBfdGhpcyRzdGF0ZS5taW51dGVBbmdsZSxcbiAgICAgICAgc2Vjb25kQW5nbGUgPSBfdGhpcyRzdGF0ZS5zZWNvbmRBbmdsZTtcblxuICAgIHZhciBfZ2V0Q2xvY2tEaW1lbnNpb25zID0gZ2V0Q2xvY2tEaW1lbnNpb25zKHRoZW1lKSxcbiAgICAgICAgc2l6ZSA9IF9nZXRDbG9ja0RpbWVuc2lvbnMuc2l6ZSxcbiAgICAgICAgc2Vjb25kU2l6ZSA9IF9nZXRDbG9ja0RpbWVuc2lvbnMuc2Vjb25kU2l6ZSxcbiAgICAgICAgbWludXRlU2l6ZSA9IF9nZXRDbG9ja0RpbWVuc2lvbnMubWludXRlU2l6ZSxcbiAgICAgICAgaG91clNpemUgPSBfZ2V0Q2xvY2tEaW1lbnNpb25zLmhvdXJTaXplO1xuXG4gICAgdmFyIGhhbGZTaXplID0gc2l6ZSAvIDI7XG4gICAgdmFyIHNlY29uZEhhbmQ7XG5cbiAgICBpZiAocHJlY2lzaW9uID09PSAnc2Vjb25kcycpIHtcbiAgICAgIHNlY29uZEhhbmQgPSBSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZFNlY29uZCwge1xuICAgICAgICB4MTogaGFsZlNpemUsXG4gICAgICAgIHkxOiBoYWxmU2l6ZSxcbiAgICAgICAgeDI6IGhhbGZTaXplLFxuICAgICAgICB5Mjogc2Vjb25kU2l6ZSxcbiAgICAgICAgc3Ryb2tlOiBcIiMwMDAwMDBcIixcbiAgICAgICAgc3Ryb2tlTGluZWNhcDogdGhlbWUuY2xvY2suYW5hbG9nLnNlY29uZC5zaGFwZSxcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICB0cmFuc2Zvcm06IFwicm90YXRlKFwiICsgc2Vjb25kQW5nbGUgKyBcImRlZylcIixcbiAgICAgICAgICB0cmFuc2Zvcm1PcmlnaW46IGhhbGZTaXplICsgXCJweCBcIiArIGhhbGZTaXplICsgXCJweFwiXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHZhciBtaW51dGVIYW5kO1xuXG4gICAgaWYgKHByZWNpc2lvbiA9PT0gJ3NlY29uZHMnIHx8IHByZWNpc2lvbiA9PT0gJ21pbnV0ZXMnKSB7XG4gICAgICBtaW51dGVIYW5kID0gUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWRNaW51dGUsIHtcbiAgICAgICAgeDE6IGhhbGZTaXplLFxuICAgICAgICB5MTogaGFsZlNpemUsXG4gICAgICAgIHgyOiBoYWxmU2l6ZSxcbiAgICAgICAgeTI6IG1pbnV0ZVNpemUsXG4gICAgICAgIHN0cm9rZTogXCIjMDAwMDAwXCIsXG4gICAgICAgIHN0cm9rZUxpbmVjYXA6IHRoZW1lLmNsb2NrLmFuYWxvZy5taW51dGUuc2hhcGUsXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgdHJhbnNmb3JtOiBcInJvdGF0ZShcIiArIG1pbnV0ZUFuZ2xlICsgXCJkZWcpXCIsXG4gICAgICAgICAgdHJhbnNmb3JtT3JpZ2luOiBoYWxmU2l6ZSArIFwicHggXCIgKyBoYWxmU2l6ZSArIFwicHhcIlxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWRBbmFsb2csIF9leHRlbmRzKHtcbiAgICAgIHZlcnNpb246IFwiMS4xXCIsXG4gICAgICB3aWR0aDogc2l6ZSxcbiAgICAgIGhlaWdodDogc2l6ZSxcbiAgICAgIHByZXNlcnZlQXNwZWN0UmF0aW86IFwieE1pZFlNaWQgbWVldFwiLFxuICAgICAgdmlld0JveDogXCIwIDAgXCIgKyBzaXplICsgXCIgXCIgKyBzaXplXG4gICAgfSwgcmVzdCksIHNlY29uZEhhbmQsIG1pbnV0ZUhhbmQsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkSG91ciwge1xuICAgICAgeDE6IGhhbGZTaXplLFxuICAgICAgeTE6IGhhbGZTaXplLFxuICAgICAgeDI6IGhhbGZTaXplLFxuICAgICAgeTI6IGhvdXJTaXplLFxuICAgICAgc3Ryb2tlOiBcIiMwMDAwMDBcIixcbiAgICAgIHN0cm9rZUxpbmVjYXA6IHRoZW1lLmNsb2NrLmFuYWxvZy5ob3VyLnNoYXBlLFxuICAgICAgc3R5bGU6IHtcbiAgICAgICAgdHJhbnNmb3JtOiBcInJvdGF0ZShcIiArIGhvdXJBbmdsZSArIFwiZGVnKVwiLFxuICAgICAgICB0cmFuc2Zvcm1PcmlnaW46IGhhbGZTaXplICsgXCJweCBcIiArIGhhbGZTaXplICsgXCJweFwiXG4gICAgICB9XG4gICAgfSkpO1xuICB9O1xuXG4gIHJldHVybiBBbmFsb2c7XG59KENvbXBvbmVudCk7XG5cbl9kZWZpbmVQcm9wZXJ0eShBbmFsb2csIFwiZGVmYXVsdFByb3BzXCIsIHtcbiAgc2l6ZTogJ21lZGl1bSdcbn0pO1xuXG5PYmplY3Quc2V0UHJvdG90eXBlT2YoQW5hbG9nLmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbnZhciBBbmFsb2dXcmFwcGVyID0gY29tcG9zZSh3aXRoVGhlbWUpKEFuYWxvZyk7XG5leHBvcnQgeyBBbmFsb2dXcmFwcGVyIGFzIEFuYWxvZyB9OyIsImZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0c0xvb3NlKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcy5wcm90b3R5cGUpOyBzdWJDbGFzcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBzdWJDbGFzczsgc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5pbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgQW5hbG9nIH0gZnJvbSAnLi9BbmFsb2cnO1xuaW1wb3J0IHsgRGlnaXRhbCB9IGZyb20gJy4vRGlnaXRhbCc7XG52YXIgVElNRV9SRUdFWFAgPSAvVChbMC05XXsyfSk6KFswLTldezJ9KSg/OjooWzAtOS4sXXsyLH0pKT8vO1xudmFyIERVUkFUSU9OX1JFR0VYUCA9IC9eKC18XFwrKT9QLipUKD86KFstK10/WzAtOSwuXSopSCk/KD86KFstK10/WzAtOSwuXSopTSk/KD86KFstK10/WzAtOSwuXSopUyk/JC87XG5cbnZhciBwYXJzZVRpbWUgPSBmdW5jdGlvbiBwYXJzZVRpbWUodGltZSwgaG91ckxpbWl0KSB7XG4gIHZhciByZXN1bHQgPSB7fTtcblxuICBpZiAodGltZSkge1xuICAgIHZhciBtYXRjaCA9IERVUkFUSU9OX1JFR0VYUC5leGVjKHRpbWUpO1xuXG4gICAgaWYgKG1hdGNoKSB7XG4gICAgICByZXN1bHQuaG91cnMgPSBwYXJzZUZsb2F0KG1hdGNoWzJdKTtcblxuICAgICAgaWYgKGhvdXJMaW1pdCA9PT0gMTIpIHtcbiAgICAgICAgcmVzdWx0LmhvdXJzMTIgPSByZXN1bHQuaG91cnMgPiAxMiA/IHJlc3VsdC5ob3VycyAtIDEyIDogcmVzdWx0LmhvdXJzO1xuICAgICAgfVxuXG4gICAgICByZXN1bHQubWludXRlcyA9IHBhcnNlRmxvYXQobWF0Y2hbM10pIHx8IDA7XG4gICAgICByZXN1bHQuc2Vjb25kcyA9IHBhcnNlRmxvYXQobWF0Y2hbNF0pIHx8IDA7XG4gICAgICByZXN1bHQuZHVyYXRpb24gPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBtYXRjaCA9IFRJTUVfUkVHRVhQLmV4ZWModGltZSk7XG5cbiAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICByZXN1bHQuaG91cnMgPSBwYXJzZUZsb2F0KG1hdGNoWzFdKTtcblxuICAgICAgICBpZiAoaG91ckxpbWl0ID09PSAxMikge1xuICAgICAgICAgIHJlc3VsdC5ob3VyczEyID0gcmVzdWx0LmhvdXJzID4gMTIgPyByZXN1bHQuaG91cnMgLSAxMiA6IHJlc3VsdC5ob3VycztcbiAgICAgICAgfVxuXG4gICAgICAgIHJlc3VsdC5taW51dGVzID0gcGFyc2VGbG9hdChtYXRjaFsyXSkgfHwgMDtcbiAgICAgICAgcmVzdWx0LnNlY29uZHMgPSBwYXJzZUZsb2F0KG1hdGNoWzNdKSB8fCAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkdyb21tZXQgQ2xvY2sgY2Fubm90IHBhcnNlICdcIiArIHRpbWUgKyBcIidcIik7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHZhciBkYXRlID0gbmV3IERhdGUoKTtcbiAgICByZXN1bHQuaG91cnMgPSBkYXRlLmdldEhvdXJzKCk7XG4gICAgcmVzdWx0Lm1pbnV0ZXMgPSBkYXRlLmdldE1pbnV0ZXMoKTtcbiAgICByZXN1bHQuc2Vjb25kcyA9IGRhdGUuZ2V0U2Vjb25kcygpO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbnZhciBDbG9jayA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBfaW5oZXJpdHNMb29zZShDbG9jaywgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQ2xvY2soKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIF90aGlzID0gX0NvbXBvbmVudC5jYWxsLmFwcGx5KF9Db21wb25lbnQsIFt0aGlzXS5jb25jYXQoYXJncykpIHx8IHRoaXM7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwic3RhdGVcIiwge30pO1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgQ2xvY2suZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID0gZnVuY3Rpb24gZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKG5leHRQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgdmFyIGhvdXJMaW1pdCA9IG5leHRQcm9wcy5ob3VyTGltaXQsXG4gICAgICAgIHRpbWUgPSBuZXh0UHJvcHMudGltZTtcbiAgICB2YXIgZWxlbWVudHMgPSBwcmV2U3RhdGUuZWxlbWVudHM7XG5cbiAgICBpZiAoIWVsZW1lbnRzIHx8IHRpbWUpIHtcbiAgICAgIHZhciBuZXh0RWxlbWVudHMgPSBwYXJzZVRpbWUodGltZSwgaG91ckxpbWl0KTtcblxuICAgICAgaWYgKCFlbGVtZW50cykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGVsZW1lbnRzOiBuZXh0RWxlbWVudHNcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgaWYgKE9iamVjdC5rZXlzKG5leHRFbGVtZW50cykuc29tZShmdW5jdGlvbiAoaykge1xuICAgICAgICByZXR1cm4gZWxlbWVudHNba10gIT09IG5leHRFbGVtZW50c1trXTtcbiAgICAgIH0pKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgZWxlbWVudHM6IG5leHRFbGVtZW50c1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIHZhciBfcHJvdG8gPSBDbG9jay5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdmFyIHJ1biA9IHRoaXMucHJvcHMucnVuO1xuXG4gICAgaWYgKHJ1bikge1xuICAgICAgdGhpcy5ydW4oKTtcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLmNvbXBvbmVudERpZFVwZGF0ZSA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMpIHtcbiAgICB2YXIgcnVuID0gdGhpcy5wcm9wcy5ydW47XG5cbiAgICBpZiAocnVuICYmICFwcmV2UHJvcHMucnVuKSB7XG4gICAgICB0aGlzLnJ1bigpO1xuICAgIH0gZWxzZSBpZiAoIXJ1biAmJiBwcmV2UHJvcHMucnVuKSB7XG4gICAgICBjbGVhckludGVydmFsKHRoaXMudGltZXIpO1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8uY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBjbGVhckludGVydmFsKHRoaXMudGltZXIpO1xuICB9O1xuXG4gIF9wcm90by5ydW4gPSBmdW5jdGlvbiBydW4oKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICB2YXIgX3RoaXMkcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICBob3VyTGltaXQgPSBfdGhpcyRwcm9wcy5ob3VyTGltaXQsXG4gICAgICAgIG9uQ2hhbmdlID0gX3RoaXMkcHJvcHMub25DaGFuZ2UsXG4gICAgICAgIHByZWNpc2lvbiA9IF90aGlzJHByb3BzLnByZWNpc2lvbixcbiAgICAgICAgcnVuID0gX3RoaXMkcHJvcHMucnVuO1xuICAgIHZhciBlbGVtZW50cyA9IHRoaXMuc3RhdGUuZWxlbWVudHM7IC8vIHNldCB0aGUgaW50ZXJ2YWwgdGltZSBiYXNlZCBvbiB0aGUgcHJlY2lzaW9uXG5cbiAgICB2YXIgaW50ZXJ2YWwgPSAxMDAwO1xuICAgIHZhciBpbmNyZW1lbnQgPSAnc2Vjb25kcyc7XG5cbiAgICBpZiAocHJlY2lzaW9uICE9PSAnc2Vjb25kcycgJiYgZWxlbWVudHMuc2Vjb25kcyA9PT0gMCkge1xuICAgICAgaW50ZXJ2YWwgKj0gNjA7XG4gICAgICBpbmNyZW1lbnQgPSAnbWludXRlcyc7XG5cbiAgICAgIGlmIChwcmVjaXNpb24gIT09ICdtaW51dGVzJyAmJiBlbGVtZW50cy5taW51dGVzID09PSAwKSB7XG4gICAgICAgIGludGVydmFsICo9IDYwO1xuICAgICAgICBpbmNyZW1lbnQgPSAnaG91cnMnO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7XG4gICAgdGhpcy50aW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBwcmV2aW91c0VsZW1lbnRzID0gX3RoaXMyLnN0YXRlLmVsZW1lbnRzO1xuXG4gICAgICB2YXIgbmV4dEVsZW1lbnRzID0gX2V4dGVuZHMoe30sIHByZXZpb3VzRWxlbWVudHMpOyAvLyBhZGp1c3QgdGltZSBiYXNlZCBvbiBwcmVjaXNpb25cblxuXG4gICAgICBpZiAoaW5jcmVtZW50ID09PSAnc2Vjb25kcycpIHtcbiAgICAgICAgaWYgKHJ1biA9PT0gJ2JhY2t3YXJkJykge1xuICAgICAgICAgIG5leHRFbGVtZW50cy5zZWNvbmRzIC09IDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV4dEVsZW1lbnRzLnNlY29uZHMgKz0gMTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChpbmNyZW1lbnQgPT09ICdtaW51dGVzJykge1xuICAgICAgICBpZiAocnVuID09PSAnYmFja3dhcmQnKSB7XG4gICAgICAgICAgbmV4dEVsZW1lbnRzLm1pbnV0ZXMgLT0gMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXh0RWxlbWVudHMubWludXRlcyArPSAxO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGluY3JlbWVudCA9PT0gJ2hvdXJzJykge1xuICAgICAgICBpZiAocnVuID09PSAnYmFja3dhcmQnKSB7XG4gICAgICAgICAgbmV4dEVsZW1lbnRzLmhvdXJzIC09IDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV4dEVsZW1lbnRzLmhvdXJzICs9IDE7XG4gICAgICAgIH1cbiAgICAgIH0gLy8gZGVhbCB3aXRoIG92ZXJmbG93c1xuXG5cbiAgICAgIGlmIChuZXh0RWxlbWVudHMuc2Vjb25kcyA+PSA2MCkge1xuICAgICAgICBuZXh0RWxlbWVudHMubWludXRlcyArPSBNYXRoLmZsb29yKG5leHRFbGVtZW50cy5zZWNvbmRzIC8gNjApO1xuICAgICAgICBuZXh0RWxlbWVudHMuc2Vjb25kcyA9IDA7XG4gICAgICB9IGVsc2UgaWYgKG5leHRFbGVtZW50cy5zZWNvbmRzIDwgMCkge1xuICAgICAgICBuZXh0RWxlbWVudHMubWludXRlcyArPSBNYXRoLmZsb29yKG5leHRFbGVtZW50cy5zZWNvbmRzIC8gNjApO1xuICAgICAgICBuZXh0RWxlbWVudHMuc2Vjb25kcyA9IDU5O1xuICAgICAgfVxuXG4gICAgICBpZiAobmV4dEVsZW1lbnRzLm1pbnV0ZXMgPj0gNjApIHtcbiAgICAgICAgbmV4dEVsZW1lbnRzLmhvdXJzICs9IE1hdGguZmxvb3IobmV4dEVsZW1lbnRzLm1pbnV0ZXMgLyA2MCk7XG4gICAgICAgIG5leHRFbGVtZW50cy5taW51dGVzID0gMDtcbiAgICAgIH0gZWxzZSBpZiAobmV4dEVsZW1lbnRzLm1pbnV0ZXMgPCAwKSB7XG4gICAgICAgIG5leHRFbGVtZW50cy5ob3VycyArPSBNYXRoLmZsb29yKG5leHRFbGVtZW50cy5taW51dGVzIC8gNjApO1xuICAgICAgICBuZXh0RWxlbWVudHMubWludXRlcyA9IDU5O1xuICAgICAgfVxuXG4gICAgICBpZiAobmV4dEVsZW1lbnRzLmhvdXJzID49IDI0IHx8IG5leHRFbGVtZW50cy5ob3VycyA8IDApIHtcbiAgICAgICAgbmV4dEVsZW1lbnRzLmhvdXJzID0gMDtcbiAgICAgIH1cblxuICAgICAgaWYgKGhvdXJMaW1pdCA9PT0gMTIpIHtcbiAgICAgICAgbmV4dEVsZW1lbnRzLmhvdXJzMTIgPSBuZXh0RWxlbWVudHMuaG91cnMgPiAxMiA/IG5leHRFbGVtZW50cy5ob3VycyAtIDEyIDogbmV4dEVsZW1lbnRzLmhvdXJzO1xuICAgICAgfVxuXG4gICAgICBfdGhpczIuc2V0U3RhdGUoe1xuICAgICAgICBlbGVtZW50czogbmV4dEVsZW1lbnRzXG4gICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChvbkNoYW5nZSkge1xuICAgICAgICAgIGlmIChlbGVtZW50cy5kdXJhdGlvbikge1xuICAgICAgICAgICAgb25DaGFuZ2UoXCJQXCIgKyBlbGVtZW50cy5ob3VycyArIFwiSFwiICsgZWxlbWVudHMubWludXRlcyArIFwiTVwiICsgZWxlbWVudHMuc2Vjb25kcyArIFwiU1wiKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb25DaGFuZ2UoXCJUXCIgKyBlbGVtZW50cy5ob3VycyArIFwiOlwiICsgZWxlbWVudHMubWludXRlcyArIFwiOlwiICsgZWxlbWVudHMuc2Vjb25kcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LCBpbnRlcnZhbCk7XG4gIH07XG5cbiAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgX3RoaXMkcHJvcHMyID0gdGhpcy5wcm9wcyxcbiAgICAgICAgdHlwZSA9IF90aGlzJHByb3BzMi50eXBlLFxuICAgICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3RoaXMkcHJvcHMyLCBbXCJ0eXBlXCJdKTtcblxuICAgIHZhciBlbGVtZW50cyA9IHRoaXMuc3RhdGUuZWxlbWVudHM7XG4gICAgdmFyIGNvbnRlbnQ7XG5cbiAgICBpZiAodHlwZSA9PT0gJ2FuYWxvZycpIHtcbiAgICAgIGNvbnRlbnQgPSBSZWFjdC5jcmVhdGVFbGVtZW50KEFuYWxvZywgX2V4dGVuZHMoe1xuICAgICAgICBlbGVtZW50czogZWxlbWVudHNcbiAgICAgIH0sIHJlc3QpKTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdkaWdpdGFsJykge1xuICAgICAgY29udGVudCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoRGlnaXRhbCwgX2V4dGVuZHMoe1xuICAgICAgICBlbGVtZW50czogZWxlbWVudHNcbiAgICAgIH0sIHJlc3QpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY29udGVudDtcbiAgfTtcblxuICByZXR1cm4gQ2xvY2s7XG59KENvbXBvbmVudCk7XG5cbl9kZWZpbmVQcm9wZXJ0eShDbG9jaywgXCJkZWZhdWx0UHJvcHNcIiwge1xuICBob3VyTGltaXQ6IDI0LFxuICBwcmVjaXNpb246ICdzZWNvbmRzJyxcbiAgcnVuOiAnZm9yd2FyZCcsXG4gIHNpemU6ICdtZWRpdW0nLFxuICB0eXBlOiAnYW5hbG9nJ1xufSk7XG5cbnZhciBDbG9ja0RvYztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgQ2xvY2tEb2MgPSByZXF1aXJlKCcuL2RvYycpLmRvYyhDbG9jayk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZ2xvYmFsLXJlcXVpcmVcbn1cblxudmFyIENsb2NrV3JhcHBlciA9IENsb2NrRG9jIHx8IENsb2NrO1xuZXhwb3J0IHsgQ2xvY2tXcmFwcGVyIGFzIENsb2NrIH07IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzTG9vc2Uoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzLnByb3RvdHlwZSk7IHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzOyBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbmltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBCb3ggfSBmcm9tICcuLi9Cb3gnO1xuaW1wb3J0IHsgU3R5bGVkRGlnaXRhbERpZ2l0LCBTdHlsZWREaWdpdGFsTmV4dCwgU3R5bGVkRGlnaXRhbFByZXZpb3VzIH0gZnJvbSAnLi9TdHlsZWRDbG9jayc7XG5cbnZhciBEaWdpdCA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBfaW5oZXJpdHNMb29zZShEaWdpdCwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gRGlnaXQoKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIF90aGlzID0gX0NvbXBvbmVudC5jYWxsLmFwcGx5KF9Db21wb25lbnQsIFt0aGlzXS5jb25jYXQoYXJncykpIHx8IHRoaXM7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwic3RhdGVcIiwge30pO1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgRGlnaXQuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID0gZnVuY3Rpb24gZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKG5leHRQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgdmFyIG51bWJlciA9IG5leHRQcm9wcy5udW1iZXI7XG5cbiAgICBpZiAobnVtYmVyICE9PSBwcmV2U3RhdGUubnVtYmVyKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBwcmV2aW91czogcHJldlN0YXRlLm51bWJlcixcbiAgICAgICAgbnVtYmVyOiBudW1iZXJcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgdmFyIF9wcm90byA9IERpZ2l0LnByb3RvdHlwZTtcblxuICBfcHJvdG8uY29tcG9uZW50RGlkVXBkYXRlID0gZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICB2YXIgcHJldmlvdXMgPSB0aGlzLnN0YXRlLnByZXZpb3VzO1xuXG4gICAgaWYgKHByZXZTdGF0ZS5wcmV2aW91cyA9PT0gdW5kZWZpbmVkICYmIHByZXZpb3VzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVyKTtcbiAgICAgIHRoaXMudGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMyLnNldFN0YXRlKHtcbiAgICAgICAgICBwcmV2aW91czogdW5kZWZpbmVkXG4gICAgICAgIH0pO1xuICAgICAgfSwgOTAwKTtcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXIpO1xuICB9O1xuXG4gIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgLyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0L3Byb3AtdHlwZXMgKi9cbiAgICB2YXIgX3RoaXMkcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICBydW4gPSBfdGhpcyRwcm9wcy5ydW4sXG4gICAgICAgIHNpemUgPSBfdGhpcyRwcm9wcy5zaXplO1xuICAgIHZhciBfdGhpcyRzdGF0ZSA9IHRoaXMuc3RhdGUsXG4gICAgICAgIG51bWJlciA9IF90aGlzJHN0YXRlLm51bWJlcixcbiAgICAgICAgcHJldmlvdXMgPSBfdGhpcyRzdGF0ZS5wcmV2aW91cztcblxuICAgIGlmIChwcmV2aW91cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB2YXIgZGlyZWN0aW9uID0gcnVuID09PSAnYmFja3dhcmQnID8gJ2Rvd24nIDogJ3VwJztcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZERpZ2l0YWxEaWdpdCwge1xuICAgICAgICBzaXplOiBzaXplXG4gICAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZERpZ2l0YWxQcmV2aW91cywge1xuICAgICAgICBkaXJlY3Rpb246IGRpcmVjdGlvblxuICAgICAgfSwgTWF0aC5mbG9vcihwcmV2aW91cykpLCBSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZERpZ2l0YWxOZXh0LCB7XG4gICAgICAgIGRpcmVjdGlvbjogZGlyZWN0aW9uXG4gICAgICB9LCBNYXRoLmZsb29yKG51bWJlcikpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWREaWdpdGFsRGlnaXQsIHtcbiAgICAgIHNpemU6IHNpemVcbiAgICB9LCBNYXRoLmZsb29yKG51bWJlcikpO1xuICB9O1xuXG4gIHJldHVybiBEaWdpdDtcbn0oQ29tcG9uZW50KTtcblxudmFyIEVsZW1lbnQgPSBmdW5jdGlvbiBFbGVtZW50KF9yZWYpIHtcbiAgdmFyIG51bWJlciA9IF9yZWYubnVtYmVyLFxuICAgICAgcnVuID0gX3JlZi5ydW4sXG4gICAgICBzZXAgPSBfcmVmLnNlcCxcbiAgICAgIHNpemUgPSBfcmVmLnNpemU7XG4gIHZhciB0ZW5zID0gTWF0aC5mbG9vcihudW1iZXIgLyAxMCk7XG4gIHZhciBvbmVzID0gbnVtYmVyICUgMTA7XG4gIHZhciByZXN1bHQgPSBbUmVhY3QuY3JlYXRlRWxlbWVudChEaWdpdCwge1xuICAgIGtleTogXCJ0ZW5zXCIsXG4gICAgcnVuOiBydW4sXG4gICAgc2l6ZTogc2l6ZSxcbiAgICBudW1iZXI6IHRlbnNcbiAgfSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRGlnaXQsIHtcbiAgICBrZXk6IFwib25lc1wiLFxuICAgIHJ1bjogcnVuLFxuICAgIHNpemU6IHNpemUsXG4gICAgbnVtYmVyOiBvbmVzXG4gIH0pXTtcblxuICBpZiAoc2VwKSB7XG4gICAgcmVzdWx0LnVuc2hpZnQoUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWREaWdpdGFsRGlnaXQsIHtcbiAgICAgIGtleTogXCJzZXBcIixcbiAgICAgIHNpemU6IHNpemVcbiAgICB9LCBcIjpcIikpO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbmV4cG9ydCB2YXIgRGlnaXRhbCA9IGZ1bmN0aW9uIERpZ2l0YWwocHJvcHMpIHtcbiAgdmFyIGVsZW1lbnRzID0gcHJvcHMuZWxlbWVudHMsXG4gICAgICBwcmVjaXNpb24gPSBwcm9wcy5wcmVjaXNpb24sXG4gICAgICBydW4gPSBwcm9wcy5ydW4sXG4gICAgICBzaXplID0gcHJvcHMuc2l6ZSxcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShwcm9wcywgW1wiZWxlbWVudHNcIiwgXCJwcmVjaXNpb25cIiwgXCJydW5cIiwgXCJzaXplXCJdKTtcblxuICB2YXIgc2Vjb25kcztcblxuICBpZiAocHJlY2lzaW9uID09PSAnc2Vjb25kcycpIHtcbiAgICBzZWNvbmRzID0gUmVhY3QuY3JlYXRlRWxlbWVudChFbGVtZW50LCB7XG4gICAgICBudW1iZXI6IGVsZW1lbnRzLnNlY29uZHMsXG4gICAgICBydW46IHJ1bixcbiAgICAgIHNpemU6IHNpemUsXG4gICAgICBzZXA6IHRydWVcbiAgICB9KTtcbiAgfVxuXG4gIHZhciBtaW51dGVzO1xuXG4gIGlmIChwcmVjaXNpb24gPT09ICdtaW51dGVzJyB8fCBwcmVjaXNpb24gPT09ICdzZWNvbmRzJykge1xuICAgIG1pbnV0ZXMgPSBSZWFjdC5jcmVhdGVFbGVtZW50KEVsZW1lbnQsIHtcbiAgICAgIG51bWJlcjogZWxlbWVudHMubWludXRlcyxcbiAgICAgIHJ1bjogcnVuLFxuICAgICAgc2l6ZTogc2l6ZSxcbiAgICAgIHNlcDogdHJ1ZVxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQm94LCBfZXh0ZW5kcyh7XG4gICAgZGlyZWN0aW9uOiBcInJvd1wiXG4gIH0sIHJlc3QpLCBSZWFjdC5jcmVhdGVFbGVtZW50KEVsZW1lbnQsIHtcbiAgICBudW1iZXI6IGVsZW1lbnRzLmhvdXJzMTIgfHwgZWxlbWVudHMuaG91cnMsXG4gICAgcnVuOiBydW4sXG4gICAgc2l6ZTogc2l6ZVxuICB9KSwgbWludXRlcywgc2Vjb25kcyk7XG59OyIsImltcG9ydCBzdHlsZWQsIHsgY3NzLCBrZXlmcmFtZXMgfSBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBub3JtYWxpemVDb2xvciwgZ2VuZXJpY1N0eWxlcyB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmltcG9ydCB7IGRlZmF1bHRQcm9wcyB9IGZyb20gJy4uLy4uL2RlZmF1bHQtcHJvcHMnO1xudmFyIFN0eWxlZEhvdXIgPSBzdHlsZWQubGluZS53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiU3R5bGVkQ2xvY2tfX1N0eWxlZEhvdXJcIixcbiAgY29tcG9uZW50SWQ6IFwieTR4dzhzLTBcIlxufSkoW1wic3Ryb2tlLXdpZHRoOlwiLCBcIjtzdHJva2U6XCIsIFwiO3RyYW5zaXRpb246c3Ryb2tlIDFzIGVhc2Utb3V0O1wiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5jbG9jay5hbmFsb2cuaG91ci53aWR0aDtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gbm9ybWFsaXplQ29sb3IocHJvcHMudGhlbWUuY2xvY2suYW5hbG9nLmhvdXIuY29sb3IsIHByb3BzLnRoZW1lKTtcbn0pO1xuU3R5bGVkSG91ci5kZWZhdWx0UHJvcHMgPSB7fTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihTdHlsZWRIb3VyLmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbnZhciBTdHlsZWRNaW51dGUgPSBzdHlsZWQubGluZS53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiU3R5bGVkQ2xvY2tfX1N0eWxlZE1pbnV0ZVwiLFxuICBjb21wb25lbnRJZDogXCJ5NHh3OHMtMVwiXG59KShbXCJzdHJva2Utd2lkdGg6XCIsIFwiO3N0cm9rZTpcIiwgXCI7dHJhbnNpdGlvbjpzdHJva2UgMXMgZWFzZS1vdXQ7XCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLmNsb2NrLmFuYWxvZy5taW51dGUud2lkdGg7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIG5vcm1hbGl6ZUNvbG9yKHByb3BzLnRoZW1lLmNsb2NrLmFuYWxvZy5taW51dGUuY29sb3IsIHByb3BzLnRoZW1lKTtcbn0pO1xuU3R5bGVkTWludXRlLmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKFN0eWxlZE1pbnV0ZS5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG52YXIgU3R5bGVkU2Vjb25kID0gc3R5bGVkLmxpbmUud2l0aENvbmZpZyh7XG4gIGRpc3BsYXlOYW1lOiBcIlN0eWxlZENsb2NrX19TdHlsZWRTZWNvbmRcIixcbiAgY29tcG9uZW50SWQ6IFwieTR4dzhzLTJcIlxufSkoW1wic3Ryb2tlLXdpZHRoOlwiLCBcIjtzdHJva2U6XCIsIFwiO3RyYW5zaXRpb246c3Ryb2tlIDFzIGVhc2Utb3V0O1wiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5jbG9jay5hbmFsb2cuc2Vjb25kLndpZHRoO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBub3JtYWxpemVDb2xvcihwcm9wcy50aGVtZS5jbG9jay5hbmFsb2cuc2Vjb25kLmNvbG9yLCBwcm9wcy50aGVtZSk7XG59KTtcblN0eWxlZFNlY29uZC5kZWZhdWx0UHJvcHMgPSB7fTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihTdHlsZWRTZWNvbmQuZGVmYXVsdFByb3BzLCBkZWZhdWx0UHJvcHMpO1xudmFyIFN0eWxlZEFuYWxvZyA9IHN0eWxlZC5zdmcud2l0aENvbmZpZyh7XG4gIGRpc3BsYXlOYW1lOiBcIlN0eWxlZENsb2NrX19TdHlsZWRBbmFsb2dcIixcbiAgY29tcG9uZW50SWQ6IFwieTR4dzhzLTNcIlxufSkoW1wid2lkdGg6XCIsIFwiO2hlaWdodDpcIiwgXCI7XCIsIFwiIFwiLCBcIjtcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUuY2xvY2suYW5hbG9nLnNpemVbcHJvcHMuc2l6ZV07XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLmNsb2NrLmFuYWxvZy5zaXplW3Byb3BzLnNpemVdO1xufSwgZ2VuZXJpY1N0eWxlcywgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5jbG9jay5hbmFsb2cgJiYgcHJvcHMudGhlbWUuY2xvY2suYW5hbG9nLmV4dGVuZDtcbn0pO1xuU3R5bGVkQW5hbG9nLmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKFN0eWxlZEFuYWxvZy5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG5cbnZhciBzaXplU3R5bGUgPSBmdW5jdGlvbiBzaXplU3R5bGUocHJvcHMpIHtcbiAgLy8gc2l6ZSBpcyBhIGNvbWJpbmF0aW9uIG9mIHRoZSBsZXZlbCBhbmQgc2l6ZSBwcm9wZXJ0aWVzXG4gIHZhciBzaXplID0gcHJvcHMuc2l6ZSB8fCAnbWVkaXVtJztcbiAgdmFyIGRhdGEgPSBwcm9wcy50aGVtZS5jbG9jay5kaWdpdGFsLnRleHRbc2l6ZV07XG4gIHJldHVybiBjc3MoW1wiZm9udC1zaXplOlwiLCBcIjtsaW5lLWhlaWdodDpcIiwgXCI7XCJdLCBkYXRhLnNpemUsIGRhdGEuaGVpZ2h0KTtcbn07XG5cbnZhciBTdHlsZWREaWdpdGFsRGlnaXQgPSBzdHlsZWQuZGl2LndpdGhDb25maWcoe1xuICBkaXNwbGF5TmFtZTogXCJTdHlsZWRDbG9ja19fU3R5bGVkRGlnaXRhbERpZ2l0XCIsXG4gIGNvbXBvbmVudElkOiBcInk0eHc4cy00XCJcbn0pKFtcInBvc2l0aW9uOnJlbGF0aXZlO3dpZHRoOjAuOGVtO3RleHQtYWxpZ246Y2VudGVyO292ZXJmbG93OmhpZGRlbjtcIiwgXCI7XCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHNpemVTdHlsZShwcm9wcyk7XG59KTtcblN0eWxlZERpZ2l0YWxEaWdpdC5kZWZhdWx0UHJvcHMgPSB7fTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihTdHlsZWREaWdpdGFsRGlnaXQuZGVmYXVsdFByb3BzLCBkZWZhdWx0UHJvcHMpO1xudmFyIHByZXZpb3VzVXAgPSBrZXlmcmFtZXMoW1wiMCV7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCk7fTEwMCV7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTEwMCUpO31cIl0pO1xudmFyIHByZXZpb3VzRG93biA9IGtleWZyYW1lcyhbXCIwJXt0cmFuc2Zvcm06dHJhbnNsYXRlWSgwKTt9MTAwJXt0cmFuc2Zvcm06dHJhbnNsYXRlWSgxMDAlKTt9XCJdKTtcbnZhciBTdHlsZWREaWdpdGFsUHJldmlvdXMgPSBzdHlsZWQuZGl2LndpdGhDb25maWcoe1xuICBkaXNwbGF5TmFtZTogXCJTdHlsZWRDbG9ja19fU3R5bGVkRGlnaXRhbFByZXZpb3VzXCIsXG4gIGNvbXBvbmVudElkOiBcInk0eHc4cy01XCJcbn0pKFtcInBvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDt3aWR0aDowLjhlbTt0ZXh0LWFsaWduOmNlbnRlcjthbmltYXRpb246XCIsIFwiIDAuNXMgZm9yd2FyZHM7XCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLmRpcmVjdGlvbiA9PT0gJ2Rvd24nID8gcHJldmlvdXNEb3duIDogcHJldmlvdXNVcDtcbn0pO1xuU3R5bGVkRGlnaXRhbFByZXZpb3VzLmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKFN0eWxlZERpZ2l0YWxQcmV2aW91cy5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG52YXIgbmV4dFVwID0ga2V5ZnJhbWVzKFtcIjAle3RyYW5zZm9ybTp0cmFuc2xhdGVZKDEwMCUpO30xMDAle3RyYW5zZm9ybTp0cmFuc2xhdGVZKDApO31cIl0pO1xudmFyIG5leHREb3duID0ga2V5ZnJhbWVzKFtcIjAle3RyYW5zZm9ybTp0cmFuc2xhdGVZKC0xMDAlKTt9MTAwJXt0cmFuc2Zvcm06dHJhbnNsYXRlWSgwKTt9XCJdKTtcbnZhciBTdHlsZWREaWdpdGFsTmV4dCA9IHN0eWxlZC5kaXYud2l0aENvbmZpZyh7XG4gIGRpc3BsYXlOYW1lOiBcIlN0eWxlZENsb2NrX19TdHlsZWREaWdpdGFsTmV4dFwiLFxuICBjb21wb25lbnRJZDogXCJ5NHh3OHMtNlwiXG59KShbXCJwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7d2lkdGg6MC44ZW07dGV4dC1hbGlnbjpjZW50ZXI7YW5pbWF0aW9uOlwiLCBcIiAwLjVzIGZvcndhcmRzO1wiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5kaXJlY3Rpb24gPT09ICdkb3duJyA/IG5leHREb3duIDogbmV4dFVwO1xufSk7XG5TdHlsZWREaWdpdGFsTmV4dC5kZWZhdWx0UHJvcHMgPSB7fTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihTdHlsZWREaWdpdGFsTmV4dC5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG5leHBvcnQgeyBTdHlsZWRIb3VyLCBTdHlsZWRNaW51dGUsIFN0eWxlZFNlY29uZCwgU3R5bGVkQW5hbG9nLCBTdHlsZWREaWdpdGFsRGlnaXQsIFN0eWxlZERpZ2l0YWxQcmV2aW91cywgU3R5bGVkRGlnaXRhbE5leHQgfTsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5pbXBvcnQgeyBkZXNjcmliZSwgUHJvcFR5cGVzIH0gZnJvbSAncmVhY3QtZGVzYyc7XG5pbXBvcnQgeyBnZW5lcmljUHJvcHMsIGdldEF2YWlsYWJsZUF0QmFkZ2UgfSBmcm9tICcuLi8uLi91dGlscyc7XG5leHBvcnQgdmFyIGRvYyA9IGZ1bmN0aW9uIGRvYyhDbG9jaykge1xuICB2YXIgRG9jdW1lbnRlZENsb2NrID0gZGVzY3JpYmUoQ2xvY2spLmF2YWlsYWJsZUF0KGdldEF2YWlsYWJsZUF0QmFkZ2UoJ0Nsb2NrJykpLmRlc2NyaXB0aW9uKCdBIGNsb2NrIHdpdGggdGltZXpvbmUgYXdhcmVuZXNzLicpLnVzYWdlKFwiaW1wb3J0IHsgQ2xvY2sgfSBmcm9tICdncm9tbWV0JztcXG48Q2xvY2sgLz5cIikuaW50cmluc2ljRWxlbWVudChbJ2RpdicsICdzdmcnXSk7XG4gIERvY3VtZW50ZWRDbG9jay5wcm9wVHlwZXMgPSBfZXh0ZW5kcyh7fSwgZ2VuZXJpY1Byb3BzLCB7XG4gICAgaG91ckxpbWl0OiBQcm9wVHlwZXMub25lT2YoWzEyLCAyNCwgJzEyJywgJzI0J10pLmRlc2NyaXB0aW9uKCdXaGV0aGVyIHRvIHJvbGwgb3ZlciB0aGUgaG91cnMgYWZ0ZXIgMTIgb3IgYWZ0ZXIgMjQuJykuZGVmYXVsdFZhbHVlKDI0KSxcbiAgICBvbkNoYW5nZTogUHJvcFR5cGVzLmZ1bmMuZGVzY3JpcHRpb24oXCJJZiB0aGUgY2xvY2sgaXMgcnVubmluZywgdGhpcyBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCB3aXRoIHRoZVxcbiAgICAgIGN1cnJlbnQgdGltZSB2YWx1ZSBlYWNoIHRpbWUgaXQgY2hhbmdlcy5cIiksXG4gICAgcHJlY2lzaW9uOiBQcm9wVHlwZXMub25lT2YoWydob3VycycsICdtaW51dGVzJywgJ3NlY29uZHMnXSkuZGVzY3JpcHRpb24oJ0hvdyBwcmVjaXNlIGEgdGltZSB0byByZXByZXNlbnQuJykuZGVmYXVsdFZhbHVlKCdzZWNvbmRzJyksXG4gICAgcnVuOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuYm9vbCwgUHJvcFR5cGVzLm9uZU9mKFsnYmFja3dhcmQnLCAnZm9yd2FyZCddKV0pLmRlc2NyaXB0aW9uKFwiV2hldGhlciB0aGUgY2xvY2sgc2hvdWxkIGFjdGl2ZWx5IGFkanVzdCB0aW1lIG9yIGJlIGZpeGVkIHRvIHRoZVxcbiAgICAgIHRpbWUgc3BlY2lmaWVkLiAnYmFja3dhcmQnIGNvdWxkIGJlIHVzZWQgYXMgYSBjb3VudGRvd24gdGltZXIuXCIpLmRlZmF1bHRWYWx1ZSgnZm9yd2FyZCcpLFxuICAgIHNpemU6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbJ3NtYWxsJywgJ21lZGl1bScsICdsYXJnZScsICd4bGFyZ2UnXSksIFByb3BUeXBlcy5zdHJpbmddKS5kZXNjcmlwdGlvbignQ2xvY2sgc2l6ZScpLmRlZmF1bHRWYWx1ZSgnbWVkaXVtJyksXG4gICAgdGltZTogUHJvcFR5cGVzLnN0cmluZy5kZXNjcmlwdGlvbihcIklTTzg2MDEgdGltZSBvciBkdXJhdGlvbi4gRm9yIGV4YW1wbGU6ICdQVDhIMTJNMjNTJyxcXG4gICAgICAnVDA4OjEyOjIzJywgb3IgJzIwMTUtMDItMjJUMDg6MTI6MjMnLiBBbnkgaW5jbHVkZWQgZGF0ZVxcbiAgICAgIHBvcnRpb24gd2lsbCBiZSBpZ25vcmVkIGZvciBhbiBhbmFsb2cgY2xvY2suIElmIG5vdCBwcm92aWRlZCwgdGhlXFxuICAgICAgY3VycmVudCBicm93c2VyIHRpbWUgd2lsbCBiZSB1c2VkLlwiKSxcbiAgICB0eXBlOiBQcm9wVHlwZXMub25lT2YoWydhbmFsb2cnLCAnZGlnaXRhbCddKS5kZXNjcmlwdGlvbignV2hhdCB0eXBlIG9mIHZpc3VhbGl6YXRpb24gdG8gc2hvdy4nKS5kZWZhdWx0VmFsdWUoJ2FuYWxvZycpXG4gIH0pO1xuICByZXR1cm4gRG9jdW1lbnRlZENsb2NrO1xufTtcbmV4cG9ydCB2YXIgdGhlbWVEb2MgPSB7XG4gICdjbG9jay5hbmFsb2cuZXh0ZW5kJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnQW55IGFkZGl0aW9uYWwgc3R5bGUgZm9yIENsb2NrLicsXG4gICAgdHlwZTogJ3N0cmluZyB8IChwcm9wcykgPT4ge30nLFxuICAgIGRlZmF1bHRWYWx1ZTogdW5kZWZpbmVkXG4gIH0sXG4gICdjbG9jay5hbmFsb2cuaG91ci5jb2xvcic6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBjb2xvciBvZiB0aGUgaG91ciBoYW5kLicsXG4gICAgdHlwZTogJ3N0cmluZyB8IHsgZGFyazogc3RyaW5nLCBsaWdodDogc3RyaW5nIH0nLFxuICAgIGRlZmF1bHRWYWx1ZTogJ3sgZGFyazogbGlnaHQtMiwgbGlnaHQ6IGRhcmstMyB9J1xuICB9LFxuICAnY2xvY2suYW5hbG9nLmhvdXIuc2hhcGUnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgc2hhcGUgb2YgdGhlIGhvdXIgaGFuZCcsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiAncm91bmQnXG4gIH0sXG4gICdjbG9jay5hbmFsb2cuaG91ci5zaXplJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGxlbmd0aCBvZiB0aGUgaG91ciBoYW5kLicsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiAnMjRweCdcbiAgfSxcbiAgJ2Nsb2NrLmFuYWxvZy5ob3VyLndpZHRoJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIHRoaWNrbmVzcyBvZiB0aGUgaG91ciBoYW5kJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICc4cHgnXG4gIH0sXG4gICdjbG9jay5hbmFsb2cubWludXRlLmNvbG9yJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGNvbG9yIG9mIHRoZSBob3VyIG1pbnV0ZS4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCB7IGRhcms6IHN0cmluZywgbGlnaHQ6IHN0cmluZyB9JyxcbiAgICBkZWZhdWx0VmFsdWU6ICd7IGRhcms6IGxpZ2h0LTQsIGxpZ2h0OiBkYXJrLTMgfSdcbiAgfSxcbiAgJ2Nsb2NrLmFuYWxvZy5taW51dGUuc2hhcGUnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgc2hhcGUgb2YgdGhlIG1pbnV0ZSBoYW5kLicsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiAncm91bmQnXG4gIH0sXG4gICdjbG9jay5hbmFsb2cubWludXRlLnNpemUnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgbGVuZ3RoIG9mIHRoZSBtaW51dGUgaGFuZC4nLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogJzEycHgnXG4gIH0sXG4gICdjbG9jay5hbmFsb2cubWludXRlLndpZHRoJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIHRoaWNrbmVzcyBvZiB0aGUgbWludXRlIGhhbmQuJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICc0cHgnXG4gIH0sXG4gICdjbG9jay5hbmFsb2cuc2Vjb25kLmNvbG9yJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGNvbG9yIG9mIHRoZSBzZWNvbmRzIGhhbmQnLFxuICAgIHR5cGU6ICdzdHJpbmcgfCB7IGRhcms6IHN0cmluZywgbGlnaHQ6IHN0cmluZyB9JyxcbiAgICBkZWZhdWx0VmFsdWU6ICd7IGRhcms6IGFjY2VudC0xLCBsaWdodDogYWNjZW50LTEgfSdcbiAgfSxcbiAgJ2Nsb2NrLmFuYWxvZy5zZWNvbmQuc2hhcGUnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgc2hhcGUgb2YgdGhlIHNlY29uZHMgaGFuZC4nLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogJ3JvdW5kJ1xuICB9LFxuICAnY2xvY2suYW5hbG9nLnNlY29uZC5zaXplJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGxlbmd0aCBvZiB0aGUgc2Vjb25kcyBoYW5kLicsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiAnMTBweCdcbiAgfSxcbiAgJ2Nsb2NrLmFuYWxvZy5zZWNvbmQud2lkdGgnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgdGhpY2tuZXNzIG9mIHRoZSBzZWNvbmRzIGhhbmQuJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICczcHgnXG4gIH0sXG4gICdjbG9jay5hbmFsb2cuc2l6ZS5tZWRpdW0nOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgd2hvbGUgc2l6ZSBvZiB0aGUgQW5hbG9nIGNsb2NrJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICc5NnB4J1xuICB9XG59OyIsImV4cG9ydCB7IENsb2NrIH0gZnJvbSAnLi9DbG9jayc7IiwiZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0c0xvb3NlKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcy5wcm90b3R5cGUpOyBzdWJDbGFzcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBzdWJDbGFzczsgc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5pbXBvcnQgUmVhY3QsIHsgY3JlYXRlUmVmLCBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjb21wb3NlIH0gZnJvbSAncmVjb21wb3NlJztcbmltcG9ydCBzdHlsZWQsIHsgd2l0aFRoZW1lIH0gZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgZGVmYXVsdFByb3BzIH0gZnJvbSAnLi4vLi4vZGVmYXVsdC1wcm9wcyc7XG5pbXBvcnQgeyBCb3ggfSBmcm9tICcuLi9Cb3gnO1xuXG52YXIgYW5pbWF0ZWRCb3hQcm9wZXJ0eSA9IGZ1bmN0aW9uIGFuaW1hdGVkQm94UHJvcGVydHkoZGlyZWN0aW9uKSB7XG4gIHJldHVybiBkaXJlY3Rpb24gPT09ICdob3Jpem9udGFsJyA/ICd3aWR0aCcgOiAnaGVpZ2h0Jztcbn07XG5cbnZhciBBbmltYXRlZEJveCA9IHN0eWxlZChCb3gpLndpdGhDb25maWcoe1xuICBkaXNwbGF5TmFtZTogXCJDb2xsYXBzaWJsZV9fQW5pbWF0ZWRCb3hcIixcbiAgY29tcG9uZW50SWQ6IFwic2MtMTVrbml1YS0wXCJcbn0pKFtcIlwiLCBcIjtcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gIXByb3BzLmFuaW1hdGUgJiYgKHByb3BzLm9wZW4gPyBcIlxcbiAgICBtYXgtXCIgKyBhbmltYXRlZEJveFByb3BlcnR5KHByb3BzLmNvbGxhcHNpYmxlRGlyZWN0aW9uKSArIFwiOiB1bnNldDtcXG4gICAgdmlzaWJpbGl0eTogdmlzaWJsZTtcXG4gIFwiIDogXCJcXG4gICAgbWF4LVwiICsgYW5pbWF0ZWRCb3hQcm9wZXJ0eShwcm9wcy5jb2xsYXBzaWJsZURpcmVjdGlvbikgKyBcIjogMDtcXG4gICAgdmlzaWJpbGl0eTogaGlkZGVuO1xcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgXCIpO1xufSk7XG5cbnZhciBDb2xsYXBzaWJsZSA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBfaW5oZXJpdHNMb29zZShDb2xsYXBzaWJsZSwgX0NvbXBvbmVudCk7XG5cbiAgQ29sbGFwc2libGUuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID0gZnVuY3Rpb24gZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKG5leHRQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgdmFyIG9wZW4gPSBuZXh0UHJvcHMub3BlbjtcblxuICAgIGlmIChvcGVuICE9PSBwcmV2U3RhdGUub3Blbikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYW5pbWF0ZTogdHJ1ZSxcbiAgICAgICAgb3Blbjogb3BlblxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICBmdW5jdGlvbiBDb2xsYXBzaWJsZShwcm9wcywgY29udGV4dCkge1xuICAgIHZhciBfdGhpcztcblxuICAgIF90aGlzID0gX0NvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzLCBjb250ZXh0KSB8fCB0aGlzO1xuICAgIC8qIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC9wcm9wLXR5cGVzICovXG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwicmVmXCIsIGNyZWF0ZVJlZigpKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJnZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXMucmVmLmN1cnJlbnQgJiYgX3RoaXMucmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgfSk7XG5cbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIG9wZW46IHByb3BzLm9wZW4sXG4gICAgICBhbmltYXRlOiBmYWxzZVxuICAgIH07XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IENvbGxhcHNpYmxlLnByb3RvdHlwZTtcblxuICBfcHJvdG8uY29tcG9uZW50RGlkVXBkYXRlID0gZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcywgcHJldlN0YXRlLCBzbmFwc2hvdCkge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgdmFyIF90aGlzJHByb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgZGlyZWN0aW9uID0gX3RoaXMkcHJvcHMuZGlyZWN0aW9uLFxuICAgICAgICBfdGhpcyRwcm9wcyR0aGVtZSRjb2wgPSBfdGhpcyRwcm9wcy50aGVtZS5jb2xsYXBzaWJsZSxcbiAgICAgICAgbWluU3BlZWQgPSBfdGhpcyRwcm9wcyR0aGVtZSRjb2wubWluU3BlZWQsXG4gICAgICAgIGJhc2VsaW5lID0gX3RoaXMkcHJvcHMkdGhlbWUkY29sLmJhc2VsaW5lO1xuICAgIHZhciBfdGhpcyRzdGF0ZSA9IHRoaXMuc3RhdGUsXG4gICAgICAgIGFuaW1hdGUgPSBfdGhpcyRzdGF0ZS5hbmltYXRlLFxuICAgICAgICBvcGVuID0gX3RoaXMkc3RhdGUub3BlbjtcbiAgICB2YXIgY29udGFpbmVyID0gdGhpcy5yZWYuY3VycmVudDtcblxuICAgIGlmIChjb250YWluZXIpIHtcbiAgICAgIHZhciBkaW1lbnNpb24gPSBhbmltYXRlZEJveFByb3BlcnR5KGRpcmVjdGlvbik7XG4gICAgICB2YXIgYm91ZGluZ0NsaWVudFJlY3QgPSBjb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICB2YXIgZGltZW5zaW9uU2l6ZSA9IGJvdWRpbmdDbGllbnRSZWN0W2RpbWVuc2lvbl07XG4gICAgICB2YXIgc2hvdWxkQW5pbWF0ZSA9IGFuaW1hdGUgJiYgcHJldlN0YXRlLm9wZW4gIT09IG9wZW47XG5cbiAgICAgIGlmIChvcGVuICYmIHNuYXBzaG90W2RpbWVuc2lvbl0gJiYgZGltZW5zaW9uU2l6ZSAhPT0gc25hcHNob3RbZGltZW5zaW9uXSkge1xuICAgICAgICBzaG91bGRBbmltYXRlID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHNob3VsZEFuaW1hdGUpIHtcbiAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uVGltZW91dCkge1xuICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmFuaW1hdGlvblRpbWVvdXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNwZWVkID0gTWF0aC5tYXgoZGltZW5zaW9uU2l6ZSAvIGJhc2VsaW5lICogbWluU3BlZWQsIG1pblNwZWVkKTtcbiAgICAgICAgY29udGFpbmVyLnN0eWxlW1wibWF4LVwiICsgZGltZW5zaW9uXSA9IHNuYXBzaG90W2RpbWVuc2lvbl0gKyBcInB4XCI7XG4gICAgICAgIGNvbnRhaW5lci5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LWxlblxuICAgICAgICAgICAgY29udGFpbmVyLnN0eWxlLnRyYW5zaXRpb24gPSBcIm1heC1cIiArIGRpbWVuc2lvbiArIFwiIFwiICsgc3BlZWQgKyBcIm1zLCB2aXNpYmlsaXR5IDUwbXNcIjtcbiAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZVtcIm1heC1cIiArIGRpbWVuc2lvbl0gPSBvcGVuID8gZGltZW5zaW9uU2l6ZSArIFwicHhcIiA6ICcwcHgnO1xuICAgICAgICAgICAgX3RoaXMyLmFuaW1hdGlvblRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgY29udGFpbmVyLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcblxuICAgICAgICAgICAgICBfdGhpczIuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIGFuaW1hdGU6IGZhbHNlXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSwgc3BlZWQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgaWYgKHRoaXMuYW5pbWF0aW9uVGltZW91dCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuYW5pbWF0aW9uVGltZW91dCk7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgLyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0L3Byb3AtdHlwZXMgKi9cbiAgICB2YXIgX3RoaXMkcHJvcHMyID0gdGhpcy5wcm9wcyxcbiAgICAgICAgY2hpbGRyZW4gPSBfdGhpcyRwcm9wczIuY2hpbGRyZW4sXG4gICAgICAgIGRpcmVjdGlvbiA9IF90aGlzJHByb3BzMi5kaXJlY3Rpb247XG4gICAgdmFyIF90aGlzJHN0YXRlMiA9IHRoaXMuc3RhdGUsXG4gICAgICAgIGFuaW1hdGUgPSBfdGhpcyRzdGF0ZTIuYW5pbWF0ZSxcbiAgICAgICAgb3BlbiA9IF90aGlzJHN0YXRlMi5vcGVuO1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEFuaW1hdGVkQm94LCB7XG4gICAgICBcImFyaWEtaGlkZGVuXCI6ICFvcGVuLFxuICAgICAgcmVmOiB0aGlzLnJlZixcbiAgICAgIG9wZW46IG9wZW4sXG4gICAgICBhbmltYXRlOiBhbmltYXRlLFxuICAgICAgY29sbGFwc2libGVEaXJlY3Rpb246IGRpcmVjdGlvblxuICAgIH0sIGNoaWxkcmVuKTtcbiAgfTtcblxuICByZXR1cm4gQ29sbGFwc2libGU7XG59KENvbXBvbmVudCk7XG5cbkNvbGxhcHNpYmxlLmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKENvbGxhcHNpYmxlLmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbnZhciBDb2xsYXBzaWJsZURvYztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGdsb2JhbC1yZXF1aXJlXG4gIENvbGxhcHNpYmxlRG9jID0gcmVxdWlyZSgnLi9kb2MnKS5kb2MoQ29sbGFwc2libGUpO1xufVxuXG52YXIgQ29sbGFwc2libGVXcmFwcGVyID0gY29tcG9zZSh3aXRoVGhlbWUpKENvbGxhcHNpYmxlRG9jIHx8IENvbGxhcHNpYmxlKTtcbmV4cG9ydCB7IENvbGxhcHNpYmxlV3JhcHBlciBhcyBDb2xsYXBzaWJsZSB9OyIsImltcG9ydCB7IGRlc2NyaWJlLCBQcm9wVHlwZXMgfSBmcm9tICdyZWFjdC1kZXNjJztcbmV4cG9ydCB2YXIgZG9jID0gZnVuY3Rpb24gZG9jKENvbGxhcHNpYmxlKSB7XG4gIHZhciBEb2N1bWVudGVkQ29sbGFwc2libGUgPSBkZXNjcmliZShDb2xsYXBzaWJsZSkuZGVzY3JpcHRpb24oJ0V4cGFuZCBvciBjb2xsYXBzZSBhbmltYXRpb24uJykudXNhZ2UoXCJpbXBvcnQgeyBDb2xsYXBzaWJsZSB9IGZyb20gJ2dyb21tZXQnO1xcbjxDb2xsYXBzaWJsZSBvcGVuPnRlc3Q8L0NvbGxhcHNpYmxlPlwiKS5pbnRyaW5zaWNFbGVtZW50KCdkaXYnKTtcbiAgRG9jdW1lbnRlZENvbGxhcHNpYmxlLnByb3BUeXBlcyA9IHtcbiAgICBvcGVuOiBQcm9wVHlwZXMuYm9vbC5kZXNjcmlwdGlvbignV2hldGhlciBvciBub3QgdGhlIGNvbXBvbmVudCBzaG91bGQgYmUgb3Blbi4nKSxcbiAgICBkaXJlY3Rpb246IFByb3BUeXBlcy5vbmVPZihbJ2hvcml6b250YWwnLCAndmVydGljYWwnXSkuZGVzY3JpcHRpb24oJ0RpcmVjdGlvbiB0byBhbmltYXRlIHRoZSBjb2xsYXBzaWJsZSBjb250ZW50LicpLmRlZmF1bHRWYWx1ZSgndmVydGljYWwnKVxuICB9O1xuICByZXR1cm4gRG9jdW1lbnRlZENvbGxhcHNpYmxlO1xufTtcbmV4cG9ydCB2YXIgdGhlbWVEb2MgPSB7XG4gICdjb2xsYXBzaWJsZS5taW5TcGVlZCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBtaW5pbXVtIHNwZWVkIG9mIENvbGxhcHNpYmxlIGFuaW1hdGlvbiBpbiBtaWxsaXNlY29uZHMuJyxcbiAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICBkZWZhdWx0VmFsdWU6IDIwMFxuICB9LFxuICAnY29sbGFwc2libGUuYmFzZWxpbmUnOiB7XG4gICAgZGVzY3JpcHRpb246ICdEZWZhdWx0IGhlaWdodCB0byBiZSB1c2VkIHRvIGNhbGN1bGF0ZSB0aGUgb3B0aW1hbCBjb2xsYXBzaWJsZSBzcGVlZC4nLFxuICAgIHR5cGU6ICdudW1iZXInLFxuICAgIGRlZmF1bHRWYWx1ZTogNTAwXG4gIH0sXG4gICdjb2xsYXBzaWJsZS5leHRlbmQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdBbnkgYWRkaXRpb25hbCBzdHlsZSBmb3IgQ29sbGFwc2libGUuJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgKHByb3BzKSA9PiB7fScsXG4gICAgZGVmYXVsdFZhbHVlOiB1bmRlZmluZWRcbiAgfVxufTsiLCJleHBvcnQgeyBDb2xsYXBzaWJsZSB9IGZyb20gJy4vQ29sbGFwc2libGUnOyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbXBvc2UgfSBmcm9tICdyZWNvbXBvc2UnO1xuaW1wb3J0IHsgSW5maW5pdGVTY3JvbGwgfSBmcm9tICcuLi9JbmZpbml0ZVNjcm9sbCc7XG5pbXBvcnQgeyBUYWJsZVJvdyB9IGZyb20gJy4uL1RhYmxlUm93JztcbmltcG9ydCB7IFRhYmxlQ2VsbCB9IGZyb20gJy4uL1RhYmxlQ2VsbCc7XG5pbXBvcnQgeyBLZXlib2FyZCB9IGZyb20gJy4uL0tleWJvYXJkJztcbmltcG9ydCB7IHdpdGhGb2N1cywgd2l0aEZvcndhcmRSZWYgfSBmcm9tICcuLi9ob2NzJztcbmltcG9ydCB7IENlbGwgfSBmcm9tICcuL0NlbGwnO1xuaW1wb3J0IHsgU3R5bGVkRGF0YVRhYmxlQm9keSwgU3R5bGVkRGF0YVRhYmxlUm93IH0gZnJvbSAnLi9TdHlsZWREYXRhVGFibGUnO1xuaW1wb3J0IHsgZGF0dW1WYWx1ZSB9IGZyb20gJy4vYnVpbGRTdGF0ZSc7XG5cbnZhciBCb2R5ID0gZnVuY3Rpb24gQm9keShfcmVmKSB7XG4gIHZhciBiYWNrZ3JvdW5kID0gX3JlZi5iYWNrZ3JvdW5kLFxuICAgICAgYm9yZGVyID0gX3JlZi5ib3JkZXIsXG4gICAgICBjb2x1bW5zID0gX3JlZi5jb2x1bW5zLFxuICAgICAgZGF0YSA9IF9yZWYuZGF0YSxcbiAgICAgIGZvcndhcmRSZWYgPSBfcmVmLmZvcndhcmRSZWYsXG4gICAgICBvbk1vcmUgPSBfcmVmLm9uTW9yZSxcbiAgICAgIHJlcGxhY2UgPSBfcmVmLnJlcGxhY2UsXG4gICAgICBvbkNsaWNrUm93ID0gX3JlZi5vbkNsaWNrUm93LFxuICAgICAgcGFkID0gX3JlZi5wYWQsXG4gICAgICBwcmltYXJ5UHJvcGVydHkgPSBfcmVmLnByaW1hcnlQcm9wZXJ0eSxcbiAgICAgIHJvd1Byb3BzID0gX3JlZi5yb3dQcm9wcyxcbiAgICAgIHNpemUgPSBfcmVmLnNpemUsXG4gICAgICBzdGVwID0gX3JlZi5zdGVwLFxuICAgICAgdGhlbWUgPSBfcmVmLnRoZW1lLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9yZWYsIFtcImJhY2tncm91bmRcIiwgXCJib3JkZXJcIiwgXCJjb2x1bW5zXCIsIFwiZGF0YVwiLCBcImZvcndhcmRSZWZcIiwgXCJvbk1vcmVcIiwgXCJyZXBsYWNlXCIsIFwib25DbGlja1Jvd1wiLCBcInBhZFwiLCBcInByaW1hcnlQcm9wZXJ0eVwiLCBcInJvd1Byb3BzXCIsIFwic2l6ZVwiLCBcInN0ZXBcIiwgXCJ0aGVtZVwiXSk7XG5cbiAgdmFyIF9SZWFjdCR1c2VTdGF0ZSA9IFJlYWN0LnVzZVN0YXRlKCksXG4gICAgICBhY3RpdmUgPSBfUmVhY3QkdXNlU3RhdGVbMF0sXG4gICAgICBzZXRBY3RpdmUgPSBfUmVhY3QkdXNlU3RhdGVbMV07XG5cbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoS2V5Ym9hcmQsIHtcbiAgICBvbkVudGVyOiBvbkNsaWNrUm93ICYmIGFjdGl2ZSA+PSAwID8gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBldmVudC5wZXJzaXN0KCk7XG4gICAgICB2YXIgYWRqdXN0ZWRFdmVudCA9IGV2ZW50O1xuICAgICAgYWRqdXN0ZWRFdmVudC5kYXR1bSA9IGRhdGFbYWN0aXZlXTtcbiAgICAgIG9uQ2xpY2tSb3coYWRqdXN0ZWRFdmVudCk7XG4gICAgfSA6IHVuZGVmaW5lZCxcbiAgICBvblVwOiBvbkNsaWNrUm93ICYmIGFjdGl2ZSA/IGZ1bmN0aW9uICgpIHtcbiAgICAgIHNldEFjdGl2ZShhY3RpdmUgLSAxKTtcbiAgICB9IDogdW5kZWZpbmVkLFxuICAgIG9uRG93bjogb25DbGlja1JvdyAmJiBkYXRhLmxlbmd0aCA/IGZ1bmN0aW9uICgpIHtcbiAgICAgIHNldEFjdGl2ZShhY3RpdmUgPj0gMCA/IE1hdGgubWluKGFjdGl2ZSArIDEsIGRhdGEubGVuZ3RoIC0gMSkgOiAwKTtcbiAgICB9IDogdW5kZWZpbmVkXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkRGF0YVRhYmxlQm9keSwgX2V4dGVuZHMoe1xuICAgIHJlZjogZm9yd2FyZFJlZixcbiAgICBzaXplOiBzaXplLFxuICAgIHRhYkluZGV4OiBvbkNsaWNrUm93ID8gMCA6IHVuZGVmaW5lZFxuICB9LCByZXN0KSwgUmVhY3QuY3JlYXRlRWxlbWVudChJbmZpbml0ZVNjcm9sbCwge1xuICAgIGl0ZW1zOiBkYXRhLFxuICAgIG9uTW9yZTogb25Nb3JlLFxuICAgIHJlcGxhY2U6IHJlcGxhY2UsXG4gICAgcmVuZGVyTWFya2VyOiBmdW5jdGlvbiByZW5kZXJNYXJrZXIobWFya2VyKSB7XG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChUYWJsZVJvdywgbnVsbCwgUmVhY3QuY3JlYXRlRWxlbWVudChUYWJsZUNlbGwsIG51bGwsIG1hcmtlcikpO1xuICAgIH0sXG4gICAgc2Nyb2xsYWJsZUFuY2VzdG9yOiBcIndpbmRvd1wiLFxuICAgIHN0ZXA6IHN0ZXBcbiAgfSwgZnVuY3Rpb24gKGRhdHVtLCBpbmRleCkge1xuICAgIHZhciBwcmltYXJ5VmFsdWUgPSBwcmltYXJ5UHJvcGVydHkgPyBkYXR1bVZhbHVlKGRhdHVtLCBwcmltYXJ5UHJvcGVydHkpIDogdW5kZWZpbmVkO1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZERhdGFUYWJsZVJvdywge1xuICAgICAga2V5OiBwcmltYXJ5VmFsdWUgfHwgaW5kZXgsXG4gICAgICBzaXplOiBzaXplLFxuICAgICAgYWN0aXZlOiBhY3RpdmUgPj0gMCA/IGFjdGl2ZSA9PT0gaW5kZXggOiB1bmRlZmluZWQsXG4gICAgICBvbkNsaWNrOiBvbkNsaWNrUm93ID8gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIC8vIGV4dHJhY3QgZnJvbSBSZWFjdCdzIHN5bnRoZXRpYyBldmVudCBwb29sXG4gICAgICAgIGV2ZW50LnBlcnNpc3QoKTtcbiAgICAgICAgdmFyIGFkanVzdGVkRXZlbnQgPSBldmVudDtcbiAgICAgICAgYWRqdXN0ZWRFdmVudC5kYXR1bSA9IGRhdHVtO1xuICAgICAgICBhZGp1c3RlZEV2ZW50LmluZGV4ID0gaW5kZXg7XG4gICAgICAgIG9uQ2xpY2tSb3coYWRqdXN0ZWRFdmVudCk7XG4gICAgICB9IDogdW5kZWZpbmVkLFxuICAgICAgb25Nb3VzZU92ZXI6IG9uQ2xpY2tSb3cgPyBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBzZXRBY3RpdmUoaW5kZXgpO1xuICAgICAgfSA6IHVuZGVmaW5lZCxcbiAgICAgIG9uTW91c2VPdXQ6IG9uQ2xpY2tSb3cgPyBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBzZXRBY3RpdmUodW5kZWZpbmVkKTtcbiAgICAgIH0gOiB1bmRlZmluZWQsXG4gICAgICBvbkZvY3VzOiBvbkNsaWNrUm93ID8gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gc2V0QWN0aXZlKGluZGV4KTtcbiAgICAgIH0gOiB1bmRlZmluZWQsXG4gICAgICBvbkJsdXI6IG9uQ2xpY2tSb3cgPyBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBzZXRBY3RpdmUodW5kZWZpbmVkKTtcbiAgICAgIH0gOiB1bmRlZmluZWRcbiAgICB9LCBjb2x1bW5zLm1hcChmdW5jdGlvbiAoY29sdW1uKSB7XG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChDZWxsLCB7XG4gICAgICAgIGtleTogY29sdW1uLnByb3BlcnR5LFxuICAgICAgICBiYWNrZ3JvdW5kOiBiYWNrZ3JvdW5kLFxuICAgICAgICBib3JkZXI6IGJvcmRlcixcbiAgICAgICAgY29udGV4dDogXCJib2R5XCIsXG4gICAgICAgIGNvbHVtbjogY29sdW1uLFxuICAgICAgICBkYXR1bTogZGF0dW0sXG4gICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgcGFkOiBwYWQsXG4gICAgICAgIHByaW1hcnlQcm9wZXJ0eTogcHJpbWFyeVByb3BlcnR5LFxuICAgICAgICByb3dQcm9wOiByb3dQcm9wcyAmJiByb3dQcm9wc1twcmltYXJ5VmFsdWVdLFxuICAgICAgICBzY29wZTogY29sdW1uLnByaW1hcnkgfHwgY29sdW1uLnByb3BlcnR5ID09PSBwcmltYXJ5UHJvcGVydHkgPyAncm93JyA6IHVuZGVmaW5lZFxuICAgICAgfSk7XG4gICAgfSkpO1xuICB9KSkpO1xufTtcblxudmFyIEJ1dHRvbldyYXBwZXIgPSBjb21wb3NlKHdpdGhGb2N1cygpLCB3aXRoRm9yd2FyZFJlZikoQm9keSk7XG5leHBvcnQgeyBCdXR0b25XcmFwcGVyIGFzIEJvZHkgfTsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY29tcG9zZSB9IGZyb20gJ3JlY29tcG9zZSc7XG5pbXBvcnQgeyB3aXRoVGhlbWUgfSBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBkZWZhdWx0UHJvcHMgfSBmcm9tICcuLi8uLi9kZWZhdWx0LXByb3BzJztcbmltcG9ydCB7IFRhYmxlQ2VsbCB9IGZyb20gJy4uL1RhYmxlQ2VsbCc7XG5pbXBvcnQgeyBUZXh0IH0gZnJvbSAnLi4vVGV4dCc7XG5pbXBvcnQgeyBkYXR1bVZhbHVlIH0gZnJvbSAnLi9idWlsZFN0YXRlJztcblxudmFyIG5vcm1hbGl6ZVByb3AgPSBmdW5jdGlvbiBub3JtYWxpemVQcm9wKG5hbWUsIHJvd1Byb3AsIHByb3ApIHtcbiAgaWYgKHJvd1Byb3AgJiYgcm93UHJvcFtuYW1lXSkgcmV0dXJuIHJvd1Byb3BbbmFtZV07XG4gIHJldHVybiBwcm9wO1xufTtcblxudmFyIENlbGwgPSBmdW5jdGlvbiBDZWxsKF9yZWYpIHtcbiAgdmFyIGJhY2tncm91bmQgPSBfcmVmLmJhY2tncm91bmQsXG4gICAgICBib3JkZXIgPSBfcmVmLmJvcmRlcixcbiAgICAgIF9yZWYkY29sdW1uID0gX3JlZi5jb2x1bW4sXG4gICAgICBhbGlnbiA9IF9yZWYkY29sdW1uLmFsaWduLFxuICAgICAgcHJvcGVydHkgPSBfcmVmJGNvbHVtbi5wcm9wZXJ0eSxcbiAgICAgIHJlbmRlciA9IF9yZWYkY29sdW1uLnJlbmRlcixcbiAgICAgIGNvbnRleHQgPSBfcmVmLmNvbnRleHQsXG4gICAgICBkYXR1bSA9IF9yZWYuZGF0dW0sXG4gICAgICBpbmRleCA9IF9yZWYuaW5kZXgsXG4gICAgICBwYWQgPSBfcmVmLnBhZCxcbiAgICAgIHByaW1hcnlQcm9wZXJ0eSA9IF9yZWYucHJpbWFyeVByb3BlcnR5LFxuICAgICAgcm93UHJvcCA9IF9yZWYucm93UHJvcCxcbiAgICAgIHNjb3BlID0gX3JlZi5zY29wZSxcbiAgICAgIHRoZW1lID0gX3JlZi50aGVtZTtcbiAgdmFyIHZhbHVlID0gZGF0dW1WYWx1ZShkYXR1bSwgcHJvcGVydHkpO1xuICB2YXIgY29udGVudDtcblxuICBpZiAocmVuZGVyKSB7XG4gICAgY29udGVudCA9IHJlbmRlcihkYXR1bSk7XG4gIH0gZWxzZSBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgIGNvbnRlbnQgPSB2YWx1ZTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIGNvbnRlbnQgPT09ICdudW1iZXInKSB7XG4gICAgdmFyIHRleHRQcm9wcyA9IHByb3BlcnR5ID09PSBwcmltYXJ5UHJvcGVydHkgPyB0aGVtZS5kYXRhVGFibGUucHJpbWFyeSA6IHt9O1xuICAgIGNvbnRlbnQgPSBSZWFjdC5jcmVhdGVFbGVtZW50KFRleHQsIHRleHRQcm9wcywgY29udGVudCk7XG4gIH1cblxuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChUYWJsZUNlbGwsIF9leHRlbmRzKHtcbiAgICBzY29wZTogc2NvcGVcbiAgfSwgdGhlbWUuZGF0YVRhYmxlW2NvbnRleHRdLCB7XG4gICAgYWxpZ246IGFsaWduLFxuICAgIGJhY2tncm91bmQ6IG5vcm1hbGl6ZVByb3AoJ2JhY2tncm91bmQnLCByb3dQcm9wLCBBcnJheS5pc0FycmF5KGJhY2tncm91bmQpID8gYmFja2dyb3VuZFtpbmRleCAlIGJhY2tncm91bmQubGVuZ3RoXSA6IGJhY2tncm91bmQpLFxuICAgIGJvcmRlcjogbm9ybWFsaXplUHJvcCgnYm9yZGVyJywgcm93UHJvcCwgYm9yZGVyKSxcbiAgICBwYWQ6IG5vcm1hbGl6ZVByb3AoJ3BhZCcsIHJvd1Byb3AsIHBhZClcbiAgfSksIGNvbnRlbnQpO1xufTtcblxuQ2VsbC5kZWZhdWx0UHJvcHMgPSB7fTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihDZWxsLmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbnZhciBDZWxsV3JhcHBlciA9IGNvbXBvc2Uod2l0aFRoZW1lKShDZWxsKTtcbmV4cG9ydCB7IENlbGxXcmFwcGVyIGFzIENlbGwgfTsiLCJmdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHNMb29zZShzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MucHJvdG90eXBlKTsgc3ViQ2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gc3ViQ2xhc3M7IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEhlYWRlciB9IGZyb20gJy4vSGVhZGVyJztcbmltcG9ydCB7IEZvb3RlciB9IGZyb20gJy4vRm9vdGVyJztcbmltcG9ydCB7IEJvZHkgfSBmcm9tICcuL0JvZHknO1xuaW1wb3J0IHsgR3JvdXBlZEJvZHkgfSBmcm9tICcuL0dyb3VwZWRCb2R5JztcbmltcG9ydCB7IGJ1aWxkU3RhdGUgfSBmcm9tICcuL2J1aWxkU3RhdGUnO1xuaW1wb3J0IHsgU3R5bGVkRGF0YVRhYmxlIH0gZnJvbSAnLi9TdHlsZWREYXRhVGFibGUnO1xudmFyIGNvbnRleHRzID0gWydoZWFkZXInLCAnYm9keScsICdmb290ZXInXTtcblxudmFyIG5vcm1hbGl6ZVByb3AgPSBmdW5jdGlvbiBub3JtYWxpemVQcm9wKHByb3AsIGNvbnRleHQpIHtcbiAgaWYgKHByb3ApIHtcbiAgICBpZiAocHJvcFtjb250ZXh0XSkgcmV0dXJuIHByb3BbY29udGV4dF07XG4gICAgaWYgKGNvbnRleHRzLnNvbWUoZnVuY3Rpb24gKGMpIHtcbiAgICAgIHJldHVybiBwcm9wW2NdO1xuICAgIH0pKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgIHJldHVybiBwcm9wO1xuICB9XG5cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn07XG5cbnZhciBEYXRhVGFibGUgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoRGF0YVRhYmxlLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBEYXRhVGFibGUoKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIF90aGlzID0gX0NvbXBvbmVudC5jYWxsLmFwcGx5KF9Db21wb25lbnQsIFt0aGlzXS5jb25jYXQoYXJncykpIHx8IHRoaXM7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwic3RhdGVcIiwge30pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIm9uRmlsdGVyaW5nXCIsIGZ1bmN0aW9uIChwcm9wZXJ0eSkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBmaWx0ZXJpbmc6IHByb3BlcnR5XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJvbkZpbHRlclwiLCBmdW5jdGlvbiAocHJvcGVydHksIHZhbHVlKSB7XG4gICAgICAvKiBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QvcHJvcC10eXBlcyAqL1xuICAgICAgdmFyIG9uU2VhcmNoID0gX3RoaXMucHJvcHMub25TZWFyY2g7XG4gICAgICB2YXIgZmlsdGVycyA9IF90aGlzLnN0YXRlLmZpbHRlcnM7XG5cbiAgICAgIHZhciBuZXh0RmlsdGVycyA9IF9leHRlbmRzKHt9LCBmaWx0ZXJzKTtcblxuICAgICAgbmV4dEZpbHRlcnNbcHJvcGVydHldID0gdmFsdWU7XG5cbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZmlsdGVyczogbmV4dEZpbHRlcnNcbiAgICAgIH0pOyAvLyBMZXQgY2FsbGVyIGtub3cgYWJvdXQgc2VhcmNoLCBpZiBpbnRlcmVzdGVkXG5cblxuICAgICAgaWYgKG9uU2VhcmNoKSB7XG4gICAgICAgIG9uU2VhcmNoKG5leHRGaWx0ZXJzKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJvblNvcnRcIiwgZnVuY3Rpb24gKHByb3BlcnR5KSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc29ydCA9IF90aGlzLnN0YXRlLnNvcnQ7XG4gICAgICAgIHZhciBhc2NlbmRpbmcgPSBzb3J0ICYmIHByb3BlcnR5ID09PSBzb3J0LnByb3BlcnR5ID8gIXNvcnQuYXNjZW5kaW5nIDogdHJ1ZTtcblxuICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgc29ydDoge1xuICAgICAgICAgICAgcHJvcGVydHk6IHByb3BlcnR5LFxuICAgICAgICAgICAgYXNjZW5kaW5nOiBhc2NlbmRpbmdcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJvblRvZ2dsZUdyb3VwXCIsIGZ1bmN0aW9uIChncm91cFZhbHVlKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZ3JvdXBTdGF0ZSA9IF90aGlzLnN0YXRlLmdyb3VwU3RhdGU7XG4gICAgICAgIHZhciBncm91cEJ5ID0gX3RoaXMucHJvcHMuZ3JvdXBCeTtcblxuICAgICAgICB2YXIgbmV4dEdyb3VwU3RhdGUgPSBfZXh0ZW5kcyh7fSwgZ3JvdXBTdGF0ZSk7XG5cbiAgICAgICAgbmV4dEdyb3VwU3RhdGVbZ3JvdXBWYWx1ZV0gPSBfZXh0ZW5kcyh7fSwgbmV4dEdyb3VwU3RhdGVbZ3JvdXBWYWx1ZV0sIHtcbiAgICAgICAgICBleHBhbmRlZDogIW5leHRHcm91cFN0YXRlW2dyb3VwVmFsdWVdLmV4cGFuZGVkXG4gICAgICAgIH0pO1xuXG4gICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBncm91cFN0YXRlOiBuZXh0R3JvdXBTdGF0ZVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoZ3JvdXBCeS5vbkV4cGFuZCkge1xuICAgICAgICAgIHZhciBleHBhbmRlZEtleXMgPSBPYmplY3Qua2V5cyhuZXh0R3JvdXBTdGF0ZSkuZmlsdGVyKGZ1bmN0aW9uIChrKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV4dEdyb3VwU3RhdGVba10uZXhwYW5kZWQ7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZ3JvdXBCeS5vbkV4cGFuZChleHBhbmRlZEtleXMpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIm9uVG9nZ2xlR3JvdXBzXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBncm91cFN0YXRlID0gX3RoaXMuc3RhdGUuZ3JvdXBTdGF0ZTtcbiAgICAgIHZhciBncm91cEJ5ID0gX3RoaXMucHJvcHMuZ3JvdXBCeTtcbiAgICAgIHZhciBleHBhbmRlZCA9IE9iamVjdC5rZXlzKGdyb3VwU3RhdGUpLmZpbHRlcihmdW5jdGlvbiAoaykge1xuICAgICAgICByZXR1cm4gIWdyb3VwU3RhdGVba10uZXhwYW5kZWQ7XG4gICAgICB9KS5sZW5ndGggPT09IDA7XG4gICAgICB2YXIgbmV4dEdyb3VwU3RhdGUgPSB7fTtcbiAgICAgIE9iamVjdC5rZXlzKGdyb3VwU3RhdGUpLmZvckVhY2goZnVuY3Rpb24gKGspIHtcbiAgICAgICAgbmV4dEdyb3VwU3RhdGVba10gPSBfZXh0ZW5kcyh7fSwgZ3JvdXBTdGF0ZVtrXSwge1xuICAgICAgICAgIGV4cGFuZGVkOiAhZXhwYW5kZWRcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBncm91cFN0YXRlOiBuZXh0R3JvdXBTdGF0ZVxuICAgICAgfSk7XG5cbiAgICAgIGlmIChncm91cEJ5Lm9uRXhwYW5kKSB7XG4gICAgICAgIHZhciBleHBhbmRlZEtleXMgPSBPYmplY3Qua2V5cyhuZXh0R3JvdXBTdGF0ZSkuZmlsdGVyKGZ1bmN0aW9uIChrKSB7XG4gICAgICAgICAgcmV0dXJuIG5leHRHcm91cFN0YXRlW2tdLmV4cGFuZGVkO1xuICAgICAgICB9KTtcbiAgICAgICAgZ3JvdXBCeS5vbkV4cGFuZChleHBhbmRlZEtleXMpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIm9uUmVzaXplXCIsIGZ1bmN0aW9uIChwcm9wZXJ0eSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uICh3aWR0aCkge1xuICAgICAgICB2YXIgd2lkdGhzID0gX3RoaXMuc3RhdGUud2lkdGhzO1xuXG4gICAgICAgIHZhciBuZXh0V2lkdGhzID0gX2V4dGVuZHMoe30sIHdpZHRocyB8fCB7fSk7XG5cbiAgICAgICAgbmV4dFdpZHRoc1twcm9wZXJ0eV0gPSB3aWR0aDtcblxuICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgd2lkdGhzOiBuZXh0V2lkdGhzXG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIERhdGFUYWJsZS5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPSBmdW5jdGlvbiBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMobmV4dFByb3BzLCBwcmV2U3RhdGUpIHtcbiAgICByZXR1cm4gYnVpbGRTdGF0ZShuZXh0UHJvcHMsIHByZXZTdGF0ZSk7XG4gIH07XG5cbiAgdmFyIF9wcm90byA9IERhdGFUYWJsZS5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgX3RoaXMkcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICBiYWNrZ3JvdW5kID0gX3RoaXMkcHJvcHMuYmFja2dyb3VuZCxcbiAgICAgICAgYm9yZGVyID0gX3RoaXMkcHJvcHMuYm9yZGVyLFxuICAgICAgICBjb2x1bW5zID0gX3RoaXMkcHJvcHMuY29sdW1ucyxcbiAgICAgICAgcHJvcHNEYXRhID0gX3RoaXMkcHJvcHMuZGF0YSxcbiAgICAgICAgZ3JvdXBCeSA9IF90aGlzJHByb3BzLmdyb3VwQnksXG4gICAgICAgIG9uTW9yZSA9IF90aGlzJHByb3BzLm9uTW9yZSxcbiAgICAgICAgcmVwbGFjZSA9IF90aGlzJHByb3BzLnJlcGxhY2UsXG4gICAgICAgIHBhZCA9IF90aGlzJHByb3BzLnBhZCxcbiAgICAgICAgcmVzaXplYWJsZSA9IF90aGlzJHByb3BzLnJlc2l6ZWFibGUsXG4gICAgICAgIHJvd1Byb3BzID0gX3RoaXMkcHJvcHMucm93UHJvcHMsXG4gICAgICAgIHNpemUgPSBfdGhpcyRwcm9wcy5zaXplLFxuICAgICAgICBzb3J0YWJsZSA9IF90aGlzJHByb3BzLnNvcnRhYmxlLFxuICAgICAgICBzdGVwID0gX3RoaXMkcHJvcHMuc3RlcCxcbiAgICAgICAgb25DbGlja1JvdyA9IF90aGlzJHByb3BzLm9uQ2xpY2tSb3csXG4gICAgICAgIG9uU2VhcmNoID0gX3RoaXMkcHJvcHMub25TZWFyY2gsXG4gICAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfdGhpcyRwcm9wcywgW1wiYmFja2dyb3VuZFwiLCBcImJvcmRlclwiLCBcImNvbHVtbnNcIiwgXCJkYXRhXCIsIFwiZ3JvdXBCeVwiLCBcIm9uTW9yZVwiLCBcInJlcGxhY2VcIiwgXCJwYWRcIiwgXCJyZXNpemVhYmxlXCIsIFwicm93UHJvcHNcIiwgXCJzaXplXCIsIFwic29ydGFibGVcIiwgXCJzdGVwXCIsIFwib25DbGlja1Jvd1wiLCBcIm9uU2VhcmNoXCJdKTtcblxuICAgIHZhciBfdGhpcyRzdGF0ZSA9IHRoaXMuc3RhdGUsXG4gICAgICAgIGRhdGEgPSBfdGhpcyRzdGF0ZS5kYXRhLFxuICAgICAgICBmaWx0ZXJpbmcgPSBfdGhpcyRzdGF0ZS5maWx0ZXJpbmcsXG4gICAgICAgIGZpbHRlcnMgPSBfdGhpcyRzdGF0ZS5maWx0ZXJzLFxuICAgICAgICBmb290ZXJWYWx1ZXMgPSBfdGhpcyRzdGF0ZS5mb290ZXJWYWx1ZXMsXG4gICAgICAgIGdyb3VwcyA9IF90aGlzJHN0YXRlLmdyb3VwcyxcbiAgICAgICAgZ3JvdXBTdGF0ZSA9IF90aGlzJHN0YXRlLmdyb3VwU3RhdGUsXG4gICAgICAgIHByaW1hcnlQcm9wZXJ0eSA9IF90aGlzJHN0YXRlLnByaW1hcnlQcm9wZXJ0eSxcbiAgICAgICAgc2hvd0Zvb3RlciA9IF90aGlzJHN0YXRlLnNob3dGb290ZXIsXG4gICAgICAgIHNvcnQgPSBfdGhpcyRzdGF0ZS5zb3J0LFxuICAgICAgICB3aWR0aHMgPSBfdGhpcyRzdGF0ZS53aWR0aHM7XG5cbiAgICBpZiAoc2l6ZSAmJiByZXNpemVhYmxlKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ0RhdGFUYWJsZSBjYW5ub3QgY29tYmluZSBcInNpemVcIiBhbmQgXCJyZXNpemVibGVcIi4nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWREYXRhVGFibGUsIHJlc3QsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSGVhZGVyLCB7XG4gICAgICBiYWNrZ3JvdW5kOiBub3JtYWxpemVQcm9wKGJhY2tncm91bmQsICdoZWFkZXInKSxcbiAgICAgIGJvcmRlcjogbm9ybWFsaXplUHJvcChib3JkZXIsICdoZWFkZXInKSxcbiAgICAgIGNvbHVtbnM6IGNvbHVtbnMsXG4gICAgICBmaWx0ZXJpbmc6IGZpbHRlcmluZyxcbiAgICAgIGZpbHRlcnM6IGZpbHRlcnMsXG4gICAgICBncm91cHM6IGdyb3VwcyxcbiAgICAgIGdyb3VwU3RhdGU6IGdyb3VwU3RhdGUsXG4gICAgICBwYWQ6IG5vcm1hbGl6ZVByb3AocGFkLCAnaGVhZGVyJyksXG4gICAgICBzaXplOiBzaXplLFxuICAgICAgc29ydDogc29ydCxcbiAgICAgIHdpZHRoczogd2lkdGhzLFxuICAgICAgb25GaWx0ZXJpbmc6IHRoaXMub25GaWx0ZXJpbmcsXG4gICAgICBvbkZpbHRlcjogdGhpcy5vbkZpbHRlcixcbiAgICAgIG9uUmVzaXplOiByZXNpemVhYmxlID8gdGhpcy5vblJlc2l6ZSA6IHVuZGVmaW5lZCxcbiAgICAgIG9uU29ydDogc29ydGFibGUgPyB0aGlzLm9uU29ydCA6IHVuZGVmaW5lZCxcbiAgICAgIG9uVG9nZ2xlOiB0aGlzLm9uVG9nZ2xlR3JvdXBzXG4gICAgfSksIGdyb3VwcyA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoR3JvdXBlZEJvZHksIHtcbiAgICAgIGJhY2tncm91bmQ6IG5vcm1hbGl6ZVByb3AoYmFja2dyb3VuZCwgJ2JvZHknKSxcbiAgICAgIGJvcmRlcjogbm9ybWFsaXplUHJvcChib3JkZXIsICdib2R5JyksXG4gICAgICBjb2x1bW5zOiBjb2x1bW5zLFxuICAgICAgZ3JvdXBCeTogZ3JvdXBCeS5wcm9wZXJ0eSA/IGdyb3VwQnkucHJvcGVydHkgOiBncm91cEJ5LFxuICAgICAgZ3JvdXBzOiBncm91cHMsXG4gICAgICBncm91cFN0YXRlOiBncm91cFN0YXRlLFxuICAgICAgcGFkOiBub3JtYWxpemVQcm9wKHBhZCwgJ2JvZHknKSxcbiAgICAgIHByaW1hcnlQcm9wZXJ0eTogcHJpbWFyeVByb3BlcnR5LFxuICAgICAgb25Ub2dnbGU6IHRoaXMub25Ub2dnbGVHcm91cCxcbiAgICAgIHNpemU6IHNpemVcbiAgICB9KSA6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoQm9keSwge1xuICAgICAgYmFja2dyb3VuZDogbm9ybWFsaXplUHJvcChiYWNrZ3JvdW5kLCAnYm9keScpLFxuICAgICAgYm9yZGVyOiBub3JtYWxpemVQcm9wKGJvcmRlciwgJ2JvZHknKSxcbiAgICAgIGNvbHVtbnM6IGNvbHVtbnMsXG4gICAgICBkYXRhOiBkYXRhLFxuICAgICAgb25Nb3JlOiBvbk1vcmUsXG4gICAgICByZXBsYWNlOiByZXBsYWNlLFxuICAgICAgb25DbGlja1Jvdzogb25DbGlja1JvdyxcbiAgICAgIHBhZDogbm9ybWFsaXplUHJvcChwYWQsICdib2R5JyksXG4gICAgICBwcmltYXJ5UHJvcGVydHk6IHByaW1hcnlQcm9wZXJ0eSxcbiAgICAgIHJvd1Byb3BzOiByb3dQcm9wcyxcbiAgICAgIHNpemU6IHNpemUsXG4gICAgICBzdGVwOiBzdGVwXG4gICAgfSksIHNob3dGb290ZXIgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChGb290ZXIsIHtcbiAgICAgIGJhY2tncm91bmQ6IG5vcm1hbGl6ZVByb3AoYmFja2dyb3VuZCwgJ2Zvb3RlcicpLFxuICAgICAgYm9yZGVyOiBub3JtYWxpemVQcm9wKGJvcmRlciwgJ2Zvb3RlcicpLFxuICAgICAgY29sdW1uczogY29sdW1ucyxcbiAgICAgIGZvb3RlclZhbHVlczogZm9vdGVyVmFsdWVzLFxuICAgICAgZ3JvdXBzOiBncm91cHMsXG4gICAgICBwYWQ6IG5vcm1hbGl6ZVByb3AocGFkLCAnZm9vdGVyJyksXG4gICAgICBwcmltYXJ5UHJvcGVydHk6IHByaW1hcnlQcm9wZXJ0eSxcbiAgICAgIHNpemU6IHNpemVcbiAgICB9KSk7XG4gIH07XG5cbiAgcmV0dXJuIERhdGFUYWJsZTtcbn0oQ29tcG9uZW50KTtcblxuX2RlZmluZVByb3BlcnR5KERhdGFUYWJsZSwgXCJkZWZhdWx0UHJvcHNcIiwge1xuICBjb2x1bW5zOiBbXSxcbiAgZGF0YTogW10sXG4gIHN0ZXA6IDUwXG59KTtcblxudmFyIERhdGFUYWJsZURvYztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGdsb2JhbC1yZXF1aXJlXG4gIERhdGFUYWJsZURvYyA9IHJlcXVpcmUoJy4vZG9jJykuZG9jKERhdGFUYWJsZSk7XG59XG5cbnZhciBEYXRhVGFibGVXcmFwcGVyID0gRGF0YVRhYmxlRG9jIHx8IERhdGFUYWJsZTtcbmV4cG9ydCB7IERhdGFUYWJsZVdyYXBwZXIgYXMgRGF0YVRhYmxlIH07IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY29tcG9zZSB9IGZyb20gJ3JlY29tcG9zZSc7XG5pbXBvcnQgeyB3aXRoVGhlbWUgfSBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBkZWZhdWx0UHJvcHMgfSBmcm9tICcuLi8uLi9kZWZhdWx0LXByb3BzJztcbmltcG9ydCB7IEJveCB9IGZyb20gJy4uL0JveCc7XG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICcuLi9CdXR0b24nO1xuaW1wb3J0IHsgVGFibGVDZWxsIH0gZnJvbSAnLi4vVGFibGVDZWxsJztcbmltcG9ydCB7IG5vcm1hbGl6ZUNvbG9yIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuXG52YXIgRXhwYW5kZXJDZWxsID0gZnVuY3Rpb24gRXhwYW5kZXJDZWxsKF9yZWYpIHtcbiAgdmFyIGNvbnRleHQgPSBfcmVmLmNvbnRleHQsXG4gICAgICBleHBhbmRlZCA9IF9yZWYuZXhwYW5kZWQsXG4gICAgICBvblRvZ2dsZSA9IF9yZWYub25Ub2dnbGUsXG4gICAgICB0aGVtZSA9IF9yZWYudGhlbWUsXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZiwgW1wiY29udGV4dFwiLCBcImV4cGFuZGVkXCIsIFwib25Ub2dnbGVcIiwgXCJ0aGVtZVwiXSk7XG5cbiAgdmFyIGNvbnRlbnQ7XG5cbiAgaWYgKG9uVG9nZ2xlKSB7XG4gICAgdmFyIEV4cGFuZEljb24gPSB0aGVtZS5kYXRhVGFibGUuaWNvbnNbZXhwYW5kZWQgPyAnY29udHJhY3QnIDogJ2V4cGFuZCddO1xuICAgIGNvbnRlbnQgPSBSZWFjdC5jcmVhdGVFbGVtZW50KEV4cGFuZEljb24sIHtcbiAgICAgIGNvbG9yOiBub3JtYWxpemVDb2xvcignYm9yZGVyJywgdGhlbWUpXG4gICAgfSk7XG4gIH1cblxuICB2YXIgbm9ybWFsaXplZFRoZW1lUHJvcHMgPSBfZXh0ZW5kcyh7fSwgdGhlbWUudGFibGVbY29udGV4dF0sIHt9LCB0aGVtZS5kYXRhVGFibGVbY29udGV4dF0pO1xuXG4gIGRlbGV0ZSBub3JtYWxpemVkVGhlbWVQcm9wcy5iYWNrZ3JvdW5kO1xuICBkZWxldGUgbm9ybWFsaXplZFRoZW1lUHJvcHMuYm9yZGVyO1xuICBkZWxldGUgbm9ybWFsaXplZFRoZW1lUHJvcHMucGFkO1xuICBjb250ZW50ID0gUmVhY3QuY3JlYXRlRWxlbWVudChCb3gsIF9leHRlbmRzKHt9LCBub3JtYWxpemVkVGhlbWVQcm9wcywgcmVzdCwge1xuICAgIGFsaWduOiBcImNlbnRlclwiLFxuICAgIHBhZDogXCJ4c21hbGxcIlxuICB9KSwgY29udGVudCk7XG5cbiAgaWYgKG9uVG9nZ2xlKSB7XG4gICAgY29udGVudCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7XG4gICAgICBmaWxsOiB0cnVlLFxuICAgICAgYTExeVRpdGxlOiBleHBhbmRlZCA/ICdjb2xsYXBzZScgOiAnZXhwYW5kJyxcbiAgICAgIGhvdmVySW5kaWNhdG9yOiB0cnVlLFxuICAgICAgZGlzYWJsZWQ6ICFvblRvZ2dsZSxcbiAgICAgIG9uQ2xpY2s6IG9uVG9nZ2xlXG4gICAgfSwgY29udGVudCk7XG4gIH1cblxuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChUYWJsZUNlbGwsIHtcbiAgICBzaXplOiBcInh4c21hbGxcIixcbiAgICBwbGFpbjogdHJ1ZSxcbiAgICB2ZXJ0aWNhbEFsaWduOiBjb250ZXh0ID09PSAnZ3JvdXBFbmQnID8gJ2JvdHRvbScgOiAndG9wJyxcbiAgICBwYWQ6IFwibm9uZVwiXG4gIH0sIGNvbnRlbnQpO1xufTtcblxuRXhwYW5kZXJDZWxsLmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKEV4cGFuZGVyQ2VsbC5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG52YXIgRXhwYW5kZXJDZWxsV3JhcHBlciA9IGNvbXBvc2Uod2l0aFRoZW1lKShFeHBhbmRlckNlbGwpO1xuZXhwb3J0IHsgRXhwYW5kZXJDZWxsV3JhcHBlciBhcyBFeHBhbmRlckNlbGwgfTsiLCJmdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjb21wb3NlIH0gZnJvbSAncmVjb21wb3NlJztcbmltcG9ydCB7IHdpdGhUaGVtZSB9IGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCB7IGRlZmF1bHRQcm9wcyB9IGZyb20gJy4uLy4uL2RlZmF1bHQtcHJvcHMnO1xuaW1wb3J0IHsgVGFibGVSb3cgfSBmcm9tICcuLi9UYWJsZVJvdyc7XG5pbXBvcnQgeyBUYWJsZUNlbGwgfSBmcm9tICcuLi9UYWJsZUNlbGwnO1xuaW1wb3J0IHsgQ2VsbCB9IGZyb20gJy4vQ2VsbCc7XG5pbXBvcnQgeyBTdHlsZWREYXRhVGFibGVGb290ZXIgfSBmcm9tICcuL1N0eWxlZERhdGFUYWJsZSc7XG5cbnZhciBGb290ZXIgPSBmdW5jdGlvbiBGb290ZXIoX3JlZikge1xuICB2YXIgYmFja2dyb3VuZCA9IF9yZWYuYmFja2dyb3VuZCxcbiAgICAgIGJvcmRlciA9IF9yZWYuYm9yZGVyLFxuICAgICAgY29sdW1ucyA9IF9yZWYuY29sdW1ucyxcbiAgICAgIGZvb3RlclZhbHVlcyA9IF9yZWYuZm9vdGVyVmFsdWVzLFxuICAgICAgZ3JvdXBzID0gX3JlZi5ncm91cHMsXG4gICAgICBwYWQgPSBfcmVmLnBhZCxcbiAgICAgIHByaW1hcnlQcm9wZXJ0eSA9IF9yZWYucHJpbWFyeVByb3BlcnR5LFxuICAgICAgdGhlbWUgPSBfcmVmLnRoZW1lLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9yZWYsIFtcImJhY2tncm91bmRcIiwgXCJib3JkZXJcIiwgXCJjb2x1bW5zXCIsIFwiZm9vdGVyVmFsdWVzXCIsIFwiZ3JvdXBzXCIsIFwicGFkXCIsIFwicHJpbWFyeVByb3BlcnR5XCIsIFwidGhlbWVcIl0pO1xuXG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZERhdGFUYWJsZUZvb3RlciwgcmVzdCwgUmVhY3QuY3JlYXRlRWxlbWVudChUYWJsZVJvdywgbnVsbCwgZ3JvdXBzICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGFibGVDZWxsLCB7XG4gICAgcGxhaW46IHRydWUsXG4gICAgc2l6ZTogXCJ4eHNtYWxsXCIsXG4gICAgcGFkOiBcIm5vbmVcIixcbiAgICB2ZXJ0aWNhbEFsaWduOiBcInRvcFwiXG4gIH0pLCBjb2x1bW5zLm1hcChmdW5jdGlvbiAoY29sdW1uKSB7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ2VsbCwge1xuICAgICAga2V5OiBjb2x1bW4ucHJvcGVydHksXG4gICAgICBiYWNrZ3JvdW5kOiBiYWNrZ3JvdW5kLFxuICAgICAgYm9yZGVyOiBib3JkZXIsXG4gICAgICBjb250ZXh0OiBcImZvb3RlclwiLFxuICAgICAgY29sdW1uOiBjb2x1bW4sXG4gICAgICBkYXR1bTogZm9vdGVyVmFsdWVzLFxuICAgICAgcGFkOiBwYWQsXG4gICAgICBwcmltYXJ5UHJvcGVydHk6IHByaW1hcnlQcm9wZXJ0eVxuICAgIH0pO1xuICB9KSkpO1xufTtcblxuRm9vdGVyLmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKEZvb3Rlci5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG52YXIgRm9vdGVyV3JhcHBlciA9IGNvbXBvc2Uod2l0aFRoZW1lKShGb290ZXIpO1xuZXhwb3J0IHsgRm9vdGVyV3JhcHBlciBhcyBGb290ZXIgfTsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmltcG9ydCBSZWFjdCwgeyBGcmFnbWVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IENlbGwgfSBmcm9tICcuL0NlbGwnO1xuaW1wb3J0IHsgRXhwYW5kZXJDZWxsIH0gZnJvbSAnLi9FeHBhbmRlckNlbGwnO1xuaW1wb3J0IHsgU3R5bGVkRGF0YVRhYmxlQm9keSwgU3R5bGVkRGF0YVRhYmxlUm93IH0gZnJvbSAnLi9TdHlsZWREYXRhVGFibGUnO1xuZXhwb3J0IHZhciBHcm91cGVkQm9keSA9IGZ1bmN0aW9uIEdyb3VwZWRCb2R5KF9yZWYpIHtcbiAgdmFyIGJhY2tncm91bmQgPSBfcmVmLmJhY2tncm91bmQsXG4gICAgICBib3JkZXIgPSBfcmVmLmJvcmRlcixcbiAgICAgIGNvbHVtbnMgPSBfcmVmLmNvbHVtbnMsXG4gICAgICBncm91cEJ5ID0gX3JlZi5ncm91cEJ5LFxuICAgICAgZ3JvdXBzID0gX3JlZi5ncm91cHMsXG4gICAgICBncm91cFN0YXRlID0gX3JlZi5ncm91cFN0YXRlLFxuICAgICAgcGFkID0gX3JlZi5wYWQsXG4gICAgICBwcmltYXJ5UHJvcGVydHkgPSBfcmVmLnByaW1hcnlQcm9wZXJ0eSxcbiAgICAgIG9uVG9nZ2xlID0gX3JlZi5vblRvZ2dsZSxcbiAgICAgIHNpemUgPSBfcmVmLnNpemUsXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZiwgW1wiYmFja2dyb3VuZFwiLCBcImJvcmRlclwiLCBcImNvbHVtbnNcIiwgXCJncm91cEJ5XCIsIFwiZ3JvdXBzXCIsIFwiZ3JvdXBTdGF0ZVwiLCBcInBhZFwiLCBcInByaW1hcnlQcm9wZXJ0eVwiLCBcIm9uVG9nZ2xlXCIsIFwic2l6ZVwiXSk7XG5cbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkRGF0YVRhYmxlQm9keSwgX2V4dGVuZHMoe1xuICAgIHNpemU6IHNpemVcbiAgfSwgcmVzdCksIGdyb3Vwcy5tYXAoZnVuY3Rpb24gKGdyb3VwKSB7XG4gICAgdmFyIGV4cGFuZGVkID0gZ3JvdXBTdGF0ZVtncm91cC5rZXldLmV4cGFuZGVkO1xuICAgIHZhciBtZW1iZXJDb3VudCA9IGdyb3VwLmRhdGEubGVuZ3RoO1xuICAgIHZhciBjb250ZW50ID0gbWVtYmVyQ291bnQgPiAxID8gUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWREYXRhVGFibGVSb3csIHtcbiAgICAgIGtleTogZ3JvdXAua2V5LFxuICAgICAgc2l6ZTogc2l6ZVxuICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRXhwYW5kZXJDZWxsLCB7XG4gICAgICBjb250ZXh0OiBleHBhbmRlZCA/ICdncm91cEhlYWRlcicgOiAnYm9keScsXG4gICAgICBleHBhbmRlZDogZXhwYW5kZWQsXG4gICAgICBvblRvZ2dsZTogb25Ub2dnbGUoZ3JvdXAua2V5KVxuICAgIH0pLCBjb2x1bW5zLm1hcChmdW5jdGlvbiAoY29sdW1uKSB7XG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChDZWxsLCB7XG4gICAgICAgIGtleTogY29sdW1uLnByb3BlcnR5LFxuICAgICAgICBiYWNrZ3JvdW5kOiBiYWNrZ3JvdW5kLFxuICAgICAgICBib3JkZXI6IGJvcmRlcixcbiAgICAgICAgY29udGV4dDogZXhwYW5kZWQgPyAnZ3JvdXBIZWFkZXInIDogJ2JvZHknLFxuICAgICAgICBjb2x1bW46IGNvbHVtbixcbiAgICAgICAgZGF0dW06IGdyb3VwLmRhdHVtLFxuICAgICAgICBwYWQ6IHBhZCxcbiAgICAgICAgc2NvcGU6IGNvbHVtbi5wcm9wZXJ0eSA9PT0gZ3JvdXBCeSA/ICdyb3cnIDogdW5kZWZpbmVkXG4gICAgICB9KTtcbiAgICB9KSkgOiBudWxsO1xuXG4gICAgaWYgKG1lbWJlckNvdW50ID09PSAxIHx8IGV4cGFuZGVkKSB7XG4gICAgICBjb250ZW50ID0gUmVhY3QuY3JlYXRlRWxlbWVudChGcmFnbWVudCwge1xuICAgICAgICBrZXk6IGdyb3VwLmtleVxuICAgICAgfSwgY29udGVudCwgZ3JvdXAuZGF0YS5tYXAoZnVuY3Rpb24gKGRhdHVtLCBpbmRleCkge1xuICAgICAgICB2YXIgY29udGV4dCA9IG1lbWJlckNvdW50ID4gMSAmJiBpbmRleCA9PT0gbWVtYmVyQ291bnQgLSAxID8gJ2dyb3VwRW5kJyA6ICdib2R5JztcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkRGF0YVRhYmxlUm93LCB7XG4gICAgICAgICAga2V5OiBkYXR1bVtwcmltYXJ5UHJvcGVydHldLFxuICAgICAgICAgIHNpemU6IHNpemVcbiAgICAgICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChFeHBhbmRlckNlbGwsIHtcbiAgICAgICAgICBjb250ZXh0OiBjb250ZXh0XG4gICAgICAgIH0pLCBjb2x1bW5zLm1hcChmdW5jdGlvbiAoY29sdW1uKSB7XG4gICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ2VsbCwge1xuICAgICAgICAgICAga2V5OiBjb2x1bW4ucHJvcGVydHksXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiBiYWNrZ3JvdW5kLFxuICAgICAgICAgICAgYm9yZGVyOiBib3JkZXIsXG4gICAgICAgICAgICBjb250ZXh0OiBjb250ZXh0LFxuICAgICAgICAgICAgY29sdW1uOiBjb2x1bW4sXG4gICAgICAgICAgICBkYXR1bTogZGF0dW0sXG4gICAgICAgICAgICBwYWQ6IHBhZCxcbiAgICAgICAgICAgIHNjb3BlOiBjb2x1bW4ucHJpbWFyeSA/ICdyb3cnIDogdW5kZWZpbmVkXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pKTtcbiAgICAgIH0pKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY29udGVudDtcbiAgfSkpO1xufTsiLCJmdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjb21wb3NlIH0gZnJvbSAncmVjb21wb3NlJztcbmltcG9ydCB7IHdpdGhUaGVtZSB9IGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCB7IGRlZmF1bHRQcm9wcyB9IGZyb20gJy4uLy4uL2RlZmF1bHQtcHJvcHMnO1xuaW1wb3J0IHsgQm94IH0gZnJvbSAnLi4vQm94JztcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJy4uL0J1dHRvbic7XG5pbXBvcnQgeyBUYWJsZUNlbGwgfSBmcm9tICcuLi9UYWJsZUNlbGwnO1xuaW1wb3J0IHsgVGV4dCB9IGZyb20gJy4uL1RleHQnO1xuaW1wb3J0IHsgUmVzaXplciB9IGZyb20gJy4vUmVzaXplcic7XG5pbXBvcnQgeyBTZWFyY2hlciB9IGZyb20gJy4vU2VhcmNoZXInO1xuaW1wb3J0IHsgRXhwYW5kZXJDZWxsIH0gZnJvbSAnLi9FeHBhbmRlckNlbGwnO1xuaW1wb3J0IHsgU3R5bGVkRGF0YVRhYmxlSGVhZGVyLCBTdHlsZWREYXRhVGFibGVSb3cgfSBmcm9tICcuL1N0eWxlZERhdGFUYWJsZSc7XG5cbnZhciBIZWFkZXIgPSBmdW5jdGlvbiBIZWFkZXIoX3JlZikge1xuICB2YXIgYmFja2dyb3VuZCA9IF9yZWYuYmFja2dyb3VuZCxcbiAgICAgIGJvcmRlciA9IF9yZWYuYm9yZGVyLFxuICAgICAgY29sdW1ucyA9IF9yZWYuY29sdW1ucyxcbiAgICAgIGZpbHRlcmluZyA9IF9yZWYuZmlsdGVyaW5nLFxuICAgICAgZmlsdGVycyA9IF9yZWYuZmlsdGVycyxcbiAgICAgIGdyb3VwcyA9IF9yZWYuZ3JvdXBzLFxuICAgICAgZ3JvdXBTdGF0ZSA9IF9yZWYuZ3JvdXBTdGF0ZSxcbiAgICAgIG9uRmlsdGVyID0gX3JlZi5vbkZpbHRlcixcbiAgICAgIG9uRmlsdGVyaW5nID0gX3JlZi5vbkZpbHRlcmluZyxcbiAgICAgIG9uUmVzaXplID0gX3JlZi5vblJlc2l6ZSxcbiAgICAgIG9uU29ydCA9IF9yZWYub25Tb3J0LFxuICAgICAgb25Ub2dnbGUgPSBfcmVmLm9uVG9nZ2xlLFxuICAgICAgcGFkID0gX3JlZi5wYWQsXG4gICAgICBzb3J0ID0gX3JlZi5zb3J0LFxuICAgICAgdGhlbWUgPSBfcmVmLnRoZW1lLFxuICAgICAgd2lkdGhzID0gX3JlZi53aWR0aHMsXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZiwgW1wiYmFja2dyb3VuZFwiLCBcImJvcmRlclwiLCBcImNvbHVtbnNcIiwgXCJmaWx0ZXJpbmdcIiwgXCJmaWx0ZXJzXCIsIFwiZ3JvdXBzXCIsIFwiZ3JvdXBTdGF0ZVwiLCBcIm9uRmlsdGVyXCIsIFwib25GaWx0ZXJpbmdcIiwgXCJvblJlc2l6ZVwiLCBcIm9uU29ydFwiLCBcIm9uVG9nZ2xlXCIsIFwicGFkXCIsIFwic29ydFwiLCBcInRoZW1lXCIsIFwid2lkdGhzXCJdKTtcblxuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWREYXRhVGFibGVIZWFkZXIsIHJlc3QsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkRGF0YVRhYmxlUm93LCBudWxsLCBncm91cHMgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChFeHBhbmRlckNlbGwsIHtcbiAgICBjb250ZXh0OiBcImhlYWRlclwiLFxuICAgIGV4cGFuZGVkOiBPYmplY3Qua2V5cyhncm91cFN0YXRlKS5maWx0ZXIoZnVuY3Rpb24gKGspIHtcbiAgICAgIHJldHVybiAhZ3JvdXBTdGF0ZVtrXS5leHBhbmRlZDtcbiAgICB9KS5sZW5ndGggPT09IDAsXG4gICAgb25Ub2dnbGU6IG9uVG9nZ2xlXG4gIH0pLCBjb2x1bW5zLm1hcChmdW5jdGlvbiAoX3JlZjIpIHtcbiAgICB2YXIgcHJvcGVydHkgPSBfcmVmMi5wcm9wZXJ0eSxcbiAgICAgICAgaGVhZGVyID0gX3JlZjIuaGVhZGVyLFxuICAgICAgICBhbGlnbiA9IF9yZWYyLmFsaWduLFxuICAgICAgICBzZWFyY2ggPSBfcmVmMi5zZWFyY2gsXG4gICAgICAgIHNvcnRhYmxlID0gX3JlZjIuc29ydGFibGU7XG4gICAgdmFyIGNvbnRlbnQgPSB0eXBlb2YgaGVhZGVyID09PSAnc3RyaW5nJyA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGV4dCwgbnVsbCwgaGVhZGVyKSA6IGhlYWRlcjtcblxuICAgIGlmIChvblNvcnQgJiYgc29ydGFibGUgIT09IGZhbHNlKSB7XG4gICAgICB2YXIgSWNvbiA9IG9uU29ydCAmJiBzb3J0YWJsZSAhPT0gZmFsc2UgJiYgc29ydCAmJiBzb3J0LnByb3BlcnR5ID09PSBwcm9wZXJ0eSAmJiB0aGVtZS5kYXRhVGFibGUuaWNvbnNbc29ydC5hc2NlbmRpbmcgPyAnYXNjZW5kaW5nJyA6ICdkZXNjZW5kaW5nJ107XG4gICAgICBjb250ZW50ID0gUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtcbiAgICAgICAgcGxhaW46IHRydWUsXG4gICAgICAgIGZpbGw6IFwidmVydGljYWxcIixcbiAgICAgICAgb25DbGljazogb25Tb3J0KHByb3BlcnR5KVxuICAgICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChCb3gsIHtcbiAgICAgICAgZGlyZWN0aW9uOiBcInJvd1wiLFxuICAgICAgICBhbGlnbjogXCJjZW50ZXJcIixcbiAgICAgICAgZ2FwOiBcInhzbWFsbFwiXG4gICAgICB9LCBjb250ZW50LCBJY29uICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSWNvbiwgbnVsbCkpKTtcbiAgICB9XG5cbiAgICBpZiAoc2VhcmNoIHx8IG9uUmVzaXplKSB7XG4gICAgICB2YXIgcmVzaXplciA9IG9uUmVzaXplID8gUmVhY3QuY3JlYXRlRWxlbWVudChSZXNpemVyLCB7XG4gICAgICAgIHByb3BlcnR5OiBwcm9wZXJ0eSxcbiAgICAgICAgb25SZXNpemU6IG9uUmVzaXplXG4gICAgICB9KSA6IG51bGw7XG4gICAgICB2YXIgc2VhcmNoZXIgPSBzZWFyY2ggJiYgZmlsdGVycyA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoU2VhcmNoZXIsIHtcbiAgICAgICAgZmlsdGVyaW5nOiBmaWx0ZXJpbmcsXG4gICAgICAgIGZpbHRlcnM6IGZpbHRlcnMsXG4gICAgICAgIHByb3BlcnR5OiBwcm9wZXJ0eSxcbiAgICAgICAgb25GaWx0ZXI6IG9uRmlsdGVyLFxuICAgICAgICBvbkZpbHRlcmluZzogb25GaWx0ZXJpbmdcbiAgICAgIH0pIDogbnVsbDtcbiAgICAgIGNvbnRlbnQgPSBSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwge1xuICAgICAgICBkaXJlY3Rpb246IFwicm93XCIsXG4gICAgICAgIGFsaWduOiBcImNlbnRlclwiLFxuICAgICAgICBqdXN0aWZ5OiAhYWxpZ24gfHwgYWxpZ24gPT09ICdzdGFydCcgPyAnYmV0d2VlbicgOiBhbGlnbixcbiAgICAgICAgZ2FwOiBcInNtYWxsXCIsXG4gICAgICAgIGZpbGw6IFwidmVydGljYWxcIixcbiAgICAgICAgc3R5bGU6IG9uUmVzaXplID8ge1xuICAgICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnXG4gICAgICAgIH0gOiB1bmRlZmluZWRcbiAgICAgIH0sIGNvbnRlbnQsIHNlYXJjaGVyICYmIHJlc2l6ZXIgPyBSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwge1xuICAgICAgICBmbGV4OiBcInNocmlua1wiLFxuICAgICAgICBkaXJlY3Rpb246IFwicm93XCIsXG4gICAgICAgIGFsaWduOiBcImNlbnRlclwiLFxuICAgICAgICBnYXA6IFwic21hbGxcIlxuICAgICAgfSwgc2VhcmNoZXIsIHJlc2l6ZXIpIDogc2VhcmNoZXIgfHwgcmVzaXplcik7XG4gICAgfVxuXG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGFibGVDZWxsLCB7XG4gICAgICBrZXk6IHByb3BlcnR5LFxuICAgICAgYWxpZ246IGFsaWduLFxuICAgICAgYmFja2dyb3VuZDogYmFja2dyb3VuZCxcbiAgICAgIGJvcmRlcjogYm9yZGVyLFxuICAgICAgcGFkOiBwYWQsXG4gICAgICBwbGFpbjogdHJ1ZSxcbiAgICAgIHNjb3BlOiBcImNvbFwiLFxuICAgICAgc3R5bGU6IHdpZHRocyAmJiB3aWR0aHNbcHJvcGVydHldID8ge1xuICAgICAgICB3aWR0aDogd2lkdGhzW3Byb3BlcnR5XVxuICAgICAgfSA6IHVuZGVmaW5lZFxuICAgIH0sIGNvbnRlbnQpO1xuICB9KSkpO1xufTtcblxuSGVhZGVyLmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKEhlYWRlci5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG52YXIgSGVhZGVyV3JhcHBlciA9IGNvbXBvc2Uod2l0aFRoZW1lKShIZWFkZXIpO1xuZXhwb3J0IHsgSGVhZGVyV3JhcHBlciBhcyBIZWFkZXIgfTsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzTG9vc2Uoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzLnByb3RvdHlwZSk7IHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzOyBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbmltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjb21wb3NlIH0gZnJvbSAncmVjb21wb3NlJztcbmltcG9ydCBzdHlsZWQsIHsgd2l0aFRoZW1lIH0gZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgZGVmYXVsdFByb3BzIH0gZnJvbSAnLi4vLi4vZGVmYXVsdC1wcm9wcyc7XG5pbXBvcnQgeyBCb3ggfSBmcm9tICcuLi9Cb3gnO1xudmFyIFJlc2l6ZXJCb3ggPSBzdHlsZWQoQm94KS53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiUmVzaXplcl9fUmVzaXplckJveFwiLFxuICBjb21wb25lbnRJZDogXCJzYy04bDgwOHctMFwiXG59KShbXCJjdXJzb3I6Y29sLXJlc2l6ZTtcIl0pO1xuXG52YXIgUmVzaXplciA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBfaW5oZXJpdHNMb29zZShSZXNpemVyLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBSZXNpemVyKCkge1xuICAgIHZhciBfdGhpcztcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBfdGhpcyA9IF9Db21wb25lbnQuY2FsbC5hcHBseShfQ29tcG9uZW50LCBbdGhpc10uY29uY2F0KGFyZ3MpKSB8fCB0aGlzO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcInN0YXRlXCIsIHt9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJyZWZcIiwgUmVhY3QuY3JlYXRlUmVmKCkpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIm9uTW91c2VEb3duXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgaWYgKF90aGlzLnJlZi5jdXJyZW50KSB7XG4gICAgICAgIHZhciBlbGVtZW50ID0gX3RoaXMucmVmLmN1cnJlbnQ7IC8vIGZpbmQgVEggcGFyZW50XG5cbiAgICAgICAgd2hpbGUgKGVsZW1lbnQgJiYgZWxlbWVudC5ub2RlTmFtZSAhPT0gJ1RIJykge1xuICAgICAgICAgIGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIHN0YXJ0OiBldmVudC5jbGllbnRYLFxuICAgICAgICAgIHdpZHRoOiByZWN0LndpZHRoXG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBfdGhpcy5vbk1vdXNlTW92ZSk7XG4gICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIF90aGlzLm9uTW91c2VVcCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIm9uTW91c2VNb3ZlXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgb25SZXNpemUgPSBfdGhpcyRwcm9wcy5vblJlc2l6ZSxcbiAgICAgICAgICBwcm9wZXJ0eSA9IF90aGlzJHByb3BzLnByb3BlcnR5O1xuICAgICAgdmFyIF90aGlzJHN0YXRlID0gX3RoaXMuc3RhdGUsXG4gICAgICAgICAgc3RhcnQgPSBfdGhpcyRzdGF0ZS5zdGFydCxcbiAgICAgICAgICB3aWR0aCA9IF90aGlzJHN0YXRlLndpZHRoOyAvLyBXZSBkZXRlcm1pbmVkIDEyIGVtcGlyaWNhbGx5IGFzIGJlaW5nIHdpZGUgZW5vdWdoIHRvIGhpdCBidXRcbiAgICAgIC8vIG5vdCB0b28gd2lkZSB0byBjYXVzZSBmYWxzZSBoaXRzLlxuXG4gICAgICB2YXIgbmV4dFdpZHRoID0gTWF0aC5tYXgoMTIsIHdpZHRoICsgKGV2ZW50LmNsaWVudFggLSBzdGFydCkpO1xuICAgICAgb25SZXNpemUocHJvcGVydHkpKG5leHRXaWR0aCk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwib25Nb3VzZVVwXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBfdGhpcy5vbk1vdXNlVXApO1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgX3RoaXMub25Nb3VzZU1vdmUpO1xuXG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHN0YXJ0OiB1bmRlZmluZWQsXG4gICAgICAgIHdpZHRoOiB1bmRlZmluZWRcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IFJlc2l6ZXIucHJvdG90eXBlO1xuXG4gIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIHRoZW1lID0gdGhpcy5wcm9wcy50aGVtZTtcbiAgICB2YXIgc3RhcnQgPSB0aGlzLnN0YXRlLnN0YXJ0O1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFJlc2l6ZXJCb3gsIF9leHRlbmRzKHtcbiAgICAgIHJlZjogdGhpcy5yZWYsXG4gICAgICBmbGV4OiBmYWxzZSxcbiAgICAgIHJlc3BvbnNpdmU6IGZhbHNlLFxuICAgICAgcGFkOiB7XG4gICAgICAgIHZlcnRpY2FsOiAnc21hbGwnXG4gICAgICB9XG4gICAgfSwgdGhlbWUuZGF0YVRhYmxlLnJlc2l6ZSwge1xuICAgICAgb25Nb3VzZURvd246IHRoaXMub25Nb3VzZURvd24sXG4gICAgICBvbk1vdXNlTW92ZTogc3RhcnQgPyB0aGlzLm9uTW91c2VNb3ZlIDogdW5kZWZpbmVkLFxuICAgICAgb25Nb3VzZVVwOiBzdGFydCA/IHRoaXMub25Nb3VzZVVwIDogdW5kZWZpbmVkXG4gICAgfSkpO1xuICB9O1xuXG4gIHJldHVybiBSZXNpemVyO1xufShDb21wb25lbnQpO1xuXG5SZXNpemVyLmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKFJlc2l6ZXIuZGVmYXVsdFByb3BzLCBkZWZhdWx0UHJvcHMpO1xudmFyIFJlc2l6ZXJXcmFwcGVyID0gY29tcG9zZSh3aXRoVGhlbWUpKFJlc2l6ZXIpO1xuZXhwb3J0IHsgUmVzaXplcldyYXBwZXIgYXMgUmVzaXplciB9OyIsImZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHNMb29zZShzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MucHJvdG90eXBlKTsgc3ViQ2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gc3ViQ2xhc3M7IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbXBvc2UgfSBmcm9tICdyZWNvbXBvc2UnO1xuaW1wb3J0IHsgd2l0aFRoZW1lIH0gZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgRm9ybVNlYXJjaCB9IGZyb20gJ2dyb21tZXQtaWNvbnMvaWNvbnMvRm9ybVNlYXJjaCc7XG5pbXBvcnQgeyBkZWZhdWx0UHJvcHMgfSBmcm9tICcuLi8uLi9kZWZhdWx0LXByb3BzJztcbmltcG9ydCB7IEJveCB9IGZyb20gJy4uL0JveCc7XG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICcuLi9CdXR0b24nO1xuaW1wb3J0IHsgS2V5Ym9hcmQgfSBmcm9tICcuLi9LZXlib2FyZCc7XG5pbXBvcnQgeyBUZXh0IH0gZnJvbSAnLi4vVGV4dCc7XG5pbXBvcnQgeyBUZXh0SW5wdXQgfSBmcm9tICcuLi9UZXh0SW5wdXQnO1xuaW1wb3J0IHsgbm9ybWFsaXplQ29sb3IgfSBmcm9tICcuLi8uLi91dGlscyc7XG5cbnZhciBTZWFyY2hlciA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBfaW5oZXJpdHNMb29zZShTZWFyY2hlciwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gU2VhcmNoZXIoKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIF90aGlzID0gX0NvbXBvbmVudC5jYWxsLmFwcGx5KF9Db21wb25lbnQsIFt0aGlzXS5jb25jYXQoYXJncykpIHx8IHRoaXM7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiaW5wdXRSZWZcIiwgUmVhY3QuY3JlYXRlUmVmKCkpO1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IFNlYXJjaGVyLnByb3RvdHlwZTtcblxuICBfcHJvdG8uY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLmZvY3VzSW5wdXRJZk5lZWRlZCgpO1xuICB9O1xuXG4gIF9wcm90by5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgdGhpcy5mb2N1c0lucHV0SWZOZWVkZWQoKTtcbiAgfTtcblxuICBfcHJvdG8uZm9jdXNJbnB1dElmTmVlZGVkID0gZnVuY3Rpb24gZm9jdXNJbnB1dElmTmVlZGVkKCkge1xuICAgIC8qIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC9wcm9wLXR5cGVzICovXG4gICAgdmFyIF90aGlzJHByb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgZmlsdGVyaW5nID0gX3RoaXMkcHJvcHMuZmlsdGVyaW5nLFxuICAgICAgICBwcm9wZXJ0eSA9IF90aGlzJHByb3BzLnByb3BlcnR5O1xuXG4gICAgaWYgKHRoaXMuaW5wdXRSZWYuY3VycmVudCAmJiBmaWx0ZXJpbmcgPT09IHByb3BlcnR5KSB7XG4gICAgICB0aGlzLmlucHV0UmVmLmN1cnJlbnQuZm9jdXMoKTtcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgX3RoaXMkcHJvcHMyID0gdGhpcy5wcm9wcyxcbiAgICAgICAgZmlsdGVyaW5nID0gX3RoaXMkcHJvcHMyLmZpbHRlcmluZyxcbiAgICAgICAgZmlsdGVycyA9IF90aGlzJHByb3BzMi5maWx0ZXJzLFxuICAgICAgICBvbkZpbHRlciA9IF90aGlzJHByb3BzMi5vbkZpbHRlcixcbiAgICAgICAgb25GaWx0ZXJpbmcgPSBfdGhpcyRwcm9wczIub25GaWx0ZXJpbmcsXG4gICAgICAgIHByb3BlcnR5ID0gX3RoaXMkcHJvcHMyLnByb3BlcnR5LFxuICAgICAgICB0aGVtZSA9IF90aGlzJHByb3BzMi50aGVtZTtcblxuICAgIGlmIChmaWx0ZXJpbmcgPT09IHByb3BlcnR5KSB7XG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChLZXlib2FyZCwge1xuICAgICAgICBvbkVzYzogZnVuY3Rpb24gb25Fc2MoKSB7XG4gICAgICAgICAgcmV0dXJuIG9uRmlsdGVyaW5nKHVuZGVmaW5lZCk7XG4gICAgICAgIH1cbiAgICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQm94LCB7XG4gICAgICAgIGZsZXg6IHRydWUsXG4gICAgICAgIHBhZDoge1xuICAgICAgICAgIGhvcml6b250YWw6ICdzbWFsbCdcbiAgICAgICAgfVxuICAgICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChUZXh0SW5wdXQsIHtcbiAgICAgICAgbmFtZTogXCJzZWFyY2gtXCIgKyBwcm9wZXJ0eSxcbiAgICAgICAgcmVmOiB0aGlzLmlucHV0UmVmLFxuICAgICAgICB2YWx1ZTogZmlsdGVyc1twcm9wZXJ0eV0sXG4gICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShldmVudCkge1xuICAgICAgICAgIHJldHVybiBvbkZpbHRlcihwcm9wZXJ0eSwgZXZlbnQudGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25CbHVyOiBmdW5jdGlvbiBvbkJsdXIoKSB7XG4gICAgICAgICAgcmV0dXJuIG9uRmlsdGVyaW5nKHVuZGVmaW5lZCk7XG4gICAgICAgIH1cbiAgICAgIH0pKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIGZpbHRlcnNbcHJvcGVydHldID8gUmVhY3QuY3JlYXRlRWxlbWVudChCb3gsIHtcbiAgICAgIGZsZXg6IGZhbHNlLFxuICAgICAgcGFkOiB7XG4gICAgICAgIGhvcml6b250YWw6ICdzbWFsbCdcbiAgICAgIH0sXG4gICAgICBkaXJlY3Rpb246IFwicm93XCIsXG4gICAgICBhbGlnbjogXCJjZW50ZXJcIlxuICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGV4dCwgbnVsbCwgZmlsdGVyc1twcm9wZXJ0eV0pKSA6IG51bGwsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7XG4gICAgICBhMTF5VGl0bGU6IFwiZm9jdXMtc2VhcmNoLVwiICsgcHJvcGVydHksXG4gICAgICBpY29uOiBSZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1TZWFyY2gsIHtcbiAgICAgICAgY29sb3I6IG5vcm1hbGl6ZUNvbG9yKGZpbHRlcmluZyA9PT0gcHJvcGVydHkgPyAnYnJhbmQnIDogJ2JvcmRlcicsIHRoZW1lKVxuICAgICAgfSksXG4gICAgICBob3ZlckluZGljYXRvcjogdHJ1ZSxcbiAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgIHJldHVybiBvbkZpbHRlcmluZyhmaWx0ZXJpbmcgPT09IHByb3BlcnR5ID8gdW5kZWZpbmVkIDogcHJvcGVydHkpO1xuICAgICAgfVxuICAgIH0pKTtcbiAgfTtcblxuICByZXR1cm4gU2VhcmNoZXI7XG59KENvbXBvbmVudCk7XG5cblNlYXJjaGVyLmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKFNlYXJjaGVyLmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbnZhciBTZWFyY2hlcldyYXBwZXIgPSBjb21wb3NlKHdpdGhUaGVtZSkoU2VhcmNoZXIpO1xuZXhwb3J0IHsgU2VhcmNoZXJXcmFwcGVyIGFzIFNlYXJjaGVyIH07IiwiaW1wb3J0IHN0eWxlZCwgeyBjc3MgfSBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBiYWNrZ3JvdW5kU3R5bGUsIGZvY3VzU3R5bGUsIGdlbmVyaWNTdHlsZXMsIG5vcm1hbGl6ZUNvbG9yIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuaW1wb3J0IHsgZGVmYXVsdFByb3BzIH0gZnJvbSAnLi4vLi4vZGVmYXVsdC1wcm9wcyc7XG5pbXBvcnQgeyBUYWJsZVJvdyB9IGZyb20gJy4uL1RhYmxlUm93JztcbmltcG9ydCB7IFRhYmxlIH0gZnJvbSAnLi4vVGFibGUnO1xuaW1wb3J0IHsgVGFibGVCb2R5IH0gZnJvbSAnLi4vVGFibGVCb2R5JztcbmltcG9ydCB7IFRhYmxlSGVhZGVyIH0gZnJvbSAnLi4vVGFibGVIZWFkZXInO1xuaW1wb3J0IHsgVGFibGVGb290ZXIgfSBmcm9tICcuLi9UYWJsZUZvb3Rlcic7XG52YXIgU3R5bGVkRGF0YVRhYmxlID0gc3R5bGVkKFRhYmxlKS53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiU3R5bGVkRGF0YVRhYmxlXCIsXG4gIGNvbXBvbmVudElkOiBcInhybHlqbS0wXCJcbn0pKFtcImJvcmRlci1zcGFjaW5nOjA7Ym9yZGVyLWNvbGxhcHNlOmNvbGxhcHNlO2hlaWdodDphdXRvO1wiLCBcIjtcIl0sIGdlbmVyaWNTdHlsZXMpO1xuU3R5bGVkRGF0YVRhYmxlLmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKFN0eWxlZERhdGFUYWJsZS5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG52YXIgaG92ZXJTdHlsZSA9IGNzcyhbXCJcIiwgXCIgY29sb3I6XCIsIFwiO1wiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBiYWNrZ3JvdW5kU3R5bGUobm9ybWFsaXplQ29sb3IocHJvcHMudGhlbWUudGFibGUgJiYgcHJvcHMudGhlbWUudGFibGUucm93ICYmIHByb3BzLnRoZW1lLnRhYmxlLnJvdy5ob3ZlciAmJiBwcm9wcy50aGVtZS50YWJsZS5yb3cuaG92ZXIuYmFja2dyb3VuZCB8fCBwcm9wcy50aGVtZS5nbG9iYWwuaG92ZXIuYmFja2dyb3VuZCwgcHJvcHMudGhlbWUpLCBwcm9wcy50aGVtZSk7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIG5vcm1hbGl6ZUNvbG9yKHByb3BzLnRoZW1lLnRhYmxlICYmIHByb3BzLnRoZW1lLnRhYmxlLnJvdyAmJiBwcm9wcy50aGVtZS50YWJsZS5yb3cuaG92ZXIgJiYgcHJvcHMudGhlbWUudGFibGUucm93LmhvdmVyLmNvbG9yIHx8IHByb3BzLnRoZW1lLmdsb2JhbC5ob3Zlci5jb2xvciwgcHJvcHMudGhlbWUpO1xufSk7XG52YXIgU3R5bGVkRGF0YVRhYmxlUm93ID0gc3R5bGVkKFRhYmxlUm93KS53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiU3R5bGVkRGF0YVRhYmxlX19TdHlsZWREYXRhVGFibGVSb3dcIixcbiAgY29tcG9uZW50SWQ6IFwieHJseWptLTFcIlxufSkoW1wiXCIsIFwiIFwiLCBcIiAmOmhvdmVye1wiLCBcIn1cIiwgXCJcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuc2l6ZSAmJiBcIlxcbiAgICBkaXNwbGF5OiB0YWJsZTtcXG4gICAgd2lkdGg6IDEwMCU7XFxuICAgIHRhYmxlLWxheW91dDogZml4ZWQ7XFxuICBcIjtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMub25DbGljayAmJiBcIlxcbiAgICBjdXJzb3I6IHBvaW50ZXI7XFxuICBcIjtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMub25DbGlja1JvdyAmJiAhcHJvcHMuYWN0aXZlICYmIGhvdmVyU3R5bGU7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLmFjdGl2ZSAmJiBob3ZlclN0eWxlO1xufSk7XG5TdHlsZWREYXRhVGFibGVSb3cuZGVmYXVsdFByb3BzID0ge307XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoU3R5bGVkRGF0YVRhYmxlUm93LmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbnZhciBTdHlsZWREYXRhVGFibGVCb2R5ID0gc3R5bGVkKFRhYmxlQm9keSkud2l0aENvbmZpZyh7XG4gIGRpc3BsYXlOYW1lOiBcIlN0eWxlZERhdGFUYWJsZV9fU3R5bGVkRGF0YVRhYmxlQm9keVwiLFxuICBjb21wb25lbnRJZDogXCJ4cmx5am0tMlwiXG59KShbXCJcIiwgXCIgXCIsIFwiXCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnNpemUgJiYgXCJcXG4gICAgZGlzcGxheTogYmxvY2s7XFxuICAgIHdpZHRoOiAxMDAlO1xcbiAgICBtYXgtaGVpZ2h0OiBcIiArIHByb3BzLnRoZW1lLmdsb2JhbC5zaXplW3Byb3BzLnNpemVdICsgXCI7XFxuICAgIG92ZXJmbG93OiBhdXRvO1xcbiAgXCI7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLmZvY3VzICYmIGZvY3VzU3R5bGU7XG59KTtcblN0eWxlZERhdGFUYWJsZUJvZHkuZGVmYXVsdFByb3BzID0ge307XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoU3R5bGVkRGF0YVRhYmxlQm9keS5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG52YXIgU3R5bGVkRGF0YVRhYmxlSGVhZGVyID0gc3R5bGVkKFRhYmxlSGVhZGVyKS53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiU3R5bGVkRGF0YVRhYmxlX19TdHlsZWREYXRhVGFibGVIZWFkZXJcIixcbiAgY29tcG9uZW50SWQ6IFwieHJseWptLTNcIlxufSkoW1wiXCIsIFwiXCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnNpemUgJiYgXCJcXG4gICAgZGlzcGxheTogdGFibGU7XFxuICAgIHdpZHRoOiAxMDAlO1xcbiAgICB0YWJsZS1sYXlvdXQ6IGZpeGVkO1xcbiAgXCI7XG59KTtcblN0eWxlZERhdGFUYWJsZUhlYWRlci5kZWZhdWx0UHJvcHMgPSB7fTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihTdHlsZWREYXRhVGFibGVIZWFkZXIuZGVmYXVsdFByb3BzLCBkZWZhdWx0UHJvcHMpO1xudmFyIFN0eWxlZERhdGFUYWJsZUZvb3RlciA9IHN0eWxlZChUYWJsZUZvb3Rlcikud2l0aENvbmZpZyh7XG4gIGRpc3BsYXlOYW1lOiBcIlN0eWxlZERhdGFUYWJsZV9fU3R5bGVkRGF0YVRhYmxlRm9vdGVyXCIsXG4gIGNvbXBvbmVudElkOiBcInhybHlqbS00XCJcbn0pKFtcIlwiLCBcIlwiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5zaXplICYmIFwiXFxuICAgIGRpc3BsYXk6IHRhYmxlO1xcbiAgICB3aWR0aDogMTAwJTtcXG4gICAgdGFibGUtbGF5b3V0OiBmaXhlZDtcXG4gIFwiO1xufSk7XG5TdHlsZWREYXRhVGFibGVGb290ZXIuZGVmYXVsdFByb3BzID0ge307XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoU3R5bGVkRGF0YVRhYmxlRm9vdGVyLmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbmV4cG9ydCB7IFN0eWxlZERhdGFUYWJsZSwgU3R5bGVkRGF0YVRhYmxlUm93LCBTdHlsZWREYXRhVGFibGVCb2R5LCBTdHlsZWREYXRhVGFibGVIZWFkZXIsIFN0eWxlZERhdGFUYWJsZUZvb3RlciB9OyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmV4cG9ydCB2YXIgZGF0dW1WYWx1ZSA9IGZ1bmN0aW9uIGRhdHVtVmFsdWUoZGF0dW0sIHByb3BlcnR5KSB7XG4gIHZhciBwYXJ0cyA9IHByb3BlcnR5LnNwbGl0KCcuJyk7XG5cbiAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMSkge1xuICAgIHJldHVybiBkYXR1bVtwcm9wZXJ0eV07XG4gIH1cblxuICBpZiAoIWRhdHVtW3BhcnRzWzBdXSkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICByZXR1cm4gZGF0dW1WYWx1ZShkYXR1bVtwYXJ0c1swXV0sIHBhcnRzLnNsaWNlKDEpLmpvaW4oJy4nKSk7XG59O1xuXG52YXIgc3VtUmVkdWNlciA9IGZ1bmN0aW9uIHN1bVJlZHVjZXIoYWNjdW11bGF0ZWQsIG5leHQpIHtcbiAgcmV0dXJuIGFjY3VtdWxhdGVkICsgbmV4dDtcbn07XG5cbnZhciBtaW5SZWR1Y2VyID0gZnVuY3Rpb24gbWluUmVkdWNlcihhY2N1bXVsYXRlZCwgbmV4dCkge1xuICByZXR1cm4gYWNjdW11bGF0ZWQgPT09IHVuZGVmaW5lZCA/IG5leHQgOiBNYXRoLm1pbihhY2N1bXVsYXRlZCwgbmV4dCk7XG59O1xuXG52YXIgbWF4UmVkdWNlciA9IGZ1bmN0aW9uIG1heFJlZHVjZXIoYWNjdW11bGF0ZWQsIG5leHQpIHtcbiAgcmV0dXJuIGFjY3VtdWxhdGVkID09PSB1bmRlZmluZWQgPyBuZXh0IDogTWF0aC5tYXgoYWNjdW11bGF0ZWQsIG5leHQpO1xufTtcblxudmFyIHJlZHVjZXJzID0ge1xuICBtYXg6IG1heFJlZHVjZXIsXG4gIG1pbjogbWluUmVkdWNlcixcbiAgc3VtOiBzdW1SZWR1Y2VyXG59O1xuXG52YXIgYWdncmVnYXRlQ29sdW1uID0gZnVuY3Rpb24gYWdncmVnYXRlQ29sdW1uKGNvbHVtbiwgZGF0YSkge1xuICB2YXIgdmFsdWU7XG5cbiAgaWYgKGNvbHVtbi5hZ2dyZWdhdGUgPT09ICdhdmcnKSB7XG4gICAgdmFsdWUgPSBkYXRhLm1hcChmdW5jdGlvbiAoZCkge1xuICAgICAgcmV0dXJuIGRhdHVtVmFsdWUoZCwgY29sdW1uLnByb3BlcnR5KTtcbiAgICB9KS5yZWR1Y2Uoc3VtUmVkdWNlcik7XG4gICAgdmFsdWUgLz0gZGF0YS5sZW5ndGg7XG4gIH0gZWxzZSB7XG4gICAgdmFsdWUgPSBkYXRhLm1hcChmdW5jdGlvbiAoZCkge1xuICAgICAgcmV0dXJuIGRhdHVtVmFsdWUoZCwgY29sdW1uLnByb3BlcnR5KTtcbiAgICB9KS5yZWR1Y2UocmVkdWNlcnNbY29sdW1uLmFnZ3JlZ2F0ZV0sIDApO1xuICB9XG5cbiAgcmV0dXJuIHZhbHVlO1xufTtcblxudmFyIGZpbmRQcmltYXJ5ID0gZnVuY3Rpb24gZmluZFByaW1hcnkobmV4dFByb3BzLCBwcmV2U3RhdGUsIG5leHRTdGF0ZSkge1xuICB2YXIgY29sdW1ucyA9IG5leHRQcm9wcy5jb2x1bW5zLFxuICAgICAgcHJpbWFyeUtleSA9IG5leHRQcm9wcy5wcmltYXJ5S2V5O1xuICB2YXIgcHJpbWFyeVByb3BlcnR5O1xuICBjb2x1bW5zLmZvckVhY2goZnVuY3Rpb24gKGNvbHVtbikge1xuICAgIC8vIHJlbWVtYmVyIHRoZSBmaXJzdCBrZXkgcHJvcGVydHlcbiAgICBpZiAoY29sdW1uLnByaW1hcnkgJiYgIXByaW1hcnlQcm9wZXJ0eSkge1xuICAgICAgcHJpbWFyeVByb3BlcnR5ID0gY29sdW1uLnByb3BlcnR5O1xuICAgIH1cbiAgfSk7XG5cbiAgaWYgKCFwcmltYXJ5UHJvcGVydHkgJiYgY29sdW1ucy5sZW5ndGggPiAwKSB7XG4gICAgcHJpbWFyeVByb3BlcnR5ID0gcHJpbWFyeUtleSB8fCBjb2x1bW5zWzBdLnByb3BlcnR5O1xuICB9XG5cbiAgcmV0dXJuIF9leHRlbmRzKHt9LCBuZXh0U3RhdGUsIHtcbiAgICBwcmltYXJ5UHJvcGVydHk6IHByaW1hcnlQcm9wZXJ0eVxuICB9KTtcbn07IC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvR3VpZGUvUmVndWxhcl9FeHByZXNzaW9ucyNFc2NhcGluZ1xuXG5cbnZhciBlc2NhcGVSZWdFeHAgPSBmdW5jdGlvbiBlc2NhcGVSZWdFeHAoaW5wdXQpIHtcbiAgcmV0dXJuIGlucHV0LnJlcGxhY2UoL1suKis/XiR7fSgpfFtcXF1cXFxcXS9nLCAnXFxcXCQmJyk7XG59O1xuXG52YXIgZmlsdGVyID0gZnVuY3Rpb24gZmlsdGVyKG5leHRQcm9wcywgcHJldlN0YXRlLCBuZXh0U3RhdGUpIHtcbiAgdmFyIGNvbHVtbnMgPSBuZXh0UHJvcHMuY29sdW1ucyxcbiAgICAgIG9uU2VhcmNoID0gbmV4dFByb3BzLm9uU2VhcmNoO1xuICB2YXIgZGF0YSA9IG5leHRTdGF0ZS5kYXRhLFxuICAgICAgZmlsdGVycyA9IG5leHRTdGF0ZS5maWx0ZXJzO1xuICB2YXIgbmV4dEZpbHRlcnM7XG4gIHZhciByZWdleHBzO1xuICBjb2x1bW5zLmZvckVhY2goZnVuY3Rpb24gKGNvbHVtbikge1xuICAgIGlmIChjb2x1bW4uc2VhcmNoKSB7XG4gICAgICBpZiAoIW5leHRGaWx0ZXJzKSB7XG4gICAgICAgIG5leHRGaWx0ZXJzID0ge307XG4gICAgICAgIHJlZ2V4cHMgPSB7fTtcbiAgICAgIH1cblxuICAgICAgbmV4dEZpbHRlcnNbY29sdW1uLnByb3BlcnR5XSA9IGZpbHRlcnMgPyBmaWx0ZXJzW2NvbHVtbi5wcm9wZXJ0eV0gfHwgJycgOiAnJzsgLy8gZG9uJ3QgZG8gZmlsdGVyaW5nIGlmIHRoZSBjYWxsZXIgaGFzIHN1cHBsaWVkIG9uU2VhcmNoXG5cbiAgICAgIGlmIChuZXh0RmlsdGVyc1tjb2x1bW4ucHJvcGVydHldICYmIGNvbHVtbi5zZWFyY2ggJiYgIW9uU2VhcmNoKSB7XG4gICAgICAgIHJlZ2V4cHNbY29sdW1uLnByb3BlcnR5XSA9IG5ldyBSZWdFeHAoZXNjYXBlUmVnRXhwKG5leHRGaWx0ZXJzW2NvbHVtbi5wcm9wZXJ0eV0pLCAnaScpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIHZhciBuZXh0RGF0YSA9IGRhdGE7XG5cbiAgaWYgKG5leHRGaWx0ZXJzKSB7XG4gICAgbmV4dERhdGEgPSBkYXRhLmZpbHRlcihmdW5jdGlvbiAoZGF0dW0pIHtcbiAgICAgIHJldHVybiAhT2JqZWN0LmtleXMocmVnZXhwcykuc29tZShmdW5jdGlvbiAocHJvcGVydHkpIHtcbiAgICAgICAgcmV0dXJuICFyZWdleHBzW3Byb3BlcnR5XS50ZXN0KGRhdHVtVmFsdWUoZGF0dW0sIHByb3BlcnR5KSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBfZXh0ZW5kcyh7fSwgbmV4dFN0YXRlLCB7XG4gICAgZmlsdGVyczogbmV4dEZpbHRlcnMsXG4gICAgZGF0YTogbmV4dERhdGFcbiAgfSk7XG59O1xuXG52YXIgYWdncmVnYXRlID0gZnVuY3Rpb24gYWdncmVnYXRlKG5leHRQcm9wcywgcHJldlN0YXRlLCBuZXh0U3RhdGUpIHtcbiAgdmFyIGNvbHVtbnMgPSBuZXh0UHJvcHMuY29sdW1ucztcbiAgdmFyIGRhdGEgPSBuZXh0U3RhdGUuZGF0YTtcbiAgdmFyIGFnZ3JlZ2F0ZVZhbHVlcyA9IHt9O1xuICBjb2x1bW5zLmZvckVhY2goZnVuY3Rpb24gKGNvbHVtbikge1xuICAgIGlmIChjb2x1bW4uYWdncmVnYXRlKSB7XG4gICAgICBhZ2dyZWdhdGVWYWx1ZXNbY29sdW1uLnByb3BlcnR5XSA9IGFnZ3JlZ2F0ZUNvbHVtbihjb2x1bW4sIGRhdGEpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBfZXh0ZW5kcyh7fSwgbmV4dFN0YXRlLCB7XG4gICAgYWdncmVnYXRlVmFsdWVzOiBhZ2dyZWdhdGVWYWx1ZXNcbiAgfSk7XG59O1xuXG52YXIgYnVpbGRGb290ZXJWYWx1ZXMgPSBmdW5jdGlvbiBidWlsZEZvb3RlclZhbHVlcyhuZXh0UHJvcHMsIHByZXZTdGF0ZSwgbmV4dFN0YXRlKSB7XG4gIHZhciBjb2x1bW5zID0gbmV4dFByb3BzLmNvbHVtbnM7XG4gIHZhciBhZ2dyZWdhdGVWYWx1ZXMgPSBuZXh0U3RhdGUuYWdncmVnYXRlVmFsdWVzO1xuICB2YXIgc2hvd0Zvb3RlcjtcbiAgdmFyIGZvb3RlclZhbHVlcyA9IHt9O1xuICBjb2x1bW5zLmZvckVhY2goZnVuY3Rpb24gKGNvbHVtbikge1xuICAgIGlmIChjb2x1bW4uZm9vdGVyKSB7XG4gICAgICBzaG93Rm9vdGVyID0gdHJ1ZTtcblxuICAgICAgaWYgKHR5cGVvZiBjb2x1bW4uZm9vdGVyID09PSAnc3RyaW5nJykge1xuICAgICAgICBmb290ZXJWYWx1ZXNbY29sdW1uLnByb3BlcnR5XSA9IGNvbHVtbi5mb290ZXI7XG4gICAgICB9IGVsc2UgaWYgKGNvbHVtbi5mb290ZXIuYWdncmVnYXRlKSB7XG4gICAgICAgIGZvb3RlclZhbHVlc1tjb2x1bW4ucHJvcGVydHldID0gYWdncmVnYXRlVmFsdWVzW2NvbHVtbi5wcm9wZXJ0eV07XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIF9leHRlbmRzKHt9LCBuZXh0U3RhdGUsIHtcbiAgICBmb290ZXJWYWx1ZXM6IGZvb3RlclZhbHVlcyxcbiAgICBzaG93Rm9vdGVyOiBzaG93Rm9vdGVyXG4gIH0pO1xufTtcblxudmFyIHNvcnREYXRhID0gZnVuY3Rpb24gc29ydERhdGEobmV4dFByb3BzLCBwcmV2U3RhdGUsIG5leHRTdGF0ZSkge1xuICB2YXIgc29ydCA9IHByZXZTdGF0ZS5zb3J0O1xuICB2YXIgZGF0YSA9IG5leHRTdGF0ZS5kYXRhO1xuICB2YXIgbmV4dERhdGEgPSBkYXRhO1xuXG4gIGlmIChzb3J0KSB7XG4gICAgdmFyIHByb3BlcnR5ID0gc29ydC5wcm9wZXJ0eSxcbiAgICAgICAgYXNjZW5kaW5nID0gc29ydC5hc2NlbmRpbmc7XG4gICAgbmV4dERhdGEgPSBbXS5jb25jYXQoZGF0YSk7XG4gICAgdmFyIGJlZm9yZSA9IGFzY2VuZGluZyA/IDEgOiAtMTtcbiAgICB2YXIgYWZ0ZXIgPSBhc2NlbmRpbmcgPyAtMSA6IDE7XG4gICAgbmV4dERhdGEuc29ydChmdW5jdGlvbiAoZDEsIGQyKSB7XG4gICAgICBpZiAoZDFbcHJvcGVydHldID4gZDJbcHJvcGVydHldKSByZXR1cm4gYmVmb3JlO1xuICAgICAgaWYgKGQxW3Byb3BlcnR5XSA8IGQyW3Byb3BlcnR5XSkgcmV0dXJuIGFmdGVyO1xuICAgICAgcmV0dXJuIDA7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gX2V4dGVuZHMoe30sIG5leHRTdGF0ZSwge1xuICAgIGRhdGE6IG5leHREYXRhXG4gIH0pO1xufTtcblxudmFyIGdyb3VwRGF0YSA9IGZ1bmN0aW9uIGdyb3VwRGF0YShuZXh0UHJvcHMsIHByZXZTdGF0ZSwgbmV4dFN0YXRlKSB7XG4gIHZhciBjb2x1bW5zID0gbmV4dFByb3BzLmNvbHVtbnMsXG4gICAgICBncm91cEJ5ID0gbmV4dFByb3BzLmdyb3VwQnk7XG4gIHZhciBkYXRhID0gbmV4dFN0YXRlLmRhdGE7XG4gIHZhciBncm91cHM7XG4gIHZhciBncm91cFN0YXRlO1xuICB2YXIgZXhwYW5kZWRTdGF0ZTtcblxuICBpZiAoZ3JvdXBCeSkge1xuICAgIGdyb3VwcyA9IFtdO1xuICAgIGdyb3VwU3RhdGUgPSB7fTtcbiAgICB2YXIgZ3JvdXBNYXAgPSB7fTtcbiAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24gKGRhdHVtKSB7XG4gICAgICB2YXIgZ3JvdXBCeVByb3BlcnR5ID0gZ3JvdXBCeS5wcm9wZXJ0eSA/IGdyb3VwQnkucHJvcGVydHkgOiBncm91cEJ5O1xuICAgICAgdmFyIGdyb3VwVmFsdWUgPSBkYXR1bVZhbHVlKGRhdHVtLCBncm91cEJ5UHJvcGVydHkpO1xuXG4gICAgICBpZiAoIWdyb3VwTWFwW2dyb3VwVmFsdWVdKSB7XG4gICAgICAgIHZhciBncm91cCA9IHtcbiAgICAgICAgICBkYXRhOiBbXSxcbiAgICAgICAgICBkYXR1bToge30sXG4gICAgICAgICAga2V5OiBncm91cFZhbHVlXG4gICAgICAgIH07XG4gICAgICAgIGdyb3VwLmRhdHVtW2dyb3VwQnlQcm9wZXJ0eV0gPSBncm91cFZhbHVlO1xuICAgICAgICBncm91cHMucHVzaChncm91cCk7XG5cbiAgICAgICAgaWYgKGdyb3VwQnkuZXhwYW5kKSB7XG4gICAgICAgICAgZXhwYW5kZWRTdGF0ZSA9IGdyb3VwQnkuZXhwYW5kLnNvbWUoZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgcmV0dXJuIGtleSA9PT0gZ3JvdXBWYWx1ZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBleHBhbmRlZFN0YXRlID0gcHJldlN0YXRlLmdyb3VwU3RhdGUgJiYgcHJldlN0YXRlLmdyb3VwU3RhdGVbZ3JvdXBWYWx1ZV0gPyBwcmV2U3RhdGUuZ3JvdXBTdGF0ZVtncm91cFZhbHVlXS5leHBhbmRlZCA6IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgZ3JvdXBTdGF0ZVtncm91cFZhbHVlXSA9IHtcbiAgICAgICAgICBleHBhbmRlZDogZXhwYW5kZWRTdGF0ZVxuICAgICAgICB9O1xuICAgICAgICBncm91cE1hcFtncm91cFZhbHVlXSA9IGdyb3VwO1xuICAgICAgfVxuXG4gICAgICBncm91cE1hcFtncm91cFZhbHVlXS5kYXRhLnB1c2goZGF0dW0pO1xuICAgIH0pOyAvLyBjYWxjdWxhdGUgYW55IGFnZ3JlZ2F0ZXNcblxuICAgIGNvbHVtbnMuZm9yRWFjaChmdW5jdGlvbiAoY29sdW1uKSB7XG4gICAgICBpZiAoY29sdW1uLmFnZ3JlZ2F0ZSkge1xuICAgICAgICBncm91cHMuZm9yRWFjaChmdW5jdGlvbiAoZ3JvdXApIHtcbiAgICAgICAgICBncm91cC5kYXR1bVtjb2x1bW4ucHJvcGVydHldID0gYWdncmVnYXRlQ29sdW1uKGNvbHVtbiwgZ3JvdXAuZGF0YSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gX2V4dGVuZHMoe30sIG5leHRTdGF0ZSwge1xuICAgIGdyb3VwczogZ3JvdXBzLFxuICAgIGdyb3VwU3RhdGU6IGdyb3VwU3RhdGVcbiAgfSk7XG59O1xuXG5leHBvcnQgdmFyIGJ1aWxkU3RhdGUgPSBmdW5jdGlvbiBidWlsZFN0YXRlKG5leHRQcm9wcywgcHJldlN0YXRlKSB7XG4gIHZhciBkYXRhID0gbmV4dFByb3BzLmRhdGE7XG4gIHZhciBmaWx0ZXJzID0gcHJldlN0YXRlLmZpbHRlcnMsXG4gICAgICBzb3J0ID0gcHJldlN0YXRlLnNvcnQsXG4gICAgICB3aWR0aHMgPSBwcmV2U3RhdGUud2lkdGhzO1xuICB2YXIgbmV4dFN0YXRlID0ge1xuICAgIGRhdGE6IGRhdGEsXG4gICAgZmlsdGVyczogZmlsdGVycyxcbiAgICBzb3J0OiBzb3J0LFxuICAgIHdpZHRoczogd2lkdGhzXG4gIH07XG4gIG5leHRTdGF0ZSA9IGZpbmRQcmltYXJ5KG5leHRQcm9wcywgcHJldlN0YXRlLCBuZXh0U3RhdGUpO1xuICBuZXh0U3RhdGUgPSBmaWx0ZXIobmV4dFByb3BzLCBwcmV2U3RhdGUsIG5leHRTdGF0ZSk7XG4gIG5leHRTdGF0ZSA9IGFnZ3JlZ2F0ZShuZXh0UHJvcHMsIHByZXZTdGF0ZSwgbmV4dFN0YXRlKTtcbiAgbmV4dFN0YXRlID0gYnVpbGRGb290ZXJWYWx1ZXMobmV4dFByb3BzLCBwcmV2U3RhdGUsIG5leHRTdGF0ZSk7XG4gIG5leHRTdGF0ZSA9IHNvcnREYXRhKG5leHRQcm9wcywgcHJldlN0YXRlLCBuZXh0U3RhdGUpO1xuICBuZXh0U3RhdGUgPSBncm91cERhdGEobmV4dFByb3BzLCBwcmV2U3RhdGUsIG5leHRTdGF0ZSk7XG4gIHJldHVybiBuZXh0U3RhdGU7XG59OyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmltcG9ydCB7IGRlc2NyaWJlLCBQcm9wVHlwZXMgfSBmcm9tICdyZWFjdC1kZXNjJztcbmltcG9ydCB7IGdlbmVyaWNQcm9wcywgZ2V0QXZhaWxhYmxlQXRCYWRnZSB9IGZyb20gJy4uLy4uL3V0aWxzJztcbnZhciBzaXplcyA9IFsneHhzbWFsbCcsICd4c21hbGwnLCAnc21hbGwnLCAnbWVkaXVtJywgJ2xhcmdlJywgJ3hsYXJnZSddO1xudmFyIHNpZGVzID0gWydob3Jpem9udGFsJywgJ3ZlcnRpY2FsJywgJ3RvcCcsICdib3R0b20nLCAnbGVmdCcsICdyaWdodCddO1xudmFyIHBhcnRzID0gWydoZWFkZXInLCAnYm9keScsICdmb290ZXInXTtcbnZhciBwYWRTaGFwZVNpZGVzID0ge307XG5zaWRlcy5mb3JFYWNoKGZ1bmN0aW9uIChzaWRlKSB7XG4gIHBhZFNoYXBlU2lkZXNbc2lkZV0gPSBQcm9wVHlwZXMub25lT2Yoc2l6ZXMpO1xufSk7XG52YXIgcGFkU2hhcGVQYXJ0cyA9IHt9O1xucGFydHMuZm9yRWFjaChmdW5jdGlvbiAocGFydCkge1xuICBwYWRTaGFwZVBhcnRzW3BhcnRdID0ge307XG4gIHNpZGVzLmZvckVhY2goZnVuY3Rpb24gKHNpZGUpIHtcbiAgICBwYWRTaGFwZVBhcnRzW3BhcnRdW3NpZGVdID0gUHJvcFR5cGVzLm9uZU9mKHNpemVzKTtcbiAgfSk7XG59KTtcbnZhciBiYWNrZ3JvdW5kU2hhcGUgPSB7fTtcbnBhcnRzLmZvckVhY2goZnVuY3Rpb24gKHBhcnQpIHtcbiAgYmFja2dyb3VuZFNoYXBlW3BhcnRdID0gUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLnN0cmluZyldKTtcbn0pO1xudmFyIGJvcmRlclR5cGVzID0gW1Byb3BUeXBlcy5ib29sLCBQcm9wVHlwZXMub25lT2Yoc2lkZXMpLCBQcm9wVHlwZXMuc2hhcGUoe1xuICBjb2xvcjogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLnNoYXBlKHtcbiAgICBkYXJrOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIGxpZ2h0OiBQcm9wVHlwZXMuc3RyaW5nXG4gIH0pXSksXG4gIHNpZGU6IFByb3BUeXBlcy5vbmVPZihzaWRlcyksXG4gIHNpemU6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihzaXplcyksIFByb3BUeXBlcy5zdHJpbmddKVxufSldO1xudmFyIGJvcmRlclNoYXBlID0ge307XG5wYXJ0cy5mb3JFYWNoKGZ1bmN0aW9uIChwYXJ0KSB7XG4gIGJvcmRlclNoYXBlW3BhcnRdID0gUHJvcFR5cGVzLm9uZU9mVHlwZShib3JkZXJUeXBlcyk7XG59KTtcbmV4cG9ydCB2YXIgZG9jID0gZnVuY3Rpb24gZG9jKERhdGFUYWJsZSkge1xuICB2YXIgRG9jdW1lbnRlZERhdGFUYWJsZSA9IGRlc2NyaWJlKERhdGFUYWJsZSkuYXZhaWxhYmxlQXQoZ2V0QXZhaWxhYmxlQXRCYWRnZSgnRGF0YVRhYmxlJykpLmRlc2NyaXB0aW9uKCdBIGRhdGEgZHJpdmVuIHRhYmxlLicpLnVzYWdlKFwiaW1wb3J0IHsgRGF0YVRhYmxlIH0gZnJvbSAnZ3JvbW1ldCc7XFxuPERhdGFUYWJsZSAvPlwiKS5pbnRyaW5zaWNFbGVtZW50KCd0YWJsZScpO1xuICBEb2N1bWVudGVkRGF0YVRhYmxlLnByb3BUeXBlcyA9IF9leHRlbmRzKHt9LCBnZW5lcmljUHJvcHMsIHtcbiAgICBiYWNrZ3JvdW5kOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMuc3RyaW5nKSwgUHJvcFR5cGVzLnNoYXBlKGJhY2tncm91bmRTaGFwZSldKS5kZXNjcmlwdGlvbihcIkNlbGwgYmFja2dyb3VuZC4gWW91IGNhbiBzZXQgdGhlIGJhY2tncm91bmQgcGVyIGNvbnRleHQgYnkgcGFzc2luZyBhblxcbiAgICAgIG9iamVjdCB3aXRoIGtleXMgZm9yICdoZWFkaW5nJywgJ2JvZHknLCBhbmQvb3IgJ2Zvb3RlcicuIElmIHlvdSBwYXNzXFxuICAgICAgYW4gYXJyYXksIHJvd3Mgd2lsbCBjeWNsZSBiZXR3ZWVuIHRoZSBhcnJheSB2YWx1ZXMuXCIpLFxuICAgIGJvcmRlcjogUHJvcFR5cGVzLm9uZU9mVHlwZShbXS5jb25jYXQoYm9yZGVyVHlwZXMsIFtQcm9wVHlwZXMuc2hhcGUoYm9yZGVyU2hhcGUpXSkpLmRlc2NyaXB0aW9uKFwiQ2VsbCBib3JkZXIuIFlvdSBjYW4gc2V0IHRoZSBib3JkZXIgcGVyIGNvbnRleHQgYnkgcGFzc2luZyBhblxcbiAgICAgIG9iamVjdCB3aXRoIGtleXMgZm9yICdoZWFkaW5nJywgJ2JvZHknLCBhbmQvb3IgJ2Zvb3RlcicuXCIpLFxuICAgIGNvbHVtbnM6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICBhbGlnbjogUHJvcFR5cGVzLm9uZU9mKFsnY2VudGVyJywgJ3N0YXJ0JywgJ2VuZCddKSxcbiAgICAgIGFnZ3JlZ2F0ZTogUHJvcFR5cGVzLm9uZU9mKFsnYXZnJywgJ21heCcsICdtaW4nLCAnc3VtJ10pLFxuICAgICAgZm9vdGVyOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMubm9kZSwgUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgICAgYWdncmVnYXRlOiBQcm9wVHlwZXMuYm9vbFxuICAgICAgfSldKSxcbiAgICAgIGhlYWRlcjogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLm5vZGUsIFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICAgIGFnZ3JlZ2F0ZTogUHJvcFR5cGVzLmJvb2xcbiAgICAgIH0pXSksXG4gICAgICBwcmltYXJ5OiBQcm9wVHlwZXMuYm9vbCxcbiAgICAgIHByb3BlcnR5OiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgICByZW5kZXI6IFByb3BUeXBlcy5mdW5jLFxuICAgICAgc2VhcmNoOiBQcm9wVHlwZXMuYm9vbCxcbiAgICAgIHNvcnRhYmxlOiBQcm9wVHlwZXMuYm9vbFxuICAgIH0pKS5kZXNjcmlwdGlvbihcIkEgZGVzY3JpcHRpb24gb2YgdGhlIGRhdGEuIFRoZSBvcmRlciBjb250cm9scyB0aGUgY29sdW1uIG9yZGVyLlxcbiAgICAgICdwcm9wZXJ0eScgaW5kaWNhdGVzIHdoaWNoIHByb3BlcnR5IGluIHRoZSBkYXRhIG9iamVjdHMgdG8gYXNzb2NpYXRlXFxuICAgICAgdGhlIGNvbHVtbiB3aXRoLiAnaGVhZGVyJyBpbmRpY2F0ZXMgd2hhdCB0byBkaXNwbGF5IGluIHRoZSBjb2x1bW5cXG4gICAgICBoZWFkZXIuICdyZW5kZXInIGFsbG93cyBmb3IgY3VzdG9tIHJlbmRlcmluZyBvZiBib2R5IGNlbGxzLiBVc2UgJ3JlbmRlcidcXG4gICAgICBmb3IgY3VzdG9tIGZvcm1hdHRpbmcgZm9yIHRoaW5ncyBsaWtlIGN1cnJlbmN5IGFuZCBkYXRlIG9yIHRvXFxuICAgICAgZGlzcGxheSByaWNoIGNvbnRlbnQgbGlrZSBNZXRlcnMuICdhbGlnbicgaW5kaWNhdGVzIGhvdyB0aGUgY2VsbHMgaW5cXG4gICAgICB0aGUgY29sdW1uIGFyZSBhbGlnbmVkLiAnYWdncmVnYXRlJyBpbmRpY2F0ZXMgaG93IHRoZSBkYXRhIGluIHRoZVxcbiAgICAgIGNvbHVtbiBzaG91bGQgYmUgYWdncmVnYXRlZC4gVGhpcyBvbmx5IGFwcGxpZXMgdG8gYSBmb290ZXIgb3IgZ3JvdXBCeVxcbiAgICAgIGNvbnRleHQuICdmb290ZXInIGluZGljYXRlcyB3aGF0IHNob3VsZCBiZSBzaG93biBpbiB0aGUgZm9vdGVyIGZvclxcbiAgICAgIHRoZSBjb2x1bW4uICdzZWFyY2gnIGluZGljYXRlcyB3aGV0aGVyIGEgc2VhcmNoIGZpbHRlciBzaG91bGQgYmVcXG4gICAgICBtYWRlIGF2YWlsYWJsZSBmb3IgdGhlIGNvbHVtbi4gJ3ByaW1hcnknIGluZGljYXRlcyB0aGF0IHRoaXMgcHJvcGVydHlcXG4gICAgICBzaG91bGQgYmUgdXNlZCBhcyB0aGUgdW5pcXVlIGlkZW50aWZpZXIsIHdoaWNoIGdpdmVzIHRoZSBjZWxsICdyb3cnIHNjb3BlXFxuICAgICAgZm9yIGFjY2Vzc2liaWxpdHkuIElmICdwcmltYXJ5JyBpcyBub3QgdXNlZCBmb3IgYW55IGNvbHVtbiwgYW5kXFxuICAgICAgJ3ByaW1hcnlLZXknIGlzbid0IHNwZWNpZmllZCBlaXRoZXIsIHRoZW4gdGhlIGZpcnN0IGNvbHVtbiB3aWxsIGJlIHVzZWQuXCIpLFxuICAgIGRhdGE6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5zaGFwZSh7fSkpLmRlc2NyaXB0aW9uKCdBcnJheSBvZiBkYXRhIG9iamVjdHMuJyksXG4gICAgZ3JvdXBCeTogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgIHByb3BlcnR5OiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgZXhwYW5kOiBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMuc3RyaW5nKSxcbiAgICAgIG9uRXhwYW5kOiBQcm9wVHlwZXMuZnVuY1xuICAgIH0pXSkuZGVzY3JpcHRpb24oXCJQcm9wZXJ0eSB0byBncm91cCBkYXRhIGJ5LiBJZiBvYmplY3QgaXMgc3BlY2lmaWVkXFxuICAgICAgJ3Byb3BlcnR5JyBpcyB1c2VkIHRvIGdyb3VwIGRhdGEgYnksICdleHBhbmQnIGFjY2VwdHMgYXJyYXkgb2YgXFxuICAgICAgIGdyb3VwIGtleXMgdGhhdCBzZXRzIGV4cGFuZGVkIGdyb3VwcyBhbmQgJ29uRXhwYW5kJyBpcyBhIGZ1bmN0aW9uXFxuICAgICAgIHRoYXQgd2lsbCBiZSBjYWxsZWQgYWZ0ZXIgZXhwYW5kIGJ1dHRvbiBpcyBjbGlja2VkIHdpdGhcXG4gICAgICAgYW4gYXJyYXkgb2Yga2V5cyBvZiBleHBhbmRlZCBncm91cHMuXCIpLFxuICAgIG9uTW9yZTogUHJvcFR5cGVzLmZ1bmMuZGVzY3JpcHRpb24oXCJVc2UgdGhpcyB0byBpbmRpY2F0ZSB0aGF0ICdkYXRhJyBkb2Vzbid0IGNvbnRhaW4gYWxsIHRoYXQgaXQgY291bGQuXFxuICAgICAgSXQgd2lsbCBiZSBjYWxsZWQgd2hlbiBhbGwgb2YgdGhlIGRhdGEgcm93cyBoYXZlIGJlZW4gcmVuZGVyZWQuXFxuICAgICAgVGhpcyBtaWdodCBiZSB1c2VkIHdoZW4gdGhlIHRvdGFsIG51bWJlciBvZiBpdGVtcyB0aGF0IGNvdWxkIGJlIHJldHJpZXZlZFxcbiAgICAgIGlzIG1vcmUgdGhhbiB5b3UnZCB3YW50IHRvIGxvYWQgaW50byB0aGUgYnJvd3Nlci4gJ29uTW9yZScgYWxsb3dzIHlvdVxcbiAgICAgIHRvIGxhemlseSBmZXRjaCBtb3JlIGZyb20gdGhlIHNlcnZlciBvbmx5IHdoZW4gbmVlZGVkLiBUaGlzIGNhbm5vdFxcbiAgICAgIGJlIGNvbWJpbmVkIHdpdGggcHJvcGVydGllcyB0aGF0IGV4cGVjdCBhbGwgZGF0YSB0byBiZSBwcmVzZW50IGluIHRoZVxcbiAgICAgIGJyb3dzZXIsIHN1Y2ggYXMgY29sdW1ucy5zZWFyY2gsIHNvcnRhYmxlLCBncm91cEJ5LCBvciBcXG4gICAgICBjb2x1bW5zLmFnZ3JlZ2F0ZS5cIiksXG4gICAgcmVwbGFjZTogUHJvcFR5cGVzLmJvb2wuZGVzY3JpcHRpb24oXCJXaGV0aGVyIHRvIHJlcGxhY2UgcHJldmlvdXNseSByZW5kZXJlZCBpdGVtcyB3aXRoIGEgZ2VuZXJpYyBzcGFjaW5nXFxuICAgICAgZWxlbWVudCB3aGVuIHRoZXkgaGF2ZSBzY3JvbGxlZCBvdXQgb2Ygdmlldy4gVGhpcyBpcyBtb3JlIHBlcmZvcm1hbnQgYnV0XFxuICAgICAgbWVhbnMgdGhhdCBpbi1wYWdlIHNlYXJjaGluZyB3aWxsIG5vdCBmaW5kIGVsZW1lbnRzIHRoYXQgaGF2ZSBiZWVuXFxuICAgICAgcmVwbGFjZWQuXCIpLFxuICAgIG9uQ2xpY2tSb3c6IFByb3BUeXBlcy5mdW5jLmRlc2NyaXB0aW9uKFwiV2hlbiBzdXBwbGllZCwgdGhpcyBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCB3aXRoIGFuIGV2ZW50IG9iamVjdCB0aGF0XFxuICAgICAgaW5jbHVkZSBhICdkYXR1bScgcHJvcGVydHkgY29udGFpbmluZyB0aGUgZGF0YSB2YWx1ZSBhc3NvY2lhdGVkIHdpdGhcXG4gICAgICB0aGUgY2xpY2tlZCByb3cuIFlvdSBzaG91bGQgbm90IGluY2x1ZGUgaW50ZXJhY3RpdmUgZWxlbWVudHMsIGxpa2VcXG4gICAgICBBbmNob3Igb3IgQnV0dG9uIGluc2lkZSB0YWJsZSBjZWxscyBhcyB0aGF0IGNhbiBjYXVzZSBjb25mdXNpb24gd2l0aFxcbiAgICAgIG92ZXJsYXBwaW5nIGludGVyYWN0aXZlIGVsZW1lbnRzLlwiKSxcbiAgICBvblNlYXJjaDogUHJvcFR5cGVzLmZ1bmMuZGVzY3JpcHRpb24oXCJXaGVuIHN1cHBsaWVkLCBhbmQgd2hlbiBhdCBsZWFzdCBvbmUgY29sdW1uIGhhcyAnc2VhcmNoJyBlbmFibGVkLFxcbiAgICAgIHRoaXMgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgd2l0aCBhbiBvYmplY3Qgd2l0aCBrZXlzIGZvciBwcm9wZXJ0eVxcbiAgICAgIG5hbWVzIGFuZCB2YWx1ZXMgd2hpY2ggYXJlIHRoZSBzZWFyY2ggdGV4dCBzdHJpbmdzLiBUaGlzIGlzIHR5cGljYWxseVxcbiAgICAgIGVtcGxveWVkIHNvIGEgYmFjay1lbmQgY2FuIGJlIHVzZWQgdG8gc2VhcmNoIHRocm91Z2ggdGhlIGRhdGEuXCIpLFxuICAgIHBhZDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKHNpemVzKSwgUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLnNoYXBlKHBhZFNoYXBlU2lkZXMpLCBQcm9wVHlwZXMuc2hhcGUocGFkU2hhcGVQYXJ0cyldKS5kZXNjcmlwdGlvbihcIkNlbGwgcGFkZGluZy4gWW91IGNhbiBzZXQgdGhlIHBhZGRpbmcgcGVyIGNvbnRleHQgYnkgcGFzc2luZyBhblxcbiAgICAgIG9iamVjdCB3aXRoIGtleXMgZm9yICdoZWFkaW5nJywgJ2JvZHknLCBhbmQvb3IgJ2Zvb3RlcicuXCIpLFxuICAgIHByaW1hcnlLZXk6IFByb3BUeXBlcy5zdHJpbmcuZGVzY3JpcHRpb24oXCJXaGVuIHN1cHBsaWVkLCBpbmRpY2F0ZXMgdGhlIHByb3BlcnR5IGZvciBhIGRhdGEgb2JqZWN0IHRvIHVzZSB0b1xcbiAgICAgIGdldCBhIHVuaXF1ZSBpZGVudGlmaWVyLiBTZWUgYWxzbyB0aGUgJ2NvbHVtbnMucHJpbWFyeScgZGVzY3JpcHRpb24uXFxuICAgICAgVXNlIHRoaXMgcHJvcGVydHkgd2hlbiB0aGUgY29sdW1ucyBhcHByb2FjaCB3aWxsIG5vdCB3b3JrIGZvciB5b3VyXFxuICAgICAgZGF0YSBzZXQuXCIpLFxuICAgIHJlc2l6ZWFibGU6IFByb3BUeXBlcy5ib29sLmRlc2NyaXB0aW9uKCdXaGV0aGVyIHRvIGFsbG93IHRoZSB1c2VyIHRvIHJlc2l6ZSBjb2x1bW4gd2lkdGhzLicpLFxuICAgIHJvd1Byb3BzOiBQcm9wVHlwZXMuc2hhcGUoe30pLmRlc2NyaXB0aW9uKFwiUm93IHNwZWNpZmljIGJhY2tncm91bmQsIGJvcmRlciwgYW5kIHBhZCwga2V5ZWQgYnkgcHJpbWFyeSBrZXkgdmFsdWUuXFxuICAgICAgRm9yIGV4YW1wbGU6XFxuICAgICAgeyBcXFwicHJpbWFyeS1rZXktdmFsdWVcXFwiOiB7IGJhY2tncm91bmQ6IC4uLiwgYm9yZGVyOiAuLi4sIHBhZDogLi4uIH19LFxcbiAgICAgIHdoZXJlIHRoZSBiYWNrZ3JvdW5kLCBib3JkZXIsIGFuZCBwYWQgYWNjZXB0IHRoZSBzYW1lIHZhbHVlcyBhc1xcbiAgICAgIHRoZSBzYW1lIG5hbWVkIHByb3BlcnRpZXMgb24gRGF0YVRhYmxlLlwiKSxcbiAgICBzaXplOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2YoWydzbWFsbCcsICdtZWRpdW0nLCAnbGFyZ2UnLCAneGxhcmdlJ10pLCBQcm9wVHlwZXMuc3RyaW5nXSkuZGVzY3JpcHRpb24oXCJUaGUgaGVpZ2h0IG9mIHRoZSB0YWJsZSBib2R5LiBJZiBzZXQsIHRoZSB0YWJsZSBib2R5IHdpbGwgaGF2ZSBhIGZpeGVkXFxuICAgICAgaGVpZ2h0IGFuZCB0aGUgcm93cyB3aWxsIGJlIHNjcm9sbGFibGUgd2l0aGluIGl0LiBJbiBvcmRlciB0byBwcmVzZXJ2ZVxcbiAgICAgIGhlYWRlciBhbmQgZm9vdGVyIGNlbGwgYWxpZ25tZW50LCBhbGwgY2VsbHMgd2lsbCBoYXZlIHRoZSBzYW1lXFxuICAgICAgd2lkdGguIFRoaXMgY2Fubm90IGJlIHVzZWQgaW4gY29tYmluYXRpb24gd2l0aCAncmVzaXplYWJsZScuXCIpLFxuICAgIHNvcnRhYmxlOiBQcm9wVHlwZXMuYm9vbC5kZXNjcmlwdGlvbignV2hldGhlciB0byBhbGxvdyB0aGUgdXNlciB0byBzb3J0IGNvbHVtbnMuJyksXG4gICAgc3RlcDogUHJvcFR5cGVzLm51bWJlci5kZXNjcmlwdGlvbignSG93IG1hbnkgaXRlbXMgdG8gcmVuZGVyIGF0IGEgdGltZS4nKS5kZWZhdWx0VmFsdWUoNTApXG4gIH0pO1xuICByZXR1cm4gRG9jdW1lbnRlZERhdGFUYWJsZTtcbn07XG5leHBvcnQgdmFyIHRoZW1lRG9jID0ge1xuICAnZ2xvYmFsLmhvdmVyLmJhY2tncm91bmQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgYmFja2dyb3VuZCBzdHlsZSB3aGVuIGhvdmVyaW5nIG92ZXIgYW4gaW50ZXJhY3RpdmUgcm93LicsXG4gICAgdHlwZTogJ3N0cmluZyB8IHsgY29sb3I6IHN0cmluZywgb3BhY2l0eTogc3RyaW5nIH0nLFxuICAgIGRlZmF1bHRWYWx1ZTogXCJ7IGNvbG9yOiAnYWN0aXZlJywgb3BhY2l0eTogJ21lZGl1bScgfVwiXG4gIH0sXG4gICdnbG9iYWwuaG92ZXIuY29sb3InOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgdGV4dCBjb2xvciB3aGVuIGhvdmVyaW5nIG92ZXIgYW4gaW50ZXJhY3RpdmUgcm93LicsXG4gICAgdHlwZTogJ3N0cmluZyB8IHsgZGFyazogc3RyaW5nLCBsaWdodDogc3RyaW5nIH0nLFxuICAgIGRlZmF1bHRWYWx1ZTogXCJ7IGRhcms6ICd3aGl0ZScsIGxpZ2h0OiAnYmxhY2snIH1cIlxuICB9LFxuICAnZGF0YVRhYmxlLmdyb3VwSGVhZGVyLmJhY2tncm91bmQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgYmFja2dyb3VuZCBjb2xvciBvZiB0aGUgZ3JvdXAgaGVhZGVyLicsXG4gICAgdHlwZTogJ3N0cmluZyB8IHsgZGFyazogc3RyaW5nLCBsaWdodDogc3RyaW5nIH0nLFxuICAgIGRlZmF1bHRWYWx1ZTogXCJ7IGRhcms6ICdkYXJrLTInLCBsaWdodDogJ2xpZ2h0LTInIH1cIlxuICB9LFxuICAnZGF0YVRhYmxlLmdyb3VwSGVhZGVyLmJvcmRlci5zaWRlJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGJvcmRlciBzaWRlIHJlbmRlcmVkIGZvciB0aGUgZ3JvdXAgaGVhZGVyLicsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiAnYm90dG9tJ1xuICB9LFxuICAnZGF0YVRhYmxlLmdyb3VwSGVhZGVyLmJvcmRlci5zaXplJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGJvcmRlciBzaXplIG9mIHRoZSBncm91cCBoZWFkZXIgYm9yZGVyLicsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiAneHNtYWxsJ1xuICB9LFxuICAnZGF0YVRhYmxlLmdyb3VwSGVhZGVyLmZpbGwnOiB7XG4gICAgZGVzY3JpcHRpb246ICdXaGV0aGVyIHRoZSBoZWlnaHQgc2hvdWxkIGZpbGwgdGhlIGdyb3VwIGhlYWRlci4nLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogJ3ZlcnRpY2FsJ1xuICB9LFxuICAnZGF0YVRhYmxlLmdyb3VwSGVhZGVyLnBhZCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBwYWQgdXNlZCBmb3IgdGhlIGdyb3VwIGhlYWRlci4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCBvYmplY3QnLFxuICAgIGRlZmF1bHRWYWx1ZTogXCJ7IGhvcml6b250YWw6ICdzbWFsbCcsIHZlcnRpY2FsOiAneHNtYWxsJyB9XCJcbiAgfSxcbiAgJ2RhdGFUYWJsZS5oZWFkZXInOiB7XG4gICAgZGVzY3JpcHRpb246ICdTdHlsZXMgZm9yIHRoZSBoZWFkZXIuJyxcbiAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICBkZWZhdWx0VmFsdWU6ICd7fSdcbiAgfSxcbiAgJ2RhdGFUYWJsZS5pY29ucy5hc2NlbmRpbmcnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgYXNjZW5kaW5nIGljb24uJyxcbiAgICB0eXBlOiAnUmVhY3QuRWxlbWVudCcsXG4gICAgZGVmYXVsdFZhbHVlOiAnPEZvcm1Eb3duIC8+J1xuICB9LFxuICAnZGF0YVRhYmxlLmljb25zLmNvbnRyYWN0Jzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGNvbnRyYWN0IGljb24uJyxcbiAgICB0eXBlOiAnUmVhY3QuRWxlbWVudCcsXG4gICAgZGVmYXVsdFZhbHVlOiAnPEZvcm1VcCAvPidcbiAgfSxcbiAgJ2RhdGFUYWJsZS5pY29ucy5kZXNjZW5kaW5nJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGRlc2NlbmRpbmcgaWNvbi4nLFxuICAgIHR5cGU6ICdSZWFjdC5FbGVtZW50JyxcbiAgICBkZWZhdWx0VmFsdWU6ICc8Rm9ybVVwIC8+J1xuICB9LFxuICAnZGF0YVRhYmxlLmljb25zLmV4cGFuZCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBleHBhbmQgaWNvbi4nLFxuICAgIHR5cGU6ICdSZWFjdC5FbGVtZW50JyxcbiAgICBkZWZhdWx0VmFsdWU6ICc8Rm9ybURvd24gLz4nXG4gIH0sXG4gICdkYXRhVGFibGUucHJpbWFyeS53ZWlnaHQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgZm9udCB3ZWlnaHQgZm9yIHByaW1hcnkgY2VsbHMuJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICdib2xkJ1xuICB9LFxuICAnZGF0YVRhYmxlLnJlc2l6ZS5ib3JkZXIuY29sb3InOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgYm9yZGVyIGNvbG9yIGZvciByZXNpemUuJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgeyBkYXJrOiBzdHJpbmcsIGxpZ2h0OiBzdHJpbmcgfScsXG4gICAgZGVmYXVsdFZhbHVlOiAnYm9yZGVyJ1xuICB9LFxuICAnZGF0YVRhYmxlLnJlc2l6ZS5ib3JkZXIuc2lkZSc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBib3JkZXIgc2lkZSB1c2VkIGZvciByZXNpemUuJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICdyaWdodCdcbiAgfSxcbiAgJ3RhYmxlLnJvdy5ob3Zlci5iYWNrZ3JvdW5kJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGJhY2tncm91bmQgY29sb3Igd2hlbiBob3ZlcmluZyBvdmVyIGFuIGludGVyYWN0aXZlIHJvdy4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCB7IGNvbG9yOiBzdHJpbmcsIG9wYWNpdHk6IHN0cmluZyB9J1xuICB9LFxuICAndGFibGUucm93LmhvdmVyLmNvbG9yJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIHRleHQgY29sb3Igd2hlbiBob3ZlcmluZyBvdmVyIGFuIGludGVyYWN0aXZlIHJvdy4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCB7IGRhcms6IHN0cmluZywgbGlnaHQ6IHN0cmluZyB9J1xuICB9XG59OyIsImV4cG9ydCB7IERhdGFUYWJsZSB9IGZyb20gJy4vRGF0YVRhYmxlJzsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY29tcG9zZSB9IGZyb20gJ3JlY29tcG9zZSc7XG5pbXBvcnQgeyB3aXRoVGhlbWUgfSBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBkZWZhdWx0UHJvcHMgfSBmcm9tICcuLi8uLi9kZWZhdWx0LXByb3BzJztcbmltcG9ydCB7IG5vcm1hbGl6ZUNvbG9yLCBwYXJzZU1ldHJpY1RvTnVtIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuaW1wb3J0IHsgU3R5bGVkRGlhZ3JhbSB9IGZyb20gJy4vU3R5bGVkRGlhZ3JhbSc7XG5cbnZhciBjb21wdXRlTWlkUG9pbnQgPSBmdW5jdGlvbiBjb21wdXRlTWlkUG9pbnQoZnJvbVBvaW50LCB0b1BvaW50KSB7XG4gIHJldHVybiBbZnJvbVBvaW50WzBdID4gdG9Qb2ludFswXSA/IHRvUG9pbnRbMF0gKyAoZnJvbVBvaW50WzBdIC0gdG9Qb2ludFswXSkgLyAyIDogZnJvbVBvaW50WzBdICsgKHRvUG9pbnRbMF0gLSBmcm9tUG9pbnRbMF0pIC8gMiwgZnJvbVBvaW50WzFdID4gdG9Qb2ludFsxXSA/IHRvUG9pbnRbMV0gKyAoZnJvbVBvaW50WzFdIC0gdG9Qb2ludFsxXSkgLyAyIDogZnJvbVBvaW50WzFdICsgKHRvUG9pbnRbMV0gLSBmcm9tUG9pbnRbMV0pIC8gMl07XG59O1xuXG52YXIgQ09NTUFORFMgPSB7XG4gIGN1cnZlZDogZnVuY3Rpb24gY3VydmVkKGZyb21Qb2ludCwgdG9Qb2ludCwgb2Zmc2V0LCBhbmNob3IpIHtcbiAgICB2YXIgbWlkUG9pbnQgPSBjb21wdXRlTWlkUG9pbnQoZnJvbVBvaW50LCB0b1BvaW50KTtcbiAgICB2YXIgY21kcyA9IFwiTSBcIiArIChmcm9tUG9pbnRbMF0gKyBvZmZzZXQpICsgXCIsXCIgKyAoZnJvbVBvaW50WzFdICsgb2Zmc2V0KSArIFwiIFwiO1xuXG4gICAgaWYgKGFuY2hvciA9PT0gJ2hvcml6b250YWwnKSB7XG4gICAgICBjbWRzICs9IFwiUSBcIiArIChtaWRQb2ludFswXSArIG9mZnNldCkgKyBcIixcIiArIChmcm9tUG9pbnRbMV0gKyBvZmZzZXQpICsgXCIgXCIgKyAobWlkUG9pbnRbMF0gKyBvZmZzZXQgKyBcIixcIiArIChtaWRQb2ludFsxXSArIG9mZnNldCkgKyBcIiBcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNtZHMgKz0gXCJRIFwiICsgKGZyb21Qb2ludFswXSArIG9mZnNldCkgKyBcIixcIiArIChtaWRQb2ludFsxXSArIG9mZnNldCkgKyBcIiBcIiArIChtaWRQb2ludFswXSArIG9mZnNldCArIFwiLFwiICsgKG1pZFBvaW50WzFdICsgb2Zmc2V0KSArIFwiIFwiKTtcbiAgICB9XG5cbiAgICBjbWRzICs9IFwiVCBcIiArICh0b1BvaW50WzBdICsgb2Zmc2V0KSArIFwiLFwiICsgKHRvUG9pbnRbMV0gKyBvZmZzZXQpO1xuICAgIHJldHVybiBjbWRzO1xuICB9LFxuICBkaXJlY3Q6IGZ1bmN0aW9uIGRpcmVjdChmcm9tUG9pbnQsIHRvUG9pbnQsIG9mZnNldCkge1xuICAgIHJldHVybiBcIk0gXCIgKyAoZnJvbVBvaW50WzBdICsgb2Zmc2V0KSArIFwiLFwiICsgKGZyb21Qb2ludFsxXSArIG9mZnNldCkgKyBcIiBcIiArIChcIkwgXCIgKyAodG9Qb2ludFswXSArIG9mZnNldCkgKyBcIixcIiArICh0b1BvaW50WzFdICsgb2Zmc2V0KSk7XG4gIH0sXG4gIHJlY3RpbGluZWFyOiBmdW5jdGlvbiByZWN0aWxpbmVhcihmcm9tUG9pbnQsIHRvUG9pbnQsIG9mZnNldCwgYW5jaG9yKSB7XG4gICAgdmFyIG1pZFBvaW50ID0gY29tcHV0ZU1pZFBvaW50KGZyb21Qb2ludCwgdG9Qb2ludCk7XG4gICAgdmFyIGNtZHMgPSBcIk0gXCIgKyAoZnJvbVBvaW50WzBdICsgb2Zmc2V0KSArIFwiLFwiICsgKGZyb21Qb2ludFsxXSArIG9mZnNldCkgKyBcIiBcIjtcblxuICAgIGlmIChhbmNob3IgPT09ICdob3Jpem9udGFsJykge1xuICAgICAgY21kcyArPSBcIkwgXCIgKyAobWlkUG9pbnRbMF0gKyBvZmZzZXQpICsgXCIsXCIgKyAoZnJvbVBvaW50WzFdICsgb2Zmc2V0KSArIFwiIFwiICsgKFwiTCBcIiArIChtaWRQb2ludFswXSArIG9mZnNldCkgKyBcIixcIiArICh0b1BvaW50WzFdICsgb2Zmc2V0KSArIFwiIFwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY21kcyArPSBcIkwgXCIgKyAoZnJvbVBvaW50WzBdICsgb2Zmc2V0KSArIFwiLFwiICsgKG1pZFBvaW50WzFdICsgb2Zmc2V0KSArIFwiIFwiICsgKFwiTCBcIiArICh0b1BvaW50WzBdICsgb2Zmc2V0KSArIFwiLFwiICsgKG1pZFBvaW50WzFdICsgb2Zmc2V0KSArIFwiIFwiKTtcbiAgICB9XG5cbiAgICBjbWRzICs9IFwiTCBcIiArICh0b1BvaW50WzBdICsgb2Zmc2V0KSArIFwiLFwiICsgKHRvUG9pbnRbMV0gKyBvZmZzZXQpO1xuICAgIHJldHVybiBjbWRzO1xuICB9XG59O1xuXG52YXIgZmluZFRhcmdldCA9IGZ1bmN0aW9uIGZpbmRUYXJnZXQodGFyZ2V0KSB7XG4gIGlmICh0eXBlb2YgdGFyZ2V0ID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0YXJnZXQpO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn07XG5cbnZhciBEaWFncmFtID0gZnVuY3Rpb24gRGlhZ3JhbShfcmVmKSB7XG4gIHZhciBjb25uZWN0aW9ucyA9IF9yZWYuY29ubmVjdGlvbnMsXG4gICAgICB0aGVtZSA9IF9yZWYudGhlbWUsXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZiwgW1wiY29ubmVjdGlvbnNcIiwgXCJ0aGVtZVwiXSk7XG5cbiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKHtcbiAgICB3aWR0aDogMCxcbiAgICBoZWlnaHQ6IDBcbiAgfSksXG4gICAgICBkaW1lbnNpb25zID0gX3VzZVN0YXRlWzBdLFxuICAgICAgc2V0RGltZW5zaW9ucyA9IF91c2VTdGF0ZVsxXTtcblxuICB2YXIgX3VzZVN0YXRlMiA9IHVzZVN0YXRlKCksXG4gICAgICBjb25uZWN0aW9uUG9pbnRzID0gX3VzZVN0YXRlMlswXSxcbiAgICAgIHNldENvbm5lY3Rpb25Qb2ludHMgPSBfdXNlU3RhdGUyWzFdO1xuXG4gIHZhciBzdmdSZWYgPSB1c2VSZWYoKTtcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBzZXRDb25uZWN0aW9uUG9pbnRzKHVuZGVmaW5lZCk7XG4gIH0sIFtjb25uZWN0aW9uc10pO1xuICB2YXIgb25SZXNpemUgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHN2ZyA9IHN2Z1JlZi5jdXJyZW50O1xuXG4gICAgaWYgKHN2Zykge1xuICAgICAgdmFyIHJlY3QgPSBzdmcuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgIGlmIChyZWN0LndpZHRoICE9PSBkaW1lbnNpb25zLndpZHRoIHx8IHJlY3QuaGVpZ2h0ICE9PSBkaW1lbnNpb25zLmhlaWdodCkge1xuICAgICAgICBzZXREaW1lbnNpb25zKHtcbiAgICAgICAgICB3aWR0aDogcmVjdC53aWR0aCxcbiAgICAgICAgICBoZWlnaHQ6IHJlY3QuaGVpZ2h0XG4gICAgICAgIH0pO1xuICAgICAgICBzZXRDb25uZWN0aW9uUG9pbnRzKHVuZGVmaW5lZCk7XG4gICAgICB9XG4gICAgfVxuICB9LCBbZGltZW5zaW9ucy53aWR0aCwgZGltZW5zaW9ucy5oZWlnaHRdKTsgLy8gUmVmIHRoYXQgc3RvcmVzIHJlc2l6ZSBoYW5kbGVyXG5cbiAgdmFyIHNhdmVkT25SZXNpemUgPSB1c2VSZWYoKTsgLy8gVXBkYXRlIHJlc2l6ZSByZWYgdmFsdWUgaWYgb25SZXNpemUgY2hhbmdlcy5cbiAgLy8gVGhpcyBhbGxvd3Mgb3VyIGVmZmVjdCBiZWxvdyB0byBhbHdheXMgZ2V0IGxhdGVzdCBoYW5kbGVyXG5cbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBzYXZlZE9uUmVzaXplLmN1cnJlbnQgPSBvblJlc2l6ZTtcbiAgfSwgW29uUmVzaXplXSk7XG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG9uUmVzaXplSGFuZGxlciA9IGZ1bmN0aW9uIG9uUmVzaXplSGFuZGxlcihldmVudCkge1xuICAgICAgcmV0dXJuIHNhdmVkT25SZXNpemUuY3VycmVudChldmVudCk7XG4gICAgfTtcblxuICAgIG9uUmVzaXplSGFuZGxlcigpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBvblJlc2l6ZUhhbmRsZXIpO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgb25SZXNpemVIYW5kbGVyKTtcbiAgICB9O1xuICB9LCBbXSk7XG4gIHZhciBwbGFjZUNvbm5lY3Rpb25zID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgIHZhciBjb250YWluZXJSZWN0ID0gc3ZnUmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgdmFyIHVwZGF0ZWRDb25uZWN0aW9uUG9pbnRzID0gY29ubmVjdGlvbnMubWFwKGZ1bmN0aW9uIChfcmVmMikge1xuICAgICAgdmFyIGFuY2hvciA9IF9yZWYyLmFuY2hvcixcbiAgICAgICAgICBmcm9tVGFyZ2V0ID0gX3JlZjIuZnJvbVRhcmdldCxcbiAgICAgICAgICB0b1RhcmdldCA9IF9yZWYyLnRvVGFyZ2V0O1xuICAgICAgdmFyIHBvaW50cztcbiAgICAgIHZhciBmcm9tRWxlbWVudCA9IGZpbmRUYXJnZXQoZnJvbVRhcmdldCk7XG4gICAgICB2YXIgdG9FbGVtZW50ID0gZmluZFRhcmdldCh0b1RhcmdldCk7XG5cbiAgICAgIGlmICghZnJvbUVsZW1lbnQpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwiRGlhZ3JhbSBjYW5ub3QgZmluZCBcIiArIGZyb21UYXJnZXQpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRvRWxlbWVudCkge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJEaWFncmFtIGNhbm5vdCBmaW5kIFwiICsgdG9UYXJnZXQpO1xuICAgICAgfVxuXG4gICAgICBpZiAoZnJvbUVsZW1lbnQgJiYgdG9FbGVtZW50KSB7XG4gICAgICAgIHZhciBmcm9tUmVjdCA9IGZyb21FbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB2YXIgdG9SZWN0ID0gdG9FbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOyAvLyBUaGVyZSBpcyBubyB4IGFuZCB5IHdoZW4gdW5pdCB0ZXN0aW5nLlxuXG4gICAgICAgIHZhciBmcm9tUG9pbnQgPSBbZnJvbVJlY3QubGVmdCAtIGNvbnRhaW5lclJlY3QubGVmdCB8fCAwLCBmcm9tUmVjdC50b3AgLSBjb250YWluZXJSZWN0LnRvcCB8fCAwXTtcbiAgICAgICAgdmFyIHRvUG9pbnQgPSBbdG9SZWN0LmxlZnQgLSBjb250YWluZXJSZWN0LmxlZnQgfHwgMCwgdG9SZWN0LnRvcCAtIGNvbnRhaW5lclJlY3QudG9wIHx8IDBdO1xuXG4gICAgICAgIGlmIChhbmNob3IgPT09ICd2ZXJ0aWNhbCcpIHtcbiAgICAgICAgICBmcm9tUG9pbnRbMF0gKz0gZnJvbVJlY3Qud2lkdGggLyAyO1xuICAgICAgICAgIHRvUG9pbnRbMF0gKz0gdG9SZWN0LndpZHRoIC8gMjtcblxuICAgICAgICAgIGlmIChmcm9tUmVjdC50b3AgPCB0b1JlY3QudG9wKSB7XG4gICAgICAgICAgICBmcm9tUG9pbnRbMV0gKz0gZnJvbVJlY3QuaGVpZ2h0O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0b1BvaW50WzFdICs9IHRvUmVjdC5oZWlnaHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGFuY2hvciA9PT0gJ2hvcml6b250YWwnKSB7XG4gICAgICAgICAgZnJvbVBvaW50WzFdICs9IGZyb21SZWN0LmhlaWdodCAvIDI7XG4gICAgICAgICAgdG9Qb2ludFsxXSArPSB0b1JlY3QuaGVpZ2h0IC8gMjtcblxuICAgICAgICAgIGlmIChmcm9tUmVjdC5sZWZ0IDwgdG9SZWN0LmxlZnQpIHtcbiAgICAgICAgICAgIGZyb21Qb2ludFswXSArPSBmcm9tUmVjdC53aWR0aDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdG9Qb2ludFswXSArPSB0b1JlY3Qud2lkdGg7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGNlbnRlclxuICAgICAgICAgIGZyb21Qb2ludFswXSArPSBmcm9tUmVjdC53aWR0aCAvIDI7XG4gICAgICAgICAgZnJvbVBvaW50WzFdICs9IGZyb21SZWN0LmhlaWdodCAvIDI7XG4gICAgICAgICAgdG9Qb2ludFswXSArPSB0b1JlY3Qud2lkdGggLyAyO1xuICAgICAgICAgIHRvUG9pbnRbMV0gKz0gdG9SZWN0LmhlaWdodCAvIDI7XG4gICAgICAgIH1cblxuICAgICAgICBwb2ludHMgPSBbZnJvbVBvaW50LCB0b1BvaW50XTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHBvaW50cztcbiAgICB9KTtcbiAgICBzZXRDb25uZWN0aW9uUG9pbnRzKHVwZGF0ZWRDb25uZWN0aW9uUG9pbnRzKTtcbiAgfSwgW2Nvbm5lY3Rpb25zXSk7XG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFjb25uZWN0aW9uUG9pbnRzKSB7XG4gICAgICBwbGFjZUNvbm5lY3Rpb25zKCk7XG4gICAgfVxuICB9LCBbY29ubmVjdGlvblBvaW50cywgcGxhY2VDb25uZWN0aW9uc10pO1xuICB2YXIgcGF0aHM7XG5cbiAgaWYgKGNvbm5lY3Rpb25Qb2ludHMpIHtcbiAgICBwYXRocyA9IGNvbm5lY3Rpb25zLm1hcChmdW5jdGlvbiAoX3JlZjMsIGluZGV4KSB7XG4gICAgICB2YXIgYW5jaG9yID0gX3JlZjMuYW5jaG9yLFxuICAgICAgICAgIGNvbG9yID0gX3JlZjMuY29sb3IsXG4gICAgICAgICAgb2Zmc2V0ID0gX3JlZjMub2Zmc2V0LFxuICAgICAgICAgIHJvdW5kID0gX3JlZjMucm91bmQsXG4gICAgICAgICAgdGhpY2tuZXNzID0gX3JlZjMudGhpY2tuZXNzLFxuICAgICAgICAgIHR5cGUgPSBfcmVmMy50eXBlLFxuICAgICAgICAgIGNvbm5lY3Rpb25SZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZjMsIFtcImFuY2hvclwiLCBcImNvbG9yXCIsIFwib2Zmc2V0XCIsIFwicm91bmRcIiwgXCJ0aGlja25lc3NcIiwgXCJ0eXBlXCJdKTtcblxuICAgICAgdmFyIHBhdGg7XG5cbiAgICAgIHZhciBjbGVhbmVkUmVzdCA9IF9leHRlbmRzKHt9LCBjb25uZWN0aW9uUmVzdCk7XG5cbiAgICAgIGRlbGV0ZSBjbGVhbmVkUmVzdC5mcm9tVGFyZ2V0O1xuICAgICAgZGVsZXRlIGNsZWFuZWRSZXN0LnRvVGFyZ2V0O1xuICAgICAgdmFyIHBvaW50cyA9IGNvbm5lY3Rpb25Qb2ludHNbaW5kZXhdO1xuXG4gICAgICBpZiAocG9pbnRzKSB7XG4gICAgICAgIHZhciBvZmZzZXRXaWR0aCA9IG9mZnNldCA/IHBhcnNlTWV0cmljVG9OdW0odGhlbWUuZ2xvYmFsLmVkZ2VTaXplW29mZnNldF0pIDogMDtcbiAgICAgICAgdmFyIGQgPSBDT01NQU5EU1t0eXBlIHx8ICdjdXJ2ZWQnXShwb2ludHNbMF0sIHBvaW50c1sxXSwgb2Zmc2V0V2lkdGgsIGFuY2hvcik7XG4gICAgICAgIHZhciBzdHJva2VXaWR0aCA9IHRoaWNrbmVzcyA/IHBhcnNlTWV0cmljVG9OdW0odGhlbWUuZ2xvYmFsLmVkZ2VTaXplW3RoaWNrbmVzc10gfHwgdGhpY2tuZXNzKSA6IDE7XG4gICAgICAgIHZhciBjb2xvck5hbWUgPSBjb2xvciB8fCB0aGVtZS5kaWFncmFtLmxpbmUgJiYgdGhlbWUuZGlhZ3JhbS5saW5lLmNvbG9yO1xuXG4gICAgICAgIGlmICghY29sb3JOYW1lKSB7XG4gICAgICAgICAgdmFyIGNvbG9ycyA9IE9iamVjdC5rZXlzKHRoZW1lLmdsb2JhbC5jb2xvcnMpLmZpbHRlcihmdW5jdGlvbiAobikge1xuICAgICAgICAgICAgcmV0dXJuIG4ubWF0Y2goL15ncmFwaC1bMC05XSQvKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb2xvck5hbWUgPSBjb2xvcnNbaW5kZXggJSBjb2xvcnMubGVuZ3RoXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBhdGggPSBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCBfZXh0ZW5kcyh7XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0L25vLWFycmF5LWluZGV4LWtleVxuICAgICAgICAgIGtleTogaW5kZXhcbiAgICAgICAgfSwgY2xlYW5lZFJlc3QsIHtcbiAgICAgICAgICBzdHJva2U6IG5vcm1hbGl6ZUNvbG9yKGNvbG9yTmFtZSwgdGhlbWUpLFxuICAgICAgICAgIHN0cm9rZVdpZHRoOiBzdHJva2VXaWR0aCxcbiAgICAgICAgICBzdHJva2VMaW5lY2FwOiByb3VuZCA/ICdyb3VuZCcgOiAnYnV0dCcsXG4gICAgICAgICAgc3Ryb2tlTGluZWpvaW46IHJvdW5kID8gJ3JvdW5kJyA6ICdtaXRlcicsXG4gICAgICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICAgICAgZDogZFxuICAgICAgICB9KSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwYXRoO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkRGlhZ3JhbSwgX2V4dGVuZHMoe1xuICAgIHJlZjogc3ZnUmVmLFxuICAgIHZpZXdCb3g6IFwiMCAwIFwiICsgZGltZW5zaW9ucy53aWR0aCArIFwiIFwiICsgZGltZW5zaW9ucy5oZWlnaHQsXG4gICAgcHJlc2VydmVBc3BlY3RSYXRpbzogXCJ4TWluWU1pbiBtZWV0XCJcbiAgfSwgcmVzdCksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJnXCIsIG51bGwsIHBhdGhzKSk7XG59O1xuXG5EaWFncmFtLmRlZmF1bHRQcm9wcyA9IHtcbiAgY29ubmVjdGlvbnM6IFtdXG59O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKERpYWdyYW0uZGVmYXVsdFByb3BzLCBkZWZhdWx0UHJvcHMpO1xudmFyIERpYWdyYW1Eb2M7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBnbG9iYWwtcmVxdWlyZVxuICBEaWFncmFtRG9jID0gcmVxdWlyZSgnLi9kb2MnKS5kb2MoRGlhZ3JhbSk7XG59XG5cbnZhciBEaWFncmFtV3JhcHBlciA9IGNvbXBvc2Uod2l0aFRoZW1lKShEaWFncmFtRG9jIHx8IERpYWdyYW0pO1xuZXhwb3J0IHsgRGlhZ3JhbVdyYXBwZXIgYXMgRGlhZ3JhbSB9OyIsImltcG9ydCBzdHlsZWQgZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgZGVmYXVsdFByb3BzIH0gZnJvbSAnLi4vLi4vZGVmYXVsdC1wcm9wcyc7XG52YXIgU3R5bGVkRGlhZ3JhbSA9IHN0eWxlZC5zdmcud2l0aENvbmZpZyh7XG4gIGRpc3BsYXlOYW1lOiBcIlN0eWxlZERpYWdyYW1cIixcbiAgY29tcG9uZW50SWQ6IFwic2MtMXZ6ZXU5Zi0wXCJcbn0pKFtcIm1heC13aWR0aDoxMDAlO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7XCIsIFwiO1wiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5kaWFncmFtICYmIHByb3BzLnRoZW1lLmRpYWdyYW0uZXh0ZW5kO1xufSk7XG5TdHlsZWREaWFncmFtLmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKFN0eWxlZERpYWdyYW0uZGVmYXVsdFByb3BzLCBkZWZhdWx0UHJvcHMpO1xuZXhwb3J0IHsgU3R5bGVkRGlhZ3JhbSB9OyIsImltcG9ydCB7IGRlc2NyaWJlLCBQcm9wVHlwZXMgfSBmcm9tICdyZWFjdC1kZXNjJztcbmltcG9ydCB7IGNvbG9yUHJvcFR5cGUsIGdldEF2YWlsYWJsZUF0QmFkZ2UgfSBmcm9tICcuLi8uLi91dGlscyc7XG5leHBvcnQgdmFyIGRvYyA9IGZ1bmN0aW9uIGRvYyhEaWFncmFtKSB7XG4gIHZhciBEb2N1bWVudGVkRGlhZ3JhbSA9IGRlc2NyaWJlKERpYWdyYW0pLmF2YWlsYWJsZUF0KGdldEF2YWlsYWJsZUF0QmFkZ2UoJ0RpYWdyYW0nKSkuZGVzY3JpcHRpb24oXCJHcmFwaGljYWwgY29ubmVjdGlvbiBsaW5lcy4gRGlhZ3JhbSBpcyBtZWFudCB0byBiZSB1c2VkIHdpdGggU3RhY2suXFxuICAgICAgQm94ZXMgY2FuIGJlIHVzZWQgaW4gdGhlIGBndWlkaW5nQ2hpbGRgIGxheWVyIG9mIFN0YWNrIGFuZCB0aGVuXFxuICAgICAgRGlhZ3JhbSBjYW4gYmUgdXNlZCB0byBkcmF3IGxpbmVzIGNvbm5lY3RpbmcgdGhlIEJveGVzLlwiKS51c2FnZShcImltcG9ydCB7IERpYWdyYW0gfSBmcm9tICdncm9tbWV0JztcXG48RGlhZ3JhbSAvPlwiKS5pbnRyaW5zaWNFbGVtZW50KCdzdmcnKTtcbiAgRG9jdW1lbnRlZERpYWdyYW0ucHJvcFR5cGVzID0ge1xuICAgIGNvbm5lY3Rpb25zOiBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgYW5jaG9yOiBQcm9wVHlwZXMub25lT2YoWydjZW50ZXInLCAndmVydGljYWwnLCAnaG9yaXpvbnRhbCddKSxcbiAgICAgIGNvbG9yOiBjb2xvclByb3BUeXBlLFxuICAgICAgZnJvbVRhcmdldDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLm9iamVjdF0pLmlzUmVxdWlyZWQsXG4gICAgICBsYWJlbDogUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgIC8vIGZvciBhY2Nlc3NpYmlsaXR5XG4gICAgICBvZmZzZXQ6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbJ3hzbWFsbCcsICdzbWFsbCcsICdtZWRpdW0nLCAnbGFyZ2UnXSksIFByb3BUeXBlcy5zdHJpbmddKSxcbiAgICAgIHRoaWNrbmVzczogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFsnaGFpcicsICd4eHNtYWxsJywgJ3hzbWFsbCcsICdzbWFsbCcsICdtZWRpdW0nLCAnbGFyZ2UnXSksIFByb3BUeXBlcy5zdHJpbmddKSxcbiAgICAgIHRvVGFyZ2V0OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMub2JqZWN0XSkuaXNSZXF1aXJlZCxcbiAgICAgIHR5cGU6IFByb3BUeXBlcy5vbmVPZihbJ2RpcmVjdCcsICdjdXJ2ZWQnLCAncmVjdGlsaW5lYXInXSlcbiAgICB9KSkuZGVzY3JpcHRpb24oXCJBcnJheSBvZiBvYmplY3RzIGRlc2NyaWJpbmcgdGhlIGNvbm5lY3Rpb25zLlxcbiAgICAgIFRoZSAnZnJvbVRhcmdldCcgYW5kICd0b1RhcmdldCcgbWF5IGJlIGVpdGhlciBET00gZWxlbWVudCBpZHMgb3JcXG4gICAgICBSZWFjdCByZWZlcmVuY2VzLlxcbiAgICAgICdvZmZzZXQnIGNhbiBiZSB1c2VkIHRvIHNoaWZ0IGEgYml0IHRvIHJlZHVjZSB0aGUgYW1vdW50IG9mIG92ZXJsYXBcXG4gICAgICB3aXRoIG90aGVyIGNvbm5lY3Rpb24gbGluZXMgdG8gbWFrZSB0aGUgbGluZXMgZWFzaWVyIHRvIGRpc3Rpbmd1aXNoLlwiKS5pc1JlcXVpcmVkXG4gIH07XG4gIHJldHVybiBEb2N1bWVudGVkRGlhZ3JhbTtcbn07XG5leHBvcnQgdmFyIHRoZW1lRG9jID0ge1xuICAnZGlhZ3JhbS5leHRlbmQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdBbnkgYWRkaXRpb25hbCBzdHlsZSBmb3IgRGlhZ3JhbS4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCAocHJvcHMpID0+IHt9JyxcbiAgICBkZWZhdWx0VmFsdWU6IHVuZGVmaW5lZFxuICB9LFxuICAnZGlhZ3JhbS5saW5lLmNvbG9yJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGNvbG9yIG9mIHRoZSBjb25uZWN0aW9uIGxpbmUuJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwge2Rhcms6IHN0cmluZywgbGlnaHQ6IHN0cmluZ30nLFxuICAgIGRlZmF1bHRWYWx1ZTogJ2FjY2VudC0xJ1xuICB9LFxuICAnZ2xvYmFsLmNvbG9ycyc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ0NvbG9yIG9wdGlvbnMuJyxcbiAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICBkZWZhdWx0VmFsdWU6IFwie1xcbiAgICAgIFxcXCJhY2NlbnQtMVxcXCI6IFxcXCIjNkZGRkIwXFxcIixcXG4gICAgICBcXFwiZ3JhcGgtMFxcXCI6IFxcXCJhY2NlbnQtMVxcXCIsXFxuICAgICAgXFxcImdyYXBoLTFcXFwiOiBcXFwibmV1dHJhbC0xXFxcIixcXG4gICAgICAuLi5cXG4gICAgfVwiXG4gIH0sXG4gICdnbG9iYWwuZWRnZVNpemUnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgcG9zc2libGUgc2l6ZXMgZm9yIHRoZSBjb25uZWN0aW9ucyB0aGlja25lc3MgYW5kIG9mZnNldC4nLFxuICAgIHR5cGU6ICdvYmplY3QnLFxuICAgIGRlZmF1bHRWYWx1ZTogXCJ7XFxuICAgICAgICBub25lOiAnMHB4JyxcXG4gICAgICAgIGhhaXI6ICcxcHgnLFxcbiAgICAgICAgeHhzbWFsbDogJzNweCcsXFxuICAgICAgICB4c21hbGw6ICc2cHgnLFxcbiAgICAgICAgc21hbGw6ICcxMnB4JyxcXG4gICAgICAgIG1lZGl1bTogJzI0cHgnLFxcbiAgICAgICAgbGFyZ2U6ICc0OHB4JyxcXG4gICAgICAgIHhsYXJnZTogJzk2cHgnLFxcbiAgICAgICAgcmVzcG9uc2l2ZUJyZWFrcG9pbnQ6ICdzbWFsbCcsXFxuICAgIH1cIlxuICB9XG59OyIsImV4cG9ydCB7IERpYWdyYW0gfSBmcm9tICcuL0RpYWdyYW0nOyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgeyBCb3ggfSBmcm9tICcuLi9Cb3gnO1xuaW1wb3J0IHsgVGV4dCB9IGZyb20gJy4uL1RleHQnO1xuXG52YXIgVmFsdWUgPSBmdW5jdGlvbiBWYWx1ZShfcmVmKSB7XG4gIHZhciBiYXNpcyA9IF9yZWYuYmFzaXMsXG4gICAgICBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW47XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwge1xuICAgIGJhc2lzOiBiYXNpcyxcbiAgICBmbGV4OiBcInNocmlua1wiLFxuICAgIG92ZXJmbG93OiBcImhpZGRlblwiXG4gIH0sIGNoaWxkcmVuKTtcbn07XG5cblZhbHVlLnByb3BUeXBlcyA9IHtcbiAgYmFzaXM6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgY2hpbGRyZW46IFByb3BUeXBlcy5ub2RlLmlzUmVxdWlyZWRcbn07XG5cbnZhciBEaXN0cmlidXRpb24gPSBmdW5jdGlvbiBEaXN0cmlidXRpb24oX3JlZjIpIHtcbiAgdmFyIGJhc2lzID0gX3JlZjIuYmFzaXMsXG4gICAgICBjaGlsZHJlbiA9IF9yZWYyLmNoaWxkcmVuLFxuICAgICAgZGlyZWN0aW9uID0gX3JlZjIuZGlyZWN0aW9uLFxuICAgICAgZmlsbCA9IF9yZWYyLmZpbGwsXG4gICAgICBnYXAgPSBfcmVmMi5nYXAsXG4gICAgICB2YWx1ZXMgPSBfcmVmMi52YWx1ZXMsXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZjIsIFtcImJhc2lzXCIsIFwiY2hpbGRyZW5cIiwgXCJkaXJlY3Rpb25cIiwgXCJmaWxsXCIsIFwiZ2FwXCIsIFwidmFsdWVzXCJdKTtcblxuICBpZiAodmFsdWVzLmxlbmd0aCA9PT0gMSkge1xuICAgIHZhciB2YWx1ZSA9IHZhbHVlc1swXTtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChWYWx1ZSwge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgYmFzaXM6IGJhc2lzXG4gICAgfSwgY2hpbGRyZW4odmFsdWUpKTtcbiAgfVxuXG4gIGlmICh2YWx1ZXMubGVuZ3RoID4gMSkge1xuICAgIHZhciByZWR1Y2VyID0gZnVuY3Rpb24gcmVkdWNlcihhY2N1bXVsYXRvciwgX3JlZjMpIHtcbiAgICAgIHZhciB2YWx1ZSA9IF9yZWYzLnZhbHVlO1xuICAgICAgcmV0dXJuIGFjY3VtdWxhdG9yICsgdmFsdWU7XG4gICAgfTtcblxuICAgIHZhciB0b3RhbCA9IHZhbHVlcy5yZWR1Y2UocmVkdWNlciwgMCk7IC8vIGZpZ3VyZSBvdXQgaG93IG1hbnkgb2YgdGhlIHZhbHVlcyBhcmVhIG5lZWRlZCB0byByZXByZXNlbnQgaGFsZiBvZiB0aGVcbiAgICAvLyB0b3RhbFxuXG4gICAgdmFyIHN1YlRvdGFsID0gMDtcbiAgICB2YXIgc3ViSW5kZXg7XG4gICAgdmFsdWVzLnNvbWUoZnVuY3Rpb24gKHYsIGluZGV4KSB7XG4gICAgICBzdWJUb3RhbCArPSB2LnZhbHVlO1xuXG4gICAgICBpZiAoc3ViVG90YWwgPj0gdG90YWwgKiAwLjQpIHtcbiAgICAgICAgc3ViSW5kZXggPSBpbmRleCArIDE7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSk7XG5cbiAgICBpZiAoc3ViSW5kZXggPT09IHZhbHVlcy5sZW5ndGgpIHtcbiAgICAgIHZhciBfdmFsdWUgPSB2YWx1ZXNbMF07XG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChWYWx1ZSwge1xuICAgICAgICB2YWx1ZTogX3ZhbHVlLFxuICAgICAgICBiYXNpczogYmFzaXNcbiAgICAgIH0sIGNoaWxkcmVuKF92YWx1ZSkpO1xuICAgIH1cblxuICAgIHZhciBjaGlsZEJhc2lzO1xuXG4gICAgaWYgKHN1YlRvdGFsID4gdG90YWwgKiAwLjcpIHtcbiAgICAgIGNoaWxkQmFzaXMgPSBbJzMvNCcsICcxLzQnXTtcbiAgICB9IGVsc2UgaWYgKHN1YlRvdGFsID4gdG90YWwgKiAwLjYpIHtcbiAgICAgIGNoaWxkQmFzaXMgPSBbJzIvMycsICcxLzMnXTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2hpbGRCYXNpcyA9IFsnMS8yJywgJzEvMiddO1xuICAgIH1cblxuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwgX2V4dGVuZHMoe1xuICAgICAgZGlyZWN0aW9uOiBkaXJlY3Rpb24sXG4gICAgICBiYXNpczogYmFzaXMsXG4gICAgICBmbGV4OiBiYXNpcyA/ICdzaHJpbmsnIDogdHJ1ZSxcbiAgICAgIG92ZXJmbG93OiBcImhpZGRlblwiLFxuICAgICAgZ2FwOiBnYXAsXG4gICAgICBmaWxsOiBmaWxsXG4gICAgfSwgcmVzdCksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRGlzdHJpYnV0aW9uLCB7XG4gICAgICB2YWx1ZXM6IHZhbHVlcy5zbGljZSgwLCBzdWJJbmRleCksXG4gICAgICBiYXNpczogY2hpbGRCYXNpc1swXSxcbiAgICAgIGRpcmVjdGlvbjogZGlyZWN0aW9uID09PSAncm93JyA/ICdjb2x1bW4nIDogJ3JvdycsXG4gICAgICBnYXA6IGdhcFxuICAgIH0sIGNoaWxkcmVuKSwgUmVhY3QuY3JlYXRlRWxlbWVudChEaXN0cmlidXRpb24sIHtcbiAgICAgIHZhbHVlczogdmFsdWVzLnNsaWNlKHN1YkluZGV4KSxcbiAgICAgIGJhc2lzOiBjaGlsZEJhc2lzWzFdLFxuICAgICAgZGlyZWN0aW9uOiBkaXJlY3Rpb24gPT09ICdyb3cnID8gJ2NvbHVtbicgOiAncm93JyxcbiAgICAgIGdhcDogZ2FwXG4gICAgfSwgY2hpbGRyZW4pKTtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufTtcblxuRGlzdHJpYnV0aW9uLmRlZmF1bHRQcm9wcyA9IHtcbiAgYmFzaXM6IHVuZGVmaW5lZCxcbiAgY2hpbGRyZW46IGZ1bmN0aW9uIGNoaWxkcmVuKHZhbHVlKSB7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQm94LCB7XG4gICAgICBmaWxsOiB0cnVlLFxuICAgICAgYm9yZGVyOiB0cnVlXG4gICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChUZXh0LCBudWxsLCB2YWx1ZS52YWx1ZSkpO1xuICB9LFxuICBkaXJlY3Rpb246ICdyb3cnLFxuICBnYXA6ICd4c21hbGwnLFxuICB2YWx1ZXM6IFtdXG59O1xudmFyIERpc3RyaWJ1dGlvbkRvYztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGdsb2JhbC1yZXF1aXJlXG4gIERpc3RyaWJ1dGlvbkRvYyA9IHJlcXVpcmUoJy4vZG9jJykuZG9jKERpc3RyaWJ1dGlvbik7XG59XG5cbnZhciBEaXN0cmlidXRpb25XcmFwcGVyID0gRGlzdHJpYnV0aW9uRG9jIHx8IERpc3RyaWJ1dGlvbjtcbmV4cG9ydCB7IERpc3RyaWJ1dGlvbldyYXBwZXIgYXMgRGlzdHJpYnV0aW9uIH07IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuaW1wb3J0IHsgZGVzY3JpYmUsIFByb3BUeXBlcyB9IGZyb20gJ3JlYWN0LWRlc2MnO1xuaW1wb3J0IHsgZ2VuZXJpY1Byb3BzLCBnZXRBdmFpbGFibGVBdEJhZGdlIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuZXhwb3J0IHZhciBkb2MgPSBmdW5jdGlvbiBkb2MoRGlzdHJpYnV0aW9uKSB7XG4gIHZhciBEb2N1bWVudGVkRGlzdHJpYnV0aW9uID0gZGVzY3JpYmUoRGlzdHJpYnV0aW9uKS5hdmFpbGFibGVBdChnZXRBdmFpbGFibGVBdEJhZGdlKCdEaXN0cmlidXRpb24nKSkuZGVzY3JpcHRpb24oXCJQcm9wb3J0aW9uYWxseSBzaXplZCBncmlkIG9mIGJveGVzLiBUaGUgcHJvcG9ydGlvbnMgYXJlIGFwcHJveGltYXRlLiBUaGVcXG4gICAgICBhcmVhIGdpdmVuIHRvIGVhY2ggYm94IGlzbid0IG1hdGhlbWF0aWNhbGx5IHByZWNpc2UgYWNjb3JkaW5nIHRvIHRoZVxcbiAgICAgIHJhdGlvIHRvIHRoZSB0b3RhbCB2YWx1ZXMuIEluc3RlYWQsIHRoZSBib3hlcyBhcmUgbGFpZCBvdXQgaW4gYVxcbiAgICAgIG1hbm5lciB0aGF0IG1ha2VzIHRoZW0gbW9yZSB2aXN1YWxseSBlYXN5IHRvIHNjYW4uIEZvciBleGFtcGxlLFxcbiAgICAgIHR3byB2YWx1ZXMgb2YgNDggYW5kIDUyIHdpbGwgYWN0dWFsbHkgZWFjaCBnZXQgNTAlIG9mIHRoZSBhcmVhLlwiKS51c2FnZShcImltcG9ydCB7IERpc3RyaWJ1dGlvbiB9IGZyb20gJ2dyb21tZXQnO1xcbjxEaXN0cmlidXRpb24gLz5cIikuaW50cmluc2ljRWxlbWVudCgnZGl2Jyk7XG4gIERvY3VtZW50ZWREaXN0cmlidXRpb24ucHJvcFR5cGVzID0gX2V4dGVuZHMoe30sIGdlbmVyaWNQcm9wcywge1xuICAgIGJhc2lzOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2YoWyd4eHNtYWxsJywgJ3hzbWFsbCcsICdzbWFsbCcsICdtZWRpdW0nLCAnbGFyZ2UnLCAneGxhcmdlJywgJ3h4bGFyZ2UnLCAnZnVsbCcsICcxLzInLCAnMS8zJywgJzIvMycsICcxLzQnLCAnMi80JywgJzMvNCcsICdhdXRvJ10pLCBQcm9wVHlwZXMuc3RyaW5nXSkuZGVzY3JpcHRpb24oXCJBIGZpeGVkIG9yIHJlbGF0aXZlIHNpemUgYWxvbmcgaXRzIGNvbnRhaW5lcidzIG1haW4gYXhpcy5cIiksXG4gICAgY2hpbGRyZW46IFByb3BUeXBlcy5mdW5jLmRlc2NyaXB0aW9uKCdGdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW4gZWFjaCB2YWx1ZSBpcyByZW5kZXJlZC4nKSxcbiAgICBmaWxsOiBQcm9wVHlwZXMuYm9vbC5kZXNjcmlwdGlvbihcIldoZXRoZXIgdGhlIGRpc3RyaWJ1dGlvbiBleHBhbmRzIHRvIGZpbGwgYWxsIG9mIHRoZSBhdmFpbGFibGUgd2lkdGggXFxuICAgICAgICBhbmQgaGVpZ2h0LlwiKS5kZWZhdWx0VmFsdWUoZmFsc2UpLFxuICAgIGdhcDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFsnbm9uZScsICd4eHNtYWxsJywgJ3hzbWFsbCcsICdzbWFsbCcsICdtZWRpdW0nLCAnbGFyZ2UnLCAneGxhcmdlJ10pLCBQcm9wVHlwZXMuc3RyaW5nXSkuZGVzY3JpcHRpb24oJ1RoZSBhbW91bnQgb2Ygc3BhY2luZyBiZXR3ZWVuIGNoaWxkIGVsZW1lbnRzLicpLmRlZmF1bHRWYWx1ZSgneHNtYWxsJyksXG4gICAgdmFsdWVzOiBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgdmFsdWU6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZFxuICAgIH0pKS5kZXNjcmlwdGlvbihcIkFycmF5IG9mIG9iamVjdHMgY29udGFpbmluZyBhIHZhbHVlLiBUaGUgYXJyYXkgc2hvdWxkIGFscmVhZHkgYmVcXG4gICAgICBzb3J0ZWQgZnJvbSBsYXJnZXN0IHRvIHNtYWxsZXN0IHZhbHVlLiBUaGUgY2FsbGVyIGNhbiBwdXQgb3RoZXJcXG4gICAgICBwcm9wZXJ0aWVzIGluIHRoZSBvYmplY3QuIFRoZSBjaGlsZHJlbiBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCB0b1xcbiAgICAgIHJlbmRlciB0aGUgY29udGVudHMgb2YgZWFjaCB2YWx1ZS5cIikuaXNSZXF1aXJlZFxuICB9KTtcbiAgcmV0dXJuIERvY3VtZW50ZWREaXN0cmlidXRpb247XG59OyIsImV4cG9ydCB7IERpc3RyaWJ1dGlvbiB9IGZyb20gJy4vRGlzdHJpYnV0aW9uJzsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHNMb29zZShzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MucHJvdG90eXBlKTsgc3ViQ2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gc3ViQ2xhc3M7IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNyZWF0ZVBvcnRhbCB9IGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgeyBnZXROZXdDb250YWluZXIsIHNldEZvY3VzV2l0aG91dFNjcm9sbCB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmltcG9ydCB7IERyb3BDb250YWluZXIgfSBmcm9tICcuL0Ryb3BDb250YWluZXInO1xuXG52YXIgRHJvcCA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBfaW5oZXJpdHNMb29zZShEcm9wLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBEcm9wKCkge1xuICAgIHZhciBfdGhpcztcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBfdGhpcyA9IF9Db21wb25lbnQuY2FsbC5hcHBseShfQ29tcG9uZW50LCBbdGhpc10uY29uY2F0KGFyZ3MpKSB8fCB0aGlzO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIm9yaWdpbmFsRm9jdXNlZEVsZW1lbnRcIiwgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiZHJvcENvbnRhaW5lclwiLCBnZXROZXdDb250YWluZXIoKSk7XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICB2YXIgX3Byb3RvID0gRHJvcC5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgdmFyIHJlc3RyaWN0Rm9jdXMgPSB0aGlzLnByb3BzLnJlc3RyaWN0Rm9jdXM7XG5cbiAgICBpZiAocmVzdHJpY3RGb2N1cyAmJiB0aGlzLm9yaWdpbmFsRm9jdXNlZEVsZW1lbnQpIHtcbiAgICAgIGlmICh0aGlzLm9yaWdpbmFsRm9jdXNlZEVsZW1lbnQuZm9jdXMpIHtcbiAgICAgICAgc2V0Rm9jdXNXaXRob3V0U2Nyb2xsKHRoaXMub3JpZ2luYWxGb2N1c2VkRWxlbWVudCk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMub3JpZ2luYWxGb2N1c2VkRWxlbWVudC5wYXJlbnROb2RlICYmIHRoaXMub3JpZ2luYWxGb2N1c2VkRWxlbWVudC5wYXJlbnROb2RlLmZvY3VzKSB7XG4gICAgICAgIC8vIHJlcXVpcmVkIGZvciBJRTExIGFuZCBFZGdlXG4gICAgICAgIHNldEZvY3VzV2l0aG91dFNjcm9sbCh0aGlzLm9yaWdpbmFsRm9jdXNlZEVsZW1lbnQucGFyZW50Tm9kZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0aGlzLmRyb3BDb250YWluZXIpO1xuICB9O1xuXG4gIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIF90aGlzJHByb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgZHJvcFRhcmdldCA9IF90aGlzJHByb3BzLnRhcmdldCxcbiAgICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF90aGlzJHByb3BzLCBbXCJ0YXJnZXRcIl0pO1xuXG4gICAgcmV0dXJuIGNyZWF0ZVBvcnRhbChSZWFjdC5jcmVhdGVFbGVtZW50KERyb3BDb250YWluZXIsIF9leHRlbmRzKHtcbiAgICAgIGRyb3BUYXJnZXQ6IGRyb3BUYXJnZXRcbiAgICB9LCByZXN0KSksIHRoaXMuZHJvcENvbnRhaW5lcik7XG4gIH07XG5cbiAgcmV0dXJuIERyb3A7XG59KENvbXBvbmVudCk7XG5cbl9kZWZpbmVQcm9wZXJ0eShEcm9wLCBcImRlZmF1bHRQcm9wc1wiLCB7XG4gIGFsaWduOiB7XG4gICAgdG9wOiAndG9wJyxcbiAgICBsZWZ0OiAnbGVmdCdcbiAgfSxcbiAgcGxhaW46IGZhbHNlXG59KTtcblxudmFyIERyb3BEb2M7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIERyb3BEb2MgPSByZXF1aXJlKCcuL2RvYycpLmRvYyhEcm9wKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBnbG9iYWwtcmVxdWlyZVxufVxuXG52YXIgRHJvcFdyYXBwZXIgPSBEcm9wRG9jIHx8IERyb3A7XG5leHBvcnQgeyBEcm9wV3JhcHBlciBhcyBEcm9wIH07IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzTG9vc2Uoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzLnByb3RvdHlwZSk7IHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzOyBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbmltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBkZWZhdWx0UHJvcHMgfSBmcm9tICcuLi8uLi9kZWZhdWx0LXByb3BzJztcbmltcG9ydCB7IFRoZW1lQ29udGV4dCB9IGZyb20gJy4uLy4uL2NvbnRleHRzJztcbmltcG9ydCB7IEZvY3VzZWRDb250YWluZXIgfSBmcm9tICcuLi9Gb2N1c2VkQ29udGFpbmVyJztcbmltcG9ydCB7IGJhY2tncm91bmRJc0RhcmssIGZpbmRTY3JvbGxQYXJlbnRzLCBmaW5kVmlzaWJsZVBhcmVudCwgcGFyc2VNZXRyaWNUb051bSB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmltcG9ydCB7IEJveCB9IGZyb20gJy4uL0JveCc7XG5pbXBvcnQgeyBLZXlib2FyZCB9IGZyb20gJy4uL0tleWJvYXJkJztcbmltcG9ydCB7IFN0eWxlZERyb3AgfSBmcm9tICcuL1N0eWxlZERyb3AnOyAvLyB1c2luZyByZWFjdCBzeW50aGV0aWMgZXZlbnQgdG8gYmUgYWJsZSB0byBzdG9wIHByb3BhZ2F0aW9uIHRoYXRcbi8vIHdvdWxkIG90aGVyd2lzZSBjbG9zZSB0aGUgbGF5ZXIgb24gRVNDLlxuXG52YXIgcHJldmVudExheWVyQ2xvc2UgPSBmdW5jdGlvbiBwcmV2ZW50TGF5ZXJDbG9zZShldmVudCkge1xuICB2YXIga2V5ID0gZXZlbnQua2V5Q29kZSA/IGV2ZW50LmtleUNvZGUgOiBldmVudC53aGljaDtcblxuICBpZiAoa2V5ID09PSAyNykge1xuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICB9XG59O1xuXG52YXIgRHJvcENvbnRhaW5lciA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBfaW5oZXJpdHNMb29zZShEcm9wQ29udGFpbmVyLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBEcm9wQ29udGFpbmVyKCkge1xuICAgIHZhciBfdGhpcztcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBfdGhpcyA9IF9Db21wb25lbnQuY2FsbC5hcHBseShfQ29tcG9uZW50LCBbdGhpc10uY29uY2F0KGFyZ3MpKSB8fCB0aGlzO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcImRyb3BSZWZcIiwgUmVhY3QuY3JlYXRlUmVmKCkpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcImFkZFNjcm9sbExpc3RlbmVyXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBkcm9wVGFyZ2V0ID0gX3RoaXMucHJvcHMuZHJvcFRhcmdldDtcbiAgICAgIF90aGlzLnNjcm9sbFBhcmVudHMgPSBmaW5kU2Nyb2xsUGFyZW50cyhkcm9wVGFyZ2V0KTtcblxuICAgICAgX3RoaXMuc2Nyb2xsUGFyZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChzY3JvbGxQYXJlbnQpIHtcbiAgICAgICAgcmV0dXJuIHNjcm9sbFBhcmVudC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBfdGhpcy5wbGFjZSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJyZW1vdmVTY3JvbGxMaXN0ZW5lclwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zY3JvbGxQYXJlbnRzLmZvckVhY2goZnVuY3Rpb24gKHNjcm9sbFBhcmVudCkge1xuICAgICAgICByZXR1cm4gc2Nyb2xsUGFyZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIF90aGlzLnBsYWNlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIm9uQ2xpY2tEb2N1bWVudFwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIGRyb3BUYXJnZXQgPSBfdGhpcyRwcm9wcy5kcm9wVGFyZ2V0LFxuICAgICAgICAgIG9uQ2xpY2tPdXRzaWRlID0gX3RoaXMkcHJvcHMub25DbGlja091dHNpZGU7XG4gICAgICB2YXIgZHJvcFRhcmdldE5vZGUgPSBkcm9wVGFyZ2V0O1xuICAgICAgdmFyIGRyb3BOb2RlID0gX3RoaXMuZHJvcFJlZi5jdXJyZW50O1xuXG4gICAgICBpZiAob25DbGlja091dHNpZGUgJiYgZHJvcE5vZGUgJiYgLy8gbmVlZCB0aGlzIGZvciBpZTExXG4gICAgICAhZHJvcFRhcmdldE5vZGUuY29udGFpbnMoZXZlbnQudGFyZ2V0KSAmJiAhZHJvcE5vZGUuY29udGFpbnMoZXZlbnQudGFyZ2V0KSkge1xuICAgICAgICBvbkNsaWNrT3V0c2lkZSgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIm9uUmVzaXplXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnJlbW92ZVNjcm9sbExpc3RlbmVyKCk7XG5cbiAgICAgIF90aGlzLmFkZFNjcm9sbExpc3RlbmVyKCk7XG5cbiAgICAgIF90aGlzLnBsYWNlKGZhbHNlKTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJwbGFjZVwiLCBmdW5jdGlvbiAocHJlc2VydmVIZWlnaHQpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczIgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBhbGlnbiA9IF90aGlzJHByb3BzMi5hbGlnbixcbiAgICAgICAgICBkcm9wVGFyZ2V0ID0gX3RoaXMkcHJvcHMyLmRyb3BUYXJnZXQsXG4gICAgICAgICAgcmVzcG9uc2l2ZSA9IF90aGlzJHByb3BzMi5yZXNwb25zaXZlLFxuICAgICAgICAgIHN0cmV0Y2ggPSBfdGhpcyRwcm9wczIuc3RyZXRjaCxcbiAgICAgICAgICB0aGVtZSA9IF90aGlzJHByb3BzMi50aGVtZTtcbiAgICAgIHZhciB3aW5kb3dXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgdmFyIHdpbmRvd0hlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgIHZhciB0YXJnZXQgPSBkcm9wVGFyZ2V0O1xuICAgICAgdmFyIGNvbnRhaW5lciA9IF90aGlzLmRyb3BSZWYuY3VycmVudDtcblxuICAgICAgaWYgKGNvbnRhaW5lciAmJiB0YXJnZXQpIHtcbiAgICAgICAgLy8gY2xlYXIgcHJpb3Igc3R5bGluZ1xuICAgICAgICBjb250YWluZXIuc3R5bGUubGVmdCA9ICcnO1xuICAgICAgICBjb250YWluZXIuc3R5bGUudG9wID0gJyc7XG4gICAgICAgIGNvbnRhaW5lci5zdHlsZS5ib3R0b20gPSAnJztcbiAgICAgICAgY29udGFpbmVyLnN0eWxlLndpZHRoID0gJyc7XG5cbiAgICAgICAgaWYgKCFwcmVzZXJ2ZUhlaWdodCkge1xuICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS5tYXhIZWlnaHQgPSAnJztcbiAgICAgICAgfSAvLyBnZXQgYm91bmRzXG5cblxuICAgICAgICB2YXIgdGFyZ2V0UmVjdCA9IGZpbmRWaXNpYmxlUGFyZW50KHRhcmdldCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHZhciBjb250YWluZXJSZWN0ID0gY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOyAvLyBkZXRlcm1pbmUgd2lkdGhcblxuICAgICAgICB2YXIgd2lkdGggPSBNYXRoLm1pbihzdHJldGNoID8gTWF0aC5tYXgodGFyZ2V0UmVjdC53aWR0aCwgY29udGFpbmVyUmVjdC53aWR0aCkgOiBjb250YWluZXJSZWN0LndpZHRoLCB3aW5kb3dXaWR0aCk7IC8vIHNldCBsZWZ0IHBvc2l0aW9uXG5cbiAgICAgICAgdmFyIGxlZnQ7XG5cbiAgICAgICAgaWYgKGFsaWduLmxlZnQpIHtcbiAgICAgICAgICBpZiAoYWxpZ24ubGVmdCA9PT0gJ2xlZnQnKSB7XG4gICAgICAgICAgICBsZWZ0ID0gdGFyZ2V0UmVjdC5sZWZ0O1xuICAgICAgICAgIH0gZWxzZSBpZiAoYWxpZ24ubGVmdCA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgICAgbGVmdCA9IHRhcmdldFJlY3QubGVmdCArIHRhcmdldFJlY3Qud2lkdGg7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGFsaWduLnJpZ2h0KSB7XG4gICAgICAgICAgaWYgKGFsaWduLnJpZ2h0ID09PSAnbGVmdCcpIHtcbiAgICAgICAgICAgIGxlZnQgPSB0YXJnZXRSZWN0LmxlZnQgLSB3aWR0aDtcbiAgICAgICAgICB9IGVsc2UgaWYgKGFsaWduLnJpZ2h0ID09PSAncmlnaHQnKSB7XG4gICAgICAgICAgICBsZWZ0ID0gdGFyZ2V0UmVjdC5sZWZ0ICsgdGFyZ2V0UmVjdC53aWR0aCAtIHdpZHRoO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsZWZ0ID0gdGFyZ2V0UmVjdC5sZWZ0ICsgdGFyZ2V0UmVjdC53aWR0aCAvIDIgLSB3aWR0aCAvIDI7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGVmdCArIHdpZHRoID4gd2luZG93V2lkdGgpIHtcbiAgICAgICAgICBsZWZ0IC09IGxlZnQgKyB3aWR0aCAtIHdpbmRvd1dpZHRoO1xuICAgICAgICB9IGVsc2UgaWYgKGxlZnQgPCAwKSB7XG4gICAgICAgICAgbGVmdCA9IDA7XG4gICAgICAgIH0gLy8gc2V0IHRvcCBvciBib3R0b20gcG9zaXRpb25cblxuXG4gICAgICAgIHZhciB0b3A7XG4gICAgICAgIHZhciBib3R0b207XG4gICAgICAgIHZhciBtYXhIZWlnaHQgPSBjb250YWluZXJSZWN0LmhlaWdodDtcblxuICAgICAgICBpZiAoYWxpZ24udG9wKSB7XG4gICAgICAgICAgaWYgKGFsaWduLnRvcCA9PT0gJ3RvcCcpIHtcbiAgICAgICAgICAgIHRvcCA9IHRhcmdldFJlY3QudG9wO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0b3AgPSB0YXJnZXRSZWN0LmJvdHRvbTtcbiAgICAgICAgICB9IC8vIENhbGN1bGF0ZSB2aXNpYmxlIGFyZWEgdW5kZXJuZWF0aCB0aGUgY29udHJvbCB3LnIudCB3aW5kb3cgaGVpZ2h0XG5cblxuICAgICAgICAgIHZhciBwZXJjZW50VmlzaWJsZUFyZWFCZWxvdyA9IDEwMCAtIHRhcmdldFJlY3QuYm90dG9tIC8gd2luZG93SGVpZ2h0ICogMTAwOyAvLyBDaGVjayB3aGV0aGVyIGl0IGlzIHdpdGhpbiAyMCUgZnJvbSBib3R0b20gb2YgdGhlIHdpbmRvdyBvciB2aXNpYmxlXG4gICAgICAgICAgLy8gYXJlYSB0byBmbGlwIHRoZSBjb250cm9sXG4gICAgICAgICAgLy8gRHJvcENvbnRhaW5lciBkb2Vzbid0IGZpdCB3ZWxsIHdpdGhpbiB2aXNpYmxlIGFyZWEgd2hlblxuICAgICAgICAgIC8vIHBlcmNlbnRWaXNpYmxlQXJlYUJlbG93IHZhbHVlPD0yMCVcbiAgICAgICAgICAvLyBUaGVyZSBpcyBlbm91Z2ggc3BhY2UgZnJvbSBEcm9wQ29udGFpbmVyIHRvIGJvdHRvbSBvZiB0aGUgd2luZG93XG4gICAgICAgICAgLy8gd2hlbiBwZXJjZW50VmlzaWJsZUFyZWFCZWxvdz4yMCUuXG5cbiAgICAgICAgICBpZiAod2luZG93SGVpZ2h0ID09PSB0b3AgfHwgcGVyY2VudFZpc2libGVBcmVhQmVsb3cgPD0gMjApIHtcbiAgICAgICAgICAgIC8vIFdlIG5lZWQgbW9yZSByb29tIHRoYW4gd2UgaGF2ZS5cbiAgICAgICAgICAgIC8vIFdlIHB1dCBpdCBiZWxvdywgYnV0IHRoZXJlJ3MgbW9yZSByb29tIGFib3ZlLCBwdXQgaXQgYWJvdmVcbiAgICAgICAgICAgIHRvcCA9ICcnO1xuXG4gICAgICAgICAgICBpZiAoYWxpZ24udG9wID09PSAnYm90dG9tJykge1xuICAgICAgICAgICAgICBib3R0b20gPSB0YXJnZXRSZWN0LnRvcDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGJvdHRvbSA9IHRhcmdldFJlY3QuYm90dG9tO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBtYXhIZWlnaHQgPSBib3R0b207XG4gICAgICAgICAgICBjb250YWluZXIuc3R5bGUubWF4SGVpZ2h0ID0gbWF4SGVpZ2h0ICsgXCJweFwiO1xuICAgICAgICAgIH0gZWxzZSBpZiAodG9wID4gMCkge1xuICAgICAgICAgICAgbWF4SGVpZ2h0ID0gd2luZG93SGVpZ2h0IC0gdG9wO1xuICAgICAgICAgICAgY29udGFpbmVyLnN0eWxlLm1heEhlaWdodCA9IG1heEhlaWdodCArIFwicHhcIjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbWF4SGVpZ2h0ID0gd2luZG93SGVpZ2h0IC0gdG9wO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChhbGlnbi5ib3R0b20pIHtcbiAgICAgICAgICBpZiAoYWxpZ24uYm90dG9tID09PSAnYm90dG9tJykge1xuICAgICAgICAgICAgYm90dG9tID0gdGFyZ2V0UmVjdC5ib3R0b207XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJvdHRvbSA9IHRhcmdldFJlY3QudG9wO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIG1heEhlaWdodCA9IGJvdHRvbTtcbiAgICAgICAgICBjb250YWluZXIuc3R5bGUubWF4SGVpZ2h0ID0gbWF4SGVpZ2h0ICsgXCJweFwiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGNlbnRlclxuICAgICAgICAgIHRvcCA9IHRhcmdldFJlY3QudG9wICsgdGFyZ2V0UmVjdC5oZWlnaHQgLyAyIC0gY29udGFpbmVyUmVjdC5oZWlnaHQgLyAyO1xuICAgICAgICAgIG1heEhlaWdodCA9IHdpbmRvd0hlaWdodCAtIHRvcDtcbiAgICAgICAgfSAvLyBpZiB3ZSBjYW4ndCBmaXQgaXQgYWxsLCBvciB3ZSdyZSByYXRoZXIgY2xvc2UsXG4gICAgICAgIC8vIHNlZSBpZiB0aGVyZSdzIG1vcmUgcm9vbSB0aGUgb3RoZXIgZGlyZWN0aW9uXG5cblxuICAgICAgICBpZiAocmVzcG9uc2l2ZSAmJiAoY29udGFpbmVyUmVjdC5oZWlnaHQgPiBtYXhIZWlnaHQgfHwgbWF4SGVpZ2h0IDwgd2luZG93SGVpZ2h0IC8gMTApKSB7XG4gICAgICAgICAgLy8gV2UgbmVlZCBtb3JlIHJvb20gdGhhbiB3ZSBoYXZlLlxuICAgICAgICAgIGlmIChhbGlnbi50b3AgJiYgdG9wID4gd2luZG93SGVpZ2h0IC8gMikge1xuICAgICAgICAgICAgLy8gV2UgcHV0IGl0IGJlbG93LCBidXQgdGhlcmUncyBtb3JlIHJvb20gYWJvdmUsIHB1dCBpdCBhYm92ZVxuICAgICAgICAgICAgdG9wID0gJyc7XG5cbiAgICAgICAgICAgIGlmIChhbGlnbi50b3AgPT09ICdib3R0b20nKSB7XG4gICAgICAgICAgICAgIC8vIHRvcCA9IE1hdGgubWF4KHRhcmdldFJlY3QudG9wIC0gY29udGFpbmVyUmVjdC5oZWlnaHQsIDApO1xuICAgICAgICAgICAgICAvLyBtYXhIZWlnaHQgPSB0YXJnZXRSZWN0LnRvcCAtIHRvcDtcbiAgICAgICAgICAgICAgYm90dG9tID0gdGFyZ2V0UmVjdC50b3A7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyB0b3AgPSBNYXRoLm1heCh0YXJnZXRSZWN0LmJvdHRvbSAtIGNvbnRhaW5lclJlY3QuaGVpZ2h0LCAwKTtcbiAgICAgICAgICAgICAgLy8gbWF4SGVpZ2h0ID0gdGFyZ2V0UmVjdC5ib3R0b20gLSB0b3A7XG4gICAgICAgICAgICAgIGJvdHRvbSA9IHRhcmdldFJlY3QuYm90dG9tO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBtYXhIZWlnaHQgPSBib3R0b207XG4gICAgICAgICAgfSBlbHNlIGlmIChhbGlnbi5ib3R0b20gJiYgbWF4SGVpZ2h0IDwgd2luZG93SGVpZ2h0IC8gMikge1xuICAgICAgICAgICAgLy8gV2UgcHV0IGl0IGFib3ZlIGJ1dCB0aGVyZSdzIG1vcmUgcm9vbSBiZWxvdywgcHV0IGl0IGJlbG93XG4gICAgICAgICAgICBib3R0b20gPSAnJztcblxuICAgICAgICAgICAgaWYgKGFsaWduLmJvdHRvbSA9PT0gJ2JvdHRvbScpIHtcbiAgICAgICAgICAgICAgdG9wID0gdGFyZ2V0UmVjdC50b3A7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0b3AgPSB0YXJnZXRSZWN0LmJvdHRvbTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbWF4SGVpZ2h0ID0gd2luZG93SGVpZ2h0IC0gdG9wO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRhaW5lci5zdHlsZS5sZWZ0ID0gbGVmdCArIFwicHhcIjtcblxuICAgICAgICBpZiAoc3RyZXRjaCkge1xuICAgICAgICAgIC8vIG9mZnNldCB3aWR0aCBieSAwLjEgdG8gYXZvaWQgYSBidWcgaW4gaWUxMSB0aGF0XG4gICAgICAgICAgLy8gdW5uZWNlc3NhcmlseSB3cmFwcyB0aGUgdGV4dCBpZiB3aWR0aCBpcyB0aGUgc2FtZVxuICAgICAgICAgIC8vIE5PVEU6IHR1cm5lZCBvZmYgZm9yIG5vd1xuICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS53aWR0aCA9IHdpZHRoICsgMC4xICsgXCJweFwiO1xuICAgICAgICB9IC8vIHRoZSAocG9zaXRpb246YWJzb2x1dGUgKyBzY3JvbGxUb3ApXG4gICAgICAgIC8vIGlzIHByZXNlbnRpbmcgaXNzdWVzIHdpdGggZGVza3RvcCBzY3JvbGwgZmxpY2tlcmluZ1xuXG5cbiAgICAgICAgaWYgKHRvcCAhPT0gJycpIHtcbiAgICAgICAgICBjb250YWluZXIuc3R5bGUudG9wID0gdG9wICsgXCJweFwiO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGJvdHRvbSAhPT0gJycpIHtcbiAgICAgICAgICBjb250YWluZXIuc3R5bGUuYm90dG9tID0gd2luZG93SGVpZ2h0IC0gYm90dG9tICsgXCJweFwiO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFwcmVzZXJ2ZUhlaWdodCkge1xuICAgICAgICAgIGlmICh0aGVtZS5kcm9wICYmIHRoZW1lLmRyb3AubWF4SGVpZ2h0KSB7XG4gICAgICAgICAgICBtYXhIZWlnaHQgPSBNYXRoLm1pbihtYXhIZWlnaHQsIHBhcnNlTWV0cmljVG9OdW0odGhlbWUuZHJvcC5tYXhIZWlnaHQpKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb250YWluZXIuc3R5bGUubWF4SGVpZ2h0ID0gbWF4SGVpZ2h0ICsgXCJweFwiO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwib25Fc2NcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgb25Fc2MgPSBfdGhpcy5wcm9wcy5vbkVzYztcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICBpZiAob25Fc2MpIHtcbiAgICAgICAgb25Fc2MoZXZlbnQpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcInByZXZlbnRDbGlja0J1YmJsaW5nXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAvKipcbiAgICAgICAqIHRoZSBSZWFjdCBldmVudCBzeXN0ZW0gYWN0dWFsbHkgbGlzdGVucyB0byBhbGwgZXZlbnRzIGF0IHRoZSB0b3AgbGV2ZWxcbiAgICAgICAqIGFuZCB0aGVuIGhhbmRsZXMgaXRzIG93biBidWJibGluZyAvIGNhcHR1cmluZyB2aXJ0dWFsbHkuIFRoaXMgbWVhbnMgdGhhdFxuICAgICAgICogZXZlbiBpZiB3ZSBjYWxsIHN0b3BQcm9wYWdhdGlvbiwgaXQgb25seSBhZmZlY3RzIHRoZSBSZWFjdCBzeW50aGV0aWNcbiAgICAgICAqIGV2ZW50LCBhbmQgdGhlIG5hdGl2ZSBldmVudCBzdGlsbCBidWJibGVzIHVwd2FyZC5cbiAgICAgICAqIEFueSBjb2RlIHRoYXQgdXNlcyBuYXRpdmUgZXZlbnRzIChsaWtlIHRoZSBjbG9zZSBsaXN0ZW5lciBpbiB0aGlzIGNsYXNzKVxuICAgICAgICogd2lsbCBzdGlsbCBnZXQgdGhlIGJ1YmJsZWQgZXZlbnQsIHVubGVzcyB3ZSBhbHNvIGNhbGxcbiAgICAgICAqIGV2ZW50Lm5hdGl2ZUV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiwgd2hpY2ggYnJpZGdlcyB0aGUgZ2FwIGZyb21cbiAgICAgICAqIFJlYWN0IHN5bnRoZXRpYyBldmVudCB0byBuYXRpdmUgRE9NIGV2ZW50LlxuICAgICAgICovXG5cbiAgICAgIGV2ZW50Lm5hdGl2ZUV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IERyb3BDb250YWluZXIucHJvdG90eXBlO1xuXG4gIF9wcm90by5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHZhciByZXN0cmljdEZvY3VzID0gdGhpcy5wcm9wcy5yZXN0cmljdEZvY3VzO1xuICAgIHRoaXMuYWRkU2Nyb2xsTGlzdGVuZXIoKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5vblJlc2l6ZSk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5vbkNsaWNrRG9jdW1lbnQpO1xuICAgIHRoaXMucGxhY2UoZmFsc2UpO1xuXG4gICAgaWYgKHJlc3RyaWN0Rm9jdXMpIHtcbiAgICAgIHRoaXMuZHJvcFJlZi5jdXJyZW50LmZvY3VzKCk7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgdGhpcy5wbGFjZSh0cnVlKTtcbiAgfTtcblxuICBfcHJvdG8uY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICB0aGlzLnJlbW92ZVNjcm9sbExpc3RlbmVyKCk7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMub25SZXNpemUpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMub25DbGlja0RvY3VtZW50KTtcbiAgfTtcblxuICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfdGhpcyRwcm9wczMgPSB0aGlzLnByb3BzLFxuICAgICAgICBhbGlnblByb3AgPSBfdGhpcyRwcm9wczMuYWxpZ24sXG4gICAgICAgIGNoaWxkcmVuID0gX3RoaXMkcHJvcHMzLmNoaWxkcmVuLFxuICAgICAgICBlbGV2YXRpb24gPSBfdGhpcyRwcm9wczMuZWxldmF0aW9uLFxuICAgICAgICBvbkNsaWNrT3V0c2lkZSA9IF90aGlzJHByb3BzMy5vbkNsaWNrT3V0c2lkZSxcbiAgICAgICAgb25Fc2MgPSBfdGhpcyRwcm9wczMub25Fc2MsXG4gICAgICAgIG9uS2V5RG93biA9IF90aGlzJHByb3BzMy5vbktleURvd24sXG4gICAgICAgIHBsYWluID0gX3RoaXMkcHJvcHMzLnBsYWluLFxuICAgICAgICBwcm9wc1RoZW1lID0gX3RoaXMkcHJvcHMzLnRoZW1lLFxuICAgICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3RoaXMkcHJvcHMzLCBbXCJhbGlnblwiLCBcImNoaWxkcmVuXCIsIFwiZWxldmF0aW9uXCIsIFwib25DbGlja091dHNpZGVcIiwgXCJvbkVzY1wiLCBcIm9uS2V5RG93blwiLCBcInBsYWluXCIsIFwidGhlbWVcIl0pO1xuXG4gICAgdmFyIHRoZW1lID0gdGhpcy5jb250ZXh0IHx8IHByb3BzVGhlbWU7XG4gICAgdmFyIGNvbnRlbnQgPSBSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZERyb3AsIF9leHRlbmRzKHtcbiAgICAgIGFzOiBCb3gsXG4gICAgICBwbGFpbjogcGxhaW4sXG4gICAgICBlbGV2YXRpb246ICFwbGFpbiA/IGVsZXZhdGlvbiB8fCB0aGVtZS5nbG9iYWwuZHJvcC5zaGFkb3dTaXplIHx8ICdzbWFsbCcgOiB1bmRlZmluZWQsXG4gICAgICB0YWJJbmRleDogXCItMVwiLFxuICAgICAgcmVmOiB0aGlzLmRyb3BSZWYsXG4gICAgICBhbGlnblByb3A6IGFsaWduUHJvcCxcbiAgICAgIG9uTW91c2VEb3duOiB0aGlzLnByZXZlbnRDbGlja0J1YmJsaW5nXG4gICAgfSwgcmVzdCksIGNoaWxkcmVuKTtcblxuICAgIGlmICh0aGVtZS5nbG9iYWwuZHJvcC5iYWNrZ3JvdW5kKSB7XG4gICAgICB2YXIgZGFyayA9IGJhY2tncm91bmRJc0RhcmsodGhlbWUuZ2xvYmFsLmRyb3AuYmFja2dyb3VuZCwgdGhlbWUpO1xuXG4gICAgICBpZiAoZGFyayAhPT0gdW5kZWZpbmVkICYmIGRhcmsgIT09IHRoZW1lLmRhcmspIHtcbiAgICAgICAgY29udGVudCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGhlbWVDb250ZXh0LlByb3ZpZGVyLCB7XG4gICAgICAgICAgdmFsdWU6IF9leHRlbmRzKHt9LCB0aGVtZSwge1xuICAgICAgICAgICAgZGFyazogZGFya1xuICAgICAgICAgIH0pXG4gICAgICAgIH0sIGNvbnRlbnQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEZvY3VzZWRDb250YWluZXIsIHtcbiAgICAgIG9uS2V5RG93bjogb25Fc2MgJiYgcHJldmVudExheWVyQ2xvc2VcbiAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KEtleWJvYXJkLCB7XG4gICAgICBvbkVzYzogb25Fc2MgJiYgdGhpcy5vbkVzYyxcbiAgICAgIG9uS2V5RG93bjogb25LZXlEb3duLFxuICAgICAgdGFyZ2V0OiBcImRvY3VtZW50XCJcbiAgICB9LCBjb250ZW50KSk7XG4gIH07XG5cbiAgcmV0dXJuIERyb3BDb250YWluZXI7XG59KENvbXBvbmVudCk7XG5cbl9kZWZpbmVQcm9wZXJ0eShEcm9wQ29udGFpbmVyLCBcImNvbnRleHRUeXBlXCIsIFRoZW1lQ29udGV4dCk7XG5cbl9kZWZpbmVQcm9wZXJ0eShEcm9wQ29udGFpbmVyLCBcImRlZmF1bHRQcm9wc1wiLCB7XG4gIGFsaWduOiB7XG4gICAgdG9wOiAndG9wJyxcbiAgICBsZWZ0OiAnbGVmdCdcbiAgfSxcbiAgb3ZlcmZsb3c6ICdhdXRvJyxcbiAgc3RyZXRjaDogJ3dpZHRoJ1xufSk7XG5cbk9iamVjdC5zZXRQcm90b3R5cGVPZihEcm9wQ29udGFpbmVyLmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbmV4cG9ydCB7IERyb3BDb250YWluZXIgfTsiLCJpbXBvcnQgc3R5bGVkLCB7IGtleWZyYW1lcyB9IGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCB7IGJhc2VTdHlsZSB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmltcG9ydCB7IGJhY2tncm91bmRTdHlsZSB9IGZyb20gJy4uLy4uL3V0aWxzL2JhY2tncm91bmQnO1xuaW1wb3J0IHsgZGVmYXVsdFByb3BzIH0gZnJvbSAnLi4vLi4vZGVmYXVsdC1wcm9wcyc7XG5cbmZ1bmN0aW9uIGdldFRyYW5zZm9ybU9yaWdpblN0eWxlKGFsaWduKSB7XG4gIHZhciB2ZXJ0aWNhbCA9ICd0b3AnO1xuXG4gIGlmIChhbGlnbi5ib3R0b20pIHtcbiAgICB2ZXJ0aWNhbCA9ICdib3R0b20nO1xuICB9XG5cbiAgdmFyIGhvcml6b250YWwgPSAnbGVmdCc7XG5cbiAgaWYgKGFsaWduLnJpZ2h0KSB7XG4gICAgaG9yaXpvbnRhbCA9ICdyaWdodCc7XG4gIH1cblxuICByZXR1cm4gdmVydGljYWwgKyBcIiBcIiArIGhvcml6b250YWw7XG59XG5cbnZhciBkcm9wS2V5RnJhbWVzID0ga2V5ZnJhbWVzKFtcIjAle29wYWNpdHk6MC41O3RyYW5zZm9ybTpzY2FsZSgwLjgpO30xMDAle29wYWNpdHk6MTt0cmFuc2Zvcm06c2NhbGUoMSk7fVwiXSk7XG52YXIgU3R5bGVkRHJvcCA9IHN0eWxlZC5kaXYud2l0aENvbmZpZyh7XG4gIGRpc3BsYXlOYW1lOiBcIlN0eWxlZERyb3BcIixcbiAgY29tcG9uZW50SWQ6IFwic2MtMTZzNXJ4OC0wXCJcbn0pKFtcIlwiLCBcIiBib3JkZXItcmFkaXVzOlwiLCBcIjtwb3NpdGlvbjpmaXhlZDt6LWluZGV4OlwiLCBcIjtvdXRsaW5lOm5vbmU7XCIsIFwiIG9wYWNpdHk6MDt0cmFuc2Zvcm0tb3JpZ2luOlwiLCBcIjthbmltYXRpb246XCIsIFwiIDAuMXMgZm9yd2FyZHM7YW5pbWF0aW9uLWRlbGF5OjAuMDFzO0BtZWRpYSBzY3JlZW4gYW5kICgtbXMtaGlnaC1jb250cmFzdDphY3RpdmUpLCgtbXMtaGlnaC1jb250cmFzdDpub25lKXtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6c3RyZXRjaDt9XCIsIFwiXCJdLCBiYXNlU3R5bGUsIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUuZ2xvYmFsLmRyb3AuYm9yZGVyLnJhZGl1cztcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUuZ2xvYmFsLmRyb3AuekluZGV4O1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiAhcHJvcHMucGxhaW4gJiYgYmFja2dyb3VuZFN0eWxlKHByb3BzLnRoZW1lLmdsb2JhbC5kcm9wLmJhY2tncm91bmQsIHByb3BzLnRoZW1lKTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gZ2V0VHJhbnNmb3JtT3JpZ2luU3R5bGUocHJvcHMuYWxpZ25Qcm9wKTtcbn0sIGRyb3BLZXlGcmFtZXMsIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUuZ2xvYmFsLmRyb3AgJiYgcHJvcHMudGhlbWUuZ2xvYmFsLmRyb3AuZXh0ZW5kO1xufSk7XG5TdHlsZWREcm9wLmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKFN0eWxlZERyb3AuZGVmYXVsdFByb3BzLCBkZWZhdWx0UHJvcHMpO1xuZXhwb3J0IHsgU3R5bGVkRHJvcCB9OyIsImltcG9ydCB7IGRlc2NyaWJlLCBQcm9wVHlwZXMgfSBmcm9tICdyZWFjdC1kZXNjJztcbmltcG9ydCB7IE9WRVJGTE9XX1ZBTFVFUyB9IGZyb20gJy4uL0JveC9kb2MnO1xuaW1wb3J0IHsgZ2V0QXZhaWxhYmxlQXRCYWRnZSB9IGZyb20gJy4uLy4uL3V0aWxzJzsgLy8gaWYgeW91IHVwZGF0ZSB2YWx1ZXMgaGVyZSwgbWFrZSBzdXJlIHRvIHVwZGF0ZSBpbiBCb3gvZG9jIHRvby5cblxudmFyIGRyb3BPdmVyZmxvd1Byb3BUeXBlcyA9IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihPVkVSRkxPV19WQUxVRVMpLCBQcm9wVHlwZXMuc2hhcGUoe1xuICBob3Jpem9udGFsOiBQcm9wVHlwZXMub25lT2YoT1ZFUkZMT1dfVkFMVUVTKSxcbiAgdmVydGljYWw6IFByb3BUeXBlcy5vbmVPZihPVkVSRkxPV19WQUxVRVMpXG59KSwgUHJvcFR5cGVzLnN0cmluZ10pO1xuZXhwb3J0IHZhciBkb2MgPSBmdW5jdGlvbiBkb2MoRHJvcCkge1xuICB2YXIgRG9jdW1lbnRlZERyb3AgPSBkZXNjcmliZShEcm9wKS5hdmFpbGFibGVBdChnZXRBdmFpbGFibGVBdEJhZGdlKCdEcm9wJykpLmRlc2NyaXB0aW9uKCdBIGNvbnRhaW5lciB0aGF0IGlzIG92ZXJsYWlkIG5leHQgdG8gYSB0YXJnZXQuJykudXNhZ2UoXCJpbXBvcnQgeyBEcm9wIH0gZnJvbSAnZ3JvbW1ldCc7XFxuPERyb3AgdGFyZ2V0PXtyZWZlcmVuY2V9Pi4uLjwvRHJvcD5cIikuaW50cmluc2ljRWxlbWVudCgnZGl2Jyk7XG4gIERvY3VtZW50ZWREcm9wLnByb3BUeXBlcyA9IHtcbiAgICBhbGlnbjogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgIHRvcDogUHJvcFR5cGVzLm9uZU9mKFsndG9wJywgJ2JvdHRvbSddKSxcbiAgICAgIGJvdHRvbTogUHJvcFR5cGVzLm9uZU9mKFsndG9wJywgJ2JvdHRvbSddKSxcbiAgICAgIHJpZ2h0OiBQcm9wVHlwZXMub25lT2YoWydsZWZ0JywgJ3JpZ2h0J10pLFxuICAgICAgbGVmdDogUHJvcFR5cGVzLm9uZU9mKFsnbGVmdCcsICdyaWdodCddKVxuICAgIH0pLmRlc2NyaXB0aW9uKFwiSG93IHRvIGFsaWduIHRoZSBkcm9wIHdpdGggcmVzcGVjdCB0byB0aGUgdGFyZ2V0IGVsZW1lbnQuIE5vdCBcXG4gICAgICAgIHNwZWNpZnlpbmcgYSB2ZXJ0aWNhbCBvciBob3Jpem9udGFsIGFsaWdubWVudCB3aWxsIGNhdXNlIGl0IHRvIGJlIFxcbiAgICAgICAgYWxpZ25lZCBpbiB0aGUgY2VudGVyLlwiKS5kZWZhdWx0VmFsdWUoe1xuICAgICAgdG9wOiAndG9wJyxcbiAgICAgIGxlZnQ6ICdsZWZ0J1xuICAgIH0pLFxuICAgIG9uQ2xpY2tPdXRzaWRlOiBQcm9wVHlwZXMuZnVuYy5kZXNjcmlwdGlvbignRnVuY3Rpb24gdGhhdCB3aWxsIGJlIGludm9rZWQgd2hlbiB0aGUgdXNlciBjbGlja3Mgb3V0c2lkZSB0aGUgZHJvcC4nKSxcbiAgICBvbkVzYzogUHJvcFR5cGVzLmZ1bmMuZGVzY3JpcHRpb24oXCJGdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIHVzZXIgcHJlc3NlcyB0aGUgZXNjYXBlIGtleSBpbnNpZGVcXG4gICAgICAgdGhlIGRyb3AuXCIpLFxuICAgIG92ZXJmbG93OiBkcm9wT3ZlcmZsb3dQcm9wVHlwZXMuZGVzY3JpcHRpb24oJ0hvdyB0byBjb250cm9sIHRoZSBvdmVyZmxvdyBpbnNpZGUgdGhlIGRyb3AuJykuZGVmYXVsdFZhbHVlKCdhdXRvJyksXG4gICAgcmVzcG9uc2l2ZTogUHJvcFR5cGVzLmJvb2wuZGVzY3JpcHRpb24oJ1doZXRoZXIgdG8gZHluYW1pY2FsbHkgcmUtcGxhY2Ugd2hlbiByZXNpemVkLicpLmRlZmF1bHRWYWx1ZSh0cnVlKSxcbiAgICByZXN0cmljdEZvY3VzOiBQcm9wVHlwZXMuYm9vbC5kZXNjcmlwdGlvbignV2hldGhlciB0aGUgZHJvcCBzaG91bGQgY29udHJvbCBmb2N1cy4nKS5kZWZhdWx0VmFsdWUoZmFsc2UpLFxuICAgIHN0cmV0Y2g6IFByb3BUeXBlcy5ib29sLmRlc2NyaXB0aW9uKFwiV2hldGhlciB0aGUgZHJvcCBlbGVtZW50IHNob3VsZCBiZSBzdHJldGNoZWQgdG8gYXQgbGVhc3QgbWF0Y2ggdGhlXFxuICAgICAgd2lkdGggb2YgdGhlIHRhcmdldCBlbGVtZW50LiBUaGUgZGVmYXVsdCBpcyB0cnVlIGJlY2F1c2VcXG4gICAgICB0aGF0IGlzIHdoYXQgbW9zdCB1c2VzIG9mIERyb3Agd2FudCwgbGlrZSBTZWxlY3QgYW5kIE1lbnUuXCIpLmRlZmF1bHRWYWx1ZSh0cnVlKSxcbiAgICB0YXJnZXQ6IFByb3BUeXBlcy5vYmplY3QuZGVzY3JpcHRpb24oXCJUYXJnZXQgd2hlcmUgdGhlIGRyb3Agd2lsbCBiZSBhbGlnbmVkIHRvLiBUaGlzIHNob3VsZCBiZSBhIFJlYWN0IFxcbiAgICAgIHJlZmVyZW5jZS5cIikuaXNSZXF1aXJlZCxcbiAgICBlbGV2YXRpb246IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbJ25vbmUnLCAneHNtYWxsJywgJ3NtYWxsJywgJ21lZGl1bScsICdsYXJnZScsICd4bGFyZ2UnXSksIFByb3BUeXBlcy5zdHJpbmddKS5kZXNjcmlwdGlvbihcIkVsZXZhdGVkIGhlaWdodCBvZiB0aGUgdGFyZ2V0LCBpbmRpY2F0ZWQgdmlhIGEgZHJvcCBzaGFkb3cuXCIpLFxuICAgIHBsYWluOiBQcm9wVHlwZXMuYm9vbC5kZXNjcmlwdGlvbihcIldoZXRoZXIgdGhlIGRyb3AgZWxlbWVudCBzaG91bGQgaGF2ZSBubyBiYWNrZ3JvdW5kIG5vciBzaGFkb3dcIikuZGVmYXVsdFZhbHVlKGZhbHNlKVxuICB9O1xuICByZXR1cm4gRG9jdW1lbnRlZERyb3A7XG59O1xuZXhwb3J0IHZhciB0aGVtZURvYyA9IHtcbiAgJ2Ryb3AubWF4SGVpZ2h0Jzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIG1heCBoZWlnaHQgb2YgdGhlIERyb3AgY29udGFpbmVyJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6IHVuZGVmaW5lZFxuICB9LFxuICAnZ2xvYmFsLmRyb3AuYmFja2dyb3VuZCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBiYWNrZ3JvdW5kIGNvbG9yIG9mIERyb3AnLFxuICAgIHR5cGU6ICdzdHJpbmcgfCB7IGRhcms6IHN0cmluZywgbGlnaHQ6IHN0cmluZyB9JyxcbiAgICBkZWZhdWx0VmFsdWU6ICcjZmZmZmZmJ1xuICB9LFxuICAnZ2xvYmFsLmRyb3AuYm9yZGVyLnJhZGl1cyc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBjb3JuZXIgcmFkaXVzJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICcwcHgnXG4gIH0sXG4gICdnbG9iYWwuZHJvcC5leHRlbmQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdBbnkgYWRkaXRpb25hbCBzdHlsZSBmb3IgRHJvcC4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCAocHJvcHMpID0+IHt9JyxcbiAgICBkZWZhdWx0VmFsdWU6IHVuZGVmaW5lZFxuICB9LFxuICAnZ2xvYmFsLmRyb3Auc2hhZG93U2l6ZSc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ0VsZXZhdGVkIGhlaWdodCBvZiB0aGUgRHJvcCcsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiAnc21hbGwnXG4gIH0sXG4gICdnbG9iYWwuZHJvcC56SW5kZXgnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgc3RhY2sgb3JkZXIgb2YgdGhlIERyb3AnLFxuICAgIHR5cGU6ICdudW1iZXInLFxuICAgIGRlZmF1bHRWYWx1ZTogMjBcbiAgfVxufTsiLCJleHBvcnQgeyBEcm9wIH0gZnJvbSAnLi9Ecm9wJzsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHNMb29zZShzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MucHJvdG90eXBlKTsgc3ViQ2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gc3ViQ2xhc3M7IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuaW1wb3J0IFJlYWN0LCB7IGNyZWF0ZVJlZiwgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY29tcG9zZSB9IGZyb20gJ3JlY29tcG9zZSc7XG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICcuLi9CdXR0b24nO1xuaW1wb3J0IHsgRHJvcCB9IGZyb20gJy4uL0Ryb3AnO1xuaW1wb3J0IHsgd2l0aEZvcndhcmRSZWYgfSBmcm9tICcuLi9ob2NzJztcbmltcG9ydCB7IHNldEZvY3VzV2l0aG91dFNjcm9sbCB9IGZyb20gJy4uLy4uL3V0aWxzJztcblxudmFyIERyb3BCdXR0b24gPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoRHJvcEJ1dHRvbiwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gRHJvcEJ1dHRvbihwcm9wcykge1xuICAgIHZhciBfdGhpcztcblxuICAgIF90aGlzID0gX0NvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzKSB8fCB0aGlzO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcImJ1dHRvblJlZlwiLCBjcmVhdGVSZWYoKSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwib25Ecm9wQ2xvc2VcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIG9uQ2xvc2UgPSBfdGhpcy5wcm9wcy5vbkNsb3NlO1xuXG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHNob3c6IGZhbHNlXG4gICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChvbkNsb3NlKSB7XG4gICAgICAgICAgb25DbG9zZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJvblRvZ2dsZVwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIG9uQ2xpY2sgPSBfdGhpcyRwcm9wcy5vbkNsaWNrLFxuICAgICAgICAgIG9uQ2xvc2UgPSBfdGhpcyRwcm9wcy5vbkNsb3NlLFxuICAgICAgICAgIG9uT3BlbiA9IF90aGlzJHByb3BzLm9uT3BlbjtcbiAgICAgIHZhciBzaG93ID0gX3RoaXMuc3RhdGUuc2hvdztcblxuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBzaG93OiAhc2hvd1xuICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gc2hvdyA/IG9uQ2xvc2UgJiYgb25DbG9zZSgpIDogb25PcGVuICYmIG9uT3BlbigpO1xuICAgICAgfSk7XG5cbiAgICAgIGlmIChvbkNsaWNrKSB7XG4gICAgICAgIG9uQ2xpY2soZXZlbnQpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBzaG93OiBwcm9wcy5vcGVuIHx8IGZhbHNlXG4gICAgfTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBEcm9wQnV0dG9uLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9IGZ1bmN0aW9uIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhuZXh0UHJvcHMsIHByZXZTdGF0ZSkge1xuICAgIHZhciBzaG93ID0gcHJldlN0YXRlLnNob3c7XG4gICAgdmFyIG9wZW4gPSBuZXh0UHJvcHMub3BlbjtcblxuICAgIGlmIChvcGVuICE9PSB1bmRlZmluZWQgJiYgb3BlbiAhPT0gc2hvdykge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc2hvdzogb3BlblxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICB2YXIgX3Byb3RvID0gRHJvcEJ1dHRvbi5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdmFyIG9wZW4gPSB0aGlzLnByb3BzLm9wZW47XG5cbiAgICBpZiAob3Blbikge1xuICAgICAgdGhpcy5mb3JjZVVwZGF0ZSgpO1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8uY29tcG9uZW50RGlkVXBkYXRlID0gZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgdmFyIGZvcndhcmRSZWYgPSB0aGlzLnByb3BzLmZvcndhcmRSZWY7XG4gICAgdmFyIHNob3cgPSB0aGlzLnN0YXRlLnNob3c7XG5cbiAgICBpZiAoIXNob3cgJiYgcHJldlN0YXRlLnNob3cpIHtcbiAgICAgIC8vIGZvY3VzIG9uIHRoZSBidXR0b24gaWYgdGhlIGRyb3AgaXMgY2xvc2VkXG4gICAgICBzZXRGb2N1c1dpdGhvdXRTY3JvbGwoKGZvcndhcmRSZWYgfHwgdGhpcy5idXR0b25SZWYpLmN1cnJlbnQpO1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfdGhpcyRwcm9wczIgPSB0aGlzLnByb3BzLFxuICAgICAgICBkaXNhYmxlZCA9IF90aGlzJHByb3BzMi5kaXNhYmxlZCxcbiAgICAgICAgZHJvcEFsaWduID0gX3RoaXMkcHJvcHMyLmRyb3BBbGlnbixcbiAgICAgICAgZHJvcFByb3BzID0gX3RoaXMkcHJvcHMyLmRyb3BQcm9wcyxcbiAgICAgICAgZm9yd2FyZFJlZiA9IF90aGlzJHByb3BzMi5mb3J3YXJkUmVmLFxuICAgICAgICBkcm9wQ29udGVudCA9IF90aGlzJHByb3BzMi5kcm9wQ29udGVudCxcbiAgICAgICAgZHJvcFRhcmdldCA9IF90aGlzJHByb3BzMi5kcm9wVGFyZ2V0LFxuICAgICAgICBpZCA9IF90aGlzJHByb3BzMi5pZCxcbiAgICAgICAgb3BlbiA9IF90aGlzJHByb3BzMi5vcGVuLFxuICAgICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3RoaXMkcHJvcHMyLCBbXCJkaXNhYmxlZFwiLCBcImRyb3BBbGlnblwiLCBcImRyb3BQcm9wc1wiLCBcImZvcndhcmRSZWZcIiwgXCJkcm9wQ29udGVudFwiLCBcImRyb3BUYXJnZXRcIiwgXCJpZFwiLCBcIm9wZW5cIl0pO1xuXG4gICAgdmFyIHNob3cgPSB0aGlzLnN0YXRlLnNob3c7XG4gICAgZGVsZXRlIHJlc3Qub25DbG9zZTtcbiAgICBkZWxldGUgcmVzdC5vbk9wZW47XG4gICAgdmFyIGRyb3A7XG5cbiAgICBpZiAoc2hvdyAmJiAoZm9yd2FyZFJlZiB8fCB0aGlzLmJ1dHRvblJlZikuY3VycmVudCkge1xuICAgICAgZHJvcCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoRHJvcCwgX2V4dGVuZHMoe1xuICAgICAgICBpZDogaWQgPyBpZCArIFwiX19kcm9wXCIgOiB1bmRlZmluZWQsXG4gICAgICAgIHJlc3RyaWN0Rm9jdXM6IHRydWUsXG4gICAgICAgIGFsaWduOiBkcm9wQWxpZ24sXG4gICAgICAgIHRhcmdldDogZHJvcFRhcmdldCB8fCAoZm9yd2FyZFJlZiB8fCB0aGlzLmJ1dHRvblJlZikuY3VycmVudCxcbiAgICAgICAgb25DbGlja091dHNpZGU6IHRoaXMub25Ecm9wQ2xvc2UsXG4gICAgICAgIG9uRXNjOiB0aGlzLm9uRHJvcENsb3NlXG4gICAgICB9LCBkcm9wUHJvcHMpLCBkcm9wQ29udGVudCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCBfZXh0ZW5kcyh7XG4gICAgICBpZDogaWQsXG4gICAgICByZWY6IGZvcndhcmRSZWYgfHwgdGhpcy5idXR0b25SZWYsXG4gICAgICBkaXNhYmxlZDogZGlzYWJsZWRcbiAgICB9LCByZXN0LCB7XG4gICAgICBvbkNsaWNrOiB0aGlzLm9uVG9nZ2xlXG4gICAgfSkpLCBkcm9wKTtcbiAgfTtcblxuICByZXR1cm4gRHJvcEJ1dHRvbjtcbn0oQ29tcG9uZW50KTtcblxuX2RlZmluZVByb3BlcnR5KERyb3BCdXR0b24sIFwiZGVmYXVsdFByb3BzXCIsIHtcbiAgYTExeVRpdGxlOiAnT3BlbiBEcm9wJyxcbiAgZHJvcEFsaWduOiB7XG4gICAgdG9wOiAndG9wJyxcbiAgICBsZWZ0OiAnbGVmdCdcbiAgfVxufSk7XG5cbnZhciBEcm9wQnV0dG9uRG9jO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZ2xvYmFsLXJlcXVpcmVcbiAgRHJvcEJ1dHRvbkRvYyA9IHJlcXVpcmUoJy4vZG9jJykuZG9jKERyb3BCdXR0b24pO1xufVxuXG52YXIgRHJvcEJ1dHRvbldyYXBwZXIgPSBjb21wb3NlKHdpdGhGb3J3YXJkUmVmKShEcm9wQnV0dG9uRG9jIHx8IERyb3BCdXR0b24pO1xuZXhwb3J0IHsgRHJvcEJ1dHRvbldyYXBwZXIgYXMgRHJvcEJ1dHRvbiB9OyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmltcG9ydCB7IGRlc2NyaWJlLCBQcm9wVHlwZXMgfSBmcm9tICdyZWFjdC1kZXNjJztcbmltcG9ydCB7IGdlbmVyaWNQcm9wcywgZ2V0QXZhaWxhYmxlQXRCYWRnZSB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmV4cG9ydCB2YXIgZG9jID0gZnVuY3Rpb24gZG9jKERyb3BCdXR0b24pIHtcbiAgdmFyIERvY3VtZW50ZWREcm9wQnV0dG9uID0gZGVzY3JpYmUoRHJvcEJ1dHRvbikuYXZhaWxhYmxlQXQoZ2V0QXZhaWxhYmxlQXRCYWRnZSgnRHJvcEJ1dHRvbicpKS5kZXNjcmlwdGlvbihcIkEgQnV0dG9uIHRoYXQgY29udHJvbHMgYSBEcm9wLiBXaGVuIG9wZW5lZCwgdGhlIERyb3Agd2lsbCBjb250YWluXFxuICAgICAgd2hhdGV2ZXIgaXMgc3BlY2lmaWVkIHZpYSBgZHJvcENvbnRlbnRgLiBUaGUgRHJvcCB3aWxsIGNvbnRyb2wgdGhlIGZvY3VzXFxuICAgICAgc28gdGhhdCB0aGUgY29udGVudHMgYmVoaW5kIGl0IGFyZSBub3QgZm9jdXNhYmxlLiBBbGwgcHJvcGVydGllcyBhbmQgXFxuICAgICAgdGhlbWUgcHJvcGVydGllcyBvZiBCdXR0b24gb3IgRHJvcCBjYW4gYmUgcGFzc2VkIHRocm91Z2guXFxuICAgICAgXCIpLnVzYWdlKFwiaW1wb3J0IHsgRHJvcEJ1dHRvbiB9IGZyb20gJ2dyb21tZXQnO1xcbjxEcm9wQnV0dG9uIGRyb3BDb250ZW50PXsuLi59IC8+XCIpLmludHJpbnNpY0VsZW1lbnQoJ2J1dHRvbicpO1xuICBEb2N1bWVudGVkRHJvcEJ1dHRvbi5wcm9wVHlwZXMgPSBfZXh0ZW5kcyh7fSwgZ2VuZXJpY1Byb3BzLCB7XG4gICAgZGlzYWJsZWQ6IFByb3BUeXBlcy5ib29sLmRlc2NyaXB0aW9uKCdXaGV0aGVyIHRoZSBidXR0b24gc2hvdWxkIGJlIGRpc2FibGVkLicpLmRlZmF1bHRWYWx1ZShmYWxzZSksXG4gICAgZHJvcEFsaWduOiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgdG9wOiBQcm9wVHlwZXMub25lT2YoWyd0b3AnLCAnYm90dG9tJ10pLFxuICAgICAgYm90dG9tOiBQcm9wVHlwZXMub25lT2YoWyd0b3AnLCAnYm90dG9tJ10pLFxuICAgICAgcmlnaHQ6IFByb3BUeXBlcy5vbmVPZihbJ2xlZnQnLCAncmlnaHQnXSksXG4gICAgICBsZWZ0OiBQcm9wVHlwZXMub25lT2YoWydsZWZ0JywgJ3JpZ2h0J10pXG4gICAgfSkuZGVzY3JpcHRpb24oJ0hvdyB0byBhbGlnbiB0aGUgZHJvcCB3aXRoIHJlc3BlY3QgdG8gdGhlIGJ1dHRvbi4nKS5kZWZhdWx0VmFsdWUoe1xuICAgICAgdG9wOiAndG9wJyxcbiAgICAgIGxlZnQ6ICdsZWZ0J1xuICAgIH0pLFxuICAgIGRyb3BDb250ZW50OiBQcm9wVHlwZXMuZWxlbWVudC5kZXNjcmlwdGlvbignQ29udGVudCB0byBwdXQgaW5zaWRlIHRoZSBEcm9wLicpLmlzUmVxdWlyZWQsXG4gICAgZHJvcFRhcmdldDogUHJvcFR5cGVzLm9iamVjdC5kZXNjcmlwdGlvbihcIlRhcmdldCB3aGVyZSB0aGUgZHJvcCB3aWxsIGJlIGFsaWduZWQgdG8uIFRoaXMgc2hvdWxkIGJlXFxuICAgICAgYSBSZWFjdCByZWZlcmVuY2UuIFR5cGljYWxseSwgdGhpcyBpcyBub3QgcmVxdWlyZWQgYXMgdGhlIGRyb3Agd2lsbCBiZVxcbiAgICAgIGFsaWduZWQgdG8gdGhlIERyb3BCdXR0b24gaXRzZWxmIGJ5IGRlZmF1bHQuXCIpLFxuICAgIGRyb3BQcm9wczogUHJvcFR5cGVzLm9iamVjdC5kZXNjcmlwdGlvbignQW55IHZhbGlkIERyb3AgcHJvcC4nKSxcbiAgICBvbkNsb3NlOiBQcm9wVHlwZXMuZnVuYy5kZXNjcmlwdGlvbignQ2FsbGJhY2sgZm9yIHdoZW4gdGhlIGRyb3AgaXMgY2xvc2VkJyksXG4gICAgb25PcGVuOiBQcm9wVHlwZXMuZnVuYy5kZXNjcmlwdGlvbignQ2FsbGJhY2sgZm9yIHdoZW4gdGhlIGRyb3AgaXMgb3BlbmVkJyksXG4gICAgb3BlbjogUHJvcFR5cGVzLmJvb2wuZGVzY3JpcHRpb24oXCJXaGV0aGVyIHRoZSBkcm9wIHNob3VsZCBiZSBvcGVuIG9yIG5vdC4gU2V0dGluZyB0aGlzIHByb3BlcnR5IGRvZXMgbm90XFxuICAgICAgaW5mbHVlbmNlIHVzZXIgaW50ZXJhY3Rpb24gYWZ0ZXIgaXQgaGFzIGJlZW4gcmVuZGVyZWQuXCIpLmRlZmF1bHRWYWx1ZShmYWxzZSlcbiAgfSk7XG4gIHJldHVybiBEb2N1bWVudGVkRHJvcEJ1dHRvbjtcbn07IiwiZXhwb3J0IHsgRHJvcEJ1dHRvbiB9IGZyb20gJy4vRHJvcEJ1dHRvbic7IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5pbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgZ2V0Qm9keUNoaWxkRWxlbWVudHMsIG1ha2VOb2RlRm9jdXNhYmxlLCBtYWtlTm9kZVVuZm9jdXNhYmxlIH0gZnJvbSAnLi4vdXRpbHMnO1xuXG52YXIgaXNOb3RBbmNlc3Rvck9mID0gZnVuY3Rpb24gaXNOb3RBbmNlc3Rvck9mKGNoaWxkKSB7XG4gIHJldHVybiBmdW5jdGlvbiAocGFyZW50KSB7XG4gICAgcmV0dXJuICFwYXJlbnQuY29udGFpbnMoY2hpbGQpO1xuICB9O1xufTtcblxuZXhwb3J0IHZhciBGb2N1c2VkQ29udGFpbmVyID0gZnVuY3Rpb24gRm9jdXNlZENvbnRhaW5lcihfcmVmKSB7XG4gIHZhciBfcmVmJGhpZGRlbiA9IF9yZWYuaGlkZGVuLFxuICAgICAgaGlkZGVuID0gX3JlZiRoaWRkZW4gPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZiRoaWRkZW4sXG4gICAgICBfcmVmJHJlc3RyaWN0U2Nyb2xsID0gX3JlZi5yZXN0cmljdFNjcm9sbCxcbiAgICAgIHJlc3RyaWN0U2Nyb2xsID0gX3JlZiRyZXN0cmljdFNjcm9sbCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmJHJlc3RyaWN0U2Nyb2xsLFxuICAgICAgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9yZWYsIFtcImhpZGRlblwiLCBcInJlc3RyaWN0U2Nyb2xsXCIsIFwiY2hpbGRyZW5cIl0pO1xuXG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZSgnJyksXG4gICAgICBib2R5T3ZlcmZsb3dTdHlsZSA9IF91c2VTdGF0ZVswXSxcbiAgICAgIHNldEJvZHlPdmVyZmxvd1N0eWxlID0gX3VzZVN0YXRlWzFdO1xuXG4gIHZhciByZWYgPSB1c2VSZWYobnVsbCk7XG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHJlbW92ZVRyYXAgPSBmdW5jdGlvbiByZW1vdmVUcmFwKCkge1xuICAgICAgdmFyIGNoaWxkID0gcmVmLmN1cnJlbnQ7XG4gICAgICBnZXRCb2R5Q2hpbGRFbGVtZW50cygpLmZpbHRlcihpc05vdEFuY2VzdG9yT2YoY2hpbGQpKS5mb3JFYWNoKG1ha2VOb2RlRm9jdXNhYmxlKTtcblxuICAgICAgaWYgKHJlc3RyaWN0U2Nyb2xsKSB7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSBib2R5T3ZlcmZsb3dTdHlsZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIHRyYXBGb2N1cyA9IGZ1bmN0aW9uIHRyYXBGb2N1cygpIHtcbiAgICAgIHZhciBjaGlsZCA9IHJlZi5jdXJyZW50O1xuICAgICAgZ2V0Qm9keUNoaWxkRWxlbWVudHMoKS5maWx0ZXIoaXNOb3RBbmNlc3Rvck9mKGNoaWxkKSkuZm9yRWFjaChtYWtlTm9kZVVuZm9jdXNhYmxlKTtcblxuICAgICAgaWYgKHJlc3RyaWN0U2Nyb2xsKSB7XG4gICAgICAgIHNldEJvZHlPdmVyZmxvd1N0eWxlKGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHZhciB0aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCFoaWRkZW4pIHtcbiAgICAgICAgdHJhcEZvY3VzKCk7XG4gICAgICB9XG4gICAgfSwgMCk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJlbW92ZVRyYXAoKTtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgfTtcbiAgfSwgW2hpZGRlbiwgYm9keU92ZXJmbG93U3R5bGUsIHJlc3RyaWN0U2Nyb2xsXSk7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIF9leHRlbmRzKHtcbiAgICByZWY6IHJlZixcbiAgICBcImFyaWEtaGlkZGVuXCI6IGhpZGRlblxuICB9LCByZXN0KSwgY2hpbGRyZW4pO1xufTsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgQm94IH0gZnJvbSAnLi4vQm94JztcblxudmFyIEZvb3RlciA9IGZ1bmN0aW9uIEZvb3RlcihfcmVmKSB7XG4gIHZhciByZXN0ID0gX2V4dGVuZHMoe30sIF9yZWYpO1xuXG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwgX2V4dGVuZHMoe1xuICAgIGFzOiBcImZvb3RlclwiLFxuICAgIGFsaWduOiBcImNlbnRlclwiLFxuICAgIGRpcmVjdGlvbjogXCJyb3dcIixcbiAgICBmbGV4OiBmYWxzZSxcbiAgICBnYXA6IFwibWVkaXVtXCIsXG4gICAganVzdGlmeTogXCJiZXR3ZWVuXCJcbiAgfSwgcmVzdCkpO1xufTtcblxudmFyIEZvb3RlckRvYztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGdsb2JhbC1yZXF1aXJlXG4gIEZvb3RlckRvYyA9IHJlcXVpcmUoJy4vZG9jJykuZG9jKEZvb3Rlcik7XG59XG5cbnZhciBGb290ZXJXcmFwcGVyID0gRm9vdGVyRG9jIHx8IEZvb3RlcjtcbmV4cG9ydCB7IEZvb3RlcldyYXBwZXIgYXMgRm9vdGVyIH07IiwiaW1wb3J0IHsgZGVzY3JpYmUgfSBmcm9tICdyZWFjdC1kZXNjJztcbmltcG9ydCB7IGdldEF2YWlsYWJsZUF0QmFkZ2UgfSBmcm9tICcuLi8uLi91dGlscyc7XG5leHBvcnQgdmFyIGRvYyA9IGZ1bmN0aW9uIGRvYyhGb290ZXIpIHtcbiAgdmFyIERvY3VtZW50ZWRGb290ZXIgPSBkZXNjcmliZShGb290ZXIpLmF2YWlsYWJsZUF0KGdldEF2YWlsYWJsZUF0QmFkZ2UoJ0Zvb3RlcicpKS5kZXNjcmlwdGlvbignRm9vdGVyIGZvciBhIGRvY3VtZW50IG9yIHNlY3Rpb24nKS51c2FnZShcImltcG9ydCB7IEZvb3RlciB9IGZyb20gJ2dyb21tZXQnO1xcbjxGb290ZXIgLz5cIik7XG4gIHJldHVybiBEb2N1bWVudGVkRm9vdGVyO1xufTsiLCJleHBvcnQgeyBGb290ZXIgfSBmcm9tICcuL0Zvb3Rlcic7IiwiZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzTG9vc2Uoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzLnByb3RvdHlwZSk7IHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzOyBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBkZWZhdWx0UHJvcHMgfSBmcm9tICcuLi8uLi9kZWZhdWx0LXByb3BzJztcbmltcG9ydCB7IEZvcm1Db250ZXh0IH0gZnJvbSAnLi9Gb3JtQ29udGV4dCc7XG5cbnZhciB1cGRhdGVSZWR1Y2VyID0gZnVuY3Rpb24gdXBkYXRlUmVkdWNlcihuYW1lLCBkYXRhLCBlcnJvciwgdmFsaWRhdGlvbnMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgIHZhciBlcnJvcnMgPSBzdGF0ZS5lcnJvcnMsXG4gICAgICAgIHRvdWNoZWQgPSBzdGF0ZS50b3VjaGVkLFxuICAgICAgICB2YWx1ZSA9IHN0YXRlLnZhbHVlO1xuXG4gICAgdmFyIG5leHRWYWx1ZSA9IF9leHRlbmRzKHt9LCB2YWx1ZSk7XG5cbiAgICBuZXh0VmFsdWVbbmFtZV0gPSBkYXRhO1xuXG4gICAgdmFyIG5leHRUb3VjaGVkID0gX2V4dGVuZHMoe30sIHRvdWNoZWQpO1xuXG4gICAgbmV4dFRvdWNoZWRbbmFtZV0gPSB0cnVlO1xuXG4gICAgdmFyIG5leHRFcnJvcnMgPSBfZXh0ZW5kcyh7fSwgZXJyb3JzKTtcblxuICAgIGlmIChlcnJvcnNbbmFtZV0pIHtcbiAgICAgIHZhciBuZXh0RXJyb3IgPSBlcnJvciB8fCB2YWxpZGF0aW9uc1tuYW1lXSAmJiB2YWxpZGF0aW9uc1tuYW1lXShkYXRhLCBuZXh0VmFsdWUpO1xuXG4gICAgICBpZiAobmV4dEVycm9yKSB7XG4gICAgICAgIG5leHRFcnJvcnNbbmFtZV0gPSBuZXh0RXJyb3I7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZWxldGUgbmV4dEVycm9yc1tuYW1lXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgdmFsdWU6IG5leHRWYWx1ZSxcbiAgICAgIGVycm9yczogbmV4dEVycm9ycyxcbiAgICAgIHRvdWNoZWQ6IG5leHRUb3VjaGVkXG4gICAgfTtcbiAgfTtcbn07XG5cbnZhciBkZWZhdWx0TWVzc2FnZXMgPSB7XG4gIGludmFsaWQ6ICdpbnZhbGlkJyxcbiAgcmVxdWlyZWQ6ICdyZXF1aXJlZCdcbn07XG5cbnZhciBGb3JtID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKEZvcm0sIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIEZvcm0oKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIF90aGlzID0gX0NvbXBvbmVudC5jYWxsLmFwcGx5KF9Db21wb25lbnQsIFt0aGlzXS5jb25jYXQoYXJncykpIHx8IHRoaXM7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwic3RhdGVcIiwge1xuICAgICAgZXJyb3JzOiB7fSxcbiAgICAgIHZhbHVlOiB7fSxcbiAgICAgIHRvdWNoZWQ6IHt9XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwidmFsaWRhdGlvbnNcIiwge30pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIm9uU3VibWl0XCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgdmFyIG9uU3VibWl0ID0gX3RoaXMucHJvcHMub25TdWJtaXQ7XG4gICAgICB2YXIgX3RoaXMkc3RhdGUgPSBfdGhpcy5zdGF0ZSxcbiAgICAgICAgICBlcnJvcnMgPSBfdGhpcyRzdGF0ZS5lcnJvcnMsXG4gICAgICAgICAgdmFsdWUgPSBfdGhpcyRzdGF0ZS52YWx1ZTsgLy8gRG9uJ3Qgc3VibWl0IHRoZSBmb3JtIHZpYSBicm93c2VyIGZvcm0gYWN0aW9uLiBXZSBkb24ndCB3YW50IGl0XG4gICAgICAvLyBpZiB0aGUgdmFsaWRhdGlvbiBmYWlscy4gQW5kLCB3ZSBhc3N1bWUgYSBqYXZhc2NyaXB0IGFjdGlvbiBoYW5kbGVyXG4gICAgICAvLyBvdGhlcndpc2UuXG5cbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgIHZhciBuZXh0RXJyb3JzID0gX2V4dGVuZHMoe30sIGVycm9ycyk7XG5cbiAgICAgIE9iamVjdC5rZXlzKF90aGlzLnZhbGlkYXRpb25zKS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIHZhciB2YWxpZGF0ZSA9IF90aGlzLnZhbGlkYXRpb25zW25hbWVdO1xuICAgICAgICB2YXIgZXJyb3IgPSB2YWxpZGF0ZSAmJiB2YWxpZGF0ZSh2YWx1ZVtuYW1lXSwgdmFsdWUpO1xuXG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgIG5leHRFcnJvcnNbbmFtZV0gPSBlcnJvcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZWxldGUgbmV4dEVycm9yc1tuYW1lXTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGlmIChPYmplY3Qua2V5cyhuZXh0RXJyb3JzKS5sZW5ndGggPT09IDAgJiYgb25TdWJtaXQpIHtcbiAgICAgICAgZXZlbnQucGVyc2lzdCgpOyAvLyBleHRyYWN0IGZyb20gUmVhY3QncyBzeW50aGV0aWMgZXZlbnQgcG9vbFxuXG4gICAgICAgIHZhciBhZGp1c3RlZEV2ZW50ID0gZXZlbnQ7XG4gICAgICAgIGFkanVzdGVkRXZlbnQudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgb25TdWJtaXQoYWRqdXN0ZWRFdmVudCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgZXJyb3JzOiBuZXh0RXJyb3JzXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIm9uUmVzZXRcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBvbkNoYW5nZSA9IF90aGlzJHByb3BzLm9uQ2hhbmdlLFxuICAgICAgICAgIG9uUmVzZXQgPSBfdGhpcyRwcm9wcy5vblJlc2V0O1xuICAgICAgdmFyIHZhbHVlID0ge307XG5cbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZXJyb3JzOiB7fSxcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICB0b3VjaGVkOiB7fVxuICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAob25SZXNldCkge1xuICAgICAgICAgIGV2ZW50LnBlcnNpc3QoKTsgLy8gZXh0cmFjdCBmcm9tIFJlYWN0J3Mgc3ludGhldGljIGV2ZW50IHBvb2xcblxuICAgICAgICAgIHZhciBhZGp1c3RlZEV2ZW50ID0gZXZlbnQ7XG4gICAgICAgICAgYWRqdXN0ZWRFdmVudC52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgIG9uUmVzZXQoYWRqdXN0ZWRFdmVudCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob25DaGFuZ2UpIHtcbiAgICAgICAgICBvbkNoYW5nZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcInVwZGF0ZVwiLCBmdW5jdGlvbiAobmFtZSwgZGF0YSwgZXJyb3IpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHVwZGF0ZVJlZHVjZXIobmFtZSwgZGF0YSwgZXJyb3IsIF90aGlzLnZhbGlkYXRpb25zKSwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb25DaGFuZ2UgPSBfdGhpcy5wcm9wcy5vbkNoYW5nZTtcbiAgICAgICAgdmFyIHZhbHVlID0gX3RoaXMuc3RhdGUudmFsdWU7XG5cbiAgICAgICAgaWYgKG9uQ2hhbmdlKSB7XG4gICAgICAgICAgb25DaGFuZ2UodmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJhZGRWYWxpZGF0aW9uXCIsIGZ1bmN0aW9uIChuYW1lLCB2YWxpZGF0ZSkge1xuICAgICAgX3RoaXMudmFsaWRhdGlvbnNbbmFtZV0gPSB2YWxpZGF0ZTtcbiAgICB9KTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIEZvcm0uZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID0gZnVuY3Rpb24gZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKG5leHRQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgdmFyIHZhbHVlID0gbmV4dFByb3BzLnZhbHVlLFxuICAgICAgICBlcnJvcnMgPSBuZXh0UHJvcHMuZXJyb3JzLFxuICAgICAgICBtZXNzYWdlcyA9IG5leHRQcm9wcy5tZXNzYWdlcztcbiAgICB2YXIgc3RhdGVWYWx1ZSA9IHByZXZTdGF0ZS52YWx1ZSxcbiAgICAgICAgc3RhdGVFcnJvcnMgPSBwcmV2U3RhdGUuZXJyb3JzLFxuICAgICAgICBwcmlvclZhbHVlID0gcHJldlN0YXRlLnByaW9yVmFsdWUsXG4gICAgICAgIHByaW9yRXJyb3JzID0gcHJldlN0YXRlLnByaW9yRXJyb3JzLFxuICAgICAgICBwcmlvck1lc3NhZ2VzID0gcHJldlN0YXRlLnByaW9yTWVzc2FnZXM7XG5cbiAgICBpZiAoIXByaW9yVmFsdWUgfHwgdmFsdWUgIT09IHByaW9yVmFsdWUgfHwgZXJyb3JzICE9PSBwcmlvckVycm9ycyB8fCBtZXNzYWdlcyAhPT0gcHJpb3JNZXNzYWdlcykge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdmFsdWU6IHZhbHVlICE9PSBwcmlvclZhbHVlID8gdmFsdWUgOiBzdGF0ZVZhbHVlLFxuICAgICAgICBwcmlvclZhbHVlOiB2YWx1ZSxcbiAgICAgICAgZXJyb3JzOiAoZXJyb3JzICE9PSBwcmlvckVycm9ycyA/IGVycm9ycyA6IHN0YXRlRXJyb3JzKSB8fCB7fSxcbiAgICAgICAgcHJpb3JFcnJvcnM6IGVycm9ycyxcbiAgICAgICAgbWVzc2FnZXM6IF9leHRlbmRzKHt9LCBkZWZhdWx0TWVzc2FnZXMsIHt9LCBtZXNzYWdlcyksXG4gICAgICAgIHByaW9yTWVzc2FnZXM6IG1lc3NhZ2VzXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIHZhciBfcHJvdG8gPSBGb3JtLnByb3RvdHlwZTtcblxuICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfdGhpcyRwcm9wczIgPSB0aGlzLnByb3BzLFxuICAgICAgICBjaGlsZHJlbiA9IF90aGlzJHByb3BzMi5jaGlsZHJlbixcbiAgICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF90aGlzJHByb3BzMiwgW1wiY2hpbGRyZW5cIl0pO1xuXG4gICAgZGVsZXRlIHJlc3QubWVzc2FnZXM7XG4gICAgZGVsZXRlIHJlc3QudGhlbWU7XG4gICAgZGVsZXRlIHJlc3QudmFsdWU7XG4gICAgdmFyIF90aGlzJHN0YXRlMiA9IHRoaXMuc3RhdGUsXG4gICAgICAgIGVycm9ycyA9IF90aGlzJHN0YXRlMi5lcnJvcnMsXG4gICAgICAgIHRvdWNoZWQgPSBfdGhpcyRzdGF0ZTIudG91Y2hlZCxcbiAgICAgICAgdmFsdWUgPSBfdGhpcyRzdGF0ZTIudmFsdWUsXG4gICAgICAgIG1lc3NhZ2VzID0gX3RoaXMkc3RhdGUyLm1lc3NhZ2VzO1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZm9ybVwiLCBfZXh0ZW5kcyh7fSwgcmVzdCwge1xuICAgICAgb25SZXNldDogdGhpcy5vblJlc2V0LFxuICAgICAgb25TdWJtaXQ6IHRoaXMub25TdWJtaXRcbiAgICB9KSwgUmVhY3QuY3JlYXRlRWxlbWVudChGb3JtQ29udGV4dC5Qcm92aWRlciwge1xuICAgICAgdmFsdWU6IHtcbiAgICAgICAgYWRkVmFsaWRhdGlvbjogdGhpcy5hZGRWYWxpZGF0aW9uLFxuICAgICAgICBlcnJvcnM6IGVycm9ycyxcbiAgICAgICAgbWVzc2FnZXM6IG1lc3NhZ2VzLFxuICAgICAgICB0b3VjaGVkOiB0b3VjaGVkLFxuICAgICAgICB1cGRhdGU6IHRoaXMudXBkYXRlLFxuICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICAgIH1cbiAgICB9LCBjaGlsZHJlbikpO1xuICB9O1xuXG4gIHJldHVybiBGb3JtO1xufShDb21wb25lbnQpO1xuXG5fZGVmaW5lUHJvcGVydHkoRm9ybSwgXCJkZWZhdWx0UHJvcHNcIiwge1xuICBtZXNzYWdlczogZGVmYXVsdE1lc3NhZ2VzLFxuICB2YWx1ZToge31cbn0pO1xuXG5PYmplY3Quc2V0UHJvdG90eXBlT2YoRm9ybS5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG52YXIgRm9ybURvYztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgRm9ybURvYyA9IHJlcXVpcmUoJy4vZG9jJykuZG9jKEZvcm0pOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGdsb2JhbC1yZXF1aXJlXG59XG5cbnZhciBGb3JtV3JhcHBlciA9IEZvcm1Eb2MgfHwgRm9ybTtcbkZvcm1XcmFwcGVyLmRpc3BsYXlOYW1lID0gJ0Zvcm0nO1xuZXhwb3J0IHsgRm9ybVdyYXBwZXIgYXMgRm9ybSB9OyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5leHBvcnQgdmFyIEZvcm1Db250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dCh1bmRlZmluZWQpOyIsImltcG9ydCB7IGRlc2NyaWJlLCBQcm9wVHlwZXMgfSBmcm9tICdyZWFjdC1kZXNjJztcbmltcG9ydCB7IGdldEF2YWlsYWJsZUF0QmFkZ2UgfSBmcm9tICcuLi8uLi91dGlscyc7XG5leHBvcnQgdmFyIGRvYyA9IGZ1bmN0aW9uIGRvYyhGb3JtKSB7XG4gIHZhciBEb2N1bWVudGVkRm9ybSA9IGRlc2NyaWJlKEZvcm0pLmF2YWlsYWJsZUF0KGdldEF2YWlsYWJsZUF0QmFkZ2UoJ0Zvcm0nKSkuZGVzY3JpcHRpb24oJ0EgZm9ybSB0aGF0IG1hbmFnZXMgc3RhdGUgZm9yIGl0cyBmaWVsZHMuJykudXNhZ2UoXCJpbXBvcnQgeyBGb3JtIH0gZnJvbSAnZ3JvbW1ldCc7XFxuPEZvcm0gLz5cIikuaW50cmluc2ljRWxlbWVudCgnZm9ybScpO1xuICBEb2N1bWVudGVkRm9ybS5wcm9wVHlwZXMgPSB7XG4gICAgZXJyb3JzOiBQcm9wVHlwZXMuc2hhcGUoe30pLmRlc2NyaXB0aW9uKFwiQW4gb2JqZWN0IHJlcHJlc2VudGluZyBhbnkgZXJyb3JzIGluIHRoZSBkYXRhLiBUaGV5IGtleXMgc2hvdWxkXFxuICAgICAgICBtYXRjaCB0aGUga2V5cyBpbiB0aGUgdmFsdWUgb2JqZWN0LlwiKS5kZWZhdWx0VmFsdWUoe30pLFxuICAgIG1lc3NhZ2VzOiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgaW52YWxpZDogUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgIHJlcXVpcmVkOiBQcm9wVHlwZXMuc3RyaW5nXG4gICAgfSkuZGVzY3JpcHRpb24oJ0N1c3RvbSB2YWxpZGF0aW9uIG1lc3NhZ2VzLicpLmRlZmF1bHRWYWx1ZSh7XG4gICAgICBpbnZhbGlkOiAnaW52YWxpZCcsXG4gICAgICByZXF1aXJlZDogJ3JlcXVpcmVkJ1xuICAgIH0pLFxuICAgIG9uQ2hhbmdlOiBQcm9wVHlwZXMuZnVuYy5kZXNjcmlwdGlvbignRnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCB3aGVuIGFueSBmaWVsZHMgYXJlIHVwZGF0ZWQuJyksXG4gICAgb25TdWJtaXQ6IFByb3BUeXBlcy5mdW5jLmRlc2NyaXB0aW9uKFwiRnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCB3aGVuIHRoZSBmb3JtIGlzIHN1Ym1pdHRlZC4gVGhlXFxuICAgICAgc2luZ2xlIGFyZ3VtZW50IGlzIGFuIGV2ZW50IGNvbnRhaW5pbmcgdGhlIGxhdGVzdCB2YWx1ZSBvYmplY3RcXG4gICAgICB2aWEgYGV2ZW50LnZhbHVlYC5cIiksXG4gICAgb25SZXNldDogUHJvcFR5cGVzLmZ1bmMuZGVzY3JpcHRpb24oXCJGdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIGZvcm0gaXMgcmVzZXQuIFRoZVxcbiAgICAgIHNpbmdsZSBhcmd1bWVudCBpcyB0aGUgZXZlbnQgcHJvdmlkZWQgYnkgcmVhY3QuXCIpLFxuICAgIHZhbHVlOiBQcm9wVHlwZXMuc2hhcGUoe30pLmRlc2NyaXB0aW9uKCdBbiBvYmplY3QgcmVwcmVzZW50aW5nIGFsbCBvZiB0aGUgZGF0YSBpbiB0aGUgZm9ybS4nKS5kZWZhdWx0VmFsdWUoe30pXG4gIH07XG4gIHJldHVybiBEb2N1bWVudGVkRm9ybTtcbn07IiwiZXhwb3J0IHsgRm9ybSB9IGZyb20gJy4vRm9ybSc7XG5leHBvcnQgeyBGb3JtQ29udGV4dCB9IGZyb20gJy4vRm9ybUNvbnRleHQnOyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0c0xvb3NlKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcy5wcm90b3R5cGUpOyBzdWJDbGFzcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBzdWJDbGFzczsgc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LWxlblxuXG4vKiBlc2xpbnQtZGlzYWJsZSByZWFjdC9uby1tdWx0aS1jb21wLCByZWFjdC9wcmVmZXItc3RhdGVsZXNzLWZ1bmN0aW9uLCBtYXgtY2xhc3Nlcy1wZXItZmlsZSAqL1xuaW1wb3J0IFJlYWN0LCB7IENoaWxkcmVuLCBjbG9uZUVsZW1lbnQsIENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbXBvc2UgfSBmcm9tICdyZWNvbXBvc2UnO1xuaW1wb3J0IHN0eWxlZCwgeyB3aXRoVGhlbWUgfSBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBwYXJzZU1ldHJpY1RvTnVtIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuaW1wb3J0IHsgZGVmYXVsdFByb3BzIH0gZnJvbSAnLi4vLi4vZGVmYXVsdC1wcm9wcyc7XG5pbXBvcnQgeyBCb3ggfSBmcm9tICcuLi9Cb3gnO1xuaW1wb3J0IHsgQ2hlY2tCb3ggfSBmcm9tICcuLi9DaGVja0JveCc7XG5pbXBvcnQgeyBUZXh0IH0gZnJvbSAnLi4vVGV4dCc7XG5pbXBvcnQgeyBUZXh0SW5wdXQgfSBmcm9tICcuLi9UZXh0SW5wdXQnO1xuaW1wb3J0IHsgd2l0aEZvY3VzIH0gZnJvbSAnLi4vaG9jcyc7XG5pbXBvcnQgeyBGb3JtQ29udGV4dCB9IGZyb20gJy4uL0Zvcm0vRm9ybUNvbnRleHQnO1xuXG52YXIgdmFsaWRhdGVGaWVsZCA9IGZ1bmN0aW9uIHZhbGlkYXRlRmllbGQocmVxdWlyZWQsIHZhbGlkYXRlLCBtZXNzYWdlcykge1xuICByZXR1cm4gZnVuY3Rpb24gKHZhbHVlLCBkYXRhKSB7XG4gICAgdmFyIGVycm9yO1xuXG4gICAgaWYgKHJlcXVpcmVkICYmICh2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHZhbHVlID09PSAnJykpIHtcbiAgICAgIGVycm9yID0gbWVzc2FnZXMucmVxdWlyZWQ7XG4gICAgfSBlbHNlIGlmICh2YWxpZGF0ZSkge1xuICAgICAgaWYgKHR5cGVvZiB2YWxpZGF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBlcnJvciA9IHZhbGlkYXRlKHZhbHVlLCBkYXRhKTtcbiAgICAgIH0gZWxzZSBpZiAodmFsaWRhdGUucmVnZXhwKSB7XG4gICAgICAgIGlmICghdmFsaWRhdGUucmVnZXhwLnRlc3QodmFsdWUpKSB7XG4gICAgICAgICAgZXJyb3IgPSB2YWxpZGF0ZS5tZXNzYWdlIHx8IG1lc3NhZ2VzLmludmFsaWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZXJyb3I7XG4gIH07XG59O1xuXG52YXIgRm9ybUZpZWxkQm94ID0gc3R5bGVkKEJveCkud2l0aENvbmZpZyh7XG4gIGRpc3BsYXlOYW1lOiBcIkZvcm1GaWVsZF9fRm9ybUZpZWxkQm94XCIsXG4gIGNvbXBvbmVudElkOiBcIm05aG9vZC0wXCJcbn0pKFtcIlwiLCBcIlwiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5mb3JtRmllbGQuZXh0ZW5kO1xufSk7XG5cbnZhciBGb3JtRmllbGRDb250ZW50ID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKEZvcm1GaWVsZENvbnRlbnQsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIEZvcm1GaWVsZENvbnRlbnQoKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIF90aGlzID0gX0NvbXBvbmVudC5jYWxsLmFwcGx5KF9Db21wb25lbnQsIFt0aGlzXS5jb25jYXQoYXJncykpIHx8IHRoaXM7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwicmVuZGVyQ2hpbGRyZW5cIiwgZnVuY3Rpb24gKHZhbHVlLCB1cGRhdGUpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIG5hbWUgPSBfdGhpcyRwcm9wcy5uYW1lLFxuICAgICAgICAgIGNoZWNrZWQgPSBfdGhpcyRwcm9wcy5jaGVja2VkLFxuICAgICAgICAgIGNvbXBvbmVudCA9IF90aGlzJHByb3BzLmNvbXBvbmVudCxcbiAgICAgICAgICByZXF1aXJlZCA9IF90aGlzJHByb3BzLnJlcXVpcmVkLFxuICAgICAgICAgIHZhbHVlUHJvcCA9IF90aGlzJHByb3BzLnZhbHVlLFxuICAgICAgICAgIF9vbkNoYW5nZSA9IF90aGlzJHByb3BzLm9uQ2hhbmdlLFxuICAgICAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfdGhpcyRwcm9wcywgW1wibmFtZVwiLCBcImNoZWNrZWRcIiwgXCJjb21wb25lbnRcIiwgXCJyZXF1aXJlZFwiLCBcInZhbHVlXCIsIFwib25DaGFuZ2VcIl0pO1xuXG4gICAgICBkZWxldGUgcmVzdC5jbGFzc05hbWU7XG4gICAgICB2YXIgSW5wdXQgPSBjb21wb25lbnQgfHwgVGV4dElucHV0O1xuXG4gICAgICBpZiAoSW5wdXQgPT09IENoZWNrQm94KSB7XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KElucHV0LCBfZXh0ZW5kcyh7XG4gICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICBjaGVja2VkOiB2YWx1ZVtuYW1lXSAhPT0gdW5kZWZpbmVkID8gdmFsdWVbbmFtZV0gOiBjaGVja2VkIHx8IGZhbHNlLFxuICAgICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShldmVudCkge1xuICAgICAgICAgICAgdXBkYXRlKG5hbWUsIGV2ZW50LnRhcmdldC5jaGVja2VkKTtcbiAgICAgICAgICAgIGlmIChfb25DaGFuZ2UpIF9vbkNoYW5nZShldmVudCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCByZXN0KSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KElucHV0LCBfZXh0ZW5kcyh7XG4gICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgIHZhbHVlOiB2YWx1ZVtuYW1lXSAhPT0gdW5kZWZpbmVkID8gdmFsdWVbbmFtZV0gOiB2YWx1ZVByb3AgfHwgJycsXG4gICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShldmVudCkge1xuICAgICAgICAgIHVwZGF0ZShuYW1lLCBldmVudC52YWx1ZSB8fCBldmVudC50YXJnZXQudmFsdWUgfHwgJycpO1xuICAgICAgICAgIGlmIChfb25DaGFuZ2UpIF9vbkNoYW5nZShldmVudCk7XG4gICAgICAgIH0sXG4gICAgICAgIHBsYWluOiB0cnVlLFxuICAgICAgICBmb2N1c0luZGljYXRvcjogZmFsc2VcbiAgICAgIH0sIHJlc3QpKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBGb3JtRmllbGRDb250ZW50LnByb3RvdHlwZTtcblxuICBfcHJvdG8uY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB2YXIgX3RoaXMkcHJvcHMyID0gdGhpcy5wcm9wcyxcbiAgICAgICAgY2hlY2tlZCA9IF90aGlzJHByb3BzMi5jaGVja2VkLFxuICAgICAgICBjb250ZXh0ID0gX3RoaXMkcHJvcHMyLmNvbnRleHQsXG4gICAgICAgIG5hbWUgPSBfdGhpcyRwcm9wczIubmFtZSxcbiAgICAgICAgdmFsdWUgPSBfdGhpcyRwcm9wczIudmFsdWU7XG5cbiAgICBpZiAoY29udGV4dCAmJiBjb250ZXh0LnZhbHVlW25hbWVdID09PSB1bmRlZmluZWQgJiYgKHZhbHVlICE9PSB1bmRlZmluZWQgfHwgY2hlY2tlZCAhPT0gdW5kZWZpbmVkKSkge1xuICAgICAgY29udGV4dC51cGRhdGUobmFtZSwgdmFsdWUgIT09IHVuZGVmaW5lZCA/IHZhbHVlIDogY2hlY2tlZCk7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICB2YXIgX3RoaXMkcHJvcHMzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgY2hpbGRyZW4gPSBfdGhpcyRwcm9wczMuY2hpbGRyZW4sXG4gICAgICAgIGNsYXNzTmFtZSA9IF90aGlzJHByb3BzMy5jbGFzc05hbWUsXG4gICAgICAgIGNvbXBvbmVudCA9IF90aGlzJHByb3BzMy5jb21wb25lbnQsXG4gICAgICAgIGNvbnRleHQgPSBfdGhpcyRwcm9wczMuY29udGV4dCxcbiAgICAgICAgZXJyb3IgPSBfdGhpcyRwcm9wczMuZXJyb3IsXG4gICAgICAgIGZvY3VzID0gX3RoaXMkcHJvcHMzLmZvY3VzLFxuICAgICAgICBoZWxwID0gX3RoaXMkcHJvcHMzLmhlbHAsXG4gICAgICAgIGh0bWxGb3IgPSBfdGhpcyRwcm9wczMuaHRtbEZvcixcbiAgICAgICAgbGFiZWwgPSBfdGhpcyRwcm9wczMubGFiZWwsXG4gICAgICAgIG5hbWUgPSBfdGhpcyRwcm9wczMubmFtZSxcbiAgICAgICAgcGFkID0gX3RoaXMkcHJvcHMzLnBhZCxcbiAgICAgICAgcmVxdWlyZWQgPSBfdGhpcyRwcm9wczMucmVxdWlyZWQsXG4gICAgICAgIHN0eWxlID0gX3RoaXMkcHJvcHMzLnN0eWxlLFxuICAgICAgICB0aGVtZSA9IF90aGlzJHByb3BzMy50aGVtZSxcbiAgICAgICAgdmFsaWRhdGUgPSBfdGhpcyRwcm9wczMudmFsaWRhdGUsXG4gICAgICAgIG9uQmx1ciA9IF90aGlzJHByb3BzMy5vbkJsdXIsXG4gICAgICAgIG9uRm9jdXMgPSBfdGhpcyRwcm9wczMub25Gb2N1cyxcbiAgICAgICAgbWFyZ2luID0gX3RoaXMkcHJvcHMzLm1hcmdpbjtcbiAgICB2YXIgZm9ybUZpZWxkID0gdGhlbWUuZm9ybUZpZWxkO1xuICAgIHZhciBib3JkZXIgPSBmb3JtRmllbGQuYm9yZGVyO1xuICAgIHZhciBub3JtYWxpemVkRXJyb3IgPSBlcnJvcjtcbiAgICB2YXIgY29udGVudHMgPSBjaGlsZHJlbjtcblxuICAgIGlmIChjb250ZXh0KSB7XG4gICAgICB2YXIgYWRkVmFsaWRhdGlvbiA9IGNvbnRleHQuYWRkVmFsaWRhdGlvbixcbiAgICAgICAgICBlcnJvcnMgPSBjb250ZXh0LmVycm9ycyxcbiAgICAgICAgICB2YWx1ZSA9IGNvbnRleHQudmFsdWUsXG4gICAgICAgICAgdXBkYXRlID0gY29udGV4dC51cGRhdGUsXG4gICAgICAgICAgbWVzc2FnZXMgPSBjb250ZXh0Lm1lc3NhZ2VzO1xuICAgICAgYWRkVmFsaWRhdGlvbihuYW1lLCB2YWxpZGF0ZUZpZWxkKHJlcXVpcmVkLCB2YWxpZGF0ZSwgbWVzc2FnZXMpKTtcbiAgICAgIG5vcm1hbGl6ZWRFcnJvciA9IGVycm9yIHx8IGVycm9yc1tuYW1lXTtcbiAgICAgIGNvbnRlbnRzID0gY2hpbGRyZW4gfHwgdGhpcy5yZW5kZXJDaGlsZHJlbih2YWx1ZSwgdXBkYXRlKTtcbiAgICB9XG5cbiAgICBpZiAocGFkKSB7XG4gICAgICBjb250ZW50cyA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoQm94LCBmb3JtRmllbGQuY29udGVudCwgY29udGVudHMpO1xuICAgIH1cblxuICAgIHZhciBib3JkZXJDb2xvcjtcblxuICAgIGlmIChmb2N1cyAmJiAhbm9ybWFsaXplZEVycm9yKSB7XG4gICAgICBib3JkZXJDb2xvciA9ICdmb2N1cyc7XG4gICAgfSBlbHNlIGlmIChub3JtYWxpemVkRXJyb3IpIHtcbiAgICAgIGJvcmRlckNvbG9yID0gYm9yZGVyICYmIGJvcmRlci5lcnJvci5jb2xvciB8fCAnc3RhdHVzLWNyaXRpY2FsJztcbiAgICB9IGVsc2Uge1xuICAgICAgYm9yZGVyQ29sb3IgPSBib3JkZXIgJiYgYm9yZGVyLmNvbG9yIHx8ICdib3JkZXInO1xuICAgIH1cblxuICAgIHZhciBhYnV0O1xuICAgIHZhciBhYnV0TWFyZ2luO1xuICAgIHZhciBvdXRlclN0eWxlID0gc3R5bGU7XG5cbiAgICBpZiAoYm9yZGVyKSB7XG4gICAgICB2YXIgbm9ybWFsaXplZENoaWxkcmVuID0gY2hpbGRyZW4gPyBDaGlsZHJlbi5tYXAoY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICBpZiAoY2hpbGQpIHtcbiAgICAgICAgICByZXR1cm4gY2xvbmVFbGVtZW50KGNoaWxkLCB7XG4gICAgICAgICAgICBwbGFpbjogdHJ1ZSxcbiAgICAgICAgICAgIGZvY3VzSW5kaWNhdG9yOiBmYWxzZSxcbiAgICAgICAgICAgIG9uQmx1cjogb25CbHVyLFxuICAgICAgICAgICAgb25Gb2N1czogb25Gb2N1c1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgICAgfSkgOiBjb250ZW50cztcbiAgICAgIGNvbnRlbnRzID0gUmVhY3QuY3JlYXRlRWxlbWVudChCb3gsIHtcbiAgICAgICAgcmVmOiBmdW5jdGlvbiByZWYoX3JlZikge1xuICAgICAgICAgIF90aGlzMi5jaGlsZENvbnRhaW5lclJlZiA9IF9yZWY7XG4gICAgICAgIH0sXG4gICAgICAgIGJvcmRlcjogYm9yZGVyLnBvc2l0aW9uID09PSAnaW5uZXInID8gX2V4dGVuZHMoe30sIGJvcmRlciwge1xuICAgICAgICAgIHNpZGU6IGJvcmRlci5zaWRlIHx8ICdib3R0b20nLFxuICAgICAgICAgIGNvbG9yOiBib3JkZXJDb2xvclxuICAgICAgICB9KSA6IHVuZGVmaW5lZFxuICAgICAgfSwgbm9ybWFsaXplZENoaWxkcmVuKTtcbiAgICAgIGFidXQgPSBib3JkZXIucG9zaXRpb24gPT09ICdvdXRlcicgJiYgKGJvcmRlci5zaWRlID09PSAnYWxsJyB8fCBib3JkZXIuc2lkZSA9PT0gJ2hvcml6b250YWwnIHx8ICFib3JkZXIuc2lkZSk7XG5cbiAgICAgIGlmIChhYnV0KSB7XG4gICAgICAgIC8vIG1hcmdpbkJvdHRvbSBpcyBzZXQgdG8gb3ZlcmxhcCBhZGphY2VudCBmaWVsZHNcbiAgICAgICAgYWJ1dE1hcmdpbiA9IHtcbiAgICAgICAgICBib3R0b206ICctMXB4J1xuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChtYXJnaW4pIHtcbiAgICAgICAgICBhYnV0TWFyZ2luID0gbWFyZ2luO1xuICAgICAgICB9IGVsc2UgaWYgKGJvcmRlci5zaXplKSB7XG4gICAgICAgICAgLy8gaWYgdGhlIHVzZXIgZGVmaW5lcyBhIG1hcmdpbixcbiAgICAgICAgICAvLyB0aGVuIHRoZSBkZWZhdWx0IG1hcmdpbiBiZWxvdyB3aWxsIGJlIG92ZXJyaWRlblxuICAgICAgICAgIGFidXRNYXJnaW4gPSB7XG4gICAgICAgICAgICBib3R0b206IFwiLVwiICsgcGFyc2VNZXRyaWNUb051bSh0aGVtZS5nbG9iYWwuYm9yZGVyU2l6ZVtib3JkZXIuc2l6ZV0gfHwgYm9yZGVyLnNpemUpICsgXCJweFwiXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIG91dGVyU3R5bGUgPSBfZXh0ZW5kcyh7XG4gICAgICAgICAgcG9zaXRpb246IGZvY3VzID8gJ3JlbGF0aXZlJyA6IHVuZGVmaW5lZCxcbiAgICAgICAgICB6SW5kZXg6IGZvY3VzID8gMTAgOiB1bmRlZmluZWRcbiAgICAgICAgfSwgc3R5bGUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1GaWVsZEJveCwge1xuICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgICBib3JkZXI6IGJvcmRlciAmJiBib3JkZXIucG9zaXRpb24gPT09ICdvdXRlcicgPyBfZXh0ZW5kcyh7fSwgYm9yZGVyLCB7XG4gICAgICAgIGNvbG9yOiBib3JkZXJDb2xvclxuICAgICAgfSkgOiB1bmRlZmluZWQsXG4gICAgICBtYXJnaW46IGFidXQgPyBhYnV0TWFyZ2luIDogbWFyZ2luIHx8IF9leHRlbmRzKHt9LCBmb3JtRmllbGQubWFyZ2luKSxcbiAgICAgIHN0eWxlOiBvdXRlclN0eWxlXG4gICAgfSwgbGFiZWwgJiYgY29tcG9uZW50ICE9PSBDaGVja0JveCB8fCBoZWxwID8gUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgbGFiZWwgJiYgY29tcG9uZW50ICE9PSBDaGVja0JveCAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KFRleHQsIF9leHRlbmRzKHtcbiAgICAgIGFzOiBcImxhYmVsXCIsXG4gICAgICBodG1sRm9yOiBodG1sRm9yXG4gICAgfSwgZm9ybUZpZWxkLmxhYmVsKSwgbGFiZWwpLCBoZWxwICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGV4dCwgX2V4dGVuZHMoe30sIGZvcm1GaWVsZC5oZWxwLCB7XG4gICAgICBjb2xvcjogZm9ybUZpZWxkLmhlbHAuY29sb3JbdGhlbWUuZGFyayA/ICdkYXJrJyA6ICdsaWdodCddXG4gICAgfSksIGhlbHApKSA6IHVuZGVmaW5lZCwgY29udGVudHMsIG5vcm1hbGl6ZWRFcnJvciAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KFRleHQsIF9leHRlbmRzKHt9LCBmb3JtRmllbGQuZXJyb3IsIHtcbiAgICAgIGNvbG9yOiBmb3JtRmllbGQuZXJyb3IuY29sb3JbdGhlbWUuZGFyayA/ICdkYXJrJyA6ICdsaWdodCddXG4gICAgfSksIG5vcm1hbGl6ZWRFcnJvcikpO1xuICB9O1xuXG4gIHJldHVybiBGb3JtRmllbGRDb250ZW50O1xufShDb21wb25lbnQpOyAvLyBDYW4ndCBiZSBhIGZ1bmN0aW9uYWwgY29tcG9uZW50IGJlY2F1c2Ugc3R5bGVkLWNvbXBvbmVudHMgd2l0aFRoZW1lKCkgbmVlZHNcbi8vIHRvIGF0dGFjaCBhIHJlZi5cblxuXG52YXIgRm9ybUZpZWxkID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfQ29tcG9uZW50Mikge1xuICBfaW5oZXJpdHNMb29zZShGb3JtRmllbGQsIF9Db21wb25lbnQyKTtcblxuICBmdW5jdGlvbiBGb3JtRmllbGQoKSB7XG4gICAgcmV0dXJuIF9Db21wb25lbnQyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgfVxuXG4gIHZhciBfcHJvdG8yID0gRm9ybUZpZWxkLnByb3RvdHlwZTtcblxuICBfcHJvdG8yLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1Db250ZXh0LkNvbnN1bWVyLCBudWxsLCBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybUZpZWxkQ29udGVudCwgX2V4dGVuZHMoe1xuICAgICAgICBjb250ZXh0OiBjb250ZXh0XG4gICAgICB9LCBfdGhpczMucHJvcHMpKTtcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gRm9ybUZpZWxkO1xufShDb21wb25lbnQpO1xuXG5Gb3JtRmllbGQuZGVmYXVsdFByb3BzID0ge307XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoRm9ybUZpZWxkLmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbnZhciBGb3JtRmllbGREb2M7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBnbG9iYWwtcmVxdWlyZVxuICBGb3JtRmllbGREb2MgPSByZXF1aXJlKCcuL2RvYycpLmRvYyhGb3JtRmllbGQpO1xufVxuXG52YXIgRm9ybUZpZWxkV3JhcHBlciA9IGNvbXBvc2Uod2l0aEZvY3VzKHtcbiAgZm9jdXNXaXRoTW91c2U6IHRydWVcbn0pLCB3aXRoVGhlbWUpKEZvcm1GaWVsZERvYyB8fCBGb3JtRmllbGQpO1xuZXhwb3J0IHsgRm9ybUZpZWxkV3JhcHBlciBhcyBGb3JtRmllbGQgfTsiLCJpbXBvcnQgeyBkZXNjcmliZSwgUHJvcFR5cGVzIH0gZnJvbSAncmVhY3QtZGVzYyc7XG5pbXBvcnQgeyBnZXRBdmFpbGFibGVBdEJhZGdlLCBtYXJnaW5Qcm9wIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuZXhwb3J0IHZhciBkb2MgPSBmdW5jdGlvbiBkb2MoRm9ybUZpZWxkKSB7XG4gIHZhciBEb2N1bWVudGVkRm9ybUZpZWxkID0gZGVzY3JpYmUoRm9ybUZpZWxkKS5hdmFpbGFibGVBdChnZXRBdmFpbGFibGVBdEJhZGdlKCdGb3JtRmllbGQnKSkuZGVzY3JpcHRpb24oXCJBIHNpbmdsZSBmaWVsZCBpbiBhIGZvcm0uIEZvcm1GaWVsZCB3cmFwcyBhbiBpbnB1dCBjb21wb25lbnQgd2l0aFxcbiAgICAgIGEgbGFiZWwsIGhlbHAsIGFuZC9vciBlcnJvciBtZXNzYWdpbmcuIEl0IHR5cGljYWxseSBjb250YWlucyBhbiBpbnB1dFxcbiAgICAgIGNvbnRyb2wgbGlrZSBUZXh0SW5wdXQsIFRleHRBcmVhLCBTZWxlY3QsIGV0Yy5cIikudXNhZ2UoXCJpbXBvcnQgeyBGb3JtRmllbGQgfSBmcm9tICdncm9tbWV0JztcXG48Rm9ybUZpZWxkIC8+XCIpLmludHJpbnNpY0VsZW1lbnQoJ2RpdicpO1xuICBEb2N1bWVudGVkRm9ybUZpZWxkLnByb3BUeXBlcyA9IHtcbiAgICBjb21wb25lbnQ6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5mdW5jLCBQcm9wVHlwZXMub2JqZWN0XSkuZGVzY3JpcHRpb24oXCJUaGUgY29tcG9uZW50IHRvIGluc2VydCBpbiB0aGUgRm9ybUZpZWxkLiBHcm9tbWV0IHdpbGwgYWRkIHVwZGF0ZSB0aGUgXFxuICAgICAgZm9ybSB2YWx1ZXMgd2hlbiB0aGlzIGZpZWxkIGNoYW5nZXMuIEFueSBhZGRpdGlvbmFsIHByb3BlcnRpZXMgXFxuICAgICAgKHN1Y2ggYXMgaW5pdGlhbCB2YWx1ZSkgeW91IHBhc3MgdG8gRm9ybUZpZWxkIHdpbGwgYmUgZm9yd2FyZGVkIHRvIHRoaXNcXG4gICAgICBjb21wb25lbnQuIFRoZSBjb21wb25lbnQgbWF5IGJlIGN1c3RvbSBhcyBsb25nIGl0IHN1cHBvcnRzIHRoZSBwcm9wZXJ0aWVzXFxuICAgICAgb2YgbmFtZSwgdmFsdWUsIG9uQ2hhbmdlIChldmVudCA9PiB7fSksIHdoaWxlIGV2ZW50IGhhcyBlaXRoZXIgZXZlbnQudmFsdWVcXG4gICAgICBvciBldmVudC50YXJnZXQudmFsdWUuXCIpLFxuICAgIGVycm9yOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMubm9kZV0pLmRlc2NyaXB0aW9uKCdBbnkgZXJyb3IgdGV4dCBkZXNjcmliaW5nIGlzc3VlcyB3aXRoIHRoZSBmaWVsZCcpLFxuICAgIGhlbHA6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5ub2RlXSkuZGVzY3JpcHRpb24oJ0FueSBoZWxwIHRleHQgZGVzY3JpYmluZyBob3cgdGhlIGZpZWxkIHdvcmtzJyksXG4gICAgaHRtbEZvcjogUHJvcFR5cGVzLnN0cmluZy5kZXNjcmlwdGlvbignVGhlIGlkIG9mIHRoZSBpbnB1dCBlbGVtZW50IGNvbnRhaW5lZCBpbiB0aGlzIGZpZWxkJyksXG4gICAgbGFiZWw6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5ub2RlXSkuZGVzY3JpcHRpb24oJ0Egc2hvcnQgbGFiZWwgZGVzY3JpYmluZyB0aGUgZmllbGQnKSxcbiAgICBuYW1lOiBQcm9wVHlwZXMuc3RyaW5nLmRlc2NyaXB0aW9uKFwiVGhlIG5hbWUgb2YgdGhlIHZhbHVlIGRhdGEgd2hlbiBpbiBhIEZvcm0gYW5kIHRoZSBuYW1lIG9mXFxuICAgICAgdGhlIGlucHV0IGZpZWxkLlwiKSxcbiAgICBtYXJnaW46IG1hcmdpblByb3AsXG4gICAgcGFkOiBQcm9wVHlwZXMuYm9vbC5kZXNjcmlwdGlvbignV2hldGhlciB0byBhZGQgcGFkZGluZyB0byBhbGlnbiB3aXRoIHRoZSBwYWRkaW5nIG9mIFRleHRJbnB1dC4nKSxcbiAgICByZXF1aXJlZDogUHJvcFR5cGVzLmJvb2wuZGVzY3JpcHRpb24oJ1doZXRoZXIgdGhlIGZpZWxkIGlzIHJlcXVpcmVkLicpLFxuICAgIHZhbGlkYXRlOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgcmVnZXhwOiBQcm9wVHlwZXMub2JqZWN0LFxuICAgICAgLy8gcmVndWxhciBleHByZXNzaW9uXG4gICAgICBtZXNzYWdlOiBQcm9wVHlwZXMuc3RyaW5nXG4gICAgfSksIFByb3BUeXBlcy5mdW5jXSkuZGVzY3JpcHRpb24oXCJWYWxpZGF0aW9uIHJ1bGUgd2hlbiB1c2VkIHdpdGhpbiBhIGdyb21tZXQgRm9ybS4gUHJvdmlkZSBhIHJlZ3VsYXJcXG4gICAgICBleHByZXNzaW9uIG9yIGEgZnVuY3Rpb24uIElmIGFcXG4gICAgICBmdW5jdGlvbiBpcyBwcm92aWRlZCwgaXQgd2lsbCBiZSBjYWxsZWQgd2l0aCB0d28gYXJndW1lbnRzLCB0aGUgdmFsdWVcXG4gICAgICBmb3IgdGhpcyBmaWVsZCBhbmQgdGhlIGVudGlyZSB2YWx1ZSBvYmplY3QuIFRoaXMgcGVybWl0cyB2YWxpZGF0aW9uIHRvXFxuICAgICAgZW5jb21wYXNzIG11bHRpcGxlIGZpZWxkcy4gVGhlIGZ1bmN0aW9uIHNob3VsZCByZXR1cm4gYSBzdHJpbmcgbWVzc2FnZVxcbiAgICAgIGRlc2NyaWJpbmcgdGhlIHZhbGlkYXRpb24gaXNzdWUsIGlmIGFueS5cIilcbiAgfTtcbiAgcmV0dXJuIERvY3VtZW50ZWRGb3JtRmllbGQ7XG59O1xuZXhwb3J0IHZhciB0aGVtZURvYyA9IHtcbiAgJ2Zvcm1GaWVsZC5ib3JkZXIuY29sb3InOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgYm9yZGVyIGNvbG9yLicsXG4gICAgdHlwZTogXCJzdHJpbmcgfCB7ICdkYXJrJzogc3RyaW5nLCAnbGlnaHQnOiBzdHJpbmcgfVwiLFxuICAgIGRlZmF1bHRWYWx1ZTogJ2JvcmRlcidcbiAgfSxcbiAgJ2Zvcm1GaWVsZC5ib3JkZXIuZXJyb3IuY29sb3InOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgYm9yZGVyIGNvbG9yIG9mIHRoZSBlcnJvci4nLFxuICAgIHR5cGU6IFwic3RyaW5nIHwgeydkYXJrJzogc3RyaW5nLCAnbGlnaHQnOiBzdHJpbmd9XCIsXG4gICAgZGVmYXVsdFZhbHVlOiBcInsgZGFyazogJ3doaXRlJywgbGlnaHQ6ICdzdGF0dXMtY3JpdGljYWwnIH0sXCJcbiAgfSxcbiAgJ2Zvcm1GaWVsZC5ib3JkZXIucG9zaXRpb24nOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgYm9yZGVyIHBvc2l0aW9uLicsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiAnaW5uZXInXG4gIH0sXG4gICdmb3JtRmllbGQuYm9yZGVyLnNpZGUnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgYm9yZGVyIHNpZGUgb2YgdGhlIEZvcm1GaWVsZC4nLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogJ2JvdHRvbSdcbiAgfSxcbiAgJ2Zvcm1GaWVsZC5jb250ZW50LnBhZCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBwYWQgb2YgdGhlIEZvcm1GaWVsZCBjb250ZW50LicsXG4gICAgdHlwZTogJ29iamVjdCcsXG4gICAgZGVmYXVsdFZhbHVlOiBcInsgaG9yaXpvbnRhbDogJ3NtYWxsJywgYm90dG9tOiAnc21hbGwnIH1cIlxuICB9LFxuICAnZm9ybUZpZWxkLmVycm9yLmNvbG9yJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGNvbG9yIG9mIHRoZSBGb3JtRmllbGQgZXJyb3IuJyxcbiAgICB0eXBlOiBcInN0cmluZyB8IHsnZGFyayc6IHN0cmluZywgJ2xpZ2h0Jzogc3RyaW5nfVwiLFxuICAgIGRlZmF1bHRWYWx1ZTogXCJ7IGRhcms6ICdzdGF0dXMtY3JpdGljYWwnLCBsaWdodDogJ3N0YXR1cy1jcml0aWNhbCcgfVwiXG4gIH0sXG4gICdmb3JtRmllbGQuZXJyb3IubWFyZ2luJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIG1hcmdpbiB1c2VkIGZvciB0aGUgRm9ybUZpZWxkIGVycm9yLicsXG4gICAgdHlwZTogJ3N0cmluZyB8IG9iamVjdCcsXG4gICAgZGVmYXVsdFZhbHVlOiBcInsgdmVydGljYWw6ICd4c21hbGwnLCBob3Jpem9udGFsOiAnc21hbGwnIH1cIlxuICB9LFxuICAnZm9ybUZpZWxkLmV4dGVuZCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ0FueSBhZGRpdGlvbmFsIHN0eWxlIGZvciBGb3JtRmllbGQuJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgKHByb3BzKSA9PiB7fScsXG4gICAgZGVmYXVsdFZhbHVlOiB1bmRlZmluZWRcbiAgfSxcbiAgJ2Zvcm1GaWVsZC5oZWxwLmNvbG9yJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGNvbG9yIG9mIHRoZSBGb3JtRmllbGQgaGVscC4nLFxuICAgIHR5cGU6IFwic3RyaW5nIHwgeydkYXJrJzogc3RyaW5nLCAnbGlnaHQnOiBzdHJpbmd9XCIsXG4gICAgZGVmYXVsdFZhbHVlOiBcInsgZGFyazogJ2RhcmstMycsIGxpZ2h0OiAnZGFyay0zJyB9XCJcbiAgfSxcbiAgJ2Zvcm1GaWVsZC5oZWxwLm1hcmdpbic6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBtYXJnaW4gZm9yIHRoZSBGb3JtRmllbGQgaGVscC4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCBvYmplY3QnLFxuICAgIGRlZmF1bHRWYWx1ZTogXCJ7IGxlZnQ6ICdzbWFsbCcgfVwiXG4gIH0sXG4gICdmb3JtRmllbGQubGFiZWwnOiB7XG4gICAgZGVzY3JpcHRpb246ICdBbnkgcHJvcHMgb2YgVGV4dCB0aGF0IHdpbGwgYmUgYXBwbGllZCBvbiB0aGUgRm9ybUZpZWxkIGxhYmVsLicsXG4gICAgdHlwZTogJ29iamVjdCcsXG4gICAgZGVmYXVsdFZhbHVlOiAndW5kZWZpbmVkJ1xuICB9LFxuICAnZm9ybUZpZWxkLmxhYmVsLm1hcmdpbic6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBtYXJnaW4gZm9yIHRoZSBGb3JtRmllbGQgbGFiZWwuJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgb2JqZWN0JyxcbiAgICBkZWZhdWx0VmFsdWU6IFwieyB2ZXJ0aWNhbDogJ3hzbWFsbCcsIGhvcml6b250YWw6ICdzbWFsbCcgfVwiXG4gIH0sXG4gICdmb3JtRmllbGQubWFyZ2luJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIG1hcmdpbiBvZiBGb3JtRmllbGQuJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgb2JqZWN0JyxcbiAgICBkZWZhdWx0VmFsdWU6IFwieyBib3R0b206ICdzbWFsbCcgfVwiXG4gIH0sXG4gICdnbG9iYWwuYm9yZGVyU2l6ZSc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBwb3NzaWJsZSBib3JkZXIgc2l6ZXMgZm9yIEZvcm1GaWVsZC4nLFxuICAgIHR5cGU6ICdvYmplY3QnLFxuICAgIGRlZmF1bHRWYWx1ZTogXCJ7XFxuICB4c21hbGw6ICcxcHgnLFxcbiAgc21hbGw6ICcycHgnLFxcbiAgbWVkaXVtOiAnNHB4JyxcXG4gIGxhcmdlOiAnMTJweCcsXFxuICB4bGFyZ2U6ICcyNHB4LFxcbn1cIlxuICB9XG59OyIsImV4cG9ydCB7IEZvcm1GaWVsZCB9IGZyb20gJy4vRm9ybUZpZWxkJzsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBTdHlsZWRHcmlkIH0gZnJvbSAnLi9TdHlsZWRHcmlkJztcblxudmFyIEdyaWQgPSBmdW5jdGlvbiBHcmlkKHByb3BzKSB7XG4gIHZhciBhMTF5VGl0bGUgPSBwcm9wcy5hMTF5VGl0bGUsXG4gICAgICBmaWxsID0gcHJvcHMuZmlsbCxcbiAgICAgIHJvd3MgPSBwcm9wcy5yb3dzLFxuICAgICAgdGFnID0gcHJvcHMudGFnLFxuICAgICAgYXMgPSBwcm9wcy5hcyxcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShwcm9wcywgW1wiYTExeVRpdGxlXCIsIFwiZmlsbFwiLCBcInJvd3NcIiwgXCJ0YWdcIiwgXCJhc1wiXSk7XG5cbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkR3JpZCwgX2V4dGVuZHMoe1xuICAgIGExMXlUaXRsZVByb3A6IGExMXlUaXRsZSxcbiAgICBhczogIWFzICYmIHRhZyA/IHRhZyA6IGFzLFxuICAgIGZpbGxDb250YWluZXI6IGZpbGwsXG4gICAgcm93c1Byb3A6IHJvd3NcbiAgfSwgcmVzdCkpO1xufTtcblxudmFyIEdyaWREb2M7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIEdyaWREb2MgPSByZXF1aXJlKCcuL2RvYycpLmRvYyhHcmlkKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBnbG9iYWwtcmVxdWlyZVxufVxuXG52YXIgR3JpZFdyYXBwZXIgPSBHcmlkRG9jIHx8IEdyaWQ7XG5HcmlkV3JhcHBlci5hdmFpbGFibGUgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuQ1NTICYmIHdpbmRvdy5DU1Muc3VwcG9ydHMgJiYgd2luZG93LkNTUy5zdXBwb3J0cygnZGlzcGxheScsICdncmlkJyk7XG5leHBvcnQgeyBHcmlkV3JhcHBlciBhcyBHcmlkIH07IiwiaW1wb3J0IHN0eWxlZCwgeyBjc3MgfSBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBnZW5lcmljU3R5bGVzIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuaW1wb3J0IHsgZGVmYXVsdFByb3BzIH0gZnJvbSAnLi4vLi4vZGVmYXVsdC1wcm9wcyc7XG5cbnZhciBmaWxsU3R5bGUgPSBmdW5jdGlvbiBmaWxsU3R5bGUoZmlsbCkge1xuICBpZiAoZmlsbCA9PT0gJ2hvcml6b250YWwnKSB7XG4gICAgcmV0dXJuICd3aWR0aDogMTAwJTsnO1xuICB9XG5cbiAgaWYgKGZpbGwgPT09ICd2ZXJ0aWNhbCcpIHtcbiAgICByZXR1cm4gJ2hlaWdodDogMTAwJTsnO1xuICB9XG5cbiAgaWYgKGZpbGwpIHtcbiAgICByZXR1cm4gXCJcXG4gICAgICB3aWR0aDogMTAwJTtcXG4gICAgICBoZWlnaHQ6IDEwMCU7XFxuICAgIFwiO1xuICB9XG5cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn07XG5cbnZhciBBTElHTl9NQVAgPSB7XG4gIGNlbnRlcjogJ2NlbnRlcicsXG4gIGVuZDogJ2ZsZXgtZW5kJyxcbiAgc3RhcnQ6ICdmbGV4LXN0YXJ0JyxcbiAgc3RyZXRjaDogJ3N0cmV0Y2gnXG59O1xudmFyIGFsaWduU3R5bGUgPSBjc3MoW1wiYWxpZ24taXRlbXM6XCIsIFwiO1wiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBBTElHTl9NQVBbcHJvcHMuYWxpZ25dO1xufSk7XG52YXIgQUxJR05fQ09OVEVOVF9NQVAgPSB7XG4gIGFyb3VuZDogJ3NwYWNlLWFyb3VuZCcsXG4gIGJldHdlZW46ICdzcGFjZS1iZXR3ZWVuJyxcbiAgY2VudGVyOiAnY2VudGVyJyxcbiAgZW5kOiAnZmxleC1lbmQnLFxuICBzdGFydDogJ2ZsZXgtc3RhcnQnLFxuICBzdHJldGNoOiAnc3RyZXRjaCdcbn07XG52YXIgYWxpZ25Db250ZW50U3R5bGUgPSBjc3MoW1wiYWxpZ24tY29udGVudDpcIiwgXCI7XCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIEFMSUdOX0NPTlRFTlRfTUFQW3Byb3BzLmFsaWduQ29udGVudF07XG59KTtcbnZhciBKVVNUSUZZX01BUCA9IHtcbiAgY2VudGVyOiAnY2VudGVyJyxcbiAgZW5kOiAnZmxleC1lbmQnLFxuICBzdGFydDogJ2ZsZXgtc3RhcnQnLFxuICBzdHJldGNoOiAnc3RyZXRjaCdcbn07XG52YXIganVzdGlmeVN0eWxlID0gY3NzKFtcImp1c3RpZnktaXRlbXM6XCIsIFwiO1wiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBKVVNUSUZZX01BUFtwcm9wcy5qdXN0aWZ5XTtcbn0pO1xudmFyIEpVU1RJRllfQ09OVEVOVF9NQVAgPSB7XG4gIGFyb3VuZDogJ3NwYWNlLWFyb3VuZCcsXG4gIGJldHdlZW46ICdzcGFjZS1iZXR3ZWVuJyxcbiAgY2VudGVyOiAnY2VudGVyJyxcbiAgZW5kOiAnZmxleC1lbmQnLFxuICBzdGFydDogJ2ZsZXgtc3RhcnQnLFxuICBzdHJldGNoOiAnc3RyZXRjaCdcbn07XG52YXIganVzdGlmeUNvbnRlbnRTdHlsZSA9IGNzcyhbXCJqdXN0aWZ5LWNvbnRlbnQ6XCIsIFwiO1wiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBKVVNUSUZZX0NPTlRFTlRfTUFQW3Byb3BzLmp1c3RpZnlDb250ZW50XTtcbn0pO1xuXG52YXIgZ2FwU3R5bGUgPSBmdW5jdGlvbiBnYXBTdHlsZShwcm9wcykge1xuICBpZiAodHlwZW9mIHByb3BzLmdhcCA9PT0gJ3N0cmluZycpIHtcbiAgICB2YXIgZ2FwU2l6ZSA9IHByb3BzLnRoZW1lLmdsb2JhbC5lZGdlU2l6ZVtwcm9wcy5nYXBdIHx8IHByb3BzLmdhcDtcbiAgICByZXR1cm4gXCJncmlkLWdhcDogXCIgKyBnYXBTaXplICsgXCIgXCIgKyBnYXBTaXplICsgXCI7XCI7XG4gIH1cblxuICBpZiAocHJvcHMuZ2FwLnJvdyAmJiBwcm9wcy5nYXAuY29sdW1uKSB7XG4gICAgcmV0dXJuIFwiXFxuICAgICAgZ3JpZC1yb3ctZ2FwOiBcIiArIChwcm9wcy50aGVtZS5nbG9iYWwuZWRnZVNpemVbcHJvcHMuZ2FwLnJvd10gfHwgcHJvcHMuZ2FwLnJvdykgKyBcIjtcXG4gICAgICBncmlkLWNvbHVtbi1nYXA6IFwiICsgKHByb3BzLnRoZW1lLmdsb2JhbC5lZGdlU2l6ZVtwcm9wcy5nYXAuY29sdW1uXSB8fCBwcm9wcy5nYXAuY29sdW1uKSArIFwiO1xcbiAgICBcIjtcbiAgfVxuXG4gIGlmIChwcm9wcy5nYXAucm93KSB7XG4gICAgcmV0dXJuIFwiXFxuICAgICAgZ3JpZC1yb3ctZ2FwOiBcIiArIChwcm9wcy50aGVtZS5nbG9iYWwuZWRnZVNpemVbcHJvcHMuZ2FwLnJvd10gfHwgcHJvcHMuZ2FwLnJvdykgKyBcIjtcXG4gICAgXCI7XG4gIH1cblxuICBpZiAocHJvcHMuZ2FwLmNvbHVtbikge1xuICAgIHJldHVybiBcIlxcbiAgICAgIGdyaWQtY29sdW1uLWdhcDogXCIgKyAocHJvcHMudGhlbWUuZ2xvYmFsLmVkZ2VTaXplW3Byb3BzLmdhcC5jb2x1bW5dIHx8IHByb3BzLmdhcC5jb2x1bW4pICsgXCI7XFxuICAgIFwiO1xuICB9XG5cbiAgcmV0dXJuICcnO1xufTtcblxudmFyIFNJWkVfTUFQID0ge1xuICBmbGV4OiAnMWZyJyxcbiAgZnVsbDogJzEwMCUnLFxuICAnMS8yJzogJzUwJScsXG4gICcxLzQnOiAnMjUlJyxcbiAgJzIvNCc6ICc1MCUnLFxuICAnMy80JzogJzc1JScsXG4gICcxLzMnOiAnMzMuMzMlJyxcbiAgJzIvMyc6ICc2Ni42NiUnXG59O1xuXG52YXIgZ2V0UmVwZWF0Q291bnQgPSBmdW5jdGlvbiBnZXRSZXBlYXRDb3VudChjb3VudCkge1xuICByZXR1cm4gdHlwZW9mIGNvdW50ID09PSAnbnVtYmVyJyA/IGNvdW50IDogXCJhdXRvLVwiICsgY291bnQ7XG59O1xuXG52YXIgZ2V0UmVwZWF0U2l6ZSA9IGZ1bmN0aW9uIGdldFJlcGVhdFNpemUoc2l6ZSwgdGhlbWUpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoc2l6ZSkpIHtcbiAgICByZXR1cm4gXCJtaW5tYXgoXCIgKyAodGhlbWUuZ2xvYmFsLnNpemVbc2l6ZVswXV0gfHwgc2l6ZVswXSkgKyBcIiwgXCIgKyAodGhlbWUuZ2xvYmFsLnNpemVbc2l6ZVsxXV0gfHwgc2l6ZVsxXSkgKyBcIilcIjtcbiAgfVxuXG4gIHJldHVybiBcIm1pbm1heChcIiArICh0aGVtZS5nbG9iYWwuc2l6ZVtzaXplXSB8fCBzaXplKSArIFwiLCAxZnIpXCI7XG59O1xuXG52YXIgc2l6ZUZvciA9IGZ1bmN0aW9uIHNpemVGb3Ioc2l6ZSwgcHJvcHMsIGlzUm93KSB7XG4gIHZhciBtYXBwZWQgPSBTSVpFX01BUFtzaXplXTtcblxuICBpZiAoaXNSb3cgJiYgbWFwcGVkICYmICghcHJvcHMuZmlsbENvbnRhaW5lciB8fCBwcm9wcy5maWxsQ29udGFpbmVyID09PSAnaG9yaXpvbnRhbCcpKSB7XG4gICAgY29uc29sZS53YXJuKCdHcmlkIG5lZWRzIGBmaWxsYCB3aGVuIHVzaW5nIGZyYWN0aW9uYWwgcm93IHNpemVzJyk7XG4gIH1cblxuICByZXR1cm4gbWFwcGVkIHx8IHByb3BzLnRoZW1lLmdsb2JhbC5zaXplW3NpemVdIHx8IHNpemU7XG59O1xuXG52YXIgY29sdW1uc1N0eWxlID0gZnVuY3Rpb24gY29sdW1uc1N0eWxlKHByb3BzKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KHByb3BzLmNvbHVtbnMpKSB7XG4gICAgcmV0dXJuIGNzcyhbXCJncmlkLXRlbXBsYXRlLWNvbHVtbnM6XCIsIFwiO1wiXSwgcHJvcHMuY29sdW1ucy5tYXAoZnVuY3Rpb24gKHMpIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHMpKSB7XG4gICAgICAgIHJldHVybiBcIm1pbm1heChcIiArIHNpemVGb3Ioc1swXSwgcHJvcHMpICsgXCIsIFwiICsgc2l6ZUZvcihzWzFdLCBwcm9wcykgKyBcIilcIjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNpemVGb3IocywgcHJvcHMpO1xuICAgIH0pLmpvaW4oJyAnKSk7XG4gIH1cblxuICBpZiAodHlwZW9mIHByb3BzLmNvbHVtbnMgPT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIGNzcyhbXCJncmlkLXRlbXBsYXRlLWNvbHVtbnM6cmVwZWF0KCBcIiwgXCIsXCIsIFwiICk7XCJdLCBnZXRSZXBlYXRDb3VudChwcm9wcy5jb2x1bW5zLmNvdW50KSwgZ2V0UmVwZWF0U2l6ZShwcm9wcy5jb2x1bW5zLnNpemUsIHByb3BzLnRoZW1lKSk7XG4gIH1cblxuICByZXR1cm4gY3NzKFtcImdyaWQtdGVtcGxhdGUtY29sdW1uczpyZXBlYXQoIGF1dG8tZmlsbCxcIiwgXCIgKTtcIl0sIGdldFJlcGVhdFNpemUocHJvcHMuY29sdW1ucywgcHJvcHMudGhlbWUpKTtcbn07XG5cbnZhciByb3dzU3R5bGUgPSBmdW5jdGlvbiByb3dzU3R5bGUocHJvcHMpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkocHJvcHMucm93c1Byb3ApKSB7XG4gICAgcmV0dXJuIGNzcyhbXCJncmlkLXRlbXBsYXRlLXJvd3M6XCIsIFwiO1wiXSwgcHJvcHMucm93c1Byb3AubWFwKGZ1bmN0aW9uIChzKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShzKSkge1xuICAgICAgICByZXR1cm4gXCJtaW5tYXgoXCIgKyBzaXplRm9yKHNbMF0sIHByb3BzLCB0cnVlKSArIFwiLCBcIiArIHNpemVGb3Ioc1sxXSwgcHJvcHMsIHRydWUpICsgXCIpXCI7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzaXplRm9yKHMsIHByb3BzLCB0cnVlKTtcbiAgICB9KS5qb2luKCcgJykpO1xuICB9XG5cbiAgcmV0dXJuIGNzcyhbXCJncmlkLWF1dG8tcm93czpcIiwgXCI7XCJdLCBwcm9wcy50aGVtZS5nbG9iYWwuc2l6ZVtwcm9wcy5yb3dzUHJvcF0pO1xufTtcblxudmFyIGFyZWFzU3R5bGUgPSBmdW5jdGlvbiBhcmVhc1N0eWxlKHByb3BzKSB7XG4gIC8vIHRyYW5zbGF0ZSBhcmVhcyBvYmplY3RzIGludG8gZ3JpZC10ZW1wbGF0ZS1hcmVhcyBzeW50YXhcbiAgaWYgKCFBcnJheS5pc0FycmF5KHByb3BzLnJvd3NQcm9wKSB8fCAhQXJyYXkuaXNBcnJheShwcm9wcy5jb2x1bW5zKSkge1xuICAgIGNvbnNvbGUud2FybignR3JpZCBgYXJlYXNgIHJlcXVpcmVzIGByb3dzYCBhbmQgYGNvbHVtbnNgIHRvIGJlIGFycmF5cy4nKTtcbiAgfVxuXG4gIGlmIChBcnJheS5pc0FycmF5KHByb3BzLmFyZWFzKSAmJiBwcm9wcy5hcmVhcy5ldmVyeShmdW5jdGlvbiAoYXJlYSkge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KGFyZWEpO1xuICB9KSkge1xuICAgIHJldHVybiBcImdyaWQtdGVtcGxhdGUtYXJlYXM6IFwiICsgcHJvcHMuYXJlYXMubWFwKGZ1bmN0aW9uIChhcmVhKSB7XG4gICAgICByZXR1cm4gXCJcXFwiXCIgKyBhcmVhLmpvaW4oJyAnKSArIFwiXFxcIlwiO1xuICAgIH0pLmpvaW4oJyAnKSArIFwiO1wiO1xuICB9XG5cbiAgdmFyIGNlbGxzID0gcHJvcHMucm93c1Byb3AubWFwKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gcHJvcHMuY29sdW1ucy5tYXAoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuICcuJztcbiAgICB9KTtcbiAgfSk7XG4gIHByb3BzLmFyZWFzLmZvckVhY2goZnVuY3Rpb24gKGFyZWEpIHtcbiAgICBmb3IgKHZhciByb3cgPSBhcmVhLnN0YXJ0WzFdOyByb3cgPD0gYXJlYS5lbmRbMV07IHJvdyArPSAxKSB7XG4gICAgICBmb3IgKHZhciBjb2x1bW4gPSBhcmVhLnN0YXJ0WzBdOyBjb2x1bW4gPD0gYXJlYS5lbmRbMF07IGNvbHVtbiArPSAxKSB7XG4gICAgICAgIGNlbGxzW3Jvd11bY29sdW1uXSA9IGFyZWEubmFtZTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICByZXR1cm4gXCJncmlkLXRlbXBsYXRlLWFyZWFzOiBcIiArIGNlbGxzLm1hcChmdW5jdGlvbiAocikge1xuICAgIHJldHVybiBcIlxcXCJcIiArIHIuam9pbignICcpICsgXCJcXFwiXCI7XG4gIH0pLmpvaW4oJyAnKSArIFwiO1wiO1xufTtcblxudmFyIFN0eWxlZEdyaWQgPSBzdHlsZWQuZGl2LmF0dHJzKGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4ge1xuICAgICdhcmlhLWxhYmVsJzogcHJvcHMuYTExeVRpdGxlUHJvcFxuICB9O1xufSkud2l0aENvbmZpZyh7XG4gIGRpc3BsYXlOYW1lOiBcIlN0eWxlZEdyaWRcIixcbiAgY29tcG9uZW50SWQ6IFwic2MtMXdvZmExbC0wXCJcbn0pKFtcImRpc3BsYXk6Z3JpZDtib3gtc2l6aW5nOmJvcmRlci1ib3g7XCIsIFwiIFwiLCBcIiBcIiwgXCIgXCIsIFwiIFwiLCBcIiBcIiwgXCIgXCIsIFwiIFwiLCBcIiBcIiwgXCIgXCIsIFwiIFwiLCBcIlwiXSwgZ2VuZXJpY1N0eWxlcywgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5maWxsQ29udGFpbmVyICYmIGZpbGxTdHlsZShwcm9wcy5maWxsQ29udGFpbmVyKTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuYWxpZ24gJiYgYWxpZ25TdHlsZTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuYWxpZ25Db250ZW50ICYmIGFsaWduQ29udGVudFN0eWxlO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5hcmVhcyAmJiBhcmVhc1N0eWxlKHByb3BzKTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuY29sdW1ucyAmJiBjb2x1bW5zU3R5bGUocHJvcHMpO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5nYXAgJiYgZ2FwU3R5bGUocHJvcHMpO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5qdXN0aWZ5ICYmIGp1c3RpZnlTdHlsZTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuanVzdGlmeUNvbnRlbnQgJiYganVzdGlmeUNvbnRlbnRTdHlsZTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMucm93c1Byb3AgJiYgcm93c1N0eWxlKHByb3BzKTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUuZ3JpZCAmJiBwcm9wcy50aGVtZS5ncmlkLmV4dGVuZDtcbn0pO1xuU3R5bGVkR3JpZC5kZWZhdWx0UHJvcHMgPSB7fTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihTdHlsZWRHcmlkLmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbmV4cG9ydCB7IFN0eWxlZEdyaWQgfTsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5pbXBvcnQgeyBkZXNjcmliZSwgUHJvcFR5cGVzIH0gZnJvbSAncmVhY3QtZGVzYyc7XG5pbXBvcnQgeyBnZW5lcmljUHJvcHMsIGdldEF2YWlsYWJsZUF0QmFkZ2UsIHRoZW1lRG9jVXRpbHMgfSBmcm9tICcuLi8uLi91dGlscyc7XG52YXIgZml4ZWRTaXplcyA9IFsneHNtYWxsJywgJ3NtYWxsJywgJ21lZGl1bScsICdsYXJnZScsICd4bGFyZ2UnXTtcbnZhciBzaXplcyA9IFsneHNtYWxsJywgJ3NtYWxsJywgJ21lZGl1bScsICdsYXJnZScsICd4bGFyZ2UnLCAnZnVsbCcsICcxLzInLCAnMS8zJywgJzIvMycsICcxLzQnLCAnMi80JywgJzMvNCcsICdmbGV4JywgJ2F1dG8nXTtcbnZhciBlZGdlU2l6ZXMgPSBbJ3h4c21hbGwnLCAneHNtYWxsJywgJ3NtYWxsJywgJ21lZGl1bScsICdsYXJnZScsICd4bGFyZ2UnLCAnbm9uZSddO1xuZXhwb3J0IHZhciBkb2MgPSBmdW5jdGlvbiBkb2MoR3JpZCkge1xuICB2YXIgRG9jdW1lbnRlZEdyaWQgPSBkZXNjcmliZShHcmlkKS5hdmFpbGFibGVBdChnZXRBdmFpbGFibGVBdEJhZGdlKCdHcmlkJykpLmRlc2NyaXB0aW9uKFwiQSBncmlkIHN5c3RlbSBmb3IgbGF5aW5nIG91dCBjb250ZW50LiBUbyB1c2UsIGRlZmluZSB0aGVcXG5yb3dzIGFuZCBjb2x1bW5zLCBjcmVhdGUgYXJlYSBuYW1lcyBmb3IgYWRqYWNlbnQgY2VsbHMsIGFuZCB0aGVuXFxucGxhY2UgQm94IGNvbXBvbmVudHMgaW5zaWRlIHRob3NlIGFyZWFzIHVzaW5nIHRoZSBncmlkQXJlYSBwcm9wZXJ0eS5cXG5TZWUgaHR0cHM6Ly9jc3MtdHJpY2tzLmNvbS9zbmlwcGV0cy9jc3MvY29tcGxldGUtZ3VpZGUtZ3JpZC8uXFxuVGhlIGF2YWlsYWJpbGl0eSBvZiBHcmlkIGNhbiBiZSB0ZXN0ZWQgdmlhIGBHcmlkLmF2YWlsYWJsZWAuIFVzZSB0aGlzXFxudG8gY3JlYXRlIGZhbGxiYWNrIHJlbmRlcmluZyBmb3Igb2xkZXIgYnJvd3NlcnMsIGxpa2UgaWUxMS5cIikudXNhZ2UoXCJpbXBvcnQgeyBHcmlkIH0gZnJvbSAnZ3JvbW1ldCc7XFxuPEdyaWQgLz5cIikuaW50cmluc2ljRWxlbWVudCgnZGl2Jyk7XG4gIERvY3VtZW50ZWRHcmlkLnByb3BUeXBlcyA9IF9leHRlbmRzKHt9LCBnZW5lcmljUHJvcHMsIHtcbiAgICBhbGlnbjogUHJvcFR5cGVzLm9uZU9mKFsnc3RhcnQnLCAnY2VudGVyJywgJ2VuZCcsICdzdHJldGNoJ10pLmRlc2NyaXB0aW9uKFwiSG93IHRvIGFsaWduIHRoZSBpbmRpdmlkdWFsIGl0ZW1zIGluc2lkZSB0aGUgZ3JpZCB3aGVuIHRoZXJlIGlzIGV4dHJhXFxuc3BhY2UgaW4gdGhlIGNvbHVtbiBheGlzLlwiKS5kZWZhdWx0VmFsdWUoJ3N0cmV0Y2gnKSxcbiAgICBhbGlnbkNvbnRlbnQ6IFByb3BUeXBlcy5vbmVPZihbJ3N0YXJ0JywgJ2NlbnRlcicsICdlbmQnLCAnYmV0d2VlbicsICdhcm91bmQnLCAnc3RyZXRjaCddKS5kZXNjcmlwdGlvbignSG93IHRvIGFsaWduIHRoZSBjb250ZW50cyBhbG9uZyB0aGUgY29sdW1uIGF4aXMuJyksXG4gICAgYXJlYXM6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICBuYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgc3RhcnQ6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5udW1iZXIpLFxuICAgICAgZW5kOiBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMubnVtYmVyKVxuICAgIH0pKSwgUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLnN0cmluZykpXSkuZGVzY3JpcHRpb24oXCJHcmlkIGFyZWFzLlxcbiAgICAgIEVpdGhlciBhcmVhIG5hbWVzIGFuZCBjb2x1bW4scm93IGNvb3JkaW5hdGVzLlxcbiAgICAgIE9yLCBhbiBhcnJheSBvZiBzdHJpbmcgYXJyYXlzIHRoYXQgc3BlY2lmeSBuYW1lZCBncmlkIGFyZWFzLlwiKSxcbiAgICBjb2x1bW5zOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2Yoc2l6ZXMpLCBQcm9wVHlwZXMuc3RyaW5nXSkpLCBQcm9wVHlwZXMub25lT2Yoc2l6ZXMpLCBQcm9wVHlwZXMuc3RyaW5nXSkpLCBQcm9wVHlwZXMub25lT2YoZml4ZWRTaXplcyksIFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICBjb3VudDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFsnZml0JywgJ2ZpbGwnXSksIFByb3BUeXBlcy5udW1iZXJdKSxcbiAgICAgIHNpemU6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihmaXhlZFNpemVzKSwgUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm9uZU9mKHNpemVzKSksIFByb3BUeXBlcy5zdHJpbmddKVxuICAgIH0pLCBQcm9wVHlwZXMuc3RyaW5nXSkuZGVzY3JpcHRpb24oXCJDb2x1bW4gc2l6ZXMuXFxuICAgICAgSWYgYW4gYXJyYXkgdmFsdWUgaXMgYW4gYXJyYXksIHRoZSBpbm5lciBhcnJheSBpbmRpY2F0ZXMgdGhlXFxuICAgICAgbWluaW11bSBhbmQgbWF4aW11bSBzaXplcyBmb3IgdGhlIGNvbHVtbi5cXG4gICAgICBTcGVjaWZ5aW5nIGEgc2luZ2xlIHN0cmluZyB3aWxsIHJlcGVhdCBtdWx0aXBsZSBjb2x1bW5zXFxuICAgICAgb2YgdGhhdCBzaXplLCBhcyBsb25nIGFzIHRoZXJlIGlzIHJvb20gZm9yIG1vcmUuXFxuICAgICAgU3BlY2lmeWluZyBhbiBvYmplY3QgYWxsb3dzIGluZGljYXRpbmcgaG93IHRoZSBjb2x1bW5zXFxuICAgICAgc3RyZXRjaCB0byBmaXQgdGhlIGF2YWlsYWJsZSBzcGFjZS5cIiksXG4gICAgZmlsbDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFsnaG9yaXpvbnRhbCcsICd2ZXJ0aWNhbCddKSwgUHJvcFR5cGVzLmJvb2xdKS5kZXNjcmlwdGlvbignV2hldGhlciB0aGUgd2lkdGggYW5kL29yIGhlaWdodCBzaG91bGQgZmlsbCB0aGUgY29udGFpbmVyLicpLFxuICAgIGdhcDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKGVkZ2VTaXplcyksIFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICByb3c6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihlZGdlU2l6ZXMpLCBQcm9wVHlwZXMuc3RyaW5nXSksXG4gICAgICBjb2x1bW46IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihlZGdlU2l6ZXMpLCBQcm9wVHlwZXMuc3RyaW5nXSlcbiAgICB9KSwgUHJvcFR5cGVzLnN0cmluZ10pLmRlc2NyaXB0aW9uKCdHYXAgc2l6ZXMgYmV0d2VlbiByb3dzIGFuZC9vciBjb2x1bW5zLicpLFxuICAgIGp1c3RpZnk6IFByb3BUeXBlcy5vbmVPZihbJ3N0YXJ0JywgJ2NlbnRlcicsICdlbmQnLCAnc3RyZXRjaCddKS5kZXNjcmlwdGlvbihcIkhvdyB0byBhbGlnbiB0aGUgaW5kaXZpZHVhbCBpdGVtcyBpbnNpZGUgdGhlIGdyaWQgd2hlbiB0aGVyZSBpcyBleHRyYVxcbnNwYWNlIGluIHRoZSByb3cgYXhpcy5cIikuZGVmYXVsdFZhbHVlKCdzdHJldGNoJyksXG4gICAganVzdGlmeUNvbnRlbnQ6IFByb3BUeXBlcy5vbmVPZihbJ3N0YXJ0JywgJ2NlbnRlcicsICdlbmQnLCAnYmV0d2VlbicsICdhcm91bmQnLCAnc3RyZXRjaCddKS5kZXNjcmlwdGlvbignSG93IHRvIGFsaWduIHRoZSBjb250ZW50cyBhbG9uZyB0aGUgcm93IGF4aXMuJyksXG4gICAgcm93czogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKHNpemVzKSwgUHJvcFR5cGVzLnN0cmluZ10pKSwgUHJvcFR5cGVzLm9uZU9mKHNpemVzKSwgUHJvcFR5cGVzLnN0cmluZ10pKSwgUHJvcFR5cGVzLm9uZU9mKGZpeGVkU2l6ZXMpLCBQcm9wVHlwZXMuc3RyaW5nXSkuZGVzY3JpcHRpb24oXCJSb3cgc2l6ZXMuXFxuICAgICAgSWYgYW4gYXJyYXkgdmFsdWUgaXMgYW4gYXJyYXksIHRoZSBpbm5lciBhcnJheSBpbmRpY2F0ZXMgdGhlXFxuICAgICAgbWluaW11bSBhbmQgbWF4aW11bSBzaXplcyBmb3IgdGhlIHJvdy5cXG4gICAgICBTcGVjaWZ5aW5nIGEgc2luZ2xlIHN0cmluZyB3aWxsIGNhdXNlIGF1dG9tYXRpY2FsbHkgYWRkZWQgcm93cyB0byBiZVxcbiAgICAgIHRoZSBzcGVjaWZpZWQgc2l6ZS5cIiksXG4gICAgdGFnOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMuZnVuY10pLmRlc2NyaXB0aW9uKFwiVGhlIERPTSB0YWcgdG8gdXNlIGZvciB0aGUgZWxlbWVudC4gTk9URTogVGhpcyBpcyBkZXByZWNhdGVkXFxuICAgICAgaW4gZmF2b3Igb2YgaW5kaWNhdGluZyB0aGUgRE9NIHRhZyB2aWEgdGhlICdhcycgcHJvcGVydHkuXCIpLFxuICAgIGFzOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMuZnVuY10pLmRlc2NyaXB0aW9uKCdUaGUgRE9NIHRhZyBvciByZWFjdCBjb21wb25lbnQgdG8gdXNlIGZvciB0aGUgZWxlbWVudC4nKS5kZWZhdWx0VmFsdWUoJ2RpdicpXG4gIH0pO1xuICByZXR1cm4gRG9jdW1lbnRlZEdyaWQ7XG59O1xuZXhwb3J0IHZhciB0aGVtZURvYyA9IF9leHRlbmRzKHtcbiAgJ2dsb2JhbC5zaXplJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIHBvc3NpYmxlIHNpemVzIGZvciByb3cgYW5kIGNvbHVtbi4nLFxuICAgIHR5cGU6ICdvYmplY3QnLFxuICAgIGRlZmF1bHRWYWx1ZTogXCJ7XFxuICAgICAgeHhzbWFsbDogJzQ4cHgnLFxcbiAgICAgIHhzbWFsbDogJzk2cHgnLFxcbiAgICAgIHNtYWxsOiAnMTkycHgnLFxcbiAgICAgIG1lZGl1bTogJzM4NHB4JyxcXG4gICAgICBsYXJnZTogJzc2OHB4JyxcXG4gICAgICB4bGFyZ2U6ICcxMTUycHgnLFxcbiAgICAgIHh4bGFyZ2U6ICcxNTM2cHgnLFxcbiAgICAgIGZ1bGw6ICcxMDAlJyxcXG4gICAgfVwiXG4gIH0sXG4gICdncmlkLmV4dGVuZCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ0FueSBhZGRpdGlvbmFsIHN0eWxlIGZvciB0aGUgR3JpZC4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCAocHJvcHMpID0+IHt9JyxcbiAgICBkZWZhdWx0VmFsdWU6IHVuZGVmaW5lZFxuICB9XG59LCB0aGVtZURvY1V0aWxzLmVkZ2VTdHlsZSgnVGhlIHBvc3NpYmxlIHNpemVzIGZvciB0aGUgZ3JpZCBtYXJnaW4gYW5kIGdhcC4nKSk7IiwiZXhwb3J0IHsgR3JpZCB9IGZyb20gJy4vR3JpZCc7IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzTG9vc2Uoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzLnByb3RvdHlwZSk7IHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzOyBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbmZ1bmN0aW9uIF90ZW1wbGF0ZU9iamVjdCgpIHtcbiAgdmFyIGRhdGEgPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsTG9vc2UoW1wiXFxuICBib2R5IHsgbWFyZ2luOiAwOyB9XFxuXCJdKTtcblxuICBfdGVtcGxhdGVPYmplY3QgPSBmdW5jdGlvbiBfdGVtcGxhdGVPYmplY3QoKSB7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH07XG5cbiAgcmV0dXJuIGRhdGE7XG59XG5cbmZ1bmN0aW9uIF90YWdnZWRUZW1wbGF0ZUxpdGVyYWxMb29zZShzdHJpbmdzLCByYXcpIHsgaWYgKCFyYXcpIHsgcmF3ID0gc3RyaW5ncy5zbGljZSgwKTsgfSBzdHJpbmdzLnJhdyA9IHJhdzsgcmV0dXJuIHN0cmluZ3M7IH1cblxuaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNyZWF0ZUdsb2JhbFN0eWxlIH0gZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgUmVzcG9uc2l2ZUNvbnRleHQsIFRoZW1lQ29udGV4dCB9IGZyb20gJy4uLy4uL2NvbnRleHRzJztcbmltcG9ydCB7IGNvbG9ySXNEYXJrLCBkZWVwTWVyZ2UsIGdldEJyZWFrcG9pbnQsIGdldERldmljZUJyZWFrcG9pbnQgfSBmcm9tICcuLi8uLi91dGlscyc7XG5pbXBvcnQgeyBiYXNlIGFzIGJhc2VUaGVtZSB9IGZyb20gJy4uLy4uL3RoZW1lcyc7XG5pbXBvcnQgeyBTdHlsZWRHcm9tbWV0IH0gZnJvbSAnLi9TdHlsZWRHcm9tbWV0JztcbnZhciBGdWxsR2xvYmFsU3R5bGUgPSBjcmVhdGVHbG9iYWxTdHlsZShfdGVtcGxhdGVPYmplY3QoKSk7XG5cbnZhciBHcm9tbWV0ID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKEdyb21tZXQsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIEdyb21tZXQoKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIF90aGlzID0gX0NvbXBvbmVudC5jYWxsLmFwcGx5KF9Db21wb25lbnQsIFt0aGlzXS5jb25jYXQoYXJncykpIHx8IHRoaXM7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwic3RhdGVcIiwge30pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIm9uUmVzaXplXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdGhpcyRzdGF0ZSA9IF90aGlzLnN0YXRlLFxuICAgICAgICAgIHRoZW1lID0gX3RoaXMkc3RhdGUudGhlbWUsXG4gICAgICAgICAgcmVzcG9uc2l2ZSA9IF90aGlzJHN0YXRlLnJlc3BvbnNpdmU7XG4gICAgICB2YXIgYnJlYWtwb2ludCA9IGdldEJyZWFrcG9pbnQod2luZG93LmlubmVyV2lkdGgsIHRoZW1lKTtcblxuICAgICAgaWYgKGJyZWFrcG9pbnQgIT09IHJlc3BvbnNpdmUpIHtcbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIHJlc3BvbnNpdmU6IGJyZWFrcG9pbnRcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBHcm9tbWV0LmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9IGZ1bmN0aW9uIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhuZXh0UHJvcHMsIHByZXZTdGF0ZSkge1xuICAgIHZhciBfbmV4dFByb3BzJHRoZW1lID0gbmV4dFByb3BzLnRoZW1lLFxuICAgICAgICB0aGVtZSA9IF9uZXh0UHJvcHMkdGhlbWUgPT09IHZvaWQgMCA/IHt9IDogX25leHRQcm9wcyR0aGVtZSxcbiAgICAgICAgdGhlbWVNb2RlID0gbmV4dFByb3BzLnRoZW1lTW9kZTtcbiAgICB2YXIgc3RhdGVUaGVtZSA9IHByZXZTdGF0ZS50aGVtZSxcbiAgICAgICAgdGhlbWVQcm9wID0gcHJldlN0YXRlLnRoZW1lUHJvcCxcbiAgICAgICAgdGhlbWVNb2RlUHJvcCA9IHByZXZTdGF0ZS50aGVtZU1vZGVQcm9wO1xuICAgIHZhciBuZXh0VGhlbWUgPSBkZWVwTWVyZ2UoYmFzZVRoZW1lLCB0aGVtZSk7XG5cbiAgICBpZiAoIXN0YXRlVGhlbWUgfHwgdGhlbWUgIT09IHRoZW1lUHJvcCB8fCB0aGVtZU1vZGUgIT09IHRoZW1lTW9kZVByb3ApIHtcbiAgICAgIHZhciBiYWNrZ3JvdW5kID0gbmV4dFRoZW1lLmdsb2JhbC5jb2xvcnMuYmFja2dyb3VuZDsgLy8gRGV0ZXJtaW5lIHdoZXRoZXIgdG8gc3RhcnQgaW4gZGFyayBvciBsaWdodCBtb2RlLlxuXG4gICAgICBpZiAodHlwZW9mIGJhY2tncm91bmQgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIC8vIGJhY2tncm91bmQgaXMgYW4gb2JqZWN0LCB1c2UgdGhlbWVNb2RlLCB0aGVtZSBkZWZhdWx0XG4gICAgICAgIC8vIG9yIGZpcnN0IGtleVxuICAgICAgICB2YXIgY29sb3IgPSBiYWNrZ3JvdW5kW3RoZW1lTW9kZSB8fCBuZXh0VGhlbWUuZGVmYXVsdE1vZGUgfHwgT2JqZWN0LmtleXMoYmFja2dyb3VuZClbMF1dO1xuICAgICAgICBuZXh0VGhlbWUuZGFyayA9IGNvbG9yID8gY29sb3JJc0RhcmsoY29sb3IpIDogZmFsc2U7XG4gICAgICB9IGVsc2UgaWYgKG5leHRUaGVtZS5kYXJrID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbmV4dFRoZW1lLmRhcmsgPSBiYWNrZ3JvdW5kICYmIGNvbG9ySXNEYXJrKGJhY2tncm91bmQpIHx8IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICB0aGVtZTogbmV4dFRoZW1lLFxuICAgICAgICB0aGVtZVByb3A6IHRoZW1lLFxuICAgICAgICB0aGVtZU1vZGVQcm9wOiB0aGVtZU1vZGVcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgdmFyIF9wcm90byA9IEdyb21tZXQucHJvdG90eXBlO1xuXG4gIF9wcm90by5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLm9uUmVzaXplKTtcbiAgICB0aGlzLm9uUmVzaXplKCk7XG4gIH07XG5cbiAgX3Byb3RvLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMub25SZXNpemUpO1xuICB9O1xuXG4gIF9wcm90by5kZXZpY2VSZXNwb25zaXZlID0gZnVuY3Rpb24gZGV2aWNlUmVzcG9uc2l2ZSgpIHtcbiAgICB2YXIgdXNlckFnZW50ID0gdGhpcy5wcm9wcy51c2VyQWdlbnQ7XG4gICAgdmFyIHRoZW1lID0gdGhpcy5zdGF0ZS50aGVtZTtcbiAgICAvKlxuICAgICAqIFJlZ2V4ZXMgcHJvdmlkZWQgZm9yIG1vYmlsZSBhbmQgdGFibGV0IGRldGVjdGlvbiBhcmUgbWVhbnQgdG8gcmVwbGFjZVxuICAgICAqIGEgZnVsbC1mZWF0dXJlZCBzcGVjaWZpYyBsaWJyYXJ5IGR1ZSB0byBjb250cmlidXRpbmcgYSBjb25zaWRlcmFibGUgc2l6ZVxuICAgICAqIGludG8gdGhlIGJ1bmRsZS5cbiAgICAgKlxuICAgICAqIFVzZXIgYWdlbnRzIGZvdW5kIGh0dHBzOi8vZGV2aWNlYXRsYXMuY29tL2Jsb2cvbGlzdC1vZi11c2VyLWFnZW50LXN0cmluZ3NcbiAgICAgKi9cblxuICAgIGlmICh1c2VyQWdlbnQpIHtcbiAgICAgIGlmICgvKHRhYmxldHxpcGFkfHBsYXlib29rfHNpbGspfChhbmRyb2lkKD8hLiptb2JpbGUpKS9pLnRlc3QodXNlckFnZW50KSkge1xuICAgICAgICByZXR1cm4gZ2V0RGV2aWNlQnJlYWtwb2ludCgndGFibGV0JywgdGhlbWUpO1xuICAgICAgfVxuXG4gICAgICBpZiAoL01vYmlsZXxpUGhvbmV8QW5kcm9pZC8udGVzdCh1c2VyQWdlbnQpKSB7XG4gICAgICAgIHJldHVybiBnZXREZXZpY2VCcmVha3BvaW50KCdwaG9uZScsIHRoZW1lKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGdldERldmljZUJyZWFrcG9pbnQoJ2NvbXB1dGVyJywgdGhlbWUpO1xuICAgIH1cblxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH07XG5cbiAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgX3RoaXMkcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICBjaGlsZHJlbiA9IF90aGlzJHByb3BzLmNoaWxkcmVuLFxuICAgICAgICBmdWxsID0gX3RoaXMkcHJvcHMuZnVsbCxcbiAgICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF90aGlzJHByb3BzLCBbXCJjaGlsZHJlblwiLCBcImZ1bGxcIl0pO1xuXG4gICAgZGVsZXRlIHJlc3QudGhlbWU7XG4gICAgdmFyIF90aGlzJHN0YXRlMiA9IHRoaXMuc3RhdGUsXG4gICAgICAgIHRoZW1lID0gX3RoaXMkc3RhdGUyLnRoZW1lLFxuICAgICAgICBzdGF0ZVJlc3BvbnNpdmUgPSBfdGhpcyRzdGF0ZTIucmVzcG9uc2l2ZTsgLy8gVmFsdWUgZnJvbSBzdGF0ZSBzaG91bGQgYmUgY29ycmVjdCBvbmNlIHdlIHJlc2l6ZVxuICAgIC8vIE9uIGZpcnN0IHJlbmRlciB3ZSB0cnkgdG8gZ3Vlc3Mgb3RoZXJ3aXNlIHNldCB0aGUgZGVmYXVsdCBhcyBhIHRhYmxldFxuXG4gICAgdmFyIHJlc3BvbnNpdmUgPSBzdGF0ZVJlc3BvbnNpdmUgfHwgdGhpcy5kZXZpY2VSZXNwb25zaXZlKCkgfHwgdGhlbWUuZ2xvYmFsLmRldmljZUJyZWFrcG9pbnRzLnRhYmxldDtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChUaGVtZUNvbnRleHQuUHJvdmlkZXIsIHtcbiAgICAgIHZhbHVlOiB0aGVtZVxuICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVzcG9uc2l2ZUNvbnRleHQuUHJvdmlkZXIsIHtcbiAgICAgIHZhbHVlOiByZXNwb25zaXZlXG4gICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWRHcm9tbWV0LCBfZXh0ZW5kcyh7XG4gICAgICBmdWxsOiBmdWxsXG4gICAgfSwgcmVzdCksIGNoaWxkcmVuKSwgZnVsbCAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KEZ1bGxHbG9iYWxTdHlsZSwgbnVsbCkpKTtcbiAgfTtcblxuICByZXR1cm4gR3JvbW1ldDtcbn0oQ29tcG9uZW50KTtcblxuX2RlZmluZVByb3BlcnR5KEdyb21tZXQsIFwiZGlzcGxheU5hbWVcIiwgJ0dyb21tZXQnKTtcblxudmFyIEdyb21tZXREb2M7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBnbG9iYWwtcmVxdWlyZVxuICBHcm9tbWV0RG9jID0gcmVxdWlyZSgnLi9kb2MnKS5kb2MoR3JvbW1ldCk7XG59XG5cbnZhciBHcm9tbWV0V3JhcHBlciA9IEdyb21tZXREb2MgfHwgR3JvbW1ldDtcbmV4cG9ydCB7IEdyb21tZXRXcmFwcGVyIGFzIEdyb21tZXQgfTsiLCJpbXBvcnQgc3R5bGVkLCB7IGNzcyB9IGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCB7IGJhc2VTdHlsZSB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmltcG9ydCB7IGRlZmF1bHRQcm9wcyB9IGZyb20gJy4uLy4uL2RlZmF1bHQtcHJvcHMnO1xudmFyIGZ1bGxTdHlsZSA9IGNzcyhbXCJ3aWR0aDoxMDB2dztoZWlnaHQ6MTAwdmg7b3ZlcmZsb3c6YXV0bztcIl0pO1xudmFyIFN0eWxlZEdyb21tZXQgPSBzdHlsZWQuZGl2LndpdGhDb25maWcoe1xuICBkaXNwbGF5TmFtZTogXCJTdHlsZWRHcm9tbWV0XCIsXG4gIGNvbXBvbmVudElkOiBcInNjLTE5bGtrejctMFwiXG59KShbXCJcIiwgXCIgXCIsIFwiIFwiLCBcIiBcIiwgXCIgXCIsIFwiXCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuICFwcm9wcy5wbGFpbiAmJiBiYXNlU3R5bGU7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLmZ1bGwgJiYgZnVsbFN0eWxlO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5nbG9iYWwuZm9udC5mYWNlO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5ncm9tbWV0LmV4dGVuZDtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuY3NzVmFycyAmJiBPYmplY3Qua2V5cyhwcm9wcy50aGVtZS5nbG9iYWwuY29sb3JzKS5maWx0ZXIoZnVuY3Rpb24gKGspIHtcbiAgICByZXR1cm4gdHlwZW9mIHByb3BzLnRoZW1lLmdsb2JhbC5jb2xvcnNba10gPT09ICdzdHJpbmcnO1xuICB9KS5tYXAoZnVuY3Rpb24gKGspIHtcbiAgICByZXR1cm4gXCItLVwiICsgayArIFwiOiBcIiArIHByb3BzLnRoZW1lLmdsb2JhbC5jb2xvcnNba10gKyBcIjtcIjtcbiAgfSkuam9pbignXFxuJyk7XG59KTtcblN0eWxlZEdyb21tZXQuZGVmYXVsdFByb3BzID0ge307XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoU3R5bGVkR3JvbW1ldC5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG5leHBvcnQgeyBTdHlsZWRHcm9tbWV0IH07IiwiaW1wb3J0IHsgZGVzY3JpYmUsIFByb3BUeXBlcyB9IGZyb20gJ3JlYWN0LWRlc2MnO1xuaW1wb3J0IHsgZ2V0QXZhaWxhYmxlQXRCYWRnZSB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmV4cG9ydCB2YXIgZG9jID0gZnVuY3Rpb24gZG9jKEdyb21tZXQpIHtcbiAgdmFyIERvY3VtZW50ZWRHcm9tbWV0ID0gZGVzY3JpYmUoR3JvbW1ldCkuYXZhaWxhYmxlQXQoZ2V0QXZhaWxhYmxlQXRCYWRnZSgnR3JvbW1ldCcpKS5kZXNjcmlwdGlvbignVGhlIHRvcCBsZXZlbCBHcm9tbWV0IGNvbnRhaW5lci4nKS51c2FnZShcImltcG9ydCB7IEdyb21tZXQgfSBmcm9tICdncm9tbWV0JztcXG48R3JvbW1ldD4uLi48L0dyb21tZXQ+XCIpLmludHJpbnNpY0VsZW1lbnQoJ2RpdicpO1xuICBEb2N1bWVudGVkR3JvbW1ldC5wcm9wVHlwZXMgPSB7XG4gICAgZnVsbDogUHJvcFR5cGVzLmJvb2wuZGVzY3JpcHRpb24oJ1doZXRoZXIgdG8gdGFrZSB0aGUgd2hvbGUgdmlld3BvcnQuJykuZGVmYXVsdFZhbHVlKGZhbHNlKSxcbiAgICBwbGFpbjogUHJvcFR5cGVzLmJvb2wuZGVzY3JpcHRpb24oXCJXaGV0aGVyIG9yIG5vdCBHcm9tbWV0IHNob3VsZCBhcHBseSBhIGdsb2JhbCBmb250LWZhbWlseSwgZm9udC1zaXplLCBcXG4gICAgICAgIGFuZCBsaW5lLWhlaWdodC5cIikuZGVmYXVsdFZhbHVlKGZhbHNlKSxcbiAgICBjc3NWYXJzOiBQcm9wVHlwZXMuYm9vbC5kZXNjcmlwdGlvbignV2hldGhlciB0byBleHBvc2UgdGhlIGNzcyB2YXJpYWJsZXMuJykuZGVmYXVsdFZhbHVlKGZhbHNlKSxcbiAgICB0aGVtZTogUHJvcFR5cGVzLm9iamVjdC5kZXNjcmlwdGlvbignQ3VzdG9tIHN0eWxlcyBmb3IgR3JvbW1ldCBhcHAgY29tcG9uZW50LicpLFxuICAgIHRoZW1lTW9kZTogUHJvcFR5cGVzLm9uZU9mKFsnZGFyaycsICdsaWdodCddKS5kZXNjcmlwdGlvbihcIkRhcmsgdnMuIGxpZ2h0IHRoZW1lIHZhcmlhdGlvbi4gRGVmYXVsdCBpcyB1bnNwZWNpZmllZCBhbmQgbGVmdCB0b1xcbiAgICAgIHRoZW1lLlwiKSxcbiAgICB1c2VyQWdlbnQ6IFByb3BUeXBlcy5zdHJpbmcuZGVzY3JpcHRpb24oXCJVc2VyIGFnZW50IHVzZWQgdG8gZGV0ZWN0IHRoZSBkZXZpY2Ugd2lkdGggZm9yIHNldHRpbmcgdGhlIGluaXRpYWwgXFxuICAgICAgYnJlYWtwb2ludC5cIilcbiAgfTtcbiAgcmV0dXJuIERvY3VtZW50ZWRHcm9tbWV0O1xufTtcbmV4cG9ydCB2YXIgdGhlbWVEb2MgPSB7XG4gICdncm9tbWV0LmV4dGVuZCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ0FueSBhZGRpdGlvbmFsIHN0eWxlIGZvciBHcm9tbWV0LicsXG4gICAgdHlwZTogJ3N0cmluZyB8IChwcm9wcykgPT4ge30nLFxuICAgIGRlZmF1bHRWYWx1ZTogdW5kZWZpbmVkXG4gIH0sXG4gICdnbG9iYWwuZm9udC5mYWNlJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnQ3VzdG9tIGZvbnQgZmFjZSBkZWNsYXJhdGlvbicsXG4gICAgdHlwZTogJ3N0cmluZyB8IChwcm9wcykgPT4ge30nLFxuICAgIGRlZmF1bHRWYWx1ZTogdW5kZWZpbmVkXG4gIH1cbn07IiwiZXhwb3J0IHsgR3JvbW1ldCB9IGZyb20gJy4vR3JvbW1ldCc7IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEJveCB9IGZyb20gJy4uL0JveCc7XG5cbnZhciBIZWFkZXIgPSBmdW5jdGlvbiBIZWFkZXIoX3JlZikge1xuICB2YXIgcmVzdCA9IF9leHRlbmRzKHt9LCBfcmVmKTtcblxuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChCb3gsIF9leHRlbmRzKHtcbiAgICBhbGlnbjogXCJjZW50ZXJcIixcbiAgICBhczogXCJoZWFkZXJcIixcbiAgICBkaXJlY3Rpb246IFwicm93XCIsXG4gICAgZmxleDogZmFsc2UsXG4gICAganVzdGlmeTogXCJiZXR3ZWVuXCIsXG4gICAgZ2FwOiBcIm1lZGl1bVwiXG4gIH0sIHJlc3QpKTtcbn07XG5cbnZhciBIZWFkZXJEb2M7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBnbG9iYWwtcmVxdWlyZVxuICBIZWFkZXJEb2MgPSByZXF1aXJlKCcuL2RvYycpLmRvYyhIZWFkZXIpO1xufVxuXG52YXIgSGVhZGVyV3JhcHBlciA9IEhlYWRlckRvYyB8fCBIZWFkZXI7XG5leHBvcnQgeyBIZWFkZXJXcmFwcGVyIGFzIEhlYWRlciB9OyIsImltcG9ydCB7IGRlc2NyaWJlIH0gZnJvbSAncmVhY3QtZGVzYyc7XG5pbXBvcnQgeyBnZXRBdmFpbGFibGVBdEJhZGdlIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuZXhwb3J0IHZhciBkb2MgPSBmdW5jdGlvbiBkb2MoSGVhZGVyKSB7XG4gIHZhciBEb2N1bWVudGVkSGVhZGVyID0gZGVzY3JpYmUoSGVhZGVyKS5hdmFpbGFibGVBdChnZXRBdmFpbGFibGVBdEJhZGdlKCdIZWFkZXInKSkuZGVzY3JpcHRpb24oJ0lzIGEgQm94IGNvbnRhaW5lciBmb3IgaW50cm9kdWN0b3J5IGNvbnRlbnQnKS51c2FnZShcImltcG9ydCB7IEhlYWRlciB9IGZyb20gJ2dyb21tZXQnO1xcbjxIZWFkZXIgLz5cIik7XG4gIHJldHVybiBEb2N1bWVudGVkSGVhZGVyO1xufTsiLCJleHBvcnQgeyBIZWFkZXIgfSBmcm9tICcuL0hlYWRlcic7IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgU3R5bGVkSGVhZGluZyB9IGZyb20gJy4vU3R5bGVkSGVhZGluZyc7XG5cbnZhciBIZWFkaW5nID0gZnVuY3Rpb24gSGVhZGluZyhwcm9wcykge1xuICB2YXIgY29sb3IgPSBwcm9wcy5jb2xvcixcbiAgICAgIGxldmVsID0gcHJvcHMubGV2ZWwsXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UocHJvcHMsIFtcImNvbG9yXCIsIFwibGV2ZWxcIl0pOyAvLyBlbmZvcmNlIGxldmVsIHRvIGJlIGEgbnVtYmVyXG5cblxuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWRIZWFkaW5nLCBfZXh0ZW5kcyh7XG4gICAgYXM6IFwiaFwiICsgbGV2ZWwsXG4gICAgY29sb3JQcm9wOiBjb2xvcixcbiAgICBsZXZlbDogK2xldmVsXG4gIH0sIHJlc3QpKTtcbn07XG5cbkhlYWRpbmcuZGVmYXVsdFByb3BzID0ge1xuICBsZXZlbDogMSxcbiAgcmVzcG9uc2l2ZTogdHJ1ZVxufTtcbnZhciBIZWFkaW5nRG9jO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZ2xvYmFsLXJlcXVpcmVcbiAgSGVhZGluZ0RvYyA9IHJlcXVpcmUoJy4vZG9jJykuZG9jKEhlYWRpbmcpO1xufVxuXG52YXIgSGVhZGluZ1dyYXBwZXIgPSBIZWFkaW5nRG9jIHx8IEhlYWRpbmc7XG5leHBvcnQgeyBIZWFkaW5nV3JhcHBlciBhcyBIZWFkaW5nIH07IiwiaW1wb3J0IHN0eWxlZCwgeyBjc3MgfSBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBicmVha3BvaW50U3R5bGUsIGdlbmVyaWNTdHlsZXMsIG5vcm1hbGl6ZUNvbG9yIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuaW1wb3J0IHsgZGVmYXVsdFByb3BzIH0gZnJvbSAnLi4vLi4vZGVmYXVsdC1wcm9wcyc7XG5cbnZhciBzaXplU3R5bGUgPSBmdW5jdGlvbiBzaXplU3R5bGUocHJvcHMpIHtcbiAgLy8gc2l6ZSBpcyBhIGNvbWJpbmF0aW9uIG9mIHRoZSBsZXZlbCBhbmQgc2l6ZSBwcm9wZXJ0aWVzXG4gIHZhciBzaXplID0gcHJvcHMuc2l6ZSB8fCAnbWVkaXVtJztcbiAgdmFyIGhlYWRpbmdUaGVtZSA9IHByb3BzLnRoZW1lLmhlYWRpbmc7XG4gIHZhciBsZXZlbFN0eWxlID0gaGVhZGluZ1RoZW1lLmxldmVsW3Byb3BzLmxldmVsXTtcblxuICBpZiAobGV2ZWxTdHlsZSkge1xuICAgIHZhciBkYXRhID0gbGV2ZWxTdHlsZVtzaXplXTtcbiAgICB2YXIgc3R5bGVzID0gW2NzcyhbXCJmb250LXNpemU6XCIsIFwiO2xpbmUtaGVpZ2h0OlwiLCBcIjttYXgtd2lkdGg6XCIsIFwiO2ZvbnQtd2VpZ2h0OlwiLCBcIjtcIl0sIGRhdGEgPyBkYXRhLnNpemUgOiBzaXplLCBkYXRhID8gZGF0YS5oZWlnaHQgOiAnbm9ybWFsJywgZGF0YSA/IGRhdGEubWF4V2lkdGggOiBsZXZlbFN0eWxlLm1lZGl1bS5tYXhXaWR0aCwgbGV2ZWxTdHlsZS5mb250LndlaWdodCB8fCBoZWFkaW5nVGhlbWUud2VpZ2h0KV07XG5cbiAgICBpZiAocHJvcHMucmVzcG9uc2l2ZSAmJiBoZWFkaW5nVGhlbWUucmVzcG9uc2l2ZUJyZWFrcG9pbnQpIHtcbiAgICAgIHZhciBicmVha3BvaW50ID0gcHJvcHMudGhlbWUuZ2xvYmFsLmJyZWFrcG9pbnRzW2hlYWRpbmdUaGVtZS5yZXNwb25zaXZlQnJlYWtwb2ludF07XG5cbiAgICAgIGlmIChicmVha3BvaW50KSB7XG4gICAgICAgIHZhciByZXNwb25zaXZlRGF0YSA9IGhlYWRpbmdUaGVtZS5sZXZlbFtNYXRoLm1pbihwcm9wcy5sZXZlbCArIDEsIDQpXVtzaXplXTtcblxuICAgICAgICBpZiAocmVzcG9uc2l2ZURhdGEpIHtcbiAgICAgICAgICBzdHlsZXMucHVzaChicmVha3BvaW50U3R5bGUoYnJlYWtwb2ludCwgXCJcXG4gICAgICAgICAgICBmb250LXNpemU6IFwiICsgcmVzcG9uc2l2ZURhdGEuc2l6ZSArIFwiO1xcbiAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiBcIiArIHJlc3BvbnNpdmVEYXRhLmhlaWdodCArIFwiO1xcbiAgICAgICAgICAgIG1heC13aWR0aDogXCIgKyByZXNwb25zaXZlRGF0YS5tYXhXaWR0aCArIFwiO1xcbiAgICAgICAgICBcIikpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0eWxlcztcbiAgfVxuXG4gIGNvbnNvbGUud2FybihcIkhlYWRpbmcgbGV2ZWwgXCIgKyBwcm9wcy5sZXZlbCArIFwiIGlzIG5vdCBkZWZpbmVkIGluIHlvdXIgdGhlbWUuXCIpO1xuICByZXR1cm4gJyc7XG59O1xuXG52YXIgZm9udEZhbWlseSA9IGZ1bmN0aW9uIGZvbnRGYW1pbHkocHJvcHMpIHtcbiAgdmFyIGZvbnQgPSBwcm9wcy50aGVtZS5oZWFkaW5nLmxldmVsW3Byb3BzLmxldmVsXS5mb250O1xuXG4gIGlmIChmb250ICYmIGZvbnQuZmFtaWx5KSB7XG4gICAgcmV0dXJuIGNzcyhbXCJmb250LWZhbWlseTpcIiwgXCI7XCJdLCBmb250LmZhbWlseSk7XG4gIH1cblxuICByZXR1cm4gcHJvcHMudGhlbWUuaGVhZGluZy5mb250ID8gY3NzKFtcImZvbnQtZmFtaWx5OlwiLCBcIjtcIl0sIHByb3BzLnRoZW1lLmhlYWRpbmcuZm9udC5mYW1pbHkpIDogJyc7XG59O1xuXG52YXIgVEVYVF9BTElHTl9NQVAgPSB7XG4gIGNlbnRlcjogJ2NlbnRlcicsXG4gIGVuZDogJ3JpZ2h0JyxcbiAgc3RhcnQ6ICdsZWZ0J1xufTtcbnZhciB0ZXh0QWxpZ25TdHlsZSA9IGNzcyhbXCJ0ZXh0LWFsaWduOlwiLCBcIjtcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gVEVYVF9BTElHTl9NQVBbcHJvcHMudGV4dEFsaWduXTtcbn0pO1xudmFyIHRydW5jYXRlU3R5bGUgPSBcIlxcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcXG5cIjtcbnZhciBjb2xvclN0eWxlID0gY3NzKFtcImNvbG9yOlwiLCBcIjtcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gbm9ybWFsaXplQ29sb3IocHJvcHMuY29sb3JQcm9wLCBwcm9wcy50aGVtZSk7XG59KTtcbnZhciBTdHlsZWRIZWFkaW5nID0gc3R5bGVkLmgxLndpdGhDb25maWcoe1xuICBkaXNwbGF5TmFtZTogXCJTdHlsZWRIZWFkaW5nXCIsXG4gIGNvbXBvbmVudElkOiBcInNjLTFyZGg0YXctMFwiXG59KShbXCJcIiwgXCIgXCIsIFwiIFwiLCBcIiBcIiwgXCIgXCIsIFwiIFwiLCBcIiBcIiwgXCJcIl0sIGdlbmVyaWNTdHlsZXMsIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gZm9udEZhbWlseShwcm9wcyk7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHNpemVTdHlsZShwcm9wcyk7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRleHRBbGlnbiAmJiB0ZXh0QWxpZ25TdHlsZTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudHJ1bmNhdGUgJiYgdHJ1bmNhdGVTdHlsZTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuY29sb3JQcm9wICYmIGNvbG9yU3R5bGU7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLmhlYWRpbmcgJiYgcHJvcHMudGhlbWUuaGVhZGluZy5leHRlbmQ7XG59KTtcblN0eWxlZEhlYWRpbmcuZGVmYXVsdFByb3BzID0ge307XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoU3R5bGVkSGVhZGluZy5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG5leHBvcnQgeyBTdHlsZWRIZWFkaW5nIH07IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuaW1wb3J0IHsgZGVzY3JpYmUsIFByb3BUeXBlcyB9IGZyb20gJ3JlYWN0LWRlc2MnO1xuaW1wb3J0IHsgY29sb3JQcm9wVHlwZSwgZ2VuZXJpY1Byb3BzLCBnZXRBdmFpbGFibGVBdEJhZGdlLCB0aGVtZURvY1V0aWxzIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuZXhwb3J0IHZhciBkb2MgPSBmdW5jdGlvbiBkb2MoSGVhZGluZykge1xuICB2YXIgRG9jdW1lbnRlZEhlYWRpbmcgPSBkZXNjcmliZShIZWFkaW5nKS5hdmFpbGFibGVBdChnZXRBdmFpbGFibGVBdEJhZGdlKCdIZWFkaW5nJykpLmRlc2NyaXB0aW9uKCdIZWFkaW5nIHRleHQgc3RydWN0dXJlZCBpbiBsZXZlbHMuJykudXNhZ2UoXCJpbXBvcnQgeyBIZWFkaW5nIH0gZnJvbSAnZ3JvbW1ldCc7XFxuPEhlYWRpbmcgLz5cIikuaW50cmluc2ljRWxlbWVudChbJ2gxJywgJ2gyJywgJ2gzJywgJ2g0J10pO1xuICBEb2N1bWVudGVkSGVhZGluZy5wcm9wVHlwZXMgPSBfZXh0ZW5kcyh7fSwgZ2VuZXJpY1Byb3BzLCB7XG4gICAgY29sb3I6IGNvbG9yUHJvcFR5cGUuZGVzY3JpcHRpb24oJ0EgY29sb3IgaWRlbnRpZmllciB0byB1c2UgZm9yIHRoZSB0ZXh0IGNvbG9yLicpLFxuICAgIGxldmVsOiBQcm9wVHlwZXMub25lT2YoWzEsIDIsIDMsIDQsIDUsIDYsICcxJywgJzInLCAnMycsICc0JywgJzUnLCAnNiddKS5kZXNjcmlwdGlvbihcIlRoZSBoZWFkaW5nIGxldmVsLiBJdCBjb3JyZXNwb25kcyB0byB0aGUgbnVtYmVyIGFmdGVyIHRoZSAnSCcgZm9yXFxudGhlIERPTSB0YWcuIFNldCB0aGUgbGV2ZWwgZm9yIHNlbWFudGljIGFjY3VyYWN5IGFuZCBhY2Nlc3NpYmlsaXR5LlxcblRoZSBzaXppbmcgY2FuIGJlIGZ1cnRoZXIgYWRqdXN0ZWQgdXNpbmcgdGhlIHNpemUgcHJvcGVydHkuXCIpLmRlZmF1bHRWYWx1ZSgxKSxcbiAgICByZXNwb25zaXZlOiBQcm9wVHlwZXMuYm9vbC5kZXNjcmlwdGlvbihcIldoZXRoZXIgdGhlIGZvbnQgc2l6ZSBzaG91bGQgYmUgc2NhbGVkIGZvclxcbiAgICAgIG1vYmlsZSBlbnZpcm9ubWVudHMuXCIpLmRlZmF1bHRWYWx1ZSh0cnVlKSxcbiAgICBzaXplOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2YoWydzbWFsbCcsICdtZWRpdW0nLCAnbGFyZ2UnLCAneGxhcmdlJ10pLCBQcm9wVHlwZXMuc3RyaW5nXSkuZGVzY3JpcHRpb24oXCJUaGUgZm9udCBzaXplIGlzIHByaW1hcmlseSBkcml2ZW4gYnkgdGhlIGNob3NlbiB0YWcuIEJ1dCwgaXQgY2FuXFxuYmUgYWRqdXN0ZWQgdmlhIHRoaXMgc2l6ZSBwcm9wZXJ0eS4gVGhlIHRhZyBzaG91bGQgYmUgc2V0IGZvciBzZW1hbnRpY1xcbmNvcnJlY3RuZXNzIGFuZCBhY2Nlc3NpYmlsaXR5LiBUaGlzIHNpemUgcHJvcGVydHkgYWxsb3dzIGZvciBzdHlsaXN0aWNcXG5hZGp1c3RtZW50cy5cIikuZGVmYXVsdFZhbHVlKCdtZWRpdW0nKSxcbiAgICB0ZXh0QWxpZ246IFByb3BUeXBlcy5vbmVPZihbJ3N0YXJ0JywgJ2NlbnRlcicsICdlbmQnXSkuZGVzY3JpcHRpb24oJ0hvdyB0byBhbGlnbiB0aGUgdGV4dCBpbnNpZGUgdGhlIGhlYWRpbmcuJykuZGVmYXVsdFZhbHVlKCdzdGFydCcpLFxuICAgIHRydW5jYXRlOiBQcm9wVHlwZXMuYm9vbC5kZXNjcmlwdGlvbihcIlJlc3RyaWN0IHRoZSB0ZXh0IHRvIGEgc2luZ2xlIGxpbmUgYW5kIHRydW5jYXRlIHdpdGggZWxsaXBzaXMgaWYgaXRcXG5pcyB0b28gbG9uZyB0byBhbGwgZml0LlwiKS5kZWZhdWx0VmFsdWUoZmFsc2UpXG4gIH0pO1xuICByZXR1cm4gRG9jdW1lbnRlZEhlYWRpbmc7XG59O1xuZXhwb3J0IHZhciB0aGVtZURvYyA9IF9leHRlbmRzKHt9LCB0aGVtZURvY1V0aWxzLmJyZWFrcG9pbnRTdHlsZSgnVGhlIHBvc3NpYmxlIGJyZWFrcG9pbnRzIHRoYXQgY291bGQgYWZmZWN0IGZvbnQtc2l6ZSBhbmQgbWF4LXdpZHRoJyksIHt9LCB0aGVtZURvY1V0aWxzLmVkZ2VTdHlsZSgnVGhlIHBvc3NpYmxlIHNpemVzIGZvciBtYXJnaW4uJyksIHtcbiAgJ2hlYWRpbmcuZXh0ZW5kJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnQW55IGFkZGl0aW9uYWwgc3R5bGUgZm9yIEhlYWRpbmcuJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgKHByb3BzKSA9PiB7fScsXG4gICAgZGVmYXVsdFZhbHVlOiB1bmRlZmluZWRcbiAgfSxcbiAgJ2hlYWRpbmcubGV2ZWwnOiB7XG4gICAgZGVzY3JpcHRpb246IFwiVGhlIGxldmVsIHRoYXQgaW1wYWN0cyBsaW5lLWhlaWdodCwgbWF4LXdpZHRoLCBmb250IHNpemUsIFxcbndlaWdodCBhbmQgZmFtaWx5IG9mIHRoZSBIZWFkaW5nLiBIZWFkaW5nIGxldmVsIGlzIGF1dG9tYXRpY2FsbHkgYWRqdXN0ZWQgYXQgXFxuZGlmZmVyZW50IHNjcmVlbiBzaXplcy4gVGhlc2Ugc2NyZWVuIHNpemVzIGFyZSBkZXJpdmVkIGZyb20gYnJlYWtwb2ludHMuXCIsXG4gICAgdHlwZTogJ29iamVjdCcsXG4gICAgZGVmYXVsdFZhbHVlOiBcIlxcbiAgICAgIDE6IHtcXG4gICAgICAgIG1lZGl1bToge1xcbiAgICAgICAgICBzaXplOiAzNHB4LFxcbiAgICAgICAgICBoZWlnaHQ6IDQwcHgsXFxuICAgICAgICAgIHdpZHRoOiA4MjZweCxcXG4gICAgICAgIH0sXFxuICAgICAgfSxcXG4gICAgICB3ZWlnaHQ6IDYwMCxcXG4gICAgICBmb250OlxcbiAgICAgICAge1xcbiAgICAgICAgICBmYW1pbHk6IHVuZGVmaW5lZCxcXG4gICAgICAgIH1cIlxuICB9LFxuICAnaGVhZGluZy53ZWlnaHQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdEZWZhdWx0IGhlYWRpbmcgd2VpZ2h0IHVzZWQgdW5sZXNzIGEgcGVyIGxldmVsIGhlYWRpbmcgaXMgZGVmaW5lZC4nLFxuICAgIHR5cGU6ICdudW1iZXInLFxuICAgIGRlZmF1bHRWYWx1ZTogNjAwXG4gIH0sXG4gICdoZWFkaW5nLmZvbnQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdEZWZhdWx0IGhlYWRpbmcgZm9udCB1c2VkIHVubGVzcyBhIHBlciBsZXZlbCBoZWFkaW5nIGlzIGRlZmluZWQuJyxcbiAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICBkZWZhdWx0VmFsdWU6IHVuZGVmaW5lZFxuICB9LFxuICAnaGVhZGluZy5yZXNwb25zaXZlQnJlYWtwb2ludCc6IHtcbiAgICBkZXNjcmlwdGlvbjogXCJUaGUgYnJlYWtwb2ludCB0byB0cmlnZ2VyIGNoYW5nZXMgaW4gdGhlIEhlYWRpbmcgbGF5b3V0LiBcXG5UaGUgYWN0dWFsIHZhbHVlcyB3aWxsIGJlIGRlcml2ZWQgZnJvbSBnbG9iYWwuYnJlYWtwb2ludHMuXCIsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiAnc21hbGwnXG4gIH1cbn0pOyIsImV4cG9ydCB7IEhlYWRpbmcgfSBmcm9tICcuL0hlYWRpbmcnOyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY29tcG9zZSB9IGZyb20gJ3JlY29tcG9zZSc7XG5pbXBvcnQgeyB3aXRoRm9yd2FyZFJlZiB9IGZyb20gJy4uL2hvY3MnO1xuaW1wb3J0IHsgU3R5bGVkSW1hZ2UgfSBmcm9tICcuL1N0eWxlZEltYWdlJztcblxudmFyIEltYWdlID0gZnVuY3Rpb24gSW1hZ2UoX3JlZikge1xuICB2YXIgZmFsbGJhY2sgPSBfcmVmLmZhbGxiYWNrLFxuICAgICAgZm9yd2FyZFJlZiA9IF9yZWYuZm9yd2FyZFJlZixcbiAgICAgIG9uRXJyb3IgPSBfcmVmLm9uRXJyb3IsXG4gICAgICBvcGFjaXR5ID0gX3JlZi5vcGFjaXR5LFxuICAgICAgZmlsbCA9IF9yZWYuZmlsbCxcbiAgICAgIHNyYyA9IF9yZWYuc3JjLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9yZWYsIFtcImZhbGxiYWNrXCIsIFwiZm9yd2FyZFJlZlwiLCBcIm9uRXJyb3JcIiwgXCJvcGFjaXR5XCIsIFwiZmlsbFwiLCBcInNyY1wiXSk7XG5cbiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKGZhbHNlKSxcbiAgICAgIGltYWdlTWlzc2luZyA9IF91c2VTdGF0ZVswXSxcbiAgICAgIHNldEltYWdlTWlzc2luZyA9IF91c2VTdGF0ZVsxXTtcblxuICB2YXIgaGFuZGxlRXJyb3IgPSBmdW5jdGlvbiBoYW5kbGVFcnJvcihldmVudCkge1xuICAgIGlmIChvbkVycm9yKSB7XG4gICAgICBvbkVycm9yKGV2ZW50KTtcbiAgICB9XG5cbiAgICBzZXRJbWFnZU1pc3NpbmcodHJ1ZSk7XG4gIH07XG5cbiAgdmFyIGV4dHJhUHJvcHMgPSB7XG4gICAgb25FcnJvcjogKG9uRXJyb3IgfHwgZmFsbGJhY2spICYmIGhhbmRsZUVycm9yXG4gIH07XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZEltYWdlLCBfZXh0ZW5kcyh7fSwgcmVzdCwgZXh0cmFQcm9wcywge1xuICAgIHJlZjogZm9yd2FyZFJlZixcbiAgICBvcGFjaXR5UHJvcDogb3BhY2l0eSxcbiAgICBmaWxsUHJvcDogZmlsbCxcbiAgICBzcmM6ICFpbWFnZU1pc3NpbmcgPyBzcmMgOiBmYWxsYmFja1xuICB9KSk7XG59O1xuXG52YXIgSW1hZ2VEb2M7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIEltYWdlRG9jID0gcmVxdWlyZSgnLi9kb2MnKS5kb2MoSW1hZ2UpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGdsb2JhbC1yZXF1aXJlXG59XG5cbnZhciBJbWFnZVdyYXBwZXIgPSBjb21wb3NlKHdpdGhGb3J3YXJkUmVmKShJbWFnZURvYyB8fCBJbWFnZSk7XG5leHBvcnQgeyBJbWFnZVdyYXBwZXIgYXMgSW1hZ2UgfTsiLCJpbXBvcnQgc3R5bGVkLCB7IGNzcyB9IGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCB7IGdlbmVyaWNTdHlsZXMgfSBmcm9tICcuLi8uLi91dGlscyc7XG5pbXBvcnQgeyBkZWZhdWx0UHJvcHMgfSBmcm9tICcuLi8uLi9kZWZhdWx0LXByb3BzJztcbnZhciBGSVRfTUFQID0ge1xuICBjb3ZlcjogJ2NvdmVyJyxcbiAgY29udGFpbjogJ2NvbnRhaW4nXG59O1xudmFyIGZpdFN0eWxlID0gY3NzKFtcImZsZXg6MSAxO292ZXJmbG93OmhpZGRlbjtvYmplY3QtZml0OlwiLCBcIjtcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gRklUX01BUFtwcm9wcy5maXRdO1xufSk7XG52YXIgZmlsbFN0eWxlID0gY3NzKFtcIndpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7XCJdKTtcbnZhciBTdHlsZWRJbWFnZSA9IHN0eWxlZC5pbWcud2l0aENvbmZpZyh7XG4gIGRpc3BsYXlOYW1lOiBcIlN0eWxlZEltYWdlXCIsXG4gIGNvbXBvbmVudElkOiBcImV5NHp4OS0wXCJcbn0pKFtcIlwiLCBcIiBcIiwgXCIgXCIsIFwiIFwiLCBcIiBcIiwgXCJcIl0sIGdlbmVyaWNTdHlsZXMsIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuZml0ICYmIGZpdFN0eWxlO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5maWxsUHJvcCAmJiBmaWxsU3R5bGU7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLmltYWdlICYmIHByb3BzLnRoZW1lLmltYWdlLmV4dGVuZDtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMub3BhY2l0eVByb3AgJiYgXCJvcGFjaXR5OiBcIiArIChwcm9wcy5vcGFjaXR5UHJvcCA9PT0gdHJ1ZSA/IHByb3BzLnRoZW1lLmdsb2JhbC5vcGFjaXR5Lm1lZGl1bSA6IHByb3BzLnRoZW1lLmdsb2JhbC5vcGFjaXR5W3Byb3BzLm9wYWNpdHlQcm9wXSB8fCBwcm9wcy5vcGFjaXR5UHJvcCkgKyBcIjtcXG4gIFwiO1xufSk7XG5TdHlsZWRJbWFnZS5kZWZhdWx0UHJvcHMgPSB7fTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihTdHlsZWRJbWFnZS5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG5leHBvcnQgeyBTdHlsZWRJbWFnZSB9OyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmltcG9ydCB7IGRlc2NyaWJlLCBQcm9wVHlwZXMgfSBmcm9tICdyZWFjdC1kZXNjJztcbmltcG9ydCB7IGdlbmVyaWNQcm9wcywgZ2V0QXZhaWxhYmxlQXRCYWRnZSB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmV4cG9ydCB2YXIgZG9jID0gZnVuY3Rpb24gZG9jKEltYWdlKSB7XG4gIHZhciBEb2N1bWVudGVkSW1hZ2UgPSBkZXNjcmliZShJbWFnZSkuYXZhaWxhYmxlQXQoZ2V0QXZhaWxhYmxlQXRCYWRnZSgnSW1hZ2UnKSkuZGVzY3JpcHRpb24oJ0FuIGltYWdlLicpLnVzYWdlKFwiaW1wb3J0IHsgSW1hZ2UgfSBmcm9tICdncm9tbWV0JztcXG48SW1hZ2UvPlwiKS5pbnRyaW5zaWNFbGVtZW50KCdpbWcnKTtcbiAgRG9jdW1lbnRlZEltYWdlLnByb3BUeXBlcyA9IF9leHRlbmRzKHt9LCBnZW5lcmljUHJvcHMsIHtcbiAgICBmaXQ6IFByb3BUeXBlcy5vbmVPZihbJ2NvdmVyJywgJ2NvbnRhaW4nXSkuZGVzY3JpcHRpb24oJ0hvdyB0aGUgaW1hZ2UgZmlsbHMgaXRzIGNvbnRhaW5lci4nKSxcbiAgICBmYWxsYmFjazogUHJvcFR5cGVzLnN0cmluZy5kZXNjcmlwdGlvbihcIlNwZWNpZmllcyB0aGUgVVJMIG9mIHRoZSBmYWxsYmFjayBpbWFnZSB1c2VkIHdoZW4gXFxuICAgICAgc3JjIGlzIGZhaWxpbmcgdG8gbG9hZFwiKSxcbiAgICBvcGFjaXR5OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2YoWyd3ZWFrJywgJ21lZGl1bScsICdzdHJvbmcnXSksIFByb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5ib29sXSkuZGVzY3JpcHRpb24oJ1RyYW5zcGFyZW5jeSBvZiB0aGUgaW1hZ2UuJyksXG4gICAgZmlsbDogUHJvcFR5cGVzLmJvb2wuZGVzY3JpcHRpb24oJ1doZXRoZXIgdGhlIGltYWdlIGV4cGFuZHMgdG8gZmlsbCBhbGwgb2YgdGhlIGF2YWlsYWJsZSB3aWR0aCBhbmQgaGVpZ2h0JylcbiAgfSk7XG4gIHJldHVybiBEb2N1bWVudGVkSW1hZ2U7XG59O1xuZXhwb3J0IHZhciB0aGVtZURvYyA9IHtcbiAgJ2dsb2JhbC5vcGFjaXR5Lm1lZGl1bSc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSB2YWx1ZSB1c2VkIHdoZW4gb3BhY2l0eSBpcyBzZXQgdG8gdHJ1ZS4nLFxuICAgIHR5cGU6ICdudW1iZXInLFxuICAgIGRlZmF1bHRWYWx1ZTogJzAuNCdcbiAgfSxcbiAgJ2ltYWdlLmV4dGVuZCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ0FueSBhZGRpdGlvbmFsIHN0eWxlIGZvciB0aGUgSW1hZ2UuJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgKHByb3BzKSA9PiB7fScsXG4gICAgZGVmYXVsdFZhbHVlOiB1bmRlZmluZWRcbiAgfVxufTsiLCJleHBvcnQgeyBJbWFnZSB9IGZyb20gJy4vSW1hZ2UnOyIsImZ1bmN0aW9uIF9pbmhlcml0c0xvb3NlKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcy5wcm90b3R5cGUpOyBzdWJDbGFzcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBzdWJDbGFzczsgc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKiBlc2xpbnQtZGlzYWJsZSByZWFjdC9uby1maW5kLWRvbS1ub2RlICovXG5pbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50LCB1c2VFZmZlY3QsIHVzZU1lbW8sIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBmaW5kRE9NTm9kZSB9IGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgeyBmaW5kU2Nyb2xsUGFyZW50cyB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmltcG9ydCB7IEJveCB9IGZyb20gJy4uL0JveCc7IC8vIFdyYXBzIGFuIGl0ZW0gdG8gZW5zdXJlIHdlIGNhbiBnZXQgYSByZWYgdG8gaXRcblxudmFyIFJlZiA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBfaW5oZXJpdHNMb29zZShSZWYsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFJlZigpIHtcbiAgICByZXR1cm4gX0NvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gIH1cblxuICB2YXIgX3Byb3RvID0gUmVmLnByb3RvdHlwZTtcblxuICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBjaGlsZHJlbiA9IHRoaXMucHJvcHMuY2hpbGRyZW47XG4gICAgcmV0dXJuIGNoaWxkcmVuO1xuICB9O1xuXG4gIHJldHVybiBSZWY7XG59KENvbXBvbmVudCk7XG5cbnZhciBJbmZpbml0ZVNjcm9sbCA9IGZ1bmN0aW9uIEluZmluaXRlU2Nyb2xsKF9yZWYpIHtcbiAgdmFyIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbixcbiAgICAgIF9yZWYkaXRlbXMgPSBfcmVmLml0ZW1zLFxuICAgICAgaXRlbXMgPSBfcmVmJGl0ZW1zID09PSB2b2lkIDAgPyBbXSA6IF9yZWYkaXRlbXMsXG4gICAgICBvbk1vcmUgPSBfcmVmLm9uTW9yZSxcbiAgICAgIHJlbmRlck1hcmtlciA9IF9yZWYucmVuZGVyTWFya2VyLFxuICAgICAgcmVwbGFjZSA9IF9yZWYucmVwbGFjZSxcbiAgICAgIHNob3cgPSBfcmVmLnNob3csXG4gICAgICBfcmVmJHN0ZXAgPSBfcmVmLnN0ZXAsXG4gICAgICBzdGVwID0gX3JlZiRzdGVwID09PSB2b2lkIDAgPyA1MCA6IF9yZWYkc3RlcDtcbiAgLy8gdGhlIGxhc3QgcGFnZSB3ZSBoYXZlIGl0ZW1zIGZvclxuICB2YXIgbGFzdFBhZ2UgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gTWF0aC5jZWlsKGl0ZW1zLmxlbmd0aCAvIHN0ZXApO1xuICB9LCBbaXRlbXMubGVuZ3RoLCBzdGVwXSk7IC8vIHRoZSBmaXJzdCBwYWdlIHdlIGFyZSBkaXNwbGF5aW5nXG5cbiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKDApLFxuICAgICAgYmVnaW5QYWdlID0gX3VzZVN0YXRlWzBdLFxuICAgICAgc2V0QmVnaW5QYWdlID0gX3VzZVN0YXRlWzFdOyAvLyB0aGUgbGFzdCBwYWdlIHdlIGFyZSBkaXNwbGF5aW5nXG5cblxuICB2YXIgX3VzZVN0YXRlMiA9IHVzZVN0YXRlKHNob3cgPyBNYXRoLmZsb29yKChzaG93ICsgc3RlcCkgLyBzdGVwKSAtIDEgOiAwKSxcbiAgICAgIGVuZFBhZ2UgPSBfdXNlU3RhdGUyWzBdLFxuICAgICAgc2V0RW5kUGFnZSA9IF91c2VTdGF0ZTJbMV07IC8vIGhvdyB0YWxsIHdlJ3ZlIG1lYXN1cmVkIGEgcGFnZSB0byBiZVxuXG5cbiAgdmFyIF91c2VTdGF0ZTMgPSB1c2VTdGF0ZSgpLFxuICAgICAgcGFnZUhlaWdodCA9IF91c2VTdGF0ZTNbMF0sXG4gICAgICBzZXRQYWdlSGVpZ2h0ID0gX3VzZVN0YXRlM1sxXTsgLy8gaG93IG11Y2ggYXJlYSBhIHBhZ2UgcmVxdWlyZXNcblxuXG4gIHZhciBfdXNlU3RhdGU0ID0gdXNlU3RhdGUoKSxcbiAgICAgIHBhZ2VBcmVhID0gX3VzZVN0YXRlNFswXSxcbiAgICAgIHNldFBhZ2VBcmVhID0gX3VzZVN0YXRlNFsxXTsgLy8gd2hldGhlciB0aGUgaXRlbXMgYXJlIGxhaWQgb3V0IGluIGEgZ3JpZCBpbnN0ZWFkIG9mIGxpbmVhcmx5XG5cblxuICB2YXIgX3VzZVN0YXRlNSA9IHVzZVN0YXRlKCksXG4gICAgICBtdWx0aUNvbHVtbiA9IF91c2VTdGF0ZTVbMF0sXG4gICAgICBzZXRNdWx0aUNvbHVtbiA9IF91c2VTdGF0ZTVbMV07IC8vIHdoYXQgd2UncmUgd2FpdGluZyBmb3Igb25Nb3JlIHRvIGdpdmUgdXNcblxuXG4gIHZhciBfdXNlU3RhdGU2ID0gdXNlU3RhdGUoMCksXG4gICAgICBwZW5kaW5nTGVuZ3RoID0gX3VzZVN0YXRlNlswXSxcbiAgICAgIHNldFBlbmRpbmdMZW5ndGggPSBfdXNlU3RhdGU2WzFdO1xuXG4gIHZhciBiZWxvd01hcmtlclJlZiA9IHVzZVJlZigpO1xuICB2YXIgZmlyc3RQYWdlSXRlbVJlZiA9IHVzZVJlZigpO1xuICB2YXIgbGFzdFBhZ2VJdGVtUmVmID0gdXNlUmVmKCk7XG4gIHZhciBzaG93UmVmID0gdXNlUmVmKCk7IC8vIGNhbGN1bGF0aW5nIHNwYWNlIGJhc2VkIG9uIHdoZXJlIHRoZSBmaXJzdCBhbmQgbGFzdCBpdGVtcyBiZWluZyBkaXNwbGF5ZWRcbiAgLy8gYXJlIGxvY2F0ZWRcblxuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmIChmaXJzdFBhZ2VJdGVtUmVmLmN1cnJlbnQgJiYgbGFzdFBhZ2VJdGVtUmVmLmN1cnJlbnQgJiYgIXBhZ2VIZWlnaHQpIHtcbiAgICAgIC8qIGVzbGludC1kaXNhYmxlIHJlYWN0L25vLWZpbmQtZG9tLW5vZGUgKi9cbiAgICAgIHZhciBiZWdpblJlY3QgPSBmaW5kRE9NTm9kZShmaXJzdFBhZ2VJdGVtUmVmLmN1cnJlbnQpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgdmFyIGVuZFJlY3QgPSBmaW5kRE9NTm9kZShsYXN0UGFnZUl0ZW1SZWYuY3VycmVudCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICB2YXIgbmV4dFBhZ2VIZWlnaHQgPSBlbmRSZWN0LnRvcCArIGVuZFJlY3QuaGVpZ2h0IC0gYmVnaW5SZWN0LnRvcDsgLy8gQ2hlY2sgaWYgdGhlIGl0ZW1zIGFyZSBhcnJhbmdlZCBpbiBhIHNpbmdsZSBjb2x1bW4gb3Igbm90LlxuXG4gICAgICB2YXIgbmV4dE11bHRpQ29sdW1uID0gbmV4dFBhZ2VIZWlnaHQgLyBzdGVwIDwgZW5kUmVjdC5oZWlnaHQ7XG4gICAgICB2YXIgbmV4dFBhZ2VBcmVhID0gZW5kUmVjdC5oZWlnaHQgKiBlbmRSZWN0LndpZHRoICogc3RlcDtcbiAgICAgIHNldFBhZ2VIZWlnaHQobmV4dFBhZ2VIZWlnaHQpO1xuICAgICAgc2V0UGFnZUFyZWEobmV4dFBhZ2VBcmVhKTtcbiAgICAgIHNldE11bHRpQ29sdW1uKG5leHRNdWx0aUNvbHVtbik7XG4gICAgfVxuICB9LCBbcGFnZUhlaWdodCwgc3RlcF0pOyAvLyBzY3JvbGwgaGFuZGxpbmdcblxuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIHZhciBzY3JvbGxQYXJlbnRzO1xuXG4gICAgdmFyIG9uU2Nyb2xsID0gZnVuY3Rpb24gb25TY3JvbGwoKSB7XG4gICAgICB2YXIgc2Nyb2xsUGFyZW50ID0gc2Nyb2xsUGFyZW50c1swXTsgLy8gRGV0ZXJtaW5lIHRoZSB3aW5kb3cgaW50byB0aGUgZmlyc3Qgc2Nyb2xsIHBhcmVudFxuXG4gICAgICB2YXIgdG9wO1xuICAgICAgdmFyIGhlaWdodDtcbiAgICAgIHZhciB3aWR0aDtcblxuICAgICAgaWYgKHNjcm9sbFBhcmVudCA9PT0gZG9jdW1lbnQpIHtcbiAgICAgICAgdG9wID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcDtcbiAgICAgICAgaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgICB3aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdG9wID0gc2Nyb2xsUGFyZW50LnNjcm9sbFRvcDtcbiAgICAgICAgdmFyIHJlY3QgPSBzY3JvbGxQYXJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGhlaWdodCA9IHJlY3QuaGVpZ2h0O1xuICAgICAgICB3aWR0aCA9IHJlY3Qud2lkdGg7XG4gICAgICB9IC8vIEZpZ3VyZSBvdXQgd2hpY2ggcGFnZXMgd2Ugc2hvdWxkIG1ha2UgdmlzaWJsZSBiYXNlZCBvbiB0aGUgc2Nyb2xsXG4gICAgICAvLyB3aW5kb3cuXG5cblxuICAgICAgdmFyIG9mZnNldCA9IGhlaWdodCAvIDQ7XG4gICAgICB2YXIgbmV4dEJlZ2luUGFnZSA9IHJlcGxhY2UgPyBNYXRoLm1pbihsYXN0UGFnZSwgTWF0aC5tYXgoMCwgbXVsdGlDb2x1bW4gPyBNYXRoLmZsb29yKE1hdGgubWF4KDAsIHRvcCAtIG9mZnNldCkgKiB3aWR0aCAvIHBhZ2VBcmVhKSA6IE1hdGguZmxvb3IoTWF0aC5tYXgoMCwgdG9wIC0gb2Zmc2V0KSAvIHBhZ2VIZWlnaHQpKSkgOiAwO1xuICAgICAgdmFyIG5leHRFbmRQYWdlID0gTWF0aC5taW4obGFzdFBhZ2UsIE1hdGgubWF4KCFyZXBsYWNlICYmIGVuZFBhZ2UgfHwgMCwgbXVsdGlDb2x1bW4gPyBNYXRoLmNlaWwoKHRvcCArIGhlaWdodCArIG9mZnNldCkgKiB3aWR0aCAvIHBhZ2VBcmVhKSA6IE1hdGguZmxvb3IoKHRvcCArIGhlaWdodCArIG9mZnNldCkgLyBwYWdlSGVpZ2h0KSkpO1xuICAgICAgaWYgKG5leHRCZWdpblBhZ2UgIT09IGJlZ2luUGFnZSkgc2V0QmVnaW5QYWdlKG5leHRCZWdpblBhZ2UpO1xuICAgICAgaWYgKG5leHRFbmRQYWdlICE9PSBlbmRQYWdlKSBzZXRFbmRQYWdlKG5leHRFbmRQYWdlKTtcbiAgICB9O1xuXG4gICAgaWYgKHBhZ2VIZWlnaHQgJiYgYmVsb3dNYXJrZXJSZWYuY3VycmVudCkge1xuICAgICAgc2Nyb2xsUGFyZW50cyA9IGZpbmRTY3JvbGxQYXJlbnRzKGJlbG93TWFya2VyUmVmLmN1cnJlbnQpO1xuICAgICAgc2Nyb2xsUGFyZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChzY3JvbGxQYXJlbnQpIHtcbiAgICAgICAgcmV0dXJuIHNjcm9sbFBhcmVudC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBvblNjcm9sbCk7XG4gICAgICB9KTtcbiAgICAgIG9uU2Nyb2xsKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChzY3JvbGxQYXJlbnRzKSB7XG4gICAgICAgIHNjcm9sbFBhcmVudHMuZm9yRWFjaChmdW5jdGlvbiAoc2Nyb2xsUGFyZW50KSB7XG4gICAgICAgICAgcmV0dXJuIHNjcm9sbFBhcmVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBvblNjcm9sbCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFtiZWdpblBhZ2UsIGVuZFBhZ2UsIGxhc3RQYWdlLCBtdWx0aUNvbHVtbiwgcGFnZUFyZWEsIHBhZ2VIZWlnaHQsIHJlcGxhY2VdKTsgLy8gY2hlY2sgaWYgd2UgbmVlZCB0byBhc2sgZm9yIG1vcmVcblxuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmIChvbk1vcmUgJiYgZW5kUGFnZSA9PT0gbGFzdFBhZ2UgJiYgaXRlbXMubGVuZ3RoID49IHBlbmRpbmdMZW5ndGgpIHtcbiAgICAgIC8vIHJlbWVtYmVyIHdlJ3ZlIGFza2VkIGZvciBtb3JlLCBzbyB3ZSBkb24ndCBrZWVwIGFza2luZyBpZiBpdCB0YWtlc1xuICAgICAgLy8gYSB3aGlsZVxuICAgICAgc2V0UGVuZGluZ0xlbmd0aChpdGVtcy5sZW5ndGggKyAxKTtcbiAgICAgIG9uTW9yZSgpO1xuICAgIH1cbiAgfSwgW2VuZFBhZ2UsIGl0ZW1zLmxlbmd0aCwgbGFzdFBhZ2UsIG9uTW9yZSwgcGVuZGluZ0xlbmd0aCwgc3RlcF0pOyAvLyBzY3JvbGwgdG8gYW55ICdzaG93J1xuXG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgLy8gcmlkZSBvdXQgYW55IGFuaW1hdGlvbiBkZWxheXMsIDEwMG1zIGVtcGlyaWNhbGx5IG1lYXN1cmVkXG4gICAgdmFyIHRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoc2hvdyAmJiBzaG93UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgZmluZERPTU5vZGUoc2hvd1JlZi5jdXJyZW50KS5zY3JvbGxJbnRvVmlldygpO1xuICAgICAgfVxuICAgIH0sIDEwMCk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgIH07XG4gIH0sIFtzaG93XSk7XG4gIHZhciBmaXJzdEluZGV4ID0gYmVnaW5QYWdlICogc3RlcDtcbiAgdmFyIGxhc3RJbmRleCA9IE1hdGgubWluKChlbmRQYWdlICsgMSkgKiBzdGVwLCBpdGVtcy5sZW5ndGgpIC0gMTtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuXG4gIGlmIChyZXBsYWNlICYmIHBhZ2VIZWlnaHQgJiYgZmlyc3RJbmRleCkge1xuICAgIHZhciBtYXJrZXIgPSBSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwge1xuICAgICAga2V5OiBcImFib3ZlXCIsXG4gICAgICBmbGV4OiBmYWxzZSxcbiAgICAgIGhlaWdodDogYmVnaW5QYWdlICogcGFnZUhlaWdodCArIFwicHhcIlxuICAgIH0pO1xuXG4gICAgaWYgKHJlbmRlck1hcmtlcikge1xuICAgICAgLy8gbmVlZCB0byBnaXZlIGl0IGEga2V5XG4gICAgICBtYXJrZXIgPSBSZWFjdC5jbG9uZUVsZW1lbnQocmVuZGVyTWFya2VyKG1hcmtlciksIHtcbiAgICAgICAga2V5OiAnYWJvdmUnXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXN1bHQucHVzaChtYXJrZXIpO1xuICB9XG5cbiAgaXRlbXMuc2xpY2UoZmlyc3RJbmRleCwgbGFzdEluZGV4ICsgMSkuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHtcbiAgICB2YXIgaXRlbXNJbmRleCA9IGZpcnN0SW5kZXggKyBpbmRleDtcbiAgICB2YXIgY2hpbGQgPSBjaGlsZHJlbihpdGVtLCBpdGVtc0luZGV4KTsgLy8gd2Ugb25seSBuZWVkIHRoZSBSZWZzIGlmIHdlIGRvbid0IGtub3cgdGhlIHBhZ2VIZWlnaHRcblxuICAgIGlmICghcGFnZUhlaWdodCAmJiBpdGVtc0luZGV4ID09PSAwKSB7XG4gICAgICBjaGlsZCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVmLCB7XG4gICAgICAgIGtleTogXCJmaXJzdFwiLFxuICAgICAgICByZWY6IGZpcnN0UGFnZUl0ZW1SZWZcbiAgICAgIH0sIGNoaWxkKTtcbiAgICB9IGVsc2UgaWYgKCFwYWdlSGVpZ2h0ICYmIChpdGVtc0luZGV4ID09PSBzdGVwIC0gMSB8fCBpdGVtc0luZGV4ID09PSBsYXN0SW5kZXgpKSB7XG4gICAgICBjaGlsZCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVmLCB7XG4gICAgICAgIGtleTogXCJsYXN0XCIsXG4gICAgICAgIHJlZjogbGFzdFBhZ2VJdGVtUmVmXG4gICAgICB9LCBjaGlsZCk7XG4gICAgfVxuXG4gICAgaWYgKHNob3cgJiYgc2hvdyA9PT0gaXRlbXNJbmRleCkge1xuICAgICAgY2hpbGQgPSBSZWFjdC5jcmVhdGVFbGVtZW50KFJlZiwge1xuICAgICAgICBrZXk6IFwic2hvd1wiLFxuICAgICAgICByZWY6IHNob3dSZWZcbiAgICAgIH0sIGNoaWxkKTtcbiAgICB9XG5cbiAgICByZXN1bHQucHVzaChjaGlsZCk7XG4gIH0pO1xuXG4gIGlmIChlbmRQYWdlIDwgbGFzdFBhZ2UgfHwgcmVwbGFjZSB8fCBvbk1vcmUpIHtcbiAgICB2YXIgX21hcmtlciA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoQm94LCB7XG4gICAgICBrZXk6IFwiYmVsb3dcIixcbiAgICAgIHJlZjogYmVsb3dNYXJrZXJSZWYsXG4gICAgICBmbGV4OiBmYWxzZSxcbiAgICAgIGhlaWdodDogKHJlcGxhY2UgPyAobGFzdFBhZ2UgLSBlbmRQYWdlKSAqIHBhZ2VIZWlnaHQgOiAwKSArIFwicHhcIlxuICAgIH0pO1xuXG4gICAgaWYgKHJlbmRlck1hcmtlcikge1xuICAgICAgLy8gbmVlZCB0byBnaXZlIGl0IGEga2V5XG4gICAgICBfbWFya2VyID0gUmVhY3QuY2xvbmVFbGVtZW50KHJlbmRlck1hcmtlcihfbWFya2VyKSwge1xuICAgICAgICBrZXk6ICdiZWxvdydcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJlc3VsdC5wdXNoKF9tYXJrZXIpO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbnZhciBJbmZpbml0ZVNjcm9sbERvYztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGdsb2JhbC1yZXF1aXJlXG4gIEluZmluaXRlU2Nyb2xsRG9jID0gcmVxdWlyZSgnLi9kb2MnKS5kb2MoSW5maW5pdGVTY3JvbGwpO1xufVxuXG52YXIgSW5maW5pdGVTY3JvbGxXcmFwcGVyID0gSW5maW5pdGVTY3JvbGxEb2MgfHwgSW5maW5pdGVTY3JvbGw7XG5leHBvcnQgeyBJbmZpbml0ZVNjcm9sbFdyYXBwZXIgYXMgSW5maW5pdGVTY3JvbGwgfTsiLCJpbXBvcnQgeyBkZXNjcmliZSwgUHJvcFR5cGVzIH0gZnJvbSAncmVhY3QtZGVzYyc7XG5pbXBvcnQgeyBnZXRBdmFpbGFibGVBdEJhZGdlIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuZXhwb3J0IHZhciBkb2MgPSBmdW5jdGlvbiBkb2MoSW5maW5pdGVTY3JvbGwpIHtcbiAgdmFyIERvY3VtZW50ZWRJbmZpbml0ZVNjcm9sbCA9IGRlc2NyaWJlKEluZmluaXRlU2Nyb2xsKS5hdmFpbGFibGVBdChnZXRBdmFpbGFibGVBdEJhZGdlKCdJbmZpbml0ZVNjcm9sbCcpKS5kZXNjcmlwdGlvbignQSBjb250YWluZXIgdGhhdCBsYXppbHkgcmVuZGVycyBpdGVtcy4nKS51c2FnZShcImltcG9ydCB7IEluZmluaXRlU2Nyb2xsIH0gZnJvbSAnZ3JvbW1ldCc7XFxuPEluZmluaXRlU2Nyb2xsIC8+XCIpO1xuICBEb2N1bWVudGVkSW5maW5pdGVTY3JvbGwucHJvcFR5cGVzID0ge1xuICAgIGNoaWxkcmVuOiBQcm9wVHlwZXMuZnVuYy5kZXNjcmlwdGlvbignRnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCB3aGVuIGVhY2ggaXRlbSBpcyByZW5kZXJlZC4nKSxcbiAgICBpdGVtczogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLmFueSkuZGVzY3JpcHRpb24oJ1RoZSBjaGlsZHJlbiBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCB0byByZW5kZXIgZWFjaCBpdGVtLicpLFxuICAgIG9uTW9yZTogUHJvcFR5cGVzLmZ1bmMuZGVzY3JpcHRpb24oXCJVc2UgdGhpcyB0byBpbmRpY2F0ZSB0aGF0ICdpdGVtcycgZG9lc24ndCBjb250YWluIGFsbCB0aGF0IGl0IGNvdWxkLlxcbiAgICAgIEl0IHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIGVudGlyZSBsaXN0IG9mIGl0ZW1zIGhhcyBiZWVuIHJlbmRlcmVkLlxcbiAgICAgIFRoaXMgbWlnaHQgYmUgdXNlZCB3aGVuIHRoZSB0b3RhbCBudW1iZXIgb2YgaXRlbXMgdGhhdCBjb3VsZCBiZSByZXRyaWV2ZWRcXG4gICAgICBpcyBtb3JlIHRoYW4geW91J2Qgd2FudCB0byBsb2FkIGludG8gdGhlIGJyb3dzZXIuICdvbk1vcmUnIGFsbG93cyB5b3VcXG4gICAgICB0byBsYXppbHkgZmV0Y2ggbW9yZSBmcm9tIHRoZSBzZXJ2ZXIgb25seSB3aGVuIG5lZWRlZC5cIiksXG4gICAgcmVuZGVyTWFya2VyOiBQcm9wVHlwZXMuZnVuYy5kZXNjcmlwdGlvbihcIkZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgdG8gcmVuZGVyIHRoZSBtYXJrZXIgZWxlbWVudCB0aGF0XFxuICAgICAgaXMgaW5zZXJ0ZWQgaW50byB0aGUgRE9NIHRvIHRyYWNrIHdoZW4gc2Nyb2xsaW5nIG5lYXJzIHRoZSBlbmQgb2YgdGhlXFxuICAgICAgcmVuZGVyZWQgaXRlbXMuIEl0IHdpbGwgYmUgY2FsbGVkIHdpdGggYSBzaW5nbGUgZWxlbWVudCB0aGF0IHNob3VsZFxcbiAgICAgIGJlIHdyYXBwZWQgYXBwcm9wcmlhdGVseS4gVGhpcyBpcyBuZWVkZWQgd2hlbiB0aGUgZGVmYXVsdFxcbiAgICAgIGVsZW1lbnQsIGEgPHNwYW4+LCBpc24ndCBzdWZmaWNpZW50LCBzdWNoIGFzIGEgcm93IG9mIGEgdGFibGUgYm9keS5cIiksXG4gICAgcmVwbGFjZTogUHJvcFR5cGVzLmJvb2wuZGVzY3JpcHRpb24oXCJXaGV0aGVyIHRvIHJlcGxhY2UgcHJldmlvdXNseSByZW5kZXJlZCBpdGVtcyB3aXRoIGEgZ2VuZXJpYyBzcGFjaW5nXFxuICAgICAgZWxlbWVudCB3aGVuIHRoZXkgaGF2ZSBzY3JvbGxlZCBvdXQgb2Ygdmlldy4gVGhpcyBpcyBtb3JlIHBlcmZvcm1hbnQgYnV0XFxuICAgICAgbWVhbnMgdGhhdCBpbi1wYWdlIHNlYXJjaGluZyB3aWxsIG5vdCBmaW5kIGVsZW1lbnRzIHRoYXQgaGF2ZSBiZWVuXFxuICAgICAgcmVwbGFjZWQuIEluIGdlbmVyYWwsIHRoaXMgc2hvdWxkIGJlIHNldCB0byB0cnVlIHdpdGhpbiBEcm9wIGNvbnRhaW5lcnNcXG4gICAgICBhbmQgZmFsc2Ugb3RoZXJ3aXNlLlwiKS5kZWZhdWx0VmFsdWUoZmFsc2UpLFxuICAgIHNjcm9sbGFibGVBbmNlc3RvcjogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm5vZGUsIFByb3BUeXBlcy5vbmVPZihbJ3dpbmRvdyddKV0pLmRlc2NyaXB0aW9uKFwiQSBjdXN0b20gYW5jZXN0b3IgdG8gZGV0ZXJtaW5lIGlmIHRoZSBtYXJrZXIgaXMgdmlzaWJsZSBpbiBpdC5cXG4gICAgICBUaGlzIGlzIHVzZWZ1bCBpbiBjYXNlcyB3aGVyZSB5b3UgZG8gbm90IHdhbnQgdGhlIGltbWVkaWF0ZVxcbiAgICAgIHNjcm9sbGFibGUgYW5jZXN0b3IgdG8gYmUgdGhlIGNvbnRhaW5lci4gRm9yIGV4YW1wbGUsIHdoZW4geW91clxcbiAgICAgIG1hcmtlciBpcyBpbiBhIGRpdiB0aGF0IGhhcyBvdmVyZmxvdyBhdXRvIGJ1dCB5b3UgYXJlIGRldGVjdGluZ1xcbiAgICAgIHZpc2liaWxpdHkgYmFzZWQgb24gdGhlIHdpbmRvdy5cXG4gICAgICBUaGlzIHNob3VsZCB0eXBpY2FsbHkgYmUgYSByZWZlcmVuY2UgdG8gYSBET00gbm9kZSwgYnV0IGl0IHdpbGxcXG4gICAgICBhbHNvIHdvcmsgdG8gcGFzcyBpdCB0aGUgc3RyaW5nIFxcXCJ3aW5kb3dcXFwiIGlmIHlvdSBhcmUgdXNpbmcgc2VydmVyXFxuICAgICAgcmVuZGVyaW5nLlwiKSxcbiAgICBzaG93OiBQcm9wVHlwZXMubnVtYmVyLmRlc2NyaXB0aW9uKCdFbnN1cmUgdGhhdCB0aGUgaXRlbSBhdCB0aGlzIGluZGV4IGlzIHZpc2libGUgaW5pdGlhbGx5LicpLFxuICAgIHN0ZXA6IFByb3BUeXBlcy5udW1iZXIuZGVzY3JpcHRpb24oJ0hvdyBtYW55IGl0ZW1zIHRvIHJlbmRlciBhdCBhIHRpbWUuJykuZGVmYXVsdFZhbHVlKDUwKVxuICB9O1xuICByZXR1cm4gRG9jdW1lbnRlZEluZmluaXRlU2Nyb2xsO1xufTsiLCJleHBvcnQgeyBJbmZpbml0ZVNjcm9sbCB9IGZyb20gJy4vSW5maW5pdGVTY3JvbGwnOyIsImZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuaW1wb3J0IHsgQ2hpbGRyZW4sIGNsb25lRWxlbWVudCwgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbnZhciBLRVlTID0ge1xuICA4OiAnb25CYWNrc3BhY2UnLFxuICA5OiAnb25UYWInLFxuICAxMzogJ29uRW50ZXInLFxuICAyNzogJ29uRXNjJyxcbiAgMzI6ICdvblNwYWNlJyxcbiAgMzc6ICdvbkxlZnQnLFxuICAzODogJ29uVXAnLFxuICAzOTogJ29uUmlnaHQnLFxuICA0MDogJ29uRG93bicsXG4gIDE4ODogJ29uQ29tbWEnLFxuICAxNjogJ29uU2hpZnQnXG59O1xuXG52YXIgS2V5Ym9hcmQgPSBmdW5jdGlvbiBLZXlib2FyZChfcmVmKSB7XG4gIHZhciB0YXJnZXQgPSBfcmVmLnRhcmdldCxcbiAgICAgIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbixcbiAgICAgIG9uS2V5RG93biA9IF9yZWYub25LZXlEb3duLFxuICAgICAgcmVzdFByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZiwgW1widGFyZ2V0XCIsIFwiY2hpbGRyZW5cIiwgXCJvbktleURvd25cIl0pO1xuXG4gIHZhciBvbktleURvd25IYW5kbGVyID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgdmFyIGtleSA9IGV2ZW50LmtleUNvZGUgPyBldmVudC5rZXlDb2RlIDogZXZlbnQud2hpY2g7XG4gICAgdmFyIGNhbGxiYWNrTmFtZSA9IEtFWVNba2V5XTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCByZXN0ID0gbmV3IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIHJlc3RbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIGlmIChjYWxsYmFja05hbWUgJiYgcmVzdFByb3BzW2NhbGxiYWNrTmFtZV0pIHtcbiAgICAgIHJlc3RQcm9wc1tjYWxsYmFja05hbWVdLmFwcGx5KHJlc3RQcm9wcywgW2V2ZW50XS5jb25jYXQocmVzdCkpO1xuICAgIH1cblxuICAgIGlmIChvbktleURvd24pIHtcbiAgICAgIG9uS2V5RG93bi5hcHBseSh2b2lkIDAsIFtldmVudF0uY29uY2F0KHJlc3QpKTtcbiAgICB9XG4gIH0sIFtvbktleURvd24sIHJlc3RQcm9wc10pO1xuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmICh0YXJnZXQgPT09ICdkb2N1bWVudCcpIHtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBvbktleURvd25IYW5kbGVyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHRhcmdldCA9PT0gJ2RvY3VtZW50Jykge1xuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgb25LZXlEb3duSGFuZGxlcik7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW29uS2V5RG93bkhhbmRsZXIsIHRhcmdldF0pO1xuICByZXR1cm4gdGFyZ2V0ID09PSAnZG9jdW1lbnQnID8gY2hpbGRyZW4gOiBjbG9uZUVsZW1lbnQoQ2hpbGRyZW4ub25seShjaGlsZHJlbiksIHtcbiAgICBvbktleURvd246IG9uS2V5RG93bkhhbmRsZXJcbiAgfSk7XG59O1xuXG52YXIgS2V5Ym9hcmREb2M7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBnbG9iYWwtcmVxdWlyZVxuICBLZXlib2FyZERvYyA9IHJlcXVpcmUoJy4vZG9jJykuZG9jKEtleWJvYXJkKTtcbn1cblxudmFyIEtleWJvYXJkV3JhcHBlciA9IEtleWJvYXJkRG9jIHx8IEtleWJvYXJkO1xuZXhwb3J0IHsgS2V5Ym9hcmRXcmFwcGVyIGFzIEtleWJvYXJkIH07IiwiaW1wb3J0IHsgZGVzY3JpYmUsIFByb3BUeXBlcyB9IGZyb20gJ3JlYWN0LWRlc2MnO1xuZXhwb3J0IHZhciBkb2MgPSBmdW5jdGlvbiBkb2MoS2V5Ym9hcmQpIHtcbiAgdmFyIERvY3VtZW50ZWRLZXlib2FyZCA9IGRlc2NyaWJlKEtleWJvYXJkKS5kZXNjcmlwdGlvbignQSBoYW5kbGVyIG9mIGtleWJvYXJkIGtleSBwcmVzc2VzLicpLnVzYWdlKFwiaW1wb3J0IHsgS2V5Ym9hcmQgfSBmcm9tICdncm9tbWV0JztcXG48S2V5Ym9hcmQgb25VcD17KCkgPT4ge319IC8+XCIpO1xuICBEb2N1bWVudGVkS2V5Ym9hcmQucHJvcFR5cGVzID0ge1xuICAgIHRhcmdldDogUHJvcFR5cGVzLm9uZU9mKFsnY29tcG9uZW50JywgJ2RvY3VtZW50J10pLmRlc2NyaXB0aW9uKCdXaGVyZSB0byBsaXN0ZW4gZm9yIHRoZSBrZXlib2FyZCBwcmVzc2VzLicpLmRlZmF1bHRWYWx1ZSgnY29tcG9uZW50JyksXG4gICAgb25CYWNrc3BhY2U6IFByb3BUeXBlcy5mdW5jLmRlc2NyaXB0aW9uKCdGdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIHVzZXIgcHJlc3NlcyB0aGUgYmFja3NwYWNlIGtleS4nKSxcbiAgICBvbkNvbW1hOiBQcm9wVHlwZXMuZnVuYy5kZXNjcmlwdGlvbignRnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCB3aGVuIHRoZSB1c2VyIHByZXNzZXMgdGhlIGNvbW1hIGtleS4nKSxcbiAgICBvbkRvd246IFByb3BUeXBlcy5mdW5jLmRlc2NyaXB0aW9uKCdGdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIHVzZXIgcHJlc3NlcyB0aGUgZG93biBrZXkuJyksXG4gICAgb25FbnRlcjogUHJvcFR5cGVzLmZ1bmMuZGVzY3JpcHRpb24oJ0Z1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgdXNlciBwcmVzc2VzIHRoZSBlbnRlciBrZXkuJyksXG4gICAgb25Fc2M6IFByb3BUeXBlcy5mdW5jLmRlc2NyaXB0aW9uKCdGdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIHVzZXIgcHJlc3NlcyB0aGUgZXNjIGtleS4nKSxcbiAgICBvbktleURvd246IFByb3BUeXBlcy5mdW5jLmRlc2NyaXB0aW9uKCdGdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIHVzZXIgcHJlc3NlcyBhbnkga2V5LicpLFxuICAgIG9uTGVmdDogUHJvcFR5cGVzLmZ1bmMuZGVzY3JpcHRpb24oJ0Z1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgdXNlciBwcmVzc2VzIHRoZSBsZWZ0IGtleS4nKSxcbiAgICBvblJpZ2h0OiBQcm9wVHlwZXMuZnVuYy5kZXNjcmlwdGlvbignRnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCB3aGVuIHRoZSB1c2VyIHByZXNzZXMgdGhlIHJpZ2h0IGtleS4nKSxcbiAgICBvblNoaWZ0OiBQcm9wVHlwZXMuZnVuYy5kZXNjcmlwdGlvbignRnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCB3aGVuIHRoZSB1c2VyIHByZXNzZXMgdGhlIHNoaWZ0IGtleS4nKSxcbiAgICBvblNwYWNlOiBQcm9wVHlwZXMuZnVuYy5kZXNjcmlwdGlvbignRnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCB3aGVuIHRoZSB1c2VyIHByZXNzZXMgdGhlIHNwYWNlIGtleS4nKSxcbiAgICBvblRhYjogUHJvcFR5cGVzLmZ1bmMuZGVzY3JpcHRpb24oJ0Z1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgdXNlciBwcmVzc2VzIHRoZSB0YWIga2V5LicpLFxuICAgIG9uVXA6IFByb3BUeXBlcy5mdW5jLmRlc2NyaXB0aW9uKCdGdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIHVzZXIgcHJlc3NlcyB0aGUgdXAga2V5LicpXG4gIH07XG4gIHJldHVybiBEb2N1bWVudGVkS2V5Ym9hcmQ7XG59OyIsImV4cG9ydCB7IEtleWJvYXJkIH0gZnJvbSAnLi9LZXlib2FyZCc7IiwiZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0c0xvb3NlKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcy5wcm90b3R5cGUpOyBzdWJDbGFzcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBzdWJDbGFzczsgc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5pbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY3JlYXRlUG9ydGFsIH0gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCB7IGdldE5ld0NvbnRhaW5lciB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmltcG9ydCB7IExheWVyQ29udGFpbmVyIH0gZnJvbSAnLi9MYXllckNvbnRhaW5lcic7XG5pbXBvcnQgeyBhbmltYXRpb25EdXJhdGlvbiB9IGZyb20gJy4vU3R5bGVkTGF5ZXInO1xuXG52YXIgTGF5ZXIgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoTGF5ZXIsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIExheWVyKCkge1xuICAgIHZhciBfdGhpcztcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBfdGhpcyA9IF9Db21wb25lbnQuY2FsbC5hcHBseShfQ29tcG9uZW50LCBbdGhpc10uY29uY2F0KGFyZ3MpKSB8fCB0aGlzO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcInN0YXRlXCIsIHtcbiAgICAgIGlzbGF5ZXJDb250YWluZXJBdmFpbGFibGU6IGZhbHNlXG4gICAgfSk7XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICB2YXIgX3Byb3RvID0gTGF5ZXIucHJvdG90eXBlO1xuXG4gIF9wcm90by5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIC8vIGVuc3VyZSBkb2N1bWVudCBpcyBhdmFpbGFibGVcbiAgICB0aGlzLm9yaWdpbmFsRm9jdXNlZEVsZW1lbnQgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuICAgIHRoaXMubGF5ZXJDb250YWluZXIgPSBnZXROZXdDb250YWluZXIoKTtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzbGF5ZXJDb250YWluZXJBdmFpbGFibGU6IHRydWVcbiAgICB9KTtcbiAgfTtcblxuICBfcHJvdG8uY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIHZhciBfdGhpcyRwcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgIGFuaW1hdGUgPSBfdGhpcyRwcm9wcy5hbmltYXRlLFxuICAgICAgICBhbmltYXRpb24gPSBfdGhpcyRwcm9wcy5hbmltYXRpb247XG5cbiAgICBpZiAodGhpcy5vcmlnaW5hbEZvY3VzZWRFbGVtZW50KSB7XG4gICAgICBpZiAodGhpcy5vcmlnaW5hbEZvY3VzZWRFbGVtZW50LmZvY3VzKSB7XG4gICAgICAgIC8vIHdhaXQgZm9yIHRoZSBmaXhlZCBwb3NpdGlvbmluZyB0byBjb21lIGJhY2sgdG8gbm9ybWFsXG4gICAgICAgIC8vIHNlZSBsYXllciBzdHlsaW5nIGZvciByZWZlcmVuY2VcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXMyLm9yaWdpbmFsRm9jdXNlZEVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgfSwgMCk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMub3JpZ2luYWxGb2N1c2VkRWxlbWVudC5wYXJlbnROb2RlICYmIHRoaXMub3JpZ2luYWxGb2N1c2VkRWxlbWVudC5wYXJlbnROb2RlLmZvY3VzKSB7XG4gICAgICAgIC8vIHJlcXVpcmVkIGZvciBJRTExIGFuZCBFZGdlXG4gICAgICAgIHRoaXMub3JpZ2luYWxGb2N1c2VkRWxlbWVudC5wYXJlbnROb2RlLmZvY3VzKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGFjdGl2ZUFuaW1hdGlvbiA9IGFuaW1hdGlvbiAhPT0gdW5kZWZpbmVkID8gYW5pbWF0aW9uIDogYW5pbWF0ZTtcblxuICAgIGlmIChhY3RpdmVBbmltYXRpb24gIT09IGZhbHNlKSB7XG4gICAgICAvLyB1bmRlZmluZWQgdXNlcyAnc2xpZGUnIGFzIHRoZSBkZWZhdWx0XG4gICAgICAvLyBhbmltYXRlIG91dCBhbmQgcmVtb3ZlIGxhdGVyXG4gICAgICB2YXIgbGF5ZXJDbG9uZSA9IHRoaXMubGF5ZXJDb250YWluZXIuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgbGF5ZXJDbG9uZS5pZCA9ICdsYXllckNsb25lJztcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGF5ZXJDbG9uZSk7XG4gICAgICB2YXIgY2xvbmVkQ29udGFpbmVyID0gbGF5ZXJDbG9uZS5xdWVyeVNlbGVjdG9yKCdbY2xhc3MqPVwiU3R5bGVkTGF5ZXJfX1N0eWxlZENvbnRhaW5lclwiXScpO1xuXG4gICAgICBpZiAoY2xvbmVkQ29udGFpbmVyICYmIGNsb25lZENvbnRhaW5lci5zdHlsZSkge1xuICAgICAgICBjbG9uZWRDb250YWluZXIuc3R5bGUuYW5pbWF0aW9uRGlyZWN0aW9uID0gJ3JldmVyc2UnO1xuICAgICAgfVxuXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gd2UgYWRkIHRoZSBpZCBhbmQgcXVlcnkgaGVyZSBzbyB0aGUgdW5pdCB0ZXN0cyB3b3JrXG4gICAgICAgIHZhciBjbG9uZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsYXllckNsb25lJyk7XG4gICAgICAgIGlmIChjbG9uZSkgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChjbG9uZSk7XG4gICAgICB9LCBhbmltYXRpb25EdXJhdGlvbik7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIGlzbGF5ZXJDb250YWluZXJBdmFpbGFibGUgPSB0aGlzLnN0YXRlLmlzbGF5ZXJDb250YWluZXJBdmFpbGFibGU7XG4gICAgcmV0dXJuIGlzbGF5ZXJDb250YWluZXJBdmFpbGFibGUgPyBjcmVhdGVQb3J0YWwoUmVhY3QuY3JlYXRlRWxlbWVudChMYXllckNvbnRhaW5lciwgdGhpcy5wcm9wcyksIHRoaXMubGF5ZXJDb250YWluZXIpIDogbnVsbDtcbiAgfTtcblxuICByZXR1cm4gTGF5ZXI7XG59KENvbXBvbmVudCk7XG5cbl9kZWZpbmVQcm9wZXJ0eShMYXllciwgXCJkZWZhdWx0UHJvcHNcIiwge1xuICBmdWxsOiBmYWxzZSxcbiAgbWFyZ2luOiAnbm9uZScsXG4gIG1vZGFsOiB0cnVlLFxuICBwb3NpdGlvbjogJ2NlbnRlcicsXG4gIHJlc3BvbnNpdmU6IHRydWVcbn0pO1xuXG52YXIgTGF5ZXJEb2M7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIExheWVyRG9jID0gcmVxdWlyZSgnLi9kb2MnKS5kb2MoTGF5ZXIpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGdsb2JhbC1yZXF1aXJlXG59XG5cbnZhciBMYXllcldyYXBwZXIgPSBMYXllckRvYyB8fCBMYXllcjtcbmV4cG9ydCB7IExheWVyV3JhcHBlciBhcyBMYXllciB9OyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0c0xvb3NlKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcy5wcm90b3R5cGUpOyBzdWJDbGFzcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBzdWJDbGFzczsgc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5pbXBvcnQgUmVhY3QsIHsgY3JlYXRlUmVmLCBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgc3R5bGVkIGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCB7IGRlZmF1bHRQcm9wcyB9IGZyb20gJy4uLy4uL2RlZmF1bHQtcHJvcHMnO1xuaW1wb3J0IHsgVGhlbWVDb250ZXh0IH0gZnJvbSAnLi4vLi4vY29udGV4dHMnO1xuaW1wb3J0IHsgRm9jdXNlZENvbnRhaW5lciB9IGZyb20gJy4uL0ZvY3VzZWRDb250YWluZXInO1xuaW1wb3J0IHsgS2V5Ym9hcmQgfSBmcm9tICcuLi9LZXlib2FyZCc7XG5pbXBvcnQgeyBiYWNrZ3JvdW5kSXNEYXJrIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuaW1wb3J0IHsgU3R5bGVkTGF5ZXIsIFN0eWxlZENvbnRhaW5lciwgU3R5bGVkT3ZlcmxheSB9IGZyb20gJy4vU3R5bGVkTGF5ZXInO1xudmFyIEhpZGRlbkFuY2hvciA9IHN0eWxlZC5hLndpdGhDb25maWcoe1xuICBkaXNwbGF5TmFtZTogXCJMYXllckNvbnRhaW5lcl9fSGlkZGVuQW5jaG9yXCIsXG4gIGNvbXBvbmVudElkOiBcInNjLTFzcmoxNGMtMFwiXG59KShbXCJ3aWR0aDowO2hlaWdodDowO292ZXJmbG93OmhpZGRlbjtwb3NpdGlvbjphYnNvbHV0ZTtcIl0pO1xuXG52YXIgTGF5ZXJDb250YWluZXIgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoTGF5ZXJDb250YWluZXIsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIExheWVyQ29udGFpbmVyKCkge1xuICAgIHZhciBfdGhpcztcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBfdGhpcyA9IF9Db21wb25lbnQuY2FsbC5hcHBseShfQ29tcG9uZW50LCBbdGhpc10uY29uY2F0KGFyZ3MpKSB8fCB0aGlzO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcImFuY2hvclJlZlwiLCBjcmVhdGVSZWYoKSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiY29udGFpbmVyUmVmXCIsIFJlYWN0LmNyZWF0ZVJlZigpKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJsYXllclJlZlwiLCBSZWFjdC5jcmVhdGVSZWYoKSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwibWFrZUxheWVyVmlzaWJsZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgbm9kZSA9IF90aGlzLmxheWVyUmVmLmN1cnJlbnQgfHwgX3RoaXMuY29udGFpbmVyUmVmLmN1cnJlbnQ7XG5cbiAgICAgIGlmIChub2RlICYmIG5vZGUuc2Nyb2xsSW50b1ZpZXcpIHtcbiAgICAgICAgbm9kZS5zY3JvbGxJbnRvVmlldygpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IExheWVyQ29udGFpbmVyLnByb3RvdHlwZTtcblxuICBfcHJvdG8uY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB2YXIgcG9zaXRpb24gPSB0aGlzLnByb3BzLnBvc2l0aW9uO1xuXG4gICAgaWYgKHBvc2l0aW9uICE9PSAnaGlkZGVuJykge1xuICAgICAgdGhpcy5tYWtlTGF5ZXJWaXNpYmxlKCk7IC8vIE9uY2UgbGF5ZXIgaXMgb3BlbiB3ZSBtYWtlIHN1cmUgaXQgaGFzIGZvY3VzIHNvIHRoYXQgeW91XG4gICAgICAvLyBjYW4gc3RhcnQgdGFiYmluZyBpbnNpZGUgdGhlIGxheWVyLiBJZiB0aGUgY2FsbGVyIHB1dCBmb2N1c1xuICAgICAgLy8gb24gYW4gZWxlbWVudCBhbHJlYWR5LCB3ZSBob25vciB0aGF0LiBPdGhlcndpc2UsIHdlIHB1dFxuICAgICAgLy8gdGhlIGZvY3VzIGluIHRoZSBoaWRkZW4gYW5jaG9yLlxuXG4gICAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG5cbiAgICAgIHdoaWxlIChlbGVtZW50KSB7XG4gICAgICAgIGlmIChlbGVtZW50ID09PSB0aGlzLmNvbnRhaW5lclJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgLy8gYWxyZWFkeSBoYXZlIGZvY3VzIGluc2lkZSB0aGUgY29udGFpbmVyXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBlbGVtZW50ID0gZWxlbWVudC5wYXJlbnRFbGVtZW50O1xuICAgICAgfVxuXG4gICAgICBpZiAoIWVsZW1lbnQgJiYgdGhpcy5hbmNob3JSZWYuY3VycmVudCkge1xuICAgICAgICB0aGlzLmFuY2hvclJlZi5jdXJyZW50LmZvY3VzKCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG4gICAgdmFyIHBvc2l0aW9uID0gdGhpcy5wcm9wcy5wb3NpdGlvbjtcblxuICAgIGlmIChwcmV2UHJvcHMucG9zaXRpb24gIT09IHBvc2l0aW9uICYmIHBvc2l0aW9uICE9PSAnaGlkZGVuJykge1xuICAgICAgdGhpcy5tYWtlTGF5ZXJWaXNpYmxlKCk7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIF90aGlzJHByb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgY2hpbGRyZW4gPSBfdGhpcyRwcm9wcy5jaGlsZHJlbixcbiAgICAgICAgaWQgPSBfdGhpcyRwcm9wcy5pZCxcbiAgICAgICAgbW9kYWwgPSBfdGhpcyRwcm9wcy5tb2RhbCxcbiAgICAgICAgb25DbGlja091dHNpZGUgPSBfdGhpcyRwcm9wcy5vbkNsaWNrT3V0c2lkZSxcbiAgICAgICAgb25Fc2MgPSBfdGhpcyRwcm9wcy5vbkVzYyxcbiAgICAgICAgcGxhaW4gPSBfdGhpcyRwcm9wcy5wbGFpbixcbiAgICAgICAgcG9zaXRpb24gPSBfdGhpcyRwcm9wcy5wb3NpdGlvbixcbiAgICAgICAgcmVzcG9uc2l2ZSA9IF90aGlzJHByb3BzLnJlc3BvbnNpdmUsXG4gICAgICAgIHByb3BzVGhlbWUgPSBfdGhpcyRwcm9wcy50aGVtZSxcbiAgICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF90aGlzJHByb3BzLCBbXCJjaGlsZHJlblwiLCBcImlkXCIsIFwibW9kYWxcIiwgXCJvbkNsaWNrT3V0c2lkZVwiLCBcIm9uRXNjXCIsIFwicGxhaW5cIiwgXCJwb3NpdGlvblwiLCBcInJlc3BvbnNpdmVcIiwgXCJ0aGVtZVwiXSk7XG5cbiAgICB2YXIgdGhlbWUgPSB0aGlzLmNvbnRleHQgfHwgcHJvcHNUaGVtZTtcbiAgICB2YXIgY29udGVudCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkQ29udGFpbmVyLCBfZXh0ZW5kcyh7XG4gICAgICBpZDogaWRcbiAgICB9LCByZXN0LCB7XG4gICAgICBwb3NpdGlvbjogcG9zaXRpb24sXG4gICAgICBwbGFpbjogcGxhaW4sXG4gICAgICByZXNwb25zaXZlOiByZXNwb25zaXZlLFxuICAgICAgcmVmOiB0aGlzLmNvbnRhaW5lclJlZlxuICAgIH0pLCBSZWFjdC5jcmVhdGVFbGVtZW50KEhpZGRlbkFuY2hvciwge1xuICAgICAgcmVmOiB0aGlzLmFuY2hvclJlZixcbiAgICAgIHRhYkluZGV4OiBcIi0xXCIsXG4gICAgICBcImFyaWEtaGlkZGVuXCI6IFwidHJ1ZVwiXG4gICAgfSksIGNoaWxkcmVuKTtcblxuICAgIGlmIChtb2RhbCkge1xuICAgICAgY29udGVudCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkTGF5ZXIsIHtcbiAgICAgICAgaWQ6IGlkLFxuICAgICAgICBwbGFpbjogcGxhaW4sXG4gICAgICAgIHBvc2l0aW9uOiBwb3NpdGlvbixcbiAgICAgICAgcmVzcG9uc2l2ZTogcmVzcG9uc2l2ZSxcbiAgICAgICAgdGFiSW5kZXg6IFwiLTFcIixcbiAgICAgICAgcmVmOiB0aGlzLmxheWVyUmVmXG4gICAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZE92ZXJsYXksIHtcbiAgICAgICAgcGxhaW46IHBsYWluLFxuICAgICAgICBvbk1vdXNlRG93bjogb25DbGlja091dHNpZGUsXG4gICAgICAgIHJlc3BvbnNpdmU6IHJlc3BvbnNpdmVcbiAgICAgIH0pLCBjb250ZW50KTtcbiAgICAgIC8qIGVzbGludC1lbmFibGUganN4LWExMXkvYW5jaG9yLWlzLXZhbGlkLCBqc3gtYTExeS9hbmNob3ItaGFzLWNvbnRlbnQgKi9cbiAgICB9XG5cbiAgICBpZiAob25Fc2MpIHtcbiAgICAgIGNvbnRlbnQgPSBSZWFjdC5jcmVhdGVFbGVtZW50KEtleWJvYXJkLCB7XG4gICAgICAgIG9uRXNjOiBvbkVzY1xuICAgICAgfSwgY29udGVudCk7XG4gICAgfVxuXG4gICAgaWYgKHRoZW1lLmxheWVyLmJhY2tncm91bmQpIHtcbiAgICAgIHZhciBkYXJrID0gYmFja2dyb3VuZElzRGFyayh0aGVtZS5sYXllci5iYWNrZ3JvdW5kLCB0aGVtZSk7XG5cbiAgICAgIGlmIChkYXJrICE9PSB1bmRlZmluZWQgJiYgZGFyayAhPT0gdGhlbWUuZGFyaykge1xuICAgICAgICBjb250ZW50ID0gUmVhY3QuY3JlYXRlRWxlbWVudChUaGVtZUNvbnRleHQuUHJvdmlkZXIsIHtcbiAgICAgICAgICB2YWx1ZTogX2V4dGVuZHMoe30sIHRoZW1lLCB7XG4gICAgICAgICAgICBkYXJrOiBkYXJrXG4gICAgICAgICAgfSlcbiAgICAgICAgfSwgY29udGVudCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG1vZGFsKSB7XG4gICAgICBjb250ZW50ID0gUmVhY3QuY3JlYXRlRWxlbWVudChGb2N1c2VkQ29udGFpbmVyLCB7XG4gICAgICAgIGhpZGRlbjogcG9zaXRpb24gPT09ICdoaWRkZW4nLFxuICAgICAgICByZXN0cmljdFNjcm9sbDogdHJ1ZVxuICAgICAgfSwgY29udGVudCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbnRlbnQ7XG4gIH07XG5cbiAgcmV0dXJuIExheWVyQ29udGFpbmVyO1xufShDb21wb25lbnQpO1xuXG5fZGVmaW5lUHJvcGVydHkoTGF5ZXJDb250YWluZXIsIFwiY29udGV4dFR5cGVcIiwgVGhlbWVDb250ZXh0KTtcblxuX2RlZmluZVByb3BlcnR5KExheWVyQ29udGFpbmVyLCBcImRlZmF1bHRQcm9wc1wiLCB7XG4gIGZ1bGw6IGZhbHNlLFxuICBtYXJnaW46ICdub25lJyxcbiAgbW9kYWw6IHRydWUsXG4gIHBvc2l0aW9uOiAnY2VudGVyJ1xufSk7XG5cbk9iamVjdC5zZXRQcm90b3R5cGVPZihMYXllckNvbnRhaW5lci5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG5leHBvcnQgeyBMYXllckNvbnRhaW5lciB9OyIsImltcG9ydCBzdHlsZWQsIHsgY3NzLCBrZXlmcmFtZXMgfSBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBiYXNlU3R5bGUsIGJhY2tncm91bmRTdHlsZSwgYnJlYWtwb2ludFN0eWxlIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuaW1wb3J0IHsgZGVmYXVsdFByb3BzIH0gZnJvbSAnLi4vLi4vZGVmYXVsdC1wcm9wcyc7XG52YXIgaGlkZGVuUG9zaXRpb25TdHlsZSA9IGNzcyhbXCJsZWZ0Oi0xMDAlO3JpZ2h0OjEwMCU7ei1pbmRleDotMTtwb3NpdGlvbjpmaXhlZDtcIl0pO1xudmFyIGRlc2t0b3BMYXllclN0eWxlID0gXCJcXG4gIHBvc2l0aW9uOiBmaXhlZDtcXG4gIHRvcDogMHB4O1xcbiAgbGVmdDogMHB4O1xcbiAgcmlnaHQ6IDBweDtcXG4gIGJvdHRvbTogMHB4O1xcbiAgd2lkdGg6IDEwMHZ3O1xcbiAgaGVpZ2h0OiAxMDB2aDtcXG5cIjtcbnZhciByZXNwb25zaXZlTGF5ZXJTdHlsZSA9IFwiXFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogMTAwJTtcXG4gIG1pbi1oZWlnaHQ6IDEwMHZoO1xcblwiO1xudmFyIFN0eWxlZExheWVyID0gc3R5bGVkLmRpdi53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiU3R5bGVkTGF5ZXJcIixcbiAgY29tcG9uZW50SWQ6IFwicm10ZWh6LTBcIlxufSkoW1wiXCIsIFwiIGJhY2tncm91bmQ6dW5zZXQ7cG9zaXRpb246cmVsYXRpdmU7ei1pbmRleDpcIiwgXCI7cG9pbnRlci1ldmVudHM6bm9uZTtvdXRsaW5lOm5vbmU7XCIsIFwiIFwiLCBcIjtcIl0sIGJhc2VTdHlsZSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5sYXllci56SW5kZXg7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgaWYgKHByb3BzLnBvc2l0aW9uID09PSAnaGlkZGVuJykge1xuICAgIHJldHVybiBoaWRkZW5Qb3NpdGlvblN0eWxlO1xuICB9XG5cbiAgdmFyIHN0eWxlcyA9IFtkZXNrdG9wTGF5ZXJTdHlsZV07XG5cbiAgaWYgKHByb3BzLnJlc3BvbnNpdmUgJiYgcHJvcHMudGhlbWUubGF5ZXIucmVzcG9uc2l2ZUJyZWFrcG9pbnQpIHtcbiAgICB2YXIgYnJlYWtwb2ludCA9IHByb3BzLnRoZW1lLmdsb2JhbC5icmVha3BvaW50c1twcm9wcy50aGVtZS5sYXllci5yZXNwb25zaXZlQnJlYWtwb2ludF07XG4gICAgc3R5bGVzLnB1c2goYnJlYWtwb2ludFN0eWxlKGJyZWFrcG9pbnQsIHJlc3BvbnNpdmVMYXllclN0eWxlKSk7XG4gIH1cblxuICByZXR1cm4gc3R5bGVzO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5sYXllciAmJiBwcm9wcy50aGVtZS5sYXllci5leHRlbmQ7XG59KTtcblN0eWxlZExheWVyLmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKFN0eWxlZExheWVyLmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbnZhciBTdHlsZWRPdmVybGF5ID0gc3R5bGVkLmRpdi53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiU3R5bGVkTGF5ZXJfX1N0eWxlZE92ZXJsYXlcIixcbiAgY29tcG9uZW50SWQ6IFwicm10ZWh6LTFcIlxufSkoW1wicG9zaXRpb246YWJzb2x1dGU7XCIsIFwiIHRvcDowcHg7bGVmdDowcHg7cmlnaHQ6MHB4O2JvdHRvbTowcHg7XCIsIFwiIHBvaW50ZXItZXZlbnRzOmFsbDtcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICBpZiAocHJvcHMucmVzcG9uc2l2ZSAmJiBwcm9wcy50aGVtZS5sYXllci5yZXNwb25zaXZlQnJlYWtwb2ludCkge1xuICAgIHZhciBicmVha3BvaW50ID0gcHJvcHMudGhlbWUuZ2xvYmFsLmJyZWFrcG9pbnRzW3Byb3BzLnRoZW1lLmxheWVyLnJlc3BvbnNpdmVCcmVha3BvaW50XTtcbiAgICByZXR1cm4gYnJlYWtwb2ludFN0eWxlKGJyZWFrcG9pbnQsICdwb3NpdGlvbjogcmVsYXRpdmU7Jyk7XG4gIH1cblxuICByZXR1cm4gJyc7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuICFwcm9wcy5wbGFpbiAmJiBwcm9wcy50aGVtZS5sYXllci5vdmVybGF5LmJhY2tncm91bmQgJiYgYmFja2dyb3VuZFN0eWxlKHByb3BzLnRoZW1lLmxheWVyLm92ZXJsYXkuYmFja2dyb3VuZCwgcHJvcHMudGhlbWUpO1xufSk7XG5cbnZhciBnZXRNYXJnaW4gPSBmdW5jdGlvbiBnZXRNYXJnaW4obWFyZ2luLCB0aGVtZSwgcG9zaXRpb24pIHtcbiAgdmFyIGF4aXMgPSBwb3NpdGlvbi5pbmRleE9mKCd0b3AnKSAhPT0gLTEgfHwgcG9zaXRpb24uaW5kZXhPZignYm90dG9tJykgIT09IC0xID8gJ3ZlcnRpY2FsJyA6ICdob3Jpem9udGFsJztcbiAgdmFyIG1hcmdpblZhbHVlID0gbWFyZ2luW3Bvc2l0aW9uXSB8fCBtYXJnaW5bYXhpc10gfHwgbWFyZ2luO1xuICB2YXIgbWFyZ2luQXBwbGllZCA9IHRoZW1lLmdsb2JhbC5lZGdlU2l6ZVttYXJnaW5WYWx1ZV0gfHwgbWFyZ2luVmFsdWU7XG4gIHZhciBtYXJnaW5JblRoZW1lID0gISF0aGVtZS5nbG9iYWwuZWRnZVNpemVbbWFyZ2luVmFsdWVdO1xuICByZXR1cm4gIW1hcmdpbkluVGhlbWUgJiYgdHlwZW9mIG1hcmdpblZhbHVlICE9PSAnc3RyaW5nJyA/ICcwcHgnIDogbWFyZ2luQXBwbGllZDtcbn07XG5cbnZhciBNQVJHSU5TID0gZnVuY3Rpb24gTUFSR0lOUyhtYXJnaW4sIHRoZW1lLCBwb3NpdGlvbikge1xuICBpZiAocG9zaXRpb24gPT09IHZvaWQgMCkge1xuICAgIHBvc2l0aW9uID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgaWYgKHBvc2l0aW9uKSB7XG4gICAgcmV0dXJuIGdldE1hcmdpbihtYXJnaW4sIHRoZW1lLCBwb3NpdGlvbik7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGJvdHRvbTogZ2V0TWFyZ2luKG1hcmdpbiwgdGhlbWUsICdib3R0b20nKSxcbiAgICAnYm90dG9tLWxlZnQnOiBnZXRNYXJnaW4obWFyZ2luLCB0aGVtZSwgJ2JvdHRvbS1sZWZ0JyksXG4gICAgJ2JvdHRvbS1yaWdodCc6IGdldE1hcmdpbihtYXJnaW4sIHRoZW1lLCAnYm90dG9tLXJpZ2h0JyksXG4gICAgbGVmdDogZ2V0TWFyZ2luKG1hcmdpbiwgdGhlbWUsICdsZWZ0JyksXG4gICAgcmlnaHQ6IGdldE1hcmdpbihtYXJnaW4sIHRoZW1lLCAncmlnaHQnKSxcbiAgICB0b3A6IGdldE1hcmdpbihtYXJnaW4sIHRoZW1lLCAndG9wJyksXG4gICAgJ3RvcC1yaWdodCc6IGdldE1hcmdpbihtYXJnaW4sIHRoZW1lLCAndG9wLXJpZ2h0JyksXG4gICAgJ3RvcC1sZWZ0JzogZ2V0TWFyZ2luKG1hcmdpbiwgdGhlbWUsICd0b3AtbGVmdCcpXG4gIH07XG59O1xuXG52YXIgS0VZRlJBTUVTID0ge1xuICBjZW50ZXI6IHtcbiAgICB2ZXJ0aWNhbDoga2V5ZnJhbWVzKFtcIjAle3RyYW5zZm9ybTp0cmFuc2xhdGVYKC01MCUpIHNjYWxlKDAuOCk7fTEwMCV7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTUwJSkgc2NhbGUoMSk7fVwiXSksXG4gICAgaG9yaXpvbnRhbDoga2V5ZnJhbWVzKFtcIjAle3RyYW5zZm9ybTp0cmFuc2xhdGVZKC01MCUpIHNjYWxlKDAuOCk7fTEwMCV7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTUwKSBzY2FsZSgxKTt9XCJdKSxcbiAgICBcInRydWVcIjoga2V5ZnJhbWVzKFtcIjAle3RyYW5zZm9ybTpzY2FsZSgwLjgpO30xMDAle3RyYW5zZm9ybTpzY2FsZSgxKTt9XCJdKSxcbiAgICBcImZhbHNlXCI6IGtleWZyYW1lcyhbXCIwJXt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsLTUwJSkgc2NhbGUoMC44KTt9MTAwJXt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsLTUwJSkgc2NhbGUoMSk7fVwiXSlcbiAgfSxcbiAgdG9wOiB7XG4gICAgdmVydGljYWw6IGtleWZyYW1lcyhbXCIwJXt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsLTEwMCUpO30xMDAle3RyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSwwKTt9XCJdKSxcbiAgICBob3Jpem9udGFsOiBrZXlmcmFtZXMoW1wiMCV7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTEwMCUpO30xMDAle3RyYW5zZm9ybTp0cmFuc2xhdGVZKDApO31cIl0pLFxuICAgIFwidHJ1ZVwiOiBrZXlmcmFtZXMoW1wiMCV7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTEwMCUpO30xMDAle3RyYW5zZm9ybTp0cmFuc2xhdGVZKDApO31cIl0pLFxuICAgIFwiZmFsc2VcIjoga2V5ZnJhbWVzKFtcIjAle3RyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSwtMTAwJSk7fTEwMCV7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLDApO31cIl0pXG4gIH0sXG4gIGJvdHRvbToge1xuICAgIHZlcnRpY2FsOiBrZXlmcmFtZXMoW1wiMCV7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLDEwMCUpO30xMDAle3RyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSwwKTt9XCJdKSxcbiAgICBob3Jpem9udGFsOiBrZXlmcmFtZXMoW1wiMCV7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMTAwJSk7fTEwMCV7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCk7fVwiXSksXG4gICAgXCJ0cnVlXCI6IGtleWZyYW1lcyhbXCIwJXt0cmFuc2Zvcm06dHJhbnNsYXRlWSgxMDAlKTt9MTAwJXt0cmFuc2Zvcm06dHJhbnNsYXRlWSgwKTt9XCJdKSxcbiAgICBcImZhbHNlXCI6IGtleWZyYW1lcyhbXCIwJXt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsMTAwJSk7fTEwMCV7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLDApO31cIl0pXG4gIH0sXG4gIGxlZnQ6IHtcbiAgICB2ZXJ0aWNhbDoga2V5ZnJhbWVzKFtcIjAle3RyYW5zZm9ybTp0cmFuc2xhdGVYKC0xMDAlKTt9MTAwJXt0cmFuc2Zvcm06dHJhbnNsYXRlWCgwKTt9XCJdKSxcbiAgICBob3Jpem9udGFsOiBrZXlmcmFtZXMoW1wiMCV7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtMTAwJSwtNTAlKTt9MTAwJXt0cmFuc2Zvcm06dHJhbnNsYXRlKDAsLTUwJSk7fVwiXSksXG4gICAgXCJ0cnVlXCI6IGtleWZyYW1lcyhbXCIwJXt0cmFuc2Zvcm06dHJhbnNsYXRlWCgtMTAwJSk7fTEwMCV7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoMCk7fVwiXSksXG4gICAgXCJmYWxzZVwiOiBrZXlmcmFtZXMoW1wiMCV7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtMTAwJSwtNTAlKTt9MTAwJXt0cmFuc2Zvcm06dHJhbnNsYXRlKDAsLTUwJSk7fVwiXSlcbiAgfSxcbiAgcmlnaHQ6IHtcbiAgICB2ZXJ0aWNhbDoga2V5ZnJhbWVzKFtcIjAle3RyYW5zZm9ybTp0cmFuc2xhdGVYKDEwMCUpO30xMDAle3RyYW5zZm9ybTp0cmFuc2xhdGVYKDApO31cIl0pLFxuICAgIGhvcml6b250YWw6IGtleWZyYW1lcyhbXCIwJXt0cmFuc2Zvcm06dHJhbnNsYXRlKDEwMCUsLTUwJSk7fTEwMCV7dHJhbnNmb3JtOnRyYW5zbGF0ZSgwLC01MCUpO31cIl0pLFxuICAgIFwidHJ1ZVwiOiBrZXlmcmFtZXMoW1wiMCV7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoMTAwJSk7fTEwMCV7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoMCk7fVwiXSksXG4gICAgXCJmYWxzZVwiOiBrZXlmcmFtZXMoW1wiMCV7dHJhbnNmb3JtOnRyYW5zbGF0ZSgxMDAlLC01MCUpO30xMDAle3RyYW5zZm9ybTp0cmFuc2xhdGUoMCwtNTAlKTt9XCJdKVxuICB9XG59O1xudmFyIGFuaW1hdGlvbkR1cmF0aW9uID0gMjAwO1xuXG52YXIgZ2V0QW5pbWF0aW9uU3R5bGUgPSBmdW5jdGlvbiBnZXRBbmltYXRpb25TdHlsZShwcm9wcywgcG9zaXRpb24sIGZ1bGwpIHtcbiAgdmFyIGFuaW1hdGlvbiA9IHByb3BzLmFuaW1hdGlvbiAhPT0gdW5kZWZpbmVkID8gcHJvcHMuYW5pbWF0aW9uIDogcHJvcHMuYW5pbWF0ZTtcbiAgaWYgKGFuaW1hdGlvbiA9PT0gdW5kZWZpbmVkKSBhbmltYXRpb24gPSAnc2xpZGUnO1xuICB2YXIga2V5cztcblxuICBpZiAoYW5pbWF0aW9uID09PSAnc2xpZGUnIHx8IGFuaW1hdGlvbiA9PT0gdHJ1ZSkge1xuICAgIGtleXMgPSBLRVlGUkFNRVNbcG9zaXRpb25dW2Z1bGxdO1xuICB9IGVsc2UgaWYgKGFuaW1hdGlvbiA9PT0gJ2ZhZGVJbicpIHtcbiAgICBrZXlzID0ga2V5ZnJhbWVzKFtcIjAle29wYWNpdHk6MH0xMDAle29wYWNpdHk6MX1cIl0pO1xuICB9XG5cbiAgcmV0dXJuIGtleXMgPyBjc3MoW1wiYW5pbWF0aW9uOlwiLCBcIiBcIiwgXCJzIGVhc2UtaW4tb3V0IGZvcndhcmRzO1wiXSwga2V5cywgYW5pbWF0aW9uRHVyYXRpb24gLyAxMDAwLjApIDogJyc7XG59OyAvLyBQT1NJVElPTlMgY29tYmluZXMgJ3Bvc2l0aW9uJywgJ2Z1bGwnLCBhbmQgJ21hcmdpbicgcHJvcGVydGllcywgc2luY2Vcbi8vIHRoZXkgYXJlIGFsbCBpbnRlcmRlcGVuZGVudC5cbi8vIEJhc2ljYWxseSwgbm9uLWZ1bGwgYXhlcyBjb21iaW5lIDUwJSBwb3NpdGlvbiB3aXRoIC01MCUgdHJhbnNsYXRpb24uXG4vLyBmdWxsIGF4ZXMgcGluIHRvIHRoZSB3aW5kb3cgZWRnZXMgb2Zmc2V0IGJ5IGFueSBtYXJnaW4uXG4vLyBUaGUga2V5ZnJhbWUgYW5pbWF0aW9ucyBhcmUgaW5jbHVkZWQgYXMgdGhleSBhcmUgZG9uZSB2aWEgdHJhbnNsYXRpb25zXG4vLyBhcyB3ZWxsIHNvIHRoZXkgbXVzdCB0YWtlIGludG8gYWNjb3VudCB0aGUgbm9uLWFuaW1hdGVkIHBvc2l0aW9uaW5nLlxuXG5cbnZhciBQT1NJVElPTlMgPSB7XG4gIGNlbnRlcjoge1xuICAgIHZlcnRpY2FsOiBmdW5jdGlvbiB2ZXJ0aWNhbChtYXJnaW4pIHtcbiAgICAgIHJldHVybiBjc3MoW1widG9wOlwiLCBcIjtib3R0b206XCIsIFwiO2xlZnQ6NTAlO3RyYW5zZm9ybTp0cmFuc2xhdGVYKC01MCUpO1wiLCBcIlwiXSwgbWFyZ2luLnRvcCwgbWFyZ2luLmJvdHRvbSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICAgIHJldHVybiBnZXRBbmltYXRpb25TdHlsZShwcm9wcywgJ2NlbnRlcicsICd2ZXJ0aWNhbCcpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBob3Jpem9udGFsOiBmdW5jdGlvbiBob3Jpem9udGFsKG1hcmdpbikge1xuICAgICAgcmV0dXJuIGNzcyhbXCJsZWZ0OlwiLCBcIjtyaWdodDpcIiwgXCI7dG9wOjUwJTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgtNTAlKTtcIiwgXCJcIl0sIG1hcmdpbi5sZWZ0LCBtYXJnaW4ucmlnaHQsIGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICByZXR1cm4gZ2V0QW5pbWF0aW9uU3R5bGUocHJvcHMsICdjZW50ZXInLCAnaG9yaXpvbnRhbCcpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBcInRydWVcIjogZnVuY3Rpb24gX3RydWUobWFyZ2luKSB7XG4gICAgICByZXR1cm4gY3NzKFtcInRvcDpcIiwgXCI7Ym90dG9tOlwiLCBcIjtsZWZ0OlwiLCBcIjtyaWdodDpcIiwgXCI7XCIsIFwiXCJdLCBtYXJnaW4udG9wLCBtYXJnaW4uYm90dG9tLCBtYXJnaW4ubGVmdCwgbWFyZ2luLnJpZ2h0LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgcmV0dXJuIGdldEFuaW1hdGlvblN0eWxlKHByb3BzLCAnY2VudGVyJywgJ3RydWUnKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgXCJmYWxzZVwiOiBmdW5jdGlvbiBfZmFsc2UoKSB7XG4gICAgICByZXR1cm4gY3NzKFtcInRvcDo1MCU7bGVmdDo1MCU7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLC01MCUpO1wiLCBcIlwiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICAgIHJldHVybiBnZXRBbmltYXRpb25TdHlsZShwcm9wcywgJ2NlbnRlcicsICdmYWxzZScpO1xuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICB0b3A6IHtcbiAgICB2ZXJ0aWNhbDogZnVuY3Rpb24gdmVydGljYWwobWFyZ2luKSB7XG4gICAgICByZXR1cm4gY3NzKFtcInRvcDpcIiwgXCI7Ym90dG9tOlwiLCBcIjtsZWZ0OjUwJTt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsMCUpO1wiLCBcIlwiXSwgbWFyZ2luLnRvcCwgbWFyZ2luLmJvdHRvbSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICAgIHJldHVybiBnZXRBbmltYXRpb25TdHlsZShwcm9wcywgJ3RvcCcsICd2ZXJ0aWNhbCcpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBob3Jpem9udGFsOiBmdW5jdGlvbiBob3Jpem9udGFsKG1hcmdpbikge1xuICAgICAgcmV0dXJuIGNzcyhbXCJsZWZ0OlwiLCBcIjtyaWdodDpcIiwgXCI7dG9wOlwiLCBcIjt0cmFuc2Zvcm06dHJhbnNsYXRlWSgwKTtcIiwgXCJcIl0sIG1hcmdpbi5sZWZ0LCBtYXJnaW4ucmlnaHQsIG1hcmdpbi50b3AsIGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICByZXR1cm4gZ2V0QW5pbWF0aW9uU3R5bGUocHJvcHMsICd0b3AnLCAnaG9yaXpvbnRhbCcpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBcInRydWVcIjogZnVuY3Rpb24gX3RydWUobWFyZ2luKSB7XG4gICAgICByZXR1cm4gY3NzKFtcInRvcDpcIiwgXCI7Ym90dG9tOlwiLCBcIjtsZWZ0OlwiLCBcIjtyaWdodDpcIiwgXCI7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCk7XCIsIFwiXCJdLCBtYXJnaW4udG9wLCBtYXJnaW4uYm90dG9tLCBtYXJnaW4ubGVmdCwgbWFyZ2luLnJpZ2h0LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgcmV0dXJuIGdldEFuaW1hdGlvblN0eWxlKHByb3BzLCAndG9wJywgJ3RydWUnKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgXCJmYWxzZVwiOiBmdW5jdGlvbiBfZmFsc2UobWFyZ2luKSB7XG4gICAgICByZXR1cm4gY3NzKFtcInRvcDpcIiwgXCI7bGVmdDo1MCU7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLDApO1wiLCBcIlwiXSwgbWFyZ2luLnRvcCwgZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICAgIHJldHVybiBnZXRBbmltYXRpb25TdHlsZShwcm9wcywgJ3RvcCcsICdmYWxzZScpO1xuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICBib3R0b206IHtcbiAgICB2ZXJ0aWNhbDogZnVuY3Rpb24gdmVydGljYWwobWFyZ2luKSB7XG4gICAgICByZXR1cm4gY3NzKFtcInRvcDpcIiwgXCIgYm90dG9tOlwiLCBcIjtsZWZ0OjUwJTt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsMCk7XCIsIFwiXCJdLCBtYXJnaW4udG9wLCBtYXJnaW4uYm90dG9tLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgcmV0dXJuIGdldEFuaW1hdGlvblN0eWxlKHByb3BzLCAnYm90dG9tJywgJ3ZlcnRpY2FsJyk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGhvcml6b250YWw6IGZ1bmN0aW9uIGhvcml6b250YWwobWFyZ2luKSB7XG4gICAgICByZXR1cm4gY3NzKFtcImxlZnQ6XCIsIFwiO3JpZ2h0OlwiLCBcIjtib3R0b206XCIsIFwiO3RyYW5zZm9ybTp0cmFuc2xhdGVZKDApO1wiLCBcIlwiXSwgbWFyZ2luLmxlZnQsIG1hcmdpbi50b3AsIG1hcmdpbi5ib3R0b20sIGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICByZXR1cm4gZ2V0QW5pbWF0aW9uU3R5bGUocHJvcHMsICdib3R0b20nLCAnaG9yaXpvbnRhbCcpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBcInRydWVcIjogZnVuY3Rpb24gX3RydWUobWFyZ2luKSB7XG4gICAgICByZXR1cm4gY3NzKFtcInRvcDpcIiwgXCI7Ym90dG9tOlwiLCBcIjtsZWZ0OlwiLCBcIjtyaWdodDpcIiwgXCI7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCk7XCIsIFwiXCJdLCBtYXJnaW4udG9wLCBtYXJnaW4uYm90dG9tLCBtYXJnaW4ubGVmdCwgbWFyZ2luLnJpZ2h0LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgcmV0dXJuIGdldEFuaW1hdGlvblN0eWxlKHByb3BzLCAnYm90dG9tJywgJ3RydWUnKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgXCJmYWxzZVwiOiBmdW5jdGlvbiBfZmFsc2UobWFyZ2luKSB7XG4gICAgICByZXR1cm4gY3NzKFtcImJvdHRvbTpcIiwgXCI7bGVmdDo1MCU7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLDApO1wiLCBcIlwiXSwgbWFyZ2luLmJvdHRvbSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICAgIHJldHVybiBnZXRBbmltYXRpb25TdHlsZShwcm9wcywgJ2JvdHRvbScsICdmYWxzZScpO1xuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICBsZWZ0OiB7XG4gICAgdmVydGljYWw6IGZ1bmN0aW9uIHZlcnRpY2FsKG1hcmdpbikge1xuICAgICAgcmV0dXJuIGNzcyhbXCJ0b3A6XCIsIFwiO2JvdHRvbTpcIiwgXCI7bGVmdDpcIiwgXCI7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoMCk7XCIsIFwiXCJdLCBtYXJnaW4udG9wLCBtYXJnaW4uYm90dG9tLCBtYXJnaW4ubGVmdCwgZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICAgIHJldHVybiBnZXRBbmltYXRpb25TdHlsZShwcm9wcywgJ2xlZnQnLCAndmVydGljYWwnKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgaG9yaXpvbnRhbDogZnVuY3Rpb24gaG9yaXpvbnRhbChtYXJnaW4pIHtcbiAgICAgIHJldHVybiBjc3MoW1wibGVmdDpcIiwgXCI7cmlnaHQ6XCIsIFwiO3RvcDo1MCU7dHJhbnNmb3JtOnRyYW5zbGF0ZSgwLC01MCUpO1wiLCBcIlwiXSwgbWFyZ2luLmxlZnQsIG1hcmdpbi5yaWdodCwgZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICAgIHJldHVybiBnZXRBbmltYXRpb25TdHlsZShwcm9wcywgJ2xlZnQnLCAnaG9yaXpvbnRhbCcpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBcInRydWVcIjogZnVuY3Rpb24gX3RydWUobWFyZ2luKSB7XG4gICAgICByZXR1cm4gY3NzKFtcInRvcDpcIiwgXCI7Ym90dG9tOlwiLCBcIjtsZWZ0OlwiLCBcIjtyaWdodDpcIiwgXCI7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoMCk7XCIsIFwiXCJdLCBtYXJnaW4udG9wLCBtYXJnaW4uYm90dG9tLCBtYXJnaW4ubGVmdCwgbWFyZ2luLnJpZ2h0LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgcmV0dXJuIGdldEFuaW1hdGlvblN0eWxlKHByb3BzLCAnbGVmdCcsICd0cnVlJyk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIFwiZmFsc2VcIjogZnVuY3Rpb24gX2ZhbHNlKG1hcmdpbikge1xuICAgICAgcmV0dXJuIGNzcyhbXCJsZWZ0OlwiLCBcIjt0b3A6NTAlO3RyYW5zZm9ybTp0cmFuc2xhdGUoMCwtNTAlKTtcIiwgXCJcIl0sIG1hcmdpbi5sZWZ0LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgcmV0dXJuIGdldEFuaW1hdGlvblN0eWxlKHByb3BzLCAnbGVmdCcsICdmYWxzZScpO1xuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICByaWdodDoge1xuICAgIHZlcnRpY2FsOiBmdW5jdGlvbiB2ZXJ0aWNhbChtYXJnaW4pIHtcbiAgICAgIHJldHVybiBjc3MoW1widG9wOlwiLCBcIjtib3R0b206XCIsIFwiO3JpZ2h0OlwiLCBcIjt0cmFuc2Zvcm06dHJhbnNsYXRlWCgwKTtcIiwgXCJcIl0sIG1hcmdpbi50b3AsIG1hcmdpbi5ib3R0b20sIG1hcmdpbi5yaWdodCwgZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICAgIHJldHVybiBnZXRBbmltYXRpb25TdHlsZShwcm9wcywgJ3JpZ2h0JywgJ3ZlcnRpY2FsJyk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGhvcml6b250YWw6IGZ1bmN0aW9uIGhvcml6b250YWwobWFyZ2luKSB7XG4gICAgICByZXR1cm4gY3NzKFtcImxlZnQ6XCIsIFwiO3JpZ2h0OlwiLCBcIjt0b3A6NTAlO3RyYW5zZm9ybTp0cmFuc2xhdGUoMCwtNTAlKTtcIiwgXCJcIl0sIG1hcmdpbi5sZWZ0LCBtYXJnaW4ucmlnaHQsIGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICByZXR1cm4gZ2V0QW5pbWF0aW9uU3R5bGUocHJvcHMsICdyaWdodCcsICdob3Jpem9udGFsJyk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIFwidHJ1ZVwiOiBmdW5jdGlvbiBfdHJ1ZShtYXJnaW4pIHtcbiAgICAgIHJldHVybiBjc3MoW1widG9wOlwiLCBcIjtib3R0b206XCIsIFwiO2xlZnQ6XCIsIFwiO3JpZ2h0OlwiLCBcIjt0cmFuc2Zvcm06dHJhbnNsYXRlWCgwKTtcIiwgXCJcIl0sIG1hcmdpbi50b3AsIG1hcmdpbi5ib3R0b20sIG1hcmdpbi5sZWZ0LCBtYXJnaW4ucmlnaHQsIGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICByZXR1cm4gZ2V0QW5pbWF0aW9uU3R5bGUocHJvcHMsICdyaWdodCcsICd0cnVlJyk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIFwiZmFsc2VcIjogZnVuY3Rpb24gX2ZhbHNlKG1hcmdpbikge1xuICAgICAgcmV0dXJuIGNzcyhbXCJyaWdodDpcIiwgXCI7dG9wOjUwJTt0cmFuc2Zvcm06dHJhbnNsYXRlKDAsLTUwJSk7XCIsIFwiXCJdLCBtYXJnaW4ucmlnaHQsIGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICByZXR1cm4gZ2V0QW5pbWF0aW9uU3R5bGUocHJvcHMsICdyaWdodCcsICdmYWxzZScpO1xuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICAndG9wLXJpZ2h0Jzoge1xuICAgIHZlcnRpY2FsOiBmdW5jdGlvbiB2ZXJ0aWNhbChtYXJnaW4pIHtcbiAgICAgIHJldHVybiBjc3MoW1widG9wOlwiLCBcIjtib3R0b206XCIsIFwiO3JpZ2h0OlwiLCBcIjt0cmFuc2Zvcm06dHJhbnNsYXRlWCgwKTtcIiwgXCI7XCJdLCBtYXJnaW4udG9wLCBtYXJnaW4uYm90dG9tLCBtYXJnaW4ucmlnaHQsIGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICByZXR1cm4gZ2V0QW5pbWF0aW9uU3R5bGUocHJvcHMsICd0b3AnLCAndHJ1ZScpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBob3Jpem9udGFsOiBmdW5jdGlvbiBob3Jpem9udGFsKG1hcmdpbikge1xuICAgICAgcmV0dXJuIGNzcyhbXCJsZWZ0OlwiLCBcIjtyaWdodDpcIiwgXCI7dG9wOjA7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoMCk7XCIsIFwiO1wiXSwgbWFyZ2luLmxlZnQsIG1hcmdpbi5yaWdodCwgZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICAgIHJldHVybiBnZXRBbmltYXRpb25TdHlsZShwcm9wcywgJ3RvcCcsICd0cnVlJyk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIFwidHJ1ZVwiOiBmdW5jdGlvbiBfdHJ1ZShtYXJnaW4pIHtcbiAgICAgIHJldHVybiBjc3MoW1widG9wOlwiLCBcIjtib3R0b206XCIsIFwiO2xlZnQ6XCIsIFwiO3JpZ2h0OlwiLCBcIjt0cmFuc2Zvcm06dHJhbnNsYXRlWCgwKTtcIiwgXCI7XCJdLCBtYXJnaW4udG9wLCBtYXJnaW4uYm90dG9tLCBtYXJnaW4ubGVmdCwgbWFyZ2luLnJpZ2h0LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgcmV0dXJuIGdldEFuaW1hdGlvblN0eWxlKHByb3BzLCAndG9wJywgJ3RydWUnKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgXCJmYWxzZVwiOiBmdW5jdGlvbiBfZmFsc2UobWFyZ2luKSB7XG4gICAgICByZXR1cm4gY3NzKFtcInRvcDpcIiwgXCI7cmlnaHQ6XCIsIFwiO3RyYW5zZm9ybTp0cmFuc2xhdGVZKDApO1wiLCBcIjtcIl0sIG1hcmdpbi50b3AsIG1hcmdpbi5yaWdodCwgZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICAgIHJldHVybiBnZXRBbmltYXRpb25TdHlsZShwcm9wcywgJ3RvcCcsICd0cnVlJyk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gICd0b3AtbGVmdCc6IHtcbiAgICB2ZXJ0aWNhbDogZnVuY3Rpb24gdmVydGljYWwobWFyZ2luKSB7XG4gICAgICByZXR1cm4gY3NzKFtcInRvcDpcIiwgXCI7Ym90dG9tOlwiLCBcIjtsZWZ0OlwiLCBcIjt0cmFuc2Zvcm06dHJhbnNsYXRlWCgwKTtcIiwgXCJcIl0sIG1hcmdpbi50b3AsIG1hcmdpbi5ib3R0b20sIG1hcmdpbi5sZWZ0LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgcmV0dXJuIGdldEFuaW1hdGlvblN0eWxlKHByb3BzLCAndG9wJywgJ3RydWUnKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgaG9yaXpvbnRhbDogZnVuY3Rpb24gaG9yaXpvbnRhbChtYXJnaW4pIHtcbiAgICAgIHJldHVybiBjc3MoW1wibGVmdDpcIiwgXCI7cmlnaHQ6XCIsIFwiO3RvcDowO3RyYW5zZm9ybTp0cmFuc2xhdGVYKDApO1wiLCBcIlwiXSwgbWFyZ2luLmxlZnQsIG1hcmdpbi5yaWdodCwgZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICAgIHJldHVybiBnZXRBbmltYXRpb25TdHlsZShwcm9wcywgJ3RvcCcsICd0cnVlJyk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIFwidHJ1ZVwiOiBmdW5jdGlvbiBfdHJ1ZShtYXJnaW4pIHtcbiAgICAgIHJldHVybiBjc3MoW1widG9wOlwiLCBcIjtib3R0b206XCIsIFwiO2xlZnQ6XCIsIFwiO3JpZ2h0OlwiLCBcIjt0cmFuc2Zvcm06dHJhbnNsYXRlWCgwKTtcIiwgXCJcIl0sIG1hcmdpbi50b3AsIG1hcmdpbi5ib3R0b20sIG1hcmdpbi5sZWZ0LCBtYXJnaW4ucmlnaHQsIGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICByZXR1cm4gZ2V0QW5pbWF0aW9uU3R5bGUocHJvcHMsICd0b3AnLCAndHJ1ZScpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBcImZhbHNlXCI6IGZ1bmN0aW9uIF9mYWxzZShtYXJnaW4pIHtcbiAgICAgIHJldHVybiBjc3MoW1widG9wOlwiLCBcIjtsZWZ0OlwiLCBcIjt0cmFuc2Zvcm06dHJhbnNsYXRlWSgwKTtcIiwgXCJcIl0sIG1hcmdpbi50b3AsIG1hcmdpbi5sZWZ0LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgcmV0dXJuIGdldEFuaW1hdGlvblN0eWxlKHByb3BzLCAndG9wJywgJ3RydWUnKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgJ2JvdHRvbS1yaWdodCc6IHtcbiAgICB2ZXJ0aWNhbDogZnVuY3Rpb24gdmVydGljYWwobWFyZ2luKSB7XG4gICAgICByZXR1cm4gY3NzKFtcInRvcDpcIiwgXCI7Ym90dG9tOlwiLCBcIjtyaWdodDpcIiwgXCI7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoMCk7XCIsIFwiXCJdLCBtYXJnaW4udG9wLCBtYXJnaW4uYm90dG9tLCBtYXJnaW4ucmlnaHQsIGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICByZXR1cm4gZ2V0QW5pbWF0aW9uU3R5bGUocHJvcHMsICdib3R0b20nLCAndHJ1ZScpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBob3Jpem9udGFsOiBmdW5jdGlvbiBob3Jpem9udGFsKG1hcmdpbikge1xuICAgICAgcmV0dXJuIGNzcyhbXCJsZWZ0OlwiLCBcIjtyaWdodDpcIiwgXCI7Ym90dG9tOlwiLCBcIjt0cmFuc2Zvcm06dHJhbnNsYXRlWSgwKTtcIiwgXCJcIl0sIG1hcmdpbi5sZWZ0LCBtYXJnaW4ucmlnaHQsIG1hcmdpbi5ib3R0b20sIGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICByZXR1cm4gZ2V0QW5pbWF0aW9uU3R5bGUocHJvcHMsICdib3R0b20nLCAndHJ1ZScpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBcInRydWVcIjogZnVuY3Rpb24gX3RydWUobWFyZ2luKSB7XG4gICAgICByZXR1cm4gY3NzKFtcInRvcDpcIiwgXCI7Ym90dG9tOlwiLCBcIjtsZWZ0OlwiLCBcIjtyaWdodDpcIiwgXCI7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoMCk7XCIsIFwiXCJdLCBtYXJnaW4udG9wLCBtYXJnaW4uYm90dG9tLCBtYXJnaW4ubGVmdCwgbWFyZ2luLnJpZ2h0LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgcmV0dXJuIGdldEFuaW1hdGlvblN0eWxlKHByb3BzLCAnYm90dG9tJywgJ3RydWUnKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgXCJmYWxzZVwiOiBmdW5jdGlvbiBfZmFsc2UobWFyZ2luKSB7XG4gICAgICByZXR1cm4gY3NzKFtcImJvdHRvbTpcIiwgXCI7cmlnaHQ6XCIsIFwiO3RyYW5zZm9ybTp0cmFuc2xhdGVZKDApO1wiLCBcIlwiXSwgbWFyZ2luLmJvdHRvbSwgbWFyZ2luLnJpZ2h0LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgcmV0dXJuIGdldEFuaW1hdGlvblN0eWxlKHByb3BzLCAnYm90dG9tJywgJ3RydWUnKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgJ2JvdHRvbS1sZWZ0Jzoge1xuICAgIHZlcnRpY2FsOiBmdW5jdGlvbiB2ZXJ0aWNhbChtYXJnaW4pIHtcbiAgICAgIHJldHVybiBjc3MoW1widG9wOlwiLCBcIjtib3R0b206XCIsIFwiO2xlZnQ6XCIsIFwiO3RyYW5zZm9ybTp0cmFuc2xhdGVYKDApO1wiLCBcIlwiXSwgbWFyZ2luLnRvcCwgbWFyZ2luLmJvdHRvbSwgbWFyZ2luLmxlZnQsIGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICByZXR1cm4gZ2V0QW5pbWF0aW9uU3R5bGUocHJvcHMsICdib3R0b20nLCAndHJ1ZScpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBob3Jpem9udGFsOiBmdW5jdGlvbiBob3Jpem9udGFsKG1hcmdpbikge1xuICAgICAgcmV0dXJuIGNzcyhbXCJsZWZ0OlwiLCBcIjtyaWdodDpcIiwgXCI7Ym90dG9tOlwiLCBcIjt0cmFuc2Zvcm06dHJhbnNsYXRlWSgwKTtcIiwgXCJcIl0sIG1hcmdpbi5sZWZ0LCBtYXJnaW4ucmlnaHQsIG1hcmdpbi5ib3R0b20sIGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICByZXR1cm4gZ2V0QW5pbWF0aW9uU3R5bGUocHJvcHMsICdib3R0b20nLCAndHJ1ZScpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBcInRydWVcIjogZnVuY3Rpb24gX3RydWUobWFyZ2luKSB7XG4gICAgICByZXR1cm4gY3NzKFtcInRvcDpcIiwgXCI7Ym90dG9tOlwiLCBcIjtsZWZ0OlwiLCBcIjtyaWdodDpcIiwgXCI7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoMCk7XCIsIFwiXCJdLCBtYXJnaW4udG9wLCBtYXJnaW4uYm90dG9tLCBtYXJnaW4ubGVmdCwgbWFyZ2luLnJpZ2h0LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgcmV0dXJuIGdldEFuaW1hdGlvblN0eWxlKHByb3BzLCAnYm90dG9tJywgJ3RydWUnKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgXCJmYWxzZVwiOiBmdW5jdGlvbiBfZmFsc2UobWFyZ2luKSB7XG4gICAgICByZXR1cm4gY3NzKFtcImJvdHRvbTpcIiwgXCI7bGVmdDpcIiwgXCI7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCk7XCIsIFwiXCJdLCBtYXJnaW4uYm90dG9tLCBtYXJnaW4ubGVmdCwgZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICAgIHJldHVybiBnZXRBbmltYXRpb25TdHlsZShwcm9wcywgJ2JvdHRvbScsICd0cnVlJyk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn07XG52YXIgZGVza3RvcENvbnRhaW5lclN0eWxlID0gY3NzKFtcInBvc2l0aW9uOlwiLCBcIjttYXgtaGVpZ2h0OlwiLCBcIjttYXgtd2lkdGg6XCIsIFwiO2JvcmRlci1yYWRpdXM6XCIsIFwiO1wiLCBcIjtcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMubW9kYWwgPyAnYWJzb2x1dGUnIDogJ2ZpeGVkJztcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gXCJjYWxjKDEwMCUgLSBcIiArIE1BUkdJTlMocHJvcHMubWFyZ2luLCBwcm9wcy50aGVtZSwgJ3RvcCcpICsgXCIgLSBcIiArIE1BUkdJTlMocHJvcHMubWFyZ2luLCBwcm9wcy50aGVtZSwgJ2JvdHRvbScpICsgXCIpXCI7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIFwiY2FsYygxMDAlIC0gXCIgKyBNQVJHSU5TKHByb3BzLm1hcmdpbiwgcHJvcHMudGhlbWUsICdsZWZ0JykgKyBcIiAtIFwiICsgTUFSR0lOUyhwcm9wcy5tYXJnaW4sIHByb3BzLnRoZW1lLCAncmlnaHQnKSArIFwiKVwiO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5wbGFpbiA/IDAgOiBwcm9wcy50aGVtZS5sYXllci5ib3JkZXIucmFkaXVzO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5wb3NpdGlvbiAhPT0gJ2hpZGRlbicgJiYgUE9TSVRJT05TW3Byb3BzLnBvc2l0aW9uXVtwcm9wcy5mdWxsXShNQVJHSU5TKHByb3BzLm1hcmdpbiwgcHJvcHMudGhlbWUpKSB8fCAnJztcbn0pO1xudmFyIHJlc3BvbnNpdmVDb250YWluZXJTdHlsZSA9IGNzcyhbXCJwb3NpdGlvbjpyZWxhdGl2ZTttYXgtaGVpZ2h0Om5vbmU7bWF4LXdpZHRoOm5vbmU7Ym9yZGVyLXJhZGl1czowO3RvcDowO2JvdHRvbTowO2xlZnQ6MDtyaWdodDowO3RyYW5zZm9ybTpub25lO2FuaW1hdGlvbjpub25lO2hlaWdodDoxMDB2aDt3aWR0aDoxMDB2dztcIl0pO1xudmFyIFN0eWxlZENvbnRhaW5lciA9IHN0eWxlZC5kaXYud2l0aENvbmZpZyh7XG4gIGRpc3BsYXlOYW1lOiBcIlN0eWxlZExheWVyX19TdHlsZWRDb250YWluZXJcIixcbiAgY29tcG9uZW50SWQ6IFwicm10ZWh6LTJcIlxufSkoW1wiXCIsIFwiIGRpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpjb2x1bW47bWluLWhlaWdodDpcIiwgXCI7XCIsIFwiIG91dGxpbmU6bm9uZTtwb2ludGVyLWV2ZW50czphbGw7ei1pbmRleDpcIiwgXCI7XCIsIFwiIFwiLCBcIjtcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gIXByb3BzLm1vZGFsID8gYmFzZVN0eWxlIDogJyc7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLmdsb2JhbC5zaXplLnh4c21hbGw7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuICFwcm9wcy5wbGFpbiAmJiBwcm9wcy50aGVtZS5sYXllci5iYWNrZ3JvdW5kICYmIGJhY2tncm91bmRTdHlsZShwcm9wcy50aGVtZS5sYXllci5iYWNrZ3JvdW5kLCBwcm9wcy50aGVtZSk7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLmxheWVyLmNvbnRhaW5lci56SW5kZXg7XG59LCBkZXNrdG9wQ29udGFpbmVyU3R5bGUsIGZ1bmN0aW9uIChwcm9wcykge1xuICBpZiAocHJvcHMucmVzcG9uc2l2ZSAmJiBwcm9wcy50aGVtZS5sYXllci5yZXNwb25zaXZlQnJlYWtwb2ludCkge1xuICAgIHZhciBicmVha3BvaW50ID0gcHJvcHMudGhlbWUuZ2xvYmFsLmJyZWFrcG9pbnRzW3Byb3BzLnRoZW1lLmxheWVyLnJlc3BvbnNpdmVCcmVha3BvaW50XTtcblxuICAgIGlmIChicmVha3BvaW50KSB7XG4gICAgICByZXR1cm4gYnJlYWtwb2ludFN0eWxlKGJyZWFrcG9pbnQsIHJlc3BvbnNpdmVDb250YWluZXJTdHlsZSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuICcnO1xufSk7XG5TdHlsZWRDb250YWluZXIuZGVmYXVsdFByb3BzID0ge307XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoU3R5bGVkQ29udGFpbmVyLmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbmV4cG9ydCB7IGFuaW1hdGlvbkR1cmF0aW9uLCBTdHlsZWRMYXllciwgU3R5bGVkT3ZlcmxheSwgU3R5bGVkQ29udGFpbmVyIH07IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuaW1wb3J0IHsgZGVzY3JpYmUsIFByb3BUeXBlcyB9IGZyb20gJ3JlYWN0LWRlc2MnO1xuaW1wb3J0IHsgZ2V0QXZhaWxhYmxlQXRCYWRnZSwgdGhlbWVEb2NVdGlscyB9IGZyb20gJy4uLy4uL3V0aWxzJztcbnZhciBQQURfU0laRVMgPSBbJ3h4c21hbGwnLCAneHNtYWxsJywgJ3NtYWxsJywgJ21lZGl1bScsICdsYXJnZSddO1xuZXhwb3J0IHZhciBkb2MgPSBmdW5jdGlvbiBkb2MoTGF5ZXIpIHtcbiAgdmFyIERvY3VtZW50ZWRMYXllciA9IGRlc2NyaWJlKExheWVyKS5hdmFpbGFibGVBdChnZXRBdmFpbGFibGVBdEJhZGdlKCdMYXllcicpKS5kZXNjcmlwdGlvbihcIkFuIG92ZXJsYXkuIExheWVyIGlzIHR5cGljYWxseSBtb2RhbCBhbmQgYW5jaG9yZWQgdG8gYW4gZWRnZSwgY29ybmVyLCBvclxcbiAgICAgIGNlbnRlciBvZiB0aGUgd2luZG93LiBJdCBpcyB0aGUgY2FsbGVyJ3MgcmVzcG9uc2liaWxpdHkgdG8gcHJvdmlkZSBhXFxuICAgICAgY29udHJvbCBmb3IgdGhlIHVzZXIgdG8gY2xvc2UgdGhlIGxheWVyLlwiKS51c2FnZShcImltcG9ydCB7IExheWVyIH0gZnJvbSAnZ3JvbW1ldCc7XFxuPExheWVyIC8+XCIpLmludHJpbnNpY0VsZW1lbnQoJ2RpdicpO1xuICBEb2N1bWVudGVkTGF5ZXIucHJvcFR5cGVzID0ge1xuICAgIGFuaW1hdGU6IFByb3BUeXBlcy5ib29sLmRlc2NyaXB0aW9uKFwiV2hldGhlciB0byBhbmltYXRlIHRoZSBMYXllciBjb250ZW50IHdoZW4gaXQgb3BlbnMuIFRoaXNcXG4gICAgICAgIHByb3BlcnR5IGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciB2ZXJzaW9uXFxuICAgICAgICBvZiBncm9tbWV0LiBJbnN0ZWFkLCB1c2UgJ2FuaW1hdGlvbicuXCIpLmRlZmF1bHRWYWx1ZSh0cnVlKSxcbiAgICBhbmltYXRpb246IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbJ3NsaWRlJywgJ2ZhZGVJbicsICdub25lJ10pLCBQcm9wVHlwZXMuYm9vbF0pLmRlc2NyaXB0aW9uKCdBbmltYXRpb24gdHJhbnNpdGlvbiBvZiB0aGUgTGF5ZXIgY29udGVudCB3aGVuIGl0IG9wZW5zIGFuZCBjbG9zZXMuJykuZGVmYXVsdFZhbHVlKCdzbGlkZScpLFxuICAgIGZ1bGw6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5ib29sLCBQcm9wVHlwZXMub25lT2YoWyd2ZXJ0aWNhbCcsICdob3Jpem9udGFsJ10pXSkuZGVzY3JpcHRpb24oXCJXaGV0aGVyIHRoZSB3aWR0aCBhbmQvb3IgaGVpZ2h0IHNob3VsZCBmaWxsIHRoZSBjdXJyZW50IHZpZXdwb3J0IFxcbiAgICAgICAgc2l6ZS5cIikuZGVmYXVsdFZhbHVlKGZhbHNlKSxcbiAgICBtYXJnaW46IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbJ25vbmUnXS5jb25jYXQoUEFEX1NJWkVTKSksIFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICBib3R0b206IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihQQURfU0laRVMpLCBQcm9wVHlwZXMuc3RyaW5nXSksXG4gICAgICBob3Jpem9udGFsOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2YoUEFEX1NJWkVTKSwgUHJvcFR5cGVzLnN0cmluZ10pLFxuICAgICAgbGVmdDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFBBRF9TSVpFUyksIFByb3BUeXBlcy5zdHJpbmddKSxcbiAgICAgIHJpZ2h0OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2YoUEFEX1NJWkVTKSwgUHJvcFR5cGVzLnN0cmluZ10pLFxuICAgICAgdG9wOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2YoUEFEX1NJWkVTKSwgUHJvcFR5cGVzLnN0cmluZ10pLFxuICAgICAgdmVydGljYWw6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihQQURfU0laRVMpLCBQcm9wVHlwZXMuc3RyaW5nXSlcbiAgICB9KSwgUHJvcFR5cGVzLnN0cmluZ10pLmRlc2NyaXB0aW9uKFwiVGhlIGFtb3VudCBvZiBtYXJnaW4gYXJvdW5kIHRoZSBMYXllci4gQW4gb2JqZWN0IGNhbiBiZSBzcGVjaWZpZWQgdG9cXG5kaXN0aW5ndWlzaCBob3Jpem9udGFsIG1hcmdpbiwgdmVydGljYWwgbWFyZ2luLCBhbmQgbWFyZ2luIG9uIGFcXG5wYXJ0aWN1bGFyIHNpZGUgb2YgdGhlIGxheWVyXCIpLFxuICAgIG1vZGFsOiBQcm9wVHlwZXMuYm9vbC5kZXNjcmlwdGlvbihcIldoZXRoZXIgdGhlcmUgc2hvdWxkIGJlIGFuIG92ZXJsYXkgcHJldmVudGluZyBpbnRlcmFjdGlvbiB1bmRlcm5lYXRoIFxcbiAgICAgICAgdGhlIGxheWVyLlwiKS5kZWZhdWx0VmFsdWUodHJ1ZSksXG4gICAgb25DbGlja091dHNpZGU6IFByb3BUeXBlcy5mdW5jLmRlc2NyaXB0aW9uKFwiRnVuY3Rpb24gdGhhdCB3aWxsIGJlIGludm9rZWQgb24gbW9kYWwgbGF5ZXJzIHdoZW4gdGhlIHVzZXIgY2xpY2tzIFxcbiAgICAgIG91dHNpZGUgdGhlIGxheWVyLlwiKSxcbiAgICBvbkVzYzogUHJvcFR5cGVzLmZ1bmMuZGVzY3JpcHRpb24oXCJGdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIHVzZXIgcHJlc3NlcyB0aGUgZXNjYXBlIGtleSBpbnNpZGVcXG4gICAgICAgdGhlIGxheWVyLlwiKSxcbiAgICBwbGFpbjogUHJvcFR5cGVzLmJvb2wuZGVzY3JpcHRpb24oJ1doZXRoZXIgdGhpcyBpcyBhIHBsYWluIExheWVyIHdpdGggbm8gYmFja2dyb3VuZCBjb2xvciBvciBib3JkZXIuJykuZGVmYXVsdFZhbHVlKGZhbHNlKSxcbiAgICBwb3NpdGlvbjogUHJvcFR5cGVzLm9uZU9mKFsnYm90dG9tJywgJ2JvdHRvbS1sZWZ0JywgJ2JvdHRvbS1yaWdodCcsICdjZW50ZXInLCAnaGlkZGVuJywgJ2xlZnQnLCAncmlnaHQnLCAndG9wJywgJ3RvcC1sZWZ0JywgJ3RvcC1yaWdodCddKS5kZXNjcmlwdGlvbignUG9zaXRpb24gb2YgdGhlIGxheWVyIGNvbnRlbnQuJykuZGVmYXVsdFZhbHVlKCdjZW50ZXInKSxcbiAgICByZXNwb25zaXZlOiBQcm9wVHlwZXMuYm9vbC5kZXNjcmlwdGlvbignV2hldGhlciB0aGUgbGF5ZXIgc2hvdWxkIHRha2UgZnVsbCB3aWR0aCBhbmQgaGVpZ2h0IG9uIG1vYmlsZScpLmRlZmF1bHRWYWx1ZSh0cnVlKVxuICB9O1xuICByZXR1cm4gRG9jdW1lbnRlZExheWVyO1xufTtcbmV4cG9ydCB2YXIgdGhlbWVEb2MgPSBfZXh0ZW5kcyh7XG4gICdnbG9iYWwuc2l6ZS54eHNtYWxsJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIG1pbmltYWwgaGVpZ2h0IG9mIHRoZSBMYXllci4nLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogJzQ4cHgnXG4gIH0sXG4gICdsYXllci5iYWNrZ3JvdW5kJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGJhY2tncm91bmQgY29sb3Igb2YgdGhlIExheWVyIENvbnRhaW5lci4nLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogJ3doaXRlJ1xuICB9LFxuICAnbGF5ZXIuY29udGFpbmVyLnpJbmRleCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBzdGFjayBvcmRlciBvZiBMYXllciBDb250YWluZXIuJyxcbiAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICBkZWZhdWx0VmFsdWU6ICcxNSdcbiAgfSxcbiAgJ2xheWVyLmV4dGVuZCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ0FueSBhZGRpdGlvbmFsIHN0eWxlIGZvciBMYXllci4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCAocHJvcHMpID0+IHt9JyxcbiAgICBkZWZhdWx0VmFsdWU6IHVuZGVmaW5lZFxuICB9LFxuICAnbGF5ZXIub3ZlcmxheS5iYWNrZ3JvdW5kJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGJhY2tncm91bmQgb2YgdGhlIExheWVyIG92ZXJsYXkuJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICdyZ2JhKDAsIDAsIDAsIDAuNSknXG4gIH0sXG4gICdsYXllci5yZXNwb25zaXZlQnJlYWtwb2ludCc6IHtcbiAgICBkZXNjcmlwdGlvbjogXCJUaGUgYWN0dWFsIGJyZWFrcG9pbnQgdG8gdHJpZ2dlciBjaGFuZ2VzIGluIHRoZSBib3JkZXIsIFxcbmRpcmVjdGlvbiwgZ2FwLCBtYXJnaW4sIHBhZCwgYW5kIHJvdW5kLlwiLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogJ3NtYWxsJ1xuICB9LFxuICAnbGF5ZXIuekluZGV4Jzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIHN0YWNrIG9yZGVyIG9mIExheWVyLicsXG4gICAgdHlwZTogJ251bWJlcicsXG4gICAgZGVmYXVsdFZhbHVlOiAnMTAnXG4gIH1cbn0sIHRoZW1lRG9jVXRpbHMuYnJlYWtwb2ludFN0eWxlKFwiVGhlIHBvc3NpYmxlIGJyZWFrcG9pbnRzIHRoYXQgY291bGQgYWZmZWN0IGJvcmRlciwgZGlyZWN0aW9uLCBnYXAsIG1hcmdpbiwgXFxuICAgIHBhZCwgYW5kIHJvdW5kLlwiKSk7IiwiZXhwb3J0IHsgTGF5ZXIgfSBmcm9tICcuL0xheWVyJzsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjb21wb3NlIH0gZnJvbSAncmVjb21wb3NlJztcbmltcG9ydCBzdHlsZWQsIHsgd2l0aFRoZW1lIH0gZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgQm94IH0gZnJvbSAnLi4vQm94JztcbmltcG9ydCB7IEluZmluaXRlU2Nyb2xsIH0gZnJvbSAnLi4vSW5maW5pdGVTY3JvbGwnO1xuaW1wb3J0IHsgS2V5Ym9hcmQgfSBmcm9tICcuLi9LZXlib2FyZCc7XG5pbXBvcnQgeyBUZXh0IH0gZnJvbSAnLi4vVGV4dCc7XG5pbXBvcnQgeyBmb2N1c1N0eWxlIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuaW1wb3J0IHsgd2l0aEZvY3VzLCB3aXRoRm9yd2FyZFJlZiB9IGZyb20gJy4uL2hvY3MnO1xudmFyIFN0eWxlZExpc3QgPSBzdHlsZWQudWwud2l0aENvbmZpZyh7XG4gIGRpc3BsYXlOYW1lOiBcIkxpc3RfX1N0eWxlZExpc3RcIixcbiAgY29tcG9uZW50SWQ6IFwic2MtMTMwZ2RxZy0wXCJcbn0pKFtcImxpc3Qtc3R5bGU6bm9uZTttYXJnaW46MDtwYWRkaW5nOjA7XCIsIFwiXCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLmZvY3VzICYmIGZvY3VzU3R5bGU7XG59KTtcbnZhciBTdHlsZWRJdGVtID0gc3R5bGVkKEJveCkud2l0aENvbmZpZyh7XG4gIGRpc3BsYXlOYW1lOiBcIkxpc3RfX1N0eWxlZEl0ZW1cIixcbiAgY29tcG9uZW50SWQ6IFwic2MtMTMwZ2RxZy0xXCJcbn0pKFtcIlwiLCBcIlwiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5vbkNsaWNrICYmIFwiY3Vyc29yOiBwb2ludGVyO1wiO1xufSk7XG5cbnZhciBub3JtYWxpemUgPSBmdW5jdGlvbiBub3JtYWxpemUoaXRlbSwgaW5kZXgsIHByb3BlcnR5KSB7XG4gIGlmICh0eXBlb2YgcHJvcGVydHkgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gcHJvcGVydHkoaXRlbSwgaW5kZXgpO1xuICB9XG5cbiAgcmV0dXJuIGl0ZW1bcHJvcGVydHldO1xufTtcblxudmFyIExpc3QgPSBSZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHZhciBhY3Rpb24gPSBwcm9wcy5hY3Rpb24sXG4gICAgICBhcyA9IHByb3BzLmFzLFxuICAgICAgYmFja2dyb3VuZCA9IHByb3BzLmJhY2tncm91bmQsXG4gICAgICBib3JkZXIgPSBwcm9wcy5ib3JkZXIsXG4gICAgICBjaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuLFxuICAgICAgZGF0YSA9IHByb3BzLmRhdGEsXG4gICAgICBmb2N1cyA9IHByb3BzLmZvY3VzLFxuICAgICAgaXRlbVByb3BzID0gcHJvcHMuaXRlbVByb3BzLFxuICAgICAgcGFkID0gcHJvcHMucGFkLFxuICAgICAgcHJpbWFyeUtleSA9IHByb3BzLnByaW1hcnlLZXksXG4gICAgICBzZWNvbmRhcnlLZXkgPSBwcm9wcy5zZWNvbmRhcnlLZXksXG4gICAgICBzdGVwID0gcHJvcHMuc3RlcCxcbiAgICAgIHRoZW1lID0gcHJvcHMudGhlbWUsXG4gICAgICBvbkNsaWNrSXRlbSA9IHByb3BzLm9uQ2xpY2tJdGVtLFxuICAgICAgb25Nb3JlID0gcHJvcHMub25Nb3JlLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHByb3BzLCBbXCJhY3Rpb25cIiwgXCJhc1wiLCBcImJhY2tncm91bmRcIiwgXCJib3JkZXJcIiwgXCJjaGlsZHJlblwiLCBcImRhdGFcIiwgXCJmb2N1c1wiLCBcIml0ZW1Qcm9wc1wiLCBcInBhZFwiLCBcInByaW1hcnlLZXlcIiwgXCJzZWNvbmRhcnlLZXlcIiwgXCJzdGVwXCIsIFwidGhlbWVcIiwgXCJvbkNsaWNrSXRlbVwiLCBcIm9uTW9yZVwiXSk7XG5cbiAgdmFyIF9SZWFjdCR1c2VTdGF0ZSA9IFJlYWN0LnVzZVN0YXRlKCksXG4gICAgICBhY3RpdmUgPSBfUmVhY3QkdXNlU3RhdGVbMF0sXG4gICAgICBzZXRBY3RpdmUgPSBfUmVhY3QkdXNlU3RhdGVbMV07XG5cbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoS2V5Ym9hcmQsIHtcbiAgICBvbkVudGVyOiBvbkNsaWNrSXRlbSAmJiBhY3RpdmUgPj0gMCA/IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgZXZlbnQucGVyc2lzdCgpO1xuICAgICAgdmFyIGFkanVzdGVkRXZlbnQgPSBldmVudDtcbiAgICAgIGFkanVzdGVkRXZlbnQuaXRlbSA9IGRhdGFbYWN0aXZlXTtcbiAgICAgIGFkanVzdGVkRXZlbnQuaW5kZXggPSBhY3RpdmU7XG4gICAgICBvbkNsaWNrSXRlbShhZGp1c3RlZEV2ZW50KTtcbiAgICB9IDogdW5kZWZpbmVkLFxuICAgIG9uVXA6IG9uQ2xpY2tJdGVtICYmIGFjdGl2ZSA/IGZ1bmN0aW9uICgpIHtcbiAgICAgIHNldEFjdGl2ZShhY3RpdmUgLSAxKTtcbiAgICB9IDogdW5kZWZpbmVkLFxuICAgIG9uRG93bjogb25DbGlja0l0ZW0gJiYgZGF0YSAmJiBkYXRhLmxlbmd0aCA/IGZ1bmN0aW9uICgpIHtcbiAgICAgIHNldEFjdGl2ZShhY3RpdmUgPj0gMCA/IE1hdGgubWluKGFjdGl2ZSArIDEsIGRhdGEubGVuZ3RoIC0gMSkgOiAwKTtcbiAgICB9IDogdW5kZWZpbmVkXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkTGlzdCwgX2V4dGVuZHMoe1xuICAgIHJlZjogcmVmLFxuICAgIGFzOiBhcyB8fCAndWwnLFxuICAgIHRhYkluZGV4OiBvbkNsaWNrSXRlbSA/IDAgOiB1bmRlZmluZWRcbiAgfSwgcmVzdCksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSW5maW5pdGVTY3JvbGwsIHtcbiAgICBpdGVtczogZGF0YSxcbiAgICBvbk1vcmU6IG9uTW9yZSxcbiAgICBzY3JvbGxhYmxlQW5jZXN0b3I6IFwid2luZG93XCIsXG4gICAgc3RlcDogc3RlcCxcbiAgICByZW5kZXJNYXJrZXI6IGZ1bmN0aW9uIHJlbmRlck1hcmtlcihtYXJrZXIpIHtcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwge1xuICAgICAgICBhczogXCJsaVwiLFxuICAgICAgICBmbGV4OiBmYWxzZVxuICAgICAgfSwgbWFya2VyKTtcbiAgICB9XG4gIH0sIGZ1bmN0aW9uIChpdGVtLCBpbmRleCkge1xuICAgIHZhciBjb250ZW50O1xuICAgIHZhciBib3hQcm9wcyA9IHt9O1xuXG4gICAgaWYgKGNoaWxkcmVuKSB7XG4gICAgICBjb250ZW50ID0gY2hpbGRyZW4oaXRlbSwgaW5kZXgsIG9uQ2xpY2tJdGVtID8ge1xuICAgICAgICBhY3RpdmU6IGFjdGl2ZSA9PT0gaW5kZXhcbiAgICAgIH0gOiB1bmRlZmluZWQpO1xuICAgIH0gZWxzZSBpZiAocHJpbWFyeUtleSkge1xuICAgICAgaWYgKHR5cGVvZiBwcmltYXJ5S2V5ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGNvbnRlbnQgPSBwcmltYXJ5S2V5KGl0ZW0sIGluZGV4KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRlbnQgPSBSZWFjdC5jcmVhdGVFbGVtZW50KFRleHQsIHtcbiAgICAgICAgICBrZXk6IFwicFwiLFxuICAgICAgICAgIHdlaWdodDogXCJib2xkXCJcbiAgICAgICAgfSwgbm9ybWFsaXplKGl0ZW0sIGluZGV4LCBwcmltYXJ5S2V5KSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChzZWNvbmRhcnlLZXkpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZWNvbmRhcnlLZXkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBjb250ZW50ID0gW2NvbnRlbnQsIHNlY29uZGFyeUtleShpdGVtLCBpbmRleCldO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnRlbnQgPSBbY29udGVudCwgUmVhY3QuY3JlYXRlRWxlbWVudChUZXh0LCB7XG4gICAgICAgICAgICBrZXk6IFwic1wiXG4gICAgICAgICAgfSwgbm9ybWFsaXplKGl0ZW0sIGluZGV4LCBzZWNvbmRhcnlLZXkpKV07XG4gICAgICAgIH1cblxuICAgICAgICBib3hQcm9wcyA9IHtcbiAgICAgICAgICBkaXJlY3Rpb246ICdyb3cnLFxuICAgICAgICAgIGFsaWduOiAnY2VudGVyJyxcbiAgICAgICAgICBqdXN0aWZ5OiAnYmV0d2VlbicsXG4gICAgICAgICAgZ2FwOiAnbWVkaXVtJ1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIGl0ZW0gPT09ICdvYmplY3QnKSB7XG4gICAgICBjb250ZW50ID0gaXRlbVtPYmplY3Qua2V5cyhpdGVtKVswXV07XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRlbnQgPSBpdGVtO1xuICAgIH1cblxuICAgIGlmIChhY3Rpb24pIHtcbiAgICAgIGNvbnRlbnQgPSBbUmVhY3QuY3JlYXRlRWxlbWVudChCb3gsIHtcbiAgICAgICAgYWxpZ246IFwic3RhcnRcIlxuICAgICAgfSwgY29udGVudCksIGFjdGlvbihpdGVtLCBpbmRleCldO1xuICAgICAgYm94UHJvcHMgPSB7XG4gICAgICAgIGRpcmVjdGlvbjogJ3JvdycsXG4gICAgICAgIGFsaWduOiBzZWNvbmRhcnlLZXkgPyAnc3RhcnQnIDogJ2NlbnRlcicsXG4gICAgICAgIGp1c3RpZnk6ICdiZXR3ZWVuJyxcbiAgICAgICAgZ2FwOiAnbWVkaXVtJ1xuICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXIgYWRqdXN0ZWRCYWNrZ3JvdW5kID0gYmFja2dyb3VuZCB8fCB0aGVtZS5saXN0Lml0ZW0uYmFja2dyb3VuZDtcblxuICAgIGlmIChhY3RpdmUgPT09IGluZGV4KSB7XG4gICAgICBhZGp1c3RlZEJhY2tncm91bmQgPSB0aGVtZS5nbG9iYWwuaG92ZXIuYmFja2dyb3VuZDtcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoYWRqdXN0ZWRCYWNrZ3JvdW5kKSkge1xuICAgICAgYWRqdXN0ZWRCYWNrZ3JvdW5kID0gYWRqdXN0ZWRCYWNrZ3JvdW5kW2luZGV4ICUgYWRqdXN0ZWRCYWNrZ3JvdW5kLmxlbmd0aF07XG4gICAgfVxuXG4gICAgdmFyIGFkanVzdGVkQm9yZGVyID0gYm9yZGVyIHx8IHRoZW1lLmxpc3QuaXRlbS5ib3JkZXI7XG5cbiAgICBpZiAoYWRqdXN0ZWRCb3JkZXIgPT09ICdob3Jpem9udGFsJyAmJiBpbmRleCkge1xuICAgICAgYWRqdXN0ZWRCb3JkZXIgPSAnYm90dG9tJztcbiAgICB9XG5cbiAgICBpZiAoaXRlbVByb3BzICYmIGl0ZW1Qcm9wc1tpbmRleF0pIHtcbiAgICAgIGJveFByb3BzID0gX2V4dGVuZHMoe30sIGJveFByb3BzLCB7fSwgaXRlbVByb3BzW2luZGV4XSk7XG4gICAgfVxuXG4gICAgdmFyIGNsaWNrUHJvcHM7XG5cbiAgICBpZiAob25DbGlja0l0ZW0pIHtcbiAgICAgIGNsaWNrUHJvcHMgPSB7XG4gICAgICAgIHRhYkluZGV4OiAtMSxcbiAgICAgICAgYWN0aXZlOiBhY3RpdmUgPT09IGluZGV4LFxuICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKGV2ZW50KSB7XG4gICAgICAgICAgZXZlbnQucGVyc2lzdCgpOyAvLyBleHRyYWN0IGZyb20gUmVhY3QncyBzeW50aGV0aWMgZXZlbnQgcG9vbFxuXG4gICAgICAgICAgdmFyIGFkanVzdGVkRXZlbnQgPSBldmVudDtcbiAgICAgICAgICBhZGp1c3RlZEV2ZW50Lml0ZW0gPSBpdGVtO1xuICAgICAgICAgIGFkanVzdGVkRXZlbnQuaW5kZXggPSBpbmRleDtcbiAgICAgICAgICBvbkNsaWNrSXRlbShhZGp1c3RlZEV2ZW50KTtcbiAgICAgICAgfSxcbiAgICAgICAgb25Nb3VzZU92ZXI6IGZ1bmN0aW9uIG9uTW91c2VPdmVyKCkge1xuICAgICAgICAgIHJldHVybiBzZXRBY3RpdmUoaW5kZXgpO1xuICAgICAgICB9LFxuICAgICAgICBvbk1vdXNlT3V0OiBmdW5jdGlvbiBvbk1vdXNlT3V0KCkge1xuICAgICAgICAgIHJldHVybiBzZXRBY3RpdmUodW5kZWZpbmVkKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25Gb2N1czogZnVuY3Rpb24gb25Gb2N1cygpIHtcbiAgICAgICAgICByZXR1cm4gc2V0QWN0aXZlKGluZGV4KTtcbiAgICAgICAgfSxcbiAgICAgICAgb25CbHVyOiBmdW5jdGlvbiBvbkJsdXIoKSB7XG4gICAgICAgICAgcmV0dXJuIHNldEFjdGl2ZSh1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZEl0ZW0sIF9leHRlbmRzKHtcbiAgICAgIGtleTogaW5kZXgsXG4gICAgICB0YWc6IFwibGlcIixcbiAgICAgIGZsZXg6IGZhbHNlLFxuICAgICAgcGFkOiBwYWQgfHwgdGhlbWUubGlzdC5pdGVtLnBhZCxcbiAgICAgIGJhY2tncm91bmQ6IGFkanVzdGVkQmFja2dyb3VuZCxcbiAgICAgIGJvcmRlcjogYWRqdXN0ZWRCb3JkZXJcbiAgICB9LCBib3hQcm9wcywgY2xpY2tQcm9wcyksIGNvbnRlbnQpO1xuICB9KSkpO1xufSk7XG5MaXN0LmRpc3BsYXlOYW1lID0gJ0xpc3QnO1xudmFyIExpc3REb2M7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIExpc3REb2MgPSByZXF1aXJlKCcuL2RvYycpLmRvYyhMaXN0KTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBnbG9iYWwtcmVxdWlyZVxufVxuXG52YXIgTGlzdFdyYXBwZXIgPSBjb21wb3NlKHdpdGhUaGVtZSwgd2l0aEZvY3VzKCksIHdpdGhGb3J3YXJkUmVmKShMaXN0RG9jIHx8IExpc3QpO1xuZXhwb3J0IHsgTGlzdFdyYXBwZXIgYXMgTGlzdCB9OyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmltcG9ydCB7IGRlc2NyaWJlLCBQcm9wVHlwZXMgfSBmcm9tICdyZWFjdC1kZXNjJztcbmltcG9ydCB7IGdlbmVyaWNQcm9wcywgZ2V0QXZhaWxhYmxlQXRCYWRnZSB9IGZyb20gJy4uLy4uL3V0aWxzJztcbnZhciBzaXplcyA9IFsneHhzbWFsbCcsICd4c21hbGwnLCAnc21hbGwnLCAnbWVkaXVtJywgJ2xhcmdlJywgJ3hsYXJnZSddO1xudmFyIHNpZGVzID0gWydob3Jpem9udGFsJywgJ3ZlcnRpY2FsJywgJ3RvcCcsICdib3R0b20nLCAnbGVmdCcsICdyaWdodCddO1xudmFyIHBhZFNoYXBlU2lkZXMgPSB7fTtcbnNpZGVzLmZvckVhY2goZnVuY3Rpb24gKHNpZGUpIHtcbiAgcGFkU2hhcGVTaWRlc1tzaWRlXSA9IFByb3BUeXBlcy5vbmVPZihzaXplcyk7XG59KTtcbnZhciBib3JkZXJUeXBlcyA9IFtQcm9wVHlwZXMuYm9vbCwgUHJvcFR5cGVzLm9uZU9mKHNpZGVzKSwgUHJvcFR5cGVzLnNoYXBlKHtcbiAgY29sb3I6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5zaGFwZSh7XG4gICAgZGFyazogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBsaWdodDogUHJvcFR5cGVzLnN0cmluZ1xuICB9KV0pLFxuICBzaWRlOiBQcm9wVHlwZXMub25lT2Yoc2lkZXMpLFxuICBzaXplOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2Yoc2l6ZXMpLCBQcm9wVHlwZXMuc3RyaW5nXSlcbn0pXTtcbmV4cG9ydCB2YXIgZG9jID0gZnVuY3Rpb24gZG9jKExpc3QpIHtcbiAgdmFyIERvY3VtZW50ZWRMaXN0ID0gZGVzY3JpYmUoTGlzdCkuYXZhaWxhYmxlQXQoZ2V0QXZhaWxhYmxlQXRCYWRnZSgnTGlzdCcpKS5kZXNjcmlwdGlvbignQW4gb3JkZXJlZCBsaXN0IG9mIGl0ZW1zLicpLnVzYWdlKFwiaW1wb3J0IHsgTGlzdCB9IGZyb20gJ2dyb21tZXQnO1xcbjxMaXN0IGRhdGE9e1suLi5dfSAvPlwiKS5pbnRyaW5zaWNFbGVtZW50KCdvbCcpO1xuICBEb2N1bWVudGVkTGlzdC5wcm9wVHlwZXMgPSBfZXh0ZW5kcyh7fSwgZ2VuZXJpY1Byb3BzLCB7XG4gICAgYXM6IFByb3BUeXBlcy5zdHJpbmcuZGVzY3JpcHRpb24oJ1RoZSBET00gdGFnIG9yIHJlYWN0IGNvbXBvbmVudCB0byB1c2UgZm9yIHRoZSBlbGVtZW50LicpLmRlZmF1bHRWYWx1ZSgndWwnKSxcbiAgICBiYWNrZ3JvdW5kOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMuc3RyaW5nKV0pLmRlc2NyaXB0aW9uKFwiSXRlbSBiYWNrZ3JvdW5kLiBBbiBhcnJheSB2YWx1ZSBpbmRpY2F0ZXMgdGhhdCBpdGVtcyBzaG91bGQgaGF2ZVxcbiAgICAgIGRpZmZlcmVudCBiYWNrZ3JvdW5kcywgbW9kdWxvIHRoZSBhcnJheSBpbmRleC5cIiksXG4gICAgYm9yZGVyOiBQcm9wVHlwZXMub25lT2ZUeXBlKGJvcmRlclR5cGVzKS5kZXNjcmlwdGlvbihcIkl0ZW0gYm9yZGVyLlwiKSxcbiAgICBkYXRhOiBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMuc2hhcGUoe30pXSkpLmRlc2NyaXB0aW9uKCdBcnJheSBvZiBkYXRhIG9iamVjdHMuJyksXG4gICAgY2hpbGRyZW46IFByb3BUeXBlcy5mdW5jLmRlc2NyaXB0aW9uKFwiRnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCB3aGVuIGVhY2ggZGF0YSBpdGVtIGlzIHJlbmRlcmVkLlxcbiAgICAgIEl0IHdpbGwgYmUgcGFzc2VkIHRocmVlIGFyZ3VtZW50cywgdGhlIGluZGl2aWR1YWwgZGF0YSBpdGVtLCBpdHMgaW5kZXgsXFxuICAgICAgYW5kIGFuIG9iamVjdCBpbmRpY2F0aW5nIHRoZSBzdGF0ZSBvZiB0aGUgaXRlbSwgaWYgYW55LiBJdFxcbiAgICAgIHNob3VsZCByZXR1cm4gYSByZWFjdCBlbGVtZW50LlxcbiAgICAgIEZvciBleGFtcGxlOlxcbiAgICAgIGBjaGlsZHJlbj17KGl0ZW0sIGluZGV4LCB7IGFjdGl2ZSB9KSA9PiA8Qm94IC4uLj57Li4ufTwvQm94Pn1gXFxuICAgICAgXCIpLFxuICAgIGl0ZW1Qcm9wczogUHJvcFR5cGVzLnNoYXBlKHt9KS5kZXNjcmlwdGlvbihcIkl0ZW0gc3BlY2lmaWMgYmFja2dyb3VuZCwgYm9yZGVyLCBhbmQgcGFkLCBrZXllZCBieSBkYXRhIGluZGV4LlxcbiAgICAgIEZvciBleGFtcGxlOlxcbiAgICAgIHsgMjc6IHsgYmFja2dyb3VuZDogLi4uLCBib3JkZXI6IC4uLiwgcGFkOiAuLi4gfX0sXFxuICAgICAgd2hlcmUgdGhlIGJhY2tncm91bmQsIGJvcmRlciwgYW5kIHBhZCBhY2NlcHQgdGhlIHNhbWUgdmFsdWVzIGFzXFxuICAgICAgdGhlIHNhbWUgbmFtZWQgcHJvcGVydGllcyBvbiBMaXN0LlwiKSxcbiAgICBvbk1vcmU6IFByb3BUeXBlcy5mdW5jLmRlc2NyaXB0aW9uKFwiVXNlIHRoaXMgdG8gaW5kaWNhdGUgdGhhdCAnZGF0YScgZG9lc24ndCBjb250YWluIGFsbCB0aGF0IGl0IGNvdWxkLlxcbiAgICAgIEl0IHdpbGwgYmUgY2FsbGVkIHdoZW4gYWxsIG9mIHRoZSBkYXRhIGl0ZW1zIGhhdmUgYmVlbiByZW5kZXJlZC5cXG4gICAgICBUaGlzIG1pZ2h0IGJlIHVzZWQgd2hlbiB0aGUgdG90YWwgbnVtYmVyIG9mIGl0ZW1zIHRoYXQgY291bGQgYmUgcmV0cmlldmVkXFxuICAgICAgaXMgbW9yZSB0aGFuIHlvdSdkIHdhbnQgdG8gbG9hZCBpbnRvIHRoZSBicm93c2VyLiAnb25Nb3JlJyBhbGxvd3MgeW91XFxuICAgICAgdG8gbGF6aWx5IGZldGNoIG1vcmUgZnJvbSB0aGUgc2VydmVyIG9ubHkgd2hlbiBuZWVkZWQuXCIpLFxuICAgIG9uQ2xpY2tJdGVtOiBQcm9wVHlwZXMuZnVuYy5kZXNjcmlwdGlvbihcIldoZW4gc3VwcGxpZWQsIHRoaXMgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgd2l0aCBhbiBldmVudCBvYmplY3QgdGhhdFxcbiAgICAgIGluY2x1ZGUgYSAnaXRlbScgcHJvcGVydHkgY29udGFpbmluZyB0aGUgZGF0YSB2YWx1ZSBhc3NvY2lhdGVkIHdpdGhcXG4gICAgICB0aGUgY2xpY2tlZCBpdGVtIGFuZCBhbiAnaW5kZXgnIHByb3BlcnR5IGNvbnRhaW5pbmcgdGhlIGluZGV4IGluICdkYXRhJ1xcbiAgICAgIG9mIHRoZSBjbGlja2VkIGl0ZW0uIFlvdSBzaG91bGQgbm90IGluY2x1ZGUgaW50ZXJhY3RpdmUgZWxlbWVudHMsIGxpa2VcXG4gICAgICBBbmNob3Igb3IgQnV0dG9uIGluc2lkZSAncHJpbWFyeUtleScgb3IgJ3NlY29uZGFyeUtleScgYXMgdGhhdCBjYW5cXG4gICAgICBjYXVzZSBjb25mdXNpb24gd2l0aCBvdmVybGFwcGluZyBpbnRlcmFjdGl2ZSBlbGVtZW50cy5cIiksXG4gICAgcGFkOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2Yoc2l6ZXMpLCBQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMuc2hhcGUocGFkU2hhcGVTaWRlcyldKS5kZXNjcmlwdGlvbihcIkl0ZW0gcGFkZGluZy5cIiksXG4gICAgcHJpbWFyeUtleTogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLmZ1bmNdKS5kZXNjcmlwdGlvbihcIldoZW4gYSBzdHJpbmcgaXMgc3VwcGxpZWQsIGl0IGluZGljYXRlcyB0aGUgcHJvcGVydHkgaW4gYSBkYXRhIGl0ZW1cXG4gICAgICBvYmplY3QgdG8gdXNlIHRvIGdldCB0aGUgcHJpbWFyeSBjb250ZW50LiBJZiBhIGZ1bmN0aW9uIGlzIHN1cHBsaWVkLCBpdFxcbiAgICAgIHdpbGwgYmUgY2FsbGVkIHdpdGggdGhlIGN1cnJlbnQgZGF0YSBpdGVtIG9iamVjdCBhbmQgc2hvdWxkIHJldHVyblxcbiAgICAgIGEgUmVhY3QgZWxlbWVudCB0aGF0IHdpbGwgYmUgcmVuZGVyZWQgYXMgdGhlIHByaW1hcnkgY29udGVudC5cIiksXG4gICAgc2Vjb25kYXJ5S2V5OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMuZnVuY10pLmRlc2NyaXB0aW9uKFwiV2hlbiBhIHN0cmluZyBpcyBzdXBwbGllZCwgaXQgaW5kaWNhdGVzIHRoZSBwcm9wZXJ0eSBpbiBhIGRhdGEgaXRlbVxcbiAgICAgIG9iamVjdCB0byB1c2UgdG8gZ2V0IHRoZSBzZWNvbmRhcnkgY29udGVudC4gSWYgYSBmdW5jdGlvbiBpcyBzdXBwbGllZCwgaXRcXG4gICAgICB3aWxsIGJlIGNhbGxlZCB3aXRoIHRoZSBjdXJyZW50IGRhdGEgaXRlbSBvYmplY3QgYW5kIHNob3VsZCByZXR1cm5cXG4gICAgICBhIFJlYWN0IGVsZW1lbnQgdGhhdCB3aWxsIGJlIHJlbmRlcmVkIGFzIHRoZSBzZWNvbmRhcnkgY29udGVudC5cIiksXG4gICAgc3RlcDogUHJvcFR5cGVzLm51bWJlci5kZXNjcmlwdGlvbignSG93IG1hbnkgaXRlbXMgdG8gcmVuZGVyIGF0IGEgdGltZS4nKS5kZWZhdWx0VmFsdWUoNTApXG4gIH0pO1xuICByZXR1cm4gRG9jdW1lbnRlZExpc3Q7XG59O1xuZXhwb3J0IHZhciB0aGVtZURvYyA9IHtcbiAgJ2dsb2JhbC5ob3Zlci5iYWNrZ3JvdW5kJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGJhY2tncm91bmQgc3R5bGUgd2hlbiBob3ZlcmluZyBvdmVyIGFuIGludGVyYWN0aXZlIGl0ZW0uJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgeyBjb2xvcjogc3RyaW5nLCBvcGFjaXR5OiBzdHJpbmcgfScsXG4gICAgZGVmYXVsdFZhbHVlOiBcInsgY29sb3I6ICdhY3RpdmUnLCBvcGFjaXR5OiAnbWVkaXVtJyB9XCJcbiAgfSxcbiAgJ2dsb2JhbC5ob3Zlci5jb2xvcic6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSB0ZXh0IGNvbG9yIHdoZW4gaG92ZXJpbmcgb3ZlciBhbiBpbnRlcmFjdGl2ZSBpdGVtLicsXG4gICAgdHlwZTogJ3N0cmluZyB8IHsgZGFyazogc3RyaW5nLCBsaWdodDogc3RyaW5nIH0nLFxuICAgIGRlZmF1bHRWYWx1ZTogXCJ7IGRhcms6ICd3aGl0ZScsIGxpZ2h0OiAnYmxhY2snIH1cIlxuICB9LFxuICAnbGlzdC5leHRlbmQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdBbnkgYWRkaXRpb25hbCBzdHlsZSBmb3IgdGhlIGxpc3QuJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgKHByb3BzKSA9PiB7fScsXG4gICAgZGVmYXVsdFZhbHVlOiB1bmRlZmluZWRcbiAgfSxcbiAgJ2xpc3QuaXRlbS5iYWNrZ3JvdW5kJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnQmFja2dyb3VuZCBjb2xvciBmb3IgbGlzdCBpdGVtcy4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCBbc3RyaW5nXScsXG4gICAgZGVmYXVsdFZhbHVlOiB1bmRlZmluZWRcbiAgfSxcbiAgJ2xpc3QuaXRlbS5ib3JkZXInOiB7XG4gICAgZGVzY3JpcHRpb246ICdCb3JkZXIgZm9yIGxpc3QgaXRlbXMuJyxcbiAgICB0eXBlOiAnYm9vbGVhbiB8IHN0cmluZyB8IG9iamVjdCcsXG4gICAgZGVmYXVsdFZhbHVlOiAnaG9yaXpvbnRhbCdcbiAgfSxcbiAgJ2xpc3QuaXRlbS5wYWQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdCb3JkZXIgZm9yIGxpc3QgaXRlbXMuJyxcbiAgICB0eXBlOiAnYm9vbGVhbiB8IHN0cmluZyB8IG9iamVjdCcsXG4gICAgZGVmYXVsdFZhbHVlOiBcInsgaG9yaXpvbnRhbDogJ21lZGl1bScsIHZlcnRpY2FsOiAnc21hbGwnIH1cIlxuICB9LFxuICAnbGlzdC5pdGVtLmV4dGVuZCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ0FueSBhZGRpdGlvbmFsIHN0eWxlIGZvciB0aGUgbGlzdCBpdGVtcy4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCAocHJvcHMpID0+IHt9JyxcbiAgICBkZWZhdWx0VmFsdWU6IHVuZGVmaW5lZFxuICB9XG59OyIsImV4cG9ydCB7IExpc3QgfSBmcm9tICcuL0xpc3QnOyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBCb3ggfSBmcm9tICcuLi9Cb3gnO1xuXG52YXIgTWFpbiA9IGZ1bmN0aW9uIE1haW4oX3JlZikge1xuICB2YXIgcmVzdCA9IF9leHRlbmRzKHt9LCBfcmVmKTtcblxuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChCb3gsIF9leHRlbmRzKHtcbiAgICBhczogXCJtYWluXCIsXG4gICAgZmlsbDogXCJ2ZXJ0aWNhbFwiLFxuICAgIGZsZXg6IFwiZ3Jvd1wiLFxuICAgIG92ZXJmbG93OiBcImF1dG9cIlxuICB9LCByZXN0KSk7XG59O1xuXG52YXIgTWFpbkRvYztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGdsb2JhbC1yZXF1aXJlXG4gIE1haW5Eb2MgPSByZXF1aXJlKCcuL2RvYycpLmRvYyhNYWluKTtcbn1cblxudmFyIE1haW5XcmFwcGVyID0gTWFpbkRvYyB8fCBNYWluO1xuZXhwb3J0IHsgTWFpbldyYXBwZXIgYXMgTWFpbiB9OyIsImltcG9ydCB7IGRlc2NyaWJlIH0gZnJvbSAncmVhY3QtZGVzYyc7XG5pbXBvcnQgeyBnZXRBdmFpbGFibGVBdEJhZGdlIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuZXhwb3J0IHZhciBkb2MgPSBmdW5jdGlvbiBkb2MoTWFpbikge1xuICB2YXIgRG9jdW1lbnRlZE1haW4gPSBkZXNjcmliZShNYWluKS5hdmFpbGFibGVBdChnZXRBdmFpbGFibGVBdEJhZGdlKCdNYWluJykpLmRlc2NyaXB0aW9uKCdtYWluIGNvbnRlbnQgb2YgYSBkb2N1bWVudC4nKS51c2FnZShcImltcG9ydCB7IE1haW4gfSBmcm9tICdncm9tbWV0JztcXG48TWFpbiAvPlwiKTtcbiAgcmV0dXJuIERvY3VtZW50ZWRNYWluO1xufTsiLCJleHBvcnQgeyBNYWluIH0gZnJvbSAnLi9NYWluJzsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgTWFya2Rvd24gZnJvbSAnbWFya2Rvd24tdG8tanN4JztcbmltcG9ydCB7IGRlZXBNZXJnZSB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmltcG9ydCB7IEhlYWRpbmcgfSBmcm9tICcuLi9IZWFkaW5nJztcbmltcG9ydCB7IFBhcmFncmFwaCB9IGZyb20gJy4uL1BhcmFncmFwaCc7XG5pbXBvcnQgeyBBbmNob3IgfSBmcm9tICcuLi9BbmNob3InO1xuaW1wb3J0IHsgSW1hZ2UgfSBmcm9tICcuLi9JbWFnZSc7XG5pbXBvcnQgeyBUYWJsZSB9IGZyb20gJy4uL1RhYmxlJztcbmltcG9ydCB7IFRhYmxlQm9keSB9IGZyb20gJy4uL1RhYmxlQm9keSc7XG5pbXBvcnQgeyBUYWJsZUNlbGwgfSBmcm9tICcuLi9UYWJsZUNlbGwnO1xuaW1wb3J0IHsgVGFibGVGb290ZXIgfSBmcm9tICcuLi9UYWJsZUZvb3Rlcic7XG5pbXBvcnQgeyBUYWJsZUhlYWRlciB9IGZyb20gJy4uL1RhYmxlSGVhZGVyJztcbmltcG9ydCB7IFRhYmxlUm93IH0gZnJvbSAnLi4vVGFibGVSb3cnO1xuXG52YXIgR3JvbW1ldE1hcmtkb3duID0gZnVuY3Rpb24gR3JvbW1ldE1hcmtkb3duKF9yZWYpIHtcbiAgdmFyIGNvbXBvbmVudHMgPSBfcmVmLmNvbXBvbmVudHMsXG4gICAgICBvcHRpb25zID0gX3JlZi5vcHRpb25zLFxuICAgICAgdGhlbWUgPSBfcmVmLnRoZW1lLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9yZWYsIFtcImNvbXBvbmVudHNcIiwgXCJvcHRpb25zXCIsIFwidGhlbWVcIl0pO1xuXG4gIHZhciBoZWFkaW5nID0gWzEsIDIsIDMsIDRdLnJlZHVjZShmdW5jdGlvbiAob2JqLCBsZXZlbCkge1xuICAgIHZhciByZXN1bHQgPSBfZXh0ZW5kcyh7fSwgb2JqKTtcblxuICAgIHJlc3VsdFtcImhcIiArIGxldmVsXSA9IHtcbiAgICAgIGNvbXBvbmVudDogSGVhZGluZyxcbiAgICAgIHByb3BzOiB7XG4gICAgICAgIGxldmVsOiBsZXZlbFxuICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSwge30pO1xuICB2YXIgb3ZlcnJpZGVzID0gZGVlcE1lcmdlKHtcbiAgICBhOiB7XG4gICAgICBjb21wb25lbnQ6IEFuY2hvclxuICAgIH0sXG4gICAgaW1nOiB7XG4gICAgICBjb21wb25lbnQ6IEltYWdlXG4gICAgfSxcbiAgICBwOiB7XG4gICAgICBjb21wb25lbnQ6IFBhcmFncmFwaFxuICAgIH0sXG4gICAgdGFibGU6IHtcbiAgICAgIGNvbXBvbmVudDogVGFibGVcbiAgICB9LFxuICAgIHRkOiB7XG4gICAgICBjb21wb25lbnQ6IFRhYmxlQ2VsbFxuICAgIH0sXG4gICAgdGJvZHk6IHtcbiAgICAgIGNvbXBvbmVudDogVGFibGVCb2R5XG4gICAgfSxcbiAgICB0Zm9vdDoge1xuICAgICAgY29tcG9uZW50OiBUYWJsZUZvb3RlclxuICAgIH0sXG4gICAgdGg6IHtcbiAgICAgIGNvbXBvbmVudDogVGFibGVDZWxsXG4gICAgfSxcbiAgICB0aGVhZDoge1xuICAgICAgY29tcG9uZW50OiBUYWJsZUhlYWRlclxuICAgIH0sXG4gICAgdHI6IHtcbiAgICAgIGNvbXBvbmVudDogVGFibGVSb3dcbiAgICB9XG4gIH0sIGhlYWRpbmcsIGNvbXBvbmVudHMsIG9wdGlvbnMgJiYgb3B0aW9ucy5vdmVycmlkZXMpO1xuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChNYXJrZG93biwgX2V4dGVuZHMoe1xuICAgIG9wdGlvbnM6IF9leHRlbmRzKHt9LCBvcHRpb25zLCB7XG4gICAgICBvdmVycmlkZXM6IG92ZXJyaWRlc1xuICAgIH0pXG4gIH0sIHJlc3QpKTtcbn07XG5cbnZhciBHcm9tbWV0TWFya2Rvd25Eb2M7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBnbG9iYWwtcmVxdWlyZVxuICBHcm9tbWV0TWFya2Rvd25Eb2MgPSByZXF1aXJlKCcuL2RvYycpLmRvYyhHcm9tbWV0TWFya2Rvd24pO1xufVxuXG52YXIgR3JvbW1ldE1hcmtkb3duV3JhcHBlciA9IEdyb21tZXRNYXJrZG93bkRvYyB8fCBHcm9tbWV0TWFya2Rvd247XG5leHBvcnQgeyBHcm9tbWV0TWFya2Rvd25XcmFwcGVyIGFzIE1hcmtkb3duIH07IiwiaW1wb3J0IHsgZGVzY3JpYmUsIFByb3BUeXBlcyB9IGZyb20gJ3JlYWN0LWRlc2MnO1xuaW1wb3J0IHsgZ2V0QXZhaWxhYmxlQXRCYWRnZSB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmV4cG9ydCB2YXIgZG9jID0gZnVuY3Rpb24gZG9jKE1hcmtkb3duKSB7XG4gIHZhciBEb2N1bWVudGVkTWFya2Rvd24gPSBkZXNjcmliZShNYXJrZG93bikuYXZhaWxhYmxlQXQoZ2V0QXZhaWxhYmxlQXRCYWRnZSgnTWFya2Rvd24nKSkuZGVzY3JpcHRpb24oJ01hcmtkb3duIGZvcm1hdHRpbmcgdXNpbmcgR3JvbW1ldCBjb21wb25lbnRzLicpLnVzYWdlKFwiaW1wb3J0IHsgTWFya2Rvd24gfSBmcm9tICdncm9tbWV0JztcXG4gICAgICA8TWFya2Rvd24+e2NvbnRlbnR9PC9NYXJrZG93bj5cIikuaW50cmluc2ljRWxlbWVudCgnZGl2Jyk7XG4gIERvY3VtZW50ZWRNYXJrZG93bi5wcm9wVHlwZXMgPSB7XG4gICAgY29tcG9uZW50czogUHJvcFR5cGVzLnNoYXBlKHt9KS5kZXNjcmlwdGlvbihcIkN1c3RvbSBjb21wb25lbnRzIGFuZCBwcm9wcyB0byBvdmVycmlkZSBodG1sIGVsZW1lbnRzIHN1Y2ggYXMgJ2ltZydcXG4gICAgICBvciAncHJlJy4gQnkgZGVmYXVsdCAnYScsICdwJywgJ2ltZycsIGFuZCB0YWJsZSBlbGVtZW50cyBhcmUgb3ZlcnJpZGRlblxcbiAgICAgIHdpdGggZ3JvbW1ldCBjb21wb25lbnRzXCIpXG4gIH07XG4gIHJldHVybiBEb2N1bWVudGVkTWFya2Rvd247XG59OyIsImV4cG9ydCB7IE1hcmtkb3duIH0gZnJvbSAnLi9NYXJrZG93bic7IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzTG9vc2Uoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzLnByb3RvdHlwZSk7IHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzOyBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbmltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjb21wb3NlIH0gZnJvbSAncmVjb21wb3NlJztcbmltcG9ydCB7IFRoZW1lQ29udGV4dCB9IGZyb20gJy4uLy4uL2NvbnRleHRzJztcbmltcG9ydCB7IGRlZmF1bHRQcm9wcyB9IGZyb20gJy4uLy4uL2RlZmF1bHQtcHJvcHMnO1xuaW1wb3J0IHsgQm94IH0gZnJvbSAnLi4vQm94JztcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJy4uL0J1dHRvbic7XG5pbXBvcnQgeyBEcm9wIH0gZnJvbSAnLi4vRHJvcCc7XG5pbXBvcnQgeyBLZXlib2FyZCB9IGZyb20gJy4uL0tleWJvYXJkJztcbmltcG9ydCB7IHdpdGhGb2N1cywgd2l0aEZvcndhcmRSZWYgfSBmcm9tICcuLi9ob2NzJztcbmltcG9ydCB7IFN0eWxlZE1hc2tlZElucHV0LCBTdHlsZWRNYXNrZWRJbnB1dENvbnRhaW5lciB9IGZyb20gJy4vU3R5bGVkTWFza2VkSW5wdXQnO1xuXG52YXIgcGFyc2VWYWx1ZSA9IGZ1bmN0aW9uIHBhcnNlVmFsdWUobWFzaywgdmFsdWUpIHtcbiAgLy8gYnJlYWsgdGhlIHZhbHVlIHVwIGludG8gbWFzayBwYXJ0c1xuICB2YXIgdmFsdWVQYXJ0cyA9IFtdOyAvLyB7IHBhcnQsIGJlZ2luSW5kZXgsIGVuZEluZGV4IH1cblxuICB2YXIgdmFsdWVJbmRleCA9IDA7XG4gIHZhciBtYXNrSW5kZXggPSAwO1xuXG4gIHdoaWxlICh2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHZhbHVlSW5kZXggPCB2YWx1ZS5sZW5ndGggJiYgbWFza0luZGV4IDwgbWFzay5sZW5ndGgpIHtcbiAgICB2YXIgaXRlbSA9IG1hc2tbbWFza0luZGV4XTtcbiAgICB2YXIgZm91bmQgPSB2b2lkIDA7XG5cbiAgICBpZiAoaXRlbS5maXhlZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGl0ZW0uZml4ZWQubGVuZ3RoO1xuICAgICAgdmFsdWVQYXJ0cy5wdXNoKHtcbiAgICAgICAgcGFydDogaXRlbS5maXhlZCxcbiAgICAgICAgYmVnaW5JbmRleDogdmFsdWVJbmRleCxcbiAgICAgICAgZW5kSW5kZXg6IHZhbHVlSW5kZXggKyBsZW5ndGggLSAxXG4gICAgICB9KTtcbiAgICAgIHZhciBwYXJ0ID0gdmFsdWUuc2xpY2UodmFsdWVJbmRleCwgdmFsdWVJbmRleCArIGxlbmd0aCk7XG5cbiAgICAgIGlmIChwYXJ0ID09PSBpdGVtLmZpeGVkKSB7XG4gICAgICAgIHZhbHVlSW5kZXggKz0gbGVuZ3RoO1xuICAgICAgfVxuXG4gICAgICBtYXNrSW5kZXggKz0gMTtcbiAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKGl0ZW0ub3B0aW9ucykge1xuICAgICAgLy8gcmV2ZXJzZSBhc3N1bWluZyBsYXJnZXIgaXMgbGF0ZXJcbiAgICAgIGZvdW5kID0gaXRlbS5vcHRpb25zLnNsaWNlKDApLnJldmVyc2UoKSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbG9vcC1mdW5jXG4gICAgICAuc29tZShmdW5jdGlvbiAob3B0aW9uKSB7XG4gICAgICAgIHZhciBsZW5ndGggPSBvcHRpb24ubGVuZ3RoO1xuICAgICAgICB2YXIgcGFydCA9IHZhbHVlLnNsaWNlKHZhbHVlSW5kZXgsIHZhbHVlSW5kZXggKyBsZW5ndGgpO1xuXG4gICAgICAgIGlmIChwYXJ0ID09PSBvcHRpb24pIHtcbiAgICAgICAgICB2YWx1ZVBhcnRzLnB1c2goe1xuICAgICAgICAgICAgcGFydDogcGFydCxcbiAgICAgICAgICAgIGJlZ2luSW5kZXg6IHZhbHVlSW5kZXgsXG4gICAgICAgICAgICBlbmRJbmRleDogdmFsdWVJbmRleCArIGxlbmd0aCAtIDFcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB2YWx1ZUluZGV4ICs9IGxlbmd0aDtcbiAgICAgICAgICBtYXNrSW5kZXggKz0gMTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmICghZm91bmQpIHtcbiAgICAgIGlmIChpdGVtLnJlZ2V4cCkge1xuICAgICAgICB2YXIgbWluTGVuZ3RoID0gQXJyYXkuaXNBcnJheShpdGVtLmxlbmd0aCkgJiYgaXRlbS5sZW5ndGhbMF0gfHwgaXRlbS5sZW5ndGggfHwgMTtcbiAgICAgICAgdmFyIG1heExlbmd0aCA9IEFycmF5LmlzQXJyYXkoaXRlbS5sZW5ndGgpICYmIGl0ZW0ubGVuZ3RoWzFdIHx8IGl0ZW0ubGVuZ3RoIHx8IHZhbHVlLmxlbmd0aCAtIHZhbHVlSW5kZXg7XG4gICAgICAgIHZhciBfbGVuZ3RoID0gbWF4TGVuZ3RoO1xuXG4gICAgICAgIHdoaWxlICghZm91bmQgJiYgX2xlbmd0aCA+PSBtaW5MZW5ndGgpIHtcbiAgICAgICAgICB2YXIgX3BhcnQgPSB2YWx1ZS5zbGljZSh2YWx1ZUluZGV4LCB2YWx1ZUluZGV4ICsgX2xlbmd0aCk7XG5cbiAgICAgICAgICBpZiAoaXRlbS5yZWdleHAudGVzdChfcGFydCkpIHtcbiAgICAgICAgICAgIHZhbHVlUGFydHMucHVzaCh7XG4gICAgICAgICAgICAgIHBhcnQ6IF9wYXJ0LFxuICAgICAgICAgICAgICBiZWdpbkluZGV4OiB2YWx1ZUluZGV4LFxuICAgICAgICAgICAgICBlbmRJbmRleDogdmFsdWVJbmRleCArIF9sZW5ndGggLSAxXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhbHVlSW5kZXggKz0gX2xlbmd0aDtcbiAgICAgICAgICAgIG1hc2tJbmRleCArPSAxO1xuICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF9sZW5ndGggLT0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZm91bmQpIHtcbiAgICAgICAgICB2YWx1ZUluZGV4ID0gdmFsdWUubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgX2xlbmd0aDIgPSBBcnJheS5pc0FycmF5KGl0ZW0ubGVuZ3RoKSA/IGl0ZW0ubGVuZ3RoWzFdIDogaXRlbS5sZW5ndGggfHwgdmFsdWUubGVuZ3RoIC0gdmFsdWVJbmRleDtcblxuICAgICAgICB2YXIgX3BhcnQyID0gdmFsdWUuc2xpY2UodmFsdWVJbmRleCwgdmFsdWVJbmRleCArIF9sZW5ndGgyKTtcblxuICAgICAgICB2YWx1ZVBhcnRzLnB1c2goe1xuICAgICAgICAgIHBhcnQ6IF9wYXJ0MixcbiAgICAgICAgICBiZWdpbkluZGV4OiB2YWx1ZUluZGV4LFxuICAgICAgICAgIGVuZEluZGV4OiB2YWx1ZUluZGV4ICsgX2xlbmd0aDIgLSAxXG4gICAgICAgIH0pO1xuICAgICAgICB2YWx1ZUluZGV4ICs9IF9sZW5ndGgyO1xuICAgICAgICBtYXNrSW5kZXggKz0gMTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdmFsdWVQYXJ0cztcbn07XG5cbnZhciBNYXNrZWRJbnB1dCA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBfaW5oZXJpdHNMb29zZShNYXNrZWRJbnB1dCwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gTWFza2VkSW5wdXQoKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIF90aGlzID0gX0NvbXBvbmVudC5jYWxsLmFwcGx5KF9Db21wb25lbnQsIFt0aGlzXS5jb25jYXQoYXJncykpIHx8IHRoaXM7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwic3RhdGVcIiwge30pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcImlucHV0UmVmXCIsIFJlYWN0LmNyZWF0ZVJlZigpKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJkcm9wUmVmXCIsIFJlYWN0LmNyZWF0ZVJlZigpKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJsb2NhdGVDYXJldFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBsZWF2ZSB0aW1lIGZvciBjYXJldCB0byBiZSBwbGFjZWQgYWZ0ZXIgcmVjZWl2aW5nIGZvY3VzXG4gICAgICBjbGVhclRpbWVvdXQoX3RoaXMuY2FyZXRUaW1lb3V0KTtcbiAgICAgIF90aGlzLmNhcmV0VGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbWFzayA9IF90aGlzLnByb3BzLm1hc2s7XG4gICAgICAgIHZhciBfdGhpcyRzdGF0ZSA9IF90aGlzLnN0YXRlLFxuICAgICAgICAgICAgYWN0aXZlTWFza0luZGV4ID0gX3RoaXMkc3RhdGUuYWN0aXZlTWFza0luZGV4LFxuICAgICAgICAgICAgdmFsdWVQYXJ0cyA9IF90aGlzJHN0YXRlLnZhbHVlUGFydHM7XG5cbiAgICAgICAgaWYgKF90aGlzLmlucHV0UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAvLyBkZXRlcm1pbmUgd2hpY2ggbWFzayBlbGVtZW50IHRoZSBjYXJldCBpcyBhdFxuICAgICAgICAgIHZhciBjYXJldEluZGV4ID0gX3RoaXMuaW5wdXRSZWYuY3VycmVudC5zZWxlY3Rpb25TdGFydDtcbiAgICAgICAgICB2YXIgbWFza0luZGV4O1xuICAgICAgICAgIHZhbHVlUGFydHMuc29tZShmdW5jdGlvbiAocGFydCwgaW5kZXgpIHtcbiAgICAgICAgICAgIGlmIChwYXJ0LmJlZ2luSW5kZXggPD0gY2FyZXRJbmRleCAmJiBwYXJ0LmVuZEluZGV4ID49IGNhcmV0SW5kZXgpIHtcbiAgICAgICAgICAgICAgbWFza0luZGV4ID0gaW5kZXg7XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAobWFza0luZGV4ID09PSB1bmRlZmluZWQgJiYgdmFsdWVQYXJ0cy5sZW5ndGggPCBtYXNrLmxlbmd0aCkge1xuICAgICAgICAgICAgbWFza0luZGV4ID0gdmFsdWVQYXJ0cy5sZW5ndGg7IC8vIGZpcnN0IHVudXNlZCBvbmVcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAobWFza0luZGV4ICYmIG1hc2tbbWFza0luZGV4XS5maXhlZCkge1xuICAgICAgICAgICAgbWFza0luZGV4IC09IDE7IC8vIGZpeGVkIG1hc2sgcGFydHMgYXJlIG5ldmVyIFwiYWN0aXZlXCJcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAobWFza0luZGV4ICE9PSBhY3RpdmVNYXNrSW5kZXgpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC9uby1kaWQtdXBkYXRlLXNldC1zdGF0ZVxuICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICBhY3RpdmVNYXNrSW5kZXg6IG1hc2tJbmRleCxcbiAgICAgICAgICAgICAgYWN0aXZlT3B0aW9uSW5kZXg6IC0xLFxuICAgICAgICAgICAgICBzaG93RHJvcDogbWFza0luZGV4ID49IDAgJiYgbWFza1ttYXNrSW5kZXhdLm9wdGlvbnMgJiYgdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LCAxMCk7IC8vIDEwbXMgZW1waXJpY2FsbHkgY2hvc2VuXG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwib25Gb2N1c1wiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBvbkZvY3VzID0gX3RoaXMucHJvcHMub25Gb2N1cztcblxuICAgICAgX3RoaXMubG9jYXRlQ2FyZXQoKTtcblxuICAgICAgaWYgKG9uRm9jdXMpIHtcbiAgICAgICAgb25Gb2N1cyhldmVudCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwib25CbHVyXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgLy8gZGVsYXkgc28gd2UgZG9uJ3QgcmVtb3ZlIHRoZSBkcm9wIGJlZm9yZSBCdXR0b24gZXZlbnRzIGNhbiBiZSBwcm9jZXNzZWRcbiAgICAgIHZhciBvbkJsdXIgPSBfdGhpcy5wcm9wcy5vbkJsdXI7XG4gICAgICBjbGVhclRpbWVvdXQoX3RoaXMuYmx1clRpbWVvdXQpO1xuICAgICAgX3RoaXMuYmx1clRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNob3dEcm9wID0gX3RoaXMuc3RhdGUuc2hvd0Ryb3A7XG5cbiAgICAgICAgaWYgKHNob3dEcm9wICYmIF90aGlzLmRyb3BSZWYuY3VycmVudCAmJiBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICE9PSBfdGhpcy5pbnB1dFJlZi5jdXJyZW50ICYmICFfdGhpcy5kcm9wUmVmLmN1cnJlbnQucGFyZW50Tm9kZS5jb250YWlucyhkb2N1bWVudC5hY3RpdmVFbGVtZW50KSkge1xuICAgICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGFjdGl2ZU1hc2tJbmRleDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgc2hvd0Ryb3A6IGZhbHNlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sIDEwKTsgLy8gMTBtcyBlbXBpcmljYWxseSBjaG9zZW5cblxuICAgICAgaWYgKG9uQmx1cikge1xuICAgICAgICBvbkJsdXIoZXZlbnQpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcInNldFZhbHVlXCIsIGZ1bmN0aW9uIChuZXh0VmFsdWUpIHtcbiAgICAgIC8vIENhbGxpbmcgc2V0IHZhbHVlIGZ1bmN0aW9uIGRpcmVjdGx5IG9uIGlucHV0IGJlY2F1c2UgUmVhY3QgbGlicmFyeVxuICAgICAgLy8gb3ZlcnJpZGVzIHNldHRlciBgZXZlbnQudGFyZ2V0LnZhbHVlID1gIGFuZCBsb3NlcyBvcmlnaW5hbCBldmVudFxuICAgICAgLy8gdGFyZ2V0IGZpZGVsaXR5LlxuICAgICAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzQ2MDEyMjEwICYmXG4gICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vZ3JvbW1ldC9ncm9tbWV0L3B1bGwvMzE3MSNkaXNjdXNzaW9uX3IyOTY0MTUyMzlcbiAgICAgIHZhciBuYXRpdmVJbnB1dFZhbHVlU2V0dGVyID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih3aW5kb3cuSFRNTElucHV0RWxlbWVudC5wcm90b3R5cGUsICd2YWx1ZScpLnNldDtcbiAgICAgIG5hdGl2ZUlucHV0VmFsdWVTZXR0ZXIuY2FsbChfdGhpcy5pbnB1dFJlZi5jdXJyZW50LCBuZXh0VmFsdWUpO1xuICAgICAgdmFyIGV2ZW50ID0gbmV3IEV2ZW50KCdpbnB1dCcsIHtcbiAgICAgICAgYnViYmxlczogdHJ1ZVxuICAgICAgfSk7XG5cbiAgICAgIF90aGlzLmlucHV0UmVmLmN1cnJlbnQuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwib25DaGFuZ2VcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBvbkNoYW5nZSA9IF90aGlzJHByb3BzLm9uQ2hhbmdlLFxuICAgICAgICAgIG1hc2sgPSBfdGhpcyRwcm9wcy5tYXNrO1xuICAgICAgdmFyIHZhbHVlID0gZXZlbnQudGFyZ2V0LnZhbHVlOyAvLyBBbGlnbiB3aXRoIHRoZSBtYXNrLlxuXG4gICAgICB2YXIgdmFsdWVQYXJ0cyA9IHBhcnNlVmFsdWUobWFzaywgdmFsdWUpO1xuICAgICAgdmFyIG5leHRWYWx1ZSA9IHZhbHVlUGFydHMubWFwKGZ1bmN0aW9uIChwYXJ0KSB7XG4gICAgICAgIHJldHVybiBwYXJ0LnBhcnQ7XG4gICAgICB9KS5qb2luKCcnKTtcblxuICAgICAgaWYgKHZhbHVlID09PSBuZXh0VmFsdWUpIHtcbiAgICAgICAgaWYgKG9uQ2hhbmdlKSB7XG4gICAgICAgICAgb25DaGFuZ2UoZXZlbnQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfdGhpcy5zZXRWYWx1ZShuZXh0VmFsdWUpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIm9uT3B0aW9uXCIsIGZ1bmN0aW9uIChvcHRpb24pIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBtYXNrID0gX3RoaXMucHJvcHMubWFzaztcbiAgICAgICAgdmFyIF90aGlzJHN0YXRlMiA9IF90aGlzLnN0YXRlLFxuICAgICAgICAgICAgYWN0aXZlTWFza0luZGV4ID0gX3RoaXMkc3RhdGUyLmFjdGl2ZU1hc2tJbmRleCxcbiAgICAgICAgICAgIHZhbHVlUGFydHMgPSBfdGhpcyRzdGF0ZTIudmFsdWVQYXJ0cztcbiAgICAgICAgdmFyIG5leHRWYWx1ZVBhcnRzID0gW10uY29uY2F0KHZhbHVlUGFydHMpO1xuICAgICAgICBuZXh0VmFsdWVQYXJ0c1thY3RpdmVNYXNrSW5kZXhdID0ge1xuICAgICAgICAgIHBhcnQ6IG9wdGlvblxuICAgICAgICB9OyAvLyBhZGQgYW55IGZpeGVkIHBhcnRzIHRoYXQgZm9sbG93XG5cbiAgICAgICAgdmFyIGluZGV4ID0gYWN0aXZlTWFza0luZGV4ICsgMTtcblxuICAgICAgICB3aGlsZSAoaW5kZXggPCBtYXNrLmxlbmd0aCAmJiAhbmV4dFZhbHVlUGFydHNbaW5kZXhdICYmIG1hc2tbaW5kZXhdLmZpeGVkKSB7XG4gICAgICAgICAgbmV4dFZhbHVlUGFydHNbaW5kZXhdID0ge1xuICAgICAgICAgICAgcGFydDogbWFza1tpbmRleF0uZml4ZWRcbiAgICAgICAgICB9O1xuICAgICAgICAgIGluZGV4ICs9IDE7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbmV4dFZhbHVlID0gbmV4dFZhbHVlUGFydHMubWFwKGZ1bmN0aW9uIChwYXJ0KSB7XG4gICAgICAgICAgcmV0dXJuIHBhcnQucGFydDtcbiAgICAgICAgfSkuam9pbignJyk7XG5cbiAgICAgICAgX3RoaXMuc2V0VmFsdWUobmV4dFZhbHVlKTsgLy8gcmVzdG9yZSBmb2N1cyB0byBpbnB1dFxuXG5cbiAgICAgICAgX3RoaXMuaW5wdXRSZWYuY3VycmVudC5mb2N1cygpO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJvbk5leHRPcHRpb25cIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgbWFzayA9IF90aGlzLnByb3BzLm1hc2s7XG4gICAgICB2YXIgX3RoaXMkc3RhdGUzID0gX3RoaXMuc3RhdGUsXG4gICAgICAgICAgYWN0aXZlTWFza0luZGV4ID0gX3RoaXMkc3RhdGUzLmFjdGl2ZU1hc2tJbmRleCxcbiAgICAgICAgICBhY3RpdmVPcHRpb25JbmRleCA9IF90aGlzJHN0YXRlMy5hY3RpdmVPcHRpb25JbmRleDtcbiAgICAgIHZhciBpdGVtID0gbWFza1thY3RpdmVNYXNrSW5kZXhdO1xuXG4gICAgICBpZiAoaXRlbSAmJiBpdGVtLm9wdGlvbnMpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdmFyIGluZGV4ID0gTWF0aC5taW4oYWN0aXZlT3B0aW9uSW5kZXggKyAxLCBpdGVtLm9wdGlvbnMubGVuZ3RoIC0gMSk7XG5cbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGFjdGl2ZU9wdGlvbkluZGV4OiBpbmRleFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJvblByZXZpb3VzT3B0aW9uXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgdmFyIG1hc2sgPSBfdGhpcy5wcm9wcy5tYXNrO1xuICAgICAgdmFyIF90aGlzJHN0YXRlNCA9IF90aGlzLnN0YXRlLFxuICAgICAgICAgIGFjdGl2ZU1hc2tJbmRleCA9IF90aGlzJHN0YXRlNC5hY3RpdmVNYXNrSW5kZXgsXG4gICAgICAgICAgYWN0aXZlT3B0aW9uSW5kZXggPSBfdGhpcyRzdGF0ZTQuYWN0aXZlT3B0aW9uSW5kZXg7XG5cbiAgICAgIGlmIChhY3RpdmVNYXNrSW5kZXggPj0gMCAmJiBtYXNrW2FjdGl2ZU1hc2tJbmRleF0ub3B0aW9ucykge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB2YXIgaW5kZXggPSBNYXRoLm1heChhY3RpdmVPcHRpb25JbmRleCAtIDEsIDApO1xuXG4gICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBhY3RpdmVPcHRpb25JbmRleDogaW5kZXhcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwib25TZWxlY3RPcHRpb25cIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgbWFzayA9IF90aGlzLnByb3BzLm1hc2s7XG4gICAgICB2YXIgX3RoaXMkc3RhdGU1ID0gX3RoaXMuc3RhdGUsXG4gICAgICAgICAgYWN0aXZlTWFza0luZGV4ID0gX3RoaXMkc3RhdGU1LmFjdGl2ZU1hc2tJbmRleCxcbiAgICAgICAgICBhY3RpdmVPcHRpb25JbmRleCA9IF90aGlzJHN0YXRlNS5hY3RpdmVPcHRpb25JbmRleDtcblxuICAgICAgaWYgKGFjdGl2ZU1hc2tJbmRleCA+PSAwICYmIGFjdGl2ZU9wdGlvbkluZGV4ID49IDApIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdmFyIG9wdGlvbiA9IG1hc2tbYWN0aXZlTWFza0luZGV4XS5vcHRpb25zW2FjdGl2ZU9wdGlvbkluZGV4XTtcblxuICAgICAgICBfdGhpcy5vbk9wdGlvbihvcHRpb24pKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwib25Fc2NcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgc2hvd0Ryb3AgPSBfdGhpcy5zdGF0ZS5zaG93RHJvcDtcblxuICAgICAgaWYgKHNob3dEcm9wKSB7XG4gICAgICAgIC8vIHdlIGhhdmUgdG8gc3RvcCBib3RoIHN5bnRoZXRpYyBldmVudHMgYW5kIG5hdGl2ZSBldmVudHNcbiAgICAgICAgLy8gZHJvcCBhbmQgbGF5ZXIgc2hvdWxkIG5vdCBjbG9zZSBieSBwcmVzc2luZyBlc2Mgb24gdGhpcyBpbnB1dFxuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgZXZlbnQubmF0aXZlRXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIHNob3dEcm9wOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJyZW5kZXJQbGFjZWhvbGRlclwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgbWFzayA9IF90aGlzLnByb3BzLm1hc2s7XG4gICAgICByZXR1cm4gbWFzay5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIGl0ZW0ucGxhY2Vob2xkZXIgfHwgaXRlbS5maXhlZDtcbiAgICAgIH0pLmpvaW4oJycpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgTWFza2VkSW5wdXQuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID0gZnVuY3Rpb24gZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKG5leHRQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgdmFyIG1hc2sgPSBuZXh0UHJvcHMubWFzayxcbiAgICAgICAgdmFsdWUgPSBuZXh0UHJvcHMudmFsdWU7XG4gICAgdmFyIHByaW9yTWFzayA9IHByZXZTdGF0ZS5wcmlvck1hc2ssXG4gICAgICAgIHByaW9yVmFsdWUgPSBwcmV2U3RhdGUucHJpb3JWYWx1ZTtcblxuICAgIGlmIChwcmlvck1hc2sgIT09IG1hc2sgfHwgcHJpb3JWYWx1ZSAhPT0gdmFsdWUpIHtcbiAgICAgIHZhciB2YWx1ZVBhcnRzID0gcGFyc2VWYWx1ZShtYXNrLCB2YWx1ZSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBwcmlvck1hc2s6IG1hc2ssXG4gICAgICAgIHByaW9yVmFsdWU6IHZhbHVlLFxuICAgICAgICB2YWx1ZVBhcnRzOiB2YWx1ZVBhcnRzXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIHZhciBfcHJvdG8gPSBNYXNrZWRJbnB1dC5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmNvbXBvbmVudERpZFVwZGF0ZSA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICB2YXIgZm9jdXMgPSB0aGlzLnByb3BzLmZvY3VzO1xuXG4gICAgaWYgKGZvY3VzKSB7XG4gICAgICB0aGlzLmxvY2F0ZUNhcmV0KCk7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGNsZWFyVGltZW91dCh0aGlzLmNhcmV0VGltZW91dCk7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuYmx1clRpbWVvdXQpO1xuICB9O1xuXG4gIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICB2YXIgX3RoaXMkcHJvcHMyID0gdGhpcy5wcm9wcyxcbiAgICAgICAgZGVmYXVsdFZhbHVlID0gX3RoaXMkcHJvcHMyLmRlZmF1bHRWYWx1ZSxcbiAgICAgICAgZm9yd2FyZFJlZiA9IF90aGlzJHByb3BzMi5mb3J3YXJkUmVmLFxuICAgICAgICBpZCA9IF90aGlzJHByb3BzMi5pZCxcbiAgICAgICAgcGxhY2Vob2xkZXIgPSBfdGhpcyRwcm9wczIucGxhY2Vob2xkZXIsXG4gICAgICAgIHBsYWluID0gX3RoaXMkcHJvcHMyLnBsYWluLFxuICAgICAgICBtYXNrID0gX3RoaXMkcHJvcHMyLm1hc2ssXG4gICAgICAgIHZhbHVlID0gX3RoaXMkcHJvcHMyLnZhbHVlLFxuICAgICAgICBvbkNoYW5nZSA9IF90aGlzJHByb3BzMi5vbkNoYW5nZSxcbiAgICAgICAgb25LZXlEb3duID0gX3RoaXMkcHJvcHMyLm9uS2V5RG93bixcbiAgICAgICAgcHJvcHNUaGVtZSA9IF90aGlzJHByb3BzMi50aGVtZSxcbiAgICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF90aGlzJHByb3BzMiwgW1wiZGVmYXVsdFZhbHVlXCIsIFwiZm9yd2FyZFJlZlwiLCBcImlkXCIsIFwicGxhY2Vob2xkZXJcIiwgXCJwbGFpblwiLCBcIm1hc2tcIiwgXCJ2YWx1ZVwiLCBcIm9uQ2hhbmdlXCIsIFwib25LZXlEb3duXCIsIFwidGhlbWVcIl0pO1xuXG4gICAgdmFyIHRoZW1lID0gdGhpcy5jb250ZXh0IHx8IHByb3BzVGhlbWU7XG4gICAgdmFyIF90aGlzJHN0YXRlNiA9IHRoaXMuc3RhdGUsXG4gICAgICAgIGFjdGl2ZU1hc2tJbmRleCA9IF90aGlzJHN0YXRlNi5hY3RpdmVNYXNrSW5kZXgsXG4gICAgICAgIGFjdGl2ZU9wdGlvbkluZGV4ID0gX3RoaXMkc3RhdGU2LmFjdGl2ZU9wdGlvbkluZGV4LFxuICAgICAgICBzaG93RHJvcCA9IF90aGlzJHN0YXRlNi5zaG93RHJvcDtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWRNYXNrZWRJbnB1dENvbnRhaW5lciwge1xuICAgICAgcGxhaW46IHBsYWluXG4gICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChLZXlib2FyZCwge1xuICAgICAgb25Fc2M6IHRoaXMub25Fc2MsXG4gICAgICBvblRhYjogdGhpcy5vblRhYixcbiAgICAgIG9uTGVmdDogdGhpcy5sb2NhdGVDYXJldCxcbiAgICAgIG9uUmlnaHQ6IHRoaXMubG9jYXRlQ2FyZXQsXG4gICAgICBvblVwOiB0aGlzLm9uUHJldmlvdXNPcHRpb24sXG4gICAgICBvbkRvd246IHRoaXMub25OZXh0T3B0aW9uLFxuICAgICAgb25FbnRlcjogdGhpcy5vblNlbGVjdE9wdGlvbixcbiAgICAgIG9uS2V5RG93bjogb25LZXlEb3duXG4gICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWRNYXNrZWRJbnB1dCwgX2V4dGVuZHMoe1xuICAgICAgaWQ6IGlkLFxuICAgICAgcmVmOiBmdW5jdGlvbiByZWYobm9kZSkge1xuICAgICAgICBfdGhpczIuaW5wdXRSZWYuY3VycmVudCA9IG5vZGU7XG5cbiAgICAgICAgaWYgKGZvcndhcmRSZWYpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIGZvcndhcmRSZWYgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBmb3J3YXJkUmVmLmN1cnJlbnQgPSBub2RlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb3J3YXJkUmVmKG5vZGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGF1dG9Db21wbGV0ZTogXCJvZmZcIixcbiAgICAgIHBsYWluOiBwbGFpbixcbiAgICAgIHBsYWNlaG9sZGVyOiBwbGFjZWhvbGRlciB8fCB0aGlzLnJlbmRlclBsYWNlaG9sZGVyKClcbiAgICB9LCByZXN0LCB7XG4gICAgICBkZWZhdWx0VmFsdWU6IGRlZmF1bHRWYWx1ZSxcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIHRoZW1lOiB0aGVtZSxcbiAgICAgIG9uRm9jdXM6IHRoaXMub25Gb2N1cyxcbiAgICAgIG9uQmx1cjogdGhpcy5vbkJsdXIsXG4gICAgICBvbkNoYW5nZTogdGhpcy5vbkNoYW5nZVxuICAgIH0pKSksIHNob3dEcm9wICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRHJvcCwge1xuICAgICAgaWQ6IGlkID8gXCJtYXNrZWQtaW5wdXQtZHJvcF9fXCIgKyBpZCA6IHVuZGVmaW5lZCxcbiAgICAgIGFsaWduOiB7XG4gICAgICAgIHRvcDogJ2JvdHRvbScsXG4gICAgICAgIGxlZnQ6ICdsZWZ0J1xuICAgICAgfSxcbiAgICAgIHJlc3BvbnNpdmU6IGZhbHNlLFxuICAgICAgdGFyZ2V0OiB0aGlzLmlucHV0UmVmLmN1cnJlbnRcbiAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwge1xuICAgICAgcmVmOiB0aGlzLmRyb3BSZWZcbiAgICB9LCBtYXNrW2FjdGl2ZU1hc2tJbmRleF0ub3B0aW9ucy5tYXAoZnVuY3Rpb24gKG9wdGlvbiwgaW5kZXgpIHtcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwge1xuICAgICAgICBrZXk6IG9wdGlvbixcbiAgICAgICAgZmxleDogZmFsc2VcbiAgICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7XG4gICAgICAgIHRhYkluZGV4OiBcIi0xXCIsXG4gICAgICAgIG9uQ2xpY2s6IF90aGlzMi5vbk9wdGlvbihvcHRpb24pLFxuICAgICAgICBvbk1vdXNlT3ZlcjogZnVuY3Rpb24gb25Nb3VzZU92ZXIoKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMi5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBhY3RpdmVPcHRpb25JbmRleDogaW5kZXhcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgb25Gb2N1czogZnVuY3Rpb24gb25Gb2N1cygpIHt9LFxuICAgICAgICBhY3RpdmU6IGluZGV4ID09PSBhY3RpdmVPcHRpb25JbmRleCxcbiAgICAgICAgaG92ZXJJbmRpY2F0b3I6IFwiYmFja2dyb3VuZFwiXG4gICAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwge1xuICAgICAgICBwYWQ6IHtcbiAgICAgICAgICBob3Jpem9udGFsOiAnc21hbGwnLFxuICAgICAgICAgIHZlcnRpY2FsOiAneHNtYWxsJ1xuICAgICAgICB9XG4gICAgICB9LCBvcHRpb24pKSk7XG4gICAgfSkpKSk7XG4gIH07XG5cbiAgcmV0dXJuIE1hc2tlZElucHV0O1xufShDb21wb25lbnQpO1xuXG5fZGVmaW5lUHJvcGVydHkoTWFza2VkSW5wdXQsIFwiY29udGV4dFR5cGVcIiwgVGhlbWVDb250ZXh0KTtcblxuX2RlZmluZVByb3BlcnR5KE1hc2tlZElucHV0LCBcImRlZmF1bHRQcm9wc1wiLCB7XG4gIG1hc2s6IFtdXG59KTtcblxuT2JqZWN0LnNldFByb3RvdHlwZU9mKE1hc2tlZElucHV0LmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbnZhciBNYXNrZWRJbnB1dERvYztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGdsb2JhbC1yZXF1aXJlXG4gIE1hc2tlZElucHV0RG9jID0gcmVxdWlyZSgnLi9kb2MnKS5kb2MoTWFza2VkSW5wdXQpO1xufVxuXG52YXIgTWFza2VkSW5wdXRXcmFwcGVyID0gY29tcG9zZSh3aXRoRm9jdXMoe1xuICBmb2N1c1dpdGhNb3VzZTogdHJ1ZVxufSksIHdpdGhGb3J3YXJkUmVmKShNYXNrZWRJbnB1dERvYyB8fCBNYXNrZWRJbnB1dCk7XG5leHBvcnQgeyBNYXNrZWRJbnB1dFdyYXBwZXIgYXMgTWFza2VkSW5wdXQgfTsiLCJpbXBvcnQgc3R5bGVkLCB7IGNzcyB9IGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCB7IGZvY3VzU3R5bGUsIGlucHV0U3R5bGUsIHBsYWNlaG9sZGVyU3R5bGUgfSBmcm9tICcuLi8uLi91dGlscyc7XG5cbnZhciBzaXplU3R5bGUgPSBmdW5jdGlvbiBzaXplU3R5bGUocHJvcHMpIHtcbiAgdmFyIGRhdGEgPSBwcm9wcy50aGVtZS50ZXh0W3Byb3BzLnNpemVdO1xuICByZXR1cm4gY3NzKFtcImZvbnQtc2l6ZTpcIiwgXCI7bGluZS1oZWlnaHQ6XCIsIFwiO1wiXSwgZGF0YS5zaXplLCBkYXRhLmhlaWdodCk7XG59O1xuXG52YXIgcGxhaW5TdHlsZSA9IGNzcyhbXCJib3JkZXI6bm9uZTtcIl0pO1xuZXhwb3J0IHZhciBTdHlsZWRNYXNrZWRJbnB1dCA9IHN0eWxlZC5pbnB1dC53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiU3R5bGVkTWFza2VkSW5wdXRcIixcbiAgY29tcG9uZW50SWQ6IFwic2MtOTl2a2ZhLTBcIlxufSkoW1wiXCIsIFwiIHdpZHRoOjEwMCU7XCIsIFwiIFwiLCBcIiBcIiwgXCIgJjo6LW1vei1mb2N1cy1pbm5lcntib3JkZXI6bm9uZTtvdXRsaW5lOm5vbmU7fVwiLCBcIjtcIiwgXCI7XCJdLCBpbnB1dFN0eWxlLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnNpemUgJiYgc2l6ZVN0eWxlKHByb3BzKTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMucGxhaW4gJiYgcGxhaW5TdHlsZTtcbn0sIHBsYWNlaG9sZGVyU3R5bGUsIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuZm9jdXMgJiYgIXByb3BzLnBsYWluICYmIGZvY3VzU3R5bGU7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLm1hc2tlZElucHV0ICYmIHByb3BzLnRoZW1lLm1hc2tlZElucHV0LmV4dGVuZDtcbn0pO1xuZXhwb3J0IHZhciBTdHlsZWRNYXNrZWRJbnB1dENvbnRhaW5lciA9IHN0eWxlZC5kaXYud2l0aENvbmZpZyh7XG4gIGRpc3BsYXlOYW1lOiBcIlN0eWxlZE1hc2tlZElucHV0X19TdHlsZWRNYXNrZWRJbnB1dENvbnRhaW5lclwiLFxuICBjb21wb25lbnRJZDogXCJzYy05OXZrZmEtMVwiXG59KShbXCJwb3NpdGlvbjpyZWxhdGl2ZTt3aWR0aDoxMDAlO1wiXSk7IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuaW1wb3J0IHsgZGVzY3JpYmUsIFByb3BUeXBlcyB9IGZyb20gJ3JlYWN0LWRlc2MnO1xuaW1wb3J0IHsgZ2V0QXZhaWxhYmxlQXRCYWRnZSwgdGhlbWVEb2NVdGlscyB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmV4cG9ydCB2YXIgZG9jID0gZnVuY3Rpb24gZG9jKE1hc2tlZElucHV0KSB7XG4gIHZhciBEb2N1bWVudGVkTWFza2VkSW5wdXQgPSBkZXNjcmliZShNYXNrZWRJbnB1dCkuYXZhaWxhYmxlQXQoZ2V0QXZhaWxhYmxlQXRCYWRnZSgnTWFza2VkSW5wdXQnKSkuZGVzY3JpcHRpb24oJ0FuIGlucHV0IGZpZWxkIHdpdGggZm9ybWFsaXplZCBzeW50YXguJykudXNhZ2UoXCJpbXBvcnQgeyBNYXNrZWRJbnB1dCB9IGZyb20gJ2dyb21tZXQnO1xcbjxNYXNrZWRJbnB1dCBpZD0naXRlbScgbmFtZT0naXRlbScgLz5cIikuaW50cmluc2ljRWxlbWVudCgnaW5wdXQnKTtcbiAgRG9jdW1lbnRlZE1hc2tlZElucHV0LnByb3BUeXBlcyA9IHtcbiAgICBpZDogUHJvcFR5cGVzLnN0cmluZy5kZXNjcmlwdGlvbignVGhlIGlkIGF0dHJpYnV0ZSBvZiB0aGUgaW5wdXQuJyksXG4gICAgbmFtZTogUHJvcFR5cGVzLnN0cmluZy5kZXNjcmlwdGlvbignVGhlIG5hbWUgYXR0cmlidXRlIG9mIHRoZSBpbnB1dC4nKSxcbiAgICBvbkNoYW5nZTogUHJvcFR5cGVzLmZ1bmMuZGVzY3JpcHRpb24oXCJGdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIHVzZXIgdHlwZXMgb3IgcGFzdGVzIHRleHQuXCIpLFxuICAgIG9uQmx1cjogUHJvcFR5cGVzLmZ1bmMuZGVzY3JpcHRpb24oXCJGdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIHVzZXIgbGVhdmVzIHRoZSBmaWVsZC5cIiksXG4gICAgbWFzazogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgIGxlbmd0aDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm51bWJlciwgUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm51bWJlcildKSxcbiAgICAgIGZpeGVkOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgb3B0aW9uczogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLm51bWJlcl0pKSxcbiAgICAgIHJlZ2V4cDogUHJvcFR5cGVzLnNoYXBlKHt9KSAvLyBSZWdFeHBcblxuICAgIH0pKS5kZXNjcmlwdGlvbihcIkRlc2NyaWJlcyB0aGUgc3RydWN0dXJlIG9mIHRoZSBtYXNrLiBJZiBhIHJlZ2V4cCBpcyBwcm92aWRlZCwgaXQgc2hvdWxkXFxuICAgICAgYWxsb3cgYm90aCB0aGUgZmluYWwgZnVsbCBzdHJpbmcgZWxlbWVudCBhcyB3ZWxsIGFzIHBhcnRpYWwgc3RyaW5nc1xcbiAgICAgIGFzIHRoZSB1c2VyIHR5cGVzIGNoYXJhY3RlcnMgb25lIGJ5IG9uZS5cIiksXG4gICAgc2l6ZTogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFsnc21hbGwnLCAnbWVkaXVtJywgJ2xhcmdlJywgJ3hsYXJnZSddKSwgUHJvcFR5cGVzLnN0cmluZ10pLmRlc2NyaXB0aW9uKCdUaGUgc2l6ZSBvZiB0aGUgdGV4dC4nKSxcbiAgICB2YWx1ZTogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLm51bWJlcl0pLmRlc2NyaXB0aW9uKFwiV2hhdCB0ZXh0IHRvIHB1dCBpbiB0aGUgaW5wdXQuIFRoZSBjYWxsZXIgc2hvdWxkIGVuc3VyZSB0aGF0IGl0XFxuICAgICAgaXMgaW5pdGlhbGx5IHZhbGlkIHdpdGggcmVzcGVjdCB0byB0aGUgbWFzay5cIilcbiAgfTtcbiAgcmV0dXJuIERvY3VtZW50ZWRNYXNrZWRJbnB1dDtcbn07XG5leHBvcnQgdmFyIHRoZW1lRG9jID0gX2V4dGVuZHMoe1xuICAnZ2xvYmFsLmhvdmVyLmJhY2tncm91bmQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgYmFja2dyb3VuZCBzdHlsZSB3aGVuIGhvdmVyaW5nLicsXG4gICAgdHlwZTogJ3N0cmluZyB8IHsgY29sb3I6IHN0cmluZywgb3BhY2l0eTogc3RyaW5nIH0nLFxuICAgIGRlZmF1bHRWYWx1ZTogXCJ7IGNvbG9yOiAnYWN0aXZlJywgb3BhY2l0eTogJ21lZGl1bScgfVwiXG4gIH0sXG4gICdnbG9iYWwuaG92ZXIuY29sb3InOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgdGV4dCBjb2xvciB3aGVuIGhvdmVyaW5nLicsXG4gICAgdHlwZTogJ3N0cmluZyB8IHsgZGFyazogc3RyaW5nLCBsaWdodDogc3RyaW5nIH0nLFxuICAgIGRlZmF1bHRWYWx1ZTogXCJ7IGRhcms6ICd3aGl0ZScsIGxpZ2h0OiAnYmxhY2snIH1cIlxuICB9LFxuICAnbWFza2VkSW5wdXQuZXh0ZW5kJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnQW55IGFkZGl0aW9uYWwgc3R5bGUgZm9yIE1hc2tlZElucHV0LicsXG4gICAgdHlwZTogJ3N0cmluZyB8IChwcm9wcykgPT4ge30nLFxuICAgIGRlZmF1bHRWYWx1ZTogdW5kZWZpbmVkXG4gIH0sXG4gICd0ZXh0Lm1lZGl1bSc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBzaXplIG9mIHRoZSB0ZXh0IGZvciBNYXNrZWRJbnB1dC4nLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogJzE4cHgnXG4gIH1cbn0sIHRoZW1lRG9jVXRpbHMuZm9jdXNTdHlsZSwge30sIHRoZW1lRG9jVXRpbHMucGxhY2Vob2xkZXJTdHlsZSwge30sIHRoZW1lRG9jVXRpbHMuaW5wdXRTdHlsZSk7IiwiZXhwb3J0IHsgTWFza2VkSW5wdXQgfSBmcm9tICcuL01hc2tlZElucHV0JzsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbXBvc2UgfSBmcm9tICdyZWNvbXBvc2UnO1xuaW1wb3J0IHN0eWxlZCwgeyB3aXRoVGhlbWUgfSBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3JlYWN0LWRlc2MvbGliL1Byb3BUeXBlcyc7XG5pbXBvcnQgeyBkZWZhdWx0UHJvcHMgfSBmcm9tICcuLi8uLi9kZWZhdWx0LXByb3BzJztcbmltcG9ydCB7IEJveCB9IGZyb20gJy4uL0JveCc7XG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICcuLi9CdXR0b24nO1xuaW1wb3J0IHsgRHJvcEJ1dHRvbiB9IGZyb20gJy4uL0Ryb3BCdXR0b24nO1xuaW1wb3J0IHsgS2V5Ym9hcmQgfSBmcm9tICcuLi9LZXlib2FyZCc7XG5pbXBvcnQgeyBUZXh0IH0gZnJvbSAnLi4vVGV4dCc7XG5pbXBvcnQgeyB3aXRoRm9yd2FyZFJlZiB9IGZyb20gJy4uL2hvY3MnO1xuaW1wb3J0IHsgbm9ybWFsaXplQ29sb3IgfSBmcm9tICcuLi8uLi91dGlscyc7XG52YXIgQ29udGFpbmVyQm94ID0gc3R5bGVkKEJveCkud2l0aENvbmZpZyh7XG4gIGRpc3BsYXlOYW1lOiBcIk1lbnVfX0NvbnRhaW5lckJveFwiLFxuICBjb21wb25lbnRJZDogXCJzYy0xN2ZjeXM5LTBcIlxufSkoW1wibWF4LWhlaWdodDppbmhlcml0O0BtZWRpYSBzY3JlZW4gYW5kICgtbXMtaGlnaC1jb250cmFzdDphY3RpdmUpLCgtbXMtaGlnaC1jb250cmFzdDpub25lKXt3aWR0aDoxMDAlO31cIiwgXCI7XCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLm1lbnUuZXh0ZW5kO1xufSk7XG4vKiBOb3RlcyBvbiBrZXlib2FyZCBpbnRlcmFjdGl2aXR5IChiYXNlZCBvbiBXMykgLy8gRm9yIGRldGFpbHMgcmVmZXJlbmNlOiBodHRwczovL3d3dy53My5vcmcvVFIvd2FpLWFyaWEtcHJhY3RpY2VzLyNtZW51XG5cblRvIG9wZW4gbWVudSB3aGVuIG1lbnUgYnV0dG9uIGlzIGZvY3VzZWQ6XG4tIFNwYWNlL0VudGVyL1VwIGFycm93L0Rvd24gYXJyb3cgd2lsbCBvcGVuIG1lbnVcblxuVG8gbmF2aWdhdGUgd2l0aGluIG1lbnU6XG4tIFVwL2Rvd24gYXJyb3cga2V5cyBjYW4gYmUgdXNlZCBhbmQgd2lsbCBsb29wIHRocm91Z2ggb3B0aW9uc1xuKGtlZXBpbmcgZm9jdXMgd2l0aGluIHRoZSBNZW51KVxuLSBUYWIgY2FuIGJlIHVzZWQsIGJ1dCBvbmNlIHRoZSBsYXN0IG1lbnUgaXRlbSBpcyByZWFjaGVkLCBUYWIgd2lsbCBjbG9zZSB0aGUgXG5NZW51IGFuZCBjb250aW51ZSB0aHJvdWdoIHBhZ2UgY29udGVudC5cblxuVG8gY2xvc2UgdGhlIG1lbnU6XG4tIFRhYmJpbmcgYmV5b25kIHRoZSBmaXJzdCBvciBsYXN0IG1lbnUgaXRlbS5cbi0gRXNjIHdpbGwgY2xvc2UgdGhlIG1lbnVcbi0gU2VsZWN0IGEgbWVudSBpdGVtXG5cblRvIG1ha2UgYSBzZWxlY3Rpb246XG4tIEVudGVyIGtleSBpcyBwcmVzc2VkLlxuLSBTcGFjZSBpcyBwcmVzc2VkLlxuKi9cblxudmFyIE1lbnUgPSBmdW5jdGlvbiBNZW51KHByb3BzKSB7XG4gIHZhciBhMTF5VGl0bGUgPSBwcm9wcy5hMTF5VGl0bGUsXG4gICAgICBjaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuLFxuICAgICAgZGlzYWJsZWQgPSBwcm9wcy5kaXNhYmxlZCxcbiAgICAgIGRyb3BBbGlnbiA9IHByb3BzLmRyb3BBbGlnbixcbiAgICAgIGRyb3BCYWNrZ3JvdW5kID0gcHJvcHMuZHJvcEJhY2tncm91bmQsXG4gICAgICBkcm9wUHJvcHMgPSBwcm9wcy5kcm9wUHJvcHMsXG4gICAgICBkcm9wVGFyZ2V0ID0gcHJvcHMuZHJvcFRhcmdldCxcbiAgICAgIGZvcndhcmRSZWYgPSBwcm9wcy5mb3J3YXJkUmVmLFxuICAgICAganVzdGlmeUNvbnRlbnQgPSBwcm9wcy5qdXN0aWZ5Q29udGVudCxcbiAgICAgIGljb24gPSBwcm9wcy5pY29uLFxuICAgICAgaXRlbXMgPSBwcm9wcy5pdGVtcyxcbiAgICAgIGxhYmVsID0gcHJvcHMubGFiZWwsXG4gICAgICBtZXNzYWdlcyA9IHByb3BzLm1lc3NhZ2VzLFxuICAgICAgb25LZXlEb3duID0gcHJvcHMub25LZXlEb3duLFxuICAgICAgb3BlbiA9IHByb3BzLm9wZW4sXG4gICAgICBwbGFpbiA9IHByb3BzLnBsYWluLFxuICAgICAgc2l6ZSA9IHByb3BzLnNpemUsXG4gICAgICB0aGVtZSA9IHByb3BzLnRoZW1lLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHByb3BzLCBbXCJhMTF5VGl0bGVcIiwgXCJjaGlsZHJlblwiLCBcImRpc2FibGVkXCIsIFwiZHJvcEFsaWduXCIsIFwiZHJvcEJhY2tncm91bmRcIiwgXCJkcm9wUHJvcHNcIiwgXCJkcm9wVGFyZ2V0XCIsIFwiZm9yd2FyZFJlZlwiLCBcImp1c3RpZnlDb250ZW50XCIsIFwiaWNvblwiLCBcIml0ZW1zXCIsIFwibGFiZWxcIiwgXCJtZXNzYWdlc1wiLCBcIm9uS2V5RG93blwiLCBcIm9wZW5cIiwgXCJwbGFpblwiLCBcInNpemVcIiwgXCJ0aGVtZVwiXSk7XG5cbiAgdmFyIE1lbnVJY29uID0gdGhlbWUubWVudS5pY29ucy5kb3duO1xuICB2YXIgaWNvbkNvbG9yID0gbm9ybWFsaXplQ29sb3IoJ2NvbnRyb2wnLCB0aGVtZSk7XG4gIHZhciBhbGlnbiA9IGRyb3BQcm9wcy5hbGlnbiB8fCBkcm9wQWxpZ247XG4gIHZhciBjb250cm9sQnV0dG9uSW5kZXg7XG5cbiAgaWYgKGFsaWduLnRvcCA9PT0gJ3RvcCcpIHtcbiAgICBjb250cm9sQnV0dG9uSW5kZXggPSAtMTtcbiAgfSBlbHNlIGlmIChhbGlnbi5ib3R0b20gPT09ICdib3R0b20nKSB7XG4gICAgY29udHJvbEJ1dHRvbkluZGV4ID0gaXRlbXMubGVuZ3RoO1xuICB9IGVsc2Uge1xuICAgIGNvbnRyb2xCdXR0b25JbmRleCA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIHZhciBidXR0b25SZWZzID0ge307XG4gIHZhciBjb25zdGFudHMgPSB7XG4gICAgbm9uZTogJ25vbmUnLFxuICAgIHRhYjogOSxcbiAgICAvLyBNZW51IGNvbnRyb2wgYnV0dG9uIGluY2x1ZGVkIG9uIHRvcCBvZiBtZW51IGl0ZW1zXG4gICAgY29udHJvbFRvcDogYWxpZ24udG9wID09PSAndG9wJyB8fCB1bmRlZmluZWQsXG4gICAgLy8gTWVudSBjb250cm9sIGJ1dHRvbiBpbmNsdWRlZCBvbiB0aGUgYm90dG9tIG9mIG1lbnUgaXRlbXNcbiAgICBjb250cm9sQm90dG9tOiBhbGlnbi5ib3R0b20gPT09ICdib3R0b20nIHx8IHVuZGVmaW5lZCxcbiAgICBjb250cm9sQnV0dG9uSW5kZXg6IGNvbnRyb2xCdXR0b25JbmRleFxuICB9O1xuXG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZShjb25zdGFudHMubm9uZSksXG4gICAgICBhY3RpdmVJdGVtSW5kZXggPSBfdXNlU3RhdGVbMF0sXG4gICAgICBzZXRBY3RpdmVJdGVtSW5kZXggPSBfdXNlU3RhdGVbMV07XG5cbiAgdmFyIF91c2VTdGF0ZTIgPSB1c2VTdGF0ZShvcGVuIHx8IGZhbHNlKSxcbiAgICAgIGlzT3BlbiA9IF91c2VTdGF0ZTJbMF0sXG4gICAgICBzZXRPcGVuID0gX3VzZVN0YXRlMlsxXTtcblxuICB2YXIgb25Ecm9wQ2xvc2UgPSBmdW5jdGlvbiBvbkRyb3BDbG9zZSgpIHtcbiAgICBzZXRBY3RpdmVJdGVtSW5kZXgoY29uc3RhbnRzLm5vbmUpO1xuICAgIHNldE9wZW4oZmFsc2UpO1xuICB9O1xuXG4gIHZhciBvbkRyb3BPcGVuID0gZnVuY3Rpb24gb25Ecm9wT3BlbigpIHtcbiAgICBzZXRPcGVuKHRydWUpO1xuICB9O1xuXG4gIHZhciBvblNlbGVjdE1lbnVJdGVtID0gZnVuY3Rpb24gb25TZWxlY3RNZW51SXRlbShldmVudCkge1xuICAgIGlmIChpc09wZW4pIHtcbiAgICAgIGlmIChhY3RpdmVJdGVtSW5kZXggPj0gMCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgYnV0dG9uUmVmc1thY3RpdmVJdGVtSW5kZXhdLmNsaWNrKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG9uRHJvcE9wZW4oKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGlzVGFiID0gZnVuY3Rpb24gaXNUYWIoZXZlbnQpIHtcbiAgICByZXR1cm4gZXZlbnQua2V5Q29kZSA9PT0gY29uc3RhbnRzLnRhYiB8fCBldmVudC53aGljaCA9PT0gY29uc3RhbnRzLnRhYjtcbiAgfTtcblxuICB2YXIgb25OZXh0TWVudUl0ZW0gPSBmdW5jdGlvbiBvbk5leHRNZW51SXRlbShldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBpZiAoIWlzT3Blbikge1xuICAgICAgb25Ecm9wT3BlbigpO1xuICAgIH0gZWxzZSBpZiAoaXNUYWIoZXZlbnQpICYmICghY29uc3RhbnRzLmNvbnRyb2xCb3R0b20gJiYgYWN0aXZlSXRlbUluZGV4ID09PSBpdGVtcy5sZW5ndGggLSAxIHx8IGNvbnN0YW50cy5jb250cm9sQm90dG9tICYmIGFjdGl2ZUl0ZW1JbmRleCA9PT0gY29udHJvbEJ1dHRvbkluZGV4KSkge1xuICAgICAgLy8gVXNlciBoYXMgcmVhY2hlZCBlbmQgb2YgdGhlIG1lbnUsIHRoaXMgdGFiIHdpbGwgY2xvc2VcbiAgICAgIC8vIHRoZSBtZW51IGRyb3AgYmVjYXVzZSB0aGVyZSBhcmUgbm8gbW9yZSBcIm5leHQgaXRlbXNcIiB0byBhY2Nlc3NcbiAgICAgIG9uRHJvcENsb3NlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBpbmRleDtcblxuICAgICAgaWYgKCAvLyBUaGlzIGNoZWNrcyBpZiB0aGUgdXNlciBoYXMgcmVhY2hlZCB0aGUgZW5kIG9mIHRoZSBtZW51LlxuICAgICAgLy8gSW4gdGhlIGNhc2UgdGhlIHRoZSBtZW51IGNvbnRyb2wgYnV0dG9uIGlzIGxvY2F0ZWQgYXQgdGhlXG4gICAgICAvLyBib3R0b20gb2YgdGhlIG1lbnUsIGl0IGNoZWNrcyBpZiB0aGUgdXNlciBoYXMgcmVhY2hlZCB0aGUgYnV0dG9uLlxuICAgICAgLy8gT3RoZXJ3aXNlLCBpdCBjaGVja3MgaWYgdGhlIHVzZXIgaXMgYXQgdGhlIGxhc3QgbWVudSBpdGVtLlxuICAgICAgY29uc3RhbnRzLmNvbnRyb2xCb3R0b20gJiYgYWN0aXZlSXRlbUluZGV4ID09PSBjb250cm9sQnV0dG9uSW5kZXggfHwgIWNvbnN0YW50cy5jb250cm9sQm90dG9tICYmIGFjdGl2ZUl0ZW1JbmRleCA9PT0gaXRlbXMubGVuZ3RoIC0gMSB8fCBhY3RpdmVJdGVtSW5kZXggPT09IGNvbnN0YW50cy5ub25lKSB7XG4gICAgICAgIC8vIHBsYWNlIGZvY3VzIG9uIHRoZSBmaXJzdCBtZW51IGl0ZW1cbiAgICAgICAgaW5kZXggPSAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5kZXggPSBhY3RpdmVJdGVtSW5kZXggKyAxO1xuICAgICAgfVxuXG4gICAgICBzZXRBY3RpdmVJdGVtSW5kZXgoaW5kZXgpO1xuICAgICAgYnV0dG9uUmVmc1tpbmRleF0uZm9jdXMoKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIG9uUHJldmlvdXNNZW51SXRlbSA9IGZ1bmN0aW9uIG9uUHJldmlvdXNNZW51SXRlbShldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBpZiAoIWlzT3Blbikge1xuICAgICAgb25Ecm9wT3BlbigpO1xuICAgIH0gZWxzZSBpZiAoaXNUYWIoZXZlbnQpICYmIChjb25zdGFudHMuY29udHJvbFRvcCAmJiBhY3RpdmVJdGVtSW5kZXggPT09IGNvbnRyb2xCdXR0b25JbmRleCB8fCAhY29uc3RhbnRzLmNvbnRyb2xUb3AgJiYgYWN0aXZlSXRlbUluZGV4IC0gMSA8IDApKSB7XG4gICAgICAvLyBVc2VyIGhhcyByZWFjaGVkIGJlZ2lubmluZyBvZiB0aGUgbWVudSwgdGhpcyB0YWIgd2lsbCBjbG9zZVxuICAgICAgLy8gdGhlIG1lbnUgZHJvcCBiZWNhdXNlIHRoZXJlIGFyZSBubyBtb3JlIFwicHJldmlvdXMgaXRlbXNcIiB0byBhY2Nlc3NcbiAgICAgIG9uRHJvcENsb3NlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBpbmRleDtcblxuICAgICAgaWYgKGFjdGl2ZUl0ZW1JbmRleCAtIDEgPCAwKSB7XG4gICAgICAgIGlmIChjb25zdGFudHMuY29udHJvbFRvcCAmJiBhY3RpdmVJdGVtSW5kZXggLSAxID09PSBjb250cm9sQnV0dG9uSW5kZXgpIHtcbiAgICAgICAgICBpbmRleCA9IGl0ZW1zLmxlbmd0aDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpbmRleCA9IGl0ZW1zLmxlbmd0aCAtIDE7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGluZGV4ID0gYWN0aXZlSXRlbUluZGV4IC0gMTtcbiAgICAgIH1cblxuICAgICAgc2V0QWN0aXZlSXRlbUluZGV4KGluZGV4KTtcbiAgICAgIGJ1dHRvblJlZnNbaW5kZXhdLmZvY3VzKCk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBjb250ZW50ID0gY2hpbGRyZW4gfHwgUmVhY3QuY3JlYXRlRWxlbWVudChCb3gsIHtcbiAgICBkaXJlY3Rpb246IFwicm93XCIsXG4gICAganVzdGlmeToganVzdGlmeUNvbnRlbnQsXG4gICAgYWxpZ246IFwiY2VudGVyXCIsXG4gICAgcGFkOiBcInNtYWxsXCIsXG4gICAgZ2FwOiBsYWJlbCAmJiBpY29uICE9PSBmYWxzZSA/ICdzbWFsbCcgOiB1bmRlZmluZWRcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChUZXh0LCB7XG4gICAgc2l6ZTogc2l6ZVxuICB9LCBsYWJlbCksIGljb24gIT09IGZhbHNlID8gaWNvbiAhPT0gdHJ1ZSAmJiBpY29uIHx8IFJlYWN0LmNyZWF0ZUVsZW1lbnQoTWVudUljb24sIHtcbiAgICBjb2xvcjogaWNvbkNvbG9yLFxuICAgIHNpemU6IHNpemVcbiAgfSkgOiBudWxsKTtcbiAgdmFyIGNvbnRyb2xNaXJyb3IgPSBSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwge1xuICAgIGZsZXg6IGZhbHNlXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7XG4gICAgcmVmOiBmdW5jdGlvbiByZWYocikge1xuICAgICAgLy8gbWFrZSBpdCBhY2Nlc3NpYmxlIGF0IHRoZSBlbmQgb2YgYWxsIG1lbnUgaXRlbXNcbiAgICAgIGJ1dHRvblJlZnNbaXRlbXMubGVuZ3RoXSA9IHI7XG4gICAgfSxcbiAgICBhMTF5VGl0bGU6IGExMXlUaXRsZSB8fCBtZXNzYWdlcy5jbG9zZU1lbnUgfHwgJ0Nsb3NlIE1lbnUnLFxuICAgIGFjdGl2ZTogYWN0aXZlSXRlbUluZGV4ID09PSBjb250cm9sQnV0dG9uSW5kZXgsXG4gICAgZm9jdXNJbmRpY2F0b3I6IGZhbHNlLFxuICAgIGhvdmVySW5kaWNhdG9yOiBcImJhY2tncm91bmRcIixcbiAgICBwbGFpbjogcGxhaW4sXG4gICAgb25DbGljazogb25Ecm9wQ2xvc2UsXG4gICAgb25Gb2N1czogZnVuY3Rpb24gb25Gb2N1cygpIHtcbiAgICAgIHJldHVybiBzZXRBY3RpdmVJdGVtSW5kZXgoY29udHJvbEJ1dHRvbkluZGV4KTtcbiAgICB9IC8vIE9uIGZpcnN0IHRhYiBpbnRvIG1lbnUsIHRoZSBjb250cm9sIGJ1dHRvbiBzaG91bGQgbm90XG4gICAgLy8gYmUgYWJsZSB0byByZWNlaXZlIHRhYiBmb2N1cyBiZWNhdXNlIHRoZSBmb2N1cyBzaG91bGRcbiAgICAvLyBnbyB0byB0aGUgZmlyc3QgbWVudSBpdGVtIGluc3RlYWQuXG4gICAgLFxuICAgIHRhYkluZGV4OiBhY3RpdmVJdGVtSW5kZXggPT09IGNvbnN0YW50cy5ub25lID8gJy0xJyA6IHVuZGVmaW5lZFxuICB9LCB0eXBlb2YgY29udGVudCA9PT0gJ2Z1bmN0aW9uJyA/IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gY29udGVudChfZXh0ZW5kcyh7fSwgcHJvcHMsIHtcbiAgICAgIGRyb3A6IHRydWVcbiAgICB9KSk7XG4gIH0gOiBjb250ZW50KSk7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEtleWJvYXJkLCB7XG4gICAgb25Eb3duOiBvbk5leHRNZW51SXRlbSxcbiAgICBvblVwOiBvblByZXZpb3VzTWVudUl0ZW0sXG4gICAgb25FbnRlcjogb25TZWxlY3RNZW51SXRlbSxcbiAgICBvblNwYWNlOiBvblNlbGVjdE1lbnVJdGVtLFxuICAgIG9uRXNjOiBvbkRyb3BDbG9zZSxcbiAgICBvblRhYjogb25Ecm9wQ2xvc2UsXG4gICAgb25LZXlEb3duOiBvbktleURvd25cbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChEcm9wQnV0dG9uLCBfZXh0ZW5kcyh7XG4gICAgcmVmOiBmb3J3YXJkUmVmXG4gIH0sIHJlc3QsIHtcbiAgICBhMTF5VGl0bGU6IGExMXlUaXRsZSB8fCBtZXNzYWdlcy5vcGVuTWVudSB8fCAnT3BlbiBNZW51JyxcbiAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgZHJvcEFsaWduOiBhbGlnbixcbiAgICBkcm9wVGFyZ2V0OiBkcm9wVGFyZ2V0LFxuICAgIHBsYWluOiBwbGFpbixcbiAgICBvcGVuOiBpc09wZW4sXG4gICAgb25PcGVuOiBvbkRyb3BPcGVuLFxuICAgIG9uQ2xvc2U6IG9uRHJvcENsb3NlLFxuICAgIGRyb3BDb250ZW50OiBSZWFjdC5jcmVhdGVFbGVtZW50KEtleWJvYXJkLCB7XG4gICAgICBvblRhYjogZnVuY3Rpb24gb25UYWIoZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIGV2ZW50LnNoaWZ0S2V5ID8gb25QcmV2aW91c01lbnVJdGVtKGV2ZW50KSA6IG9uTmV4dE1lbnVJdGVtKGV2ZW50KTtcbiAgICAgIH0sXG4gICAgICBvbkVudGVyOiBvblNlbGVjdE1lbnVJdGVtXG4gICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChDb250YWluZXJCb3gsIHtcbiAgICAgIGJhY2tncm91bmQ6IGRyb3BCYWNrZ3JvdW5kIHx8IHRoZW1lLm1lbnUuYmFja2dyb3VuZFxuICAgIH0sIGFsaWduLnRvcCA9PT0gJ3RvcCcgPyBjb250cm9sTWlycm9yIDogdW5kZWZpbmVkLCBSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwge1xuICAgICAgb3ZlcmZsb3c6IFwiYXV0b1wiXG4gICAgfSwgaXRlbXMubWFwKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkge1xuICAgICAgcmV0dXJuICgvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3Qvbm8tYXJyYXktaW5kZXgta2V5XG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQm94LCB7XG4gICAgICAgICAga2V5OiBpbmRleCxcbiAgICAgICAgICBmbGV4OiBmYWxzZVxuICAgICAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwgX2V4dGVuZHMoe1xuICAgICAgICAgIHJlZjogZnVuY3Rpb24gcmVmKHIpIHtcbiAgICAgICAgICAgIGJ1dHRvblJlZnNbaW5kZXhdID0gcjtcbiAgICAgICAgICB9LFxuICAgICAgICAgIG9uRm9jdXM6IGZ1bmN0aW9uIG9uRm9jdXMoKSB7XG4gICAgICAgICAgICByZXR1cm4gc2V0QWN0aXZlSXRlbUluZGV4KGluZGV4KTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGFjdGl2ZTogYWN0aXZlSXRlbUluZGV4ID09PSBpbmRleCxcbiAgICAgICAgICBob3ZlckluZGljYXRvcjogXCJiYWNrZ3JvdW5kXCIsXG4gICAgICAgICAgZm9jdXNJbmRpY2F0b3I6IGZhbHNlXG4gICAgICAgIH0sIF9leHRlbmRzKHt9LCBpdGVtLCB7XG4gICAgICAgICAgaWNvbjogdW5kZWZpbmVkLFxuICAgICAgICAgIGxhYmVsOiB1bmRlZmluZWRcbiAgICAgICAgfSksIHtcbiAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICAgICAgaWYgKGl0ZW0ub25DbGljaykge1xuICAgICAgICAgICAgICBpdGVtLm9uQ2xpY2suYXBwbHkoaXRlbSwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGl0ZW0uY2xvc2UgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgIG9uRHJvcENsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KSwgUmVhY3QuY3JlYXRlRWxlbWVudChCb3gsIHtcbiAgICAgICAgICBhbGlnbjogXCJzdGFydFwiLFxuICAgICAgICAgIHBhZDogXCJzbWFsbFwiLFxuICAgICAgICAgIGRpcmVjdGlvbjogXCJyb3dcIixcbiAgICAgICAgICBnYXA6IGl0ZW0uZ2FwXG4gICAgICAgIH0sIGl0ZW0ucmV2ZXJzZSAmJiBpdGVtLmxhYmVsLCBpdGVtLmljb24sICFpdGVtLnJldmVyc2UgJiYgaXRlbS5sYWJlbCkpKVxuICAgICAgKTtcbiAgICB9KSksIGFsaWduLmJvdHRvbSA9PT0gJ2JvdHRvbScgPyBjb250cm9sTWlycm9yIDogdW5kZWZpbmVkKSlcbiAgfSksIGNvbnRlbnQpKTtcbn07XG5cbk1lbnUucHJvcFR5cGVzID0ge1xuICBkcm9wQWxpZ246IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgdG9wOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIGxlZnQ6IFByb3BUeXBlcy5zdHJpbmdcbiAgfSksXG4gIGRyb3BQcm9wczogUHJvcFR5cGVzLnNoYXBlKHt9KSxcbiAgaXRlbXM6IFByb3BUeXBlcy5hcnJheU9mKHt9KSxcbiAgbWVzc2FnZXM6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgb3Blbk1lbnU6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgY2xvc2VNZW51OiBQcm9wVHlwZXMuc3RyaW5nXG4gIH0pLFxuICBqdXN0aWZ5Q29udGVudDogUHJvcFR5cGVzLnN0cmluZ1xufTtcbk1lbnUuZGVmYXVsdFByb3BzID0ge1xuICBkcm9wQWxpZ246IHtcbiAgICB0b3A6ICd0b3AnLFxuICAgIGxlZnQ6ICdsZWZ0J1xuICB9LFxuICBkcm9wUHJvcHM6IHt9LFxuICBpdGVtczogW10sXG4gIG1lc3NhZ2VzOiB7XG4gICAgb3Blbk1lbnU6ICdPcGVuIE1lbnUnLFxuICAgIGNsb3NlTWVudTogJ0Nsb3NlIE1lbnUnXG4gIH0sXG4gIGp1c3RpZnlDb250ZW50OiAnc3RhcnQnXG59O1xuTWVudS5kaXNwbGF5TmFtZSA9ICdNZW51Jztcbk9iamVjdC5zZXRQcm90b3R5cGVPZihNZW51LmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbnZhciBNZW51RG9jO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBNZW51RG9jID0gcmVxdWlyZSgnLi9kb2MnKS5kb2MoTWVudSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZ2xvYmFsLXJlcXVpcmVcbn1cblxudmFyIE1lbnVXcmFwcGVyID0gY29tcG9zZSh3aXRoVGhlbWUsIHdpdGhGb3J3YXJkUmVmKShNZW51RG9jIHx8IE1lbnUpO1xuZXhwb3J0IHsgTWVudVdyYXBwZXIgYXMgTWVudSB9OyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmltcG9ydCB7IGRlc2NyaWJlLCBQcm9wVHlwZXMgfSBmcm9tICdyZWFjdC1kZXNjJztcbmltcG9ydCB7IGdlbmVyaWNQcm9wcywgZ2V0QXZhaWxhYmxlQXRCYWRnZSB9IGZyb20gJy4uLy4uL3V0aWxzJztcbnZhciBWRVJUSUNBTF9BTElHTl9PUFRJT05TID0gWyd0b3AnLCAnYm90dG9tJ107XG52YXIgSE9SSVpPTlRBTF9BTElHTl9PUFRJT05TID0gWydyaWdodCcsICdsZWZ0J107XG5leHBvcnQgdmFyIGRvYyA9IGZ1bmN0aW9uIGRvYyhNZW51KSB7XG4gIHZhciBEb2N1bWVudGVkTWVudSA9IGRlc2NyaWJlKE1lbnUpLmF2YWlsYWJsZUF0KGdldEF2YWlsYWJsZUF0QmFkZ2UoJ01lbnUnKSkuZGVzY3JpcHRpb24oXCJBIGNvbnRyb2wgdGhhdCBvcGVucyBhIERyb3AgY29udGFpbmluZyBwbGFpbiBCdXR0b25zLlwiKS5kZXRhaWxzKFwiVGhlIGxhYmVscyBhbmQgYmVoYXZpb3Igb2YgdGhlIGNvbnRhaW5lZCBCdXR0b25zIGFyZSBkZXNjcmliZWRcXG4gICAgICB2aWEgdGhlIGBpdGVtc2AgcHJvcGVydHkuXFxuICAgICAgWW91IGNhbiBwcm92aWRlIGEgc2luZ2xlIGZ1bmN0aW9uIGNoaWxkIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2l0aFxcbiAgICAgICdob3ZlcicsICdmb2N1cycsIGFuZCAnZHJvcCcga2V5cy4gVGhpcyBhbGxvd3MgeW91IHRvIGN1c3RvbWl6ZVxcbiAgICAgIHRoZSByZW5kZXJpbmcgb2YgdGhlIE1lbnUgYnV0dG9uIGluIHRob3NlIGNhc2VzLlwiKS51c2FnZShcImltcG9ydCB7IE1lbnUgfSBmcm9tICdncm9tbWV0JztcXG48TWVudSAvPlwiKS5pbnRyaW5zaWNFbGVtZW50KCdidXR0b24nKTtcbiAgRG9jdW1lbnRlZE1lbnUucHJvcFR5cGVzID0gX2V4dGVuZHMoe30sIGdlbmVyaWNQcm9wcywge1xuICAgIGRpc2FibGVkOiBQcm9wVHlwZXMuYm9vbC5kZXNjcmlwdGlvbignV2hldGhlciB0aGUgbWVudSBzaG91bGQgYmUgZGlzYWJsZWQuJykuZGVmYXVsdFZhbHVlKGZhbHNlKSxcbiAgICBkcm9wQWxpZ246IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICB0b3A6IFByb3BUeXBlcy5vbmVPZihWRVJUSUNBTF9BTElHTl9PUFRJT05TKSxcbiAgICAgIGJvdHRvbTogUHJvcFR5cGVzLm9uZU9mKFZFUlRJQ0FMX0FMSUdOX09QVElPTlMpLFxuICAgICAgbGVmdDogUHJvcFR5cGVzLm9uZU9mKEhPUklaT05UQUxfQUxJR05fT1BUSU9OUyksXG4gICAgICByaWdodDogUHJvcFR5cGVzLm9uZU9mKEhPUklaT05UQUxfQUxJR05fT1BUSU9OUylcbiAgICB9KS5kZXNjcmlwdGlvbihcIldoZXJlIHRvIHBsYWNlIHRoZSBkcm9wIGRvd24uXFxuVGhlIGtleXMgY29ycmVzcG9uZCB0byBhIHNpZGUgb2YgdGhlIGRyb3AgZG93bi5cXG5UaGUgdmFsdWVzIGNvcnJlc3BvbmQgdG8gYSBzaWRlIG9mIHRoZSBjb250cm9sLiBGb3IgaW5zdGFuY2UsXFxue2xlZnQ6ICdsZWZ0JywgdG9wOiAnYm90dG9tJ30gd291bGQgYWxpZ24gdGhlIGxlZnQgZWRnZXMgYW5kIHRoZSB0b3Agb2ZcXG50aGUgZHJvcCBkb3duIHRvIHRoZSBib3R0b20gb2YgdGhlIGNvbnRyb2wuIEF0IG1vc3Qgb25lIG9mIGxlZnQgb3IgcmlnaHQgYW5kXFxub25lIG9mIHRvcCBvciBib3R0b20gc2hvdWxkIGJlIHNwZWNpZmllZC5cIikuZGVmYXVsdFZhbHVlKHtcbiAgICAgIHRvcDogJ3RvcCcsXG4gICAgICBsZWZ0OiAnbGVmdCdcbiAgICB9KSxcbiAgICBkcm9wQmFja2dyb3VuZDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgIGNvbG9yOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgb3BhY2l0eTogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmJvb2wsIFByb3BUeXBlcy5udW1iZXIsIFByb3BUeXBlcy5vbmVPZihbJ3dlYWsnLCAnbWVkaXVtJywgJ3N0cm9uZyddKV0pXG4gICAgfSldKS5kZXNjcmlwdGlvbignQmFja2dyb3VuZCBjb2xvciB3aGVuIGRyb3AgaXMgYWN0aXZlJyksXG4gICAgZHJvcFRhcmdldDogUHJvcFR5cGVzLm9iamVjdC5kZXNjcmlwdGlvbihcIlRhcmdldCB3aGVyZSB0aGUgZHJvcCB3aWxsIGJlIGFsaWduZWQgdG8uIFRoaXMgc2hvdWxkIGJlXFxuICAgICAgYSBSZWFjdCByZWZlcmVuY2UuIFR5cGljYWxseSwgdGhpcyBpcyBub3QgcmVxdWlyZWQgYXMgdGhlIGRyb3Agd2lsbCBiZVxcbiAgICAgIGFsaWduZWQgdG8gdGhlIE1lbnUgaXRzZWxmIGJ5IGRlZmF1bHQuXCIpLFxuICAgIGRyb3BQcm9wczogUHJvcFR5cGVzLm9iamVjdC5kZXNjcmlwdGlvbignQW55IHZhbGlkIERyb3AgcHJvcC4nKSxcbiAgICBqdXN0aWZ5Q29udGVudDogUHJvcFR5cGVzLm9uZU9mKFsnc3RhcnQnLCAnY2VudGVyJywgJ2VuZCcsICdiZXR3ZWVuJywgJ2Fyb3VuZCcsICdzdHJldGNoJ10pLmRlc2NyaXB0aW9uKCdIb3cgdG8gYWxpZ24gdGhlIGNvbnRlbnRzIGFsb25nIHRoZSByb3cgYXhpcy4nKS5kZWZhdWx0VmFsdWUoJ3N0YXJ0JyksXG4gICAgaWNvbjogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmJvb2wsIFByb3BUeXBlcy5ub2RlXSkuZGVzY3JpcHRpb24oJ0luZGljYXRlcyB0aGUgaWNvbiBzaG93biBhcyBhIGNvbnRyb2wgdG8gb3BlbiBpdC4nKSxcbiAgICBpdGVtczogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm9iamVjdCkuZGVzY3JpcHRpb24oXCJNZW51IGl0ZW1zIHRvIGJlIHBsYWNlZCBpbnNpZGUgdGhlIGRyb3AgZG93bi5cXG5UaGUgb2JqZWN0IHZhbHVlcyBjYW4gYmUgYW55IEJ1dHRvbiBwcm9wLCBmb3IgZXhhbXBsZTogbGFiZWwgYW5kIG9uQ2xpY2suXCIpLmlzUmVxdWlyZWQsXG4gICAgbGFiZWw6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5ub2RlXSkuZGVzY3JpcHRpb24oJ0luZGljYXRlcyB0aGUgbGFiZWwgc2hvd24gYXMgYSBjb250cm9sIHRvIG9wZW4gaXQuJyksXG4gICAgbWVzc2FnZXM6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICBjbG9zZU1lbnU6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgICBvcGVuTWVudTogUHJvcFR5cGVzLnN0cmluZ1xuICAgIH0pLmRlc2NyaXB0aW9uKFwiQ3VzdG9tIG1lc3NhZ2VzLiBVc2VkIGZvciBhY2Nlc3NpYmlsaXR5IGJ5IHNjcmVlbiByZWFkZXJzLiBcXG4gICAgICBUaGVzZSB2YWx1ZXMgd2lsbCBiZSBvdmVycmlkZGVuIGlmIGFuIGExMXlUaXRsZSBpcyBwcm92aWRlZC5cIikuZGVmYXVsdFZhbHVlKHtcbiAgICAgIG9wZW5NZW51OiAnT3BlbiBNZW51JyxcbiAgICAgIGNsb3NlTWVudTogJ0Nsb3NlIE1lbnUnXG4gICAgfSksXG4gICAgb3BlbjogUHJvcFR5cGVzLmJvb2wuZGVzY3JpcHRpb24oJ1doZXRoZXIgdGhlIHN0YXRlIG9mIHRoZSBjb21wb25lbnQgc2hvdWxkIGJlIG9wZW4nKS5kZWZhdWx0VmFsdWUoZmFsc2UpLFxuICAgIHNpemU6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbJ3NtYWxsJywgJ21lZGl1bScsICdsYXJnZScsICd4bGFyZ2UnXSksIFByb3BUeXBlcy5zdHJpbmddKS5kZXNjcmlwdGlvbignVGhlIHNpemUgb2YgdGhlIG1lbnUuJykuZGVmYXVsdFZhbHVlKCdtZWRpdW0nKVxuICB9KTtcbiAgcmV0dXJuIERvY3VtZW50ZWRNZW51O1xufTtcbmV4cG9ydCB2YXIgdGhlbWVEb2MgPSB7XG4gICdnbG9iYWwuY29sb3JzLmNvbnRyb2wnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgY29sb3IgdG8gdXNlIGZvciB0aGUgaWNvbi4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCB7IGRhcms6IHN0cmluZywgbGlnaHQ6IHN0cmluZyB9JyxcbiAgICBkZWZhdWx0VmFsdWU6IHVuZGVmaW5lZFxuICB9LFxuICAnbWVudS5iYWNrZ3JvdW5kJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGNvbG9yIGZvciB0aGUgYmFja2dyb3VuZCBvZiB0aGUgbWVudSBEcm9wIHdoZW4gaXQgaXMgb3Blbi4nLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogdW5kZWZpbmVkXG4gIH0sXG4gICdtZW51LmV4dGVuZCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ0FueSBhZGRpdGlvbmFsIHN0eWxlIGZvciB0aGUgTWVudS4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCAocHJvcHMpID0+IHt9JyxcbiAgICBkZWZhdWx0VmFsdWU6IHVuZGVmaW5lZFxuICB9LFxuICAnbWVudS5pY29ucy5kb3duJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGljb24gdG8gc2hvdyB0byB0aGUgcmlnaHQgb2YgdGhlIGxhYmVsLicsXG4gICAgdHlwZTogJ1JlYWN0LkVsZW1lbnQnLFxuICAgIGRlZmF1bHRWYWx1ZTogJzxGb3JtRG93biAvPidcbiAgfVxufTsiLCJleHBvcnQgeyBNZW51IH0gZnJvbSAnLi9NZW51JzsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjb21wb3NlIH0gZnJvbSAncmVjb21wb3NlJztcbmltcG9ydCB7IHdpdGhUaGVtZSB9IGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCB7IGRlZmF1bHRQcm9wcyB9IGZyb20gJy4uLy4uL2RlZmF1bHQtcHJvcHMnO1xuaW1wb3J0IHsgcGFyc2VNZXRyaWNUb051bSB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmltcG9ydCB7IFN0eWxlZE1ldGVyIH0gZnJvbSAnLi9TdHlsZWRNZXRlcic7XG5pbXBvcnQgeyBzdHJva2VQcm9wcywgZGVmYXVsdENvbG9yIH0gZnJvbSAnLi91dGlscyc7XG5cbnZhciBCYXIgPSBmdW5jdGlvbiBCYXIocHJvcHMpIHtcbiAgdmFyIGJhY2tncm91bmQgPSBwcm9wcy5iYWNrZ3JvdW5kLFxuICAgICAgbWF4ID0gcHJvcHMubWF4LFxuICAgICAgcm91bmQgPSBwcm9wcy5yb3VuZCxcbiAgICAgIHNpemUgPSBwcm9wcy5zaXplLFxuICAgICAgdGhlbWUgPSBwcm9wcy50aGVtZSxcbiAgICAgIHRoaWNrbmVzcyA9IHByb3BzLnRoaWNrbmVzcyxcbiAgICAgIHZhbHVlcyA9IHByb3BzLnZhbHVlcyxcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShwcm9wcywgW1wiYmFja2dyb3VuZFwiLCBcIm1heFwiLCBcInJvdW5kXCIsIFwic2l6ZVwiLCBcInRoZW1lXCIsIFwidGhpY2tuZXNzXCIsIFwidmFsdWVzXCJdKTtcblxuICB2YXIgd2lkdGggPSBzaXplID09PSAnZnVsbCcgPyAyODggOiBwYXJzZU1ldHJpY1RvTnVtKHRoZW1lLmdsb2JhbC5zaXplW3NpemVdIHx8IHNpemUpO1xuICB2YXIgaGVpZ2h0ID0gcGFyc2VNZXRyaWNUb051bSh0aGVtZS5nbG9iYWwuZWRnZVNpemVbdGhpY2tuZXNzXSB8fCB0aGlja25lc3MpOyAvLyBhY2NvdW50IGZvciB0aGUgcm91bmQgY2FwLCBpZiBhbnlcblxuICB2YXIgY2FwT2Zmc2V0ID0gcm91bmQgPyBoZWlnaHQgLyAyIDogMDtcbiAgdmFyIG1pZCA9IGhlaWdodCAvIDI7XG4gIHZhciBzb21lSGlnaGxpZ2h0ID0gKHZhbHVlcyB8fCBbXSkuc29tZShmdW5jdGlvbiAodikge1xuICAgIHJldHVybiB2LmhpZ2hsaWdodDtcbiAgfSk7XG4gIHZhciBzdGFydCA9IGNhcE9mZnNldDtcbiAgdmFyIHBhdGhzID0gKHZhbHVlcyB8fCBbXSkuZmlsdGVyKGZ1bmN0aW9uICh2KSB7XG4gICAgcmV0dXJuIHYudmFsdWUgPiAwO1xuICB9KS5tYXAoZnVuY3Rpb24gKHZhbHVlQXJnLCBpbmRleCkge1xuICAgIHZhciBjb2xvciA9IHZhbHVlQXJnLmNvbG9yLFxuICAgICAgICBoaWdobGlnaHQgPSB2YWx1ZUFyZy5oaWdobGlnaHQsXG4gICAgICAgIGxhYmVsID0gdmFsdWVBcmcubGFiZWwsXG4gICAgICAgIG9uSG92ZXIgPSB2YWx1ZUFyZy5vbkhvdmVyLFxuICAgICAgICB2YWx1ZSA9IHZhbHVlQXJnLnZhbHVlLFxuICAgICAgICBwYXRoUmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHZhbHVlQXJnLCBbXCJjb2xvclwiLCBcImhpZ2hsaWdodFwiLCBcImxhYmVsXCIsIFwib25Ib3ZlclwiLCBcInZhbHVlXCJdKTtcblxuICAgIHZhciBrZXkgPSBcInAtXCIgKyBpbmRleDtcbiAgICB2YXIgZGVsdGEgPSB2YWx1ZSAqICh3aWR0aCAtIDIgKiBjYXBPZmZzZXQpIC8gbWF4O1xuICAgIHZhciBkID0gXCJNIFwiICsgc3RhcnQgKyBcIixcIiArIG1pZCArIFwiIEwgXCIgKyAoc3RhcnQgKyBkZWx0YSkgKyBcIixcIiArIG1pZDtcbiAgICB2YXIgY29sb3JOYW1lID0gY29sb3IgfHwgZGVmYXVsdENvbG9yKGluZGV4LCB0aGVtZSwgdmFsdWVzID8gdmFsdWVzLmxlbmd0aCA6IDApO1xuICAgIHZhciBob3ZlclByb3BzO1xuXG4gICAgaWYgKG9uSG92ZXIpIHtcbiAgICAgIGhvdmVyUHJvcHMgPSB7XG4gICAgICAgIG9uTW91c2VPdmVyOiBmdW5jdGlvbiBvbk1vdXNlT3ZlcigpIHtcbiAgICAgICAgICByZXR1cm4gb25Ib3Zlcih0cnVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25Nb3VzZUxlYXZlOiBmdW5jdGlvbiBvbk1vdXNlTGVhdmUoKSB7XG4gICAgICAgICAgcmV0dXJuIG9uSG92ZXIoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cblxuICAgIHN0YXJ0ICs9IGRlbHRhO1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCBfZXh0ZW5kcyh7XG4gICAgICBrZXk6IGtleSxcbiAgICAgIGQ6IGQsXG4gICAgICBmaWxsOiBcIm5vbmVcIlxuICAgIH0sIHN0cm9rZVByb3BzKHNvbWVIaWdobGlnaHQgJiYgIWhpZ2hsaWdodCA/IGJhY2tncm91bmQgOiBjb2xvck5hbWUsIHRoZW1lKSwge1xuICAgICAgc3Ryb2tlV2lkdGg6IGhlaWdodCxcbiAgICAgIHN0cm9rZUxpbmVjYXA6IHJvdW5kID8gJ3JvdW5kJyA6ICdidXR0J1xuICAgIH0sIGhvdmVyUHJvcHMsIHBhdGhSZXN0KSk7XG4gIH0pLnJldmVyc2UoKTsgLy8gcmV2ZXJzZSBzbyB0aGUgY2FwcyBsb29rcyByaWdodFxuXG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZE1ldGVyLCBfZXh0ZW5kcyh7XG4gICAgdmlld0JveDogXCIwIDAgXCIgKyB3aWR0aCArIFwiIFwiICsgaGVpZ2h0LFxuICAgIHByZXNlcnZlQXNwZWN0UmF0aW86IFwibm9uZVwiLFxuICAgIHdpZHRoOiBzaXplID09PSAnZnVsbCcgPyAnMTAwJScgOiB3aWR0aCxcbiAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICByb3VuZDogcm91bmQgPyB7XG4gICAgICBzaXplOiB0aGlja25lc3NcbiAgICB9IDogdW5kZWZpbmVkXG4gIH0sIHJlc3QpLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCBfZXh0ZW5kcyh7XG4gICAgZDogXCJNIFwiICsgY2FwT2Zmc2V0ICsgXCIsXCIgKyBtaWQgKyBcIiBMIFwiICsgKHdpZHRoIC0gY2FwT2Zmc2V0KSArIFwiLFwiICsgbWlkLFxuICAgIGZpbGw6IFwibm9uZVwiXG4gIH0sIHN0cm9rZVByb3BzKGJhY2tncm91bmQsIHRoZW1lKSwge1xuICAgIHN0cm9rZVdpZHRoOiBoZWlnaHQsXG4gICAgc3Ryb2tlTGluZWNhcDogcm91bmQgPyAncm91bmQnIDogJ3NxdWFyZSdcbiAgfSkpLCBwYXRocyk7XG59O1xuXG5CYXIuZGVmYXVsdFByb3BzID0ge1xuICBiYWNrZ3JvdW5kOiAnbGlnaHQtMSdcbn07XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoQmFyLmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbnZhciBCYXJXcmFwcGVyID0gY29tcG9zZSh3aXRoVGhlbWUpKEJhcik7XG5leHBvcnQgeyBCYXJXcmFwcGVyIGFzIEJhciB9OyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbXBvc2UgfSBmcm9tICdyZWNvbXBvc2UnO1xuaW1wb3J0IHsgd2l0aFRoZW1lIH0gZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgZGVmYXVsdFByb3BzIH0gZnJvbSAnLi4vLi4vZGVmYXVsdC1wcm9wcyc7XG5pbXBvcnQgeyBhcmNDb21tYW5kcywgcGFyc2VNZXRyaWNUb051bSwgdHJhbnNsYXRlRW5kQW5nbGUgfSBmcm9tICcuLi8uLi91dGlscyc7XG5pbXBvcnQgeyBTdHlsZWRNZXRlciB9IGZyb20gJy4vU3R5bGVkTWV0ZXInO1xuaW1wb3J0IHsgc3Ryb2tlUHJvcHMsIGRlZmF1bHRDb2xvciB9IGZyb20gJy4vdXRpbHMnO1xuXG52YXIgQ2lyY2xlID0gZnVuY3Rpb24gQ2lyY2xlKHByb3BzKSB7XG4gIHZhciBiYWNrZ3JvdW5kID0gcHJvcHMuYmFja2dyb3VuZCxcbiAgICAgIG1heCA9IHByb3BzLm1heCxcbiAgICAgIHJvdW5kID0gcHJvcHMucm91bmQsXG4gICAgICBzaXplID0gcHJvcHMuc2l6ZSxcbiAgICAgIHRoZW1lID0gcHJvcHMudGhlbWUsXG4gICAgICB0aGlja25lc3MgPSBwcm9wcy50aGlja25lc3MsXG4gICAgICB2YWx1ZXMgPSBwcm9wcy52YWx1ZXMsXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UocHJvcHMsIFtcImJhY2tncm91bmRcIiwgXCJtYXhcIiwgXCJyb3VuZFwiLCBcInNpemVcIiwgXCJ0aGVtZVwiLCBcInRoaWNrbmVzc1wiLCBcInZhbHVlc1wiXSk7XG5cbiAgdmFyIHdpZHRoID0gc2l6ZSA9PT0gJ2Z1bGwnID8gMjg4IDogcGFyc2VNZXRyaWNUb051bSh0aGVtZS5nbG9iYWwuc2l6ZVtzaXplXSB8fCBzaXplKTtcbiAgdmFyIGhlaWdodCA9IHBhcnNlTWV0cmljVG9OdW0odGhlbWUuZ2xvYmFsLmVkZ2VTaXplW3RoaWNrbmVzc10gfHwgdGhpY2tuZXNzKTtcbiAgdmFyIG1pZCA9IHdpZHRoIC8gMjtcbiAgdmFyIHJhZGl1cyA9IHdpZHRoIC8gMiAtIGhlaWdodCAvIDI7XG4gIHZhciBhbmdsZVBlciA9IDM2MCAvIG1heDtcbiAgdmFyIHNvbWVIaWdobGlnaHQgPSAodmFsdWVzIHx8IFtdKS5zb21lKGZ1bmN0aW9uICh2KSB7XG4gICAgcmV0dXJuIHYuaGlnaGxpZ2h0O1xuICB9KTtcbiAgdmFyIHN0YXJ0VmFsdWUgPSAwO1xuICB2YXIgc3RhcnRBbmdsZSA9IDA7XG4gIHZhciBwYXRocyA9IFtdO1xuICB2YXIgcGF0aENhcHMgPSBbXTtcbiAgKHZhbHVlcyB8fCBbXSkuZmlsdGVyKGZ1bmN0aW9uICh2KSB7XG4gICAgcmV0dXJuIHYudmFsdWUgPiAwO1xuICB9KS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZUFyZywgaW5kZXgpIHtcbiAgICB2YXIgY29sb3IgPSB2YWx1ZUFyZy5jb2xvcixcbiAgICAgICAgaGlnaGxpZ2h0ID0gdmFsdWVBcmcuaGlnaGxpZ2h0LFxuICAgICAgICBsYWJlbCA9IHZhbHVlQXJnLmxhYmVsLFxuICAgICAgICBvbkhvdmVyID0gdmFsdWVBcmcub25Ib3ZlcixcbiAgICAgICAgdmFsdWUgPSB2YWx1ZUFyZy52YWx1ZSxcbiAgICAgICAgcGF0aFJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSh2YWx1ZUFyZywgW1wiY29sb3JcIiwgXCJoaWdobGlnaHRcIiwgXCJsYWJlbFwiLCBcIm9uSG92ZXJcIiwgXCJ2YWx1ZVwiXSk7XG5cbiAgICB2YXIga2V5ID0gXCJwLVwiICsgaW5kZXg7XG4gICAgdmFyIGNvbG9yTmFtZSA9IGNvbG9yIHx8IGRlZmF1bHRDb2xvcihpbmRleCwgdGhlbWUsIHZhbHVlcyA/IHZhbHVlcy5sZW5ndGggOiAwKTtcbiAgICB2YXIgZW5kQW5nbGU7XG5cbiAgICBpZiAoc3RhcnRWYWx1ZSArIHZhbHVlID49IG1heCkge1xuICAgICAgZW5kQW5nbGUgPSAzNjA7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVuZEFuZ2xlID0gTWF0aC5taW4oMzYwLCB0cmFuc2xhdGVFbmRBbmdsZShzdGFydEFuZ2xlLCBhbmdsZVBlciwgdmFsdWUpKTtcbiAgICB9XG5cbiAgICB2YXIgaG92ZXJQcm9wcztcblxuICAgIGlmIChvbkhvdmVyKSB7XG4gICAgICBob3ZlclByb3BzID0ge1xuICAgICAgICBvbk1vdXNlT3ZlcjogZnVuY3Rpb24gb25Nb3VzZU92ZXIoKSB7XG4gICAgICAgICAgcmV0dXJuIG9uSG92ZXIodHJ1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uTW91c2VMZWF2ZTogZnVuY3Rpb24gb25Nb3VzZUxlYXZlKCkge1xuICAgICAgICAgIHJldHVybiBvbkhvdmVyKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXIgc3Ryb2tlID0gc3Ryb2tlUHJvcHMoc29tZUhpZ2hsaWdodCAmJiAhaGlnaGxpZ2h0ID8gYmFja2dyb3VuZCA6IGNvbG9yTmFtZSwgdGhlbWUpO1xuXG4gICAgaWYgKHJvdW5kKSB7XG4gICAgICB2YXIgZDEgPSBhcmNDb21tYW5kcyh3aWR0aCAvIDIsIHdpZHRoIC8gMiwgcmFkaXVzLCBzdGFydEFuZ2xlLCBlbmRBbmdsZSk7XG4gICAgICBwYXRocy51bnNoaWZ0KFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIF9leHRlbmRzKHtcbiAgICAgICAga2V5OiBrZXksXG4gICAgICAgIGQ6IGQxLFxuICAgICAgICBmaWxsOiBcIm5vbmVcIlxuICAgICAgfSwgc3Ryb2tlLCB7XG4gICAgICAgIHN0cm9rZVdpZHRoOiBoZWlnaHQsXG4gICAgICAgIHN0cm9rZUxpbmVjYXA6IFwicm91bmRcIlxuICAgICAgfSwgaG92ZXJQcm9wcywgcGF0aFJlc3QpKSk7IC8vIFRvIGhhbmRsZSBzaXR1YXRpb25zIHdoZXJlIHRoZSBsYXN0IHZhbHVlcyBhcmUgc21hbGwsIHJlZHJhd1xuICAgICAgLy8gYSBkb3QgYXQgdGhlIGVuZC4gR2l2ZSBqdXN0IGEgYml0IG9mIGFuZ2xlIHRvIGF2b2lkIGFudGktYWxpYXNpbmdcbiAgICAgIC8vIGxlYWthZ2UgYXJvdW5kIHRoZSBlZGdlLlxuXG4gICAgICB2YXIgZDIgPSBhcmNDb21tYW5kcyh3aWR0aCAvIDIsIHdpZHRoIC8gMiwgcmFkaXVzLCBlbmRBbmdsZSAtIDAuNSwgZW5kQW5nbGUpO1xuICAgICAgdmFyIHBhdGhDYXAgPSBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCBfZXh0ZW5kcyh7XG4gICAgICAgIGtleToga2V5ICsgXCItXCIsXG4gICAgICAgIGQ6IGQyLFxuICAgICAgICBmaWxsOiBcIm5vbmVcIlxuICAgICAgfSwgc3Ryb2tlLCB7XG4gICAgICAgIHN0cm9rZVdpZHRoOiBoZWlnaHQsXG4gICAgICAgIHN0cm9rZUxpbmVjYXA6IFwicm91bmRcIlxuICAgICAgfSwgaG92ZXJQcm9wcywgcGF0aFJlc3QpKTsgLy8gSWYgd2UgYXJlIG9uIGEgbGFyZ2UgZW5vdWdoIHBhdGggdG8gbm90IG5lZWQgcmUtZHJhd2luZyBwcmV2aW91c1xuICAgICAgLy8gb25lcywgY2xlYXIgdGhlIHBhdGhDYXBzIHdlJ3ZlIGNvbGxlY3RlZCBhbHJlYWR5LlxuXG4gICAgICBpZiAoZW5kQW5nbGUgLSBzdGFydEFuZ2xlID4gMiAqIGFuZ2xlUGVyKSB7XG4gICAgICAgIHBhdGhDYXBzID0gW107XG4gICAgICB9XG5cbiAgICAgIHBhdGhDYXBzLnVuc2hpZnQocGF0aENhcCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBkID0gYXJjQ29tbWFuZHMod2lkdGggLyAyLCB3aWR0aCAvIDIsIHJhZGl1cywgc3RhcnRBbmdsZSwgZW5kQW5nbGUpO1xuICAgICAgcGF0aHMucHVzaChSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCBfZXh0ZW5kcyh7XG4gICAgICAgIGtleToga2V5LFxuICAgICAgICBkOiBkLFxuICAgICAgICBmaWxsOiBcIm5vbmVcIlxuICAgICAgfSwgc3Ryb2tlLCB7XG4gICAgICAgIHN0cm9rZVdpZHRoOiBoZWlnaHQsXG4gICAgICAgIHN0cm9rZUxpbmVjYXA6IFwiYnV0dFwiXG4gICAgICB9LCBob3ZlclByb3BzLCBwYXRoUmVzdCkpKTtcbiAgICB9XG5cbiAgICBzdGFydFZhbHVlICs9IHZhbHVlO1xuICAgIHN0YXJ0QW5nbGUgPSBlbmRBbmdsZTtcbiAgfSk7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZE1ldGVyLCBfZXh0ZW5kcyh7XG4gICAgdmlld0JveDogXCIwIDAgXCIgKyB3aWR0aCArIFwiIFwiICsgd2lkdGgsXG4gICAgd2lkdGg6IHNpemUgPT09ICdmdWxsJyA/ICcxMDAlJyA6IHdpZHRoLFxuICAgIGhlaWdodDogc2l6ZSA9PT0gJ2Z1bGwnID8gJzEwMCUnIDogd2lkdGhcbiAgfSwgcmVzdCksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJjaXJjbGVcIiwgX2V4dGVuZHMoe1xuICAgIGN4OiBtaWQsXG4gICAgY3k6IG1pZCxcbiAgICByOiByYWRpdXNcbiAgfSwgc3Ryb2tlUHJvcHMoYmFja2dyb3VuZCwgdGhlbWUpLCB7XG4gICAgc3Ryb2tlV2lkdGg6IGhlaWdodCxcbiAgICBzdHJva2VMaW5lY2FwOiByb3VuZCA/ICdyb3VuZCcgOiAnc3F1YXJlJyxcbiAgICBmaWxsOiBcIm5vbmVcIlxuICB9KSksIHBhdGhzLCBwYXRoQ2Fwcyk7XG59O1xuXG5DaXJjbGUuZGVmYXVsdFByb3BzID0ge307XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoQ2lyY2xlLmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbnZhciBDaXJjbGVXcmFwcGVyID0gY29tcG9zZSh3aXRoVGhlbWUpKENpcmNsZSk7XG5leHBvcnQgeyBDaXJjbGVXcmFwcGVyIGFzIENpcmNsZSB9OyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuaW1wb3J0IFJlYWN0LCB7IHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBCYXIgfSBmcm9tICcuL0Jhcic7XG5pbXBvcnQgeyBDaXJjbGUgfSBmcm9tICcuL0NpcmNsZSc7XG5cbnZhciBkZXJpdmVNYXggPSBmdW5jdGlvbiBkZXJpdmVNYXgodmFsdWVzKSB7XG4gIHZhciBtYXggPSAxMDA7XG5cbiAgaWYgKHZhbHVlcyAmJiB2YWx1ZXMubGVuZ3RoID4gMSkge1xuICAgIG1heCA9IDA7XG4gICAgdmFsdWVzLmZvckVhY2goZnVuY3Rpb24gKHYpIHtcbiAgICAgIG1heCArPSB2LnZhbHVlO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIG1heDtcbn07XG5cbnZhciBNZXRlciA9IGZ1bmN0aW9uIE1ldGVyKF9yZWYpIHtcbiAgdmFyIF9yZWYkYmFja2dyb3VuZCA9IF9yZWYuYmFja2dyb3VuZCxcbiAgICAgIGJhY2tncm91bmQgPSBfcmVmJGJhY2tncm91bmQgPT09IHZvaWQgMCA/IHtcbiAgICBjb2xvcjogJ2xpZ2h0LTInLFxuICAgIG9wYWNpdHk6ICdtZWRpdW0nXG4gIH0gOiBfcmVmJGJhY2tncm91bmQsXG4gICAgICBfcmVmJHNpemUgPSBfcmVmLnNpemUsXG4gICAgICBzaXplID0gX3JlZiRzaXplID09PSB2b2lkIDAgPyAnbWVkaXVtJyA6IF9yZWYkc2l6ZSxcbiAgICAgIF9yZWYkdGhpY2tuZXNzID0gX3JlZi50aGlja25lc3MsXG4gICAgICB0aGlja25lc3MgPSBfcmVmJHRoaWNrbmVzcyA9PT0gdm9pZCAwID8gJ21lZGl1bScgOiBfcmVmJHRoaWNrbmVzcyxcbiAgICAgIF9yZWYkdHlwZSA9IF9yZWYudHlwZSxcbiAgICAgIHR5cGUgPSBfcmVmJHR5cGUgPT09IHZvaWQgMCA/ICdiYXInIDogX3JlZiR0eXBlLFxuICAgICAgdmFsdWVzID0gX3JlZi52YWx1ZXMsXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZiwgW1wiYmFja2dyb3VuZFwiLCBcInNpemVcIiwgXCJ0aGlja25lc3NcIiwgXCJ0eXBlXCIsIFwidmFsdWVzXCJdKTtcblxuICB2YXIgbWVtb2l6ZWRNYXggPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZGVyaXZlTWF4KHZhbHVlcyk7XG4gIH0sIFt2YWx1ZXNdKTtcbiAgdmFyIGNvbnRlbnQ7XG5cbiAgaWYgKHR5cGUgPT09ICdiYXInKSB7XG4gICAgY29udGVudCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoQmFyLCBfZXh0ZW5kcyh7XG4gICAgICBtYXg6IG1lbW9pemVkTWF4LFxuICAgICAgdmFsdWVzOiB2YWx1ZXMsXG4gICAgICBzaXplOiBzaXplLFxuICAgICAgdGhpY2tuZXNzOiB0aGlja25lc3MsXG4gICAgICBiYWNrZ3JvdW5kOiBiYWNrZ3JvdW5kXG4gICAgfSwgcmVzdCkpO1xuICB9IGVsc2UgaWYgKHR5cGUgPT09ICdjaXJjbGUnKSB7XG4gICAgY29udGVudCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ2lyY2xlLCBfZXh0ZW5kcyh7XG4gICAgICBtYXg6IG1lbW9pemVkTWF4LFxuICAgICAgdmFsdWVzOiB2YWx1ZXMsXG4gICAgICBzaXplOiBzaXplLFxuICAgICAgdGhpY2tuZXNzOiB0aGlja25lc3MsXG4gICAgICBiYWNrZ3JvdW5kOiBiYWNrZ3JvdW5kXG4gICAgfSwgcmVzdCkpO1xuICB9XG5cbiAgcmV0dXJuIGNvbnRlbnQ7XG59O1xuXG52YXIgTWV0ZXJEb2M7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIE1ldGVyRG9jID0gcmVxdWlyZSgnLi9kb2MnKS5kb2MoTWV0ZXIpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGdsb2JhbC1yZXF1aXJlXG59XG5cbnZhciBNZXRlcldyYXBwZXIgPSBNZXRlckRvYyB8fCBNZXRlcjtcbmV4cG9ydCB7IE1ldGVyV3JhcHBlciBhcyBNZXRlciB9OyIsImltcG9ydCBzdHlsZWQsIHsgY3NzIH0gZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgZ2VuZXJpY1N0eWxlcyB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmltcG9ydCB7IGRlZmF1bHRQcm9wcyB9IGZyb20gJy4uLy4uL2RlZmF1bHQtcHJvcHMnO1xudmFyIHJvdW5kU3R5bGUgPSBjc3MoW1wiYm9yZGVyLXJhZGl1czpcIiwgXCI7XCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLmdsb2JhbC5lZGdlU2l6ZVtwcm9wcy5yb3VuZC5zaXplXTtcbn0pOyAvLyBvdmVyZmxvdzogaGlkZGVuIGlzIG5lZWRlZCBmb3IgaWUxMVxuXG52YXIgU3R5bGVkTWV0ZXIgPSBzdHlsZWQuc3ZnLndpdGhDb25maWcoe1xuICBkaXNwbGF5TmFtZTogXCJTdHlsZWRNZXRlclwiLFxuICBjb21wb25lbnRJZDogXCJuc3hhcngtMFwiXG59KShbXCJtYXgtd2lkdGg6MTAwJTtvdmVyZmxvdzpoaWRkZW47XCIsIFwiIFwiLCBcIiBwYXRoe3RyYW5zaXRpb246c3Ryb2tlIDAuM3Msc3Ryb2tlLXdpZHRoIDAuM3M7fVwiLCBcIjtcIl0sIGdlbmVyaWNTdHlsZXMsIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMucm91bmQgJiYgcm91bmRTdHlsZTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUubWV0ZXIgJiYgcHJvcHMudGhlbWUubWV0ZXIuZXh0ZW5kO1xufSk7XG5TdHlsZWRNZXRlci5kZWZhdWx0UHJvcHMgPSB7fTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihTdHlsZWRNZXRlci5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG5leHBvcnQgeyBTdHlsZWRNZXRlciB9OyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmltcG9ydCB7IGRlc2NyaWJlLCBQcm9wVHlwZXMgfSBmcm9tICdyZWFjdC1kZXNjJztcbmltcG9ydCB7IGJhY2tncm91bmRQcm9wVHlwZSwgZ2VuZXJpY1Byb3BzLCBnZXRBdmFpbGFibGVBdEJhZGdlIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuZXhwb3J0IHZhciBkb2MgPSBmdW5jdGlvbiBkb2MoTWV0ZXIpIHtcbiAgdmFyIERvY3VtZW50ZWRNZXRlciA9IGRlc2NyaWJlKE1ldGVyKS5hdmFpbGFibGVBdChnZXRBdmFpbGFibGVBdEJhZGdlKCdNZXRlcicpKS5kZXNjcmlwdGlvbignQSBncmFwaGljYWwgbWV0ZXIuJykudXNhZ2UoXCJpbXBvcnQgeyBNZXRlciB9IGZyb20gJ2dyb21tZXQnO1xcbjxNZXRlciAvPlwiKTsgLy8gV2UgZG9uJ3QgaW5jbHVkZSBzdmcgZHVlIHRvIGEgY29sbGlzaW9uIG9uIHRoZSB2YWx1ZXMgcHJvcGVydHlcbiAgLy8gLmludHJpbnNpY0VsZW1lbnQoJ3N2ZycpO1xuXG4gIERvY3VtZW50ZWRNZXRlci5wcm9wVHlwZXMgPSBfZXh0ZW5kcyh7fSwgZ2VuZXJpY1Byb3BzLCB7XG4gICAgYmFja2dyb3VuZDogYmFja2dyb3VuZFByb3BUeXBlLmRlZmF1bHRWYWx1ZSh7XG4gICAgICBjb2xvcjogJ2xpZ2h0LTInLFxuICAgICAgb3BhY2l0eTogJ21lZGl1bSdcbiAgICB9KSxcbiAgICBtYXg6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5udW1iZXIsIFByb3BUeXBlcy5zdHJpbmddKS5kZXNjcmlwdGlvbignVGhlIG1heGltdW0gdmFsdWUgZm9yIHRoZSBNZXRlci4nKSxcbiAgICByb3VuZDogUHJvcFR5cGVzLmJvb2wuZGVzY3JpcHRpb24oJ1doZXRoZXIgdG8gcm91bmQgdGhlIGxpbmUgZW5kcycpLmRlZmF1bHRWYWx1ZShmYWxzZSksXG4gICAgc2l6ZTogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFsneHNtYWxsJywgJ3NtYWxsJywgJ21lZGl1bScsICdsYXJnZScsICd4bGFyZ2UnLCAnZnVsbCddKSwgUHJvcFR5cGVzLnN0cmluZ10pLmRlc2NyaXB0aW9uKCdUaGUgc2l6ZSBvZiB0aGUgTWV0ZXIuJykuZGVmYXVsdFZhbHVlKCdtZWRpdW0nKSxcbiAgICB0aGlja25lc3M6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbJ3hzbWFsbCcsICdzbWFsbCcsICdtZWRpdW0nLCAnbGFyZ2UnLCAneGxhcmdlJ10pLCBQcm9wVHlwZXMuc3RyaW5nXSkuZGVzY3JpcHRpb24oJ1RoZSBzaXplIG9mIHRoZSBNZXRlci4nKS5kZWZhdWx0VmFsdWUoJ21lZGl1bScpLFxuICAgIHR5cGU6IFByb3BUeXBlcy5vbmVPZihbJ2JhcicsICdjaXJjbGUnXSkuZGVzY3JpcHRpb24oJ1RoZSB2aXN1YWwgdHlwZSBvZiBtZXRlci4nKS5kZWZhdWx0VmFsdWUoJ2JhcicpLFxuICAgIHZhbHVlczogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgIGNvbG9yOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgaGlnaGxpZ2h0OiBQcm9wVHlwZXMuYm9vbCxcbiAgICAgIGxhYmVsOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgICAvLyBmb3IgYWNjZXNzaWJpbGl0eVxuICAgICAgb25DbGljazogUHJvcFR5cGVzLmZ1bmMsXG4gICAgICBvbkhvdmVyOiBQcm9wVHlwZXMuZnVuYyxcbiAgICAgIHZhbHVlOiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWRcbiAgICB9KSkuZGVzY3JpcHRpb24oXCJBcnJheSBvZiB2YWx1ZSBvYmplY3RzIGRlc2NyaWJpbmcgdGhlIGRhdGEuXFxuICAgICAgJ3ZhbHVlJyBpcyB0aGUgYWN0dWFsIG51bWVyaWMgdmFsdWUuXFxuICAgICAgJ2xhYmVsJyBpcyBhIHRleHQgc3RyaW5nIGRlc2NyaWJpbmcgaXQuXFxuICAgICAgJ2NvbG9yJyBpbmRpY2F0ZXMgdGhlIGNvbG9yIG5hbWUgdG8gdXNlLiBJZiBub3Qgc3BlY2lmaWVkIGEgZGVmYXVsdCBvbmVcXG4gICAgICB3aWxsIGJlIGNob3Nlbi5cXG4gICAgICAnb25DbGljaycgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgdXNlciBjbGlja3Mgb24gaXQuXFxuICAgICAgU2V0ICdoaWdobGlnaHQnIHRvIGNhbGwgYXR0ZW50aW9uIHRvIGl0LlxcbiAgICAgICdvbkhvdmVyJyB3aWxsIGJlIGNhbGxlZCB3aXRoIGEgYm9vbGVhbiBhcmd1bWVudCBpbmRpY2F0aW5nIHdoZW4gdGhlXFxuICAgICAgdXNlciBob3ZlcnMgb250byBvciBhd2F5IGZyb20gaXQuXCIpXG4gIH0pO1xuICByZXR1cm4gRG9jdW1lbnRlZE1ldGVyO1xufTtcbmV4cG9ydCB2YXIgdGhlbWVEb2MgPSB7XG4gICdnbG9iYWwuY29sb3JzJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnQ29sb3Igb3B0aW9ucy4nLFxuICAgIHR5cGU6ICdvYmplY3QnLFxuICAgIGRlZmF1bHRWYWx1ZTogXCJ7XFxuICAgICAgXFxcImFjY2VudC0xXFxcIjogXFxcIiM2RkZGQjBcXFwiLFxcbiAgICAgIFxcXCJncmFwaC0wXFxcIjogXFxcImFjY2VudC0xXFxcIixcXG4gICAgICAuLi5cXG4gICAgfVwiXG4gIH0sXG4gICdnbG9iYWwuZWRnZVNpemUnOiB7XG4gICAgZGVzY3JpcHRpb246IFwiVGhlIGJvcmRlci1yYWRpdXMgb2YgdGhlIHN0eWxlZCBNZXRlci4gdGhpY2tuZXNzLCBoZWlnaHQgYW5kIFxcbiAgICB3aWR0aCBvZiB0aGUgQmFyIE1ldGVyLCBoZWlnaHQgb2YgdGhlIENpcmNsZSBNZXRlci5cIixcbiAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICBkZWZhdWx0VmFsdWU6IFwie1xcbiAgICAgICAgbm9uZTogJzBweCcsXFxuICAgICAgICBoYWlyOiAnMXB4JyxcXG4gICAgICAgIHh4c21hbGw6ICczcHgnLFxcbiAgICAgICAgeHNtYWxsOiAnNnB4JyxcXG4gICAgICAgIHNtYWxsOiAnMTJweCcsXFxuICAgICAgICBtZWRpdW06ICcyNHB4JyxcXG4gICAgICAgIGxhcmdlOiAnNDhweCcsXFxuICAgICAgICB4bGFyZ2U6ICc5NnB4JyxcXG4gICAgICAgIHJlc3BvbnNpdmVCcmVha3BvaW50OiAnc21hbGwnLFxcbiAgICB9XCJcbiAgfSxcbiAgJ2dsb2JhbC5vcGFjaXR5Lm1lZGl1bSc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBvcGFjaXR5IHZhbHVlIHVzZWQgb24gdGhlIE1ldGVyIGNvbG9yLicsXG4gICAgdHlwZTogJ251bWJlcicsXG4gICAgZGVmYXVsdFZhbHVlOiAnMC40J1xuICB9LFxuICAnZ2xvYmFsLnNpemUnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgcG9zc2libGUgc2l6ZXMgZm9yIENpcmNsZSBNZXRlciB3aWR0aC4nLFxuICAgIHR5cGU6ICdvYmplY3QnLFxuICAgIGRlZmF1bHRWYWx1ZTogXCJ7XFxuICAgICAgeHhzbWFsbDogJzQ4cHgnLFxcbiAgICAgIHhzbWFsbDogJzk2cHgnLFxcbiAgICAgIHNtYWxsOiAnMTkycHgnLFxcbiAgICAgIG1lZGl1bTogJzM4NHB4JyxcXG4gICAgICBsYXJnZTogJzc2OHB4JyxcXG4gICAgICB4bGFyZ2U6ICcxMTUycHgnLFxcbiAgICAgIHh4bGFyZ2U6ICcxNTM2cHgnLFxcbiAgICAgIGZ1bGw6ICcxMDAlJyxcXG4gICAgfVwiXG4gIH0sXG4gICdtZXRlci5jb2xvcic6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBjb2xvciB1c2VkIGZvciB0aGUgTWV0ZXIuJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICdhY2NlbnQtMSdcbiAgfSxcbiAgJ21ldGVyLmV4dGVuZCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ0FueSBhZGRpdGlvbmFsIHN0eWxlIGZvciBNZXRlci4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCAocHJvcHMpID0+IHt9JyxcbiAgICBkZWZhdWx0VmFsdWU6IHVuZGVmaW5lZFxuICB9XG59OyIsImV4cG9ydCB7IE1ldGVyIH0gZnJvbSAnLi9NZXRlcic7IiwiaW1wb3J0IHsgbm9ybWFsaXplQ29sb3IgfSBmcm9tICcuLi8uLi91dGlscyc7XG5leHBvcnQgdmFyIHN0cm9rZVByb3BzID0gZnVuY3Rpb24gc3Ryb2tlUHJvcHMoY29sb3IsIHRoZW1lKSB7XG4gIHZhciByZXN1bHQgPSB7fTtcblxuICBpZiAoY29sb3IpIHtcbiAgICBpZiAodHlwZW9mIGNvbG9yID09PSAnb2JqZWN0Jykge1xuICAgICAgcmVzdWx0LnN0cm9rZSA9IG5vcm1hbGl6ZUNvbG9yKGNvbG9yLmNvbG9yLCB0aGVtZSk7XG5cbiAgICAgIGlmIChjb2xvci5vcGFjaXR5KSB7XG4gICAgICAgIHJlc3VsdC5zdHJva2VPcGFjaXR5ID0gXCJcIiArIChjb2xvci5vcGFjaXR5ID09PSB0cnVlID8gdGhlbWUuZ2xvYmFsLm9wYWNpdHkubWVkaXVtIDogdGhlbWUuZ2xvYmFsLm9wYWNpdHlbY29sb3Iub3BhY2l0eV0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQuc3Ryb2tlID0gbm9ybWFsaXplQ29sb3IoY29sb3IsIHRoZW1lKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufTtcbnZhciBuZXV0cmFsRXhwID0gL15uZXV0cmFsLVxcZCsvO1xuZXhwb3J0IHZhciBkZWZhdWx0Q29sb3IgPSBmdW5jdGlvbiBkZWZhdWx0Q29sb3IoaW5kZXgsIHRoZW1lLCB2YWx1ZXNMZW5ndGgpIHtcbiAgaWYgKGluZGV4ID09PSB2YWx1ZXNMZW5ndGggLSAxICYmIHRoZW1lLm1ldGVyLmNvbG9yKSB7XG4gICAgcmV0dXJuIHRoZW1lLm1ldGVyLmNvbG9yO1xuICB9XG5cbiAgaWYgKHRoZW1lLm1ldGVyICYmIHRoZW1lLm1ldGVyLmNvbG9ycykge1xuICAgIHZhciBfY29sb3JzID0gdGhlbWUubWV0ZXIuY29sb3JzW3RoZW1lLmRhcmsgPyAnZGFyaycgOiAnbGlnaHQnXSB8fCB0aGVtZS5tZXRlci5jb2xvcnM7XG5cbiAgICByZXR1cm4gX2NvbG9yc1tpbmRleCAlIF9jb2xvcnMubGVuZ3RoXTtcbiAgfVxuXG4gIHZhciBjb2xvcnMgPSBPYmplY3Qua2V5cyh0aGVtZS5nbG9iYWwuY29sb3JzKS5maWx0ZXIoZnVuY3Rpb24gKG4pIHtcbiAgICByZXR1cm4gbi5tYXRjaCgvXmdyYXBoLVswLTldJC8pO1xuICB9KTtcblxuICBpZiAoY29sb3JzLmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gY29sb3JzW2luZGV4ICUgY29sb3JzLmxlbmd0aF07XG4gIH0gLy8gRGVwcmVjYXRlIHVzaW5nIFwibmV1dHJhbC0qXCIgY29sb3IgbmFtZXMuIFJlbW92ZSBldmVudHVhbGx5LlxuXG5cbiAgdmFyIG5ldXRyYWxDb2xvcnMgPSBPYmplY3Qua2V5cyh0aGVtZS5nbG9iYWwuY29sb3JzKS5maWx0ZXIoZnVuY3Rpb24gKGspIHtcbiAgICByZXR1cm4gbmV1dHJhbEV4cC50ZXN0KGspO1xuICB9KTtcbiAgcmV0dXJuIG5ldXRyYWxDb2xvcnNbaW5kZXggJSBuZXV0cmFsQ29sb3JzLmxlbmd0aF07XG59OyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFN0eWxlZFBhcmFncmFwaCB9IGZyb20gJy4vU3R5bGVkUGFyYWdyYXBoJztcblxudmFyIFBhcmFncmFwaCA9IGZ1bmN0aW9uIFBhcmFncmFwaChfcmVmKSB7XG4gIHZhciBjb2xvciA9IF9yZWYuY29sb3IsXG4gICAgICBmaWxsID0gX3JlZi5maWxsLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9yZWYsIFtcImNvbG9yXCIsIFwiZmlsbFwiXSk7XG5cbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkUGFyYWdyYXBoLCBfZXh0ZW5kcyh7XG4gICAgY29sb3JQcm9wOiBjb2xvcixcbiAgICBmaWxsUHJvcDogZmlsbFxuICB9LCByZXN0KSk7XG59O1xuXG52YXIgUGFyYWdyYXBoRG9jO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZ2xvYmFsLXJlcXVpcmVcbiAgUGFyYWdyYXBoRG9jID0gcmVxdWlyZSgnLi9kb2MnKS5kb2MoUGFyYWdyYXBoKTtcbn1cblxudmFyIFBhcmFncmFwaFdyYXBwZXIgPSBQYXJhZ3JhcGhEb2MgfHwgUGFyYWdyYXBoO1xuZXhwb3J0IHsgUGFyYWdyYXBoV3JhcHBlciBhcyBQYXJhZ3JhcGggfTsiLCJpbXBvcnQgc3R5bGVkLCB7IGNzcyB9IGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCB7IGdlbmVyaWNTdHlsZXMsIG5vcm1hbGl6ZUNvbG9yIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuaW1wb3J0IHsgZGVmYXVsdFByb3BzIH0gZnJvbSAnLi4vLi4vZGVmYXVsdC1wcm9wcyc7XG52YXIgY29sb3JTdHlsZSA9IGNzcyhbXCJjb2xvcjpcIiwgXCI7XCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIG5vcm1hbGl6ZUNvbG9yKHByb3BzLmNvbG9yUHJvcCwgcHJvcHMudGhlbWUpO1xufSk7XG5cbnZhciBzaXplU3R5bGUgPSBmdW5jdGlvbiBzaXplU3R5bGUocHJvcHMpIHtcbiAgdmFyIHNpemUgPSBwcm9wcy5zaXplIHx8ICdtZWRpdW0nO1xuICB2YXIgZGF0YSA9IHByb3BzLnRoZW1lLnBhcmFncmFwaFtzaXplXTtcbiAgcmV0dXJuIGNzcyhbXCJmb250LXNpemU6XCIsIFwiO2xpbmUtaGVpZ2h0OlwiLCBcIjttYXgtd2lkdGg6XCIsIFwiO1wiXSwgZGF0YS5zaXplLCBkYXRhLmhlaWdodCwgcHJvcHMuZmlsbFByb3AgPyAnbm9uZScgOiBkYXRhLm1heFdpZHRoKTtcbn07XG5cbnZhciBURVhUX0FMSUdOX01BUCA9IHtcbiAgY2VudGVyOiAnY2VudGVyJyxcbiAgZW5kOiAncmlnaHQnLFxuICBzdGFydDogJ2xlZnQnXG59O1xudmFyIHRleHRBbGlnblN0eWxlID0gY3NzKFtcInRleHQtYWxpZ246XCIsIFwiO1wiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBURVhUX0FMSUdOX01BUFtwcm9wcy50ZXh0QWxpZ25dO1xufSk7XG52YXIgU3R5bGVkUGFyYWdyYXBoID0gc3R5bGVkLnAud2l0aENvbmZpZyh7XG4gIGRpc3BsYXlOYW1lOiBcIlN0eWxlZFBhcmFncmFwaFwiLFxuICBjb21wb25lbnRJZDogXCJ0YmV0b2QtMFwiXG59KShbXCJcIiwgXCIgXCIsIFwiIFwiLCBcIiBcIiwgXCIgXCIsIFwiXCJdLCBnZW5lcmljU3R5bGVzLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHNpemVTdHlsZShwcm9wcyk7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRleHRBbGlnbiAmJiB0ZXh0QWxpZ25TdHlsZTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuY29sb3JQcm9wICYmIGNvbG9yU3R5bGU7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLnBhcmFncmFwaCAmJiBwcm9wcy50aGVtZS5wYXJhZ3JhcGguZXh0ZW5kO1xufSk7XG5TdHlsZWRQYXJhZ3JhcGguZGVmYXVsdFByb3BzID0ge307XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoU3R5bGVkUGFyYWdyYXBoLmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbmV4cG9ydCB7IFN0eWxlZFBhcmFncmFwaCB9OyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmltcG9ydCB7IGRlc2NyaWJlLCBQcm9wVHlwZXMgfSBmcm9tICdyZWFjdC1kZXNjJztcbmltcG9ydCB7IGNvbG9yUHJvcFR5cGUsIGdldEF2YWlsYWJsZUF0QmFkZ2UsIGdlbmVyaWNQcm9wcywgdGhlbWVEb2NVdGlscyB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmV4cG9ydCB2YXIgZG9jID0gZnVuY3Rpb24gZG9jKFBhcmFncmFwaCkge1xuICB2YXIgRG9jdW1lbnRlZFBhcmFncmFwaCA9IGRlc2NyaWJlKFBhcmFncmFwaCkuYXZhaWxhYmxlQXQoZ2V0QXZhaWxhYmxlQXRCYWRnZSgnUGFyYWdyYXBoJykpLmRlc2NyaXB0aW9uKCdBIHBhcmFncmFwaCBvZiB0ZXh0LicpLnVzYWdlKFwiaW1wb3J0IHsgUGFyYWdyYXBoIH0gZnJvbSAnZ3JvbW1ldCc7XFxuPFBhcmFncmFwaCAvPlwiKS5pbnRyaW5zaWNFbGVtZW50KCdwJyk7XG4gIERvY3VtZW50ZWRQYXJhZ3JhcGgucHJvcFR5cGVzID0gX2V4dGVuZHMoe30sIGdlbmVyaWNQcm9wcywge1xuICAgIGNvbG9yOiBjb2xvclByb3BUeXBlLmRlc2NyaXB0aW9uKCdBIGNvbG9yIGlkZW50aWZpZXIgdG8gdXNlIGZvciB0aGUgdGV4dCBjb2xvci4nKSxcbiAgICBmaWxsOiBQcm9wVHlwZXMuYm9vbC5kZXNjcmlwdGlvbignV2hldGhlciB0aGUgd2lkdGggc2hvdWxkIGZpbGwgdGhlIGNvbnRhaW5lci4nKS5kZWZhdWx0VmFsdWUoZmFsc2UpLFxuICAgIHJlc3BvbnNpdmU6IFByb3BUeXBlcy5ib29sLmRlc2NyaXB0aW9uKFwiV2hldGhlciBtYXJnaW4gc2hvdWxkIGJlIHNjYWxlZCBmb3IgbW9iaWxlIGVudmlyb25tZW50cy5cIikuZGVmYXVsdFZhbHVlKHRydWUpLFxuICAgIHNpemU6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbJ3NtYWxsJywgJ21lZGl1bScsICdsYXJnZScsICd4bGFyZ2UnLCAneHhsYXJnZSddKSwgUHJvcFR5cGVzLnN0cmluZ10pLmRlc2NyaXB0aW9uKCdUaGUgc2l6ZSBvZiB0aGUgUGFyYWdyYXBoIHRleHQuJykuZGVmYXVsdFZhbHVlKCdtZWRpdW0nKSxcbiAgICB0ZXh0QWxpZ246IFByb3BUeXBlcy5vbmVPZihbJ3N0YXJ0JywgJ2NlbnRlcicsICdlbmQnXSkuZGVzY3JpcHRpb24oJ0hvdyB0byBhbGlnbiB0aGUgdGV4dCBpbnNpZGUgdGhlIHBhcmFncmFwaC4nKS5kZWZhdWx0VmFsdWUoJ3N0YXJ0JylcbiAgfSk7XG4gIHJldHVybiBEb2N1bWVudGVkUGFyYWdyYXBoO1xufTtcbmV4cG9ydCB2YXIgdGhlbWVEb2MgPSBfZXh0ZW5kcyh7XG4gIHBhcmFncmFwaDoge1xuICAgIGRlc2NyaXB0aW9uOiBcIlRoZSBwb3NzaWJsZSBzaXplcyBvZiB0aGUgcGFyYWdyYXBoIGluIHRlcm1zIG9mIGl0cyBtYXgtd2lkdGgsXFxuICAgICBmb250LXNpemUgYW5kIGxpbmUtaGVpZ2h0LlwiLFxuICAgIHR5cGU6ICdvYmplY3QnLFxuICAgIGRlZmF1bHRWYWx1ZTogXCJ7XFxuICAgICAgc21hbGw6IHtcXG4gICAgICAgIHNpemU6ICcxNHB4JyxcXG4gICAgICAgIGhlaWdodDogJzIwcHgnLFxcbiAgICAgICAgbWF4V2lkdGg6ICczMzZweCcsXFxuICAgICAgIH0sXFxuICAgICAgbWVkaXVtOiB7XFxuICAgICAgICBzaXplOiAnMThweCcsXFxuICAgICAgICBoZWlnaHQ6ICcyNHB4JyxcXG4gICAgICAgIG1heFdpZHRoOiAnNDMycHgnLFxcbiAgICAgIH0sXFxuICAgICAgbGFyZ2U6IHtcXG4gICAgICAgIHNpemU6ICcyMnB4JyxcXG4gICAgICAgIGhlaWdodDogJzI4cHgnLFxcbiAgICAgICAgbWF4V2lkdGg6ICc1MjhweCcsXFxuICAgICAgfSxcXG4gICAgICB4bGFyZ2U6IHtcXG4gICAgICAgIHNpemU6ICcyNnB4JyxcXG4gICAgICAgIGhlaWdodDogJzMycHgnLFxcbiAgICAgICAgbWF4V2lkdGg6ICc2MjRweCcsXFxuICAgICAgfSxcXG4gICAgICB4eGxhcmdlOiB7XFxuICAgICAgICBzaXplOiAnMzRweCcsXFxuICAgICAgICBoZWlnaHQ6ICc0MHB4JyxcXG4gICAgICAgIG1heFdpZHRoOiAnODE2cHgnLFxcbiAgICAgIH0sXFxuICAgIH1cIlxuICB9LFxuICAncGFyYWdyYXBoLnRleHRBbGlnbic6IHtcbiAgICBkZXNjcmlwdGlvbjogXCJIb3cgdG8gYWxpZ24gdGhlIHRleHQgaW5zaWRlIHRoZSBQYXJhZ3JhcGguXCIsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiAnc3RhcnQnXG4gIH0sXG4gICdwYXJhZ3JhcGguZXh0ZW5kJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnQW55IGFkZGl0aW9uYWwgc3R5bGUgZm9yIHRoZSBQYXJhZ3JhcGguJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgKHByb3BzKSA9PiB7fScsXG4gICAgZGVmYXVsdFZhbHVlOiB1bmRlZmluZWRcbiAgfVxufSwgdGhlbWVEb2NVdGlscy5lZGdlU3R5bGUoJ1RoZSBwb3NzaWJsZSBzaXplcyBmb3IgbWFyZ2luLicpKTsiLCJleHBvcnQgeyBQYXJhZ3JhcGggfSBmcm9tICcuL1BhcmFncmFwaCc7IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjb21wb3NlIH0gZnJvbSAncmVjb21wb3NlJztcbmltcG9ydCB7IHdpdGhUaGVtZSB9IGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCB7IGRlZmF1bHRQcm9wcyB9IGZyb20gJy4uLy4uL2RlZmF1bHQtcHJvcHMnO1xuaW1wb3J0IHsgbm9ybWFsaXplQ29sb3IsIHJlbW92ZVVuZGVmaW5lZCB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmltcG9ydCB7IEJveCB9IGZyb20gJy4uL0JveCc7XG5pbXBvcnQgeyB3aXRoRm9yd2FyZFJlZiB9IGZyb20gJy4uL2hvY3MnO1xuaW1wb3J0IHsgU3R5bGVkUmFkaW9CdXR0b24sIFN0eWxlZFJhZGlvQnV0dG9uQ29udGFpbmVyLCBTdHlsZWRSYWRpb0J1dHRvbkljb24sIFN0eWxlZFJhZGlvQnV0dG9uSW5wdXQsIFN0eWxlZFJhZGlvQnV0dG9uQm94IH0gZnJvbSAnLi9TdHlsZWRSYWRpb0J1dHRvbic7XG5cbnZhciBSYWRpb0J1dHRvbiA9IGZ1bmN0aW9uIFJhZGlvQnV0dG9uKF9yZWYpIHtcbiAgdmFyIGNoZWNrZWQgPSBfcmVmLmNoZWNrZWQsXG4gICAgICBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW4sXG4gICAgICBkaXNhYmxlZCA9IF9yZWYuZGlzYWJsZWQsXG4gICAgICBmb2N1cyA9IF9yZWYuZm9jdXMsXG4gICAgICBmb3J3YXJkUmVmID0gX3JlZi5mb3J3YXJkUmVmLFxuICAgICAgaWQgPSBfcmVmLmlkLFxuICAgICAgbGFiZWwgPSBfcmVmLmxhYmVsLFxuICAgICAgbmFtZSA9IF9yZWYubmFtZSxcbiAgICAgIG9uQ2hhbmdlID0gX3JlZi5vbkNoYW5nZSxcbiAgICAgIHRoZW1lID0gX3JlZi50aGVtZSxcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfcmVmLCBbXCJjaGVja2VkXCIsIFwiY2hpbGRyZW5cIiwgXCJkaXNhYmxlZFwiLCBcImZvY3VzXCIsIFwiZm9yd2FyZFJlZlwiLCBcImlkXCIsIFwibGFiZWxcIiwgXCJuYW1lXCIsIFwib25DaGFuZ2VcIiwgXCJ0aGVtZVwiXSk7XG5cbiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKCksXG4gICAgICBob3ZlciA9IF91c2VTdGF0ZVswXSxcbiAgICAgIHNldEhvdmVyID0gX3VzZVN0YXRlWzFdO1xuXG4gIHZhciBub3JtYWxpemVkTGFiZWwgPSB0eXBlb2YgbGFiZWwgPT09ICdzdHJpbmcnID8gUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgbnVsbCwgbGFiZWwpIDogbGFiZWw7XG4gIHZhciBJY29uID0gdGhlbWUucmFkaW9CdXR0b24uaWNvbnMuY2lyY2xlO1xuICB2YXIgYm9yZGVyQ29sb3IgPSBub3JtYWxpemVDb2xvcih0aGVtZS5yYWRpb0J1dHRvbi5ib3JkZXIuY29sb3IsIHRoZW1lKTtcblxuICBpZiAoY2hlY2tlZCkge1xuICAgIGJvcmRlckNvbG9yID0gbm9ybWFsaXplQ29sb3IodGhlbWUucmFkaW9CdXR0b24uY29sb3IgfHwgJ2NvbnRyb2wnLCB0aGVtZSk7XG4gIH1cblxuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWRSYWRpb0J1dHRvbkNvbnRhaW5lciwgX2V4dGVuZHMoe30sIHJlbW92ZVVuZGVmaW5lZCh7XG4gICAgaHRtbEZvcjogaWQsXG4gICAgZGlzYWJsZWQ6IGRpc2FibGVkXG4gIH0pLCB7XG4gICAgb25DbGljazogZnVuY3Rpb24gb25DbGljayhldmVudCkge1xuICAgICAgLy8gcHJldmVudHMgY2xpY2tpbmcgb24gdGhlIGxhYmVsIHRyaWdnaW5nIHRoZSBldmVudCB0d2ljZVxuICAgICAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMjQ1MDE0OTcvd2h5LXRoZS1vbmNsaWNrLWVsZW1lbnQtd2lsbC10cmlnZ2VyLXR3aWNlLWZvci1sYWJlbC1lbGVtZW50XG4gICAgICBpZiAoZXZlbnQudGFyZ2V0LnR5cGUgIT09ICdyYWRpbycpIHtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBvbk1vdXNlRW50ZXI6IGZ1bmN0aW9uIG9uTW91c2VFbnRlcigpIHtcbiAgICAgIHJldHVybiBzZXRIb3Zlcih0cnVlKTtcbiAgICB9LFxuICAgIG9uTW91c2VMZWF2ZTogZnVuY3Rpb24gb25Nb3VzZUxlYXZlKCkge1xuICAgICAgcmV0dXJuIHNldEhvdmVyKGZhbHNlKTtcbiAgICB9XG4gIH0pLCBSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZFJhZGlvQnV0dG9uLCB7XG4gICAgYXM6IEJveCxcbiAgICBtYXJnaW46IGxhYmVsID8ge1xuICAgICAgcmlnaHQ6IHRoZW1lLnJhZGlvQnV0dG9uLmdhcCB8fCAnc21hbGwnXG4gICAgfSA6IHVuZGVmaW5lZFxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZFJhZGlvQnV0dG9uSW5wdXQsIF9leHRlbmRzKHt9LCByZXN0LCB7XG4gICAgcmVmOiBmb3J3YXJkUmVmLFxuICAgIHR5cGU6IFwicmFkaW9cIlxuICB9LCByZW1vdmVVbmRlZmluZWQoe1xuICAgIGlkOiBpZCxcbiAgICBuYW1lOiBuYW1lLFxuICAgIGNoZWNrZWQ6IGNoZWNrZWQsXG4gICAgZGlzYWJsZWQ6IGRpc2FibGVkLFxuICAgIG9uQ2hhbmdlOiBvbkNoYW5nZVxuICB9KSkpLCBjaGlsZHJlbiA/IGNoaWxkcmVuKHtcbiAgICBjaGVja2VkOiBjaGVja2VkLFxuICAgIGhvdmVyOiBob3ZlclxuICB9KSA6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkUmFkaW9CdXR0b25Cb3gsIHtcbiAgICBmb2N1czogZm9jdXMsXG4gICAgYXM6IEJveCxcbiAgICBhbGlnbjogXCJjZW50ZXJcIixcbiAgICBqdXN0aWZ5OiBcImNlbnRlclwiLFxuICAgIHdpZHRoOiB0aGVtZS5yYWRpb0J1dHRvbi5zaXplLFxuICAgIGhlaWdodDogdGhlbWUucmFkaW9CdXR0b24uc2l6ZSxcbiAgICBib3JkZXI6IHtcbiAgICAgIHNpemU6IHRoZW1lLnJhZGlvQnV0dG9uLmJvcmRlci53aWR0aCxcbiAgICAgIGNvbG9yOiBib3JkZXJDb2xvclxuICAgIH0sXG4gICAgcm91bmQ6IHRoZW1lLnJhZGlvQnV0dG9uLmNoZWNrLnJhZGl1c1xuICB9LCBjaGVja2VkICYmIChJY29uID8gUmVhY3QuY3JlYXRlRWxlbWVudChJY29uLCB7XG4gICAgYXM6IFN0eWxlZFJhZGlvQnV0dG9uSWNvblxuICB9KSA6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkUmFkaW9CdXR0b25JY29uLCB7XG4gICAgdmlld0JveDogXCIwIDAgMjQgMjRcIixcbiAgICBwcmVzZXJ2ZUFzcGVjdFJhdGlvOiBcInhNaWRZTWlkIG1lZXRcIlxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiY2lyY2xlXCIsIHtcbiAgICBjeDogMTIsXG4gICAgY3k6IDEyLFxuICAgIHI6IDZcbiAgfSkpKSkpLCBub3JtYWxpemVkTGFiZWwpO1xufTtcblxuUmFkaW9CdXR0b24uZGVmYXVsdFByb3BzID0ge307XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoUmFkaW9CdXR0b24uZGVmYXVsdFByb3BzLCBkZWZhdWx0UHJvcHMpO1xudmFyIFJhZGlvQnV0dG9uRG9jO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZ2xvYmFsLXJlcXVpcmVcbiAgUmFkaW9CdXR0b25Eb2MgPSByZXF1aXJlKCcuL2RvYycpLmRvYyhSYWRpb0J1dHRvbik7XG59XG5cbnZhciBSYWRpb0J1dHRvbldyYXBwZXIgPSBjb21wb3NlKHdpdGhUaGVtZSwgd2l0aEZvcndhcmRSZWYpKFJhZGlvQnV0dG9uRG9jIHx8IFJhZGlvQnV0dG9uKTtcbmV4cG9ydCB7IFJhZGlvQnV0dG9uV3JhcHBlciBhcyBSYWRpb0J1dHRvbiB9OyIsImltcG9ydCBzdHlsZWQgZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgZm9jdXNTdHlsZSwgbm9ybWFsaXplQ29sb3IgfSBmcm9tICcuLi8uLi91dGlscyc7XG5pbXBvcnQgeyBkZWZhdWx0UHJvcHMgfSBmcm9tICcuLi8uLi9kZWZhdWx0LXByb3BzJztcbnZhciBkaXNhYmxlZFN0eWxlID0gXCJcXG4gIG9wYWNpdHk6IDAuNTtcXG4gIGN1cnNvcjogZGVmYXVsdDtcXG5cIjtcbnZhciBTdHlsZWRSYWRpb0J1dHRvbkNvbnRhaW5lciA9IHN0eWxlZC5sYWJlbC53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiU3R5bGVkUmFkaW9CdXR0b25fX1N0eWxlZFJhZGlvQnV0dG9uQ29udGFpbmVyXCIsXG4gIGNvbXBvbmVudElkOiBcImcxZjZsZC0wXCJcbn0pKFtcImRpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpyb3c7YWxpZ24taXRlbXM6Y2VudGVyO3VzZXItc2VsZWN0Om5vbmU7XCIsIFwiIFwiLCBcIjpob3ZlciBpbnB1dDpub3QoW2Rpc2FibGVkXSkgKyBkaXYsOmhvdmVyIGlucHV0Om5vdChbZGlzYWJsZWRdKSArIHNwYW57Ym9yZGVyLWNvbG9yOlwiLCBcIjt9XCIsIFwiO1wiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5kaXNhYmxlZCAmJiBkaXNhYmxlZFN0eWxlO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiAhcHJvcHMuZGlzYWJsZWQgJiYgJ2N1cnNvcjogcG9pbnRlcjsnO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBub3JtYWxpemVDb2xvcihwcm9wcy50aGVtZS5yYWRpb0J1dHRvbi5ob3Zlci5ib3JkZXIuY29sb3IsIHByb3BzLnRoZW1lKTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUucmFkaW9CdXR0b24uZXh0ZW5kO1xufSk7XG5TdHlsZWRSYWRpb0J1dHRvbkNvbnRhaW5lci5kZWZhdWx0UHJvcHMgPSB7fTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihTdHlsZWRSYWRpb0J1dHRvbkNvbnRhaW5lci5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG52YXIgU3R5bGVkUmFkaW9CdXR0b25JbnB1dCA9IHN0eWxlZC5pbnB1dC53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiU3R5bGVkUmFkaW9CdXR0b25fX1N0eWxlZFJhZGlvQnV0dG9uSW5wdXRcIixcbiAgY29tcG9uZW50SWQ6IFwiZzFmNmxkLTFcIlxufSkoW1wib3BhY2l0eTowOy1tb3otYXBwZWFyYW5jZTpub25lO3dpZHRoOjA7aGVpZ2h0OjA7bWFyZ2luOjA7XCIsIFwiO1wiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiAhcHJvcHMuZGlzYWJsZWQgJiYgJ2N1cnNvcjogcG9pbnRlcjsnO1xufSk7XG5TdHlsZWRSYWRpb0J1dHRvbklucHV0LmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKFN0eWxlZFJhZGlvQnV0dG9uSW5wdXQuZGVmYXVsdFByb3BzLCBkZWZhdWx0UHJvcHMpO1xudmFyIFN0eWxlZFJhZGlvQnV0dG9uSWNvbiA9IHN0eWxlZC5zdmcud2l0aENvbmZpZyh7XG4gIGRpc3BsYXlOYW1lOiBcIlN0eWxlZFJhZGlvQnV0dG9uX19TdHlsZWRSYWRpb0J1dHRvbkljb25cIixcbiAgY29tcG9uZW50SWQ6IFwiZzFmNmxkLTJcIlxufSkoW1wiYm94LXNpemluZzpib3JkZXItYm94O3dpZHRoOlwiLCBcIjtoZWlnaHQ6XCIsIFwiO2ZpbGw6XCIsIFwiO1wiLCBcIjtcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUucmFkaW9CdXR0b24uaWNvbi5zaXplIHx8IHByb3BzLnRoZW1lLnJhZGlvQnV0dG9uLnNpemU7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLnJhZGlvQnV0dG9uLmljb24uc2l6ZSB8fCBwcm9wcy50aGVtZS5yYWRpb0J1dHRvbi5zaXplO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBub3JtYWxpemVDb2xvcihwcm9wcy50aGVtZS5yYWRpb0J1dHRvbi5jaGVjay5jb2xvciB8fCAnY29udHJvbCcsIHByb3BzLnRoZW1lKTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUucmFkaW9CdXR0b24uaWNvbi5leHRlbmQ7XG59KTtcblN0eWxlZFJhZGlvQnV0dG9uSWNvbi5kZWZhdWx0UHJvcHMgPSB7fTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihTdHlsZWRSYWRpb0J1dHRvbkljb24uZGVmYXVsdFByb3BzLCBkZWZhdWx0UHJvcHMpO1xudmFyIFN0eWxlZFJhZGlvQnV0dG9uQm94ID0gc3R5bGVkLmRpdi53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiU3R5bGVkUmFkaW9CdXR0b25fX1N0eWxlZFJhZGlvQnV0dG9uQm94XCIsXG4gIGNvbXBvbmVudElkOiBcImcxZjZsZC0zXCJcbn0pKFtcIlwiLCBcIjtcIiwgXCI7XCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLmZvY3VzICYmIGZvY3VzU3R5bGU7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLnJhZGlvQnV0dG9uLmNoZWNrLmV4dGVuZDtcbn0pO1xuU3R5bGVkUmFkaW9CdXR0b25Cb3guZGVmYXVsdFByb3BzID0ge307XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoU3R5bGVkUmFkaW9CdXR0b25Cb3guZGVmYXVsdFByb3BzLCBkZWZhdWx0UHJvcHMpO1xudmFyIFN0eWxlZFJhZGlvQnV0dG9uID0gc3R5bGVkLmRpdi53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiU3R5bGVkUmFkaW9CdXR0b25cIixcbiAgY29tcG9uZW50SWQ6IFwiZzFmNmxkLTRcIlxufSkoW1wiXCIsIFwiO1wiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5yYWRpb0J1dHRvbiAmJiBwcm9wcy50aGVtZS5yYWRpb0J1dHRvbi5leHRlbmQ7XG59KTtcblN0eWxlZFJhZGlvQnV0dG9uLmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKFN0eWxlZFJhZGlvQnV0dG9uLmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbmV4cG9ydCB7IFN0eWxlZFJhZGlvQnV0dG9uQ29udGFpbmVyLCBTdHlsZWRSYWRpb0J1dHRvbklucHV0LCBTdHlsZWRSYWRpb0J1dHRvbkljb24sIFN0eWxlZFJhZGlvQnV0dG9uQm94LCBTdHlsZWRSYWRpb0J1dHRvbiB9OyIsImltcG9ydCB7IGRlc2NyaWJlLCBQcm9wVHlwZXMgfSBmcm9tICdyZWFjdC1kZXNjJztcbmltcG9ydCB7IGdldEF2YWlsYWJsZUF0QmFkZ2UgfSBmcm9tICcuLi8uLi91dGlscyc7XG5leHBvcnQgdmFyIGRvYyA9IGZ1bmN0aW9uIGRvYyhSYWRpb0J1dHRvbikge1xuICB2YXIgRG9jdW1lbnRlZFJhZGlvQnV0dG9uID0gZGVzY3JpYmUoUmFkaW9CdXR0b24pLmF2YWlsYWJsZUF0KGdldEF2YWlsYWJsZUF0QmFkZ2UoJ1JhZGlvQnV0dG9uJykpLmRlc2NyaXB0aW9uKCdBIHJhZGlvIGJ1dHRvbiBjb250cm9sLicpLmRldGFpbHMoXCJSYWRpb0J1dHRvbiBzaG91bGQgdHlwaWNhbGx5IG5vdCBiZSB1c2VkIGRpcmVjdGx5LlxcbiAgICAgIEluc3RlYWQsIHVzZSBSYWRpb0J1dHRvbkdyb3VwLlwiKS51c2FnZShcImltcG9ydCB7IFJhZGlvQnV0dG9uIH0gZnJvbSAnZ3JvbW1ldCc7XFxuPFJhZGlvQnV0dG9uIC8+XCIpLmludHJpbnNpY0VsZW1lbnQoJ2lucHV0Jyk7XG4gIERvY3VtZW50ZWRSYWRpb0J1dHRvbi5wcm9wVHlwZXMgPSB7XG4gICAgY2hlY2tlZDogUHJvcFR5cGVzLmJvb2wuZGVzY3JpcHRpb24oJ1NhbWUgYXMgUmVhY3QgPGlucHV0IGNoZWNrZWQ9e30gLz4nKSxcbiAgICBjaGlsZHJlbjogUHJvcFR5cGVzLmZ1bmMuZGVzY3JpcHRpb24oXCJGdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHRvIHJlbmRlciB0aGUgdmlzdWFsIHJlcHJlc2VudGF0aW9uLlxcbiAgICAgIEl0IHdpbGwgYmUgcGFzc2VkIGFuIG9iamVjdCBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIGJ1dHRvbiBpcyBjaGVja2VkLiBJdFxcbiAgICAgIHNob3VsZCByZXR1cm4gYSByZWFjdCBlbGVtZW50LlxcbiAgICAgIEZvciBleGFtcGxlOlxcbiAgICAgIGBjaGlsZHJlbj17KHsgY2hlY2tlZCB9KSA9PiA8Qm94IC4uLj57Li4ufTwvQm94Pn1gXFxuICAgICAgXCIpLFxuICAgIGRpc2FibGVkOiBQcm9wVHlwZXMuYm9vbC5kZXNjcmlwdGlvbihcIlNhbWUgYXMgUmVhY3QgPGlucHV0IGRpc2FibGVkPXt9IC8+LiBBbHNvIGFkZHMgYSBoaWRkZW4gaW5wdXQgZWxlbWVudFxcbndpdGggdGhlIHNhbWUgbmFtZSBzbyBmb3JtIHN1Ym1pc3Npb25zIHdvcmsuXCIpLFxuICAgIGlkOiBQcm9wVHlwZXMuc3RyaW5nLmRlc2NyaXB0aW9uKCdUaGUgRE9NIGlkIGF0dHJpYnV0ZSB2YWx1ZSB0byB1c2UgZm9yIHRoZSB1bmRlcmx5aW5nIDxpbnB1dC8+IGVsZW1lbnQuJyksXG4gICAgbGFiZWw6IFByb3BUeXBlcy5ub2RlLmRlc2NyaXB0aW9uKCdMYWJlbCB0ZXh0IHRvIHBsYWNlIG5leHQgdG8gdGhlIGNvbnRyb2wuJyksXG4gICAgbmFtZTogUHJvcFR5cGVzLnN0cmluZy5kZXNjcmlwdGlvbihcIlRoZSBET00gbmFtZSBhdHRyaWJ1dGUgdmFsdWUgdG8gdXNlIGZvciB0aGUgdW5kZXJseWluZyA8aW5wdXQvPlxcbiAgICAgICBlbGVtZW50LlwiKS5pc1JlcXVpcmVkLFxuICAgIG9uQ2hhbmdlOiBQcm9wVHlwZXMuZnVuYy5kZXNjcmlwdGlvbihcIkZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgdXNlciBjbGlja3MgdGhlIHJhZGlvIGJ1dHRvbi4gSXRcXG4gICAgICB3aWxsIGJlIHBhc3NlZCBhIFJlYWN0IGV2ZW50IG9iamVjdC4gVGhlIGN1cnJlbnQgc3RhdGUgY2FuIGJlIGFjY2Vzc2VkXFxuICAgICAgdmlhIGV2ZW50LnRhcmdldC5jaGVja2VkLiBTYW1lIGFzIFJlYWN0IDxpbnB1dCBvbkNoYW5nZT17fSAvPi5cIilcbiAgfTtcbiAgcmV0dXJuIERvY3VtZW50ZWRSYWRpb0J1dHRvbjtcbn07XG5leHBvcnQgdmFyIHRoZW1lRG9jID0ge1xuICAncmFkaW9CdXR0b24uYm9yZGVyLmNvbG9yJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGNvbG9yIG9mIHRoZSBib3JkZXIgb2YgdGhlIFJhZGlvIEJ1dHRvbi4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCB7IGRhcms6IHN0cmluZywgbGlnaHQ6IHN0cmluZyB9JyxcbiAgICBkZWZhdWx0VmFsdWU6IFwie2Rhcms6ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNSksIGxpZ2h0OiAncmdiYSgwLCAwLCAwLCAwLjE1KX1cIlxuICB9LFxuICAncmFkaW9CdXR0b24uYm9yZGVyLndpZHRoJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIHdpZHRoIHNpemUgb2YgdGhlIGJvcmRlciBvZiB0aGUgUmFkaW9CdXR0b24uJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICcycHgnXG4gIH0sXG4gICdyYWRpb0J1dHRvbi5jaGVjay5jb2xvcic6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBjb2xvciBvZiB0aGUgY2hlY2tlZCBpY29uIGluIHRoZSBSYWRpb0J1dHRvbi4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCB7IGRhcms6IHN0cmluZywgbGlnaHQ6IHN0cmluZyB9JyxcbiAgICBkZWZhdWx0VmFsdWU6ICd1bmRlZmluZWQnXG4gIH0sXG4gICdyYWRpb0J1dHRvbi5jaGVjay5leHRlbmQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdBbnkgYWRkaXRpb25hbCBzdHlsZSBmb3IgdGhlIGNoZWNrZWQgUmFkaW9CdXR0b24uJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgKHByb3BzKSA9PiB7fSdcbiAgfSxcbiAgJ3JhZGlvQnV0dG9uLmNoZWNrLnJhZGl1cyc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBib3JkZXItcmFkaXVzIG9mIHRoZSBSYWRpb0J1dHRvbi4nLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogJzEwMCUnXG4gIH0sXG4gICdyYWRpb0J1dHRvbi5leHRlbmQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdBbnkgYWRkaXRpb25hbCBzdHlsZSBmb3IgdGhlIFJhZGlvQnV0dG9uLicsXG4gICAgdHlwZTogJ3N0cmluZyB8IChwcm9wcykgPT4ge30nXG4gIH0sXG4gICdyYWRpb0J1dHRvbi5nYXAnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgZ2FwIGJldHdlZW4gdGhlIGxhYmVsIGFuZCB0aGUgUmFkaW9CdXR0b24gaXRzZWxmLicsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiAnc21hbGwnXG4gIH0sXG4gICdyYWRpb0J1dHRvbi5zaXplJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIHNpemUgb2YgdGhlIFJhZGlvQnV0dG9uLicsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiAnMjRweCdcbiAgfSxcbiAgJ3JhZGlvQnV0dG9uLmhvdmVyLmJvcmRlci5jb2xvcic6IHtcbiAgICBkZXNjcmlwdGlvbjogXCJUaGUgY29sb3Igb2YgdGhlIFJhZGlvQnV0dG9uIGJvcmRlciB3aGVuIGhvdmVyZWQgb3Zlci5cIixcbiAgICB0eXBlOiAnc3RyaW5nIHwgeyBkYXJrOiBzdHJpbmcsIGxpZ2h0OiBzdHJpbmcgfScsXG4gICAgZGVmYXVsdFZhbHVlOiAne2Rhcms6IHdoaXRlLCBsaWdodDogYmxhY2t9J1xuICB9LFxuICAncmFkaW9CdXR0b24uaWNvbi5leHRlbmQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdBbnkgYWRkaXRpb25hbCBzdHlsZSBmb3IgdGhlIFJhZGlvQnV0dG9uIGljb24uJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgKHByb3BzKSA9PiB7fSdcbiAgfSxcbiAgJ3JhZGlvQnV0dG9uLmljb24uc2l6ZSc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBzaXplIG9mIHRoZSBpY29uIGluIHRoZSBSYWRpb0J1dHRvbi4nLFxuICAgIHR5cGU6ICdzdHJpbmcnXG4gIH1cbn07IiwiZXhwb3J0IHsgUmFkaW9CdXR0b24gfSBmcm9tICcuL1JhZGlvQnV0dG9uJzsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmltcG9ydCBSZWFjdCwgeyBmb3J3YXJkUmVmLCB1c2VFZmZlY3QsIHVzZU1lbW8sIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBCb3ggfSBmcm9tICcuLi9Cb3gnO1xuaW1wb3J0IHsgS2V5Ym9hcmQgfSBmcm9tICcuLi9LZXlib2FyZCc7XG5pbXBvcnQgeyBSYWRpb0J1dHRvbiB9IGZyb20gJy4uL1JhZGlvQnV0dG9uJztcbnZhciBSYWRpb0J1dHRvbkdyb3VwID0gZm9yd2FyZFJlZihmdW5jdGlvbiAoX3JlZiwgcmVmKSB7XG4gIHZhciBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW4sXG4gICAgICBfcmVmJGdhcCA9IF9yZWYuZ2FwLFxuICAgICAgZ2FwID0gX3JlZiRnYXAgPT09IHZvaWQgMCA/ICdzbWFsbCcgOiBfcmVmJGdhcCxcbiAgICAgIG5hbWUgPSBfcmVmLm5hbWUsXG4gICAgICBvbkNoYW5nZSA9IF9yZWYub25DaGFuZ2UsXG4gICAgICBvcHRpb25zUHJvcCA9IF9yZWYub3B0aW9ucyxcbiAgICAgIHZhbHVlUHJvcCA9IF9yZWYudmFsdWUsXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZiwgW1wiY2hpbGRyZW5cIiwgXCJnYXBcIiwgXCJuYW1lXCIsIFwib25DaGFuZ2VcIiwgXCJvcHRpb25zXCIsIFwidmFsdWVcIl0pO1xuXG4gIC8vIG5vcm1hbGl6ZSBvcHRpb25zIHRvIGFsd2F5cyB1c2UgYW4gb2JqZWN0XG4gIHZhciBvcHRpb25zID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG9wdGlvbnNQcm9wLm1hcChmdW5jdGlvbiAobykge1xuICAgICAgcmV0dXJuIHR5cGVvZiBvID09PSAnc3RyaW5nJyA/IHtcbiAgICAgICAgaWQ6IG8sXG4gICAgICAgIGxhYmVsOiBvLFxuICAgICAgICB2YWx1ZTogb1xuICAgICAgfSA6IG87XG4gICAgfSk7XG4gIH0sIFtvcHRpb25zUHJvcF0pO1xuXG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZSh2YWx1ZVByb3ApLFxuICAgICAgdmFsdWUgPSBfdXNlU3RhdGVbMF0sXG4gICAgICBzZXRWYWx1ZSA9IF91c2VTdGF0ZVsxXTtcblxuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBzZXRWYWx1ZSh2YWx1ZVByb3ApO1xuICB9LCBbdmFsdWVQcm9wXSk7XG5cbiAgdmFyIF91c2VTdGF0ZTIgPSB1c2VTdGF0ZSgpLFxuICAgICAgZm9jdXMgPSBfdXNlU3RhdGUyWzBdLFxuICAgICAgc2V0Rm9jdXMgPSBfdXNlU3RhdGUyWzFdO1xuXG4gIHZhciBvcHRpb25SZWZzID0gdXNlUmVmKFtdKTtcbiAgdmFyIHZhbHVlSW5kZXggPSBSZWFjdC51c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcmVzdWx0O1xuICAgIG9wdGlvbnMuc29tZShmdW5jdGlvbiAob3B0aW9uLCBpbmRleCkge1xuICAgICAgaWYgKG9wdGlvbi52YWx1ZSA9PT0gdmFsdWUpIHtcbiAgICAgICAgcmVzdWx0ID0gaW5kZXg7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSwgW29wdGlvbnMsIHZhbHVlXSk7XG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGZvY3VzICYmIHZhbHVlSW5kZXggPj0gMCkgb3B0aW9uUmVmcy5jdXJyZW50W3ZhbHVlSW5kZXhdLmZvY3VzKCk7XG4gIH0sIFtmb2N1cywgdmFsdWVJbmRleF0pO1xuXG4gIHZhciBvbk5leHQgPSBmdW5jdGlvbiBvbk5leHQoKSB7XG4gICAgaWYgKHZhbHVlSW5kZXggIT09IHVuZGVmaW5lZCAmJiB2YWx1ZUluZGV4IDwgb3B0aW9ucy5sZW5ndGggLSAxKSB7XG4gICAgICB2YXIgbmV4dEluZGV4ID0gdmFsdWVJbmRleCArIDE7XG4gICAgICB2YXIgbmV4dFZhbHVlID0gb3B0aW9uc1tuZXh0SW5kZXhdLnZhbHVlO1xuICAgICAgc2V0VmFsdWUobmV4dFZhbHVlKTtcblxuICAgICAgaWYgKG9uQ2hhbmdlKSB7XG4gICAgICAgIG9uQ2hhbmdlKHtcbiAgICAgICAgICB0YXJnZXQ6IHtcbiAgICAgICAgICAgIHZhbHVlOiBuZXh0VmFsdWVcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB2YXIgb25QcmV2aW91cyA9IGZ1bmN0aW9uIG9uUHJldmlvdXMoKSB7XG4gICAgaWYgKHZhbHVlSW5kZXggPiAwKSB7XG4gICAgICB2YXIgbmV4dEluZGV4ID0gdmFsdWVJbmRleCAtIDE7XG4gICAgICB2YXIgbmV4dFZhbHVlID0gb3B0aW9uc1tuZXh0SW5kZXhdLnZhbHVlO1xuICAgICAgc2V0VmFsdWUobmV4dFZhbHVlKTtcblxuICAgICAgaWYgKG9uQ2hhbmdlKSB7XG4gICAgICAgIG9uQ2hhbmdlKHtcbiAgICAgICAgICB0YXJnZXQ6IHtcbiAgICAgICAgICAgIHZhbHVlOiBuZXh0VmFsdWVcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB2YXIgb25Gb2N1cyA9IGZ1bmN0aW9uIG9uRm9jdXMoKSB7XG4gICAgLy8gRGVsYXkganVzdCBhIHdlZSBiaXQgc28gQ2hyb21lIGRvZXNuJ3QgbWlzc2luZyB0dXJuaW5nIHRoZSBidXR0b24gb24uXG4gICAgLy8gQ2hyb21lIGJlaGF2ZXMgZGlmZmVyZW50bHkgaW4gdGhhdCBmb2N1cyBpcyBnaXZlbiB0byByYWRpbyBidXR0b25zXG4gICAgLy8gd2hlbiB0aGUgdXNlciBzZWxlY3RzIG9uZSwgdW5saWtlIFNhZmFyaSBhbmQgRmlyZWZveC5cbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAhZm9jdXMgJiYgc2V0Rm9jdXModHJ1ZSk7XG4gICAgfSwgMSk7XG4gIH07XG5cbiAgdmFyIG9uQmx1ciA9IGZ1bmN0aW9uIG9uQmx1cigpIHtcbiAgICByZXR1cm4gZm9jdXMgJiYgc2V0Rm9jdXMoZmFsc2UpO1xuICB9O1xuXG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEtleWJvYXJkLCB7XG4gICAgdGFyZ2V0OiBcImRvY3VtZW50XCIsXG4gICAgb25VcDogZm9jdXMgPyBvblByZXZpb3VzIDogdW5kZWZpbmVkLFxuICAgIG9uRG93bjogZm9jdXMgPyBvbk5leHQgOiB1bmRlZmluZWQsXG4gICAgb25MZWZ0OiBmb2N1cyA/IG9uUHJldmlvdXMgOiB1bmRlZmluZWQsXG4gICAgb25SaWdodDogZm9jdXMgPyBvbk5leHQgOiB1bmRlZmluZWRcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChCb3gsIF9leHRlbmRzKHtcbiAgICByZWY6IHJlZixcbiAgICBnYXA6IGdhcFxuICB9LCByZXN0KSwgb3B0aW9ucy5tYXAoZnVuY3Rpb24gKF9yZWYyLCBpbmRleCkge1xuICAgIHZhciBkaXNhYmxlZCA9IF9yZWYyLmRpc2FibGVkLFxuICAgICAgICBpZCA9IF9yZWYyLmlkLFxuICAgICAgICBsYWJlbCA9IF9yZWYyLmxhYmVsLFxuICAgICAgICBvcHRpb25WYWx1ZSA9IF9yZWYyLnZhbHVlO1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFJhZGlvQnV0dG9uLCB7XG4gICAgICByZWY6IGZ1bmN0aW9uIHJlZihhUmVmKSB7XG4gICAgICAgIG9wdGlvblJlZnMuY3VycmVudFtpbmRleF0gPSBhUmVmO1xuICAgICAgfSxcbiAgICAgIGtleTogb3B0aW9uVmFsdWUsXG4gICAgICBuYW1lOiBuYW1lLFxuICAgICAgbGFiZWw6ICFjaGlsZHJlbiA/IGxhYmVsIDogdW5kZWZpbmVkLFxuICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkLFxuICAgICAgY2hlY2tlZDogb3B0aW9uVmFsdWUgPT09IHZhbHVlLFxuICAgICAgZm9jdXM6IGZvY3VzICYmIChvcHRpb25WYWx1ZSA9PT0gdmFsdWUgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhaW5kZXgpLFxuICAgICAgaWQ6IGlkLFxuICAgICAgdmFsdWU6IG9wdGlvblZhbHVlLFxuICAgICAgb25DaGFuZ2U6IG9uQ2hhbmdlLFxuICAgICAgb25Gb2N1czogb25Gb2N1cyxcbiAgICAgIG9uQmx1cjogb25CbHVyXG4gICAgfSwgY2hpbGRyZW4gPyBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgIHJldHVybiBjaGlsZHJlbihvcHRpb25zUHJvcFtpbmRleF0sIHN0YXRlKTtcbiAgICB9IDogbnVsbCk7XG4gIH0pKSk7XG59KTtcblJhZGlvQnV0dG9uR3JvdXAuZGlzcGxheU5hbWUgPSAnUmFkaW9CdXR0b25Hcm91cCc7XG52YXIgUmFkaW9CdXR0b25Hcm91cERvYztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGdsb2JhbC1yZXF1aXJlXG4gIFJhZGlvQnV0dG9uR3JvdXBEb2MgPSByZXF1aXJlKCcuL2RvYycpLmRvYyhSYWRpb0J1dHRvbkdyb3VwKTtcbn1cblxudmFyIFJhZGlvQnV0dG9uR3JvdXBXcmFwcGVyID0gUmFkaW9CdXR0b25Hcm91cERvYyB8fCBSYWRpb0J1dHRvbkdyb3VwO1xuZXhwb3J0IHsgUmFkaW9CdXR0b25Hcm91cFdyYXBwZXIgYXMgUmFkaW9CdXR0b25Hcm91cCB9OyIsImltcG9ydCB7IGRlc2NyaWJlLCBQcm9wVHlwZXMgfSBmcm9tICdyZWFjdC1kZXNjJztcbmltcG9ydCB7IGdldEF2YWlsYWJsZUF0QmFkZ2UgfSBmcm9tICcuLi8uLi91dGlscyc7XG5leHBvcnQgdmFyIGRvYyA9IGZ1bmN0aW9uIGRvYyhSYWRpb0J1dHRvbkdyb3VwKSB7XG4gIHZhciBEb2N1bWVudGVkUmFkaW9CdXR0b25Hcm91cCA9IGRlc2NyaWJlKFJhZGlvQnV0dG9uR3JvdXApLmF2YWlsYWJsZUF0KGdldEF2YWlsYWJsZUF0QmFkZ2UoJ1JhZGlvQnV0dG9uR3JvdXAnKSkuZGVzY3JpcHRpb24oJ0EgZ3JvdXAgb2YgcmFkaW8gYnV0dG9ucy4nKS51c2FnZShcImltcG9ydCB7IFJhZGlvQnV0dG9uR3JvdXAgfSBmcm9tICdncm9tbWV0JztcXG48UmFkaW9CdXR0b25Hcm91cCAvPlwiKS5pbnRyaW5zaWNFbGVtZW50KCdkaXYnKTtcbiAgRG9jdW1lbnRlZFJhZGlvQnV0dG9uR3JvdXAucHJvcFR5cGVzID0ge1xuICAgIGNoaWxkcmVuOiBQcm9wVHlwZXMuZnVuYy5kZXNjcmlwdGlvbihcIkZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgdG8gcmVuZGVyIHRoZSB2aXN1YWwgcmVwcmVzZW50YXRpb24uXFxuICAgICAgSXQgd2lsbCBiZSBwYXNzZWQgYW4gb2JqZWN0IGluZGljYXRpbmcgd2hldGhlciB0aGUgYnV0dG9uIGlzIGNoZWNrZWQuIEl0XFxuICAgICAgc2hvdWxkIHJldHVybiBhIHJlYWN0IGVsZW1lbnQuXFxuICAgICAgRm9yIGV4YW1wbGU6XFxuICAgICAgYGNoaWxkcmVuPXsob3B0aW9uLCB7IGNoZWNrZWQgfSkgPT4gPEJveCAuLi4+ey4uLn08L0JveD59YFxcbiAgICAgIFwiKSxcbiAgICBuYW1lOiBQcm9wVHlwZXMuc3RyaW5nLmRlc2NyaXB0aW9uKFwiVGhlIERPTSBuYW1lIGF0dHJpYnV0ZSB2YWx1ZSB0byB1c2UgZm9yIHRoZSB1bmRlcmx5aW5nIDxpbnB1dC8+IFxcbiAgICAgIGVsZW1lbnRzLlwiKS5pc1JlcXVpcmVkLFxuICAgIG9uQ2hhbmdlOiBQcm9wVHlwZXMuZnVuYy5kZXNjcmlwdGlvbihcIkZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgdXNlciBjbGlja3Mgb24gb2YgdGhlIHJhZGlvXFxuICAgICAgYnV0dG9ucy4gSXQgd2lsbCBiZSBwYXNzZWQgYSBSZWFjdCBldmVudCBvYmplY3QuXCIpLFxuICAgIG9wdGlvbnM6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5zdHJpbmcpLCBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgZGlzYWJsZWQ6IFByb3BUeXBlcy5ib29sLFxuICAgICAgaWQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgICBsYWJlbDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLmVsZW1lbnRdKSxcbiAgICAgIHZhbHVlOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWRcbiAgICB9KSldKS5kZXNjcmlwdGlvbihcIk9wdGlvbnMgY2FuIGJlIGVpdGhlciBhIHN0cmluZyBvciBhbiBvYmplY3QuXCIpLmlzUmVxdWlyZWQsXG4gICAgdmFsdWU6IFByb3BUeXBlcy5zdHJpbmcuZGVzY3JpcHRpb24oXCJDdXJyZW50bHkgc2VsZWN0ZWQgb3B0aW9uIHZhbHVlLlwiKVxuICB9O1xuICByZXR1cm4gRG9jdW1lbnRlZFJhZGlvQnV0dG9uR3JvdXA7XG59OyIsImV4cG9ydCB7IFJhZGlvQnV0dG9uR3JvdXAgfSBmcm9tICcuL1JhZGlvQnV0dG9uR3JvdXAnOyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbXBvc2UgfSBmcm9tICdyZWNvbXBvc2UnO1xuaW1wb3J0IHsgd2l0aEZvY3VzLCB3aXRoRm9yd2FyZFJlZiB9IGZyb20gJy4uL2hvY3MnO1xuaW1wb3J0IHsgU3R5bGVkUmFuZ2VJbnB1dCB9IGZyb20gJy4vU3R5bGVkUmFuZ2VJbnB1dCc7XG5cbnZhciBSYW5nZUlucHV0ID0gZnVuY3Rpb24gUmFuZ2VJbnB1dChfcmVmKSB7XG4gIHZhciBmb3J3YXJkUmVmID0gX3JlZi5mb3J3YXJkUmVmLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9yZWYsIFtcImZvcndhcmRSZWZcIl0pO1xuXG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZFJhbmdlSW5wdXQsIF9leHRlbmRzKHt9LCByZXN0LCB7XG4gICAgcmVmOiBmb3J3YXJkUmVmLFxuICAgIHR5cGU6IFwicmFuZ2VcIlxuICB9KSk7XG59O1xuXG52YXIgUmFuZ2VJbnB1dERvYztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGdsb2JhbC1yZXF1aXJlXG4gIFJhbmdlSW5wdXREb2MgPSByZXF1aXJlKCcuL2RvYycpLmRvYyhSYW5nZUlucHV0KTtcbn1cblxudmFyIFJhbmdlSW5wdXRXcmFwcGVyID0gY29tcG9zZSh3aXRoRm9jdXMoKSwgd2l0aEZvcndhcmRSZWYpKFJhbmdlSW5wdXREb2MgfHwgUmFuZ2VJbnB1dCk7XG5leHBvcnQgeyBSYW5nZUlucHV0V3JhcHBlciBhcyBSYW5nZUlucHV0IH07IiwiaW1wb3J0IHN0eWxlZCwgeyBjc3MgfSBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBmb2N1c1N0eWxlLCBub3JtYWxpemVDb2xvciwgcGFyc2VNZXRyaWNUb051bSB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmltcG9ydCB7IGRlZmF1bHRQcm9wcyB9IGZyb20gJy4uLy4uL2RlZmF1bHQtcHJvcHMnO1xudmFyIHJhbmdlVHJhY2tTdHlsZSA9IGNzcyhbXCJib3gtc2l6aW5nOmJvcmRlci1ib3g7d2lkdGg6MTAwJTtoZWlnaHQ6XCIsIFwiO2JhY2tncm91bmQ6XCIsIFwiO1wiLCBcIlwiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5yYW5nZUlucHV0LnRyYWNrLmhlaWdodDtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gbm9ybWFsaXplQ29sb3IocHJvcHMudGhlbWUucmFuZ2VJbnB1dC50cmFjay5jb2xvciwgcHJvcHMudGhlbWUpO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5yYW5nZUlucHV0ICYmIHByb3BzLnRoZW1lLnJhbmdlSW5wdXQudHJhY2sgJiYgcHJvcHMudGhlbWUucmFuZ2VJbnB1dC50cmFjay5leHRlbmQ7XG59KTtcbnZhciByYW5nZVRodW1iU3R5bGUgPSBjc3MoW1wiYm94LXNpemluZzpib3JkZXItYm94O3Bvc2l0aW9uOnJlbGF0aXZlO2JvcmRlci1yYWRpdXM6XCIsIFwiO2hlaWdodDpcIiwgXCI7d2lkdGg6XCIsIFwiO292ZXJmbG93OnZpc2libGU7YmFja2dyb3VuZDpcIiwgXCI7LXdlYmtpdC1hcHBlYXJhbmNlOm5vbmU7Y3Vyc29yOnBvaW50ZXI7XCIsIFwiXCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLmdsb2JhbC5zcGFjaW5nO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5nbG9iYWwuc3BhY2luZztcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUuZ2xvYmFsLnNwYWNpbmc7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIG5vcm1hbGl6ZUNvbG9yKHByb3BzLnRoZW1lLnJhbmdlSW5wdXQudGh1bWIuY29sb3IgfHwgJ2NvbnRyb2wnLCBwcm9wcy50aGVtZSk7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLnJhbmdlSW5wdXQgJiYgcHJvcHMudGhlbWUucmFuZ2VJbnB1dC50aHVtYiAmJiBwcm9wcy50aGVtZS5yYW5nZUlucHV0LnRodW1iLmV4dGVuZDtcbn0pO1xudmFyIGZpcmVmb3hNaWNyb3NvZnRUaHVtYlN0eWxlID0gY3NzKFtcIlwiLCBcIiBtYXJnaW4tdG9wOjBweDtoZWlnaHQ6XCIsIFwiO3dpZHRoOlwiLCBcIjtcIiwgXCJcIl0sIHJhbmdlVGh1bWJTdHlsZSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5nbG9iYWwuc3BhY2luZztcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUuZ2xvYmFsLnNwYWNpbmc7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLnJhbmdlSW5wdXQgJiYgcHJvcHMudGhlbWUucmFuZ2VJbnB1dC50aHVtYiAmJiBwcm9wcy50aGVtZS5yYW5nZUlucHV0LnRodW1iLmV4dGVuZDtcbn0pO1xuLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuXG52YXIgU3R5bGVkUmFuZ2VJbnB1dCA9IHN0eWxlZC5pbnB1dC53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiU3R5bGVkUmFuZ2VJbnB1dFwiLFxuICBjb21wb25lbnRJZDogXCJzYy0xNXN0OWNrLTBcIlxufSkoW1wiYm94LXNpemluZzpib3JkZXItYm94O3Bvc2l0aW9uOnJlbGF0aXZlOy13ZWJraXQtYXBwZWFyYW5jZTpub25lO2JvcmRlci1jb2xvcjp0cmFuc3BhcmVudDtoZWlnaHQ6XCIsIFwiO3dpZHRoOjEwMCU7cGFkZGluZzowcHg7Y3Vyc29yOnBvaW50ZXI7YmFja2dyb3VuZDp0cmFuc3BhcmVudDsmOmZvY3Vze291dGxpbmU6bm9uZTt9Jjo6LW1vei1mb2N1cy1pbm5lcntib3JkZXI6bm9uZTt9Jjo6LW1vei1mb2N1cy1vdXRlcntib3JkZXI6bm9uZTt9Jjo6LXdlYmtpdC1zbGlkZXItcnVubmFibGUtdHJhY2t7XCIsIFwifSY6Oi13ZWJraXQtc2xpZGVyLXRodW1ie21hcmdpbi10b3A6LVwiLCBcInB4O1wiLCBcIiBcIiwgXCJ9Jjo6LW1vei1yYW5nZS10cmFja3tcIiwgXCJ9Jjo6LW1vei1yYW5nZS10aHVtYntcIiwgXCJ9Jjo6LW1zLXRodW1ie1wiLCBcIn1cIiwgXCIgJjo6LW1zLXRyYWNre1wiLCBcIiBib3JkZXItY29sb3I6dHJhbnNwYXJlbnQ7Y29sb3I6dHJhbnNwYXJlbnQ7fSY6Oi1tcy1maWxsLWxvd2Vye2JhY2tncm91bmQ6XCIsIFwiO2JvcmRlci1jb2xvcjp0cmFuc3BhcmVudDt9Jjo6LW1zLWZpbGwtdXBwZXJ7YmFja2dyb3VuZDpcIiwgXCI7Ym9yZGVyLWNvbG9yOnRyYW5zcGFyZW50O31cIiwgXCIgXCIsIFwiXCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLmdsb2JhbC5zcGFjaW5nO1xufSwgcmFuZ2VUcmFja1N0eWxlLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIChwYXJzZU1ldHJpY1RvTnVtKHByb3BzLnRoZW1lLmdsb2JhbC5zcGFjaW5nKSAtIHBhcnNlTWV0cmljVG9OdW0ocHJvcHMudGhlbWUucmFuZ2VJbnB1dC50cmFjay5oZWlnaHQgfHwgMCkpICogMC41O1xufSwgcmFuZ2VUaHVtYlN0eWxlLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuICFwcm9wcy5kaXNhYmxlZCAmJiBjc3MoW1wiJjpob3Zlcntib3gtc2hhZG93OjBweCAwcHggMHB4IDJweCBcIiwgXCI7fVwiXSwgbm9ybWFsaXplQ29sb3IocHJvcHMudGhlbWUucmFuZ2VJbnB1dC50aHVtYi5jb2xvciB8fCAnY29udHJvbCcsIHByb3BzLnRoZW1lKSk7XG59LCByYW5nZVRyYWNrU3R5bGUsIGZpcmVmb3hNaWNyb3NvZnRUaHVtYlN0eWxlLCBmaXJlZm94TWljcm9zb2Z0VGh1bWJTdHlsZSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiAhcHJvcHMuZGlzYWJsZWQgJiYgY3NzKFtcIiY6aG92ZXI6Oi1tb3otcmFuZ2UtdGh1bWJ7Ym94LXNoYWRvdzowcHggMHB4IDBweCAycHggXCIsIFwiO30mOmhvdmVyOjotbXMtdGh1bWJ7Ym94LXNoYWRvdzowcHggMHB4IDBweCAycHggXCIsIFwiO31cIl0sIG5vcm1hbGl6ZUNvbG9yKHByb3BzLnRoZW1lLnJhbmdlSW5wdXQudGh1bWIuY29sb3IgfHwgJ2NvbnRyb2wnLCBwcm9wcy50aGVtZSksIG5vcm1hbGl6ZUNvbG9yKHByb3BzLnRoZW1lLnJhbmdlSW5wdXQudGh1bWIuY29sb3IgfHwgJ2NvbnRyb2wnLCBwcm9wcy50aGVtZSkpO1xufSwgcmFuZ2VUcmFja1N0eWxlLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIG5vcm1hbGl6ZUNvbG9yKHByb3BzLnRoZW1lLnJhbmdlSW5wdXQudHJhY2suY29sb3IsIHByb3BzLnRoZW1lKTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gbm9ybWFsaXplQ29sb3IocHJvcHMudGhlbWUucmFuZ2VJbnB1dC50cmFjay5jb2xvciwgcHJvcHMudGhlbWUpO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5mb2N1cyAmJiBmb2N1c1N0eWxlO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5yYW5nZUlucHV0ICYmIHByb3BzLnRoZW1lLnJhbmdlSW5wdXQuZXh0ZW5kO1xufSk7XG4vKiBlc2xpbnQtZW5hYmxlIG1heC1sZW4gKi9cblxuU3R5bGVkUmFuZ2VJbnB1dC5kZWZhdWx0UHJvcHMgPSB7fTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihTdHlsZWRSYW5nZUlucHV0LmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbmV4cG9ydCB7IFN0eWxlZFJhbmdlSW5wdXQgfTsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5pbXBvcnQgeyBkZXNjcmliZSwgUHJvcFR5cGVzIH0gZnJvbSAncmVhY3QtZGVzYyc7XG5pbXBvcnQgeyBnZXRBdmFpbGFibGVBdEJhZGdlLCB0aGVtZURvY1V0aWxzIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuZXhwb3J0IHZhciBkb2MgPSBmdW5jdGlvbiBkb2MoUmFuZ2VJbnB1dCkge1xuICB2YXIgRG9jdW1lbnRlZFJhbmdlSW5wdXQgPSBkZXNjcmliZShSYW5nZUlucHV0KS5hdmFpbGFibGVBdChnZXRBdmFpbGFibGVBdEJhZGdlKCdSYW5nZUlucHV0JykpLmRlc2NyaXB0aW9uKCdBIHNsaWRlciBjb250cm9sIHRvIGlucHV0IGEgdmFsdWUgd2l0aGluIGEgZml4ZWQgcmFuZ2UuJykudXNhZ2UoXCJpbXBvcnQgeyBSYW5nZUlucHV0IH0gZnJvbSAnZ3JvbW1ldCc7XFxuPFJhbmdlSW5wdXQgLz5cIikuaW50cmluc2ljRWxlbWVudCgnaW5wdXQnKTtcbiAgRG9jdW1lbnRlZFJhbmdlSW5wdXQucHJvcFR5cGVzID0ge1xuICAgIGlkOiBQcm9wVHlwZXMuc3RyaW5nLmRlc2NyaXB0aW9uKCdUaGUgaWQgYXR0cmlidXRlIG9mIHRoZSByYW5nZSBpbnB1dC4nKSxcbiAgICBtaW46IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5udW1iZXIsIFByb3BUeXBlcy5zdHJpbmddKS5kZXNjcmlwdGlvbignVGhlIG1pbmltdW0gdmFsdWUgcGVybWl0dGVkLicpLFxuICAgIG1heDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm51bWJlciwgUHJvcFR5cGVzLnN0cmluZ10pLmRlc2NyaXB0aW9uKCdUaGUgbWF4aW11bSB2YWx1ZSBwZXJtaXR0ZWQuJyksXG4gICAgbmFtZTogUHJvcFR5cGVzLnN0cmluZy5kZXNjcmlwdGlvbignVGhlIG5hbWUgYXR0cmlidXRlIG9mIHRoZSByYW5nZSBpbnB1dC4nKSxcbiAgICBvbkNoYW5nZTogUHJvcFR5cGVzLmZ1bmMuZGVzY3JpcHRpb24oXCJGdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIHVzZXIgY2hhbmdlcyB0aGUgdmFsdWUuIEl0IHdpbGxcXG4gICAgICBiZSBwYXNzZWQgYW4gZXZlbnQgb2JqZWN0LiBUaGUgbmV3IGlucHV0IHZhbHVlIHdpbGwgYmUgYXZhaWxhYmxlXFxuICAgICAgdmlhICdldmVudC50YXJnZXQudmFsdWUnLlwiKSxcbiAgICBzdGVwOiBQcm9wVHlwZXMubnVtYmVyLmRlc2NyaXB0aW9uKCdUaGUgc3RlcCBpbnRlcnZhbCBiZXR3ZWVuIHZhbHVlcy4nKSxcbiAgICB2YWx1ZTogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm51bWJlciwgUHJvcFR5cGVzLnN0cmluZ10pLmRlc2NyaXB0aW9uKCdUaGUgY3VycmVudCB2YWx1ZS4nKVxuICB9O1xuICByZXR1cm4gRG9jdW1lbnRlZFJhbmdlSW5wdXQ7XG59O1xuZXhwb3J0IHZhciB0aGVtZURvYyA9IF9leHRlbmRzKHt9LCB0aGVtZURvY1V0aWxzLmZvY3VzU3R5bGUsIHtcbiAgJ2dsb2JhbC5zcGFjaW5nJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGhlaWdodCwgd2lkdGggYW5kIGJvcmRlci1yYWRpdXMgb2YgdGhlIHJhbmdlIHRodW1iLicsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiAnMjRweCdcbiAgfSxcbiAgJ3JhbmdlSW5wdXQuZXh0ZW5kJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnQW55IGFkZGl0aW9uYWwgc3R5bGUgZm9yIHRoZSBSYW5nZUlucHV0LicsXG4gICAgdHlwZTogXCJzdHJpbmcgfCAocHJvcHMpID0+IGBcXG4gICAgICBhbnkgQ1NTIHN0eWxpbmc7XFxuICAgIGBcIixcbiAgICBkZWZhdWx0VmFsdWU6IHVuZGVmaW5lZFxuICB9LFxuICAncmFuZ2VJbnB1dC50aHVtYi5jb2xvcic6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBjb2xvciBvZiB0aGUgdGh1bWIuJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgeyBkYXJrOiB1bmRlZmluZWQsIGxpZ2h0OiB1bmRlZmluZWQgfScsXG4gICAgZGVmYXVsdFZhbHVlOiB1bmRlZmluZWRcbiAgfSxcbiAgJ3JhbmdlSW5wdXQudGh1bWIuZXh0ZW5kJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnQW55IGFkZGl0aW9uYWwgc3R5bGUgZm9yIHRoZSB0aHVtYi4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCAocHJvcHMpID0+IHt9JyxcbiAgICBkZWZhdWx0VmFsdWU6IHVuZGVmaW5lZFxuICB9LFxuICAncmFuZ2VJbnB1dC50cmFjay5jb2xvcic6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBjb2xvciBvZiB0aGUgdHJhY2suJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICd7IGRhcms6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4zMyksIGxpZ2h0OiByZ2JhKDAsIDAsIDAsIDAuMzMpIH0nXG4gIH0sXG4gICdyYW5nZUlucHV0LnRyYWNrLmV4dGVuZCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ0FueSBhZGRpdGlvbmFsIHN0eWxlIGZvciB0aGUgdHJhY2suJyxcbiAgICB0eXBlOiBcInN0cmluZyB8IChwcm9wcykgPT4gYFxcbiAgICAgIGFueSBDU1Mgc3R5bGluZztcXG4gICAgYFwiLFxuICAgIGRlZmF1bHRWYWx1ZTogdW5kZWZpbmVkXG4gIH0sXG4gICdyYW5nZUlucHV0LnRyYWNrLmhlaWdodCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBoZWlnaHQgb2YgdGhlIHRyYWNrLicsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiAnNHB4J1xuICB9XG59KTsiLCJleHBvcnQgeyBSYW5nZUlucHV0IH0gZnJvbSAnLi9SYW5nZUlucHV0JzsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbXBvc2UgfSBmcm9tICdyZWNvbXBvc2UnO1xuaW1wb3J0IHsgd2l0aFRoZW1lIH0gZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgZGVmYXVsdFByb3BzIH0gZnJvbSAnLi4vLi4vZGVmYXVsdC1wcm9wcyc7XG5pbXBvcnQgeyBCb3ggfSBmcm9tICcuLi9Cb3gnO1xuaW1wb3J0IHsgS2V5Ym9hcmQgfSBmcm9tICcuLi9LZXlib2FyZCc7XG5pbXBvcnQgeyBub3JtYWxpemVDb2xvciwgcGFyc2VNZXRyaWNUb051bSB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmltcG9ydCB7IHdpdGhGb3J3YXJkUmVmIH0gZnJvbSAnLi4vaG9jcyc7XG52YXIgRElSRUNUSU9OX1BST1BTID0ge1xuICBob3Jpem9udGFsOiB7XG4gICAgY3Vyc29yOiAnY29sLXJlc2l6ZScsXG4gICAgZmlsbDogJ3ZlcnRpY2FsJ1xuICB9LFxuICB2ZXJ0aWNhbDoge1xuICAgIGN1cnNvcjogJ3Jvdy1yZXNpemUnLFxuICAgIGZpbGw6ICdob3Jpem9udGFsJ1xuICB9XG59O1xuXG52YXIgRWRnZUNvbnRyb2wgPSBmdW5jdGlvbiBFZGdlQ29udHJvbChfcmVmKSB7XG4gIHZhciBjb2xvciA9IF9yZWYuY29sb3IsXG4gICAgICBkaXJlY3Rpb24gPSBfcmVmLmRpcmVjdGlvbixcbiAgICAgIGVkZ2UgPSBfcmVmLmVkZ2UsXG4gICAgICBmb3J3YXJkUmVmID0gX3JlZi5mb3J3YXJkUmVmLFxuICAgICAgb25EZWNyZWFzZSA9IF9yZWYub25EZWNyZWFzZSxcbiAgICAgIG9uSW5jcmVhc2UgPSBfcmVmLm9uSW5jcmVhc2UsXG4gICAgICB0aGVtZSA9IF9yZWYudGhlbWUsXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZiwgW1wiY29sb3JcIiwgXCJkaXJlY3Rpb25cIiwgXCJlZGdlXCIsIFwiZm9yd2FyZFJlZlwiLCBcIm9uRGVjcmVhc2VcIiwgXCJvbkluY3JlYXNlXCIsIFwidGhlbWVcIl0pO1xuXG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZShmYWxzZSksXG4gICAgICBmb2N1c2VkID0gX3VzZVN0YXRlWzBdLFxuICAgICAgc2V0Rm9jdXNlZCA9IF91c2VTdGF0ZVsxXTtcblxuICB2YXIgX0RJUkVDVElPTl9QUk9QUyRkaXJlID0gRElSRUNUSU9OX1BST1BTW2RpcmVjdGlvbl0sXG4gICAgICBjdXJzb3IgPSBfRElSRUNUSU9OX1BST1BTJGRpcmUuY3Vyc29yLFxuICAgICAgZmlsbCA9IF9ESVJFQ1RJT05fUFJPUFMkZGlyZS5maWxsO1xuICB2YXIgc2l6ZSA9IHBhcnNlTWV0cmljVG9OdW0odGhlbWUuZ2xvYmFsLnNwYWNpbmcpIC8gMjtcbiAgdmFyIGtleWJvYXJkUHJvcHMgPSBkaXJlY3Rpb24gPT09ICd2ZXJ0aWNhbCcgPyB7XG4gICAgb25VcDogb25EZWNyZWFzZSxcbiAgICBvbkRvd246IG9uSW5jcmVhc2VcbiAgfSA6IHtcbiAgICBvbkxlZnQ6IG9uRGVjcmVhc2UsXG4gICAgb25SaWdodDogb25JbmNyZWFzZVxuICB9O1xuICB2YXIgYm94RGlyZWN0aW9uID0gZGlyZWN0aW9uID09PSAndmVydGljYWwnID8gJ3JvdycgOiAnY29sdW1uJztcbiAgdmFyIHR5cGUgPSB0aGVtZS5yYW5nZVNlbGVjdG9yICYmIHRoZW1lLnJhbmdlU2VsZWN0b3IuZWRnZSAmJiB0aGVtZS5yYW5nZVNlbGVjdG9yLmVkZ2UudHlwZSB8fCAnZGlzYyc7XG4gIHZhciBub2RlO1xuXG4gIGlmICh0eXBlID09PSAnYmFyJykge1xuICAgIG5vZGUgPSBSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwge1xuICAgICAgZmxleDogdHJ1ZSxcbiAgICAgIGp1c3RpZnlTZWxmOiBcInN0cmV0Y2hcIixcbiAgICAgIHdpZHRoOiBzaXplICsgXCJweFwiLFxuICAgICAgYmFja2dyb3VuZDogbm9ybWFsaXplQ29sb3IoY29sb3IgfHwgJ2NvbnRyb2wnLCB0aGVtZSksXG4gICAgICBib3JkZXI6IGZvY3VzZWQgPyB7XG4gICAgICAgIGNvbG9yOiBub3JtYWxpemVDb2xvcignZm9jdXMnLCB0aGVtZSlcbiAgICAgIH0gOiB1bmRlZmluZWRcbiAgICB9KTtcbiAgfSBlbHNlIGlmICh0eXBlID09PSAnZGlzYycpIHtcbiAgICBub2RlID0gUmVhY3QuY3JlYXRlRWxlbWVudChCb3gsIHtcbiAgICAgIHdpZHRoOiBzaXplICsgKGZvY3VzZWQgPyAyIDogMCkgKyBcInB4XCIsXG4gICAgICBoZWlnaHQ6IHNpemUgKyAoZm9jdXNlZCA/IDIgOiAwKSArIFwicHhcIixcbiAgICAgIHJvdW5kOiBcImZ1bGxcIixcbiAgICAgIGJhY2tncm91bmQ6IG5vcm1hbGl6ZUNvbG9yKGNvbG9yIHx8ICdjb250cm9sJywgdGhlbWUpLFxuICAgICAgYm9yZGVyOiBmb2N1c2VkID8ge1xuICAgICAgICBjb2xvcjogbm9ybWFsaXplQ29sb3IoJ2ZvY3VzJywgdGhlbWUpXG4gICAgICB9IDogdW5kZWZpbmVkXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgbm9kZSA9IHR5cGU7XG4gIH1cblxuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChLZXlib2FyZCwga2V5Ym9hcmRQcm9wcywgUmVhY3QuY3JlYXRlRWxlbWVudChCb3gsIHtcbiAgICBkaXJlY3Rpb246IGJveERpcmVjdGlvbixcbiAgICBzdHlsZToge1xuICAgICAgZmxleDogJzAgMCAxcHgnXG4gICAgfSxcbiAgICBvdmVyZmxvdzogXCJ2aXNpYmxlXCIsXG4gICAgYWxpZ246IFwiY2VudGVyXCIsXG4gICAganVzdGlmeTogXCJjZW50ZXJcIlxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwgX2V4dGVuZHMoe1xuICAgIHJlZjogZm9yd2FyZFJlZixcbiAgICBkaXJlY3Rpb246IGJveERpcmVjdGlvbixcbiAgICBqdXN0aWZ5OiBcImNlbnRlclwiLFxuICAgIGFsaWduOiBcImNlbnRlclwiLFxuICAgIGJhc2lzOiBcImZ1bGxcIixcbiAgICBmaWxsOiBmaWxsLFxuICAgIHN0eWxlOiB7XG4gICAgICBjdXJzb3I6IGN1cnNvcixcbiAgICAgIG1pbldpZHRoOiBzaXplLFxuICAgICAgbWluSGVpZ2h0OiBzaXplLFxuICAgICAgekluZGV4OiAxMFxuICAgIH0sXG4gICAgdGFiSW5kZXg6IDAsXG4gICAgb25Gb2N1czogZnVuY3Rpb24gb25Gb2N1cygpIHtcbiAgICAgIHJldHVybiBzZXRGb2N1c2VkKHRydWUpO1xuICAgIH0sXG4gICAgb25CbHVyOiBmdW5jdGlvbiBvbkJsdXIoKSB7XG4gICAgICByZXR1cm4gc2V0Rm9jdXNlZChmYWxzZSk7XG4gICAgfVxuICB9LCByZXN0KSwgbm9kZSkpKTtcbn07XG5cbkVkZ2VDb250cm9sLmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKEVkZ2VDb250cm9sLmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbnZhciBFZGdlQ29udHJvbFdyYXBwZXIgPSBjb21wb3NlKHdpdGhGb3J3YXJkUmVmLCB3aXRoVGhlbWUpKEVkZ2VDb250cm9sKTtcbmV4cG9ydCB7IEVkZ2VDb250cm9sV3JhcHBlciBhcyBFZGdlQ29udHJvbCB9OyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0c0xvb3NlKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcy5wcm90b3R5cGUpOyBzdWJDbGFzcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBzdWJDbGFzczsgc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5pbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY29tcG9zZSB9IGZyb20gJ3JlY29tcG9zZSc7XG5pbXBvcnQgc3R5bGVkIGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCB7IFRoZW1lQ29udGV4dCB9IGZyb20gJy4uLy4uL2NvbnRleHRzJztcbmltcG9ydCB7IEJveCB9IGZyb20gJy4uL0JveCc7XG5pbXBvcnQgeyB3aXRoRm9yd2FyZFJlZiB9IGZyb20gJy4uL2hvY3MnO1xuaW1wb3J0IHsgRWRnZUNvbnRyb2wgfSBmcm9tICcuL0VkZ2VDb250cm9sJztcbnZhciBDb250YWluZXIgPSBzdHlsZWQoQm94KS53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiUmFuZ2VTZWxlY3Rvcl9fQ29udGFpbmVyXCIsXG4gIGNvbXBvbmVudElkOiBcInNpb2Y1cC0wXCJcbn0pKFtcInVzZXItc2VsZWN0Om5vbmU7XCJdKTtcblxudmFyIFJhbmdlU2VsZWN0b3IgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoUmFuZ2VTZWxlY3RvciwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gUmFuZ2VTZWxlY3RvcigpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgX3RoaXMgPSBfQ29tcG9uZW50LmNhbGwuYXBwbHkoX0NvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChhcmdzKSkgfHwgdGhpcztcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJzdGF0ZVwiLCB7fSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiY29udGFpbmVyUmVmXCIsIFJlYWN0LmNyZWF0ZVJlZigpKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJ2YWx1ZUZvck1vdXNlQ29vcmRcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBkaXJlY3Rpb24gPSBfdGhpcyRwcm9wcy5kaXJlY3Rpb24sXG4gICAgICAgICAgbWF4ID0gX3RoaXMkcHJvcHMubWF4LFxuICAgICAgICAgIG1pbiA9IF90aGlzJHByb3BzLm1pbixcbiAgICAgICAgICBzdGVwID0gX3RoaXMkcHJvcHMuc3RlcDtcblxuICAgICAgdmFyIHJlY3QgPSBfdGhpcy5jb250YWluZXJSZWYuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgdmFyIHZhbHVlO1xuXG4gICAgICBpZiAoZGlyZWN0aW9uID09PSAndmVydGljYWwnKSB7XG4gICAgICAgIC8vIHRoZXJlIGlzIG5vIHggYW5kIHkgaW4gdW5pdCB0ZXN0aW5nXG4gICAgICAgIHZhciB5ID0gZXZlbnQuY2xpZW50WSAtIChyZWN0LnRvcCB8fCAwKTsgLy8gdW5pdCB0ZXN0IHJlc2lsaWVuY2VcblxuICAgICAgICB2YXIgc2NhbGVZID0gcmVjdC5oZWlnaHQgLyAobWF4IC0gbWluICsgMSkgfHwgMTsgLy8gdW5pdCB0ZXN0IHJlc2lsaWVuY2VcblxuICAgICAgICB2YWx1ZSA9IE1hdGguZmxvb3IoeSAvIHNjYWxlWSkgKyBtaW47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgeCA9IGV2ZW50LmNsaWVudFggLSAocmVjdC5sZWZ0IHx8IDApOyAvLyB1bml0IHRlc3QgcmVzaWxpZW5jZVxuXG4gICAgICAgIHZhciBzY2FsZVggPSByZWN0LndpZHRoIC8gKG1heCAtIG1pbiArIDEpIHx8IDE7IC8vIHVuaXQgdGVzdCByZXNpbGllbmNlXG5cbiAgICAgICAgdmFsdWUgPSBNYXRoLmZsb29yKHggLyBzY2FsZVgpICsgbWluO1xuICAgICAgfSAvLyBhbGlnbiB3aXRoIGNsb3Nlc3Qgc3RlcCB3aXRoaW4gW21pbiwgbWF4XVxuXG5cbiAgICAgIHZhciByZXN1bHQgPSBNYXRoLmNlaWwodmFsdWUgLyBzdGVwKSAqIHN0ZXA7XG5cbiAgICAgIGlmIChyZXN1bHQgPCBtaW4pIHtcbiAgICAgICAgcmV0dXJuIG1pbjtcbiAgICAgIH1cblxuICAgICAgaWYgKHJlc3VsdCA+IG1heCkge1xuICAgICAgICByZXR1cm4gbWF4O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIm9uQ2xpY2tcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMyID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgb25DaGFuZ2UgPSBfdGhpcyRwcm9wczIub25DaGFuZ2UsXG4gICAgICAgICAgdmFsdWVzID0gX3RoaXMkcHJvcHMyLnZhbHVlcztcbiAgICAgIHZhciBsYXN0Q2hhbmdlID0gX3RoaXMuc3RhdGUubGFzdENoYW5nZTtcblxuICAgICAgdmFyIHZhbHVlID0gX3RoaXMudmFsdWVGb3JNb3VzZUNvb3JkKGV2ZW50KTtcblxuICAgICAgaWYgKHZhbHVlIDw9IHZhbHVlc1swXSB8fCB2YWx1ZSA8IHZhbHVlc1sxXSAmJiBsYXN0Q2hhbmdlID09PSAnbG93ZXInKSB7XG4gICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBsYXN0Q2hhbmdlOiAnbG93ZXInXG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gb25DaGFuZ2UoW3ZhbHVlLCB2YWx1ZXNbMV1dKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlID49IHZhbHVlc1sxXSB8fCB2YWx1ZSA+IHZhbHVlc1swXSAmJiBsYXN0Q2hhbmdlID09PSAndXBwZXInKSB7XG4gICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBsYXN0Q2hhbmdlOiAndXBwZXInXG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gb25DaGFuZ2UoW3ZhbHVlc1swXSwgdmFsdWVdKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwibG93ZXJNb3VzZURvd25cIiwgZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBjaGFuZ2luZzogJ2xvd2VyJ1xuICAgICAgfSk7XG5cbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBfdGhpcy5tb3VzZU1vdmUpO1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBfdGhpcy5tb3VzZVVwKTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJ1cHBlck1vdXNlRG93blwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGNoYW5naW5nOiAndXBwZXInXG4gICAgICB9KTtcblxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIF90aGlzLm1vdXNlTW92ZSk7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIF90aGlzLm1vdXNlVXApO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcInNlbGVjdGlvbk1vdXNlRG93blwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBtb3ZlVmFsdWUgPSBfdGhpcy52YWx1ZUZvck1vdXNlQ29vcmQoZXZlbnQpO1xuXG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGNoYW5naW5nOiAnc2VsZWN0aW9uJyxcbiAgICAgICAgbW92ZVZhbHVlOiBtb3ZlVmFsdWVcbiAgICAgIH0pO1xuXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgX3RoaXMubW91c2VNb3ZlKTtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgX3RoaXMubW91c2VVcCk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwibW91c2VNb3ZlXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzMyA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIG1heCA9IF90aGlzJHByb3BzMy5tYXgsXG4gICAgICAgICAgbWluID0gX3RoaXMkcHJvcHMzLm1pbixcbiAgICAgICAgICBvbkNoYW5nZSA9IF90aGlzJHByb3BzMy5vbkNoYW5nZSxcbiAgICAgICAgICB2YWx1ZXMgPSBfdGhpcyRwcm9wczMudmFsdWVzO1xuICAgICAgdmFyIF90aGlzJHN0YXRlID0gX3RoaXMuc3RhdGUsXG4gICAgICAgICAgY2hhbmdpbmcgPSBfdGhpcyRzdGF0ZS5jaGFuZ2luZyxcbiAgICAgICAgICBtb3ZlVmFsdWUgPSBfdGhpcyRzdGF0ZS5tb3ZlVmFsdWU7XG5cbiAgICAgIHZhciB2YWx1ZSA9IF90aGlzLnZhbHVlRm9yTW91c2VDb29yZChldmVudCk7XG5cbiAgICAgIHZhciBuZXh0VmFsdWVzO1xuXG4gICAgICBpZiAoY2hhbmdpbmcgPT09ICdsb3dlcicgJiYgdmFsdWUgPD0gdmFsdWVzWzFdICYmIHZhbHVlICE9PSBtb3ZlVmFsdWUpIHtcbiAgICAgICAgbmV4dFZhbHVlcyA9IFt2YWx1ZSwgdmFsdWVzWzFdXTtcbiAgICAgIH0gZWxzZSBpZiAoY2hhbmdpbmcgPT09ICd1cHBlcicgJiYgdmFsdWUgPj0gdmFsdWVzWzBdICYmIHZhbHVlICE9PSBtb3ZlVmFsdWUpIHtcbiAgICAgICAgbmV4dFZhbHVlcyA9IFt2YWx1ZXNbMF0sIHZhbHVlXTtcbiAgICAgIH0gZWxzZSBpZiAoY2hhbmdpbmcgPT09ICdzZWxlY3Rpb24nICYmIHZhbHVlICE9PSBtb3ZlVmFsdWUpIHtcbiAgICAgICAgdmFyIGRlbHRhID0gdmFsdWUgLSBtb3ZlVmFsdWU7XG5cbiAgICAgICAgaWYgKHZhbHVlc1swXSArIGRlbHRhID49IG1pbiAmJiB2YWx1ZXNbMV0gKyBkZWx0YSA8PSBtYXgpIHtcbiAgICAgICAgICBuZXh0VmFsdWVzID0gW3ZhbHVlc1swXSArIGRlbHRhLCB2YWx1ZXNbMV0gKyBkZWx0YV07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKG5leHRWYWx1ZXMpIHtcbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGxhc3RDaGFuZ2U6IGNoYW5naW5nLFxuICAgICAgICAgIG1vdmVWYWx1ZTogdmFsdWVcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIG9uQ2hhbmdlKG5leHRWYWx1ZXMpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJtb3VzZVVwXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgY2hhbmdpbmc6IHVuZGVmaW5lZFxuICAgICAgfSk7XG5cbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBfdGhpcy5tb3VzZU1vdmUpO1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBfdGhpcy5tb3VzZVVwKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBSYW5nZVNlbGVjdG9yLnByb3RvdHlwZTtcblxuICBfcHJvdG8uY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5tb3VzZU1vdmUpO1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5tb3VzZVVwKTtcbiAgfTtcblxuICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfdGhpcyRwcm9wczQgPSB0aGlzLnByb3BzLFxuICAgICAgICBjb2xvciA9IF90aGlzJHByb3BzNC5jb2xvcixcbiAgICAgICAgZGlyZWN0aW9uID0gX3RoaXMkcHJvcHM0LmRpcmVjdGlvbixcbiAgICAgICAgZm9yd2FyZFJlZiA9IF90aGlzJHByb3BzNC5mb3J3YXJkUmVmLFxuICAgICAgICBpbnZlcnQgPSBfdGhpcyRwcm9wczQuaW52ZXJ0LFxuICAgICAgICBtYXggPSBfdGhpcyRwcm9wczQubWF4LFxuICAgICAgICBtZXNzYWdlcyA9IF90aGlzJHByb3BzNC5tZXNzYWdlcyxcbiAgICAgICAgbWluID0gX3RoaXMkcHJvcHM0Lm1pbixcbiAgICAgICAgb25DaGFuZ2UgPSBfdGhpcyRwcm9wczQub25DaGFuZ2UsXG4gICAgICAgIG9wYWNpdHkgPSBfdGhpcyRwcm9wczQub3BhY2l0eSxcbiAgICAgICAgcm91bmQgPSBfdGhpcyRwcm9wczQucm91bmQsXG4gICAgICAgIHNpemUgPSBfdGhpcyRwcm9wczQuc2l6ZSxcbiAgICAgICAgc3RlcCA9IF90aGlzJHByb3BzNC5zdGVwLFxuICAgICAgICB2YWx1ZXMgPSBfdGhpcyRwcm9wczQudmFsdWVzLFxuICAgICAgICBwcm9wc1RoZW1lID0gX3RoaXMkcHJvcHM0LnRoZW1lLFxuICAgICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3RoaXMkcHJvcHM0LCBbXCJjb2xvclwiLCBcImRpcmVjdGlvblwiLCBcImZvcndhcmRSZWZcIiwgXCJpbnZlcnRcIiwgXCJtYXhcIiwgXCJtZXNzYWdlc1wiLCBcIm1pblwiLCBcIm9uQ2hhbmdlXCIsIFwib3BhY2l0eVwiLCBcInJvdW5kXCIsIFwic2l6ZVwiLCBcInN0ZXBcIiwgXCJ2YWx1ZXNcIiwgXCJ0aGVtZVwiXSk7XG5cbiAgICB2YXIgdGhlbWUgPSB0aGlzLmNvbnRleHQgfHwgcHJvcHNUaGVtZTtcbiAgICB2YXIgX3RoaXMkc3RhdGUyID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgbmV4dExvd2VyID0gX3RoaXMkc3RhdGUyLm5leHRMb3dlcixcbiAgICAgICAgbmV4dFVwcGVyID0gX3RoaXMkc3RhdGUyLm5leHRVcHBlcjtcbiAgICB2YXIgbG93ZXIgPSBuZXh0TG93ZXIgIT09IHVuZGVmaW5lZCA/IG5leHRMb3dlciA6IHZhbHVlc1swXTtcbiAgICB2YXIgdXBwZXIgPSBuZXh0VXBwZXIgIT09IHVuZGVmaW5lZCA/IG5leHRVcHBlciA6IHZhbHVlc1sxXTsgLy8gSXQgbmVlZHMgdG8gYmUgdHJ1ZSB3aGVuIHZlcnRpY2FsLCBkdWUgdG8gaG93IGJyb3dzZXJzIG1hbmFnZSBoZWlnaHRcblxuICAgIHZhciBmaWxsID0gZGlyZWN0aW9uID09PSAndmVydGljYWwnID8gdHJ1ZSA6ICd2ZXJ0aWNhbCc7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29udGFpbmVyLCBfZXh0ZW5kcyh7XG4gICAgICByZWY6IHRoaXMuY29udGFpbmVyUmVmLFxuICAgICAgZGlyZWN0aW9uOiBkaXJlY3Rpb24gPT09ICd2ZXJ0aWNhbCcgPyAnY29sdW1uJyA6ICdyb3cnLFxuICAgICAgZmlsbDogZmlsbFxuICAgIH0sIHJlc3QsIHtcbiAgICAgIHRhYkluZGV4OiBcIi0xXCIsXG4gICAgICBvbkNsaWNrOiBvbkNoYW5nZSA/IHRoaXMub25DbGljayA6IHVuZGVmaW5lZFxuICAgIH0pLCBSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwge1xuICAgICAgc3R5bGU6IHtcbiAgICAgICAgZmxleDogbG93ZXIgLSBtaW4gKyBcIiAwIDBcIlxuICAgICAgfSxcbiAgICAgIGJhY2tncm91bmQ6IGludmVydCA/IC8vIHByZXNlcnZlIGV4aXN0aW5nIGRhcmssIGluc3RlYWQgb2YgdXNpbmcgZGFya25lc1xuICAgICAgLy8gb2YgdGhpcyBjb2xvclxuICAgICAge1xuICAgICAgICBjb2xvcjogY29sb3IgfHwgdGhlbWUucmFuZ2VTZWxlY3Rvci5iYWNrZ3JvdW5kLmludmVydC5jb2xvcixcbiAgICAgICAgb3BhY2l0eTogb3BhY2l0eSxcbiAgICAgICAgZGFyazogdGhlbWUuZGFya1xuICAgICAgfSA6IHVuZGVmaW5lZCxcbiAgICAgIGZpbGw6IGZpbGwsXG4gICAgICByb3VuZDogcm91bmRcbiAgICB9KSwgUmVhY3QuY3JlYXRlRWxlbWVudChFZGdlQ29udHJvbCwge1xuICAgICAgYTExeVRpdGxlOiBtZXNzYWdlcy5sb3dlcixcbiAgICAgIHRhYkluZGV4OiAwLFxuICAgICAgcmVmOiBmb3J3YXJkUmVmLFxuICAgICAgY29sb3I6IGNvbG9yLFxuICAgICAgZGlyZWN0aW9uOiBkaXJlY3Rpb24sXG4gICAgICBlZGdlOiBcImxvd2VyXCIsXG4gICAgICBvbk1vdXNlRG93bjogb25DaGFuZ2UgPyB0aGlzLmxvd2VyTW91c2VEb3duIDogdW5kZWZpbmVkLFxuICAgICAgb25EZWNyZWFzZTogb25DaGFuZ2UgJiYgbG93ZXIgLSBzdGVwID49IG1pbiA/IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG9uQ2hhbmdlKFtsb3dlciAtIHN0ZXAsIHVwcGVyXSk7XG4gICAgICB9IDogdW5kZWZpbmVkLFxuICAgICAgb25JbmNyZWFzZTogb25DaGFuZ2UgJiYgbG93ZXIgKyBzdGVwIDw9IHVwcGVyID8gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gb25DaGFuZ2UoW2xvd2VyICsgc3RlcCwgdXBwZXJdKTtcbiAgICAgIH0gOiB1bmRlZmluZWRcbiAgICB9KSwgUmVhY3QuY3JlYXRlRWxlbWVudChCb3gsIHtcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIGZsZXg6IHVwcGVyIC0gbG93ZXIgKyAxICsgXCIgMCAwXCIsXG4gICAgICAgIGN1cnNvcjogZGlyZWN0aW9uID09PSAndmVydGljYWwnID8gJ25zLXJlc2l6ZScgOiAnZXctcmVzaXplJ1xuICAgICAgfSxcbiAgICAgIGJhY2tncm91bmQ6IGludmVydCA/IHVuZGVmaW5lZCA6IC8vIHByZXNlcnZlIGV4aXN0aW5nIGRhcmssIGluc3RlYWQgb2YgdXNpbmcgZGFya25lcyBvZlxuICAgICAgLy8gdGhpcyBjb2xvclxuICAgICAge1xuICAgICAgICBjb2xvcjogY29sb3IgfHwgJ2NvbnRyb2wnLFxuICAgICAgICBvcGFjaXR5OiBvcGFjaXR5LFxuICAgICAgICBkYXJrOiB0aGVtZS5kYXJrXG4gICAgICB9LFxuICAgICAgZmlsbDogZmlsbCxcbiAgICAgIHJvdW5kOiByb3VuZCxcbiAgICAgIG9uTW91c2VEb3duOiBvbkNoYW5nZSA/IHRoaXMuc2VsZWN0aW9uTW91c2VEb3duIDogdW5kZWZpbmVkXG4gICAgfSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRWRnZUNvbnRyb2wsIHtcbiAgICAgIGExMXlUaXRsZTogbWVzc2FnZXMudXBwZXIsXG4gICAgICB0YWJJbmRleDogMCxcbiAgICAgIGNvbG9yOiBjb2xvcixcbiAgICAgIGRpcmVjdGlvbjogZGlyZWN0aW9uLFxuICAgICAgZWRnZTogXCJ1cHBlclwiLFxuICAgICAgb25Nb3VzZURvd246IG9uQ2hhbmdlID8gdGhpcy51cHBlck1vdXNlRG93biA6IHVuZGVmaW5lZCxcbiAgICAgIG9uRGVjcmVhc2U6IG9uQ2hhbmdlICYmIHVwcGVyIC0gc3RlcCA+PSBsb3dlciA/IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG9uQ2hhbmdlKFtsb3dlciwgdXBwZXIgLSBzdGVwXSk7XG4gICAgICB9IDogdW5kZWZpbmVkLFxuICAgICAgb25JbmNyZWFzZTogb25DaGFuZ2UgJiYgdXBwZXIgKyBzdGVwIDw9IG1heCA/IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG9uQ2hhbmdlKFtsb3dlciwgdXBwZXIgKyBzdGVwXSk7XG4gICAgICB9IDogdW5kZWZpbmVkXG4gICAgfSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQm94LCB7XG4gICAgICBzdHlsZToge1xuICAgICAgICBmbGV4OiBtYXggLSB1cHBlciArIFwiIDAgMFwiXG4gICAgICB9LFxuICAgICAgYmFja2dyb3VuZDogaW52ZXJ0ID8gLy8gcHJlc2VydmUgZXhpc3RpbmcgZGFyaywgaW5zdGVhZCBvZiB1c2luZyBkYXJrbmVzIG9mIHRoaXNcbiAgICAgIC8vIGNvbG9yXG4gICAgICB7XG4gICAgICAgIGNvbG9yOiBjb2xvciB8fCB0aGVtZS5yYW5nZVNlbGVjdG9yLmJhY2tncm91bmQuaW52ZXJ0LmNvbG9yLFxuICAgICAgICBvcGFjaXR5OiBvcGFjaXR5LFxuICAgICAgICBkYXJrOiB0aGVtZS5kYXJrXG4gICAgICB9IDogdW5kZWZpbmVkLFxuICAgICAgZmlsbDogZmlsbCxcbiAgICAgIHJvdW5kOiByb3VuZFxuICAgIH0pKTtcbiAgfTtcblxuICByZXR1cm4gUmFuZ2VTZWxlY3Rvcjtcbn0oQ29tcG9uZW50KTtcblxuX2RlZmluZVByb3BlcnR5KFJhbmdlU2VsZWN0b3IsIFwiY29udGV4dFR5cGVcIiwgVGhlbWVDb250ZXh0KTtcblxuX2RlZmluZVByb3BlcnR5KFJhbmdlU2VsZWN0b3IsIFwiZGVmYXVsdFByb3BzXCIsIHtcbiAgZGlyZWN0aW9uOiAnaG9yaXpvbnRhbCcsXG4gIG1heDogMTAwLFxuICBtZXNzYWdlczoge1xuICAgIGxvd2VyOiAnTG93ZXIgQm91bmRzJyxcbiAgICB1cHBlcjogJ1VwcGVyIEJvdW5kcydcbiAgfSxcbiAgbWluOiAwLFxuICBvcGFjaXR5OiAnbWVkaXVtJyxcbiAgc2l6ZTogJ21lZGl1bScsXG4gIHN0ZXA6IDEsXG4gIHZhbHVlczogW11cbn0pO1xuXG52YXIgUmFuZ2VTZWxlY3RvckRvYztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGdsb2JhbC1yZXF1aXJlXG4gIFJhbmdlU2VsZWN0b3JEb2MgPSByZXF1aXJlKCcuL2RvYycpLmRvYyhSYW5nZVNlbGVjdG9yKTtcbn1cblxudmFyIFJhbmdlU2VsZWN0b3JXcmFwcGVyID0gY29tcG9zZSh3aXRoRm9yd2FyZFJlZikoUmFuZ2VTZWxlY3RvckRvYyB8fCBSYW5nZVNlbGVjdG9yKTtcbmV4cG9ydCB7IFJhbmdlU2VsZWN0b3JXcmFwcGVyIGFzIFJhbmdlU2VsZWN0b3IgfTsiLCJpbXBvcnQgeyBkZXNjcmliZSwgUHJvcFR5cGVzIH0gZnJvbSAncmVhY3QtZGVzYyc7XG5pbXBvcnQgeyBjb2xvclByb3BUeXBlLCBnZXRBdmFpbGFibGVBdEJhZGdlIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuZXhwb3J0IHZhciBkb2MgPSBmdW5jdGlvbiBkb2MoUmFuZ2VTZWxlY3Rvcikge1xuICB2YXIgRG9jdW1lbnRlZFJhbmdlU2VsZWN0b3IgPSBkZXNjcmliZShSYW5nZVNlbGVjdG9yKS5hdmFpbGFibGVBdChnZXRBdmFpbGFibGVBdEJhZGdlKCdSYW5nZVNlbGVjdG9yJykpLmRlc2NyaXB0aW9uKCdBIGNvbnRyb2wgdG8gaW5wdXQgYSByYW5nZSBvZiB2YWx1ZXMuJykudXNhZ2UoXCJpbXBvcnQgeyBSYW5nZVNlbGVjdG9yIH0gZnJvbSAnZ3JvbW1ldCc7XFxuPFJhbmdlU2VsZWN0b3IgLz5cIikuaW50cmluc2ljRWxlbWVudCgnZGl2Jyk7XG4gIERvY3VtZW50ZWRSYW5nZVNlbGVjdG9yLnByb3BUeXBlcyA9IHtcbiAgICBjb2xvcjogY29sb3JQcm9wVHlwZS5kZXNjcmlwdGlvbignV2hhdCBjb2xvciB0byB1c2UgdG8gaW5kaWNhdGUgdGhlIHNlbGVjdGlvbi4nKSxcbiAgICBkaXJlY3Rpb246IFByb3BUeXBlcy5vbmVPZihbJ2hvcml6b250YWwnLCAndmVydGljYWwnXSkuZGVzY3JpcHRpb24oJycpLmRlZmF1bHRWYWx1ZSgnaG9yaXpvbnRhbCcpLFxuICAgIGludmVydDogUHJvcFR5cGVzLmJvb2wuZGVzY3JpcHRpb24oJ1doZXRoZXIgdG8gaW5kaWNhdGUgd2hhdCBoYXMgbm90IGJlZW4gc2VsZWN0ZWQuJyksXG4gICAgbWF4OiBQcm9wVHlwZXMubnVtYmVyLmRlc2NyaXB0aW9uKCdUaGUgbWF4aW11bSB2YWx1ZSBwZXJtaXR0ZWQuJykuZGVmYXVsdFZhbHVlKDEwMCksXG4gICAgbWVzc2FnZXM6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICBsb3dlcjogUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgIHVwcGVyOiBQcm9wVHlwZXMuc3RyaW5nXG4gICAgfSkuZGVzY3JpcHRpb24oJ0N1c3RvbSBtZXNzYWdlcyB1c2VkIGJ5IHNjcmVlbiByZWFkZXJzIGZvciBhY2Nlc3NpYmlsaXR5LicpLFxuICAgIG1pbjogUHJvcFR5cGVzLm51bWJlci5kZXNjcmlwdGlvbignVGhlIG1pbmltdW0gdmFsdWUgcGVybWl0dGVkLicpLmRlZmF1bHRWYWx1ZSgwKSxcbiAgICBvbkNoYW5nZTogUHJvcFR5cGVzLmZ1bmMuZGVzY3JpcHRpb24oXCJGdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIHVzZXIgY2hhbmdlcyBvbmUgb2YgdGhlXFxuICAgICAgdmFsdWVzLiBJdCB3aWxsIGJlIHBhc3NlZCBhbiBhcnJheSBvZiB0d28gbnVtYmVycyBpbmRpY2F0aW5nXFxuICAgICAgdGhlIG5ldyB2YWx1ZXMgc2VsZWN0ZWQuXCIpLFxuICAgIG9wYWNpdHk6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbJ3dlYWsnLCAnbWVkaXVtJywgJ3N0cm9uZyddKSwgUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLmJvb2xdKS5kZXNjcmlwdGlvbignVHJhbnNwYXJlbmN5IG9mIHRoZSBzZWxlY3Rpb24gaW5kaWNhdG9yLicpLmRlZmF1bHRWYWx1ZSgnbWVkaXVtJyksXG4gICAgcm91bmQ6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbJ3hzbWFsbCcsICdzbWFsbCcsICdtZWRpdW0nLCAnbGFyZ2UnLCAnZnVsbCddKSwgUHJvcFR5cGVzLnN0cmluZ10pLmRlc2NyaXB0aW9uKCdIb3cgbXVjaCB0byByb3VuZCB0aGUgY29ybmVycy4nKSxcbiAgICBzaXplOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2YoWyd4eHNtYWxsJywgJ3hzbWFsbCcsICdzbWFsbCcsICdtZWRpdW0nLCAnbGFyZ2UnLCAneGxhcmdlJywgJ2Z1bGwnXSksIFByb3BUeXBlcy5zdHJpbmddKS5kZXNjcmlwdGlvbignSG93IHRoaWNrIHRvIG1ha2UgdGhlIHNlbGVjdGlvbiBpbmRpY2F0b3IuJykuZGVmYXVsdFZhbHVlKCdtZWRpdW0nKSxcbiAgICBzdGVwOiBQcm9wVHlwZXMubnVtYmVyLmRlc2NyaXB0aW9uKCdUaGUgc3RlcCBpbnRlcnZhbCBiZXR3ZWVuIHZhbHVlcy4nKS5kZWZhdWx0VmFsdWUoMSksXG4gICAgdmFsdWVzOiBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMubnVtYmVyKS5kZXNjcmlwdGlvbignVGhlIGN1cnJlbnQgdmFsdWVzLicpLmlzUmVxdWlyZWRcbiAgfTtcbiAgcmV0dXJuIERvY3VtZW50ZWRSYW5nZVNlbGVjdG9yO1xufTtcbmV4cG9ydCB2YXIgdGhlbWVEb2MgPSB7XG4gICdnbG9iYWwuYm9yZGVyU2l6ZSc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBzaXplIG9mIHRoZSBib3JkZXIuJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6IFwie1xcbiAgICAgIHhzbWFsbDogJzFweCcsXFxuICAgICAgc21hbGw6ICcycHgnLFxcbiAgICAgIG1lZGl1bTogJzRweCcsXFxuICAgICAgbGFyZ2U6ICcxMnB4JyxcXG4gICAgICB4bGFyZ2U6ICcyNHB4LFxcbiAgICB9XCJcbiAgfSxcbiAgJ2dsb2JhbC5jb2xvcnMuYm9yZGVyJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGNvbG9yIGZvciB0aGUgYm9yZGVyLicsXG4gICAgdHlwZTogJ3N0cmluZyB8IHsgZGFyazogc3RyaW5nLCBsaWdodDogc3RyaW5nIH0nLFxuICAgIGRlZmF1bHRWYWx1ZToge1xuICAgICAgZGFyazogJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC4zMyknLFxuICAgICAgbGlnaHQ6ICdyZ2JhKDAsIDAsIDAsIDAuMzMpJ1xuICAgIH1cbiAgfSxcbiAgJ2dsb2JhbC5jb2xvcnMuY29udHJvbCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBjb2xvciBmb3IgdGhlIGVkZ2UgY29udHJvbHMuJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgeyBkYXJrOiBzdHJpbmcsIGxpZ2h0OiBzdHJpbmcgfScsXG4gICAgZGVmYXVsdFZhbHVlOiAne2Rhcms6IGFjY2VudC0xLCBsaWdodDogYnJhbmR9J1xuICB9LFxuICAnZ2xvYmFsLmNvbG9ycy5mb2N1cyc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBjb2xvciBvZiB0aGUgZm9jdXMuJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICdhY2NlbnQtMSdcbiAgfSxcbiAgJ2dsb2JhbC5lZGdlU2l6ZS5zbWFsbCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBwb3NzaWJsZSBzaXplcyBmb3IgdGhlIG1hcmdpbiwgcGFkZGluZyBhbmQgZ2FwLicsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiAnNnB4J1xuICB9LFxuICAncmFuZ2VTZWxlY3Rvci5iYWNrZ3JvdW5kLmludmVydC5jb2xvcic6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBiYWNrZ3JvdW5kIGNvbG9yIG9uIGFuIGludmVydCBkaXNwbGF5LicsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiAnbGlnaHQtNCdcbiAgfSxcbiAgJ3JhbmdlU2VsZWN0b3IuZWRnZS50eXBlJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGVkZ2UgY29udHJvbCB0eXBlLicsXG4gICAgdHlwZTogXCInYmFyJyB8ICdkaXNjJyB8IG5vZGVcIixcbiAgICBkZWZhdWx0VmFsdWU6IHVuZGVmaW5lZFxuICB9LFxuICAnZ2xvYmFsLnNwYWNpbmcnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgc2l6ZSBvZiB0aGUgZWRnZSBjb250cm9scyB0aHVtYi4nLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogJzI0cHgnXG4gIH1cbn07IiwiZXhwb3J0IHsgUmFuZ2VTZWxlY3RvciB9IGZyb20gJy4vUmFuZ2VTZWxlY3Rvcic7IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHNMb29zZShzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MucHJvdG90eXBlKTsgc3ViQ2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gc3ViQ2xhc3M7IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgeyBBbmNob3IgfSBmcm9tICcuLi9BbmNob3InO1xuXG52YXIgUm91dGVkQW5jaG9yID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKFJvdXRlZEFuY2hvciwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gUm91dGVkQW5jaG9yKCkge1xuICAgIHJldHVybiBfQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBSb3V0ZWRBbmNob3IucHJvdG90eXBlO1xuXG4gIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHZhciBfdGhpcyRwcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgIHBhdGggPSBfdGhpcyRwcm9wcy5wYXRoLFxuICAgICAgICBtZXRob2QgPSBfdGhpcyRwcm9wcy5tZXRob2QsXG4gICAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfdGhpcyRwcm9wcywgW1wicGF0aFwiLCBcIm1ldGhvZFwiXSk7XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgY29uc29sZS53YXJuKFwiVGhpcyBjb21wb25lbnQgd2lsbCBiZSBkZXByZWNhdGVkIGluIHRoZSB1cGNvbWluZyByZWxlYXNlcy4gXFxuICAgICAgICBQbGVhc2UgcmVmZXIgdG8gaHR0cHM6Ly9naXRodWIuY29tL2dyb21tZXQvZ3JvbW1ldC9pc3N1ZXMvMjg1NSBcXG4gICAgICAgIGZvciBtb3JlIGluZm9ybWF0aW9uLlwiKTtcbiAgICB9XG5cbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChBbmNob3IsIF9leHRlbmRzKHt9LCByZXN0LCB7XG4gICAgICBocmVmOiBwYXRoLFxuICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljayhldmVudCkge1xuICAgICAgICB2YXIgb25DbGljayA9IF90aGlzLnByb3BzLm9uQ2xpY2s7XG4gICAgICAgIHZhciByb3V0ZXIgPSBfdGhpcy5jb250ZXh0LnJvdXRlcjtcblxuICAgICAgICBpZiAoZXZlbnQpIHtcbiAgICAgICAgICB2YXIgbW9kaWZpZXJLZXkgPSBldmVudC5jdHJsS2V5IHx8IGV2ZW50Lm1ldGFLZXk7IC8vIGlmIHRoZSB1c2VyIHJpZ2h0LWNsaWNrZWQgaW4gdGhlIEFuY2hvciB3ZSBzaG91bGQgbGV0IGl0IGdvXG5cbiAgICAgICAgICBpZiAobW9kaWZpZXJLZXkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocm91dGVyKSB7XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAocm91dGVyLmhpc3RvcnkgfHwgcm91dGVyKVttZXRob2RdKHBhdGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9uQ2xpY2spIHtcbiAgICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgICBhcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBvbkNsaWNrLmFwcGx5KHZvaWQgMCwgW2V2ZW50XS5jb25jYXQoYXJncykpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSkpO1xuICB9O1xuXG4gIHJldHVybiBSb3V0ZWRBbmNob3I7XG59KENvbXBvbmVudCk7XG5cbl9kZWZpbmVQcm9wZXJ0eShSb3V0ZWRBbmNob3IsIFwiY29udGV4dFR5cGVzXCIsIHtcbiAgcm91dGVyOiBQcm9wVHlwZXMuc2hhcGUoe30pLmlzUmVxdWlyZWRcbn0pO1xuXG5fZGVmaW5lUHJvcGVydHkoUm91dGVkQW5jaG9yLCBcImRlZmF1bHRQcm9wc1wiLCB7XG4gIG1ldGhvZDogJ3B1c2gnXG59KTtcblxudmFyIFJvdXRlZEFuY2hvckRvYztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGdsb2JhbC1yZXF1aXJlXG4gIFJvdXRlZEFuY2hvckRvYyA9IHJlcXVpcmUoJy4vZG9jJykuZG9jKFJvdXRlZEFuY2hvcik7XG59XG5cbnZhciBSb3V0ZWRBbmNob3JXcmFwcGVyID0gUm91dGVkQW5jaG9yRG9jIHx8IFJvdXRlZEFuY2hvcjtcbmV4cG9ydCB7IFJvdXRlZEFuY2hvcldyYXBwZXIgYXMgUm91dGVkQW5jaG9yIH07IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuaW1wb3J0IHsgZGVzY3JpYmUgfSBmcm9tICdyZWFjdC1kZXNjJztcbmltcG9ydCB7IFJPVVRFUl9QUk9QUywgZ2V0QXZhaWxhYmxlQXRCYWRnZSB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmV4cG9ydCB2YXIgZG9jID0gZnVuY3Rpb24gZG9jKFJvdXRlZEFuY2hvcikge1xuICB2YXIgRG9jdW1lbnRlZFJvdXRlZEFuY2hvciA9IGRlc2NyaWJlKFJvdXRlZEFuY2hvcikuYXZhaWxhYmxlQXQoZ2V0QXZhaWxhYmxlQXRCYWRnZSgnUm91dGVkQW5jaG9yJykpLmRlc2NyaXB0aW9uKCdBbiBBbmNob3Igd2l0aCBzdXBwb3J0IGZvciBSZWFjdCBSb3V0ZXIuJykudXNhZ2UoXCJpbXBvcnQgeyBSb3V0ZWRBbmNob3IgfSBmcm9tICdncm9tbWV0JztcXG5cIiArIFwiPFJvdXRlZEFuY2hvciBwcmltYXJ5IHBhdGg9Jy9kb2N1bWVudGF0aW9uJyAvPlwiKS5pbnRyaW5zaWNFbGVtZW50KCdhJyk7XG4gIERvY3VtZW50ZWRSb3V0ZWRBbmNob3IucHJvcFR5cGVzID0gX2V4dGVuZHMoe30sIFJPVVRFUl9QUk9QUyk7XG4gIHJldHVybiBEb2N1bWVudGVkUm91dGVkQW5jaG9yO1xufTsiLCJleHBvcnQgeyBSb3V0ZWRBbmNob3IgfSBmcm9tICcuL1JvdXRlZEFuY2hvcic7IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzTG9vc2Uoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzLnByb3RvdHlwZSk7IHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzOyBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbmltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnLi4vQnV0dG9uJztcblxudmFyIFJvdXRlZEJ1dHRvbiA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBfaW5oZXJpdHNMb29zZShSb3V0ZWRCdXR0b24sIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFJvdXRlZEJ1dHRvbigpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgX2FyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBfYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBfdGhpcyA9IF9Db21wb25lbnQuY2FsbC5hcHBseShfQ29tcG9uZW50LCBbdGhpc10uY29uY2F0KF9hcmdzKSkgfHwgdGhpcztcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJvbkNsaWNrXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgbWV0aG9kID0gX3RoaXMkcHJvcHMubWV0aG9kLFxuICAgICAgICAgIG9uQ2xpY2sgPSBfdGhpcyRwcm9wcy5vbkNsaWNrLFxuICAgICAgICAgIHBhdGggPSBfdGhpcyRwcm9wcy5wYXRoO1xuICAgICAgdmFyIHJvdXRlciA9IF90aGlzLmNvbnRleHQucm91dGVyO1xuXG4gICAgICBpZiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIG1vZGlmaWVyS2V5ID0gZXZlbnQuY3RybEtleSB8fCBldmVudC5tZXRhS2V5OyAvLyBpZiB0aGUgdXNlciByaWdodC1jbGlja2VkIGluIHRoZSBidXR0b24gd2Ugc2hvdWxkIGxldCBpdCBnb1xuXG4gICAgICAgIGlmIChtb2RpZmllcktleSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAocm91dGVyKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIChyb3V0ZXIuaGlzdG9yeSB8fCByb3V0ZXIpW21ldGhvZF0ocGF0aCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChvbkNsaWNrKSB7XG4gICAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMiA+IDEgPyBfbGVuMiAtIDEgOiAwKSwgX2tleTIgPSAxOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICAgICAgYXJnc1tfa2V5MiAtIDFdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICAgICAgfVxuXG4gICAgICAgIG9uQ2xpY2suYXBwbHkodm9pZCAwLCBbZXZlbnRdLmNvbmNhdChhcmdzKSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICB2YXIgX3Byb3RvID0gUm91dGVkQnV0dG9uLnByb3RvdHlwZTtcblxuICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfdGhpcyRwcm9wczIgPSB0aGlzLnByb3BzLFxuICAgICAgICBocmVmID0gX3RoaXMkcHJvcHMyLmhyZWYsXG4gICAgICAgIHBhdGggPSBfdGhpcyRwcm9wczIucGF0aCxcbiAgICAgICAgbWV0aG9kID0gX3RoaXMkcHJvcHMyLm1ldGhvZCxcbiAgICAgICAgb25DbGljayA9IF90aGlzJHByb3BzMi5vbkNsaWNrLFxuICAgICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3RoaXMkcHJvcHMyLCBbXCJocmVmXCIsIFwicGF0aFwiLCBcIm1ldGhvZFwiLCBcIm9uQ2xpY2tcIl0pO1xuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGNvbnNvbGUud2FybihcIlRoaXMgY29tcG9uZW50IHdpbGwgYmUgZGVwcmVjYXRlZCBpbiB0aGUgdXBjb21pbmcgcmVsZWFzZXMuXFxuICAgICAgICAgUGxlYXNlIHJlZmVyIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS9ncm9tbWV0L2dyb21tZXQvaXNzdWVzLzI4NTUgXFxuICAgICAgICAgZm9yIG1vcmUgaW5mb3JtYXRpb24uXCIpO1xuICAgIH1cblxuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwgX2V4dGVuZHMoe30sIHJlc3QsIHtcbiAgICAgIGhyZWY6IHBhdGggfHwgaHJlZixcbiAgICAgIGRpc2FibGVkOiAhcGF0aCAmJiAhb25DbGljayxcbiAgICAgIG9uQ2xpY2s6IHRoaXMub25DbGlja1xuICAgIH0pKTtcbiAgfTtcblxuICByZXR1cm4gUm91dGVkQnV0dG9uO1xufShDb21wb25lbnQpO1xuXG5fZGVmaW5lUHJvcGVydHkoUm91dGVkQnV0dG9uLCBcImNvbnRleHRUeXBlc1wiLCB7XG4gIHJvdXRlcjogUHJvcFR5cGVzLnNoYXBlKHt9KS5pc1JlcXVpcmVkXG59KTtcblxuX2RlZmluZVByb3BlcnR5KFJvdXRlZEJ1dHRvbiwgXCJkZWZhdWx0UHJvcHNcIiwge1xuICBtZXRob2Q6ICdwdXNoJ1xufSk7XG5cbnZhciBSb3V0ZWRCdXR0b25Eb2M7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBnbG9iYWwtcmVxdWlyZVxuICBSb3V0ZWRCdXR0b25Eb2MgPSByZXF1aXJlKCcuL2RvYycpLmRvYyhSb3V0ZWRCdXR0b24pO1xufVxuXG52YXIgUm91dGVkQnV0dG9uV3JhcHBlciA9IFJvdXRlZEJ1dHRvbkRvYyB8fCBSb3V0ZWRCdXR0b247XG5leHBvcnQgeyBSb3V0ZWRCdXR0b25XcmFwcGVyIGFzIFJvdXRlZEJ1dHRvbiB9OyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmltcG9ydCB7IGRlc2NyaWJlIH0gZnJvbSAncmVhY3QtZGVzYyc7XG5pbXBvcnQgeyBST1VURVJfUFJPUFMsIGdldEF2YWlsYWJsZUF0QmFkZ2UgfSBmcm9tICcuLi8uLi91dGlscyc7XG5leHBvcnQgdmFyIGRvYyA9IGZ1bmN0aW9uIGRvYyhSb3V0ZWRCdXR0b24pIHtcbiAgdmFyIERvY3VtZW50ZWRSb3V0ZWRCdXR0b24gPSBkZXNjcmliZShSb3V0ZWRCdXR0b24pLmF2YWlsYWJsZUF0KGdldEF2YWlsYWJsZUF0QmFkZ2UoJ1JvdXRlZEJ1dHRvbicpKS5kZXNjcmlwdGlvbignQSBidXR0b24gd2l0aCBzdXBwb3J0IGZvciBSZWFjdCBSb3V0ZXIuJykudXNhZ2UoXCJpbXBvcnQgeyBSb3V0ZWRCdXR0b24gfSBmcm9tICdncm9tbWV0JztcXG48Um91dGVkQnV0dG9uIHByaW1hcnkgcGF0aD0nL2RvY3VtZW50YXRpb24nIC8+XCIpLmludHJpbnNpY0VsZW1lbnQoJ2J1dHRvbicpO1xuICBEb2N1bWVudGVkUm91dGVkQnV0dG9uLnByb3BUeXBlcyA9IF9leHRlbmRzKHt9LCBST1VURVJfUFJPUFMpO1xuICByZXR1cm4gRG9jdW1lbnRlZFJvdXRlZEJ1dHRvbjtcbn07IiwiZXhwb3J0IHsgUm91dGVkQnV0dG9uIH0gZnJvbSAnLi9Sb3V0ZWRCdXR0b24nOyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuaW1wb3J0IFJlYWN0LCB7IGlzVmFsaWRFbGVtZW50LCB1c2VTdGF0ZSwgdXNlUmVmLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjb21wb3NlIH0gZnJvbSAncmVjb21wb3NlJztcbmltcG9ydCBzdHlsZWQsIHsgd2l0aFRoZW1lIH0gZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgY29udHJvbEJvcmRlclN0eWxlLCBub3JtYWxpemVDb2xvciB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmltcG9ydCB7IGRlZmF1bHRQcm9wcyB9IGZyb20gJy4uLy4uL2RlZmF1bHQtcHJvcHMnO1xuaW1wb3J0IHsgQm94IH0gZnJvbSAnLi4vQm94JztcbmltcG9ydCB7IERyb3BCdXR0b24gfSBmcm9tICcuLi9Ecm9wQnV0dG9uJztcbmltcG9ydCB7IEtleWJvYXJkIH0gZnJvbSAnLi4vS2V5Ym9hcmQnO1xuaW1wb3J0IHsgVGV4dElucHV0IH0gZnJvbSAnLi4vVGV4dElucHV0JztcbmltcG9ydCB7IHdpdGhGb3J3YXJkUmVmIH0gZnJvbSAnLi4vaG9jcyc7XG5pbXBvcnQgeyBTZWxlY3RDb250YWluZXIgfSBmcm9tICcuL1NlbGVjdENvbnRhaW5lcic7XG52YXIgU2VsZWN0VGV4dElucHV0ID0gc3R5bGVkKFRleHRJbnB1dCkud2l0aENvbmZpZyh7XG4gIGRpc3BsYXlOYW1lOiBcIlNlbGVjdF9fU2VsZWN0VGV4dElucHV0XCIsXG4gIGNvbXBvbmVudElkOiBcInNjLTE3aWR0Zm8tMFwiXG59KShbXCJjdXJzb3I6cG9pbnRlcjtcIl0pO1xudmFyIFN0eWxlZFNlbGVjdERyb3BCdXR0b24gPSBzdHlsZWQoRHJvcEJ1dHRvbikud2l0aENvbmZpZyh7XG4gIGRpc3BsYXlOYW1lOiBcIlNlbGVjdF9fU3R5bGVkU2VsZWN0RHJvcEJ1dHRvblwiLFxuICBjb21wb25lbnRJZDogXCJzYy0xN2lkdGZvLTFcIlxufSkoW1wiXCIsIFwiO1wiLCBcIjtcIiwgXCI7XCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuICFwcm9wcy5wbGFpbiAmJiBjb250cm9sQm9yZGVyU3R5bGU7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLnNlbGVjdCAmJiBwcm9wcy50aGVtZS5zZWxlY3QuY29udHJvbCAmJiBwcm9wcy50aGVtZS5zZWxlY3QuY29udHJvbC5leHRlbmQ7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLm9wZW4gJiYgcHJvcHMudGhlbWUuc2VsZWN0LmNvbnRyb2wub3Blbjtcbn0pO1xuU3R5bGVkU2VsZWN0RHJvcEJ1dHRvbi5kZWZhdWx0UHJvcHMgPSB7fTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihTdHlsZWRTZWxlY3REcm9wQnV0dG9uLmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcblxudmFyIFNlbGVjdCA9IGZ1bmN0aW9uIFNlbGVjdChwcm9wcykge1xuICB2YXIgYTExeVRpdGxlID0gcHJvcHMuYTExeVRpdGxlLFxuICAgICAgYWxpZ25TZWxmID0gcHJvcHMuYWxpZ25TZWxmLFxuICAgICAgY2hpbGRyZW4gPSBwcm9wcy5jaGlsZHJlbixcbiAgICAgIGNsb3NlT25DaGFuZ2UgPSBwcm9wcy5jbG9zZU9uQ2hhbmdlLFxuICAgICAgZGlzYWJsZWQgPSBwcm9wcy5kaXNhYmxlZCxcbiAgICAgIGRyb3BBbGlnbiA9IHByb3BzLmRyb3BBbGlnbixcbiAgICAgIGRyb3BQcm9wcyA9IHByb3BzLmRyb3BQcm9wcyxcbiAgICAgIGRyb3BUYXJnZXQgPSBwcm9wcy5kcm9wVGFyZ2V0LFxuICAgICAgZm9yd2FyZFJlZiA9IHByb3BzLmZvcndhcmRSZWYsXG4gICAgICBncmlkQXJlYSA9IHByb3BzLmdyaWRBcmVhLFxuICAgICAgaWQgPSBwcm9wcy5pZCxcbiAgICAgIGljb24gPSBwcm9wcy5pY29uLFxuICAgICAgbGFiZWxLZXkgPSBwcm9wcy5sYWJlbEtleSxcbiAgICAgIG1hcmdpbiA9IHByb3BzLm1hcmdpbixcbiAgICAgIG1lc3NhZ2VzID0gcHJvcHMubWVzc2FnZXMsXG4gICAgICBvbkNoYW5nZSA9IHByb3BzLm9uQ2hhbmdlLFxuICAgICAgb25DbG9zZSA9IHByb3BzLm9uQ2xvc2UsXG4gICAgICBvbk1vcmUgPSBwcm9wcy5vbk1vcmUsXG4gICAgICBvbk9wZW4gPSBwcm9wcy5vbk9wZW4sXG4gICAgICBwcm9wT3BlbiA9IHByb3BzLm9wZW4sXG4gICAgICBvcHRpb25zID0gcHJvcHMub3B0aW9ucyxcbiAgICAgIHBsYWNlaG9sZGVyID0gcHJvcHMucGxhY2Vob2xkZXIsXG4gICAgICBwbGFpbiA9IHByb3BzLnBsYWluLFxuICAgICAgc2VsZWN0ZWQgPSBwcm9wcy5zZWxlY3RlZCxcbiAgICAgIHNpemUgPSBwcm9wcy5zaXplLFxuICAgICAgdGhlbWUgPSBwcm9wcy50aGVtZSxcbiAgICAgIHZhbHVlID0gcHJvcHMudmFsdWUsXG4gICAgICB2YWx1ZUxhYmVsID0gcHJvcHMudmFsdWVMYWJlbCxcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShwcm9wcywgW1wiYTExeVRpdGxlXCIsIFwiYWxpZ25TZWxmXCIsIFwiY2hpbGRyZW5cIiwgXCJjbG9zZU9uQ2hhbmdlXCIsIFwiZGlzYWJsZWRcIiwgXCJkcm9wQWxpZ25cIiwgXCJkcm9wUHJvcHNcIiwgXCJkcm9wVGFyZ2V0XCIsIFwiZm9yd2FyZFJlZlwiLCBcImdyaWRBcmVhXCIsIFwiaWRcIiwgXCJpY29uXCIsIFwibGFiZWxLZXlcIiwgXCJtYXJnaW5cIiwgXCJtZXNzYWdlc1wiLCBcIm9uQ2hhbmdlXCIsIFwib25DbG9zZVwiLCBcIm9uTW9yZVwiLCBcIm9uT3BlblwiLCBcIm9wZW5cIiwgXCJvcHRpb25zXCIsIFwicGxhY2Vob2xkZXJcIiwgXCJwbGFpblwiLCBcInNlbGVjdGVkXCIsIFwic2l6ZVwiLCBcInRoZW1lXCIsIFwidmFsdWVcIiwgXCJ2YWx1ZUxhYmVsXCJdKTtcblxuICB2YXIgaW5wdXRSZWYgPSB1c2VSZWYoKTtcblxuICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUocHJvcE9wZW4pLFxuICAgICAgb3BlbiA9IF91c2VTdGF0ZVswXSxcbiAgICAgIHNldE9wZW4gPSBfdXNlU3RhdGVbMV07XG5cbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBzZXRPcGVuKHByb3BPcGVuKTtcbiAgfSwgW3Byb3BPcGVuXSk7XG5cbiAgdmFyIG9uUmVxdWVzdE9wZW4gPSBmdW5jdGlvbiBvblJlcXVlc3RPcGVuKCkge1xuICAgIHNldE9wZW4odHJ1ZSk7XG5cbiAgICBpZiAob25PcGVuKSB7XG4gICAgICBvbk9wZW4oKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIG9uUmVxdWVzdENsb3NlID0gZnVuY3Rpb24gb25SZXF1ZXN0Q2xvc2UoKSB7XG4gICAgc2V0T3BlbihmYWxzZSk7XG5cbiAgICBpZiAob25DbG9zZSkge1xuICAgICAgb25DbG9zZSgpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgb25TZWxlY3RDaGFuZ2UgPSBmdW5jdGlvbiBvblNlbGVjdENoYW5nZShldmVudCkge1xuICAgIGlmIChjbG9zZU9uQ2hhbmdlKSB7XG4gICAgICBvblJlcXVlc3RDbG9zZSgpO1xuICAgIH1cblxuICAgIGlmIChvbkNoYW5nZSkge1xuICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICBhcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgIH1cblxuICAgICAgb25DaGFuZ2UuYXBwbHkodm9pZCAwLCBbX2V4dGVuZHMoe30sIGV2ZW50LCB7XG4gICAgICAgIHRhcmdldDogaW5wdXRSZWYuY3VycmVudFxuICAgICAgfSldLmNvbmNhdChhcmdzKSk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBTZWxlY3RJY29uO1xuXG4gIHN3aXRjaCAoaWNvbikge1xuICAgIGNhc2UgZmFsc2U6XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgdHJ1ZTpcbiAgICBjYXNlIHVuZGVmaW5lZDpcbiAgICAgIFNlbGVjdEljb24gPSB0aGVtZS5zZWxlY3QuaWNvbnMuZG93bjtcbiAgICAgIGJyZWFrO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIFNlbGVjdEljb24gPSBpY29uO1xuICB9XG5cbiAgdmFyIHNlbGVjdFZhbHVlO1xuICB2YXIgaW5wdXRWYWx1ZSA9ICcnO1xuXG4gIGlmICh2YWx1ZUxhYmVsKSB7XG4gICAgc2VsZWN0VmFsdWUgPSB2YWx1ZUxhYmVsO1xuICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgaWYgKHZhbHVlLmxlbmd0aCA+IDEpIHtcbiAgICAgIGlmIChSZWFjdC5pc1ZhbGlkRWxlbWVudCh2YWx1ZVswXSkpIHtcbiAgICAgICAgc2VsZWN0VmFsdWUgPSB2YWx1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlucHV0VmFsdWUgPSBtZXNzYWdlcy5tdWx0aXBsZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHZhbHVlLmxlbmd0aCA9PT0gMSkge1xuICAgICAgaWYgKFJlYWN0LmlzVmFsaWRFbGVtZW50KHZhbHVlWzBdKSkge1xuICAgICAgICBzZWxlY3RWYWx1ZSA9IHZhbHVlWzBdO1xuICAgICAgfSBlbHNlIGlmIChsYWJlbEtleSAmJiB0eXBlb2YgdmFsdWVbMF0gPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGlmICh0eXBlb2YgbGFiZWxLZXkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBpbnB1dFZhbHVlID0gbGFiZWxLZXkodmFsdWVbMF0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlucHV0VmFsdWUgPSB2YWx1ZVswXVtsYWJlbEtleV07XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlucHV0VmFsdWUgPSB2YWx1ZVswXTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaW5wdXRWYWx1ZSA9ICcnO1xuICAgIH1cbiAgfSBlbHNlIGlmIChsYWJlbEtleSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgaWYgKHR5cGVvZiBsYWJlbEtleSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgaW5wdXRWYWx1ZSA9IGxhYmVsS2V5KHZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5wdXRWYWx1ZSA9IHZhbHVlW2xhYmVsS2V5XTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoUmVhY3QuaXNWYWxpZEVsZW1lbnQodmFsdWUpKSB7XG4gICAgc2VsZWN0VmFsdWUgPSB2YWx1ZTsgLy8gZGVwcmVjYXRlZCBpbiBmYXZvciBvZiB2YWx1ZUxhYmVsXG4gIH0gZWxzZSBpZiAoc2VsZWN0ZWQgIT09IHVuZGVmaW5lZCkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KHNlbGVjdGVkKSkge1xuICAgICAgaWYgKHNlbGVjdGVkLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgaW5wdXRWYWx1ZSA9IG1lc3NhZ2VzLm11bHRpcGxlO1xuICAgICAgfSBlbHNlIGlmIChzZWxlY3RlZC5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgaW5wdXRWYWx1ZSA9IG9wdGlvbnNbc2VsZWN0ZWRbMF1dO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpbnB1dFZhbHVlID0gb3B0aW9uc1tzZWxlY3RlZF07XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlucHV0VmFsdWUgPSB2YWx1ZTtcbiAgfSAvLyBjb25zdCBkYXJrID0gdGhlbWUuc2VsZWN0LmJhY2tncm91bmRcbiAgLy8gPyBjb2xvcklzRGFyayh0aGVtZS5zZWxlY3QuYmFja2dyb3VuZClcbiAgLy8gOiB0aGVtZS5kYXJrO1xuXG5cbiAgdmFyIGljb25Db2xvciA9IG5vcm1hbGl6ZUNvbG9yKHRoZW1lLnNlbGVjdC5pY29ucy5jb2xvciB8fCAnY29udHJvbCcsIHRoZW1lKTtcbiAgZGVsZXRlIHJlc3Qub25TZWFyY2g7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEtleWJvYXJkLCB7XG4gICAgb25Eb3duOiBvblJlcXVlc3RPcGVuLFxuICAgIG9uVXA6IG9uUmVxdWVzdE9wZW5cbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWRTZWxlY3REcm9wQnV0dG9uLCB7XG4gICAgcmVmOiBmb3J3YXJkUmVmLFxuICAgIGlkOiBpZCxcbiAgICBkaXNhYmxlZDogZGlzYWJsZWQgPT09IHRydWUgfHwgdW5kZWZpbmVkLFxuICAgIGRyb3BBbGlnbjogZHJvcEFsaWduLFxuICAgIGRyb3BUYXJnZXQ6IGRyb3BUYXJnZXQsXG4gICAgb3Blbjogb3BlbixcbiAgICBhbGlnblNlbGY6IGFsaWduU2VsZixcbiAgICBncmlkQXJlYTogZ3JpZEFyZWEsXG4gICAgbWFyZ2luOiBtYXJnaW4sXG4gICAgb25PcGVuOiBvblJlcXVlc3RPcGVuLFxuICAgIG9uQ2xvc2U6IG9uUmVxdWVzdENsb3NlLFxuICAgIGRyb3BDb250ZW50OiBSZWFjdC5jcmVhdGVFbGVtZW50KFNlbGVjdENvbnRhaW5lciwgX2V4dGVuZHMoe30sIHByb3BzLCB7XG4gICAgICBvbkNoYW5nZTogb25TZWxlY3RDaGFuZ2UsXG4gICAgICBvbk1vcmU6IG9uTW9yZVxuICAgIH0pKSxcbiAgICBwbGFpbjogcGxhaW4sXG4gICAgZHJvcFByb3BzOiBfZXh0ZW5kcyh7fSwgZHJvcFByb3BzKVxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwge1xuICAgIGFsaWduOiBcImNlbnRlclwiLFxuICAgIGRpcmVjdGlvbjogXCJyb3dcIixcbiAgICBqdXN0aWZ5OiBcImJldHdlZW5cIixcbiAgICBiYWNrZ3JvdW5kOiB0aGVtZS5zZWxlY3QuYmFja2dyb3VuZFxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwge1xuICAgIGRpcmVjdGlvbjogXCJyb3dcIixcbiAgICBmbGV4OiB0cnVlLFxuICAgIGJhc2lzOiBcImF1dG9cIlxuICB9LCBzZWxlY3RWYWx1ZSB8fCBSZWFjdC5jcmVhdGVFbGVtZW50KFNlbGVjdFRleHRJbnB1dCwgX2V4dGVuZHMoe1xuICAgIGExMXlUaXRsZTogYTExeVRpdGxlICYmIFwiXCIgKyBhMTF5VGl0bGUgKyAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyA/IFwiLCBcIiArIHZhbHVlIDogJycpLFxuICAgIGlkOiBpZCA/IGlkICsgXCJfX2lucHV0XCIgOiB1bmRlZmluZWQsXG4gICAgcmVmOiBpbnB1dFJlZlxuICB9LCByZXN0LCB7XG4gICAgdGFiSW5kZXg6IFwiLTFcIixcbiAgICB0eXBlOiBcInRleHRcIixcbiAgICBwbGFjZWhvbGRlcjogcGxhY2Vob2xkZXIsXG4gICAgcGxhaW46IHRydWUsXG4gICAgcmVhZE9ubHk6IHRydWUsXG4gICAgdmFsdWU6IGlucHV0VmFsdWUsXG4gICAgc2l6ZTogc2l6ZSxcbiAgICBvbkNsaWNrOiBkaXNhYmxlZCA9PT0gdHJ1ZSA/IHVuZGVmaW5lZCA6IG9uUmVxdWVzdE9wZW5cbiAgfSkpKSwgU2VsZWN0SWNvbiAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwge1xuICAgIG1hcmdpbjogdGhlbWUuc2VsZWN0Lmljb25zLm1hcmdpbixcbiAgICBmbGV4OiBmYWxzZSxcbiAgICBzdHlsZToge1xuICAgICAgbWluV2lkdGg6ICdhdXRvJ1xuICAgIH1cbiAgfSwgaXNWYWxpZEVsZW1lbnQoU2VsZWN0SWNvbikgPyBTZWxlY3RJY29uIDogUmVhY3QuY3JlYXRlRWxlbWVudChTZWxlY3RJY29uLCB7XG4gICAgY29sb3I6IGljb25Db2xvcixcbiAgICBzaXplOiBzaXplXG4gIH0pKSkpKTtcbn07XG5cblNlbGVjdC5kZWZhdWx0UHJvcHMgPSBfZXh0ZW5kcyh7XG4gIGNsb3NlT25DaGFuZ2U6IHRydWUsXG4gIGRyb3BBbGlnbjoge1xuICAgIHRvcDogJ2JvdHRvbScsXG4gICAgbGVmdDogJ2xlZnQnXG4gIH0sXG4gIG1lc3NhZ2VzOiB7XG4gICAgbXVsdGlwbGU6ICdtdWx0aXBsZSdcbiAgfVxufSwgZGVmYXVsdFByb3BzKTtcbnZhciBTZWxlY3REb2M7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBnbG9iYWwtcmVxdWlyZVxuICBTZWxlY3REb2MgPSByZXF1aXJlKCcuL2RvYycpLmRvYyhTZWxlY3QpO1xufVxuXG52YXIgU2VsZWN0V3JhcHBlciA9IGNvbXBvc2Uod2l0aFRoZW1lLCB3aXRoRm9yd2FyZFJlZikoU2VsZWN0RG9jIHx8IFNlbGVjdCk7XG5leHBvcnQgeyBTZWxlY3RXcmFwcGVyIGFzIFNlbGVjdCB9OyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHNMb29zZShzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MucHJvdG90eXBlKTsgc3ViQ2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gc3ViQ2xhc3M7IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuaW1wb3J0IFJlYWN0LCB7IGNyZWF0ZVJlZiwgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHN0eWxlZCwgeyB3aXRoVGhlbWUgfSBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBkZWJvdW5jZSwgZGVib3VuY2VEZWxheSwgaXNOb2RlQWZ0ZXJTY3JvbGwsIGlzTm9kZUJlZm9yZVNjcm9sbCwgc2VsZWN0ZWRTdHlsZSwgc2V0Rm9jdXNXaXRob3V0U2Nyb2xsIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuaW1wb3J0IHsgZGVmYXVsdFByb3BzIH0gZnJvbSAnLi4vLi4vZGVmYXVsdC1wcm9wcyc7XG5pbXBvcnQgeyBCb3ggfSBmcm9tICcuLi9Cb3gnO1xuaW1wb3J0IHsgSW5maW5pdGVTY3JvbGwgfSBmcm9tICcuLi9JbmZpbml0ZVNjcm9sbCc7XG5pbXBvcnQgeyBLZXlib2FyZCB9IGZyb20gJy4uL0tleWJvYXJkJztcbmltcG9ydCB7IFRleHQgfSBmcm9tICcuLi9UZXh0JztcbmltcG9ydCB7IFRleHRJbnB1dCB9IGZyb20gJy4uL1RleHRJbnB1dCc7XG5pbXBvcnQgeyBTZWxlY3RPcHRpb24gfSBmcm9tICcuL1NlbGVjdE9wdGlvbic7XG5pbXBvcnQgeyBTdHlsZWRDb250YWluZXIgfSBmcm9tICcuL1N0eWxlZFNlbGVjdCc7IC8vIHBvc2l0aW9uIHJlbGF0aXZlIGlzIHNvIHNjcm9sbCBjYW4gYmUgbWFuYWdlZCBjb3JyZWN0bHlcblxudmFyIE9wdGlvbnNCb3ggPSBzdHlsZWQoQm94KS53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiU2VsZWN0Q29udGFpbmVyX19PcHRpb25zQm94XCIsXG4gIGNvbXBvbmVudElkOiBcInNjLTF3aTB1bDgtMFwiXG59KShbXCJwb3NpdGlvbjpyZWxhdGl2ZTtzY3JvbGwtYmVoYXZpb3I6c21vb3RoO1wiXSk7XG52YXIgT3B0aW9uQm94ID0gc3R5bGVkKEJveCkud2l0aENvbmZpZyh7XG4gIGRpc3BsYXlOYW1lOiBcIlNlbGVjdENvbnRhaW5lcl9fT3B0aW9uQm94XCIsXG4gIGNvbXBvbmVudElkOiBcInNjLTF3aTB1bDgtMVwiXG59KShbXCJcIiwgXCJcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuc2VsZWN0ZWQgJiYgc2VsZWN0ZWRTdHlsZTtcbn0pO1xuXG52YXIgU2VsZWN0Q29udGFpbmVyID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKFNlbGVjdENvbnRhaW5lciwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gU2VsZWN0Q29udGFpbmVyKHByb3BzKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX3RoaXMgPSBfQ29tcG9uZW50LmNhbGwodGhpcywgcHJvcHMpIHx8IHRoaXM7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwib3B0aW9uUmVmc1wiLCB7fSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwic2VhcmNoUmVmXCIsIGNyZWF0ZVJlZigpKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJvcHRpb25zUmVmXCIsIGNyZWF0ZVJlZigpKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJvblNlYXJjaENoYW5nZVwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgc2VhcmNoOiBldmVudC50YXJnZXQudmFsdWUsXG4gICAgICAgIGFjdGl2ZUluZGV4OiAtMVxuICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2VhcmNoID0gX3RoaXMuc3RhdGUuc2VhcmNoO1xuXG4gICAgICAgIF90aGlzLm9uU2VhcmNoKHNlYXJjaCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJvblNlYXJjaFwiLCBkZWJvdW5jZShmdW5jdGlvbiAoc2VhcmNoKSB7XG4gICAgICB2YXIgb25TZWFyY2ggPSBfdGhpcy5wcm9wcy5vblNlYXJjaDtcbiAgICAgIG9uU2VhcmNoKHNlYXJjaCk7XG4gICAgfSwgZGVib3VuY2VEZWxheShfdGhpcy5wcm9wcykpKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJzZWxlY3RPcHRpb25cIiwgZnVuY3Rpb24gKG9wdGlvbikge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzJHByb3BzID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgICBtdWx0aXBsZSA9IF90aGlzJHByb3BzLm11bHRpcGxlLFxuICAgICAgICAgICAgb25DaGFuZ2UgPSBfdGhpcyRwcm9wcy5vbkNoYW5nZSxcbiAgICAgICAgICAgIHZhbHVlID0gX3RoaXMkcHJvcHMudmFsdWUsXG4gICAgICAgICAgICBzZWxlY3RlZCA9IF90aGlzJHByb3BzLnNlbGVjdGVkO1xuICAgICAgICB2YXIgaW5pdGlhbE9wdGlvbnMgPSBfdGhpcy5zdGF0ZS5pbml0aWFsT3B0aW9ucztcblxuICAgICAgICBpZiAob25DaGFuZ2UpIHtcbiAgICAgICAgICB2YXIgbmV4dFZhbHVlID0gQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZS5zbGljZSgpIDogW107IC8vIHByZXNlcnZlIGNvbXBhdGliaWxpdHkgdW50aWwgc2VsZWN0ZWQgaXMgZGVwcmVjYXRlZFxuXG4gICAgICAgICAgaWYgKHNlbGVjdGVkKSB7XG4gICAgICAgICAgICBuZXh0VmFsdWUgPSBzZWxlY3RlZC5tYXAoZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGluaXRpYWxPcHRpb25zW3NdO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKG11bHRpcGxlKSB7XG4gICAgICAgICAgICBpZiAobmV4dFZhbHVlLmluZGV4T2Yob3B0aW9uKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgbmV4dFZhbHVlID0gbmV4dFZhbHVlLmZpbHRlcihmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgICAgIHJldHVybiB2ICE9PSBvcHRpb247XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbmV4dFZhbHVlLnB1c2gob3B0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmV4dFZhbHVlID0gb3B0aW9uO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBuZXh0U2VsZWN0ZWQgPSBBcnJheS5pc0FycmF5KG5leHRWYWx1ZSkgPyBuZXh0VmFsdWUubWFwKGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICByZXR1cm4gaW5pdGlhbE9wdGlvbnMuaW5kZXhPZih2KTtcbiAgICAgICAgICB9KSA6IGluaXRpYWxPcHRpb25zLmluZGV4T2YobmV4dFZhbHVlKTtcbiAgICAgICAgICBvbkNoYW5nZSh7XG4gICAgICAgICAgICBvcHRpb246IG9wdGlvbixcbiAgICAgICAgICAgIHZhbHVlOiBuZXh0VmFsdWUsXG4gICAgICAgICAgICBzZWxlY3RlZDogbmV4dFNlbGVjdGVkXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiY2xlYXJLZXlib2FyZE5hdmlnYXRpb25cIiwgZnVuY3Rpb24gKCkge1xuICAgICAgY2xlYXJUaW1lb3V0KF90aGlzLmtleWJvYXJkTmF2VGltZXIpO1xuICAgICAgX3RoaXMua2V5Ym9hcmROYXZUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAga2V5Ym9hcmROYXZpZ2F0aW5nOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgIH0sIDEwMCk7IC8vIDEwMG1zIHdhcyBlbXBpcmljYWxseSBkZXRlcm1pbmVkXG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwib25OZXh0T3B0aW9uXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgdmFyIG9wdGlvbnMgPSBfdGhpcy5wcm9wcy5vcHRpb25zO1xuICAgICAgdmFyIGFjdGl2ZUluZGV4ID0gX3RoaXMuc3RhdGUuYWN0aXZlSW5kZXg7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdmFyIG5leHRBY3RpdmVJbmRleCA9IGFjdGl2ZUluZGV4ICsgMTtcblxuICAgICAgd2hpbGUgKG5leHRBY3RpdmVJbmRleCA8IG9wdGlvbnMubGVuZ3RoICYmIF90aGlzLmlzRGlzYWJsZWQobmV4dEFjdGl2ZUluZGV4KSkge1xuICAgICAgICBuZXh0QWN0aXZlSW5kZXggKz0gMTtcbiAgICAgIH1cblxuICAgICAgaWYgKG5leHRBY3RpdmVJbmRleCAhPT0gb3B0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGFjdGl2ZUluZGV4OiBuZXh0QWN0aXZlSW5kZXgsXG4gICAgICAgICAga2V5Ym9hcmROYXZpZ2F0aW5nOiB0cnVlXG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgYnV0dG9uTm9kZSA9IF90aGlzLm9wdGlvblJlZnNbbmV4dEFjdGl2ZUluZGV4XTtcbiAgICAgICAgICB2YXIgb3B0aW9uc05vZGUgPSBfdGhpcy5vcHRpb25zUmVmLmN1cnJlbnQ7XG5cbiAgICAgICAgICBpZiAoYnV0dG9uTm9kZSAmJiBpc05vZGVBZnRlclNjcm9sbChidXR0b25Ob2RlLCBvcHRpb25zTm9kZSkgJiYgb3B0aW9uc05vZGUuc2Nyb2xsVG8pIHtcbiAgICAgICAgICAgIG9wdGlvbnNOb2RlLnNjcm9sbFRvKDAsIGJ1dHRvbk5vZGUub2Zmc2V0VG9wIC0gKG9wdGlvbnNOb2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodCAtIGJ1dHRvbk5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0KSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX3RoaXMuY2xlYXJLZXlib2FyZE5hdmlnYXRpb24oKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwib25QcmV2aW91c09wdGlvblwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBhY3RpdmVJbmRleCA9IF90aGlzLnN0YXRlLmFjdGl2ZUluZGV4O1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHZhciBuZXh0QWN0aXZlSW5kZXggPSBhY3RpdmVJbmRleCAtIDE7XG5cbiAgICAgIHdoaWxlIChuZXh0QWN0aXZlSW5kZXggPj0gMCAmJiBfdGhpcy5pc0Rpc2FibGVkKG5leHRBY3RpdmVJbmRleCkpIHtcbiAgICAgICAgbmV4dEFjdGl2ZUluZGV4IC09IDE7XG4gICAgICB9XG5cbiAgICAgIGlmIChuZXh0QWN0aXZlSW5kZXggPj0gMCkge1xuICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgYWN0aXZlSW5kZXg6IG5leHRBY3RpdmVJbmRleCxcbiAgICAgICAgICBrZXlib2FyZE5hdmlnYXRpbmc6IHRydWVcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBidXR0b25Ob2RlID0gX3RoaXMub3B0aW9uUmVmc1tuZXh0QWN0aXZlSW5kZXhdO1xuICAgICAgICAgIHZhciBvcHRpb25zTm9kZSA9IF90aGlzLm9wdGlvbnNSZWYuY3VycmVudDtcblxuICAgICAgICAgIGlmIChidXR0b25Ob2RlICYmIGlzTm9kZUJlZm9yZVNjcm9sbChidXR0b25Ob2RlLCBvcHRpb25zTm9kZSkgJiYgb3B0aW9uc05vZGUuc2Nyb2xsVG8pIHtcbiAgICAgICAgICAgIG9wdGlvbnNOb2RlLnNjcm9sbFRvKDAsIGJ1dHRvbk5vZGUub2Zmc2V0VG9wKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBfdGhpcy5jbGVhcktleWJvYXJkTmF2aWdhdGlvbigpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJvbkFjdGl2ZU9wdGlvblwiLCBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBrZXlib2FyZE5hdmlnYXRpbmcgPSBfdGhpcy5zdGF0ZS5rZXlib2FyZE5hdmlnYXRpbmc7XG5cbiAgICAgICAgaWYgKCFrZXlib2FyZE5hdmlnYXRpbmcpIHtcbiAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBhY3RpdmVJbmRleDogaW5kZXhcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJvblNlbGVjdE9wdGlvblwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBvcHRpb25zID0gX3RoaXMucHJvcHMub3B0aW9ucztcbiAgICAgIHZhciBhY3RpdmVJbmRleCA9IF90aGlzLnN0YXRlLmFjdGl2ZUluZGV4O1xuXG4gICAgICBpZiAoYWN0aXZlSW5kZXggPj0gMCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOyAvLyBwcmV2ZW50IHN1Ym1pdHRpbmcgZm9ybXNcblxuICAgICAgICBfdGhpcy5zZWxlY3RPcHRpb24ob3B0aW9uc1thY3RpdmVJbmRleF0pKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwib3B0aW9uTGFiZWxcIiwgZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMyID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgb3B0aW9ucyA9IF90aGlzJHByb3BzMi5vcHRpb25zLFxuICAgICAgICAgIGxhYmVsS2V5ID0gX3RoaXMkcHJvcHMyLmxhYmVsS2V5O1xuICAgICAgdmFyIG9wdGlvbiA9IG9wdGlvbnNbaW5kZXhdO1xuICAgICAgdmFyIG9wdGlvbkxhYmVsO1xuXG4gICAgICBpZiAobGFiZWxLZXkpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBsYWJlbEtleSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIG9wdGlvbkxhYmVsID0gbGFiZWxLZXkob3B0aW9uKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvcHRpb25MYWJlbCA9IG9wdGlvbltsYWJlbEtleV07XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9wdGlvbkxhYmVsID0gb3B0aW9uO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gb3B0aW9uTGFiZWw7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwib3B0aW9uVmFsdWVcIiwgZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMzID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgb3B0aW9ucyA9IF90aGlzJHByb3BzMy5vcHRpb25zLFxuICAgICAgICAgIHZhbHVlS2V5ID0gX3RoaXMkcHJvcHMzLnZhbHVlS2V5O1xuICAgICAgdmFyIG9wdGlvbiA9IG9wdGlvbnNbaW5kZXhdO1xuICAgICAgdmFyIG9wdGlvblZhbHVlO1xuXG4gICAgICBpZiAodmFsdWVLZXkpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZUtleSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIG9wdGlvblZhbHVlID0gdmFsdWVLZXkob3B0aW9uKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvcHRpb25WYWx1ZSA9IG9wdGlvblt2YWx1ZUtleV07XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9wdGlvblZhbHVlID0gb3B0aW9uO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gb3B0aW9uVmFsdWU7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiaXNEaXNhYmxlZFwiLCBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczQgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBkaXNhYmxlZCA9IF90aGlzJHByb3BzNC5kaXNhYmxlZCxcbiAgICAgICAgICBkaXNhYmxlZEtleSA9IF90aGlzJHByb3BzNC5kaXNhYmxlZEtleSxcbiAgICAgICAgICBvcHRpb25zID0gX3RoaXMkcHJvcHM0Lm9wdGlvbnM7XG4gICAgICB2YXIgb3B0aW9uID0gb3B0aW9uc1tpbmRleF07XG4gICAgICB2YXIgcmVzdWx0O1xuXG4gICAgICBpZiAoZGlzYWJsZWRLZXkpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBkaXNhYmxlZEtleSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHJlc3VsdCA9IGRpc2FibGVkS2V5KG9wdGlvbiwgaW5kZXgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc3VsdCA9IG9wdGlvbltkaXNhYmxlZEtleV07XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShkaXNhYmxlZCkpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBkaXNhYmxlZFswXSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICByZXN1bHQgPSBkaXNhYmxlZC5pbmRleE9mKGluZGV4KSAhPT0gLTE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIG9wdGlvblZhbHVlID0gX3RoaXMub3B0aW9uVmFsdWUoaW5kZXgpO1xuXG4gICAgICAgICAgcmVzdWx0ID0gZGlzYWJsZWQuaW5kZXhPZihvcHRpb25WYWx1ZSkgIT09IC0xO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiaXNTZWxlY3RlZFwiLCBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczUgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBzZWxlY3RlZCA9IF90aGlzJHByb3BzNS5zZWxlY3RlZCxcbiAgICAgICAgICB2YWx1ZSA9IF90aGlzJHByb3BzNS52YWx1ZSxcbiAgICAgICAgICB2YWx1ZUtleSA9IF90aGlzJHByb3BzNS52YWx1ZUtleTtcbiAgICAgIHZhciByZXN1bHQ7XG5cbiAgICAgIGlmIChzZWxlY3RlZCkge1xuICAgICAgICAvLyBkZXByZWNhdGVkIGluIGZhdm9yIG9mIHZhbHVlXG4gICAgICAgIHJlc3VsdCA9IHNlbGVjdGVkLmluZGV4T2YoaW5kZXgpICE9PSAtMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBvcHRpb25WYWx1ZSA9IF90aGlzLm9wdGlvblZhbHVlKGluZGV4KTtcblxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZVswXSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHZhbHVlLmluZGV4T2Yob3B0aW9uVmFsdWUpICE9PSAtMTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlS2V5KSB7XG4gICAgICAgICAgICByZXN1bHQgPSB2YWx1ZS5zb21lKGZ1bmN0aW9uICh2YWx1ZUl0ZW0pIHtcbiAgICAgICAgICAgICAgdmFyIHZhbHVlVmFsdWUgPSB0eXBlb2YgdmFsdWVLZXkgPT09ICdmdW5jdGlvbicgPyB2YWx1ZUtleSh2YWx1ZUl0ZW0pIDogdmFsdWVJdGVtW3ZhbHVlS2V5XTtcbiAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlVmFsdWUgPT09IG9wdGlvblZhbHVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHZhbHVlS2V5ICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICB2YXIgdmFsdWVWYWx1ZSA9IHR5cGVvZiB2YWx1ZUtleSA9PT0gJ2Z1bmN0aW9uJyA/IHZhbHVlS2V5KHZhbHVlKSA6IHZhbHVlW3ZhbHVlS2V5XTtcbiAgICAgICAgICByZXN1bHQgPSB2YWx1ZVZhbHVlID09PSBvcHRpb25WYWx1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHQgPSB2YWx1ZSA9PT0gb3B0aW9uVmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KTtcblxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgaW5pdGlhbE9wdGlvbnM6IHByb3BzLm9wdGlvbnMsXG4gICAgICBzZWFyY2g6ICcnLFxuICAgICAgYWN0aXZlSW5kZXg6IC0xXG4gICAgfTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBTZWxlY3RDb250YWluZXIuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID0gZnVuY3Rpb24gZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKG5leHRQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBuZXh0UHJvcHMub3B0aW9ucyxcbiAgICAgICAgdmFsdWUgPSBuZXh0UHJvcHMudmFsdWUsXG4gICAgICAgIG9uU2VhcmNoID0gbmV4dFByb3BzLm9uU2VhcmNoO1xuXG4gICAgaWYgKG9uU2VhcmNoKSB7XG4gICAgICBpZiAocHJldlN0YXRlLmFjdGl2ZUluZGV4ID09PSAtMSAmJiBwcmV2U3RhdGUuc2VhcmNoID09PSAnJyAmJiBvcHRpb25zICYmIHZhbHVlKSB7XG4gICAgICAgIHZhciBvcHRpb25WYWx1ZSA9IEFycmF5LmlzQXJyYXkodmFsdWUpICYmIHZhbHVlLmxlbmd0aCA/IHZhbHVlWzBdIDogdmFsdWU7XG4gICAgICAgIHZhciBhY3RpdmVJbmRleCA9IG9wdGlvbnMuaW5kZXhPZihvcHRpb25WYWx1ZSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgYWN0aXZlSW5kZXg6IGFjdGl2ZUluZGV4XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGlmIChwcmV2U3RhdGUuYWN0aXZlSW5kZXggPT09IC0xICYmIHByZXZTdGF0ZS5zZWFyY2ggIT09ICcnKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgYWN0aXZlSW5kZXg6IDBcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICB2YXIgX3Byb3RvID0gU2VsZWN0Q29udGFpbmVyLnByb3RvdHlwZTtcblxuICBfcHJvdG8uY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIHZhciBvblNlYXJjaCA9IHRoaXMucHJvcHMub25TZWFyY2g7XG4gICAgdmFyIGFjdGl2ZUluZGV4ID0gdGhpcy5zdGF0ZS5hY3RpdmVJbmRleDsgLy8gdGltZW91dCBuZWVkIHRvIHNlbmQgdGhlIG9wZXJhdGlvbiB0aHJvdWdoIGV2ZW50IGxvb3AgYW5kIGFsbG93XG4gICAgLy8gdGltZSB0byB0aGUgcG9ydGFsIHRvIGJlIGF2YWlsYWJsZVxuXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgb3B0aW9uc05vZGUgPSBfdGhpczIub3B0aW9uc1JlZi5jdXJyZW50O1xuXG4gICAgICBpZiAob25TZWFyY2gpIHtcbiAgICAgICAgdmFyIGlucHV0ID0gX3RoaXMyLnNlYXJjaFJlZi5jdXJyZW50O1xuXG4gICAgICAgIGlmIChpbnB1dCAmJiBpbnB1dC5mb2N1cykge1xuICAgICAgICAgIHNldEZvY3VzV2l0aG91dFNjcm9sbChpbnB1dCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAob3B0aW9uc05vZGUpIHtcbiAgICAgICAgc2V0Rm9jdXNXaXRob3V0U2Nyb2xsKG9wdGlvbnNOb2RlKTtcbiAgICAgIH0gLy8gc2Nyb2xsIHRvIGFjdGl2ZSBvcHRpb24gaWYgaXQgaXMgYmVsb3cgdGhlIGZvbGRcblxuXG4gICAgICBpZiAoYWN0aXZlSW5kZXggPj0gMCAmJiBvcHRpb25zTm9kZSkge1xuICAgICAgICB2YXIgb3B0aW9uTm9kZSA9IF90aGlzMi5vcHRpb25SZWZzW2FjdGl2ZUluZGV4XTtcblxuICAgICAgICB2YXIgX29wdGlvbnNOb2RlJGdldEJvdW5kID0gb3B0aW9uc05vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXG4gICAgICAgICAgICBjb250YWluZXJCb3R0b20gPSBfb3B0aW9uc05vZGUkZ2V0Qm91bmQuYm90dG9tO1xuXG4gICAgICAgIGlmIChvcHRpb25Ob2RlKSB7XG4gICAgICAgICAgdmFyIF9vcHRpb25Ob2RlJGdldEJvdW5kaSA9IG9wdGlvbk5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXG4gICAgICAgICAgICAgIG9wdGlvblRvcCA9IF9vcHRpb25Ob2RlJGdldEJvdW5kaS5ib3R0b207XG5cbiAgICAgICAgICBpZiAoY29udGFpbmVyQm90dG9tIDwgb3B0aW9uVG9wKSB7XG4gICAgICAgICAgICBvcHRpb25Ob2RlLnNjcm9sbEludG9WaWV3KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgMCk7XG4gIH07XG5cbiAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgIHZhciBfdGhpcyRwcm9wczYgPSB0aGlzLnByb3BzLFxuICAgICAgICBjaGlsZHJlbiA9IF90aGlzJHByb3BzNi5jaGlsZHJlbixcbiAgICAgICAgZHJvcEhlaWdodCA9IF90aGlzJHByb3BzNi5kcm9wSGVpZ2h0LFxuICAgICAgICBlbXB0eVNlYXJjaE1lc3NhZ2UgPSBfdGhpcyRwcm9wczYuZW1wdHlTZWFyY2hNZXNzYWdlLFxuICAgICAgICBpZCA9IF90aGlzJHByb3BzNi5pZCxcbiAgICAgICAgb25Nb3JlID0gX3RoaXMkcHJvcHM2Lm9uTW9yZSxcbiAgICAgICAgb25LZXlEb3duID0gX3RoaXMkcHJvcHM2Lm9uS2V5RG93bixcbiAgICAgICAgb25TZWFyY2ggPSBfdGhpcyRwcm9wczYub25TZWFyY2gsXG4gICAgICAgIG9wdGlvbnMgPSBfdGhpcyRwcm9wczYub3B0aW9ucyxcbiAgICAgICAgc2VhcmNoUGxhY2Vob2xkZXIgPSBfdGhpcyRwcm9wczYuc2VhcmNoUGxhY2Vob2xkZXIsXG4gICAgICAgIHRoZW1lID0gX3RoaXMkcHJvcHM2LnRoZW1lLFxuICAgICAgICByZXBsYWNlID0gX3RoaXMkcHJvcHM2LnJlcGxhY2U7XG4gICAgdmFyIF90aGlzJHN0YXRlID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgYWN0aXZlSW5kZXggPSBfdGhpcyRzdGF0ZS5hY3RpdmVJbmRleCxcbiAgICAgICAgc2VhcmNoID0gX3RoaXMkc3RhdGUuc2VhcmNoO1xuICAgIHZhciBjdXN0b21TZWFyY2hJbnB1dCA9IHRoZW1lLnNlbGVjdC5zZWFyY2hJbnB1dDtcbiAgICB2YXIgU2VsZWN0VGV4dElucHV0ID0gY3VzdG9tU2VhcmNoSW5wdXQgfHwgVGV4dElucHV0O1xuXG4gICAgdmFyIHNlbGVjdE9wdGlvbnNTdHlsZSA9IF9leHRlbmRzKHt9LCB0aGVtZS5zZWxlY3Qub3B0aW9ucy5ib3gsIHt9LCB0aGVtZS5zZWxlY3Qub3B0aW9ucy5jb250YWluZXIpO1xuXG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoS2V5Ym9hcmQsIHtcbiAgICAgIG9uRW50ZXI6IHRoaXMub25TZWxlY3RPcHRpb24sXG4gICAgICBvblVwOiB0aGlzLm9uUHJldmlvdXNPcHRpb24sXG4gICAgICBvbkRvd246IHRoaXMub25OZXh0T3B0aW9uLFxuICAgICAgb25LZXlEb3duOiBvbktleURvd25cbiAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZENvbnRhaW5lciwge1xuICAgICAgYXM6IEJveCxcbiAgICAgIGlkOiBpZCA/IGlkICsgXCJfX3NlbGVjdC1kcm9wXCIgOiB1bmRlZmluZWQsXG4gICAgICBkcm9wSGVpZ2h0OiBkcm9wSGVpZ2h0XG4gICAgfSwgb25TZWFyY2ggJiYgUmVhY3QuY3JlYXRlRWxlbWVudChCb3gsIHtcbiAgICAgIHBhZDogIWN1c3RvbVNlYXJjaElucHV0ID8gJ3hzbWFsbCcgOiB1bmRlZmluZWQsXG4gICAgICBmbGV4OiBmYWxzZVxuICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU2VsZWN0VGV4dElucHV0LCB7XG4gICAgICBmb2N1c0luZGljYXRvcjogIWN1c3RvbVNlYXJjaElucHV0LFxuICAgICAgc2l6ZTogXCJzbWFsbFwiLFxuICAgICAgcmVmOiB0aGlzLnNlYXJjaFJlZixcbiAgICAgIHR5cGU6IFwic2VhcmNoXCIsXG4gICAgICB2YWx1ZTogc2VhcmNoLFxuICAgICAgcGxhY2Vob2xkZXI6IHNlYXJjaFBsYWNlaG9sZGVyLFxuICAgICAgb25DaGFuZ2U6IHRoaXMub25TZWFyY2hDaGFuZ2VcbiAgICB9KSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoT3B0aW9uc0JveCwge1xuICAgICAgZmxleDogXCJzaHJpbmtcIixcbiAgICAgIHJvbGU6IFwibWVudWJhclwiLFxuICAgICAgdGFiSW5kZXg6IFwiLTFcIixcbiAgICAgIHJlZjogdGhpcy5vcHRpb25zUmVmLFxuICAgICAgb3ZlcmZsb3c6IFwiYXV0b1wiXG4gICAgfSwgb3B0aW9ucy5sZW5ndGggPiAwID8gUmVhY3QuY3JlYXRlRWxlbWVudChJbmZpbml0ZVNjcm9sbCwge1xuICAgICAgaXRlbXM6IG9wdGlvbnMsXG4gICAgICBzdGVwOiB0aGVtZS5zZWxlY3Quc3RlcCxcbiAgICAgIG9uTW9yZTogb25Nb3JlLFxuICAgICAgcmVwbGFjZTogcmVwbGFjZVxuICAgIH0sIGZ1bmN0aW9uIChvcHRpb24sIGluZGV4KSB7XG4gICAgICB2YXIgaXNEaXNhYmxlZCA9IF90aGlzMy5pc0Rpc2FibGVkKGluZGV4KTtcblxuICAgICAgdmFyIGlzU2VsZWN0ZWQgPSBfdGhpczMuaXNTZWxlY3RlZChpbmRleCk7XG5cbiAgICAgIHZhciBpc0FjdGl2ZSA9IGFjdGl2ZUluZGV4ID09PSBpbmRleDtcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFNlbGVjdE9wdGlvbiAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3Qvbm8tYXJyYXktaW5kZXgta2V5XG4gICAgICAsIHtcbiAgICAgICAga2V5OiBpbmRleCxcbiAgICAgICAgcmVmOiBmdW5jdGlvbiByZWYoX3JlZikge1xuICAgICAgICAgIF90aGlzMy5vcHRpb25SZWZzW2luZGV4XSA9IF9yZWY7XG4gICAgICAgIH0sXG4gICAgICAgIGRpc2FibGVkOiBpc0Rpc2FibGVkIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgYWN0aXZlOiBpc0FjdGl2ZSxcbiAgICAgICAgc2VsZWN0ZWQ6IGlzU2VsZWN0ZWQsXG4gICAgICAgIG9wdGlvbjogb3B0aW9uLFxuICAgICAgICBvbk1vdXNlT3ZlcjogIWlzRGlzYWJsZWQgPyBfdGhpczMub25BY3RpdmVPcHRpb24oaW5kZXgpIDogdW5kZWZpbmVkLFxuICAgICAgICBvbkNsaWNrOiAhaXNEaXNhYmxlZCA/IF90aGlzMy5zZWxlY3RPcHRpb24ob3B0aW9uKSA6IHVuZGVmaW5lZFxuICAgICAgfSwgY2hpbGRyZW4gPyBjaGlsZHJlbihvcHRpb24sIGluZGV4LCBvcHRpb25zLCB7XG4gICAgICAgIGFjdGl2ZTogaXNBY3RpdmUsXG4gICAgICAgIGRpc2FibGVkOiBpc0Rpc2FibGVkLFxuICAgICAgICBzZWxlY3RlZDogaXNTZWxlY3RlZFxuICAgICAgfSkgOiBSZWFjdC5jcmVhdGVFbGVtZW50KE9wdGlvbkJveCwgX2V4dGVuZHMoe30sIHNlbGVjdE9wdGlvbnNTdHlsZSwge1xuICAgICAgICBzZWxlY3RlZDogaXNTZWxlY3RlZFxuICAgICAgfSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGV4dCwgdGhlbWUuc2VsZWN0Lm9wdGlvbnMudGV4dCwgX3RoaXMzLm9wdGlvbkxhYmVsKGluZGV4KSkpKTtcbiAgICB9KSA6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoU2VsZWN0T3B0aW9uLCB7XG4gICAgICBrZXk6IFwic2VhcmNoX2VtcHR5XCIsXG4gICAgICBkaXNhYmxlZDogdHJ1ZSxcbiAgICAgIG9wdGlvbjogZW1wdHlTZWFyY2hNZXNzYWdlXG4gICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChPcHRpb25Cb3gsIHNlbGVjdE9wdGlvbnNTdHlsZSwgUmVhY3QuY3JlYXRlRWxlbWVudChUZXh0LCB0aGVtZS5zZWxlY3QuY29udGFpbmVyLnRleHQsIGVtcHR5U2VhcmNoTWVzc2FnZSkpKSkpKTtcbiAgfTtcblxuICByZXR1cm4gU2VsZWN0Q29udGFpbmVyO1xufShDb21wb25lbnQpO1xuXG5fZGVmaW5lUHJvcGVydHkoU2VsZWN0Q29udGFpbmVyLCBcImRlZmF1bHRQcm9wc1wiLCB7XG4gIGNoaWxkcmVuOiBudWxsLFxuICBkaXNhYmxlZDogdW5kZWZpbmVkLFxuICBlbXB0eVNlYXJjaE1lc3NhZ2U6ICdObyBtYXRjaGVzIGZvdW5kJyxcbiAgaWQ6IHVuZGVmaW5lZCxcbiAgbXVsdGlwbGU6IGZhbHNlLFxuICBuYW1lOiB1bmRlZmluZWQsXG4gIG9uS2V5RG93bjogdW5kZWZpbmVkLFxuICBvblNlYXJjaDogdW5kZWZpbmVkLFxuICBvcHRpb25zOiB1bmRlZmluZWQsXG4gIHNlYXJjaFBsYWNlaG9sZGVyOiB1bmRlZmluZWQsXG4gIHNlbGVjdGVkOiB1bmRlZmluZWQsXG4gIHZhbHVlOiAnJyxcbiAgcmVwbGFjZTogdHJ1ZVxufSk7XG5cbk9iamVjdC5zZXRQcm90b3R5cGVPZihTZWxlY3RDb250YWluZXIuZGVmYXVsdFByb3BzLCBkZWZhdWx0UHJvcHMpO1xudmFyIFNlbGVjdENvbnRhaW5lcldyYXBwZXIgPSB3aXRoVGhlbWUoU2VsZWN0Q29udGFpbmVyKTtcbmV4cG9ydCB7IFNlbGVjdENvbnRhaW5lcldyYXBwZXIgYXMgU2VsZWN0Q29udGFpbmVyIH07IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgQm94IH0gZnJvbSAnLi4vQm94JztcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJy4uL0J1dHRvbic7XG5pbXBvcnQgeyB3aXRoRm9yd2FyZFJlZiB9IGZyb20gJy4uL2hvY3MnO1xuXG5mdW5jdGlvbiBhcmVFcXVhbChwcmV2UHJvcHMsIG5leHRQcm9wcykge1xuICB2YXIgYWN0aXZlID0gcHJldlByb3BzLmFjdGl2ZSxcbiAgICAgIGRpc2FibGVkID0gcHJldlByb3BzLmRpc2FibGVkLFxuICAgICAgb3B0aW9uID0gcHJldlByb3BzLm9wdGlvbixcbiAgICAgIHNlbGVjdGVkID0gcHJldlByb3BzLnNlbGVjdGVkO1xuICB2YXIgbmV4dEFjdGl2ZSA9IG5leHRQcm9wcy5hY3RpdmUsXG4gICAgICBuZXh0RGlzYWJsZWQgPSBuZXh0UHJvcHMuZGlzYWJsZWQsXG4gICAgICBuZXh0T3B0aW9uID0gbmV4dFByb3BzLm9wdGlvbixcbiAgICAgIG5leHRTZWxlY3RlZCA9IG5leHRQcm9wcy5zZWxlY3RlZDtcbiAgcmV0dXJuIGFjdGl2ZSA9PT0gbmV4dEFjdGl2ZSAmJiBzZWxlY3RlZCA9PT0gbmV4dFNlbGVjdGVkICYmIGRpc2FibGVkID09PSBuZXh0RGlzYWJsZWQgJiYgb3B0aW9uID09PSBuZXh0T3B0aW9uO1xufVxuXG52YXIgU2VsZWN0T3B0aW9uID0gUmVhY3QubWVtbyhmdW5jdGlvbiAoX3JlZikge1xuICB2YXIgZm9yd2FyZFJlZiA9IF9yZWYuZm9yd2FyZFJlZixcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfcmVmLCBbXCJmb3J3YXJkUmVmXCJdKTtcblxuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChCb3gsIHtcbiAgICBmbGV4OiBmYWxzZVxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwgX2V4dGVuZHMoe1xuICAgIHRhYkluZGV4OiBcIi0xXCIsXG4gICAgcmVmOiBmb3J3YXJkUmVmLFxuICAgIHJvbGU6IFwibWVudWl0ZW1cIixcbiAgICBob3ZlckluZGljYXRvcjogXCJiYWNrZ3JvdW5kXCJcbiAgfSwgcmVzdCkpKTtcbn0sIGFyZUVxdWFsKTtcbnZhciBTZWxlY3RPcHRpb25XcmFwcGVyID0gd2l0aEZvcndhcmRSZWYoU2VsZWN0T3B0aW9uKTtcbmV4cG9ydCB7IFNlbGVjdE9wdGlvbldyYXBwZXIgYXMgU2VsZWN0T3B0aW9uIH07IiwiaW1wb3J0IHN0eWxlZCBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBzaXplU3R5bGUgfSBmcm9tICcuLi8uLi91dGlscyc7XG5leHBvcnQgdmFyIFN0eWxlZENvbnRhaW5lciA9IHN0eWxlZC5kaXYud2l0aENvbmZpZyh7XG4gIGRpc3BsYXlOYW1lOiBcIlN0eWxlZFNlbGVjdF9fU3R5bGVkQ29udGFpbmVyXCIsXG4gIGNvbXBvbmVudElkOiBcInpucDY2bi0wXCJcbn0pKFtcIkBtZWRpYSBzY3JlZW4gYW5kICgtbXMtaGlnaC1jb250cmFzdDphY3RpdmUpLCgtbXMtaGlnaC1jb250cmFzdDpub25lKXt3aWR0aDoxMDAlO31cIiwgXCI7XCIsIFwiO1wiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5kcm9wSGVpZ2h0ID8gc2l6ZVN0eWxlKCdtYXgtaGVpZ2h0JywgcHJvcHMuZHJvcEhlaWdodCwgcHJvcHMudGhlbWUpIDogJ21heC1oZWlnaHQ6IGluaGVyaXQ7Jztcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUuc2VsZWN0LmNvbnRhaW5lciAmJiBwcm9wcy50aGVtZS5zZWxlY3QuY29udGFpbmVyLmV4dGVuZDtcbn0pOyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmltcG9ydCB7IGRlc2NyaWJlLCBQcm9wVHlwZXMgfSBmcm9tICdyZWFjdC1kZXNjJztcbmltcG9ydCB7IGdlbmVyaWNQcm9wcywgZ2V0QXZhaWxhYmxlQXRCYWRnZSB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmV4cG9ydCB2YXIgZG9jID0gZnVuY3Rpb24gZG9jKFNlbGVjdCkge1xuICB2YXIgRG9jdW1lbnRlZFNlbGVjdCA9IGRlc2NyaWJlKFNlbGVjdCkuYXZhaWxhYmxlQXQoZ2V0QXZhaWxhYmxlQXRCYWRnZSgnU2VsZWN0JykpLmRlc2NyaXB0aW9uKCdBIGNvbnRyb2wgdG8gc2VsZWN0IGEgdmFsdWUsIHdpdGggb3B0aW9uYWwgc2VhcmNoLicpLnVzYWdlKFwiaW1wb3J0IHsgU2VsZWN0IH0gZnJvbSAnZ3JvbW1ldCc7XFxuPFNlbGVjdCAvPlwiKTsgLy8gV2UgZG9uJ3QgaW5jbHVkZSBzdmcgZHVlIHRvIGEgY29sbGlzaW9uIG9uIHRoZSB2YWx1ZXMgcHJvcGVydHlcbiAgLy8gLmludHJpbnNpY0VsZW1lbnQoJ3NlbGVjdCcpO1xuXG4gIERvY3VtZW50ZWRTZWxlY3QucHJvcFR5cGVzID0gX2V4dGVuZHMoe30sIGdlbmVyaWNQcm9wcywge1xuICAgIGNoaWxkcmVuOiBQcm9wVHlwZXMuZnVuYy5kZXNjcmlwdGlvbihcIkZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiBlYWNoIG9wdGlvbiBpcyByZW5kZXJlZC5cXG4gICAgICBJdCB3aWxsIGJlIHBhc3NlZCAob3B0aW9uLCBpbmRleCwgb3B0aW9ucywgc3RhdGUpIHdoZXJlIG9wdGlvblxcbiAgICAgIGlzIHRoZSBvcHRpb24gdG8gcmVuZGVyLCBpbmRleCBpcyB0aGUgaW5kZXggb2YgdGhhdCBvcHRpb24gaW4gdGhlXFxuICAgICAgb3B0aW9ucyBhcnJheSwgYW5kIHN0YXRlIGlzIGFuIG9iamVjdCB3aXRoXFxuICAgICAgeyBhY3RpdmUsIGRpc2FibGVkLCBzZWxlY3RlZCB9IGtleXMgaW5kaWNhdGluZyB0aGUgY3VycmVudCBzdGF0ZVxcbiAgICAgIG9mIHRoZSBvcHRpb24uXCIpLFxuICAgIGNsb3NlT25DaGFuZ2U6IFByb3BUeXBlcy5ib29sLmRlc2NyaXB0aW9uKCdXZXRoZXIgdG8gY2xvc2UgdGhlIGRyb3Agd2hlbiBhIHNlbGVjdGlvbiBpcyBtYWRlLicpLmRlZmF1bHRWYWx1ZSh0cnVlKSxcbiAgICBkaXNhYmxlZDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmJvb2wsIFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5udW1iZXIsIFByb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5vYmplY3RdKSldKS5kZXNjcmlwdGlvbihcIldoZXRoZXIgdGhlIGVudGlyZSBzZWxlY3Qgb3IgaW5kaXZpZHVhbCBvcHRpb25zIHNob3VsZCBiZSBkaXNhYmxlZC5cXG4gICAgICAgIEFuIGFycmF5IG9mIG51bWJlcnMgaW5kaWNhdGVzIHRoZSBpbmRleGVzIGludG8gJ29wdGlvbnMnIG9mIHRoZVxcbiAgICAgICAgZGlzYWJsZWQgb3B0aW9ucy4gQW4gYXJyYXkgb2Ygc3RyaW5ncyBvciBvYmplY3RzIHdvcmsgdGhlIHNhbWUgd2F5XFxuICAgICAgICBhcyB0aGUgJ3ZhbHVlJyB0byBpbmRpY2F0ZSB3aGljaCBvcHRpb25zIGFyZSBkaXNhYmxlZC5cIikuZGVmYXVsdFZhbHVlKGZhbHNlKSxcbiAgICBkaXNhYmxlZEtleTogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLmZ1bmNdKS5kZXNjcmlwdGlvbihcIldoZW4gdGhlIG9wdGlvbnMgYXJyYXkgY29udGFpbnMgb2JqZWN0cywgdGhpcyBwcm9wZXJ0eSBpbmRpY2F0ZXMgaG93XFxuICAgICAgdG8gZGV0ZXJtaW5lIHdoaWNoIG9wdGlvbnMgc2hvdWxkIGJlIGRpc2FibGVkLiBJZiBhIHN0cmluZyBpc1xcbiAgICAgIHByb3ZpZGVkLCBpdCBpcyB1c2VkIGFzIHRoZSBrZXkgZm9yIGVhY2ggaXRlbSBvYmplY3QgYW5kIGlmIHRoYXQga2V5XFxuICAgICAgcmV0dXJucyB0cnV0aHksIHRoZSBvcHRpb24gaXMgZGlzYWJsZWQuIElmIGEgZnVuY3Rpb24gaXMgcHJvdmlkZWQsIGl0IGlzXFxuICAgICAgY2FsbGVkIHdpdGggdGhlIG9wdGlvbiBhbmQgdGhlIHJldHVybiB2YWx1ZSBkZXRlcm1pbmVzIGlmIHRoZSBvcHRpb25cXG4gICAgICBpcyBkaXNhYmxlZC5cIiksXG4gICAgZHJvcEFsaWduOiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgdG9wOiBQcm9wVHlwZXMub25lT2YoWyd0b3AnLCAnYm90dG9tJ10pLFxuICAgICAgYm90dG9tOiBQcm9wVHlwZXMub25lT2YoWyd0b3AnLCAnYm90dG9tJ10pLFxuICAgICAgcmlnaHQ6IFByb3BUeXBlcy5vbmVPZihbJ2xlZnQnLCAncmlnaHQnXSksXG4gICAgICBsZWZ0OiBQcm9wVHlwZXMub25lT2YoWydsZWZ0JywgJ3JpZ2h0J10pXG4gICAgfSkuZGVzY3JpcHRpb24oJ0hvdyB0byBhbGlnbiB0aGUgZHJvcC4nKS5kZWZhdWx0VmFsdWUoe1xuICAgICAgdG9wOiAnYm90dG9tJyxcbiAgICAgIGxlZnQ6ICdsZWZ0J1xuICAgIH0pLFxuICAgIGRyb3BIZWlnaHQ6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbJ3hzbWFsbCcsICdzbWFsbCcsICdtZWRpdW0nLCAnbGFyZ2UnLCAneGxhcmdlJ10pLCBQcm9wVHlwZXMuc3RyaW5nXSkuZGVzY3JpcHRpb24oJ1RoZSBoZWlnaHQgb2YgdGhlIGRyb3AgY29udGFpbmVyLicpLFxuICAgIGRyb3BUYXJnZXQ6IFByb3BUeXBlcy5vYmplY3QuZGVzY3JpcHRpb24oXCJUYXJnZXQgd2hlcmUgdGhlIG9wdGlvbnMgZHJvcCB3aWxsIGJlIGFsaWduZWQgdG8uIFRoaXMgc2hvdWxkIGJlXFxuICAgICAgYSBSZWFjdCByZWZlcmVuY2UuIFR5cGljYWxseSwgdGhpcyBpcyBub3QgcmVxdWlyZWQgYXMgdGhlIGRyb3Agd2lsbCBiZVxcbiAgICAgIGFsaWduZWQgdG8gdGhlIFNlbGVjdCBpdHNlbGYgYnkgZGVmYXVsdC5cIiksXG4gICAgZHJvcFByb3BzOiBQcm9wVHlwZXMub2JqZWN0LmRlc2NyaXB0aW9uKCdBbnkgdmFsaWQgRHJvcCBwcm9wLicpLFxuICAgIGZvY3VzSW5kaWNhdG9yOiBQcm9wVHlwZXMuYm9vbC5kZXNjcmlwdGlvbihcIldoZXRoZXIgd2hlbiAncGxhaW4nIGl0IHNob3VsZCByZWNlaXZlIGEgZm9jdXMgb3V0bGluZS5cIiksXG4gICAgaWNvbjogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmJvb2wsIFByb3BUeXBlcy5mdW5jLCBQcm9wVHlwZXMubm9kZV0pLmRlc2NyaXB0aW9uKFwiQSBjdXN0b20gaWNvbiB0byBiZSB1c2VkIHdoZW4gcmVuZGVyaW5nIHRoZSBzZWxlY3QuIFlvdSBjYW4gdXNlIGZhbHNlIHRvXFxuICAgICAgIG5vdCByZW5kZXIgYW4gaWNvbiBhdCBhbGwuXCIpLFxuICAgIGxhYmVsS2V5OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMuZnVuY10pLmRlc2NyaXB0aW9uKFwiV2hlbiB0aGUgb3B0aW9ucyBhcnJheSBjb250YWlucyBvYmplY3RzLCB0aGlzIHByb3BlcnR5IGluZGljYXRlcyBob3dcXG4gICAgICB0byBkZXRlcm1pbmUgdGhlIGxhYmVsIG9mIGVhY2ggb3B0aW9uLiBJZiBhIHN0cmluZyBpc1xcbiAgICAgIHByb3ZpZGVkLCBpdCBpcyB1c2VkIGFzIHRoZSBrZXkgdG8gcmV0cmlldmUgZWFjaCBvcHRpb24ncyBsYWJlbC5cXG4gICAgICBJZiBhIGZ1bmN0aW9uIGlzIHByb3ZpZGVkLCBpdCBpcyBjYWxsZWQgd2l0aCB0aGUgb3B0aW9uIGFuZCB0aGVcXG4gICAgICByZXR1cm4gdmFsdWUgaW5kaWNhdGVzIHRoZSBsYWJlbC5cIiksXG4gICAgbWVzc2FnZXM6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICBtdWx0aXBsZTogUHJvcFR5cGVzLnN0cmluZ1xuICAgIH0pLmRlc2NyaXB0aW9uKCdDdXN0b20gbWVzc2FnZXMuJyksXG4gICAgbXVsdGlwbGU6IFByb3BUeXBlcy5ib29sLmRlc2NyaXB0aW9uKCdXaGV0aGVyIHRvIGFsbG93IG11bHRpcGxlIG9wdGlvbnMgdG8gYmUgc2VsZWN0ZWQuJyksXG4gICAgb25DaGFuZ2U6IFByb3BUeXBlcy5mdW5jLmRlc2NyaXB0aW9uKCdGdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIHVzZXIgc2VsZWN0cyBhbiBvcHRpb24uJyksXG4gICAgb25DbG9zZTogUHJvcFR5cGVzLmZ1bmMuZGVzY3JpcHRpb24oJ0Z1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgU2VsZWN0IGRyb3AgY2xvc2VzLicpLFxuICAgIG9uT3BlbjogUHJvcFR5cGVzLmZ1bmMuZGVzY3JpcHRpb24oJ0Z1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgU2VsZWN0IGRyb3Agb3BlbnMuJyksXG4gICAgb25TZWFyY2g6IFByb3BUeXBlcy5mdW5jLmRlc2NyaXB0aW9uKFwiRnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCB3aGVuIHRoZSB1c2VyIHR5cGVzIGluIHRoZSBzZWFyY2ggaW5wdXQuXFxuICAgICAgSWYgdGhpcyBwcm9wZXJ0eSBpcyBub3QgcHJvdmlkZWQsIG5vIHNlYXJjaCBmaWVsZCB3aWxsIGJlIHJlbmRlcmVkLlwiKSxcbiAgICBvbk1vcmU6IFByb3BUeXBlcy5mdW5jLmRlc2NyaXB0aW9uKFwiVXNlIHRoaXMgdG8gaW5kaWNhdGUgdGhhdCAnaXRlbXMnIGRvZXNuJ3QgY29udGFpbiBhbGwgdGhhdCBpdCBjb3VsZC5cXG4gICAgICBJdCB3aWxsIGJlIGNhbGxlZCB3aGVuIHRoZSBlbnRpcmUgbGlzdCBvZiBpdGVtcyBoYXMgYmVlbiByZW5kZXJlZC5cXG4gICAgICBUaGlzIG1pZ2h0IGJlIHVzZWQgd2hlbiB0aGUgdG90YWwgbnVtYmVyIG9mIGl0ZW1zIHRoYXQgY291bGQgYmUgcmV0cmlldmVkXFxuICAgICAgaXMgbW9yZSB0aGFuIHlvdSdkIHdhbnQgdG8gbG9hZCBpbnRvIHRoZSBicm93c2VyLiAnb25Nb3JlJyBhbGxvd3MgeW91XFxuICAgICAgdG8gbGF6aWx5IGZldGNoIG1vcmUgZnJvbSB0aGUgc2VydmVyIG9ubHkgd2hlbiBuZWVkZWQuXCIpLFxuICAgIG9wdGlvbnM6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5udW1iZXIsIFByb3BUeXBlcy5ib29sLCBQcm9wVHlwZXMuZWxlbWVudCwgUHJvcFR5cGVzLm9iamVjdF0pKS5kZXNjcmlwdGlvbihcIk9wdGlvbnMgY2FuIGJlIGVpdGhlciBhIHN0cmluZyBvciBhbiBvYmplY3QuIElmIGFuIG9iamVjdCBpcyB1c2VkLCB1c2VcXG4gICAgICBjaGlsZHJlbiBjYWxsYmFjayBpbiBvcmRlciB0byByZW5kZXIgYW55dGhpbmcgYmFzZWQgb24gdGhlIGN1cnJlbnQgaXRlbS5cIikuaXNSZXF1aXJlZCxcbiAgICBvcGVuOiBQcm9wVHlwZXMuYm9vbC5kZXNjcmlwdGlvbihcIkNvbnRyb2wgdGhlIHN0YXRlIG9mIHRoZSBjb21wb25lbnQuXCIpLFxuICAgIHBsYWNlaG9sZGVyOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMuZWxlbWVudCwgUHJvcFR5cGVzLm5vZGVdKS5kZXNjcmlwdGlvbignUGxhY2Vob2xkZXIgdG8gdXNlIHdoZW4gbm8gdmFsdWUgaXMgcHJvdmlkZWQuJyksXG4gICAgcGxhaW46IFByb3BUeXBlcy5ib29sLmRlc2NyaXB0aW9uKCdXaGV0aGVyIHRoaXMgaXMgYSBwbGFpbiBTZWxlY3QgaW5wdXQgd2l0aCBubyBib3JkZXIgb3IgcGFkZGluZy4nKSxcbiAgICByZXBsYWNlOiBQcm9wVHlwZXMuYm9vbC5kZXNjcmlwdGlvbihcIldoZXRoZXIgdG8gcmVwbGFjZSBwcmV2aW91c2x5IHJlbmRlcmVkIGl0ZW1zIHdpdGggYSBnZW5lcmljIHNwYWNpbmdcXG4gICAgICBlbGVtZW50IHdoZW4gdGhleSBoYXZlIHNjcm9sbGVkIG91dCBvZiB2aWV3LiBUaGlzIGlzIG1vcmUgcGVyZm9ybWFudCBidXRcXG4gICAgICBtZWFucyB0aGF0IGluLXBhZ2Ugc2VhcmNoaW5nIHdpbGwgbm90IGZpbmQgZWxlbWVudHMgdGhhdCBoYXZlIGJlZW5cXG4gICAgICByZXBsYWNlZC5cIikuZGVmYXVsdFZhbHVlKHRydWUpLFxuICAgIHNlYXJjaFBsYWNlaG9sZGVyOiBQcm9wVHlwZXMuc3RyaW5nLmRlc2NyaXB0aW9uKFwiUGxhY2Vob2xkZXIgdGV4dCB0byB1c2UgaW4gdGhlIHNlYXJjaCBib3ggd2hlbiB0aGUgc2VhcmNoIGlucHV0IGlzIFxcbiAgICAgIGVtcHR5LlwiKSxcbiAgICBzZWxlY3RlZDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm51bWJlciwgUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm51bWJlcildKS5kZXNjcmlwdGlvbihcIkluZGV4IG9mIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgb3B0aW9uLiBXaGVuIG11bHRpcGxlLCB0aGUgc2V0IG9mXFxuICAgICAgb3B0aW9ucyBzZWxlY3RlZC4gTk9URTogVGhpcyBpcyBkZXByZWNhdGVkIGluIGZhdm9yIG9mIGluZGljYXRpbmdcXG4gICAgICB0aGUgc2VsZWN0ZWQgdmFsdWVzIHZpYSB0aGUgJ3ZhbHVlJyBwcm9wZXJ0eS5cIiksXG4gICAgc2l6ZTogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFsnc21hbGwnLCAnbWVkaXVtJywgJ2xhcmdlJywgJ3hsYXJnZSddKSwgUHJvcFR5cGVzLnN0cmluZ10pLmRlc2NyaXB0aW9uKCdUaGUgc2l6ZSBvZiB0aGUgdGV4dCBhbmQgaWNvbi4nKSxcbiAgICB2YWx1ZTogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLmVsZW1lbnQsIC8vIGRlcHJlY2F0ZWQsIHVzZSB2YWx1ZUxhYmVsXG4gICAgUHJvcFR5cGVzLm9iamVjdCwgUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLm9iamVjdF0pKV0pLmRlc2NyaXB0aW9uKFwiQ3VycmVudGx5IHNlbGVjdGVkIHZhbHVlLiBUaGlzIGNhbiBiZSBhbiBhcnJheVxcbiAgICAgIHdoZW4gbXVsdGlwbGUuIFBhc3NpbmcgYW4gZWxlbWVudCBhbGxvd3MgdGhlIGNhbGxlciB0byBjb250cm9sIGhvd1xcbiAgICAgIHRoZSB2YWx1ZSBpcyByZW5kZXJlZC4gUGFzc2luZyBhbiBlbGVtZW50IGlzIGRlcHJlY2F0ZWQuIEluc3RlYWQsXFxuICAgICAgdXNlIHRoZSAndmFsdWVMYWJlbCcgcHJvcGVydHkuXCIpLFxuICAgIHZhbHVlTGFiZWw6IFByb3BUeXBlcy5ub2RlLmRlc2NyaXB0aW9uKFwiUHJvdmlkZXMgY3VzdG9tIHJlbmRlcmluZyBvZiB0aGUgdmFsdWUuIElmIG5vdCBwcm92aWRlZCwgU2VsZWN0XFxuICAgICAgd2lsbCByZW5kZXIgdGhlIHZhbHVlIGF1dG9tYXRpY2FsbHkuXCIpLFxuICAgIHZhbHVlS2V5OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMuZnVuY10pLmRlc2NyaXB0aW9uKFwiV2hlbiB0aGUgb3B0aW9ucyBhcnJheSBjb250YWlucyBvYmplY3RzLCB0aGlzIHByb3BlcnR5IGluZGljYXRlcyBob3dcXG4gICAgICB0byBkZXRlcm1pbmUgdGhlIHZhbHVlIG9mIGVhY2ggb3B0aW9uLiBJZiBhIHN0cmluZyBpc1xcbiAgICAgIHByb3ZpZGVkLCBpdCBpcyB1c2VkIGFzIHRoZSBrZXkgdG8gcmV0cmlldmUgZWFjaCBvcHRpb24ncyB2YWx1ZS5cXG4gICAgICBJZiBhIGZ1bmN0aW9uIGlzIHByb3ZpZGVkLCBpdCBpcyBjYWxsZWQgd2l0aCB0aGUgb3B0aW9uIGFuZCB0aGVcXG4gICAgICByZXR1cm4gdmFsdWUgaW5kaWNhdGVzIHRoZSB2YWx1ZS5cIiksXG4gICAgZW1wdHlTZWFyY2hNZXNzYWdlOiBQcm9wVHlwZXMuc3RyaW5nLmRlc2NyaXB0aW9uKFwiRW1wdHkgb3B0aW9uIG1lc3NhZ2UgdG8gZGlzcGxheSB3aGVuIG5vIG1hdGNoaW5nIHJlc3VsdHMgd2VyZSBmb3VuZFwiKS5kZWZhdWx0VmFsdWUoJ05vIG1hdGNoZXMgZm91bmQnKVxuICB9KTtcbiAgcmV0dXJuIERvY3VtZW50ZWRTZWxlY3Q7XG59O1xuZXhwb3J0IHZhciB0aGVtZURvYyA9IHtcbiAgJ2dsb2JhbC5ob3Zlci5iYWNrZ3JvdW5kJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGJhY2tncm91bmQgc3R5bGUgd2hlbiBob3ZlcmluZy4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCB7IGNvbG9yOiBzdHJpbmcsIG9wYWNpdHk6IHN0cmluZyB9JyxcbiAgICBkZWZhdWx0VmFsdWU6IFwieyBjb2xvcjogJ2FjdGl2ZScsIG9wYWNpdHk6ICdtZWRpdW0nIH1cIlxuICB9LFxuICAnZ2xvYmFsLmhvdmVyLmNvbG9yJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIHRleHQgY29sb3Igd2hlbiBob3ZlcmluZy4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCB7IGRhcms6IHN0cmluZywgbGlnaHQ6IHN0cmluZyB9JyxcbiAgICBkZWZhdWx0VmFsdWU6IFwieyBkYXJrOiAnd2hpdGUnLCBsaWdodDogJ2JsYWNrJyB9XCJcbiAgfSxcbiAgJ3NlbGVjdC5iYWNrZ3JvdW5kJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGJhY2tncm91bmQgY29sb3IgdXNlZCBmb3IgU2VsZWN0LicsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiB1bmRlZmluZWRcbiAgfSxcbiAgJ3NlbGVjdC5vcHRpb25zLmNvbnRhaW5lcic6IHtcbiAgICBkZXNjcmlwdGlvbjogJ0FueSB2YWxpZCBCb3ggcHJvcCBmb3IgdGhlIG9wdGlvbnMgY29udGFpbmVyLicsXG4gICAgdHlwZTogJ29iamVjdCcsXG4gICAgZGVmYXVsdFZhbHVlOiBcInsgYWxpZ246ICdzdGFydCcsIHBhZDogJ3NtYWxsJyB9XCJcbiAgfSxcbiAgJ3NlbGVjdC5vcHRpb25zLnRleHQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdBbnkgdmFsaWQgVGV4dCBwcm9wIGZvciB0ZXh0IHVzZWQgaW5zaWRlIHRoZSBvcHRpb25zIGNvbnRhaW5lci4nLFxuICAgIHR5cGU6ICdvYmplY3QnLFxuICAgIGRlZmF1bHRWYWx1ZTogXCJ7IG1hcmdpbjogJ25vbmUgfVwiXG4gIH0sXG4gICdzZWxlY3QuY29udGFpbmVyLmV4dGVuZCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ0FueSBhZGRpdGlvbmFsIHN0eWxlIGZvciB0aGUgY29udGFpbmVyIG9mIHRoZSBTZWxlY3QgY29tcG9uZW50LicsXG4gICAgdHlwZTogJ3N0cmluZyB8IChwcm9wcykgPT4ge30nLFxuICAgIGRlZmF1bHRWYWx1ZTogdW5kZWZpbmVkXG4gIH0sXG4gICdzZWxlY3QuY29udHJvbC5vcGVuJzoge1xuICAgIGRlc2NyaXB0aW9uOiBcIkFueSBhZGRpdGlvbmFsIHN0eWxlIGZvciB0aGUgY29udHJvbCBvcGVuIHN0YXRlIG9mIHRoZSBTZWxlY3QgXFxuY29tcG9uZW50LlwiLFxuICAgIHR5cGU6ICdvYmplY3QnLFxuICAgIGRlZmF1bHRWYWx1ZTogdW5kZWZpbmVkXG4gIH0sXG4gICdzZWxlY3QuY29udHJvbC5leHRlbmQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdBbnkgYWRkaXRpb25hbCBzdHlsZSBmb3IgdGhlIGNvbnRyb2wgb2YgdGhlIFNlbGVjdCBjb21wb25lbnQuJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgKHByb3BzKSA9PiB7fScsXG4gICAgZGVmYXVsdFZhbHVlOiB1bmRlZmluZWRcbiAgfSxcbiAgJ3NlbGVjdC5pY29ucy5tYXJnaW4nOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgbWFyZ2luIHVzZWQgZm9yIFNlbGVjdCBpY29ucy4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCBvYmplY3QnLFxuICAgIGRlZmF1bHRWYWx1ZTogdW5kZWZpbmVkXG4gIH0sXG4gICdzZWxlY3QuaWNvbnMuY29sb3InOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgY29sb3IgdXNlZCBmb3IgU2VsZWN0IGljb25zLicsXG4gICAgdHlwZTogJ3N0cmluZyB8IHsgZGFyazogc3RyaW5nLCBsaWdodDogc3RyaW5nIH0nLFxuICAgIGRlZmF1bHRWYWx1ZTogdW5kZWZpbmVkXG4gIH0sXG4gICdzZWxlY3QuaWNvbnMuZG93bic6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBkb3duIGljb24gdG8gdXNlIGZvciBvcGVuaW5nIHRoZSBTZWxlY3QuJyxcbiAgICB0eXBlOiAnUmVhY3QuRWxlbWVudCcsXG4gICAgZGVmYXVsdFZhbHVlOiAnPEZvcm1Eb3duIC8+J1xuICB9LFxuICAnc2VsZWN0LnNlYXJjaElucHV0Jzoge1xuICAgIGRlc2NyaXB0aW9uOiBcIkNvbXBvbmVudCBmb3IgdGhlIFNlbGVjdCBzZWFyY2ggaW5wdXQgZmllbGQuXCIsXG4gICAgdHlwZTogJ1JlYWN0LkNvbXBvbmVudCcsXG4gICAgZGVmYXVsdFZhbHVlOiB1bmRlZmluZWRcbiAgfSxcbiAgJ3NlbGVjdC5zdGVwJzoge1xuICAgIGRlc2NyaXB0aW9uOiBcIkhvdyBtYW55IGl0ZW1zIHRvIHJlbmRlciBhdCBhIHRpbWUuXCIsXG4gICAgdHlwZTogJ251bWJlcicsXG4gICAgZGVmYXVsdFZhbHVlOiAyMFxuICB9XG59OyIsImV4cG9ydCB7IFNlbGVjdCB9IGZyb20gJy4vU2VsZWN0JzsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBBbmNob3IgfSBmcm9tICcuLi9BbmNob3InO1xuaW1wb3J0IHsgQm94IH0gZnJvbSAnLi4vQm94JztcbmV4cG9ydCB2YXIgU2tpcExpbmsgPSBmdW5jdGlvbiBTa2lwTGluayhfcmVmKSB7XG4gIHZhciBpZCA9IF9yZWYuaWQsXG4gICAgICBsYWJlbCA9IF9yZWYubGFiZWwsXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZiwgW1wiaWRcIiwgXCJsYWJlbFwiXSk7XG5cbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQm94LCB7XG4gICAgbWFyZ2luOiBcInNtYWxsXCJcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChBbmNob3IsIF9leHRlbmRzKHtcbiAgICBocmVmOiBcIiNcIiArIGlkLFxuICAgIGxhYmVsOiBsYWJlbFxuICB9LCByZXN0KSkpO1xufTsiLCJleHBvcnQgeyBTa2lwTGluayB9IGZyb20gJy4vU2tpcExpbmsnOyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBzdHlsZWQgZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgQW5jaG9yIH0gZnJvbSAnLi4vQW5jaG9yJztcbnZhciBIaWRkZW5BbmNob3IgPSBzdHlsZWQoQW5jaG9yKS53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiU2tpcExpbmtUYXJnZXRfX0hpZGRlbkFuY2hvclwiLFxuICBjb21wb25lbnRJZDogXCJzYy0xNndqZmdrLTBcIlxufSkoW1wid2lkdGg6MDtoZWlnaHQ6MDtvdmVyZmxvdzpoaWRkZW47cG9zaXRpb246YWJzb2x1dGU7XCJdKTtcbmV4cG9ydCB2YXIgU2tpcExpbmtUYXJnZXQgPSBmdW5jdGlvbiBTa2lwTGlua1RhcmdldChfcmVmKSB7XG4gIHZhciBsYWJlbCA9IF9yZWYubGFiZWwsXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZiwgW1wibGFiZWxcIl0pO1xuXG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEhpZGRlbkFuY2hvciwgX2V4dGVuZHMoe30sIHJlc3QsIHtcbiAgICB0YWJJbmRleDogXCItMVwiLFxuICAgIFwiYXJpYS1oaWRkZW5cIjogXCJ0cnVlXCJcbiAgfSksIGxhYmVsKTtcbn07IiwiZXhwb3J0IHsgU2tpcExpbmtUYXJnZXQgfSBmcm9tICcuL1NraXBMaW5rVGFyZ2V0JzsiLCJpbXBvcnQgUmVhY3QsIHsgY2xvbmVFbGVtZW50LCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgQm94IH0gZnJvbSAnLi4vQm94JztcbmltcG9ydCB7IEhlYWRpbmcgfSBmcm9tICcuLi9IZWFkaW5nJztcbmltcG9ydCB7IExheWVyIH0gZnJvbSAnLi4vTGF5ZXInO1xuXG52YXIgU2tpcExpbmtzID0gZnVuY3Rpb24gU2tpcExpbmtzKF9yZWYpIHtcbiAgdmFyIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbixcbiAgICAgIGlkID0gX3JlZi5pZCxcbiAgICAgIG1lc3NhZ2VzID0gX3JlZi5tZXNzYWdlcztcblxuICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUoZmFsc2UpLFxuICAgICAgc2hvd0xheWVyID0gX3VzZVN0YXRlWzBdLFxuICAgICAgc2V0U2hvd0xheWVyID0gX3VzZVN0YXRlWzFdO1xuXG4gIHZhciBsYXllclJlZiA9IHVzZVJlZihudWxsKTtcblxuICB2YXIgb25Gb2N1cyA9IGZ1bmN0aW9uIG9uRm9jdXMoKSB7XG4gICAgc2V0U2hvd0xheWVyKHRydWUpO1xuICB9O1xuXG4gIHZhciByZW1vdmVMYXllciA9IGZ1bmN0aW9uIHJlbW92ZUxheWVyKCkge1xuICAgIHNldFNob3dMYXllcihmYWxzZSk7XG4gIH07XG5cbiAgdmFyIG9uQmx1ciA9IGZ1bmN0aW9uIG9uQmx1cigpIHtcbiAgICAvLyB0aW1lb3V0IG5lZWRlZCBzbyBpdCBnaXZlcyBlbm91Z2ggdGltZSBmb3IgYWN0aXZlRWxlbWVudCB0byBiZSB1cGRhdGVkXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgbGF5ZXJOb2RlID0gbGF5ZXJSZWYuY3VycmVudDtcblxuICAgICAgaWYgKGxheWVyTm9kZSAmJiBsYXllck5vZGUubGF5ZXJDb250YWluZXIuY29udGFpbnMgJiYgIWxheWVyTm9kZS5sYXllckNvbnRhaW5lci5jb250YWlucyhkb2N1bWVudC5hY3RpdmVFbGVtZW50KSkge1xuICAgICAgICByZW1vdmVMYXllcigpO1xuICAgICAgfVxuICAgIH0sIDApO1xuICB9O1xuXG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KExheWVyLCB7XG4gICAgaWQ6IGlkLFxuICAgIHBvc2l0aW9uOiBzaG93TGF5ZXIgPyAndG9wJyA6ICdoaWRkZW4nLFxuICAgIHJlZjogbGF5ZXJSZWYsXG4gICAgb25Gb2N1czogb25Gb2N1cyxcbiAgICBvbkJsdXI6IG9uQmx1clxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwge1xuICAgIHBhZDoge1xuICAgICAgaG9yaXpvbnRhbDogJ21lZGl1bSdcbiAgICB9XG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSGVhZGluZywge1xuICAgIGxldmVsOiAyXG4gIH0sIG1lc3NhZ2VzLnNraXBUbywgXCI6XCIpLCBSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwge1xuICAgIGRpcmVjdGlvbjogXCJyb3dcIixcbiAgICBhbGlnbjogXCJjZW50ZXJcIixcbiAgICBwYWQ6IHtcbiAgICAgIGJvdHRvbTogJ21lZGl1bSdcbiAgICB9XG4gIH0sIGNoaWxkcmVuLm1hcChmdW5jdGlvbiAoZWxlbWVudCwgaW5kZXgpIHtcbiAgICByZXR1cm4gY2xvbmVFbGVtZW50KGVsZW1lbnQsIHtcbiAgICAgIGtleTogXCJza2lwLWxpbmstXCIgKyBpbmRleCxcbiAgICAgIG9uQ2xpY2s6IHJlbW92ZUxheWVyXG4gICAgfSk7XG4gIH0pKSkpO1xufTtcblxuU2tpcExpbmtzLmRlZmF1bHRQcm9wcyA9IHtcbiAgbWVzc2FnZXM6IHtcbiAgICBza2lwVG86ICdTa2lwIFRvJ1xuICB9XG59O1xudmFyIFNraXBMaW5rc0RvYztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGdsb2JhbC1yZXF1aXJlXG4gIFNraXBMaW5rc0RvYyA9IHJlcXVpcmUoJy4vZG9jJykuZG9jKFNraXBMaW5rcyk7XG59XG5cbnZhciBTa2lwTGlua3NXcmFwcGVyID0gU2tpcExpbmtzRG9jIHx8IFNraXBMaW5rcztcbmV4cG9ydCB7IFNraXBMaW5rc1dyYXBwZXIgYXMgU2tpcExpbmtzIH07IiwiaW1wb3J0IHsgZGVzY3JpYmUsIFByb3BUeXBlcyB9IGZyb20gJ3JlYWN0LWRlc2MnO1xuaW1wb3J0IHsgZ2V0QXZhaWxhYmxlQXRCYWRnZSB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmV4cG9ydCB2YXIgZG9jID0gZnVuY3Rpb24gZG9jKFNraXBMaW5rcykge1xuICB2YXIgRG9jdW1lbnRlZFNraXBMaW5rcyA9IGRlc2NyaWJlKFNraXBMaW5rcykuYXZhaWxhYmxlQXQoZ2V0QXZhaWxhYmxlQXRCYWRnZSgnU2tpcExpbmtzJykpLmRlc2NyaXB0aW9uKCdEZXNjcmliZSBhIGxpc3Qgb2YgZWxlbWVudHMgdG8gc2tpcCB0by4nKS51c2FnZShcImltcG9ydCB7IFNraXBMaW5rcyB9IGZyb20gJ2dyb21tZXQnO1xcbjxTa2lwTGlua3MgZWxlbWVudHM9e1snbWFpbicsICdmb290ZXInXX0gLz5cIik7XG4gIERvY3VtZW50ZWRTa2lwTGlua3MucHJvcFR5cGVzID0ge1xuICAgIGNoaWxkcmVuOiBQcm9wVHlwZXMubm9kZS5kZXNjcmlwdGlvbignQXJyYXkgb2YgU2tpcExpbmsnKS5pc1JlcXVpcmVkLFxuICAgIG1lc3NhZ2VzOiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgc2tpcFRvOiBQcm9wVHlwZXMuc3RyaW5nXG4gICAgfSkuZGVzY3JpcHRpb24oXCJDdXN0b20gbWVzc2FnZXMgZm9yIFNraXBMaW5rcy4gVXNlZCBmb3IgYWNjZXNzaWJpbGl0eSBieSBzY3JlZW4gXFxucmVhZGVycy5cIilcbiAgfTtcbiAgcmV0dXJuIERvY3VtZW50ZWRTa2lwTGlua3M7XG59OyIsImV4cG9ydCB7IFNraXBMaW5rcyB9IGZyb20gJy4vU2tpcExpbmtzJzsiLCJmdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmltcG9ydCBSZWFjdCwgeyBDaGlsZHJlbiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFN0eWxlZFN0YWNrLCBTdHlsZWRTdGFja0xheWVyIH0gZnJvbSAnLi9TdHlsZWRTdGFjayc7XG5cbnZhciBidWlsZFN0eWxlZENoaWxkcmVuID0gZnVuY3Rpb24gYnVpbGRTdHlsZWRDaGlsZHJlbihfcmVmKSB7XG4gIHZhciBhbmNob3IgPSBfcmVmLmFuY2hvcixcbiAgICAgIGZpbGwgPSBfcmVmLmZpbGwsXG4gICAgICBndWlkaW5nSW5kZXggPSBfcmVmLmd1aWRpbmdJbmRleCxcbiAgICAgIGludGVyYWN0aXZlQ2hpbGQgPSBfcmVmLmludGVyYWN0aXZlQ2hpbGQsXG4gICAgICBpbnRlcmFjdGl2ZUluZGV4ID0gX3JlZi5pbnRlcmFjdGl2ZUluZGV4O1xuICB2YXIgY2hpbGRJbmRleCA9IDA7XG4gIHJldHVybiBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICBpZiAoY2hpbGQpIHtcbiAgICAgIHZhciBpbnRlcmFjdGl2ZSA9IGludGVyYWN0aXZlQ2hpbGQgPT09IHVuZGVmaW5lZCB8fCBpbnRlcmFjdGl2ZUluZGV4ID09PSBjaGlsZEluZGV4O1xuICAgICAgdmFyIGlzR3VpZGluZ0luZGV4ID0gY2hpbGRJbmRleCA9PT0gZ3VpZGluZ0luZGV4O1xuICAgICAgY2hpbGRJbmRleCArPSAxO1xuICAgICAgdmFyIHByb3BzID0gaXNHdWlkaW5nSW5kZXggPyB7XG4gICAgICAgIGd1aWRpbmc6IHRydWUsXG4gICAgICAgIGZpbGxDb250YWluZXI6IGZpbGxcbiAgICAgIH0gOiB7XG4gICAgICAgIGFuY2hvcjogYW5jaG9yXG4gICAgICB9O1xuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkU3RhY2tMYXllciwgX2V4dGVuZHMoe1xuICAgICAgICBpbnRlcmFjdGl2ZTogaW50ZXJhY3RpdmVcbiAgICAgIH0sIHByb3BzKSwgY2hpbGQpO1xuICAgIH1cblxuICAgIHJldHVybiBjaGlsZDtcbiAgfTtcbn07XG5cbnZhciBTdGFjayA9IGZ1bmN0aW9uIFN0YWNrKF9yZWYyKSB7XG4gIHZhciBhbmNob3IgPSBfcmVmMi5hbmNob3IsXG4gICAgICBjaGlsZHJlbiA9IF9yZWYyLmNoaWxkcmVuLFxuICAgICAgZmlsbCA9IF9yZWYyLmZpbGwsXG4gICAgICBndWlkaW5nQ2hpbGQgPSBfcmVmMi5ndWlkaW5nQ2hpbGQsXG4gICAgICBpbnRlcmFjdGl2ZUNoaWxkID0gX3JlZjIuaW50ZXJhY3RpdmVDaGlsZCxcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfcmVmMiwgW1wiYW5jaG9yXCIsIFwiY2hpbGRyZW5cIiwgXCJmaWxsXCIsIFwiZ3VpZGluZ0NoaWxkXCIsIFwiaW50ZXJhY3RpdmVDaGlsZFwiXSk7XG5cbiAgdmFyIHRvQ2hpbGRJbmRleCA9IGZ1bmN0aW9uIHRvQ2hpbGRJbmRleChjaGlsZCkge1xuICAgIHZhciBpbmRleCA9IGNoaWxkO1xuICAgIGlmIChpbmRleCA9PT0gJ2ZpcnN0JyB8fCAhaW5kZXgpIGluZGV4ID0gMDtlbHNlIGlmIChpbmRleCA9PT0gJ2xhc3QnKSBpbmRleCA9IFJlYWN0LkNoaWxkcmVuLmNvdW50KGNoaWxkcmVuKSAtIDE7XG4gICAgcmV0dXJuIGluZGV4O1xuICB9O1xuXG4gIHZhciBndWlkaW5nSW5kZXggPSB0b0NoaWxkSW5kZXgoZ3VpZGluZ0NoaWxkKTtcbiAgdmFyIGludGVyYWN0aXZlSW5kZXggPSBpbnRlcmFjdGl2ZUNoaWxkICYmIHRvQ2hpbGRJbmRleChpbnRlcmFjdGl2ZUNoaWxkKTtcbiAgdmFyIHN0eWxlZENoaWxkcmVuID0gQ2hpbGRyZW4ubWFwKGNoaWxkcmVuLCBidWlsZFN0eWxlZENoaWxkcmVuKHtcbiAgICBhbmNob3I6IGFuY2hvcixcbiAgICBmaWxsOiBmaWxsLFxuICAgIGd1aWRpbmdJbmRleDogZ3VpZGluZ0luZGV4LFxuICAgIGludGVyYWN0aXZlQ2hpbGQ6IGludGVyYWN0aXZlQ2hpbGQsXG4gICAgaW50ZXJhY3RpdmVJbmRleDogaW50ZXJhY3RpdmVJbmRleFxuICB9KSk7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZFN0YWNrLCBfZXh0ZW5kcyh7XG4gICAgZmlsbENvbnRhaW5lcjogZmlsbFxuICB9LCByZXN0KSwgc3R5bGVkQ2hpbGRyZW4pO1xufTtcblxudmFyIFN0YWNrRG9jO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBTdGFja0RvYyA9IHJlcXVpcmUoJy4vZG9jJykuZG9jKFN0YWNrKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBnbG9iYWwtcmVxdWlyZVxufVxuXG52YXIgU3RhY2tXcmFwcGVyID0gU3RhY2tEb2MgfHwgU3RhY2s7XG5leHBvcnQgeyBTdGFja1dyYXBwZXIgYXMgU3RhY2sgfTsiLCJpbXBvcnQgc3R5bGVkIGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCB7IGdlbmVyaWNTdHlsZXMgfSBmcm9tICcuLi8uLi91dGlscyc7XG5pbXBvcnQgeyBkZWZhdWx0UHJvcHMgfSBmcm9tICcuLi8uLi9kZWZhdWx0LXByb3BzJztcbnZhciBmaWxsU3R5bGUgPSBcIlxcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICBtYXgtd2lkdGg6IG5vbmU7XFxuICBmbGV4LWdyb3c6IDE7XFxuICBkaXNwbGF5OiBmbGV4O1xcblwiO1xudmFyIFN0eWxlZFN0YWNrID0gc3R5bGVkLmRpdi53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiU3R5bGVkU3RhY2tcIixcbiAgY29tcG9uZW50SWQ6IFwiYWpzcHNrLTBcIlxufSkoW1wicG9zaXRpb246cmVsYXRpdmU7XCIsIFwiIFwiLCBcIiBcIiwgXCJcIl0sIGdlbmVyaWNTdHlsZXMsIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuZmlsbENvbnRhaW5lciAmJiBmaWxsU3R5bGU7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLnN0YWNrICYmIHByb3BzLnRoZW1lLnN0YWNrLmV4dGVuZDtcbn0pO1xuU3R5bGVkU3RhY2suZGVmYXVsdFByb3BzID0ge307XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoU3R5bGVkU3RhY2suZGVmYXVsdFByb3BzLCBkZWZhdWx0UHJvcHMpO1xudmFyIHN0eWxlTWFwID0ge1xuICBmaWxsOiBcIlxcbiAgICB0b3A6IDA7XFxuICAgIGxlZnQ6IDA7XFxuICAgIGJvdHRvbTogMDtcXG4gICAgcmlnaHQ6IDA7XFxuICBcIixcbiAgY2VudGVyOiBcIlxcbiAgICB0b3A6IDUwJTtcXG4gICAgbGVmdDogNTAlO1xcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTtcXG4gIFwiLFxuICBsZWZ0OiBcIlxcbiAgICB0b3A6IDUwJTtcXG4gICAgbGVmdDogMDtcXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO1xcbiAgXCIsXG4gIHJpZ2h0OiBcIlxcbiAgICB0b3A6IDUwJTtcXG4gICAgcmlnaHQ6IDA7XFxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTtcXG4gIFwiLFxuICB0b3A6IFwiXFxuICAgIHRvcDogMDtcXG4gICAgbGVmdDogNTAlO1xcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7XFxuICBcIixcbiAgYm90dG9tOiBcIlxcbiAgICBib3R0b206IDA7XFxuICAgIGxlZnQ6IDUwJTtcXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpO1xcbiAgXCIsXG4gICd0b3AtbGVmdCc6IFwiXFxuICAgIHRvcDogMDtcXG4gICAgbGVmdDogMDtcXG4gIFwiLFxuICAnYm90dG9tLWxlZnQnOiBcIlxcbiAgICBib3R0b206IDA7XFxuICAgIGxlZnQ6IDA7XFxuICBcIixcbiAgJ3RvcC1yaWdodCc6IFwiXFxuICAgIHRvcDogMDtcXG4gICAgcmlnaHQ6IDA7XFxuICBcIixcbiAgJ2JvdHRvbS1yaWdodCc6IFwiXFxuICAgIGJvdHRvbTogMDtcXG4gICAgcmlnaHQ6IDA7XFxuICBcIlxufTtcbnZhciBTdHlsZWRTdGFja0xheWVyID0gc3R5bGVkLmRpdi53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiU3R5bGVkU3RhY2tfX1N0eWxlZFN0YWNrTGF5ZXJcIixcbiAgY29tcG9uZW50SWQ6IFwiYWpzcHNrLTFcIlxufSkoW1wicG9zaXRpb246XCIsIFwiO1wiLCBcIiBcIiwgXCIgXCIsIFwiIFwiLCBcIlwiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5ndWlkaW5nID8gJ3JlbGF0aXZlJyA6ICdhYnNvbHV0ZSc7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLmd1aWRpbmcgJiYgJ2Rpc3BsYXk6IGJsb2NrOyc7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuICFwcm9wcy5ndWlkaW5nICYmIHN0eWxlTWFwW3Byb3BzLmFuY2hvciB8fCAnZmlsbCddICsgXCI7XCI7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLmZpbGxDb250YWluZXIgJiYgXCJcXG4gICAgd2lkdGg6IDEwMCU7XFxuICAgIGhlaWdodDogMTAwJTtcXG4gIFwiO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiAhcHJvcHMuaW50ZXJhY3RpdmUgJiYgXCJwb2ludGVyLWV2ZW50czogbm9uZTtcIjtcbn0pO1xuU3R5bGVkU3RhY2tMYXllci5kZWZhdWx0UHJvcHMgPSB7fTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihTdHlsZWRTdGFja0xheWVyLmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbmV4cG9ydCB7IFN0eWxlZFN0YWNrLCBTdHlsZWRTdGFja0xheWVyIH07IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuaW1wb3J0IHsgZGVzY3JpYmUsIFByb3BUeXBlcyB9IGZyb20gJ3JlYWN0LWRlc2MnO1xuaW1wb3J0IHsgZ2VuZXJpY1Byb3BzLCBnZXRBdmFpbGFibGVBdEJhZGdlIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuZXhwb3J0IHZhciBkb2MgPSBmdW5jdGlvbiBkb2MoU3RhY2spIHtcbiAgdmFyIERvY3VtZW50ZWRTdGFjayA9IGRlc2NyaWJlKFN0YWNrKS5hdmFpbGFibGVBdChnZXRBdmFpbGFibGVBdEJhZGdlKCdTdGFjaycpKS5kZXNjcmlwdGlvbihcIkEgY29udGFpbmVyIHRoYXQgc3RhY2tzIGNvbnRlbnRzIG9uIHRvcCBvZiBlYWNoIG90aGVyLiBPbmUgY2hpbGQgaXNcXG4gICAgICBkZXNpZ25hdGVkIGFzIHRoZSBgZ3VpZGluZ0NoaWxkYCB3aGljaCBkZXRlcm1pbmVzIHRoZSBzaXplLiBBbGxcXG4gICAgICBvdGhlciBjaGlsZHJlbiBhcmUgcGxhY2VkIHdpdGhpbiB0aGF0IHNpemUsIGVpdGhlciBhYm92ZSBvciBiZWxvd1xcbiAgICAgIGJhc2VkIG9uIHRoZWlyIG9yZGVyLiBTdGFjayBpcyB0eXBpY2FsbHkgdXNlZCB0byBkZWNvcmF0ZSBNZXRlciwgQ2hhcnQsXFxuICAgICAgb3IgaWNvbnMuXCIpLnVzYWdlKFwiaW1wb3J0IHsgU3RhY2sgfSBmcm9tICdncm9tbWV0JztcXG48U3RhY2sgLz5cIikuaW50cmluc2ljRWxlbWVudCgnZGl2Jyk7XG4gIERvY3VtZW50ZWRTdGFjay5wcm9wVHlwZXMgPSBfZXh0ZW5kcyh7fSwgZ2VuZXJpY1Byb3BzLCB7XG4gICAgYW5jaG9yOiBQcm9wVHlwZXMub25lT2YoWydjZW50ZXInLCAnbGVmdCcsICdyaWdodCcsICd0b3AnLCAnYm90dG9tJywgJ3RvcC1sZWZ0JywgJ2JvdHRvbS1sZWZ0JywgJ3RvcC1yaWdodCcsICdib3R0b20tcmlnaHQnXSkuZGVzY3JpcHRpb24oXCJXaGVyZSB0byBhbmNob3IgY2hpbGRyZW4gZnJvbS4gSWYgbm90IHNwZWNpZmllZCwgY2hpbGRyZW5cXG4gICAgICBmaWxsIHRoZSBndWlkaW5nIGNoaWxkJ3MgYXJlYS5cIiksXG4gICAgZmlsbDogUHJvcFR5cGVzLmJvb2wuZGVzY3JpcHRpb24oXCJXaGV0aGVyIHRvIGV4cGFuZCB0byBmaWxsXFxuICAgICAgYWxsIG9mIHRoZSBhdmFpbGFibGUgd2lkdGggYW5kIGhlaWdodCBpbiB0aGUgcGFyZW50IGNvbnRhaW5lci5cIikuZGVmYXVsdFZhbHVlKGZhbHNlKSxcbiAgICBndWlkaW5nQ2hpbGQ6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5udW1iZXIsIFByb3BUeXBlcy5vbmVPZihbJ2ZpcnN0JywgJ2xhc3QnXSldKS5kZXNjcmlwdGlvbihcIldoaWNoIGNoaWxkIHRvIGd1aWRlIGxheW91dCBmcm9tLiBBbGwgb3RoZXIgY2hpbGRyZW5cXG4gICAgICB3aWxsIGJlIHBvc2l0aW9uZWQgd2l0aGluIHRoYXQgYXJlYS4gRGVmYXVsdHMgdG8gJ2ZpcnN0Jy5cIikuZGVmYXVsdFZhbHVlKCdmaXJzdCcpLFxuICAgIGludGVyYWN0aXZlQ2hpbGQ6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5udW1iZXIsIFByb3BUeXBlcy5vbmVPZihbJ2ZpcnN0JywgJ2xhc3QnXSldKS5kZXNjcmlwdGlvbihcIldoaWNoIGNoaWxkIHRvIHJlc3RyaWN0IHVzZXIgaW50ZXJhY3Rpb24gdG8uIEFsbCBvdGhlciBjaGlsZHJlblxcbiAgICAgIHdpbGwgaGF2ZSB1c2VyIGludGVyYWN0aW9uIGRpc2FibGVkLlwiKVxuICB9KTtcbiAgcmV0dXJuIERvY3VtZW50ZWRTdGFjaztcbn07XG5leHBvcnQgdmFyIHRoZW1lRG9jID0ge1xuICAnc3RhY2suZXh0ZW5kJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnQW55IGFkZGl0aW9uYWwgc3R5bGUgZm9yIHRoZSBjb250cm9sIG9mIHRoZSBTdGFjayBjb21wb25lbnQuJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgKHByb3BzKSA9PiB7fScsXG4gICAgZGVmYXVsdFZhbHVlOiB1bmRlZmluZWRcbiAgfVxufTsiLCJleHBvcnQgeyBTdGFjayB9IGZyb20gJy4vU3RhY2snOyIsImltcG9ydCBzdHlsZWQsIHsgY3NzIH0gZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgZ2VuZXJpY1N0eWxlcywgbm9ybWFsaXplQ29sb3IgfSBmcm9tICcuLi8uLi91dGlscyc7XG5pbXBvcnQgeyBkZWZhdWx0UHJvcHMgfSBmcm9tICcuLi8uLi9kZWZhdWx0LXByb3BzJztcbnZhciB0YWJIb3ZlclN0eWxlID0gY3NzKFtcIiY6aG92ZXJ7XCIsIFwiIFwiLCBcIiBcIiwgXCI7fVwiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS50YWIuaG92ZXIuYmFja2dyb3VuZCAmJiBjc3MoW1wiYmFja2dyb3VuZDpcIiwgXCI7XCJdLCBub3JtYWxpemVDb2xvcihwcm9wcy50aGVtZS50YWIuaG92ZXIuYmFja2dyb3VuZCwgcHJvcHMudGhlbWUpKTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUudGFiLmhvdmVyLmNvbG9yICYmIGNzcyhbXCJjb2xvcjpcIiwgXCI7XCJdLCBub3JtYWxpemVDb2xvcihwcm9wcy50aGVtZS50YWIuaG92ZXIuY29sb3IsIHByb3BzLnRoZW1lKSk7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLnRhYi5ob3Zlci5leHRlbmQ7XG59KTtcbnZhciBTdHlsZWRUYWIgPSBzdHlsZWQuZGl2LndpdGhDb25maWcoe1xuICBkaXNwbGF5TmFtZTogXCJTdHlsZWRUYWJcIixcbiAgY29tcG9uZW50SWQ6IFwic2MtMW5ud25zYi0wXCJcbn0pKFtcIlwiLCBcIiBcIiwgXCIgXCIsIFwiXCJdLCBnZW5lcmljU3R5bGVzLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuICFwcm9wcy5wbGFpbiAmJiBwcm9wcy50aGVtZS50YWIuaG92ZXIgJiYgdGFiSG92ZXJTdHlsZTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUudGFiLmV4dGVuZDtcbn0pO1xuU3R5bGVkVGFiLmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKFN0eWxlZFRhYi5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG5leHBvcnQgeyBTdHlsZWRUYWIgfTsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbXBvc2UgfSBmcm9tICdyZWNvbXBvc2UnO1xuaW1wb3J0IHsgd2l0aFRoZW1lIH0gZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgZGVmYXVsdFByb3BzIH0gZnJvbSAnLi4vLi4vZGVmYXVsdC1wcm9wcyc7XG5pbXBvcnQgeyBCb3ggfSBmcm9tICcuLi9Cb3gnO1xuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnLi4vQnV0dG9uJztcbmltcG9ydCB7IFRleHQgfSBmcm9tICcuLi9UZXh0JztcbmltcG9ydCB7IHdpdGhGb3J3YXJkUmVmIH0gZnJvbSAnLi4vaG9jcyc7XG5pbXBvcnQgeyBub3JtYWxpemVDb2xvciB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmltcG9ydCB7IFN0eWxlZFRhYiB9IGZyb20gJy4vU3R5bGVkVGFiJztcblxudmFyIFRhYiA9IGZ1bmN0aW9uIFRhYihfcmVmKSB7XG4gIHZhciBhY3RpdmUgPSBfcmVmLmFjdGl2ZSxcbiAgICAgIGZvcndhcmRSZWYgPSBfcmVmLmZvcndhcmRSZWYsXG4gICAgICBwbGFpbiA9IF9yZWYucGxhaW4sXG4gICAgICB0aXRsZSA9IF9yZWYudGl0bGUsXG4gICAgICBvbkFjdGl2YXRlID0gX3JlZi5vbkFjdGl2YXRlLFxuICAgICAgb25Nb3VzZU92ZXIgPSBfcmVmLm9uTW91c2VPdmVyLFxuICAgICAgb25Nb3VzZU91dCA9IF9yZWYub25Nb3VzZU91dCxcbiAgICAgIHRoZW1lID0gX3JlZi50aGVtZSxcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfcmVmLCBbXCJhY3RpdmVcIiwgXCJmb3J3YXJkUmVmXCIsIFwicGxhaW5cIiwgXCJ0aXRsZVwiLCBcIm9uQWN0aXZhdGVcIiwgXCJvbk1vdXNlT3ZlclwiLCBcIm9uTW91c2VPdXRcIiwgXCJ0aGVtZVwiXSk7XG5cbiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKHVuZGVmaW5lZCksXG4gICAgICBvdmVyID0gX3VzZVN0YXRlWzBdLFxuICAgICAgc2V0T3ZlciA9IF91c2VTdGF0ZVsxXTtcblxuICB2YXIgbm9ybWFsaXplZFRpdGxlID0gdGl0bGU7XG4gIHZhciB0YWJTdHlsZXMgPSB7fTtcblxuICB2YXIgb25Nb3VzZU92ZXJUYWIgPSBmdW5jdGlvbiBvbk1vdXNlT3ZlclRhYihldmVudCkge1xuICAgIHNldE92ZXIodHJ1ZSk7XG5cbiAgICBpZiAob25Nb3VzZU92ZXIpIHtcbiAgICAgIG9uTW91c2VPdmVyKGV2ZW50KTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIG9uTW91c2VPdXRUYWIgPSBmdW5jdGlvbiBvbk1vdXNlT3V0VGFiKGV2ZW50KSB7XG4gICAgc2V0T3Zlcih1bmRlZmluZWQpO1xuXG4gICAgaWYgKG9uTW91c2VPdXQpIHtcbiAgICAgIG9uTW91c2VPdXQoZXZlbnQpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgb25DbGlja1RhYiA9IGZ1bmN0aW9uIG9uQ2xpY2tUYWIoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuXG4gICAgb25BY3RpdmF0ZSgpO1xuICB9O1xuXG4gIGlmICghcGxhaW4pIHtcbiAgICBpZiAodHlwZW9mIHRpdGxlICE9PSAnc3RyaW5nJykge1xuICAgICAgbm9ybWFsaXplZFRpdGxlID0gdGl0bGU7XG4gICAgfSBlbHNlIGlmIChhY3RpdmUpIHtcbiAgICAgIG5vcm1hbGl6ZWRUaXRsZSA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGV4dCwgdGhlbWUudGFiLmFjdGl2ZSwgdGl0bGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBub3JtYWxpemVkVGl0bGUgPSBSZWFjdC5jcmVhdGVFbGVtZW50KFRleHQsIHtcbiAgICAgICAgY29sb3I6IG92ZXIgPyB0aGVtZS50YWIuaG92ZXIuY29sb3IgOiB0aGVtZS50YWIuY29sb3JcbiAgICAgIH0sIHRpdGxlKTtcbiAgICB9XG5cbiAgICBpZiAodGhlbWUudGFiLmJvcmRlcikge1xuICAgICAgdmFyIGJvcmRlckNvbG9yID0gdGhlbWUudGFiLmJvcmRlci5jb2xvciB8fCB0aGVtZS5nbG9iYWwuY29udHJvbC5ib3JkZXIuY29sb3I7XG5cbiAgICAgIGlmIChhY3RpdmUpIHtcbiAgICAgICAgYm9yZGVyQ29sb3IgPSB0aGVtZS50YWIuYm9yZGVyLmFjdGl2ZS5jb2xvciB8fCBib3JkZXJDb2xvcjtcbiAgICAgIH0gZWxzZSBpZiAob3Zlcikge1xuICAgICAgICBib3JkZXJDb2xvciA9IHRoZW1lLnRhYi5ib3JkZXIuaG92ZXIuY29sb3IgfHwgYm9yZGVyQ29sb3I7XG4gICAgICB9XG5cbiAgICAgIGJvcmRlckNvbG9yID0gbm9ybWFsaXplQ29sb3IoYm9yZGVyQ29sb3IsIHRoZW1lKTtcbiAgICAgIHRhYlN0eWxlcy5ib3JkZXIgPSB7XG4gICAgICAgIHNpZGU6IHRoZW1lLnRhYi5ib3JkZXIuc2lkZSxcbiAgICAgICAgc2l6ZTogdGhlbWUudGFiLmJvcmRlci5zaXplLFxuICAgICAgICBjb2xvcjogYm9yZGVyQ29sb3JcbiAgICAgIH07XG4gICAgfVxuXG4gICAgdGFiU3R5bGVzLmJhY2tncm91bmQgPSBhY3RpdmUgPyB0aGVtZS50YWIuYWN0aXZlLmJhY2tncm91bmQgfHwgdGhlbWUudGFiLmJhY2tncm91bmQgOiB0aGVtZS50YWIuYmFja2dyb3VuZDtcbiAgICB0YWJTdHlsZXMucGFkID0gdGhlbWUudGFiLnBhZDtcbiAgICB0YWJTdHlsZXMubWFyZ2luID0gdGhlbWUudGFiLm1hcmdpbjtcbiAgfVxuXG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwgX2V4dGVuZHMoe1xuICAgIHJlZjogZm9yd2FyZFJlZixcbiAgICBwbGFpbjogdHJ1ZSxcbiAgICByb2xlOiBcInRhYlwiLFxuICAgIFwiYXJpYS1zZWxlY3RlZFwiOiBhY3RpdmUsXG4gICAgXCJhcmlhLWV4cGFuZGVkXCI6IGFjdGl2ZVxuICB9LCByZXN0LCB7XG4gICAgb25DbGljazogb25DbGlja1RhYixcbiAgICBvbk1vdXNlT3Zlcjogb25Nb3VzZU92ZXJUYWIsXG4gICAgb25Nb3VzZU91dDogb25Nb3VzZU91dFRhYixcbiAgICBvbkZvY3VzOiBvbk1vdXNlT3ZlcixcbiAgICBvbkJsdXI6IG9uTW91c2VPdXRcbiAgfSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkVGFiLCBfZXh0ZW5kcyh7XG4gICAgYXM6IEJveCxcbiAgICBwbGFpbjogcGxhaW5cbiAgfSwgdGFiU3R5bGVzKSwgbm9ybWFsaXplZFRpdGxlKSk7XG59O1xuXG5UYWIuZGVmYXVsdFByb3BzID0ge307XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoVGFiLmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbnZhciBUYWJEb2M7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIFRhYkRvYyA9IHJlcXVpcmUoJy4vZG9jJykuZG9jKFRhYik7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZ2xvYmFsLXJlcXVpcmVcbn1cblxudmFyIFRhYldyYXBwZXIgPSBjb21wb3NlKHdpdGhUaGVtZSwgd2l0aEZvcndhcmRSZWYpKFRhYkRvYyB8fCBUYWIpO1xuZXhwb3J0IHsgVGFiV3JhcHBlciBhcyBUYWIgfTsiLCJpbXBvcnQgeyBkZXNjcmliZSwgUHJvcFR5cGVzIH0gZnJvbSAncmVhY3QtZGVzYyc7XG5leHBvcnQgdmFyIGRvYyA9IGZ1bmN0aW9uIGRvYyhUYWIpIHtcbiAgdmFyIERvY3VtZW50ZWRUYWIgPSBkZXNjcmliZShUYWIpLmRlc2NyaXB0aW9uKCdPbmUgdGFiIHdpdGhpbiBUYWJzLicpLnVzYWdlKFwiaW1wb3J0IHsgVGFiIH0gZnJvbSAnZ3JvbW1ldCc7XFxuPFRhYiAvPlwiKS5pbnRyaW5zaWNFbGVtZW50KCdidXR0b24nKTtcbiAgRG9jdW1lbnRlZFRhYi5wcm9wVHlwZXMgPSB7XG4gICAgcGxhaW46IFByb3BUeXBlcy5ib29sLmRlc2NyaXB0aW9uKCdXaGV0aGVyIHRoaXMgaXMgYSBwbGFpbiB0YWIgd2l0aCBubyBzdHlsZS4nKS5kZWZhdWx0VmFsdWUoZmFsc2UpLFxuICAgIHRpdGxlOiBQcm9wVHlwZXMubm9kZS5kZXNjcmlwdGlvbignVGhlIHRpdGxlIG9mIHRoZSB0YWIuJylcbiAgfTtcbiAgcmV0dXJuIERvY3VtZW50ZWRUYWI7XG59O1xuZXhwb3J0IHZhciB0aGVtZURvYyA9IHtcbiAgJ3RhYi5hY3RpdmUnOiB7XG4gICAgZGVzY3JpcHRpb246ICdzdHlsZXMgZm9yIHRoZSBhY3RpdmUgdGFiLicsXG4gICAgdHlwZTogJ29iamVjdCcsXG4gICAgZGVmYXVsdFZhbHVlOiBcIntjb2xvcjogJ3RleHQnLCBiYWNrZ3JvdW5kOiB1bmRlZmluZWQgfVwiXG4gIH0sXG4gICd0YWIuYmFja2dyb3VuZCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ2JhY2tncm91bmQgc3R5bGluZyBvZiBUYWIuJyxcbiAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICBkZWZhdWx0VmFsdWU6IHVuZGVmaW5lZFxuICB9LFxuICAndGFiLmJvcmRlcic6IHtcbiAgICBkZXNjcmlwdGlvbjogJ2JvcmRlciBzdHlsZXMgb2YgdGhlIHRhYicsXG4gICAgdHlwZTogJ29iamVjdCcsXG4gICAgZGVmYXVsdFZhbHVlOiBcIntcXG4gICAgICBzaWRlOiAnYm90dG9tJyxcXG4gICAgICBzaXplOiAnc21hbGwnLFxcbiAgICAgIGNvbG9yOiB7XFxuICAgICAgICBkYXJrOiAnYWNjZW50LTEnLFxcbiAgICAgICAgbGlnaHQ6ICdicmFuZCcsXFxuICAgICAgfSxcXG4gICAgICBhY3RpdmU6IHtcXG4gICAgICAgIGNvbG9yOiB7XFxuICAgICAgICAgIGRhcms6ICd3aGl0ZScsXFxuICAgICAgICAgIGxpZ2h0OiAnYmxhY2snLFxcbiAgICAgICAgfSxcXG4gICAgICB9LFxcbiAgICAgIGhvdmVyOiB7XFxuICAgICAgICBjb2xvcjoge1xcbiAgICAgICAgICBkYXJrOiAnd2hpdGUnLFxcbiAgICAgICAgICBsaWdodDogJ2JsYWNrJyxcXG4gICAgICAgIH0sXFxuICAgICAgICAvLyBleHRlbmQ6IHVuZGVmaW5lZCxcXG4gICAgICB9LFxcbiAgICB9XCJcbiAgfSxcbiAgJ3RhYi5jb2xvcic6IHtcbiAgICBkZXNjcmlwdGlvbjogJ3RleHQgY29sb3IgZm9yIHRoZSBUYWIuJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICdjb250cm9sJ1xuICB9LFxuICAndGFiLmhvdmVyLmJhY2tncm91bmQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdiYWNrZ3JvdW5kIHN0eWxlIG9mIHRoZSBUYWIgb24gaG92ZXIuJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgb2JqZWN0JyxcbiAgICBkZWZhdWx0VmFsdWU6IHVuZGVmaW5lZFxuICB9LFxuICAndGFiLmhvdmVyLmNvbG9yJzoge1xuICAgIGRlc2NyaXB0aW9uOiAndGV4dCBjb2xvciBvZiB0aGUgdGFiIG9uIGhvdmVyLicsXG4gICAgdHlwZTogJ3N0cmluZyB8IHsgZGFyazogc3RyaW5nLCBsaWdodDogc3RyaW5nIH0nLFxuICAgIGRlZmF1bHRWYWx1ZTogXCJ7IGRhcms6ICd3aGl0ZScsIGxpZ2h0OiAnYmxhY2snIH1cIlxuICB9LFxuICAndGFiLmhvdmVyLmV4dGVuZCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ0FueSBhZGRpdGlvbmFsIHN0eWxlIGZvciBUYWIgaG92ZXIuJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgKHByb3BzKSA9PiB7fScsXG4gICAgZGVmYXVsdFZhbHVlOiB1bmRlZmluZWRcbiAgfSxcbiAgJ3RhYi5tYXJnaW4nOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgbWFyZ2luIG9mIFRhYi4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCBvYmplY3QnLFxuICAgIGRlZmF1bHRWYWx1ZTogXCJ7IHZlcnRpY2FsOiAneHhzbWFsbCcsIGhvcml6b250YWw6ICdzbWFsbCcgfVwiXG4gIH0sXG4gICd0YWIucGFkJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIHBhZCBvZiBUYWIuJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgb2JqZWN0JyxcbiAgICBkZWZhdWx0VmFsdWU6IFwieyBib3R0b206ICd4c21hbGwnIH1cIlxuICB9XG59OyIsImV4cG9ydCB7IFRhYiB9IGZyb20gJy4vVGFiJzsiLCJpbXBvcnQgc3R5bGVkLCB7IGNzcyB9IGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCB7IGJhY2tncm91bmRTdHlsZSwgYm9yZGVyU3R5bGUsIGVkZ2VTdHlsZSwgZ2VuZXJpY1N0eWxlcyB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmltcG9ydCB7IGRlZmF1bHRQcm9wcyB9IGZyb20gJy4uLy4uL2RlZmF1bHQtcHJvcHMnO1xudmFyIFNJWkVfTUFQID0ge1xuICAnMS8yJzogJzUwJScsXG4gICcxLzQnOiAnMjUlJyxcbiAgJzIvNCc6ICc1MCUnLFxuICAnMy80JzogJzc1JScsXG4gICcxLzMnOiAnMzMuMzMlJyxcbiAgJzIvMyc6ICc2Ni42NiUnXG59O1xudmFyIHNpemVTdHlsZSA9IGNzcyhbXCJ3aWR0aDpcIiwgXCI7bWF4LXdpZHRoOlwiLCBcIjtvdmVyZmxvdzpoaWRkZW47XCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIFNJWkVfTUFQW3Byb3BzLnNpemVdIHx8IHByb3BzLnRoZW1lLmdsb2JhbC5zaXplW3Byb3BzLnNpemVdO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBTSVpFX01BUFtwcm9wcy5zaXplXSB8fCBwcm9wcy50aGVtZS5nbG9iYWwuc2l6ZVtwcm9wcy5zaXplXTtcbn0pO1xudmFyIFN0eWxlZFRhYmxlQ2VsbCA9IHN0eWxlZC50ZC53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiU3R5bGVkVGFibGVfX1N0eWxlZFRhYmxlQ2VsbFwiLFxuICBjb21wb25lbnRJZDogXCJzYy0xbTN1NWctMFwiXG59KShbXCJtYXJnaW46MDtwYWRkaW5nOjA7Zm9udC13ZWlnaHQ6aW5oZXJpdDt0ZXh0LWFsaWduOmluaGVyaXQ7aGVpZ2h0OjEwMCU7XCIsIFwiIFwiLCBcIiBcIiwgXCIgXCIsIFwiIFwiLCBcIiBcIiwgXCIgXCIsIFwiXCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnNpemUgJiYgc2l6ZVN0eWxlO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy52ZXJ0aWNhbEFsaWduICYmIFwidmVydGljYWwtYWxpZ246IFwiICsgcHJvcHMudmVydGljYWxBbGlnbiArIFwiO1wiO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5hbGlnbiAmJiBcInRleHQtYWxpZ246IFwiICsgcHJvcHMuYWxpZ24gKyBcIjtcIjtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuYmFja2dyb3VuZCAmJiBiYWNrZ3JvdW5kU3R5bGUocHJvcHMuYmFja2dyb3VuZCwgcHJvcHMudGhlbWUpO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5ib3JkZXIgJiYgYm9yZGVyU3R5bGUocHJvcHMuYm9yZGVyLCBwcm9wcy5yZXNwb25zaXZlLCBwcm9wcy50aGVtZSk7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnBhZCAmJiBlZGdlU3R5bGUoJ3BhZGRpbmcnLCBwcm9wcy5wYWQsIHByb3BzLnJlc3BvbnNpdmUsIHByb3BzLnRoZW1lLmJveC5yZXNwb25zaXZlQnJlYWtwb2ludCwgcHJvcHMudGhlbWUpO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50YWJsZUNvbnRleHRUaGVtZSAmJiBwcm9wcy50YWJsZUNvbnRleHRUaGVtZS5leHRlbmQ7XG59KTtcblN0eWxlZFRhYmxlQ2VsbC5kZWZhdWx0UHJvcHMgPSB7fTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihTdHlsZWRUYWJsZUNlbGwuZGVmYXVsdFByb3BzLCBkZWZhdWx0UHJvcHMpO1xudmFyIFN0eWxlZFRhYmxlRGF0YUNhcHRpb24gPSBzdHlsZWQuY2FwdGlvbi53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiU3R5bGVkVGFibGVfX1N0eWxlZFRhYmxlRGF0YUNhcHRpb25cIixcbiAgY29tcG9uZW50SWQ6IFwic2MtMW0zdTVnLTFcIlxufSkoW1wibWFyZ2luLWJvdHRvbTpcIiwgXCI7XCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLmdsb2JhbC5lZGdlU2l6ZS54eHNtYWxsO1xufSk7XG5TdHlsZWRUYWJsZURhdGFDYXB0aW9uLmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKFN0eWxlZFRhYmxlRGF0YUNhcHRpb24uZGVmYXVsdFByb3BzLCBkZWZhdWx0UHJvcHMpO1xudmFyIFN0eWxlZFRhYmxlUm93ID0gc3R5bGVkLnRyLndpdGhDb25maWcoe1xuICBkaXNwbGF5TmFtZTogXCJTdHlsZWRUYWJsZV9fU3R5bGVkVGFibGVSb3dcIixcbiAgY29tcG9uZW50SWQ6IFwic2MtMW0zdTVnLTJcIlxufSkoW1wiaGVpZ2h0OjEwMCU7XCJdKTtcblN0eWxlZFRhYmxlUm93LmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKFN0eWxlZFRhYmxlUm93LmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbnZhciBTdHlsZWRUYWJsZUJvZHkgPSBzdHlsZWQudGJvZHkud2l0aENvbmZpZyh7XG4gIGRpc3BsYXlOYW1lOiBcIlN0eWxlZFRhYmxlX19TdHlsZWRUYWJsZUJvZHlcIixcbiAgY29tcG9uZW50SWQ6IFwic2MtMW0zdTVnLTNcIlxufSkoW1wiXCJdKTtcblN0eWxlZFRhYmxlQm9keS5kZWZhdWx0UHJvcHMgPSB7fTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihTdHlsZWRUYWJsZUJvZHkuZGVmYXVsdFByb3BzLCBkZWZhdWx0UHJvcHMpO1xudmFyIFN0eWxlZFRhYmxlSGVhZGVyID0gc3R5bGVkLnRoZWFkLndpdGhDb25maWcoe1xuICBkaXNwbGF5TmFtZTogXCJTdHlsZWRUYWJsZV9fU3R5bGVkVGFibGVIZWFkZXJcIixcbiAgY29tcG9uZW50SWQ6IFwic2MtMW0zdTVnLTRcIlxufSkoW1wiXCJdKTtcblN0eWxlZFRhYmxlSGVhZGVyLmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKFN0eWxlZFRhYmxlSGVhZGVyLmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbnZhciBTdHlsZWRUYWJsZUZvb3RlciA9IHN0eWxlZC50Zm9vdC53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiU3R5bGVkVGFibGVfX1N0eWxlZFRhYmxlRm9vdGVyXCIsXG4gIGNvbXBvbmVudElkOiBcInNjLTFtM3U1Zy01XCJcbn0pKFtcIlwiXSk7XG5TdHlsZWRUYWJsZUZvb3Rlci5kZWZhdWx0UHJvcHMgPSB7fTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihTdHlsZWRUYWJsZUZvb3Rlci5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG52YXIgU3R5bGVkVGFibGUgPSBzdHlsZWQudGFibGUud2l0aENvbmZpZyh7XG4gIGRpc3BsYXlOYW1lOiBcIlN0eWxlZFRhYmxlXCIsXG4gIGNvbXBvbmVudElkOiBcInNjLTFtM3U1Zy02XCJcbn0pKFtcImJvcmRlci1zcGFjaW5nOjA7Ym9yZGVyLWNvbGxhcHNlOmNvbGxhcHNlO3dpZHRoOmluaGVyaXQ7QG1lZGlhIGFsbCBhbmQgKG1pbi0tbW96LWRldmljZS1waXhlbC1yYXRpbzowKXt0YWJsZS1sYXlvdXQ6Zml4ZWQ7fVwiLCBcIiBcIiwgXCI7XCJdLCBnZW5lcmljU3R5bGVzLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLnRhYmxlICYmIHByb3BzLnRoZW1lLnRhYmxlLmV4dGVuZDtcbn0pO1xuU3R5bGVkVGFibGUuZGVmYXVsdFByb3BzID0ge307XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoU3R5bGVkVGFibGUuZGVmYXVsdFByb3BzLCBkZWZhdWx0UHJvcHMpO1xuZXhwb3J0IHsgU3R5bGVkVGFibGVDZWxsLCBTdHlsZWRUYWJsZURhdGFDYXB0aW9uLCBTdHlsZWRUYWJsZVJvdywgU3R5bGVkVGFibGVCb2R5LCBTdHlsZWRUYWJsZUhlYWRlciwgU3R5bGVkVGFibGVGb290ZXIsIFN0eWxlZFRhYmxlIH07IiwiZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgU3R5bGVkVGFibGUsIFN0eWxlZFRhYmxlRGF0YUNhcHRpb24gfSBmcm9tICcuL1N0eWxlZFRhYmxlJztcblxudmFyIFRhYmxlID0gZnVuY3Rpb24gVGFibGUoX3JlZikge1xuICB2YXIgY2FwdGlvbiA9IF9yZWYuY2FwdGlvbixcbiAgICAgIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbixcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfcmVmLCBbXCJjYXB0aW9uXCIsIFwiY2hpbGRyZW5cIl0pO1xuXG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZFRhYmxlLCByZXN0LCBjYXB0aW9uID8gUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWRUYWJsZURhdGFDYXB0aW9uLCBudWxsLCBjYXB0aW9uKSA6IG51bGwsIGNoaWxkcmVuKTtcbn07XG5cbnZhciBUYWJsZURvYztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgVGFibGVEb2MgPSByZXF1aXJlKCcuL2RvYycpLmRvYyhUYWJsZSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZ2xvYmFsLXJlcXVpcmVcbn1cblxudmFyIFRhYmxlV3JhcHBlciA9IFRhYmxlRG9jIHx8IFRhYmxlO1xuZXhwb3J0IHsgVGFibGVXcmFwcGVyIGFzIFRhYmxlIH07IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmV4cG9ydCB2YXIgVGFibGVDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dCh1bmRlZmluZWQpOyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmltcG9ydCB7IGRlc2NyaWJlLCBQcm9wVHlwZXMgfSBmcm9tICdyZWFjdC1kZXNjJztcbmltcG9ydCB7IGdlbmVyaWNQcm9wcywgZ2V0QXZhaWxhYmxlQXRCYWRnZSB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmltcG9ydCB7IHRoZW1lRG9jVXRpbHMgfSBmcm9tICcuLi8uLi91dGlscy90aGVtZURvY1V0aWxzJztcbmV4cG9ydCB2YXIgZG9jID0gZnVuY3Rpb24gZG9jKFRhYmxlKSB7XG4gIHZhciBEb2N1bWVudGVkVGFibGUgPSBkZXNjcmliZShUYWJsZSkuYXZhaWxhYmxlQXQoZ2V0QXZhaWxhYmxlQXRCYWRnZSgnVGFibGUnKSkuZGVzY3JpcHRpb24oJ0EgdGFibGUgb2YgZGF0YSBvcmdhbml6ZWQgaW4gY2VsbHMuJykudXNhZ2UoIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGVuXG4gIFwiaW1wb3J0IHsgVGFibGUsIFRhYmxlSGVhZGVyLCBUYWJsZUZvb3RlciwgVGFibGVCb2R5LCBUYWJsZVJvdyB9IGZyb20gJ2dyb21tZXQnO1xcbjxUYWJsZSAvPlwiKS5pbnRyaW5zaWNFbGVtZW50KCd0YWJsZScpO1xuICBEb2N1bWVudGVkVGFibGUucHJvcFR5cGVzID0gX2V4dGVuZHMoe30sIGdlbmVyaWNQcm9wcywge1xuICAgIGNhcHRpb246IFByb3BUeXBlcy5zdHJpbmcuZGVzY3JpcHRpb24oJ09uZSBsaW5lIGRlc2NyaXB0aW9uLicpXG4gIH0pO1xuICByZXR1cm4gRG9jdW1lbnRlZFRhYmxlO1xufTtcbmV4cG9ydCB2YXIgdGhlbWVEb2MgPSBfZXh0ZW5kcyh7fSwgdGhlbWVEb2NVdGlscy5yZXNwb25zaXZlQnJlYWtwb2ludCgnVGhlIGFjdHVhbCBicmVha3BvaW50IHRvIHRyaWdnZXIgY2hhbmdlcyBpbiBUYWJsZS4nKSwge1xuICAnZ2xvYmFsLnNpemUnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgc2l6ZSB0aGF0IGltcGFjdHMgbWF4LXdpZHRoIGFuZCB3aWR0aC4nLFxuICAgIGRlZmF1bHRWYWx1ZTogXCJ7XFxuICAgICAgeHhzbWFsbDogJzQ4cHgnLFxcbiAgICAgIHhzbWFsbDogJzk2cHgnLFxcbiAgICAgIHNtYWxsOiAnMTkycHgnLFxcbiAgICAgIG1lZGl1bTogJzM4NHB4JyxcXG4gICAgICBsYXJnZTogJzc2OHB4JyxcXG4gICAgICB4bGFyZ2U6ICcxMTUycHgnLFxcbiAgICAgIHh4bGFyZ2U6ICcxNTM2cHgnLFxcbiAgICAgIGZ1bGw6ICcxMDAlJyxcXG4gICAgICB9XCJcbiAgfSxcbiAgJ3RhYmxlLmV4dGVuZCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ0FueSBhZGRpdGlvbmFsIHN0eWxlIGZvciBUYWJsZS4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCAocHJvcHMpID0+IHt9JyxcbiAgICBkZWZhdWx0VmFsdWU6IHVuZGVmaW5lZFxuICB9XG59KTsiLCJleHBvcnQgeyBUYWJsZSB9IGZyb20gJy4vVGFibGUnOyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbXBvc2UgfSBmcm9tICdyZWNvbXBvc2UnO1xuaW1wb3J0IHsgd2l0aEZvcndhcmRSZWYgfSBmcm9tICcuLi9ob2NzJztcbmltcG9ydCB7IFRhYmxlQ29udGV4dCB9IGZyb20gJy4uL1RhYmxlL1RhYmxlQ29udGV4dCc7XG5pbXBvcnQgeyBTdHlsZWRUYWJsZUJvZHkgfSBmcm9tICcuLi9UYWJsZS9TdHlsZWRUYWJsZSc7XG5cbnZhciBUYWJsZUJvZHkgPSBmdW5jdGlvbiBUYWJsZUJvZHkoX3JlZikge1xuICB2YXIgZm9yd2FyZFJlZiA9IF9yZWYuZm9yd2FyZFJlZixcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfcmVmLCBbXCJmb3J3YXJkUmVmXCJdKTtcblxuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChUYWJsZUNvbnRleHQuUHJvdmlkZXIsIHtcbiAgICB2YWx1ZTogXCJib2R5XCJcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWRUYWJsZUJvZHksIF9leHRlbmRzKHtcbiAgICByZWY6IGZvcndhcmRSZWZcbiAgfSwgcmVzdCkpKTtcbn07XG5cbnZhciBUYWJsZUJvZHlEb2M7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBnbG9iYWwtcmVxdWlyZVxuICBUYWJsZUJvZHlEb2MgPSByZXF1aXJlKCcuL2RvYycpLmRvYyhUYWJsZUJvZHkpO1xufVxuXG52YXIgVGFibGVCb2R5V3JhcHBlciA9IGNvbXBvc2Uod2l0aEZvcndhcmRSZWYpKFRhYmxlQm9keURvYyB8fCBUYWJsZUJvZHkpO1xuZXhwb3J0IHsgVGFibGVCb2R5V3JhcHBlciBhcyBUYWJsZUJvZHkgfTsiLCJpbXBvcnQgeyBkZXNjcmliZSB9IGZyb20gJ3JlYWN0LWRlc2MnO1xuZXhwb3J0IHZhciBkb2MgPSBmdW5jdGlvbiBkb2MoVGFibGVCb2R5KSB7XG4gIHZhciBEb2N1bWVudGVkVGFibGVCb2R5ID0gZGVzY3JpYmUoVGFibGVCb2R5KS5kZXNjcmlwdGlvbignVGhlIGJvZHkgb2YgYSB0YWJsZS4nKS51c2FnZShcImltcG9ydCB7IFRhYmxlQm9keSB9IGZyb20gJ2dyb21tZXQnO1xcbjxUYWJsZUJvZHkgLz5cIikuaW50cmluc2ljRWxlbWVudCgndGJvZHknKTtcbiAgcmV0dXJuIERvY3VtZW50ZWRUYWJsZUJvZHk7XG59OyIsImV4cG9ydCB7IFRhYmxlQm9keSB9IGZyb20gJy4vVGFibGVCb2R5JzsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjb21wb3NlIH0gZnJvbSAncmVjb21wb3NlJztcbmltcG9ydCB7IHdpdGhUaGVtZSB9IGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCB7IGRlZmF1bHRQcm9wcyB9IGZyb20gJy4uLy4uL2RlZmF1bHQtcHJvcHMnO1xuaW1wb3J0IHsgQm94IH0gZnJvbSAnLi4vQm94JztcbmltcG9ydCB7IFRhYmxlQ29udGV4dCB9IGZyb20gJy4uL1RhYmxlL1RhYmxlQ29udGV4dCc7XG5pbXBvcnQgeyBTdHlsZWRUYWJsZUNlbGwgfSBmcm9tICcuLi9UYWJsZS9TdHlsZWRUYWJsZSc7XG5cbnZhciBUYWJsZUNlbGwgPSBmdW5jdGlvbiBUYWJsZUNlbGwoX3JlZikge1xuICB2YXIgYWxpZ24gPSBfcmVmLmFsaWduLFxuICAgICAgYmFja2dyb3VuZCA9IF9yZWYuYmFja2dyb3VuZCxcbiAgICAgIGJvcmRlciA9IF9yZWYuYm9yZGVyLFxuICAgICAgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuLFxuICAgICAgY29sU3BhbiA9IF9yZWYuY29sU3BhbixcbiAgICAgIHBhZCA9IF9yZWYucGFkLFxuICAgICAgcGxhaW4gPSBfcmVmLnBsYWluLFxuICAgICAgc2NvcGUgPSBfcmVmLnNjb3BlLFxuICAgICAgc2l6ZSA9IF9yZWYuc2l6ZSxcbiAgICAgIHRoZW1lID0gX3JlZi50aGVtZSxcbiAgICAgIHZlcnRpY2FsQWxpZ24gPSBfcmVmLnZlcnRpY2FsQWxpZ24sXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZiwgW1wiYWxpZ25cIiwgXCJiYWNrZ3JvdW5kXCIsIFwiYm9yZGVyXCIsIFwiY2hpbGRyZW5cIiwgXCJjb2xTcGFuXCIsIFwicGFkXCIsIFwicGxhaW5cIiwgXCJzY29wZVwiLCBcInNpemVcIiwgXCJ0aGVtZVwiLCBcInZlcnRpY2FsQWxpZ25cIl0pO1xuXG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFRhYmxlQ29udGV4dC5Db25zdW1lciwgbnVsbCwgZnVuY3Rpb24gKHRhYmxlQ29udGV4dCkge1xuICAgIHZhciB0YWJsZUNvbnRleHRUaGVtZTtcblxuICAgIGlmICh0YWJsZUNvbnRleHQgPT09ICdoZWFkZXInKSB7XG4gICAgICB0YWJsZUNvbnRleHRUaGVtZSA9IHRoZW1lLnRhYmxlICYmIHRoZW1lLnRhYmxlLmhlYWRlcjtcbiAgICB9IGVsc2UgaWYgKHRhYmxlQ29udGV4dCA9PT0gJ2Zvb3RlcicpIHtcbiAgICAgIHRhYmxlQ29udGV4dFRoZW1lID0gdGhlbWUudGFibGUgJiYgdGhlbWUudGFibGUuZm9vdGVyO1xuICAgIH0gZWxzZSB7XG4gICAgICB0YWJsZUNvbnRleHRUaGVtZSA9IHRoZW1lLnRhYmxlICYmIHRoZW1lLnRhYmxlLmJvZHk7XG4gICAgfSAvLyBtZXJnZSB0YWJlbENvbnRleHRUaGVtZSBhbmQgcmVzdFxuXG5cbiAgICB2YXIgbWVyZ2VkUHJvcHMgPSBfZXh0ZW5kcyh7fSwgdGFibGVDb250ZXh0VGhlbWUsIHt9LCByZXN0KTtcblxuICAgIE9iamVjdC5rZXlzKG1lcmdlZFByb3BzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIGlmIChyZXN0W2tleV0gPT09IHVuZGVmaW5lZCkgbWVyZ2VkUHJvcHNba2V5XSA9IHRhYmxlQ29udGV4dFRoZW1lW2tleV07XG4gICAgfSk7IC8vIHNwbGl0IG91dCBiYWNrZ3JvdW5kLCBib3JkZXIsIGFuZCBwYWRcblxuICAgIHZhciBjZWxsUHJvcHMgPSB7XG4gICAgICBhbGlnbjogYWxpZ24gfHwgbWVyZ2VkUHJvcHMuYWxpZ24gfHwgdW5kZWZpbmVkLFxuICAgICAgYmFja2dyb3VuZDogYmFja2dyb3VuZCB8fCBtZXJnZWRQcm9wcy5iYWNrZ3JvdW5kIHx8IHVuZGVmaW5lZCxcbiAgICAgIGJvcmRlcjogYm9yZGVyIHx8IG1lcmdlZFByb3BzLmJvcmRlciB8fCB1bmRlZmluZWQsXG4gICAgICBwYWQ6IHBhZCB8fCBtZXJnZWRQcm9wcy5wYWQgfHwgdW5kZWZpbmVkLFxuICAgICAgdmVydGljYWxBbGlnbjogdmVydGljYWxBbGlnbiB8fCBtZXJnZWRQcm9wcy52ZXJ0aWNhbEFsaWduIHx8IHVuZGVmaW5lZFxuICAgIH07XG4gICAgZGVsZXRlIG1lcmdlZFByb3BzLmFsaWduO1xuICAgIGRlbGV0ZSBtZXJnZWRQcm9wcy5iYWNrZ3JvdW5kO1xuICAgIGRlbGV0ZSBtZXJnZWRQcm9wcy5ib3JkZXI7XG4gICAgZGVsZXRlIG1lcmdlZFByb3BzLnBhZDtcbiAgICBkZWxldGUgbWVyZ2VkUHJvcHMudmVydGljYWxBbGlnbjtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWRUYWJsZUNlbGwsIF9leHRlbmRzKHtcbiAgICAgIGFzOiBzY29wZSA/ICd0aCcgOiB1bmRlZmluZWQsXG4gICAgICBzY29wZTogc2NvcGUsXG4gICAgICBzaXplOiBzaXplLFxuICAgICAgY29sU3BhbjogY29sU3BhbixcbiAgICAgIHRhYmxlQ29udGV4dDogdGFibGVDb250ZXh0LFxuICAgICAgdGFibGVDb250ZXh0VGhlbWU6IHRhYmxlQ29udGV4dFRoZW1lXG4gICAgfSwgcGxhaW4gPyBtZXJnZWRQcm9wcyA6IHt9LCBjZWxsUHJvcHMpLCBwbGFpbiB8fCAhT2JqZWN0LmtleXMobWVyZ2VkUHJvcHMpLmxlbmd0aCA/IGNoaWxkcmVuIDogUmVhY3QuY3JlYXRlRWxlbWVudChCb3gsIF9leHRlbmRzKHt9LCBtZXJnZWRQcm9wcywge1xuICAgICAgYWxpZ246IGFsaWduXG4gICAgfSksIGNoaWxkcmVuKSk7XG4gIH0pO1xufTtcblxuVGFibGVDZWxsLmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKFRhYmxlQ2VsbC5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG52YXIgVGFibGVDZWxsRG9jO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZ2xvYmFsLXJlcXVpcmVcbiAgVGFibGVDZWxsRG9jID0gcmVxdWlyZSgnLi9kb2MnKS5kb2MoVGFibGVDZWxsKTtcbn1cblxudmFyIFRhYmxlQ2VsbFdyYXBwZXIgPSBjb21wb3NlKHdpdGhUaGVtZSkoVGFibGVDZWxsRG9jIHx8IFRhYmxlQ2VsbCk7XG5leHBvcnQgeyBUYWJsZUNlbGxXcmFwcGVyIGFzIFRhYmxlQ2VsbCB9OyIsImltcG9ydCB7IGRlc2NyaWJlLCBQcm9wVHlwZXMgfSBmcm9tICdyZWFjdC1kZXNjJztcbmV4cG9ydCB2YXIgZG9jID0gZnVuY3Rpb24gZG9jKFRhYmxlQ2VsbCkge1xuICB2YXIgRG9jdW1lbnRlZFRhYmxlQ2VsbCA9IGRlc2NyaWJlKFRhYmxlQ2VsbCkuZGVzY3JpcHRpb24oJ0EgY2VsbCBvZiBkYXRhIGluIGEgdGFibGUuJykudXNhZ2UoXCJpbXBvcnQgeyBUYWJsZUNlbGwgfSBmcm9tICdncm9tbWV0JztcXG48VGFibGVDZWxsIC8+XCIpLmludHJpbnNpY0VsZW1lbnQoJ3RkJyk7XG4gIERvY3VtZW50ZWRUYWJsZUNlbGwucHJvcFR5cGVzID0ge1xuICAgIHBsYWluOiBQcm9wVHlwZXMuYm9vbC5kZXNjcmlwdGlvbignV2hldGhlciBkZWZhdWx0IHN0eWxpbmcgY29udGV4dCBzaG91bGQgYmUgcmVtb3ZlZC4nKS5kZWZhdWx0VmFsdWUoZmFsc2UpLFxuICAgIHNjb3BlOiBQcm9wVHlwZXMub25lT2YoWydjb2wnLCAncm93J10pLmRlc2NyaXB0aW9uKFwiRm9yIGhlYWRlciBjZWxscywgd2hhdCBzY29wZSB0aGUgaGVhZGVyIGlzIGZvci5cXG4gICAgICAgIFR5cGljYWxseSwgdGhlIGNlbGxzIGluIGEgVGFibGVIZWFkZXIgaGF2ZSAnY29sJyBzY29wZSBhbmRcXG4gICAgICAgIHRoZSBwcmltYXJ5IGNlbGwgaW4gZWFjaCByb3cgaW4gdGhlIFRhYmxlQm9keSBoYXMgJ3Jvdycgc2NvcGUuXCIpLFxuICAgIHNpemU6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbJ3h4c21hbGwnLCAneHNtYWxsJywgJ3NtYWxsJywgJ21lZGl1bScsICdsYXJnZScsICd4bGFyZ2UnLCAnMS8yJywgJzEvMycsICcyLzMnLCAnMS80JywgJzIvNCcsICczLzQnXSksIFByb3BUeXBlcy5zdHJpbmddKS5kZXNjcmlwdGlvbihcIldoYXQgc2l6ZSB0aGUgY2VsbCBzaG91bGQgYmUuIFR5cGljYWxseSwgdGhpcyBpcyBub3QgbmVlZGVkXFxuICAgICAgdW5sZXNzIHlvdSBhcmUgdHJ5aW5nIHRvIGFsaWduIG11bHRpcGxlIHRhYmxlcy5cIiksXG4gICAgdmVydGljYWxBbGlnbjogUHJvcFR5cGVzLm9uZU9mKFsndG9wJywgJ21pZGRsZScsICdib3R0b20nXSkuZGVzY3JpcHRpb24oJ0hvdyB0byBhbGlnbiB0aGUgY29udGVudHMgdmVydGljYWxseS4nKVxuICB9O1xuICByZXR1cm4gRG9jdW1lbnRlZFRhYmxlQ2VsbDtcbn07XG5leHBvcnQgdmFyIHRoZW1lRG9jID0ge1xuICAndGFibGUuYm9keS5hbGlnbic6IHtcbiAgICBkZXNjcmlwdGlvbjogJ0hvdyB0byBhbGlnbiB0aGUgYm9keSBpbnNpZGUgdGhlIFRhYmxlLicsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiAnc3RhcnQnXG4gIH0sXG4gICd0YWJsZS5ib2R5LmJvcmRlcic6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBib3JkZXIgc2lkZSBvZiB0aGUgYm9keS4nLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogdW5kZWZpbmVkXG4gIH0sXG4gICd0YWJsZS5ib2R5LmV4dGVuZCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ0FueSBhZGRpdGlvbmFsIHN0eWxlIGZvciBUYWJsZSBib2R5LicsXG4gICAgdHlwZTogJ3N0cmluZyB8IChwcm9wcykgPT4ge30nLFxuICAgIGRlZmF1bHRWYWx1ZTogdW5kZWZpbmVkXG4gIH0sXG4gICd0YWJsZS5ib2R5LnBhZCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBwYWRkaW5nIG9mIHRoZSBib2R5LicsXG4gICAgdHlwZTogJ3N0cmluZyB8IG9iamVjdCcsXG4gICAgZGVmYXVsdFZhbHVlOiBcInsgaG9yaXpvbnRhbDogJ3NtYWxsJywgdmVydGljYWw6ICd4c21hbGwnIH1cIlxuICB9LFxuICAndGFibGUuZm9vdGVyLmFsaWduJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnSG93IHRvIGFsaWduIHRoZSBmb290ZXIgaW5zaWRlIHRoZSBUYWJsZS4nLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogJ3N0YXJ0J1xuICB9LFxuICAndGFibGUuZm9vdGVyLmJvcmRlcic6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBib3JkZXIgc2lkZSBvZiB0aGUgZm9vdGVyLicsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiAndG9wJ1xuICB9LFxuICAndGFibGUuZm9vdGVyLmV4dGVuZCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ0FueSBhZGRpdGlvbmFsIHN0eWxlIGZvciBUYWJsZSBmb290ZXIuJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgKHByb3BzKSA9PiB7fScsXG4gICAgZGVmYXVsdFZhbHVlOiB1bmRlZmluZWRcbiAgfSxcbiAgJ3RhYmxlLmZvb3Rlci5maWxsJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnV2hldGhlciB0aGUgaGVpZ2h0IHNob3VsZCBmaWxsIHRoZSBmb290ZXIuJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICd2ZXJ0aWNhbCdcbiAgfSxcbiAgJ3RhYmxlLmZvb3Rlci5wYWQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgcGFkZGluZyBvZiB0aGUgZm9vdGVyLicsXG4gICAgdHlwZTogJ3N0cmluZyB8IG9iamVjdCcsXG4gICAgZGVmYXVsdFZhbHVlOiBcInsgaG9yaXpvbnRhbDogJ3NtYWxsJywgdmVydGljYWw6ICd4c21hbGwnIH1cIlxuICB9LFxuICAndGFibGUuZm9vdGVyLnZlcnRpY2FsQWxpZ24nOiB7XG4gICAgZGVzY3JpcHRpb246ICdIb3cgdG8gYWxpZ24gdGhlIGNvbnRlbnQgdmVydGljYWxseS4nLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogJ3RvcCdcbiAgfSxcbiAgJ3RhYmxlLmhlYWRlci5hbGlnbic6IHtcbiAgICBkZXNjcmlwdGlvbjogJ0hvdyB0byBhbGlnbiB0aGUgaGVhZGVyIGluc2lkZSB0aGUgVGFibGUuJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICdzdGFydCdcbiAgfSxcbiAgJ3RhYmxlLmhlYWRlci5iYWNrZ3JvdW5kJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGJhY2tncm91bmQgY29sb3Igb2YgdGhlIGhlYWRlci4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCBvYmplY3QnLFxuICAgIGRlZmF1bHRWYWx1ZTogdW5kZWZpbmVkXG4gIH0sXG4gICd0YWJsZS5oZWFkZXIuYm9yZGVyJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGJvcmRlciBzaWRlIG9mIHRoZSBoZWFkZXIuJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICdib3R0b20nXG4gIH0sXG4gICd0YWJsZS5oZWFkZXIuZmlsbCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1doZXRoZXIgdGhlIGhlaWdodCBzaG91bGQgZmlsbCB0aGUgaGVhZGVyLicsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiAndmVydGljYWwnXG4gIH0sXG4gICd0YWJsZS5oZWFkZXIuZXh0ZW5kJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnQW55IGFkZGl0aW9uYWwgc3R5bGUgZm9yIFRhYmxlIGhlYWRlci4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCAocHJvcHMpID0+IHt9JyxcbiAgICBkZWZhdWx0VmFsdWU6IHVuZGVmaW5lZFxuICB9LFxuICAndGFibGUuaGVhZGVyLnBhZCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBwYWRkaW5nIG9mIHRoZSBoZWFkZXIuJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgb2JqZWN0JyxcbiAgICBkZWZhdWx0VmFsdWU6IFwieyBob3Jpem9udGFsOiAnc21hbGwnLCB2ZXJ0aWNhbDogJ3hzbWFsbCcgfVwiXG4gIH0sXG4gICd0YWJsZS5oZWFkZXIudmVydGljYWxBbGlnbic6IHtcbiAgICBkZXNjcmlwdGlvbjogJ0hvdyB0byBhbGlnbiB0aGUgY29udGVudCB2ZXJ0aWNhbGx5LicsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiAnYm90dG9tJ1xuICB9XG59OyIsImV4cG9ydCB7IFRhYmxlQ2VsbCB9IGZyb20gJy4vVGFibGVDZWxsJzsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgVGFibGVDb250ZXh0IH0gZnJvbSAnLi4vVGFibGUvVGFibGVDb250ZXh0JztcbmltcG9ydCB7IFN0eWxlZFRhYmxlRm9vdGVyIH0gZnJvbSAnLi4vVGFibGUvU3R5bGVkVGFibGUnO1xuXG52YXIgVGFibGVGb290ZXIgPSBmdW5jdGlvbiBUYWJsZUZvb3Rlcihwcm9wcykge1xuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChUYWJsZUNvbnRleHQuUHJvdmlkZXIsIHtcbiAgICB2YWx1ZTogXCJmb290ZXJcIlxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZFRhYmxlRm9vdGVyLCBwcm9wcykpO1xufTtcblxudmFyIFRhYmxlRm9vdGVyRG9jO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZ2xvYmFsLXJlcXVpcmVcbiAgVGFibGVGb290ZXJEb2MgPSByZXF1aXJlKCcuL2RvYycpLmRvYyhUYWJsZUZvb3Rlcik7XG59XG5cbnZhciBUYWJsZUZvb3RlcldyYXBwZXIgPSBUYWJsZUZvb3RlckRvYyB8fCBUYWJsZUZvb3RlcjtcbmV4cG9ydCB7IFRhYmxlRm9vdGVyV3JhcHBlciBhcyBUYWJsZUZvb3RlciB9OyIsImltcG9ydCB7IGRlc2NyaWJlIH0gZnJvbSAncmVhY3QtZGVzYyc7XG5leHBvcnQgdmFyIGRvYyA9IGZ1bmN0aW9uIGRvYyhUYWJsZUZvb3Rlcikge1xuICB2YXIgRG9jdW1lbnRlZFRhYmxlRm9vdGVyID0gZGVzY3JpYmUoVGFibGVGb290ZXIpLmRlc2NyaXB0aW9uKCdUaGUgZm9vdGVyIG9mIGEgdGFibGUuJykudXNhZ2UoXCJpbXBvcnQgeyBUYWJsZUZvb3RlciB9IGZyb20gJ2dyb21tZXQnO1xcbjxUYWJsZUZvb3RlciAvPlwiKS5pbnRyaW5zaWNFbGVtZW50KCd0Zm9vdCcpO1xuICByZXR1cm4gRG9jdW1lbnRlZFRhYmxlRm9vdGVyO1xufTsiLCJleHBvcnQgeyBUYWJsZUZvb3RlciB9IGZyb20gJy4vVGFibGVGb290ZXInOyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBUYWJsZUNvbnRleHQgfSBmcm9tICcuLi9UYWJsZS9UYWJsZUNvbnRleHQnO1xuaW1wb3J0IHsgU3R5bGVkVGFibGVIZWFkZXIgfSBmcm9tICcuLi9UYWJsZS9TdHlsZWRUYWJsZSc7XG5cbnZhciBUYWJsZUhlYWRlciA9IGZ1bmN0aW9uIFRhYmxlSGVhZGVyKHByb3BzKSB7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFRhYmxlQ29udGV4dC5Qcm92aWRlciwge1xuICAgIHZhbHVlOiBcImhlYWRlclwiXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkVGFibGVIZWFkZXIsIHByb3BzKSk7XG59O1xuXG52YXIgVGFibGVIZWFkZXJEb2M7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBnbG9iYWwtcmVxdWlyZVxuICBUYWJsZUhlYWRlckRvYyA9IHJlcXVpcmUoJy4vZG9jJykuZG9jKFRhYmxlSGVhZGVyKTtcbn1cblxudmFyIFRhYmxlSGVhZGVyV3JhcHBlciA9IFRhYmxlSGVhZGVyRG9jIHx8IFRhYmxlSGVhZGVyO1xuZXhwb3J0IHsgVGFibGVIZWFkZXJXcmFwcGVyIGFzIFRhYmxlSGVhZGVyIH07IiwiaW1wb3J0IHsgZGVzY3JpYmUgfSBmcm9tICdyZWFjdC1kZXNjJztcbmV4cG9ydCB2YXIgZG9jID0gZnVuY3Rpb24gZG9jKFRhYmxlSGVhZGVyKSB7XG4gIHZhciBEb2N1bWVudGVkVGFibGVIZWFkZXIgPSBkZXNjcmliZShUYWJsZUhlYWRlcikuZGVzY3JpcHRpb24oJ1RoZSBoZWFkZXIgb2YgYSB0YWJsZS4nKS51c2FnZShcImltcG9ydCB7IFRhYmxlSGVhZGVyIH0gZnJvbSAnZ3JvbW1ldCc7XFxuPFRhYmxlSGVhZGVyIC8+XCIpLmludHJpbnNpY0VsZW1lbnQoJ3RoZWFkJyk7XG4gIHJldHVybiBEb2N1bWVudGVkVGFibGVIZWFkZXI7XG59OyIsImV4cG9ydCB7IFRhYmxlSGVhZGVyIH0gZnJvbSAnLi9UYWJsZUhlYWRlcic7IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFN0eWxlZFRhYmxlUm93IH0gZnJvbSAnLi4vVGFibGUvU3R5bGVkVGFibGUnO1xuXG52YXIgVGFibGVSb3cgPSBmdW5jdGlvbiBUYWJsZVJvdyhwcm9wcykge1xuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWRUYWJsZVJvdywgcHJvcHMpO1xufTtcblxudmFyIFRhYmxlUm93RG9jO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZ2xvYmFsLXJlcXVpcmVcbiAgVGFibGVSb3dEb2MgPSByZXF1aXJlKCcuL2RvYycpLmRvYyhUYWJsZVJvdyk7XG59XG5cbnZhciBUYWJsZVJvd1dyYXBwZXIgPSBUYWJsZVJvd0RvYyB8fCBUYWJsZVJvdztcbmV4cG9ydCB7IFRhYmxlUm93V3JhcHBlciBhcyBUYWJsZVJvdyB9OyIsImltcG9ydCB7IGRlc2NyaWJlIH0gZnJvbSAncmVhY3QtZGVzYyc7XG5leHBvcnQgdmFyIGRvYyA9IGZ1bmN0aW9uIGRvYyhUYWJsZVJvdykge1xuICB2YXIgRG9jdW1lbnRlZFRhYmxlUm93ID0gZGVzY3JpYmUoVGFibGVSb3cpLmRlc2NyaXB0aW9uKCdBIHJvdyBvZiBjZWxscyBpbiBhIHRhYmxlLicpLnVzYWdlKFwiaW1wb3J0IHsgVGFibGVSb3cgfSBmcm9tICdncm9tbWV0JztcXG48VGFibGVSb3cgLz5cIikuaW50cmluc2ljRWxlbWVudCgndHInKTtcbiAgcmV0dXJuIERvY3VtZW50ZWRUYWJsZVJvdztcbn07IiwiZXhwb3J0IHsgVGFibGVSb3cgfSBmcm9tICcuL1RhYmxlUm93JzsiLCJ2YXIgX0ZMRVhfTUFQO1xuXG5pbXBvcnQgc3R5bGVkLCB7IGNzcyB9IGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCB7IGdlbmVyaWNTdHlsZXMgfSBmcm9tICcuLi8uLi91dGlscyc7XG5pbXBvcnQgeyBkZWZhdWx0UHJvcHMgfSBmcm9tICcuLi8uLi9kZWZhdWx0LXByb3BzJztcbnZhciBTdHlsZWRUYWJzSGVhZGVyID0gc3R5bGVkLmRpdi53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiU3R5bGVkVGFic19fU3R5bGVkVGFic0hlYWRlclwiLFxuICBjb21wb25lbnRJZDogXCJhNGZ3eGwtMFwiXG59KShbXCJcIiwgXCI7XCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLnRhYnMuaGVhZGVyLmV4dGVuZDtcbn0pO1xuU3R5bGVkVGFic0hlYWRlci5kZWZhdWx0UHJvcHMgPSB7fTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihTdHlsZWRUYWJzSGVhZGVyLmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbnZhciBGTEVYX01BUCA9IChfRkxFWF9NQVAgPSB7fSwgX0ZMRVhfTUFQW3RydWVdID0gJzEgMScsIF9GTEVYX01BUFtmYWxzZV0gPSAnMCAwJywgX0ZMRVhfTUFQLmdyb3cgPSAnMSAwJywgX0ZMRVhfTUFQLnNocmluayA9ICcwIDEnLCBfRkxFWF9NQVApO1xudmFyIGZsZXhTdHlsZSA9IGNzcyhbXCJmbGV4OlwiLCBcIjtcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gXCJcIiArIEZMRVhfTUFQW3Byb3BzLmZsZXhdICsgKHByb3BzLmZsZXggIT09IHRydWUgPyAnIGF1dG8nIDogJycpO1xufSk7XG52YXIgU3R5bGVkVGFiUGFuZWwgPSBzdHlsZWQuZGl2LndpdGhDb25maWcoe1xuICBkaXNwbGF5TmFtZTogXCJTdHlsZWRUYWJzX19TdHlsZWRUYWJQYW5lbFwiLFxuICBjb21wb25lbnRJZDogXCJhNGZ3eGwtMVwiXG59KShbXCJtaW4taGVpZ2h0OjA7XCIsIFwiIFwiLCBcIjtcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuZmxleCAmJiBmbGV4U3R5bGU7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLnRhYnMucGFuZWwuZXh0ZW5kO1xufSk7XG5TdHlsZWRUYWJQYW5lbC5kZWZhdWx0UHJvcHMgPSB7fTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihTdHlsZWRUYWJQYW5lbC5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG52YXIgU3R5bGVkVGFicyA9IHN0eWxlZC5kaXYud2l0aENvbmZpZyh7XG4gIGRpc3BsYXlOYW1lOiBcIlN0eWxlZFRhYnNcIixcbiAgY29tcG9uZW50SWQ6IFwiYTRmd3hsLTJcIlxufSkoW1wiXCIsIFwiIFwiLCBcIjtcIl0sIGdlbmVyaWNTdHlsZXMsIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUudGFicy5leHRlbmQ7XG59KTtcblN0eWxlZFRhYnMuZGVmYXVsdFByb3BzID0ge307XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoU3R5bGVkVGFicy5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG5leHBvcnQgeyBTdHlsZWRUYWJzSGVhZGVyLCBTdHlsZWRUYWJQYW5lbCwgU3R5bGVkVGFicyB9OyIsInZhciBfdGhpcyA9IHRoaXM7XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuaW1wb3J0IFJlYWN0LCB7IGNsb25lRWxlbWVudCwgQ2hpbGRyZW4sIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY29tcG9zZSB9IGZyb20gJ3JlY29tcG9zZSc7XG5pbXBvcnQgeyB3aXRoVGhlbWUgfSBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBkZWZhdWx0UHJvcHMgfSBmcm9tICcuLi8uLi9kZWZhdWx0LXByb3BzJztcbmltcG9ydCB7IEJveCB9IGZyb20gJy4uL0JveCc7XG5pbXBvcnQgeyBTdHlsZWRUYWJQYW5lbCwgU3R5bGVkVGFicywgU3R5bGVkVGFic0hlYWRlciB9IGZyb20gJy4vU3R5bGVkVGFicyc7XG5cbnZhciBUYWJzID0gZnVuY3Rpb24gVGFicyhfcmVmKSB7XG4gIHZhciBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW4sXG4gICAgICBmbGV4ID0gX3JlZi5mbGV4LFxuICAgICAgX3JlZiRqdXN0aWZ5ID0gX3JlZi5qdXN0aWZ5LFxuICAgICAganVzdGlmeSA9IF9yZWYkanVzdGlmeSA9PT0gdm9pZCAwID8gJ2NlbnRlcicgOiBfcmVmJGp1c3RpZnksXG4gICAgICBfcmVmJG1lc3NhZ2VzID0gX3JlZi5tZXNzYWdlcyxcbiAgICAgIG1lc3NhZ2VzID0gX3JlZiRtZXNzYWdlcyA9PT0gdm9pZCAwID8ge1xuICAgIHRhYkNvbnRlbnRzOiAnVGFiIENvbnRlbnRzJ1xuICB9IDogX3JlZiRtZXNzYWdlcyxcbiAgICAgIHRoZW1lID0gX3JlZi50aGVtZSxcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfcmVmLCBbXCJjaGlsZHJlblwiLCBcImZsZXhcIiwgXCJqdXN0aWZ5XCIsIFwibWVzc2FnZXNcIiwgXCJ0aGVtZVwiXSk7XG5cbiAgdmFyIHByb3BzQWN0aXZlSW5kZXggPSByZXN0LmFjdGl2ZUluZGV4LFxuICAgICAgb25BY3RpdmUgPSByZXN0Lm9uQWN0aXZlO1xuXG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZShyZXN0LmFjdGl2ZUluZGV4IHx8IDApLFxuICAgICAgYWN0aXZlSW5kZXggPSBfdXNlU3RhdGVbMF0sXG4gICAgICBzZXRBY3RpdmVJbmRleCA9IF91c2VTdGF0ZVsxXTtcblxuICBpZiAoYWN0aXZlSW5kZXggIT09IHByb3BzQWN0aXZlSW5kZXggJiYgcHJvcHNBY3RpdmVJbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgc2V0QWN0aXZlSW5kZXgocHJvcHNBY3RpdmVJbmRleCk7XG4gIH1cblxuICB2YXIgYWN0aXZhdGVUYWIgPSBmdW5jdGlvbiBhY3RpdmF0ZVRhYihpbmRleCkge1xuICAgIGlmIChwcm9wc0FjdGl2ZUluZGV4ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHNldEFjdGl2ZUluZGV4KGluZGV4KTtcbiAgICB9XG5cbiAgICBpZiAob25BY3RpdmUpIHtcbiAgICAgIG9uQWN0aXZlKGluZGV4KTtcbiAgICB9XG4gIH07XG4gIC8qIGVzbGludC1kaXNhYmxlIG5vLXBhcmFtLXJlYXNzaWduICovXG5cblxuICBkZWxldGUgcmVzdC5hY3RpdmVJbmRleDtcbiAgZGVsZXRlIHJlc3Qub25BY3RpdmU7XG4gIC8qIGVzbGludC1lbmFibGUgbm8tcGFyYW0tcmVhc3NpZ24gKi9cblxuICB2YXIgYWN0aXZlQ29udGVudDtcbiAgdmFyIGFjdGl2ZVRpdGxlO1xuICB2YXIgdGFicyA9IENoaWxkcmVuLm1hcChjaGlsZHJlbiwgZnVuY3Rpb24gKHRhYiwgaW5kZXgpIHtcbiAgICBpZiAoIXRhYikgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB2YXIgdGFiUHJvcHMgPSB0YWIucHJvcHMgfHwge307XG4gICAgdmFyIGlzVGFiQWN0aXZlID0gaW5kZXggPT09IGFjdGl2ZUluZGV4O1xuXG4gICAgaWYgKGlzVGFiQWN0aXZlKSB7XG4gICAgICBhY3RpdmVDb250ZW50ID0gdGFiUHJvcHMuY2hpbGRyZW47XG5cbiAgICAgIGlmICh0eXBlb2YgdGFiUHJvcHMudGl0bGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGFjdGl2ZVRpdGxlID0gdGFiUHJvcHMudGl0bGU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhY3RpdmVUaXRsZSA9IGluZGV4ICsgMTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gY2xvbmVFbGVtZW50KHRhYiwge1xuICAgICAgYWN0aXZlOiBpc1RhYkFjdGl2ZSxcbiAgICAgIG9uQWN0aXZhdGU6IGZ1bmN0aW9uIG9uQWN0aXZhdGUoKSB7XG4gICAgICAgIHJldHVybiBhY3RpdmF0ZVRhYihpbmRleCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sIF90aGlzKTtcbiAgdmFyIHRhYkNvbnRlbnRUaXRsZSA9IChhY3RpdmVUaXRsZSB8fCAnJykgKyBcIiBcIiArIG1lc3NhZ2VzLnRhYkNvbnRlbnRzO1xuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWRUYWJzLCBfZXh0ZW5kcyh7XG4gICAgYXM6IEJveCxcbiAgICByb2xlOiBcInRhYmxpc3RcIixcbiAgICBmbGV4OiBmbGV4XG4gIH0sIHJlc3QsIHtcbiAgICBiYWNrZ3JvdW5kOiB0aGVtZS50YWJzLmJhY2tncm91bmRcbiAgfSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkVGFic0hlYWRlciwge1xuICAgIGFzOiBCb3gsXG4gICAgZGlyZWN0aW9uOiBcInJvd1wiLFxuICAgIGp1c3RpZnk6IGp1c3RpZnksXG4gICAgZmxleDogZmFsc2UsXG4gICAgd3JhcDogdHJ1ZSxcbiAgICBiYWNrZ3JvdW5kOiB0aGVtZS50YWJzLmhlYWRlci5iYWNrZ3JvdW5kLFxuICAgIGdhcDogdGhlbWUudGFicy5nYXBcbiAgfSwgdGFicyksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkVGFiUGFuZWwsIHtcbiAgICBmbGV4OiBmbGV4LFxuICAgIFwiYXJpYS1sYWJlbFwiOiB0YWJDb250ZW50VGl0bGUsXG4gICAgcm9sZTogXCJ0YWJwYW5lbFwiXG4gIH0sIGFjdGl2ZUNvbnRlbnQpKTtcbn07XG5cblRhYnMuZGVmYXVsdFByb3BzID0ge307XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoVGFicy5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG52YXIgVGFic0RvYztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgVGFic0RvYyA9IHJlcXVpcmUoJy4vZG9jJykuZG9jKFRhYnMpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGdsb2JhbC1yZXF1aXJlXG59XG5cbnZhciBUYWJzV3JhcHBlciA9IGNvbXBvc2Uod2l0aFRoZW1lKShUYWJzRG9jIHx8IFRhYnMpO1xuZXhwb3J0IHsgVGFic1dyYXBwZXIgYXMgVGFicyB9OyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmltcG9ydCB7IGRlc2NyaWJlLCBQcm9wVHlwZXMgfSBmcm9tICdyZWFjdC1kZXNjJztcbmltcG9ydCB7IGdlbmVyaWNQcm9wcywgZ2V0QXZhaWxhYmxlQXRCYWRnZSB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmV4cG9ydCB2YXIgZG9jID0gZnVuY3Rpb24gZG9jKFRhYnMpIHtcbiAgdmFyIERvY3VtZW50ZWRUYWJzID0gZGVzY3JpYmUoVGFicykuYXZhaWxhYmxlQXQoZ2V0QXZhaWxhYmxlQXRCYWRnZSgnVGFicycpKS5kZXNjcmlwdGlvbignQSBjb250YWluZXIgd2l0aCBjb250cm9scyB0byBzaG93IG9uZSBUYWIgYXQgYSB0aW1lLicpLnVzYWdlKFwiaW1wb3J0IHsgVGFicywgVGFiIH0gZnJvbSAnZ3JvbW1ldCc7XFxuPFRhYnM+XFxuICA8VGFiIHRpdGxlPSdUYWIgMSc+Li4uPC9UYWI+XFxuICA8VGFiIHRpdGxlPSdUYWIgMic+Li4uPC9UYWI+XFxuPC9UYWJzPlwiKS5pbnRyaW5zaWNFbGVtZW50KCdkaXYnKTtcbiAgRG9jdW1lbnRlZFRhYnMucHJvcFR5cGVzID0gX2V4dGVuZHMoe30sIGdlbmVyaWNQcm9wcywge1xuICAgIGFjdGl2ZUluZGV4OiBQcm9wVHlwZXMubnVtYmVyLmRlc2NyaXB0aW9uKFwiQWN0aXZlIHRhYiBpbmRleC4gSWYgc3BlY2lmaWVkLCBUYWJzIHdpbGwgYmUgYSBjb250cm9sbGVkIGNvbXBvbmVudC5cXG5UaGlzIG1lYW5zIHRoYXQgZnV0dXJlIHRhYiBjaGFuZ2VzIHdpbGwgbm90IHdvcmsgdW5sZXNzIHlvdSBzdWJzY3JpYmUgdG9cXG5vbkFjdGl2ZSBmdW5jdGlvbiBhbmQgdXBkYXRlIGFjdGl2ZUluZGV4IGFjY29yZGluZ2x5LlwiKSxcbiAgICBjaGlsZHJlbjogUHJvcFR5cGVzLm5vZGUuZGVzY3JpcHRpb24oJ0FycmF5IG9mIFRhYi4nKS5pc1JlcXVpcmVkLFxuICAgIGZsZXg6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbJ2dyb3cnLCAnc2hyaW5rJ10pLCBQcm9wVHlwZXMuYm9vbF0pLmRlc2NyaXB0aW9uKCdXaGV0aGVyIGZsZXgtZ3JvdyBhbmQvb3IgZmxleC1zaHJpbmsgaXMgdHJ1ZS4nKSxcbiAgICBqdXN0aWZ5OiBQcm9wVHlwZXMub25lT2YoWydzdGFydCcsICdjZW50ZXInLCAnZW5kJ10pLmRlc2NyaXB0aW9uKCdIb3cgdG8gYWxpZ24gdGhlIHRhYnMgYWxvbmcgdGhlIG1haW4gYXhpcy4nKS5kZWZhdWx0VmFsdWUoJ2NlbnRlcicpLFxuICAgIG1lc3NhZ2VzOiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgdGFiQ29udGVudHM6IFByb3BUeXBlcy5zdHJpbmdcbiAgICB9KS5kZXNjcmlwdGlvbignQ3VzdG9tIG1lc3NhZ2VzIGZvciBUYWJzLiBVc2VkIGZvciBhY2Nlc3NpYmlsaXR5IGJ5IHNjcmVlbiByZWFkZXJzLicpLmRlZmF1bHRWYWx1ZSh7XG4gICAgICB0YWJDb250ZW50czogJ1RhYiBDb250ZW50cydcbiAgICB9KSxcbiAgICBvbkFjdGl2ZTogUHJvcFR5cGVzLmZ1bmMuZGVzY3JpcHRpb24oXCJGdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHdpdGggdGhlIGFjdGl2ZSB0YWIgaW5kZXggd2hlbiB0aGVcXG5jdXJyZW50bHkgYWN0aXZlIHRhYiBjaGFuZ2VzLlwiKVxuICB9KTtcbiAgcmV0dXJuIERvY3VtZW50ZWRUYWJzO1xufTtcbmV4cG9ydCB2YXIgdGhlbWVEb2MgPSB7XG4gICdnbG9iYWwuYm9yZGVyU2l6ZSc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBzaXplIG9mIHRoZSBib3JkZXIuJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6IFwie1xcbiAgICAgIHhzbWFsbDogJzFweCcsXFxuICAgICAgc21hbGw6ICcycHgnLFxcbiAgICAgIG1lZGl1bTogJzRweCcsXFxuICAgICAgbGFyZ2U6ICcxMnB4JyxcXG4gICAgICB4bGFyZ2U6ICcyNHB4LFxcbiAgICB9XCJcbiAgfSxcbiAgJ2dsb2JhbC5jb2xvcnMuYm9yZGVyJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGNvbG9yIG9mIHRhYnMgYm9yZGVyLicsXG4gICAgdHlwZTogJ3N0cmluZyB8IHsgZGFyazogc3RyaW5nLCBsaWdodDogc3RyaW5nIH0nLFxuICAgIGRlZmF1bHRWYWx1ZTogJ3sgZGFyazogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjMzKSwgbGlnaHQ6IHJnYmEoMCwgMCwgMCwgMC4zMykgfSdcbiAgfSxcbiAgJ2dsb2JhbC5lZGdlU2l6ZS5zbWFsbCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBwb3NzaWJsZSBzaXplcyBmb3IgbWFyZ2luLCBwYWQgYW5kIGdhcC4nLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogJzZweCdcbiAgfSxcbiAgJ3RhYnMuYmFja2dyb3VuZCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ2JhY2tncm91bmQgc3R5bGluZyBvZiBUYWJzLicsXG4gICAgdHlwZTogJ3N0cmluZyB8IG9iamVjdCcsXG4gICAgZGVmYXVsdFZhbHVlOiB1bmRlZmluZWRcbiAgfSxcbiAgJ3RhYnMuZXh0ZW5kJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnQW55IGFkZGl0aW9uYWwgc3R5bGUgZm9yIFRhYnMuJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgKHByb3BzKSA9PiB7fScsXG4gICAgZGVmYXVsdFZhbHVlOiB1bmRlZmluZWRcbiAgfSxcbiAgJ3RhYnMuZ2FwJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGdhcCBzaXplIGJldHdlZW4gdGhlIFRhYnMuJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6IHVuZGVmaW5lZFxuICB9LFxuICAndGFicy5oZWFkZXIuYmFja2dyb3VuZCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBiYWNrZ3JvdW5kIHN0eWxlcyBvZiBUYWJzIGhlYWRlci4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCB7IGRhcms6IHN0cmluZywgbGlnaHQ6IHN0cmluZyB9JyxcbiAgICBkZWZhdWx0VmFsdWU6IHVuZGVmaW5lZFxuICB9LFxuICAndGFicy5oZWFkZXIuZXh0ZW5kJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnQW55IGFkZGl0aW9uYWwgc3R5bGUgZm9yIFRhYnMgaGVhZGVyLicsXG4gICAgdHlwZTogJ3N0cmluZyB8IChwcm9wcykgPT4ge30nLFxuICAgIGRlZmF1bHRWYWx1ZTogdW5kZWZpbmVkXG4gIH0sXG4gICd0YWJzLnBhbmVsLmV4dGVuZCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ0FueSBhZGRpdGlvbmFsIHN0eWxlIGZvciBUYWJzIHBhbmVsLicsXG4gICAgdHlwZTogJ3N0cmluZyB8IChwcm9wcykgPT4ge30nLFxuICAgIGRlZmF1bHRWYWx1ZTogdW5kZWZpbmVkXG4gIH1cbn07IiwiZXhwb3J0IHsgVGFicyB9IGZyb20gJy4vVGFicyc7IiwiaW1wb3J0IHN0eWxlZCwgeyBjc3MgfSBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBnZW5lcmljU3R5bGVzLCBub3JtYWxpemVDb2xvciB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmltcG9ydCB7IGRlZmF1bHRQcm9wcyB9IGZyb20gJy4uLy4uL2RlZmF1bHQtcHJvcHMnO1xuXG52YXIgc2l6ZVN0eWxlID0gZnVuY3Rpb24gc2l6ZVN0eWxlKHByb3BzKSB7XG4gIHZhciBzaXplID0gcHJvcHMuc2l6ZSB8fCAnbWVkaXVtJztcbiAgdmFyIGRhdGEgPSBwcm9wcy50aGVtZS50ZXh0W3NpemVdO1xuXG4gIGlmIChkYXRhKSB7XG4gICAgcmV0dXJuIGNzcyhbXCJmb250LXNpemU6XCIsIFwiO2xpbmUtaGVpZ2h0OlwiLCBcIjtcIl0sIGRhdGEuc2l6ZSwgZGF0YS5oZWlnaHQpO1xuICB9XG5cbiAgcmV0dXJuIGNzcyhbXCJmb250LXNpemU6XCIsIFwiO2xpbmUtaGVpZ2h0Om5vcm1hbDtcIl0sIHNpemUpO1xufTtcblxudmFyIFRFWFRfQUxJR05fTUFQID0ge1xuICBjZW50ZXI6ICdjZW50ZXInLFxuICBlbmQ6ICdyaWdodCcsXG4gIHN0YXJ0OiAnbGVmdCdcbn07XG52YXIgdGV4dEFsaWduU3R5bGUgPSBjc3MoW1widGV4dC1hbGlnbjpcIiwgXCI7XCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIFRFWFRfQUxJR05fTUFQW3Byb3BzLnRleHRBbGlnbl07XG59KTtcbnZhciB0cnVuY2F0ZVN0eWxlID0gXCJcXG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XFxuXCI7XG52YXIgY29sb3JTdHlsZSA9IGNzcyhbXCJjb2xvcjpcIiwgXCI7XCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIG5vcm1hbGl6ZUNvbG9yKHByb3BzLmNvbG9yUHJvcCwgcHJvcHMudGhlbWUpO1xufSk7XG52YXIgd2VpZ2h0U3R5bGUgPSBjc3MoW1wiZm9udC13ZWlnaHQ6XCIsIFwiO1wiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy53ZWlnaHQ7XG59KTtcbnZhciB3b3JkQnJlYWtTdHlsZSA9IGNzcyhbXCJ3b3JkLWJyZWFrOlwiLCBcIjtcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMud29yZEJyZWFrO1xufSk7XG52YXIgU3R5bGVkVGV4dCA9IHN0eWxlZC5zcGFuLndpdGhDb25maWcoe1xuICBkaXNwbGF5TmFtZTogXCJTdHlsZWRUZXh0XCIsXG4gIGNvbXBvbmVudElkOiBcInNjLTFzYWR5am4tMFwiXG59KShbXCJcIiwgXCIgXCIsIFwiIFwiLCBcIiBcIiwgXCIgXCIsIFwiIFwiLCBcIiBcIiwgXCIgXCIsIFwiXCJdLCBnZW5lcmljU3R5bGVzLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHNpemVTdHlsZShwcm9wcyk7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRleHRBbGlnbiAmJiB0ZXh0QWxpZ25TdHlsZTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudHJ1bmNhdGUgJiYgdHJ1bmNhdGVTdHlsZTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuY29sb3JQcm9wICYmIGNvbG9yU3R5bGU7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLndlaWdodCAmJiB3ZWlnaHRTdHlsZTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMud29yZEJyZWFrICYmIHdvcmRCcmVha1N0eWxlO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS50ZXh0ICYmIHByb3BzLnRoZW1lLnRleHQuZXh0ZW5kO1xufSk7XG5TdHlsZWRUZXh0LmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKFN0eWxlZFRleHQuZGVmYXVsdFByb3BzLCBkZWZhdWx0UHJvcHMpO1xuZXhwb3J0IHsgU3R5bGVkVGV4dCB9OyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFN0eWxlZFRleHQgfSBmcm9tICcuL1N0eWxlZFRleHQnO1xuXG52YXIgVGV4dCA9IGZ1bmN0aW9uIFRleHQoX3JlZikge1xuICB2YXIgY29sb3IgPSBfcmVmLmNvbG9yLFxuICAgICAgdGFnID0gX3JlZi50YWcsXG4gICAgICBhcyA9IF9yZWYuYXMsXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZiwgW1wiY29sb3JcIiwgXCJ0YWdcIiwgXCJhc1wiXSk7XG5cbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkVGV4dCwgX2V4dGVuZHMoe1xuICAgIGFzOiAhYXMgJiYgdGFnID8gdGFnIDogYXMsXG4gICAgY29sb3JQcm9wOiBjb2xvclxuICB9LCByZXN0KSk7XG59O1xuXG5UZXh0LmRlZmF1bHRQcm9wcyA9IHtcbiAgbGV2ZWw6IDFcbn07XG52YXIgVGV4dERvYztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgVGV4dERvYyA9IHJlcXVpcmUoJy4vZG9jJykuZG9jKFRleHQpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGdsb2JhbC1yZXF1aXJlXG59XG5cbnZhciBUZXh0V3JhcHBlciA9IFRleHREb2MgfHwgVGV4dDtcbmV4cG9ydCB7IFRleHRXcmFwcGVyIGFzIFRleHQgfTsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5pbXBvcnQgeyBkZXNjcmliZSwgUHJvcFR5cGVzIH0gZnJvbSAncmVhY3QtZGVzYyc7XG5pbXBvcnQgeyBjb2xvclByb3BUeXBlLCBnZW5lcmljUHJvcHMsIGdldEF2YWlsYWJsZUF0QmFkZ2UsIHRoZW1lRG9jVXRpbHMgfSBmcm9tICcuLi8uLi91dGlscyc7XG5leHBvcnQgdmFyIGRvYyA9IGZ1bmN0aW9uIGRvYyhUZXh0KSB7XG4gIHZhciBEb2N1bWVudGVkVGV4dCA9IGRlc2NyaWJlKFRleHQpLmF2YWlsYWJsZUF0KGdldEF2YWlsYWJsZUF0QmFkZ2UoJ1RleHQnKSkuZGVzY3JpcHRpb24oJ0FyYml0cmFyeSB0ZXh0LicpLnVzYWdlKFwiaW1wb3J0IHsgVGV4dCB9IGZyb20gJ2dyb21tZXQnO1xcbjxUZXh0IC8+XCIpLmludHJpbnNpY0VsZW1lbnQoJ3NwYW4nKTtcbiAgRG9jdW1lbnRlZFRleHQucHJvcFR5cGVzID0gX2V4dGVuZHMoe30sIGdlbmVyaWNQcm9wcywge1xuICAgIGNvbG9yOiBjb2xvclByb3BUeXBlLmRlc2NyaXB0aW9uKCdBIGNvbG9yIGlkZW50aWZpZXIgdG8gdXNlIGZvciB0aGUgdGV4dCBjb2xvci4nKSxcbiAgICBzaXplOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2YoWyd4c21hbGwnLCAnc21hbGwnLCAnbWVkaXVtJywgJ2xhcmdlJywgJ3hsYXJnZScsICd4eGxhcmdlJ10pLCBQcm9wVHlwZXMuc3RyaW5nXSkuZGVzY3JpcHRpb24oXCJUaGUgZm9udCBzaXplIGFuZCBsaW5lIGhlaWdodCBhcmUgcHJpbWFyaWx5IGRyaXZlbiBieSB0aGUgY2hvc2VuIHRhZy4gXFxuQnV0LCBpdCBjYW4gYmUgYWRqdXN0ZWQgdmlhIHRoaXMgc2l6ZSBwcm9wZXJ0eS4gVGhlIHRhZyBzaG91bGQgYmUgc2V0IGZvciBcXG5zZW1hbnRpYyBjb3JyZWN0bmVzcyBhbmQgYWNjZXNzaWJpbGl0eS4gVGhpcyBzaXplIHByb3BlcnR5IGFsbG93cyBmb3Igc3R5bGlzdGljXFxuYWRqdXN0bWVudHMuXCIpLmRlZmF1bHRWYWx1ZSgnbWVkaXVtJyksXG4gICAgdGFnOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMuZnVuY10pLmRlc2NyaXB0aW9uKFwiVGhlIERPTSB0YWcgdG8gdXNlIGZvciB0aGUgZWxlbWVudC4gTk9URTogVGhpcyBpcyBkZXByZWNhdGVkIGluIGZhdm9yXFxuICAgICAgICAgb2YgaW5kaWNhdGluZyB0aGUgRE9NIHRhZyB2aWEgdGhlICdhcycgcHJvcGVydHkuXCIpLFxuICAgIGFzOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMuZnVuYywgUHJvcFR5cGVzLmVsZW1lbnRdKS5kZXNjcmlwdGlvbihcIlRoZSBET00gdGFnIG9yIHJlYWN0IGNvbXBvbmVudCB0byB1c2UgZm9yIHRoZSBlbGVtZW50LlwiKS5kZWZhdWx0VmFsdWUoJ3NwYW4nKSxcbiAgICB0ZXh0QWxpZ246IFByb3BUeXBlcy5vbmVPZihbJ3N0YXJ0JywgJ2NlbnRlcicsICdlbmQnXSkuZGVzY3JpcHRpb24oJ0hvdyB0byBhbGlnbiB0aGUgdGV4dCBpbnNpZGUgdGhlIGNvbXBvbmVudC4nKS5kZWZhdWx0VmFsdWUoJ3N0YXJ0JyksXG4gICAgdHJ1bmNhdGU6IFByb3BUeXBlcy5ib29sLmRlc2NyaXB0aW9uKFwiUmVzdHJpY3QgdGhlIHRleHQgdG8gYSBzaW5nbGUgbGluZSBhbmQgdHJ1bmNhdGUgd2l0aCBlbGxpcHNpcyBpZiBpdFxcbmlzIHRvbyBsb25nIHRvIGFsbCBmaXQuXCIpLmRlZmF1bHRWYWx1ZShmYWxzZSksXG4gICAgd2VpZ2h0OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2YoWydub3JtYWwnLCAnYm9sZCddKSwgUHJvcFR5cGVzLm51bWJlcl0pLmRlc2NyaXB0aW9uKCdGb250IHdlaWdodCcpLFxuICAgIHdvcmRCcmVhazogUHJvcFR5cGVzLm9uZU9mKFsnbm9ybWFsJywgJ2JyZWFrLWFsbCcsICdrZWVwLWFsbCcsICdicmVhay13b3JkJ10pLmRlc2NyaXB0aW9uKCdXaGV0aGVyIHdvcmRzIHNob3VsZCBicmVhayB3aGVuIHJlYWNoaW5nIHRoZSBlbmQgb2YgYSBsaW5lLicpLmRlZmF1bHRWYWx1ZSgnbm9ybWFsJylcbiAgfSk7XG4gIHJldHVybiBEb2N1bWVudGVkVGV4dDtcbn07XG5leHBvcnQgdmFyIHRoZW1lRG9jID0gX2V4dGVuZHMoe1xuICAnZ2xvYmFsLmNvbG9ycy50ZXh0Jzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIHRleHQgY29sb3IgdXNlZCBmb3IgVGV4dC4nLFxuICAgIHR5cGU6ICdvYmplY3QgfCB7IGRhcms6IHN0cmluZywgbGlnaHQ6IHN0cmluZyB9JyxcbiAgICBkZWZhdWx0VmFsdWU6IFwieyBkYXJrOiAnI2Y4ZjhmOCcsIGxpZ2h0OiAnIzQ0NDQ0NCcgfVwiXG4gIH0sXG4gIHRleHQ6IHtcbiAgICBkZXNjcmlwdGlvbjogXCJUaGUgcG9zc2libGUgc2l6ZXMgb2YgdGhlIHRleHQgaW4gdGVybXMgb2YgaXRzIGZvbnQtc2l6ZSBhbmQgXFxubGluZS1oZWlnaHQuXCIsXG4gICAgdHlwZTogJ29iamVjdCcsXG4gICAgZGVmYXVsdFZhbHVlOiBcIntcXG4gICAgICB4c21hbGw6IHtcXG4gICAgICAgIHNpemU6ICcxMnB4JyxcXG4gICAgICAgIGhlaWdodDogJzE4cHgnLFxcbiAgICAgICB9LFxcbiAgICAgIHNtYWxsOiB7XFxuICAgICAgICBzaXplOiAnMTRweCcsXFxuICAgICAgICBoZWlnaHQ6ICcyMHB4JyxcXG4gICAgICAgfSxcXG4gICAgICBtZWRpdW06IHtcXG4gICAgICAgIHNpemU6ICcxOHB4JyxcXG4gICAgICAgIGhlaWdodDogJzI0cHgnLFxcbiAgICAgIH0sXFxuICAgICAgbGFyZ2U6IHtcXG4gICAgICAgIHNpemU6ICcyMnB4JyxcXG4gICAgICAgIGhlaWdodDogJzI4cHgnLFxcbiAgICAgIH0sXFxuICAgICAgeGxhcmdlOiB7XFxuICAgICAgICBzaXplOiAnMjZweCcsXFxuICAgICAgICBoZWlnaHQ6ICczMnB4JyxcXG4gICAgICB9LFxcbiAgICAgIHh4bGFyZ2U6IHtcXG4gICAgICAgIHNpemU6ICczNHB4JyxcXG4gICAgICAgIGhlaWdodDogJzQwcHgnLFxcbiAgICAgIH0sXFxuICAgIH1cIlxuICB9LFxuICAndGV4dC5leHRlbmQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdBbnkgYWRkaXRpb25hbCBzdHlsZSBmb3IgVGV4dC4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCAocHJvcHMpID0+IHt9JyxcbiAgICBkZWZhdWx0VmFsdWU6IHVuZGVmaW5lZFxuICB9XG59LCB0aGVtZURvY1V0aWxzLmVkZ2VTdHlsZSgnVGhlIHBvc3NpYmxlIHNpemVzIGZvciBtYXJnaW4uJykpOyIsImV4cG9ydCB7IFRleHQgfSBmcm9tICcuL1RleHQnOyIsImltcG9ydCBzdHlsZWQsIHsgY3NzIH0gZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgZGlzYWJsZWRTdHlsZSwgZm9jdXNTdHlsZSwgaW5wdXRTdHlsZSwgcGxhY2Vob2xkZXJTdHlsZSB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmltcG9ydCB7IGRlZmF1bHRQcm9wcyB9IGZyb20gJy4uLy4uL2RlZmF1bHQtcHJvcHMnO1xudmFyIHBsYWluU3R5bGUgPSBjc3MoW1wiYm9yZGVyOm5vbmU7d2lkdGg6MTAwJTstd2Via2l0LWFwcGVhcmFuY2U6bm9uZTtcIl0pO1xuXG52YXIgc2l6ZVN0eWxlID0gZnVuY3Rpb24gc2l6ZVN0eWxlKHByb3BzKSB7XG4gIHZhciBkYXRhID0gcHJvcHMudGhlbWUudGV4dFtwcm9wcy5zaXplXTtcbiAgcmV0dXJuIGNzcyhbXCJmb250LXNpemU6XCIsIFwiO2xpbmUtaGVpZ2h0OlwiLCBcIjtcIl0sIGRhdGEuc2l6ZSwgZGF0YS5oZWlnaHQpO1xufTtcblxudmFyIHJlc2l6ZVN0eWxlID0gZnVuY3Rpb24gcmVzaXplU3R5bGUocmVzaXplKSB7XG4gIGlmIChyZXNpemUgPT09ICdob3Jpem9udGFsJykge1xuICAgIHJldHVybiAncmVzaXplOiBob3Jpem9udGFsOyc7XG4gIH1cblxuICBpZiAocmVzaXplID09PSAndmVydGljYWwnKSB7XG4gICAgcmV0dXJuICdyZXNpemU6IHZlcnRpY2FsOyc7XG4gIH1cblxuICBpZiAocmVzaXplKSB7XG4gICAgcmV0dXJuICdyZXNpemU6IGJvdGg7JztcbiAgfVxuXG4gIHJldHVybiAncmVzaXplOiBub25lOyc7XG59O1xuXG52YXIgU3R5bGVkVGV4dEFyZWEgPSBzdHlsZWQudGV4dGFyZWEud2l0aENvbmZpZyh7XG4gIGRpc3BsYXlOYW1lOiBcIlN0eWxlZFRleHRBcmVhXCIsXG4gIGNvbXBvbmVudElkOiBcInNjLTE3aTNtd3AtMFwiXG59KShbXCJcIiwgXCIgd2lkdGg6MTAwJTtcIiwgXCIgXCIsIFwiIFwiLCBcIiBcIiwgXCIgXCIsIFwiIFwiLCBcIiAmOjotbW96LWZvY3VzLWlubmVye2JvcmRlcjpub25lO291dGxpbmU6bm9uZTt9XCIsIFwiO1wiLCBcIjtcIl0sIGlucHV0U3R5bGUsIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMucmVzaXplICE9PSB1bmRlZmluZWQgJiYgcmVzaXplU3R5bGUocHJvcHMucmVzaXplKTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuZmlsbEFyZyAmJiAnaGVpZ2h0OiAxMDAlOyc7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnNpemUgJiYgc2l6ZVN0eWxlKHByb3BzKTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMucGxhaW4gJiYgcGxhaW5TdHlsZTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuZGlzYWJsZWQgJiYgZGlzYWJsZWRTdHlsZShwcm9wcy50aGVtZS50ZXh0QXJlYS5kaXNhYmxlZCAmJiBwcm9wcy50aGVtZS50ZXh0QXJlYS5kaXNhYmxlZC5vcGFjaXR5KTtcbn0sIHBsYWNlaG9sZGVyU3R5bGUsIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuZm9jdXMgJiYgIXByb3BzLnBsYWluICYmIGZvY3VzU3R5bGU7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLnRleHRBcmVhICYmIHByb3BzLnRoZW1lLnRleHRBcmVhLmV4dGVuZDtcbn0pO1xuU3R5bGVkVGV4dEFyZWEuZGVmYXVsdFByb3BzID0ge307XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoU3R5bGVkVGV4dEFyZWEuZGVmYXVsdFByb3BzLCBkZWZhdWx0UHJvcHMpO1xuZXhwb3J0IHsgU3R5bGVkVGV4dEFyZWEgfTsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjb21wb3NlIH0gZnJvbSAncmVjb21wb3NlJztcbmltcG9ydCB7IEtleWJvYXJkIH0gZnJvbSAnLi4vS2V5Ym9hcmQnO1xuaW1wb3J0IHsgd2l0aEZvY3VzLCB3aXRoRm9yd2FyZFJlZiB9IGZyb20gJy4uL2hvY3MnO1xuaW1wb3J0IHsgU3R5bGVkVGV4dEFyZWEgfSBmcm9tICcuL1N0eWxlZFRleHRBcmVhJztcblxudmFyIFRleHRBcmVhID0gZnVuY3Rpb24gVGV4dEFyZWEoX3JlZikge1xuICB2YXIgZmlsbCA9IF9yZWYuZmlsbCxcbiAgICAgIGZvcndhcmRSZWYgPSBfcmVmLmZvcndhcmRSZWYsXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZiwgW1wiZmlsbFwiLCBcImZvcndhcmRSZWZcIl0pO1xuXG4gIHZhciBvbkVzYyA9IGZ1bmN0aW9uIG9uRXNjKGV2ZW50KSB7XG4gICAgLy8gd2UgaGF2ZSB0byBzdG9wIGJvdGggc3ludGhldGljIGV2ZW50cyBhbmQgbmF0aXZlIGV2ZW50c1xuICAgIC8vIGRyb3AgYW5kIGxheWVyIHNob3VsZCBub3QgY2xvc2UgYnkgcHJlc3NpbmcgZXNjIG9uIHRoaXMgaW5wdXRcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBldmVudC5uYXRpdmVFdmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgfTtcblxuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChLZXlib2FyZCwge1xuICAgIG9uRXNjOiBvbkVzY1xuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZFRleHRBcmVhLCBfZXh0ZW5kcyh7XG4gICAgcmVmOiBmb3J3YXJkUmVmLFxuICAgIGZpbGxBcmc6IGZpbGxcbiAgfSwgcmVzdCkpKTtcbn07XG5cbnZhciBUZXh0QXJlYURvYztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGdsb2JhbC1yZXF1aXJlXG4gIFRleHRBcmVhRG9jID0gcmVxdWlyZSgnLi9kb2MnKS5kb2MoVGV4dEFyZWEpO1xufVxuXG52YXIgVGV4dEFyZWFXcmFwcGVyID0gY29tcG9zZSh3aXRoRm9jdXMoe1xuICBmb2N1c1dpdGhNb3VzZTogdHJ1ZVxufSksIHdpdGhGb3J3YXJkUmVmKShUZXh0QXJlYURvYyB8fCBUZXh0QXJlYSk7XG5leHBvcnQgeyBUZXh0QXJlYVdyYXBwZXIgYXMgVGV4dEFyZWEgfTsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5pbXBvcnQgeyBkZXNjcmliZSwgUHJvcFR5cGVzIH0gZnJvbSAncmVhY3QtZGVzYyc7XG5pbXBvcnQgeyBnZXRBdmFpbGFibGVBdEJhZGdlLCB0aGVtZURvY1V0aWxzIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuZXhwb3J0IHZhciBkb2MgPSBmdW5jdGlvbiBkb2MoVGV4dEFyZWEpIHtcbiAgdmFyIERvY3VtZW50ZWRUZXh0QXJlYSA9IGRlc2NyaWJlKFRleHRBcmVhKS5hdmFpbGFibGVBdChnZXRBdmFpbGFibGVBdEJhZGdlKCdUZXh0QXJlYScpKS5kZXNjcmlwdGlvbignQSBjb250cm9sIHRvIGlucHV0IG11bHRpcGxlIGxpbmVzIG9mIHRleHQuJykudXNhZ2UoXCJpbXBvcnQgeyBUZXh0QXJlYSB9IGZyb20gJ2dyb21tZXQnO1xcbjxUZXh0QXJlYSBpZD0naXRlbScgbmFtZT0naXRlbScgLz5cIikuaW50cmluc2ljRWxlbWVudCgndGV4dGFyZWEnKTtcbiAgRG9jdW1lbnRlZFRleHRBcmVhLnByb3BUeXBlcyA9IHtcbiAgICBpZDogUHJvcFR5cGVzLnN0cmluZy5kZXNjcmlwdGlvbignVGhlIGlkIGF0dHJpYnV0ZSBvZiB0aGUgdGV4dGFyZWEuJyksXG4gICAgZmlsbDogUHJvcFR5cGVzLmJvb2wuZGVzY3JpcHRpb24oJ1doZXRoZXIgdGhlIHdpZHRoIGFuZCBoZWlnaHQgc2hvdWxkIGZpbGwgdGhlIGNvbnRhaW5lci4nKS5kZWZhdWx0VmFsdWUoZmFsc2UpLFxuICAgIGZvY3VzSW5kaWNhdG9yOiBQcm9wVHlwZXMuYm9vbC5kZXNjcmlwdGlvbignV2hldGhlciB0aGUgcGxhaW4gdGV4dGFyZWEgc2hvdWxkIHJlY2VpdmUgYSBmb2N1cyBvdXRsaW5lLicpLFxuICAgIG5hbWU6IFByb3BUeXBlcy5zdHJpbmcuZGVzY3JpcHRpb24oJ1RoZSBuYW1lIGF0dHJpYnV0ZSBvZiB0aGUgdGV4dGFyZWEuJyksXG4gICAgb25DaGFuZ2U6IFByb3BUeXBlcy5mdW5jLmRlc2NyaXB0aW9uKCdGdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIHVzZXIgdHlwZXMgaW4gdGhlIHRleHRhcmVhLicpLFxuICAgIHBsYWNlaG9sZGVyOiBQcm9wVHlwZXMuc3RyaW5nLmRlc2NyaXB0aW9uKCdQbGFjZWhvbGRlciB0ZXh0IHRvIHVzZSB3aGVuIG5vIHZhbHVlIGlzIHByb3ZpZGVkLicpLFxuICAgIHBsYWluOiBQcm9wVHlwZXMuYm9vbC5kZXNjcmlwdGlvbihcIldoZXRoZXIgdGhpcyBpcyBhIHBsYWluIHRleHRhcmVhIHdpdGggbm8gYm9yZGVyIG9yIHBhZGRpbmcuXFxuT25seSB1c2UgdGhpcyB3aGVuIHRoZSBjb250YWluaW5nIGNvbnRleHQgcHJvdmlkZXMgc3VmZmljaWVudCBhZmZvcmRhbmNlLlwiKSxcbiAgICB2YWx1ZTogUHJvcFR5cGVzLnN0cmluZy5kZXNjcmlwdGlvbignV2hhdCB0ZXh0IHRvIHB1dCBpbiB0aGUgdGV4dGFyZWEuJyksXG4gICAgcmVzaXplOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2YoWyd2ZXJ0aWNhbCcsICdob3Jpem9udGFsJ10pLCBQcm9wVHlwZXMuYm9vbF0pLmRlc2NyaXB0aW9uKCdXaGV0aGVyIHVzZXIgaXMgYWxsb3dlZCB0byByZXNpemUgdGhlIHRleHRhcmVhLicpLmRlZmF1bHRWYWx1ZSh0cnVlKSxcbiAgICBzaXplOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2YoWydzbWFsbCcsICdtZWRpdW0nLCAnbGFyZ2UnLCAneGxhcmdlJ10pLCBQcm9wVHlwZXMuc3RyaW5nXSkuZGVzY3JpcHRpb24oJ1RoZSBzaXplIG9mIHRoZSBUZXh0QXJlYS4nKVxuICB9O1xuICByZXR1cm4gRG9jdW1lbnRlZFRleHRBcmVhO1xufTtcbmV4cG9ydCB2YXIgdGhlbWVEb2MgPSBfZXh0ZW5kcyh7XG4gICdnbG9iYWwuY29sb3JzLmJvcmRlcic6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBjb2xvciBvZiB0aGUgYm9yZGVyLicsXG4gICAgdHlwZTogJ3N0cmluZyB8IHsgZGFyazogc3RyaW5nLCBsaWdodDogc3RyaW5nIH0nLFxuICAgIGRlZmF1bHRWYWx1ZToge1xuICAgICAgZGFyazogJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC4zMyknLFxuICAgICAgbGlnaHQ6ICdyZ2JhKDAsIDAsIDAsIDAuMzMpJ1xuICAgIH1cbiAgfSxcbiAgJ2dsb2JhbC5jb250cm9sLmJvcmRlci5jb2xvcic6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBib3JkZXIgY29sb3IuJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICdib3JkZXInXG4gIH0sXG4gICdnbG9iYWwuY29udHJvbC5ib3JkZXIucmFkaXVzJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGJvcmRlciByYWRpdXMuJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICc0cHgnXG4gIH0sXG4gICdnbG9iYWwuY29udHJvbC5ib3JkZXIud2lkdGgnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgYm9yZGVyIHdpZHRoLicsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiAnMXB4J1xuICB9LFxuICAndGV4dEFyZWEuZXh0ZW5kJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnQW55IGFkZGl0aW9uYWwgc3R5bGUgZm9yIFRleHQuJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgKHByb3BzKSA9PiB7fScsXG4gICAgZGVmYXVsdFZhbHVlOiB1bmRlZmluZWRcbiAgfSxcbiAgJ3RleHRBcmVhLmRpc2FibGVkLm9wYWNpdHknOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgb3BhY2l0eSB3aGVuIHRoZSB0ZXh0QXJlYSBpcyBkaXNhYmxlZC4nLFxuICAgIHR5cGU6ICdudW1iZXInLFxuICAgIGRlZmF1bHRWYWx1ZTogMC4zXG4gIH1cbn0sIHRoZW1lRG9jVXRpbHMuZm9jdXNTdHlsZSwge30sIHRoZW1lRG9jVXRpbHMucGxhY2Vob2xkZXJTdHlsZSwge30sIHRoZW1lRG9jVXRpbHMuaW5wdXRTdHlsZSwge30sIHRoZW1lRG9jVXRpbHMuZGlzYWJsZWRTdHlsZSk7IiwiZXhwb3J0IHsgVGV4dEFyZWEgfSBmcm9tICcuL1RleHRBcmVhJzsiLCJpbXBvcnQgc3R5bGVkLCB7IGNzcyB9IGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCB7IGRpc2FibGVkU3R5bGUsIGZvY3VzU3R5bGUsIGlucHV0U3R5bGUsIHBhcnNlTWV0cmljVG9OdW0sIHBsYWNlaG9sZGVyU3R5bGUgfSBmcm9tICcuLi8uLi91dGlscyc7XG5pbXBvcnQgeyBkZWZhdWx0UHJvcHMgfSBmcm9tICcuLi8uLi9kZWZhdWx0LXByb3BzJztcblxudmFyIHNpemVTdHlsZSA9IGZ1bmN0aW9uIHNpemVTdHlsZShwcm9wcykge1xuICB2YXIgZGF0YSA9IHByb3BzLnRoZW1lLnRleHRbcHJvcHMuc2l6ZV07XG4gIHJldHVybiBjc3MoW1wiZm9udC1zaXplOlwiLCBcIjtsaW5lLWhlaWdodDpcIiwgXCI7XCJdLCBkYXRhLnNpemUsIGRhdGEuaGVpZ2h0KTtcbn07XG5cbnZhciBwbGFpblN0eWxlID0gY3NzKFtcImJvcmRlcjpub25lO1wiXSk7XG52YXIgU3R5bGVkVGV4dElucHV0ID0gc3R5bGVkLmlucHV0LndpdGhDb25maWcoe1xuICBkaXNwbGF5TmFtZTogXCJTdHlsZWRUZXh0SW5wdXRcIixcbiAgY29tcG9uZW50SWQ6IFwic2MtMXgzMGEwcy0wXCJcbn0pKFtcIlwiLCBcIiB3aWR0aDoxMDAlO1wiLCBcIiBcIiwgXCIgXCIsIFwiICY6Oi1tb3otZm9jdXMtaW5uZXJ7Ym9yZGVyOm5vbmU7b3V0bGluZTpub25lO31cIiwgXCI7XCIsIFwiIFwiLCBcIjtcIl0sIGlucHV0U3R5bGUsIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuc2l6ZSAmJiBzaXplU3R5bGUocHJvcHMpO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5wbGFpbiAmJiBwbGFpblN0eWxlO1xufSwgcGxhY2Vob2xkZXJTdHlsZSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5mb2N1cyAmJiAhcHJvcHMucGxhaW4gJiYgZm9jdXNTdHlsZTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuZGlzYWJsZWQgJiYgZGlzYWJsZWRTdHlsZShwcm9wcy50aGVtZS50ZXh0SW5wdXQuZGlzYWJsZWQgJiYgcHJvcHMudGhlbWUudGV4dElucHV0LmRpc2FibGVkLm9wYWNpdHkpO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS50ZXh0SW5wdXQgJiYgcHJvcHMudGhlbWUudGV4dElucHV0LmV4dGVuZDtcbn0pO1xuU3R5bGVkVGV4dElucHV0LmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKFN0eWxlZFRleHRJbnB1dC5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG52YXIgU3R5bGVkVGV4dElucHV0Q29udGFpbmVyID0gc3R5bGVkLmRpdi53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiU3R5bGVkVGV4dElucHV0X19TdHlsZWRUZXh0SW5wdXRDb250YWluZXJcIixcbiAgY29tcG9uZW50SWQ6IFwic2MtMXgzMGEwcy0xXCJcbn0pKFtcInBvc2l0aW9uOnJlbGF0aXZlO3dpZHRoOjEwMCU7XCIsIFwiO1wiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS50ZXh0SW5wdXQgJiYgcHJvcHMudGhlbWUudGV4dElucHV0LmNvbnRhaW5lciAmJiBwcm9wcy50aGVtZS50ZXh0SW5wdXQuY29udGFpbmVyLmV4dGVuZDtcbn0pO1xuU3R5bGVkVGV4dElucHV0Q29udGFpbmVyLmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKFN0eWxlZFRleHRJbnB1dENvbnRhaW5lci5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG52YXIgU3R5bGVkUGxhY2Vob2xkZXIgPSBzdHlsZWQuZGl2LndpdGhDb25maWcoe1xuICBkaXNwbGF5TmFtZTogXCJTdHlsZWRUZXh0SW5wdXRfX1N0eWxlZFBsYWNlaG9sZGVyXCIsXG4gIGNvbXBvbmVudElkOiBcInNjLTF4MzBhMHMtMlwiXG59KShbXCJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OlwiLCBcInB4O3RvcDo1MCU7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTUwJSk7ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpjZW50ZXI7cG9pbnRlci1ldmVudHM6bm9uZTtcIiwgXCI7XCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHBhcnNlTWV0cmljVG9OdW0ocHJvcHMudGhlbWUuZ2xvYmFsLmlucHV0LnBhZGRpbmcpIC0gcGFyc2VNZXRyaWNUb051bShwcm9wcy50aGVtZS5nbG9iYWwuY29udHJvbC5ib3JkZXIud2lkdGgpO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS50ZXh0SW5wdXQgJiYgcHJvcHMudGhlbWUudGV4dElucHV0LnBsYWNlaG9sZGVyICYmIHByb3BzLnRoZW1lLnRleHRJbnB1dC5wbGFjZWhvbGRlci5leHRlbmQ7XG59KTtcblN0eWxlZFBsYWNlaG9sZGVyLmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKFN0eWxlZFBsYWNlaG9sZGVyLmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbnZhciBTdHlsZWRTdWdnZXN0aW9ucyA9IHN0eWxlZC5vbC53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiU3R5bGVkVGV4dElucHV0X19TdHlsZWRTdWdnZXN0aW9uc1wiLFxuICBjb21wb25lbnRJZDogXCJzYy0xeDMwYTBzLTNcIlxufSkoW1wiYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czowO2JvcmRlci10b3AtcmlnaHQtcmFkaXVzOjA7bWFyZ2luOjA7cGFkZGluZzowO2xpc3Qtc3R5bGUtdHlwZTpub25lO1wiLCBcIjtcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUudGV4dElucHV0ICYmIHByb3BzLnRoZW1lLnRleHRJbnB1dC5zdWdnZXN0aW9ucyAmJiBwcm9wcy50aGVtZS50ZXh0SW5wdXQuc3VnZ2VzdGlvbnMuZXh0ZW5kO1xufSk7XG5TdHlsZWRTdWdnZXN0aW9ucy5kZWZhdWx0UHJvcHMgPSB7fTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihTdHlsZWRTdWdnZXN0aW9ucy5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG5leHBvcnQgeyBTdHlsZWRUZXh0SW5wdXQsIFN0eWxlZFRleHRJbnB1dENvbnRhaW5lciwgU3R5bGVkUGxhY2Vob2xkZXIsIFN0eWxlZFN1Z2dlc3Rpb25zIH07IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzTG9vc2Uoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzLnByb3RvdHlwZSk7IHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzOyBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbmltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQsIGlzVmFsaWRFbGVtZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY29tcG9zZSB9IGZyb20gJ3JlY29tcG9zZSc7XG5pbXBvcnQgc3R5bGVkLCB7IHdpdGhUaGVtZSB9IGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCB7IGRlZmF1bHRQcm9wcyB9IGZyb20gJy4uLy4uL2RlZmF1bHQtcHJvcHMnO1xuaW1wb3J0IHsgQm94IH0gZnJvbSAnLi4vQm94JztcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJy4uL0J1dHRvbic7XG5pbXBvcnQgeyBEcm9wIH0gZnJvbSAnLi4vRHJvcCc7XG5pbXBvcnQgeyBJbmZpbml0ZVNjcm9sbCB9IGZyb20gJy4uL0luZmluaXRlU2Nyb2xsJztcbmltcG9ydCB7IEtleWJvYXJkIH0gZnJvbSAnLi4vS2V5Ym9hcmQnO1xuaW1wb3J0IHsgd2l0aEFubm91bmNlLCB3aXRoRm9jdXMsIHdpdGhGb3J3YXJkUmVmIH0gZnJvbSAnLi4vaG9jcyc7XG5pbXBvcnQgeyBzaXplU3R5bGUgfSBmcm9tICcuLi8uLi91dGlscyc7XG5pbXBvcnQgeyBTdHlsZWRUZXh0SW5wdXQsIFN0eWxlZFRleHRJbnB1dENvbnRhaW5lciwgU3R5bGVkUGxhY2Vob2xkZXIsIFN0eWxlZFN1Z2dlc3Rpb25zIH0gZnJvbSAnLi9TdHlsZWRUZXh0SW5wdXQnO1xuXG5mdW5jdGlvbiByZW5kZXJMYWJlbChzdWdnZXN0aW9uKSB7XG4gIGlmIChzdWdnZXN0aW9uICYmIHR5cGVvZiBzdWdnZXN0aW9uID09PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBzdWdnZXN0aW9uLmxhYmVsIHx8IHN1Z2dlc3Rpb24udmFsdWU7XG4gIH1cblxuICByZXR1cm4gc3VnZ2VzdGlvbjtcbn1cblxuZnVuY3Rpb24gc3RyaW5nTGFiZWwoc3VnZ2VzdGlvbikge1xuICBpZiAoc3VnZ2VzdGlvbiAmJiB0eXBlb2Ygc3VnZ2VzdGlvbiA9PT0gJ29iamVjdCcpIHtcbiAgICBpZiAoc3VnZ2VzdGlvbi5sYWJlbCAmJiB0eXBlb2Ygc3VnZ2VzdGlvbi5sYWJlbCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiBzdWdnZXN0aW9uLmxhYmVsO1xuICAgIH1cblxuICAgIHJldHVybiBzdWdnZXN0aW9uLnZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIHN1Z2dlc3Rpb247XG59XG5cbnZhciBDb250YWluZXJCb3ggPSBzdHlsZWQoQm94KS53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiVGV4dElucHV0X19Db250YWluZXJCb3hcIixcbiAgY29tcG9uZW50SWQ6IFwic2MtMWFpMGMwOC0wXCJcbn0pKFtcIlwiLCBcIjtAbWVkaWEgc2NyZWVuIGFuZCAoLW1zLWhpZ2gtY29udHJhc3Q6YWN0aXZlKSwoLW1zLWhpZ2gtY29udHJhc3Q6bm9uZSl7d2lkdGg6MTAwJTt9XCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLmRyb3BIZWlnaHQgPyBzaXplU3R5bGUoJ21heC1oZWlnaHQnLCBwcm9wcy5kcm9wSGVpZ2h0LCBwcm9wcy50aGVtZSkgOiAnbWF4LWhlaWdodDogaW5oZXJpdDsnO1xufSk7XG5cbnZhciBUZXh0SW5wdXQgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoVGV4dElucHV0LCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBUZXh0SW5wdXQoKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIF90aGlzID0gX0NvbXBvbmVudC5jYWxsLmFwcGx5KF9Db21wb25lbnQsIFt0aGlzXS5jb25jYXQoYXJncykpIHx8IHRoaXM7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwic3RhdGVcIiwge1xuICAgICAgYWN0aXZlU3VnZ2VzdGlvbkluZGV4OiAtMSxcbiAgICAgIHNob3dEcm9wOiBmYWxzZVxuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcImlucHV0UmVmXCIsIFJlYWN0LmNyZWF0ZVJlZigpKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJhbm5vdW5jZVwiLCBmdW5jdGlvbiAobWVzc2FnZSwgbW9kZSkge1xuICAgICAgdmFyIF90aGlzJHByb3BzID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgYW5ub3VuY2UgPSBfdGhpcyRwcm9wcy5hbm5vdW5jZSxcbiAgICAgICAgICBzdWdnZXN0aW9ucyA9IF90aGlzJHByb3BzLnN1Z2dlc3Rpb25zO1xuXG4gICAgICBpZiAoc3VnZ2VzdGlvbnMgJiYgc3VnZ2VzdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICBhbm5vdW5jZShtZXNzYWdlLCBtb2RlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJhbm5vdW5jZVN1Z2dlc3Rpb25zQ291bnRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzMiA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIHN1Z2dlc3Rpb25zID0gX3RoaXMkcHJvcHMyLnN1Z2dlc3Rpb25zLFxuICAgICAgICAgIHN1Z2dlc3Rpb25zQ291bnQgPSBfdGhpcyRwcm9wczIubWVzc2FnZXMuc3VnZ2VzdGlvbnNDb3VudDtcblxuICAgICAgX3RoaXMuYW5ub3VuY2Uoc3VnZ2VzdGlvbnMubGVuZ3RoICsgXCIgXCIgKyBzdWdnZXN0aW9uc0NvdW50KTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJhbm5vdW5jZVN1Z2dlc3Rpb25zRXhpc3RcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHN1Z2dlc3Rpb25zRXhpc3QgPSBfdGhpcy5wcm9wcy5tZXNzYWdlcy5zdWdnZXN0aW9uc0V4aXN0O1xuXG4gICAgICBfdGhpcy5hbm5vdW5jZShzdWdnZXN0aW9uc0V4aXN0KTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJhbm5vdW5jZVN1Z2dlc3Rpb25zSXNPcGVuXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBzdWdnZXN0aW9uSXNPcGVuID0gX3RoaXMucHJvcHMubWVzc2FnZXMuc3VnZ2VzdGlvbklzT3BlbjtcblxuICAgICAgX3RoaXMuYW5ub3VuY2Uoc3VnZ2VzdGlvbklzT3Blbik7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiYW5ub3VuY2VTdWdnZXN0aW9uXCIsIGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzMyA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIHN1Z2dlc3Rpb25zID0gX3RoaXMkcHJvcHMzLnN1Z2dlc3Rpb25zLFxuICAgICAgICAgIGVudGVyU2VsZWN0ID0gX3RoaXMkcHJvcHMzLm1lc3NhZ2VzLmVudGVyU2VsZWN0O1xuXG4gICAgICBpZiAoc3VnZ2VzdGlvbnMgJiYgc3VnZ2VzdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICB2YXIgbGFiZWxNZXNzYWdlID0gc3RyaW5nTGFiZWwoc3VnZ2VzdGlvbnNbaW5kZXhdKTtcblxuICAgICAgICBfdGhpcy5hbm5vdW5jZShsYWJlbE1lc3NhZ2UgKyBcIiBcIiArIGVudGVyU2VsZWN0KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJyZXNldFN1Z2dlc3Rpb25zXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIGRlbGF5IHRoaXMgdG8gYXZvaWQgcmUtcmVuZGVyIGludGVydXB0aW5nIGV2ZW50IGRlbGl2ZXJ5XG4gICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vZ3JvbW1ldC9ncm9tbWV0L2lzc3Vlcy8yMTU0XG4gICAgICAvLyAxMG1zIHdhcyBjaG9zZW4gZW1waXJpY2FsbHkgYmFzZWQgb24gaWUxMSB1c2luZyBUZXh0SW5wdXRcbiAgICAgIC8vIHdpdGggYW5kIHdpdGhvdXQgYSBGb3JtRmllbGQuXG4gICAgICBjbGVhclRpbWVvdXQoX3RoaXMucmVzZXRUaW1lcik7XG4gICAgICBfdGhpcy5yZXNldFRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzdWdnZXN0aW9ucyA9IF90aGlzLnByb3BzLnN1Z2dlc3Rpb25zO1xuXG4gICAgICAgIGlmIChzdWdnZXN0aW9ucyAmJiBzdWdnZXN0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBhY3RpdmVTdWdnZXN0aW9uSW5kZXg6IC0xLFxuICAgICAgICAgICAgc2hvd0Ryb3A6IHRydWUsXG4gICAgICAgICAgICBzZWxlY3RlZFN1Z2dlc3Rpb25JbmRleDogLTFcbiAgICAgICAgICB9LCBfdGhpcy5hbm5vdW5jZVN1Z2dlc3Rpb25zQ291bnQpO1xuICAgICAgICB9XG4gICAgICB9LCAxMCk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiZ2V0U2VsZWN0ZWRTdWdnZXN0aW9uSW5kZXhcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzNCA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIHN1Z2dlc3Rpb25zID0gX3RoaXMkcHJvcHM0LnN1Z2dlc3Rpb25zLFxuICAgICAgICAgIHZhbHVlID0gX3RoaXMkcHJvcHM0LnZhbHVlO1xuICAgICAgdmFyIHN1Z2dlc3Rpb25WYWx1ZXMgPSBzdWdnZXN0aW9ucy5tYXAoZnVuY3Rpb24gKHN1Z2dlc3Rpb24pIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzdWdnZXN0aW9uID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgIHJldHVybiBzdWdnZXN0aW9uLnZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN1Z2dlc3Rpb247XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBzdWdnZXN0aW9uVmFsdWVzLmluZGV4T2YodmFsdWUpO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIm9uU2hvd1N1Z2dlc3Rpb25zXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIEdldCB2YWx1ZXMgb2Ygc3VnZ2VzdGlvbnMsIHNvIHdlIGNhbiBoaWdobGlnaHQgc2VsZWN0ZWQgc3VnZ2VzdGlvblxuICAgICAgdmFyIHNlbGVjdGVkU3VnZ2VzdGlvbkluZGV4ID0gX3RoaXMuZ2V0U2VsZWN0ZWRTdWdnZXN0aW9uSW5kZXgoKTtcblxuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBzaG93RHJvcDogdHJ1ZSxcbiAgICAgICAgYWN0aXZlU3VnZ2VzdGlvbkluZGV4OiAtMSxcbiAgICAgICAgc2VsZWN0ZWRTdWdnZXN0aW9uSW5kZXg6IHNlbGVjdGVkU3VnZ2VzdGlvbkluZGV4XG4gICAgICB9LCBfdGhpcy5hbm5vdW5jZVN1Z2dlc3Rpb25zSXNPcGVuKTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJvbk5leHRTdWdnZXN0aW9uXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgdmFyIHN1Z2dlc3Rpb25zID0gX3RoaXMucHJvcHMuc3VnZ2VzdGlvbnM7XG4gICAgICB2YXIgX3RoaXMkc3RhdGUgPSBfdGhpcy5zdGF0ZSxcbiAgICAgICAgICBhY3RpdmVTdWdnZXN0aW9uSW5kZXggPSBfdGhpcyRzdGF0ZS5hY3RpdmVTdWdnZXN0aW9uSW5kZXgsXG4gICAgICAgICAgc2hvd0Ryb3AgPSBfdGhpcyRzdGF0ZS5zaG93RHJvcDtcblxuICAgICAgaWYgKHN1Z2dlc3Rpb25zICYmIHN1Z2dlc3Rpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgaWYgKCFzaG93RHJvcCkge1xuICAgICAgICAgIF90aGlzLm9uU2hvd1N1Z2dlc3Rpb25zKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB2YXIgaW5kZXggPSBNYXRoLm1pbihhY3RpdmVTdWdnZXN0aW9uSW5kZXggKyAxLCBzdWdnZXN0aW9ucy5sZW5ndGggLSAxKTtcblxuICAgICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGFjdGl2ZVN1Z2dlc3Rpb25JbmRleDogaW5kZXhcbiAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuYW5ub3VuY2VTdWdnZXN0aW9uKGluZGV4KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIm9uUHJldmlvdXNTdWdnZXN0aW9uXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgdmFyIHN1Z2dlc3Rpb25zID0gX3RoaXMucHJvcHMuc3VnZ2VzdGlvbnM7XG4gICAgICB2YXIgX3RoaXMkc3RhdGUyID0gX3RoaXMuc3RhdGUsXG4gICAgICAgICAgYWN0aXZlU3VnZ2VzdGlvbkluZGV4ID0gX3RoaXMkc3RhdGUyLmFjdGl2ZVN1Z2dlc3Rpb25JbmRleCxcbiAgICAgICAgICBzaG93RHJvcCA9IF90aGlzJHN0YXRlMi5zaG93RHJvcDtcblxuICAgICAgaWYgKHN1Z2dlc3Rpb25zICYmIHN1Z2dlc3Rpb25zLmxlbmd0aCA+IDAgJiYgc2hvd0Ryb3ApIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdmFyIGluZGV4ID0gTWF0aC5tYXgoYWN0aXZlU3VnZ2VzdGlvbkluZGV4IC0gMSwgMCk7XG5cbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGFjdGl2ZVN1Z2dlc3Rpb25JbmRleDogaW5kZXhcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpcy5hbm5vdW5jZVN1Z2dlc3Rpb24oaW5kZXgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJvbkNsaWNrU3VnZ2VzdGlvblwiLCBmdW5jdGlvbiAoc3VnZ2VzdGlvbiwgZXZlbnQpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczUgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBmb3J3YXJkUmVmID0gX3RoaXMkcHJvcHM1LmZvcndhcmRSZWYsXG4gICAgICAgICAgb25TZWxlY3QgPSBfdGhpcyRwcm9wczUub25TZWxlY3Q7XG5cbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgc2hvd0Ryb3A6IGZhbHNlLFxuICAgICAgICBhY3RpdmVTdWdnZXN0aW9uSW5kZXg6IC0xXG4gICAgICB9KTtcblxuICAgICAgaWYgKG9uU2VsZWN0KSB7XG4gICAgICAgIC8vIFRPRE86IG5lZWRlZCBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgc2FrZVxuXG4gICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLXBhcmFtLXJlYXNzaWduICovXG4gICAgICAgIGV2ZW50LnN1Z2dlc3Rpb24gPSBzdWdnZXN0aW9uO1xuICAgICAgICBldmVudC50YXJnZXQgPSAoZm9yd2FyZFJlZiB8fCBfdGhpcy5pbnB1dFJlZikuY3VycmVudDtcbiAgICAgICAgLyogZXNsaW50LWVuYWJsZSBuby1wYXJhbS1yZWFzc2lnbiAqL1xuXG4gICAgICAgIG9uU2VsZWN0KGV2ZW50KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJvblN1Z2dlc3Rpb25TZWxlY3RcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHM2ID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgZm9yd2FyZFJlZiA9IF90aGlzJHByb3BzNi5mb3J3YXJkUmVmLFxuICAgICAgICAgIG9uU2VsZWN0ID0gX3RoaXMkcHJvcHM2Lm9uU2VsZWN0LFxuICAgICAgICAgIHN1Z2dlc3Rpb25zID0gX3RoaXMkcHJvcHM2LnN1Z2dlc3Rpb25zO1xuICAgICAgdmFyIGFjdGl2ZVN1Z2dlc3Rpb25JbmRleCA9IF90aGlzLnN0YXRlLmFjdGl2ZVN1Z2dlc3Rpb25JbmRleDtcblxuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBzaG93RHJvcDogZmFsc2UsXG4gICAgICAgIGFjdGl2ZVN1Z2dlc3Rpb25JbmRleDogLTFcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoYWN0aXZlU3VnZ2VzdGlvbkluZGV4ID49IDApIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsgLy8gcHJldmVudCBzdWJtaXR0aW5nIGZvcm1zXG4gICAgICAgIC8vIFRPRE86IG5lZWRlZCBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgc2FrZVxuXG4gICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLXBhcmFtLXJlYXNzaWduICovXG5cbiAgICAgICAgZXZlbnQuc3VnZ2VzdGlvbiA9IHN1Z2dlc3Rpb25zW2FjdGl2ZVN1Z2dlc3Rpb25JbmRleF07XG4gICAgICAgIGV2ZW50LnRhcmdldCA9IChmb3J3YXJkUmVmIHx8IF90aGlzLmlucHV0UmVmKS5jdXJyZW50O1xuICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLXBhcmFtLXJlYXNzaWduICovXG5cbiAgICAgICAgaWYgKG9uU2VsZWN0KSB7XG4gICAgICAgICAgb25TZWxlY3QoZXZlbnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwib25Gb2N1c1wiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczcgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBvbkZvY3VzID0gX3RoaXMkcHJvcHM3Lm9uRm9jdXMsXG4gICAgICAgICAgc3VnZ2VzdGlvbnMgPSBfdGhpcyRwcm9wczcuc3VnZ2VzdGlvbnM7XG5cbiAgICAgIGlmIChzdWdnZXN0aW9ucyAmJiBzdWdnZXN0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgIF90aGlzLmFubm91bmNlU3VnZ2VzdGlvbnNFeGlzdCgpO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5yZXNldFN1Z2dlc3Rpb25zKCk7XG5cbiAgICAgIGlmIChvbkZvY3VzKSB7XG4gICAgICAgIG9uRm9jdXMoZXZlbnQpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIm9uQmx1clwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBvbkJsdXIgPSBfdGhpcy5wcm9wcy5vbkJsdXI7XG4gICAgICBjbGVhclRpbWVvdXQoX3RoaXMucmVzZXRUaW1lcik7XG5cbiAgICAgIGlmIChvbkJsdXIpIHtcbiAgICAgICAgb25CbHVyKGV2ZW50KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJvbkNoYW5nZVwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBvbkNoYW5nZSA9IF90aGlzLnByb3BzLm9uQ2hhbmdlO1xuXG4gICAgICBfdGhpcy5yZXNldFN1Z2dlc3Rpb25zKCk7XG5cbiAgICAgIGlmIChvbkNoYW5nZSkge1xuICAgICAgICBvbkNoYW5nZShldmVudCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwib25Fc2NcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgc2hvd0Ryb3AgPSBfdGhpcy5zdGF0ZS5zaG93RHJvcDtcblxuICAgICAgaWYgKHNob3dEcm9wKSB7XG4gICAgICAgIC8vIHdlIGhhdmUgdG8gc3RvcCBib3RoIHN5bnRoZXRpYyBldmVudHMgYW5kIG5hdGl2ZSBldmVudHNcbiAgICAgICAgLy8gZHJvcCBhbmQgbGF5ZXIgc2hvdWxkIG5vdCBjbG9zZSBieSBwcmVzc2luZyBlc2Mgb24gdGhpcyBpbnB1dFxuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgZXZlbnQubmF0aXZlRXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIHNob3dEcm9wOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJvblRhYlwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHNob3dEcm9wOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwicmVuZGVyU3VnZ2VzdGlvbnNcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzOCA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIHN1Z2dlc3Rpb25zID0gX3RoaXMkcHJvcHM4LnN1Z2dlc3Rpb25zLFxuICAgICAgICAgIHRoZW1lID0gX3RoaXMkcHJvcHM4LnRoZW1lO1xuICAgICAgdmFyIF90aGlzJHN0YXRlMyA9IF90aGlzLnN0YXRlLFxuICAgICAgICAgIGFjdGl2ZVN1Z2dlc3Rpb25JbmRleCA9IF90aGlzJHN0YXRlMy5hY3RpdmVTdWdnZXN0aW9uSW5kZXgsXG4gICAgICAgICAgc2VsZWN0ZWRTdWdnZXN0aW9uSW5kZXggPSBfdGhpcyRzdGF0ZTMuc2VsZWN0ZWRTdWdnZXN0aW9uSW5kZXg7XG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWRTdWdnZXN0aW9ucywgbnVsbCwgUmVhY3QuY3JlYXRlRWxlbWVudChJbmZpbml0ZVNjcm9sbCwge1xuICAgICAgICBpdGVtczogc3VnZ2VzdGlvbnMsXG4gICAgICAgIHN0ZXA6IHRoZW1lLnNlbGVjdC5zdGVwXG4gICAgICB9LCBmdW5jdGlvbiAoc3VnZ2VzdGlvbiwgaW5kZXgpIHtcbiAgICAgICAgdmFyIHBsYWluID0gdHlwZW9mIHN1Z2dlc3Rpb24gPT09ICdvYmplY3QnICYmIHR5cGVvZiBpc1ZhbGlkRWxlbWVudChzdWdnZXN0aW9uLmxhYmVsKTtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJsaVwiLCB7XG4gICAgICAgICAga2V5OiBzdHJpbmdMYWJlbChzdWdnZXN0aW9uKSArIFwiLVwiICsgaW5kZXhcbiAgICAgICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtcbiAgICAgICAgICBhY3RpdmU6IGFjdGl2ZVN1Z2dlc3Rpb25JbmRleCA9PT0gaW5kZXggfHwgc2VsZWN0ZWRTdWdnZXN0aW9uSW5kZXggPT09IGluZGV4LFxuICAgICAgICAgIGZpbGw6IHRydWUsXG4gICAgICAgICAgaG92ZXJJbmRpY2F0b3I6IFwiYmFja2dyb3VuZFwiLFxuICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soZXZlbnQpIHtcbiAgICAgICAgICAgIF90aGlzLm9uQ2xpY2tTdWdnZXN0aW9uKHN1Z2dlc3Rpb24sIGV2ZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIHBsYWluID8gcmVuZGVyTGFiZWwoc3VnZ2VzdGlvbikgOiBSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwge1xuICAgICAgICAgIGFsaWduOiBcInN0YXJ0XCIsXG4gICAgICAgICAgcGFkOiBcInNtYWxsXCJcbiAgICAgICAgfSwgcmVuZGVyTGFiZWwoc3VnZ2VzdGlvbikpKSk7XG4gICAgICB9KSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBUZXh0SW5wdXQuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID0gZnVuY3Rpb24gZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKG5leHRQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgdmFyIHN1Z2dlc3Rpb25zID0gbmV4dFByb3BzLnN1Z2dlc3Rpb25zO1xuICAgIHZhciBzaG93RHJvcCA9IHByZXZTdGF0ZS5zaG93RHJvcDtcblxuICAgIGlmIChzaG93RHJvcCAmJiAoIXN1Z2dlc3Rpb25zIHx8ICFzdWdnZXN0aW9ucy5sZW5ndGgpKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzaG93RHJvcDogZmFsc2VcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgdmFyIF9wcm90byA9IFRleHRJbnB1dC5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmNvbXBvbmVudERpZFVwZGF0ZSA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMsIHByZXZTdGF0ZSkge1xuICAgIHZhciBfdGhpcyRwcm9wczkgPSB0aGlzLnByb3BzLFxuICAgICAgICBvblN1Z2dlc3Rpb25zT3BlbiA9IF90aGlzJHByb3BzOS5vblN1Z2dlc3Rpb25zT3BlbixcbiAgICAgICAgb25TdWdnZXN0aW9uc0Nsb3NlID0gX3RoaXMkcHJvcHM5Lm9uU3VnZ2VzdGlvbnNDbG9zZSxcbiAgICAgICAgc3VnZ2VzdGlvbnMgPSBfdGhpcyRwcm9wczkuc3VnZ2VzdGlvbnM7XG4gICAgdmFyIHNob3dEcm9wID0gdGhpcy5zdGF0ZS5zaG93RHJvcDtcblxuICAgIGlmIChzaG93RHJvcCAhPT0gcHJldlN0YXRlLnNob3dEcm9wKSB7XG4gICAgICBpZiAoc2hvd0Ryb3AgJiYgb25TdWdnZXN0aW9uc09wZW4pIHtcbiAgICAgICAgb25TdWdnZXN0aW9uc09wZW4oKTtcbiAgICAgIH0gZWxzZSBpZiAob25TdWdnZXN0aW9uc0Nsb3NlKSB7XG4gICAgICAgIG9uU3VnZ2VzdGlvbnNDbG9zZSgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghc2hvd0Ryb3AgJiYgc3VnZ2VzdGlvbnMgJiYgKCFwcmV2UHJvcHMuc3VnZ2VzdGlvbnMgfHwgIXByZXZQcm9wcy5zdWdnZXN0aW9ucy5sZW5ndGgpKSB7XG4gICAgICB0aGlzLnJlc2V0U3VnZ2VzdGlvbnMoKTtcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMucmVzZXRUaW1lcik7XG4gIH07XG5cbiAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIHZhciBfdGhpcyRwcm9wczEwID0gdGhpcy5wcm9wcyxcbiAgICAgICAgZGVmYXVsdFZhbHVlID0gX3RoaXMkcHJvcHMxMC5kZWZhdWx0VmFsdWUsXG4gICAgICAgIGRyb3BBbGlnbiA9IF90aGlzJHByb3BzMTAuZHJvcEFsaWduLFxuICAgICAgICBkcm9wSGVpZ2h0ID0gX3RoaXMkcHJvcHMxMC5kcm9wSGVpZ2h0LFxuICAgICAgICBkcm9wVGFyZ2V0ID0gX3RoaXMkcHJvcHMxMC5kcm9wVGFyZ2V0LFxuICAgICAgICBkcm9wUHJvcHMgPSBfdGhpcyRwcm9wczEwLmRyb3BQcm9wcyxcbiAgICAgICAgZm9yd2FyZFJlZiA9IF90aGlzJHByb3BzMTAuZm9yd2FyZFJlZixcbiAgICAgICAgaWQgPSBfdGhpcyRwcm9wczEwLmlkLFxuICAgICAgICBwbGFjZWhvbGRlciA9IF90aGlzJHByb3BzMTAucGxhY2Vob2xkZXIsXG4gICAgICAgIHBsYWluID0gX3RoaXMkcHJvcHMxMC5wbGFpbixcbiAgICAgICAgdGhlbWUgPSBfdGhpcyRwcm9wczEwLnRoZW1lLFxuICAgICAgICB2YWx1ZSA9IF90aGlzJHByb3BzMTAudmFsdWUsXG4gICAgICAgIG9uS2V5RG93biA9IF90aGlzJHByb3BzMTAub25LZXlEb3duLFxuICAgICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3RoaXMkcHJvcHMxMCwgW1wiZGVmYXVsdFZhbHVlXCIsIFwiZHJvcEFsaWduXCIsIFwiZHJvcEhlaWdodFwiLCBcImRyb3BUYXJnZXRcIiwgXCJkcm9wUHJvcHNcIiwgXCJmb3J3YXJkUmVmXCIsIFwiaWRcIiwgXCJwbGFjZWhvbGRlclwiLCBcInBsYWluXCIsIFwidGhlbWVcIiwgXCJ2YWx1ZVwiLCBcIm9uS2V5RG93blwiXSk7XG5cbiAgICBkZWxldGUgcmVzdC5vbkNoYW5nZTsgLy8gc2Ugd2UgY2FuIG1hbmFnZSBpbiB0aGlzLm9uQ2hhbmdlKClcblxuICAgIGRlbGV0ZSByZXN0Lm9uU3VnZ2VzdGlvbnNPcGVuO1xuICAgIGRlbGV0ZSByZXN0Lm9uU3VnZ2VzdGlvbnNDbG9zZTtcbiAgICB2YXIgc2hvd0Ryb3AgPSB0aGlzLnN0YXRlLnNob3dEcm9wOyAvLyBuZWVkZWQgc28gdGhhdCBzdHlsZWQgY29tcG9uZW50cyBkb2VzIG5vdCBpbnZva2VcbiAgICAvLyBvblNlbGVjdCB3aGVuIHRleHQgaW5wdXQgaXMgY2xpY2tlZFxuXG4gICAgZGVsZXRlIHJlc3Qub25TZWxlY3Q7XG4gICAgdmFyIGRyb3A7XG5cbiAgICBpZiAoc2hvd0Ryb3ApIHtcbiAgICAgIGRyb3AgPSBSZWFjdC5jcmVhdGVFbGVtZW50KERyb3AsIF9leHRlbmRzKHtcbiAgICAgICAgaWQ6IGlkID8gXCJ0ZXh0LWlucHV0LWRyb3BfX1wiICsgaWQgOiB1bmRlZmluZWQsXG4gICAgICAgIGFsaWduOiBkcm9wQWxpZ24sXG4gICAgICAgIHJlc3BvbnNpdmU6IGZhbHNlLFxuICAgICAgICB0YXJnZXQ6IGRyb3BUYXJnZXQgfHwgKGZvcndhcmRSZWYgfHwgdGhpcy5pbnB1dFJlZikuY3VycmVudCxcbiAgICAgICAgb25DbGlja091dHNpZGU6IGZ1bmN0aW9uIG9uQ2xpY2tPdXRzaWRlKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczIuc2V0U3RhdGUoe1xuICAgICAgICAgICAgc2hvd0Ryb3A6IGZhbHNlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uRXNjOiBmdW5jdGlvbiBvbkVzYygpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMyLnNldFN0YXRlKHtcbiAgICAgICAgICAgIHNob3dEcm9wOiBmYWxzZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LCBkcm9wUHJvcHMpLCBSZWFjdC5jcmVhdGVFbGVtZW50KENvbnRhaW5lckJveCwge1xuICAgICAgICBvdmVyZmxvdzogXCJhdXRvXCIsXG4gICAgICAgIGRyb3BIZWlnaHQ6IGRyb3BIZWlnaHRcbiAgICAgIH0sIHRoaXMucmVuZGVyU3VnZ2VzdGlvbnMoKSkpO1xuICAgIH1cblxuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZFRleHRJbnB1dENvbnRhaW5lciwge1xuICAgICAgcGxhaW46IHBsYWluXG4gICAgfSwgcGxhY2Vob2xkZXIgJiYgdHlwZW9mIHBsYWNlaG9sZGVyICE9PSAnc3RyaW5nJyAmJiAhdmFsdWUgPyBSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZFBsYWNlaG9sZGVyLCBudWxsLCBwbGFjZWhvbGRlcikgOiBudWxsLCBSZWFjdC5jcmVhdGVFbGVtZW50KEtleWJvYXJkLCB7XG4gICAgICBvbkVudGVyOiB0aGlzLm9uU3VnZ2VzdGlvblNlbGVjdCxcbiAgICAgIG9uRXNjOiB0aGlzLm9uRXNjLFxuICAgICAgb25UYWI6IHRoaXMub25UYWIsXG4gICAgICBvblVwOiB0aGlzLm9uUHJldmlvdXNTdWdnZXN0aW9uLFxuICAgICAgb25Eb3duOiB0aGlzLm9uTmV4dFN1Z2dlc3Rpb24sXG4gICAgICBvbktleURvd246IG9uS2V5RG93blxuICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkVGV4dElucHV0LCBfZXh0ZW5kcyh7XG4gICAgICBpZDogaWQsXG4gICAgICByZWY6IGZvcndhcmRSZWYgfHwgdGhpcy5pbnB1dFJlZixcbiAgICAgIGF1dG9Db21wbGV0ZTogXCJvZmZcIixcbiAgICAgIHBsYWluOiBwbGFpbixcbiAgICAgIHBsYWNlaG9sZGVyOiB0eXBlb2YgcGxhY2Vob2xkZXIgPT09ICdzdHJpbmcnID8gcGxhY2Vob2xkZXIgOiB1bmRlZmluZWRcbiAgICB9LCByZXN0LCB7XG4gICAgICBkZWZhdWx0VmFsdWU6IHJlbmRlckxhYmVsKGRlZmF1bHRWYWx1ZSksXG4gICAgICB2YWx1ZTogcmVuZGVyTGFiZWwodmFsdWUpLFxuICAgICAgb25Gb2N1czogdGhpcy5vbkZvY3VzLFxuICAgICAgb25CbHVyOiB0aGlzLm9uQmx1cixcbiAgICAgIG9uQ2hhbmdlOiB0aGlzLm9uQ2hhbmdlXG4gICAgfSkpKSwgZHJvcCk7XG4gIH07XG5cbiAgcmV0dXJuIFRleHRJbnB1dDtcbn0oQ29tcG9uZW50KTtcblxuX2RlZmluZVByb3BlcnR5KFRleHRJbnB1dCwgXCJkZWZhdWx0UHJvcHNcIiwge1xuICBkcm9wQWxpZ246IHtcbiAgICB0b3A6ICdib3R0b20nLFxuICAgIGxlZnQ6ICdsZWZ0J1xuICB9LFxuICBtZXNzYWdlczoge1xuICAgIGVudGVyU2VsZWN0OiAnKFByZXNzIEVudGVyIHRvIFNlbGVjdCknLFxuICAgIHN1Z2dlc3Rpb25zQ291bnQ6ICdzdWdnZXN0aW9ucyBhdmFpbGFibGUnLFxuICAgIHN1Z2dlc3Rpb25zRXhpc3Q6ICdUaGlzIGlucHV0IGhhcyBzdWdnZXN0aW9ucyB1c2UgYXJyb3cga2V5cyB0byBuYXZpZ2F0ZScsXG4gICAgc3VnZ2VzdGlvbklzT3BlbjogJ1N1Z2dlc3Rpb25zIGRyb3AgaXMgb3BlbiwgY29udGludWUgdG8gdXNlIGFycm93IGtleXMgdG8gbmF2aWdhdGUnXG4gIH1cbn0pO1xuXG5PYmplY3Quc2V0UHJvdG90eXBlT2YoVGV4dElucHV0LmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbnZhciBUZXh0SW5wdXREb2M7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBnbG9iYWwtcmVxdWlyZVxuICBUZXh0SW5wdXREb2MgPSByZXF1aXJlKCcuL2RvYycpLmRvYyhUZXh0SW5wdXQpO1xufVxuXG52YXIgVGV4dElucHV0V3JhcHBlciA9IGNvbXBvc2Uod2l0aEZvY3VzKHtcbiAgZm9jdXNXaXRoTW91c2U6IHRydWVcbn0pLCB3aXRoVGhlbWUsIHdpdGhBbm5vdW5jZSwgd2l0aEZvcndhcmRSZWYpKFRleHRJbnB1dERvYyB8fCBUZXh0SW5wdXQpO1xuZXhwb3J0IHsgVGV4dElucHV0V3JhcHBlciBhcyBUZXh0SW5wdXQgfTsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5pbXBvcnQgeyBkZXNjcmliZSwgUHJvcFR5cGVzIH0gZnJvbSAncmVhY3QtZGVzYyc7XG5pbXBvcnQgeyBnZXRBdmFpbGFibGVBdEJhZGdlLCB0aGVtZURvY1V0aWxzIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuZXhwb3J0IHZhciBkb2MgPSBmdW5jdGlvbiBkb2MoVGV4dElucHV0KSB7XG4gIHZhciBEb2N1bWVudGVkVGV4dElucHV0ID0gZGVzY3JpYmUoVGV4dElucHV0KS5hdmFpbGFibGVBdChnZXRBdmFpbGFibGVBdEJhZGdlKCdUZXh0SW5wdXQnKSkuZGVzY3JpcHRpb24oJ0EgY29udHJvbCB0byBpbnB1dCBhIHNpbmdsZSBsaW5lIG9mIHRleHQsIHdpdGggb3B0aW9uYWwgc3VnZ2VzdGlvbnMuJykudXNhZ2UoXCJpbXBvcnQgeyBUZXh0SW5wdXQgfSBmcm9tICdncm9tbWV0JztcXG48VGV4dElucHV0IGlkPSdpdGVtJyBuYW1lPSdpdGVtJyAvPlwiKS5pbnRyaW5zaWNFbGVtZW50KCdpbnB1dCcpO1xuICBEb2N1bWVudGVkVGV4dElucHV0LnByb3BUeXBlcyA9IHtcbiAgICBkcm9wQWxpZ246IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICB0b3A6IFByb3BUeXBlcy5vbmVPZihbJ3RvcCcsICdib3R0b20nXSksXG4gICAgICBib3R0b206IFByb3BUeXBlcy5vbmVPZihbJ3RvcCcsICdib3R0b20nXSksXG4gICAgICByaWdodDogUHJvcFR5cGVzLm9uZU9mKFsnbGVmdCcsICdyaWdodCddKSxcbiAgICAgIGxlZnQ6IFByb3BUeXBlcy5vbmVPZihbJ2xlZnQnLCAncmlnaHQnXSlcbiAgICB9KS5kZXNjcmlwdGlvbignSG93IHRvIGFsaWduIHRoZSBkcm9wLicpLmRlZmF1bHRWYWx1ZSh7XG4gICAgICB0b3A6ICdib3R0b20nLFxuICAgICAgbGVmdDogJ2xlZnQnXG4gICAgfSksXG4gICAgZHJvcEhlaWdodDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFsneHNtYWxsJywgJ3NtYWxsJywgJ21lZGl1bScsICdsYXJnZScsICd4bGFyZ2UnXSksIFByb3BUeXBlcy5zdHJpbmddKS5kZXNjcmlwdGlvbignVGhlIGhlaWdodCBvZiB0aGUgZHJvcCBjb250YWluZXIuJyksXG4gICAgZHJvcFRhcmdldDogUHJvcFR5cGVzLm9iamVjdC5kZXNjcmlwdGlvbihcIlRhcmdldCB3aGVyZSBhbnkgc3VnZ2VzdGlvbnMgZHJvcCB3aWxsIGJlIGFsaWduZWQgdG8uIFRoaXMgc2hvdWxkIGJlXFxuICAgICAgYSBSZWFjdCByZWZlcmVuY2UuIFR5cGljYWxseSwgdGhpcyBpcyBub3QgcmVxdWlyZWQgYXMgdGhlIGRyb3Agd2lsbCBiZVxcbiAgICAgIGFsaWduZWQgdG8gdGhlIFRleHRJbnB1dCBpdHNlbGYgYnkgZGVmYXVsdC5cIiksXG4gICAgZHJvcFByb3BzOiBQcm9wVHlwZXMub2JqZWN0LmRlc2NyaXB0aW9uKCdBbnkgdmFsaWQgRHJvcCBwcm9wLicpLFxuICAgIGlkOiBQcm9wVHlwZXMuc3RyaW5nLmRlc2NyaXB0aW9uKCdUaGUgaWQgYXR0cmlidXRlIG9mIHRoZSBpbnB1dC4nKSxcbiAgICBmb2N1c0luZGljYXRvcjogUHJvcFR5cGVzLmJvb2wuZGVzY3JpcHRpb24oJ1doZXRoZXIgdGhlIHBsYWluIHRleHQgaW5wdXQgc2hvdWxkIHJlY2VpdmUgYSBmb2N1cyBvdXRsaW5lLicpLFxuICAgIG1lc3NhZ2VzOiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgZW50ZXJTZWxlY3Q6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgICBzdWdnZXN0aW9uc0NvdW50OiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgc3VnZ2VzdGlvbnNFeGlzdDogUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgIHN1Z2dlc3Rpb25Jc09wZW46IFByb3BUeXBlcy5zdHJpbmdcbiAgICB9KS5kZXNjcmlwdGlvbihcIkN1c3RvbSBtZXNzYWdlcyBmb3IgVGV4dElucHV0LiBVc2VkIGZvciBhY2Nlc3NpYmlsaXR5IGJ5IHNjcmVlbiBcXG4gICAgICAgIHJlYWRlcnMuXCIpLmRlZmF1bHRWYWx1ZSh7XG4gICAgICBlbnRlclNlbGVjdDogJyhQcmVzcyBFbnRlciB0byBTZWxlY3QpJyxcbiAgICAgIHN1Z2dlc3Rpb25zQ291bnQ6ICdzdWdnZXN0aW9ucyBhdmFpbGFibGUnLFxuICAgICAgc3VnZ2VzdGlvbnNFeGlzdDogJ1RoaXMgaW5wdXQgaGFzIHN1Z2dlc3Rpb25zIHVzZSBhcnJvdyBrZXlzIHRvIG5hdmlnYXRlJyxcbiAgICAgIHN1Z2dlc3Rpb25Jc09wZW46ICdTdWdnZXN0aW9ucyBkcm9wIGlzIG9wZW4sIGNvbnRpbnVlIHRvIHVzZSBhcnJvdyBrZXlzIHRvIG5hdmlnYXRlJ1xuICAgIH0pLFxuICAgIG5hbWU6IFByb3BUeXBlcy5zdHJpbmcuZGVzY3JpcHRpb24oJ1RoZSBuYW1lIGF0dHJpYnV0ZSBvZiB0aGUgaW5wdXQuJyksXG4gICAgb25DaGFuZ2U6IFByb3BUeXBlcy5mdW5jLmRlc2NyaXB0aW9uKCdGdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIHVzZXIgdHlwZXMgaW4gdGhlIGlucHV0LicpLFxuICAgIG9uU2VsZWN0OiBQcm9wVHlwZXMuZnVuYy5kZXNjcmlwdGlvbihcIkZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgdXNlciBzZWxlY3RzIGEgc3VnZ2VzdGlvbi5cXG5UaGUgc3VnZ2VzdGlvbiBjb250YWlucyB0aGUgb2JqZWN0IGNob3NlbiBmcm9tIHRoZSBzdXBwbGllZCBzdWdnZXN0aW9ucy5cIiksXG4gICAgb25TdWdnZXN0aW9uc09wZW46IFByb3BUeXBlcy5mdW5jLmRlc2NyaXB0aW9uKCdGdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIHN1Z2dlc3Rpb25zIGRyb3AgaXMgb3BlbmVkLicpLFxuICAgIG9uU3VnZ2VzdGlvbnNDbG9zZTogUHJvcFR5cGVzLmZ1bmMuZGVzY3JpcHRpb24oJ0Z1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgc3VnZ2VzdGlvbnMgZHJvcCBpcyBjbG9zZWQuJyksXG4gICAgcGxhY2Vob2xkZXI6IFByb3BUeXBlcy5ub2RlLmRlc2NyaXB0aW9uKCdQbGFjZWhvbGRlciB0byB1c2Ugd2hlbiBubyB2YWx1ZSBpcyBwcm92aWRlZC4nKSxcbiAgICBwbGFpbjogUHJvcFR5cGVzLmJvb2wuZGVzY3JpcHRpb24oXCJXaGV0aGVyIHRoaXMgaXMgYSBwbGFpbiBpbnB1dCB3aXRoIG5vIGJvcmRlciBvciBwYWRkaW5nLlxcbk9ubHkgdXNlIHRoaXMgd2hlbiB0aGUgY29udGFpbmluZyBjb250ZXh0IHByb3ZpZGVzIHN1ZmZpY2llbnQgYWZmb3JkYW5jZVwiKSxcbiAgICBzaXplOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2YoWydzbWFsbCcsICdtZWRpdW0nLCAnbGFyZ2UnLCAneGxhcmdlJ10pLCBQcm9wVHlwZXMuc3RyaW5nXSkuZGVzY3JpcHRpb24oJ1RoZSBzaXplIG9mIHRoZSBUZXh0SW5wdXQuJyksXG4gICAgc3VnZ2VzdGlvbnM6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zaGFwZSh7XG4gICAgICBsYWJlbDogUHJvcFR5cGVzLm5vZGUsXG4gICAgICB2YWx1ZTogUHJvcFR5cGVzLmFueVxuICAgIH0pLCBQcm9wVHlwZXMuc3RyaW5nXSkpLmRlc2NyaXB0aW9uKFwiU3VnZ2VzdGlvbnMgdG8gc2hvdy4gSXQgaXMgcmVjb21tZW5kZWQgdG8gYXZvaWQgc2hvd2luZyB0b28gbWFueVxcbnN1Z2dlc3Rpb25zIGFuZCBpbnN0ZWFkIHJlbHkgb24gdGhlIHVzZXIgdG8gdHlwZSBtb3JlLlwiKSxcbiAgICB2YWx1ZTogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLm51bWJlcl0pLmRlc2NyaXB0aW9uKCdXaGF0IHRleHQgdG8gcHV0IGluIHRoZSBpbnB1dC4nKVxuICB9O1xuICByZXR1cm4gRG9jdW1lbnRlZFRleHRJbnB1dDtcbn07XG5leHBvcnQgdmFyIHRoZW1lRG9jID0gX2V4dGVuZHMoe1xuICAnZ2xvYmFsLmNvbG9ycy5ib3JkZXInOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgY29sb3Igb2YgdGhlIGJvcmRlci4nLFxuICAgIHR5cGU6ICdvYmplY3QnLFxuICAgIGRlZmF1bHRWYWx1ZToge1xuICAgICAgZGFyazogJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC4zMyknLFxuICAgICAgbGlnaHQ6ICdyZ2JhKDAsIDAsIDAsIDAuMzMpJ1xuICAgIH1cbiAgfSxcbiAgJ2dsb2JhbC5jb250cm9sLmJvcmRlci5jb2xvcic6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBib3JkZXIgY29sb3IuJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICdib3JkZXInXG4gIH0sXG4gICdnbG9iYWwuY29udHJvbC5ib3JkZXIucmFkaXVzJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGJvcmRlciByYWRpdXMuJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICc0cHgnXG4gIH0sXG4gICdnbG9iYWwuY29udHJvbC5ib3JkZXIud2lkdGgnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgYm9yZGVyIHdpZHRoLicsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiAnMXB4J1xuICB9LFxuICAnc2VsZWN0LnN0ZXAnOiB7XG4gICAgZGVzY3JpcHRpb246ICdIb3cgbWFueSBzdWdnZXN0aW9ucyB0byByZW5kZXIgYXQgYSB0aW1lLicsXG4gICAgdHlwZTogJ251bWJlcicsXG4gICAgZGVmYXVsdFZhbHVlOiAyMFxuICB9LFxuICB0ZXh0OiB7XG4gICAgZGVzY3JpcHRpb246IFwiVGhlIHBvc3NpYmxlIHNpemVzIG9mIHRoZSB0ZXh0IGluIHRlcm1zIG9mIGl0cyBmb250LXNpemUgYW5kIFxcbiAgICBsaW5lLWhlaWdodC5cIixcbiAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICBkZWZhdWx0VmFsdWU6IFwie1xcbiAgICAgIHhzbWFsbDoge1xcbiAgICAgICAgc2l6ZTogJzEycHgnLFxcbiAgICAgICAgaGVpZ2h0OiAnMThweCcsXFxuICAgICAgIH0sXFxuICAgICAgc21hbGw6IHtcXG4gICAgICAgIHNpemU6ICcxNHB4JyxcXG4gICAgICAgIGhlaWdodDogJzIwcHgnLFxcbiAgICAgICB9LFxcbiAgICAgIG1lZGl1bToge1xcbiAgICAgICAgc2l6ZTogJzE4cHgnLFxcbiAgICAgICAgaGVpZ2h0OiAnMjRweCcsXFxuICAgICAgfSxcXG4gICAgICBsYXJnZToge1xcbiAgICAgICAgc2l6ZTogJzIycHgnLFxcbiAgICAgICAgaGVpZ2h0OiAnMjhweCcsXFxuICAgICAgfSxcXG4gICAgICB4bGFyZ2U6IHtcXG4gICAgICAgIHNpemU6ICcyNnB4JyxcXG4gICAgICAgIGhlaWdodDogJzMycHgnLFxcbiAgICAgIH0sXFxuICAgICAgeHhsYXJnZToge1xcbiAgICAgICAgc2l6ZTogJzM0cHgnLFxcbiAgICAgICAgaGVpZ2h0OiAnNDBweCcsXFxuICAgICAgfSxcXG4gICAgfVwiXG4gIH0sXG4gICd0ZXh0SW5wdXQuZXh0ZW5kJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnQW55IGFkZGl0aW9uYWwgc3R5bGUgZm9yIFRleHRJbnB1dC4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCAocHJvcHMpID0+IHt9JyxcbiAgICBkZWZhdWx0VmFsdWU6IHVuZGVmaW5lZFxuICB9LFxuICAndGV4dElucHV0LmNvbnRhaW5lci5leHRlbmQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdBbnkgYWRkaXRpb25hbCBzdHlsZSBmb3IgVGV4dElucHV0IGNvbnRhaW5lci4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCAocHJvcHMpID0+IHt9JyxcbiAgICBkZWZhdWx0VmFsdWU6IHVuZGVmaW5lZFxuICB9LFxuICAndGV4dElucHV0LnBsYWNlaG9sZGVyLmV4dGVuZCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ0FueSBhZGRpdGlvbmFsIHN0eWxlIGZvciBub24tc3RyaW5nIHBsYWNlaG9sZGVyIGluc2lkZSBUZXh0SW5wdXQuJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgKHByb3BzKSA9PiB7fScsXG4gICAgZGVmYXVsdFZhbHVlOiB1bmRlZmluZWRcbiAgfSxcbiAgJ3RleHRJbnB1dC5zdWdnZXN0aW9ucy5leHRlbmQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdBbnkgYWRkaXRpb25hbCBzdHlsZSBmb3IgVGV4dElucHV0IHN1Z2dlc3Rpb25zLicsXG4gICAgdHlwZTogJ3N0cmluZyB8IChwcm9wcykgPT4ge30nLFxuICAgIGRlZmF1bHRWYWx1ZTogdW5kZWZpbmVkXG4gIH0sXG4gICd0ZXh0SW5wdXQuZGlzYWJsZWQub3BhY2l0eSc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBvcGFjaXR5IHdoZW4gdGhlIHRleHRJbnB1dCBpcyBkaXNhYmxlZC4nLFxuICAgIHR5cGU6ICdudW1iZXInLFxuICAgIGRlZmF1bHRWYWx1ZTogMC4zXG4gIH1cbn0sIHRoZW1lRG9jVXRpbHMuZm9jdXNTdHlsZSwge30sIHRoZW1lRG9jVXRpbHMucGxhY2Vob2xkZXJTdHlsZSwge30sIHRoZW1lRG9jVXRpbHMuZGlzYWJsZWRTdHlsZSwge30sIHRoZW1lRG9jVXRpbHMuaW5wdXRTdHlsZSk7IiwiZXhwb3J0IHsgVGV4dElucHV0IH0gZnJvbSAnLi9UZXh0SW5wdXQnOyIsImltcG9ydCBzdHlsZWQsIHsgY3NzIH0gZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgZ2VuZXJpY1N0eWxlcywgbm9ybWFsaXplQ29sb3IgfSBmcm9tICcuLi8uLi91dGlscyc7XG5pbXBvcnQgeyBkZWZhdWx0UHJvcHMgfSBmcm9tICcuLi8uLi9kZWZhdWx0LXByb3BzJztcbnZhciBGSVRfTUFQID0ge1xuICBjb3ZlcjogJ2NvdmVyJyxcbiAgY29udGFpbjogJ2NvbnRhaW4nXG59O1xudmFyIGZpdFN0eWxlID0gY3NzKFtcImZsZXg6MSAxO21pbi1oZWlnaHQ6MDtvYmplY3QtZml0OlwiLCBcIjtcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gRklUX01BUFtwcm9wcy5maXRdO1xufSk7XG52YXIgU3R5bGVkVmlkZW8gPSBzdHlsZWQudmlkZW8ud2l0aENvbmZpZyh7XG4gIGRpc3BsYXlOYW1lOiBcIlN0eWxlZFZpZGVvXCIsXG4gIGNvbXBvbmVudElkOiBcInc0djhoOS0wXCJcbn0pKFtcIm1heC13aWR0aDoxMDAlO1wiLCBcIjo6Y3Vle2JhY2tncm91bmQ6XCIsIFwiO31cIiwgXCI7XCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLmZpdCAmJiBmaXRTdHlsZTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUudmlkZW8uY2FwdGlvbnMuYmFja2dyb3VuZDtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUudmlkZW8gJiYgcHJvcHMudGhlbWUudmlkZW8uZXh0ZW5kO1xufSk7XG5TdHlsZWRWaWRlby5kZWZhdWx0UHJvcHMgPSB7fTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihTdHlsZWRWaWRlby5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG52YXIgU3R5bGVkVmlkZW9Db250YWluZXIgPSBzdHlsZWQuZGl2LndpdGhDb25maWcoe1xuICBkaXNwbGF5TmFtZTogXCJTdHlsZWRWaWRlb19fU3R5bGVkVmlkZW9Db250YWluZXJcIixcbiAgY29tcG9uZW50SWQ6IFwidzR2OGg5LTFcIlxufSkoW1wiZmxleDoxIDE7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjtvdmVyZmxvdzpoaWRkZW47cG9zaXRpb246cmVsYXRpdmU7XCIsIFwiO1wiXSwgZ2VuZXJpY1N0eWxlcyk7XG5TdHlsZWRWaWRlb0NvbnRhaW5lci5kZWZhdWx0UHJvcHMgPSB7fTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihTdHlsZWRWaWRlb0NvbnRhaW5lci5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG52YXIgcG9zaXRpb25TdHlsZSA9IGNzcyhbXCJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7cmlnaHQ6MDtib3R0b206MDtcIl0pO1xudmFyIFN0eWxlZFZpZGVvQ29udHJvbHMgPSBzdHlsZWQuZGl2LndpdGhDb25maWcoe1xuICBkaXNwbGF5TmFtZTogXCJTdHlsZWRWaWRlb19fU3R5bGVkVmlkZW9Db250cm9sc1wiLFxuICBjb21wb25lbnRJZDogXCJ3NHY4aDktMlwiXG59KShbXCJmbGV4OjAgMDtcIiwgXCIgb3BhY2l0eTowO3RyYW5zaXRpb246b3BhY2l0eSAwLjNzO1wiLCBcIjtcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMub3ZlciAmJiBwb3NpdGlvblN0eWxlO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5hY3RpdmUgPyAnb3BhY2l0eTogMTsnIDogJ3BvaW50ZXItZXZlbnRzOiBub25lJztcbn0pO1xuU3R5bGVkVmlkZW9Db250cm9scy5kZWZhdWx0UHJvcHMgPSB7fTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihTdHlsZWRWaWRlb0NvbnRyb2xzLmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbnZhciBoZWFkU3R5bGUgPSBjc3MoW1wiOjphZnRlcntjb250ZW50OicnO2hlaWdodDoxMDAlO3dpZHRoOlwiLCBcIjtiYWNrZ3JvdW5kOlwiLCBcIjtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OlwiLCBcIjt9XCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLmdsb2JhbC5lZGdlU2l6ZS54c21hbGw7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIG5vcm1hbGl6ZUNvbG9yKHByb3BzLnRoZW1lLnZpZGVvLnNjcnViYmVyLmNvbG9yLCBwcm9wcy50aGVtZSk7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnZhbHVlICsgXCIlXCI7XG59KTtcbnZhciBTdHlsZWRWaWRlb1NjcnViYmVyID0gc3R5bGVkLmRpdi53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiU3R5bGVkVmlkZW9fX1N0eWxlZFZpZGVvU2NydWJiZXJcIixcbiAgY29tcG9uZW50SWQ6IFwidzR2OGg5LTNcIlxufSkoW1wiY3Vyc29yOnBvaW50ZXI7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtcIiwgXCI7XCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnZhbHVlICYmIGhlYWRTdHlsZTtcbn0pO1xuU3R5bGVkVmlkZW9TY3J1YmJlci5kZWZhdWx0UHJvcHMgPSB7fTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihTdHlsZWRWaWRlb1NjcnViYmVyLmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbmV4cG9ydCB7IFN0eWxlZFZpZGVvLCBTdHlsZWRWaWRlb0NvbnRhaW5lciwgU3R5bGVkVmlkZW9Db250cm9scywgU3R5bGVkVmlkZW9TY3J1YmJlciB9OyIsImZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0c0xvb3NlKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcy5wcm90b3R5cGUpOyBzdWJDbGFzcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBzdWJDbGFzczsgc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5pbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY29tcG9zZSB9IGZyb20gJ3JlY29tcG9zZSc7XG5pbXBvcnQgeyB3aXRoVGhlbWUgfSBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBkZWZhdWx0UHJvcHMgfSBmcm9tICcuLi8uLi9kZWZhdWx0LXByb3BzJztcbmltcG9ydCB7IEJveCB9IGZyb20gJy4uL0JveCc7XG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICcuLi9CdXR0b24nO1xuaW1wb3J0IHsgTWVudSB9IGZyb20gJy4uL01lbnUnO1xuaW1wb3J0IHsgTWV0ZXIgfSBmcm9tICcuLi9NZXRlcic7XG5pbXBvcnQgeyBTdGFjayB9IGZyb20gJy4uL1N0YWNrJztcbmltcG9ydCB7IFRleHQgfSBmcm9tICcuLi9UZXh0JztcbmltcG9ydCB7IHdpdGhGb3J3YXJkUmVmIH0gZnJvbSAnLi4vaG9jcyc7XG5pbXBvcnQgeyB0aHJvdHRsZSB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmltcG9ydCB7IFN0eWxlZFZpZGVvLCBTdHlsZWRWaWRlb0NvbnRhaW5lciwgU3R5bGVkVmlkZW9Db250cm9scywgU3R5bGVkVmlkZW9TY3J1YmJlciB9IGZyb20gJy4vU3R5bGVkVmlkZW8nOyAvLyBTcGxpdCB0aGUgdm9sdW1lIGNvbnRyb2wgaW50byA2IHNlZ21lbnRzLiBFbXBpcmljYWxseSBkZXRlcm1pbmVkLlxuXG52YXIgVk9MVU1FX1NURVAgPSAwLjE2NjY2NztcblxudmFyIGZvcm1hdFRpbWUgPSBmdW5jdGlvbiBmb3JtYXRUaW1lKHRpbWUpIHtcbiAgdmFyIG1pbnV0ZXMgPSBNYXRoLnJvdW5kKHRpbWUgLyA2MCk7XG5cbiAgaWYgKG1pbnV0ZXMgPCAxMCkge1xuICAgIG1pbnV0ZXMgPSBcIjBcIiArIG1pbnV0ZXM7XG4gIH1cblxuICB2YXIgc2Vjb25kcyA9IE1hdGgucm91bmQodGltZSkgJSA2MDtcblxuICBpZiAoc2Vjb25kcyA8IDEwKSB7XG4gICAgc2Vjb25kcyA9IFwiMFwiICsgc2Vjb25kcztcbiAgfVxuXG4gIHJldHVybiBtaW51dGVzICsgXCI6XCIgKyBzZWNvbmRzO1xufTtcblxudmFyIHZpZGVvRXZlbnRzID0gWydvbkFib3J0JywgJ29uQ2FuUGxheScsICdvbkNhblBsYXlUaHJvdWdoJywgJ29uRHVyYXRpb25DaGFuZ2UnLCAnb25FbXB0aWVkJywgJ29uRW5jcnlwdGVkJywgJ29uRW5kZWQnLCAnb25FcnJvcicsICdvbkxvYWRlZERhdGEnLCAnb25Mb2FkZWRNZXRhZGF0YScsICdvbkxvYWRTdGFydCcsICdvblBhdXNlJywgJ29uUGxheScsICdvblBsYXlpbmcnLCAnb25Qcm9ncmVzcycsICdvblJhdGVDaGFuZ2UnLCAnb25TZWVrZWQnLCAnb25TZWVraW5nJywgJ29uU3RhbGxlZCcsICdvblN1c3BlbmQnLCAnb25UaW1lVXBkYXRlJywgJ29uVm9sdW1lQ2hhbmdlJywgJ29uV2FpdGluZyddO1xuXG52YXIgVmlkZW8gPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoVmlkZW8sIF9Db21wb25lbnQpO1xuXG4gIFZpZGVvLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9IGZ1bmN0aW9uIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhuZXh0UHJvcHMsIHByZXZTdGF0ZSkge1xuICAgIHZhciBmb3J3YXJkUmVmID0gbmV4dFByb3BzLmZvcndhcmRSZWY7XG4gICAgdmFyIHZpZGVvUmVmID0gcHJldlN0YXRlLnZpZGVvUmVmO1xuICAgIHZhciBuZXh0VmlkZW9SZWYgPSBmb3J3YXJkUmVmIHx8IHZpZGVvUmVmO1xuXG4gICAgaWYgKG5leHRWaWRlb1JlZiAhPT0gdmlkZW9SZWYpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHZpZGVvUmVmOiBuZXh0VmlkZW9SZWZcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgZnVuY3Rpb24gVmlkZW8ocHJvcHMpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfdGhpcyA9IF9Db21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcykgfHwgdGhpcztcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJzdGF0ZVwiLCB7XG4gICAgICBjYXB0aW9uczogW10sXG4gICAgICBzY3J1YmJlclJlZjogUmVhY3QuY3JlYXRlUmVmKCksXG4gICAgICB2aWRlb1JlZjogUmVhY3QuY3JlYXRlUmVmKClcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJoYXNQbGF5ZWRcIiwgZmFsc2UpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcImluamVjdFVwZGF0ZVZpZGVvRXZlbnRzXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB2aWRlb0V2ZW50cy5yZWR1Y2UoZnVuY3Rpb24gKHByZXZpb3VzVmFsdWUsIGN1cnJlbnRWYWx1ZSkge1xuICAgICAgICB2YXIgbmV4dFZhbHVlID0gX2V4dGVuZHMoe30sIHByZXZpb3VzVmFsdWUpO1xuXG4gICAgICAgIG5leHRWYWx1ZVtjdXJyZW50VmFsdWVdID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICBpZiAoY3VycmVudFZhbHVlIGluIF90aGlzLnByb3BzICYmXG4gICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgcmVhY3QvZGVzdHJ1Y3R1cmluZy1hc3NpZ25tZW50ICovXG4gICAgICAgICAgdHlwZW9mIF90aGlzLnByb3BzW2N1cnJlbnRWYWx1ZV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIF90aGlzLnByb3BzW2N1cnJlbnRWYWx1ZV0oZSk7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIHJlYWN0L2Rlc3RydWN0dXJpbmctYXNzaWdubWVudCAqL1xuXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX3RoaXMudXBkYXRlKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIG5leHRWYWx1ZTtcbiAgICAgIH0sIHt9KTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJ1cGRhdGVcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHZpZGVvUmVmID0gX3RoaXMuc3RhdGUudmlkZW9SZWY7XG4gICAgICB2YXIgdmlkZW8gPSB2aWRlb1JlZi5jdXJyZW50OyAvLyBTZXQgZmxhZyBmb3IgVmlkZW8gZmlyc3QgcGxheVxuXG4gICAgICBpZiAoIV90aGlzLmhhc1BsYXllZCAmJiAhdmlkZW8ucGF1c2VkICYmICF2aWRlby5sb2FkaW5nIHx8IHZpZGVvLmN1cnJlbnRUaW1lKSB7XG4gICAgICAgIF90aGlzLmhhc1BsYXllZCA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIHZhciBpbnRlcmFjdGluZyA9IF90aGlzLnN0YXRlLmludGVyYWN0aW5nO1xuXG4gICAgICBpZiAodmlkZW8uZW5kZWQpIHtcbiAgICAgICAgaW50ZXJhY3RpbmcgPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBkdXJhdGlvbjogdmlkZW8uZHVyYXRpb24sXG4gICAgICAgIGN1cnJlbnRUaW1lOiB2aWRlby5jdXJyZW50VGltZSxcbiAgICAgICAgLy8gYnVmZmVyZWQ6IHZpZGVvLmJ1ZmZlcmVkLFxuICAgICAgICAvLyBwYXVzZWQ6IHZpZGVvLnBhdXNlZCxcbiAgICAgICAgLy8gbXV0ZWQ6IHZpZGVvLm11dGVkLFxuICAgICAgICB2b2x1bWU6IHZpZGVvLnZvbHVtZSxcbiAgICAgICAgLy8gZW5kZWQ6IHZpZGVvLmVuZGVkLFxuICAgICAgICAvLyByZWFkeVN0YXRlOiB2aWRlby5yZWFkeVN0YXRlLFxuICAgICAgICBpbnRlcmFjdGluZzogaW50ZXJhY3RpbmcsXG4gICAgICAgIC8vIGNvbXB1dGVkIHZhbHVlc1xuICAgICAgICAvLyBoYXNQbGF5ZWQ6IHRoaXMuaGFzUGxheWVkLFxuICAgICAgICBwbGF5aW5nOiAhdmlkZW8ucGF1c2VkICYmICF2aWRlby5sb2FkaW5nLFxuICAgICAgICAvLyBwZXJjZW50YWdlQnVmZmVyZWQ6IHZpZGVvLmJ1ZmZlcmVkLmxlbmd0aCAmJlxuICAgICAgICAvLyAgICh2aWRlby5idWZmZXJlZC5lbmQodmlkZW8uYnVmZmVyZWQubGVuZ3RoIC0gMSkgL1xuICAgICAgICAvLyAgIHZpZGVvLmR1cmF0aW9uKSAqIDEwMCxcbiAgICAgICAgcGVyY2VudGFnZVBsYXllZDogdmlkZW8uY3VycmVudFRpbWUgLyB2aWRlby5kdXJhdGlvbiAqIDEwMCAvLyBsb2FkaW5nOiB2aWRlby5yZWFkeVN0YXRlIDwgdmlkZW8uSEFWRV9FTk9VR0hfREFUQSxcblxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwicGxheVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdmlkZW9SZWYgPSBfdGhpcy5zdGF0ZS52aWRlb1JlZjtcbiAgICAgIHZpZGVvUmVmLmN1cnJlbnQucGxheSgpO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcInBhdXNlXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB2aWRlb1JlZiA9IF90aGlzLnN0YXRlLnZpZGVvUmVmO1xuICAgICAgdmlkZW9SZWYuY3VycmVudC5wYXVzZSgpO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcInNjcnViXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgdmFyIF90aGlzJHN0YXRlID0gX3RoaXMuc3RhdGUsXG4gICAgICAgICAgZHVyYXRpb24gPSBfdGhpcyRzdGF0ZS5kdXJhdGlvbixcbiAgICAgICAgICBzY3J1YmJlclJlZiA9IF90aGlzJHN0YXRlLnNjcnViYmVyUmVmO1xuXG4gICAgICBpZiAoc2NydWJiZXJSZWYuY3VycmVudCkge1xuICAgICAgICB2YXIgc2NydWJiZXJSZWN0ID0gc2NydWJiZXJSZWYuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgdmFyIHBlcmNlbnQgPSAoZXZlbnQuY2xpZW50WCAtIHNjcnViYmVyUmVjdC5sZWZ0KSAvIHNjcnViYmVyUmVjdC53aWR0aDtcblxuICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgc2NydWJUaW1lOiBkdXJhdGlvbiAqIHBlcmNlbnRcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwic2Vla1wiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBfdGhpcyRzdGF0ZTIgPSBfdGhpcy5zdGF0ZSxcbiAgICAgICAgICBkdXJhdGlvbiA9IF90aGlzJHN0YXRlMi5kdXJhdGlvbixcbiAgICAgICAgICBzY3J1YmJlclJlZiA9IF90aGlzJHN0YXRlMi5zY3J1YmJlclJlZixcbiAgICAgICAgICB2aWRlb1JlZiA9IF90aGlzJHN0YXRlMi52aWRlb1JlZjtcblxuICAgICAgaWYgKHNjcnViYmVyUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgdmFyIHNjcnViYmVyUmVjdCA9IHNjcnViYmVyUmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHZhciBwZXJjZW50ID0gKGV2ZW50LmNsaWVudFggLSBzY3J1YmJlclJlY3QubGVmdCkgLyBzY3J1YmJlclJlY3Qud2lkdGg7XG4gICAgICAgIHZpZGVvUmVmLmN1cnJlbnQuY3VycmVudFRpbWUgPSBkdXJhdGlvbiAqIHBlcmNlbnQ7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwidW5tdXRlXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB2aWRlb1JlZiA9IF90aGlzLnN0YXRlLnZpZGVvUmVmO1xuXG4gICAgICBpZiAodmlkZW9SZWYuY3VycmVudCkge1xuICAgICAgICB2aWRlb1JlZi5jdXJyZW50Lm11dGVkID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwibXV0ZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdmlkZW9SZWYgPSBfdGhpcy5zdGF0ZS52aWRlb1JlZjtcblxuICAgICAgaWYgKHZpZGVvUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgdmlkZW9SZWYuY3VycmVudC5tdXRlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwibG91ZGVyXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB2aWRlb1JlZiA9IF90aGlzLnN0YXRlLnZpZGVvUmVmO1xuICAgICAgdmlkZW9SZWYuY3VycmVudC52b2x1bWUgKz0gVk9MVU1FX1NURVA7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwicXVpZXRlclwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdmlkZW9SZWYgPSBfdGhpcy5zdGF0ZS52aWRlb1JlZjtcbiAgICAgIHZpZGVvUmVmLmN1cnJlbnQudm9sdW1lIC09IFZPTFVNRV9TVEVQO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcInNob3dDYXB0aW9uc1wiLCBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgIHZhciB2aWRlb1JlZiA9IF90aGlzLnN0YXRlLnZpZGVvUmVmO1xuICAgICAgdmFyIHRleHRUcmFja3MgPSB2aWRlb1JlZi5jdXJyZW50LnRleHRUcmFja3M7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGV4dFRyYWNrcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICB0ZXh0VHJhY2tzW2ldLm1vZGUgPSBpID09PSBpbmRleCA/ICdzaG93aW5nJyA6ICdoaWRkZW4nO1xuICAgICAgfSAvLyBVc2luZyBmb3JjZVVwZGF0ZSB0byBmb3JjZSByZWRyYXcgb2YgY29udHJvbHMgd2hlbiBjaGFuZ2luZyBjYXB0aW9uc1xuXG5cbiAgICAgIF90aGlzLmZvcmNlVXBkYXRlKCk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiZnVsbHNjcmVlblwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdmlkZW9SZWYgPSBfdGhpcy5zdGF0ZS52aWRlb1JlZjtcbiAgICAgIHZhciB2aWRlbyA9IHZpZGVvUmVmLmN1cnJlbnQ7XG5cbiAgICAgIGlmICh2aWRlby5yZXF1ZXN0RnVsbHNjcmVlbikge1xuICAgICAgICB2aWRlby5yZXF1ZXN0RnVsbHNjcmVlbigpO1xuICAgICAgfSBlbHNlIGlmICh2aWRlby5tc1JlcXVlc3RGdWxsc2NyZWVuKSB7XG4gICAgICAgIHZpZGVvLm1zUmVxdWVzdEZ1bGxzY3JlZW4oKTtcbiAgICAgIH0gZWxzZSBpZiAodmlkZW8ubW96UmVxdWVzdEZ1bGxTY3JlZW4pIHtcbiAgICAgICAgdmlkZW8ubW96UmVxdWVzdEZ1bGxTY3JlZW4oKTtcbiAgICAgIH0gZWxzZSBpZiAodmlkZW8ud2Via2l0UmVxdWVzdEZ1bGxzY3JlZW4pIHtcbiAgICAgICAgdmlkZW8ud2Via2l0UmVxdWVzdEZ1bGxzY3JlZW4oKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcIllvdXIgYnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgZnVsbHNjcmVlbi5cIik7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiaW50ZXJhY3Rpb25TdGFydFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGludGVyYWN0aW5nOiB0cnVlXG4gICAgICB9KTtcblxuICAgICAgY2xlYXJUaW1lb3V0KF90aGlzLmludGVyYWN0aW9uVGltZXIpO1xuICAgICAgX3RoaXMuaW50ZXJhY3Rpb25UaW1lciA9IHNldFRpbWVvdXQoX3RoaXMuaW50ZXJhY3Rpb25TdG9wLCAzMDAwKTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJpbnRlcmFjdGlvblN0b3BcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGZvY3VzID0gX3RoaXMuc3RhdGUuZm9jdXM7XG5cbiAgICAgIGlmICghZm9jdXMgJiYgIV90aGlzLnVubW91bnRlZCkge1xuICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaW50ZXJhY3Rpbmc6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcInJlc3RhdGVcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF90aGlzJHN0YXRlMyA9IF90aGlzLnN0YXRlLFxuICAgICAgICAgIGNhcHRpb25zID0gX3RoaXMkc3RhdGUzLmNhcHRpb25zLFxuICAgICAgICAgIGhlaWdodCA9IF90aGlzJHN0YXRlMy5oZWlnaHQsXG4gICAgICAgICAgdmlkZW9SZWYgPSBfdGhpcyRzdGF0ZTMudmlkZW9SZWYsXG4gICAgICAgICAgd2lkdGggPSBfdGhpcyRzdGF0ZTMud2lkdGg7XG4gICAgICB2YXIgdmlkZW8gPSB2aWRlb1JlZi5jdXJyZW50O1xuXG4gICAgICBpZiAodmlkZW8pIHtcbiAgICAgICAgaWYgKHZpZGVvLnZpZGVvSGVpZ2h0KSB7XG4gICAgICAgICAgLy8gc2V0IHRoZSBzaXplIGJhc2VkIG9uIHRoZSB2aWRlbyBhc3BlY3QgcmF0aW9cbiAgICAgICAgICB2YXIgcmVjdCA9IHZpZGVvLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgIHZhciByYXRpbyA9IHJlY3Qud2lkdGggLyByZWN0LmhlaWdodDtcbiAgICAgICAgICB2YXIgdmlkZW9SYXRpbyA9IHZpZGVvLnZpZGVvV2lkdGggLyB2aWRlby52aWRlb0hlaWdodDtcblxuICAgICAgICAgIGlmICh2aWRlb1JhdGlvID4gcmF0aW8pIHtcbiAgICAgICAgICAgIHZhciBuZXh0SGVpZ2h0ID0gcmVjdC53aWR0aCAvIHZpZGVvUmF0aW87XG5cbiAgICAgICAgICAgIGlmIChuZXh0SGVpZ2h0ICE9PSBoZWlnaHQpIHtcbiAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIGhlaWdodDogbmV4dEhlaWdodCxcbiAgICAgICAgICAgICAgICB3aWR0aDogdW5kZWZpbmVkXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgbmV4dFdpZHRoID0gcmVjdC5oZWlnaHQgKiB2aWRlb1JhdGlvO1xuXG4gICAgICAgICAgICBpZiAobmV4dFdpZHRoICE9PSB3aWR0aCkge1xuICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgaGVpZ2h0OiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgd2lkdGg6IG5leHRXaWR0aFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gLy8gcmVtZW1iZXIgdGhlIHN0YXRlIG9mIHRoZSB0ZXh0IHRyYWNrcyBmb3Igc3Vic2VxdWVudCByZW5kZXJpbmdcblxuXG4gICAgICAgIHZhciB0ZXh0VHJhY2tzID0gdmlkZW8udGV4dFRyYWNrcztcblxuICAgICAgICBpZiAodGV4dFRyYWNrcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgaWYgKHRleHRUcmFja3MubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICB2YXIgYWN0aXZlID0gdGV4dFRyYWNrc1swXS5tb2RlID09PSAnc2hvd2luZyc7XG5cbiAgICAgICAgICAgIGlmICghY2FwdGlvbnMgfHwgIWNhcHRpb25zWzBdIHx8IGNhcHRpb25zWzBdLmFjdGl2ZSAhPT0gYWN0aXZlKSB7XG4gICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBjYXB0aW9uczogW3tcbiAgICAgICAgICAgICAgICAgIGFjdGl2ZTogYWN0aXZlXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBuZXh0Q2FwdGlvbnMgPSBbXTtcbiAgICAgICAgICAgIHZhciBzZXQgPSBmYWxzZTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZXh0VHJhY2tzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgIHZhciB0cmFjayA9IHRleHRUcmFja3NbaV07XG5cbiAgICAgICAgICAgICAgdmFyIF9hY3RpdmUgPSB0cmFjay5tb2RlID09PSAnc2hvd2luZyc7XG5cbiAgICAgICAgICAgICAgbmV4dENhcHRpb25zLnB1c2goe1xuICAgICAgICAgICAgICAgIGxhYmVsOiB0cmFjay5sYWJlbCxcbiAgICAgICAgICAgICAgICBhY3RpdmU6IF9hY3RpdmVcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgaWYgKCFjYXB0aW9ucyB8fCAhY2FwdGlvbnNbaV0gfHwgY2FwdGlvbnNbaV0uYWN0aXZlICE9PSBfYWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgc2V0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoc2V0KSB7XG4gICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBjYXB0aW9uczogbmV4dENhcHRpb25zXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX3RoaXMudXBkYXRlID0gdGhyb3R0bGUoX3RoaXMudXBkYXRlLCAxMDAsIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTtcbiAgICBfdGhpcy5tZWRpYUV2ZW50UHJvcHMgPSBfdGhpcy5pbmplY3RVcGRhdGVWaWRlb0V2ZW50cygpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBWaWRlby5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdmFyIG11dGUgPSB0aGlzLnByb3BzLm11dGU7XG4gICAgdmFyIHZpZGVvUmVmID0gdGhpcy5zdGF0ZS52aWRlb1JlZjtcbiAgICB2YXIgdmlkZW8gPSB2aWRlb1JlZi5jdXJyZW50O1xuXG4gICAgaWYgKG11dGUpIHtcbiAgICAgIHRoaXMubXV0ZSgpO1xuICAgIH1cblxuICAgIGlmICh2aWRlbykge1xuICAgICAgLy8gaGlkZSBhbGwgY2FwdGlvbmluZyB0byBzdGFydCB3aXRoXG4gICAgICB2YXIgdGV4dFRyYWNrcyA9IHZpZGVvLnRleHRUcmFja3M7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGV4dFRyYWNrcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICB0ZXh0VHJhY2tzW2ldLm1vZGUgPSAnaGlkZGVuJztcbiAgICAgIH1cblxuICAgICAgdGhpcy5yZXN0YXRlKCk7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG4gICAgdmFyIGF1dG9QbGF5ID0gdGhpcy5wcm9wcy5hdXRvUGxheTtcblxuICAgIGlmIChhdXRvUGxheSAmJiAhcHJldlByb3BzLmF1dG9QbGF5KSB7XG4gICAgICAvLyBDYWxsZXIgd2FudHMgdGhlIHZpZGVvIHRvIHBsYXkgbm93LlxuICAgICAgdGhpcy5wbGF5KCk7XG4gICAgfVxuXG4gICAgdGhpcy5yZXN0YXRlKCk7XG4gIH07XG5cbiAgX3Byb3RvLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgdGhpcy51bm1vdW50ZWQgPSB0cnVlO1xuICB9O1xuXG4gIF9wcm90by5yZW5kZXJDb250cm9scyA9IGZ1bmN0aW9uIHJlbmRlckNvbnRyb2xzKCkge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgdmFyIF90aGlzJHByb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgY29udHJvbHMgPSBfdGhpcyRwcm9wcy5jb250cm9scyxcbiAgICAgICAgdGhlbWUgPSBfdGhpcyRwcm9wcy50aGVtZTtcbiAgICB2YXIgX3RoaXMkc3RhdGU0ID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgY2FwdGlvbnMgPSBfdGhpcyRzdGF0ZTQuY2FwdGlvbnMsXG4gICAgICAgIGN1cnJlbnRUaW1lID0gX3RoaXMkc3RhdGU0LmN1cnJlbnRUaW1lLFxuICAgICAgICBkdXJhdGlvbiA9IF90aGlzJHN0YXRlNC5kdXJhdGlvbixcbiAgICAgICAgaW50ZXJhY3RpbmcgPSBfdGhpcyRzdGF0ZTQuaW50ZXJhY3RpbmcsXG4gICAgICAgIHBlcmNlbnRhZ2VQbGF5ZWQgPSBfdGhpcyRzdGF0ZTQucGVyY2VudGFnZVBsYXllZCxcbiAgICAgICAgcGxheWluZyA9IF90aGlzJHN0YXRlNC5wbGF5aW5nLFxuICAgICAgICBzY3J1YmJlclJlZiA9IF90aGlzJHN0YXRlNC5zY3J1YmJlclJlZixcbiAgICAgICAgc2NydWJUaW1lID0gX3RoaXMkc3RhdGU0LnNjcnViVGltZSxcbiAgICAgICAgdm9sdW1lID0gX3RoaXMkc3RhdGU0LnZvbHVtZTtcbiAgICB2YXIgb3ZlciA9IGNvbnRyb2xzID09PSAnb3Zlcic7XG4gICAgdmFyIGJhY2tncm91bmQgPSBvdmVyID8gdGhlbWUudmlkZW8uY29udHJvbHMgJiYgdGhlbWUudmlkZW8uY29udHJvbHMuYmFja2dyb3VuZCB8fCB7XG4gICAgICBjb2xvcjogJ2RhcmstMScsXG4gICAgICBvcGFjaXR5OiAnc3Ryb25nJ1xuICAgIH0gOiB1bmRlZmluZWQ7XG4gICAgdmFyIGljb25Db2xvciA9IG92ZXIgJiYgKHRoZW1lLnZpZGVvLmljb25zLmNvbG9yIHx8ICdsaWdodC0xJyk7XG4gICAgdmFyIGZvcm1hdHRlZFRpbWUgPSBmb3JtYXRUaW1lKHNjcnViVGltZSB8fCBjdXJyZW50VGltZSB8fCBkdXJhdGlvbik7XG4gICAgdmFyIEljb25zID0ge1xuICAgICAgQ2xvc2VkQ2FwdGlvbjogdGhlbWUudmlkZW8uaWNvbnMuY2xvc2VkQ2FwdGlvbixcbiAgICAgIENvbmZpZ3VyZTogdGhlbWUudmlkZW8uaWNvbnMuY29uZmlndXJlLFxuICAgICAgRnVsbFNjcmVlbjogdGhlbWUudmlkZW8uaWNvbnMuZnVsbFNjcmVlbixcbiAgICAgIFBhdXNlOiB0aGVtZS52aWRlby5pY29ucy5wYXVzZSxcbiAgICAgIFBsYXk6IHRoZW1lLnZpZGVvLmljb25zLnBsYXksXG4gICAgICBSZWR1Y2VWb2x1bWU6IHRoZW1lLnZpZGVvLmljb25zLnJlZHVjZVZvbHVtZSxcbiAgICAgIFZvbHVtZTogdGhlbWUudmlkZW8uaWNvbnMudm9sdW1lXG4gICAgfTtcbiAgICB2YXIgY2FwdGlvbkNvbnRyb2xzID0gY2FwdGlvbnMubWFwKGZ1bmN0aW9uIChjYXB0aW9uKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpY29uOiBjYXB0aW9uLmxhYmVsID8gdW5kZWZpbmVkIDogUmVhY3QuY3JlYXRlRWxlbWVudChJY29ucy5DbG9zZWRDYXB0aW9uLCB7XG4gICAgICAgICAgY29sb3I6IGljb25Db2xvclxuICAgICAgICB9KSxcbiAgICAgICAgbGFiZWw6IGNhcHRpb24ubGFiZWwsXG4gICAgICAgIGFjdGl2ZTogY2FwdGlvbi5hY3RpdmUsXG4gICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMi5zaG93Q2FwdGlvbnMoY2FwdGlvbi5hY3RpdmUgPyAtMSA6IDApO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0pO1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZFZpZGVvQ29udHJvbHMsIHtcbiAgICAgIG92ZXI6IG92ZXIsXG4gICAgICBhY3RpdmU6ICF0aGlzLmhhc1BsYXllZCB8fCBjb250cm9scyA9PT0gJ2JlbG93JyB8fCBvdmVyICYmIGludGVyYWN0aW5nXG4gICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChCb3gsIHtcbiAgICAgIGRpcmVjdGlvbjogXCJyb3dcIixcbiAgICAgIGFsaWduOiBcImNlbnRlclwiLFxuICAgICAganVzdGlmeTogXCJiZXR3ZWVuXCIsXG4gICAgICBiYWNrZ3JvdW5kOiBiYWNrZ3JvdW5kXG4gICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtcbiAgICAgIGljb246IHBsYXlpbmcgPyBSZWFjdC5jcmVhdGVFbGVtZW50KEljb25zLlBhdXNlLCB7XG4gICAgICAgIGNvbG9yOiBpY29uQ29sb3JcbiAgICAgIH0pIDogUmVhY3QuY3JlYXRlRWxlbWVudChJY29ucy5QbGF5LCB7XG4gICAgICAgIGNvbG9yOiBpY29uQ29sb3JcbiAgICAgIH0pLFxuICAgICAgaG92ZXJJbmRpY2F0b3I6IFwiYmFja2dyb3VuZFwiLFxuICAgICAgb25DbGljazogcGxheWluZyA/IHRoaXMucGF1c2UgOiB0aGlzLnBsYXlcbiAgICB9KSwgUmVhY3QuY3JlYXRlRWxlbWVudChCb3gsIHtcbiAgICAgIGRpcmVjdGlvbjogXCJyb3dcIixcbiAgICAgIGFsaWduOiBcImNlbnRlclwiLFxuICAgICAgZmxleDogdHJ1ZVxuICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQm94LCB7XG4gICAgICBmbGV4OiB0cnVlXG4gICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChTdGFjaywgbnVsbCwgUmVhY3QuY3JlYXRlRWxlbWVudChNZXRlciwge1xuICAgICAgXCJhcmlhLWxhYmVsXCI6IFwiVmlkZW8gcHJvZ3Jlc3NcIixcbiAgICAgIGJhY2tncm91bmQ6IG92ZXIgPyB0aGVtZS52aWRlby5zY3J1YmJlciAmJiB0aGVtZS52aWRlby5zY3J1YmJlci50cmFjayAmJiB0aGVtZS52aWRlby5zY3J1YmJlci50cmFjay5jb2xvciB8fCAnZGFyay0zJyA6IHVuZGVmaW5lZCxcbiAgICAgIHNpemU6IFwiZnVsbFwiLFxuICAgICAgdGhpY2tuZXNzOiBcInNtYWxsXCIsXG4gICAgICB2YWx1ZXM6IFt7XG4gICAgICAgIHZhbHVlOiBwZXJjZW50YWdlUGxheWVkIHx8IDBcbiAgICAgIH1dXG4gICAgfSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkVmlkZW9TY3J1YmJlciwge1xuICAgICAgcmVmOiBzY3J1YmJlclJlZixcbiAgICAgIHRhYkluZGV4OiAwLFxuICAgICAgcm9sZTogXCJidXR0b25cIixcbiAgICAgIHZhbHVlOiBzY3J1YlRpbWUgPyBNYXRoLnJvdW5kKHNjcnViVGltZSAvIGR1cmF0aW9uICogMTAwKSA6IHVuZGVmaW5lZCxcbiAgICAgIG9uTW91c2VNb3ZlOiB0aGlzLnNjcnViLFxuICAgICAgb25Nb3VzZUxlYXZlOiBmdW5jdGlvbiBvbk1vdXNlTGVhdmUoKSB7XG4gICAgICAgIHJldHVybiBfdGhpczIuc2V0U3RhdGUoe1xuICAgICAgICAgIHNjcnViVGltZTogdW5kZWZpbmVkXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIG9uQ2xpY2s6IHRoaXMuc2Vla1xuICAgIH0pKSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQm94LCB7XG4gICAgICBwYWQ6IHtcbiAgICAgICAgaG9yaXpvbnRhbDogJ3NtYWxsJ1xuICAgICAgfVxuICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGV4dCwge1xuICAgICAgbWFyZ2luOiBcIm5vbmVcIlxuICAgIH0sIGZvcm1hdHRlZFRpbWUpKSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTWVudSwge1xuICAgICAgaWNvbjogUmVhY3QuY3JlYXRlRWxlbWVudChJY29ucy5Db25maWd1cmUsIHtcbiAgICAgICAgY29sb3I6IGljb25Db2xvclxuICAgICAgfSksXG4gICAgICBkcm9wQWxpZ246IHtcbiAgICAgICAgYm90dG9tOiAndG9wJyxcbiAgICAgICAgcmlnaHQ6ICdyaWdodCdcbiAgICAgIH0sXG4gICAgICBkcm9wQmFja2dyb3VuZDogYmFja2dyb3VuZCxcbiAgICAgIGl0ZW1zOiBbe1xuICAgICAgICBpY29uOiBSZWFjdC5jcmVhdGVFbGVtZW50KEljb25zLlZvbHVtZSwge1xuICAgICAgICAgIGNvbG9yOiBpY29uQ29sb3JcbiAgICAgICAgfSksXG4gICAgICAgIG9uQ2xpY2s6IHZvbHVtZSA8PSAxIC0gVk9MVU1FX1NURVAgPyB0aGlzLmxvdWRlciA6IHVuZGVmaW5lZCxcbiAgICAgICAgY2xvc2U6IGZhbHNlXG4gICAgICB9LCB7XG4gICAgICAgIGljb246IFJlYWN0LmNyZWF0ZUVsZW1lbnQoSWNvbnMuUmVkdWNlVm9sdW1lLCB7XG4gICAgICAgICAgY29sb3I6IGljb25Db2xvclxuICAgICAgICB9KSxcbiAgICAgICAgb25DbGljazogdm9sdW1lID49IFZPTFVNRV9TVEVQID8gdGhpcy5xdWlldGVyIDogdW5kZWZpbmVkLFxuICAgICAgICBjbG9zZTogZmFsc2VcbiAgICAgIH1dLmNvbmNhdChjYXB0aW9uQ29udHJvbHMsIFt7XG4gICAgICAgIGljb246IFJlYWN0LmNyZWF0ZUVsZW1lbnQoSWNvbnMuRnVsbFNjcmVlbiwge1xuICAgICAgICAgIGNvbG9yOiBpY29uQ29sb3JcbiAgICAgICAgfSksXG4gICAgICAgIG9uQ2xpY2s6IHRoaXMuZnVsbHNjcmVlblxuICAgICAgfV0pXG4gICAgfSkpKTtcbiAgfTtcblxuICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfdGhpcyRwcm9wczIgPSB0aGlzLnByb3BzLFxuICAgICAgICBhbGlnblNlbGYgPSBfdGhpcyRwcm9wczIuYWxpZ25TZWxmLFxuICAgICAgICBhdXRvUGxheSA9IF90aGlzJHByb3BzMi5hdXRvUGxheSxcbiAgICAgICAgY2hpbGRyZW4gPSBfdGhpcyRwcm9wczIuY2hpbGRyZW4sXG4gICAgICAgIGNvbnRyb2xzID0gX3RoaXMkcHJvcHMyLmNvbnRyb2xzLFxuICAgICAgICBncmlkQXJlYSA9IF90aGlzJHByb3BzMi5ncmlkQXJlYSxcbiAgICAgICAgbG9vcCA9IF90aGlzJHByb3BzMi5sb29wLFxuICAgICAgICBtYXJnaW4gPSBfdGhpcyRwcm9wczIubWFyZ2luLFxuICAgICAgICB0aGVtZSA9IF90aGlzJHByb3BzMi50aGVtZSxcbiAgICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF90aGlzJHByb3BzMiwgW1wiYWxpZ25TZWxmXCIsIFwiYXV0b1BsYXlcIiwgXCJjaGlsZHJlblwiLCBcImNvbnRyb2xzXCIsIFwiZ3JpZEFyZWFcIiwgXCJsb29wXCIsIFwibWFyZ2luXCIsIFwidGhlbWVcIl0pO1xuXG4gICAgdmFyIF90aGlzJHN0YXRlNSA9IHRoaXMuc3RhdGUsXG4gICAgICAgIGhlaWdodCA9IF90aGlzJHN0YXRlNS5oZWlnaHQsXG4gICAgICAgIHZpZGVvUmVmID0gX3RoaXMkc3RhdGU1LnZpZGVvUmVmLFxuICAgICAgICB3aWR0aCA9IF90aGlzJHN0YXRlNS53aWR0aDtcbiAgICB2YXIgY29udHJvbHNFbGVtZW50ID0gY29udHJvbHMgPyB0aGlzLnJlbmRlckNvbnRyb2xzKCkgOiB1bmRlZmluZWQ7XG4gICAgdmFyIG1vdXNlRXZlbnRMaXN0ZW5lcnM7XG5cbiAgICBpZiAoY29udHJvbHMgPT09ICdvdmVyJykge1xuICAgICAgbW91c2VFdmVudExpc3RlbmVycyA9IHtcbiAgICAgICAgb25Nb3VzZUVudGVyOiB0aGlzLmludGVyYWN0aW9uU3RhcnQsXG4gICAgICAgIG9uTW91c2VNb3ZlOiB0aGlzLmludGVyYWN0aW9uU3RhcnQsXG4gICAgICAgIG9uVG91Y2hTdGFydDogdGhpcy5pbnRlcmFjdGlvblN0YXJ0XG4gICAgICB9O1xuICAgIH1cblxuICAgIHZhciBzdHlsZTtcblxuICAgIGlmIChyZXN0LmZpdCA9PT0gJ2NvbnRhaW4nICYmIGNvbnRyb2xzID09PSAnb3ZlcicpIHtcbiAgICAgIC8vIGNvbnN0cmFpbiB0aGUgc2l6ZSB0byBmaXQgdGhlIGFzcGVjdCByYXRpbyBzbyB0aGUgY29udHJvbHNcbiAgICAgIC8vIG92ZXJsYXAgY29ycmVjdGx5XG4gICAgICBpZiAod2lkdGgpIHtcbiAgICAgICAgc3R5bGUgPSB7XG4gICAgICAgICAgd2lkdGg6IHdpZHRoXG4gICAgICAgIH07XG4gICAgICB9IGVsc2UgaWYgKGhlaWdodCkge1xuICAgICAgICBzdHlsZSA9IHtcbiAgICAgICAgICBoZWlnaHQ6IGhlaWdodFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZFZpZGVvQ29udGFpbmVyLCBfZXh0ZW5kcyh7fSwgbW91c2VFdmVudExpc3RlbmVycywge1xuICAgICAgYWxpZ25TZWxmOiBhbGlnblNlbGYsXG4gICAgICBncmlkQXJlYTogZ3JpZEFyZWEsXG4gICAgICBtYXJnaW46IG1hcmdpbixcbiAgICAgIHN0eWxlOiBzdHlsZVxuICAgIH0pLCBSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZFZpZGVvLCBfZXh0ZW5kcyh7fSwgcmVzdCwge1xuICAgICAgcmVmOiB2aWRlb1JlZlxuICAgIH0sIHRoaXMubWVkaWFFdmVudFByb3BzLCB7XG4gICAgICBhdXRvUGxheTogYXV0b1BsYXkgfHwgZmFsc2UsXG4gICAgICBsb29wOiBsb29wIHx8IGZhbHNlXG4gICAgfSksIGNoaWxkcmVuKSwgY29udHJvbHNFbGVtZW50KTtcbiAgfTtcblxuICByZXR1cm4gVmlkZW87XG59KENvbXBvbmVudCk7XG5cblZpZGVvLmRlZmF1bHRQcm9wcyA9IHtcbiAgY29udHJvbHM6ICdvdmVyJ1xufTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihWaWRlby5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG52YXIgVmlkZW9Eb2M7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBnbG9iYWwtcmVxdWlyZVxuICBWaWRlb0RvYyA9IHJlcXVpcmUoJy4vZG9jJykuZG9jKFZpZGVvKTtcbn1cblxudmFyIFZpZGVvV3JhcHBlciA9IGNvbXBvc2Uod2l0aFRoZW1lLCB3aXRoRm9yd2FyZFJlZikoVmlkZW9Eb2MgfHwgVmlkZW8pO1xuZXhwb3J0IHsgVmlkZW9XcmFwcGVyIGFzIFZpZGVvIH07IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuaW1wb3J0IHsgZGVzY3JpYmUsIFByb3BUeXBlcyB9IGZyb20gJ3JlYWN0LWRlc2MnO1xuaW1wb3J0IHsgZ2VuZXJpY1Byb3BzLCBnZXRBdmFpbGFibGVBdEJhZGdlIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuaW1wb3J0IHsgdGhlbWVEb2NVdGlscyB9IGZyb20gJy4uLy4uL3V0aWxzL3RoZW1lRG9jVXRpbHMnO1xuZXhwb3J0IHZhciBkb2MgPSBmdW5jdGlvbiBkb2MoVmlkZW8pIHtcbiAgdmFyIERvY3VtZW50ZWRWaWRlbyA9IGRlc2NyaWJlKFZpZGVvKS5hdmFpbGFibGVBdChnZXRBdmFpbGFibGVBdEJhZGdlKCdWaWRlbycpKS5kZXNjcmlwdGlvbignQSB2aWRlbyBwbGF5ZXIuJykudXNhZ2UoXCJpbXBvcnQgeyBWaWRlbyB9IGZyb20gJ2dyb21tZXQnO1xcbjxWaWRlbyAvPlwiKS5pbnRyaW5zaWNFbGVtZW50KCd2aWRlbycpO1xuICBEb2N1bWVudGVkVmlkZW8ucHJvcFR5cGVzID0gX2V4dGVuZHMoe30sIGdlbmVyaWNQcm9wcywge1xuICAgIGF1dG9QbGF5OiBQcm9wVHlwZXMuYm9vbC5kZXNjcmlwdGlvbignRW5hYmxlcyBhdXRvbWF0aWMgcGxheWJhY2sgb2YgdGhlIHZpZGVvIGFzIHNvb24gYXMgaXQgaXMgbG9hZGVkLicpLFxuICAgIGNvbnRyb2xzOiBQcm9wVHlwZXMub25lT2YoW2ZhbHNlLCAnb3ZlcicsICdiZWxvdyddKS5kZXNjcmlwdGlvbignV2hldGhlciB0byBzaG93IHBsYXliYWNrIGNvbnRyb2xzIGFuZCB3aGVyZSB0byBwbGFjZSB0aGVtLicpLmRlZmF1bHRWYWx1ZSgnb3ZlcicpLFxuICAgIGZpdDogUHJvcFR5cGVzLm9uZU9mKFsnY292ZXInLCAnY29udGFpbiddKS5kZXNjcmlwdGlvbignSG93IHRoZSBpbWFnZSBmaWxscyBpdHMgY29udGFpbmVyLicpLFxuICAgIGxvb3A6IFByb3BUeXBlcy5ib29sLmRlc2NyaXB0aW9uKCdFbmFibGVzIGNvbnRpbnVvdXMgdmlkZW8gbG9vcGluZy4nKSxcbiAgICBtdXRlOiBQcm9wVHlwZXMuYm9vbC5kZXNjcmlwdGlvbignRW5hYmxlcyB2aWRlbyBtdXRpbmcuIFRoaXMgb3B0aW9uIGlzIGJlc3QgdXNlZCB3aXRoIHRoZSBhdXRvUGxheSBmbGFnLicpXG4gIH0pO1xuICByZXR1cm4gRG9jdW1lbnRlZFZpZGVvO1xufTtcbmV4cG9ydCB2YXIgdGhlbWVEb2MgPSBfZXh0ZW5kcyh7fSwgdGhlbWVEb2NVdGlscy5yZXNwb25zaXZlQnJlYWtwb2ludCgnVGhlIGFjdHVhbCBicmVha3BvaW50IHRvIHRyaWdnZXIgY2hhbmdlcyBpbiB0aGUgdmlkZW8gY29tcG9uZW50IGxheW91dC4nKSwge1xuICAnZ2xvYmFsLmVkZ2VTaXplLnhzbWFsbCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSB3aWR0aCBvZiB0aGUgdmlkZW8gc2NydWJiZXIuJyxcbiAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICBkZWZhdWx0VmFsdWU6ICc2cHgnXG4gIH0sXG4gICd2aWRlby5jYXB0aW9ucy5iYWNrZ3JvdW5kJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGNhcHRpb24gYmFja2dyb3VuZCBjb2xvciBvZiB0aGUgdmlkZW8gJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICdyZ2JhKDAsIDAsIDAsIDAuNyknXG4gIH0sXG4gICd2aWRlby5zY3J1YmJlci5jb2xvcic6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBiYWNrZ3JvdW5kIGNvbG9yIG9mIHRoZSB2aWRlbyBzY3J1YmJlci4nLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogJ2xpZ2h0LTQnXG4gIH0sXG4gICd2aWRlby5leHRlbmQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdBbnkgYWRkaXRpb25hbCBzdHlsZSBmb3IgVmlkZW8uJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgKHByb3BzKSA9PiB7fScsXG4gICAgZGVmYXVsdFZhbHVlOiB1bmRlZmluZWRcbiAgfVxufSk7IiwiZXhwb3J0IHsgVmlkZW8gfSBmcm9tICcuL1ZpZGVvJzsiLCJpbXBvcnQgc3R5bGVkIGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCB7IGdlbmVyaWNTdHlsZXMgfSBmcm9tICcuLi8uLi91dGlscyc7XG5pbXBvcnQgeyBkZWZhdWx0UHJvcHMgfSBmcm9tICcuLi8uLi9kZWZhdWx0LXByb3BzJztcblxudmFyIGZpbGxTdHlsZSA9IGZ1bmN0aW9uIGZpbGxTdHlsZShmaWxsUHJvcCkge1xuICBpZiAoZmlsbFByb3AgPT09ICdob3Jpem9udGFsJykge1xuICAgIHJldHVybiBcIlxcbiAgICAgIHdpZHRoOiAxMDAlO1xcbiAgICAgIGhlaWdodDogdW5zZXQ7XFxuICAgIFwiO1xuICB9XG5cbiAgaWYgKGZpbGxQcm9wID09PSAndmVydGljYWwnKSB7XG4gICAgcmV0dXJuIFwiXFxuICAgICAgd2lkdGg6IHVuc2V0O1xcbiAgICAgIGhlaWdodDogMTAwJTtcXG4gICAgXCI7XG4gIH1cblxuICBpZiAoZmlsbFByb3ApIHtcbiAgICByZXR1cm4gXCJcXG4gICAgICB3aWR0aDogMTAwJTtcXG4gICAgICBoZWlnaHQ6IDEwMCU7XFxuICAgIFwiO1xuICB9XG5cbiAgcmV0dXJuICcnO1xufTsgLy8gdW5kZWZpbmVkIGZpbGxQcm9wIGhhcyB3aWR0aCBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHlcblxuXG52YXIgU3R5bGVkV29ybGRNYXAgPSBzdHlsZWQuc3ZnLndpdGhDb25maWcoe1xuICBkaXNwbGF5TmFtZTogXCJTdHlsZWRXb3JsZE1hcFwiLFxuICBjb21wb25lbnRJZDogXCJoYWQ0YzMtMFwiXG59KShbXCJcIiwgXCIgXCIsIFwiIFwiLCBcIjtcIl0sIGdlbmVyaWNTdHlsZXMsIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuZmlsbFByb3AgIT09IHVuZGVmaW5lZCA/IGZpbGxTdHlsZShwcm9wcy5maWxsUHJvcCkgOiAnd2lkdGg6IDEwMCU7Jztcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUud29ybGRNYXAgJiYgcHJvcHMudGhlbWUud29ybGRNYXAuZXh0ZW5kO1xufSk7XG5TdHlsZWRXb3JsZE1hcC5kZWZhdWx0UHJvcHMgPSB7fTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihTdHlsZWRXb3JsZE1hcC5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG5leHBvcnQgeyBTdHlsZWRXb3JsZE1hcCB9OyIsImZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHNMb29zZShzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MucHJvdG90eXBlKTsgc3ViQ2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gc3ViQ2xhc3M7IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5pbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY29tcG9zZSB9IGZyb20gJ3JlY29tcG9zZSc7XG5pbXBvcnQgeyB3aXRoVGhlbWUgfSBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBkZWZhdWx0UHJvcHMgfSBmcm9tICcuLi8uLi9kZWZhdWx0LXByb3BzJztcbmltcG9ydCB7IG5vcm1hbGl6ZUNvbG9yLCBwYXJzZU1ldHJpY1RvTnVtIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuaW1wb3J0IHsgU3R5bGVkV29ybGRNYXAgfSBmcm9tICcuL1N0eWxlZFdvcmxkTWFwJzsgLy8gVGhlIGdyYXBoaWMgaXMgZHJhd24gYXMgYSByZWN0YW5ndWxhciBncmlkIHVzaW5nIGNvb3JkaW5hdGVzIHNwYWNlZFxuLy8gYnkgRkFDVE9SIHBpeGVscy4gVGhlIGNvbnRlbnRzIGhhdmUgYm90aCBhbiBhcmVhIGJvdW5kYXJ5IGZvciBpbnRlcmFjdGlvblxuLy8gYW5kIGRvdHMgZGVzY3JpYmVkIGFzIHJvd3Mgd2hlcmUgZWFjaCByb3cgaXMgZGVzY3JpYmVkIGJ5IHRocmVlIHZhbHVlczpcbi8vIGEgc3RhcnRpbmcgY29vcmRpbmF0ZSBhbmQgYSBsZW5ndGguIFRoaXMgYXBwcm9hY2ggaXMgbW9yZSBlZmZpY2llbnQgdGhhblxuLy8gZGVzY3JpYmluZyBpdCB2aWEgU1ZHIGVsZW1lbnRzLCBrZWVwaW5nIHRoZSBjb2RlL2xpYnJhcnkgc2l6ZSBzbWFsbGVyLlxuXG52YXIgQ09OVElORU5UUyA9IFt7XG4gIG5hbWU6ICdBdXN0cmFsaWEnLFxuICBvcmlnaW46IFs3NCwgMzJdLFxuICBhcmVhOiBbWzQsIDBdLCBbNywgMV0sIFsxNSwgN10sIFsxMywgOV0sIFswLCA2XSwgWzAsIDJdXSxcbiAgZG90czogW1s0LCAwLCAxXSwgWzIsIDEsIDZdLCBbMCwgMiwgOV0sIFswLCAzLCAxMF0sIFswLCA0LCAxMF0sIFswLCA1LCAzXSwgWzUsIDUsIDVdLCBbNSwgNiwgNF0sIFsxNSwgNywgMV0sIFsxNCwgOCwgMV0sIFsxMywgOSwgMV1dXG59LCB7XG4gIG5hbWU6ICdBc2lhJyxcbiAgb3JpZ2luOiBbNTIsIDFdLFxuICBhcmVhOiBbWzE2LCAwXSwgWzM4LCA1XSwgWzQwLCA3XSwgWzI4LCAxN10sIFsyNCwgMjVdLCBbMjksIDI5XSwgWzE5LCAyOV0sIFsxMSwgMjRdLCBbMywgMjNdLCBbMCwgMjBdLCBbMCwgMTldLCBbNiwgMTNdLCBbNywgNl1dLFxuICBkb3RzOiBbWzE2LCAwLCAxXSwgWzE3LCAxLCAyXSwgWzE4LCAyLCAyXSwgWzE1LCAzLCA2XSwgWzI4LCAzLCAxXSwgWzMwLCAzLCAxXSwgWzEwLCA0LCAyXSwgWzEzLCA0LCAxMF0sIFsyNCwgNCwgMV0sIFs5LCA1LCAyMl0sIFszMiwgNSwgMV0sIFszOCwgNSwgMV0sIFs3LCA2LCAyXSwgWzEwLCA2LCAxXSwgWzEyLCA2LCAyN10sIFs3LCA3LCAzNF0sIFs3LCA4LCAzMV0sIFs3LCA5LCAyNl0sIFszNCwgOSwgM10sIFs3LCAxMCwgMjJdLCBbMzEsIDEwLCAxXSwgWzMzLCAxMCwgMV0sIFs3LCAxMSwgMjFdLCBbMzIsIDExLCAyXSwgWzcsIDEyLCAyMV0sIFszMiwgMTIsIDFdLCBbNiwgMTMsIDIyXSwgWzMyLCAxMywgMV0sIFs2LCAxNCwgMjJdLCBbNSwgMTUsIDIyXSwgWzMsIDE2LCAyXSwgWzYsIDE2LCAyMF0sIFsyLCAxNywgM10sIFs2LCAxNywgMTZdLCBbMjQsIDE3LCAxXSwgWzI4LCAxNywgMV0sIFsxLCAxOCwgMjJdLCBbMjYsIDE4LCAyXSwgWzAsIDE5LCAyNF0sIFswLCAyMCwgNV0sIFs2LCAyMCwgMTddLCBbMiwgMjEsIDVdLCBbMTAsIDIxLCAxNF0sIFsyLCAyMiwgNV0sIFsxMSwgMjIsIDRdLCBbMTYsIDIyLCA0XSwgWzMsIDIzLCAzXSwgWzExLCAyMywgMl0sIFsxNywgMjMsIDNdLCBbMjMsIDIzLCAxXSwgWzExLCAyNCwgMl0sIFsxOCwgMjQsIDJdLCBbMjMsIDI0LCAxXSwgWzI0LCAyNSwgMV0sIFsxOCwgMjYsIDFdLCBbMjIsIDI2LCAxXSwgWzE4LCAyNywgMV0sIFsyMCwgMjcsIDRdLCBbMTgsIDI4LCAxXSwgWzIxLCAyOCwgMV0sIFsyMywgMjgsIDFdLCBbMjYsIDI4LCAzXSwgWzE5LCAyOSwgMV0sIFsyOCwgMjksIDJdXVxufSwge1xuICAvLyAyMVgsIDQwWVxuICBuYW1lOiAnQWZyaWNhJyxcbiAgb3JpZ2luOiBbNDAsIDE5XSxcbiAgYXJlYTogW1szLCAwXSwgWzYsIDBdLCBbMTEsIDJdLCBbMTYsIDddLCBbMTYsIDE1XSwgWzExLCAxOF0sIFs5LCAxOF0sIFswLCA2XSwgWzAsIDNdXSxcbiAgZG90czogW1szLCAwLCA0XSwgWzIsIDEsIDZdLCBbOSwgMSwgMl0sIFsxLCAyLCAxMV0sIFswLCAzLCAxM10sIFswLCA0LCAxNF0sIFswLCA1LCAxNF0sIFswLCA2LCAxNl0sIFsxLCA3LCAxNl0sIFsyLCA4LCAyXSwgWzYsIDgsIDExXSwgWzcsIDksIDldLCBbNywgMTAsIDhdLCBbNywgMTEsIDddLCBbOCwgMTIsIDddLCBbNywgMTMsIDhdLCBbNywgMTQsIDddLCBbMTYsIDE0LCAxXSwgWzgsIDE1LCA1XSwgWzE1LCAxNSwgMl0sIFs4LCAxNiwgNV0sIFs5LCAxNywgM10sIFs5LCAxOCwgM11dXG59LCB7XG4gIG5hbWU6ICdFdXJvcGUnLFxuICBvcmlnaW46IFszOSwgMl0sXG4gIGFyZWE6IFtbOCwgMF0sIFsxMCwgMF0sIFsyMCwgMl0sIFsxOSwgMTFdLCBbMTgsIDEzXSwgWzE0LCAxNl0sIFszLCAxNl0sIFswLCA3XV0sXG4gIGRvdHM6IFtbOCwgMCwgM10sIFs5LCAxLCAxXSwgWzIwLCAyLCAxXSwgWzE5LCAzLCAxXSwgWzEyLCA0LCAxXSwgWzE5LCA0LCAxXSwgWzksIDUsIDZdLCBbOSwgNiwgN10sIFsxNywgNiwgM10sIFswLCA3LCAxXSwgWzgsIDcsIDEyXSwgWzcsIDgsIDNdLCBbMTEsIDgsIDldLCBbNywgOSwgM10sIFsxMSwgOSwgOV0sIFs0LCAxMCwgMV0sIFs3LCAxMCwgMV0sIFs5LCAxMCwgMV0sIFsxMSwgMTAsIDldLCBbMywgMTEsIDJdLCBbNywgMTEsIDEzXSwgWzQsIDEyLCAxXSwgWzYsIDEyLCAxM10sIFs0LCAxMywgMTVdLCBbNSwgMTQsIDNdLCBbOSwgMTQsIDRdLCBbMTUsIDE0LCAyXSwgWzMsIDE1LCAzXSwgWzgsIDE1LCAxXSwgWzEwLCAxNSwgNV0sIFs2LCAxNSwgMl0sIFszLCAxNiwgMl0sIFsxMCwgMTYsIDVdXVxufSwge1xuICBuYW1lOiAnU291dGggQW1lcmljYScsXG4gIG9yaWdpbjogWzIyLCAyNl0sXG4gIGFyZWE6IFtbMiwgMF0sIFs1LCAwXSwgWzExLCA0XSwgWzExLCA4XSwgWzMsIDE4XSwgWzIsIDE3XSwgWzAsIDRdLCBbMCwgM11dLFxuICBkb3RzOiBbWzIsIDAsIDRdLCBbMSwgMSwgN10sIFsxLCAyLCA3XSwgWzAsIDMsIDEwXSwgWzAsIDQsIDEyXSwgWzEsIDUsIDExXSwgWzIsIDYsIDldLCBbMywgNywgOF0sIFszLCA4LCA4XSwgWzMsIDksIDZdLCBbMywgMTAsIDZdLCBbMywgMTEsIDVdLCBbMywgMTIsIDNdLCBbMiwgMTMsIDNdLCBbMiwgMTQsIDNdLCBbMiwgMTUsIDJdLCBbMiwgMTYsIDJdLCBbMiwgMTcsIDJdLCBbMywgMTgsIDFdXVxufSwge1xuICBuYW1lOiAnTm9ydGggQW1lcmljYScsXG4gIG9yaWdpbjogWzAsIDBdLFxuICBhcmVhOiBbWzIxLCAwXSwgWzM5LCAwXSwgWzM5LCA2XSwgWzIyLCAyNl0sIFsxNiwgMjNdLCBbMiwgMTJdLCBbMCwgN11dLFxuICBkb3RzOiBbWzIyLCAwLCA2XSwgWzI5LCAwLCAxXSwgWzMxLCAwLCAxXSwgWzMzLCAwLCA1XSwgWzIwLCAxLCAxXSwgWzIyLCAxLCAxXSwgWzI0LCAxLCAyXSwgWzI3LCAxLCAxM10sIFsxNywgMiwgMV0sIFsyMCwgMiwgNV0sIFsyNiwgMiwgMTNdLCBbMTMsIDMsIDFdLCBbMTksIDMsIDFdLCBbMjEsIDMsIDNdLCBbMjYsIDMsIDE0XSwgWzE0LCA0LCAxXSwgWzE2LCA0LCA0XSwgWzIxLCA0LCAzXSwgWzI5LCA0LCAxMV0sIFsxMiwgNSwgM10sIFsxNiwgNSwgMV0sIFsxOCwgNSwgMV0sIFsyMCwgNSwgM10sIFsyNCwgNSwgMV0sIFszMCwgNSwgOF0sIFsxNCwgNiwgM10sIFsxOSwgNiwgMV0sIFsyMiwgNiwgNF0sIFszMSwgNiwgOF0sIFswLCA3LCAxNV0sIFsxNiwgNywgMV0sIFsxOCwgNywgNF0sIFsyNCwgNywgMl0sIFszMCwgNywgN10sIFsyLCA4LCAyMF0sIFsyNCwgOCwgM10sIFsyOSwgOCwgNV0sIFsyLCA5LCAyMF0sIFsyNCwgOSwgMl0sIFszMCwgOSwgM10sIFsxLCAxMCwgMThdLCBbMjMsIDEwLCAyXSwgWzMxLCAxMCwgMV0sIFsyLCAxMSwgMl0sIFs4LCAxMSwgMTFdLCBbMjMsIDExLCAyXSwgWzI2LCAxMSwgMV0sIFsyLCAxMiwgMV0sIFs4LCAxMiwgMTNdLCBbMjQsIDEyLCAzXSwgWzEwLCAxMywgMTJdLCBbMjMsIDEzLCA1XSwgWzExLCAxNCwgMTddLCBbMTEsIDE1LCA5XSwgWzIxLCAxNSwgNl0sIFsyOCwgMTUsIDJdLCBbMTEsIDE2LCAxMV0sIFsyMywgMTYsIDRdLCBbMTEsIDE3LCAxNF0sIFsxMiwgMTgsIDExXSwgWzEyLCAxOSwgMTJdLCBbMTMsIDIwLCA5XSwgWzE1LCAyMSwgM10sIFsyMiwgMjEsIDFdLCBbMTYsIDIyLCAyXSwgWzE2LCAyMywgMl0sIFsyMCwgMjMsIDFdLCBbMjMsIDIzLCAxXSwgWzE4LCAyNCwgM10sIFsyMSwgMjUsIDFdLCBbMjIsIDI2LCAxXV1cbn1dOyAvLyBGQUNUT1IgaXMgdGhlIGRpc3RhbmNlIGluIHBpeGVscyBiZXR3ZWVuIGNvb3JkaW5hdGVzXG5cbnZhciBGQUNUT1IgPSAxMDtcblxudmFyIG1heENvb3JkaW5hdGUgPSBmdW5jdGlvbiBtYXhDb29yZGluYXRlKGEsIGIpIHtcbiAgcmV0dXJuIFtNYXRoLm1heChhWzBdLCBiWzBdKSwgTWF0aC5tYXgoYVsxXSwgYlsxXSldO1xufTsgLy8gY29uc3QgbWluQ29vcmRpbmF0ZSA9IChhLCBiKSA9PlxuLy8gICBbTWF0aC5taW4oYVswXSwgYlswXSksIE1hdGgubWluKGFbMV0sIGJbMV0pXTtcbi8vIEJhc2VkIG9uIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS80Mzg2MTI0N1xuXG5cbnZhciBNQVBfTEFUX0JPVFRPTSA9IC01MC4wOyAvLyBlbXBpcmljYWxseSBkZXRlcm1pbmVkXG5cbnZhciBNQVBfTEFUX0JPVFRPTV9SQUQgPSBNQVBfTEFUX0JPVFRPTSAqIE1hdGguUEkgLyAxODA7XG52YXIgTUFQX0xPTl9MRUZUID0gLTE3MS4wOyAvLyBlbXBpcmljYWxseSBkZXRlcm1pbmVkXG5cbnZhciBNQVBfTE9OX1JJR0hUID0gMTg0LjA7IC8vIGVtcGlyaWNhbGx5IGRldGVybWluZWRcblxudmFyIE1BUF9MT05fREVMVEEgPSBNQVBfTE9OX1JJR0hUIC0gTUFQX0xPTl9MRUZUO1xuXG52YXIgbWFwVmFsdWVzID0gZnVuY3Rpb24gbWFwVmFsdWVzKGV4dGVudCkge1xuICB2YXIgbWFwUmFkaXVzID0gZXh0ZW50WzBdIC8gTUFQX0xPTl9ERUxUQSAqIDM2MCAvICgyICogTWF0aC5QSSk7XG4gIHZhciBtYXBPZmZzZXRZID0gTWF0aC5yb3VuZChtYXBSYWRpdXMgLyAyICogTWF0aC5sb2coKDEgKyBNYXRoLnNpbihNQVBfTEFUX0JPVFRPTV9SQUQpKSAvICgxIC0gTWF0aC5zaW4oTUFQX0xBVF9CT1RUT01fUkFEKSkpKTtcbiAgcmV0dXJuIHtcbiAgICBtYXBSYWRpdXM6IG1hcFJhZGl1cyxcbiAgICBtYXBPZmZzZXRZOiBtYXBPZmZzZXRZXG4gIH07XG59O1xuXG52YXIgbGF0TG9uVG9Db29yZCA9IGZ1bmN0aW9uIGxhdExvblRvQ29vcmQobGF0TG9uLCBvcmlnaW4sIGV4dGVudCkge1xuICB2YXIgX21hcFZhbHVlcyA9IG1hcFZhbHVlcyhleHRlbnQpLFxuICAgICAgbWFwUmFkaXVzID0gX21hcFZhbHVlcy5tYXBSYWRpdXMsXG4gICAgICBtYXBPZmZzZXRZID0gX21hcFZhbHVlcy5tYXBPZmZzZXRZO1xuXG4gIHZhciB4ID0gTWF0aC5yb3VuZCgobGF0TG9uWzFdIC0gTUFQX0xPTl9MRUZUKSAqIGV4dGVudFswXSAvIE1BUF9MT05fREVMVEEpO1xuICB2YXIgbGF0aXR1ZGVSYWQgPSBsYXRMb25bMF0gKiBNYXRoLlBJIC8gMTgwO1xuICB2YXIgeSA9IGV4dGVudFsxXSArIG1hcE9mZnNldFkgLSBNYXRoLnJvdW5kKG1hcFJhZGl1cyAvIDIgKiBNYXRoLmxvZygoMSArIE1hdGguc2luKGxhdGl0dWRlUmFkKSkgLyAoMSAtIE1hdGguc2luKGxhdGl0dWRlUmFkKSkpKTtcbiAgcmV0dXJuIFt4LCB5XTsgLy8gdGhlIGNvb3JkaW5hdGUgdmFsdWUgb2YgdGhpcyBwb2ludCBvbiB0aGUgbWFwIGltYWdlXG59O1xuXG52YXIgY29vcmRUb0xhdExvbiA9IGZ1bmN0aW9uIGNvb3JkVG9MYXRMb24oY29vcmQsIG9yaWdpbiwgZXh0ZW50KSB7XG4gIHZhciBfbWFwVmFsdWVzMiA9IG1hcFZhbHVlcyhleHRlbnQpLFxuICAgICAgbWFwUmFkaXVzID0gX21hcFZhbHVlczIubWFwUmFkaXVzLFxuICAgICAgbWFwT2Zmc2V0WSA9IF9tYXBWYWx1ZXMyLm1hcE9mZnNldFk7XG5cbiAgdmFyIGEgPSAoZXh0ZW50WzFdICsgbWFwT2Zmc2V0WSAtIGNvb3JkWzFdKSAvIG1hcFJhZGl1cztcbiAgdmFyIGxhdCA9IDE4MCAvIE1hdGguUEkgKiAoMiAqIE1hdGguYXRhbihNYXRoLmV4cChhKSkgLSBNYXRoLlBJIC8gMik7XG4gIHZhciBsb24gPSBjb29yZFswXSAqIE1BUF9MT05fREVMVEEgLyBleHRlbnRbMF0gKyBNQVBfTE9OX0xFRlQ7XG4gIHJldHVybiBbbGF0LCBsb25dO1xufTtcblxudmFyIGJ1aWxkQ29udGluZW50U3RhdGUgPSBmdW5jdGlvbiBidWlsZENvbnRpbmVudFN0YXRlKF9yZWYpIHtcbiAgdmFyIGFyZWEgPSBfcmVmLmFyZWEsXG4gICAgICBkb3RzID0gX3JlZi5kb3RzLFxuICAgICAgb3JpZ2luID0gX3JlZi5vcmlnaW47XG4gIHZhciBleHRlbnQgPSBbXS5jb25jYXQob3JpZ2luKTtcbiAgdmFyIHN0YXRlRG90cyA9IGRvdHMubWFwKGZ1bmN0aW9uIChzZWdtZW50KSB7XG4gICAgdmFyIGNvdW50ID0gc2VnbWVudFsyXTtcbiAgICB2YXIgc3BvdHMgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY291bnQ7IGkgKz0gMSkge1xuICAgICAgc3BvdHMucHVzaCgnaDAnKTtcbiAgICB9XG5cbiAgICB2YXIgZG90Q29tbWFuZHMgPSBzcG90cy5qb2luKCcgbTEwLDAgJyk7XG4gICAgdmFyIHggPSBGQUNUT1IgKiAob3JpZ2luWzBdICsgc2VnbWVudFswXSArIDEpO1xuICAgIHZhciB5ID0gRkFDVE9SICogKG9yaWdpblsxXSArIHNlZ21lbnRbMV0gKyAxKTtcbiAgICBleHRlbnQgPSBtYXhDb29yZGluYXRlKGV4dGVudCwgW29yaWdpblswXSArIHNlZ21lbnRbMF0gKyBzZWdtZW50WzJdLCBvcmlnaW5bMV0gKyBzZWdtZW50WzFdXSk7XG4gICAgcmV0dXJuIFwiTVwiICsgeCArIFwiLFwiICsgeSArIFwiIFwiICsgZG90Q29tbWFuZHM7XG4gIH0pLmpvaW4oJyAnKTtcbiAgdmFyIHN0YXRlQXJlYSA9IGFyZWEubWFwKGZ1bmN0aW9uIChwb2ludCwgaW5kZXgpIHtcbiAgICB2YXIgeCA9IEZBQ1RPUiAqIChwb2ludFswXSArIG9yaWdpblswXSArIDEpO1xuICAgIHZhciB5ID0gRkFDVE9SICogKHBvaW50WzFdICsgb3JpZ2luWzFdICsgMSk7XG4gICAgcmV0dXJuIFwiXCIgKyAoaW5kZXggPT09IDAgPyAnTScgOiAnTCcpICsgeCArIFwiLFwiICsgeTtcbiAgfSkuam9pbignICcpICsgXCIgWlwiO1xuICB2YXIgbWlkID0gW29yaWdpblswXSArIChleHRlbnRbMF0gLSBvcmlnaW5bMF0pIC8gMiwgb3JpZ2luWzFdICsgKGV4dGVudFsxXSAtIG9yaWdpblsxXSkgLyAyXTtcbiAgcmV0dXJuIHtcbiAgICBhcmVhOiBzdGF0ZUFyZWEsXG4gICAgZG90czogc3RhdGVEb3RzLFxuICAgIG9yaWdpbjogb3JpZ2luLFxuICAgIGV4dGVudDogZXh0ZW50LFxuICAgIG1pZDogbWlkXG4gIH07XG59O1xuXG52YXIgYnVpbGRTdGF0ZSA9IGZ1bmN0aW9uIGJ1aWxkU3RhdGUoKSB7XG4gIHZhciBjb250aW5lbnRzID0ge307IC8vIEJ1aWxkIHRoZSBTVkcgcGF0aHMgZGVzY3JpYmluZyB0aGUgaW5kaXZpZHVhbCBkb3RzXG5cbiAgdmFyIG9yaWdpbiA9IFswLCAwXTtcbiAgdmFyIGV4dGVudCA9IFswLCAwXTtcbiAgQ09OVElORU5UUy5mb3JFYWNoKGZ1bmN0aW9uIChjb250aW5lbnQpIHtcbiAgICBjb250aW5lbnRzW2NvbnRpbmVudC5uYW1lXSA9IGJ1aWxkQ29udGluZW50U3RhdGUoY29udGluZW50KTtcbiAgICBleHRlbnQgPSBtYXhDb29yZGluYXRlKGV4dGVudCwgY29udGluZW50c1tjb250aW5lbnQubmFtZV0uZXh0ZW50KTtcbiAgfSk7XG4gIHJldHVybiB7XG4gICAgY29udGluZW50czogY29udGluZW50cyxcbiAgICBleHRlbnQ6IGV4dGVudCxcbiAgICBvcmlnaW46IG9yaWdpbixcbiAgICB4OiBvcmlnaW5bMF0gKiBGQUNUT1IsXG4gICAgeTogb3JpZ2luWzFdICogRkFDVE9SLFxuICAgIHdpZHRoOiAoZXh0ZW50WzBdIC0gb3JpZ2luWzBdICsgMSkgKiBGQUNUT1IsXG4gICAgaGVpZ2h0OiAoZXh0ZW50WzFdIC0gb3JpZ2luWzFdICsgMikgKiBGQUNUT1JcbiAgfTtcbn07XG5cbnZhciB1cGRhdGVTdGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZVN0YXRlKHN0YXRlLCBfcmVmMikge1xuICB2YXIgY29udGluZW50cyA9IF9yZWYyLmNvbnRpbmVudHMsXG4gICAgICBwbGFjZXMgPSBfcmVmMi5wbGFjZXM7XG5cbiAgdmFyIG5leHRTdGF0ZSA9IF9leHRlbmRzKHt9LCBzdGF0ZSk7XG5cbiAgaWYgKGNvbnRpbmVudHMpIHtcbiAgICBjb250aW5lbnRzLmZvckVhY2goZnVuY3Rpb24gKGNvbnRpbmVudCkge1xuICAgICAgbmV4dFN0YXRlLmNvbnRpbmVudHNbY29udGluZW50Lm5hbWVdID0gX2V4dGVuZHMoe30sIHN0YXRlLmNvbnRpbmVudHNbY29udGluZW50Lm5hbWVdLCB7fSwgY29udGluZW50KTtcbiAgICB9KTtcbiAgfVxuXG4gIG5leHRTdGF0ZS5wbGFjZXMgPSAocGxhY2VzIHx8IFtdKS5tYXAoZnVuY3Rpb24gKF9yZWYzKSB7XG4gICAgdmFyIGxvY2F0aW9uID0gX3JlZjMubG9jYXRpb24sXG4gICAgICAgIHBsYWNlID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZjMsIFtcImxvY2F0aW9uXCJdKTtcblxuICAgIHZhciBjb29yZHMgPSBsYXRMb25Ub0Nvb3JkKGxvY2F0aW9uLCBzdGF0ZS5vcmlnaW4sIHN0YXRlLmV4dGVudCk7XG4gICAgcmV0dXJuIF9leHRlbmRzKHtcbiAgICAgIGNvb3JkczogY29vcmRzLFxuICAgICAga2V5OiBsb2NhdGlvbi5qb2luKCcsJylcbiAgICB9LCBwbGFjZSk7XG4gIH0pO1xuICByZXR1cm4gbmV4dFN0YXRlO1xufTtcblxudmFyIGJ1aWxkSW50ZXJhY3RpdmVQcm9wcyA9IGZ1bmN0aW9uIGJ1aWxkSW50ZXJhY3RpdmVQcm9wcyhfcmVmNCwgYWN0aXZlRnVuYywgYWN0aXZlKSB7XG4gIHZhciBuYW1lID0gX3JlZjQubmFtZSxcbiAgICAgIG9uQ2xpY2sgPSBfcmVmNC5vbkNsaWNrLFxuICAgICAgb25Ib3ZlciA9IF9yZWY0Lm9uSG92ZXI7XG4gIHJldHVybiB7XG4gICAgcm9sZTogJ2J1dHRvbicsXG4gICAgJ2FyaWEtbGFiZWwnOiBuYW1lLFxuICAgIHRhYkluZGV4OiAnMCcsXG4gICAgb25DbGljazogb25DbGljayA/IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBvbkNsaWNrKG5hbWUpO1xuICAgIH0gOiB1bmRlZmluZWQsXG4gICAgb25Nb3VzZU92ZXI6IGZ1bmN0aW9uIG9uTW91c2VPdmVyKCkge1xuICAgICAgaWYgKCFhY3RpdmUpIHtcbiAgICAgICAgYWN0aXZlRnVuYyhuYW1lKTtcblxuICAgICAgICBpZiAob25Ib3Zlcikge1xuICAgICAgICAgIG9uSG92ZXIodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIG9uTW91c2VMZWF2ZTogZnVuY3Rpb24gb25Nb3VzZUxlYXZlKCkge1xuICAgICAgaWYgKGFjdGl2ZSkge1xuICAgICAgICBhY3RpdmVGdW5jKHVuZGVmaW5lZCk7XG5cbiAgICAgICAgaWYgKG9uSG92ZXIpIHtcbiAgICAgICAgICBvbkhvdmVyKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgb25Gb2N1czogZnVuY3Rpb24gb25Gb2N1cygpIHtcbiAgICAgIC8vIFRoaXMgbW92ZXMgdGhlIG1hcCB1bm5lY2Vzc2FyaWx5LiBJbnN0ZWFkLCB3ZSBzaG91bGQgY2hlY2tcbiAgICAgIC8vIHRoZSBwb3NpdGlvbiBhbmQgc2Nyb2xsIGlmIGl0IGlzbid0IGFscmVhZHkgdmlzaWJsZVxuICAgICAgLy8gdGhpcy5fd29ybGRNYXBSZWYuc2Nyb2xsSW50b1ZpZXcoKTtcbiAgICAgIGlmICghYWN0aXZlKSB7XG4gICAgICAgIGFjdGl2ZUZ1bmMobmFtZSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBvbkJsdXI6IGZ1bmN0aW9uIG9uQmx1cigpIHtcbiAgICAgIGlmIChhY3RpdmUpIHtcbiAgICAgICAgYWN0aXZlRnVuYyh1bmRlZmluZWQpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn07XG5cbnZhciBXb3JsZE1hcCA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBfaW5oZXJpdHNMb29zZShXb3JsZE1hcCwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gV29ybGRNYXAoKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIF90aGlzID0gX0NvbXBvbmVudC5jYWxsLmFwcGx5KF9Db21wb25lbnQsIFt0aGlzXS5jb25jYXQoYXJncykpIHx8IHRoaXM7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwic3RhdGVcIiwge30pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIm9uTW91c2VPdmVyXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIHRyYWNrIHdoZW4gd2UncmUgb3ZlciB0aGUgbWFwIHRvIGF2b2lkIGRlYWxpbmcgd2l0aCBtb3VzZSBtb3Zlc1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBvdmVyOiB0cnVlXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJvbk1vdXNlTW92ZVwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciB3aWR0aCA9IF90aGlzLnN0YXRlLndpZHRoOyAvLyBkZXRlcm1pbmUgdGhlIG1hcCBjb29yZGluYXRlcyBmb3Igd2hlcmUgdGhlIG1vdXNlIGlzXG4gICAgICAvLyBjb250YWluZXJSZWYgdXNlcyB0aGUgZ3JvdXAgc28gd2UgY2FuIGhhbmRsZSBhc3BlY3QgcmF0aW8gc2NhbGluZ1xuXG4gICAgICB2YXIgcmVjdCA9IF90aGlzLmNvbnRhaW5lclJlZi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgdmFyIHNjYWxlID0gcmVjdC53aWR0aCAvIHdpZHRoOyAvLyBzaW5jZSB0aGUgU1ZHIHZpZXdCb3ggbWlnaHQgYmUgc2NhbGVkXG5cbiAgICAgIHZhciBjb29yZHMgPSBbTWF0aC5yb3VuZCgoZXZlbnQuY2xpZW50WCAtIHJlY3QubGVmdCkgLyBzY2FsZSAvIEZBQ1RPUiksIE1hdGgucm91bmQoKGV2ZW50LmNsaWVudFkgLSByZWN0LnRvcCkgLyBzY2FsZSAvIEZBQ1RPUildO1xuXG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGFjdGl2ZUNvb3JkczogY29vcmRzXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJvbk1vdXNlTGVhdmVcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBvdmVyOiBmYWxzZSxcbiAgICAgICAgYWN0aXZlQ29vcmRzOiB1bmRlZmluZWRcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgV29ybGRNYXAuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID0gZnVuY3Rpb24gZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKG5leHRQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgaWYgKCFwcmV2U3RhdGUuY29udGluZW50cykge1xuICAgICAgcmV0dXJuIHVwZGF0ZVN0YXRlKGJ1aWxkU3RhdGUoKSwgbmV4dFByb3BzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdXBkYXRlU3RhdGUocHJldlN0YXRlLCBuZXh0UHJvcHMpO1xuICB9O1xuXG4gIHZhciBfcHJvdG8gPSBXb3JsZE1hcC5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIHZhciBfdGhpcyRwcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgIGNvbG9yID0gX3RoaXMkcHJvcHMuY29sb3IsXG4gICAgICAgIGZpbGwgPSBfdGhpcyRwcm9wcy5maWxsLFxuICAgICAgICBvblNlbGVjdFBsYWNlID0gX3RoaXMkcHJvcHMub25TZWxlY3RQbGFjZSxcbiAgICAgICAgaG92ZXJDb2xvciA9IF90aGlzJHByb3BzLmhvdmVyQ29sb3IsXG4gICAgICAgIHRoZW1lID0gX3RoaXMkcHJvcHMudGhlbWUsXG4gICAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfdGhpcyRwcm9wcywgW1wiY29sb3JcIiwgXCJmaWxsXCIsIFwib25TZWxlY3RQbGFjZVwiLCBcImhvdmVyQ29sb3JcIiwgXCJ0aGVtZVwiXSk7XG5cbiAgICBkZWxldGUgcmVzdC5wbGFjZXM7XG4gICAgZGVsZXRlIHJlc3QuY29udGluZW50cztcbiAgICB2YXIgX3RoaXMkc3RhdGUgPSB0aGlzLnN0YXRlLFxuICAgICAgICBhY3RpdmVDb250aW5lbnQgPSBfdGhpcyRzdGF0ZS5hY3RpdmVDb250aW5lbnQsXG4gICAgICAgIGFjdGl2ZUNvb3JkcyA9IF90aGlzJHN0YXRlLmFjdGl2ZUNvb3JkcyxcbiAgICAgICAgYWN0aXZlUGxhY2UgPSBfdGhpcyRzdGF0ZS5hY3RpdmVQbGFjZSxcbiAgICAgICAgY29udGluZW50U3RhdGVzID0gX3RoaXMkc3RhdGUuY29udGluZW50cyxcbiAgICAgICAgZXh0ZW50ID0gX3RoaXMkc3RhdGUuZXh0ZW50LFxuICAgICAgICBvcmlnaW4gPSBfdGhpcyRzdGF0ZS5vcmlnaW4sXG4gICAgICAgIG92ZXIgPSBfdGhpcyRzdGF0ZS5vdmVyLFxuICAgICAgICBwbGFjZVN0YXRlcyA9IF90aGlzJHN0YXRlLnBsYWNlcyxcbiAgICAgICAgeCA9IF90aGlzJHN0YXRlLngsXG4gICAgICAgIHkgPSBfdGhpcyRzdGF0ZS55LFxuICAgICAgICB3aWR0aCA9IF90aGlzJHN0YXRlLndpZHRoLFxuICAgICAgICBoZWlnaHQgPSBfdGhpcyRzdGF0ZS5oZWlnaHQ7XG4gICAgdmFyIGNvbnRpbmVudHMgPSBPYmplY3Qua2V5cyhjb250aW5lbnRTdGF0ZXMpLm1hcChmdW5jdGlvbiAobmFtZSkge1xuICAgICAgdmFyIF9jb250aW5lbnRTdGF0ZXMkbmFtZSA9IGNvbnRpbmVudFN0YXRlc1tuYW1lXSxcbiAgICAgICAgICBhcmVhID0gX2NvbnRpbmVudFN0YXRlcyRuYW1lLmFyZWEsXG4gICAgICAgICAgY29udGluZW50Q29sb3IgPSBfY29udGluZW50U3RhdGVzJG5hbWUuY29sb3IsXG4gICAgICAgICAgZG90cyA9IF9jb250aW5lbnRTdGF0ZXMkbmFtZS5kb3RzLFxuICAgICAgICAgIG9uQ2xpY2sgPSBfY29udGluZW50U3RhdGVzJG5hbWUub25DbGljayxcbiAgICAgICAgICBvbkhvdmVyID0gX2NvbnRpbmVudFN0YXRlcyRuYW1lLm9uSG92ZXI7XG4gICAgICB2YXIgYWN0aXZlID0gYWN0aXZlQ29udGluZW50ICYmIGFjdGl2ZUNvbnRpbmVudCA9PT0gbmFtZTtcbiAgICAgIHZhciBpbnRlcmFjdGl2ZVByb3BzID0ge307XG5cbiAgICAgIGlmIChvbkNsaWNrIHx8IG9uSG92ZXIpIHtcbiAgICAgICAgaW50ZXJhY3RpdmVQcm9wcyA9IGJ1aWxkSW50ZXJhY3RpdmVQcm9wcyhjb250aW5lbnRTdGF0ZXNbbmFtZV0sIGZ1bmN0aW9uIChhY3RpdmF0ZSkge1xuICAgICAgICAgIHJldHVybiBfdGhpczIuc2V0U3RhdGUoe1xuICAgICAgICAgICAgYWN0aXZlQ29udGluZW50OiBhY3RpdmF0ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9LCBhY3RpdmUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImdcIiwgX2V4dGVuZHMoe1xuICAgICAgICBrZXk6IG5hbWVcbiAgICAgIH0sIGludGVyYWN0aXZlUHJvcHMpLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgICAgIHN0cm9rZTogXCJub25lXCIsXG4gICAgICAgIGZpbGw6IFwiI2ZmZlwiLFxuICAgICAgICBmaWxsT3BhY2l0eTogXCIwLjAxXCIsXG4gICAgICAgIGQ6IGFyZWFcbiAgICAgIH0pLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgICAgIGQ6IGRvdHMsXG4gICAgICAgIHN0cm9rZUxpbmVjYXA6IFwicm91bmRcIixcbiAgICAgICAgc3Ryb2tlV2lkdGg6IHBhcnNlTWV0cmljVG9OdW0odGhlbWUud29ybGRNYXAuY29udGluZW50W2FjdGl2ZSA/ICdhY3RpdmUnIDogJ2Jhc2UnXSksXG4gICAgICAgIHN0cm9rZTogbm9ybWFsaXplQ29sb3IoY29udGluZW50Q29sb3IgfHwgY29sb3IgfHwgdGhlbWUud29ybGRNYXAuY29sb3IsIHRoZW1lKVxuICAgICAgfSkpO1xuICAgIH0pO1xuICAgIHZhciBwbGFjZXMgPSBwbGFjZVN0YXRlcy5tYXAoZnVuY3Rpb24gKHBsYWNlKSB7XG4gICAgICB2YXIgcGxhY2VDb2xvciA9IHBsYWNlLmNvbG9yLFxuICAgICAgICAgIGNvb3JkcyA9IHBsYWNlLmNvb3JkcyxcbiAgICAgICAgICBrZXkgPSBwbGFjZS5rZXksXG4gICAgICAgICAgbmFtZSA9IHBsYWNlLm5hbWUsXG4gICAgICAgICAgb25DbGljayA9IHBsYWNlLm9uQ2xpY2ssXG4gICAgICAgICAgb25Ib3ZlciA9IHBsYWNlLm9uSG92ZXIsXG4gICAgICAgICAgcmVzdFBsYWNlID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UocGxhY2UsIFtcImNvbG9yXCIsIFwiY29vcmRzXCIsIFwia2V5XCIsIFwibmFtZVwiLCBcIm9uQ2xpY2tcIiwgXCJvbkhvdmVyXCJdKTtcblxuICAgICAgdmFyIGQgPSBcIk1cIiArIEZBQ1RPUiAqIGNvb3Jkc1swXSArIFwiLCBcIiArIEZBQ1RPUiAqIGNvb3Jkc1sxXSArIFwiIGgwXCI7XG4gICAgICB2YXIgYWN0aXZlID0gYWN0aXZlUGxhY2UgJiYgYWN0aXZlUGxhY2UgPT09IG5hbWU7XG4gICAgICB2YXIgaW50ZXJhY3RpdmVQcm9wcyA9IHt9O1xuXG4gICAgICBpZiAob25DbGljayB8fCBvbkhvdmVyKSB7XG4gICAgICAgIGludGVyYWN0aXZlUHJvcHMgPSBidWlsZEludGVyYWN0aXZlUHJvcHMocGxhY2UsIGZ1bmN0aW9uIChhY3RpdmF0ZSkge1xuICAgICAgICAgIHJldHVybiBfdGhpczIuc2V0U3RhdGUoe1xuICAgICAgICAgICAgYWN0aXZlUGxhY2U6IGFjdGl2YXRlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sIGFjdGl2ZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCBfZXh0ZW5kcyh7XG4gICAgICAgIGtleToga2V5LFxuICAgICAgICBzdHJva2VMaW5lY2FwOiBcInJvdW5kXCIsXG4gICAgICAgIHN0cm9rZVdpZHRoOiBwYXJzZU1ldHJpY1RvTnVtKHRoZW1lLndvcmxkTWFwLnBsYWNlW2FjdGl2ZSA/ICdhY3RpdmUnIDogJ2Jhc2UnXSksXG4gICAgICAgIHN0cm9rZTogbm9ybWFsaXplQ29sb3IocGxhY2VDb2xvciB8fCBjb2xvciB8fCB0aGVtZS53b3JsZE1hcC5jb2xvciwgdGhlbWUpXG4gICAgICB9LCBpbnRlcmFjdGl2ZVByb3BzLCByZXN0UGxhY2UsIHtcbiAgICAgICAgZDogZFxuICAgICAgfSkpO1xuICAgIH0pOyAvLyBJZiB0aGUgY2FsbGVyIGlzIGludGVyZXN0ZWQgaW4gb25TZWxlY3RQbGFjZSBjaGFuZ2VzLCB0cmFjayB3aGVyZSB0aGVcblxuICAgIHZhciBpbnRlcmFjdGl2ZVByb3BzID0ge307XG5cbiAgICBpZiAob25TZWxlY3RQbGFjZSkge1xuICAgICAgaW50ZXJhY3RpdmVQcm9wcyA9IHtcbiAgICAgICAgb25Nb3VzZU92ZXI6IHRoaXMub25Nb3VzZU92ZXIsXG4gICAgICAgIG9uTW91c2VNb3ZlOiBvdmVyID8gdGhpcy5vbk1vdXNlTW92ZSA6IHVuZGVmaW5lZCxcbiAgICAgICAgb25Nb3VzZUxlYXZlOiB0aGlzLm9uTW91c2VMZWF2ZVxuICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXIgYWN0aXZlO1xuXG4gICAgaWYgKGFjdGl2ZUNvb3Jkcykge1xuICAgICAgdmFyIGQgPSBcIk1cIiArIEZBQ1RPUiAqIGFjdGl2ZUNvb3Jkc1swXSArIFwiLCBcIiArIEZBQ1RPUiAqIGFjdGl2ZUNvb3Jkc1sxXSArIFwiIGgwXCI7XG4gICAgICBhY3RpdmUgPSBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZ1wiLCB7XG4gICAgICAgIHN0cm9rZTogXCJub25lXCIsXG4gICAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgICBmaWxsUnVsZTogXCJldmVub2RkXCIsXG4gICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgICAgcmV0dXJuIG9uU2VsZWN0UGxhY2UoY29vcmRUb0xhdExvbihhY3RpdmVDb29yZHMsIG9yaWdpbiwgZXh0ZW50KSk7XG4gICAgICAgIH1cbiAgICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICAgICAgc3Ryb2tlTGluZWNhcDogXCJyb3VuZFwiLFxuICAgICAgICBzdHJva2VXaWR0aDogcGFyc2VNZXRyaWNUb051bSh0aGVtZS53b3JsZE1hcC5wbGFjZS5hY3RpdmUpLFxuICAgICAgICBzdHJva2U6IG5vcm1hbGl6ZUNvbG9yKGhvdmVyQ29sb3IgfHwgY29sb3IgfHwgdGhlbWUud29ybGRNYXAuaG92ZXIuY29sb3IsIHRoZW1lKSxcbiAgICAgICAgZDogZFxuICAgICAgfSkpO1xuICAgIH1cblxuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZFdvcmxkTWFwLCBfZXh0ZW5kcyh7XG4gICAgICB2aWV3Qm94OiB4ICsgXCIgXCIgKyB5ICsgXCIgXCIgKyB3aWR0aCArIFwiIFwiICsgaGVpZ2h0LFxuICAgICAgcHJlc2VydmVBc3BlY3RSYXRpbzogXCJ4TWluWU1pbiBtZWV0XCIsXG4gICAgICBmaWxsUHJvcDogZmlsbCxcbiAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgIGhlaWdodDogaGVpZ2h0XG4gICAgfSwgaW50ZXJhY3RpdmVQcm9wcywgcmVzdCksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJnXCIsIHtcbiAgICAgIHJlZjogZnVuY3Rpb24gcmVmKF9yZWY1KSB7XG4gICAgICAgIF90aGlzMi5jb250YWluZXJSZWYgPSBfcmVmNTtcbiAgICAgIH0sXG4gICAgICBzdHJva2U6IFwibm9uZVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICBmaWxsUnVsZTogXCJldmVub2RkXCJcbiAgICB9LCBjb250aW5lbnRzKSwgcGxhY2VzLCBhY3RpdmUpO1xuICB9O1xuXG4gIHJldHVybiBXb3JsZE1hcDtcbn0oQ29tcG9uZW50KTtcblxuV29ybGRNYXAuZGVmYXVsdFByb3BzID0ge307XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoV29ybGRNYXAuZGVmYXVsdFByb3BzLCBkZWZhdWx0UHJvcHMpO1xudmFyIFdvcmxkTWFwRG9jO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZ2xvYmFsLXJlcXVpcmVcbiAgV29ybGRNYXBEb2MgPSByZXF1aXJlKCcuL2RvYycpLmRvYyhXb3JsZE1hcCk7XG59XG5cbnZhciBXb3JsZE1hcFdyYXBwZXIgPSBjb21wb3NlKHdpdGhUaGVtZSkoV29ybGRNYXBEb2MgfHwgV29ybGRNYXApO1xuZXhwb3J0IHsgV29ybGRNYXBXcmFwcGVyIGFzIFdvcmxkTWFwIH07IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuaW1wb3J0IHsgZGVzY3JpYmUsIFByb3BUeXBlcyB9IGZyb20gJ3JlYWN0LWRlc2MnO1xuaW1wb3J0IHsgY29sb3JQcm9wVHlwZSwgZ2VuZXJpY1Byb3BzLCBnZXRBdmFpbGFibGVBdEJhZGdlIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuZXhwb3J0IHZhciB0aGVtZURvYyA9IHtcbiAgJ3dvcmxkTWFwLmNvbG9yJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGNvbG9yIGZvciBlYWNoIGluZGl2aWR1YWwgZG90IHdoZW4gYSBjb2xvciBpcyBub3QgcGFzc2VkIGFzIGEgcHJvcCcsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiAnbGlnaHQtMydcbiAgfSxcbiAgJ3dvcmxkTWFwLmNvbnRpbmVudC5hY3RpdmUnOiB7XG4gICAgZGVzY3JpcHRpb246IFwiVGhlIHNpemUgb2YgdGhlIHZpc3VhbCBkb3RzIGJlbG9uZ2luZyB0byBhIGNvbnRpbmVudCB3aGVuIHRoZVxcbmNvbnRpbmVudCBpcyBiZWluZyBob3ZlcmVkLlwiLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogJzhweCdcbiAgfSxcbiAgJ3dvcmxkTWFwLmNvbnRpbmVudC5iYXNlJzoge1xuICAgIGRlc2NyaXB0aW9uOiBcIlRoZSBzaXplIG9mIHRoZSB2aXN1YWwgZG90cyBiZWxvbmdpbmcgdG8gYSBjb250aW5lbnQgdGhhdCBpc1xcbm5vdCBiZWluZyBob3ZlcmVkLlwiLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogJzZweCdcbiAgfSxcbiAgJ3dvcmxkTWFwLmhvdmVyLmNvbG9yJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGNvbG9yIGZvciBhbiBpbmRpdmlkdWFsIGRvdCB3aGVuIGl0IGlzIGJlaW5nIGhvdmVyZWQnLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogJ2xpZ2h0LTQnXG4gIH0sXG4gICd3b3JsZE1hcC5wbGFjZS5hY3RpdmUnOiB7XG4gICAgZGVzY3JpcHRpb246IFwiVGhlIHNpemUgb2YgYSB2aXN1YWwgZG90IGZvciBhbiBpbmRpdmlkdWFsIHBsYWNlIGluIHRoZSBtYXAgXFxud2hlbiBpdCBpcyBiZWluZyBob3ZlcmVkLlwiLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogJzIwcHgnXG4gIH0sXG4gICd3b3JsZE1hcC5wbGFjZS5iYXNlJzoge1xuICAgIGRlc2NyaXB0aW9uOiBcIlRoZSBzaXplIG9mIHRoZSB2aXN1YWwgZG90IHJlcHJlc2VudGluZyBhbiBpbmRpdmlkdWFsIHBsYWNlIFxcbmluIHRoZSBtYXAgd2hlbiBpdCBpcyBub3QgYmVpbmcgaG92ZXJlZC5cIixcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICc4cHgnXG4gIH0sXG4gICd3b3JsZE1hcC5leHRlbmQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdBbnkgYWRkaXRpb25hbCBzdHlsZSBmb3IgdGhlIFdvcmxkTWFwLicsXG4gICAgdHlwZTogJ3N0cmluZyB8IChwcm9wcykgPT4ge30nLFxuICAgIGRlZmF1bHRWYWx1ZTogdW5kZWZpbmVkXG4gIH1cbn07XG5leHBvcnQgdmFyIGRvYyA9IGZ1bmN0aW9uIGRvYyhXb3JsZE1hcCkge1xuICB2YXIgRG9jdW1lbnRlZFdvcmxkTWFwID0gZGVzY3JpYmUoV29ybGRNYXApLmF2YWlsYWJsZUF0KGdldEF2YWlsYWJsZUF0QmFkZ2UoJ1dvcmxkTWFwJykpLmRlc2NyaXB0aW9uKCdBIG1hcCBvZiB0aGUgd29ybGQsIG9yIGEgY29udGluZW50LicpLnVzYWdlKFwiaW1wb3J0IHsgV29ybGRNYXAgfSBmcm9tICdncm9tbWV0JztcXG48V29ybGRNYXAgLz5cIikuaW50cmluc2ljRWxlbWVudCgnc3ZnJyk7XG4gIERvY3VtZW50ZWRXb3JsZE1hcC5wcm9wVHlwZXMgPSBfZXh0ZW5kcyh7fSwgZ2VuZXJpY1Byb3BzLCB7XG4gICAgY29sb3I6IGNvbG9yUHJvcFR5cGUuZGVzY3JpcHRpb24oJ0RlZmF1bHQgY29sb3InKSxcbiAgICBjb250aW5lbnRzOiBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgY29sb3I6IGNvbG9yUHJvcFR5cGUsXG4gICAgICBuYW1lOiBQcm9wVHlwZXMub25lT2YoWydBZnJpY2EnLCAnQXNpYScsICdBdXN0cmFsaWEnLCAnRXVyb3BlJywgJ05vcnRoIEFtZXJpY2EnLCAnU291dGggQW1lcmljYSddKS5pc1JlcXVpcmVkLFxuICAgICAgb25DbGljazogUHJvcFR5cGVzLmZ1bmMsXG4gICAgICBvbkhvdmVyOiBQcm9wVHlwZXMuZnVuY1xuICAgIH0pKS5kZXNjcmlwdGlvbignQ29udGluZW50IGRldGFpbHMuJyksXG4gICAgZmlsbDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFsnaG9yaXpvbnRhbCcsICd2ZXJ0aWNhbCddKSwgUHJvcFR5cGVzLmJvb2xdKS5kZXNjcmlwdGlvbignV2hldGhlciB0aGUgd2lkdGggYW5kL29yIGhlaWdodCBzaG91bGQgZmlsbCB0aGUgY29udGFpbmVyLicpLFxuICAgIG9uU2VsZWN0UGxhY2U6IFByb3BUeXBlcy5mdW5jLmRlc2NyaXB0aW9uKFwiQ2FsbGVkIHdoZW4gdGhlIHVzZXIgY2xpY2tzIG9uIGEgcGxhY2UuXFxuICAgICAgICBJdCBpcyBwYXNzZWQgdGhlIGxvY2F0aW9uLlwiKSxcbiAgICBwbGFjZXM6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICBjb2xvcjogY29sb3JQcm9wVHlwZSxcbiAgICAgIG5hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgICAvLyBmb3IgYTExeSBhcmlhLWxhYmVsXG4gICAgICBsb2NhdGlvbjogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm51bWJlcikuaXNSZXF1aXJlZCxcbiAgICAgIG9uQ2xpY2s6IFByb3BUeXBlcy5mdW5jLFxuICAgICAgb25Ib3ZlcjogUHJvcFR5cGVzLmZ1bmNcbiAgICB9KSkuZGVzY3JpcHRpb24oJ1BsYWNlIGRldGFpbHMuJyksXG4gICAgaG92ZXJDb2xvcjogY29sb3JQcm9wVHlwZS5kZXNjcmlwdGlvbignQ29sb3Igd2hlbiBob3ZlcmluZyBvdmVyIHBsYWNlcyB3aGlsZSBzZWxlY3RpbmcuJylcbiAgfSk7XG4gIHJldHVybiBEb2N1bWVudGVkV29ybGRNYXA7XG59OyIsImV4cG9ydCB7IFdvcmxkTWFwIH0gZnJvbSAnLi9Xb3JsZE1hcCc7IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzTG9vc2Uoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzLnByb3RvdHlwZSk7IHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzOyBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbi8qIGVzbGludC1kaXNhYmxlIHJlYWN0L25vLW11bHRpLWNvbXAgKi9cbmltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgZ2V0RGlzcGxheU5hbWUgZnJvbSAncmVjb21wb3NlL2dldERpc3BsYXlOYW1lJztcbmltcG9ydCBob2lzdE5vblJlYWN0U3RhdGljcyBmcm9tICdob2lzdC1ub24tcmVhY3Qtc3RhdGljcyc7XG5pbXBvcnQgeyB3aXRoVGhlbWUgfSBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBBbm5vdW5jZUNvbnRleHQgfSBmcm9tICcuLi9jb250ZXh0cyc7XG5leHBvcnQgdmFyIHdpdGhGb2N1cyA9IGZ1bmN0aW9uIHdpdGhGb2N1cyhfdGVtcCkge1xuICB2YXIgX3JlZiA9IF90ZW1wID09PSB2b2lkIDAgPyB7fSA6IF90ZW1wLFxuICAgICAgZm9jdXNXaXRoTW91c2UgPSBfcmVmLmZvY3VzV2l0aE1vdXNlO1xuXG4gIHJldHVybiBmdW5jdGlvbiAoV3JhcHBlZENvbXBvbmVudCkge1xuICAgIHZhciBGb2N1c2FibGVDb21wb25lbnQgPVxuICAgIC8qI19fUFVSRV9fKi9cbiAgICBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAgICAgX2luaGVyaXRzTG9vc2UoRm9jdXNhYmxlQ29tcG9uZW50LCBfQ29tcG9uZW50KTtcblxuICAgICAgRm9jdXNhYmxlQ29tcG9uZW50LmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9IGZ1bmN0aW9uIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhuZXh0UHJvcHMsIHByZXZTdGF0ZSkge1xuICAgICAgICB2YXIgd2l0aEZvY3VzUmVmID0gbmV4dFByb3BzLndpdGhGb2N1c1JlZjtcbiAgICAgICAgdmFyIHdyYXBwZWRSZWYgPSBwcmV2U3RhdGUud3JhcHBlZFJlZjtcbiAgICAgICAgdmFyIG5leHRXcmFwcGVkUmVmID0gd2l0aEZvY3VzUmVmIHx8IHdyYXBwZWRSZWY7XG5cbiAgICAgICAgaWYgKG5leHRXcmFwcGVkUmVmICE9PSB3cmFwcGVkUmVmKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHdyYXBwZWRSZWY6IG5leHRXcmFwcGVkUmVmXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfTtcblxuICAgICAgLy8gbm90IGluIHN0YXRlIGJlY2F1c2UgaXQgZG9lc24ndCBhZmZlY3QgcmVuZGVyaW5nXG4gICAgICBmdW5jdGlvbiBGb2N1c2FibGVDb21wb25lbnQocHJvcHMpIHtcbiAgICAgICAgdmFyIF90aGlzO1xuXG4gICAgICAgIF90aGlzID0gX0NvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzKSB8fCB0aGlzO1xuXG4gICAgICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJtb3VzZUFjdGl2ZVwiLCBmYWxzZSk7XG5cbiAgICAgICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcImNvbXBvbmVudERpZE1vdW50XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgd3JhcHBlZFJlZiA9IF90aGlzLnN0YXRlLndyYXBwZWRSZWY7IC8vIGNvbXBvbmVudHMgc3VjaCBhcyBhbmNob3JzIGFuZCBidXR0b25zIHNob3VsZCBub3QgcmV0YWluIGZvY3VzIGFmdGVyXG4gICAgICAgICAgLy8gYmVpbmcgY2xpY2tlZCB3aGlsZSB0ZXh0LWJhc2VkIGNvbXBvbmVudHMgc2hvdWxkXG5cbiAgICAgICAgICBpZiAoIWZvY3VzV2l0aE1vdXNlKSB7XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgX3RoaXMuaGFuZGxlQWN0aXZlTW91c2UpO1xuICAgICAgICAgIH0gLy8gd2UgY291bGQgYmUgdXNpbmcgb25Gb2N1cyBpbiB0aGUgd3JhcHBlciBub2RlIGl0c2VsZlxuICAgICAgICAgIC8vIGJ1dCByZWFjdCBkb2VzIG5vdCBpbnZva2UgaXQgaWYgeW91IHByb2dyYW1pY2FsbHlcbiAgICAgICAgICAvLyBjYWxsIHdyYXBwZXJOb2RlLmZvY3VzKCkgaW5zaWRlIGNvbXBvbmVudFdpbGxVbm1vdW50XG4gICAgICAgICAgLy8gc2VlIERyb3AgXCJ0aGlzLm9yaWdpbmFsRm9jdXNlZEVsZW1lbnQuZm9jdXMoKTtcIiBmb3IgcmVmZXJlbmNlXG5cblxuICAgICAgICAgIHZhciB3cmFwcGVyTm9kZSA9IHdyYXBwZWRSZWYuY3VycmVudDtcblxuICAgICAgICAgIGlmICh3cmFwcGVyTm9kZSAmJiB3cmFwcGVyTm9kZS5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgICAgICAgICB3cmFwcGVyTm9kZS5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIF90aGlzLnNldEZvY3VzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJjb21wb25lbnRXaWxsVW5tb3VudFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIHdyYXBwZWRSZWYgPSBfdGhpcy5zdGF0ZS53cmFwcGVkUmVmO1xuICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBfdGhpcy5oYW5kbGVBY3RpdmVNb3VzZSk7XG4gICAgICAgICAgdmFyIHdyYXBwZXJOb2RlID0gd3JhcHBlZFJlZi5jdXJyZW50O1xuXG4gICAgICAgICAgaWYgKHdyYXBwZXJOb2RlICYmIHdyYXBwZXJOb2RlLmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgICAgIHdyYXBwZXJOb2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgX3RoaXMuc2V0Rm9jdXMpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNsZWFyVGltZW91dChfdGhpcy5mb2N1c1RpbWVyKTtcbiAgICAgICAgICBjbGVhclRpbWVvdXQoX3RoaXMubW91c2VUaW1lcik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJoYW5kbGVBY3RpdmVNb3VzZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgLy8gZnJvbSBodHRwczovL21hcmN5c3V0dG9uLmNvbS9idXR0b24tZm9jdXMtaGVsbC9cbiAgICAgICAgICBfdGhpcy5tb3VzZUFjdGl2ZSA9IHRydWU7IC8vIHRoaXMgYXZvaWRzIHNob3dpbmcgZm9jdXMgd2hlbiBjbGlja2luZyBhcm91bmRcblxuICAgICAgICAgIGNsZWFyVGltZW91dChfdGhpcy5tb3VzZVRpbWVyKTsgLy8gZW1waXJpY2FsIG51bWJlciB0byByZXNldCBtb3VzZUFjdGl2ZSBhZnRlclxuICAgICAgICAgIC8vIHNvbWUgdGltZSBoYXMgcGFzc2VkIHdpdGhvdXQgbW91c2Vkb3duXG5cbiAgICAgICAgICBfdGhpcy5tb3VzZVRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5tb3VzZUFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgIH0sIDE1MCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJzZXRGb2N1c1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgLy8gZGVsYXkgc2V0dGluZyBmb2N1cyB0byBhdm9pZCBpbnRlcnVwdGluZyBldmVudHMsXG4gICAgICAgICAgLy8gMW1zIHdhcyBjaG9zZW4gZW1waXJpY2FsbHkgYmFzZWQgb24gaWUxMSB1c2luZyBTZWxlY3QgYW5kIFRleHRJbnB1dFxuICAgICAgICAgIC8vIHdpdGggYW5kIHdpdGhvdXQgYSBGb3JtRmllbGQuXG4gICAgICAgICAgY2xlYXJUaW1lb3V0KF90aGlzLmZvY3VzVGltZXIpO1xuICAgICAgICAgIF90aGlzLmZvY3VzVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBmb2N1cyA9IF90aGlzLnN0YXRlLmZvY3VzO1xuXG4gICAgICAgICAgICBpZiAoIWZvY3VzICYmICFfdGhpcy5tb3VzZUFjdGl2ZSkge1xuICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgZm9jdXM6IHRydWVcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgMSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJyZXNldEZvY3VzXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQoX3RoaXMuZm9jdXNUaW1lcik7XG4gICAgICAgICAgX3RoaXMuZm9jdXNUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGZvY3VzID0gX3RoaXMuc3RhdGUuZm9jdXM7XG5cbiAgICAgICAgICAgIGlmIChmb2N1cykge1xuICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgZm9jdXM6IGZhbHNlXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIDEpO1xuICAgICAgICB9KTtcblxuICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICBmb2N1czogZmFsc2UsXG4gICAgICAgICAgd3JhcHBlZFJlZjogUmVhY3QuY3JlYXRlUmVmKClcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgfVxuXG4gICAgICB2YXIgX3Byb3RvID0gRm9jdXNhYmxlQ29tcG9uZW50LnByb3RvdHlwZTtcblxuICAgICAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgdmFyIF90aGlzJHByb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIF9vbkZvY3VzID0gX3RoaXMkcHJvcHMub25Gb2N1cyxcbiAgICAgICAgICAgIF9vbkJsdXIgPSBfdGhpcyRwcm9wcy5vbkJsdXIsXG4gICAgICAgICAgICB3aXRoRm9jdXNSZWYgPSBfdGhpcyRwcm9wcy53aXRoRm9jdXNSZWYsXG4gICAgICAgICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3RoaXMkcHJvcHMsIFtcIm9uRm9jdXNcIiwgXCJvbkJsdXJcIiwgXCJ3aXRoRm9jdXNSZWZcIl0pO1xuXG4gICAgICAgIHZhciBfdGhpcyRzdGF0ZSA9IHRoaXMuc3RhdGUsXG4gICAgICAgICAgICBmb2N1cyA9IF90aGlzJHN0YXRlLmZvY3VzLFxuICAgICAgICAgICAgd3JhcHBlZFJlZiA9IF90aGlzJHN0YXRlLndyYXBwZWRSZWY7XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFdyYXBwZWRDb21wb25lbnQsIF9leHRlbmRzKHtcbiAgICAgICAgICByZWY6IHdyYXBwZWRSZWYsXG4gICAgICAgICAgZm9jdXM6IGZvY3VzXG4gICAgICAgIH0sIHJlc3QsIHtcbiAgICAgICAgICBvbkZvY3VzOiBmdW5jdGlvbiBvbkZvY3VzKGV2ZW50KSB7XG4gICAgICAgICAgICBfdGhpczIuc2V0Rm9jdXMoKTtcblxuICAgICAgICAgICAgaWYgKF9vbkZvY3VzKSB7XG4gICAgICAgICAgICAgIF9vbkZvY3VzKGV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIG9uQmx1cjogZnVuY3Rpb24gb25CbHVyKGV2ZW50KSB7XG4gICAgICAgICAgICBfdGhpczIucmVzZXRGb2N1cygpO1xuXG4gICAgICAgICAgICBpZiAoX29uQmx1cikge1xuICAgICAgICAgICAgICBfb25CbHVyKGV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBGb2N1c2FibGVDb21wb25lbnQ7XG4gICAgfShDb21wb25lbnQpO1xuXG4gICAgdmFyIEZvcndhcmRSZWYgPSBSZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChGb2N1c2FibGVDb21wb25lbnQsIF9leHRlbmRzKHt9LCBwcm9wcywge1xuICAgICAgICB3aXRoRm9jdXNSZWY6IHJlZlxuICAgICAgfSkpO1xuICAgIH0pO1xuICAgIEZvcndhcmRSZWYuZGlzcGxheU5hbWUgPSBnZXREaXNwbGF5TmFtZShXcmFwcGVkQ29tcG9uZW50KTtcbiAgICBGb3J3YXJkUmVmLm5hbWUgPSBGb3J3YXJkUmVmLmRpc3BsYXlOYW1lO1xuICAgIEZvcndhcmRSZWYuZGVmYXVsdFByb3BzID0gV3JhcHBlZENvbXBvbmVudC5kZWZhdWx0UHJvcHM7XG4gICAgaG9pc3ROb25SZWFjdFN0YXRpY3MoRm9yd2FyZFJlZiwgV3JhcHBlZENvbXBvbmVudCk7XG4gICAgcmV0dXJuIEZvcndhcmRSZWY7XG4gIH07XG59O1xuZXhwb3J0IHZhciB3aXRoRm9yd2FyZFJlZiA9IGZ1bmN0aW9uIHdpdGhGb3J3YXJkUmVmKFdyYXBwZWRDb21wb25lbnQpIHtcbiAgdmFyIEZvcndhcmRSZWZDb21wb25lbnQgPSBSZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoV3JhcHBlZENvbXBvbmVudCwgX2V4dGVuZHMoe1xuICAgICAgZm9yd2FyZFJlZjogcmVmXG4gICAgfSwgcHJvcHMpKTtcbiAgfSk7XG4gIEZvcndhcmRSZWZDb21wb25lbnQuZGlzcGxheU5hbWUgPSBnZXREaXNwbGF5TmFtZShXcmFwcGVkQ29tcG9uZW50KTtcbiAgRm9yd2FyZFJlZkNvbXBvbmVudC5uYW1lID0gRm9yd2FyZFJlZkNvbXBvbmVudC5kaXNwbGF5TmFtZTtcbiAgRm9yd2FyZFJlZkNvbXBvbmVudC5kZWZhdWx0UHJvcHMgPSBXcmFwcGVkQ29tcG9uZW50LmRlZmF1bHRQcm9wcztcbiAgaG9pc3ROb25SZWFjdFN0YXRpY3MoRm9yd2FyZFJlZkNvbXBvbmVudCwgV3JhcHBlZENvbXBvbmVudCk7XG4gIHJldHVybiBGb3J3YXJkUmVmQ29tcG9uZW50O1xufTtcbmV4cG9ydCB2YXIgd2l0aEFubm91bmNlID0gZnVuY3Rpb24gd2l0aEFubm91bmNlKFdyYXBwZWRDb21wb25lbnQpIHtcbiAgdmFyIEZvcndhcmRSZWYgPSBSZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQW5ub3VuY2VDb250ZXh0LkNvbnN1bWVyLCBudWxsLCBmdW5jdGlvbiAoYW5ub3VuY2UpIHtcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFdyYXBwZWRDb21wb25lbnQsIF9leHRlbmRzKHt9LCBwcm9wcywge1xuICAgICAgICBhbm5vdW5jZTogYW5ub3VuY2UsXG4gICAgICAgIHJlZjogcmVmXG4gICAgICB9KSk7XG4gICAgfSk7XG4gIH0pO1xuICBGb3J3YXJkUmVmLmRpc3BsYXlOYW1lID0gZ2V0RGlzcGxheU5hbWUoV3JhcHBlZENvbXBvbmVudCk7XG4gIEZvcndhcmRSZWYubmFtZSA9IEZvcndhcmRSZWYuZGlzcGxheU5hbWU7XG4gIEZvcndhcmRSZWYuZGVmYXVsdFByb3BzID0gV3JhcHBlZENvbXBvbmVudC5kZWZhdWx0UHJvcHM7XG4gIGhvaXN0Tm9uUmVhY3RTdGF0aWNzKEZvcndhcmRSZWYsIFdyYXBwZWRDb21wb25lbnQpO1xuICByZXR1cm4gRm9yd2FyZFJlZjtcbn07XG5leHBvcnQgeyB3aXRoVGhlbWUgfTsiLCJleHBvcnQgKiBmcm9tICcuL0FjY29yZGlvbic7XG5leHBvcnQgKiBmcm9tICcuL0FjY29yZGlvblBhbmVsJztcbmV4cG9ydCAqIGZyb20gJy4vQW5jaG9yJztcbmV4cG9ydCAqIGZyb20gJy4vQm94JztcbmV4cG9ydCAqIGZyb20gJy4vQnV0dG9uJztcbmV4cG9ydCAqIGZyb20gJy4vQ2FsZW5kYXInO1xuZXhwb3J0ICogZnJvbSAnLi9DYXJvdXNlbCc7XG5leHBvcnQgKiBmcm9tICcuL0NoYXJ0JztcbmV4cG9ydCAqIGZyb20gJy4vQ2hlY2tCb3gnO1xuZXhwb3J0ICogZnJvbSAnLi9DbG9jayc7XG5leHBvcnQgKiBmcm9tICcuL0NvbGxhcHNpYmxlJztcbmV4cG9ydCAqIGZyb20gJy4vRGF0YVRhYmxlJztcbmV4cG9ydCAqIGZyb20gJy4vRGlhZ3JhbSc7XG5leHBvcnQgKiBmcm9tICcuL0Rpc3RyaWJ1dGlvbic7XG5leHBvcnQgKiBmcm9tICcuL0Ryb3AnO1xuZXhwb3J0ICogZnJvbSAnLi9Ecm9wQnV0dG9uJztcbmV4cG9ydCAqIGZyb20gJy4vRm9vdGVyJztcbmV4cG9ydCAqIGZyb20gJy4vRm9ybSc7XG5leHBvcnQgKiBmcm9tICcuL0Zvcm1GaWVsZCc7XG5leHBvcnQgKiBmcm9tICcuL0dyaWQnO1xuZXhwb3J0ICogZnJvbSAnLi9Hcm9tbWV0JztcbmV4cG9ydCAqIGZyb20gJy4vSGVhZGVyJztcbmV4cG9ydCAqIGZyb20gJy4vSGVhZGluZyc7XG5leHBvcnQgKiBmcm9tICcuL0ltYWdlJztcbmV4cG9ydCAqIGZyb20gJy4vSW5maW5pdGVTY3JvbGwnO1xuZXhwb3J0ICogZnJvbSAnLi9LZXlib2FyZCc7XG5leHBvcnQgKiBmcm9tICcuL0xheWVyJztcbmV4cG9ydCAqIGZyb20gJy4vTGlzdCc7XG5leHBvcnQgKiBmcm9tICcuL01haW4nO1xuZXhwb3J0ICogZnJvbSAnLi9NYXJrZG93bic7XG5leHBvcnQgKiBmcm9tICcuL01hc2tlZElucHV0JztcbmV4cG9ydCAqIGZyb20gJy4vTWVudSc7XG5leHBvcnQgKiBmcm9tICcuL01ldGVyJztcbmV4cG9ydCAqIGZyb20gJy4vUGFyYWdyYXBoJztcbmV4cG9ydCAqIGZyb20gJy4vUmFkaW9CdXR0b24nO1xuZXhwb3J0ICogZnJvbSAnLi9SYWRpb0J1dHRvbkdyb3VwJztcbmV4cG9ydCAqIGZyb20gJy4vUmFuZ2VJbnB1dCc7XG5leHBvcnQgKiBmcm9tICcuL1JhbmdlU2VsZWN0b3InO1xuZXhwb3J0ICogZnJvbSAnLi9Sb3V0ZWRBbmNob3InO1xuZXhwb3J0ICogZnJvbSAnLi9Sb3V0ZWRCdXR0b24nO1xuZXhwb3J0ICogZnJvbSAnLi9TZWxlY3QnO1xuZXhwb3J0ICogZnJvbSAnLi9Ta2lwTGluayc7XG5leHBvcnQgKiBmcm9tICcuL1NraXBMaW5rcyc7XG5leHBvcnQgKiBmcm9tICcuL1NraXBMaW5rVGFyZ2V0JztcbmV4cG9ydCAqIGZyb20gJy4vU3RhY2snO1xuZXhwb3J0ICogZnJvbSAnLi9UYWJsZSc7XG5leHBvcnQgKiBmcm9tICcuL1RhYmxlQm9keSc7XG5leHBvcnQgKiBmcm9tICcuL1RhYmxlQ2VsbCc7XG5leHBvcnQgKiBmcm9tICcuL1RhYmxlRm9vdGVyJztcbmV4cG9ydCAqIGZyb20gJy4vVGFibGVIZWFkZXInO1xuZXhwb3J0ICogZnJvbSAnLi9UYWJsZVJvdyc7XG5leHBvcnQgKiBmcm9tICcuL1RhYic7XG5leHBvcnQgKiBmcm9tICcuL1RhYnMnO1xuZXhwb3J0ICogZnJvbSAnLi9UZXh0JztcbmV4cG9ydCAqIGZyb20gJy4vVGV4dEFyZWEnO1xuZXhwb3J0ICogZnJvbSAnLi9UZXh0SW5wdXQnO1xuZXhwb3J0ICogZnJvbSAnLi9WaWRlbyc7XG5leHBvcnQgKiBmcm9tICcuL1dvcmxkTWFwJzsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG52YXIgY3JlYXRlQW5ub3VuY2VyID0gZnVuY3Rpb24gY3JlYXRlQW5ub3VuY2VyKCkge1xuICB2YXIgYW5ub3VuY2VyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGFubm91bmNlci5zdHlsZS5sZWZ0ID0gJy0xMDAlJztcbiAgYW5ub3VuY2VyLnN0eWxlLnJpZ2h0ID0gJzEwMCUnO1xuICBhbm5vdW5jZXIuc3R5bGUucG9zaXRpb24gPSAnZml4ZWQnO1xuICBhbm5vdW5jZXIuc3R5bGVbJ3otaW5kZXgnXSA9ICctMSc7XG4gIGRvY3VtZW50LmJvZHkuaW5zZXJ0QmVmb3JlKGFubm91bmNlciwgZG9jdW1lbnQuYm9keS5maXJzdENoaWxkKTtcbiAgcmV0dXJuIGFubm91bmNlcjtcbn07XG5cbmV4cG9ydCB2YXIgQW5ub3VuY2VDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dChmdW5jdGlvbiAobWVzc2FnZSwgbW9kZSwgdGltZW91dCkge1xuICBpZiAobW9kZSA9PT0gdm9pZCAwKSB7XG4gICAgbW9kZSA9ICdwb2xpdGUnO1xuICB9XG5cbiAgaWYgKHRpbWVvdXQgPT09IHZvaWQgMCkge1xuICAgIHRpbWVvdXQgPSA1MDA7XG4gIH1cblxuICAvLyB3ZSBvbmx5IGNyZWF0ZSBhIG5ldyBjb250YWluZXIgaWYgd2UgZG9uJ3QgaGF2ZSBvbmUgYWxyZWFkeVxuICAvLyB3ZSBjcmVhdGUgYSBzZXBhcmF0ZSBub2RlIHNvIHRoYXQgZ3JvbW1ldCBkb2VzIG5vdCBzZXQgYXJpYS1oaWRkZW4gdG8gaXRcbiAgdmFyIGFubm91bmNlciA9IGRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvcignW2FyaWEtbGl2ZV0nKSB8fCBjcmVhdGVBbm5vdW5jZXIoKTtcbiAgYW5ub3VuY2VyLnNldEF0dHJpYnV0ZSgnYXJpYS1saXZlJywgJ29mZicpO1xuICBhbm5vdW5jZXIuaW5uZXJIVE1MID0gbWVzc2FnZTtcbiAgYW5ub3VuY2VyLnNldEF0dHJpYnV0ZSgnYXJpYS1saXZlJywgbW9kZSk7XG4gIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgIGFubm91bmNlci5pbm5lckhUTUwgPSAnJztcbiAgfSwgdGltZW91dCk7XG59KTsiLCJleHBvcnQgeyBBbm5vdW5jZUNvbnRleHQgfSBmcm9tICcuL0Fubm91bmNlQ29udGV4dCc7IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmV4cG9ydCB2YXIgUmVzcG9uc2l2ZUNvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KHVuZGVmaW5lZCk7IiwiZXhwb3J0IHsgUmVzcG9uc2l2ZUNvbnRleHQgfSBmcm9tICcuL1Jlc3BvbnNpdmVDb250ZXh0JzsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB7IFRoZW1lQ29udGV4dCB9IGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCB7IGRlZXBNZXJnZSB9IGZyb20gJy4uLy4uL3V0aWxzJztcblxuVGhlbWVDb250ZXh0LkV4dGVuZCA9IGZ1bmN0aW9uIChfcmVmKSB7XG4gIHZhciBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW4sXG4gICAgICB2YWx1ZSA9IF9yZWYudmFsdWU7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFRoZW1lQ29udGV4dC5Db25zdW1lciwgbnVsbCwgZnVuY3Rpb24gKHRoZW1lKSB7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGhlbWVDb250ZXh0LlByb3ZpZGVyLCB7XG4gICAgICB2YWx1ZTogZGVlcE1lcmdlKHRoZW1lLCB2YWx1ZSlcbiAgICB9LCBjaGlsZHJlbik7XG4gIH0pO1xufTtcblxuVGhlbWVDb250ZXh0LkV4dGVuZC5wcm9wVHlwZXMgPSB7XG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMubm9kZS5pc1JlcXVpcmVkLFxuICB2YWx1ZTogUHJvcFR5cGVzLnNoYXBlKHt9KS5pc1JlcXVpcmVkXG59O1xuZXhwb3J0IHsgVGhlbWVDb250ZXh0IH07IiwiZXhwb3J0IHsgVGhlbWVDb250ZXh0IH0gZnJvbSAnLi9UaGVtZUNvbnRleHQnOyIsImV4cG9ydCAqIGZyb20gJy4vQW5ub3VuY2VDb250ZXh0JztcbmV4cG9ydCAqIGZyb20gJy4vUmVzcG9uc2l2ZUNvbnRleHQnO1xuZXhwb3J0ICogZnJvbSAnLi9UaGVtZUNvbnRleHQnOyIsImltcG9ydCB7IGRlZXBNZXJnZSB9IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IHsgYmFzZSB9IGZyb20gJy4vdGhlbWVzL2Jhc2UnO1xuZXhwb3J0IHZhciBkZWZhdWx0UHJvcHMgPSB7XG4gIHRoZW1lOiBiYXNlXG59O1xuZXhwb3J0IHZhciBleHRlbmREZWZhdWx0VGhlbWUgPSBmdW5jdGlvbiBleHRlbmREZWZhdWx0VGhlbWUodGhlbWUpIHtcbiAgZGVmYXVsdFByb3BzLnRoZW1lID0gZGVlcE1lcmdlKGJhc2UsIHRoZW1lKTtcbn07IiwiZXhwb3J0ICogZnJvbSAnLi9jb21wb25lbnRzJztcbmV4cG9ydCAqIGZyb20gJy4vY29udGV4dHMnO1xuZXhwb3J0ICogZnJvbSAnLi9kZWZhdWx0LXByb3BzJztcbmV4cG9ydCAqIGZyb20gJy4vdGhlbWVzJzsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5pbXBvcnQgeyByZ2JhIH0gZnJvbSAncG9saXNoZWQnO1xuaW1wb3J0IHsgY3NzIH0gZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgQWN0aW9ucyB9IGZyb20gJ2dyb21tZXQtaWNvbnMvaWNvbnMvQWN0aW9ucyc7XG5pbXBvcnQgeyBDbG9zZWRDYXB0aW9uIH0gZnJvbSAnZ3JvbW1ldC1pY29ucy9pY29ucy9DbG9zZWRDYXB0aW9uJztcbmltcG9ydCB7IEV4cGFuZCB9IGZyb20gJ2dyb21tZXQtaWNvbnMvaWNvbnMvRXhwYW5kJztcbmltcG9ydCB7IEZvcm1Eb3duIH0gZnJvbSAnZ3JvbW1ldC1pY29ucy9pY29ucy9Gb3JtRG93bic7XG5pbXBvcnQgeyBGb3JtTmV4dCB9IGZyb20gJ2dyb21tZXQtaWNvbnMvaWNvbnMvRm9ybU5leHQnO1xuaW1wb3J0IHsgRm9ybVByZXZpb3VzIH0gZnJvbSAnZ3JvbW1ldC1pY29ucy9pY29ucy9Gb3JtUHJldmlvdXMnO1xuaW1wb3J0IHsgRm9ybVVwIH0gZnJvbSAnZ3JvbW1ldC1pY29ucy9pY29ucy9Gb3JtVXAnO1xuaW1wb3J0IHsgTmV4dCB9IGZyb20gJ2dyb21tZXQtaWNvbnMvaWNvbnMvTmV4dCc7XG5pbXBvcnQgeyBQYXVzZSB9IGZyb20gJ2dyb21tZXQtaWNvbnMvaWNvbnMvUGF1c2UnO1xuaW1wb3J0IHsgUGxheSB9IGZyb20gJ2dyb21tZXQtaWNvbnMvaWNvbnMvUGxheSc7XG5pbXBvcnQgeyBQcmV2aW91cyB9IGZyb20gJ2dyb21tZXQtaWNvbnMvaWNvbnMvUHJldmlvdXMnO1xuaW1wb3J0IHsgU3VidHJhY3QgfSBmcm9tICdncm9tbWV0LWljb25zL2ljb25zL1N1YnRyYWN0JztcbmltcG9ydCB7IFZvbHVtZSB9IGZyb20gJ2dyb21tZXQtaWNvbnMvaWNvbnMvVm9sdW1lJztcbmltcG9ydCB7IFZvbHVtZUxvdyB9IGZyb20gJ2dyb21tZXQtaWNvbnMvaWNvbnMvVm9sdW1lTG93JztcbmltcG9ydCB7IGJhc2UgYXMgaWNvbkJhc2UgfSBmcm9tICdncm9tbWV0LWljb25zL3RoZW1lcy9iYXNlJztcbmltcG9ydCB7IGRlZXBGcmVlemUsIGRlZXBNZXJnZSB9IGZyb20gJy4uL3V0aWxzL29iamVjdCc7XG5pbXBvcnQgeyBub3JtYWxpemVDb2xvciB9IGZyb20gJy4uL3V0aWxzL2NvbG9ycyc7XG52YXIgYnJhbmRDb2xvciA9ICcjN0Q0Q0RCJztcbnZhciBhY2NlbnRDb2xvcnMgPSBbJyM2RkZGQjAnLCAnI0ZENkZGRicsICcjODFGQ0VEJywgJyNGRkNBNTgnXTtcbnZhciBuZXV0cmFsQ29sb3JzID0gWycjMDA4NzNEJywgJyMzRDEzOEQnLCAnIzAwNzM5RCcsICcjQTI0MjNEJ107XG52YXIgc3RhdHVzQ29sb3JzID0ge1xuICBjcml0aWNhbDogJyNGRjQwNDAnLFxuICBlcnJvcjogJyNGRjQwNDAnLFxuICB3YXJuaW5nOiAnI0ZGQUExNScsXG4gIG9rOiAnIzAwQzc4MScsXG4gIHVua25vd246ICcjQ0NDQ0NDJyxcbiAgZGlzYWJsZWQ6ICcjQ0NDQ0NDJ1xufTtcbnZhciBkYXJrQ29sb3JzID0gWycjMzMzMzMzJywgJyM1NTU1NTUnLCAnIzc3Nzc3NycsICcjOTk5OTk5JywgJyM5OTk5OTknLCAnIzk5OTk5OSddO1xudmFyIGxpZ2h0Q29sb3JzID0gWycjRjhGOEY4JywgJyNGMkYyRjInLCAnI0VERURFRCcsICcjREFEQURBJywgJyNEQURBREEnLCAnI0RBREFEQSddO1xudmFyIGZvY3VzQ29sb3IgPSBhY2NlbnRDb2xvcnNbMF07XG52YXIgY29sb3JzID0ge1xuICBhY3RpdmU6IHJnYmEoMjIxLCAyMjEsIDIyMSwgMC41KSxcbiAgYmxhY2s6ICcjMDAwMDAwJyxcbiAgYm9yZGVyOiB7XG4gICAgZGFyazogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjMzKSxcbiAgICBsaWdodDogcmdiYSgwLCAwLCAwLCAwLjMzKVxuICB9LFxuICBicmFuZDogYnJhbmRDb2xvcixcbiAgY29udHJvbDoge1xuICAgIGRhcms6ICdhY2NlbnQtMScsXG4gICAgbGlnaHQ6ICdicmFuZCdcbiAgfSxcbiAgZm9jdXM6IGZvY3VzQ29sb3IsXG4gIC8vIFwiZ3JhcGgtMFwiOiAnYWNjZW50LTEnLFxuICAvLyBcImdyYXBoLTFcIjogJ25ldXRyYWwtMScsXG4gIC8vIFwiZ3JhcGgtMlwiOiAnYWNjZW50LTInLFxuICAvLyBcImdyYXBoLTNcIjogJ25ldXRyYWwtMicsXG4gIHBsYWNlaG9sZGVyOiAnI0FBQUFBQScsXG4gIHNlbGVjdGVkOiAnYnJhbmQnLFxuICB0ZXh0OiB7XG4gICAgZGFyazogJyNmOGY4ZjgnLFxuICAgIGxpZ2h0OiAnIzQ0NDQ0NCdcbiAgfSxcbiAgaWNvbjoge1xuICAgIGRhcms6ICcjZjhmOGY4JyxcbiAgICBsaWdodDogJyM2NjY2NjYnXG4gIH0sXG4gIHdoaXRlOiAnI0ZGRkZGRidcbn07XG5cbnZhciBjb2xvckFycmF5ID0gZnVuY3Rpb24gY29sb3JBcnJheShhcnJheSwgcHJlZml4KSB7XG4gIHJldHVybiBhcnJheS5mb3JFYWNoKGZ1bmN0aW9uIChjb2xvciwgaW5kZXgpIHtcbiAgICBjb2xvcnNbcHJlZml4ICsgXCItXCIgKyAoaW5kZXggKyAxKV0gPSBjb2xvcjtcbiAgfSk7XG59O1xuXG5jb2xvckFycmF5KGFjY2VudENvbG9ycywgJ2FjY2VudCcpO1xuY29sb3JBcnJheShkYXJrQ29sb3JzLCAnZGFyaycpO1xuY29sb3JBcnJheShsaWdodENvbG9ycywgJ2xpZ2h0Jyk7XG5jb2xvckFycmF5KG5ldXRyYWxDb2xvcnMsICduZXV0cmFsJyk7XG5PYmplY3Qua2V5cyhzdGF0dXNDb2xvcnMpLmZvckVhY2goZnVuY3Rpb24gKGNvbG9yKSB7XG4gIGNvbG9yc1tcInN0YXR1cy1cIiArIGNvbG9yXSA9IHN0YXR1c0NvbG9yc1tjb2xvcl07XG59KTtcbmV4cG9ydCB2YXIgZ2VuZXJhdGUgPSBmdW5jdGlvbiBnZW5lcmF0ZShiYXNlU3BhY2luZywgc2NhbGUpIHtcbiAgaWYgKGJhc2VTcGFjaW5nID09PSB2b2lkIDApIHtcbiAgICBiYXNlU3BhY2luZyA9IDI0O1xuICB9XG5cbiAgaWYgKHNjYWxlID09PSB2b2lkIDApIHtcbiAgICBzY2FsZSA9IDY7XG4gIH1cblxuICAvLyAyNFxuICB2YXIgYmFzZUZvbnRTaXplID0gYmFzZVNwYWNpbmcgKiAwLjc1OyAvLyAxOFxuXG4gIHZhciBmb250U2NhbGUgPSBiYXNlU3BhY2luZyAvIHNjYWxlOyAvLyA0XG5cbiAgdmFyIGZvbnRTaXppbmcgPSBmdW5jdGlvbiBmb250U2l6aW5nKGZhY3Rvcikge1xuICAgIHJldHVybiB7XG4gICAgICBzaXplOiBiYXNlRm9udFNpemUgKyBmYWN0b3IgKiBmb250U2NhbGUgKyBcInB4XCIsXG4gICAgICBoZWlnaHQ6IGJhc2VTcGFjaW5nICsgZmFjdG9yICogZm9udFNjYWxlICsgXCJweFwiLFxuICAgICAgLy8gbWF4V2lkdGggY2hvc2VuIHRvIGJlIH41MCBjaGFyYWN0ZXJzIHdpZGVcbiAgICAgIC8vIHNlZTogaHR0cHM6Ly91eC5zdGFja2V4Y2hhbmdlLmNvbS9hLzM0MTI1XG4gICAgICBtYXhXaWR0aDogYmFzZVNwYWNpbmcgKiAoYmFzZUZvbnRTaXplICsgZmFjdG9yICogZm9udFNjYWxlKSArIFwicHhcIlxuICAgIH07XG4gIH07XG5cbiAgdmFyIGJvcmRlcldpZHRoID0gMjtcbiAgdmFyIHJlc3VsdCA9IGRlZXBNZXJnZShpY29uQmFzZSwge1xuICAgIGdsb2JhbDoge1xuICAgICAgYWN0aXZlOiB7XG4gICAgICAgIGJhY2tncm91bmQ6IHtcbiAgICAgICAgICBjb2xvcjogJ2FjdGl2ZScsXG4gICAgICAgICAgb3BhY2l0eTogJ21lZGl1bSdcbiAgICAgICAgfSxcbiAgICAgICAgY29sb3I6IHtcbiAgICAgICAgICBkYXJrOiAnd2hpdGUnLFxuICAgICAgICAgIGxpZ2h0OiAnYmxhY2snXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBhbmltYXRpb246IHtcbiAgICAgICAgZHVyYXRpb246ICcxcycsXG4gICAgICAgIGppZ2dsZToge1xuICAgICAgICAgIGR1cmF0aW9uOiAnMC4xcydcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGJvcmRlclNpemU6IHtcbiAgICAgICAgeHNtYWxsOiAnMXB4JyxcbiAgICAgICAgc21hbGw6ICcycHgnLFxuICAgICAgICBtZWRpdW06IGJhc2VTcGFjaW5nIC8gNiArIFwicHhcIixcbiAgICAgICAgLy8gNFxuICAgICAgICBsYXJnZTogYmFzZVNwYWNpbmcgLyAyICsgXCJweFwiLFxuICAgICAgICAvLyAxMlxuICAgICAgICB4bGFyZ2U6IGJhc2VTcGFjaW5nICsgXCJweFwiIC8vIDI0XG5cbiAgICAgIH0sXG4gICAgICBicmVha3BvaW50czoge1xuICAgICAgICBzbWFsbDoge1xuICAgICAgICAgIHZhbHVlOiBiYXNlU3BhY2luZyAqIDMyLFxuICAgICAgICAgIC8vIDc2OFxuICAgICAgICAgIGJvcmRlclNpemU6IHtcbiAgICAgICAgICAgIHhzbWFsbDogJzFweCcsXG4gICAgICAgICAgICBzbWFsbDogJzJweCcsXG4gICAgICAgICAgICBtZWRpdW06IGJhc2VTcGFjaW5nIC8gNiArIFwicHhcIixcbiAgICAgICAgICAgIC8vIDRcbiAgICAgICAgICAgIGxhcmdlOiBiYXNlU3BhY2luZyAvIDQgKyBcInB4XCIsXG4gICAgICAgICAgICAvLyA2XG4gICAgICAgICAgICB4bGFyZ2U6IGJhc2VTcGFjaW5nIC8gMiArIFwicHhcIiAvLyAxMlxuXG4gICAgICAgICAgfSxcbiAgICAgICAgICBlZGdlU2l6ZToge1xuICAgICAgICAgICAgbm9uZTogJzBweCcsXG4gICAgICAgICAgICBoYWlyOiAnMXB4JyxcbiAgICAgICAgICAgIC8vIGZvciBDaGFydFxuICAgICAgICAgICAgeHhzbWFsbDogJzJweCcsXG4gICAgICAgICAgICB4c21hbGw6IGJhc2VTcGFjaW5nIC8gOCArIFwicHhcIixcbiAgICAgICAgICAgIC8vIDNcbiAgICAgICAgICAgIHNtYWxsOiBiYXNlU3BhY2luZyAvIDQgKyBcInB4XCIsXG4gICAgICAgICAgICAvLyA2XG4gICAgICAgICAgICBtZWRpdW06IGJhc2VTcGFjaW5nIC8gMiArIFwicHhcIixcbiAgICAgICAgICAgIC8vIDEyXG4gICAgICAgICAgICBsYXJnZTogYmFzZVNwYWNpbmcgKyBcInB4XCIsXG4gICAgICAgICAgICAvLyAyNFxuICAgICAgICAgICAgeGxhcmdlOiBiYXNlU3BhY2luZyAqIDIgKyBcInB4XCIgLy8gNDhcblxuICAgICAgICAgIH0sXG4gICAgICAgICAgc2l6ZToge1xuICAgICAgICAgICAgeHhzbWFsbDogYmFzZVNwYWNpbmcgKyBcInB4XCIsXG4gICAgICAgICAgICAvLyAyNFxuICAgICAgICAgICAgeHNtYWxsOiBiYXNlU3BhY2luZyAqIDIgKyBcInB4XCIsXG4gICAgICAgICAgICAvLyA0OFxuICAgICAgICAgICAgc21hbGw6IGJhc2VTcGFjaW5nICogNCArIFwicHhcIixcbiAgICAgICAgICAgIC8vIDk2XG4gICAgICAgICAgICBtZWRpdW06IGJhc2VTcGFjaW5nICogOCArIFwicHhcIixcbiAgICAgICAgICAgIC8vIDE5MlxuICAgICAgICAgICAgbGFyZ2U6IGJhc2VTcGFjaW5nICogMTYgKyBcInB4XCIsXG4gICAgICAgICAgICAvLyAzODRcbiAgICAgICAgICAgIHhsYXJnZTogYmFzZVNwYWNpbmcgKiAzMiArIFwicHhcIixcbiAgICAgICAgICAgIC8vIDc2OFxuICAgICAgICAgICAgZnVsbDogJzEwMCUnXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBtZWRpdW06IHtcbiAgICAgICAgICB2YWx1ZTogYmFzZVNwYWNpbmcgKiA2NCAvLyAxNTM2XG5cbiAgICAgICAgfSxcbiAgICAgICAgbGFyZ2U6IHt9IC8vIGFueXRoaW5nIGFib3ZlICdtZWRpdW0nXG5cbiAgICAgIH0sXG4gICAgICAvLyBCcmVha3BvaW50cyB1c2VkIGF0IFNlcnZlciBTaWRlIFJlbmRlcmluZyBmb3IgdGhlIGluaXRpYWwgcmVuZGVyaW5nXG4gICAgICAvLyBUaGVzZSB2YWx1ZXMgY29ycmVzcG9uZCB0byB0aGUgdGhlbWUgYnJlYWtwb2ludHNcbiAgICAgIGRldmljZUJyZWFrcG9pbnRzOiB7XG4gICAgICAgIHBob25lOiAnc21hbGwnLFxuICAgICAgICB0YWJsZXQ6ICdtZWRpdW0nLFxuICAgICAgICBjb21wdXRlcjogJ2xhcmdlJ1xuICAgICAgfSxcbiAgICAgIGNvbG9yczogY29sb3JzLFxuICAgICAgY29udHJvbDoge1xuICAgICAgICBib3JkZXI6IHtcbiAgICAgICAgICB3aWR0aDogJzFweCcsXG4gICAgICAgICAgcmFkaXVzOiAnNHB4JyxcbiAgICAgICAgICBjb2xvcjogJ2JvcmRlcidcbiAgICAgICAgfSxcbiAgICAgICAgZGlzYWJsZWQ6IHtcbiAgICAgICAgICBvcGFjaXR5OiAwLjNcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIC8vIFRoZSB0aW1lIHRvIHdhaXQgYWZ0ZXIgdGhlIHVzZXIgc3RvcHBlZCB0eXBpbmcsIG1lYXN1cmVkIGluIG1zLlxuICAgICAgZGVib3VuY2VEZWxheTogMzAwLFxuICAgICAgZHJvcDoge1xuICAgICAgICBiYWNrZ3JvdW5kOiAnI2ZmZmZmZicsXG4gICAgICAgIGJvcmRlcjoge1xuICAgICAgICAgIHJhZGl1czogJzBweCdcbiAgICAgICAgfSxcbiAgICAgICAgc2hhZG93U2l6ZTogJ3NtYWxsJyxcbiAgICAgICAgekluZGV4OiAnMjAnXG4gICAgICB9LFxuICAgICAgZWRnZVNpemU6IHtcbiAgICAgICAgbm9uZTogJzBweCcsXG4gICAgICAgIGhhaXI6ICcxcHgnLFxuICAgICAgICAvLyBmb3IgQ2hhcnRcbiAgICAgICAgeHhzbWFsbDogYmFzZVNwYWNpbmcgLyA4ICsgXCJweFwiLFxuICAgICAgICAvLyAzXG4gICAgICAgIHhzbWFsbDogYmFzZVNwYWNpbmcgLyA0ICsgXCJweFwiLFxuICAgICAgICAvLyA2XG4gICAgICAgIHNtYWxsOiBiYXNlU3BhY2luZyAvIDIgKyBcInB4XCIsXG4gICAgICAgIC8vIDEyXG4gICAgICAgIG1lZGl1bTogYmFzZVNwYWNpbmcgKyBcInB4XCIsXG4gICAgICAgIC8vIDI0XG4gICAgICAgIGxhcmdlOiBiYXNlU3BhY2luZyAqIDIgKyBcInB4XCIsXG4gICAgICAgIC8vIDQ4XG4gICAgICAgIHhsYXJnZTogYmFzZVNwYWNpbmcgKiA0ICsgXCJweFwiLFxuICAgICAgICAvLyA5NlxuICAgICAgICByZXNwb25zaXZlQnJlYWtwb2ludDogJ3NtYWxsJ1xuICAgICAgfSxcbiAgICAgIGVsZXZhdGlvbjoge1xuICAgICAgICBsaWdodDoge1xuICAgICAgICAgIG5vbmU6ICdub25lJyxcbiAgICAgICAgICB4c21hbGw6ICcwcHggMXB4IDJweCByZ2JhKDAsIDAsIDAsIDAuMjApJyxcbiAgICAgICAgICBzbWFsbDogJzBweCAycHggNHB4IHJnYmEoMCwgMCwgMCwgMC4yMCknLFxuICAgICAgICAgIG1lZGl1bTogJzBweCA0cHggOHB4IHJnYmEoMCwgMCwgMCwgMC4yMCknLFxuICAgICAgICAgIGxhcmdlOiAnMHB4IDhweCAxNnB4IHJnYmEoMCwgMCwgMCwgMC4yMCknLFxuICAgICAgICAgIHhsYXJnZTogJzBweCAxMnB4IDI0cHggcmdiYSgwLCAwLCAwLCAwLjIwKSdcbiAgICAgICAgfSxcbiAgICAgICAgZGFyazoge1xuICAgICAgICAgIG5vbmU6ICdub25lJyxcbiAgICAgICAgICB4c21hbGw6ICcwcHggMnB4IDJweCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNDApJyxcbiAgICAgICAgICBzbWFsbDogJzBweCA0cHggNHB4IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC40MCknLFxuICAgICAgICAgIG1lZGl1bTogJzBweCA2cHggOHB4IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC40MCknLFxuICAgICAgICAgIGxhcmdlOiAnMHB4IDhweCAxNnB4IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC40MCknLFxuICAgICAgICAgIHhsYXJnZTogJzBweCAxMnB4IDI0cHggcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjQwKSdcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGZvY3VzOiB7XG4gICAgICAgIGJvcmRlcjoge1xuICAgICAgICAgIGNvbG9yOiAnZm9jdXMnXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBmb250OiBfZXh0ZW5kcyh7fSwgZm9udFNpemluZygwKSksXG4gICAgICBob3Zlcjoge1xuICAgICAgICBiYWNrZ3JvdW5kOiB7XG4gICAgICAgICAgY29sb3I6ICdhY3RpdmUnLFxuICAgICAgICAgIG9wYWNpdHk6ICdtZWRpdW0nXG4gICAgICAgIH0sXG4gICAgICAgIGNvbG9yOiB7XG4gICAgICAgICAgZGFyazogJ3doaXRlJyxcbiAgICAgICAgICBsaWdodDogJ2JsYWNrJ1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgaW5wdXQ6IHtcbiAgICAgICAgcGFkZGluZzogYmFzZVNwYWNpbmcgLyAyICsgXCJweFwiLFxuICAgICAgICB3ZWlnaHQ6IDYwMFxuICAgICAgfSxcbiAgICAgIG9wYWNpdHk6IHtcbiAgICAgICAgc3Ryb25nOiAwLjgsXG4gICAgICAgIG1lZGl1bTogMC40LFxuICAgICAgICB3ZWFrOiAwLjFcbiAgICAgIH0sXG4gICAgICBzZWxlY3RlZDoge1xuICAgICAgICBiYWNrZ3JvdW5kOiAnc2VsZWN0ZWQnLFxuICAgICAgICBjb2xvcjogJ3doaXRlJ1xuICAgICAgfSxcbiAgICAgIHNwYWNpbmc6IGJhc2VTcGFjaW5nICsgXCJweFwiLFxuICAgICAgc2l6ZToge1xuICAgICAgICB4eHNtYWxsOiBiYXNlU3BhY2luZyAqIDIgKyBcInB4XCIsXG4gICAgICAgIC8vIDQ4XG4gICAgICAgIHhzbWFsbDogYmFzZVNwYWNpbmcgKiA0ICsgXCJweFwiLFxuICAgICAgICAvLyA5NlxuICAgICAgICBzbWFsbDogYmFzZVNwYWNpbmcgKiA4ICsgXCJweFwiLFxuICAgICAgICAvLyAxOTJcbiAgICAgICAgbWVkaXVtOiBiYXNlU3BhY2luZyAqIDE2ICsgXCJweFwiLFxuICAgICAgICAvLyAzODRcbiAgICAgICAgbGFyZ2U6IGJhc2VTcGFjaW5nICogMzIgKyBcInB4XCIsXG4gICAgICAgIC8vIDc2OFxuICAgICAgICB4bGFyZ2U6IGJhc2VTcGFjaW5nICogNDggKyBcInB4XCIsXG4gICAgICAgIC8vIDExNTJcbiAgICAgICAgeHhsYXJnZTogYmFzZVNwYWNpbmcgKiA2NCArIFwicHhcIixcbiAgICAgICAgLy8gMTUzNlxuICAgICAgICBmdWxsOiAnMTAwJSdcbiAgICAgIH1cbiAgICB9LFxuICAgIGFjY29yZGlvbjoge1xuICAgICAgYm9yZGVyOiB7XG4gICAgICAgIHNpZGU6ICdib3R0b20nLFxuICAgICAgICBjb2xvcjogJ2JvcmRlcidcbiAgICAgIH0sXG4gICAgICBoZWFkaW5nOiB7XG4gICAgICAgIGxldmVsOiAnNCdcbiAgICAgIH0sXG4gICAgICAvLyBsZXZlbCByYW5nZXMgZnJvbSAxLTZcbiAgICAgIGljb25zOiB7XG4gICAgICAgIGNvbGxhcHNlOiBGb3JtVXAsXG4gICAgICAgIGV4cGFuZDogRm9ybURvd24gLy8gY29sb3I6IHsgZGFyazogdW5kZWZpbmVkLCBsaWdodDogdW5kZWZpbmVkIH0sXG5cbiAgICAgIH1cbiAgICB9LFxuICAgIGFuY2hvcjoge1xuICAgICAgdGV4dERlY29yYXRpb246ICdub25lJyxcbiAgICAgIGZvbnRXZWlnaHQ6IDYwMCxcbiAgICAgIGNvbG9yOiB7XG4gICAgICAgIGRhcms6ICdhY2NlbnQtMScsXG4gICAgICAgIGxpZ2h0OiAnYnJhbmQnXG4gICAgICB9LFxuICAgICAgaG92ZXI6IHtcbiAgICAgICAgdGV4dERlY29yYXRpb246ICd1bmRlcmxpbmUnIC8vIGZvbnRXZWlnaHQ6IHVuZGVmaW5lZCxcbiAgICAgICAgLy8gZXh0ZW5kOiB1bmRlZmluZWQsXG5cbiAgICAgIH0gLy8gZXh0ZW5kOiB1bmRlZmluZWQsXG5cbiAgICB9LFxuICAgIGJveDoge1xuICAgICAgcmVzcG9uc2l2ZUJyZWFrcG9pbnQ6ICdzbWFsbCcgLy8gd2hlbiB3ZSBzd2l0Y2ggcm93cyB0byBjb2x1bW5zXG4gICAgICAvLyBleHRlbmQ6IHVuZGVmaW5lZCxcblxuICAgIH0sXG4gICAgYnV0dG9uOiB7XG4gICAgICBib3JkZXI6IHtcbiAgICAgICAgLy8gY29sb3I6IHsgZGFyazogdW5kZWZpbmVkLCBsaWdodDogdW5kZWZpbmVkIH1cbiAgICAgICAgd2lkdGg6IGJvcmRlcldpZHRoICsgXCJweFwiLFxuICAgICAgICByYWRpdXM6IGJhc2VTcGFjaW5nICogMC43NSArIFwicHhcIlxuICAgICAgfSxcbiAgICAgIC8vIGNvbG9yOiB7IGRhcms6IHVuZGVmaW5lZCwgbGlnaHQ6IHVuZGVmaW5lZCB9XG4gICAgICBwcmltYXJ5OiB7Ly8gY29sb3I6IHsgZGFyazogdW5kZWZpbmVkLCBsaWdodDogdW5kZWZpbmVkIH1cbiAgICAgIH0sXG4gICAgICAvLyBkaXNhYmxlZDogeyBvcGFjaXR5OiB1bmRlZmluZWQgfSxcbiAgICAgIHBhZGRpbmc6IHtcbiAgICAgICAgdmVydGljYWw6IGJhc2VTcGFjaW5nIC8gNCAtIGJvcmRlcldpZHRoICsgXCJweFwiLFxuICAgICAgICBob3Jpem9udGFsOiBiYXNlU3BhY2luZyAtIGJvcmRlcldpZHRoICsgXCJweFwiXG4gICAgICB9XG4gICAgfSxcbiAgICBjYWxlbmRhcjoge1xuICAgICAgLy8gZGF5U2l6ZSBtdXN0IGFsaWduIHdpdGggZ2xvYmFsLnNpemVcbiAgICAgIHNtYWxsOiB7XG4gICAgICAgIGZvbnRTaXplOiBiYXNlRm9udFNpemUgLSBmb250U2NhbGUgKyBcInB4XCIsXG4gICAgICAgIGxpbmVIZWlnaHQ6IDEuMzc1LFxuICAgICAgICBkYXlTaXplOiBiYXNlU3BhY2luZyAqIDggLyA3ICsgXCJweFwiLFxuICAgICAgICBzbGlkZUR1cmF0aW9uOiAnMC4ycydcbiAgICAgIH0sXG4gICAgICBtZWRpdW06IHtcbiAgICAgICAgZm9udFNpemU6IGJhc2VGb250U2l6ZSArIFwicHhcIixcbiAgICAgICAgbGluZUhlaWdodDogMS40NSxcbiAgICAgICAgZGF5U2l6ZTogYmFzZVNwYWNpbmcgKiAxNiAvIDcgKyBcInB4XCIsXG4gICAgICAgIHNsaWRlRHVyYXRpb246ICcwLjVzJ1xuICAgICAgfSxcbiAgICAgIGxhcmdlOiB7XG4gICAgICAgIGZvbnRTaXplOiBiYXNlRm9udFNpemUgKyAzICogZm9udFNjYWxlICsgXCJweFwiLFxuICAgICAgICBsaW5lSGVpZ2h0OiAxLjExLFxuICAgICAgICBkYXlTaXplOiBiYXNlU3BhY2luZyAqIDMyIC8gNyArIFwicHhcIixcbiAgICAgICAgc2xpZGVEdXJhdGlvbjogJzAuOHMnXG4gICAgICB9LFxuICAgICAgaWNvbnM6IHtcbiAgICAgICAgcHJldmlvdXM6IFByZXZpb3VzLFxuICAgICAgICBuZXh0OiBOZXh0LFxuICAgICAgICBzbWFsbDoge1xuICAgICAgICAgIHByZXZpb3VzOiBGb3JtUHJldmlvdXMsXG4gICAgICAgICAgbmV4dDogRm9ybU5leHRcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGhlYWRpbmc6IHtcbiAgICAgICAgbGV2ZWw6ICc0J1xuICAgICAgfSAvLyBsZXZlbCByYW5nZXMgZnJvbSAxLTZcblxuICAgIH0sXG4gICAgY2Fyb3VzZWw6IHtcbiAgICAgIGljb25zOiB7XG4gICAgICAgIGN1cnJlbnQ6IFN1YnRyYWN0LFxuICAgICAgICBuZXh0OiBOZXh0LFxuICAgICAgICBwcmV2aW91czogUHJldmlvdXMgLy8gY29sb3I6IHsgZGFyazogdW5kZWZpbmVkLCBsaWdodDogdW5kZWZpbmVkIH0sXG5cbiAgICAgIH0sXG4gICAgICBhbmltYXRpb246IHtcbiAgICAgICAgZHVyYXRpb246IDEwMDBcbiAgICAgIH0sXG4gICAgICBkaXNhYmxlZDoge1xuICAgICAgICBpY29uczogey8vIGNvbG9yOiB7IGRhcms6IHVuZGVmaW5lZCwgbGlnaHQ6IHVuZGVmaW5lZCB9LFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBjaGFydDoge1xuICAgICAgY29sb3I6ICdhY2NlbnQtMScgLy8gZXh0ZW5kOiB1bmRlZmluZWQsXG5cbiAgICB9LFxuICAgIGNoZWNrQm94OiB7XG4gICAgICBib3JkZXI6IHtcbiAgICAgICAgY29sb3I6IHtcbiAgICAgICAgICBkYXJrOiAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjUpJyxcbiAgICAgICAgICBsaWdodDogJ3JnYmEoMCwgMCwgMCwgMC4xNSknXG4gICAgICAgIH0sXG4gICAgICAgIHdpZHRoOiAnMnB4J1xuICAgICAgfSxcbiAgICAgIGNoZWNrOiB7XG4gICAgICAgIC8vIGV4dGVuZDogdW5kZWZpbmVkLFxuICAgICAgICByYWRpdXM6ICc0cHgnLFxuICAgICAgICB0aGlja25lc3M6ICc0cHgnXG4gICAgICB9LFxuICAgICAgLy8gY29sb3I6IHsgZGFyazogdW5kZWZpbmVkLCBsaWdodDogdW5kZWZpbmVkIH0sXG4gICAgICAvLyBleHRlbmQ6IHVuZGVmaW5lZCxcbiAgICAgIC8vIGdhcDogdW5kZWZpbmVkXG4gICAgICBob3Zlcjoge1xuICAgICAgICBib3JkZXI6IHtcbiAgICAgICAgICBjb2xvcjoge1xuICAgICAgICAgICAgZGFyazogJ3doaXRlJyxcbiAgICAgICAgICAgIGxpZ2h0OiAnYmxhY2snXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgaWNvbjogey8vIHNpemU6IHVuZGVmaW5lZCxcbiAgICAgICAgLy8gZXh0ZW5kOiB1bmRlZmluZWQsXG4gICAgICB9LFxuICAgICAgaWNvbnM6IHsvLyBjaGVja2VkOiB1bmRlZmluZWQsXG4gICAgICAgIC8vIGluZGV0ZXJtaW5hdGU6IHVuZGVmaW5lZCxcbiAgICAgIH0sXG4gICAgICBzaXplOiBiYXNlU3BhY2luZyArIFwicHhcIixcbiAgICAgIHRvZ2dsZToge1xuICAgICAgICAvLyBiYWNrZ3JvdW5kOiB1bmRlZmluZWRcbiAgICAgICAgY29sb3I6IHtcbiAgICAgICAgICBkYXJrOiAnI2Q5ZDlkOScsXG4gICAgICAgICAgbGlnaHQ6ICcjZDlkOWQ5J1xuICAgICAgICB9LFxuICAgICAgICBrbm9iOiB7Ly8gZXh0ZW5kOiB1bmRlZmluZWQsXG4gICAgICAgIH0sXG4gICAgICAgIHJhZGl1czogYmFzZVNwYWNpbmcgKyBcInB4XCIsXG4gICAgICAgIHNpemU6IGJhc2VTcGFjaW5nICogMiArIFwicHhcIiAvLyBleHRlbmQ6IHVuZGVmaW5lZCxcblxuICAgICAgfVxuICAgIH0sXG4gICAgY2xvY2s6IHtcbiAgICAgIGFuYWxvZzoge1xuICAgICAgICAvLyBleHRlbmQ6IHVuZGVmaW5lZCxcbiAgICAgICAgaG91cjoge1xuICAgICAgICAgIGNvbG9yOiB7XG4gICAgICAgICAgICBkYXJrOiAnbGlnaHQtMicsXG4gICAgICAgICAgICBsaWdodDogJ2RhcmstMydcbiAgICAgICAgICB9LFxuICAgICAgICAgIHdpZHRoOiBiYXNlU3BhY2luZyAvIDMgKyBcInB4XCIsXG4gICAgICAgICAgc2l6ZTogYmFzZVNwYWNpbmcgKyBcInB4XCIsXG4gICAgICAgICAgc2hhcGU6ICdyb3VuZCdcbiAgICAgICAgfSxcbiAgICAgICAgbWludXRlOiB7XG4gICAgICAgICAgY29sb3I6IHtcbiAgICAgICAgICAgIGRhcms6ICdsaWdodC00JyxcbiAgICAgICAgICAgIGxpZ2h0OiAnZGFyay0zJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAgd2lkdGg6IGJhc2VTcGFjaW5nIC8gNiArIFwicHhcIixcbiAgICAgICAgICBzaXplOiBNYXRoLnJvdW5kKGJhc2VTcGFjaW5nIC8gMikgKyBcInB4XCIsXG4gICAgICAgICAgc2hhcGU6ICdyb3VuZCdcbiAgICAgICAgfSxcbiAgICAgICAgc2Vjb25kOiB7XG4gICAgICAgICAgY29sb3I6IHtcbiAgICAgICAgICAgIGRhcms6ICdhY2NlbnQtMScsXG4gICAgICAgICAgICBsaWdodDogJ2FjY2VudC0xJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAgd2lkdGg6IGJhc2VTcGFjaW5nIC8gOCArIFwicHhcIixcbiAgICAgICAgICBzaXplOiBNYXRoLnJvdW5kKGJhc2VTcGFjaW5nIC8gMi42NjYpICsgXCJweFwiLFxuICAgICAgICAgIHNoYXBlOiAncm91bmQnXG4gICAgICAgIH0sXG4gICAgICAgIHNpemU6IHtcbiAgICAgICAgICBzbWFsbDogYmFzZVNwYWNpbmcgKiAzICsgXCJweFwiLFxuICAgICAgICAgIG1lZGl1bTogYmFzZVNwYWNpbmcgKiA0ICsgXCJweFwiLFxuICAgICAgICAgIGxhcmdlOiBiYXNlU3BhY2luZyAqIDYgKyBcInB4XCIsXG4gICAgICAgICAgeGxhcmdlOiBiYXNlU3BhY2luZyAqIDkgKyBcInB4XCIsXG4gICAgICAgICAgaHVnZTogYmFzZVNwYWNpbmcgKiAxMiArIFwicHhcIlxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgZGlnaXRhbDoge1xuICAgICAgICB0ZXh0OiB7XG4gICAgICAgICAgeHNtYWxsOiB7XG4gICAgICAgICAgICBzaXplOiBiYXNlRm9udFNpemUgLSAyICogZm9udFNjYWxlICsgXCJweFwiLFxuICAgICAgICAgICAgaGVpZ2h0OiAxLjVcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNtYWxsOiB7XG4gICAgICAgICAgICBzaXplOiBiYXNlRm9udFNpemUgLSBmb250U2NhbGUgKyBcInB4XCIsXG4gICAgICAgICAgICBoZWlnaHQ6IDEuNDNcbiAgICAgICAgICB9LFxuICAgICAgICAgIG1lZGl1bToge1xuICAgICAgICAgICAgc2l6ZTogYmFzZUZvbnRTaXplICsgXCJweFwiLFxuICAgICAgICAgICAgaGVpZ2h0OiAxLjM3NVxuICAgICAgICAgIH0sXG4gICAgICAgICAgbGFyZ2U6IHtcbiAgICAgICAgICAgIHNpemU6IGJhc2VGb250U2l6ZSArIGZvbnRTY2FsZSArIFwicHhcIixcbiAgICAgICAgICAgIGhlaWdodDogMS4xNjdcbiAgICAgICAgICB9LFxuICAgICAgICAgIHhsYXJnZToge1xuICAgICAgICAgICAgc2l6ZTogYmFzZUZvbnRTaXplICsgMiAqIGZvbnRTY2FsZSArIFwicHhcIixcbiAgICAgICAgICAgIGhlaWdodDogMS4xODc1XG4gICAgICAgICAgfSxcbiAgICAgICAgICB4eGxhcmdlOiB7XG4gICAgICAgICAgICBzaXplOiBiYXNlRm9udFNpemUgKyA0ICogZm9udFNjYWxlICsgXCJweFwiLFxuICAgICAgICAgICAgaGVpZ2h0OiAxLjEyNVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgY29sbGFwc2libGU6IHtcbiAgICAgIG1pblNwZWVkOiAyMDAsXG4gICAgICBiYXNlbGluZTogNTAwXG4gICAgfSxcbiAgICBkYXRhVGFibGU6IHtcbiAgICAgIGdyb3VwSGVhZGVyOiB7XG4gICAgICAgIGJhY2tncm91bmQ6IHtcbiAgICAgICAgICBkYXJrOiAnZGFyay0yJyxcbiAgICAgICAgICBsaWdodDogJ2xpZ2h0LTInXG4gICAgICAgIH0sXG4gICAgICAgIGJvcmRlcjoge1xuICAgICAgICAgIHNpZGU6ICdib3R0b20nLFxuICAgICAgICAgIHNpemU6ICd4c21hbGwnXG4gICAgICAgIH0sXG4gICAgICAgIHBhZDoge1xuICAgICAgICAgIGhvcml6b250YWw6ICdzbWFsbCcsXG4gICAgICAgICAgdmVydGljYWw6ICd4c21hbGwnXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBncm91cEVuZDoge1xuICAgICAgICBib3JkZXI6IHtcbiAgICAgICAgICBzaWRlOiAnYm90dG9tJyxcbiAgICAgICAgICBzaXplOiAneHNtYWxsJ1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgaGVhZGVyOiB7fSxcbiAgICAgIGljb25zOiB7XG4gICAgICAgIGFzY2VuZGluZzogRm9ybURvd24sXG4gICAgICAgIGNvbnRyYWN0OiBGb3JtVXAsXG4gICAgICAgIGRlc2NlbmRpbmc6IEZvcm1VcCxcbiAgICAgICAgZXhwYW5kOiBGb3JtRG93blxuICAgICAgfSxcbiAgICAgIHByaW1hcnk6IHtcbiAgICAgICAgd2VpZ2h0OiAnYm9sZCdcbiAgICAgIH0sXG4gICAgICByZXNpemU6IHtcbiAgICAgICAgYm9yZGVyOiB7XG4gICAgICAgICAgY29sb3I6ICdib3JkZXInLFxuICAgICAgICAgIHNpZGU6ICdyaWdodCdcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgZGlhZ3JhbToge1xuICAgICAgLy8gZXh0ZW5kOiB1bmRlZmluZWQsXG4gICAgICBsaW5lOiB7XG4gICAgICAgIGNvbG9yOiAnYWNjZW50LTEnXG4gICAgICB9XG4gICAgfSxcbiAgICAvLyBkcm9wOiB7XG4gICAgLy8gICBleHRlbmQ6IHVuZGVmaW5lZCxcbiAgICAvLyAgIG1heEhlaWdodDogdW5kZWZpbmVkLFxuICAgIC8vIH0sXG4gICAgZm9ybUZpZWxkOiB7XG4gICAgICBib3JkZXI6IHtcbiAgICAgICAgY29sb3I6ICdib3JkZXInLFxuICAgICAgICBlcnJvcjoge1xuICAgICAgICAgIGNvbG9yOiB7XG4gICAgICAgICAgICBkYXJrOiAnd2hpdGUnLFxuICAgICAgICAgICAgbGlnaHQ6ICdzdGF0dXMtY3JpdGljYWwnXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBwb3NpdGlvbjogJ2lubmVyJyxcbiAgICAgICAgc2lkZTogJ2JvdHRvbSdcbiAgICAgIH0sXG4gICAgICBjb250ZW50OiB7XG4gICAgICAgIHBhZDoge1xuICAgICAgICAgIGhvcml6b250YWw6ICdzbWFsbCcsXG4gICAgICAgICAgYm90dG9tOiAnc21hbGwnXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBlcnJvcjoge1xuICAgICAgICBjb2xvcjoge1xuICAgICAgICAgIGRhcms6ICdzdGF0dXMtY3JpdGljYWwnLFxuICAgICAgICAgIGxpZ2h0OiAnc3RhdHVzLWNyaXRpY2FsJ1xuICAgICAgICB9LFxuICAgICAgICBtYXJnaW46IHtcbiAgICAgICAgICB2ZXJ0aWNhbDogJ3hzbWFsbCcsXG4gICAgICAgICAgaG9yaXpvbnRhbDogJ3NtYWxsJ1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgLy8gZXh0ZW5kOiB1bmRlZmluZWQsXG4gICAgICBoZWxwOiB7XG4gICAgICAgIGNvbG9yOiB7XG4gICAgICAgICAgZGFyazogJ2RhcmstMycsXG4gICAgICAgICAgbGlnaHQ6ICdkYXJrLTMnXG4gICAgICAgIH0sXG4gICAgICAgIG1hcmdpbjoge1xuICAgICAgICAgIGxlZnQ6ICdzbWFsbCdcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGxhYmVsOiB7XG4gICAgICAgIG1hcmdpbjoge1xuICAgICAgICAgIHZlcnRpY2FsOiAneHNtYWxsJyxcbiAgICAgICAgICBob3Jpem9udGFsOiAnc21hbGwnXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBtYXJnaW46IHtcbiAgICAgICAgYm90dG9tOiAnc21hbGwnXG4gICAgICB9XG4gICAgfSxcbiAgICBncm9tbWV0OiB7Ly8gZXh0ZW5kOiB1bmRlZmluZWRcbiAgICB9LFxuICAgIGhlYWRpbmc6IHtcbiAgICAgIGZvbnQ6IHsvLyBmYW1pbHk6IHVuZGVmaW5lZFxuICAgICAgfSxcbiAgICAgIGxldmVsOiB7XG4gICAgICAgIDE6IHtcbiAgICAgICAgICBmb250OiB7Ly8gZmFtaWx5OiB1bmRlZmluZWQsXG4gICAgICAgICAgICAvLyB3ZWlnaHQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNtYWxsOiBfZXh0ZW5kcyh7fSwgZm9udFNpemluZyg0KSksXG4gICAgICAgICAgbWVkaXVtOiBfZXh0ZW5kcyh7fSwgZm9udFNpemluZyg4KSksXG4gICAgICAgICAgbGFyZ2U6IF9leHRlbmRzKHt9LCBmb250U2l6aW5nKDE2KSksXG4gICAgICAgICAgeGxhcmdlOiBfZXh0ZW5kcyh7fSwgZm9udFNpemluZygyNCkpXG4gICAgICAgIH0sXG4gICAgICAgIDI6IHtcbiAgICAgICAgICBmb250OiB7Ly8gZmFtaWx5OiB1bmRlZmluZWQsXG4gICAgICAgICAgICAvLyB3ZWlnaHQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNtYWxsOiBfZXh0ZW5kcyh7fSwgZm9udFNpemluZygyKSksXG4gICAgICAgICAgbWVkaXVtOiBfZXh0ZW5kcyh7fSwgZm9udFNpemluZyg0KSksXG4gICAgICAgICAgbGFyZ2U6IF9leHRlbmRzKHt9LCBmb250U2l6aW5nKDgpKSxcbiAgICAgICAgICB4bGFyZ2U6IF9leHRlbmRzKHt9LCBmb250U2l6aW5nKDEyKSlcbiAgICAgICAgfSxcbiAgICAgICAgMzoge1xuICAgICAgICAgIGZvbnQ6IHsvLyBmYW1pbHk6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIC8vIHdlaWdodDogdW5kZWZpbmVkLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgc21hbGw6IF9leHRlbmRzKHt9LCBmb250U2l6aW5nKDEpKSxcbiAgICAgICAgICBtZWRpdW06IF9leHRlbmRzKHt9LCBmb250U2l6aW5nKDIpKSxcbiAgICAgICAgICBsYXJnZTogX2V4dGVuZHMoe30sIGZvbnRTaXppbmcoNCkpLFxuICAgICAgICAgIHhsYXJnZTogX2V4dGVuZHMoe30sIGZvbnRTaXppbmcoNikpXG4gICAgICAgIH0sXG4gICAgICAgIDQ6IHtcbiAgICAgICAgICBmb250OiB7Ly8gZmFtaWx5OiB1bmRlZmluZWQsXG4gICAgICAgICAgICAvLyB3ZWlnaHQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNtYWxsOiBfZXh0ZW5kcyh7fSwgZm9udFNpemluZygwKSksXG4gICAgICAgICAgbWVkaXVtOiBfZXh0ZW5kcyh7fSwgZm9udFNpemluZygwKSksXG4gICAgICAgICAgbGFyZ2U6IF9leHRlbmRzKHt9LCBmb250U2l6aW5nKDApKSxcbiAgICAgICAgICB4bGFyZ2U6IF9leHRlbmRzKHt9LCBmb250U2l6aW5nKDApKVxuICAgICAgICB9LFxuICAgICAgICA1OiB7XG4gICAgICAgICAgZm9udDogey8vIGZhbWlseTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgLy8gd2VpZ2h0OiB1bmRlZmluZWQsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBzbWFsbDogX2V4dGVuZHMoe30sIGZvbnRTaXppbmcoLTAuNSkpLFxuICAgICAgICAgIG1lZGl1bTogX2V4dGVuZHMoe30sIGZvbnRTaXppbmcoLTAuNSkpLFxuICAgICAgICAgIGxhcmdlOiBfZXh0ZW5kcyh7fSwgZm9udFNpemluZygtMC41KSksXG4gICAgICAgICAgeGxhcmdlOiBfZXh0ZW5kcyh7fSwgZm9udFNpemluZygtMC41KSlcbiAgICAgICAgfSxcbiAgICAgICAgNjoge1xuICAgICAgICAgIGZvbnQ6IHsvLyBmYW1pbHk6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIC8vIHdlaWdodDogdW5kZWZpbmVkLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgc21hbGw6IF9leHRlbmRzKHt9LCBmb250U2l6aW5nKC0xKSksXG4gICAgICAgICAgbWVkaXVtOiBfZXh0ZW5kcyh7fSwgZm9udFNpemluZygtMSkpLFxuICAgICAgICAgIGxhcmdlOiBfZXh0ZW5kcyh7fSwgZm9udFNpemluZygtMSkpLFxuICAgICAgICAgIHhsYXJnZTogX2V4dGVuZHMoe30sIGZvbnRTaXppbmcoLTEpKVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgcmVzcG9uc2l2ZUJyZWFrcG9pbnQ6ICdzbWFsbCcsXG4gICAgICAvLyB3aGVuIHdlIHNjYWxlIHRoZSBmb250IHNpemUgZG93blxuICAgICAgd2VpZ2h0OiA2MDBcbiAgICB9LFxuICAgIGxheWVyOiB7XG4gICAgICBiYWNrZ3JvdW5kOiAnd2hpdGUnLFxuICAgICAgYm9yZGVyOiB7XG4gICAgICAgIHJhZGl1czogJzRweCdcbiAgICAgIH0sXG4gICAgICBjb250YWluZXI6IHtcbiAgICAgICAgekluZGV4OiAnMTUnXG4gICAgICB9LFxuICAgICAgLy8gZXh0ZW5kOiB1bmRlZmluZWQsXG4gICAgICBvdmVybGF5OiB7XG4gICAgICAgIGJhY2tncm91bmQ6ICdyZ2JhKDAsIDAsIDAsIDAuNSknXG4gICAgICB9LFxuICAgICAgcmVzcG9uc2l2ZUJyZWFrcG9pbnQ6ICdzbWFsbCcsXG4gICAgICAvLyB3aGVuIExheWVyIHRha2VzIG92ZXIgdGhlIGZ1bGwgc2NyZWVuXG4gICAgICB6SW5kZXg6ICcxMCdcbiAgICB9LFxuICAgIGxpc3Q6IHtcbiAgICAgIGl0ZW06IHtcbiAgICAgICAgLy8gYmFja2dyb3VuZDogdW5kZWZpbmVkLFxuICAgICAgICBib3JkZXI6ICdob3Jpem9udGFsJyxcbiAgICAgICAgcGFkOiB7XG4gICAgICAgICAgaG9yaXpvbnRhbDogJ21lZGl1bScsXG4gICAgICAgICAgdmVydGljYWw6ICdzbWFsbCdcbiAgICAgICAgfSAvLyBleHRlbmQ6IHVuZGVmaW5lZCxcblxuICAgICAgfSAvLyBleHRlbmQ6IHVuZGVmaW5lZCxcblxuICAgIH0sXG4gICAgbWFza2VkSW5wdXQ6IHsvLyBleHRlbmQ6IHVuZGVmaW5lZCxcbiAgICB9LFxuICAgIG1lbnU6IHtcbiAgICAgIC8vIGJhY2tncm91bmQ6IHVuZGVmaW5lZCxcbiAgICAgIC8vIGV4dGVuZDogdW5kZWZpbmVkLFxuICAgICAgaWNvbnM6IHtcbiAgICAgICAgZG93bjogRm9ybURvd25cbiAgICAgIH1cbiAgICB9LFxuICAgIG1ldGVyOiB7XG4gICAgICBjb2xvcjogJ2FjY2VudC0xJyAvLyBjb2xvcnM6IFtdLFxuICAgICAgLy8gZXh0ZW5kOiB1bmRlZmluZWQsXG5cbiAgICB9LFxuICAgIHBhcmFncmFwaDoge1xuICAgICAgc21hbGw6IF9leHRlbmRzKHt9LCBmb250U2l6aW5nKC0xKSksXG4gICAgICBtZWRpdW06IF9leHRlbmRzKHt9LCBmb250U2l6aW5nKDApKSxcbiAgICAgIGxhcmdlOiBfZXh0ZW5kcyh7fSwgZm9udFNpemluZygxKSksXG4gICAgICB4bGFyZ2U6IF9leHRlbmRzKHt9LCBmb250U2l6aW5nKDIpKSxcbiAgICAgIHh4bGFyZ2U6IF9leHRlbmRzKHt9LCBmb250U2l6aW5nKDQpKVxuICAgIH0sXG4gICAgcmFkaW9CdXR0b246IHtcbiAgICAgIGJvcmRlcjoge1xuICAgICAgICBjb2xvcjoge1xuICAgICAgICAgIGRhcms6ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNSknLFxuICAgICAgICAgIGxpZ2h0OiAncmdiYSgwLCAwLCAwLCAwLjE1KSdcbiAgICAgICAgfSxcbiAgICAgICAgd2lkdGg6ICcycHgnXG4gICAgICB9LFxuICAgICAgY2hlY2s6IHtcbiAgICAgICAgcmFkaXVzOiAnMTAwJScgLy8gY29sb3I6IHsgZGFyazogdW5kZWZpbmVkLCBsaWdodDogdW5kZWZpbmVkIH0sXG4gICAgICAgIC8vIGV4dGVuZDogdW5kZWZpbmVkLFxuXG4gICAgICB9LFxuICAgICAgaG92ZXI6IHtcbiAgICAgICAgYm9yZGVyOiB7XG4gICAgICAgICAgY29sb3I6IHtcbiAgICAgICAgICAgIGRhcms6ICd3aGl0ZScsXG4gICAgICAgICAgICBsaWdodDogJ2JsYWNrJ1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGljb246IHsvLyBzaXplOiB1bmRlZmluZWQsXG4gICAgICAgIC8vIGV4dGVuZDogdW5kZWZpbmVkLFxuICAgICAgfSxcbiAgICAgIGljb25zOiB7Ly8gY2lyY2xlOiB1bmRlZmluZWQsXG4gICAgICB9LFxuICAgICAgZ2FwOiAnc21hbGwnLFxuICAgICAgc2l6ZTogYmFzZVNwYWNpbmcgKyBcInB4XCJcbiAgICB9LFxuICAgIHJhbmdlSW5wdXQ6IHtcbiAgICAgIHRyYWNrOiB7XG4gICAgICAgIGhlaWdodDogJzRweCcsXG4gICAgICAgIGNvbG9yOiBjc3MoW1wiXCIsIFwiO1wiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICAgICAgcmV0dXJuIHJnYmEobm9ybWFsaXplQ29sb3IoJ2JvcmRlcicsIHByb3BzLnRoZW1lKSwgMC4yKTtcbiAgICAgICAgfSlcbiAgICAgIH0sXG4gICAgICB0aHVtYjogey8vIGNvbG9yOiB7IGRhcms6IHVuZGVmaW5lZCwgbGlnaHQ6IHVuZGVmaW5lZCB9LFxuICAgICAgfVxuICAgIH0sXG4gICAgcmFuZ2VTZWxlY3Rvcjoge1xuICAgICAgYmFja2dyb3VuZDoge1xuICAgICAgICBpbnZlcnQ6IHtcbiAgICAgICAgICBjb2xvcjogJ2xpZ2h0LTQnXG4gICAgICAgIH1cbiAgICAgIH0gLy8gZWRnZToge1xuICAgICAgLy8gICB0eXBlOiB1bmRlZmluZWQsXG4gICAgICAvLyB9LFxuXG4gICAgfSxcbiAgICBzZWxlY3Q6IHtcbiAgICAgIC8vIGJhY2tncm91bmQ6IHVuZGVmaW5lZCxcbiAgICAgIGNvbnRhaW5lcjogey8vIGV4dGVuZDogdW5kZWZpbmVkLFxuICAgICAgfSxcbiAgICAgIGNvbnRyb2w6IHsvLyBleHRlbmQ6IHVuZGVmaW5lZCxcbiAgICAgICAgLy8gb3BlbjogdW5kZWZpbmVkLFxuICAgICAgfSxcbiAgICAgIGljb25zOiB7XG4gICAgICAgIC8vIGNvbG9yOiB7IGRhcms6IHVuZGVmaW5lZCwgbGlnaHQ6IHVuZGVmaW5lZCB9LFxuICAgICAgICBtYXJnaW46IHtcbiAgICAgICAgICBob3Jpem9udGFsOiAnc21hbGwnXG4gICAgICAgIH0sXG4gICAgICAgIGRvd246IEZvcm1Eb3duXG4gICAgICB9LFxuICAgICAgb3B0aW9uczoge1xuICAgICAgICBjb250YWluZXI6IHtcbiAgICAgICAgICBhbGlnbjogJ3N0YXJ0JyxcbiAgICAgICAgICBwYWQ6ICdzbWFsbCdcbiAgICAgICAgfSxcbiAgICAgICAgdGV4dDoge1xuICAgICAgICAgIG1hcmdpbjogJ25vbmUnXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICAvLyBzZWFyY2hJbnB1dDogdW5kZWZpbmVkLFxuICAgICAgc3RlcDogMjBcbiAgICB9LFxuICAgIHRhYjoge1xuICAgICAgYWN0aXZlOiB7XG4gICAgICAgIGNvbG9yOiAndGV4dCcgLy8gYmFja2dyb3VuZDogdW5kZWZpbmVkLFxuXG4gICAgICB9LFxuICAgICAgLy8gYmFja2dyb3VuZDogdW5kZWZpbmVkLFxuICAgICAgYm9yZGVyOiB7XG4gICAgICAgIHNpZGU6ICdib3R0b20nLFxuICAgICAgICBzaXplOiAnc21hbGwnLFxuICAgICAgICBjb2xvcjoge1xuICAgICAgICAgIGRhcms6ICdhY2NlbnQtMScsXG4gICAgICAgICAgbGlnaHQ6ICdicmFuZCdcbiAgICAgICAgfSxcbiAgICAgICAgYWN0aXZlOiB7XG4gICAgICAgICAgY29sb3I6IHtcbiAgICAgICAgICAgIGRhcms6ICd3aGl0ZScsXG4gICAgICAgICAgICBsaWdodDogJ2JsYWNrJ1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgaG92ZXI6IHtcbiAgICAgICAgICBjb2xvcjoge1xuICAgICAgICAgICAgZGFyazogJ3doaXRlJyxcbiAgICAgICAgICAgIGxpZ2h0OiAnYmxhY2snXG4gICAgICAgICAgfSAvLyBleHRlbmQ6IHVuZGVmaW5lZCxcblxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY29sb3I6ICdjb250cm9sJyxcbiAgICAgIC8vIGV4dGVuZDogdW5kZWZpbmVkLFxuICAgICAgaG92ZXI6IHtcbiAgICAgICAgLy8gYmFja2dyb3VuZDogdW5kZWZpbmVkLFxuICAgICAgICAvLyBleHRlbmQ6IHVuZGVmaW5lZCxcbiAgICAgICAgY29sb3I6IHtcbiAgICAgICAgICBkYXJrOiAnd2hpdGUnLFxuICAgICAgICAgIGxpZ2h0OiAnYmxhY2snXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBtYXJnaW46IHtcbiAgICAgICAgdmVydGljYWw6ICd4eHNtYWxsJyxcbiAgICAgICAgaG9yaXpvbnRhbDogJ3NtYWxsJ1xuICAgICAgfSxcbiAgICAgIHBhZDoge1xuICAgICAgICBib3R0b206ICd4c21hbGwnXG4gICAgICB9XG4gICAgfSxcbiAgICB0YWJzOiB7XG4gICAgICAvLyBiYWNrZ3JvdW5kOiB1bmRlZmluZWQsXG4gICAgICAvLyBleHRlbmQ6IHVuZGVmaW5lZCxcbiAgICAgIC8vIGdhcDogdW5kZWZpbmVkLFxuICAgICAgaGVhZGVyOiB7Ly8gYmFja2dyb3VuZDogdW5kZWZpbmVkLFxuICAgICAgICAvLyBleHRlbmQ6IHVuZGVmaW5lZCxcbiAgICAgIH0sXG4gICAgICBwYW5lbDogey8vIGV4dGVuZDogdW5kZWZpbmVkLFxuICAgICAgfVxuICAgIH0sXG4gICAgdGFibGU6IHtcbiAgICAgIGhlYWRlcjoge1xuICAgICAgICBhbGlnbjogJ3N0YXJ0JyxcbiAgICAgICAgcGFkOiB7XG4gICAgICAgICAgaG9yaXpvbnRhbDogJ3NtYWxsJyxcbiAgICAgICAgICB2ZXJ0aWNhbDogJ3hzbWFsbCdcbiAgICAgICAgfSxcbiAgICAgICAgYm9yZGVyOiAnYm90dG9tJyAvLyB2ZXJ0aWNhbEFsaWduOiB1bmRlZmluZWQsXG4gICAgICAgIC8vIGJhY2tncm91bmQ6IHVuZGVmaW5lZCxcbiAgICAgICAgLy8gZXh0ZW5kOiB1bmRlZmluZWQsXG5cbiAgICAgIH0sXG4gICAgICBib2R5OiB7XG4gICAgICAgIGFsaWduOiAnc3RhcnQnLFxuICAgICAgICBwYWQ6IHtcbiAgICAgICAgICBob3Jpem9udGFsOiAnc21hbGwnLFxuICAgICAgICAgIHZlcnRpY2FsOiAneHNtYWxsJ1xuICAgICAgICB9IC8vIGJhY2tncm91bmQ6IHVuZGVmaW5lZCxcbiAgICAgICAgLy8gYm9yZGVyOiB1bmRlZmluZWQsXG4gICAgICAgIC8vIGV4dGVuZDogdW5kZWZpbmVkLFxuXG4gICAgICB9LFxuICAgICAgLy8gcm93OiB7XG4gICAgICAvLyAgIGhvdmVyOiB7XG4gICAgICAvLyAgICAgYmFja2dyb3VuZDogdW5kZWZpbmVkLFxuICAgICAgLy8gICAgIGNvbG9yOiB1bmRlZmluZWQsXG4gICAgICAvLyAgIH0sXG4gICAgICAvLyB9LFxuICAgICAgZm9vdGVyOiB7XG4gICAgICAgIGFsaWduOiAnc3RhcnQnLFxuICAgICAgICBwYWQ6IHtcbiAgICAgICAgICBob3Jpem9udGFsOiAnc21hbGwnLFxuICAgICAgICAgIHZlcnRpY2FsOiAneHNtYWxsJ1xuICAgICAgICB9LFxuICAgICAgICBib3JkZXI6ICd0b3AnIC8vIHZlcnRpY2FsQWxpZ246IHVuZGVmaW5lZCxcbiAgICAgICAgLy8gYmFja2dyb3VuZDogdW5kZWZpbmVkLFxuICAgICAgICAvLyBleHRlbmQ6IHVuZGVmaW5lZCxcblxuICAgICAgfVxuICAgIH0sXG4gICAgdGV4dDoge1xuICAgICAgeHNtYWxsOiBfZXh0ZW5kcyh7fSwgZm9udFNpemluZygtMS41KSksXG4gICAgICBzbWFsbDogX2V4dGVuZHMoe30sIGZvbnRTaXppbmcoLTEpKSxcbiAgICAgIG1lZGl1bTogX2V4dGVuZHMoe30sIGZvbnRTaXppbmcoMCkpLFxuICAgICAgLy8gMThweFxuICAgICAgbGFyZ2U6IF9leHRlbmRzKHt9LCBmb250U2l6aW5nKDEpKSxcbiAgICAgIC8vIDIycHhcbiAgICAgIHhsYXJnZTogX2V4dGVuZHMoe30sIGZvbnRTaXppbmcoMikpLFxuICAgICAgeHhsYXJnZTogX2V4dGVuZHMoe30sIGZvbnRTaXppbmcoNCkpXG4gICAgfSxcbiAgICB0ZXh0QXJlYTogey8vIGV4dGVuZDogdW5kZWZpbmVkLFxuICAgICAgLy8gZGlzYWJsZWQ6IHsgb3BhY2l0eTogdW5kZWZpbmVkIH0sXG4gICAgfSxcbiAgICB0ZXh0SW5wdXQ6IHsvLyBleHRlbmQ6IHVuZGVmaW5lZCxcbiAgICAgIC8vIGRpc2FibGVkOiB7IG9wYWNpdHk6IHVuZGVmaW5lZCB9LFxuICAgIH0sXG4gICAgdmlkZW86IHtcbiAgICAgIGNhcHRpb25zOiB7XG4gICAgICAgIGJhY2tncm91bmQ6ICdyZ2JhKDAsIDAsIDAsIDAuNyknXG4gICAgICB9LFxuICAgICAgLy8gY29udHJvbHM6IHsgYmFja2dyb3VuZDogdW5kZWZpbmVkIH0sXG4gICAgICBpY29uczoge1xuICAgICAgICBjbG9zZWRDYXB0aW9uOiBDbG9zZWRDYXB0aW9uLFxuICAgICAgICBjb25maWd1cmU6IEFjdGlvbnMsXG4gICAgICAgIGZ1bGxTY3JlZW46IEV4cGFuZCxcbiAgICAgICAgcGF1c2U6IFBhdXNlLFxuICAgICAgICBwbGF5OiBQbGF5LFxuICAgICAgICByZWR1Y2VWb2x1bWU6IFZvbHVtZUxvdyxcbiAgICAgICAgdm9sdW1lOiBWb2x1bWUgLy8gY29sb3I6IHsgZGFyazogdW5kZWZpbmVkLCBsaWdodDogdW5kZWZpbmVkIH0sXG5cbiAgICAgIH0sXG4gICAgICAvLyBzY3J1YmJlcjogeyB0cmFjazogeyBjb2xvcjogdW5kZWZpbmVkIH0gfSxcbiAgICAgIHNjcnViYmVyOiB7XG4gICAgICAgIGNvbG9yOiAnbGlnaHQtNCdcbiAgICAgIH1cbiAgICB9LFxuICAgIHdvcmxkTWFwOiB7XG4gICAgICBjb2xvcjogJ2xpZ2h0LTMnLFxuICAgICAgY29udGluZW50OiB7XG4gICAgICAgIGFjdGl2ZTogJzhweCcsXG4gICAgICAgIGJhc2U6ICc2cHgnXG4gICAgICB9LFxuICAgICAgaG92ZXI6IHtcbiAgICAgICAgY29sb3I6ICdsaWdodC00J1xuICAgICAgfSxcbiAgICAgIHBsYWNlOiB7XG4gICAgICAgIGFjdGl2ZTogJzIwcHgnLFxuICAgICAgICBiYXNlOiAnOHB4J1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIHJldHVybiBkZWVwRnJlZXplKHJlc3VsdCk7XG59O1xuZXhwb3J0IHZhciBiYXNlID0gZ2VuZXJhdGUoMjQpOyIsImltcG9ydCB7IHJnYmEgfSBmcm9tICdwb2xpc2hlZCc7XG5pbXBvcnQgeyBjc3MgfSBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBkZWVwRnJlZXplIH0gZnJvbSAnLi4vdXRpbHMvb2JqZWN0JztcbmltcG9ydCB7IG5vcm1hbGl6ZUNvbG9yIH0gZnJvbSAnLi4vdXRpbHMvY29sb3JzJztcbnZhciBhY2NlbnRDb2xvcnMgPSBbJyNGRDZGRkYnLCAnIzYwRUI5RicsICcjNjBFQkUxJywgJyNGRkNBNTgnXTtcbnZhciBuZXV0cmFsQ29sb3JzID0gWycjRUI2MDYwJywgJyMwMUM3ODEnLCAnIzYwOTVFQicsICcjRkZCMjAwJ107XG52YXIgc3RhdHVzQ29sb3JzID0ge1xuICBjcml0aWNhbDogJyNGRjMzMzMnLFxuICBlcnJvcjogJyNGRjMzMzMnLFxuICB3YXJuaW5nOiAnI0Y3RTQ2NCcsXG4gIG9rOiAnIzdERDg5MicsXG4gIHVua25vd246ICcjYThhOGE4JyxcbiAgZGlzYWJsZWQ6ICcjYThhOGE4J1xufTtcbnZhciBiYWNrZ3JvdW5kQ29sb3IgPSAnIzExMTExMSc7XG52YXIgY29sb3JzID0ge1xuICBhY3RpdmU6IHJnYmEoMTAyLCAxMDIsIDEwMiwgMC41KSxcbiAgYmFja2dyb3VuZDogYmFja2dyb3VuZENvbG9yLFxuICBibGFjazogJyMwMDAwMDAnLFxuICBicmFuZDogJyNGRDZGRkYnLFxuICBjb250cm9sOiB7XG4gICAgZGFyazogJyNGRkNBNTgnLFxuICAgIGxpZ2h0OiAnIzQwMzIxNidcbiAgfSxcbiAgZm9jdXM6ICcjRkZDQTU4JyxcbiAgaWNvbjoge1xuICAgIGRhcms6ICcjZjhmOGY4JyxcbiAgICBsaWdodDogJyM2NjY2NjYnXG4gIH0sXG4gIHBsYWNlaG9sZGVyOiAnI0FBQUFBQScsXG4gIHRleHQ6IHtcbiAgICBkYXJrOiAnI2VlZWVlZScsXG4gICAgbGlnaHQ6ICcjNDQ0NDQ0J1xuICB9LFxuICB3aGl0ZTogJyNGRkZGRkYnXG59O1xuXG52YXIgY29sb3JBcnJheSA9IGZ1bmN0aW9uIGNvbG9yQXJyYXkoYXJyYXksIHByZWZpeCkge1xuICByZXR1cm4gYXJyYXkuZm9yRWFjaChmdW5jdGlvbiAoY29sb3IsIGluZGV4KSB7XG4gICAgY29sb3JzW3ByZWZpeCArIFwiLVwiICsgKGluZGV4ICsgMSldID0gY29sb3I7XG4gIH0pO1xufTtcblxuY29sb3JBcnJheShhY2NlbnRDb2xvcnMsICdhY2NlbnQnKTtcbmNvbG9yQXJyYXkobmV1dHJhbENvbG9ycywgJ25ldXRyYWwnKTtcbk9iamVjdC5rZXlzKHN0YXR1c0NvbG9ycykuZm9yRWFjaChmdW5jdGlvbiAoY29sb3IpIHtcbiAgY29sb3JzW1wic3RhdHVzLVwiICsgY29sb3JdID0gc3RhdHVzQ29sb3JzW2NvbG9yXTtcbn0pO1xuZXhwb3J0IHZhciBkYXJrID0gZGVlcEZyZWV6ZSh7XG4gIGdsb2JhbDoge1xuICAgIGNvbG9yczogY29sb3JzLFxuICAgIGRyb3A6IHtcbiAgICAgIGJhY2tncm91bmQ6ICcjMzMzMzMzJ1xuICAgIH0sXG4gICAgZm9jdXM6IHtcbiAgICAgIGJvcmRlcjoge1xuICAgICAgICBjb2xvcjogY3NzKFtcIlwiLCBcIjtcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICAgIHJldHVybiBub3JtYWxpemVDb2xvcignZm9jdXMnLCBwcm9wcy50aGVtZSk7XG4gICAgICAgIH0pLFxuICAgICAgICB3aWR0aDogJzJweCdcbiAgICAgIH1cbiAgICB9LFxuICAgIGZvbnQ6IHtcbiAgICAgIGZhbWlseTogJ0FyaWFsJ1xuICAgIH0sXG4gICAgaW5wdXQ6IHtcbiAgICAgIHdlaWdodDogNzAwXG4gICAgfVxuICB9LFxuICBhbmNob3I6IHtcbiAgICBjb2xvcjogJ2NvbnRyb2wnXG4gIH0sXG4gIGxheWVyOiB7XG4gICAgYmFja2dyb3VuZDogYmFja2dyb3VuZENvbG9yLFxuICAgIG92ZXJsYXk6IHtcbiAgICAgIGJhY2tncm91bmQ6IHJnYmEoNDgsIDQ4LCA0OCwgMC41KVxuICAgIH1cbiAgfVxufSk7IiwiaW1wb3J0IHsgY3NzIH0gZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgZGVlcEZyZWV6ZSB9IGZyb20gJy4uL3V0aWxzL29iamVjdCc7XG5leHBvcnQgdmFyIGdyb21tZXQgPSBkZWVwRnJlZXplKHtcbiAgZ2xvYmFsOiB7XG4gICAgY29sb3JzOiB7XG4gICAgICBiYWNrZ3JvdW5kOiB7XG4gICAgICAgIGxpZ2h0OiAnI2ZmZmZmZicsXG4gICAgICAgIGRhcms6ICcjMDAwMDAwJ1xuICAgICAgfVxuICAgIH0sXG4gICAgZm9udDoge1xuICAgICAgZmFtaWx5OiBcIi1hcHBsZS1zeXN0ZW0sXFxuICAgICAgICAgQmxpbmtNYWNTeXN0ZW1Gb250LCBcXG4gICAgICAgICBcXFwiU2Vnb2UgVUlcXFwiLCBcXG4gICAgICAgICBSb2JvdG8sIFxcbiAgICAgICAgIE94eWdlbiwgXFxuICAgICAgICAgVWJ1bnR1LCBcXG4gICAgICAgICBDYW50YXJlbGwsIFxcbiAgICAgICAgIFxcXCJGaXJhIFNhbnNcXFwiLCBcXG4gICAgICAgICBcXFwiRHJvaWQgU2Fuc1xcXCIsICBcXG4gICAgICAgICBcXFwiSGVsdmV0aWNhIE5ldWVcXFwiLCBcXG4gICAgICAgICBBcmlhbCwgc2Fucy1zZXJpZiwgIFxcbiAgICAgICAgIFxcXCJBcHBsZSBDb2xvciBFbW9qaVxcXCIsIFxcbiAgICAgICAgIFxcXCJTZWdvZSBVSSBFbW9qaVxcXCIsIFxcbiAgICAgICAgIFxcXCJTZWdvZSBVSSBTeW1ib2xcXFwiXCJcbiAgICB9XG4gIH0sXG4gIGJ1dHRvbjoge1xuICAgIGV4dGVuZDogY3NzKFtcIlwiLCBcIlwiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICByZXR1cm4gIXByb3BzLnBsYWluICYmICdmb250LXdlaWdodDogYm9sZDsnO1xuICAgIH0pXG4gIH1cbn0pOyIsImV4cG9ydCB7IGJhc2UsIGdlbmVyYXRlIH0gZnJvbSAnLi9iYXNlJztcbmV4cG9ydCB7IGdyb21tZXQgfSBmcm9tICcuL2dyb21tZXQnO1xuZXhwb3J0IHsgZGFyayB9IGZyb20gJy4vZGFyayc7IiwiZXhwb3J0IHZhciBmaWx0ZXJCeUZvY3VzYWJsZSA9IGZ1bmN0aW9uIGZpbHRlckJ5Rm9jdXNhYmxlKGVsZW1lbnRzKSB7XG4gIHJldHVybiBBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwoZWxlbWVudHMgfHwgW10sIGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgdmFyIGN1cnJlbnRUYWcgPSBlbGVtZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKTtcbiAgICB2YXIgdmFsaWRUYWdzID0gLyhzdmd8YXxhcmVhfGlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b258aWZyYW1lfGRpdikkLztcbiAgICB2YXIgaXNWYWxpZFRhZyA9IGN1cnJlbnRUYWcubWF0Y2godmFsaWRUYWdzKSAmJiBlbGVtZW50LmZvY3VzO1xuXG4gICAgaWYgKGN1cnJlbnRUYWcgPT09ICdhJykge1xuICAgICAgcmV0dXJuIGlzVmFsaWRUYWcgJiYgZWxlbWVudC5jaGlsZE5vZGVzLmxlbmd0aCA+IDAgJiYgZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2hyZWYnKTtcbiAgICB9XG5cbiAgICBpZiAoY3VycmVudFRhZyA9PT0gJ3N2ZycgfHwgY3VycmVudFRhZyA9PT0gJ2RpdicpIHtcbiAgICAgIHJldHVybiBpc1ZhbGlkVGFnICYmIGVsZW1lbnQuaGFzQXR0cmlidXRlKCd0YWJpbmRleCcpICYmIGVsZW1lbnQuZ2V0QXR0cmlidXRlKCd0YWJpbmRleCcpICE9PSAnLTEnO1xuICAgIH1cblxuICAgIHJldHVybiBpc1ZhbGlkVGFnO1xuICB9KTtcbn07XG5leHBvcnQgdmFyIGZpbmRTY3JvbGxQYXJlbnRzID0gZnVuY3Rpb24gZmluZFNjcm9sbFBhcmVudHMoZWxlbWVudCwgaG9yaXpvbnRhbCkge1xuICB2YXIgcmVzdWx0ID0gW107XG5cbiAgaWYgKGVsZW1lbnQpIHtcbiAgICB2YXIgcGFyZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xuXG4gICAgd2hpbGUgKHBhcmVudCAmJiBwYXJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KSB7XG4gICAgICB2YXIgcmVjdCA9IHBhcmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsgLy8gMTBweCBpcyB0byBhY2NvdW50IGZvciBib3JkZXJzIGFuZCBzY3JvbGxiYXJzIGluIGEgbGF6eSB3YXlcblxuICAgICAgaWYgKGhvcml6b250YWwpIHtcbiAgICAgICAgaWYgKHJlY3Qud2lkdGggJiYgcGFyZW50LnNjcm9sbFdpZHRoID4gcmVjdC53aWR0aCArIDEwKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2gocGFyZW50KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChyZWN0LmhlaWdodCAmJiBwYXJlbnQuc2Nyb2xsSGVpZ2h0ID4gcmVjdC5oZWlnaHQgKyAxMCkge1xuICAgICAgICByZXN1bHQucHVzaChwYXJlbnQpO1xuICAgICAgfVxuXG4gICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50Tm9kZTtcbiAgICB9IC8vIGxhc3Qgc2Nyb2xsYWJsZSBlbGVtZW50IHdpbGwgYmUgdGhlIGRvY3VtZW50XG4gICAgLy8gaWYgbm90aGluZyBlbHNlIGlzIHNjcm9sbGFibGUgaW4gdGhlIHBhZ2VcblxuXG4gICAgaWYgKHJlc3VsdC5sZW5ndGggPT09IDApIHtcbiAgICAgIHJlc3VsdC5wdXNoKGRvY3VtZW50KTtcbiAgICB9IGVsc2UgaWYgKHJlc3VsdFswXS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdib2R5Jykge1xuICAgICAgcmVzdWx0Lmxlbmd0aCA9IDA7XG4gICAgICByZXN1bHQucHVzaChkb2N1bWVudCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5leHBvcnQgdmFyIGdldEZpcnN0Rm9jdXNhYmxlRGVzY2VuZGFudCA9IGZ1bmN0aW9uIGdldEZpcnN0Rm9jdXNhYmxlRGVzY2VuZGFudChlbGVtZW50KSB7XG4gIHZhciBjaGlsZHJlbiA9IGVsZW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJyonKTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgdmFyIGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgdmFyIHRhZ05hbWUgPSBjaGlsZC50YWdOYW1lLnRvTG93ZXJDYXNlKCk7XG5cbiAgICBpZiAodGFnTmFtZSA9PT0gJ2lucHV0JyB8fCB0YWdOYW1lID09PSAnc2VsZWN0Jykge1xuICAgICAgcmV0dXJuIGNoaWxkO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB1bmRlZmluZWQ7XG59O1xuZXhwb3J0IHZhciBnZXRCb2R5Q2hpbGRFbGVtZW50cyA9IGZ1bmN0aW9uIGdldEJvZHlDaGlsZEVsZW1lbnRzKCkge1xuICB2YXIgZXhjbHVkZU1hdGNoID0gL14oc2NyaXB0fGxpbmspJC9pO1xuICB2YXIgY2hpbGRyZW4gPSBbXTtcbiAgW10uZm9yRWFjaC5jYWxsKGRvY3VtZW50LmJvZHkuY2hpbGRyZW4sIGZ1bmN0aW9uIChub2RlKSB7XG4gICAgaWYgKCFleGNsdWRlTWF0Y2gudGVzdChub2RlLnRhZ05hbWUpKSB7XG4gICAgICBjaGlsZHJlbi5wdXNoKG5vZGUpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBjaGlsZHJlbjtcbn07XG5leHBvcnQgdmFyIGdldE5ld0NvbnRhaW5lciA9IGZ1bmN0aW9uIGdldE5ld0NvbnRhaW5lcigpIHtcbiAgLy8gc2V0dXAgRE9NXG4gIHZhciBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjb250YWluZXIpO1xuICByZXR1cm4gY29udGFpbmVyO1xufTtcbmV4cG9ydCB2YXIgc2V0Rm9jdXNXaXRob3V0U2Nyb2xsID0gZnVuY3Rpb24gc2V0Rm9jdXNXaXRob3V0U2Nyb2xsKGVsZW1lbnQpIHtcbiAgdmFyIHggPSB3aW5kb3cuc2Nyb2xsWDtcbiAgdmFyIHkgPSB3aW5kb3cuc2Nyb2xsWTtcbiAgZWxlbWVudC5mb2N1cygpO1xuICB3aW5kb3cuc2Nyb2xsVG8oeCwgeSk7XG59O1xuZXhwb3J0IHZhciBzZXRUYWJJbmRleCA9IGZ1bmN0aW9uIHNldFRhYkluZGV4KHRhYkluZGV4KSB7XG4gIHJldHVybiBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsIHRhYkluZGV4KTtcbiAgfTtcbn07XG5leHBvcnQgdmFyIGNvcHlBdHRyaWJ1dGUgPSBmdW5jdGlvbiBjb3B5QXR0cmlidXRlKHNvdXJjZSkge1xuICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUodGFyZ2V0LCBlbGVtZW50LmdldEF0dHJpYnV0ZShzb3VyY2UpKTtcbiAgICB9O1xuICB9O1xufTtcblxudmFyIGRlbGV0ZUF0dHJpYnV0ZSA9IGZ1bmN0aW9uIGRlbGV0ZUF0dHJpYnV0ZShhdHRyaWJ1dGUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgcmV0dXJuIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKGF0dHJpYnV0ZSk7XG4gIH07XG59O1xuXG52YXIgdW5zZXRUYWJJbmRleCA9IHNldFRhYkluZGV4KC0xKTtcbnZhciBzYXZlVGFiSW5kZXggPSBjb3B5QXR0cmlidXRlKCd0YWJpbmRleCcpKCdkYXRhLWctdGFiaW5kZXgnKTtcbnZhciByZXN0b3JlVGFiSW5kZXggPSBjb3B5QXR0cmlidXRlKCdkYXRhLWctdGFiaW5kZXgnKSgndGFiaW5kZXgnKTtcbnZhciBkZWxldGVUYWJJbmRleCA9IGRlbGV0ZUF0dHJpYnV0ZSgndGFiaW5kZXgnKTtcbnZhciBkZWxldGVUYWJJbmRleENvcHkgPSBkZWxldGVBdHRyaWJ1dGUoJ2RhdGEtZy10YWJpbmRleCcpO1xuZXhwb3J0IHZhciBtYWtlTm9kZUZvY3VzYWJsZSA9IGZ1bmN0aW9uIG1ha2VOb2RlRm9jdXNhYmxlKG5vZGUpIHtcbiAgLy8gZG8gbm90IHRvdWNoIGFyaWEgbGl2ZSBjb250YWluZXJzIHNvIHRoYXQgYW5ub3VuY2VtZW50cyB3b3JrXG4gIGlmICghbm9kZS5oYXNBdHRyaWJ1dGUoJ2FyaWEtbGl2ZScpKSB7XG4gICAgbm9kZS5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgZmFsc2UpOyAvLyBhbGxvdyBjaGlsZHJlbiB0byByZWNlaXZlIGZvY3VzIGFnYWluXG5cbiAgICBmaWx0ZXJCeUZvY3VzYWJsZShub2RlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCcqJykpLmZvckVhY2goZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICBpZiAoY2hpbGQuaGFzQXR0cmlidXRlKCdkYXRhLWctdGFiaW5kZXgnKSkge1xuICAgICAgICByZXN0b3JlVGFiSW5kZXgoY2hpbGQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVsZXRlVGFiSW5kZXgoY2hpbGQpO1xuICAgICAgfVxuXG4gICAgICBkZWxldGVUYWJJbmRleENvcHkoY2hpbGQpO1xuICAgIH0pO1xuICB9XG59O1xuZXhwb3J0IHZhciBtYWtlTm9kZVVuZm9jdXNhYmxlID0gZnVuY3Rpb24gbWFrZU5vZGVVbmZvY3VzYWJsZShub2RlKSB7XG4gIC8vIGRvIG5vdCB0b3VjaCBhcmlhIGxpdmUgY29udGFpbmVycyBzbyB0aGF0IGFubm91bmNlbWVudHMgd29ya1xuICBpZiAoIW5vZGUuaGFzQXR0cmlidXRlKCdhcmlhLWxpdmUnKSkge1xuICAgIG5vZGUuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsIHRydWUpOyAvLyBwcmV2ZW50IGNoaWxkcmVuIHRvIHJlY2VpdmUgZm9jdXNcblxuICAgIGZpbHRlckJ5Rm9jdXNhYmxlKG5vZGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJyonKSkuZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgIGlmIChjaGlsZC5oYXNBdHRyaWJ1dGUoJ3RhYmluZGV4JykpIHtcbiAgICAgICAgc2F2ZVRhYkluZGV4KGNoaWxkKTtcbiAgICAgIH1cblxuICAgICAgdW5zZXRUYWJJbmRleChjaGlsZCk7XG4gICAgfSk7XG4gIH1cbn07XG5leHBvcnQgdmFyIGZpbmRWaXNpYmxlUGFyZW50ID0gZnVuY3Rpb24gZmluZFZpc2libGVQYXJlbnQoZWxlbWVudCkge1xuICBpZiAoZWxlbWVudCkge1xuICAgIHJldHVybiBlbGVtZW50Lm9mZnNldFBhcmVudCA/IGVsZW1lbnQgOiBmaW5kVmlzaWJsZVBhcmVudChlbGVtZW50LnBhcmVudEVsZW1lbnQpIHx8IGVsZW1lbnQ7XG4gIH1cblxuICByZXR1cm4gdW5kZWZpbmVkO1xufTtcbmV4cG9ydCB2YXIgaXNOb2RlQWZ0ZXJTY3JvbGwgPSBmdW5jdGlvbiBpc05vZGVBZnRlclNjcm9sbChub2RlLCB0YXJnZXQpIHtcbiAgaWYgKHRhcmdldCA9PT0gdm9pZCAwKSB7XG4gICAgdGFyZ2V0ID0gd2luZG93O1xuICB9XG5cbiAgdmFyIF9ub2RlJGdldEJvdW5kaW5nQ2xpZSA9IG5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXG4gICAgICBib3R0b20gPSBfbm9kZSRnZXRCb3VuZGluZ0NsaWUuYm90dG9tO1xuXG4gIHZhciBfdGFyZ2V0JGdldEJvdW5kaW5nQ2wgPSB0YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXG4gICAgICBoZWlnaHQgPSBfdGFyZ2V0JGdldEJvdW5kaW5nQ2wuaGVpZ2h0LFxuICAgICAgdG9wID0gX3RhcmdldCRnZXRCb3VuZGluZ0NsLnRvcDtcblxuICByZXR1cm4gYm90dG9tID49IHRvcCArIGhlaWdodDtcbn07XG5leHBvcnQgdmFyIGlzTm9kZUJlZm9yZVNjcm9sbCA9IGZ1bmN0aW9uIGlzTm9kZUJlZm9yZVNjcm9sbChub2RlLCB0YXJnZXQpIHtcbiAgaWYgKHRhcmdldCA9PT0gdm9pZCAwKSB7XG4gICAgdGFyZ2V0ID0gd2luZG93O1xuICB9XG5cbiAgdmFyIF9ub2RlJGdldEJvdW5kaW5nQ2xpZTIgPSBub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgdG9wID0gX25vZGUkZ2V0Qm91bmRpbmdDbGllMi50b3A7XG5cbiAgdmFyIF90YXJnZXQkZ2V0Qm91bmRpbmdDbDIgPSB0YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXG4gICAgICB0YXJnZXRUb3AgPSBfdGFyZ2V0JGdldEJvdW5kaW5nQ2wyLnRvcDtcblxuICByZXR1cm4gdG9wIDw9IHRhcmdldFRvcDtcbn07IiwiaW1wb3J0IHsgY3NzIH0gZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgY29sb3JJc0RhcmssIGdldFJHQkEsIG5vcm1hbGl6ZUNvbG9yIH0gZnJvbSAnLi9jb2xvcnMnO1xuaW1wb3J0IHsgZXZhbFN0eWxlIH0gZnJvbSAnLi9zdHlsZXMnO1xuZXhwb3J0IHZhciBub3JtYWxpemVCYWNrZ3JvdW5kID0gZnVuY3Rpb24gbm9ybWFsaXplQmFja2dyb3VuZChiYWNrZ3JvdW5kLCB0aGVtZSkge1xuICAvLyBJZiB0aGUgYmFja2dyb3VuZCBoYXMgYSBsaWdodCBvciBkYXJrIG9iamVjdCwgdXNlIHRoYXRcbiAgdmFyIHJlc3VsdCA9IGJhY2tncm91bmQ7XG5cbiAgaWYgKGJhY2tncm91bmQpIHtcbiAgICBpZiAodGhlbWUuZGFyayAmJiBiYWNrZ3JvdW5kLmRhcmsgJiYgdHlwZW9mIGJhY2tncm91bmQuZGFyayAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICByZXN1bHQgPSBiYWNrZ3JvdW5kLmRhcms7XG4gICAgfSBlbHNlIGlmICghdGhlbWUuZGFyayAmJiBiYWNrZ3JvdW5kLmxpZ2h0ICYmIHR5cGVvZiBiYWNrZ3JvdW5kLmxpZ2h0ICE9PSAnYm9vbGVhbicpIHtcbiAgICAgIHJlc3VsdCA9IGJhY2tncm91bmQubGlnaHQ7XG4gICAgfVxuXG4gICAgcmVzdWx0ID0gZXZhbFN0eWxlKHJlc3VsdCwgdGhlbWUpO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5leHBvcnQgdmFyIGJhY2tncm91bmRJc0RhcmsgPSBmdW5jdGlvbiBiYWNrZ3JvdW5kSXNEYXJrKGJhY2tncm91bmRBcmcsIHRoZW1lKSB7XG4gIHZhciBiYWNrZ3JvdW5kID0gbm9ybWFsaXplQmFja2dyb3VuZChiYWNrZ3JvdW5kQXJnLCB0aGVtZSk7XG4gIHZhciByZXN1bHQ7XG5cbiAgaWYgKGJhY2tncm91bmQpIHtcbiAgICBpZiAodHlwZW9mIGJhY2tncm91bmQgPT09ICdvYmplY3QnKSB7XG4gICAgICB2YXIgY29sb3IgPSBiYWNrZ3JvdW5kLmNvbG9yLFxuICAgICAgICAgIGRhcmsgPSBiYWNrZ3JvdW5kLmRhcmssXG4gICAgICAgICAgb3BhY2l0eSA9IGJhY2tncm91bmQub3BhY2l0eTtcblxuICAgICAgaWYgKHR5cGVvZiBkYXJrID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgcmVzdWx0ID0gZGFyaztcbiAgICAgIH0gZWxzZSBpZiAoY29sb3IgJiYgKCAvLyB3ZWFrIG9wYWNpdHkgbWVhbnMgd2Uga2VlcCB0aGUgZXhpc3RpbmcgZGFya25lc3NcbiAgICAgICFvcGFjaXR5IHx8IG9wYWNpdHkgIT09ICd3ZWFrJykpIHtcbiAgICAgICAgdmFyIGJhY2tncm91bmRDb2xvciA9IG5vcm1hbGl6ZUNvbG9yKGJhY2tncm91bmQuY29sb3IsIHRoZW1lKTtcblxuICAgICAgICBpZiAoYmFja2dyb3VuZENvbG9yKSB7XG4gICAgICAgICAgcmVzdWx0ID0gY29sb3JJc0RhcmsoYmFja2dyb3VuZENvbG9yKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgX2NvbG9yID0gbm9ybWFsaXplQ29sb3IoYmFja2dyb3VuZCwgdGhlbWUpO1xuXG4gICAgICBpZiAoX2NvbG9yKSB7XG4gICAgICAgIHJlc3VsdCA9IGNvbG9ySXNEYXJrKF9jb2xvcik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5leHBvcnQgdmFyIGJhY2tncm91bmRTdHlsZSA9IGZ1bmN0aW9uIGJhY2tncm91bmRTdHlsZShiYWNrZ3JvdW5kQXJnLCB0aGVtZSwgdGV4dENvbG9yQXJnKSB7XG4gIC8vIElmIHRoZSBiYWNrZ3JvdW5kIGhhcyBhIGxpZ2h0IG9yIGRhcmsgb2JqZWN0LCB1c2UgdGhhdFxuICB2YXIgYmFja2dyb3VuZCA9IG5vcm1hbGl6ZUJhY2tncm91bmQoYmFja2dyb3VuZEFyZywgdGhlbWUpO1xuICB2YXIgdGV4dENvbG9yID0gdGV4dENvbG9yQXJnIHx8IHRoZW1lLmdsb2JhbC5jb2xvcnMudGV4dDtcblxuICBpZiAodHlwZW9mIGJhY2tncm91bmQgPT09ICdvYmplY3QnKSB7XG4gICAgdmFyIHN0eWxlcyA9IFtdO1xuXG4gICAgaWYgKGJhY2tncm91bmQuaW1hZ2UpIHtcbiAgICAgIHZhciBjb2xvcjtcblxuICAgICAgaWYgKGJhY2tncm91bmQuZGFyayA9PT0gZmFsc2UpIHtcbiAgICAgICAgY29sb3IgPSBub3JtYWxpemVDb2xvcih0ZXh0Q29sb3IubGlnaHQgfHwgdGV4dENvbG9yLCB0aGVtZSk7XG4gICAgICB9IGVsc2UgaWYgKGJhY2tncm91bmQuZGFyaykge1xuICAgICAgICBjb2xvciA9IG5vcm1hbGl6ZUNvbG9yKHRleHRDb2xvci5kYXJrIHx8IHRleHRDb2xvciwgdGhlbWUpO1xuICAgICAgfSBlbHNlIGlmICghdGV4dENvbG9yQXJnKSB7XG4gICAgICAgIGNvbG9yID0gJ2luaGVyaXQnO1xuICAgICAgfVxuXG4gICAgICBzdHlsZXMucHVzaChjc3MoW1wiYmFja2dyb3VuZC1pbWFnZTpcIiwgXCI7YmFja2dyb3VuZC1yZXBlYXQ6XCIsIFwiO2JhY2tncm91bmQtcG9zaXRpb246XCIsIFwiO2JhY2tncm91bmQtc2l6ZTpcIiwgXCI7Y29sb3I6XCIsIFwiO1wiXSwgYmFja2dyb3VuZC5pbWFnZSwgYmFja2dyb3VuZC5yZXBlYXQgfHwgJ25vLXJlcGVhdCcsIGJhY2tncm91bmQucG9zaXRpb24gfHwgJ2NlbnRlciBjZW50ZXInLCBiYWNrZ3JvdW5kLnNpemUgfHwgJ2NvdmVyJywgY29sb3IpKTtcbiAgICB9XG5cbiAgICBpZiAoYmFja2dyb3VuZC5jb2xvcikge1xuICAgICAgdmFyIF9jb2xvcjIgPSBub3JtYWxpemVDb2xvcihiYWNrZ3JvdW5kLmNvbG9yLCB0aGVtZSk7XG5cbiAgICAgIHZhciBiYWNrZ3JvdW5kQ29sb3IgPSBnZXRSR0JBKF9jb2xvcjIsIGJhY2tncm91bmQub3BhY2l0eSA9PT0gdHJ1ZSA/IHRoZW1lLmdsb2JhbC5vcGFjaXR5Lm1lZGl1bSA6IHRoZW1lLmdsb2JhbC5vcGFjaXR5W2JhY2tncm91bmQub3BhY2l0eV0gfHwgYmFja2dyb3VuZC5vcGFjaXR5KSB8fCBfY29sb3IyO1xuXG4gICAgICBzdHlsZXMucHVzaChjc3MoW1wiYmFja2dyb3VuZC1jb2xvcjpcIiwgXCI7XCIsIFwiXCJdLCBiYWNrZ3JvdW5kQ29sb3IsICghYmFja2dyb3VuZC5vcGFjaXR5IHx8IGJhY2tncm91bmQub3BhY2l0eSAhPT0gJ3dlYWsnKSAmJiBcImNvbG9yOiBcIiArIG5vcm1hbGl6ZUNvbG9yKHRleHRDb2xvcltiYWNrZ3JvdW5kLmRhcmsgfHwgY29sb3JJc0RhcmsoYmFja2dyb3VuZENvbG9yKSA/ICdkYXJrJyA6ICdsaWdodCddIHx8IHRleHRDb2xvciwgdGhlbWUpICsgXCI7XCIpKTtcbiAgICB9XG5cbiAgICBpZiAoYmFja2dyb3VuZC5kYXJrID09PSBmYWxzZSkge1xuICAgICAgc3R5bGVzLnB1c2goY3NzKFtcImNvbG9yOlwiLCBcIjtcIl0sIHRleHRDb2xvci5saWdodCB8fCB0ZXh0Q29sb3IpKTtcbiAgICB9IGVsc2UgaWYgKGJhY2tncm91bmQuZGFyaykge1xuICAgICAgc3R5bGVzLnB1c2goY3NzKFtcImNvbG9yOlwiLCBcIjtcIl0sIHRleHRDb2xvci5kYXJrIHx8IHRleHRDb2xvcikpO1xuICAgIH1cblxuICAgIHJldHVybiBzdHlsZXM7XG4gIH1cblxuICBpZiAoYmFja2dyb3VuZCkge1xuICAgIGlmIChiYWNrZ3JvdW5kLmxhc3RJbmRleE9mKCd1cmwnLCAwKSA9PT0gMCkge1xuICAgICAgcmV0dXJuIGNzcyhbXCJiYWNrZ3JvdW5kOlwiLCBcIiBuby1yZXBlYXQgY2VudGVyIGNlbnRlcjtiYWNrZ3JvdW5kLXNpemU6Y292ZXI7XCJdLCBiYWNrZ3JvdW5kKTtcbiAgICB9XG5cbiAgICB2YXIgX2JhY2tncm91bmRDb2xvciA9IG5vcm1hbGl6ZUNvbG9yKGJhY2tncm91bmQsIHRoZW1lKTtcblxuICAgIGlmIChfYmFja2dyb3VuZENvbG9yKSB7XG4gICAgICByZXR1cm4gY3NzKFtcImJhY2tncm91bmQ6XCIsIFwiO2NvbG9yOlwiLCBcIjtcIl0sIF9iYWNrZ3JvdW5kQ29sb3IsIG5vcm1hbGl6ZUNvbG9yKHRleHRDb2xvcltjb2xvcklzRGFyayhfYmFja2dyb3VuZENvbG9yKSA/ICdkYXJrJyA6ICdsaWdodCddIHx8IHRleHRDb2xvciwgdGhlbWUpKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdW5kZWZpbmVkO1xufTtcbmV4cG9ydCB2YXIgYWN0aXZlU3R5bGUgPSBjc3MoW1wiXCIsIFwiXCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIGJhY2tncm91bmRTdHlsZShub3JtYWxpemVDb2xvcihwcm9wcy50aGVtZS5nbG9iYWwuYWN0aXZlLmJhY2tncm91bmQsIHByb3BzLnRoZW1lKSwgcHJvcHMudGhlbWUsIHByb3BzLnRoZW1lLmdsb2JhbC5hY3RpdmUuY29sb3IpO1xufSk7XG5leHBvcnQgdmFyIHNlbGVjdGVkU3R5bGUgPSBjc3MoW1wiXCIsIFwiXCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIGJhY2tncm91bmRTdHlsZShub3JtYWxpemVDb2xvcihwcm9wcy50aGVtZS5nbG9iYWwuc2VsZWN0ZWQuYmFja2dyb3VuZCwgcHJvcHMudGhlbWUpLCBwcm9wcy50aGVtZSwgcHJvcHMudGhlbWUuZ2xvYmFsLnNlbGVjdGVkLmNvbG9yKTtcbn0pO1xuZXhwb3J0IHZhciBnZXRIb3ZlckluZGljYXRvclN0eWxlID0gZnVuY3Rpb24gZ2V0SG92ZXJJbmRpY2F0b3JTdHlsZShob3ZlckluZGljYXRvciwgdGhlbWUpIHtcbiAgdmFyIGJhY2tncm91bmQ7XG5cbiAgaWYgKGhvdmVySW5kaWNhdG9yID09PSB0cnVlIHx8IGhvdmVySW5kaWNhdG9yID09PSAnYmFja2dyb3VuZCcpIHtcbiAgICBiYWNrZ3JvdW5kID0gdGhlbWUuZ2xvYmFsLmhvdmVyLmJhY2tncm91bmQ7XG4gIH0gZWxzZSB7XG4gICAgYmFja2dyb3VuZCA9IGhvdmVySW5kaWNhdG9yO1xuICB9XG5cbiAgcmV0dXJuIGNzcyhbXCJcIiwgXCJcIl0sIGJhY2tncm91bmRTdHlsZShiYWNrZ3JvdW5kLCB0aGVtZSwgdGhlbWUuZ2xvYmFsLmhvdmVyLmNvbG9yKSk7XG59OyIsImltcG9ydCB7IGNzcyB9IGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCB7IG5vcm1hbGl6ZUNvbG9yIH0gZnJvbSAnLi9jb2xvcnMnO1xuaW1wb3J0IHsgYnJlYWtwb2ludFN0eWxlIH0gZnJvbSAnLi9taXhpbnMnO1xuZXhwb3J0IHZhciBib3JkZXJTdHlsZSA9IGZ1bmN0aW9uIGJvcmRlclN0eWxlKGRhdGEsIHJlc3BvbnNpdmUsIHRoZW1lKSB7XG4gIHZhciBzdHlsZXMgPSBbXTtcbiAgdmFyIGNvbG9yID0gbm9ybWFsaXplQ29sb3IoZGF0YS5jb2xvciB8fCAnYm9yZGVyJywgdGhlbWUpO1xuICB2YXIgYm9yZGVyU2l6ZSA9IGRhdGEuc2l6ZSB8fCAneHNtYWxsJztcbiAgdmFyIHN0eWxlID0gZGF0YS5zdHlsZSB8fCAnc29saWQnO1xuICB2YXIgc2lkZSA9IHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJyA/IGRhdGEgOiBkYXRhLnNpZGUgfHwgJ2FsbCc7XG4gIHZhciB2YWx1ZSA9IHN0eWxlICsgXCIgXCIgKyAodGhlbWUuZ2xvYmFsLmJvcmRlclNpemVbYm9yZGVyU2l6ZV0gfHwgYm9yZGVyU2l6ZSkgKyBcIiBcIiArIGNvbG9yO1xuICB2YXIgYnJlYWtwb2ludCA9IHRoZW1lLmJveC5yZXNwb25zaXZlQnJlYWtwb2ludCAmJiB0aGVtZS5nbG9iYWwuYnJlYWtwb2ludHNbdGhlbWUuYm94LnJlc3BvbnNpdmVCcmVha3BvaW50XTtcbiAgdmFyIHJlc3BvbnNpdmVWYWx1ZSA9IHJlc3BvbnNpdmUgJiYgYnJlYWtwb2ludCAmJiAoYnJlYWtwb2ludC5ib3JkZXJTaXplW2JvcmRlclNpemVdIHx8IGJvcmRlclNpemUpICYmIHN0eWxlICsgXCIgXCIgKyAoYnJlYWtwb2ludC5ib3JkZXJTaXplW2JvcmRlclNpemVdIHx8IGJvcmRlclNpemUpICsgXCIgXCIgKyBjb2xvcjtcblxuICBpZiAoc2lkZSA9PT0gJ3RvcCcgfHwgc2lkZSA9PT0gJ2JvdHRvbScgfHwgc2lkZSA9PT0gJ2xlZnQnIHx8IHNpZGUgPT09ICdyaWdodCcpIHtcbiAgICBzdHlsZXMucHVzaChjc3MoW1wiYm9yZGVyLVwiLCBcIjpcIiwgXCI7XCJdLCBzaWRlLCB2YWx1ZSkpO1xuXG4gICAgaWYgKHJlc3BvbnNpdmVWYWx1ZSkge1xuICAgICAgc3R5bGVzLnB1c2goYnJlYWtwb2ludFN0eWxlKGJyZWFrcG9pbnQsIFwiXFxuICAgICAgICBib3JkZXItXCIgKyBzaWRlICsgXCI6IFwiICsgcmVzcG9uc2l2ZVZhbHVlICsgXCI7XFxuICAgICAgXCIpKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoc2lkZSA9PT0gJ3ZlcnRpY2FsJykge1xuICAgIHN0eWxlcy5wdXNoKGNzcyhbXCJib3JkZXItbGVmdDpcIiwgXCI7Ym9yZGVyLXJpZ2h0OlwiLCBcIjtcIl0sIHZhbHVlLCB2YWx1ZSkpO1xuXG4gICAgaWYgKHJlc3BvbnNpdmVWYWx1ZSkge1xuICAgICAgc3R5bGVzLnB1c2goYnJlYWtwb2ludFN0eWxlKGJyZWFrcG9pbnQsIFwiXFxuICAgICAgICBib3JkZXItbGVmdDogXCIgKyByZXNwb25zaXZlVmFsdWUgKyBcIjtcXG4gICAgICAgIGJvcmRlci1yaWdodDogXCIgKyByZXNwb25zaXZlVmFsdWUgKyBcIjtcXG4gICAgICBcIikpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChzaWRlID09PSAnaG9yaXpvbnRhbCcpIHtcbiAgICBzdHlsZXMucHVzaChjc3MoW1wiYm9yZGVyLXRvcDpcIiwgXCI7Ym9yZGVyLWJvdHRvbTpcIiwgXCI7XCJdLCB2YWx1ZSwgdmFsdWUpKTtcblxuICAgIGlmIChyZXNwb25zaXZlVmFsdWUpIHtcbiAgICAgIHN0eWxlcy5wdXNoKGJyZWFrcG9pbnRTdHlsZShicmVha3BvaW50LCBcIlxcbiAgICAgICAgYm9yZGVyLXRvcDogXCIgKyByZXNwb25zaXZlVmFsdWUgKyBcIjtcXG4gICAgICAgIGJvcmRlci1ib3R0b206IFwiICsgcmVzcG9uc2l2ZVZhbHVlICsgXCI7XFxuICAgICAgXCIpKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgc3R5bGVzLnB1c2goY3NzKFtcImJvcmRlcjpcIiwgXCI7XCJdLCB2YWx1ZSkpO1xuXG4gICAgaWYgKHJlc3BvbnNpdmVWYWx1ZSkge1xuICAgICAgc3R5bGVzLnB1c2goYnJlYWtwb2ludFN0eWxlKGJyZWFrcG9pbnQsIFwiYm9yZGVyOiBcIiArIHJlc3BvbnNpdmVWYWx1ZSArIFwiO1wiKSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHN0eWxlcztcbn07IiwiZXhwb3J0IHZhciBub3JtYWxpemVDb2xvciA9IGZ1bmN0aW9uIG5vcm1hbGl6ZUNvbG9yKGNvbG9yLCB0aGVtZSwgcmVxdWlyZWQpIHtcbiAgdmFyIGNvbG9yU3BlYyA9IHRoZW1lLmdsb2JhbC5jb2xvcnNbY29sb3JdICE9PSB1bmRlZmluZWQgPyB0aGVtZS5nbG9iYWwuY29sb3JzW2NvbG9yXSA6IGNvbG9yOyAvLyBJZiB0aGUgY29sb3IgaGFzIGEgbGlnaHQgb3IgZGFyayBvYmplY3QsIHVzZSB0aGF0XG5cbiAgdmFyIHJlc3VsdCA9IGNvbG9yU3BlYztcblxuICBpZiAoY29sb3JTcGVjKSB7XG4gICAgaWYgKHRoZW1lLmRhcmsgJiYgY29sb3JTcGVjLmRhcmsgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmVzdWx0ID0gY29sb3JTcGVjLmRhcms7XG4gICAgfSBlbHNlIGlmICghdGhlbWUuZGFyayAmJiBjb2xvclNwZWMubGlnaHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmVzdWx0ID0gY29sb3JTcGVjLmxpZ2h0O1xuICAgIH1cbiAgfSAvLyBhbGxvdyBvbmUgbGV2ZWwgb2YgaW5kaXJlY3Rpb24gaW4gY29sb3IgbmFtZXNcblxuXG4gIGlmIChyZXN1bHQgJiYgdGhlbWUuZ2xvYmFsLmNvbG9yc1tyZXN1bHRdICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXN1bHQgPSBub3JtYWxpemVDb2xvcihyZXN1bHQsIHRoZW1lKTtcbiAgfVxuXG4gIHJldHVybiByZXF1aXJlZCAmJiByZXN1bHQgPT09IGNvbG9yID8gJ2luaGVyaXQnIDogcmVzdWx0O1xufTtcblxudmFyIHBhcnNlSGV4VG9SR0IgPSBmdW5jdGlvbiBwYXJzZUhleFRvUkdCKGNvbG9yKSB7XG4gIHJldHVybiBjb2xvci5sZW5ndGggPCA3IC8vIDcgaXMgd2hhdCdzIG5lZWRlZCBmb3IgJyNSUkdHQkInXG4gID8gY29sb3IubWF0Y2goL1tBLVphLXowLTldezF9L2cpLm1hcChmdW5jdGlvbiAodikge1xuICAgIHJldHVybiBwYXJzZUludChcIlwiICsgdiArIHYsIDE2KTtcbiAgfSkgOiAvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNDI0MjkzMzNcbiAgY29sb3IubWF0Y2goL1tBLVphLXowLTldezJ9L2cpLm1hcChmdW5jdGlvbiAodikge1xuICAgIHJldHVybiBwYXJzZUludCh2LCAxNik7XG4gIH0pO1xufTsgLy8gRnJvbTogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzk0OTMwNjAvODUxMzA2N1xuLy8gQ29udmVydHMgYW4gSFNMIGNvbG9yIHZhbHVlIHRvIFJHQi4gQ29udmVyc2lvbiBmb3JtdWxhXG4vLyBhZGFwdGVkIGZyb20gaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9IU0xfY29sb3Jfc3BhY2UuXG4vLyBBc3N1bWVzIGgsIHMsIGFuZCBsIGFyZSBjb250YWluZWQgaW4gdGhlIHNldCBbMCwgMV0gYW5kXG4vLyByZXR1cm5zIHIsIGcsIGFuZCBiIGluIHRoZSBzZXQgWzAsIDI1NV0uXG5cblxudmFyIGhzbFRvUkdCID0gZnVuY3Rpb24gaHNsVG9SR0IoaCwgcywgbCkge1xuICB2YXIgcjtcbiAgdmFyIGc7XG4gIHZhciBiO1xuXG4gIGlmIChzID09PSAwIHx8IHMgPT09ICcwJykge1xuICAgIC8vIGFjaHJvbWF0aWNcbiAgICByID0gbDtcbiAgICBnID0gbDtcbiAgICBiID0gbDtcbiAgfSBlbHNlIHtcbiAgICB2YXIgaHVlMnJnYiA9IGZ1bmN0aW9uIGh1ZTJyZ2IocCwgcSwgaW5UKSB7XG4gICAgICB2YXIgdCA9IGluVDtcbiAgICAgIGlmICh0IDwgMCkgdCArPSAxO1xuICAgICAgaWYgKHQgPiAxKSB0IC09IDE7XG4gICAgICBpZiAodCA8IDAuMTY2NjY2NjcpIHJldHVybiBwICsgKHEgLSBwKSAqIDYgKiB0O1xuICAgICAgaWYgKHQgPCAxIC8gMikgcmV0dXJuIHE7XG4gICAgICBpZiAodCA8IDAuNjY2NjY2NjcpIHJldHVybiBwICsgKHEgLSBwKSAqICgwLjY2NjY2NjY3IC0gdCkgKiA2O1xuICAgICAgcmV0dXJuIHA7XG4gICAgfTtcblxuICAgIHZhciBxID0gbCA8IDAuNSA/IGwgKiAoMSArIHMpIDogbCArIHMgLSBsICogcztcbiAgICB2YXIgcCA9IDIgKiBsIC0gcTtcbiAgICByID0gaHVlMnJnYihwLCBxLCBoICsgMC4zMzMzMzMzMyk7XG4gICAgZyA9IGh1ZTJyZ2IocCwgcSwgaCk7XG4gICAgYiA9IGh1ZTJyZ2IocCwgcSwgaCAtIDAuMzMzMzMzMzMpO1xuICB9XG5cbiAgcmV0dXJuIFtNYXRoLnJvdW5kKHIgKiAyNTUpLCBNYXRoLnJvdW5kKGcgKiAyNTUpLCBNYXRoLnJvdW5kKGIgKiAyNTUpXTtcbn07IC8vIGFsbG93IGZvciBhbHBoYTogI1JHQiwgI1JHQkEsICNSUkdHQkIsIG9yICNSUkdHQkJBQVxuXG5cbnZhciBoZXhFeHAgPSAvXiNbQS1aYS16MC05XXszLDR9JHxeI1tBLVphLXowLTldezYsOH0kLztcbnZhciByZ2JFeHAgPSAvcmdiYT9cXChcXHM/KFswLTldKilcXHM/LFxccz8oWzAtOV0qKVxccz8sXFxzPyhbMC05XSopXFxzP1xcKS87XG52YXIgcmdiYUV4cCA9IC9yZ2JhP1xcKFxccz8oWzAtOV0qKVxccz8sXFxzPyhbMC05XSopXFxzPyxcXHM/KFswLTldKilcXHM/LFxccz8oWy4wLTldKilcXHM/XFwpLzsgLy8gZS5nLiBoc2woMjQwLCA2MCUsIDUwJSlcblxudmFyIGhzbEV4cCA9IC9oc2xhP1xcKFxccz8oWzAtOV0qKVxccz8sXFxzPyhbMC05XSopJT9cXHM/LFxccz8oWzAtOV0qKSU/XFxzPy4qP1xcKS87XG5cbnZhciBjYW5FeHRyYWN0UkdCQXJyYXkgPSBmdW5jdGlvbiBjYW5FeHRyYWN0UkdCQXJyYXkoY29sb3IpIHtcbiAgcmV0dXJuIGhleEV4cC50ZXN0KGNvbG9yKSB8fCByZ2JFeHAudGVzdChjb2xvcikgfHwgcmdiYUV4cC50ZXN0KGNvbG9yKSB8fCBoc2xFeHAudGVzdChjb2xvcik7XG59O1xuXG52YXIgZ2V0UkdCQXJyYXkgPSBmdW5jdGlvbiBnZXRSR0JBcnJheShjb2xvcikge1xuICBpZiAoaGV4RXhwLnRlc3QoY29sb3IpKSB7XG4gICAgdmFyIF9wYXJzZUhleFRvUkdCID0gcGFyc2VIZXhUb1JHQihjb2xvciksXG4gICAgICAgIHJlZCA9IF9wYXJzZUhleFRvUkdCWzBdLFxuICAgICAgICBncmVlbiA9IF9wYXJzZUhleFRvUkdCWzFdLFxuICAgICAgICBibHVlID0gX3BhcnNlSGV4VG9SR0JbMl0sXG4gICAgICAgIGFscGhhID0gX3BhcnNlSGV4VG9SR0JbM107XG5cbiAgICByZXR1cm4gW3JlZCwgZ3JlZW4sIGJsdWUsIGFscGhhICE9PSB1bmRlZmluZWQgPyBhbHBoYSAvIDI1NS4wIDogdW5kZWZpbmVkXTtcbiAgfVxuXG4gIHZhciBtYXRjaCA9IGNvbG9yLm1hdGNoKHJnYkV4cCk7XG5cbiAgaWYgKG1hdGNoKSB7XG4gICAgcmV0dXJuIG1hdGNoLnNwbGljZSgxKS5tYXAoZnVuY3Rpb24gKHYpIHtcbiAgICAgIHJldHVybiBwYXJzZUludCh2LCAxMCk7XG4gICAgfSk7XG4gIH1cblxuICBtYXRjaCA9IGNvbG9yLm1hdGNoKHJnYmFFeHApO1xuXG4gIGlmIChtYXRjaCkge1xuICAgIHJldHVybiBtYXRjaC5zcGxpY2UoMSkubWFwKGZ1bmN0aW9uICh2KSB7XG4gICAgICByZXR1cm4gcGFyc2VGbG9hdCh2LCAxMCk7XG4gICAgfSk7XG4gIH1cblxuICBtYXRjaCA9IGNvbG9yLm1hdGNoKGhzbEV4cCk7XG5cbiAgaWYgKG1hdGNoKSB7XG4gICAgdmFyIF9tYXRjaCRzcGxpY2UkbWFwID0gbWF0Y2guc3BsaWNlKDEpLm1hcChmdW5jdGlvbiAodikge1xuICAgICAgcmV0dXJuIHBhcnNlSW50KHYsIDEwKTtcbiAgICB9KSxcbiAgICAgICAgaCA9IF9tYXRjaCRzcGxpY2UkbWFwWzBdLFxuICAgICAgICBzID0gX21hdGNoJHNwbGljZSRtYXBbMV0sXG4gICAgICAgIGwgPSBfbWF0Y2gkc3BsaWNlJG1hcFsyXTtcblxuICAgIHJldHVybiBoc2xUb1JHQihoIC8gMzYwLjAsIHMgLyAxMDAuMCwgbCAvIDEwMC4wKTtcbiAgfVxuXG4gIHJldHVybiBjb2xvcjtcbn07XG5cbmV4cG9ydCB2YXIgY29sb3JJc0RhcmsgPSBmdW5jdGlvbiBjb2xvcklzRGFyayhjb2xvcikge1xuICB2YXIgX2dldFJHQkFycmF5ID0gZ2V0UkdCQXJyYXkoY29sb3IpLFxuICAgICAgcmVkID0gX2dldFJHQkFycmF5WzBdLFxuICAgICAgZ3JlZW4gPSBfZ2V0UkdCQXJyYXlbMV0sXG4gICAgICBibHVlID0gX2dldFJHQkFycmF5WzJdLFxuICAgICAgYWxwaGEgPSBfZ2V0UkdCQXJyYXlbM107IC8vIGlmIHRoZXJlIGlzIGFuIGFscGhhIGFuZCBpdCdzIGdyZWF0ZXIgdGhhbiA1MCUsIHdlIGNhbid0IHJlYWxseSB0ZWxsXG5cblxuICBpZiAoYWxwaGEgPCAwLjUpIHJldHVybiB1bmRlZmluZWQ7XG4gIHZhciBicmlnaHRuZXNzID0gKDI5OSAqIHJlZCArIDU4NyAqIGdyZWVuICsgMTE0ICogYmx1ZSkgLyAxMDAwOyAvLyBGcm9tOiBodHRwOi8vd3d3LmhhZDJrbm93LmNvbS90ZWNobm9sb2d5L2NvbG9yLWNvbnRyYXN0LWNhbGN1bGF0b3Itd2ViLWRlc2lnbi5odG1sXG4gIC8vIEFib3ZlIGRvbWFpbiBpcyBubyBsb25nZXIgcmVnaXN0ZXJlZC5cblxuICByZXR1cm4gYnJpZ2h0bmVzcyA8IDEyNTtcbn07XG5leHBvcnQgdmFyIGdldFJHQkEgPSBmdW5jdGlvbiBnZXRSR0JBKGNvbG9yLCBvcGFjaXR5KSB7XG4gIGlmIChjb2xvciAmJiBjYW5FeHRyYWN0UkdCQXJyYXkoY29sb3IpKSB7XG4gICAgdmFyIF9nZXRSR0JBcnJheTIgPSBnZXRSR0JBcnJheShjb2xvciksXG4gICAgICAgIHJlZCA9IF9nZXRSR0JBcnJheTJbMF0sXG4gICAgICAgIGdyZWVuID0gX2dldFJHQkFycmF5MlsxXSxcbiAgICAgICAgYmx1ZSA9IF9nZXRSR0JBcnJheTJbMl0sXG4gICAgICAgIGFscGhhID0gX2dldFJHQkFycmF5MlszXTtcblxuICAgIHZhciBub3JtYWxpemVkQWxwaGE7XG5cbiAgICBpZiAob3BhY2l0eSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBub3JtYWxpemVkQWxwaGEgPSBvcGFjaXR5O1xuICAgIH0gZWxzZSBpZiAoYWxwaGEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgbm9ybWFsaXplZEFscGhhID0gYWxwaGE7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5vcm1hbGl6ZWRBbHBoYSA9IDE7XG4gICAgfVxuXG4gICAgcmV0dXJuIFwicmdiYShcIiArIHJlZCArIFwiLCBcIiArIGdyZWVuICsgXCIsIFwiICsgYmx1ZSArIFwiLCBcIiArIG5vcm1hbGl6ZWRBbHBoYSArIFwiKVwiO1xuICB9XG5cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn07IiwidmFyIF90aGlzID0gdGhpcztcblxuZXhwb3J0IHZhciBkZWJvdW5jZSA9IGZ1bmN0aW9uIGRlYm91bmNlKGNiLCB0aW1lcikge1xuICB2YXIgdGltZW91dDtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgdmFyIGNvbnRleHQgPSBfdGhpcztcbiAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgdGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGNiLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgIH0sIHRpbWVyKTtcbiAgfTtcbn07XG5leHBvcnQgdmFyIGRlYm91bmNlRGVsYXkgPSBmdW5jdGlvbiBkZWJvdW5jZURlbGF5KF9yZWYpIHtcbiAgdmFyIHRoZW1lID0gX3JlZi50aGVtZTtcbiAgcmV0dXJuIHRoZW1lLmdsb2JhbC5kZWJvdW5jZURlbGF5O1xufTsiLCJ2YXIgUE9TVF9ERUNJTUFMX0RJR0lUUyA9IDEwO1xuZXhwb3J0IHZhciBiYXNlVW5pdCA9IDI0O1xuZXhwb3J0IHZhciBwb2xhclRvQ2FydGVzaWFuID0gZnVuY3Rpb24gcG9sYXJUb0NhcnRlc2lhbihjZW50ZXJYLCBjZW50ZXJZLCByYWRpdXMsIGFuZ2xlSW5EZWdyZWVzKSB7XG4gIHZhciBhbmdsZUluUmFkaWFucyA9IChhbmdsZUluRGVncmVlcyAtIDkwKSAqIE1hdGguUEkgLyAxODAuMDtcbiAgcmV0dXJuIHtcbiAgICB4OiBjZW50ZXJYICsgcmFkaXVzICogTWF0aC5jb3MoYW5nbGVJblJhZGlhbnMpLFxuICAgIHk6IGNlbnRlclkgKyByYWRpdXMgKiBNYXRoLnNpbihhbmdsZUluUmFkaWFucylcbiAgfTtcbn07XG5leHBvcnQgdmFyIGFyY0NvbW1hbmRzID0gZnVuY3Rpb24gYXJjQ29tbWFuZHMoY2VudGVyWCwgY2VudGVyWSwgcmFkaXVzLCBzdGFydEFuZ2xlLCBlbmRBbmdsZSkge1xuICAvLyBoYW5kbGUgdGhhdCB3ZSBjYW4ndCBkcmF3IGEgY29tcGxldGUgY2lyY2xlXG4gIHZhciBub3JtYWxpemVkRW5kQW5nbGUgPSBlbmRBbmdsZTtcblxuICBpZiAoZW5kQW5nbGUgLSBzdGFydEFuZ2xlID49IDM2MCkge1xuICAgIG5vcm1hbGl6ZWRFbmRBbmdsZSA9IHN0YXJ0QW5nbGUgKyAzNTkuOTk7XG4gIH1cblxuICB2YXIgc3RhcnQgPSBwb2xhclRvQ2FydGVzaWFuKGNlbnRlclgsIGNlbnRlclksIHJhZGl1cywgbm9ybWFsaXplZEVuZEFuZ2xlKTtcbiAgdmFyIGVuZCA9IHBvbGFyVG9DYXJ0ZXNpYW4oY2VudGVyWCwgY2VudGVyWSwgcmFkaXVzLCBzdGFydEFuZ2xlKTtcbiAgdmFyIGFyY1N3ZWVwID0gbm9ybWFsaXplZEVuZEFuZ2xlIC0gc3RhcnRBbmdsZSA8PSAxODAgPyAnMCcgOiAnMSc7XG4gIHZhciBkID0gWydNJywgc3RhcnQueC50b0ZpeGVkKFBPU1RfREVDSU1BTF9ESUdJVFMpLCBzdGFydC55LnRvRml4ZWQoUE9TVF9ERUNJTUFMX0RJR0lUUyksICdBJywgcmFkaXVzLnRvRml4ZWQoUE9TVF9ERUNJTUFMX0RJR0lUUyksIHJhZGl1cy50b0ZpeGVkKFBPU1RfREVDSU1BTF9ESUdJVFMpLCAwLCBhcmNTd2VlcCwgMCwgZW5kLngudG9GaXhlZChQT1NUX0RFQ0lNQUxfRElHSVRTKSwgZW5kLnkudG9GaXhlZChQT1NUX0RFQ0lNQUxfRElHSVRTKV0uam9pbignICcpO1xuICByZXR1cm4gZDtcbn07XG5leHBvcnQgdmFyIHRyYW5zbGF0ZUVuZEFuZ2xlID0gZnVuY3Rpb24gdHJhbnNsYXRlRW5kQW5nbGUoc3RhcnRBbmdsZSwgYW5nbGVQZXIsIHZhbHVlKSB7XG4gIHJldHVybiBNYXRoLm1pbigzNjAsIE1hdGgubWF4KDAsIHN0YXJ0QW5nbGUgKyBhbmdsZVBlciAqIHZhbHVlKSk7XG59OyIsImV4cG9ydCAqIGZyb20gJy4vbWl4aW5zJztcbmV4cG9ydCAqIGZyb20gJy4vYmFja2dyb3VuZCc7XG5leHBvcnQgKiBmcm9tICcuL2JvcmRlcic7XG5leHBvcnQgKiBmcm9tICcuL2NvbG9ycyc7XG5leHBvcnQgKiBmcm9tICcuL2RlYm91bmNlJztcbmV4cG9ydCAqIGZyb20gJy4vRE9NJztcbmV4cG9ydCAqIGZyb20gJy4vZ3JhcGhpY3MnO1xuZXhwb3J0ICogZnJvbSAnLi9wcm9wLXR5cGVzJztcbmV4cG9ydCAqIGZyb20gJy4vc3R5bGVzJztcbmV4cG9ydCAqIGZyb20gJy4vb2JqZWN0JztcbmV4cG9ydCAqIGZyb20gJy4vcmVzcG9uc2l2ZSc7XG5leHBvcnQgKiBmcm9tICcuL3JvdXRlcic7XG5leHBvcnQgKiBmcm9tICcuL3Rocm90dGxlJztcbmV4cG9ydCAqIGZyb20gJy4vdGhlbWVEb2NVdGlscyc7IiwiaW1wb3J0IHsgY3NzIH0gZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuZXhwb3J0IHZhciBwYXJzZU1ldHJpY1RvTnVtID0gZnVuY3Rpb24gcGFyc2VNZXRyaWNUb051bShmb250QXNTdHJpbmcpIHtcbiAgaWYgKGZvbnRBc1N0cmluZy5tYXRjaCgvXFxzLykgJiYgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGNvbnNvbGUud2FybihcIkludmFsaWQgc2luZ2xlIG1lYXN1cmVtZW50IHZhbHVlOiBcXFwiXCIgKyBmb250QXNTdHJpbmcgKyBcIlxcXCJcIik7XG4gIH1cblxuICByZXR1cm4gcGFyc2VGbG9hdChmb250QXNTdHJpbmcubWF0Y2goL1xcZCsoXFwuXFxkKyk/LyksIDEwKTtcbn07XG5leHBvcnQgdmFyIGZvbnRTaXplID0gZnVuY3Rpb24gZm9udFNpemUoc2l6ZSwgbGluZUhlaWdodCkge1xuICByZXR1cm4gY3NzKFtcImZvbnQtc2l6ZTpcIiwgXCI7bGluZS1oZWlnaHQ6XCIsIFwiO1wiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgcmV0dXJuIHBhcnNlTWV0cmljVG9OdW0oc2l6ZSkgLyBwYXJzZU1ldHJpY1RvTnVtKHByb3BzLnRoZW1lLmdsb2JhbC5mb250LnNpemUpICogMSArIFwicmVtXCI7XG4gIH0sIGZ1bmN0aW9uIChwcm9wcykge1xuICAgIHJldHVybiBsaW5lSGVpZ2h0IHx8IE1hdGguY2VpbChwYXJzZU1ldHJpY1RvTnVtKHNpemUpIC8gcGFyc2VNZXRyaWNUb051bShwcm9wcy50aGVtZS5nbG9iYWwubGluZUhlaWdodCkpICogKHBhcnNlTWV0cmljVG9OdW0ocHJvcHMudGhlbWUuZ2xvYmFsLmxpbmVIZWlnaHQpIC8gcGFyc2VNZXRyaWNUb051bShzaXplKSkgKyBcInB4XCI7XG4gIH0pO1xufTtcbmV4cG9ydCB2YXIgYnJlYWtwb2ludFN0eWxlID0gZnVuY3Rpb24gYnJlYWtwb2ludFN0eWxlKGJyZWFrcG9pbnQsIGNvbnRlbnQpIHtcbiAgcmV0dXJuIGNzcyhbXCJAbWVkaWEgb25seSBzY3JlZW4gXCIsIFwie1wiLCBcIjt9XCJdLCBicmVha3BvaW50LnZhbHVlICYmIFwiYW5kIChtYXgtd2lkdGg6IFwiICsgYnJlYWtwb2ludC52YWx1ZSArIFwicHgpXCIsIGNvbnRlbnQpO1xufTtcbmV4cG9ydCB2YXIgZmluZEFsbEJ5VHlwZSA9IGZ1bmN0aW9uIGZpbmRBbGxCeVR5cGUoY29tcG9uZW50LCB0eXBlKSB7XG4gIHZhciBtYXRjaGVzID0gW107XG5cbiAgaWYgKGNvbXBvbmVudC50eXBlID09PSB0eXBlKSB7XG4gICAgbWF0Y2hlcy5wdXNoKGNvbXBvbmVudCk7XG4gIH1cblxuICBpZiAoY29tcG9uZW50LmNoaWxkcmVuKSB7XG4gICAgY29tcG9uZW50LmNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICBtYXRjaGVzID0gbWF0Y2hlcy5jb25jYXQoZmluZEFsbEJ5VHlwZShjaGlsZCwgdHlwZSkpO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIG1hdGNoZXM7XG59O1xuZXhwb3J0IHZhciBnZXRBdmFpbGFibGVBdEJhZGdlID0gZnVuY3Rpb24gZ2V0QXZhaWxhYmxlQXRCYWRnZShhdmFpbGFibGVBdCkge1xuICByZXR1cm4gW3tcbiAgICB1cmw6IFwiaHR0cHM6Ly9zdG9yeWJvb2suZ3JvbW1ldC5pby8/c2VsZWN0ZWRLaW5kPVwiICsgYXZhaWxhYmxlQXQgKyBcIiZmdWxsPTAmYWRkb25zPTAmc3Rvcmllcz0xJnBhbmVsUmlnaHQ9MFwiLFxuICAgIGJhZGdlOiAnaHR0cHM6Ly9jZG4taW1hZ2VzLTEubWVkaXVtLmNvbS9maXQvYy8xMjAvMTIwLzEqVEQxUDBIdElIOXpGMFVFSDI4ell0dy5wbmcnLFxuICAgIGxhYmVsOiAnU3Rvcnlib29rJ1xuICB9LCB7XG4gICAgdXJsOiBcImh0dHBzOi8vY29kZXNhbmRib3guaW8vcy9naXRodWIvZ3JvbW1ldC9ncm9tbWV0LXNhbmRib3g/aW5pdGlhbHBhdGg9XCIgKyBhdmFpbGFibGVBdC50b0xvd2VyQ2FzZSgpICsgXCImbW9kdWxlPSUyRnNyYyUyRlwiICsgYXZhaWxhYmxlQXQgKyBcIi5qc1wiLFxuICAgIGJhZGdlOiAnaHR0cHM6Ly9jb2Rlc2FuZGJveC5pby9zdGF0aWMvaW1nL3BsYXktY29kZXNhbmRib3guc3ZnJyxcbiAgICBsYWJlbDogJ0NvZGVTYW5kYm94J1xuICB9XTtcbn07IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZXhwb3J0IHZhciBpc09iamVjdCA9IGZ1bmN0aW9uIGlzT2JqZWN0KGl0ZW0pIHtcbiAgcmV0dXJuIGl0ZW0gJiYgdHlwZW9mIGl0ZW0gPT09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KGl0ZW0pO1xufTtcbmV4cG9ydCB2YXIgZGVlcEZyZWV6ZSA9IGZ1bmN0aW9uIGRlZXBGcmVlemUob2JqKSB7XG4gIE9iamVjdC5rZXlzKG9iaikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgcmV0dXJuIGtleSAmJiBpc09iamVjdChvYmpba2V5XSkgJiYgT2JqZWN0LmZyZWV6ZShvYmpba2V5XSk7XG4gIH0pO1xuICByZXR1cm4gT2JqZWN0LmZyZWV6ZShvYmopO1xufTtcbmV4cG9ydCB2YXIgZGVlcE1lcmdlID0gZnVuY3Rpb24gZGVlcE1lcmdlKHRhcmdldCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgc291cmNlcyA9IG5ldyBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgc291cmNlc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICBpZiAoIXNvdXJjZXMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfSAvLyBtYWtpbmcgc3VyZSB0byBub3QgY2hhbmdlIHRhcmdldCAoaW1tdXRhYmxlKVxuXG5cbiAgdmFyIG91dHB1dCA9IF9leHRlbmRzKHt9LCB0YXJnZXQpO1xuXG4gIHNvdXJjZXMuZm9yRWFjaChmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgaWYgKGlzT2JqZWN0KHNvdXJjZSkpIHtcbiAgICAgIE9iamVjdC5rZXlzKHNvdXJjZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmIChpc09iamVjdChzb3VyY2Vba2V5XSkpIHtcbiAgICAgICAgICBpZiAoIW91dHB1dFtrZXldKSB7XG4gICAgICAgICAgICBvdXRwdXRba2V5XSA9IF9leHRlbmRzKHt9LCBzb3VyY2Vba2V5XSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG91dHB1dFtrZXldID0gZGVlcE1lcmdlKG91dHB1dFtrZXldLCBzb3VyY2Vba2V5XSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG91dHB1dFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBvdXRwdXQ7XG59O1xuZXhwb3J0IHZhciByZW1vdmVVbmRlZmluZWQgPSBmdW5jdGlvbiByZW1vdmVVbmRlZmluZWQob2JqKSB7XG4gIHZhciByZXN1bHQgPSB7fTtcbiAgT2JqZWN0LmtleXMob2JqKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBpZiAob2JqW2tleV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmVzdWx0W2tleV0gPSBvYmpba2V5XTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufTsiLCJpbXBvcnQgeyBQcm9wVHlwZXMgfSBmcm9tICdyZWFjdC1kZXNjJztcbmV4cG9ydCB2YXIgYTExeVRpdGxlUHJvcFR5cGUgPSBQcm9wVHlwZXMuc3RyaW5nLmRlc2NyaXB0aW9uKFwiQ3VzdG9tIGxhYmVsIHRvIGJlIHVzZWQgYnkgc2NyZWVuIHJlYWRlcnMuIFdoZW4gcHJvdmlkZWQsIGFuIGFyaWEtbGFiZWwgd2lsbFxcbiAgIGJlIGFkZGVkIHRvIHRoZSBlbGVtZW50LlwiKTtcbmV4cG9ydCB2YXIgYmFja2dyb3VuZFByb3BUeXBlID0gUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLnNoYXBlKHtcbiAgY29sb3I6IFByb3BUeXBlcy5zdHJpbmcsXG4gIG9wYWNpdHk6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbJ3dlYWsnLCAnbWVkaXVtJywgJ3N0cm9uZyddKSwgUHJvcFR5cGVzLmJvb2xdKVxufSldKS5kZXNjcmlwdGlvbignQmFja2dyb3VuZCBjb2xvcicpO1xuZXhwb3J0IHZhciBjb2xvclByb3BUeXBlID0gUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLnNoYXBlKHtcbiAgZGFyazogUHJvcFR5cGVzLnN0cmluZyxcbiAgbGlnaHQ6IFByb3BUeXBlcy5zdHJpbmdcbn0pXSk7XG52YXIgTUFSR0lOX1NJWkVTID0gWyd4eHNtYWxsJywgJ3hzbWFsbCcsICdzbWFsbCcsICdtZWRpdW0nLCAnbGFyZ2UnLCAneGxhcmdlJ107XG5leHBvcnQgdmFyIG1hcmdpblByb3AgPSBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2YoWydub25lJ10uY29uY2F0KE1BUkdJTl9TSVpFUykpLCBQcm9wVHlwZXMuc2hhcGUoe1xuICBib3R0b206IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihNQVJHSU5fU0laRVMpLCBQcm9wVHlwZXMuc3RyaW5nXSksXG4gIGhvcml6b250YWw6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihNQVJHSU5fU0laRVMpLCBQcm9wVHlwZXMuc3RyaW5nXSksXG4gIGxlZnQ6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihNQVJHSU5fU0laRVMpLCBQcm9wVHlwZXMuc3RyaW5nXSksXG4gIHJpZ2h0OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2YoTUFSR0lOX1NJWkVTKSwgUHJvcFR5cGVzLnN0cmluZ10pLFxuICB0b3A6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihNQVJHSU5fU0laRVMpLCBQcm9wVHlwZXMuc3RyaW5nXSksXG4gIHZlcnRpY2FsOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2YoTUFSR0lOX1NJWkVTKSwgUHJvcFR5cGVzLnN0cmluZ10pXG59KSwgUHJvcFR5cGVzLnN0cmluZ10pLmRlc2NyaXB0aW9uKFwiVGhlIGFtb3VudCBvZiBtYXJnaW4gYXJvdW5kIHRoZSBjb21wb25lbnQuIEFuIG9iamVjdCBjYW5cXG4gICAgYmUgc3BlY2lmaWVkIHRvIGRpc3Rpbmd1aXNoIGhvcml6b250YWwgbWFyZ2luLCB2ZXJ0aWNhbCBtYXJnaW4sIGFuZFxcbiAgICBtYXJnaW4gb24gYSBwYXJ0aWN1bGFyIHNpZGUuXCIpO1xuZXhwb3J0IHZhciBnZW5lcmljUHJvcHMgPSB7XG4gIGExMXlUaXRsZTogYTExeVRpdGxlUHJvcFR5cGUsXG4gIGFsaWduU2VsZjogUHJvcFR5cGVzLm9uZU9mKFsnc3RhcnQnLCAnY2VudGVyJywgJ2VuZCcsICdzdHJldGNoJ10pLmRlc2NyaXB0aW9uKFwiSG93IHRvIGFsaWduIGFsb25nIHRoZSBjcm9zcyBheGlzIHdoZW4gY29udGFpbmVkIGluXFxuICAgICAgYSBCb3ggb3IgYWxvbmcgdGhlIGNvbHVtbiBheGlzIHdoZW4gY29udGFpbmVkIGluIGEgR3JpZC5cIiksXG4gIGdyaWRBcmVhOiBQcm9wVHlwZXMuc3RyaW5nLmRlc2NyaXB0aW9uKFwiVGhlIG5hbWUgb2YgdGhlIGFyZWEgdG8gcGxhY2VcXG4gICAgdGhpcyBpbnNpZGUgYSBwYXJlbnQgR3JpZC5cIiksXG4gIG1hcmdpbjogbWFyZ2luUHJvcFxufTtcbmV4cG9ydCB2YXIgaG92ZXJJbmRpY2F0b3JQcm9wVHlwZSA9IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5ib29sLCBQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMub25lT2YoWydiYWNrZ3JvdW5kJ10pLCBQcm9wVHlwZXMuc2hhcGUoe1xuICBjb2xvcjogUHJvcFR5cGVzLnN0cmluZyxcbiAgZGFyazogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmJvb2wsIFByb3BUeXBlcy5zdHJpbmddKSxcbiAgaW1hZ2U6IFByb3BUeXBlcy5zdHJpbmcsXG4gIGxpZ2h0OiBQcm9wVHlwZXMuc3RyaW5nLFxuICBwb3NpdGlvbjogUHJvcFR5cGVzLnN0cmluZyxcbiAgb3BhY2l0eTogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLmJvb2wsIFByb3BUeXBlcy5udW1iZXIsIFByb3BUeXBlcy5vbmVPZihbJ3dlYWsnLCAnbWVkaXVtJywgJ3N0cm9uZyddKV0pLFxuICByZXBlYXQ6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbJ25vLXJlcGVhdCcsICdyZXBlYXQnXSksIFByb3BUeXBlcy5zdHJpbmddKSxcbiAgc2l6ZTogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFsnY292ZXInLCAnY29udGFpbiddKSwgUHJvcFR5cGVzLnN0cmluZ10pXG59KV0pOyIsImV4cG9ydCB2YXIgZ2V0QnJlYWtwb2ludCA9IGZ1bmN0aW9uIGdldEJyZWFrcG9pbnQod2luZG93V2lkdGgsIHRoZW1lKSB7XG4gIHZhciByZXN1bHQ7XG4gIE9iamVjdC5rZXlzKHRoZW1lLmdsb2JhbC5icmVha3BvaW50cykuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgIHZhciBmaXJzdCA9IHRoZW1lLmdsb2JhbC5icmVha3BvaW50c1thXTtcbiAgICB2YXIgc2Vjb25kID0gdGhlbWUuZ2xvYmFsLmJyZWFrcG9pbnRzW2JdO1xuICAgIGlmICghZmlyc3QpIHJldHVybiAxO1xuICAgIGlmICghc2Vjb25kKSByZXR1cm4gLTE7XG4gICAgaWYgKCFmaXJzdC52YWx1ZSkgcmV0dXJuIDE7XG4gICAgaWYgKCFzZWNvbmQudmFsdWUpIHJldHVybiAtMTtcbiAgICByZXR1cm4gZmlyc3QudmFsdWUgLSBzZWNvbmQudmFsdWU7XG4gIH0pLnNvbWUoZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB2YXIgYnJlYWtwb2ludCA9IHRoZW1lLmdsb2JhbC5icmVha3BvaW50c1tuYW1lXTtcblxuICAgIGlmIChicmVha3BvaW50KSB7XG4gICAgICBpZiAoIWJyZWFrcG9pbnQudmFsdWUgfHwgYnJlYWtwb2ludC52YWx1ZSA+PSB3aW5kb3dXaWR0aCkge1xuICAgICAgICByZXN1bHQgPSBuYW1lO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbmV4cG9ydCB2YXIgZ2V0RGV2aWNlQnJlYWtwb2ludCA9IGZ1bmN0aW9uIGdldERldmljZUJyZWFrcG9pbnQodHlwZSwgdGhlbWUpIHtcbiAgcmV0dXJuIHRoZW1lLmdsb2JhbC5kZXZpY2VCcmVha3BvaW50c1t0eXBlXTtcbn07IiwiaW1wb3J0IHsgUHJvcFR5cGVzIH0gZnJvbSAncmVhY3QtZGVzYyc7XG5leHBvcnQgdmFyIFJPVVRFUl9QUk9QUyA9IHtcbiAgcGF0aDogUHJvcFR5cGVzLnN0cmluZy5kZXNjcmlwdGlvbignSW5kaWNhdGVzIHRoZSBwYXRoIHRvIGJlIHVzZWQgZm9yIHJlYWN0LXJvdXRlciBsaW5rLicpLmlzUmVxdWlyZWQsXG4gIG1ldGhvZDogUHJvcFR5cGVzLm9uZU9mKFsncHVzaCcsICdyZXBsYWNlJ10pLmRlc2NyaXB0aW9uKFwiSW5kaWNhdGVzIHdoZXRoZXIgdGhlIGJyb3dzZXIgaGlzdG9yeSBzaG91bGQgYmUgYXBwZW5kZWQgdG8gb3IgXFxuICAgICAgcmVwbGFjZWQuXCIpLmRlZmF1bHRWYWx1ZSgncHVzaCcpXG59OyIsImltcG9ydCB7IGNzcyB9IGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCB7IG5vcm1hbGl6ZUNvbG9yIH0gZnJvbSAnLi9jb2xvcnMnO1xuaW1wb3J0IHsgYnJlYWtwb2ludFN0eWxlLCBwYXJzZU1ldHJpY1RvTnVtIH0gZnJvbSAnLi9taXhpbnMnO1xuZXhwb3J0IHZhciBiYXNlU3R5bGUgPSBjc3MoW1wiZm9udC1mYW1pbHk6XCIsIFwiO2ZvbnQtc2l6ZTpcIiwgXCI7bGluZS1oZWlnaHQ6XCIsIFwiO2ZvbnQtd2VpZ2h0OlwiLCBcIjtcIiwgXCIgYm94LXNpemluZzpib3JkZXItYm94Oy13ZWJraXQtdGV4dC1zaXplLWFkanVzdDoxMDAlOy1tcy10ZXh0LXNpemUtYWRqdXN0OjEwMCU7LW1vei1vc3gtZm9udC1zbW9vdGhpbmc6Z3JheXNjYWxlOy13ZWJraXQtZm9udC1zbW9vdGhpbmc6YW50aWFsaWFzZWQ7XCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLmdsb2JhbC5mb250LmZhbWlseTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUuZ2xvYmFsLmZvbnQuc2l6ZTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUuZ2xvYmFsLmZvbnQuaGVpZ2h0O1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5nbG9iYWwuZm9udC53ZWlnaHQ7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuICFwcm9wcy5wbGFpbiAmJiBwcm9wcy50aGVtZS5nbG9iYWwuY29sb3JzLmJhY2tncm91bmQgJiYgY3NzKFtcImJhY2tncm91bmQ6XCIsIFwiO2NvbG9yOlwiLCBcIjtcIl0sIG5vcm1hbGl6ZUNvbG9yKCdiYWNrZ3JvdW5kJywgcHJvcHMudGhlbWUsIHRydWUpLCBub3JtYWxpemVDb2xvcigndGV4dCcsIHByb3BzLnRoZW1lLCB0cnVlKSk7XG59KTtcbmV4cG9ydCB2YXIgY29udHJvbEJvcmRlclN0eWxlID0gY3NzKFtcImJvcmRlcjpcIiwgXCIgc29saWQgXCIsIFwiO2JvcmRlci1yYWRpdXM6XCIsIFwiO1wiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5nbG9iYWwuY29udHJvbC5ib3JkZXIud2lkdGg7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIG5vcm1hbGl6ZUNvbG9yKHByb3BzLnRoZW1lLmdsb2JhbC5jb250cm9sLmJvcmRlci5jb2xvciB8fCAnYm9yZGVyJywgcHJvcHMudGhlbWUpO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5nbG9iYWwuY29udHJvbC5ib3JkZXIucmFkaXVzO1xufSk7XG5leHBvcnQgdmFyIGVkZ2VTdHlsZSA9IGZ1bmN0aW9uIGVkZ2VTdHlsZShraW5kLCBkYXRhLCByZXNwb25zaXZlLCByZXNwb25zaXZlQnJlYWtwb2ludCwgdGhlbWUpIHtcbiAgdmFyIGJyZWFrcG9pbnQgPSByZXNwb25zaXZlQnJlYWtwb2ludCAmJiB0aGVtZS5nbG9iYWwuYnJlYWtwb2ludHNbcmVzcG9uc2l2ZUJyZWFrcG9pbnRdO1xuXG4gIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gY3NzKFtcIlwiLCBcIjpcIiwgXCI7XCIsIFwiO1wiXSwga2luZCwgdGhlbWUuZ2xvYmFsLmVkZ2VTaXplW2RhdGFdIHx8IGRhdGEsIHJlc3BvbnNpdmUgJiYgYnJlYWtwb2ludCA/IGJyZWFrcG9pbnRTdHlsZShicmVha3BvaW50LCBcIlxcbiAgICAgICAgXCIgKyBraW5kICsgXCI6IFwiICsgKGJyZWFrcG9pbnQuZWRnZVNpemVbZGF0YV0gfHwgZGF0YSkgKyBcIjtcXG4gICAgICBcIikgOiAnJyk7XG4gIH1cblxuICB2YXIgcmVzdWx0ID0gW107XG5cbiAgaWYgKGRhdGEuaG9yaXpvbnRhbCkge1xuICAgIHJlc3VsdC5wdXNoKGNzcyhbXCJcIiwgXCItbGVmdDpcIiwgXCI7XCIsIFwiLXJpZ2h0OlwiLCBcIjtcIiwgXCI7XCJdLCBraW5kLCB0aGVtZS5nbG9iYWwuZWRnZVNpemVbZGF0YS5ob3Jpem9udGFsXSB8fCBkYXRhLmhvcml6b250YWwsIGtpbmQsIHRoZW1lLmdsb2JhbC5lZGdlU2l6ZVtkYXRhLmhvcml6b250YWxdIHx8IGRhdGEuaG9yaXpvbnRhbCwgcmVzcG9uc2l2ZSAmJiBicmVha3BvaW50ID8gYnJlYWtwb2ludFN0eWxlKGJyZWFrcG9pbnQsIFwiXFxuICAgICAgICBcIiArIGtpbmQgKyBcIi1sZWZ0OiBcIiArIChicmVha3BvaW50LmVkZ2VTaXplW2RhdGEuaG9yaXpvbnRhbF0gfHwgZGF0YS5ob3Jpem9udGFsKSArIFwiO1xcbiAgICAgICAgXCIgKyBraW5kICsgXCItcmlnaHQ6IFwiICsgKGJyZWFrcG9pbnQuZWRnZVNpemVbZGF0YS5ob3Jpem9udGFsXSB8fCBkYXRhLmhvcml6b250YWwpICsgXCI7XFxuICAgICAgXCIpIDogJycpKTtcbiAgfVxuXG4gIGlmIChkYXRhLnZlcnRpY2FsKSB7XG4gICAgcmVzdWx0LnB1c2goY3NzKFtcIlwiLCBcIi10b3A6XCIsIFwiO1wiLCBcIi1ib3R0b206XCIsIFwiO1wiLCBcIjtcIl0sIGtpbmQsIHRoZW1lLmdsb2JhbC5lZGdlU2l6ZVtkYXRhLnZlcnRpY2FsXSB8fCBkYXRhLnZlcnRpY2FsLCBraW5kLCB0aGVtZS5nbG9iYWwuZWRnZVNpemVbZGF0YS52ZXJ0aWNhbF0gfHwgZGF0YS52ZXJ0aWNhbCwgcmVzcG9uc2l2ZSAmJiBicmVha3BvaW50ID8gYnJlYWtwb2ludFN0eWxlKGJyZWFrcG9pbnQsIFwiXFxuICAgICAgICBcIiArIGtpbmQgKyBcIi10b3A6IFwiICsgKGJyZWFrcG9pbnQuZWRnZVNpemVbZGF0YS52ZXJ0aWNhbF0gfHwgZGF0YS52ZXJ0aWNhbCkgKyBcIjtcXG4gICAgICAgIFwiICsga2luZCArIFwiLWJvdHRvbTogXCIgKyAoYnJlYWtwb2ludC5lZGdlU2l6ZVtkYXRhLnZlcnRpY2FsXSB8fCBkYXRhLnZlcnRpY2FsKSArIFwiO1xcbiAgICAgIFwiKSA6ICcnKSk7XG4gIH1cblxuICBpZiAoZGF0YS50b3ApIHtcbiAgICByZXN1bHQucHVzaChjc3MoW1wiXCIsIFwiLXRvcDpcIiwgXCI7XCIsIFwiO1wiXSwga2luZCwgdGhlbWUuZ2xvYmFsLmVkZ2VTaXplW2RhdGEudG9wXSB8fCBkYXRhLnRvcCwgcmVzcG9uc2l2ZSAmJiBicmVha3BvaW50ID8gYnJlYWtwb2ludFN0eWxlKGJyZWFrcG9pbnQsIFwiXFxuICAgICAgICBcIiArIGtpbmQgKyBcIi10b3A6IFwiICsgKGJyZWFrcG9pbnQuZWRnZVNpemVbZGF0YS50b3BdIHx8IGRhdGEudG9wKSArIFwiO1xcbiAgICAgIFwiKSA6ICcnKSk7XG4gIH1cblxuICBpZiAoZGF0YS5ib3R0b20pIHtcbiAgICByZXN1bHQucHVzaChjc3MoW1wiXCIsIFwiLWJvdHRvbTpcIiwgXCI7XCIsIFwiO1wiXSwga2luZCwgdGhlbWUuZ2xvYmFsLmVkZ2VTaXplW2RhdGEuYm90dG9tXSB8fCBkYXRhLmJvdHRvbSwgcmVzcG9uc2l2ZSAmJiBicmVha3BvaW50ID8gYnJlYWtwb2ludFN0eWxlKGJyZWFrcG9pbnQsIFwiXFxuICAgICAgICBcIiArIGtpbmQgKyBcIi1ib3R0b206IFwiICsgKGJyZWFrcG9pbnQuZWRnZVNpemVbZGF0YS5ib3R0b21dIHx8IGRhdGEuYm90dG9tKSArIFwiO1xcbiAgICAgIFwiKSA6ICcnKSk7XG4gIH1cblxuICBpZiAoZGF0YS5sZWZ0KSB7XG4gICAgcmVzdWx0LnB1c2goY3NzKFtcIlwiLCBcIi1sZWZ0OlwiLCBcIjtcIiwgXCI7XCJdLCBraW5kLCB0aGVtZS5nbG9iYWwuZWRnZVNpemVbZGF0YS5sZWZ0XSB8fCBkYXRhLmxlZnQsIHJlc3BvbnNpdmUgJiYgYnJlYWtwb2ludCA/IGJyZWFrcG9pbnRTdHlsZShicmVha3BvaW50LCBcIlxcbiAgICAgICAgXCIgKyBraW5kICsgXCItbGVmdDogXCIgKyAoYnJlYWtwb2ludC5lZGdlU2l6ZVtkYXRhLmxlZnRdIHx8IGRhdGEubGVmdCkgKyBcIjtcXG4gICAgICBcIikgOiAnJykpO1xuICB9XG5cbiAgaWYgKGRhdGEucmlnaHQpIHtcbiAgICByZXN1bHQucHVzaChjc3MoW1wiXCIsIFwiLXJpZ2h0OlwiLCBcIjtcIiwgXCI7XCJdLCBraW5kLCB0aGVtZS5nbG9iYWwuZWRnZVNpemVbZGF0YS5yaWdodF0gfHwgZGF0YS5yaWdodCwgcmVzcG9uc2l2ZSAmJiBicmVha3BvaW50ID8gYnJlYWtwb2ludFN0eWxlKGJyZWFrcG9pbnQsIFwiXFxuICAgICAgICBcIiArIGtpbmQgKyBcIi1yaWdodDogXCIgKyAoYnJlYWtwb2ludC5lZGdlU2l6ZVtkYXRhLnJpZ2h0XSB8fCBkYXRhLnJpZ2h0KSArIFwiO1xcbiAgICAgIFwiKSA6ICcnKSk7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufTsgLy8gZm9jdXMgYWxzbyBzdXBwb3J0cyBjbGlja2FibGUgZWxlbWVudHMgaW5zaWRlIHN2Z1xuXG5leHBvcnQgdmFyIGZvY3VzU3R5bGUgPSBjc3MoW1wiPiBjaXJjbGUsPiBlbGxpcHNlLD4gbGluZSw+IHBhdGgsPiBwb2x5Z29uLD4gcG9seWxpbmUsPiByZWN0e291dGxpbmU6XCIsIFwiIHNvbGlkIDJweDt9b3V0bGluZS1jb2xvcjpcIiwgXCI7Ym9yZGVyLWNvbG9yOlwiLCBcIjtib3gtc2hhZG93OjAgMCAycHggMnB4IFwiLCBcIjs6Oi1tb3otZm9jdXMtaW5uZXJ7Ym9yZGVyOjA7fVwiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBub3JtYWxpemVDb2xvcihwcm9wcy50aGVtZS5nbG9iYWwuZm9jdXMuYm9yZGVyLmNvbG9yLCBwcm9wcy50aGVtZSk7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIG5vcm1hbGl6ZUNvbG9yKHByb3BzLnRoZW1lLmdsb2JhbC5mb2N1cy5ib3JkZXIuY29sb3IsIHByb3BzLnRoZW1lKTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gbm9ybWFsaXplQ29sb3IocHJvcHMudGhlbWUuZ2xvYmFsLmZvY3VzLmJvcmRlci5jb2xvciwgcHJvcHMudGhlbWUpO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBub3JtYWxpemVDb2xvcihwcm9wcy50aGVtZS5nbG9iYWwuZm9jdXMuYm9yZGVyLmNvbG9yLCBwcm9wcy50aGVtZSk7XG59KTtcbmV4cG9ydCB2YXIgaW5wdXRTdHlsZSA9IGNzcyhbXCJib3gtc2l6aW5nOmJvcmRlci1ib3g7Zm9udC1zaXplOmluaGVyaXQ7Zm9udC1mYW1pbHk6aW5oZXJpdDtib3JkZXI6bm9uZTstd2Via2l0LWFwcGVhcmFuY2U6bm9uZTtwYWRkaW5nOlwiLCBcInB4O291dGxpbmU6bm9uZTtiYWNrZ3JvdW5kOnRyYW5zcGFyZW50O2NvbG9yOmluaGVyaXQ7XCIsIFwiIG1hcmdpbjowO1wiLCBcIiBcIiwgXCI6Oi13ZWJraXQtc2VhcmNoLWRlY29yYXRpb257LXdlYmtpdC1hcHBlYXJhbmNlOm5vbmU7fVwiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwYXJzZU1ldHJpY1RvTnVtKHByb3BzLnRoZW1lLmdsb2JhbC5pbnB1dC5wYWRkaW5nKSAtIHBhcnNlTWV0cmljVG9OdW0ocHJvcHMudGhlbWUuZ2xvYmFsLmNvbnRyb2wuYm9yZGVyLndpZHRoKTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUuZ2xvYmFsLmlucHV0LndlaWdodCAmJiBjc3MoW1wiZm9udC13ZWlnaHQ6XCIsIFwiO1wiXSwgcHJvcHMudGhlbWUuZ2xvYmFsLmlucHV0LndlaWdodCk7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLmZvY3VzICYmICghcHJvcHMucGxhaW4gfHwgcHJvcHMuZm9jdXNJbmRpY2F0b3IpICYmIGZvY3VzU3R5bGU7XG59LCBjb250cm9sQm9yZGVyU3R5bGUpO1xuZXhwb3J0IHZhciBvdmVyZmxvd1N0eWxlID0gZnVuY3Rpb24gb3ZlcmZsb3dTdHlsZShvdmVyZmxvd1Byb3ApIHtcbiAgaWYgKHR5cGVvZiBvdmVyZmxvd1Byb3AgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGNzcyhbXCJvdmVyZmxvdzpcIiwgXCI7XCJdLCBvdmVyZmxvd1Byb3ApO1xuICB9XG5cbiAgcmV0dXJuIGNzcyhbXCJcIiwgXCIgXCIsIFwiO1wiXSwgb3ZlcmZsb3dQcm9wLmhvcml6b250YWwgJiYgXCJvdmVyZmxvdy14OiBcIiArIG92ZXJmbG93UHJvcC5ob3Jpem9udGFsICsgXCI7XCIsIG92ZXJmbG93UHJvcC52ZXJ0aWNhbCAmJiBcIm92ZXJmbG93LXk6IFwiICsgb3ZlcmZsb3dQcm9wLnZlcnRpY2FsICsgXCI7XCIpO1xufTtcbnZhciBwbGFjZWhvbGRlckNvbG9yID0gY3NzKFtcImNvbG9yOlwiLCBcIjtcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUuZ2xvYmFsLmNvbG9ycy5wbGFjZWhvbGRlcjtcbn0pO1xuZXhwb3J0IHZhciBwbGFjZWhvbGRlclN0eWxlID0gY3NzKFtcIiY6Oi13ZWJraXQtaW5wdXQtcGxhY2Vob2xkZXJ7XCIsIFwiO30mOjotbW96LXBsYWNlaG9sZGVye1wiLCBcIjt9JjotbXMtaW5wdXQtcGxhY2Vob2xkZXJ7XCIsIFwiO31cIl0sIHBsYWNlaG9sZGVyQ29sb3IsIHBsYWNlaG9sZGVyQ29sb3IsIHBsYWNlaG9sZGVyQ29sb3IpOyAvLyBldmFsU3R5bGUoKSBjb252ZXJ0cyBhIHN0eWxlZC1jb21wb25lbnRzIGl0ZW0gaW50byBhIHN0cmluZ1xuXG5leHBvcnQgdmFyIGV2YWxTdHlsZSA9IGZ1bmN0aW9uIGV2YWxTdHlsZShhcmcsIHRoZW1lKSB7XG4gIGlmIChhcmcgJiYgQXJyYXkuaXNBcnJheShhcmcpICYmIHR5cGVvZiBhcmdbMF0gPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gYXJnWzBdKHtcbiAgICAgIHRoZW1lOiB0aGVtZVxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIGFyZztcbn07XG52YXIgQUxJR05fU0VMRl9NQVAgPSB7XG4gIGNlbnRlcjogJ2NlbnRlcicsXG4gIGVuZDogJ2ZsZXgtZW5kJyxcbiAgc3RhcnQ6ICdmbGV4LXN0YXJ0JyxcbiAgc3RyZXRjaDogJ3N0cmV0Y2gnXG59O1xuZXhwb3J0IHZhciBnZW5lcmljU3R5bGVzID0gY3NzKFtcIlwiLCBcIiBcIiwgXCIgXCIsIFwiXCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLmFsaWduU2VsZiAmJiBcImFsaWduLXNlbGY6IFwiICsgQUxJR05fU0VMRl9NQVBbcHJvcHMuYWxpZ25TZWxmXSArIFwiO1wiO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5ncmlkQXJlYSAmJiBcImdyaWQtYXJlYTogXCIgKyBwcm9wcy5ncmlkQXJlYSArIFwiO1wiO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5tYXJnaW4gJiYgZWRnZVN0eWxlKCdtYXJnaW4nLCBwcm9wcy5tYXJnaW4sIHByb3BzLnJlc3BvbnNpdmUsIHByb3BzLnRoZW1lLmdsb2JhbC5lZGdlU2l6ZS5yZXNwb25zaXZlQnJlYWtwb2ludCwgcHJvcHMudGhlbWUpO1xufSk7XG5leHBvcnQgdmFyIGRpc2FibGVkU3R5bGUgPSBmdW5jdGlvbiBkaXNhYmxlZFN0eWxlKGNvbXBvbmVudFN0eWxlKSB7XG4gIHJldHVybiBjc3MoW1wib3BhY2l0eTpcIiwgXCI7Y3Vyc29yOmRlZmF1bHQ7XCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICByZXR1cm4gY29tcG9uZW50U3R5bGUgfHwgcHJvcHMudGhlbWUuZ2xvYmFsLmNvbnRyb2wuZGlzYWJsZWQub3BhY2l0eTtcbiAgfSk7XG59O1xuZXhwb3J0IHZhciBzaXplU3R5bGUgPSBmdW5jdGlvbiBzaXplU3R5bGUobmFtZSwgdmFsdWUsIHRoZW1lKSB7XG4gIHJldHVybiBjc3MoW1wiXCIsIFwiOlwiLCBcIjtcIl0sIG5hbWUsIHRoZW1lLmdsb2JhbC5zaXplW3ZhbHVlXSB8fCB2YWx1ZSk7XG59OyIsImV4cG9ydCB2YXIgdGhlbWVEb2NVdGlscyA9IHtcbiAgLy8gJ1RoZSBwb3NzaWJsZSBicmVha3BvaW50cyB0aGF0IGNvdWxkIGFmZmVjdCBib3JkZXIsIGRpcmVjdGlvbiwgZ2FwLFxuICAvLyBtYXJnaW4sIHBhZCwgYW5kIHJvdW5kLicsXG4gIGJyZWFrcG9pbnRTdHlsZTogZnVuY3Rpb24gYnJlYWtwb2ludFN0eWxlKGRlc2NyaXB0aW9uKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdnbG9iYWwuYnJlYWtwb2ludHMnOiB7XG4gICAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbixcbiAgICAgICAgdHlwZTogJ29iamVjdCcsXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogXCJ7XFxuICAgIHNtYWxsOiB7XFxuICAgICAgdmFsdWU6ICc3NjhweCcsXFxuICAgICAgYm9yZGVyU2l6ZToge1xcbiAgICAgICAgeHNtYWxsOiAnMXB4JyxcXG4gICAgICAgIHNtYWxsOiAnMnB4JyxcXG4gICAgICAgIG1lZGl1bTogJzRweCcsXFxuICAgICAgICBsYXJnZTogJzZweCcsXFxuICAgICAgICB4bGFyZ2U6ICcxMnB4JyxcXG4gICAgICB9LFxcbiAgICAgIGVkZ2VTaXplOiB7XFxuICAgICAgICBub25lOiAnMHB4JyxcXG4gICAgICAgIGhhaXI6ICcxcHgnLFxcbiAgICAgICAgeHhzbWFsbDogJzJweCcsXFxuICAgICAgICB4c21hbGw6ICczcHgnLFxcbiAgICAgICAgc21hbGw6ICc2cHgnLFxcbiAgICAgICAgbWVkaXVtOiAnMTJweCcsXFxuICAgICAgICBsYXJnZTogJzI0cHgnLFxcbiAgICAgICAgeGxhcmdlOiAnNDhweCcsXFxuICAgICAgfSxcXG4gICAgICBzaXplOiB7XFxuICAgICAgICB4eHNtYWxsOiAnMjRweCcsXFxuICAgICAgICB4c21hbGw6ICc0OHB4JyxcXG4gICAgICAgIHNtYWxsOiAnOTZweCcsXFxuICAgICAgICBtZWRpdW06ICcxOTJweCcsXFxuICAgICAgICBsYXJnZTogJzM4NHB4JyxcXG4gICAgICAgIHhsYXJnZTogJzc2OHB4JyxcXG4gICAgICAgIGZ1bGw6ICcxMDAlJyxcXG4gICAgICB9LFxcbiAgICB9LFxcbiAgICBtZWRpdW06IHtcXG4gICAgICB2YWx1ZTogJzE1MzZweCcsXFxuICAgIH0sXFxuICAgIGxhcmdlOiB7fSxcXG4gIH1cIlxuICAgICAgfVxuICAgIH07XG4gIH0sXG4gIGRpc2FibGVkU3R5bGU6IHtcbiAgICAnZ2xvYmFsLmNvbnRyb2wuZGlzYWJsZWQub3BhY2l0eSc6IHtcbiAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIG9wYWNpdHkgd2hlbiBhIGNvbXBvbmVudCBpcyBkaXNhYmxlZC4nLFxuICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICBkZWZhdWx0VmFsdWU6IDAuM1xuICAgIH1cbiAgfSxcbiAgZWRnZVN0eWxlOiBmdW5jdGlvbiBlZGdlU3R5bGUoZGVzY3JpcHRpb24pIHtcbiAgICByZXR1cm4ge1xuICAgICAgJ2dsb2JhbC5lZGdlU2l6ZSc6IHtcbiAgICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uLFxuICAgICAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBcIntcXG4gICAgZWRnZVNpemU6IHtcXG4gICAgICBub25lOiAnMHB4JyxcXG4gICAgICBoYWlyOiAnMXB4JyxcXG4gICAgICB4eHNtYWxsOiAnM3B4JyxcXG4gICAgICB4c21hbGw6ICc2cHgnLFxcbiAgICAgIHNtYWxsOiAnMTJweCcsXFxuICAgICAgbWVkaXVtOiAnMjRweCcsXFxuICAgICAgbGFyZ2U6ICc0OHB4JyxcXG4gICAgICB4bGFyZ2U6ICc5NnB4JyxcXG4gICAgICByZXNwb25zaXZlQnJlYWtwb2ludDogJ3NtYWxsJyxcXG4gICAgfSxcXG4gIH1cIlxuICAgICAgfVxuICAgIH07XG4gIH0sXG4gIGZvY3VzU3R5bGU6IHtcbiAgICAnZ2xvYmFsLmZvY3VzLmJvcmRlci5jb2xvcic6IHtcbiAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIGNvbG9yIGFyb3VuZCB0aGUgY29tcG9uZW50IHdoZW4gaW4gZm9jdXMuJyxcbiAgICAgIHR5cGU6ICdzdHJpbmcgfCB7IGRhcms6IHN0cmluZywgbGlnaHQ6IHN0cmluZyB9JyxcbiAgICAgIGRlZmF1bHRWYWx1ZTogJ2ZvY3VzJ1xuICAgIH1cbiAgfSxcbiAgaWNvbkNvbG9yOiB7XG4gICAgJ2dsb2JhbC5jb2xvcnMuaWNvbic6IHtcbiAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIGNvbG9yIG9mIGEgZ2l2ZW4gaWNvbi4nLFxuICAgICAgdHlwZTogJ3N0cmluZyB8IHsgZGFyazogc3RyaW5nLCBsaWdodDogc3RyaW5nIH0nLFxuICAgICAgZGVmYXVsdFZhbHVlOiAneyBkYXJrOiAjZjhmOGY4LCBsaWdodDogIzY2NjY2NiB9J1xuICAgIH1cbiAgfSxcbiAgaW5wdXRTdHlsZToge1xuICAgICdnbG9iYWwuaW5wdXQud2VpZ2h0Jzoge1xuICAgICAgZGVzY3JpcHRpb246ICdUaGUgZm9udCB3ZWlnaHQgb2YgdGhlIHRleHQgZW50ZXJlZC4nLFxuICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICBkZWZhdWx0VmFsdWU6IDYwMFxuICAgIH0sXG4gICAgJ2dsb2JhbC5pbnB1dC5wYWRkaW5nJzoge1xuICAgICAgZGVzY3JpcHRpb246ICdUaGUgcGFkZGluZyBvZiB0aGUgdGV4dC4nLFxuICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICBkZWZhdWx0VmFsdWU6ICcxMnB4J1xuICAgIH1cbiAgfSxcbiAgcGxhY2Vob2xkZXJTdHlsZToge1xuICAgICdnbG9iYWwuY29sb3JzLnBsYWNlaG9sZGVyJzoge1xuICAgICAgZGVzY3JpcHRpb246ICdUaGUgcGxhY2Vob2xkZXIgY29sb3IgdXNlZCBmb3IgdGhlIGNvbXBvbmVudC4nLFxuICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICBkZWZhdWx0VmFsdWU6ICcjQUFBQUFBJ1xuICAgIH1cbiAgfSxcbiAgcmVzcG9uc2l2ZUJyZWFrcG9pbnQ6IGZ1bmN0aW9uIHJlc3BvbnNpdmVCcmVha3BvaW50KGRlc2NyaXB0aW9uKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdnbG9iYWwuZWRnZVNpemUucmVzcG9uc2l2ZUJyZWFrcG9pbnQnOiB7XG4gICAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbixcbiAgICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogJ3NtYWxsJ1xuICAgICAgfVxuICAgIH07XG4gIH1cbn07IiwidmFyIF90aGlzID0gdGhpcztcblxuLy8gKEMpIENvcHlyaWdodCAyMDE0LTIwMTYgSGV3bGV0dCBQYWNrYXJkIEVudGVycHJpc2UgRGV2ZWxvcG1lbnQgTFBcbmV4cG9ydCB2YXIgdGhyb3R0bGUgPSBmdW5jdGlvbiB0aHJvdHRsZShmbiwgdGhyZXNoaG9sZCwgc2NvcGUpIHtcbiAgaWYgKHRocmVzaGhvbGQgPT09IHZvaWQgMCkge1xuICAgIHRocmVzaGhvbGQgPSAyNTA7XG4gIH1cblxuICBpZiAoc2NvcGUgPT09IHZvaWQgMCkge1xuICAgIHNjb3BlID0gX3RoaXM7XG4gIH1cblxuICB2YXIgbGFzdDtcbiAgdmFyIGRlZmVyVGltZXI7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHZhciBub3cgPSBEYXRlLm5vdygpO1xuXG4gICAgaWYgKGxhc3QgJiYgbm93IDwgbGFzdCArIHRocmVzaGhvbGQpIHtcbiAgICAgIGNsZWFyVGltZW91dChkZWZlclRpbWVyKTtcbiAgICAgIGRlZmVyVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbGFzdCA9IG5vdztcbiAgICAgICAgZm4uYXBwbHkoc2NvcGUsIGFyZ3MpO1xuICAgICAgfSwgdGhyZXNoaG9sZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxhc3QgPSBub3c7XG4gICAgICBmbi5hcHBseShzY29wZSwgYXJncyk7XG4gICAgfVxuICB9O1xufTsiLCIndXNlIHN0cmljdCc7XG5cbnZhciByZWFjdElzID0gcmVxdWlyZSgncmVhY3QtaXMnKTtcblxuLyoqXG4gKiBDb3B5cmlnaHQgMjAxNSwgWWFob28hIEluYy5cbiAqIENvcHlyaWdodHMgbGljZW5zZWQgdW5kZXIgdGhlIE5ldyBCU0QgTGljZW5zZS4gU2VlIHRoZSBhY2NvbXBhbnlpbmcgTElDRU5TRSBmaWxlIGZvciB0ZXJtcy5cbiAqL1xudmFyIFJFQUNUX1NUQVRJQ1MgPSB7XG4gIGNoaWxkQ29udGV4dFR5cGVzOiB0cnVlLFxuICBjb250ZXh0VHlwZTogdHJ1ZSxcbiAgY29udGV4dFR5cGVzOiB0cnVlLFxuICBkZWZhdWx0UHJvcHM6IHRydWUsXG4gIGRpc3BsYXlOYW1lOiB0cnVlLFxuICBnZXREZWZhdWx0UHJvcHM6IHRydWUsXG4gIGdldERlcml2ZWRTdGF0ZUZyb21FcnJvcjogdHJ1ZSxcbiAgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzOiB0cnVlLFxuICBtaXhpbnM6IHRydWUsXG4gIHByb3BUeXBlczogdHJ1ZSxcbiAgdHlwZTogdHJ1ZVxufTtcbnZhciBLTk9XTl9TVEFUSUNTID0ge1xuICBuYW1lOiB0cnVlLFxuICBsZW5ndGg6IHRydWUsXG4gIHByb3RvdHlwZTogdHJ1ZSxcbiAgY2FsbGVyOiB0cnVlLFxuICBjYWxsZWU6IHRydWUsXG4gIGFyZ3VtZW50czogdHJ1ZSxcbiAgYXJpdHk6IHRydWVcbn07XG52YXIgRk9SV0FSRF9SRUZfU1RBVElDUyA9IHtcbiAgJyQkdHlwZW9mJzogdHJ1ZSxcbiAgcmVuZGVyOiB0cnVlLFxuICBkZWZhdWx0UHJvcHM6IHRydWUsXG4gIGRpc3BsYXlOYW1lOiB0cnVlLFxuICBwcm9wVHlwZXM6IHRydWVcbn07XG52YXIgTUVNT19TVEFUSUNTID0ge1xuICAnJCR0eXBlb2YnOiB0cnVlLFxuICBjb21wYXJlOiB0cnVlLFxuICBkZWZhdWx0UHJvcHM6IHRydWUsXG4gIGRpc3BsYXlOYW1lOiB0cnVlLFxuICBwcm9wVHlwZXM6IHRydWUsXG4gIHR5cGU6IHRydWVcbn07XG52YXIgVFlQRV9TVEFUSUNTID0ge307XG5UWVBFX1NUQVRJQ1NbcmVhY3RJcy5Gb3J3YXJkUmVmXSA9IEZPUldBUkRfUkVGX1NUQVRJQ1M7XG5cbmZ1bmN0aW9uIGdldFN0YXRpY3MoY29tcG9uZW50KSB7XG4gIGlmIChyZWFjdElzLmlzTWVtbyhjb21wb25lbnQpKSB7XG4gICAgcmV0dXJuIE1FTU9fU1RBVElDUztcbiAgfVxuXG4gIHJldHVybiBUWVBFX1NUQVRJQ1NbY29tcG9uZW50WyckJHR5cGVvZiddXSB8fCBSRUFDVF9TVEFUSUNTO1xufVxuXG52YXIgZGVmaW5lUHJvcGVydHkgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgZ2V0T3duUHJvcGVydHlOYW1lcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzO1xudmFyIGdldE93blByb3BlcnR5U3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG52YXIgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbnZhciBnZXRQcm90b3R5cGVPZiA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcbnZhciBvYmplY3RQcm90b3R5cGUgPSBPYmplY3QucHJvdG90eXBlO1xuZnVuY3Rpb24gaG9pc3ROb25SZWFjdFN0YXRpY3ModGFyZ2V0Q29tcG9uZW50LCBzb3VyY2VDb21wb25lbnQsIGJsYWNrbGlzdCkge1xuICBpZiAodHlwZW9mIHNvdXJjZUNvbXBvbmVudCAhPT0gJ3N0cmluZycpIHtcbiAgICAvLyBkb24ndCBob2lzdCBvdmVyIHN0cmluZyAoaHRtbCkgY29tcG9uZW50c1xuICAgIGlmIChvYmplY3RQcm90b3R5cGUpIHtcbiAgICAgIHZhciBpbmhlcml0ZWRDb21wb25lbnQgPSBnZXRQcm90b3R5cGVPZihzb3VyY2VDb21wb25lbnQpO1xuXG4gICAgICBpZiAoaW5oZXJpdGVkQ29tcG9uZW50ICYmIGluaGVyaXRlZENvbXBvbmVudCAhPT0gb2JqZWN0UHJvdG90eXBlKSB7XG4gICAgICAgIGhvaXN0Tm9uUmVhY3RTdGF0aWNzKHRhcmdldENvbXBvbmVudCwgaW5oZXJpdGVkQ29tcG9uZW50LCBibGFja2xpc3QpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBrZXlzID0gZ2V0T3duUHJvcGVydHlOYW1lcyhzb3VyY2VDb21wb25lbnQpO1xuXG4gICAgaWYgKGdldE93blByb3BlcnR5U3ltYm9scykge1xuICAgICAga2V5cyA9IGtleXMuY29uY2F0KGdldE93blByb3BlcnR5U3ltYm9scyhzb3VyY2VDb21wb25lbnQpKTtcbiAgICB9XG5cbiAgICB2YXIgdGFyZ2V0U3RhdGljcyA9IGdldFN0YXRpY3ModGFyZ2V0Q29tcG9uZW50KTtcbiAgICB2YXIgc291cmNlU3RhdGljcyA9IGdldFN0YXRpY3Moc291cmNlQ29tcG9uZW50KTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgdmFyIGtleSA9IGtleXNbaV07XG5cbiAgICAgIGlmICghS05PV05fU1RBVElDU1trZXldICYmICEoYmxhY2tsaXN0ICYmIGJsYWNrbGlzdFtrZXldKSAmJiAhKHNvdXJjZVN0YXRpY3MgJiYgc291cmNlU3RhdGljc1trZXldKSAmJiAhKHRhcmdldFN0YXRpY3MgJiYgdGFyZ2V0U3RhdGljc1trZXldKSkge1xuICAgICAgICB2YXIgZGVzY3JpcHRvciA9IGdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2VDb21wb25lbnQsIGtleSk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBBdm9pZCBmYWlsdXJlcyBmcm9tIHJlYWQtb25seSBwcm9wZXJ0aWVzXG4gICAgICAgICAgZGVmaW5lUHJvcGVydHkodGFyZ2V0Q29tcG9uZW50LCBrZXksIGRlc2NyaXB0b3IpO1xuICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0YXJnZXRDb21wb25lbnQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaG9pc3ROb25SZWFjdFN0YXRpY3M7XG4iLCJ2YXIgX2V4dGVuZHM9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oYSl7Zm9yKHZhciBiLGM9MTtjPGFyZ3VtZW50cy5sZW5ndGg7YysrKWZvcih2YXIgZCBpbiBiPWFyZ3VtZW50c1tjXSxiKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLGQpJiYoYVtkXT1iW2RdKTtyZXR1cm4gYX0sX3R5cGVvZj10eXBlb2YgU3ltYm9sPT0nZnVuY3Rpb24nJiZ0eXBlb2YgU3ltYm9sLml0ZXJhdG9yPT0nc3ltYm9sJz9mdW5jdGlvbihhKXtyZXR1cm4gdHlwZW9mIGF9OmZ1bmN0aW9uKGEpe3JldHVybiBhJiZ0eXBlb2YgU3ltYm9sPT0nZnVuY3Rpb24nJiZhLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZhIT09U3ltYm9sLnByb3RvdHlwZT8nc3ltYm9sJzp0eXBlb2YgYX07ZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKGEsYil7dmFyIGM9e307Zm9yKHZhciBkIGluIGEpYi5pbmRleE9mKGQpPj0wfHxPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYSxkKSYmKGNbZF09YVtkXSk7cmV0dXJuIGN9aW1wb3J0IFJlYWN0IGZyb20ncmVhY3QnO2ltcG9ydCB1bnF1b3RlIGZyb20ndW5xdW90ZSc7dmFyIEFUVFJJQlVURV9UT19KU1hfUFJPUF9NQVA9e2FjY2Vzc2tleTonYWNjZXNzS2V5JyxhbGxvd2Z1bGxzY3JlZW46J2FsbG93RnVsbFNjcmVlbicsYWxsb3d0cmFuc3BhcmVuY3k6J2FsbG93VHJhbnNwYXJlbmN5JyxhdXRvY29tcGxldGU6J2F1dG9Db21wbGV0ZScsYXV0b2ZvY3VzOidhdXRvRm9jdXMnLGF1dG9wbGF5OidhdXRvUGxheScsY2VsbHBhZGRpbmc6J2NlbGxQYWRkaW5nJyxjZWxsc3BhY2luZzonY2VsbFNwYWNpbmcnLGNoYXJzZXQ6J2NoYXJTZXQnLGNsYXNzOidjbGFzc05hbWUnLGNsYXNzaWQ6J2NsYXNzSWQnLGNvbHNwYW46J2NvbFNwYW4nLGNvbnRlbnRlZGl0YWJsZTonY29udGVudEVkaXRhYmxlJyxjb250ZXh0bWVudTonY29udGV4dE1lbnUnLGNyb3Nzb3JpZ2luOidjcm9zc09yaWdpbicsZW5jdHlwZTonZW5jVHlwZScsZm9yOidodG1sRm9yJyxmb3JtYWN0aW9uOidmb3JtQWN0aW9uJyxmb3JtZW5jdHlwZTonZm9ybUVuY1R5cGUnLGZvcm1tZXRob2Q6J2Zvcm1NZXRob2QnLGZvcm1ub3ZhbGlkYXRlOidmb3JtTm9WYWxpZGF0ZScsZm9ybXRhcmdldDonZm9ybVRhcmdldCcsZnJhbWVib3JkZXI6J2ZyYW1lQm9yZGVyJyxocmVmbGFuZzonaHJlZkxhbmcnLGlucHV0bW9kZTonaW5wdXRNb2RlJyxrZXlwYXJhbXM6J2tleVBhcmFtcycsa2V5dHlwZTona2V5VHlwZScsbWFyZ2luaGVpZ2h0OidtYXJnaW5IZWlnaHQnLG1hcmdpbndpZHRoOidtYXJnaW5XaWR0aCcsbWF4bGVuZ3RoOidtYXhMZW5ndGgnLG1lZGlhZ3JvdXA6J21lZGlhR3JvdXAnLG1pbmxlbmd0aDonbWluTGVuZ3RoJyxub3ZhbGlkYXRlOidub1ZhbGlkYXRlJyxyYWRpb2dyb3VwOidyYWRpb0dyb3VwJyxyZWFkb25seToncmVhZE9ubHknLHJvd3NwYW46J3Jvd1NwYW4nLHNwZWxsY2hlY2s6J3NwZWxsQ2hlY2snLHNyY2RvYzonc3JjRG9jJyxzcmNsYW5nOidzcmNMYW5nJyxzcmNzZXQ6J3NyY1NldCcsdGFiaW5kZXg6J3RhYkluZGV4Jyx1c2VtYXA6J3VzZU1hcCd9LG5hbWVkQ29kZXNUb1VuaWNvZGU9e2FtcDonJicsYXBvczonXFwnJyxndDonPicsbHQ6JzwnLG5ic3A6J1xceEEwJyxxdW90OidcXHUyMDFDJ30sRE9fTk9UX1BST0NFU1NfSFRNTF9FTEVNRU5UUz1bJ3N0eWxlJywnc2NyaXB0J10sQVRUUl9FWFRSQUNUT1JfUj0vKFstQS1aMC05XzpdKykoPzpcXHMqPVxccyooPzooPzpcIigoPzpcXFxcLnxbXlwiXSkqKVwiKXwoPzonKCg/OlxcXFwufFteJ10pKiknKXwoPzpcXHsoKD86XFxcXC58e1tefV0qP318W159XSkqKVxcfSkpKT8vZ2ksQVVUT0xJTktfTUFJTFRPX0NIRUNLX1I9L21haWx0bzovaSxCTE9DS19FTkRfUj0vXFxuezIsfSQvLEJMT0NLUVVPVEVfUj0vXiggKj5bXlxcbl0rKFxcblteXFxuXSspKlxcbiopK1xcbnsyLH0vLEJMT0NLUVVPVEVfVFJJTV9MRUZUX01VTFRJTElORV9SPS9eICo+ID8vZ20sQlJFQUtfTElORV9SPS9eIHsyLH1cXG4vLEJSRUFLX1RIRU1BVElDX1I9L14oPzooICpbLSpfXSkgKil7Myx9KD86XFxuICopK1xcbi8sQ09ERV9CTE9DS19GRU5DRURfUj0vXlxccyooYHszLH18fnszLH0pICooXFxTKyk/ICpcXG4oW1xcc1xcU10rPylcXHMqXFwxICooPzpcXG4gKikrXFxuPy8sQ09ERV9CTE9DS19SPS9eKD86IHs0fVteXFxuXStcXG4qKSsoPzpcXG4gKikrXFxuPy8sQ09ERV9JTkxJTkVfUj0vXihgKylcXHMqKFtcXHNcXFNdKj9bXmBdKVxccypcXDEoPyFgKS8sQ09OU0VDVVRJVkVfTkVXTElORV9SPS9eKD86XFxuICopKlxcbi8sQ1JfTkVXTElORV9SPS9cXHJcXG4/L2csRk9PVE5PVEVfUj0vXlxcW1xcXiguKilcXF0oOi4qKVxcbi8sRk9PVE5PVEVfUkVGRVJFTkNFX1I9L15cXFtcXF4oLiopXFxdLyxGT1JNRkVFRF9SPS9cXGYvZyxHRk1fVEFTS19SPS9eXFxzKj9cXFsoeHxcXHMpXFxdLyxIRUFESU5HX1I9L14gKigjezEsNn0pICooW15cXG5dKylcXG57MCwyfS8sSEVBRElOR19TRVRFWFRfUj0vXihbXlxcbl0rKVxcbiAqKD18LSl7Myx9ICooPzpcXG4gKikrXFxuLyxIVE1MX0JMT0NLX0VMRU1FTlRfUj0vXiAqKD8hPFthLXpdW14gPi9dKiA/XFwvPik8KFthLXpdW14gPi9dKikgPyhbXj5dKilcXC97MH0+XFxuPyhcXHMqKD86PFxcMVtePl0qPz5bXFxzXFxTXSo/PFxcL1xcMT58KD8hPFxcMSlbXFxzXFxTXSkqPyk8XFwvXFwxPlxcbiovaSxIVE1MX0NIQVJfQ09ERV9SPS8mKFthLXpdKyk7L2csSFRNTF9DT01NRU5UX1I9L148IS0tLio/LS0+LyxIVE1MX0NVU1RPTV9BVFRSX1I9L14oZGF0YXxhcmlhfHgpLVthLXpfXVthLXpcXGRfLi1dKiQvLEhUTUxfU0VMRl9DTE9TSU5HX0VMRU1FTlRfUj0vXiAqPChbYS16XVthLXowLTk6XSopKD86XFxzKygoPzo8Lio/PnxbXj5dKSopKT9cXC8/Pig/ITxcXC9cXDE+KShcXHMqXFxuKT8vaSxJTlRFUlBPTEFUSU9OX1I9L15cXHsuKlxcfSQvLExJTktfQVVUT0xJTktfQkFSRV9VUkxfUj0vXihodHRwcz86XFwvXFwvW15cXHM8XStbXjwuLDo7XCInKVxcXVxcc10pLyxMSU5LX0FVVE9MSU5LX01BSUxUT19SPS9ePChbXiA+XStAW14gPl0rKT4vLExJTktfQVVUT0xJTktfUj0vXjwoW14gPl0rOlxcL1teID5dKyk+LyxMSVNUX0lURU1fRU5EX1I9LyAqXFxuKyQvLExJU1RfTE9PS0JFSElORF9SPS8oPzpefFxcbikoICopJC8sQ0FQVFVSRV9MRVRURVJfQUZURVJfSFlQSEVOPS8tKFthLXpdKT8vZ2ksTlBfVEFCTEVfUj0vXiguKlxcfD8uKilcXG4gKihcXHw/ICpbLTpdKyAqXFx8Wy18IDpdKilcXG4oKD86LipcXHwuKlxcbikqKVxcbj8vLFBBUkFHUkFQSF9SPS9eKCg/OlteXFxuXXxcXG4oPyEgKlxcbikpKykoPzpcXG4gKikrXFxuLyxSRUZFUkVOQ0VfSU1BR0VfT1JfTElOSz0vXlxcWyhbXlxcXV0qKVxcXTpcXHMqKFxcUyspXFxzKihcIihbXlwiXSopXCIpPy8sUkVGRVJFTkNFX0lNQUdFX1I9L14hXFxbKFteXFxdXSopXFxdID9cXFsoW15cXF1dKilcXF0vLFJFRkVSRU5DRV9MSU5LX1I9L15cXFsoW15cXF1dKilcXF0gP1xcWyhbXlxcXV0qKVxcXS8sU1FVQVJFX0JSQUNLRVRTX1I9LyhcXFt8XFxdKS9nLFNIT1VMRF9SRU5ERVJfQVNfQkxPQ0tfUj0vKFxcbnxeWy0qXVxcc3xeI3xeIHsyLH18Xi17Mix9fF4+XFxzKS8sVEFCX1I9L1xcdC9nLFRBQkxFX1NFUEFSQVRPUl9SPS9eICpcXHwgKi8sVEFCTEVfVFJJTV9QSVBFUz0vKF4gKlxcfHxcXHwgKiQpL2csVEFCTEVfQ0VMTF9FTkRfVFJJTT0vICokLyxUQUJMRV9DRU5URVJfQUxJR049L14gKjotKzogKiQvLFRBQkxFX0xFRlRfQUxJR049L14gKjotKyAqJC8sVEFCTEVfUklHSFRfQUxJR049L14gKi0rOiAqJC8sVEVYVF9CT0xEX1I9L14oWypfXSlcXDEoKD86XFxbLio/XFxdWyhbXS4qP1spXFxdXXw8Lio/Pig/Oi4qPzwuKj8+KT98YC4qP2B8fisuKj9+K3wuKSo/KVxcMVxcMSg/IVxcMSkvLFRFWFRfRU1QSEFTSVpFRF9SPS9eKFsqX10pKCg/OlxcWy4qP1xcXVsoW10uKj9bKVxcXV18PC4qPz4oPzouKj88Lio/Pik/fGAuKj9gfH4rLio/fit8LikqPylcXDEoPyFcXDEpLyxURVhUX1NUUklLRVRIUk9VR0hFRF9SPS9efn4oKD86XFxbLio/XFxdfDwuKj8+KD86Lio/PC4qPz4pP3xgLio/YHwuKSo/KX5+LyxURVhUX0VTQ0FQRURfUj0vXlxcXFwoW14wLTlBLVphLXpcXHNdKS8sVEVYVF9QTEFJTl9SPS9eW1xcc1xcU10rPyg/PVteMC05QS1aXFxzXFx1MDBjMC1cXHVmZmZmJjsuKCknXCJdfFxcZCtcXC58XFxuXFxufCB7Mix9XFxufFxcdys6XFxTfCQpL2ksVFJJTV9ORVdMSU5FU19BTkRfVFJBSUxJTkdfV0hJVEVTUEFDRV9SPS8oXlxcbit8XFxuKyR8XFxzKyQpL2csSFRNTF9MRUZUX1RSSU1fQU1PVU5UX1I9L14oWyBcXHRdKikvLFVORVNDQVBFX1VSTF9SPS9cXFxcKFteMC05QS1aXFxzXSkvZ2ksTElTVF9CVUxMRVQ9Jyg/OlsqKy1dfFxcXFxkK1xcXFwuKScsTElTVF9JVEVNX1BSRUZJWD0nKCAqKSgoPzpbKistXXxcXFxcZCtcXFxcLikpICsnLExJU1RfSVRFTV9QUkVGSVhfUj0vXiggKikoKD86WyorLV18XFxkK1xcLikpICsvLExJU1RfSVRFTV9SPS8oICopKCg/OlsqKy1dfFxcZCtcXC4pKSArW15cXG5dKig/Olxcbig/IVxcMSg/OlsqKy1dfFxcZCtcXC4pIClbXlxcbl0qKSooXFxufCQpL2dtLExJU1RfUj0vXiggKikoKD86WyorLV18XFxkK1xcLikpIFtcXHNcXFNdKz8oPzpcXG57Mix9KD8hICkoPyFcXDEoPzpbKistXXxcXGQrXFwuKSAoPyEoPzpbKistXXxcXGQrXFwuKSApKVxcbip8XFxzKlxcbiokKS8sTElOS19JTlNJREU9Jyg/OlxcXFxbW15cXFxcXV0qXFxcXF18W15cXFxcW1xcXFxdXXxcXFxcXSg/PVteXFxcXFtdKlxcXFxdKSkqJyxMSU5LX0hSRUZfQU5EX1RJVExFPSdcXFxccyo8PygoPzpbXlxcXFxzXFxcXFxcXFxdfFxcXFxcXFxcLikqPyk+Pyg/OlxcXFxzK1tcXCdcIl0oW1xcXFxzXFxcXFNdKj8pW1xcJ1wiXSk/XFxcXHMqJyxMSU5LX1I9L15cXFsoKD86XFxbW15cXF1dKlxcXXxbXlxcW1xcXV18XFxdKD89W15cXFtdKlxcXSkpKilcXF1cXChcXHMqPD8oKD86W15cXHNcXFxcXXxcXFxcLikqPyk+Pyg/OlxccytbJ1wiXShbXFxzXFxTXSo/KVsnXCJdKT9cXHMqXFwpLyxJTUFHRV9SPS9eIVxcWygoPzpcXFtbXlxcXV0qXFxdfFteXFxbXFxdXXxcXF0oPz1bXlxcW10qXFxdKSkqKVxcXVxcKFxccyo8PygoPzpbXlxcc1xcXFxdfFxcXFwuKSo/KT4/KD86XFxzK1snXCJdKFtcXHNcXFNdKj8pWydcIl0pP1xccypcXCkvLEJMT0NLX1NZTlRBWEVTPVtCTE9DS1FVT1RFX1IsQ09ERV9CTE9DS19SLENPREVfQkxPQ0tfRkVOQ0VEX1IsSEVBRElOR19SLEhFQURJTkdfU0VURVhUX1IsSFRNTF9CTE9DS19FTEVNRU5UX1IsSFRNTF9DT01NRU5UX1IsSFRNTF9TRUxGX0NMT1NJTkdfRUxFTUVOVF9SLExJU1RfSVRFTV9SLExJU1RfUixOUF9UQUJMRV9SLFBBUkFHUkFQSF9SXTtmdW5jdGlvbiBjb250YWluc0Jsb2NrU3ludGF4KGEpe3JldHVybiBCTE9DS19TWU5UQVhFUy5zb21lKGZ1bmN0aW9uKGIpe3JldHVybiBiLnRlc3QoYSl9KX1mdW5jdGlvbiBzbHVnaWZ5KGEpe3JldHVybiBhLnJlcGxhY2UoL1vDgMOBw4LDg8OEw4XDoMOhw6LDo8Okw6XDpsOGXS9nLCdhJykucmVwbGFjZSgvW8Onw4ddL2csJ2MnKS5yZXBsYWNlKC9bw7DDkF0vZywnZCcpLnJlcGxhY2UoL1vDiMOJw4rDi8Opw6jDqsOrXS9nLCdlJykucmVwbGFjZSgvW8OPw6/DjsOuw43DrcOMw6xdL2csJ2knKS5yZXBsYWNlKC9bw5HDsV0vZywnbicpLnJlcGxhY2UoL1vDuMOYxZPFksOVw7XDlMO0w5PDs8OSw7JdL2csJ28nKS5yZXBsYWNlKC9bw5zDvMObw7vDmsO6w5nDuV0vZywndScpLnJlcGxhY2UoL1vFuMO/w53DvV0vZywneScpLnJlcGxhY2UoL1teYS16MC05LSBdL2dpLCcnKS5yZXBsYWNlKC8gL2dpLCctJykudG9Mb3dlckNhc2UoKX1mdW5jdGlvbiBwYXJzZVRhYmxlQWxpZ25DYXB0dXJlKGEpe2lmKFRBQkxFX1JJR0hUX0FMSUdOLnRlc3QoYSkpcmV0dXJuJ3JpZ2h0JztyZXR1cm4gVEFCTEVfQ0VOVEVSX0FMSUdOLnRlc3QoYSk/J2NlbnRlcic6VEFCTEVfTEVGVF9BTElHTi50ZXN0KGEpPydsZWZ0JzpudWxsfWZ1bmN0aW9uIHBhcnNlVGFibGVSb3coYSxiLGMpe3ZhciBkPWMuaW5UYWJsZTtjLmluVGFibGU9ITA7dmFyIGU9YihhLnRyaW0oKSxjKTtjLmluVGFibGU9ZDt2YXIgZj1bW11dO3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24oYSxiKXthLnR5cGU9PT0ndGFibGVTZXBhcmF0b3InP2IhPT0wJiZiIT09ZS5sZW5ndGgtMSYmZi5wdXNoKFtdKTooYS50eXBlPT09J3RleHQnJiYoZVtiKzFdPT1udWxsfHxlW2IrMV0udHlwZT09PSd0YWJsZVNlcGFyYXRvcicpJiYoYS5jb250ZW50PWEuY29udGVudC5yZXBsYWNlKFRBQkxFX0NFTExfRU5EX1RSSU0sJycpKSxmW2YubGVuZ3RoLTFdLnB1c2goYSkpfSksZn1mdW5jdGlvbiBwYXJzZVRhYmxlQWxpZ24oYSl7dmFyIGI9YS5yZXBsYWNlKFRBQkxFX1RSSU1fUElQRVMsJycpLnNwbGl0KCd8Jyk7cmV0dXJuIGIubWFwKHBhcnNlVGFibGVBbGlnbkNhcHR1cmUpfWZ1bmN0aW9uIHBhcnNlVGFibGVDZWxscyhhLGIsYyl7dmFyIGQ9YS50cmltKCkuc3BsaXQoJ1xcbicpO3JldHVybiBkLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gcGFyc2VUYWJsZVJvdyhhLGIsYyl9KX1mdW5jdGlvbiBwYXJzZVRhYmxlKGEsYixjKXtjLmlubGluZT0hMDt2YXIgZD1wYXJzZVRhYmxlUm93KGFbMV0sYixjKSxlPXBhcnNlVGFibGVBbGlnbihhWzJdLGIsYyksZj1wYXJzZVRhYmxlQ2VsbHMoYVszXSxiLGMpO3JldHVybiBjLmlubGluZT0hMSx7YWxpZ246ZSxjZWxsczpmLGhlYWRlcjpkLHR5cGU6J3RhYmxlJ319ZnVuY3Rpb24gZ2V0VGFibGVTdHlsZShhLGIpe3JldHVybiBhLmFsaWduW2JdPT1udWxsP3t9Ont0ZXh0QWxpZ246YS5hbGlnbltiXX19ZnVuY3Rpb24gbm9ybWFsaXplQXR0cmlidXRlS2V5KGEpe3ZhciBiPWEuaW5kZXhPZignLScpO3JldHVybiBiIT09LTEmJmEubWF0Y2goSFRNTF9DVVNUT01fQVRUUl9SKT09PW51bGwmJihhPWEucmVwbGFjZShDQVBUVVJFX0xFVFRFUl9BRlRFUl9IWVBIRU4sZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi50b1VwcGVyQ2FzZSgpfSkpLGF9ZnVuY3Rpb24gYXR0cmlidXRlVmFsdWVUb0pTWFByb3BWYWx1ZShhLGIpe3JldHVybiBhPT09J3N0eWxlJz9iLnNwbGl0KC87XFxzPy8pLnJlZHVjZShmdW5jdGlvbihhLGIpe3ZhciBjPWIuc2xpY2UoMCxiLmluZGV4T2YoJzonKSksZD1jLnJlcGxhY2UoLygtW2Etel0pL2csZnVuY3Rpb24oYSl7cmV0dXJuIGFbMV0udG9VcHBlckNhc2UoKX0pO3JldHVybiBhW2RdPWIuc2xpY2UoYy5sZW5ndGgrMSkudHJpbSgpLGF9LHt9KTphPT09J2hyZWYnP3Nhbml0aXplVXJsKGIpOihiLm1hdGNoKElOVEVSUE9MQVRJT05fUikmJihiPWIuc2xpY2UoMSxiLmxlbmd0aC0xKSksYj09PSd0cnVlJ3x8YiE9PSdmYWxzZScmJmIpfWZ1bmN0aW9uIG5vcm1hbGl6ZVdoaXRlc3BhY2UoYSl7cmV0dXJuIGEucmVwbGFjZShDUl9ORVdMSU5FX1IsJ1xcbicpLnJlcGxhY2UoRk9STUZFRURfUiwnJykucmVwbGFjZShUQUJfUiwnICAgICcpfWZ1bmN0aW9uIHBhcnNlckZvcihhKXtmdW5jdGlvbiBiKGQsZSl7Zm9yKHZhciBmPVtdLGc9Jyc7ZDspZm9yKHZhciBsPTA7bDxjLmxlbmd0aDspe3ZhciBoPWNbbF0saj1hW2hdLGs9ai5tYXRjaChkLGUsZyk7aWYoayl7dmFyIGk9a1swXTtkPWQuc3Vic3RyaW5nKGkubGVuZ3RoKTt2YXIgbT1qLnBhcnNlKGssYixlKTttLnR5cGU9PW51bGwmJihtLnR5cGU9aCksZi5wdXNoKG0pLGc9aTticmVha31sKyt9cmV0dXJuIGZ9dmFyIGM9T2JqZWN0LmtleXMoYSk7cmV0dXJuIHByb2Nlc3MuZW52Lk5PREVfRU5WIT09J3Byb2R1Y3Rpb24nJiZjLmZvckVhY2goZnVuY3Rpb24oYil7dmFyIGM9YVtiXS5vcmRlcjtwcm9jZXNzLmVudi5OT0RFX0VOVj09PSdwcm9kdWN0aW9uJ3x8dHlwZW9mIGM9PSdudW1iZXInJiZpc0Zpbml0ZShjKXx8Y29uc29sZS53YXJuKCdtYXJrZG93bi10by1qc3g6IEludmFsaWQgb3JkZXIgZm9yIHJ1bGUgYCcrYisnYDogJytjKX0pLGMuc29ydChmdW5jdGlvbihiLGMpe3ZhciBkPWFbYl0ub3JkZXIsZT1hW2NdLm9yZGVyO3JldHVybiBkPT09ZT9iPGM/LTE6MTpkLWV9KSxmdW5jdGlvbihhLGMpe3JldHVybiBiKG5vcm1hbGl6ZVdoaXRlc3BhY2UoYSksYyl9fWZ1bmN0aW9uIGlubGluZVJlZ2V4KGEpe3JldHVybiBmdW5jdGlvbihiLGMpe3JldHVybiBjLmlubGluZT9hLmV4ZWMoYik6bnVsbH19ZnVuY3Rpb24gc2ltcGxlSW5saW5lUmVnZXgoYSl7cmV0dXJuIGZ1bmN0aW9uKGIsYyl7cmV0dXJuIGMuaW5saW5lfHxjLnNpbXBsZT9hLmV4ZWMoYik6bnVsbH19ZnVuY3Rpb24gYmxvY2tSZWdleChhKXtyZXR1cm4gZnVuY3Rpb24oYixjKXtyZXR1cm4gYy5pbmxpbmV8fGMuc2ltcGxlP251bGw6YS5leGVjKGIpfX1mdW5jdGlvbiBhbnlTY29wZVJlZ2V4KGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gYS5leGVjKGIpfX1mdW5jdGlvbiByZWFjdEZvcihhKXtyZXR1cm4gZnVuY3Rpb24gYihjLGQpe2lmKGQ9ZHx8e30sQXJyYXkuaXNBcnJheShjKSl7Zm9yKHZhciBlPWQua2V5LGY9W10sZz0hMSxoPTA7aDxjLmxlbmd0aDtoKyspe2Qua2V5PWg7dmFyIGo9YihjW2hdLGQpLGs9dHlwZW9mIGo9PSdzdHJpbmcnO2smJmc/ZltmLmxlbmd0aC0xXSs9ajpmLnB1c2goaiksZz1rfXJldHVybiBkLmtleT1lLGZ9cmV0dXJuIGEoYyxiLGQpfX1mdW5jdGlvbiBzYW5pdGl6ZVVybChhKXt0cnl7dmFyIGI9ZGVjb2RlVVJJQ29tcG9uZW50KGEpO2lmKGIubWF0Y2goL15cXHMqamF2YXNjcmlwdDovaSkpcmV0dXJuIHByb2Nlc3MuZW52Lk5PREVfRU5WIT09J3Byb2R1Y3Rpb24nJiZjb25zb2xlLndhcm4oJ0FuY2hvciBVUkwgY29udGFpbnMgYW4gdW5zYWZlIEphdmFTY3JpcHQgZXhwcmVzc2lvbiwgaXQgd2lsbCBub3QgYmUgcmVuZGVyZWQuJyxiKSxudWxsfWNhdGNoKGIpe3JldHVybiBwcm9jZXNzLmVudi5OT0RFX0VOViE9PSdwcm9kdWN0aW9uJyYmY29uc29sZS53YXJuKCdBbmNob3IgVVJMIGNvdWxkIG5vdCBiZSBkZWNvZGVkIGR1ZSB0byBtYWxmb3JtZWQgc3ludGF4IG9yIGNoYXJhY3RlcnMsIGl0IHdpbGwgbm90IGJlIHJlbmRlcmVkLicsYSksbnVsbH1yZXR1cm4gYX1mdW5jdGlvbiB1bmVzY2FwZVVybChhKXtyZXR1cm4gYS5yZXBsYWNlKFVORVNDQVBFX1VSTF9SLCckMScpfWZ1bmN0aW9uIHBhcnNlSW5saW5lKGEsYixjKXt2YXIgZD1jLmlubGluZXx8ITEsZT1jLnNpbXBsZXx8ITE7Yy5pbmxpbmU9ITAsYy5zaW1wbGU9ITA7dmFyIGY9YShiLGMpO3JldHVybiBjLmlubGluZT1kLGMuc2ltcGxlPWUsZn1mdW5jdGlvbiBwYXJzZVNpbXBsZUlubGluZShhLGIsYyl7dmFyIGQ9Yy5pbmxpbmV8fCExLGU9Yy5zaW1wbGV8fCExO2MuaW5saW5lPSExLGMuc2ltcGxlPSEwO3ZhciBmPWEoYixjKTtyZXR1cm4gYy5pbmxpbmU9ZCxjLnNpbXBsZT1lLGZ9ZnVuY3Rpb24gcGFyc2VCbG9jayhhLGIsYyl7cmV0dXJuIGMuaW5saW5lPSExLGEoYisnXFxuXFxuJyxjKX1mdW5jdGlvbiBwYXJzZUNhcHR1cmVJbmxpbmUoYSxiLGMpe3JldHVybntjb250ZW50OnBhcnNlSW5saW5lKGIsYVsxXSxjKX19ZnVuY3Rpb24gY2FwdHVyZU5vdGhpbmcoKXtyZXR1cm57fX1mdW5jdGlvbiByZW5kZXJOb3RoaW5nKCl7cmV0dXJuIG51bGx9ZnVuY3Rpb24gcnVsZU91dHB1dChhKXtyZXR1cm4gZnVuY3Rpb24oYixjLGQpe3JldHVybiBhW2IudHlwZV0ucmVhY3QoYixjLGQpfX1mdW5jdGlvbiBjeCgpe2Zvcih2YXIgYT1hcmd1bWVudHMubGVuZ3RoLGI9QXJyYXkoYSksYz0wO2M8YTtjKyspYltjXT1hcmd1bWVudHNbY107cmV0dXJuIGIuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJyAnKX1mdW5jdGlvbiBnZXQoYSxiLGMpe2Zvcih2YXIgZD1hLGU9Yi5zcGxpdCgnLicpO2UubGVuZ3RoJiYoZD1kW2VbMF1dLGQhPT12b2lkIDApOyllLnNoaWZ0KCk7cmV0dXJuIGR8fGN9ZnVuY3Rpb24gZ2V0VGFnKGEsYil7dmFyIGM9Z2V0KGIsYSk7cmV0dXJuIGM/dHlwZW9mIGM9PSdmdW5jdGlvbid8fCh0eXBlb2YgYz09J3VuZGVmaW5lZCc/J3VuZGVmaW5lZCc6X3R5cGVvZihjKSk9PT0nb2JqZWN0JyYmJ3JlbmRlcidpbiBjP2M6Z2V0KGIsYSsnLmNvbXBvbmVudCcsYSk6YX12YXIgUEFSU0VfUFJJT1JJVFlfTUFYPTEsUEFSU0VfUFJJT1JJVFlfSElHSD0yLFBBUlNFX1BSSU9SSVRZX01FRD0zLFBBUlNFX1BSSU9SSVRZX0xPVz00LFBBUlNFX1BSSU9SSVRZX01JTj01O2V4cG9ydCBmdW5jdGlvbiBjb21waWxlcihhLGIpe2Z1bmN0aW9uIGQoYSxjKXtmb3IodmFyIGQ9Z2V0KGIub3ZlcnJpZGVzLGErJy5wcm9wcycse30pLGU9YXJndW1lbnRzLmxlbmd0aCxnPUFycmF5KGU+Mj9lLTI6MCksaD0yO2g8ZTtoKyspZ1toLTJdPWFyZ3VtZW50c1toXTtyZXR1cm4gZi5hcHBseSh2b2lkIDAsW2dldFRhZyhhLGIub3ZlcnJpZGVzKSxfZXh0ZW5kcyh7fSxjLGQse2NsYXNzTmFtZTpjeChjJiZjLmNsYXNzTmFtZSxkLmNsYXNzTmFtZSl8fHZvaWQgMH0pXS5jb25jYXQoZykpfWZ1bmN0aW9uIGMoYSl7dmFyIGM9ITE7Yi5mb3JjZUlubGluZT9jPSEwOiFiLmZvcmNlQmxvY2smJihjPVNIT1VMRF9SRU5ERVJfQVNfQkxPQ0tfUi50ZXN0KGEpPT09ITEpO3ZhciBlPWsoaihjP2E6YS5yZXBsYWNlKFRSSU1fTkVXTElORVNfQU5EX1RSQUlMSU5HX1dISVRFU1BBQ0VfUiwnJykrJ1xcblxcbicse2lubGluZTpjfSkpLGY9dm9pZCAwO3JldHVybiBlLmxlbmd0aD4xP2Y9Yz9kKCdzcGFuJyx7a2V5OidvdXRlcid9LGUpOmQoJ2Rpdicse2tleTonb3V0ZXInfSxlKTplLmxlbmd0aD09PTE/KGY9ZVswXSx0eXBlb2YgZj09J3N0cmluZycmJihmPWQoJ3NwYW4nLHtrZXk6J291dGVyJ30sZikpKTpmPWQoJ3NwYW4nLHtrZXk6J291dGVyJ30pLGZ9ZnVuY3Rpb24gZShhKXt2YXIgYj1hLm1hdGNoKEFUVFJfRVhUUkFDVE9SX1IpO3JldHVybiBiP2IucmVkdWNlKGZ1bmN0aW9uKGEsYixkKXt2YXIgZT1iLmluZGV4T2YoJz0nKTtpZihlIT09LTEpe3ZhciBmPW5vcm1hbGl6ZUF0dHJpYnV0ZUtleShiLnNsaWNlKDAsZSkpLnRyaW0oKSxnPXVucXVvdGUoYi5zbGljZShlKzEpLnRyaW0oKSksaD1BVFRSSUJVVEVfVE9fSlNYX1BST1BfTUFQW2ZdfHxmLGk9YVtoXT1hdHRyaWJ1dGVWYWx1ZVRvSlNYUHJvcFZhbHVlKGYsZyk7KEhUTUxfQkxPQ0tfRUxFTUVOVF9SLnRlc3QoaSl8fEhUTUxfU0VMRl9DTE9TSU5HX0VMRU1FTlRfUi50ZXN0KGkpKSYmKGFbaF09UmVhY3QuY2xvbmVFbGVtZW50KGMoaS50cmltKCkpLHtrZXk6ZH0pKX1lbHNlIGFbQVRUUklCVVRFX1RPX0pTWF9QUk9QX01BUFtiXXx8Yl09ITA7cmV0dXJuIGF9LHt9KTp2b2lkIDB9Yj1ifHx7fSxiLm92ZXJyaWRlcz1iLm92ZXJyaWRlc3x8e30sYi5zbHVnaWZ5PWIuc2x1Z2lmeXx8c2x1Z2lmeSxiLm5hbWVkQ29kZXNUb1VuaWNvZGU9Yi5uYW1lZENvZGVzVG9Vbmljb2RlP19leHRlbmRzKHt9LG5hbWVkQ29kZXNUb1VuaWNvZGUsYi5uYW1lZENvZGVzVG9Vbmljb2RlKTpuYW1lZENvZGVzVG9Vbmljb2RlO3ZhciBmPWIuY3JlYXRlRWxlbWVudHx8UmVhY3QuY3JlYXRlRWxlbWVudDtpZihwcm9jZXNzLmVudi5OT0RFX0VOViE9PSdwcm9kdWN0aW9uJyl7aWYodHlwZW9mIGEhPSdzdHJpbmcnKXRocm93IG5ldyBFcnJvcignbWFya2Rvd24tdG8tanN4OiB0aGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZVxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYSBzdHJpbmcnKTtpZihPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYi5vdmVycmlkZXMpIT09J1tvYmplY3QgT2JqZWN0XScpdGhyb3cgbmV3IEVycm9yKCdtYXJrZG93bi10by1qc3g6IG9wdGlvbnMub3ZlcnJpZGVzIChzZWNvbmQgYXJndW1lbnQgcHJvcGVydHkpIG11c3QgYmVcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCBvciBhbiBvYmplY3QgbGl0ZXJhbCB3aXRoIHNoYXBlOlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHRtbHRhZ25hbWU6IHtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQ6IHN0cmluZ3xSZWFjdENvbXBvbmVudChvcHRpb25hbCksXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcHM6IG9iamVjdChvcHRpb25hbClcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0nKX12YXIgZz1bXSxoPXt9LGk9e2Jsb2NrUXVvdGU6e21hdGNoOmJsb2NrUmVnZXgoQkxPQ0tRVU9URV9SKSxvcmRlcjpQQVJTRV9QUklPUklUWV9ISUdILHBhcnNlOmZ1bmN0aW9uIGQoYSxiLGMpe3JldHVybntjb250ZW50OmIoYVswXS5yZXBsYWNlKEJMT0NLUVVPVEVfVFJJTV9MRUZUX01VTFRJTElORV9SLCcnKSxjKX19LHJlYWN0OmZ1bmN0aW9uIGUoYSxiLGMpe3JldHVybiBkKCdibG9ja3F1b3RlJyx7a2V5OmMua2V5fSxiKGEuY29udGVudCxjKSl9fSxicmVha0xpbmU6e21hdGNoOmFueVNjb3BlUmVnZXgoQlJFQUtfTElORV9SKSxvcmRlcjpQQVJTRV9QUklPUklUWV9ISUdILHBhcnNlOmNhcHR1cmVOb3RoaW5nLHJlYWN0OmZ1bmN0aW9uIGUoYSxiLGMpe3JldHVybiBkKCdicicse2tleTpjLmtleX0pfX0sYnJlYWtUaGVtYXRpYzp7bWF0Y2g6YmxvY2tSZWdleChCUkVBS19USEVNQVRJQ19SKSxvcmRlcjpQQVJTRV9QUklPUklUWV9ISUdILHBhcnNlOmNhcHR1cmVOb3RoaW5nLHJlYWN0OmZ1bmN0aW9uIGUoYSxiLGMpe3JldHVybiBkKCdocicse2tleTpjLmtleX0pfX0sY29kZUJsb2NrOnttYXRjaDpibG9ja1JlZ2V4KENPREVfQkxPQ0tfUiksb3JkZXI6UEFSU0VfUFJJT1JJVFlfTUFYLHBhcnNlOmZ1bmN0aW9uIGMoYSl7dmFyIGI9YVswXS5yZXBsYWNlKC9eIHs0fS9nbSwnJykucmVwbGFjZSgvXFxuKyQvLCcnKTtyZXR1cm57Y29udGVudDpiLGxhbmc6dm9pZCAwfX0scmVhY3Q6ZnVuY3Rpb24gZShhLGIsYyl7cmV0dXJuIGQoJ3ByZScse2tleTpjLmtleX0sZCgnY29kZScse2NsYXNzTmFtZTphLmxhbmc/J2xhbmctJythLmxhbmc6Jyd9LGEuY29udGVudCkpfX0sY29kZUZlbmNlZDp7bWF0Y2g6YmxvY2tSZWdleChDT0RFX0JMT0NLX0ZFTkNFRF9SKSxvcmRlcjpQQVJTRV9QUklPUklUWV9NQVgscGFyc2U6ZnVuY3Rpb24gYihhKXtyZXR1cm57Y29udGVudDphWzNdLGxhbmc6YVsyXXx8dm9pZCAwLHR5cGU6J2NvZGVCbG9jayd9fX0sY29kZUlubGluZTp7bWF0Y2g6c2ltcGxlSW5saW5lUmVnZXgoQ09ERV9JTkxJTkVfUiksb3JkZXI6UEFSU0VfUFJJT1JJVFlfTE9XLHBhcnNlOmZ1bmN0aW9uIGIoYSl7cmV0dXJue2NvbnRlbnQ6YVsyXX19LHJlYWN0OmZ1bmN0aW9uIGUoYSxiLGMpe3JldHVybiBkKCdjb2RlJyx7a2V5OmMua2V5fSxhLmNvbnRlbnQpfX0sZm9vdG5vdGU6e21hdGNoOmJsb2NrUmVnZXgoRk9PVE5PVEVfUiksb3JkZXI6UEFSU0VfUFJJT1JJVFlfTUFYLHBhcnNlOmZ1bmN0aW9uIGIoYSl7cmV0dXJuIGcucHVzaCh7Zm9vdG5vdGU6YVsyXSxpZGVudGlmaWVyOmFbMV19KSx7fX0scmVhY3Q6cmVuZGVyTm90aGluZ30sZm9vdG5vdGVSZWZlcmVuY2U6e21hdGNoOmlubGluZVJlZ2V4KEZPT1ROT1RFX1JFRkVSRU5DRV9SKSxvcmRlcjpQQVJTRV9QUklPUklUWV9ISUdILHBhcnNlOmZ1bmN0aW9uIGIoYSl7cmV0dXJue2NvbnRlbnQ6YVsxXSx0YXJnZXQ6JyMnK2FbMV19fSxyZWFjdDpmdW5jdGlvbiBlKGEsYixjKXtyZXR1cm4gZCgnYScse2tleTpjLmtleSxocmVmOnNhbml0aXplVXJsKGEudGFyZ2V0KX0sZCgnc3VwJyx7a2V5OmMua2V5fSxhLmNvbnRlbnQpKX19LGdmbVRhc2s6e21hdGNoOmlubGluZVJlZ2V4KEdGTV9UQVNLX1IpLG9yZGVyOlBBUlNFX1BSSU9SSVRZX0hJR0gscGFyc2U6ZnVuY3Rpb24gYihhKXtyZXR1cm57Y29tcGxldGVkOmFbMV0udG9Mb3dlckNhc2UoKT09PSd4J319LHJlYWN0OmZ1bmN0aW9uIGUoYSxiLGMpe3JldHVybiBkKCdpbnB1dCcse2NoZWNrZWQ6YS5jb21wbGV0ZWQsa2V5OmMua2V5LHJlYWRPbmx5OiEwLHR5cGU6J2NoZWNrYm94J30pfX0saGVhZGluZzp7bWF0Y2g6YmxvY2tSZWdleChIRUFESU5HX1IpLG9yZGVyOlBBUlNFX1BSSU9SSVRZX0hJR0gscGFyc2U6ZnVuY3Rpb24gZShhLGMsZCl7cmV0dXJue2NvbnRlbnQ6cGFyc2VJbmxpbmUoYyxhWzJdLGQpLGlkOmIuc2x1Z2lmeShhWzJdKSxsZXZlbDphWzFdLmxlbmd0aH19LHJlYWN0OmZ1bmN0aW9uIGYoYSxiLGMpe3ZhciBlPSdoJythLmxldmVsO3JldHVybiBkKGUse2lkOmEuaWQsa2V5OmMua2V5fSxiKGEuY29udGVudCxjKSl9fSxoZWFkaW5nU2V0ZXh0OnttYXRjaDpibG9ja1JlZ2V4KEhFQURJTkdfU0VURVhUX1IpLG9yZGVyOlBBUlNFX1BSSU9SSVRZX01BWCxwYXJzZTpmdW5jdGlvbiBkKGEsYixjKXtyZXR1cm57Y29udGVudDpwYXJzZUlubGluZShiLGFbMV0sYyksbGV2ZWw6YVsyXT09PSc9Jz8xOjIsdHlwZTonaGVhZGluZyd9fX0saHRtbEJsb2NrOnttYXRjaDphbnlTY29wZVJlZ2V4KEhUTUxfQkxPQ0tfRUxFTUVOVF9SKSxvcmRlcjpQQVJTRV9QUklPUklUWV9ISUdILHBhcnNlOmZ1bmN0aW9uIGwoYSxiLGMpe3ZhciBkPWFbM10ubWF0Y2goSFRNTF9MRUZUX1RSSU1fQU1PVU5UX1IpLGY9ZFsxXSxnPW5ldyBSZWdFeHAoJ14nK2YsJ2dtJyksaD1hWzNdLnJlcGxhY2UoZywnJyksaT1jb250YWluc0Jsb2NrU3ludGF4KGgpP3BhcnNlQmxvY2s6cGFyc2VJbmxpbmUsaj1hWzFdLnRvTG93ZXJDYXNlKCksaz1ET19OT1RfUFJPQ0VTU19IVE1MX0VMRU1FTlRTLmluZGV4T2YoaikhPT0tMTtyZXR1cm57YXR0cnM6ZShhWzJdKSxjb250ZW50Oms/YVszXTppKGIsaCxjKSxub0lubmVyUGFyc2U6ayx0YWc6az9qOmFbMV19fSxyZWFjdDpmdW5jdGlvbiBlKGEsYixjKXtyZXR1cm4gZChhLnRhZyxfZXh0ZW5kcyh7a2V5OmMua2V5fSxhLmF0dHJzKSxhLm5vSW5uZXJQYXJzZT9hLmNvbnRlbnQ6YihhLmNvbnRlbnQsYykpfX0saHRtbENvbW1lbnQ6e21hdGNoOmFueVNjb3BlUmVnZXgoSFRNTF9DT01NRU5UX1IpLG9yZGVyOlBBUlNFX1BSSU9SSVRZX0hJR0gscGFyc2U6ZnVuY3Rpb24gYSgpe3JldHVybnt9fSxyZWFjdDpyZW5kZXJOb3RoaW5nfSxodG1sU2VsZkNsb3Npbmc6e21hdGNoOmFueVNjb3BlUmVnZXgoSFRNTF9TRUxGX0NMT1NJTkdfRUxFTUVOVF9SKSxvcmRlcjpQQVJTRV9QUklPUklUWV9ISUdILHBhcnNlOmZ1bmN0aW9uIGIoYSl7cmV0dXJue2F0dHJzOmUoYVsyXXx8JycpLHRhZzphWzFdfX0scmVhY3Q6ZnVuY3Rpb24gZShhLGIsYyl7cmV0dXJuIGQoYS50YWcsX2V4dGVuZHMoe30sYS5hdHRycyx7a2V5OmMua2V5fSkpfX0saW1hZ2U6e21hdGNoOnNpbXBsZUlubGluZVJlZ2V4KElNQUdFX1IpLG9yZGVyOlBBUlNFX1BSSU9SSVRZX0hJR0gscGFyc2U6ZnVuY3Rpb24gYihhKXtyZXR1cm57YWx0OmFbMV0sdGFyZ2V0OnVuZXNjYXBlVXJsKGFbMl0pLHRpdGxlOmFbM119fSxyZWFjdDpmdW5jdGlvbiBlKGEsYixjKXtyZXR1cm4gZCgnaW1nJyx7a2V5OmMua2V5LGFsdDphLmFsdHx8dm9pZCAwLHRpdGxlOmEudGl0bGV8fHZvaWQgMCxzcmM6c2FuaXRpemVVcmwoYS50YXJnZXQpfSl9fSxsaW5rOnttYXRjaDppbmxpbmVSZWdleChMSU5LX1IsITEpLG9yZGVyOlBBUlNFX1BSSU9SSVRZX0xPVyxwYXJzZTpmdW5jdGlvbiBkKGEsYixjKXtyZXR1cm57Y29udGVudDpwYXJzZVNpbXBsZUlubGluZShiLGFbMV0sYyksdGFyZ2V0OnVuZXNjYXBlVXJsKGFbMl0pLHRpdGxlOmFbM119fSxyZWFjdDpmdW5jdGlvbiBlKGEsYixjKXtyZXR1cm4gZCgnYScse2tleTpjLmtleSxocmVmOnNhbml0aXplVXJsKGEudGFyZ2V0KSx0aXRsZTphLnRpdGxlfSxiKGEuY29udGVudCxjKSl9fSxsaW5rQW5nbGVCcmFjZVN0eWxlRGV0ZWN0b3I6e21hdGNoOmlubGluZVJlZ2V4KExJTktfQVVUT0xJTktfUiksb3JkZXI6UEFSU0VfUFJJT1JJVFlfTUFYLHBhcnNlOmZ1bmN0aW9uIGIoYSl7cmV0dXJue2NvbnRlbnQ6W3tjb250ZW50OmFbMV0sdHlwZTondGV4dCd9XSx0YXJnZXQ6YVsxXSx0eXBlOidsaW5rJ319fSxsaW5rQmFyZVVybERldGVjdG9yOnttYXRjaDppbmxpbmVSZWdleChMSU5LX0FVVE9MSU5LX0JBUkVfVVJMX1IpLG9yZGVyOlBBUlNFX1BSSU9SSVRZX01BWCxwYXJzZTpmdW5jdGlvbiBiKGEpe3JldHVybntjb250ZW50Olt7Y29udGVudDphWzFdLHR5cGU6J3RleHQnfV0sdGFyZ2V0OmFbMV0sdGl0bGU6dm9pZCAwLHR5cGU6J2xpbmsnfX19LGxpbmtNYWlsdG9EZXRlY3Rvcjp7bWF0Y2g6aW5saW5lUmVnZXgoTElOS19BVVRPTElOS19NQUlMVE9fUiksb3JkZXI6UEFSU0VfUFJJT1JJVFlfTUFYLHBhcnNlOmZ1bmN0aW9uIGQoYSl7dmFyIGI9YVsxXSxjPWFbMV07cmV0dXJuIEFVVE9MSU5LX01BSUxUT19DSEVDS19SLnRlc3QoYyl8fChjPSdtYWlsdG86JytjKSx7Y29udGVudDpbe2NvbnRlbnQ6Yi5yZXBsYWNlKCdtYWlsdG86JywnJyksdHlwZTondGV4dCd9XSx0YXJnZXQ6Yyx0eXBlOidsaW5rJ319fSxsaXN0OnttYXRjaDpmdW5jdGlvbiBmKGEsYixjKXt2YXIgZD1MSVNUX0xPT0tCRUhJTkRfUi5leGVjKGMpLGU9Yi5fbGlzdHx8IWIuaW5saW5lO3JldHVybiBkJiZlPyhhPWRbMV0rYSxMSVNUX1IuZXhlYyhhKSk6bnVsbH0sb3JkZXI6UEFSU0VfUFJJT1JJVFlfSElHSCxwYXJzZTpmdW5jdGlvbiBqKGEsYixjKXt2YXIgZD1hWzJdLGU9ZC5sZW5ndGg+MSxmPWU/K2Q6dm9pZCAwLGc9YVswXS5yZXBsYWNlKEJMT0NLX0VORF9SLCdcXG4nKS5tYXRjaChMSVNUX0lURU1fUiksaD0hMSxpPWcubWFwKGZ1bmN0aW9uKGEsZCl7dmFyIGU9TElTVF9JVEVNX1BSRUZJWF9SLmV4ZWMoYSlbMF0ubGVuZ3RoLGY9bmV3IFJlZ0V4cCgnXiB7MSwnK2UrJ30nLCdnbScpLGk9YS5yZXBsYWNlKGYsJycpLnJlcGxhY2UoTElTVF9JVEVNX1BSRUZJWF9SLCcnKSxqPWQ9PT1nLmxlbmd0aC0xLGs9aS5pbmRleE9mKCdcXG5cXG4nKSE9PS0xLGw9a3x8aiYmaDtoPWw7dmFyIG09Yy5pbmxpbmUsbj1jLl9saXN0O2MuX2xpc3Q9ITA7dmFyIG87bD8oYy5pbmxpbmU9ITEsbz1pLnJlcGxhY2UoTElTVF9JVEVNX0VORF9SLCdcXG5cXG4nKSk6KGMuaW5saW5lPSEwLG89aS5yZXBsYWNlKExJU1RfSVRFTV9FTkRfUiwnJykpO3ZhciBwPWIobyxjKTtyZXR1cm4gYy5pbmxpbmU9bSxjLl9saXN0PW4scH0pO3JldHVybntpdGVtczppLG9yZGVyZWQ6ZSxzdGFydDpmfX0scmVhY3Q6ZnVuY3Rpb24gZihhLGIsYyl7dmFyIGU9YS5vcmRlcmVkPydvbCc6J3VsJztyZXR1cm4gZChlLHtrZXk6Yy5rZXksc3RhcnQ6YS5zdGFydH0sYS5pdGVtcy5tYXAoZnVuY3Rpb24oYSxlKXtyZXR1cm4gZCgnbGknLHtrZXk6ZX0sYihhLGMpKX0pKX19LG5ld2xpbmVDb2FsZXNjZXI6e21hdGNoOmJsb2NrUmVnZXgoQ09OU0VDVVRJVkVfTkVXTElORV9SKSxvcmRlcjpQQVJTRV9QUklPUklUWV9MT1cscGFyc2U6Y2FwdHVyZU5vdGhpbmcscmVhY3Q6ZnVuY3Rpb24gYSgpe3JldHVybidcXG4nfX0scGFyYWdyYXBoOnttYXRjaDpibG9ja1JlZ2V4KFBBUkFHUkFQSF9SKSxvcmRlcjpQQVJTRV9QUklPUklUWV9MT1cscGFyc2U6cGFyc2VDYXB0dXJlSW5saW5lLHJlYWN0OmZ1bmN0aW9uIGUoYSxiLGMpe3JldHVybiBkKCdwJyx7a2V5OmMua2V5fSxiKGEuY29udGVudCxjKSl9fSxyZWY6e21hdGNoOmlubGluZVJlZ2V4KFJFRkVSRU5DRV9JTUFHRV9PUl9MSU5LKSxvcmRlcjpQQVJTRV9QUklPUklUWV9NQVgscGFyc2U6ZnVuY3Rpb24gYihhKXtyZXR1cm4gaFthWzFdXT17dGFyZ2V0OmFbMl0sdGl0bGU6YVs0XX0se319LHJlYWN0OnJlbmRlck5vdGhpbmd9LHJlZkltYWdlOnttYXRjaDpzaW1wbGVJbmxpbmVSZWdleChSRUZFUkVOQ0VfSU1BR0VfUiksb3JkZXI6UEFSU0VfUFJJT1JJVFlfTUFYLHBhcnNlOmZ1bmN0aW9uIGIoYSl7cmV0dXJue2FsdDphWzFdfHx2b2lkIDAscmVmOmFbMl19fSxyZWFjdDpmdW5jdGlvbiBlKGEsYixjKXtyZXR1cm4gZCgnaW1nJyx7a2V5OmMua2V5LGFsdDphLmFsdCxzcmM6c2FuaXRpemVVcmwoaFthLnJlZl0udGFyZ2V0KSx0aXRsZTpoW2EucmVmXS50aXRsZX0pfX0scmVmTGluazp7bWF0Y2g6aW5saW5lUmVnZXgoUkVGRVJFTkNFX0xJTktfUiksb3JkZXI6UEFSU0VfUFJJT1JJVFlfTUFYLHBhcnNlOmZ1bmN0aW9uIGQoYSxiLGMpe3JldHVybntjb250ZW50OmIoYVsxXSxjKSxmYWxsYmFja0NvbnRlbnQ6YihhWzBdLnJlcGxhY2UoU1FVQVJFX0JSQUNLRVRTX1IsJ1xcXFwkMScpLGMpLHJlZjphWzJdfX0scmVhY3Q6ZnVuY3Rpb24gZShhLGIsYyl7cmV0dXJuIGhbYS5yZWZdP2QoJ2EnLHtrZXk6Yy5rZXksaHJlZjpzYW5pdGl6ZVVybChoW2EucmVmXS50YXJnZXQpLHRpdGxlOmhbYS5yZWZdLnRpdGxlfSxiKGEuY29udGVudCxjKSk6ZCgnc3Bhbicse2tleTpjLmtleX0sYihhLmZhbGxiYWNrQ29udGVudCxjKSl9fSx0YWJsZTp7bWF0Y2g6YmxvY2tSZWdleChOUF9UQUJMRV9SKSxvcmRlcjpQQVJTRV9QUklPUklUWV9ISUdILHBhcnNlOnBhcnNlVGFibGUscmVhY3Q6ZnVuY3Rpb24gZihhLGIsZSl7cmV0dXJuIGQoJ3RhYmxlJyx7a2V5OmUua2V5fSxkKCd0aGVhZCcsbnVsbCxkKCd0cicsbnVsbCxhLmhlYWRlci5tYXAoZnVuY3Rpb24oYyxmKXtyZXR1cm4gZCgndGgnLHtrZXk6ZixzdHlsZTpnZXRUYWJsZVN0eWxlKGEsZil9LGIoYyxlKSl9KSkpLGQoJ3Rib2R5JyxudWxsLGEuY2VsbHMubWFwKGZ1bmN0aW9uKGMsZil7cmV0dXJuIGQoJ3RyJyx7a2V5OmZ9LGMubWFwKGZ1bmN0aW9uKGYsZyl7cmV0dXJuIGQoJ3RkJyx7a2V5Omcsc3R5bGU6Z2V0VGFibGVTdHlsZShhLGcpfSxiKGYsZSkpfSkpfSkpKX19LHRhYmxlU2VwYXJhdG9yOnttYXRjaDpmdW5jdGlvbiBjKGEsYil7cmV0dXJuIGIuaW5UYWJsZT9UQUJMRV9TRVBBUkFUT1JfUi5leGVjKGEpOm51bGx9LG9yZGVyOlBBUlNFX1BSSU9SSVRZX0hJR0gscGFyc2U6ZnVuY3Rpb24gYSgpe3JldHVybnt0eXBlOid0YWJsZVNlcGFyYXRvcid9fSxyZWFjdDpmdW5jdGlvbiBhKCl7cmV0dXJuJyB8ICd9fSx0ZXh0OnttYXRjaDphbnlTY29wZVJlZ2V4KFRFWFRfUExBSU5fUiksb3JkZXI6UEFSU0VfUFJJT1JJVFlfTUlOLHBhcnNlOmZ1bmN0aW9uIGMoYSl7cmV0dXJue2NvbnRlbnQ6YVswXS5yZXBsYWNlKEhUTUxfQ0hBUl9DT0RFX1IsZnVuY3Rpb24oYSxjKXtyZXR1cm4gYi5uYW1lZENvZGVzVG9Vbmljb2RlW2NdP2IubmFtZWRDb2Rlc1RvVW5pY29kZVtjXTphfSl9fSxyZWFjdDpmdW5jdGlvbiBiKGEpe3JldHVybiBhLmNvbnRlbnR9fSx0ZXh0Qm9sZGVkOnttYXRjaDpzaW1wbGVJbmxpbmVSZWdleChURVhUX0JPTERfUiksb3JkZXI6UEFSU0VfUFJJT1JJVFlfTUVELHBhcnNlOmZ1bmN0aW9uIGQoYSxiLGMpe3JldHVybntjb250ZW50OmIoYVsyXSxjKX19LHJlYWN0OmZ1bmN0aW9uIGUoYSxiLGMpe3JldHVybiBkKCdzdHJvbmcnLHtrZXk6Yy5rZXl9LGIoYS5jb250ZW50LGMpKX19LHRleHRFbXBoYXNpemVkOnttYXRjaDpzaW1wbGVJbmxpbmVSZWdleChURVhUX0VNUEhBU0laRURfUiksb3JkZXI6UEFSU0VfUFJJT1JJVFlfTE9XLHBhcnNlOmZ1bmN0aW9uIGQoYSxiLGMpe3JldHVybntjb250ZW50OmIoYVsyXSxjKX19LHJlYWN0OmZ1bmN0aW9uIGUoYSxiLGMpe3JldHVybiBkKCdlbScse2tleTpjLmtleX0sYihhLmNvbnRlbnQsYykpfX0sdGV4dEVzY2FwZWQ6e21hdGNoOnNpbXBsZUlubGluZVJlZ2V4KFRFWFRfRVNDQVBFRF9SKSxvcmRlcjpQQVJTRV9QUklPUklUWV9ISUdILHBhcnNlOmZ1bmN0aW9uIGIoYSl7cmV0dXJue2NvbnRlbnQ6YVsxXSx0eXBlOid0ZXh0J319fSx0ZXh0U3RyaWtldGhyb3VnaGVkOnttYXRjaDpzaW1wbGVJbmxpbmVSZWdleChURVhUX1NUUklLRVRIUk9VR0hFRF9SKSxvcmRlcjpQQVJTRV9QUklPUklUWV9MT1cscGFyc2U6cGFyc2VDYXB0dXJlSW5saW5lLHJlYWN0OmZ1bmN0aW9uIGUoYSxiLGMpe3JldHVybiBkKCdkZWwnLHtrZXk6Yy5rZXl9LGIoYS5jb250ZW50LGMpKX19fSxqPXBhcnNlckZvcihpKSxrPXJlYWN0Rm9yKHJ1bGVPdXRwdXQoaSkpLGw9YyhhKTtyZXR1cm4gZy5sZW5ndGgmJmwucHJvcHMuY2hpbGRyZW4ucHVzaChkKCdmb290ZXInLHtrZXk6J2Zvb3Rlcid9LGcubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBkKCdkaXYnLHtpZDphLmlkZW50aWZpZXIsa2V5OmEuaWRlbnRpZmllcn0sYS5pZGVudGlmaWVyLGsoaihhLmZvb3Rub3RlLHtpbmxpbmU6ITB9KSkpfSkpKSxsfWV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIE1hcmtkb3duKGEpe3ZhciBiPWEuY2hpbGRyZW4sYz1hLm9wdGlvbnMsZD1fb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoYSxbJ2NoaWxkcmVuJywnb3B0aW9ucyddKTtyZXR1cm4gUmVhY3QuY2xvbmVFbGVtZW50KGNvbXBpbGVyKGIsYyksZCl9aWYocHJvY2Vzcy5lbnYuTk9ERV9FTlYhPT0ncHJvZHVjdGlvbicpe3ZhciBQcm9wVHlwZXM9cmVxdWlyZSgncHJvcC10eXBlcycpO01hcmtkb3duLnByb3BUeXBlcz17Y2hpbGRyZW46UHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLG9wdGlvbnM6UHJvcFR5cGVzLm9iamVjdH19XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVzbS5qcy5tYXAiLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kcyc7XG5pbXBvcnQgX2Fzc2VydFRoaXNJbml0aWFsaXplZCBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQnO1xuaW1wb3J0IF9pbmhlcml0c0xvb3NlIGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzTG9vc2UnO1xuaW1wb3J0IF93cmFwTmF0aXZlU3VwZXIgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vd3JhcE5hdGl2ZVN1cGVyJztcbmltcG9ydCBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsTG9vc2UgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdGFnZ2VkVGVtcGxhdGVMaXRlcmFsTG9vc2UnO1xuXG5mdW5jdGlvbiBsYXN0KCkge1xuICB2YXIgX3JlZjtcblxuICByZXR1cm4gX3JlZiA9IGFyZ3VtZW50cy5sZW5ndGggLSAxLCBfcmVmIDwgMCB8fCBhcmd1bWVudHMubGVuZ3RoIDw9IF9yZWYgPyB1bmRlZmluZWQgOiBhcmd1bWVudHNbX3JlZl07XG59XG5cbmZ1bmN0aW9uIG5lZ2F0aW9uKGEpIHtcbiAgcmV0dXJuIC1hO1xufVxuXG5mdW5jdGlvbiBhZGRpdGlvbihhLCBiKSB7XG4gIHJldHVybiBhICsgYjtcbn1cblxuZnVuY3Rpb24gc3VidHJhY3Rpb24oYSwgYikge1xuICByZXR1cm4gYSAtIGI7XG59XG5cbmZ1bmN0aW9uIG11bHRpcGxpY2F0aW9uKGEsIGIpIHtcbiAgcmV0dXJuIGEgKiBiO1xufVxuXG5mdW5jdGlvbiBkaXZpc2lvbihhLCBiKSB7XG4gIHJldHVybiBhIC8gYjtcbn1cblxuZnVuY3Rpb24gZmFjdG9yaWFsKGEpIHtcbiAgaWYgKGEgJSAxIHx8ICEoK2EgPj0gMCkpIHJldHVybiBOYU47XG4gIGlmIChhID4gMTcwKSByZXR1cm4gSW5maW5pdHk7ZWxzZSBpZiAoYSA9PT0gMCkgcmV0dXJuIDE7ZWxzZSB7XG4gICAgcmV0dXJuIGEgKiBmYWN0b3JpYWwoYSAtIDEpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHBvd2VyKGEsIGIpIHtcbiAgcmV0dXJuIE1hdGgucG93KGEsIGIpO1xufVxuXG5mdW5jdGlvbiBzcXJ0KGEpIHtcbiAgcmV0dXJuIE1hdGguc3FydChhKTtcbn1cblxuZnVuY3Rpb24gbWF4KCkge1xuICByZXR1cm4gTWF0aC5tYXguYXBwbHkoTWF0aCwgYXJndW1lbnRzKTtcbn1cblxuZnVuY3Rpb24gbWluKCkge1xuICByZXR1cm4gTWF0aC5taW4uYXBwbHkoTWF0aCwgYXJndW1lbnRzKTtcbn1cblxuZnVuY3Rpb24gY29tbWEoKSB7XG4gIHJldHVybiBBcnJheS5vZi5hcHBseShBcnJheSwgYXJndW1lbnRzKTtcbn1cblxudmFyIGRlZmF1bHRNYXRoU3ltYm9scyA9IHtcbiAgc3ltYm9sczoge1xuICAgICchJzoge1xuICAgICAgcG9zdGZpeDoge1xuICAgICAgICBzeW1ib2w6ICchJyxcbiAgICAgICAgZjogZmFjdG9yaWFsLFxuICAgICAgICBub3RhdGlvbjogJ3Bvc3RmaXgnLFxuICAgICAgICBwcmVjZWRlbmNlOiA2LFxuICAgICAgICByaWdodFRvTGVmdDogMCxcbiAgICAgICAgYXJnQ291bnQ6IDFcbiAgICAgIH0sXG4gICAgICBzeW1ib2w6ICchJyxcbiAgICAgIHJlZ1N5bWJvbDogJyEnXG4gICAgfSxcbiAgICAnXic6IHtcbiAgICAgIGluZml4OiB7XG4gICAgICAgIHN5bWJvbDogJ14nLFxuICAgICAgICBmOiBwb3dlcixcbiAgICAgICAgbm90YXRpb246ICdpbmZpeCcsXG4gICAgICAgIHByZWNlZGVuY2U6IDUsXG4gICAgICAgIHJpZ2h0VG9MZWZ0OiAxLFxuICAgICAgICBhcmdDb3VudDogMlxuICAgICAgfSxcbiAgICAgIHN5bWJvbDogJ14nLFxuICAgICAgcmVnU3ltYm9sOiAnXFxcXF4nXG4gICAgfSxcbiAgICAnKic6IHtcbiAgICAgIGluZml4OiB7XG4gICAgICAgIHN5bWJvbDogJyonLFxuICAgICAgICBmOiBtdWx0aXBsaWNhdGlvbixcbiAgICAgICAgbm90YXRpb246ICdpbmZpeCcsXG4gICAgICAgIHByZWNlZGVuY2U6IDQsXG4gICAgICAgIHJpZ2h0VG9MZWZ0OiAwLFxuICAgICAgICBhcmdDb3VudDogMlxuICAgICAgfSxcbiAgICAgIHN5bWJvbDogJyonLFxuICAgICAgcmVnU3ltYm9sOiAnXFxcXConXG4gICAgfSxcbiAgICAnLyc6IHtcbiAgICAgIGluZml4OiB7XG4gICAgICAgIHN5bWJvbDogJy8nLFxuICAgICAgICBmOiBkaXZpc2lvbixcbiAgICAgICAgbm90YXRpb246ICdpbmZpeCcsXG4gICAgICAgIHByZWNlZGVuY2U6IDQsXG4gICAgICAgIHJpZ2h0VG9MZWZ0OiAwLFxuICAgICAgICBhcmdDb3VudDogMlxuICAgICAgfSxcbiAgICAgIHN5bWJvbDogJy8nLFxuICAgICAgcmVnU3ltYm9sOiAnLydcbiAgICB9LFxuICAgICcrJzoge1xuICAgICAgaW5maXg6IHtcbiAgICAgICAgc3ltYm9sOiAnKycsXG4gICAgICAgIGY6IGFkZGl0aW9uLFxuICAgICAgICBub3RhdGlvbjogJ2luZml4JyxcbiAgICAgICAgcHJlY2VkZW5jZTogMixcbiAgICAgICAgcmlnaHRUb0xlZnQ6IDAsXG4gICAgICAgIGFyZ0NvdW50OiAyXG4gICAgICB9LFxuICAgICAgcHJlZml4OiB7XG4gICAgICAgIHN5bWJvbDogJysnLFxuICAgICAgICBmOiBsYXN0LFxuICAgICAgICBub3RhdGlvbjogJ3ByZWZpeCcsXG4gICAgICAgIHByZWNlZGVuY2U6IDMsXG4gICAgICAgIHJpZ2h0VG9MZWZ0OiAwLFxuICAgICAgICBhcmdDb3VudDogMVxuICAgICAgfSxcbiAgICAgIHN5bWJvbDogJysnLFxuICAgICAgcmVnU3ltYm9sOiAnXFxcXCsnXG4gICAgfSxcbiAgICAnLSc6IHtcbiAgICAgIGluZml4OiB7XG4gICAgICAgIHN5bWJvbDogJy0nLFxuICAgICAgICBmOiBzdWJ0cmFjdGlvbixcbiAgICAgICAgbm90YXRpb246ICdpbmZpeCcsXG4gICAgICAgIHByZWNlZGVuY2U6IDIsXG4gICAgICAgIHJpZ2h0VG9MZWZ0OiAwLFxuICAgICAgICBhcmdDb3VudDogMlxuICAgICAgfSxcbiAgICAgIHByZWZpeDoge1xuICAgICAgICBzeW1ib2w6ICctJyxcbiAgICAgICAgZjogbmVnYXRpb24sXG4gICAgICAgIG5vdGF0aW9uOiAncHJlZml4JyxcbiAgICAgICAgcHJlY2VkZW5jZTogMyxcbiAgICAgICAgcmlnaHRUb0xlZnQ6IDAsXG4gICAgICAgIGFyZ0NvdW50OiAxXG4gICAgICB9LFxuICAgICAgc3ltYm9sOiAnLScsXG4gICAgICByZWdTeW1ib2w6ICctJ1xuICAgIH0sXG4gICAgJywnOiB7XG4gICAgICBpbmZpeDoge1xuICAgICAgICBzeW1ib2w6ICcsJyxcbiAgICAgICAgZjogY29tbWEsXG4gICAgICAgIG5vdGF0aW9uOiAnaW5maXgnLFxuICAgICAgICBwcmVjZWRlbmNlOiAxLFxuICAgICAgICByaWdodFRvTGVmdDogMCxcbiAgICAgICAgYXJnQ291bnQ6IDJcbiAgICAgIH0sXG4gICAgICBzeW1ib2w6ICcsJyxcbiAgICAgIHJlZ1N5bWJvbDogJywnXG4gICAgfSxcbiAgICAnKCc6IHtcbiAgICAgIHByZWZpeDoge1xuICAgICAgICBzeW1ib2w6ICcoJyxcbiAgICAgICAgZjogbGFzdCxcbiAgICAgICAgbm90YXRpb246ICdwcmVmaXgnLFxuICAgICAgICBwcmVjZWRlbmNlOiAwLFxuICAgICAgICByaWdodFRvTGVmdDogMCxcbiAgICAgICAgYXJnQ291bnQ6IDFcbiAgICAgIH0sXG4gICAgICBzeW1ib2w6ICcoJyxcbiAgICAgIHJlZ1N5bWJvbDogJ1xcXFwoJ1xuICAgIH0sXG4gICAgJyknOiB7XG4gICAgICBwb3N0Zml4OiB7XG4gICAgICAgIHN5bWJvbDogJyknLFxuICAgICAgICBmOiB1bmRlZmluZWQsXG4gICAgICAgIG5vdGF0aW9uOiAncG9zdGZpeCcsXG4gICAgICAgIHByZWNlZGVuY2U6IDAsXG4gICAgICAgIHJpZ2h0VG9MZWZ0OiAwLFxuICAgICAgICBhcmdDb3VudDogMVxuICAgICAgfSxcbiAgICAgIHN5bWJvbDogJyknLFxuICAgICAgcmVnU3ltYm9sOiAnXFxcXCknXG4gICAgfSxcbiAgICBtaW46IHtcbiAgICAgIGZ1bmM6IHtcbiAgICAgICAgc3ltYm9sOiAnbWluJyxcbiAgICAgICAgZjogbWluLFxuICAgICAgICBub3RhdGlvbjogJ2Z1bmMnLFxuICAgICAgICBwcmVjZWRlbmNlOiAwLFxuICAgICAgICByaWdodFRvTGVmdDogMCxcbiAgICAgICAgYXJnQ291bnQ6IDFcbiAgICAgIH0sXG4gICAgICBzeW1ib2w6ICdtaW4nLFxuICAgICAgcmVnU3ltYm9sOiAnbWluXFxcXGInXG4gICAgfSxcbiAgICBtYXg6IHtcbiAgICAgIGZ1bmM6IHtcbiAgICAgICAgc3ltYm9sOiAnbWF4JyxcbiAgICAgICAgZjogbWF4LFxuICAgICAgICBub3RhdGlvbjogJ2Z1bmMnLFxuICAgICAgICBwcmVjZWRlbmNlOiAwLFxuICAgICAgICByaWdodFRvTGVmdDogMCxcbiAgICAgICAgYXJnQ291bnQ6IDFcbiAgICAgIH0sXG4gICAgICBzeW1ib2w6ICdtYXgnLFxuICAgICAgcmVnU3ltYm9sOiAnbWF4XFxcXGInXG4gICAgfSxcbiAgICBzcXJ0OiB7XG4gICAgICBmdW5jOiB7XG4gICAgICAgIHN5bWJvbDogJ3NxcnQnLFxuICAgICAgICBmOiBzcXJ0LFxuICAgICAgICBub3RhdGlvbjogJ2Z1bmMnLFxuICAgICAgICBwcmVjZWRlbmNlOiAwLFxuICAgICAgICByaWdodFRvTGVmdDogMCxcbiAgICAgICAgYXJnQ291bnQ6IDFcbiAgICAgIH0sXG4gICAgICBzeW1ib2w6ICdzcXJ0JyxcbiAgICAgIHJlZ1N5bWJvbDogJ3NxcnRcXFxcYidcbiAgICB9XG4gIH1cbn07XG5cbi8vIGJhc2VkIG9uIGh0dHBzOi8vZ2l0aHViLmNvbS9zdHlsZWQtY29tcG9uZW50cy9zdHlsZWQtY29tcG9uZW50cy9ibG9iL2ZjZjZmMzgwNGM1N2ExNGRkNzk4NGRmYWI3YmMwNmVlMmVkY2EwNDQvc3JjL3V0aWxzL2Vycm9yLmpzXG5cbi8qKlxuICogUGFyc2UgZXJyb3JzLm1kIGFuZCB0dXJuIGl0IGludG8gYSBzaW1wbGUgaGFzaCBvZiBjb2RlOiBtZXNzYWdlXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgRVJST1JTID0ge1xuICBcIjFcIjogXCJQYXNzZWQgaW52YWxpZCBhcmd1bWVudHMgdG8gaHNsLCBwbGVhc2UgcGFzcyBtdWx0aXBsZSBudW1iZXJzIGUuZy4gaHNsKDM2MCwgMC43NSwgMC40KSBvciBhbiBvYmplY3QgZS5nLiByZ2IoeyBodWU6IDI1NSwgc2F0dXJhdGlvbjogMC40LCBsaWdodG5lc3M6IDAuNzUgfSkuXFxuXFxuXCIsXG4gIFwiMlwiOiBcIlBhc3NlZCBpbnZhbGlkIGFyZ3VtZW50cyB0byBoc2xhLCBwbGVhc2UgcGFzcyBtdWx0aXBsZSBudW1iZXJzIGUuZy4gaHNsYSgzNjAsIDAuNzUsIDAuNCwgMC43KSBvciBhbiBvYmplY3QgZS5nLiByZ2IoeyBodWU6IDI1NSwgc2F0dXJhdGlvbjogMC40LCBsaWdodG5lc3M6IDAuNzUsIGFscGhhOiAwLjcgfSkuXFxuXFxuXCIsXG4gIFwiM1wiOiBcIlBhc3NlZCBhbiBpbmNvcnJlY3QgYXJndW1lbnQgdG8gYSBjb2xvciBmdW5jdGlvbiwgcGxlYXNlIHBhc3MgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBjb2xvci5cXG5cXG5cIixcbiAgXCI0XCI6IFwiQ291bGRuJ3QgZ2VuZXJhdGUgdmFsaWQgcmdiIHN0cmluZyBmcm9tICVzLCBpdCByZXR1cm5lZCAlcy5cXG5cXG5cIixcbiAgXCI1XCI6IFwiQ291bGRuJ3QgcGFyc2UgdGhlIGNvbG9yIHN0cmluZy4gUGxlYXNlIHByb3ZpZGUgdGhlIGNvbG9yIGFzIGEgc3RyaW5nIGluIGhleCwgcmdiLCByZ2JhLCBoc2wgb3IgaHNsYSBub3RhdGlvbi5cXG5cXG5cIixcbiAgXCI2XCI6IFwiUGFzc2VkIGludmFsaWQgYXJndW1lbnRzIHRvIHJnYiwgcGxlYXNlIHBhc3MgbXVsdGlwbGUgbnVtYmVycyBlLmcuIHJnYigyNTUsIDIwNSwgMTAwKSBvciBhbiBvYmplY3QgZS5nLiByZ2IoeyByZWQ6IDI1NSwgZ3JlZW46IDIwNSwgYmx1ZTogMTAwIH0pLlxcblxcblwiLFxuICBcIjdcIjogXCJQYXNzZWQgaW52YWxpZCBhcmd1bWVudHMgdG8gcmdiYSwgcGxlYXNlIHBhc3MgbXVsdGlwbGUgbnVtYmVycyBlLmcuIHJnYigyNTUsIDIwNSwgMTAwLCAwLjc1KSBvciBhbiBvYmplY3QgZS5nLiByZ2IoeyByZWQ6IDI1NSwgZ3JlZW46IDIwNSwgYmx1ZTogMTAwLCBhbHBoYTogMC43NSB9KS5cXG5cXG5cIixcbiAgXCI4XCI6IFwiUGFzc2VkIGludmFsaWQgYXJndW1lbnQgdG8gdG9Db2xvclN0cmluZywgcGxlYXNlIHBhc3MgYSBSZ2JDb2xvciwgUmdiYUNvbG9yLCBIc2xDb2xvciBvciBIc2xhQ29sb3Igb2JqZWN0LlxcblxcblwiLFxuICBcIjlcIjogXCJQbGVhc2UgcHJvdmlkZSBhIG51bWJlciBvZiBzdGVwcyB0byB0aGUgbW9kdWxhclNjYWxlIGhlbHBlci5cXG5cXG5cIixcbiAgXCIxMFwiOiBcIlBsZWFzZSBwYXNzIGEgbnVtYmVyIG9yIG9uZSBvZiB0aGUgcHJlZGVmaW5lZCBzY2FsZXMgdG8gdGhlIG1vZHVsYXJTY2FsZSBoZWxwZXIgYXMgdGhlIHJhdGlvLlxcblxcblwiLFxuICBcIjExXCI6IFwiSW52YWxpZCB2YWx1ZSBwYXNzZWQgYXMgYmFzZSB0byBtb2R1bGFyU2NhbGUsIGV4cGVjdGVkIG51bWJlciBvciBlbSBzdHJpbmcgYnV0IGdvdCBcXFwiJXNcXFwiXFxuXFxuXCIsXG4gIFwiMTJcIjogXCJFeHBlY3RlZCBhIHN0cmluZyBlbmRpbmcgaW4gXFxcInB4XFxcIiBvciBhIG51bWJlciBwYXNzZWQgYXMgdGhlIGZpcnN0IGFyZ3VtZW50IHRvICVzKCksIGdvdCBcXFwiJXNcXFwiIGluc3RlYWQuXFxuXFxuXCIsXG4gIFwiMTNcIjogXCJFeHBlY3RlZCBhIHN0cmluZyBlbmRpbmcgaW4gXFxcInB4XFxcIiBvciBhIG51bWJlciBwYXNzZWQgYXMgdGhlIHNlY29uZCBhcmd1bWVudCB0byAlcygpLCBnb3QgXFxcIiVzXFxcIiBpbnN0ZWFkLlxcblxcblwiLFxuICBcIjE0XCI6IFwiUGFzc2VkIGludmFsaWQgcGl4ZWwgdmFsdWUgKFxcXCIlc1xcXCIpIHRvICVzKCksIHBsZWFzZSBwYXNzIGEgdmFsdWUgbGlrZSBcXFwiMTJweFxcXCIgb3IgMTIuXFxuXFxuXCIsXG4gIFwiMTVcIjogXCJQYXNzZWQgaW52YWxpZCBiYXNlIHZhbHVlIChcXFwiJXNcXFwiKSB0byAlcygpLCBwbGVhc2UgcGFzcyBhIHZhbHVlIGxpa2UgXFxcIjEycHhcXFwiIG9yIDEyLlxcblxcblwiLFxuICBcIjE2XCI6IFwiWW91IG11c3QgcHJvdmlkZSBhIHRlbXBsYXRlIHRvIHRoaXMgbWV0aG9kLlxcblxcblwiLFxuICBcIjE3XCI6IFwiWW91IHBhc3NlZCBhbiB1bnN1cHBvcnRlZCBzZWxlY3RvciBzdGF0ZSB0byB0aGlzIG1ldGhvZC5cXG5cXG5cIixcbiAgXCIxOFwiOiBcIm1pblNjcmVlbiBhbmQgbWF4U2NyZWVuIG11c3QgYmUgcHJvdmlkZWQgYXMgc3RyaW5naWZpZWQgbnVtYmVycyB3aXRoIHRoZSBzYW1lIHVuaXRzLlxcblxcblwiLFxuICBcIjE5XCI6IFwiZnJvbVNpemUgYW5kIHRvU2l6ZSBtdXN0IGJlIHByb3ZpZGVkIGFzIHN0cmluZ2lmaWVkIG51bWJlcnMgd2l0aCB0aGUgc2FtZSB1bml0cy5cXG5cXG5cIixcbiAgXCIyMFwiOiBcImV4cGVjdHMgZWl0aGVyIGFuIGFycmF5IG9mIG9iamVjdHMgb3IgYSBzaW5nbGUgb2JqZWN0IHdpdGggdGhlIHByb3BlcnRpZXMgcHJvcCwgZnJvbVNpemUsIGFuZCB0b1NpemUuXFxuXFxuXCIsXG4gIFwiMjFcIjogXCJleHBlY3RzIHRoZSBvYmplY3RzIGluIHRoZSBmaXJzdCBhcmd1bWVudCBhcnJheSB0byBoYXZlIHRoZSBwcm9wZXJ0aWVzIGBwcm9wYCwgYGZyb21TaXplYCwgYW5kIGB0b1NpemVgLlxcblxcblwiLFxuICBcIjIyXCI6IFwiZXhwZWN0cyB0aGUgZmlyc3QgYXJndW1lbnQgb2JqZWN0IHRvIGhhdmUgdGhlIHByb3BlcnRpZXMgYHByb3BgLCBgZnJvbVNpemVgLCBhbmQgYHRvU2l6ZWAuXFxuXFxuXCIsXG4gIFwiMjNcIjogXCJmb250RmFjZSBleHBlY3RzIGEgbmFtZSBvZiBhIGZvbnQtZmFtaWx5LlxcblxcblwiLFxuICBcIjI0XCI6IFwiZm9udEZhY2UgZXhwZWN0cyBlaXRoZXIgdGhlIHBhdGggdG8gdGhlIGZvbnQgZmlsZShzKSBvciBhIG5hbWUgb2YgYSBsb2NhbCBjb3B5LlxcblxcblwiLFxuICBcIjI1XCI6IFwiZm9udEZhY2UgZXhwZWN0cyBsb2NhbEZvbnRzIHRvIGJlIGFuIGFycmF5LlxcblxcblwiLFxuICBcIjI2XCI6IFwiZm9udEZhY2UgZXhwZWN0cyBmaWxlRm9ybWF0cyB0byBiZSBhbiBhcnJheS5cXG5cXG5cIixcbiAgXCIyN1wiOiBcInJhZGlhbEdyYWRpZW50IHJlcXVyaWVzIGF0IGxlYXN0IDIgY29sb3Itc3RvcHMgdG8gcHJvcGVybHkgcmVuZGVyLlxcblxcblwiLFxuICBcIjI4XCI6IFwiUGxlYXNlIHN1cHBseSBhIGZpbGVuYW1lIHRvIHJldGluYUltYWdlKCkgYXMgdGhlIGZpcnN0IGFyZ3VtZW50LlxcblxcblwiLFxuICBcIjI5XCI6IFwiUGFzc2VkIGludmFsaWQgYXJndW1lbnQgdG8gdHJpYW5nbGUsIHBsZWFzZSBwYXNzIGNvcnJlY3QgcG9pbnRpbmdEaXJlY3Rpb24gZS5nLiAncmlnaHQnLlxcblxcblwiLFxuICBcIjMwXCI6IFwiUGFzc2VkIGFuIGludmFsaWQgdmFsdWUgdG8gYGhlaWdodGAgb3IgYHdpZHRoYC4gUGxlYXNlIHByb3ZpZGUgYSBwaXhlbCBiYXNlZCB1bml0LlxcblxcblwiLFxuICBcIjMxXCI6IFwiVGhlIGFuaW1hdGlvbiBzaG9ydGhhbmQgb25seSB0YWtlcyA4IGFyZ3VtZW50cy4gU2VlIHRoZSBzcGVjaWZpY2F0aW9uIGZvciBtb3JlIGluZm9ybWF0aW9uOiBodHRwOi8vbWRuLmlvL2FuaW1hdGlvblxcblxcblwiLFxuICBcIjMyXCI6IFwiVG8gcGFzcyBtdWx0aXBsZSBhbmltYXRpb25zIHBsZWFzZSBzdXBwbHkgdGhlbSBpbiBhcnJheXMsIGUuZy4gYW5pbWF0aW9uKFsncm90YXRlJywgJzJzJ10sIFsnbW92ZScsICcxcyddKVxcblRvIHBhc3MgYSBzaW5nbGUgYW5pbWF0aW9uIHBsZWFzZSBzdXBwbHkgdGhlbSBpbiBzaW1wbGUgdmFsdWVzLCBlLmcuIGFuaW1hdGlvbigncm90YXRlJywgJzJzJylcXG5cXG5cIixcbiAgXCIzM1wiOiBcIlRoZSBhbmltYXRpb24gc2hvcnRoYW5kIGFycmF5cyBjYW4gb25seSBoYXZlIDggZWxlbWVudHMuIFNlZSB0aGUgc3BlY2lmaWNhdGlvbiBmb3IgbW9yZSBpbmZvcm1hdGlvbjogaHR0cDovL21kbi5pby9hbmltYXRpb25cXG5cXG5cIixcbiAgXCIzNFwiOiBcImJvcmRlclJhZGl1cyBleHBlY3RzIGEgcmFkaXVzIHZhbHVlIGFzIGEgc3RyaW5nIG9yIG51bWJlciBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50LlxcblxcblwiLFxuICBcIjM1XCI6IFwiYm9yZGVyUmFkaXVzIGV4cGVjdHMgb25lIG9mIFxcXCJ0b3BcXFwiLCBcXFwiYm90dG9tXFxcIiwgXFxcImxlZnRcXFwiIG9yIFxcXCJyaWdodFxcXCIgYXMgdGhlIGZpcnN0IGFyZ3VtZW50LlxcblxcblwiLFxuICBcIjM2XCI6IFwiUHJvcGVydHkgbXVzdCBiZSBhIHN0cmluZyB2YWx1ZS5cXG5cXG5cIixcbiAgXCIzN1wiOiBcIlN5bnRheCBFcnJvciBhdCAlcy5cXG5cXG5cIixcbiAgXCIzOFwiOiBcIkZvcm11bGEgY29udGFpbnMgYSBmdW5jdGlvbiB0aGF0IG5lZWRzIHBhcmVudGhlc2VzIGF0ICVzLlxcblxcblwiLFxuICBcIjM5XCI6IFwiRm9ybXVsYSBpcyBtaXNzaW5nIGNsb3NpbmcgcGFyZW50aGVzaXMgYXQgJXMuXFxuXFxuXCIsXG4gIFwiNDBcIjogXCJGb3JtdWxhIGhhcyB0b28gbWFueSBjbG9zaW5nIHBhcmVudGhlc2VzIGF0ICVzLlxcblxcblwiLFxuICBcIjQxXCI6IFwiQWxsIHZhbHVlcyBpbiBhIGZvcm11bGEgbXVzdCBoYXZlIHRoZSBzYW1lIHVuaXQgb3IgYmUgdW5pdGxlc3MuXFxuXFxuXCIsXG4gIFwiNDJcIjogXCJQbGVhc2UgcHJvdmlkZSBhIG51bWJlciBvZiBzdGVwcyB0byB0aGUgbW9kdWxhclNjYWxlIGhlbHBlci5cXG5cXG5cIixcbiAgXCI0M1wiOiBcIlBsZWFzZSBwYXNzIGEgbnVtYmVyIG9yIG9uZSBvZiB0aGUgcHJlZGVmaW5lZCBzY2FsZXMgdG8gdGhlIG1vZHVsYXJTY2FsZSBoZWxwZXIgYXMgdGhlIHJhdGlvLlxcblxcblwiLFxuICBcIjQ0XCI6IFwiSW52YWxpZCB2YWx1ZSBwYXNzZWQgYXMgYmFzZSB0byBtb2R1bGFyU2NhbGUsIGV4cGVjdGVkIG51bWJlciBvciBlbS9yZW0gc3RyaW5nIGJ1dCBnb3QgJXMuXFxuXFxuXCIsXG4gIFwiNDVcIjogXCJQYXNzZWQgaW52YWxpZCBhcmd1bWVudCB0byBoc2xUb0NvbG9yU3RyaW5nLCBwbGVhc2UgcGFzcyBhIEhzbENvbG9yIG9yIEhzbGFDb2xvciBvYmplY3QuXFxuXFxuXCIsXG4gIFwiNDZcIjogXCJQYXNzZWQgaW52YWxpZCBhcmd1bWVudCB0byByZ2JUb0NvbG9yU3RyaW5nLCBwbGVhc2UgcGFzcyBhIFJnYkNvbG9yIG9yIFJnYmFDb2xvciBvYmplY3QuXFxuXFxuXCIsXG4gIFwiNDdcIjogXCJtaW5TY3JlZW4gYW5kIG1heFNjcmVlbiBtdXN0IGJlIHByb3ZpZGVkIGFzIHN0cmluZ2lmaWVkIG51bWJlcnMgd2l0aCB0aGUgc2FtZSB1bml0cy5cXG5cXG5cIixcbiAgXCI0OFwiOiBcImZyb21TaXplIGFuZCB0b1NpemUgbXVzdCBiZSBwcm92aWRlZCBhcyBzdHJpbmdpZmllZCBudW1iZXJzIHdpdGggdGhlIHNhbWUgdW5pdHMuXFxuXFxuXCIsXG4gIFwiNDlcIjogXCJFeHBlY3RzIGVpdGhlciBhbiBhcnJheSBvZiBvYmplY3RzIG9yIGEgc2luZ2xlIG9iamVjdCB3aXRoIHRoZSBwcm9wZXJ0aWVzIHByb3AsIGZyb21TaXplLCBhbmQgdG9TaXplLlxcblxcblwiLFxuICBcIjUwXCI6IFwiRXhwZWN0cyB0aGUgb2JqZWN0cyBpbiB0aGUgZmlyc3QgYXJndW1lbnQgYXJyYXkgdG8gaGF2ZSB0aGUgcHJvcGVydGllcyBwcm9wLCBmcm9tU2l6ZSwgYW5kIHRvU2l6ZS5cXG5cXG5cIixcbiAgXCI1MVwiOiBcIkV4cGVjdHMgdGhlIGZpcnN0IGFyZ3VtZW50IG9iamVjdCB0byBoYXZlIHRoZSBwcm9wZXJ0aWVzIHByb3AsIGZyb21TaXplLCBhbmQgdG9TaXplLlxcblxcblwiLFxuICBcIjUyXCI6IFwiZm9udEZhY2UgZXhwZWN0cyBlaXRoZXIgdGhlIHBhdGggdG8gdGhlIGZvbnQgZmlsZShzKSBvciBhIG5hbWUgb2YgYSBsb2NhbCBjb3B5LlxcblxcblwiLFxuICBcIjUzXCI6IFwiZm9udEZhY2UgZXhwZWN0cyBsb2NhbEZvbnRzIHRvIGJlIGFuIGFycmF5LlxcblxcblwiLFxuICBcIjU0XCI6IFwiZm9udEZhY2UgZXhwZWN0cyBmaWxlRm9ybWF0cyB0byBiZSBhbiBhcnJheS5cXG5cXG5cIixcbiAgXCI1NVwiOiBcImZvbnRGYWNlIGV4cGVjdHMgYSBuYW1lIG9mIGEgZm9udC1mYW1pbHkuXFxuXFxuXCIsXG4gIFwiNTZcIjogXCJsaW5lYXJHcmFkaWVudCByZXF1cmllcyBhdCBsZWFzdCAyIGNvbG9yLXN0b3BzIHRvIHByb3Blcmx5IHJlbmRlci5cXG5cXG5cIixcbiAgXCI1N1wiOiBcInJhZGlhbEdyYWRpZW50IHJlcXVyaWVzIGF0IGxlYXN0IDIgY29sb3Itc3RvcHMgdG8gcHJvcGVybHkgcmVuZGVyLlxcblxcblwiLFxuICBcIjU4XCI6IFwiUGxlYXNlIHN1cHBseSBhIGZpbGVuYW1lIHRvIHJldGluYUltYWdlKCkgYXMgdGhlIGZpcnN0IGFyZ3VtZW50LlxcblxcblwiLFxuICBcIjU5XCI6IFwiUGFzc2VkIGludmFsaWQgYXJndW1lbnQgdG8gdHJpYW5nbGUsIHBsZWFzZSBwYXNzIGNvcnJlY3QgcG9pbnRpbmdEaXJlY3Rpb24gZS5nLiAncmlnaHQnLlxcblxcblwiLFxuICBcIjYwXCI6IFwiUGFzc2VkIGFuIGludmFsaWQgdmFsdWUgdG8gYGhlaWdodGAgb3IgYHdpZHRoYC4gUGxlYXNlIHByb3ZpZGUgYSBwaXhlbCBiYXNlZCB1bml0LlxcblxcblwiLFxuICBcIjYxXCI6IFwiUHJvcGVydHkgbXVzdCBiZSBhIHN0cmluZyB2YWx1ZS5cXG5cXG5cIixcbiAgXCI2MlwiOiBcImJvcmRlclJhZGl1cyBleHBlY3RzIGEgcmFkaXVzIHZhbHVlIGFzIGEgc3RyaW5nIG9yIG51bWJlciBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50LlxcblxcblwiLFxuICBcIjYzXCI6IFwiYm9yZGVyUmFkaXVzIGV4cGVjdHMgb25lIG9mIFxcXCJ0b3BcXFwiLCBcXFwiYm90dG9tXFxcIiwgXFxcImxlZnRcXFwiIG9yIFxcXCJyaWdodFxcXCIgYXMgdGhlIGZpcnN0IGFyZ3VtZW50LlxcblxcblwiLFxuICBcIjY0XCI6IFwiVGhlIGFuaW1hdGlvbiBzaG9ydGhhbmQgb25seSB0YWtlcyA4IGFyZ3VtZW50cy4gU2VlIHRoZSBzcGVjaWZpY2F0aW9uIGZvciBtb3JlIGluZm9ybWF0aW9uOiBodHRwOi8vbWRuLmlvL2FuaW1hdGlvbi5cXG5cXG5cIixcbiAgXCI2NVwiOiBcIlRvIHBhc3MgbXVsdGlwbGUgYW5pbWF0aW9ucyBwbGVhc2Ugc3VwcGx5IHRoZW0gaW4gYXJyYXlzLCBlLmcuIGFuaW1hdGlvbihbJ3JvdGF0ZScsICcycyddLCBbJ21vdmUnLCAnMXMnXSlcXFxcblRvIHBhc3MgYSBzaW5nbGUgYW5pbWF0aW9uIHBsZWFzZSBzdXBwbHkgdGhlbSBpbiBzaW1wbGUgdmFsdWVzLCBlLmcuIGFuaW1hdGlvbigncm90YXRlJywgJzJzJykuXFxuXFxuXCIsXG4gIFwiNjZcIjogXCJUaGUgYW5pbWF0aW9uIHNob3J0aGFuZCBhcnJheXMgY2FuIG9ubHkgaGF2ZSA4IGVsZW1lbnRzLiBTZWUgdGhlIHNwZWNpZmljYXRpb24gZm9yIG1vcmUgaW5mb3JtYXRpb246IGh0dHA6Ly9tZG4uaW8vYW5pbWF0aW9uLlxcblxcblwiLFxuICBcIjY3XCI6IFwiWW91IG11c3QgcHJvdmlkZSBhIHRlbXBsYXRlIHRvIHRoaXMgbWV0aG9kLlxcblxcblwiLFxuICBcIjY4XCI6IFwiWW91IHBhc3NlZCBhbiB1bnN1cHBvcnRlZCBzZWxlY3RvciBzdGF0ZSB0byB0aGlzIG1ldGhvZC5cXG5cXG5cIixcbiAgXCI2OVwiOiBcIkV4cGVjdGVkIGEgc3RyaW5nIGVuZGluZyBpbiBcXFwicHhcXFwiIG9yIGEgbnVtYmVyIHBhc3NlZCBhcyB0aGUgZmlyc3QgYXJndW1lbnQgdG8gJXMoKSwgZ290ICVzIGluc3RlYWQuXFxuXFxuXCIsXG4gIFwiNzBcIjogXCJFeHBlY3RlZCBhIHN0cmluZyBlbmRpbmcgaW4gXFxcInB4XFxcIiBvciBhIG51bWJlciBwYXNzZWQgYXMgdGhlIHNlY29uZCBhcmd1bWVudCB0byAlcygpLCBnb3QgJXMgaW5zdGVhZC5cXG5cXG5cIixcbiAgXCI3MVwiOiBcIlBhc3NlZCBpbnZhbGlkIHBpeGVsIHZhbHVlICVzIHRvICVzKCksIHBsZWFzZSBwYXNzIGEgdmFsdWUgbGlrZSBcXFwiMTJweFxcXCIgb3IgMTIuXFxuXFxuXCIsXG4gIFwiNzJcIjogXCJQYXNzZWQgaW52YWxpZCBiYXNlIHZhbHVlICVzIHRvICVzKCksIHBsZWFzZSBwYXNzIGEgdmFsdWUgbGlrZSBcXFwiMTJweFxcXCIgb3IgMTIuXFxuXCJcbn07XG4vKipcbiAqIHN1cGVyIGJhc2ljIHZlcnNpb24gb2Ygc3ByaW50ZlxuICogQHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBmb3JtYXQoKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICB2YXIgYSA9IGFyZ3NbMF07XG4gIHZhciBiID0gW107XG4gIHZhciBjO1xuXG4gIGZvciAoYyA9IDE7IGMgPCBhcmdzLmxlbmd0aDsgYyArPSAxKSB7XG4gICAgYi5wdXNoKGFyZ3NbY10pO1xuICB9XG5cbiAgYi5mb3JFYWNoKGZ1bmN0aW9uIChkKSB7XG4gICAgYSA9IGEucmVwbGFjZSgvJVthLXpdLywgZCk7XG4gIH0pO1xuICByZXR1cm4gYTtcbn1cbi8qKlxuICogQ3JlYXRlIGFuIGVycm9yIGZpbGUgb3V0IG9mIGVycm9ycy5tZCBmb3IgZGV2ZWxvcG1lbnQgYW5kIGEgc2ltcGxlIHdlYiBsaW5rIHRvIHRoZSBmdWxsIGVycm9yc1xuICogaW4gcHJvZHVjdGlvbiBtb2RlLlxuICogQHByaXZhdGVcbiAqL1xuXG5cbnZhciBQb2xpc2hlZEVycm9yID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfRXJyb3IpIHtcbiAgX2luaGVyaXRzTG9vc2UoUG9saXNoZWRFcnJvciwgX0Vycm9yKTtcblxuICBmdW5jdGlvbiBQb2xpc2hlZEVycm9yKGNvZGUpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgX3RoaXMgPSBfRXJyb3IuY2FsbCh0aGlzLCBcIkFuIGVycm9yIG9jY3VycmVkLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3N0eWxlZC1jb21wb25lbnRzL3BvbGlzaGVkL2Jsb2IvbWFzdGVyL3NyYy9pbnRlcm5hbEhlbHBlcnMvZXJyb3JzLm1kI1wiICsgY29kZSArIFwiIGZvciBtb3JlIGluZm9ybWF0aW9uLlwiKSB8fCB0aGlzO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjIgPiAxID8gX2xlbjIgLSAxIDogMCksIF9rZXkyID0gMTsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgICBhcmdzW19rZXkyIC0gMV0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgICAgfVxuXG4gICAgICBfdGhpcyA9IF9FcnJvci5jYWxsKHRoaXMsIGZvcm1hdC5hcHBseSh2b2lkIDAsIFtFUlJPUlNbY29kZV1dLmNvbmNhdChhcmdzKSkpIHx8IHRoaXM7XG4gICAgfVxuXG4gICAgcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpO1xuICB9XG5cbiAgcmV0dXJuIFBvbGlzaGVkRXJyb3I7XG59KFxuLyojX19QVVJFX18qL1xuX3dyYXBOYXRpdmVTdXBlcihFcnJvcikpO1xuXG52YXIgdW5pdFJlZ0V4cCA9IC8oKD8hXFx3KWF8bmF8aGN8bWN8ZGd8bWVbcl0/fHhlfG5pKD8hW2EtekEtWl0pfG1tfGNwfHRwfHhwfHEoPyFzKXxodnx4YW12fG5pbXZ8d3Z8c218cyg/IVxcRHwkKXxnZWR8ZGFyZz98bnJ1dCkvZzsgLy8gTWVyZ2VzIGFkZGl0aW9uYWwgbWF0aCBmdW5jdGlvbmFsaXR5IGludG8gdGhlIGRlZmF1bHRzLlxuXG5mdW5jdGlvbiBtZXJnZVN5bWJvbE1hcHMoYWRkaXRpb25hbFN5bWJvbHMpIHtcbiAgdmFyIHN5bWJvbE1hcCA9IHt9O1xuICBzeW1ib2xNYXAuc3ltYm9scyA9IGFkZGl0aW9uYWxTeW1ib2xzID8gX2V4dGVuZHMoe30sIGRlZmF1bHRNYXRoU3ltYm9scy5zeW1ib2xzLCB7fSwgYWRkaXRpb25hbFN5bWJvbHMuc3ltYm9scykgOiBfZXh0ZW5kcyh7fSwgZGVmYXVsdE1hdGhTeW1ib2xzLnN5bWJvbHMpO1xuICByZXR1cm4gc3ltYm9sTWFwO1xufVxuXG5mdW5jdGlvbiBleGVjKG9wZXJhdG9ycywgdmFsdWVzKSB7XG4gIHZhciBfcmVmO1xuXG4gIHZhciBvcCA9IG9wZXJhdG9ycy5wb3AoKTtcbiAgdmFsdWVzLnB1c2gob3AuZi5hcHBseShvcCwgKF9yZWYgPSBbXSkuY29uY2F0LmFwcGx5KF9yZWYsIHZhbHVlcy5zcGxpY2UoLW9wLmFyZ0NvdW50KSkpKTtcbiAgcmV0dXJuIG9wLnByZWNlZGVuY2U7XG59XG5cbmZ1bmN0aW9uIGNhbGN1bGF0ZShleHByZXNzaW9uLCBhZGRpdGlvbmFsU3ltYm9scykge1xuICB2YXIgc3ltYm9sTWFwID0gbWVyZ2VTeW1ib2xNYXBzKGFkZGl0aW9uYWxTeW1ib2xzKTtcbiAgdmFyIG1hdGNoO1xuICB2YXIgb3BlcmF0b3JzID0gW3N5bWJvbE1hcC5zeW1ib2xzWycoJ10ucHJlZml4XTtcbiAgdmFyIHZhbHVlcyA9IFtdO1xuICB2YXIgcGF0dGVybiA9IG5ldyBSZWdFeHAoIC8vIFBhdHRlcm4gZm9yIG51bWJlcnNcbiAgXCJcXFxcZCsoPzpcXFxcLlxcXFxkKyk/fFwiICsgLy8gLi4uYW5kIHBhdHRlcm5zIGZvciBpbmRpdmlkdWFsIG9wZXJhdG9ycy9mdW5jdGlvbiBuYW1lc1xuICBPYmplY3Qua2V5cyhzeW1ib2xNYXAuc3ltYm9scykubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICByZXR1cm4gc3ltYm9sTWFwLnN5bWJvbHNba2V5XTtcbiAgfSkgLy8gbG9uZ2VyIHN5bWJvbHMgc2hvdWxkIGJlIGxpc3RlZCBmaXJzdFxuICAvLyAkRmxvd0ZpeE1lXG4gIC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgcmV0dXJuIGIuc3ltYm9sLmxlbmd0aCAtIGEuc3ltYm9sLmxlbmd0aDtcbiAgfSkgLy8gJEZsb3dGaXhNZVxuICAubWFwKGZ1bmN0aW9uICh2YWwpIHtcbiAgICByZXR1cm4gdmFsLnJlZ1N5bWJvbDtcbiAgfSkuam9pbignfCcpICsgXCJ8KFxcXFxTKVwiLCAnZycpO1xuICBwYXR0ZXJuLmxhc3RJbmRleCA9IDA7IC8vIFJlc2V0IHJlZ3VsYXIgZXhwcmVzc2lvbiBvYmplY3RcblxuICB2YXIgYWZ0ZXJWYWx1ZSA9IGZhbHNlO1xuXG4gIGRvIHtcbiAgICBtYXRjaCA9IHBhdHRlcm4uZXhlYyhleHByZXNzaW9uKTtcblxuICAgIHZhciBfcmVmMiA9IG1hdGNoIHx8IFsnKScsIHVuZGVmaW5lZF0sXG4gICAgICAgIHRva2VuID0gX3JlZjJbMF0sXG4gICAgICAgIGJhZCA9IF9yZWYyWzFdO1xuXG4gICAgdmFyIG5vdE51bWJlciA9IHN5bWJvbE1hcC5zeW1ib2xzW3Rva2VuXTtcbiAgICB2YXIgbm90TmV3VmFsdWUgPSBub3ROdW1iZXIgJiYgIW5vdE51bWJlci5wcmVmaXggJiYgIW5vdE51bWJlci5mdW5jO1xuICAgIHZhciBub3RBZnRlclZhbHVlID0gIW5vdE51bWJlciB8fCAhbm90TnVtYmVyLnBvc3RmaXggJiYgIW5vdE51bWJlci5pbmZpeDsgLy8gQ2hlY2sgZm9yIHN5bnRheCBlcnJvcnM6XG5cbiAgICBpZiAoYmFkIHx8IChhZnRlclZhbHVlID8gbm90QWZ0ZXJWYWx1ZSA6IG5vdE5ld1ZhbHVlKSkge1xuICAgICAgdGhyb3cgbmV3IFBvbGlzaGVkRXJyb3IoMzcsIG1hdGNoID8gbWF0Y2guaW5kZXggOiBleHByZXNzaW9uLmxlbmd0aCwgZXhwcmVzc2lvbik7XG4gICAgfVxuXG4gICAgaWYgKGFmdGVyVmFsdWUpIHtcbiAgICAgIC8vIFdlIGVpdGhlciBoYXZlIGFuIGluZml4IG9yIHBvc3RmaXggb3BlcmF0b3IgKHRoZXkgc2hvdWxkIGJlIG11dHVhbGx5IGV4Y2x1c2l2ZSlcbiAgICAgIHZhciBjdXJyID0gbm90TnVtYmVyLnBvc3RmaXggfHwgbm90TnVtYmVyLmluZml4O1xuXG4gICAgICBkbyB7XG4gICAgICAgIHZhciBwcmV2ID0gb3BlcmF0b3JzW29wZXJhdG9ycy5sZW5ndGggLSAxXTtcbiAgICAgICAgaWYgKChjdXJyLnByZWNlZGVuY2UgLSBwcmV2LnByZWNlZGVuY2UgfHwgcHJldi5yaWdodFRvTGVmdCkgPiAwKSBicmVhazsgLy8gQXBwbHkgcHJldmlvdXMgb3BlcmF0b3IsIHNpbmNlIGl0IGhhcyBwcmVjZWRlbmNlIG92ZXIgY3VycmVudCBvbmVcbiAgICAgIH0gd2hpbGUgKGV4ZWMob3BlcmF0b3JzLCB2YWx1ZXMpKTsgLy8gRXhpdCBsb29wIGFmdGVyIGV4ZWN1dGluZyBhbiBvcGVuaW5nIHBhcmVudGhlc2lzIG9yIGZ1bmN0aW9uXG5cblxuICAgICAgYWZ0ZXJWYWx1ZSA9IGN1cnIubm90YXRpb24gPT09ICdwb3N0Zml4JztcblxuICAgICAgaWYgKGN1cnIuc3ltYm9sICE9PSAnKScpIHtcbiAgICAgICAgb3BlcmF0b3JzLnB1c2goY3Vycik7IC8vIFBvc3RmaXggYWx3YXlzIGhhcyBwcmVjZWRlbmNlIG92ZXIgYW55IG9wZXJhdG9yIHRoYXQgZm9sbG93cyBhZnRlciBpdFxuXG4gICAgICAgIGlmIChhZnRlclZhbHVlKSBleGVjKG9wZXJhdG9ycywgdmFsdWVzKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG5vdE51bWJlcikge1xuICAgICAgLy8gcHJlZml4IG9wZXJhdG9yIG9yIGZ1bmN0aW9uXG4gICAgICBvcGVyYXRvcnMucHVzaChub3ROdW1iZXIucHJlZml4IHx8IG5vdE51bWJlci5mdW5jKTtcblxuICAgICAgaWYgKG5vdE51bWJlci5mdW5jKSB7XG4gICAgICAgIC8vIFJlcXVpcmUgYW4gb3BlbmluZyBwYXJlbnRoZXNpc1xuICAgICAgICBtYXRjaCA9IHBhdHRlcm4uZXhlYyhleHByZXNzaW9uKTtcblxuICAgICAgICBpZiAoIW1hdGNoIHx8IG1hdGNoWzBdICE9PSAnKCcpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgUG9saXNoZWRFcnJvcigzOCwgbWF0Y2ggPyBtYXRjaC5pbmRleCA6IGV4cHJlc3Npb24ubGVuZ3RoLCBleHByZXNzaW9uKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBudW1iZXJcbiAgICAgIHZhbHVlcy5wdXNoKCt0b2tlbik7XG4gICAgICBhZnRlclZhbHVlID0gdHJ1ZTtcbiAgICB9XG4gIH0gd2hpbGUgKG1hdGNoICYmIG9wZXJhdG9ycy5sZW5ndGgpO1xuXG4gIGlmIChvcGVyYXRvcnMubGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IFBvbGlzaGVkRXJyb3IoMzksIG1hdGNoID8gbWF0Y2guaW5kZXggOiBleHByZXNzaW9uLmxlbmd0aCwgZXhwcmVzc2lvbik7XG4gIH0gZWxzZSBpZiAobWF0Y2gpIHtcbiAgICB0aHJvdyBuZXcgUG9saXNoZWRFcnJvcig0MCwgbWF0Y2ggPyBtYXRjaC5pbmRleCA6IGV4cHJlc3Npb24ubGVuZ3RoLCBleHByZXNzaW9uKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdmFsdWVzLnBvcCgpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJldmVyc2VTdHJpbmcoc3RyKSB7XG4gIHJldHVybiBzdHIuc3BsaXQoJycpLnJldmVyc2UoKS5qb2luKCcnKTtcbn1cbi8qKlxuICogSGVscGVyIGZvciBkb2luZyBtYXRoIHdpdGggQ1NTIFVuaXRzLiBBY2NlcHRzIGEgZm9ybXVsYSBhcyBhIHN0cmluZy4gQWxsIHZhbHVlcyBpbiB0aGUgZm9ybXVsYSBtdXN0IGhhdmUgdGhlIHNhbWUgdW5pdCAob3IgYmUgdW5pdGxlc3MpLiBTdXBwb3J0cyBjb21wbGV4IGZvcm11bGFzIHV0bGl6aWluZyBhZGRpdGlvbiwgc3VidHJhY3Rpb24sIG11bHRpcGxpY2F0aW9uLCBkaXZpc2lvbiwgc3F1YXJlIHJvb3QsIHBvd2VycywgZmFjdG9yaWFsLCBtaW4sIG1heCwgYXMgd2VsbCBhcyBwYXJlbnRoZXNlcyBmb3Igb3JkZXIgb2Ygb3BlcmF0aW9uLlxuICpcbiAqSW4gY2FzZXMgd2hlcmUgeW91IG5lZWQgdG8gZG8gY2FsY3VsYXRpb25zIHdpdGggbWl4ZWQgdW5pdHMgd2hlcmUgb25lIHVuaXQgaXMgYSBbcmVsYXRpdmUgbGVuZ3RoIHVuaXRdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0NTUy9sZW5ndGgjUmVsYXRpdmVfbGVuZ3RoX3VuaXRzKSwgeW91IHdpbGwgd2FudCB0byB1c2UgW0NTUyBDYWxjXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MvY2FsYykuXG4gKlxuICogKndhcm5pbmcqIFdoaWxlIHdlJ3ZlIGRvbmUgZXZlcnl0aGluZyBwb3NzaWJsZSB0byBlbnN1cmUgbWF0aCBzYWZlbHkgZXZhbHV0ZXMgZm9ybXVsYXMgZXhwcmVzc2VkIGFzIHN0cmluZ3MsIHlvdSBzaG91bGQgYWx3YXlzIHVzZSBleHRyZW1lIGNhdXRpb24gd2hlbiBwYXNzaW5nIGBtYXRoYCB1c2VyIHByb3ZpZGVkIHZhbHVlcy5cbiAqIEBleGFtcGxlXG4gKiAvLyBTdHlsZXMgYXMgb2JqZWN0IHVzYWdlXG4gKiBjb25zdCBzdHlsZXMgPSB7XG4gKiAgIGZvbnRTaXplOiBtYXRoKCcxMnJlbSArIDhyZW0nKSxcbiAqICAgZm9udFNpemU6IG1hdGgoJygxMnB4ICsgMnB4KSAqIDMnKSxcbiAqICAgZm9udFNpemU6IG1hdGgoJzNweF4yICsgc3FydCg0KScpLFxuICogfVxuICpcbiAqIC8vIHN0eWxlZC1jb21wb25lbnRzIHVzYWdlXG4gKiBjb25zdCBkaXYgPSBzdHlsZWQuZGl2YFxuICogICBmb250U2l6ZTogJHttYXRoKCcxMnJlbSArIDhyZW0nKX07XG4gKiAgIGZvbnRTaXplOiAke21hdGgoJygxMnB4ICsgMnB4KSAqIDMnKX07XG4gKiAgIGZvbnRTaXplOiAke21hdGgoJzNweF4yICsgc3FydCg0KScpfTtcbiAqIGBcbiAqXG4gKiAvLyBDU1MgYXMgSlMgT3V0cHV0XG4gKlxuICogZGl2OiB7XG4gKiAgIGZvbnRTaXplOiAnMjByZW0nLFxuICogICBmb250U2l6ZTogJzQycHgnLFxuICogICBmb250U2l6ZTogJzExcHgnLFxuICogfVxuICovXG5cblxuZnVuY3Rpb24gbWF0aChmb3JtdWxhLCBhZGRpdGlvbmFsU3ltYm9scykge1xuICB2YXIgcmV2ZXJzZWRGb3JtdWxhID0gcmV2ZXJzZVN0cmluZyhmb3JtdWxhKTtcbiAgdmFyIGZvcm11bGFNYXRjaCA9IHJldmVyc2VkRm9ybXVsYS5tYXRjaCh1bml0UmVnRXhwKTsgLy8gQ2hlY2sgdGhhdCBhbGwgdW5pdHMgYXJlIHRoZSBzYW1lXG5cbiAgaWYgKGZvcm11bGFNYXRjaCAmJiAhZm9ybXVsYU1hdGNoLmV2ZXJ5KGZ1bmN0aW9uICh1bml0KSB7XG4gICAgcmV0dXJuIHVuaXQgPT09IGZvcm11bGFNYXRjaFswXTtcbiAgfSkpIHtcbiAgICB0aHJvdyBuZXcgUG9saXNoZWRFcnJvcig0MSk7XG4gIH1cblxuICB2YXIgY2xlYW5Gb3JtdWxhID0gcmV2ZXJzZVN0cmluZyhyZXZlcnNlZEZvcm11bGEucmVwbGFjZSh1bml0UmVnRXhwLCAnJykpO1xuICByZXR1cm4gXCJcIiArIGNhbGN1bGF0ZShjbGVhbkZvcm11bGEsIGFkZGl0aW9uYWxTeW1ib2xzKSArIChmb3JtdWxhTWF0Y2ggPyByZXZlcnNlU3RyaW5nKGZvcm11bGFNYXRjaFswXSkgOiAnJyk7XG59XG5cbi8vIEBwcml2YXRlXG5mdW5jdGlvbiBjYXBpdGFsaXplU3RyaW5nKHN0cmluZykge1xuICByZXR1cm4gc3RyaW5nLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyaW5nLnNsaWNlKDEpO1xufVxuXG52YXIgcG9zaXRpb25NYXAgPSBbJ1RvcCcsICdSaWdodCcsICdCb3R0b20nLCAnTGVmdCddO1xuXG5mdW5jdGlvbiBnZW5lcmF0ZVByb3BlcnR5KHByb3BlcnR5LCBwb3NpdGlvbikge1xuICBpZiAoIXByb3BlcnR5KSByZXR1cm4gcG9zaXRpb24udG9Mb3dlckNhc2UoKTtcbiAgdmFyIHNwbGl0UHJvcGVydHkgPSBwcm9wZXJ0eS5zcGxpdCgnLScpO1xuXG4gIGlmIChzcGxpdFByb3BlcnR5Lmxlbmd0aCA+IDEpIHtcbiAgICBzcGxpdFByb3BlcnR5LnNwbGljZSgxLCAwLCBwb3NpdGlvbik7XG4gICAgcmV0dXJuIHNwbGl0UHJvcGVydHkucmVkdWNlKGZ1bmN0aW9uIChhY2MsIHZhbCkge1xuICAgICAgcmV0dXJuIFwiXCIgKyBhY2MgKyBjYXBpdGFsaXplU3RyaW5nKHZhbCk7XG4gICAgfSk7XG4gIH1cblxuICB2YXIgam9pbmVkUHJvcGVydHkgPSBwcm9wZXJ0eS5yZXBsYWNlKC8oW2Etel0pKFtBLVpdKS9nLCBcIiQxXCIgKyBwb3NpdGlvbiArIFwiJDJcIik7XG4gIHJldHVybiBwcm9wZXJ0eSA9PT0gam9pbmVkUHJvcGVydHkgPyBcIlwiICsgcHJvcGVydHkgKyBwb3NpdGlvbiA6IGpvaW5lZFByb3BlcnR5O1xufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZVN0eWxlcyhwcm9wZXJ0eSwgdmFsdWVzV2l0aERlZmF1bHRzKSB7XG4gIHZhciBzdHlsZXMgPSB7fTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlc1dpdGhEZWZhdWx0cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGlmICh2YWx1ZXNXaXRoRGVmYXVsdHNbaV0gfHwgdmFsdWVzV2l0aERlZmF1bHRzW2ldID09PSAwKSB7XG4gICAgICBzdHlsZXNbZ2VuZXJhdGVQcm9wZXJ0eShwcm9wZXJ0eSwgcG9zaXRpb25NYXBbaV0pXSA9IHZhbHVlc1dpdGhEZWZhdWx0c1tpXTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gc3R5bGVzO1xufVxuLyoqXG4gKiBFbmFibGVzIHNob3J0aGFuZCBmb3IgZGlyZWN0aW9uLWJhc2VkIHByb3BlcnRpZXMuIEl0IGFjY2VwdHMgYSBwcm9wZXJ0eSAoaHlwaGVuYXRlZCBvciBjYW1lbENhc2VkKSBhbmQgdXAgdG8gZm91ciB2YWx1ZXMgdGhhdCBtYXAgdG8gdG9wLCByaWdodCwgYm90dG9tLCBhbmQgbGVmdCwgcmVzcGVjdGl2ZWx5LiBZb3UgY2FuIG9wdGlvbmFsbHkgcGFzcyBhbiBlbXB0eSBzdHJpbmcgdG8gZ2V0IG9ubHkgdGhlIGRpcmVjdGlvbmFsIHZhbHVlcyBhcyBwcm9wZXJ0aWVzLiBZb3UgY2FuIGFsc28gb3B0aW9uYWxseSBwYXNzIGEgbnVsbCBhcmd1bWVudCBmb3IgYSBkaXJlY3Rpb25hbCB2YWx1ZSB0byBpZ25vcmUgaXQuXG4gKiBAZXhhbXBsZVxuICogLy8gU3R5bGVzIGFzIG9iamVjdCB1c2FnZVxuICogY29uc3Qgc3R5bGVzID0ge1xuICogICAuLi5kaXJlY3Rpb25hbFByb3BlcnR5KCdwYWRkaW5nJywgJzEycHgnLCAnMjRweCcsICczNnB4JywgJzQ4cHgnKVxuICogfVxuICpcbiAqIC8vIHN0eWxlZC1jb21wb25lbnRzIHVzYWdlXG4gKiBjb25zdCBkaXYgPSBzdHlsZWQuZGl2YFxuICogICAke2RpcmVjdGlvbmFsUHJvcGVydHkoJ3BhZGRpbmcnLCAnMTJweCcsICcyNHB4JywgJzM2cHgnLCAnNDhweCcpfVxuICogYFxuICpcbiAqIC8vIENTUyBhcyBKUyBPdXRwdXRcbiAqXG4gKiBkaXYge1xuICogICAncGFkZGluZ1RvcCc6ICcxMnB4JyxcbiAqICAgJ3BhZGRpbmdSaWdodCc6ICcyNHB4JyxcbiAqICAgJ3BhZGRpbmdCb3R0b20nOiAnMzZweCcsXG4gKiAgICdwYWRkaW5nTGVmdCc6ICc0OHB4J1xuICogfVxuICovXG5cblxuZnVuY3Rpb24gZGlyZWN0aW9uYWxQcm9wZXJ0eShwcm9wZXJ0eSkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgdmFsdWVzID0gbmV3IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICB2YWx1ZXNbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgLy8gIHByZXR0aWVyLWlnbm9yZVxuICB2YXIgZmlyc3RWYWx1ZSA9IHZhbHVlc1swXSxcbiAgICAgIF92YWx1ZXMkID0gdmFsdWVzWzFdLFxuICAgICAgc2Vjb25kVmFsdWUgPSBfdmFsdWVzJCA9PT0gdm9pZCAwID8gZmlyc3RWYWx1ZSA6IF92YWx1ZXMkLFxuICAgICAgX3ZhbHVlcyQyID0gdmFsdWVzWzJdLFxuICAgICAgdGhpcmRWYWx1ZSA9IF92YWx1ZXMkMiA9PT0gdm9pZCAwID8gZmlyc3RWYWx1ZSA6IF92YWx1ZXMkMixcbiAgICAgIF92YWx1ZXMkMyA9IHZhbHVlc1szXSxcbiAgICAgIGZvdXJ0aFZhbHVlID0gX3ZhbHVlcyQzID09PSB2b2lkIDAgPyBzZWNvbmRWYWx1ZSA6IF92YWx1ZXMkMztcbiAgdmFyIHZhbHVlc1dpdGhEZWZhdWx0cyA9IFtmaXJzdFZhbHVlLCBzZWNvbmRWYWx1ZSwgdGhpcmRWYWx1ZSwgZm91cnRoVmFsdWVdO1xuICByZXR1cm4gZ2VuZXJhdGVTdHlsZXMocHJvcGVydHksIHZhbHVlc1dpdGhEZWZhdWx0cyk7XG59XG5cbi8qKlxuICogQ2hlY2sgaWYgYSBzdHJpbmcgZW5kcyB3aXRoIHNvbWV0aGluZ1xuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gZW5kc1dpdGggKHN0cmluZywgc3VmZml4KSB7XG4gIHJldHVybiBzdHJpbmcuc3Vic3RyKC1zdWZmaXgubGVuZ3RoKSA9PT0gc3VmZml4O1xufVxuXG52YXIgY3NzUmVnZXggPSAvXihbKy1dPyg/OlxcZCt8XFxkKlxcLlxcZCspKShbYS16XSp8JSkkLztcbi8qKlxuICogUmV0dXJucyBhIGdpdmVuIENTUyB2YWx1ZSBtaW51cyBpdHMgdW5pdCAob3IgdGhlIG9yaWdpbmFsIHZhbHVlIGlmIGFuIGludmFsaWQgc3RyaW5nIGlzIHBhc3NlZCkuIE9wdGlvbmFsbHkgcmV0dXJucyBhbiBhcnJheSBjb250YWluaW5nIHRoZSBzdHJpcHBlZCB2YWx1ZSBhbmQgdGhlIG9yaWdpbmFsIHVuaXQgb2YgbWVhc3VyZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gU3R5bGVzIGFzIG9iamVjdCB1c2FnZVxuICogY29uc3Qgc3R5bGVzID0ge1xuICogICAnLS1kaW1lbnNpb24nOiBzdHJpcFVuaXQoJzEwMHB4JyksXG4gKiAgICctLXVuaXQnOiBzdHJpcFVuaXQoJzEwMHB4JylbMV0sXG4gKiB9XG4gKlxuICogLy8gc3R5bGVkLWNvbXBvbmVudHMgdXNhZ2VcbiAqIGNvbnN0IGRpdiA9IHN0eWxlZC5kaXZgXG4gKiAgIC0tZGltZW5zaW9uOiAke3N0cmlwVW5pdCgnMTAwcHgnKX07XG4gKiAgIC0tdW5pdDogJHtzdHJpcFVuaXQoJzEwMHB4JylbMV19O1xuICogYFxuICpcbiAqIC8vIENTUyBpbiBKUyBPdXRwdXRcbiAqXG4gKiBlbGVtZW50IHtcbiAqICAgJy0tZGltZW5zaW9uJzogMTAwLFxuICogICAnLS11bml0JzogJ3B4JyxcbiAqIH1cbiAqL1xuXG5mdW5jdGlvbiBzdHJpcFVuaXQodmFsdWUsIHVuaXRSZXR1cm4pIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHJldHVybiB1bml0UmV0dXJuID8gW3ZhbHVlLCB1bmRlZmluZWRdIDogdmFsdWU7XG4gIHZhciBtYXRjaGVkVmFsdWUgPSB2YWx1ZS5tYXRjaChjc3NSZWdleCk7XG5cbiAgaWYgKHVuaXRSZXR1cm4pIHtcbiAgICBpZiAobWF0Y2hlZFZhbHVlKSByZXR1cm4gW3BhcnNlRmxvYXQodmFsdWUpLCBtYXRjaGVkVmFsdWVbMl1dO1xuICAgIHJldHVybiBbdmFsdWUsIHVuZGVmaW5lZF07XG4gIH1cblxuICBpZiAobWF0Y2hlZFZhbHVlKSByZXR1cm4gcGFyc2VGbG9hdCh2YWx1ZSk7XG4gIHJldHVybiB2YWx1ZTtcbn1cblxuLyoqXG4gKiBGYWN0b3J5IGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBwaXhlbC10by14IGNvbnZlcnRlcnNcbiAqIEBwcml2YXRlXG4gKi9cblxudmFyIHB4dG9GYWN0b3J5ID0gZnVuY3Rpb24gcHh0b0ZhY3RvcnkodG8pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChweHZhbCwgYmFzZSkge1xuICAgIGlmIChiYXNlID09PSB2b2lkIDApIHtcbiAgICAgIGJhc2UgPSAnMTZweCc7XG4gICAgfVxuXG4gICAgdmFyIG5ld1B4dmFsID0gcHh2YWw7XG4gICAgdmFyIG5ld0Jhc2UgPSBiYXNlO1xuXG4gICAgaWYgKHR5cGVvZiBweHZhbCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGlmICghZW5kc1dpdGgocHh2YWwsICdweCcpKSB7XG4gICAgICAgIHRocm93IG5ldyBQb2xpc2hlZEVycm9yKDY5LCB0bywgcHh2YWwpO1xuICAgICAgfVxuXG4gICAgICBuZXdQeHZhbCA9IHN0cmlwVW5pdChweHZhbCk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBiYXNlID09PSAnc3RyaW5nJykge1xuICAgICAgaWYgKCFlbmRzV2l0aChiYXNlLCAncHgnKSkge1xuICAgICAgICB0aHJvdyBuZXcgUG9saXNoZWRFcnJvcig3MCwgdG8sIGJhc2UpO1xuICAgICAgfVxuXG4gICAgICBuZXdCYXNlID0gc3RyaXBVbml0KGJhc2UpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgbmV3UHh2YWwgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgUG9saXNoZWRFcnJvcig3MSwgcHh2YWwsIHRvKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG5ld0Jhc2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgUG9saXNoZWRFcnJvcig3MiwgYmFzZSwgdG8pO1xuICAgIH1cblxuICAgIHJldHVybiBcIlwiICsgbmV3UHh2YWwgLyBuZXdCYXNlICsgdG87XG4gIH07XG59O1xuXG4vKipcbiAqIENvbnZlcnQgcGl4ZWwgdmFsdWUgdG8gZW1zLiBUaGUgZGVmYXVsdCBiYXNlIHZhbHVlIGlzIDE2cHgsIGJ1dCBjYW4gYmUgY2hhbmdlZCBieSBwYXNzaW5nIGFcbiAqIHNlY29uZCBhcmd1bWVudCB0byB0aGUgZnVuY3Rpb24uXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gcHh2YWxcbiAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gW2Jhc2U9JzE2cHgnXVxuICogQGV4YW1wbGVcbiAqIC8vIFN0eWxlcyBhcyBvYmplY3QgdXNhZ2VcbiAqIGNvbnN0IHN0eWxlcyA9IHtcbiAqICAgJ2hlaWdodCc6IGVtKCcxNnB4JylcbiAqIH1cbiAqXG4gKiAvLyBzdHlsZWQtY29tcG9uZW50cyB1c2FnZVxuICogY29uc3QgZGl2ID0gc3R5bGVkLmRpdmBcbiAqICAgaGVpZ2h0OiAke2VtKCcxNnB4Jyl9XG4gKiBgXG4gKlxuICogLy8gQ1NTIGluIEpTIE91dHB1dFxuICpcbiAqIGVsZW1lbnQge1xuICogICAnaGVpZ2h0JzogJzFlbSdcbiAqIH1cbiAqL1xuXG52YXIgZW0gPVxuLyojX19QVVJFX18qL1xucHh0b0ZhY3RvcnkoJ2VtJyk7XG5cbnZhciBjc3NSZWdleCQxID0gL14oWystXT8oPzpcXGQrfFxcZCpcXC5cXGQrKSkoW2Etel0qfCUpJC87XG4vKipcbiAqIFJldHVybnMgYSBnaXZlbiBDU1MgdmFsdWUgYW5kIGl0cyB1bml0IGFzIGVsZW1lbnRzIG9mIGFuIGFycmF5LlxuICpcbiAqIEBkZXByZWNhdGVkIC0gZ2V0VmFsdWVBbmRVbml0IGhhcyBiZWVuIG1hcmtlZCBmb3IgZGVwcmVjYXRpb24gaW4gcG9saXNoZWQgMy4wIGFuZCB3aWxsIGJlIGZ1bGx5IGRlcHJlY2F0ZWQgaW4gNC4wLiBJdCdzIGZ1bmN0aW9uYWxpdHkgaGFzIGJlZW4gYmVlbiBtb3ZlZCB0byBzdHJpcFVuaXQgYXMgYW4gb3B0aW9uYWwgcmV0dXJuLlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBTdHlsZXMgYXMgb2JqZWN0IHVzYWdlXG4gKiBjb25zdCBzdHlsZXMgPSB7XG4gKiAgICctLWRpbWVuc2lvbic6IGdldFZhbHVlQW5kVW5pdCgnMTAwcHgnKVswXSxcbiAqICAgJy0tdW5pdCc6IGdldFZhbHVlQW5kVW5pdCgnMTAwcHgnKVsxXSxcbiAqIH1cbiAqXG4gKiAvLyBzdHlsZWQtY29tcG9uZW50cyB1c2FnZVxuICogY29uc3QgZGl2ID0gc3R5bGVkLmRpdmBcbiAqICAgLS1kaW1lbnNpb246ICR7Z2V0VmFsdWVBbmRVbml0KCcxMDBweCcpWzBdfTtcbiAqICAgLS11bml0OiAke2dldFZhbHVlQW5kVW5pdCgnMTAwcHgnKVsxXX07XG4gKiBgXG4gKlxuICogLy8gQ1NTIGluIEpTIE91dHB1dFxuICpcbiAqIGVsZW1lbnQge1xuICogICAnLS1kaW1lbnNpb24nOiAxMDAsXG4gKiAgICctLXVuaXQnOiAncHgnLFxuICogfVxuICovXG5cbmZ1bmN0aW9uIGdldFZhbHVlQW5kVW5pdCh2YWx1ZSkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICBjb25zb2xlLndhcm4oXCJnZXRWYWx1ZUFuZFVuaXQgaGFzIGJlZW4gbWFya2VkIGZvciBkZXByZWNhdGlvbiBpbiBwb2xpc2hlZCAzLjAgYW5kIHdpbGwgYmUgZnVsbHkgZGVwcmVjYXRlZCBpbiA0LjAuIEl0J3MgZnVuY3Rpb25hbGl0eSBoYXMgYmVlbiBiZWVuIG1vdmVkIHRvIHN0cmlwVW5pdCBhcyBhbiBvcHRpb25hbCByZXR1cm4uXCIpO1xuICBpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJykgcmV0dXJuIFt2YWx1ZSwgJyddO1xuICB2YXIgbWF0Y2hlZFZhbHVlID0gdmFsdWUubWF0Y2goY3NzUmVnZXgkMSk7XG4gIGlmIChtYXRjaGVkVmFsdWUpIHJldHVybiBbcGFyc2VGbG9hdCh2YWx1ZSksIG1hdGNoZWRWYWx1ZVsyXV07XG4gIHJldHVybiBbdmFsdWUsIHVuZGVmaW5lZF07XG59XG5cbnZhciByYXRpb05hbWVzID0ge1xuICBtaW5vclNlY29uZDogMS4wNjcsXG4gIG1ham9yU2Vjb25kOiAxLjEyNSxcbiAgbWlub3JUaGlyZDogMS4yLFxuICBtYWpvclRoaXJkOiAxLjI1LFxuICBwZXJmZWN0Rm91cnRoOiAxLjMzMyxcbiAgYXVnRm91cnRoOiAxLjQxNCxcbiAgcGVyZmVjdEZpZnRoOiAxLjUsXG4gIG1pbm9yU2l4dGg6IDEuNixcbiAgZ29sZGVuU2VjdGlvbjogMS42MTgsXG4gIG1ham9yU2l4dGg6IDEuNjY3LFxuICBtaW5vclNldmVudGg6IDEuNzc4LFxuICBtYWpvclNldmVudGg6IDEuODc1LFxuICBvY3RhdmU6IDIsXG4gIG1ham9yVGVudGg6IDIuNSxcbiAgbWFqb3JFbGV2ZW50aDogMi42NjcsXG4gIG1ham9yVHdlbGZ0aDogMyxcbiAgZG91YmxlT2N0YXZlOiA0XG59O1xuXG5mdW5jdGlvbiBnZXRSYXRpbyhyYXRpb05hbWUpIHtcbiAgcmV0dXJuIHJhdGlvTmFtZXNbcmF0aW9OYW1lXTtcbn1cbi8qKlxuICogRXN0YWJsaXNoIGNvbnNpc3RlbnQgbWVhc3VyZW1lbnRzIGFuZCBzcGFjaWFsIHJlbGF0aW9uc2hpcHMgdGhyb3VnaG91dCB5b3VyIHByb2plY3RzIGJ5IGluY3JlbWVudGluZyBhbiBlbSBvciByZW0gdmFsdWUgdXAgb3IgZG93biBhIGRlZmluZWQgc2NhbGUuIFdlIHByb3ZpZGUgYSBsaXN0IG9mIGNvbW1vbmx5IHVzZWQgc2NhbGVzIGFzIHByZS1kZWZpbmVkIHZhcmlhYmxlcy5cbiAqIEBleGFtcGxlXG4gKiAvLyBTdHlsZXMgYXMgb2JqZWN0IHVzYWdlXG4gKiBjb25zdCBzdHlsZXMgPSB7XG4gKiAgICAvLyBJbmNyZW1lbnQgdHdvIHN0ZXBzIHVwIHRoZSBkZWZhdWx0IHNjYWxlXG4gKiAgICdmb250U2l6ZSc6IG1vZHVsYXJTY2FsZSgyKVxuICogfVxuICpcbiAqIC8vIHN0eWxlZC1jb21wb25lbnRzIHVzYWdlXG4gKiBjb25zdCBkaXYgPSBzdHlsZWQuZGl2YFxuICogICAgLy8gSW5jcmVtZW50IHR3byBzdGVwcyB1cCB0aGUgZGVmYXVsdCBzY2FsZVxuICogICBmb250U2l6ZTogJHttb2R1bGFyU2NhbGUoMil9XG4gKiBgXG4gKlxuICogLy8gQ1NTIGluIEpTIE91dHB1dFxuICpcbiAqIGVsZW1lbnQge1xuICogICAnZm9udFNpemUnOiAnMS43NzY4OWVtJ1xuICogfVxuICovXG5cblxuZnVuY3Rpb24gbW9kdWxhclNjYWxlKHN0ZXBzLCBiYXNlLCByYXRpbykge1xuICBpZiAoYmFzZSA9PT0gdm9pZCAwKSB7XG4gICAgYmFzZSA9ICcxZW0nO1xuICB9XG5cbiAgaWYgKHJhdGlvID09PSB2b2lkIDApIHtcbiAgICByYXRpbyA9IDEuMzMzO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBzdGVwcyAhPT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgUG9saXNoZWRFcnJvcig0Mik7XG4gIH1cblxuICBpZiAodHlwZW9mIHJhdGlvID09PSAnc3RyaW5nJyAmJiAhcmF0aW9OYW1lc1tyYXRpb10pIHtcbiAgICB0aHJvdyBuZXcgUG9saXNoZWRFcnJvcig0Myk7XG4gIH1cblxuICB2YXIgX3JlZiA9IHR5cGVvZiBiYXNlID09PSAnc3RyaW5nJyA/IHN0cmlwVW5pdChiYXNlLCB0cnVlKSA6IFtiYXNlLCAnJ10sXG4gICAgICByZWFsQmFzZSA9IF9yZWZbMF0sXG4gICAgICB1bml0ID0gX3JlZlsxXTtcblxuICB2YXIgcmVhbFJhdGlvID0gdHlwZW9mIHJhdGlvID09PSAnc3RyaW5nJyA/IGdldFJhdGlvKHJhdGlvKSA6IHJhdGlvO1xuXG4gIGlmICh0eXBlb2YgcmVhbEJhc2UgPT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IFBvbGlzaGVkRXJyb3IoNDQsIGJhc2UpO1xuICB9XG5cbiAgcmV0dXJuIFwiXCIgKyByZWFsQmFzZSAqIE1hdGgucG93KHJlYWxSYXRpbywgc3RlcHMpICsgdW5pdDtcbn1cblxuLyoqXG4gKiBDb252ZXJ0IHBpeGVsIHZhbHVlIHRvIHJlbXMuIFRoZSBkZWZhdWx0IGJhc2UgdmFsdWUgaXMgMTZweCwgYnV0IGNhbiBiZSBjaGFuZ2VkIGJ5IHBhc3NpbmcgYVxuICogc2Vjb25kIGFyZ3VtZW50IHRvIHRoZSBmdW5jdGlvbi5cbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBweHZhbFxuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbYmFzZT0nMTZweCddXG4gKiBAZXhhbXBsZVxuICogLy8gU3R5bGVzIGFzIG9iamVjdCB1c2FnZVxuICogY29uc3Qgc3R5bGVzID0ge1xuICogICAnaGVpZ2h0JzogcmVtKCcxNnB4JylcbiAqIH1cbiAqXG4gKiAvLyBzdHlsZWQtY29tcG9uZW50cyB1c2FnZVxuICogY29uc3QgZGl2ID0gc3R5bGVkLmRpdmBcbiAqICAgaGVpZ2h0OiAke3JlbSgnMTZweCcpfVxuICogYFxuICpcbiAqIC8vIENTUyBpbiBKUyBPdXRwdXRcbiAqXG4gKiBlbGVtZW50IHtcbiAqICAgJ2hlaWdodCc6ICcxcmVtJ1xuICogfVxuICovXG5cbnZhciByZW0gPVxuLyojX19QVVJFX18qL1xucHh0b0ZhY3RvcnkoJ3JlbScpO1xuXG4vKipcbiAqIFJldHVybnMgYSBDU1MgY2FsYyBmb3JtdWxhIGZvciBsaW5lYXIgaW50ZXJwb2xhdGlvbiBvZiBhIHByb3BlcnR5IGJldHdlZW4gdHdvIHZhbHVlcy4gQWNjZXB0cyBvcHRpb25hbCBtaW5TY3JlZW4gKGRlZmF1bHRzIHRvICczMjBweCcpIGFuZCBtYXhTY3JlZW4gKGRlZmF1bHRzIHRvICcxMjAwcHgnKS5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gU3R5bGVzIGFzIG9iamVjdCB1c2FnZVxuICogY29uc3Qgc3R5bGVzID0ge1xuICogICBmb250U2l6ZTogYmV0d2VlbignMjBweCcsICcxMDBweCcsICc0MDBweCcsICcxMDAwcHgnKSxcbiAqICAgZm9udFNpemU6IGJldHdlZW4oJzIwcHgnLCAnMTAwcHgnKVxuICogfVxuICpcbiAqIC8vIHN0eWxlZC1jb21wb25lbnRzIHVzYWdlXG4gKiBjb25zdCBkaXYgPSBzdHlsZWQuZGl2YFxuICogICBmb250U2l6ZTogJHtiZXR3ZWVuKCcyMHB4JywgJzEwMHB4JywgJzQwMHB4JywgJzEwMDBweCcpfTtcbiAqICAgZm9udFNpemU6ICR7YmV0d2VlbignMjBweCcsICcxMDBweCcpfVxuICogYFxuICpcbiAqIC8vIENTUyBhcyBKUyBPdXRwdXRcbiAqXG4gKiBoMToge1xuICogICAnZm9udFNpemUnOiAnY2FsYygtMzMuMzMzMzMzMzMzMzMzMzRweCArIDEzLjMzMzMzMzMzMzMzMzMzNHZ3KScsXG4gKiAgICdmb250U2l6ZSc6ICdjYWxjKC05LjA5MDkwOTA5MDkwOTA5M3B4ICsgOS4wOTA5MDkwOTA5MDkwOTJ2dyknXG4gKiB9XG4gKi9cblxuZnVuY3Rpb24gYmV0d2Vlbihmcm9tU2l6ZSwgdG9TaXplLCBtaW5TY3JlZW4sIG1heFNjcmVlbikge1xuICBpZiAobWluU2NyZWVuID09PSB2b2lkIDApIHtcbiAgICBtaW5TY3JlZW4gPSAnMzIwcHgnO1xuICB9XG5cbiAgaWYgKG1heFNjcmVlbiA9PT0gdm9pZCAwKSB7XG4gICAgbWF4U2NyZWVuID0gJzEyMDBweCc7XG4gIH1cblxuICB2YXIgX3N0cmlwVW5pdCA9IHN0cmlwVW5pdChmcm9tU2l6ZSwgdHJ1ZSksXG4gICAgICB1bml0bGVzc0Zyb21TaXplID0gX3N0cmlwVW5pdFswXSxcbiAgICAgIGZyb21TaXplVW5pdCA9IF9zdHJpcFVuaXRbMV07XG5cbiAgdmFyIF9zdHJpcFVuaXQyID0gc3RyaXBVbml0KHRvU2l6ZSwgdHJ1ZSksXG4gICAgICB1bml0bGVzc1RvU2l6ZSA9IF9zdHJpcFVuaXQyWzBdLFxuICAgICAgdG9TaXplVW5pdCA9IF9zdHJpcFVuaXQyWzFdO1xuXG4gIHZhciBfc3RyaXBVbml0MyA9IHN0cmlwVW5pdChtaW5TY3JlZW4sIHRydWUpLFxuICAgICAgdW5pdGxlc3NNaW5TY3JlZW4gPSBfc3RyaXBVbml0M1swXSxcbiAgICAgIG1pblNjcmVlblVuaXQgPSBfc3RyaXBVbml0M1sxXTtcblxuICB2YXIgX3N0cmlwVW5pdDQgPSBzdHJpcFVuaXQobWF4U2NyZWVuLCB0cnVlKSxcbiAgICAgIHVuaXRsZXNzTWF4U2NyZWVuID0gX3N0cmlwVW5pdDRbMF0sXG4gICAgICBtYXhTY3JlZW5Vbml0ID0gX3N0cmlwVW5pdDRbMV07XG5cbiAgaWYgKHR5cGVvZiB1bml0bGVzc01pblNjcmVlbiAhPT0gJ251bWJlcicgfHwgdHlwZW9mIHVuaXRsZXNzTWF4U2NyZWVuICE9PSAnbnVtYmVyJyB8fCAhbWluU2NyZWVuVW5pdCB8fCAhbWF4U2NyZWVuVW5pdCB8fCBtaW5TY3JlZW5Vbml0ICE9PSBtYXhTY3JlZW5Vbml0KSB7XG4gICAgdGhyb3cgbmV3IFBvbGlzaGVkRXJyb3IoNDcpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB1bml0bGVzc0Zyb21TaXplICE9PSAnbnVtYmVyJyB8fCB0eXBlb2YgdW5pdGxlc3NUb1NpemUgIT09ICdudW1iZXInIHx8IGZyb21TaXplVW5pdCAhPT0gdG9TaXplVW5pdCkge1xuICAgIHRocm93IG5ldyBQb2xpc2hlZEVycm9yKDQ4KTtcbiAgfVxuXG4gIHZhciBzbG9wZSA9ICh1bml0bGVzc0Zyb21TaXplIC0gdW5pdGxlc3NUb1NpemUpIC8gKHVuaXRsZXNzTWluU2NyZWVuIC0gdW5pdGxlc3NNYXhTY3JlZW4pO1xuICB2YXIgYmFzZSA9IHVuaXRsZXNzVG9TaXplIC0gc2xvcGUgKiB1bml0bGVzc01heFNjcmVlbjtcbiAgcmV0dXJuIFwiY2FsYyhcIiArIGJhc2UudG9GaXhlZCgyKSArIChmcm9tU2l6ZVVuaXQgfHwgJycpICsgXCIgKyBcIiArICgxMDAgKiBzbG9wZSkudG9GaXhlZCgyKSArIFwidncpXCI7XG59XG5cbmZ1bmN0aW9uIGNsZWFyRml4KHBhcmVudCkge1xuICB2YXIgX3JlZjtcblxuICBpZiAocGFyZW50ID09PSB2b2lkIDApIHtcbiAgICBwYXJlbnQgPSAnJic7XG4gIH1cblxuICB2YXIgcHNldWRvU2VsZWN0b3IgPSBwYXJlbnQgKyBcIjo6YWZ0ZXJcIjtcbiAgcmV0dXJuIF9yZWYgPSB7fSwgX3JlZltwc2V1ZG9TZWxlY3Rvcl0gPSB7XG4gICAgY2xlYXI6ICdib3RoJyxcbiAgICBjb250ZW50OiAnXCJcIicsXG4gICAgZGlzcGxheTogJ3RhYmxlJ1xuICB9LCBfcmVmO1xufVxuXG5mdW5jdGlvbiBjb3ZlcihvZmZzZXQpIHtcbiAgaWYgKG9mZnNldCA9PT0gdm9pZCAwKSB7XG4gICAgb2Zmc2V0ID0gMDtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgdG9wOiBvZmZzZXQsXG4gICAgcmlnaHQ6IG9mZnNldCxcbiAgICBib3R0b206IG9mZnNldCxcbiAgICBsZWZ0OiBvZmZzZXRcbiAgfTtcbn1cblxuZnVuY3Rpb24gZWxsaXBzaXMod2lkdGgpIHtcbiAgaWYgKHdpZHRoID09PSB2b2lkIDApIHtcbiAgICB3aWR0aCA9ICcxMDAlJztcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgZGlzcGxheTogJ2lubGluZS1ibG9jaycsXG4gICAgbWF4V2lkdGg6IHdpZHRoLFxuICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcbiAgICB0ZXh0T3ZlcmZsb3c6ICdlbGxpcHNpcycsXG4gICAgd2hpdGVTcGFjZTogJ25vd3JhcCcsXG4gICAgd29yZFdyYXA6ICdub3JtYWwnXG4gIH07XG59XG5cbmZ1bmN0aW9uIGZsdWlkUmFuZ2UoY3NzUHJvcCwgbWluU2NyZWVuLCBtYXhTY3JlZW4pIHtcbiAgaWYgKG1pblNjcmVlbiA9PT0gdm9pZCAwKSB7XG4gICAgbWluU2NyZWVuID0gJzMyMHB4JztcbiAgfVxuXG4gIGlmIChtYXhTY3JlZW4gPT09IHZvaWQgMCkge1xuICAgIG1heFNjcmVlbiA9ICcxMjAwcHgnO1xuICB9XG5cbiAgaWYgKCFBcnJheS5pc0FycmF5KGNzc1Byb3ApICYmIHR5cGVvZiBjc3NQcm9wICE9PSAnb2JqZWN0JyB8fCBjc3NQcm9wID09PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IFBvbGlzaGVkRXJyb3IoNDkpO1xuICB9XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkoY3NzUHJvcCkpIHtcbiAgICB2YXIgbWVkaWFRdWVyaWVzID0ge307XG4gICAgdmFyIGZhbGxiYWNrcyA9IHt9O1xuXG4gICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gY3NzUHJvcCwgX2lzQXJyYXkgPSBBcnJheS5pc0FycmF5KF9pdGVyYXRvciksIF9pID0gMCwgX2l0ZXJhdG9yID0gX2lzQXJyYXkgPyBfaXRlcmF0b3IgOiBfaXRlcmF0b3JbU3ltYm9sLml0ZXJhdG9yXSgpOzspIHtcbiAgICAgIHZhciBfZXh0ZW5kczIsIF9leHRlbmRzMztcblxuICAgICAgdmFyIF9yZWY7XG5cbiAgICAgIGlmIChfaXNBcnJheSkge1xuICAgICAgICBpZiAoX2kgPj0gX2l0ZXJhdG9yLmxlbmd0aCkgYnJlYWs7XG4gICAgICAgIF9yZWYgPSBfaXRlcmF0b3JbX2krK107XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfaSA9IF9pdGVyYXRvci5uZXh0KCk7XG4gICAgICAgIGlmIChfaS5kb25lKSBicmVhaztcbiAgICAgICAgX3JlZiA9IF9pLnZhbHVlO1xuICAgICAgfVxuXG4gICAgICB2YXIgb2JqID0gX3JlZjtcblxuICAgICAgaWYgKCFvYmoucHJvcCB8fCAhb2JqLmZyb21TaXplIHx8ICFvYmoudG9TaXplKSB7XG4gICAgICAgIHRocm93IG5ldyBQb2xpc2hlZEVycm9yKDUwKTtcbiAgICAgIH1cblxuICAgICAgZmFsbGJhY2tzW29iai5wcm9wXSA9IG9iai5mcm9tU2l6ZTtcbiAgICAgIG1lZGlhUXVlcmllc1tcIkBtZWRpYSAobWluLXdpZHRoOiBcIiArIG1pblNjcmVlbiArIFwiKVwiXSA9IF9leHRlbmRzKHt9LCBtZWRpYVF1ZXJpZXNbXCJAbWVkaWEgKG1pbi13aWR0aDogXCIgKyBtaW5TY3JlZW4gKyBcIilcIl0sIChfZXh0ZW5kczIgPSB7fSwgX2V4dGVuZHMyW29iai5wcm9wXSA9IGJldHdlZW4ob2JqLmZyb21TaXplLCBvYmoudG9TaXplLCBtaW5TY3JlZW4sIG1heFNjcmVlbiksIF9leHRlbmRzMikpO1xuICAgICAgbWVkaWFRdWVyaWVzW1wiQG1lZGlhIChtaW4td2lkdGg6IFwiICsgbWF4U2NyZWVuICsgXCIpXCJdID0gX2V4dGVuZHMoe30sIG1lZGlhUXVlcmllc1tcIkBtZWRpYSAobWluLXdpZHRoOiBcIiArIG1heFNjcmVlbiArIFwiKVwiXSwgKF9leHRlbmRzMyA9IHt9LCBfZXh0ZW5kczNbb2JqLnByb3BdID0gb2JqLnRvU2l6ZSwgX2V4dGVuZHMzKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIF9leHRlbmRzKHt9LCBmYWxsYmFja3MsIHt9LCBtZWRpYVF1ZXJpZXMpO1xuICB9IGVsc2Uge1xuICAgIHZhciBfcmVmMiwgX3JlZjMsIF9yZWY0O1xuXG4gICAgaWYgKCFjc3NQcm9wLnByb3AgfHwgIWNzc1Byb3AuZnJvbVNpemUgfHwgIWNzc1Byb3AudG9TaXplKSB7XG4gICAgICB0aHJvdyBuZXcgUG9saXNoZWRFcnJvcig1MSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZWY0ID0ge30sIF9yZWY0W2Nzc1Byb3AucHJvcF0gPSBjc3NQcm9wLmZyb21TaXplLCBfcmVmNFtcIkBtZWRpYSAobWluLXdpZHRoOiBcIiArIG1pblNjcmVlbiArIFwiKVwiXSA9IChfcmVmMiA9IHt9LCBfcmVmMltjc3NQcm9wLnByb3BdID0gYmV0d2Vlbihjc3NQcm9wLmZyb21TaXplLCBjc3NQcm9wLnRvU2l6ZSwgbWluU2NyZWVuLCBtYXhTY3JlZW4pLCBfcmVmMiksIF9yZWY0W1wiQG1lZGlhIChtaW4td2lkdGg6IFwiICsgbWF4U2NyZWVuICsgXCIpXCJdID0gKF9yZWYzID0ge30sIF9yZWYzW2Nzc1Byb3AucHJvcF0gPSBjc3NQcm9wLnRvU2l6ZSwgX3JlZjMpLCBfcmVmNDtcbiAgfVxufVxuXG52YXIgZGF0YVVSSVJlZ2V4ID0gL15cXHMqZGF0YTooW2Etel0rXFwvW2Etei1dKyg7W2Etei1dKz1bYS16LV0rKT8pPyg7Y2hhcnNldD1bYS16MC05LV0rKT8oO2Jhc2U2NCk/LFthLXowLTkhJCYnLCgpKissOz1cXC0uX346QC8/JVxcc10qXFxzKiQvaTtcbnZhciBmb3JtYXRIaW50TWFwID0ge1xuICB3b2ZmOiAnd29mZicsXG4gIHdvZmYyOiAnd29mZjInLFxuICB0dGY6ICd0cnVldHlwZScsXG4gIG90ZjogJ29wZW50eXBlJyxcbiAgZW90OiAnZW1iZWRkZWQtb3BlbnR5cGUnLFxuICBzdmc6ICdzdmcnLFxuICBzdmd6OiAnc3ZnJ1xufTtcblxuZnVuY3Rpb24gZ2VuZXJhdGVGb3JtYXRIaW50KGZvcm1hdCwgZm9ybWF0SGludCkge1xuICBpZiAoIWZvcm1hdEhpbnQpIHJldHVybiAnJztcbiAgcmV0dXJuIFwiIGZvcm1hdChcXFwiXCIgKyBmb3JtYXRIaW50TWFwW2Zvcm1hdF0gKyBcIlxcXCIpXCI7XG59XG5cbmZ1bmN0aW9uIGlzRGF0YVVSSShmb250RmlsZVBhdGgpIHtcbiAgcmV0dXJuICEhZm9udEZpbGVQYXRoLm1hdGNoKGRhdGFVUklSZWdleCk7XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlRmlsZVJlZmVyZW5jZXMoZm9udEZpbGVQYXRoLCBmaWxlRm9ybWF0cywgZm9ybWF0SGludCkge1xuICBpZiAoaXNEYXRhVVJJKGZvbnRGaWxlUGF0aCkpIHtcbiAgICByZXR1cm4gXCJ1cmwoXFxcIlwiICsgZm9udEZpbGVQYXRoICsgXCJcXFwiKVwiICsgZ2VuZXJhdGVGb3JtYXRIaW50KGZpbGVGb3JtYXRzWzBdLCBmb3JtYXRIaW50KTtcbiAgfVxuXG4gIHZhciBmaWxlRm9udFJlZmVyZW5jZXMgPSBmaWxlRm9ybWF0cy5tYXAoZnVuY3Rpb24gKGZvcm1hdCkge1xuICAgIHJldHVybiBcInVybChcXFwiXCIgKyBmb250RmlsZVBhdGggKyBcIi5cIiArIGZvcm1hdCArIFwiXFxcIilcIiArIGdlbmVyYXRlRm9ybWF0SGludChmb3JtYXQsIGZvcm1hdEhpbnQpO1xuICB9KTtcbiAgcmV0dXJuIGZpbGVGb250UmVmZXJlbmNlcy5qb2luKCcsICcpO1xufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZUxvY2FsUmVmZXJlbmNlcyhsb2NhbEZvbnRzKSB7XG4gIHZhciBsb2NhbEZvbnRSZWZlcmVuY2VzID0gbG9jYWxGb250cy5tYXAoZnVuY3Rpb24gKGZvbnQpIHtcbiAgICByZXR1cm4gXCJsb2NhbChcXFwiXCIgKyBmb250ICsgXCJcXFwiKVwiO1xuICB9KTtcbiAgcmV0dXJuIGxvY2FsRm9udFJlZmVyZW5jZXMuam9pbignLCAnKTtcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVTb3VyY2VzKGZvbnRGaWxlUGF0aCwgbG9jYWxGb250cywgZmlsZUZvcm1hdHMsIGZvcm1hdEhpbnQpIHtcbiAgdmFyIGZvbnRSZWZlcmVuY2VzID0gW107XG4gIGlmIChsb2NhbEZvbnRzKSBmb250UmVmZXJlbmNlcy5wdXNoKGdlbmVyYXRlTG9jYWxSZWZlcmVuY2VzKGxvY2FsRm9udHMpKTtcblxuICBpZiAoZm9udEZpbGVQYXRoKSB7XG4gICAgZm9udFJlZmVyZW5jZXMucHVzaChnZW5lcmF0ZUZpbGVSZWZlcmVuY2VzKGZvbnRGaWxlUGF0aCwgZmlsZUZvcm1hdHMsIGZvcm1hdEhpbnQpKTtcbiAgfVxuXG4gIHJldHVybiBmb250UmVmZXJlbmNlcy5qb2luKCcsICcpO1xufVxuLyoqXG4gKiBDU1MgZm9yIGEgQGZvbnQtZmFjZSBkZWNsYXJhdGlvbi5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gU3R5bGVzIGFzIG9iamVjdCBiYXNpYyB1c2FnZVxuICogY29uc3Qgc3R5bGVzID0ge1xuICogICAgLi4uZm9udEZhY2Uoe1xuICogICAgICAnZm9udEZhbWlseSc6ICdTYW5zLVBybycsXG4gKiAgICAgICdmb250RmlsZVBhdGgnOiAncGF0aC90by9maWxlJ1xuICogICAgfSlcbiAqIH1cbiAqXG4gKiAvLyBzdHlsZWQtY29tcG9uZW50cyBiYXNpYyB1c2FnZVxuICogY29uc3QgR2xvYmFsU3R5bGUgPSBjcmVhdGVHbG9iYWxTdHlsZWAke1xuICogICBmb250RmFjZSh7XG4gKiAgICAgJ2ZvbnRGYW1pbHknOiAnU2Fucy1Qcm8nLFxuICogICAgICdmb250RmlsZVBhdGgnOiAncGF0aC90by9maWxlJ1xuICogICB9XG4gKiApfWBcbiAqXG4gKiAvLyBDU1MgYXMgSlMgT3V0cHV0XG4gKlxuICogJ0Bmb250LWZhY2UnOiB7XG4gKiAgICdmb250RmFtaWx5JzogJ1NhbnMtUHJvJyxcbiAqICAgJ3NyYyc6ICd1cmwoXCJwYXRoL3RvL2ZpbGUuZW90XCIpLCB1cmwoXCJwYXRoL3RvL2ZpbGUud29mZjJcIiksIHVybChcInBhdGgvdG8vZmlsZS53b2ZmXCIpLCB1cmwoXCJwYXRoL3RvL2ZpbGUudHRmXCIpLCB1cmwoXCJwYXRoL3RvL2ZpbGUuc3ZnXCIpJyxcbiAqIH1cbiAqL1xuXG5cbmZ1bmN0aW9uIGZvbnRGYWNlKF9yZWYpIHtcbiAgdmFyIGZvbnRGYW1pbHkgPSBfcmVmLmZvbnRGYW1pbHksXG4gICAgICBmb250RmlsZVBhdGggPSBfcmVmLmZvbnRGaWxlUGF0aCxcbiAgICAgIGZvbnRTdHJldGNoID0gX3JlZi5mb250U3RyZXRjaCxcbiAgICAgIGZvbnRTdHlsZSA9IF9yZWYuZm9udFN0eWxlLFxuICAgICAgZm9udFZhcmlhbnQgPSBfcmVmLmZvbnRWYXJpYW50LFxuICAgICAgZm9udFdlaWdodCA9IF9yZWYuZm9udFdlaWdodCxcbiAgICAgIF9yZWYkZmlsZUZvcm1hdHMgPSBfcmVmLmZpbGVGb3JtYXRzLFxuICAgICAgZmlsZUZvcm1hdHMgPSBfcmVmJGZpbGVGb3JtYXRzID09PSB2b2lkIDAgPyBbJ2VvdCcsICd3b2ZmMicsICd3b2ZmJywgJ3R0ZicsICdzdmcnXSA6IF9yZWYkZmlsZUZvcm1hdHMsXG4gICAgICBfcmVmJGZvcm1hdEhpbnQgPSBfcmVmLmZvcm1hdEhpbnQsXG4gICAgICBmb3JtYXRIaW50ID0gX3JlZiRmb3JtYXRIaW50ID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYkZm9ybWF0SGludCxcbiAgICAgIGxvY2FsRm9udHMgPSBfcmVmLmxvY2FsRm9udHMsXG4gICAgICB1bmljb2RlUmFuZ2UgPSBfcmVmLnVuaWNvZGVSYW5nZSxcbiAgICAgIGZvbnREaXNwbGF5ID0gX3JlZi5mb250RGlzcGxheSxcbiAgICAgIGZvbnRWYXJpYXRpb25TZXR0aW5ncyA9IF9yZWYuZm9udFZhcmlhdGlvblNldHRpbmdzLFxuICAgICAgZm9udEZlYXR1cmVTZXR0aW5ncyA9IF9yZWYuZm9udEZlYXR1cmVTZXR0aW5ncztcbiAgLy8gRXJyb3IgSGFuZGxpbmdcbiAgaWYgKCFmb250RmFtaWx5KSB0aHJvdyBuZXcgUG9saXNoZWRFcnJvcig1NSk7XG5cbiAgaWYgKCFmb250RmlsZVBhdGggJiYgIWxvY2FsRm9udHMpIHtcbiAgICB0aHJvdyBuZXcgUG9saXNoZWRFcnJvcig1Mik7XG4gIH1cblxuICBpZiAobG9jYWxGb250cyAmJiAhQXJyYXkuaXNBcnJheShsb2NhbEZvbnRzKSkge1xuICAgIHRocm93IG5ldyBQb2xpc2hlZEVycm9yKDUzKTtcbiAgfVxuXG4gIGlmICghQXJyYXkuaXNBcnJheShmaWxlRm9ybWF0cykpIHtcbiAgICB0aHJvdyBuZXcgUG9saXNoZWRFcnJvcig1NCk7XG4gIH1cblxuICB2YXIgZm9udEZhY2VEZWNsYXJhdGlvbiA9IHtcbiAgICAnQGZvbnQtZmFjZSc6IHtcbiAgICAgIGZvbnRGYW1pbHk6IGZvbnRGYW1pbHksXG4gICAgICBzcmM6IGdlbmVyYXRlU291cmNlcyhmb250RmlsZVBhdGgsIGxvY2FsRm9udHMsIGZpbGVGb3JtYXRzLCBmb3JtYXRIaW50KSxcbiAgICAgIHVuaWNvZGVSYW5nZTogdW5pY29kZVJhbmdlLFxuICAgICAgZm9udFN0cmV0Y2g6IGZvbnRTdHJldGNoLFxuICAgICAgZm9udFN0eWxlOiBmb250U3R5bGUsXG4gICAgICBmb250VmFyaWFudDogZm9udFZhcmlhbnQsXG4gICAgICBmb250V2VpZ2h0OiBmb250V2VpZ2h0LFxuICAgICAgZm9udERpc3BsYXk6IGZvbnREaXNwbGF5LFxuICAgICAgZm9udFZhcmlhdGlvblNldHRpbmdzOiBmb250VmFyaWF0aW9uU2V0dGluZ3MsXG4gICAgICBmb250RmVhdHVyZVNldHRpbmdzOiBmb250RmVhdHVyZVNldHRpbmdzXG4gICAgfVxuICB9OyAvLyBSZW1vdmVzIHVuZGVmaW5lZCBmaWVsZHMgZm9yIGNsZWFuZXIgY3NzIG9iamVjdC5cblxuICByZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShmb250RmFjZURlY2xhcmF0aW9uKSk7XG59XG5cbmZ1bmN0aW9uIGhpZGVUZXh0KCkge1xuICByZXR1cm4ge1xuICAgIHRleHRJbmRlbnQ6ICcxMDElJyxcbiAgICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gICAgd2hpdGVTcGFjZTogJ25vd3JhcCdcbiAgfTtcbn1cblxuZnVuY3Rpb24gaGlkZVZpc3VhbGx5KCkge1xuICByZXR1cm4ge1xuICAgIGJvcmRlcjogJzAnLFxuICAgIGNsaXA6ICdyZWN0KDAgMCAwIDApJyxcbiAgICBjbGlwUGF0aDogJ2luc2V0KDUwJSknLFxuICAgIGhlaWdodDogJzFweCcsXG4gICAgbWFyZ2luOiAnLTFweCcsXG4gICAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICAgIHBhZGRpbmc6ICcwJyxcbiAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICB3aGl0ZVNwYWNlOiAnbm93cmFwJyxcbiAgICB3aWR0aDogJzFweCdcbiAgfTtcbn1cblxuLyoqXG4gKiBHZW5lcmF0ZXMgYSBtZWRpYSBxdWVyeSB0byB0YXJnZXQgSGlEUEkgZGV2aWNlcy5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gU3R5bGVzIGFzIG9iamVjdCB1c2FnZVxuICogY29uc3Qgc3R5bGVzID0ge1xuICogIFtoaURQSSgxLjUpXToge1xuICogICAgd2lkdGg6IDIwMHB4O1xuICogIH1cbiAqIH1cbiAqXG4gKiAvLyBzdHlsZWQtY29tcG9uZW50cyB1c2FnZVxuICogY29uc3QgZGl2ID0gc3R5bGVkLmRpdmBcbiAqICAgJHtoaURQSSgxLjUpfSB7XG4gKiAgICAgd2lkdGg6IDIwMHB4O1xuICogICB9XG4gKiBgXG4gKlxuICogLy8gQ1NTIGFzIEpTIE91dHB1dFxuICpcbiAqICdAbWVkaWEgb25seSBzY3JlZW4gYW5kICgtd2Via2l0LW1pbi1kZXZpY2UtcGl4ZWwtcmF0aW86IDEuNSksXG4gKiAgb25seSBzY3JlZW4gYW5kIChtaW4tLW1vei1kZXZpY2UtcGl4ZWwtcmF0aW86IDEuNSksXG4gKiAgb25seSBzY3JlZW4gYW5kICgtby1taW4tZGV2aWNlLXBpeGVsLXJhdGlvOiAxLjUvMSksXG4gKiAgb25seSBzY3JlZW4gYW5kIChtaW4tcmVzb2x1dGlvbjogMTQ0ZHBpKSxcbiAqICBvbmx5IHNjcmVlbiBhbmQgKG1pbi1yZXNvbHV0aW9uOiAxLjVkcHB4KSc6IHtcbiAqICAgJ3dpZHRoJzogJzIwMHB4JyxcbiAqIH1cbiAqL1xuZnVuY3Rpb24gaGlEUEkocmF0aW8pIHtcbiAgaWYgKHJhdGlvID09PSB2b2lkIDApIHtcbiAgICByYXRpbyA9IDEuMztcbiAgfVxuXG4gIHJldHVybiBcIlxcbiAgICBAbWVkaWEgb25seSBzY3JlZW4gYW5kICgtd2Via2l0LW1pbi1kZXZpY2UtcGl4ZWwtcmF0aW86IFwiICsgcmF0aW8gKyBcIiksXFxuICAgIG9ubHkgc2NyZWVuIGFuZCAobWluLS1tb3otZGV2aWNlLXBpeGVsLXJhdGlvOiBcIiArIHJhdGlvICsgXCIpLFxcbiAgICBvbmx5IHNjcmVlbiBhbmQgKC1vLW1pbi1kZXZpY2UtcGl4ZWwtcmF0aW86IFwiICsgcmF0aW8gKyBcIi8xKSxcXG4gICAgb25seSBzY3JlZW4gYW5kIChtaW4tcmVzb2x1dGlvbjogXCIgKyBNYXRoLnJvdW5kKHJhdGlvICogOTYpICsgXCJkcGkpLFxcbiAgICBvbmx5IHNjcmVlbiBhbmQgKG1pbi1yZXNvbHV0aW9uOiBcIiArIHJhdGlvICsgXCJkcHB4KVxcbiAgXCI7XG59XG5cbmZ1bmN0aW9uIGNvbnN0cnVjdEdyYWRpZW50VmFsdWUobGl0ZXJhbHMpIHtcbiAgdmFyIHRlbXBsYXRlID0gJyc7XG5cbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHN1YnN0aXR1dGlvbnMgPSBuZXcgQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIHN1YnN0aXR1dGlvbnNbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXRlcmFscy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIHRlbXBsYXRlICs9IGxpdGVyYWxzW2ldO1xuXG4gICAgaWYgKGkgPT09IHN1YnN0aXR1dGlvbnMubGVuZ3RoIC0gMSAmJiBzdWJzdGl0dXRpb25zW2ldKSB7XG4gICAgICB2YXIgZGVmaW5lZFZhbHVlcyA9IHN1YnN0aXR1dGlvbnMuZmlsdGVyKGZ1bmN0aW9uIChzdWJzdGl0dXRlKSB7XG4gICAgICAgIHJldHVybiAhIXN1YnN0aXR1dGU7XG4gICAgICB9KTsgLy8gQWRkcyBsZWFkaW5nIGNvbWEgaWYgcHJvcGVydGllcyBwcmVjZWVkIGNvbG9yLXN0b3BzXG5cbiAgICAgIGlmIChkZWZpbmVkVmFsdWVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZS5zbGljZSgwLCAtMSk7XG4gICAgICAgIHRlbXBsYXRlICs9IFwiLCBcIiArIHN1YnN0aXR1dGlvbnNbaV07IC8vIE5vIHRyYWlsaW5nIHNwYWNlIGlmIGNvbG9yLXN0b3BzIGlzIHRoZSBvbmx5IHBhcmFtIHByb3ZpZGVkXG4gICAgICB9IGVsc2UgaWYgKGRlZmluZWRWYWx1ZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHRlbXBsYXRlICs9IFwiXCIgKyBzdWJzdGl0dXRpb25zW2ldO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc3Vic3RpdHV0aW9uc1tpXSkge1xuICAgICAgdGVtcGxhdGUgKz0gc3Vic3RpdHV0aW9uc1tpXSArIFwiIFwiO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0ZW1wbGF0ZS50cmltKCk7XG59XG5cbmZ1bmN0aW9uIF90ZW1wbGF0ZU9iamVjdCgpIHtcbiAgdmFyIGRhdGEgPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsTG9vc2UoW1wibGluZWFyLWdyYWRpZW50KFwiLCBcIlwiLCBcIilcIl0pO1xuXG4gIF90ZW1wbGF0ZU9iamVjdCA9IGZ1bmN0aW9uIF90ZW1wbGF0ZU9iamVjdCgpIHtcbiAgICByZXR1cm4gZGF0YTtcbiAgfTtcblxuICByZXR1cm4gZGF0YTtcbn1cbmZ1bmN0aW9uIGxpbmVhckdyYWRpZW50KF9yZWYpIHtcbiAgdmFyIGNvbG9yU3RvcHMgPSBfcmVmLmNvbG9yU3RvcHMsXG4gICAgICBmYWxsYmFjayA9IF9yZWYuZmFsbGJhY2ssXG4gICAgICBfcmVmJHRvRGlyZWN0aW9uID0gX3JlZi50b0RpcmVjdGlvbixcbiAgICAgIHRvRGlyZWN0aW9uID0gX3JlZiR0b0RpcmVjdGlvbiA9PT0gdm9pZCAwID8gJycgOiBfcmVmJHRvRGlyZWN0aW9uO1xuXG4gIGlmICghY29sb3JTdG9wcyB8fCBjb2xvclN0b3BzLmxlbmd0aCA8IDIpIHtcbiAgICB0aHJvdyBuZXcgUG9saXNoZWRFcnJvcig1Nik7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGJhY2tncm91bmRDb2xvcjogZmFsbGJhY2sgfHwgY29sb3JTdG9wc1swXS5zcGxpdCgnICcpWzBdLFxuICAgIGJhY2tncm91bmRJbWFnZTogY29uc3RydWN0R3JhZGllbnRWYWx1ZShfdGVtcGxhdGVPYmplY3QoKSwgdG9EaXJlY3Rpb24sIGNvbG9yU3RvcHMuam9pbignLCAnKSlcbiAgfTtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplKCkge1xuICB2YXIgX3JlZjtcblxuICByZXR1cm4gWyhfcmVmID0ge1xuICAgIGh0bWw6IHtcbiAgICAgIGxpbmVIZWlnaHQ6ICcxLjE1JyxcbiAgICAgIHRleHRTaXplQWRqdXN0OiAnMTAwJSdcbiAgICB9LFxuICAgIGJvZHk6IHtcbiAgICAgIG1hcmdpbjogJzAnXG4gICAgfSxcbiAgICBoMToge1xuICAgICAgZm9udFNpemU6ICcyZW0nLFxuICAgICAgbWFyZ2luOiAnMC42N2VtIDAnXG4gICAgfSxcbiAgICBocjoge1xuICAgICAgYm94U2l6aW5nOiAnY29udGVudC1ib3gnLFxuICAgICAgaGVpZ2h0OiAnMCcsXG4gICAgICBvdmVyZmxvdzogJ3Zpc2libGUnXG4gICAgfSxcbiAgICBwcmU6IHtcbiAgICAgIGZvbnRGYW1pbHk6ICdtb25vc3BhY2UsIG1vbm9zcGFjZScsXG4gICAgICBmb250U2l6ZTogJzFlbSdcbiAgICB9LFxuICAgIGE6IHtcbiAgICAgIGJhY2tncm91bmRDb2xvcjogJ3RyYW5zcGFyZW50J1xuICAgIH0sXG4gICAgJ2FiYnJbdGl0bGVdJzoge1xuICAgICAgYm9yZGVyQm90dG9tOiAnbm9uZScsXG4gICAgICB0ZXh0RGVjb3JhdGlvbjogJ3VuZGVybGluZSdcbiAgICB9XG4gIH0sIF9yZWZbXCJiLFxcbiAgICBzdHJvbmdcIl0gPSB7XG4gICAgZm9udFdlaWdodDogJ2JvbGRlcidcbiAgfSwgX3JlZltcImNvZGUsXFxuICAgIGtiZCxcXG4gICAgc2FtcFwiXSA9IHtcbiAgICBmb250RmFtaWx5OiAnbW9ub3NwYWNlLCBtb25vc3BhY2UnLFxuICAgIGZvbnRTaXplOiAnMWVtJ1xuICB9LCBfcmVmLnNtYWxsID0ge1xuICAgIGZvbnRTaXplOiAnODAlJ1xuICB9LCBfcmVmW1wic3ViLFxcbiAgICBzdXBcIl0gPSB7XG4gICAgZm9udFNpemU6ICc3NSUnLFxuICAgIGxpbmVIZWlnaHQ6ICcwJyxcbiAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICB2ZXJ0aWNhbEFsaWduOiAnYmFzZWxpbmUnXG4gIH0sIF9yZWYuc3ViID0ge1xuICAgIGJvdHRvbTogJy0wLjI1ZW0nXG4gIH0sIF9yZWYuc3VwID0ge1xuICAgIHRvcDogJy0wLjVlbSdcbiAgfSwgX3JlZi5pbWcgPSB7XG4gICAgYm9yZGVyU3R5bGU6ICdub25lJ1xuICB9LCBfcmVmW1wiYnV0dG9uLFxcbiAgICBpbnB1dCxcXG4gICAgb3B0Z3JvdXAsXFxuICAgIHNlbGVjdCxcXG4gICAgdGV4dGFyZWFcIl0gPSB7XG4gICAgZm9udEZhbWlseTogJ2luaGVyaXQnLFxuICAgIGZvbnRTaXplOiAnMTAwJScsXG4gICAgbGluZUhlaWdodDogJzEuMTUnLFxuICAgIG1hcmdpbjogJzAnXG4gIH0sIF9yZWZbXCJidXR0b24sXFxuICAgIGlucHV0XCJdID0ge1xuICAgIG92ZXJmbG93OiAndmlzaWJsZSdcbiAgfSwgX3JlZltcImJ1dHRvbixcXG4gICAgc2VsZWN0XCJdID0ge1xuICAgIHRleHRUcmFuc2Zvcm06ICdub25lJ1xuICB9LCBfcmVmW1wiYnV0dG9uLFxcbiAgICBodG1sIFt0eXBlPVxcXCJidXR0b25cXFwiXSxcXG4gICAgW3R5cGU9XFxcInJlc2V0XFxcIl0sXFxuICAgIFt0eXBlPVxcXCJzdWJtaXRcXFwiXVwiXSA9IHtcbiAgICBXZWJraXRBcHBlYXJhbmNlOiAnYnV0dG9uJ1xuICB9LCBfcmVmW1wiYnV0dG9uOjotbW96LWZvY3VzLWlubmVyLFxcbiAgICBbdHlwZT1cXFwiYnV0dG9uXFxcIl06Oi1tb3otZm9jdXMtaW5uZXIsXFxuICAgIFt0eXBlPVxcXCJyZXNldFxcXCJdOjotbW96LWZvY3VzLWlubmVyLFxcbiAgICBbdHlwZT1cXFwic3VibWl0XFxcIl06Oi1tb3otZm9jdXMtaW5uZXJcIl0gPSB7XG4gICAgYm9yZGVyU3R5bGU6ICdub25lJyxcbiAgICBwYWRkaW5nOiAnMCdcbiAgfSwgX3JlZltcImJ1dHRvbjotbW96LWZvY3VzcmluZyxcXG4gICAgW3R5cGU9XFxcImJ1dHRvblxcXCJdOi1tb3otZm9jdXNyaW5nLFxcbiAgICBbdHlwZT1cXFwicmVzZXRcXFwiXTotbW96LWZvY3VzcmluZyxcXG4gICAgW3R5cGU9XFxcInN1Ym1pdFxcXCJdOi1tb3otZm9jdXNyaW5nXCJdID0ge1xuICAgIG91dGxpbmU6ICcxcHggZG90dGVkIEJ1dHRvblRleHQnXG4gIH0sIF9yZWYuZmllbGRzZXQgPSB7XG4gICAgcGFkZGluZzogJzAuMzVlbSAwLjYyNWVtIDAuNzVlbSdcbiAgfSwgX3JlZi5sZWdlbmQgPSB7XG4gICAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCcsXG4gICAgY29sb3I6ICdpbmhlcml0JyxcbiAgICBkaXNwbGF5OiAndGFibGUnLFxuICAgIG1heFdpZHRoOiAnMTAwJScsXG4gICAgcGFkZGluZzogJzAnLFxuICAgIHdoaXRlU3BhY2U6ICdub3JtYWwnXG4gIH0sIF9yZWYucHJvZ3Jlc3MgPSB7XG4gICAgdmVydGljYWxBbGlnbjogJ2Jhc2VsaW5lJ1xuICB9LCBfcmVmLnRleHRhcmVhID0ge1xuICAgIG92ZXJmbG93OiAnYXV0bydcbiAgfSwgX3JlZltcIlt0eXBlPVxcXCJjaGVja2JveFxcXCJdLFxcbiAgICBbdHlwZT1cXFwicmFkaW9cXFwiXVwiXSA9IHtcbiAgICBib3hTaXppbmc6ICdib3JkZXItYm94JyxcbiAgICBwYWRkaW5nOiAnMCdcbiAgfSwgX3JlZltcIlt0eXBlPVxcXCJudW1iZXJcXFwiXTo6LXdlYmtpdC1pbm5lci1zcGluLWJ1dHRvbixcXG4gICAgW3R5cGU9XFxcIm51bWJlclxcXCJdOjotd2Via2l0LW91dGVyLXNwaW4tYnV0dG9uXCJdID0ge1xuICAgIGhlaWdodDogJ2F1dG8nXG4gIH0sIF9yZWZbJ1t0eXBlPVwic2VhcmNoXCJdJ10gPSB7XG4gICAgV2Via2l0QXBwZWFyYW5jZTogJ3RleHRmaWVsZCcsXG4gICAgb3V0bGluZU9mZnNldDogJy0ycHgnXG4gIH0sIF9yZWZbJ1t0eXBlPVwic2VhcmNoXCJdOjotd2Via2l0LXNlYXJjaC1kZWNvcmF0aW9uJ10gPSB7XG4gICAgV2Via2l0QXBwZWFyYW5jZTogJ25vbmUnXG4gIH0sIF9yZWZbJzo6LXdlYmtpdC1maWxlLXVwbG9hZC1idXR0b24nXSA9IHtcbiAgICBXZWJraXRBcHBlYXJhbmNlOiAnYnV0dG9uJyxcbiAgICBmb250OiAnaW5oZXJpdCdcbiAgfSwgX3JlZi5kZXRhaWxzID0ge1xuICAgIGRpc3BsYXk6ICdibG9jaydcbiAgfSwgX3JlZi5zdW1tYXJ5ID0ge1xuICAgIGRpc3BsYXk6ICdsaXN0LWl0ZW0nXG4gIH0sIF9yZWYudGVtcGxhdGUgPSB7XG4gICAgZGlzcGxheTogJ25vbmUnXG4gIH0sIF9yZWZbJ1toaWRkZW5dJ10gPSB7XG4gICAgZGlzcGxheTogJ25vbmUnXG4gIH0sIF9yZWYpLCB7XG4gICAgJ2FiYnJbdGl0bGVdJzoge1xuICAgICAgdGV4dERlY29yYXRpb246ICd1bmRlcmxpbmUgZG90dGVkJ1xuICAgIH1cbiAgfV07XG59XG5cbmZ1bmN0aW9uIF90ZW1wbGF0ZU9iamVjdCQxKCkge1xuICB2YXIgZGF0YSA9IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWxMb29zZShbXCJyYWRpYWwtZ3JhZGllbnQoXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiKVwiXSk7XG5cbiAgX3RlbXBsYXRlT2JqZWN0JDEgPSBmdW5jdGlvbiBfdGVtcGxhdGVPYmplY3QoKSB7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH07XG5cbiAgcmV0dXJuIGRhdGE7XG59XG5mdW5jdGlvbiByYWRpYWxHcmFkaWVudChfcmVmKSB7XG4gIHZhciBjb2xvclN0b3BzID0gX3JlZi5jb2xvclN0b3BzLFxuICAgICAgX3JlZiRleHRlbnQgPSBfcmVmLmV4dGVudCxcbiAgICAgIGV4dGVudCA9IF9yZWYkZXh0ZW50ID09PSB2b2lkIDAgPyAnJyA6IF9yZWYkZXh0ZW50LFxuICAgICAgZmFsbGJhY2sgPSBfcmVmLmZhbGxiYWNrLFxuICAgICAgX3JlZiRwb3NpdGlvbiA9IF9yZWYucG9zaXRpb24sXG4gICAgICBwb3NpdGlvbiA9IF9yZWYkcG9zaXRpb24gPT09IHZvaWQgMCA/ICcnIDogX3JlZiRwb3NpdGlvbixcbiAgICAgIF9yZWYkc2hhcGUgPSBfcmVmLnNoYXBlLFxuICAgICAgc2hhcGUgPSBfcmVmJHNoYXBlID09PSB2b2lkIDAgPyAnJyA6IF9yZWYkc2hhcGU7XG5cbiAgaWYgKCFjb2xvclN0b3BzIHx8IGNvbG9yU3RvcHMubGVuZ3RoIDwgMikge1xuICAgIHRocm93IG5ldyBQb2xpc2hlZEVycm9yKDU3KTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgYmFja2dyb3VuZENvbG9yOiBmYWxsYmFjayB8fCBjb2xvclN0b3BzWzBdLnNwbGl0KCcgJylbMF0sXG4gICAgYmFja2dyb3VuZEltYWdlOiBjb25zdHJ1Y3RHcmFkaWVudFZhbHVlKF90ZW1wbGF0ZU9iamVjdCQxKCksIHBvc2l0aW9uLCBzaGFwZSwgZXh0ZW50LCBjb2xvclN0b3BzLmpvaW4oJywgJykpXG4gIH07XG59XG5cbmZ1bmN0aW9uIHJldGluYUltYWdlKGZpbGVuYW1lLCBiYWNrZ3JvdW5kU2l6ZSwgZXh0ZW5zaW9uLCByZXRpbmFGaWxlbmFtZSwgcmV0aW5hU3VmZml4KSB7XG4gIHZhciBfcmVmO1xuXG4gIGlmIChleHRlbnNpb24gPT09IHZvaWQgMCkge1xuICAgIGV4dGVuc2lvbiA9ICdwbmcnO1xuICB9XG5cbiAgaWYgKHJldGluYVN1ZmZpeCA9PT0gdm9pZCAwKSB7XG4gICAgcmV0aW5hU3VmZml4ID0gJ18yeCc7XG4gIH1cblxuICBpZiAoIWZpbGVuYW1lKSB7XG4gICAgdGhyb3cgbmV3IFBvbGlzaGVkRXJyb3IoNTgpO1xuICB9IC8vIFJlcGxhY2UgdGhlIGRvdCBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBwYXNzZWQgZXh0ZW5zaW9uIGlmIG9uZSBleGlzdHNcblxuXG4gIHZhciBleHQgPSBleHRlbnNpb24ucmVwbGFjZSgvXlxcLi8sICcnKTtcbiAgdmFyIHJGaWxlbmFtZSA9IHJldGluYUZpbGVuYW1lID8gcmV0aW5hRmlsZW5hbWUgKyBcIi5cIiArIGV4dCA6IFwiXCIgKyBmaWxlbmFtZSArIHJldGluYVN1ZmZpeCArIFwiLlwiICsgZXh0O1xuICByZXR1cm4gX3JlZiA9IHtcbiAgICBiYWNrZ3JvdW5kSW1hZ2U6IFwidXJsKFwiICsgZmlsZW5hbWUgKyBcIi5cIiArIGV4dCArIFwiKVwiXG4gIH0sIF9yZWZbaGlEUEkoKV0gPSBfZXh0ZW5kcyh7XG4gICAgYmFja2dyb3VuZEltYWdlOiBcInVybChcIiArIHJGaWxlbmFtZSArIFwiKVwiXG4gIH0sIGJhY2tncm91bmRTaXplID8ge1xuICAgIGJhY2tncm91bmRTaXplOiBiYWNrZ3JvdW5kU2l6ZVxuICB9IDoge30pLCBfcmVmO1xufVxuXG52YXIgZnVuY3Rpb25zTWFwID0ge1xuICBlYXNlSW5CYWNrOiAnY3ViaWMtYmV6aWVyKDAuNjAwLCAtMC4yODAsIDAuNzM1LCAwLjA0NSknLFxuICBlYXNlSW5DaXJjOiAnY3ViaWMtYmV6aWVyKDAuNjAwLCAgMC4wNDAsIDAuOTgwLCAwLjMzNSknLFxuICBlYXNlSW5DdWJpYzogJ2N1YmljLWJlemllcigwLjU1MCwgIDAuMDU1LCAwLjY3NSwgMC4xOTApJyxcbiAgZWFzZUluRXhwbzogJ2N1YmljLWJlemllcigwLjk1MCwgIDAuMDUwLCAwLjc5NSwgMC4wMzUpJyxcbiAgZWFzZUluUXVhZDogJ2N1YmljLWJlemllcigwLjU1MCwgIDAuMDg1LCAwLjY4MCwgMC41MzApJyxcbiAgZWFzZUluUXVhcnQ6ICdjdWJpYy1iZXppZXIoMC44OTUsICAwLjAzMCwgMC42ODUsIDAuMjIwKScsXG4gIGVhc2VJblF1aW50OiAnY3ViaWMtYmV6aWVyKDAuNzU1LCAgMC4wNTAsIDAuODU1LCAwLjA2MCknLFxuICBlYXNlSW5TaW5lOiAnY3ViaWMtYmV6aWVyKDAuNDcwLCAgMC4wMDAsIDAuNzQ1LCAwLjcxNSknLFxuICBlYXNlT3V0QmFjazogJ2N1YmljLWJlemllcigwLjE3NSwgIDAuODg1LCAwLjMyMCwgMS4yNzUpJyxcbiAgZWFzZU91dEN1YmljOiAnY3ViaWMtYmV6aWVyKDAuMjE1LCAgMC42MTAsIDAuMzU1LCAxLjAwMCknLFxuICBlYXNlT3V0Q2lyYzogJ2N1YmljLWJlemllcigwLjA3NSwgIDAuODIwLCAwLjE2NSwgMS4wMDApJyxcbiAgZWFzZU91dEV4cG86ICdjdWJpYy1iZXppZXIoMC4xOTAsICAxLjAwMCwgMC4yMjAsIDEuMDAwKScsXG4gIGVhc2VPdXRRdWFkOiAnY3ViaWMtYmV6aWVyKDAuMjUwLCAgMC40NjAsIDAuNDUwLCAwLjk0MCknLFxuICBlYXNlT3V0UXVhcnQ6ICdjdWJpYy1iZXppZXIoMC4xNjUsICAwLjg0MCwgMC40NDAsIDEuMDAwKScsXG4gIGVhc2VPdXRRdWludDogJ2N1YmljLWJlemllcigwLjIzMCwgIDEuMDAwLCAwLjMyMCwgMS4wMDApJyxcbiAgZWFzZU91dFNpbmU6ICdjdWJpYy1iZXppZXIoMC4zOTAsICAwLjU3NSwgMC41NjUsIDEuMDAwKScsXG4gIGVhc2VJbk91dEJhY2s6ICdjdWJpYy1iZXppZXIoMC42ODAsIC0wLjU1MCwgMC4yNjUsIDEuNTUwKScsXG4gIGVhc2VJbk91dENpcmM6ICdjdWJpYy1iZXppZXIoMC43ODUsICAwLjEzNSwgMC4xNTAsIDAuODYwKScsXG4gIGVhc2VJbk91dEN1YmljOiAnY3ViaWMtYmV6aWVyKDAuNjQ1LCAgMC4wNDUsIDAuMzU1LCAxLjAwMCknLFxuICBlYXNlSW5PdXRFeHBvOiAnY3ViaWMtYmV6aWVyKDEuMDAwLCAgMC4wMDAsIDAuMDAwLCAxLjAwMCknLFxuICBlYXNlSW5PdXRRdWFkOiAnY3ViaWMtYmV6aWVyKDAuNDU1LCAgMC4wMzAsIDAuNTE1LCAwLjk1NSknLFxuICBlYXNlSW5PdXRRdWFydDogJ2N1YmljLWJlemllcigwLjc3MCwgIDAuMDAwLCAwLjE3NSwgMS4wMDApJyxcbiAgZWFzZUluT3V0UXVpbnQ6ICdjdWJpYy1iZXppZXIoMC44NjAsICAwLjAwMCwgMC4wNzAsIDEuMDAwKScsXG4gIGVhc2VJbk91dFNpbmU6ICdjdWJpYy1iZXppZXIoMC40NDUsICAwLjA1MCwgMC41NTAsIDAuOTUwKSdcbn07XG4vKiBlc2xpbnQtZW5hYmxlIGtleS1zcGFjaW5nICovXG5cbmZ1bmN0aW9uIGdldFRpbWluZ0Z1bmN0aW9uKGZ1bmN0aW9uTmFtZSkge1xuICByZXR1cm4gZnVuY3Rpb25zTWFwW2Z1bmN0aW9uTmFtZV07XG59XG4vKipcbiAqIFN0cmluZyB0byByZXByZXNlbnQgY29tbW9uIGVhc2luZyBmdW5jdGlvbnMgYXMgZGVtb25zdHJhdGVkIGhlcmU6IChnaXRodWIuY29tL2phdWtpYS9lYXNpZSkuXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFN0eWxlcyBhcyBvYmplY3QgdXNhZ2VcbiAqIGNvbnN0IHN0eWxlcyA9IHtcbiAqICAgJ3RyYW5zaXRpb25UaW1pbmdGdW5jdGlvbic6IHRpbWluZ0Z1bmN0aW9ucygnZWFzZUluUXVhZCcpXG4gKiB9XG4gKlxuICogLy8gc3R5bGVkLWNvbXBvbmVudHMgdXNhZ2VcbiAqICBjb25zdCBkaXYgPSBzdHlsZWQuZGl2YFxuICogICB0cmFuc2l0aW9uVGltaW5nRnVuY3Rpb246ICR7dGltaW5nRnVuY3Rpb25zKCdlYXNlSW5RdWFkJyl9O1xuICogYFxuICpcbiAqIC8vIENTUyBhcyBKUyBPdXRwdXRcbiAqXG4gKiAnZGl2Jzoge1xuICogICAndHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uJzogJ2N1YmljLWJlemllcigwLjU1MCwgIDAuMDg1LCAwLjY4MCwgMC41MzApJyxcbiAqIH1cbiAqL1xuXG5cbmZ1bmN0aW9uIHRpbWluZ0Z1bmN0aW9ucyh0aW1pbmdGdW5jdGlvbikge1xuICByZXR1cm4gZ2V0VGltaW5nRnVuY3Rpb24odGltaW5nRnVuY3Rpb24pO1xufVxuXG52YXIgZ2V0Qm9yZGVyV2lkdGggPSBmdW5jdGlvbiBnZXRCb3JkZXJXaWR0aChwb2ludGluZ0RpcmVjdGlvbiwgaGVpZ2h0LCB3aWR0aCkge1xuICB2YXIgZnVsbFdpZHRoID0gXCJcIiArIHdpZHRoWzBdICsgKHdpZHRoWzFdIHx8ICcnKTtcbiAgdmFyIGhhbGZXaWR0aCA9IFwiXCIgKyB3aWR0aFswXSAvIDIgKyAod2lkdGhbMV0gfHwgJycpO1xuICB2YXIgZnVsbEhlaWdodCA9IFwiXCIgKyBoZWlnaHRbMF0gKyAoaGVpZ2h0WzFdIHx8ICcnKTtcbiAgdmFyIGhhbGZIZWlnaHQgPSBcIlwiICsgaGVpZ2h0WzBdIC8gMiArIChoZWlnaHRbMV0gfHwgJycpO1xuXG4gIHN3aXRjaCAocG9pbnRpbmdEaXJlY3Rpb24pIHtcbiAgICBjYXNlICd0b3AnOlxuICAgICAgcmV0dXJuIFwiMCBcIiArIGhhbGZXaWR0aCArIFwiIFwiICsgZnVsbEhlaWdodCArIFwiIFwiICsgaGFsZldpZHRoO1xuXG4gICAgY2FzZSAndG9wTGVmdCc6XG4gICAgICByZXR1cm4gZnVsbFdpZHRoICsgXCIgXCIgKyBmdWxsSGVpZ2h0ICsgXCIgMCAwXCI7XG5cbiAgICBjYXNlICdsZWZ0JzpcbiAgICAgIHJldHVybiBoYWxmSGVpZ2h0ICsgXCIgXCIgKyBmdWxsV2lkdGggKyBcIiBcIiArIGhhbGZIZWlnaHQgKyBcIiAwXCI7XG5cbiAgICBjYXNlICdib3R0b21MZWZ0JzpcbiAgICAgIHJldHVybiBmdWxsV2lkdGggKyBcIiAwIDAgXCIgKyBmdWxsSGVpZ2h0O1xuXG4gICAgY2FzZSAnYm90dG9tJzpcbiAgICAgIHJldHVybiBmdWxsSGVpZ2h0ICsgXCIgXCIgKyBoYWxmV2lkdGggKyBcIiAwIFwiICsgaGFsZldpZHRoO1xuXG4gICAgY2FzZSAnYm90dG9tUmlnaHQnOlxuICAgICAgcmV0dXJuIFwiMCAwIFwiICsgZnVsbFdpZHRoICsgXCIgXCIgKyBmdWxsSGVpZ2h0O1xuXG4gICAgY2FzZSAncmlnaHQnOlxuICAgICAgcmV0dXJuIGhhbGZIZWlnaHQgKyBcIiAwIFwiICsgaGFsZkhlaWdodCArIFwiIFwiICsgZnVsbFdpZHRoO1xuXG4gICAgY2FzZSAndG9wUmlnaHQnOlxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gXCIwIFwiICsgZnVsbFdpZHRoICsgXCIgXCIgKyBmdWxsSGVpZ2h0ICsgXCIgMFwiO1xuICB9XG59O1xuXG52YXIgZ2V0Qm9yZGVyQ29sb3IgPSBmdW5jdGlvbiBnZXRCb3JkZXJDb2xvcihwb2ludGluZ0RpcmVjdGlvbiwgZm9yZWdyb3VuZENvbG9yLCBiYWNrZ3JvdW5kQ29sb3IpIHtcbiAgc3dpdGNoIChwb2ludGluZ0RpcmVjdGlvbikge1xuICAgIGNhc2UgJ3RvcCc6XG4gICAgY2FzZSAnYm90dG9tUmlnaHQnOlxuICAgICAgcmV0dXJuIGJhY2tncm91bmRDb2xvciArIFwiIFwiICsgYmFja2dyb3VuZENvbG9yICsgXCIgXCIgKyBmb3JlZ3JvdW5kQ29sb3IgKyBcIiBcIiArIGJhY2tncm91bmRDb2xvcjtcblxuICAgIGNhc2UgJ3JpZ2h0JzpcbiAgICBjYXNlICdib3R0b21MZWZ0JzpcbiAgICAgIHJldHVybiBiYWNrZ3JvdW5kQ29sb3IgKyBcIiBcIiArIGJhY2tncm91bmRDb2xvciArIFwiIFwiICsgYmFja2dyb3VuZENvbG9yICsgXCIgXCIgKyBmb3JlZ3JvdW5kQ29sb3I7XG5cbiAgICBjYXNlICdib3R0b20nOlxuICAgIGNhc2UgJ3RvcExlZnQnOlxuICAgICAgcmV0dXJuIGZvcmVncm91bmRDb2xvciArIFwiIFwiICsgYmFja2dyb3VuZENvbG9yICsgXCIgXCIgKyBiYWNrZ3JvdW5kQ29sb3IgKyBcIiBcIiArIGJhY2tncm91bmRDb2xvcjtcblxuICAgIGNhc2UgJ2xlZnQnOlxuICAgIGNhc2UgJ3RvcFJpZ2h0JzpcbiAgICAgIHJldHVybiBiYWNrZ3JvdW5kQ29sb3IgKyBcIiBcIiArIGZvcmVncm91bmRDb2xvciArIFwiIFwiICsgYmFja2dyb3VuZENvbG9yICsgXCIgXCIgKyBiYWNrZ3JvdW5kQ29sb3I7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IFBvbGlzaGVkRXJyb3IoNTkpO1xuICB9XG59O1xuLyoqXG4gKiBDU1MgdG8gcmVwcmVzZW50IHRyaWFuZ2xlIHdpdGggYW55IHBvaW50aW5nIGRpcmVjdGlvbiB3aXRoIGFuIG9wdGlvbmFsIGJhY2tncm91bmQgY29sb3IuXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFN0eWxlcyBhcyBvYmplY3QgdXNhZ2VcbiAqXG4gKiBjb25zdCBzdHlsZXMgPSB7XG4gKiAgIC4uLnRyaWFuZ2xlKHsgcG9pbnRpbmdEaXJlY3Rpb246ICdyaWdodCcsIHdpZHRoOiAnMTAwcHgnLCBoZWlnaHQ6ICcxMDBweCcsIGZvcmVncm91bmRDb2xvcjogJ3JlZCcgfSlcbiAqIH1cbiAqXG4gKlxuICogLy8gc3R5bGVkLWNvbXBvbmVudHMgdXNhZ2VcbiAqIGNvbnN0IGRpdiA9IHN0eWxlZC5kaXZgXG4gKiAgICR7dHJpYW5nbGUoeyBwb2ludGluZ0RpcmVjdGlvbjogJ3JpZ2h0Jywgd2lkdGg6ICcxMDBweCcsIGhlaWdodDogJzEwMHB4JywgZm9yZWdyb3VuZENvbG9yOiAncmVkJyB9KX1cbiAqXG4gKlxuICogLy8gQ1NTIGFzIEpTIE91dHB1dFxuICpcbiAqIGRpdjoge1xuICogICdib3JkZXJDb2xvcic6ICd0cmFuc3BhcmVudCB0cmFuc3BhcmVudCB0cmFuc3BhcmVudCByZWQnLFxuICogICdib3JkZXJTdHlsZSc6ICdzb2xpZCcsXG4gKiAgJ2JvcmRlcldpZHRoJzogJzUwcHggMCA1MHB4IDEwMHB4JyxcbiAqICAnaGVpZ2h0JzogJzAnLFxuICogICd3aWR0aCc6ICcwJyxcbiAqIH1cbiAqL1xuXG5cbmZ1bmN0aW9uIHRyaWFuZ2xlKF9yZWYpIHtcbiAgdmFyIHBvaW50aW5nRGlyZWN0aW9uID0gX3JlZi5wb2ludGluZ0RpcmVjdGlvbixcbiAgICAgIGhlaWdodCA9IF9yZWYuaGVpZ2h0LFxuICAgICAgd2lkdGggPSBfcmVmLndpZHRoLFxuICAgICAgZm9yZWdyb3VuZENvbG9yID0gX3JlZi5mb3JlZ3JvdW5kQ29sb3IsXG4gICAgICBfcmVmJGJhY2tncm91bmRDb2xvciA9IF9yZWYuYmFja2dyb3VuZENvbG9yLFxuICAgICAgYmFja2dyb3VuZENvbG9yID0gX3JlZiRiYWNrZ3JvdW5kQ29sb3IgPT09IHZvaWQgMCA/ICd0cmFuc3BhcmVudCcgOiBfcmVmJGJhY2tncm91bmRDb2xvcjtcbiAgdmFyIHdpZHRoQW5kVW5pdCA9IHN0cmlwVW5pdCh3aWR0aCwgdHJ1ZSk7XG4gIHZhciBoZWlnaHRBbmRVbml0ID0gc3RyaXBVbml0KGhlaWdodCwgdHJ1ZSk7XG5cbiAgaWYgKGlzTmFOKGhlaWdodEFuZFVuaXRbMF0pIHx8IGlzTmFOKHdpZHRoQW5kVW5pdFswXSkpIHtcbiAgICB0aHJvdyBuZXcgUG9saXNoZWRFcnJvcig2MCk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHdpZHRoOiAnMCcsXG4gICAgaGVpZ2h0OiAnMCcsXG4gICAgYm9yZGVyQ29sb3I6IGdldEJvcmRlckNvbG9yKHBvaW50aW5nRGlyZWN0aW9uLCBmb3JlZ3JvdW5kQ29sb3IsIGJhY2tncm91bmRDb2xvciksXG4gICAgYm9yZGVyU3R5bGU6ICdzb2xpZCcsXG4gICAgYm9yZGVyV2lkdGg6IGdldEJvcmRlcldpZHRoKHBvaW50aW5nRGlyZWN0aW9uLCBoZWlnaHRBbmRVbml0LCB3aWR0aEFuZFVuaXQpXG4gIH07XG59XG5cbmZ1bmN0aW9uIHdvcmRXcmFwKHdyYXApIHtcbiAgaWYgKHdyYXAgPT09IHZvaWQgMCkge1xuICAgIHdyYXAgPSAnYnJlYWstd29yZCc7XG4gIH1cblxuICB2YXIgd29yZEJyZWFrID0gd3JhcCA9PT0gJ2JyZWFrLXdvcmQnID8gJ2JyZWFrLWFsbCcgOiB3cmFwO1xuICByZXR1cm4ge1xuICAgIG92ZXJmbG93V3JhcDogd3JhcCxcbiAgICB3b3JkV3JhcDogd3JhcCxcbiAgICB3b3JkQnJlYWs6IHdvcmRCcmVha1xuICB9O1xufVxuXG5mdW5jdGlvbiBjb2xvclRvSW50KGNvbG9yKSB7XG4gIHJldHVybiBNYXRoLnJvdW5kKGNvbG9yICogMjU1KTtcbn1cblxuZnVuY3Rpb24gY29udmVydFRvSW50KHJlZCwgZ3JlZW4sIGJsdWUpIHtcbiAgcmV0dXJuIGNvbG9yVG9JbnQocmVkKSArIFwiLFwiICsgY29sb3JUb0ludChncmVlbikgKyBcIixcIiArIGNvbG9yVG9JbnQoYmx1ZSk7XG59XG5cbmZ1bmN0aW9uIGhzbFRvUmdiKGh1ZSwgc2F0dXJhdGlvbiwgbGlnaHRuZXNzLCBjb252ZXJ0KSB7XG4gIGlmIChjb252ZXJ0ID09PSB2b2lkIDApIHtcbiAgICBjb252ZXJ0ID0gY29udmVydFRvSW50O1xuICB9XG5cbiAgaWYgKHNhdHVyYXRpb24gPT09IDApIHtcbiAgICAvLyBhY2hyb21hdGljXG4gICAgcmV0dXJuIGNvbnZlcnQobGlnaHRuZXNzLCBsaWdodG5lc3MsIGxpZ2h0bmVzcyk7XG4gIH0gLy8gZm9ybXVsYWUgZnJvbSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9IU0xfYW5kX0hTVlxuXG5cbiAgdmFyIGh1ZVByaW1lID0gKGh1ZSAlIDM2MCArIDM2MCkgJSAzNjAgLyA2MDtcbiAgdmFyIGNocm9tYSA9ICgxIC0gTWF0aC5hYnMoMiAqIGxpZ2h0bmVzcyAtIDEpKSAqIHNhdHVyYXRpb247XG4gIHZhciBzZWNvbmRDb21wb25lbnQgPSBjaHJvbWEgKiAoMSAtIE1hdGguYWJzKGh1ZVByaW1lICUgMiAtIDEpKTtcbiAgdmFyIHJlZCA9IDA7XG4gIHZhciBncmVlbiA9IDA7XG4gIHZhciBibHVlID0gMDtcblxuICBpZiAoaHVlUHJpbWUgPj0gMCAmJiBodWVQcmltZSA8IDEpIHtcbiAgICByZWQgPSBjaHJvbWE7XG4gICAgZ3JlZW4gPSBzZWNvbmRDb21wb25lbnQ7XG4gIH0gZWxzZSBpZiAoaHVlUHJpbWUgPj0gMSAmJiBodWVQcmltZSA8IDIpIHtcbiAgICByZWQgPSBzZWNvbmRDb21wb25lbnQ7XG4gICAgZ3JlZW4gPSBjaHJvbWE7XG4gIH0gZWxzZSBpZiAoaHVlUHJpbWUgPj0gMiAmJiBodWVQcmltZSA8IDMpIHtcbiAgICBncmVlbiA9IGNocm9tYTtcbiAgICBibHVlID0gc2Vjb25kQ29tcG9uZW50O1xuICB9IGVsc2UgaWYgKGh1ZVByaW1lID49IDMgJiYgaHVlUHJpbWUgPCA0KSB7XG4gICAgZ3JlZW4gPSBzZWNvbmRDb21wb25lbnQ7XG4gICAgYmx1ZSA9IGNocm9tYTtcbiAgfSBlbHNlIGlmIChodWVQcmltZSA+PSA0ICYmIGh1ZVByaW1lIDwgNSkge1xuICAgIHJlZCA9IHNlY29uZENvbXBvbmVudDtcbiAgICBibHVlID0gY2hyb21hO1xuICB9IGVsc2UgaWYgKGh1ZVByaW1lID49IDUgJiYgaHVlUHJpbWUgPCA2KSB7XG4gICAgcmVkID0gY2hyb21hO1xuICAgIGJsdWUgPSBzZWNvbmRDb21wb25lbnQ7XG4gIH1cblxuICB2YXIgbGlnaHRuZXNzTW9kaWZpY2F0aW9uID0gbGlnaHRuZXNzIC0gY2hyb21hIC8gMjtcbiAgdmFyIGZpbmFsUmVkID0gcmVkICsgbGlnaHRuZXNzTW9kaWZpY2F0aW9uO1xuICB2YXIgZmluYWxHcmVlbiA9IGdyZWVuICsgbGlnaHRuZXNzTW9kaWZpY2F0aW9uO1xuICB2YXIgZmluYWxCbHVlID0gYmx1ZSArIGxpZ2h0bmVzc01vZGlmaWNhdGlvbjtcbiAgcmV0dXJuIGNvbnZlcnQoZmluYWxSZWQsIGZpbmFsR3JlZW4sIGZpbmFsQmx1ZSk7XG59XG5cbnZhciBuYW1lZENvbG9yTWFwID0ge1xuICBhbGljZWJsdWU6ICdmMGY4ZmYnLFxuICBhbnRpcXVld2hpdGU6ICdmYWViZDcnLFxuICBhcXVhOiAnMDBmZmZmJyxcbiAgYXF1YW1hcmluZTogJzdmZmZkNCcsXG4gIGF6dXJlOiAnZjBmZmZmJyxcbiAgYmVpZ2U6ICdmNWY1ZGMnLFxuICBiaXNxdWU6ICdmZmU0YzQnLFxuICBibGFjazogJzAwMCcsXG4gIGJsYW5jaGVkYWxtb25kOiAnZmZlYmNkJyxcbiAgYmx1ZTogJzAwMDBmZicsXG4gIGJsdWV2aW9sZXQ6ICc4YTJiZTInLFxuICBicm93bjogJ2E1MmEyYScsXG4gIGJ1cmx5d29vZDogJ2RlYjg4NycsXG4gIGNhZGV0Ymx1ZTogJzVmOWVhMCcsXG4gIGNoYXJ0cmV1c2U6ICc3ZmZmMDAnLFxuICBjaG9jb2xhdGU6ICdkMjY5MWUnLFxuICBjb3JhbDogJ2ZmN2Y1MCcsXG4gIGNvcm5mbG93ZXJibHVlOiAnNjQ5NWVkJyxcbiAgY29ybnNpbGs6ICdmZmY4ZGMnLFxuICBjcmltc29uOiAnZGMxNDNjJyxcbiAgY3lhbjogJzAwZmZmZicsXG4gIGRhcmtibHVlOiAnMDAwMDhiJyxcbiAgZGFya2N5YW46ICcwMDhiOGInLFxuICBkYXJrZ29sZGVucm9kOiAnYjg4NjBiJyxcbiAgZGFya2dyYXk6ICdhOWE5YTknLFxuICBkYXJrZ3JlZW46ICcwMDY0MDAnLFxuICBkYXJrZ3JleTogJ2E5YTlhOScsXG4gIGRhcmtraGFraTogJ2JkYjc2YicsXG4gIGRhcmttYWdlbnRhOiAnOGIwMDhiJyxcbiAgZGFya29saXZlZ3JlZW46ICc1NTZiMmYnLFxuICBkYXJrb3JhbmdlOiAnZmY4YzAwJyxcbiAgZGFya29yY2hpZDogJzk5MzJjYycsXG4gIGRhcmtyZWQ6ICc4YjAwMDAnLFxuICBkYXJrc2FsbW9uOiAnZTk5NjdhJyxcbiAgZGFya3NlYWdyZWVuOiAnOGZiYzhmJyxcbiAgZGFya3NsYXRlYmx1ZTogJzQ4M2Q4YicsXG4gIGRhcmtzbGF0ZWdyYXk6ICcyZjRmNGYnLFxuICBkYXJrc2xhdGVncmV5OiAnMmY0ZjRmJyxcbiAgZGFya3R1cnF1b2lzZTogJzAwY2VkMScsXG4gIGRhcmt2aW9sZXQ6ICc5NDAwZDMnLFxuICBkZWVwcGluazogJ2ZmMTQ5MycsXG4gIGRlZXBza3libHVlOiAnMDBiZmZmJyxcbiAgZGltZ3JheTogJzY5Njk2OScsXG4gIGRpbWdyZXk6ICc2OTY5NjknLFxuICBkb2RnZXJibHVlOiAnMWU5MGZmJyxcbiAgZmlyZWJyaWNrOiAnYjIyMjIyJyxcbiAgZmxvcmFsd2hpdGU6ICdmZmZhZjAnLFxuICBmb3Jlc3RncmVlbjogJzIyOGIyMicsXG4gIGZ1Y2hzaWE6ICdmZjAwZmYnLFxuICBnYWluc2Jvcm86ICdkY2RjZGMnLFxuICBnaG9zdHdoaXRlOiAnZjhmOGZmJyxcbiAgZ29sZDogJ2ZmZDcwMCcsXG4gIGdvbGRlbnJvZDogJ2RhYTUyMCcsXG4gIGdyYXk6ICc4MDgwODAnLFxuICBncmVlbjogJzAwODAwMCcsXG4gIGdyZWVueWVsbG93OiAnYWRmZjJmJyxcbiAgZ3JleTogJzgwODA4MCcsXG4gIGhvbmV5ZGV3OiAnZjBmZmYwJyxcbiAgaG90cGluazogJ2ZmNjliNCcsXG4gIGluZGlhbnJlZDogJ2NkNWM1YycsXG4gIGluZGlnbzogJzRiMDA4MicsXG4gIGl2b3J5OiAnZmZmZmYwJyxcbiAga2hha2k6ICdmMGU2OGMnLFxuICBsYXZlbmRlcjogJ2U2ZTZmYScsXG4gIGxhdmVuZGVyYmx1c2g6ICdmZmYwZjUnLFxuICBsYXduZ3JlZW46ICc3Y2ZjMDAnLFxuICBsZW1vbmNoaWZmb246ICdmZmZhY2QnLFxuICBsaWdodGJsdWU6ICdhZGQ4ZTYnLFxuICBsaWdodGNvcmFsOiAnZjA4MDgwJyxcbiAgbGlnaHRjeWFuOiAnZTBmZmZmJyxcbiAgbGlnaHRnb2xkZW5yb2R5ZWxsb3c6ICdmYWZhZDInLFxuICBsaWdodGdyYXk6ICdkM2QzZDMnLFxuICBsaWdodGdyZWVuOiAnOTBlZTkwJyxcbiAgbGlnaHRncmV5OiAnZDNkM2QzJyxcbiAgbGlnaHRwaW5rOiAnZmZiNmMxJyxcbiAgbGlnaHRzYWxtb246ICdmZmEwN2EnLFxuICBsaWdodHNlYWdyZWVuOiAnMjBiMmFhJyxcbiAgbGlnaHRza3libHVlOiAnODdjZWZhJyxcbiAgbGlnaHRzbGF0ZWdyYXk6ICc3ODknLFxuICBsaWdodHNsYXRlZ3JleTogJzc4OScsXG4gIGxpZ2h0c3RlZWxibHVlOiAnYjBjNGRlJyxcbiAgbGlnaHR5ZWxsb3c6ICdmZmZmZTAnLFxuICBsaW1lOiAnMGYwJyxcbiAgbGltZWdyZWVuOiAnMzJjZDMyJyxcbiAgbGluZW46ICdmYWYwZTYnLFxuICBtYWdlbnRhOiAnZjBmJyxcbiAgbWFyb29uOiAnODAwMDAwJyxcbiAgbWVkaXVtYXF1YW1hcmluZTogJzY2Y2RhYScsXG4gIG1lZGl1bWJsdWU6ICcwMDAwY2QnLFxuICBtZWRpdW1vcmNoaWQ6ICdiYTU1ZDMnLFxuICBtZWRpdW1wdXJwbGU6ICc5MzcwZGInLFxuICBtZWRpdW1zZWFncmVlbjogJzNjYjM3MScsXG4gIG1lZGl1bXNsYXRlYmx1ZTogJzdiNjhlZScsXG4gIG1lZGl1bXNwcmluZ2dyZWVuOiAnMDBmYTlhJyxcbiAgbWVkaXVtdHVycXVvaXNlOiAnNDhkMWNjJyxcbiAgbWVkaXVtdmlvbGV0cmVkOiAnYzcxNTg1JyxcbiAgbWlkbmlnaHRibHVlOiAnMTkxOTcwJyxcbiAgbWludGNyZWFtOiAnZjVmZmZhJyxcbiAgbWlzdHlyb3NlOiAnZmZlNGUxJyxcbiAgbW9jY2FzaW46ICdmZmU0YjUnLFxuICBuYXZham93aGl0ZTogJ2ZmZGVhZCcsXG4gIG5hdnk6ICcwMDAwODAnLFxuICBvbGRsYWNlOiAnZmRmNWU2JyxcbiAgb2xpdmU6ICc4MDgwMDAnLFxuICBvbGl2ZWRyYWI6ICc2YjhlMjMnLFxuICBvcmFuZ2U6ICdmZmE1MDAnLFxuICBvcmFuZ2VyZWQ6ICdmZjQ1MDAnLFxuICBvcmNoaWQ6ICdkYTcwZDYnLFxuICBwYWxlZ29sZGVucm9kOiAnZWVlOGFhJyxcbiAgcGFsZWdyZWVuOiAnOThmYjk4JyxcbiAgcGFsZXR1cnF1b2lzZTogJ2FmZWVlZScsXG4gIHBhbGV2aW9sZXRyZWQ6ICdkYjcwOTMnLFxuICBwYXBheWF3aGlwOiAnZmZlZmQ1JyxcbiAgcGVhY2hwdWZmOiAnZmZkYWI5JyxcbiAgcGVydTogJ2NkODUzZicsXG4gIHBpbms6ICdmZmMwY2InLFxuICBwbHVtOiAnZGRhMGRkJyxcbiAgcG93ZGVyYmx1ZTogJ2IwZTBlNicsXG4gIHB1cnBsZTogJzgwMDA4MCcsXG4gIHJlYmVjY2FwdXJwbGU6ICc2MzknLFxuICByZWQ6ICdmMDAnLFxuICByb3N5YnJvd246ICdiYzhmOGYnLFxuICByb3lhbGJsdWU6ICc0MTY5ZTEnLFxuICBzYWRkbGVicm93bjogJzhiNDUxMycsXG4gIHNhbG1vbjogJ2ZhODA3MicsXG4gIHNhbmR5YnJvd246ICdmNGE0NjAnLFxuICBzZWFncmVlbjogJzJlOGI1NycsXG4gIHNlYXNoZWxsOiAnZmZmNWVlJyxcbiAgc2llbm5hOiAnYTA1MjJkJyxcbiAgc2lsdmVyOiAnYzBjMGMwJyxcbiAgc2t5Ymx1ZTogJzg3Y2VlYicsXG4gIHNsYXRlYmx1ZTogJzZhNWFjZCcsXG4gIHNsYXRlZ3JheTogJzcwODA5MCcsXG4gIHNsYXRlZ3JleTogJzcwODA5MCcsXG4gIHNub3c6ICdmZmZhZmEnLFxuICBzcHJpbmdncmVlbjogJzAwZmY3ZicsXG4gIHN0ZWVsYmx1ZTogJzQ2ODJiNCcsXG4gIHRhbjogJ2QyYjQ4YycsXG4gIHRlYWw6ICcwMDgwODAnLFxuICB0aGlzdGxlOiAnZDhiZmQ4JyxcbiAgdG9tYXRvOiAnZmY2MzQ3JyxcbiAgdHVycXVvaXNlOiAnNDBlMGQwJyxcbiAgdmlvbGV0OiAnZWU4MmVlJyxcbiAgd2hlYXQ6ICdmNWRlYjMnLFxuICB3aGl0ZTogJ2ZmZicsXG4gIHdoaXRlc21va2U6ICdmNWY1ZjUnLFxuICB5ZWxsb3c6ICdmZjAnLFxuICB5ZWxsb3dncmVlbjogJzlhY2QzMidcbn07XG4vKipcbiAqIENoZWNrcyBpZiBhIHN0cmluZyBpcyBhIENTUyBuYW1lZCBjb2xvciBhbmQgcmV0dXJucyBpdHMgZXF1aXZhbGVudCBoZXggdmFsdWUsIG90aGVyd2lzZSByZXR1cm5zIHRoZSBvcmlnaW5hbCBjb2xvci5cbiAqIEBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gbmFtZVRvSGV4KGNvbG9yKSB7XG4gIGlmICh0eXBlb2YgY29sb3IgIT09ICdzdHJpbmcnKSByZXR1cm4gY29sb3I7XG4gIHZhciBub3JtYWxpemVkQ29sb3JOYW1lID0gY29sb3IudG9Mb3dlckNhc2UoKTtcbiAgcmV0dXJuIG5hbWVkQ29sb3JNYXBbbm9ybWFsaXplZENvbG9yTmFtZV0gPyBcIiNcIiArIG5hbWVkQ29sb3JNYXBbbm9ybWFsaXplZENvbG9yTmFtZV0gOiBjb2xvcjtcbn1cblxudmFyIGhleFJlZ2V4ID0gL14jW2EtZkEtRjAtOV17Nn0kLztcbnZhciBoZXhSZ2JhUmVnZXggPSAvXiNbYS1mQS1GMC05XXs4fSQvO1xudmFyIHJlZHVjZWRIZXhSZWdleCA9IC9eI1thLWZBLUYwLTldezN9JC87XG52YXIgcmVkdWNlZFJnYmFIZXhSZWdleCA9IC9eI1thLWZBLUYwLTldezR9JC87XG52YXIgcmdiUmVnZXggPSAvXnJnYlxcKFxccyooXFxkezEsM30pXFxzKixcXHMqKFxcZHsxLDN9KVxccyosXFxzKihcXGR7MSwzfSlcXHMqXFwpJC9pO1xudmFyIHJnYmFSZWdleCA9IC9ecmdiYVxcKFxccyooXFxkezEsM30pXFxzKixcXHMqKFxcZHsxLDN9KVxccyosXFxzKihcXGR7MSwzfSlcXHMqLFxccyooWy0rXT9bMC05XSpbLl0/WzAtOV0rKVxccypcXCkkL2k7XG52YXIgaHNsUmVnZXggPSAvXmhzbFxcKFxccyooXFxkezAsM31bLl0/WzAtOV0rKVxccyosXFxzKihcXGR7MSwzfVsuXT9bMC05XT8pJVxccyosXFxzKihcXGR7MSwzfVsuXT9bMC05XT8pJVxccypcXCkkL2k7XG52YXIgaHNsYVJlZ2V4ID0gL15oc2xhXFwoXFxzKihcXGR7MCwzfVsuXT9bMC05XSspXFxzKixcXHMqKFxcZHsxLDN9Wy5dP1swLTldPyklXFxzKixcXHMqKFxcZHsxLDN9Wy5dP1swLTldPyklXFxzKixcXHMqKFstK10/WzAtOV0qWy5dP1swLTldKylcXHMqXFwpJC9pO1xuLyoqXG4gKiBSZXR1cm5zIGFuIFJnYkNvbG9yIG9yIFJnYmFDb2xvciBvYmplY3QuIFRoaXMgdXRpbGl0eSBmdW5jdGlvbiBpcyBvbmx5IHVzZWZ1bFxuICogaWYgd2FudCB0byBleHRyYWN0IGEgY29sb3IgY29tcG9uZW50LiBXaXRoIHRoZSBjb2xvciB1dGlsIGB0b0NvbG9yU3RyaW5nYCB5b3VcbiAqIGNhbiBjb252ZXJ0IGEgUmdiQ29sb3Igb3IgUmdiYUNvbG9yIG9iamVjdCBiYWNrIHRvIGEgc3RyaW5nLlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBBc3NpZ25zIGB7IHJlZDogMjU1LCBncmVlbjogMCwgYmx1ZTogMCB9YCB0byBjb2xvcjFcbiAqIGNvbnN0IGNvbG9yMSA9IHBhcnNlVG9SZ2IoJ3JnYigyNTUsIDAsIDApJyk7XG4gKiAvLyBBc3NpZ25zIGB7IHJlZDogOTIsIGdyZWVuOiAxMDIsIGJsdWU6IDExMiwgYWxwaGE6IDAuNzUgfWAgdG8gY29sb3IyXG4gKiBjb25zdCBjb2xvcjIgPSBwYXJzZVRvUmdiKCdoc2xhKDIxMCwgMTAlLCA0MCUsIDAuNzUpJyk7XG4gKi9cblxuZnVuY3Rpb24gcGFyc2VUb1JnYihjb2xvcikge1xuICBpZiAodHlwZW9mIGNvbG9yICE9PSAnc3RyaW5nJykge1xuICAgIHRocm93IG5ldyBQb2xpc2hlZEVycm9yKDMpO1xuICB9XG5cbiAgdmFyIG5vcm1hbGl6ZWRDb2xvciA9IG5hbWVUb0hleChjb2xvcik7XG5cbiAgaWYgKG5vcm1hbGl6ZWRDb2xvci5tYXRjaChoZXhSZWdleCkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVkOiBwYXJzZUludChcIlwiICsgbm9ybWFsaXplZENvbG9yWzFdICsgbm9ybWFsaXplZENvbG9yWzJdLCAxNiksXG4gICAgICBncmVlbjogcGFyc2VJbnQoXCJcIiArIG5vcm1hbGl6ZWRDb2xvclszXSArIG5vcm1hbGl6ZWRDb2xvcls0XSwgMTYpLFxuICAgICAgYmx1ZTogcGFyc2VJbnQoXCJcIiArIG5vcm1hbGl6ZWRDb2xvcls1XSArIG5vcm1hbGl6ZWRDb2xvcls2XSwgMTYpXG4gICAgfTtcbiAgfVxuXG4gIGlmIChub3JtYWxpemVkQ29sb3IubWF0Y2goaGV4UmdiYVJlZ2V4KSkge1xuICAgIHZhciBhbHBoYSA9IHBhcnNlRmxvYXQoKHBhcnNlSW50KFwiXCIgKyBub3JtYWxpemVkQ29sb3JbN10gKyBub3JtYWxpemVkQ29sb3JbOF0sIDE2KSAvIDI1NSkudG9GaXhlZCgyKSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlZDogcGFyc2VJbnQoXCJcIiArIG5vcm1hbGl6ZWRDb2xvclsxXSArIG5vcm1hbGl6ZWRDb2xvclsyXSwgMTYpLFxuICAgICAgZ3JlZW46IHBhcnNlSW50KFwiXCIgKyBub3JtYWxpemVkQ29sb3JbM10gKyBub3JtYWxpemVkQ29sb3JbNF0sIDE2KSxcbiAgICAgIGJsdWU6IHBhcnNlSW50KFwiXCIgKyBub3JtYWxpemVkQ29sb3JbNV0gKyBub3JtYWxpemVkQ29sb3JbNl0sIDE2KSxcbiAgICAgIGFscGhhOiBhbHBoYVxuICAgIH07XG4gIH1cblxuICBpZiAobm9ybWFsaXplZENvbG9yLm1hdGNoKHJlZHVjZWRIZXhSZWdleCkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVkOiBwYXJzZUludChcIlwiICsgbm9ybWFsaXplZENvbG9yWzFdICsgbm9ybWFsaXplZENvbG9yWzFdLCAxNiksXG4gICAgICBncmVlbjogcGFyc2VJbnQoXCJcIiArIG5vcm1hbGl6ZWRDb2xvclsyXSArIG5vcm1hbGl6ZWRDb2xvclsyXSwgMTYpLFxuICAgICAgYmx1ZTogcGFyc2VJbnQoXCJcIiArIG5vcm1hbGl6ZWRDb2xvclszXSArIG5vcm1hbGl6ZWRDb2xvclszXSwgMTYpXG4gICAgfTtcbiAgfVxuXG4gIGlmIChub3JtYWxpemVkQ29sb3IubWF0Y2gocmVkdWNlZFJnYmFIZXhSZWdleCkpIHtcbiAgICB2YXIgX2FscGhhID0gcGFyc2VGbG9hdCgocGFyc2VJbnQoXCJcIiArIG5vcm1hbGl6ZWRDb2xvcls0XSArIG5vcm1hbGl6ZWRDb2xvcls0XSwgMTYpIC8gMjU1KS50b0ZpeGVkKDIpKTtcblxuICAgIHJldHVybiB7XG4gICAgICByZWQ6IHBhcnNlSW50KFwiXCIgKyBub3JtYWxpemVkQ29sb3JbMV0gKyBub3JtYWxpemVkQ29sb3JbMV0sIDE2KSxcbiAgICAgIGdyZWVuOiBwYXJzZUludChcIlwiICsgbm9ybWFsaXplZENvbG9yWzJdICsgbm9ybWFsaXplZENvbG9yWzJdLCAxNiksXG4gICAgICBibHVlOiBwYXJzZUludChcIlwiICsgbm9ybWFsaXplZENvbG9yWzNdICsgbm9ybWFsaXplZENvbG9yWzNdLCAxNiksXG4gICAgICBhbHBoYTogX2FscGhhXG4gICAgfTtcbiAgfVxuXG4gIHZhciByZ2JNYXRjaGVkID0gcmdiUmVnZXguZXhlYyhub3JtYWxpemVkQ29sb3IpO1xuXG4gIGlmIChyZ2JNYXRjaGVkKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlZDogcGFyc2VJbnQoXCJcIiArIHJnYk1hdGNoZWRbMV0sIDEwKSxcbiAgICAgIGdyZWVuOiBwYXJzZUludChcIlwiICsgcmdiTWF0Y2hlZFsyXSwgMTApLFxuICAgICAgYmx1ZTogcGFyc2VJbnQoXCJcIiArIHJnYk1hdGNoZWRbM10sIDEwKVxuICAgIH07XG4gIH1cblxuICB2YXIgcmdiYU1hdGNoZWQgPSByZ2JhUmVnZXguZXhlYyhub3JtYWxpemVkQ29sb3IpO1xuXG4gIGlmIChyZ2JhTWF0Y2hlZCkge1xuICAgIHJldHVybiB7XG4gICAgICByZWQ6IHBhcnNlSW50KFwiXCIgKyByZ2JhTWF0Y2hlZFsxXSwgMTApLFxuICAgICAgZ3JlZW46IHBhcnNlSW50KFwiXCIgKyByZ2JhTWF0Y2hlZFsyXSwgMTApLFxuICAgICAgYmx1ZTogcGFyc2VJbnQoXCJcIiArIHJnYmFNYXRjaGVkWzNdLCAxMCksXG4gICAgICBhbHBoYTogcGFyc2VGbG9hdChcIlwiICsgcmdiYU1hdGNoZWRbNF0pXG4gICAgfTtcbiAgfVxuXG4gIHZhciBoc2xNYXRjaGVkID0gaHNsUmVnZXguZXhlYyhub3JtYWxpemVkQ29sb3IpO1xuXG4gIGlmIChoc2xNYXRjaGVkKSB7XG4gICAgdmFyIGh1ZSA9IHBhcnNlSW50KFwiXCIgKyBoc2xNYXRjaGVkWzFdLCAxMCk7XG4gICAgdmFyIHNhdHVyYXRpb24gPSBwYXJzZUludChcIlwiICsgaHNsTWF0Y2hlZFsyXSwgMTApIC8gMTAwO1xuICAgIHZhciBsaWdodG5lc3MgPSBwYXJzZUludChcIlwiICsgaHNsTWF0Y2hlZFszXSwgMTApIC8gMTAwO1xuICAgIHZhciByZ2JDb2xvclN0cmluZyA9IFwicmdiKFwiICsgaHNsVG9SZ2IoaHVlLCBzYXR1cmF0aW9uLCBsaWdodG5lc3MpICsgXCIpXCI7XG4gICAgdmFyIGhzbFJnYk1hdGNoZWQgPSByZ2JSZWdleC5leGVjKHJnYkNvbG9yU3RyaW5nKTtcblxuICAgIGlmICghaHNsUmdiTWF0Y2hlZCkge1xuICAgICAgdGhyb3cgbmV3IFBvbGlzaGVkRXJyb3IoNCwgbm9ybWFsaXplZENvbG9yLCByZ2JDb2xvclN0cmluZyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHJlZDogcGFyc2VJbnQoXCJcIiArIGhzbFJnYk1hdGNoZWRbMV0sIDEwKSxcbiAgICAgIGdyZWVuOiBwYXJzZUludChcIlwiICsgaHNsUmdiTWF0Y2hlZFsyXSwgMTApLFxuICAgICAgYmx1ZTogcGFyc2VJbnQoXCJcIiArIGhzbFJnYk1hdGNoZWRbM10sIDEwKVxuICAgIH07XG4gIH1cblxuICB2YXIgaHNsYU1hdGNoZWQgPSBoc2xhUmVnZXguZXhlYyhub3JtYWxpemVkQ29sb3IpO1xuXG4gIGlmIChoc2xhTWF0Y2hlZCkge1xuICAgIHZhciBfaHVlID0gcGFyc2VJbnQoXCJcIiArIGhzbGFNYXRjaGVkWzFdLCAxMCk7XG5cbiAgICB2YXIgX3NhdHVyYXRpb24gPSBwYXJzZUludChcIlwiICsgaHNsYU1hdGNoZWRbMl0sIDEwKSAvIDEwMDtcblxuICAgIHZhciBfbGlnaHRuZXNzID0gcGFyc2VJbnQoXCJcIiArIGhzbGFNYXRjaGVkWzNdLCAxMCkgLyAxMDA7XG5cbiAgICB2YXIgX3JnYkNvbG9yU3RyaW5nID0gXCJyZ2IoXCIgKyBoc2xUb1JnYihfaHVlLCBfc2F0dXJhdGlvbiwgX2xpZ2h0bmVzcykgKyBcIilcIjtcblxuICAgIHZhciBfaHNsUmdiTWF0Y2hlZCA9IHJnYlJlZ2V4LmV4ZWMoX3JnYkNvbG9yU3RyaW5nKTtcblxuICAgIGlmICghX2hzbFJnYk1hdGNoZWQpIHtcbiAgICAgIHRocm93IG5ldyBQb2xpc2hlZEVycm9yKDQsIG5vcm1hbGl6ZWRDb2xvciwgX3JnYkNvbG9yU3RyaW5nKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgcmVkOiBwYXJzZUludChcIlwiICsgX2hzbFJnYk1hdGNoZWRbMV0sIDEwKSxcbiAgICAgIGdyZWVuOiBwYXJzZUludChcIlwiICsgX2hzbFJnYk1hdGNoZWRbMl0sIDEwKSxcbiAgICAgIGJsdWU6IHBhcnNlSW50KFwiXCIgKyBfaHNsUmdiTWF0Y2hlZFszXSwgMTApLFxuICAgICAgYWxwaGE6IHBhcnNlRmxvYXQoXCJcIiArIGhzbGFNYXRjaGVkWzRdKVxuICAgIH07XG4gIH1cblxuICB0aHJvdyBuZXcgUG9saXNoZWRFcnJvcig1KTtcbn1cblxuZnVuY3Rpb24gcmdiVG9Ic2woY29sb3IpIHtcbiAgLy8gbWFrZSBzdXJlIHJnYiBhcmUgY29udGFpbmVkIGluIGEgc2V0IG9mIFswLCAyNTVdXG4gIHZhciByZWQgPSBjb2xvci5yZWQgLyAyNTU7XG4gIHZhciBncmVlbiA9IGNvbG9yLmdyZWVuIC8gMjU1O1xuICB2YXIgYmx1ZSA9IGNvbG9yLmJsdWUgLyAyNTU7XG4gIHZhciBtYXggPSBNYXRoLm1heChyZWQsIGdyZWVuLCBibHVlKTtcbiAgdmFyIG1pbiA9IE1hdGgubWluKHJlZCwgZ3JlZW4sIGJsdWUpO1xuICB2YXIgbGlnaHRuZXNzID0gKG1heCArIG1pbikgLyAyO1xuXG4gIGlmIChtYXggPT09IG1pbikge1xuICAgIC8vIGFjaHJvbWF0aWNcbiAgICBpZiAoY29sb3IuYWxwaGEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaHVlOiAwLFxuICAgICAgICBzYXR1cmF0aW9uOiAwLFxuICAgICAgICBsaWdodG5lc3M6IGxpZ2h0bmVzcyxcbiAgICAgICAgYWxwaGE6IGNvbG9yLmFscGhhXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBodWU6IDAsXG4gICAgICAgIHNhdHVyYXRpb246IDAsXG4gICAgICAgIGxpZ2h0bmVzczogbGlnaHRuZXNzXG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIHZhciBodWU7XG4gIHZhciBkZWx0YSA9IG1heCAtIG1pbjtcbiAgdmFyIHNhdHVyYXRpb24gPSBsaWdodG5lc3MgPiAwLjUgPyBkZWx0YSAvICgyIC0gbWF4IC0gbWluKSA6IGRlbHRhIC8gKG1heCArIG1pbik7XG5cbiAgc3dpdGNoIChtYXgpIHtcbiAgICBjYXNlIHJlZDpcbiAgICAgIGh1ZSA9IChncmVlbiAtIGJsdWUpIC8gZGVsdGEgKyAoZ3JlZW4gPCBibHVlID8gNiA6IDApO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIGdyZWVuOlxuICAgICAgaHVlID0gKGJsdWUgLSByZWQpIC8gZGVsdGEgKyAyO1xuICAgICAgYnJlYWs7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgLy8gYmx1ZSBjYXNlXG4gICAgICBodWUgPSAocmVkIC0gZ3JlZW4pIC8gZGVsdGEgKyA0O1xuICAgICAgYnJlYWs7XG4gIH1cblxuICBodWUgKj0gNjA7XG5cbiAgaWYgKGNvbG9yLmFscGhhICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaHVlOiBodWUsXG4gICAgICBzYXR1cmF0aW9uOiBzYXR1cmF0aW9uLFxuICAgICAgbGlnaHRuZXNzOiBsaWdodG5lc3MsXG4gICAgICBhbHBoYTogY29sb3IuYWxwaGFcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBodWU6IGh1ZSxcbiAgICBzYXR1cmF0aW9uOiBzYXR1cmF0aW9uLFxuICAgIGxpZ2h0bmVzczogbGlnaHRuZXNzXG4gIH07XG59XG5cbmZ1bmN0aW9uIHBhcnNlVG9Ic2woY29sb3IpIHtcbiAgLy8gTm90ZTogQXQgYSBsYXRlciBzdGFnZSB3ZSBjYW4gb3B0aW1pemUgdGhpcyBmdW5jdGlvbiBhcyByaWdodCBub3cgYSBoc2xcbiAgLy8gY29sb3Igd291bGQgYmUgcGFyc2VkIGNvbnZlcnRlZCB0byByZ2IgdmFsdWVzIGFuZCBjb252ZXJ0ZWQgYmFjayB0byBoc2wuXG4gIHJldHVybiByZ2JUb0hzbChwYXJzZVRvUmdiKGNvbG9yKSk7XG59XG5cbi8qKlxuICogUmVkdWNlcyBoZXggdmFsdWVzIGlmIHBvc3NpYmxlIGUuZy4gI2ZmODg2NiB0byAjZjg2XG4gKiBAcHJpdmF0ZVxuICovXG52YXIgcmVkdWNlSGV4VmFsdWUgPSBmdW5jdGlvbiByZWR1Y2VIZXhWYWx1ZSh2YWx1ZSkge1xuICBpZiAodmFsdWUubGVuZ3RoID09PSA3ICYmIHZhbHVlWzFdID09PSB2YWx1ZVsyXSAmJiB2YWx1ZVszXSA9PT0gdmFsdWVbNF0gJiYgdmFsdWVbNV0gPT09IHZhbHVlWzZdKSB7XG4gICAgcmV0dXJuIFwiI1wiICsgdmFsdWVbMV0gKyB2YWx1ZVszXSArIHZhbHVlWzVdO1xuICB9XG5cbiAgcmV0dXJuIHZhbHVlO1xufTtcblxuZnVuY3Rpb24gbnVtYmVyVG9IZXgodmFsdWUpIHtcbiAgdmFyIGhleCA9IHZhbHVlLnRvU3RyaW5nKDE2KTtcbiAgcmV0dXJuIGhleC5sZW5ndGggPT09IDEgPyBcIjBcIiArIGhleCA6IGhleDtcbn1cblxuZnVuY3Rpb24gY29sb3JUb0hleChjb2xvcikge1xuICByZXR1cm4gbnVtYmVyVG9IZXgoTWF0aC5yb3VuZChjb2xvciAqIDI1NSkpO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0VG9IZXgocmVkLCBncmVlbiwgYmx1ZSkge1xuICByZXR1cm4gcmVkdWNlSGV4VmFsdWUoXCIjXCIgKyBjb2xvclRvSGV4KHJlZCkgKyBjb2xvclRvSGV4KGdyZWVuKSArIGNvbG9yVG9IZXgoYmx1ZSkpO1xufVxuXG5mdW5jdGlvbiBoc2xUb0hleChodWUsIHNhdHVyYXRpb24sIGxpZ2h0bmVzcykge1xuICByZXR1cm4gaHNsVG9SZ2IoaHVlLCBzYXR1cmF0aW9uLCBsaWdodG5lc3MsIGNvbnZlcnRUb0hleCk7XG59XG5cbmZ1bmN0aW9uIGhzbCh2YWx1ZSwgc2F0dXJhdGlvbiwgbGlnaHRuZXNzKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmIHR5cGVvZiBzYXR1cmF0aW9uID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgbGlnaHRuZXNzID09PSAnbnVtYmVyJykge1xuICAgIHJldHVybiBoc2xUb0hleCh2YWx1ZSwgc2F0dXJhdGlvbiwgbGlnaHRuZXNzKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHNhdHVyYXRpb24gPT09IHVuZGVmaW5lZCAmJiBsaWdodG5lc3MgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBoc2xUb0hleCh2YWx1ZS5odWUsIHZhbHVlLnNhdHVyYXRpb24sIHZhbHVlLmxpZ2h0bmVzcyk7XG4gIH1cblxuICB0aHJvdyBuZXcgUG9saXNoZWRFcnJvcigxKTtcbn1cblxuZnVuY3Rpb24gaHNsYSh2YWx1ZSwgc2F0dXJhdGlvbiwgbGlnaHRuZXNzLCBhbHBoYSkge1xuICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJiB0eXBlb2Ygc2F0dXJhdGlvbiA9PT0gJ251bWJlcicgJiYgdHlwZW9mIGxpZ2h0bmVzcyA9PT0gJ251bWJlcicgJiYgdHlwZW9mIGFscGhhID09PSAnbnVtYmVyJykge1xuICAgIHJldHVybiBhbHBoYSA+PSAxID8gaHNsVG9IZXgodmFsdWUsIHNhdHVyYXRpb24sIGxpZ2h0bmVzcykgOiBcInJnYmEoXCIgKyBoc2xUb1JnYih2YWx1ZSwgc2F0dXJhdGlvbiwgbGlnaHRuZXNzKSArIFwiLFwiICsgYWxwaGEgKyBcIilcIjtcbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHNhdHVyYXRpb24gPT09IHVuZGVmaW5lZCAmJiBsaWdodG5lc3MgPT09IHVuZGVmaW5lZCAmJiBhbHBoYSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHZhbHVlLmFscGhhID49IDEgPyBoc2xUb0hleCh2YWx1ZS5odWUsIHZhbHVlLnNhdHVyYXRpb24sIHZhbHVlLmxpZ2h0bmVzcykgOiBcInJnYmEoXCIgKyBoc2xUb1JnYih2YWx1ZS5odWUsIHZhbHVlLnNhdHVyYXRpb24sIHZhbHVlLmxpZ2h0bmVzcykgKyBcIixcIiArIHZhbHVlLmFscGhhICsgXCIpXCI7XG4gIH1cblxuICB0aHJvdyBuZXcgUG9saXNoZWRFcnJvcigyKTtcbn1cblxuZnVuY3Rpb24gcmdiKHZhbHVlLCBncmVlbiwgYmx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgZ3JlZW4gPT09ICdudW1iZXInICYmIHR5cGVvZiBibHVlID09PSAnbnVtYmVyJykge1xuICAgIHJldHVybiByZWR1Y2VIZXhWYWx1ZShcIiNcIiArIG51bWJlclRvSGV4KHZhbHVlKSArIG51bWJlclRvSGV4KGdyZWVuKSArIG51bWJlclRvSGV4KGJsdWUpKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIGdyZWVuID09PSB1bmRlZmluZWQgJiYgYmx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHJlZHVjZUhleFZhbHVlKFwiI1wiICsgbnVtYmVyVG9IZXgodmFsdWUucmVkKSArIG51bWJlclRvSGV4KHZhbHVlLmdyZWVuKSArIG51bWJlclRvSGV4KHZhbHVlLmJsdWUpKTtcbiAgfVxuXG4gIHRocm93IG5ldyBQb2xpc2hlZEVycm9yKDYpO1xufVxuXG5mdW5jdGlvbiByZ2JhKGZpcnN0VmFsdWUsIHNlY29uZFZhbHVlLCB0aGlyZFZhbHVlLCBmb3VydGhWYWx1ZSkge1xuICBpZiAodHlwZW9mIGZpcnN0VmFsdWUgPT09ICdzdHJpbmcnICYmIHR5cGVvZiBzZWNvbmRWYWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICB2YXIgcmdiVmFsdWUgPSBwYXJzZVRvUmdiKGZpcnN0VmFsdWUpO1xuICAgIHJldHVybiBcInJnYmEoXCIgKyByZ2JWYWx1ZS5yZWQgKyBcIixcIiArIHJnYlZhbHVlLmdyZWVuICsgXCIsXCIgKyByZ2JWYWx1ZS5ibHVlICsgXCIsXCIgKyBzZWNvbmRWYWx1ZSArIFwiKVwiO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBmaXJzdFZhbHVlID09PSAnbnVtYmVyJyAmJiB0eXBlb2Ygc2Vjb25kVmFsdWUgPT09ICdudW1iZXInICYmIHR5cGVvZiB0aGlyZFZhbHVlID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgZm91cnRoVmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIGZvdXJ0aFZhbHVlID49IDEgPyByZ2IoZmlyc3RWYWx1ZSwgc2Vjb25kVmFsdWUsIHRoaXJkVmFsdWUpIDogXCJyZ2JhKFwiICsgZmlyc3RWYWx1ZSArIFwiLFwiICsgc2Vjb25kVmFsdWUgKyBcIixcIiArIHRoaXJkVmFsdWUgKyBcIixcIiArIGZvdXJ0aFZhbHVlICsgXCIpXCI7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGZpcnN0VmFsdWUgPT09ICdvYmplY3QnICYmIHNlY29uZFZhbHVlID09PSB1bmRlZmluZWQgJiYgdGhpcmRWYWx1ZSA9PT0gdW5kZWZpbmVkICYmIGZvdXJ0aFZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gZmlyc3RWYWx1ZS5hbHBoYSA+PSAxID8gcmdiKGZpcnN0VmFsdWUucmVkLCBmaXJzdFZhbHVlLmdyZWVuLCBmaXJzdFZhbHVlLmJsdWUpIDogXCJyZ2JhKFwiICsgZmlyc3RWYWx1ZS5yZWQgKyBcIixcIiArIGZpcnN0VmFsdWUuZ3JlZW4gKyBcIixcIiArIGZpcnN0VmFsdWUuYmx1ZSArIFwiLFwiICsgZmlyc3RWYWx1ZS5hbHBoYSArIFwiKVwiO1xuICB9XG5cbiAgdGhyb3cgbmV3IFBvbGlzaGVkRXJyb3IoNyk7XG59XG5cbnZhciBpc1JnYiA9IGZ1bmN0aW9uIGlzUmdiKGNvbG9yKSB7XG4gIHJldHVybiB0eXBlb2YgY29sb3IucmVkID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgY29sb3IuZ3JlZW4gPT09ICdudW1iZXInICYmIHR5cGVvZiBjb2xvci5ibHVlID09PSAnbnVtYmVyJyAmJiAodHlwZW9mIGNvbG9yLmFscGhhICE9PSAnbnVtYmVyJyB8fCB0eXBlb2YgY29sb3IuYWxwaGEgPT09ICd1bmRlZmluZWQnKTtcbn07XG5cbnZhciBpc1JnYmEgPSBmdW5jdGlvbiBpc1JnYmEoY29sb3IpIHtcbiAgcmV0dXJuIHR5cGVvZiBjb2xvci5yZWQgPT09ICdudW1iZXInICYmIHR5cGVvZiBjb2xvci5ncmVlbiA9PT0gJ251bWJlcicgJiYgdHlwZW9mIGNvbG9yLmJsdWUgPT09ICdudW1iZXInICYmIHR5cGVvZiBjb2xvci5hbHBoYSA9PT0gJ251bWJlcic7XG59O1xuXG52YXIgaXNIc2wgPSBmdW5jdGlvbiBpc0hzbChjb2xvcikge1xuICByZXR1cm4gdHlwZW9mIGNvbG9yLmh1ZSA9PT0gJ251bWJlcicgJiYgdHlwZW9mIGNvbG9yLnNhdHVyYXRpb24gPT09ICdudW1iZXInICYmIHR5cGVvZiBjb2xvci5saWdodG5lc3MgPT09ICdudW1iZXInICYmICh0eXBlb2YgY29sb3IuYWxwaGEgIT09ICdudW1iZXInIHx8IHR5cGVvZiBjb2xvci5hbHBoYSA9PT0gJ3VuZGVmaW5lZCcpO1xufTtcblxudmFyIGlzSHNsYSA9IGZ1bmN0aW9uIGlzSHNsYShjb2xvcikge1xuICByZXR1cm4gdHlwZW9mIGNvbG9yLmh1ZSA9PT0gJ251bWJlcicgJiYgdHlwZW9mIGNvbG9yLnNhdHVyYXRpb24gPT09ICdudW1iZXInICYmIHR5cGVvZiBjb2xvci5saWdodG5lc3MgPT09ICdudW1iZXInICYmIHR5cGVvZiBjb2xvci5hbHBoYSA9PT0gJ251bWJlcic7XG59O1xuLyoqXG4gKiBDb252ZXJ0cyBhIFJnYkNvbG9yLCBSZ2JhQ29sb3IsIEhzbENvbG9yIG9yIEhzbGFDb2xvciBvYmplY3QgdG8gYSBjb2xvciBzdHJpbmcuXG4gKiBUaGlzIHV0aWwgaXMgdXNlZnVsIGluIGNhc2UgeW91IG9ubHkga25vdyBvbiBydW50aW1lIHdoaWNoIGNvbG9yIG9iamVjdCBpc1xuICogdXNlZC4gT3RoZXJ3aXNlIHdlIHJlY29tbWVuZCB0byByZWx5IG9uIGByZ2JgLCBgcmdiYWAsIGBoc2xgIG9yIGBoc2xhYC5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gU3R5bGVzIGFzIG9iamVjdCB1c2FnZVxuICogY29uc3Qgc3R5bGVzID0ge1xuICogICBiYWNrZ3JvdW5kOiB0b0NvbG9yU3RyaW5nKHsgcmVkOiAyNTUsIGdyZWVuOiAyMDUsIGJsdWU6IDEwMCB9KSxcbiAqICAgYmFja2dyb3VuZDogdG9Db2xvclN0cmluZyh7IHJlZDogMjU1LCBncmVlbjogMjA1LCBibHVlOiAxMDAsIGFscGhhOiAwLjcyIH0pLFxuICogICBiYWNrZ3JvdW5kOiB0b0NvbG9yU3RyaW5nKHsgaHVlOiAyNDAsIHNhdHVyYXRpb246IDEsIGxpZ2h0bmVzczogMC41IH0pLFxuICogICBiYWNrZ3JvdW5kOiB0b0NvbG9yU3RyaW5nKHsgaHVlOiAzNjAsIHNhdHVyYXRpb246IDAuNzUsIGxpZ2h0bmVzczogMC40LCBhbHBoYTogMC43MiB9KSxcbiAqIH1cbiAqXG4gKiAvLyBzdHlsZWQtY29tcG9uZW50cyB1c2FnZVxuICogY29uc3QgZGl2ID0gc3R5bGVkLmRpdmBcbiAqICAgYmFja2dyb3VuZDogJHt0b0NvbG9yU3RyaW5nKHsgcmVkOiAyNTUsIGdyZWVuOiAyMDUsIGJsdWU6IDEwMCB9KX07XG4gKiAgIGJhY2tncm91bmQ6ICR7dG9Db2xvclN0cmluZyh7IHJlZDogMjU1LCBncmVlbjogMjA1LCBibHVlOiAxMDAsIGFscGhhOiAwLjcyIH0pfTtcbiAqICAgYmFja2dyb3VuZDogJHt0b0NvbG9yU3RyaW5nKHsgaHVlOiAyNDAsIHNhdHVyYXRpb246IDEsIGxpZ2h0bmVzczogMC41IH0pfTtcbiAqICAgYmFja2dyb3VuZDogJHt0b0NvbG9yU3RyaW5nKHsgaHVlOiAzNjAsIHNhdHVyYXRpb246IDAuNzUsIGxpZ2h0bmVzczogMC40LCBhbHBoYTogMC43MiB9KX07XG4gKiBgXG4gKlxuICogLy8gQ1NTIGluIEpTIE91dHB1dFxuICogZWxlbWVudCB7XG4gKiAgIGJhY2tncm91bmQ6IFwiI2ZmY2Q2NFwiO1xuICogICBiYWNrZ3JvdW5kOiBcInJnYmEoMjU1LDIwNSwxMDAsMC43MilcIjtcbiAqICAgYmFja2dyb3VuZDogXCIjMDBmXCI7XG4gKiAgIGJhY2tncm91bmQ6IFwicmdiYSgxNzksMjUsMjUsMC43MilcIjtcbiAqIH1cbiAqL1xuXG5cbmZ1bmN0aW9uIHRvQ29sb3JTdHJpbmcoY29sb3IpIHtcbiAgaWYgKHR5cGVvZiBjb2xvciAhPT0gJ29iamVjdCcpIHRocm93IG5ldyBQb2xpc2hlZEVycm9yKDgpO1xuICBpZiAoaXNSZ2JhKGNvbG9yKSkgcmV0dXJuIHJnYmEoY29sb3IpO1xuICBpZiAoaXNSZ2IoY29sb3IpKSByZXR1cm4gcmdiKGNvbG9yKTtcbiAgaWYgKGlzSHNsYShjb2xvcikpIHJldHVybiBoc2xhKGNvbG9yKTtcbiAgaWYgKGlzSHNsKGNvbG9yKSkgcmV0dXJuIGhzbChjb2xvcik7XG4gIHRocm93IG5ldyBQb2xpc2hlZEVycm9yKDgpO1xufVxuXG4vLyBUeXBlIGRlZmluaXRpb25zIHRha2VuIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2djYW50aS9mbG93LXN0YXRpYy1sYW5kL2Jsb2IvbWFzdGVyL3NyYy9GdW4uanNcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVkZWNsYXJlXG5mdW5jdGlvbiBjdXJyaWVkKGYsIGxlbmd0aCwgYWNjKSB7XG4gIHJldHVybiBmdW5jdGlvbiBmbigpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLXJlc3QtcGFyYW1zXG4gICAgdmFyIGNvbWJpbmVkID0gYWNjLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKTtcbiAgICByZXR1cm4gY29tYmluZWQubGVuZ3RoID49IGxlbmd0aCA/IGYuYXBwbHkodGhpcywgY29tYmluZWQpIDogY3VycmllZChmLCBsZW5ndGgsIGNvbWJpbmVkKTtcbiAgfTtcbn0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlZGVjbGFyZVxuXG5cbmZ1bmN0aW9uIGN1cnJ5KGYpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1yZWRlY2xhcmVcbiAgcmV0dXJuIGN1cnJpZWQoZiwgZi5sZW5ndGgsIFtdKTtcbn1cblxuLyoqXG4gKiBDaGFuZ2VzIHRoZSBodWUgb2YgdGhlIGNvbG9yLiBIdWUgaXMgYSBudW1iZXIgYmV0d2VlbiAwIHRvIDM2MC4gVGhlIGZpcnN0XG4gKiBhcmd1bWVudCBmb3IgYWRqdXN0SHVlIGlzIHRoZSBhbW91bnQgb2YgZGVncmVlcyB0aGUgY29sb3IgaXMgcm90YXRlZCBhcm91bmRcbiAqIHRoZSBjb2xvciB3aGVlbCwgYWx3YXlzIHByb2R1Y2luZyBhIHBvc2l0aXZlIGh1ZSB2YWx1ZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gU3R5bGVzIGFzIG9iamVjdCB1c2FnZVxuICogY29uc3Qgc3R5bGVzID0ge1xuICogICBiYWNrZ3JvdW5kOiBhZGp1c3RIdWUoMTgwLCAnIzQ0OCcpLFxuICogICBiYWNrZ3JvdW5kOiBhZGp1c3RIdWUoJzE4MCcsICdyZ2JhKDEwMSwxMDAsMjA1LDAuNyknKSxcbiAqIH1cbiAqXG4gKiAvLyBzdHlsZWQtY29tcG9uZW50cyB1c2FnZVxuICogY29uc3QgZGl2ID0gc3R5bGVkLmRpdmBcbiAqICAgYmFja2dyb3VuZDogJHthZGp1c3RIdWUoMTgwLCAnIzQ0OCcpfTtcbiAqICAgYmFja2dyb3VuZDogJHthZGp1c3RIdWUoJzE4MCcsICdyZ2JhKDEwMSwxMDAsMjA1LDAuNyknKX07XG4gKiBgXG4gKlxuICogLy8gQ1NTIGluIEpTIE91dHB1dFxuICogZWxlbWVudCB7XG4gKiAgIGJhY2tncm91bmQ6IFwiIzg4ODg0NFwiO1xuICogICBiYWNrZ3JvdW5kOiBcInJnYmEoMTM2LDEzNiw2OCwwLjcpXCI7XG4gKiB9XG4gKi9cblxuZnVuY3Rpb24gYWRqdXN0SHVlKGRlZ3JlZSwgY29sb3IpIHtcbiAgaWYgKGNvbG9yID09PSAndHJhbnNwYXJlbnQnKSByZXR1cm4gY29sb3I7XG4gIHZhciBoc2xDb2xvciA9IHBhcnNlVG9Ic2woY29sb3IpO1xuICByZXR1cm4gdG9Db2xvclN0cmluZyhfZXh0ZW5kcyh7fSwgaHNsQ29sb3IsIHtcbiAgICBodWU6IGhzbENvbG9yLmh1ZSArIHBhcnNlRmxvYXQoZGVncmVlKVxuICB9KSk7XG59IC8vIHByZXR0aWVyLWlnbm9yZVxuXG5cbnZhciBjdXJyaWVkQWRqdXN0SHVlID1cbi8qI19fUFVSRV9fKi9cbmN1cnJ5XG4vKiA6OjxudW1iZXIgfCBzdHJpbmcsIHN0cmluZywgc3RyaW5nPiAqL1xuKGFkanVzdEh1ZSk7XG5cbi8qKlxuICogUmV0dXJucyB0aGUgY29tcGxlbWVudCBvZiB0aGUgcHJvdmlkZWQgY29sb3IuIFRoaXMgaXMgaWRlbnRpY2FsIHRvIGFkanVzdEh1ZSgxODAsIDxjb2xvcj4pLlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBTdHlsZXMgYXMgb2JqZWN0IHVzYWdlXG4gKiBjb25zdCBzdHlsZXMgPSB7XG4gKiAgIGJhY2tncm91bmQ6IGNvbXBsZW1lbnQoJyM0NDgnKSxcbiAqICAgYmFja2dyb3VuZDogY29tcGxlbWVudCgncmdiYSgyMDQsMjA1LDEwMCwwLjcpJyksXG4gKiB9XG4gKlxuICogLy8gc3R5bGVkLWNvbXBvbmVudHMgdXNhZ2VcbiAqIGNvbnN0IGRpdiA9IHN0eWxlZC5kaXZgXG4gKiAgIGJhY2tncm91bmQ6ICR7Y29tcGxlbWVudCgnIzQ0OCcpfTtcbiAqICAgYmFja2dyb3VuZDogJHtjb21wbGVtZW50KCdyZ2JhKDIwNCwyMDUsMTAwLDAuNyknKX07XG4gKiBgXG4gKlxuICogLy8gQ1NTIGluIEpTIE91dHB1dFxuICogZWxlbWVudCB7XG4gKiAgIGJhY2tncm91bmQ6IFwiIzg4NFwiO1xuICogICBiYWNrZ3JvdW5kOiBcInJnYmEoMTUzLDE1MywxNTMsMC43KVwiO1xuICogfVxuICovXG5cbmZ1bmN0aW9uIGNvbXBsZW1lbnQoY29sb3IpIHtcbiAgaWYgKGNvbG9yID09PSAndHJhbnNwYXJlbnQnKSByZXR1cm4gY29sb3I7XG4gIHZhciBoc2xDb2xvciA9IHBhcnNlVG9Ic2woY29sb3IpO1xuICByZXR1cm4gdG9Db2xvclN0cmluZyhfZXh0ZW5kcyh7fSwgaHNsQ29sb3IsIHtcbiAgICBodWU6IChoc2xDb2xvci5odWUgKyAxODApICUgMzYwXG4gIH0pKTtcbn1cblxuZnVuY3Rpb24gZ3VhcmQobG93ZXJCb3VuZGFyeSwgdXBwZXJCb3VuZGFyeSwgdmFsdWUpIHtcbiAgcmV0dXJuIE1hdGgubWF4KGxvd2VyQm91bmRhcnksIE1hdGgubWluKHVwcGVyQm91bmRhcnksIHZhbHVlKSk7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIHN0cmluZyB2YWx1ZSBmb3IgdGhlIGRhcmtlbmVkIGNvbG9yLlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBTdHlsZXMgYXMgb2JqZWN0IHVzYWdlXG4gKiBjb25zdCBzdHlsZXMgPSB7XG4gKiAgIGJhY2tncm91bmQ6IGRhcmtlbigwLjIsICcjRkZDRDY0JyksXG4gKiAgIGJhY2tncm91bmQ6IGRhcmtlbignMC4yJywgJ3JnYmEoMjU1LDIwNSwxMDAsMC43KScpLFxuICogfVxuICpcbiAqIC8vIHN0eWxlZC1jb21wb25lbnRzIHVzYWdlXG4gKiBjb25zdCBkaXYgPSBzdHlsZWQuZGl2YFxuICogICBiYWNrZ3JvdW5kOiAke2RhcmtlbigwLjIsICcjRkZDRDY0Jyl9O1xuICogICBiYWNrZ3JvdW5kOiAke2RhcmtlbignMC4yJywgJ3JnYmEoMjU1LDIwNSwxMDAsMC43KScpfTtcbiAqIGBcbiAqXG4gKiAvLyBDU1MgaW4gSlMgT3V0cHV0XG4gKlxuICogZWxlbWVudCB7XG4gKiAgIGJhY2tncm91bmQ6IFwiI2ZmYmQzMVwiO1xuICogICBiYWNrZ3JvdW5kOiBcInJnYmEoMjU1LDE4OSw0OSwwLjcpXCI7XG4gKiB9XG4gKi9cblxuZnVuY3Rpb24gZGFya2VuKGFtb3VudCwgY29sb3IpIHtcbiAgaWYgKGNvbG9yID09PSAndHJhbnNwYXJlbnQnKSByZXR1cm4gY29sb3I7XG4gIHZhciBoc2xDb2xvciA9IHBhcnNlVG9Ic2woY29sb3IpO1xuICByZXR1cm4gdG9Db2xvclN0cmluZyhfZXh0ZW5kcyh7fSwgaHNsQ29sb3IsIHtcbiAgICBsaWdodG5lc3M6IGd1YXJkKDAsIDEsIGhzbENvbG9yLmxpZ2h0bmVzcyAtIHBhcnNlRmxvYXQoYW1vdW50KSlcbiAgfSkpO1xufSAvLyBwcmV0dGllci1pZ25vcmVcblxuXG52YXIgY3VycmllZERhcmtlbiA9XG4vKiNfX1BVUkVfXyovXG5jdXJyeVxuLyogOjo8bnVtYmVyIHwgc3RyaW5nLCBzdHJpbmcsIHN0cmluZz4gKi9cbihkYXJrZW4pO1xuXG4vKipcbiAqIERlY3JlYXNlcyB0aGUgaW50ZW5zaXR5IG9mIGEgY29sb3IuIEl0cyByYW5nZSBpcyBiZXR3ZWVuIDAgdG8gMS4gVGhlIGZpcnN0XG4gKiBhcmd1bWVudCBvZiB0aGUgZGVzYXR1cmF0ZSBmdW5jdGlvbiBpcyB0aGUgYW1vdW50IGJ5IGhvdyBtdWNoIHRoZSBjb2xvclxuICogaW50ZW5zaXR5IHNob3VsZCBiZSBkZWNyZWFzZWQuXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFN0eWxlcyBhcyBvYmplY3QgdXNhZ2VcbiAqIGNvbnN0IHN0eWxlcyA9IHtcbiAqICAgYmFja2dyb3VuZDogZGVzYXR1cmF0ZSgwLjIsICcjQ0NDRDY0JyksXG4gKiAgIGJhY2tncm91bmQ6IGRlc2F0dXJhdGUoJzAuMicsICdyZ2JhKDIwNCwyMDUsMTAwLDAuNyknKSxcbiAqIH1cbiAqXG4gKiAvLyBzdHlsZWQtY29tcG9uZW50cyB1c2FnZVxuICogY29uc3QgZGl2ID0gc3R5bGVkLmRpdmBcbiAqICAgYmFja2dyb3VuZDogJHtkZXNhdHVyYXRlKDAuMiwgJyNDQ0NENjQnKX07XG4gKiAgIGJhY2tncm91bmQ6ICR7ZGVzYXR1cmF0ZSgnMC4yJywgJ3JnYmEoMjA0LDIwNSwxMDAsMC43KScpfTtcbiAqIGBcbiAqXG4gKiAvLyBDU1MgaW4gSlMgT3V0cHV0XG4gKiBlbGVtZW50IHtcbiAqICAgYmFja2dyb3VuZDogXCIjYjhiOTc5XCI7XG4gKiAgIGJhY2tncm91bmQ6IFwicmdiYSgxODQsMTg1LDEyMSwwLjcpXCI7XG4gKiB9XG4gKi9cblxuZnVuY3Rpb24gZGVzYXR1cmF0ZShhbW91bnQsIGNvbG9yKSB7XG4gIGlmIChjb2xvciA9PT0gJ3RyYW5zcGFyZW50JykgcmV0dXJuIGNvbG9yO1xuICB2YXIgaHNsQ29sb3IgPSBwYXJzZVRvSHNsKGNvbG9yKTtcbiAgcmV0dXJuIHRvQ29sb3JTdHJpbmcoX2V4dGVuZHMoe30sIGhzbENvbG9yLCB7XG4gICAgc2F0dXJhdGlvbjogZ3VhcmQoMCwgMSwgaHNsQ29sb3Iuc2F0dXJhdGlvbiAtIHBhcnNlRmxvYXQoYW1vdW50KSlcbiAgfSkpO1xufSAvLyBwcmV0dGllci1pZ25vcmVcblxuXG52YXIgY3VycmllZERlc2F0dXJhdGUgPVxuLyojX19QVVJFX18qL1xuY3Vycnlcbi8qIDo6PG51bWJlciB8IHN0cmluZywgc3RyaW5nLCBzdHJpbmc+ICovXG4oZGVzYXR1cmF0ZSk7XG5cbi8qKlxuICogUmV0dXJucyBhIG51bWJlciAoZmxvYXQpIHJlcHJlc2VudGluZyB0aGUgbHVtaW5hbmNlIG9mIGEgY29sb3IuXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFN0eWxlcyBhcyBvYmplY3QgdXNhZ2VcbiAqIGNvbnN0IHN0eWxlcyA9IHtcbiAqICAgYmFja2dyb3VuZDogZ2V0THVtaW5hbmNlKCcjQ0NDRDY0JykgPj0gZ2V0THVtaW5hbmNlKCcjMDAwMGZmJykgPyAnI0NDQ0Q2NCcgOiAnIzAwMDBmZicsXG4gKiAgIGJhY2tncm91bmQ6IGdldEx1bWluYW5jZSgncmdiYSg1OCwgMTMzLCAyNTUsIDEpJykgPj0gZ2V0THVtaW5hbmNlKCdyZ2JhKDI1NSwgNTcsIDE0OSwgMSknKSA/XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3JnYmEoNTgsIDEzMywgMjU1LCAxKScgOlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICdyZ2JhKDI1NSwgNTcsIDE0OSwgMSknLFxuICogfVxuICpcbiAqIC8vIHN0eWxlZC1jb21wb25lbnRzIHVzYWdlXG4gKiBjb25zdCBkaXYgPSBzdHlsZWQuZGl2YFxuICogICBiYWNrZ3JvdW5kOiAke2dldEx1bWluYW5jZSgnI0NDQ0Q2NCcpID49IGdldEx1bWluYW5jZSgnIzAwMDBmZicpID8gJyNDQ0NENjQnIDogJyMwMDAwZmYnfTtcbiAqICAgYmFja2dyb3VuZDogJHtnZXRMdW1pbmFuY2UoJ3JnYmEoNTgsIDEzMywgMjU1LCAxKScpID49IGdldEx1bWluYW5jZSgncmdiYSgyNTUsIDU3LCAxNDksIDEpJykgP1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICdyZ2JhKDU4LCAxMzMsIDI1NSwgMSknIDpcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAncmdiYSgyNTUsIDU3LCAxNDksIDEpJ307XG4gKlxuICogLy8gQ1NTIGluIEpTIE91dHB1dFxuICpcbiAqIGRpdiB7XG4gKiAgIGJhY2tncm91bmQ6IFwiI0NDQ0Q2NFwiO1xuICogICBiYWNrZ3JvdW5kOiBcInJnYmEoNTgsIDEzMywgMjU1LCAxKVwiO1xuICogfVxuICovXG5cbmZ1bmN0aW9uIGdldEx1bWluYW5jZShjb2xvcikge1xuICBpZiAoY29sb3IgPT09ICd0cmFuc3BhcmVudCcpIHJldHVybiAwO1xuICB2YXIgcmdiQ29sb3IgPSBwYXJzZVRvUmdiKGNvbG9yKTtcblxuICB2YXIgX09iamVjdCRrZXlzJG1hcCA9IE9iamVjdC5rZXlzKHJnYkNvbG9yKS5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgIHZhciBjaGFubmVsID0gcmdiQ29sb3Jba2V5XSAvIDI1NTtcbiAgICByZXR1cm4gY2hhbm5lbCA8PSAwLjAzOTI4ID8gY2hhbm5lbCAvIDEyLjkyIDogTWF0aC5wb3coKGNoYW5uZWwgKyAwLjA1NSkgLyAxLjA1NSwgMi40KTtcbiAgfSksXG4gICAgICByID0gX09iamVjdCRrZXlzJG1hcFswXSxcbiAgICAgIGcgPSBfT2JqZWN0JGtleXMkbWFwWzFdLFxuICAgICAgYiA9IF9PYmplY3Qka2V5cyRtYXBbMl07XG5cbiAgcmV0dXJuIHBhcnNlRmxvYXQoKDAuMjEyNiAqIHIgKyAwLjcxNTIgKiBnICsgMC4wNzIyICogYikudG9GaXhlZCgzKSk7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgY29udHJhc3QgcmF0aW8gYmV0d2VlbiB0d28gY29sb3JzIGJhc2VkIG9uXG4gKiBbVzMncyByZWNvbW1lbmRlZCBlcXVhdGlvbiBmb3IgY2FsY3VsYXRpbmcgY29udHJhc3RdKGh0dHA6Ly93d3cudzMub3JnL1RSL1dDQUcyMC8jY29udHJhc3QtcmF0aW9kZWYpLlxuICpcbiAqIEBleGFtcGxlXG4gKiBjb25zdCBjb250cmFzdFJhdGlvID0gZ2V0Q29udHJhc3QoJyM0NDQnLCAnI2ZmZicpO1xuICovXG5cbmZ1bmN0aW9uIGdldENvbnRyYXN0KGNvbG9yMSwgY29sb3IyKSB7XG4gIHZhciBsdW1pbmFuY2UxID0gZ2V0THVtaW5hbmNlKGNvbG9yMSk7XG4gIHZhciBsdW1pbmFuY2UyID0gZ2V0THVtaW5hbmNlKGNvbG9yMik7XG4gIHJldHVybiBwYXJzZUZsb2F0KChsdW1pbmFuY2UxID4gbHVtaW5hbmNlMiA/IChsdW1pbmFuY2UxICsgMC4wNSkgLyAobHVtaW5hbmNlMiArIDAuMDUpIDogKGx1bWluYW5jZTIgKyAwLjA1KSAvIChsdW1pbmFuY2UxICsgMC4wNSkpLnRvRml4ZWQoMikpO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIHRoZSBjb2xvciB0byBhIGdyYXlzY2FsZSwgYnkgcmVkdWNpbmcgaXRzIHNhdHVyYXRpb24gdG8gMC5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gU3R5bGVzIGFzIG9iamVjdCB1c2FnZVxuICogY29uc3Qgc3R5bGVzID0ge1xuICogICBiYWNrZ3JvdW5kOiBncmF5c2NhbGUoJyNDQ0NENjQnKSxcbiAqICAgYmFja2dyb3VuZDogZ3JheXNjYWxlKCdyZ2JhKDIwNCwyMDUsMTAwLDAuNyknKSxcbiAqIH1cbiAqXG4gKiAvLyBzdHlsZWQtY29tcG9uZW50cyB1c2FnZVxuICogY29uc3QgZGl2ID0gc3R5bGVkLmRpdmBcbiAqICAgYmFja2dyb3VuZDogJHtncmF5c2NhbGUoJyNDQ0NENjQnKX07XG4gKiAgIGJhY2tncm91bmQ6ICR7Z3JheXNjYWxlKCdyZ2JhKDIwNCwyMDUsMTAwLDAuNyknKX07XG4gKiBgXG4gKlxuICogLy8gQ1NTIGluIEpTIE91dHB1dFxuICogZWxlbWVudCB7XG4gKiAgIGJhY2tncm91bmQ6IFwiIzk5OVwiO1xuICogICBiYWNrZ3JvdW5kOiBcInJnYmEoMTUzLDE1MywxNTMsMC43KVwiO1xuICogfVxuICovXG5cbmZ1bmN0aW9uIGdyYXlzY2FsZShjb2xvcikge1xuICBpZiAoY29sb3IgPT09ICd0cmFuc3BhcmVudCcpIHJldHVybiBjb2xvcjtcbiAgcmV0dXJuIHRvQ29sb3JTdHJpbmcoX2V4dGVuZHMoe30sIHBhcnNlVG9Ic2woY29sb3IpLCB7XG4gICAgc2F0dXJhdGlvbjogMFxuICB9KSk7XG59XG5cbmZ1bmN0aW9uIGhzbFRvQ29sb3JTdHJpbmcoY29sb3IpIHtcbiAgaWYgKHR5cGVvZiBjb2xvciA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIGNvbG9yLmh1ZSA9PT0gJ251bWJlcicgJiYgdHlwZW9mIGNvbG9yLnNhdHVyYXRpb24gPT09ICdudW1iZXInICYmIHR5cGVvZiBjb2xvci5saWdodG5lc3MgPT09ICdudW1iZXInKSB7XG4gICAgaWYgKGNvbG9yLmFscGhhICYmIHR5cGVvZiBjb2xvci5hbHBoYSA9PT0gJ251bWJlcicpIHtcbiAgICAgIHJldHVybiBoc2xhKHtcbiAgICAgICAgaHVlOiBjb2xvci5odWUsXG4gICAgICAgIHNhdHVyYXRpb246IGNvbG9yLnNhdHVyYXRpb24sXG4gICAgICAgIGxpZ2h0bmVzczogY29sb3IubGlnaHRuZXNzLFxuICAgICAgICBhbHBoYTogY29sb3IuYWxwaGFcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBoc2woe1xuICAgICAgaHVlOiBjb2xvci5odWUsXG4gICAgICBzYXR1cmF0aW9uOiBjb2xvci5zYXR1cmF0aW9uLFxuICAgICAgbGlnaHRuZXNzOiBjb2xvci5saWdodG5lc3NcbiAgICB9KTtcbiAgfVxuXG4gIHRocm93IG5ldyBQb2xpc2hlZEVycm9yKDQ1KTtcbn1cblxuLyoqXG4gKiBJbnZlcnRzIHRoZSByZWQsIGdyZWVuIGFuZCBibHVlIHZhbHVlcyBvZiBhIGNvbG9yLlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBTdHlsZXMgYXMgb2JqZWN0IHVzYWdlXG4gKiBjb25zdCBzdHlsZXMgPSB7XG4gKiAgIGJhY2tncm91bmQ6IGludmVydCgnI0NDQ0Q2NCcpLFxuICogICBiYWNrZ3JvdW5kOiBpbnZlcnQoJ3JnYmEoMTAxLDEwMCwyMDUsMC43KScpLFxuICogfVxuICpcbiAqIC8vIHN0eWxlZC1jb21wb25lbnRzIHVzYWdlXG4gKiBjb25zdCBkaXYgPSBzdHlsZWQuZGl2YFxuICogICBiYWNrZ3JvdW5kOiAke2ludmVydCgnI0NDQ0Q2NCcpfTtcbiAqICAgYmFja2dyb3VuZDogJHtpbnZlcnQoJ3JnYmEoMTAxLDEwMCwyMDUsMC43KScpfTtcbiAqIGBcbiAqXG4gKiAvLyBDU1MgaW4gSlMgT3V0cHV0XG4gKlxuICogZWxlbWVudCB7XG4gKiAgIGJhY2tncm91bmQ6IFwiIzMzMzI5YlwiO1xuICogICBiYWNrZ3JvdW5kOiBcInJnYmEoMTU0LDE1NSw1MCwwLjcpXCI7XG4gKiB9XG4gKi9cblxuZnVuY3Rpb24gaW52ZXJ0KGNvbG9yKSB7XG4gIGlmIChjb2xvciA9PT0gJ3RyYW5zcGFyZW50JykgcmV0dXJuIGNvbG9yOyAvLyBwYXJzZSBjb2xvciBzdHJpbmcgdG8gcmdiXG5cbiAgdmFyIHZhbHVlID0gcGFyc2VUb1JnYihjb2xvcik7XG4gIHJldHVybiB0b0NvbG9yU3RyaW5nKF9leHRlbmRzKHt9LCB2YWx1ZSwge1xuICAgIHJlZDogMjU1IC0gdmFsdWUucmVkLFxuICAgIGdyZWVuOiAyNTUgLSB2YWx1ZS5ncmVlbixcbiAgICBibHVlOiAyNTUgLSB2YWx1ZS5ibHVlXG4gIH0pKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgc3RyaW5nIHZhbHVlIGZvciB0aGUgbGlnaHRlbmVkIGNvbG9yLlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBTdHlsZXMgYXMgb2JqZWN0IHVzYWdlXG4gKiBjb25zdCBzdHlsZXMgPSB7XG4gKiAgIGJhY2tncm91bmQ6IGxpZ2h0ZW4oMC4yLCAnI0NDQ0Q2NCcpLFxuICogICBiYWNrZ3JvdW5kOiBsaWdodGVuKCcwLjInLCAncmdiYSgyMDQsMjA1LDEwMCwwLjcpJyksXG4gKiB9XG4gKlxuICogLy8gc3R5bGVkLWNvbXBvbmVudHMgdXNhZ2VcbiAqIGNvbnN0IGRpdiA9IHN0eWxlZC5kaXZgXG4gKiAgIGJhY2tncm91bmQ6ICR7bGlnaHRlbigwLjIsICcjRkZDRDY0Jyl9O1xuICogICBiYWNrZ3JvdW5kOiAke2xpZ2h0ZW4oJzAuMicsICdyZ2JhKDIwNCwyMDUsMTAwLDAuNyknKX07XG4gKiBgXG4gKlxuICogLy8gQ1NTIGluIEpTIE91dHB1dFxuICpcbiAqIGVsZW1lbnQge1xuICogICBiYWNrZ3JvdW5kOiBcIiNlNWU2YjFcIjtcbiAqICAgYmFja2dyb3VuZDogXCJyZ2JhKDIyOSwyMzAsMTc3LDAuNylcIjtcbiAqIH1cbiAqL1xuXG5mdW5jdGlvbiBsaWdodGVuKGFtb3VudCwgY29sb3IpIHtcbiAgaWYgKGNvbG9yID09PSAndHJhbnNwYXJlbnQnKSByZXR1cm4gY29sb3I7XG4gIHZhciBoc2xDb2xvciA9IHBhcnNlVG9Ic2woY29sb3IpO1xuICByZXR1cm4gdG9Db2xvclN0cmluZyhfZXh0ZW5kcyh7fSwgaHNsQ29sb3IsIHtcbiAgICBsaWdodG5lc3M6IGd1YXJkKDAsIDEsIGhzbENvbG9yLmxpZ2h0bmVzcyArIHBhcnNlRmxvYXQoYW1vdW50KSlcbiAgfSkpO1xufSAvLyBwcmV0dGllci1pZ25vcmVcblxuXG52YXIgY3VycmllZExpZ2h0ZW4gPVxuLyojX19QVVJFX18qL1xuY3Vycnlcbi8qIDo6PG51bWJlciB8IHN0cmluZywgc3RyaW5nLCBzdHJpbmc+ICovXG4obGlnaHRlbik7XG5cbmZ1bmN0aW9uIG1lZXRzQ29udHJhc3RHdWlkZWxpbmVzKGNvbG9yMSwgY29sb3IyKSB7XG4gIHZhciBjb250cmFzdFJhdGlvID0gZ2V0Q29udHJhc3QoY29sb3IxLCBjb2xvcjIpO1xuICByZXR1cm4ge1xuICAgIEFBOiBjb250cmFzdFJhdGlvID49IDQuNSxcbiAgICBBQUxhcmdlOiBjb250cmFzdFJhdGlvID49IDMsXG4gICAgQUFBOiBjb250cmFzdFJhdGlvID49IDcsXG4gICAgQUFBTGFyZ2U6IGNvbnRyYXN0UmF0aW8gPj0gNC41XG4gIH07XG59XG5cbi8qKlxuICogTWl4ZXMgdGhlIHR3byBwcm92aWRlZCBjb2xvcnMgdG9nZXRoZXIgYnkgY2FsY3VsYXRpbmcgdGhlIGF2ZXJhZ2Ugb2YgZWFjaCBvZiB0aGUgUkdCIGNvbXBvbmVudHMgd2VpZ2h0ZWQgdG8gdGhlIGZpcnN0IGNvbG9yIGJ5IHRoZSBwcm92aWRlZCB3ZWlnaHQuXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFN0eWxlcyBhcyBvYmplY3QgdXNhZ2VcbiAqIGNvbnN0IHN0eWxlcyA9IHtcbiAqICAgYmFja2dyb3VuZDogbWl4KDAuNSwgJyNmMDAnLCAnIzAwZicpXG4gKiAgIGJhY2tncm91bmQ6IG1peCgwLjI1LCAnI2YwMCcsICcjMDBmJylcbiAqICAgYmFja2dyb3VuZDogbWl4KCcwLjUnLCAncmdiYSgyNTUsIDAsIDAsIDAuNSknLCAnIzAwZicpXG4gKiB9XG4gKlxuICogLy8gc3R5bGVkLWNvbXBvbmVudHMgdXNhZ2VcbiAqIGNvbnN0IGRpdiA9IHN0eWxlZC5kaXZgXG4gKiAgIGJhY2tncm91bmQ6ICR7bWl4KDAuNSwgJyNmMDAnLCAnIzAwZicpfTtcbiAqICAgYmFja2dyb3VuZDogJHttaXgoMC4yNSwgJyNmMDAnLCAnIzAwZicpfTtcbiAqICAgYmFja2dyb3VuZDogJHttaXgoJzAuNScsICdyZ2JhKDI1NSwgMCwgMCwgMC41KScsICcjMDBmJyl9O1xuICogYFxuICpcbiAqIC8vIENTUyBpbiBKUyBPdXRwdXRcbiAqXG4gKiBlbGVtZW50IHtcbiAqICAgYmFja2dyb3VuZDogXCIjN2YwMDdmXCI7XG4gKiAgIGJhY2tncm91bmQ6IFwiIzNmMDBiZlwiO1xuICogICBiYWNrZ3JvdW5kOiBcInJnYmEoNjMsIDAsIDE5MSwgMC43NSlcIjtcbiAqIH1cbiAqL1xuXG5mdW5jdGlvbiBtaXgod2VpZ2h0LCBjb2xvciwgb3RoZXJDb2xvcikge1xuICBpZiAoY29sb3IgPT09ICd0cmFuc3BhcmVudCcpIHJldHVybiBvdGhlckNvbG9yO1xuICBpZiAob3RoZXJDb2xvciA9PT0gJ3RyYW5zcGFyZW50JykgcmV0dXJuIGNvbG9yO1xuICB2YXIgcGFyc2VkQ29sb3IxID0gcGFyc2VUb1JnYihjb2xvcik7XG5cbiAgdmFyIGNvbG9yMSA9IF9leHRlbmRzKHt9LCBwYXJzZWRDb2xvcjEsIHtcbiAgICBhbHBoYTogdHlwZW9mIHBhcnNlZENvbG9yMS5hbHBoYSA9PT0gJ251bWJlcicgPyBwYXJzZWRDb2xvcjEuYWxwaGEgOiAxXG4gIH0pO1xuXG4gIHZhciBwYXJzZWRDb2xvcjIgPSBwYXJzZVRvUmdiKG90aGVyQ29sb3IpO1xuXG4gIHZhciBjb2xvcjIgPSBfZXh0ZW5kcyh7fSwgcGFyc2VkQ29sb3IyLCB7XG4gICAgYWxwaGE6IHR5cGVvZiBwYXJzZWRDb2xvcjIuYWxwaGEgPT09ICdudW1iZXInID8gcGFyc2VkQ29sb3IyLmFscGhhIDogMVxuICB9KTsgLy8gVGhlIGZvcm11bGFyIGlzIGNvcGllZCBmcm9tIHRoZSBvcmlnaW5hbCBTYXNzIGltcGxlbWVudGF0aW9uOlxuICAvLyBodHRwOi8vc2Fzcy1sYW5nLmNvbS9kb2N1bWVudGF0aW9uL1Nhc3MvU2NyaXB0L0Z1bmN0aW9ucy5odG1sI21peC1pbnN0YW5jZV9tZXRob2RcblxuXG4gIHZhciBhbHBoYURlbHRhID0gY29sb3IxLmFscGhhIC0gY29sb3IyLmFscGhhO1xuICB2YXIgeCA9IHBhcnNlRmxvYXQod2VpZ2h0KSAqIDIgLSAxO1xuICB2YXIgeSA9IHggKiBhbHBoYURlbHRhID09PSAtMSA/IHggOiB4ICsgYWxwaGFEZWx0YTtcbiAgdmFyIHogPSAxICsgeCAqIGFscGhhRGVsdGE7XG4gIHZhciB3ZWlnaHQxID0gKHkgLyB6ICsgMSkgLyAyLjA7XG4gIHZhciB3ZWlnaHQyID0gMSAtIHdlaWdodDE7XG4gIHZhciBtaXhlZENvbG9yID0ge1xuICAgIHJlZDogTWF0aC5mbG9vcihjb2xvcjEucmVkICogd2VpZ2h0MSArIGNvbG9yMi5yZWQgKiB3ZWlnaHQyKSxcbiAgICBncmVlbjogTWF0aC5mbG9vcihjb2xvcjEuZ3JlZW4gKiB3ZWlnaHQxICsgY29sb3IyLmdyZWVuICogd2VpZ2h0MiksXG4gICAgYmx1ZTogTWF0aC5mbG9vcihjb2xvcjEuYmx1ZSAqIHdlaWdodDEgKyBjb2xvcjIuYmx1ZSAqIHdlaWdodDIpLFxuICAgIGFscGhhOiBjb2xvcjEuYWxwaGEgKyAoY29sb3IyLmFscGhhIC0gY29sb3IxLmFscGhhKSAqIChwYXJzZUZsb2F0KHdlaWdodCkgLyAxLjApXG4gIH07XG4gIHJldHVybiByZ2JhKG1peGVkQ29sb3IpO1xufSAvLyBwcmV0dGllci1pZ25vcmVcblxuXG52YXIgY3VycmllZE1peCA9XG4vKiNfX1BVUkVfXyovXG5jdXJyeVxuLyogOjo8bnVtYmVyIHwgc3RyaW5nLCBzdHJpbmcsIHN0cmluZywgc3RyaW5nPiAqL1xuKG1peCk7XG5cbi8qKlxuICogSW5jcmVhc2VzIHRoZSBvcGFjaXR5IG9mIGEgY29sb3IuIEl0cyByYW5nZSBmb3IgdGhlIGFtb3VudCBpcyBiZXR3ZWVuIDAgdG8gMS5cbiAqXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFN0eWxlcyBhcyBvYmplY3QgdXNhZ2VcbiAqIGNvbnN0IHN0eWxlcyA9IHtcbiAqICAgYmFja2dyb3VuZDogb3BhY2lmeSgwLjEsICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOSknKTtcbiAqICAgYmFja2dyb3VuZDogb3BhY2lmeSgwLjIsICdoc2xhKDAsIDAlLCAxMDAlLCAwLjUpJyksXG4gKiAgIGJhY2tncm91bmQ6IG9wYWNpZnkoJzAuNScsICdyZ2JhKDI1NSwgMCwgMCwgMC4yKScpLFxuICogfVxuICpcbiAqIC8vIHN0eWxlZC1jb21wb25lbnRzIHVzYWdlXG4gKiBjb25zdCBkaXYgPSBzdHlsZWQuZGl2YFxuICogICBiYWNrZ3JvdW5kOiAke29wYWNpZnkoMC4xLCAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjkpJyl9O1xuICogICBiYWNrZ3JvdW5kOiAke29wYWNpZnkoMC4yLCAnaHNsYSgwLCAwJSwgMTAwJSwgMC41KScpfSxcbiAqICAgYmFja2dyb3VuZDogJHtvcGFjaWZ5KCcwLjUnLCAncmdiYSgyNTUsIDAsIDAsIDAuMiknKX0sXG4gKiBgXG4gKlxuICogLy8gQ1NTIGluIEpTIE91dHB1dFxuICpcbiAqIGVsZW1lbnQge1xuICogICBiYWNrZ3JvdW5kOiBcIiNmZmZcIjtcbiAqICAgYmFja2dyb3VuZDogXCJyZ2JhKDI1NSwyNTUsMjU1LDAuNylcIjtcbiAqICAgYmFja2dyb3VuZDogXCJyZ2JhKDI1NSwwLDAsMC43KVwiO1xuICogfVxuICovXG5cbmZ1bmN0aW9uIG9wYWNpZnkoYW1vdW50LCBjb2xvcikge1xuICBpZiAoY29sb3IgPT09ICd0cmFuc3BhcmVudCcpIHJldHVybiBjb2xvcjtcbiAgdmFyIHBhcnNlZENvbG9yID0gcGFyc2VUb1JnYihjb2xvcik7XG4gIHZhciBhbHBoYSA9IHR5cGVvZiBwYXJzZWRDb2xvci5hbHBoYSA9PT0gJ251bWJlcicgPyBwYXJzZWRDb2xvci5hbHBoYSA6IDE7XG5cbiAgdmFyIGNvbG9yV2l0aEFscGhhID0gX2V4dGVuZHMoe30sIHBhcnNlZENvbG9yLCB7XG4gICAgYWxwaGE6IGd1YXJkKDAsIDEsIChhbHBoYSAqIDEwMCArIHBhcnNlRmxvYXQoYW1vdW50KSAqIDEwMCkgLyAxMDApXG4gIH0pO1xuXG4gIHJldHVybiByZ2JhKGNvbG9yV2l0aEFscGhhKTtcbn0gLy8gcHJldHRpZXItaWdub3JlXG5cblxudmFyIGN1cnJpZWRPcGFjaWZ5ID1cbi8qI19fUFVSRV9fKi9cbmN1cnJ5XG4vKiA6OjxudW1iZXIgfCBzdHJpbmcsIHN0cmluZywgc3RyaW5nPiAqL1xuKG9wYWNpZnkpO1xuXG4vKipcbiAqIFJldHVybnMgYmxhY2sgb3Igd2hpdGUgKG9yIG9wdGlvbmFsIGxpZ2h0IGFuZCBkYXJrIHJldHVybiBjb2xvcnMpIGZvciBiZXN0IGNvbnRyYXN0IGRlcGVuZGluZyBvbiB0aGUgbHVtaW5vc2l0eSBvZiB0aGUgZ2l2ZW4gY29sb3IuXG4gKiBGb2xsb3dzIFtXM0Mgc3BlY3MgZm9yIHJlYWRhYmlsaXR5XShodHRwczovL3d3dy53My5vcmcvVFIvV0NBRzIwLVRFQ0hTL0cxOC5odG1sKS5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gU3R5bGVzIGFzIG9iamVjdCB1c2FnZVxuICogY29uc3Qgc3R5bGVzID0ge1xuICogICBjb2xvcjogcmVhZGFibGVDb2xvcignIzAwMCcpLFxuICogICBjb2xvcjogcmVhZGFibGVDb2xvcignYmxhY2snLCAnIzAwMScsICcjZmY4JyksXG4gKiAgIGNvbG9yOiByZWFkYWJsZUNvbG9yKCd3aGl0ZScsICcjMDAxJywgJyNmZjgnKSxcbiAqIH1cbiAqXG4gKiAvLyBzdHlsZWQtY29tcG9uZW50cyB1c2FnZVxuICogY29uc3QgZGl2ID0gc3R5bGVkLmRpdmBcbiAqICAgY29sb3I6ICR7cmVhZGFibGVDb2xvcignIzAwMCcpfTtcbiAqICAgY29sb3I6ICR7cmVhZGFibGVDb2xvcignYmxhY2snLCAnIzAwMScsICcjZmY4Jyl9O1xuICogICBjb2xvcjogJHtyZWFkYWJsZUNvbG9yKCd3aGl0ZScsICcjMDAxJywgJyNmZjgnKX07XG4gKiBgXG4gKlxuICogLy8gQ1NTIGluIEpTIE91dHB1dFxuICpcbiAqIGVsZW1lbnQge1xuICogICBjb2xvcjogXCIjZmZmXCI7XG4gKiAgIGNvbG9yOiBcIiNmZjhcIjtcbiAqICAgY29sb3I6IFwiIzAwMVwiO1xuICogfVxuICovXG5cbmZ1bmN0aW9uIHJlYWRhYmxlQ29sb3IoY29sb3IsIGxpZ2h0UmV0dXJuQ29sb3IsIGRhcmtSZXR1cm5Db2xvcikge1xuICBpZiAobGlnaHRSZXR1cm5Db2xvciA9PT0gdm9pZCAwKSB7XG4gICAgbGlnaHRSZXR1cm5Db2xvciA9ICcjMDAwJztcbiAgfVxuXG4gIGlmIChkYXJrUmV0dXJuQ29sb3IgPT09IHZvaWQgMCkge1xuICAgIGRhcmtSZXR1cm5Db2xvciA9ICcjZmZmJztcbiAgfVxuXG4gIHJldHVybiBnZXRMdW1pbmFuY2UoY29sb3IpID4gMC4xNzkgPyBsaWdodFJldHVybkNvbG9yIDogZGFya1JldHVybkNvbG9yO1xufVxuXG5mdW5jdGlvbiByZ2JUb0NvbG9yU3RyaW5nKGNvbG9yKSB7XG4gIGlmICh0eXBlb2YgY29sb3IgPT09ICdvYmplY3QnICYmIHR5cGVvZiBjb2xvci5yZWQgPT09ICdudW1iZXInICYmIHR5cGVvZiBjb2xvci5ncmVlbiA9PT0gJ251bWJlcicgJiYgdHlwZW9mIGNvbG9yLmJsdWUgPT09ICdudW1iZXInKSB7XG4gICAgaWYgKGNvbG9yLmFscGhhICYmIHR5cGVvZiBjb2xvci5hbHBoYSA9PT0gJ251bWJlcicpIHtcbiAgICAgIHJldHVybiByZ2JhKHtcbiAgICAgICAgcmVkOiBjb2xvci5yZWQsXG4gICAgICAgIGdyZWVuOiBjb2xvci5ncmVlbixcbiAgICAgICAgYmx1ZTogY29sb3IuYmx1ZSxcbiAgICAgICAgYWxwaGE6IGNvbG9yLmFscGhhXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmdiKHtcbiAgICAgIHJlZDogY29sb3IucmVkLFxuICAgICAgZ3JlZW46IGNvbG9yLmdyZWVuLFxuICAgICAgYmx1ZTogY29sb3IuYmx1ZVxuICAgIH0pO1xuICB9XG5cbiAgdGhyb3cgbmV3IFBvbGlzaGVkRXJyb3IoNDYpO1xufVxuXG4vKipcbiAqIEluY3JlYXNlcyB0aGUgaW50ZW5zaXR5IG9mIGEgY29sb3IuIEl0cyByYW5nZSBpcyBiZXR3ZWVuIDAgdG8gMS4gVGhlIGZpcnN0XG4gKiBhcmd1bWVudCBvZiB0aGUgc2F0dXJhdGUgZnVuY3Rpb24gaXMgdGhlIGFtb3VudCBieSBob3cgbXVjaCB0aGUgY29sb3JcbiAqIGludGVuc2l0eSBzaG91bGQgYmUgaW5jcmVhc2VkLlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBTdHlsZXMgYXMgb2JqZWN0IHVzYWdlXG4gKiBjb25zdCBzdHlsZXMgPSB7XG4gKiAgIGJhY2tncm91bmQ6IHNhdHVyYXRlKDAuMiwgJyNDQ0NENjQnKSxcbiAqICAgYmFja2dyb3VuZDogc2F0dXJhdGUoJzAuMicsICdyZ2JhKDIwNCwyMDUsMTAwLDAuNyknKSxcbiAqIH1cbiAqXG4gKiAvLyBzdHlsZWQtY29tcG9uZW50cyB1c2FnZVxuICogY29uc3QgZGl2ID0gc3R5bGVkLmRpdmBcbiAqICAgYmFja2dyb3VuZDogJHtzYXR1cmF0ZSgwLjIsICcjRkZDRDY0Jyl9O1xuICogICBiYWNrZ3JvdW5kOiAke3NhdHVyYXRlKCcwLjInLCAncmdiYSgyMDQsMjA1LDEwMCwwLjcpJyl9O1xuICogYFxuICpcbiAqIC8vIENTUyBpbiBKUyBPdXRwdXRcbiAqXG4gKiBlbGVtZW50IHtcbiAqICAgYmFja2dyb3VuZDogXCIjZTBlMjUwXCI7XG4gKiAgIGJhY2tncm91bmQ6IFwicmdiYSgyMjQsMjI2LDgwLDAuNylcIjtcbiAqIH1cbiAqL1xuXG5mdW5jdGlvbiBzYXR1cmF0ZShhbW91bnQsIGNvbG9yKSB7XG4gIGlmIChjb2xvciA9PT0gJ3RyYW5zcGFyZW50JykgcmV0dXJuIGNvbG9yO1xuICB2YXIgaHNsQ29sb3IgPSBwYXJzZVRvSHNsKGNvbG9yKTtcbiAgcmV0dXJuIHRvQ29sb3JTdHJpbmcoX2V4dGVuZHMoe30sIGhzbENvbG9yLCB7XG4gICAgc2F0dXJhdGlvbjogZ3VhcmQoMCwgMSwgaHNsQ29sb3Iuc2F0dXJhdGlvbiArIHBhcnNlRmxvYXQoYW1vdW50KSlcbiAgfSkpO1xufSAvLyBwcmV0dGllci1pZ25vcmVcblxuXG52YXIgY3VycmllZFNhdHVyYXRlID1cbi8qI19fUFVSRV9fKi9cbmN1cnJ5XG4vKiA6OjxudW1iZXIgfCBzdHJpbmcsIHN0cmluZywgc3RyaW5nPiAqL1xuKHNhdHVyYXRlKTtcblxuLyoqXG4gKiBTZXRzIHRoZSBodWUgb2YgYSBjb2xvciB0byB0aGUgcHJvdmlkZWQgdmFsdWUuIFRoZSBodWUgcmFuZ2UgY2FuIGJlXG4gKiBmcm9tIDAgYW5kIDM1OS5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gU3R5bGVzIGFzIG9iamVjdCB1c2FnZVxuICogY29uc3Qgc3R5bGVzID0ge1xuICogICBiYWNrZ3JvdW5kOiBzZXRIdWUoNDIsICcjQ0NDRDY0JyksXG4gKiAgIGJhY2tncm91bmQ6IHNldEh1ZSgnMjQ0JywgJ3JnYmEoMjA0LDIwNSwxMDAsMC43KScpLFxuICogfVxuICpcbiAqIC8vIHN0eWxlZC1jb21wb25lbnRzIHVzYWdlXG4gKiBjb25zdCBkaXYgPSBzdHlsZWQuZGl2YFxuICogICBiYWNrZ3JvdW5kOiAke3NldEh1ZSg0MiwgJyNDQ0NENjQnKX07XG4gKiAgIGJhY2tncm91bmQ6ICR7c2V0SHVlKCcyNDQnLCAncmdiYSgyMDQsMjA1LDEwMCwwLjcpJyl9O1xuICogYFxuICpcbiAqIC8vIENTUyBpbiBKUyBPdXRwdXRcbiAqIGVsZW1lbnQge1xuICogICBiYWNrZ3JvdW5kOiBcIiNjZGFlNjRcIjtcbiAqICAgYmFja2dyb3VuZDogXCJyZ2JhKDEwNywxMDAsMjA1LDAuNylcIjtcbiAqIH1cbiAqL1xuXG5mdW5jdGlvbiBzZXRIdWUoaHVlLCBjb2xvcikge1xuICBpZiAoY29sb3IgPT09ICd0cmFuc3BhcmVudCcpIHJldHVybiBjb2xvcjtcbiAgcmV0dXJuIHRvQ29sb3JTdHJpbmcoX2V4dGVuZHMoe30sIHBhcnNlVG9Ic2woY29sb3IpLCB7XG4gICAgaHVlOiBwYXJzZUZsb2F0KGh1ZSlcbiAgfSkpO1xufSAvLyBwcmV0dGllci1pZ25vcmVcblxuXG52YXIgY3VycmllZFNldEh1ZSA9XG4vKiNfX1BVUkVfXyovXG5jdXJyeVxuLyogOjo8bnVtYmVyIHwgc3RyaW5nLCBzdHJpbmcsIHN0cmluZz4gKi9cbihzZXRIdWUpO1xuXG4vKipcbiAqIFNldHMgdGhlIGxpZ2h0bmVzcyBvZiBhIGNvbG9yIHRvIHRoZSBwcm92aWRlZCB2YWx1ZS4gVGhlIGxpZ2h0bmVzcyByYW5nZSBjYW4gYmVcbiAqIGZyb20gMCBhbmQgMS5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gU3R5bGVzIGFzIG9iamVjdCB1c2FnZVxuICogY29uc3Qgc3R5bGVzID0ge1xuICogICBiYWNrZ3JvdW5kOiBzZXRMaWdodG5lc3MoMC4yLCAnI0NDQ0Q2NCcpLFxuICogICBiYWNrZ3JvdW5kOiBzZXRMaWdodG5lc3MoJzAuNzUnLCAncmdiYSgyMDQsMjA1LDEwMCwwLjcpJyksXG4gKiB9XG4gKlxuICogLy8gc3R5bGVkLWNvbXBvbmVudHMgdXNhZ2VcbiAqIGNvbnN0IGRpdiA9IHN0eWxlZC5kaXZgXG4gKiAgIGJhY2tncm91bmQ6ICR7c2V0TGlnaHRuZXNzKDAuMiwgJyNDQ0NENjQnKX07XG4gKiAgIGJhY2tncm91bmQ6ICR7c2V0TGlnaHRuZXNzKCcwLjc1JywgJ3JnYmEoMjA0LDIwNSwxMDAsMC43KScpfTtcbiAqIGBcbiAqXG4gKiAvLyBDU1MgaW4gSlMgT3V0cHV0XG4gKiBlbGVtZW50IHtcbiAqICAgYmFja2dyb3VuZDogXCIjNGQ0ZDE5XCI7XG4gKiAgIGJhY2tncm91bmQ6IFwicmdiYSgyMjMsMjI0LDE1OSwwLjcpXCI7XG4gKiB9XG4gKi9cblxuZnVuY3Rpb24gc2V0TGlnaHRuZXNzKGxpZ2h0bmVzcywgY29sb3IpIHtcbiAgaWYgKGNvbG9yID09PSAndHJhbnNwYXJlbnQnKSByZXR1cm4gY29sb3I7XG4gIHJldHVybiB0b0NvbG9yU3RyaW5nKF9leHRlbmRzKHt9LCBwYXJzZVRvSHNsKGNvbG9yKSwge1xuICAgIGxpZ2h0bmVzczogcGFyc2VGbG9hdChsaWdodG5lc3MpXG4gIH0pKTtcbn0gLy8gcHJldHRpZXItaWdub3JlXG5cblxudmFyIGN1cnJpZWRTZXRMaWdodG5lc3MgPVxuLyojX19QVVJFX18qL1xuY3Vycnlcbi8qIDo6PG51bWJlciB8IHN0cmluZywgc3RyaW5nLCBzdHJpbmc+ICovXG4oc2V0TGlnaHRuZXNzKTtcblxuLyoqXG4gKiBTZXRzIHRoZSBzYXR1cmF0aW9uIG9mIGEgY29sb3IgdG8gdGhlIHByb3ZpZGVkIHZhbHVlLiBUaGUgc2F0dXJhdGlvbiByYW5nZSBjYW4gYmVcbiAqIGZyb20gMCBhbmQgMS5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gU3R5bGVzIGFzIG9iamVjdCB1c2FnZVxuICogY29uc3Qgc3R5bGVzID0ge1xuICogICBiYWNrZ3JvdW5kOiBzZXRTYXR1cmF0aW9uKDAuMiwgJyNDQ0NENjQnKSxcbiAqICAgYmFja2dyb3VuZDogc2V0U2F0dXJhdGlvbignMC43NScsICdyZ2JhKDIwNCwyMDUsMTAwLDAuNyknKSxcbiAqIH1cbiAqXG4gKiAvLyBzdHlsZWQtY29tcG9uZW50cyB1c2FnZVxuICogY29uc3QgZGl2ID0gc3R5bGVkLmRpdmBcbiAqICAgYmFja2dyb3VuZDogJHtzZXRTYXR1cmF0aW9uKDAuMiwgJyNDQ0NENjQnKX07XG4gKiAgIGJhY2tncm91bmQ6ICR7c2V0U2F0dXJhdGlvbignMC43NScsICdyZ2JhKDIwNCwyMDUsMTAwLDAuNyknKX07XG4gKiBgXG4gKlxuICogLy8gQ1NTIGluIEpTIE91dHB1dFxuICogZWxlbWVudCB7XG4gKiAgIGJhY2tncm91bmQ6IFwiI2FkYWQ4NFwiO1xuICogICBiYWNrZ3JvdW5kOiBcInJnYmEoMjI4LDIyOSw3NiwwLjcpXCI7XG4gKiB9XG4gKi9cblxuZnVuY3Rpb24gc2V0U2F0dXJhdGlvbihzYXR1cmF0aW9uLCBjb2xvcikge1xuICBpZiAoY29sb3IgPT09ICd0cmFuc3BhcmVudCcpIHJldHVybiBjb2xvcjtcbiAgcmV0dXJuIHRvQ29sb3JTdHJpbmcoX2V4dGVuZHMoe30sIHBhcnNlVG9Ic2woY29sb3IpLCB7XG4gICAgc2F0dXJhdGlvbjogcGFyc2VGbG9hdChzYXR1cmF0aW9uKVxuICB9KSk7XG59IC8vIHByZXR0aWVyLWlnbm9yZVxuXG5cbnZhciBjdXJyaWVkU2V0U2F0dXJhdGlvbiA9XG4vKiNfX1BVUkVfXyovXG5jdXJyeVxuLyogOjo8bnVtYmVyIHwgc3RyaW5nLCBzdHJpbmcsIHN0cmluZz4gKi9cbihzZXRTYXR1cmF0aW9uKTtcblxuLyoqXG4gKiBTaGFkZXMgYSBjb2xvciBieSBtaXhpbmcgaXQgd2l0aCBibGFjay4gYHNoYWRlYCBjYW4gcHJvZHVjZVxuICogaHVlIHNoaWZ0cywgd2hlcmUgYXMgYGRhcmtlbmAgbWFuaXB1bGF0ZXMgdGhlIGx1bWluYW5jZSBjaGFubmVsIGFuZCB0aGVyZWZvcmVcbiAqIGRvZXNuJ3QgcHJvZHVjZSBodWUgc2hpZnRzLlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBTdHlsZXMgYXMgb2JqZWN0IHVzYWdlXG4gKiBjb25zdCBzdHlsZXMgPSB7XG4gKiAgIGJhY2tncm91bmQ6IHNoYWRlKDAuMjUsICcjMDBmJylcbiAqIH1cbiAqXG4gKiAvLyBzdHlsZWQtY29tcG9uZW50cyB1c2FnZVxuICogY29uc3QgZGl2ID0gc3R5bGVkLmRpdmBcbiAqICAgYmFja2dyb3VuZDogJHtzaGFkZSgwLjI1LCAnIzAwZicpfTtcbiAqIGBcbiAqXG4gKiAvLyBDU1MgaW4gSlMgT3V0cHV0XG4gKlxuICogZWxlbWVudCB7XG4gKiAgIGJhY2tncm91bmQ6IFwiIzAwMDAzZlwiO1xuICogfVxuICovXG5cbmZ1bmN0aW9uIHNoYWRlKHBlcmNlbnRhZ2UsIGNvbG9yKSB7XG4gIGlmIChjb2xvciA9PT0gJ3RyYW5zcGFyZW50JykgcmV0dXJuIGNvbG9yO1xuICByZXR1cm4gY3VycmllZE1peChwYXJzZUZsb2F0KHBlcmNlbnRhZ2UpLCAncmdiKDAsIDAsIDApJywgY29sb3IpO1xufSAvLyBwcmV0dGllci1pZ25vcmVcblxuXG52YXIgY3VycmllZFNoYWRlID1cbi8qI19fUFVSRV9fKi9cbmN1cnJ5XG4vKiA6OjxudW1iZXIgfCBzdHJpbmcsIHN0cmluZywgc3RyaW5nPiAqL1xuKHNoYWRlKTtcblxuLyoqXG4gKiBUaW50cyBhIGNvbG9yIGJ5IG1peGluZyBpdCB3aXRoIHdoaXRlLiBgdGludGAgY2FuIHByb2R1Y2VcbiAqIGh1ZSBzaGlmdHMsIHdoZXJlIGFzIGBsaWdodGVuYCBtYW5pcHVsYXRlcyB0aGUgbHVtaW5hbmNlIGNoYW5uZWwgYW5kIHRoZXJlZm9yZVxuICogZG9lc24ndCBwcm9kdWNlIGh1ZSBzaGlmdHMuXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFN0eWxlcyBhcyBvYmplY3QgdXNhZ2VcbiAqIGNvbnN0IHN0eWxlcyA9IHtcbiAqICAgYmFja2dyb3VuZDogdGludCgwLjI1LCAnIzAwZicpXG4gKiB9XG4gKlxuICogLy8gc3R5bGVkLWNvbXBvbmVudHMgdXNhZ2VcbiAqIGNvbnN0IGRpdiA9IHN0eWxlZC5kaXZgXG4gKiAgIGJhY2tncm91bmQ6ICR7dGludCgwLjI1LCAnIzAwZicpfTtcbiAqIGBcbiAqXG4gKiAvLyBDU1MgaW4gSlMgT3V0cHV0XG4gKlxuICogZWxlbWVudCB7XG4gKiAgIGJhY2tncm91bmQ6IFwiI2JmYmZmZlwiO1xuICogfVxuICovXG5cbmZ1bmN0aW9uIHRpbnQocGVyY2VudGFnZSwgY29sb3IpIHtcbiAgaWYgKGNvbG9yID09PSAndHJhbnNwYXJlbnQnKSByZXR1cm4gY29sb3I7XG4gIHJldHVybiBjdXJyaWVkTWl4KHBhcnNlRmxvYXQocGVyY2VudGFnZSksICdyZ2IoMjU1LCAyNTUsIDI1NSknLCBjb2xvcik7XG59IC8vIHByZXR0aWVyLWlnbm9yZVxuXG5cbnZhciBjdXJyaWVkVGludCA9XG4vKiNfX1BVUkVfXyovXG5jdXJyeVxuLyogOjo8bnVtYmVyIHwgc3RyaW5nLCBzdHJpbmcsIHN0cmluZz4gKi9cbih0aW50KTtcblxuLyoqXG4gKiBEZWNyZWFzZXMgdGhlIG9wYWNpdHkgb2YgYSBjb2xvci4gSXRzIHJhbmdlIGZvciB0aGUgYW1vdW50IGlzIGJldHdlZW4gMCB0byAxLlxuICpcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gU3R5bGVzIGFzIG9iamVjdCB1c2FnZVxuICogY29uc3Qgc3R5bGVzID0ge1xuICogICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudGl6ZSgwLjEsICcjZmZmJyk7XG4gKiAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50aXplKDAuMiwgJ2hzbCgwLCAwJSwgMTAwJSknKSxcbiAqICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnRpemUoJzAuNScsICdyZ2JhKDI1NSwgMCwgMCwgMC44KScpLFxuICogfVxuICpcbiAqIC8vIHN0eWxlZC1jb21wb25lbnRzIHVzYWdlXG4gKiBjb25zdCBkaXYgPSBzdHlsZWQuZGl2YFxuICogICBiYWNrZ3JvdW5kOiAke3RyYW5zcGFyZW50aXplKDAuMSwgJyNmZmYnKX07XG4gKiAgIGJhY2tncm91bmQ6ICR7dHJhbnNwYXJlbnRpemUoMC4yLCAnaHNsKDAsIDAlLCAxMDAlKScpfSxcbiAqICAgYmFja2dyb3VuZDogJHt0cmFuc3BhcmVudGl6ZSgnMC41JywgJ3JnYmEoMjU1LCAwLCAwLCAwLjgpJyl9LFxuICogYFxuICpcbiAqIC8vIENTUyBpbiBKUyBPdXRwdXRcbiAqXG4gKiBlbGVtZW50IHtcbiAqICAgYmFja2dyb3VuZDogXCJyZ2JhKDI1NSwyNTUsMjU1LDAuOSlcIjtcbiAqICAgYmFja2dyb3VuZDogXCJyZ2JhKDI1NSwyNTUsMjU1LDAuOClcIjtcbiAqICAgYmFja2dyb3VuZDogXCJyZ2JhKDI1NSwwLDAsMC4zKVwiO1xuICogfVxuICovXG5cbmZ1bmN0aW9uIHRyYW5zcGFyZW50aXplKGFtb3VudCwgY29sb3IpIHtcbiAgaWYgKGNvbG9yID09PSAndHJhbnNwYXJlbnQnKSByZXR1cm4gY29sb3I7XG4gIHZhciBwYXJzZWRDb2xvciA9IHBhcnNlVG9SZ2IoY29sb3IpO1xuICB2YXIgYWxwaGEgPSB0eXBlb2YgcGFyc2VkQ29sb3IuYWxwaGEgPT09ICdudW1iZXInID8gcGFyc2VkQ29sb3IuYWxwaGEgOiAxO1xuXG4gIHZhciBjb2xvcldpdGhBbHBoYSA9IF9leHRlbmRzKHt9LCBwYXJzZWRDb2xvciwge1xuICAgIGFscGhhOiBndWFyZCgwLCAxLCAoYWxwaGEgKiAxMDAgLSBwYXJzZUZsb2F0KGFtb3VudCkgKiAxMDApIC8gMTAwKVxuICB9KTtcblxuICByZXR1cm4gcmdiYShjb2xvcldpdGhBbHBoYSk7XG59IC8vIHByZXR0aWVyLWlnbm9yZVxuXG5cbnZhciBjdXJyaWVkVHJhbnNwYXJlbnRpemUgPVxuLyojX19QVVJFX18qL1xuY3Vycnlcbi8qIDo6PG51bWJlciB8IHN0cmluZywgc3RyaW5nLCBzdHJpbmc+ICovXG4odHJhbnNwYXJlbnRpemUpO1xuXG5mdW5jdGlvbiBhbmltYXRpb24oKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICAvLyBBbGxvdyBzaW5nbGUgb3IgbXVsdGlwbGUgYW5pbWF0aW9ucyBwYXNzZWRcbiAgdmFyIG11bHRpTW9kZSA9IEFycmF5LmlzQXJyYXkoYXJnc1swXSk7XG5cbiAgaWYgKCFtdWx0aU1vZGUgJiYgYXJncy5sZW5ndGggPiA4KSB7XG4gICAgdGhyb3cgbmV3IFBvbGlzaGVkRXJyb3IoNjQpO1xuICB9XG5cbiAgdmFyIGNvZGUgPSBhcmdzLm1hcChmdW5jdGlvbiAoYXJnKSB7XG4gICAgaWYgKG11bHRpTW9kZSAmJiAhQXJyYXkuaXNBcnJheShhcmcpIHx8ICFtdWx0aU1vZGUgJiYgQXJyYXkuaXNBcnJheShhcmcpKSB7XG4gICAgICB0aHJvdyBuZXcgUG9saXNoZWRFcnJvcig2NSk7XG4gICAgfVxuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYXJnKSAmJiBhcmcubGVuZ3RoID4gOCkge1xuICAgICAgdGhyb3cgbmV3IFBvbGlzaGVkRXJyb3IoNjYpO1xuICAgIH1cblxuICAgIHJldHVybiBBcnJheS5pc0FycmF5KGFyZykgPyBhcmcuam9pbignICcpIDogYXJnO1xuICB9KS5qb2luKCcsICcpO1xuICByZXR1cm4ge1xuICAgIGFuaW1hdGlvbjogY29kZVxuICB9O1xufVxuXG5mdW5jdGlvbiBiYWNrZ3JvdW5kSW1hZ2VzKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgcHJvcGVydGllcyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBwcm9wZXJ0aWVzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBiYWNrZ3JvdW5kSW1hZ2U6IHByb3BlcnRpZXMuam9pbignLCAnKVxuICB9O1xufVxuXG5mdW5jdGlvbiBiYWNrZ3JvdW5kcygpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHByb3BlcnRpZXMgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgcHJvcGVydGllc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgYmFja2dyb3VuZDogcHJvcGVydGllcy5qb2luKCcsICcpXG4gIH07XG59XG5cbnZhciBzaWRlTWFwID0gWyd0b3AnLCAncmlnaHQnLCAnYm90dG9tJywgJ2xlZnQnXTtcbi8qKlxuICogU2hvcnRoYW5kIGZvciB0aGUgYm9yZGVyIHByb3BlcnR5IHRoYXQgc3BsaXRzIG91dCBpbmRpdmlkdWFsIHByb3BlcnRpZXMgZm9yIHVzZSB3aXRoIHRvb2xzIGxpa2UgRmVsYSBhbmQgU3R5bGV0cm9uLiBBIHNpZGUga2V5d29yZCBjYW4gb3B0aW9uYWxseSBiZSBwYXNzZWQgdG8gdGFyZ2V0IG9ubHkgb25lIHNpZGUncyBib3JkZXIgcHJvcGVydGllcy5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gU3R5bGVzIGFzIG9iamVjdCB1c2FnZVxuICogY29uc3Qgc3R5bGVzID0ge1xuICogICAuLi5ib3JkZXIoJzFweCcsICdzb2xpZCcsICdyZWQnKVxuICogfVxuICpcbiAqIC8vIHN0eWxlZC1jb21wb25lbnRzIHVzYWdlXG4gKiBjb25zdCBkaXYgPSBzdHlsZWQuZGl2YFxuICogICAke2JvcmRlcignMXB4JywgJ3NvbGlkJywgJ3JlZCcpfVxuICogYFxuICpcbiAqIC8vIENTUyBhcyBKUyBPdXRwdXRcbiAqXG4gKiBkaXYge1xuICogICAnYm9yZGVyQ29sb3InOiAncmVkJyxcbiAqICAgJ2JvcmRlclN0eWxlJzogJ3NvbGlkJyxcbiAqICAgJ2JvcmRlcldpZHRoJzogYDFweGAsXG4gKiB9XG4gKlxuICogLy8gU3R5bGVzIGFzIG9iamVjdCB1c2FnZVxuICogY29uc3Qgc3R5bGVzID0ge1xuICogICAuLi5ib3JkZXIoJ3RvcCcsICcxcHgnLCAnc29saWQnLCAncmVkJylcbiAqIH1cbiAqXG4gKiAvLyBzdHlsZWQtY29tcG9uZW50cyB1c2FnZVxuICogY29uc3QgZGl2ID0gc3R5bGVkLmRpdmBcbiAqICAgJHtib3JkZXIoJ3RvcCcsICcxcHgnLCAnc29saWQnLCAncmVkJyl9XG4gKiBgXG4gKlxuICogLy8gQ1NTIGFzIEpTIE91dHB1dFxuICpcbiAqIGRpdiB7XG4gKiAgICdib3JkZXJUb3BDb2xvcic6ICdyZWQnLFxuICogICAnYm9yZGVyVG9wU3R5bGUnOiAnc29saWQnLFxuICogICAnYm9yZGVyVG9wV2lkdGgnOiBgMXB4YCxcbiAqIH1cbiAqL1xuXG5mdW5jdGlvbiBib3JkZXIoc2lkZUtleXdvcmQpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHZhbHVlcyA9IG5ldyBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgdmFsdWVzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygc2lkZUtleXdvcmQgPT09ICdzdHJpbmcnICYmIHNpZGVNYXAuaW5kZXhPZihzaWRlS2V5d29yZCkgPj0gMCkge1xuICAgIHZhciBfcmVmO1xuXG4gICAgcmV0dXJuIF9yZWYgPSB7fSwgX3JlZltcImJvcmRlclwiICsgY2FwaXRhbGl6ZVN0cmluZyhzaWRlS2V5d29yZCkgKyBcIldpZHRoXCJdID0gdmFsdWVzWzBdLCBfcmVmW1wiYm9yZGVyXCIgKyBjYXBpdGFsaXplU3RyaW5nKHNpZGVLZXl3b3JkKSArIFwiU3R5bGVcIl0gPSB2YWx1ZXNbMV0sIF9yZWZbXCJib3JkZXJcIiArIGNhcGl0YWxpemVTdHJpbmcoc2lkZUtleXdvcmQpICsgXCJDb2xvclwiXSA9IHZhbHVlc1syXSwgX3JlZjtcbiAgfSBlbHNlIHtcbiAgICB2YWx1ZXMudW5zaGlmdChzaWRlS2V5d29yZCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGJvcmRlcldpZHRoOiB2YWx1ZXNbMF0sXG4gICAgICBib3JkZXJTdHlsZTogdmFsdWVzWzFdLFxuICAgICAgYm9yZGVyQ29sb3I6IHZhbHVlc1syXVxuICAgIH07XG4gIH1cbn1cblxuZnVuY3Rpb24gYm9yZGVyQ29sb3IoKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCB2YWx1ZXMgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgdmFsdWVzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgcmV0dXJuIGRpcmVjdGlvbmFsUHJvcGVydHkuYXBwbHkodm9pZCAwLCBbJ2JvcmRlckNvbG9yJ10uY29uY2F0KHZhbHVlcykpO1xufVxuXG5mdW5jdGlvbiBib3JkZXJSYWRpdXMoc2lkZSwgcmFkaXVzKSB7XG4gIHZhciB1cHBlcmNhc2VTaWRlID0gY2FwaXRhbGl6ZVN0cmluZyhzaWRlKTtcblxuICBpZiAoIXJhZGl1cyAmJiByYWRpdXMgIT09IDApIHtcbiAgICB0aHJvdyBuZXcgUG9saXNoZWRFcnJvcig2Mik7XG4gIH1cblxuICBpZiAodXBwZXJjYXNlU2lkZSA9PT0gJ1RvcCcgfHwgdXBwZXJjYXNlU2lkZSA9PT0gJ0JvdHRvbScpIHtcbiAgICB2YXIgX3JlZjtcblxuICAgIHJldHVybiBfcmVmID0ge30sIF9yZWZbXCJib3JkZXJcIiArIHVwcGVyY2FzZVNpZGUgKyBcIlJpZ2h0UmFkaXVzXCJdID0gcmFkaXVzLCBfcmVmW1wiYm9yZGVyXCIgKyB1cHBlcmNhc2VTaWRlICsgXCJMZWZ0UmFkaXVzXCJdID0gcmFkaXVzLCBfcmVmO1xuICB9XG5cbiAgaWYgKHVwcGVyY2FzZVNpZGUgPT09ICdMZWZ0JyB8fCB1cHBlcmNhc2VTaWRlID09PSAnUmlnaHQnKSB7XG4gICAgdmFyIF9yZWYyO1xuXG4gICAgcmV0dXJuIF9yZWYyID0ge30sIF9yZWYyW1wiYm9yZGVyVG9wXCIgKyB1cHBlcmNhc2VTaWRlICsgXCJSYWRpdXNcIl0gPSByYWRpdXMsIF9yZWYyW1wiYm9yZGVyQm90dG9tXCIgKyB1cHBlcmNhc2VTaWRlICsgXCJSYWRpdXNcIl0gPSByYWRpdXMsIF9yZWYyO1xuICB9XG5cbiAgdGhyb3cgbmV3IFBvbGlzaGVkRXJyb3IoNjMpO1xufVxuXG5mdW5jdGlvbiBib3JkZXJTdHlsZSgpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHZhbHVlcyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICB2YWx1ZXNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICByZXR1cm4gZGlyZWN0aW9uYWxQcm9wZXJ0eS5hcHBseSh2b2lkIDAsIFsnYm9yZGVyU3R5bGUnXS5jb25jYXQodmFsdWVzKSk7XG59XG5cbmZ1bmN0aW9uIGJvcmRlcldpZHRoKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgdmFsdWVzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIHZhbHVlc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHJldHVybiBkaXJlY3Rpb25hbFByb3BlcnR5LmFwcGx5KHZvaWQgMCwgWydib3JkZXJXaWR0aCddLmNvbmNhdCh2YWx1ZXMpKTtcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVTZWxlY3RvcnModGVtcGxhdGUsIHN0YXRlKSB7XG4gIHZhciBzdGF0ZVN1ZmZpeCA9IHN0YXRlID8gXCI6XCIgKyBzdGF0ZSA6ICcnO1xuICByZXR1cm4gdGVtcGxhdGUoc3RhdGVTdWZmaXgpO1xufVxuLyoqXG4gKiBGdW5jdGlvbiBoZWxwZXIgdGhhdCBhZGRzIGFuIGFycmF5IG9mIHN0YXRlcyB0byBhIHRlbXBsYXRlIG9mIHNlbGVjdG9ycy4gVXNlZCBpbiB0ZXh0SW5wdXRzIGFuZCBidXR0b25zLlxuICogQHByaXZhdGVcbiAqL1xuXG5cbmZ1bmN0aW9uIHN0YXRlZnVsU2VsZWN0b3JzKHN0YXRlcywgdGVtcGxhdGUsIHN0YXRlTWFwKSB7XG4gIGlmICghdGVtcGxhdGUpIHRocm93IG5ldyBQb2xpc2hlZEVycm9yKDY3KTtcbiAgaWYgKHN0YXRlcy5sZW5ndGggPT09IDApIHJldHVybiBnZW5lcmF0ZVNlbGVjdG9ycyh0ZW1wbGF0ZSwgbnVsbCk7XG4gIHZhciBzZWxlY3RvcnMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YXRlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGlmIChzdGF0ZU1hcCAmJiBzdGF0ZU1hcC5pbmRleE9mKHN0YXRlc1tpXSkgPCAwKSB7XG4gICAgICB0aHJvdyBuZXcgUG9saXNoZWRFcnJvcig2OCk7XG4gICAgfVxuXG4gICAgc2VsZWN0b3JzLnB1c2goZ2VuZXJhdGVTZWxlY3RvcnModGVtcGxhdGUsIHN0YXRlc1tpXSkpO1xuICB9XG5cbiAgc2VsZWN0b3JzID0gc2VsZWN0b3JzLmpvaW4oJywnKTtcbiAgcmV0dXJuIHNlbGVjdG9ycztcbn1cblxudmFyIHN0YXRlTWFwID0gW3VuZGVmaW5lZCwgbnVsbCwgJ2FjdGl2ZScsICdmb2N1cycsICdob3ZlciddO1xuXG5mdW5jdGlvbiB0ZW1wbGF0ZShzdGF0ZSkge1xuICByZXR1cm4gXCJidXR0b25cIiArIHN0YXRlICsgXCIsXFxuICBpbnB1dFt0eXBlPVxcXCJidXR0b25cXFwiXVwiICsgc3RhdGUgKyBcIixcXG4gIGlucHV0W3R5cGU9XFxcInJlc2V0XFxcIl1cIiArIHN0YXRlICsgXCIsXFxuICBpbnB1dFt0eXBlPVxcXCJzdWJtaXRcXFwiXVwiICsgc3RhdGU7XG59XG4vKipcbiAqIFBvcHVsYXRlcyBzZWxlY3RvcnMgdGhhdCB0YXJnZXQgYWxsIGJ1dHRvbnMuIFlvdSBjYW4gcGFzcyBvcHRpb25hbCBzdGF0ZXMgdG8gYXBwZW5kIHRvIHRoZSBzZWxlY3RvcnMuXG4gKiBAZXhhbXBsZVxuICogLy8gU3R5bGVzIGFzIG9iamVjdCB1c2FnZVxuICogY29uc3Qgc3R5bGVzID0ge1xuICogICBbYnV0dG9ucygnYWN0aXZlJyldOiB7XG4gKiAgICAgJ2JvcmRlcic6ICdub25lJ1xuICogICB9XG4gKiB9XG4gKlxuICogLy8gc3R5bGVkLWNvbXBvbmVudHMgdXNhZ2VcbiAqIGNvbnN0IGRpdiA9IHN0eWxlZC5kaXZgXG4gKiAgID4gJHtidXR0b25zKCdhY3RpdmUnKX0ge1xuICogICAgIGJvcmRlcjogbm9uZTtcbiAqICAgfVxuICogYFxuICpcbiAqIC8vIENTUyBpbiBKUyBPdXRwdXRcbiAqXG4gKiAgJ2J1dHRvbjphY3RpdmUsXG4gKiAgJ2lucHV0W3R5cGU9XCJidXR0b25cIl06YWN0aXZlLFxuICogICdpbnB1dFt0eXBlPVxcXCJyZXNldFxcXCJdOmFjdGl2ZSxcbiAqICAnaW5wdXRbdHlwZT1cXFwic3VibWl0XFxcIl06YWN0aXZlOiB7XG4gKiAgICdib3JkZXInOiAnbm9uZSdcbiAqIH1cbiAqL1xuXG5cbmZ1bmN0aW9uIGJ1dHRvbnMoKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBzdGF0ZXMgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgc3RhdGVzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgcmV0dXJuIHN0YXRlZnVsU2VsZWN0b3JzKHN0YXRlcywgdGVtcGxhdGUsIHN0YXRlTWFwKTtcbn1cblxuZnVuY3Rpb24gbWFyZ2luKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgdmFsdWVzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIHZhbHVlc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHJldHVybiBkaXJlY3Rpb25hbFByb3BlcnR5LmFwcGx5KHZvaWQgMCwgWydtYXJnaW4nXS5jb25jYXQodmFsdWVzKSk7XG59XG5cbmZ1bmN0aW9uIHBhZGRpbmcoKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCB2YWx1ZXMgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgdmFsdWVzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgcmV0dXJuIGRpcmVjdGlvbmFsUHJvcGVydHkuYXBwbHkodm9pZCAwLCBbJ3BhZGRpbmcnXS5jb25jYXQodmFsdWVzKSk7XG59XG5cbnZhciBwb3NpdGlvbk1hcCQxID0gWydhYnNvbHV0ZScsICdmaXhlZCcsICdyZWxhdGl2ZScsICdzdGF0aWMnLCAnc3RpY2t5J107XG4vKipcbiAqIFNob3J0aGFuZCBhY2NlcHRzIHVwIHRvIGZpdmUgdmFsdWVzLCBpbmNsdWRpbmcgbnVsbCB0byBza2lwIGEgdmFsdWUsIGFuZCBtYXBzIHRoZW0gdG8gdGhlaXIgcmVzcGVjdGl2ZSBkaXJlY3Rpb25zLiBUaGUgZmlyc3QgdmFsdWUgY2FuIG9wdGlvbmFsbHkgYmUgYSBwb3NpdGlvbiBrZXl3b3JkLlxuICogQGV4YW1wbGVcbiAqIC8vIFN0eWxlcyBhcyBvYmplY3QgdXNhZ2VcbiAqIGNvbnN0IHN0eWxlcyA9IHtcbiAqICAgLi4ucG9zaXRpb24oJzEycHgnLCAnMjRweCcsICczNnB4JywgJzQ4cHgnKVxuICogfVxuICpcbiAqIC8vIHN0eWxlZC1jb21wb25lbnRzIHVzYWdlXG4gKiBjb25zdCBkaXYgPSBzdHlsZWQuZGl2YFxuICogICAke3Bvc2l0aW9uKCcxMnB4JywgJzI0cHgnLCAnMzZweCcsICc0OHB4Jyl9XG4gKiBgXG4gKlxuICogLy8gQ1NTIGFzIEpTIE91dHB1dFxuICpcbiAqIGRpdiB7XG4gKiAgICd0b3AnOiAnMTJweCcsXG4gKiAgICdyaWdodCc6ICcyNHB4JyxcbiAqICAgJ2JvdHRvbSc6ICczNnB4JyxcbiAqICAgJ2xlZnQnOiAnNDhweCdcbiAqIH1cbiAqXG4gKiAvLyBTdHlsZXMgYXMgb2JqZWN0IHVzYWdlXG4gKiBjb25zdCBzdHlsZXMgPSB7XG4gKiAgIC4uLnBvc2l0aW9uKCdhYnNvbHV0ZScsICcxMnB4JywgJzI0cHgnLCAnMzZweCcsICc0OHB4JylcbiAqIH1cbiAqXG4gKiAvLyBzdHlsZWQtY29tcG9uZW50cyB1c2FnZVxuICogY29uc3QgZGl2ID0gc3R5bGVkLmRpdmBcbiAqICAgJHtwb3NpdGlvbignYWJzb2x1dGUnLCAnMTJweCcsICcyNHB4JywgJzM2cHgnLCAnNDhweCcpfVxuICogYFxuICpcbiAqIC8vIENTUyBhcyBKUyBPdXRwdXRcbiAqXG4gKiBkaXYge1xuICogICAncG9zaXRpb24nOiAnYWJzb2x1dGUnLFxuICogICAndG9wJzogJzEycHgnLFxuICogICAncmlnaHQnOiAnMjRweCcsXG4gKiAgICdib3R0b20nOiAnMzZweCcsXG4gKiAgICdsZWZ0JzogJzQ4cHgnXG4gKiB9XG4gKi9cblxuZnVuY3Rpb24gcG9zaXRpb24ocG9zaXRpb25LZXl3b3JkKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCB2YWx1ZXMgPSBuZXcgQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIHZhbHVlc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICBpZiAocG9zaXRpb25NYXAkMS5pbmRleE9mKHBvc2l0aW9uS2V5d29yZCkgPj0gMCkge1xuICAgIHJldHVybiBfZXh0ZW5kcyh7XG4gICAgICBwb3NpdGlvbjogcG9zaXRpb25LZXl3b3JkXG4gICAgfSwgZGlyZWN0aW9uYWxQcm9wZXJ0eS5hcHBseSh2b2lkIDAsIFsnJ10uY29uY2F0KHZhbHVlcykpKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgZmlyc3RWYWx1ZSA9IHBvc2l0aW9uS2V5d29yZDsgLy8gaW4gdGhpcyBjYXNlIHBvc2l0aW9uIGlzIGFjdHVhbGx5IHRoZSBmaXJzdCB2YWx1ZVxuXG4gICAgcmV0dXJuIGRpcmVjdGlvbmFsUHJvcGVydHkuYXBwbHkodm9pZCAwLCBbJycsIGZpcnN0VmFsdWVdLmNvbmNhdCh2YWx1ZXMpKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzaXplKGhlaWdodCwgd2lkdGgpIHtcbiAgaWYgKHdpZHRoID09PSB2b2lkIDApIHtcbiAgICB3aWR0aCA9IGhlaWdodDtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgd2lkdGg6IHdpZHRoXG4gIH07XG59XG5cbnZhciBzdGF0ZU1hcCQxID0gW3VuZGVmaW5lZCwgbnVsbCwgJ2FjdGl2ZScsICdmb2N1cycsICdob3ZlciddO1xuXG5mdW5jdGlvbiB0ZW1wbGF0ZSQxKHN0YXRlKSB7XG4gIHJldHVybiBcImlucHV0W3R5cGU9XFxcImNvbG9yXFxcIl1cIiArIHN0YXRlICsgXCIsXFxuICAgIGlucHV0W3R5cGU9XFxcImRhdGVcXFwiXVwiICsgc3RhdGUgKyBcIixcXG4gICAgaW5wdXRbdHlwZT1cXFwiZGF0ZXRpbWVcXFwiXVwiICsgc3RhdGUgKyBcIixcXG4gICAgaW5wdXRbdHlwZT1cXFwiZGF0ZXRpbWUtbG9jYWxcXFwiXVwiICsgc3RhdGUgKyBcIixcXG4gICAgaW5wdXRbdHlwZT1cXFwiZW1haWxcXFwiXVwiICsgc3RhdGUgKyBcIixcXG4gICAgaW5wdXRbdHlwZT1cXFwibW9udGhcXFwiXVwiICsgc3RhdGUgKyBcIixcXG4gICAgaW5wdXRbdHlwZT1cXFwibnVtYmVyXFxcIl1cIiArIHN0YXRlICsgXCIsXFxuICAgIGlucHV0W3R5cGU9XFxcInBhc3N3b3JkXFxcIl1cIiArIHN0YXRlICsgXCIsXFxuICAgIGlucHV0W3R5cGU9XFxcInNlYXJjaFxcXCJdXCIgKyBzdGF0ZSArIFwiLFxcbiAgICBpbnB1dFt0eXBlPVxcXCJ0ZWxcXFwiXVwiICsgc3RhdGUgKyBcIixcXG4gICAgaW5wdXRbdHlwZT1cXFwidGV4dFxcXCJdXCIgKyBzdGF0ZSArIFwiLFxcbiAgICBpbnB1dFt0eXBlPVxcXCJ0aW1lXFxcIl1cIiArIHN0YXRlICsgXCIsXFxuICAgIGlucHV0W3R5cGU9XFxcInVybFxcXCJdXCIgKyBzdGF0ZSArIFwiLFxcbiAgICBpbnB1dFt0eXBlPVxcXCJ3ZWVrXFxcIl1cIiArIHN0YXRlICsgXCIsXFxuICAgIGlucHV0Om5vdChbdHlwZV0pXCIgKyBzdGF0ZSArIFwiLFxcbiAgICB0ZXh0YXJlYVwiICsgc3RhdGU7XG59XG4vKipcbiAqIFBvcHVsYXRlcyBzZWxlY3RvcnMgdGhhdCB0YXJnZXQgYWxsIHRleHQgaW5wdXRzLiBZb3UgY2FuIHBhc3Mgb3B0aW9uYWwgc3RhdGVzIHRvIGFwcGVuZCB0byB0aGUgc2VsZWN0b3JzLlxuICogQGV4YW1wbGVcbiAqIC8vIFN0eWxlcyBhcyBvYmplY3QgdXNhZ2VcbiAqIGNvbnN0IHN0eWxlcyA9IHtcbiAqICAgW3RleHRJbnB1dHMoJ2FjdGl2ZScpXToge1xuICogICAgICdib3JkZXInOiAnbm9uZSdcbiAqICAgfVxuICogfVxuICpcbiAqIC8vIHN0eWxlZC1jb21wb25lbnRzIHVzYWdlXG4gKiBjb25zdCBkaXYgPSBzdHlsZWQuZGl2YFxuICogICA+ICR7dGV4dElucHV0cygnYWN0aXZlJyl9IHtcbiAqICAgICBib3JkZXI6IG5vbmU7XG4gKiAgIH1cbiAqIGBcbiAqXG4gKiAvLyBDU1MgaW4gSlMgT3V0cHV0XG4gKlxuICogICdpbnB1dFt0eXBlPVwiY29sb3JcIl06YWN0aXZlLFxuICogIGlucHV0W3R5cGU9XCJkYXRlXCJdOmFjdGl2ZSxcbiAqICBpbnB1dFt0eXBlPVwiZGF0ZXRpbWVcIl06YWN0aXZlLFxuICogIGlucHV0W3R5cGU9XCJkYXRldGltZS1sb2NhbFwiXTphY3RpdmUsXG4gKiAgaW5wdXRbdHlwZT1cImVtYWlsXCJdOmFjdGl2ZSxcbiAqICBpbnB1dFt0eXBlPVwibW9udGhcIl06YWN0aXZlLFxuICogIGlucHV0W3R5cGU9XCJudW1iZXJcIl06YWN0aXZlLFxuICogIGlucHV0W3R5cGU9XCJwYXNzd29yZFwiXTphY3RpdmUsXG4gKiAgaW5wdXRbdHlwZT1cInNlYXJjaFwiXTphY3RpdmUsXG4gKiAgaW5wdXRbdHlwZT1cInRlbFwiXTphY3RpdmUsXG4gKiAgaW5wdXRbdHlwZT1cInRleHRcIl06YWN0aXZlLFxuICogIGlucHV0W3R5cGU9XCJ0aW1lXCJdOmFjdGl2ZSxcbiAqICBpbnB1dFt0eXBlPVwidXJsXCJdOmFjdGl2ZSxcbiAqICBpbnB1dFt0eXBlPVwid2Vla1wiXTphY3RpdmUsXG4gKiAgaW5wdXQ6bm90KFt0eXBlXSk6YWN0aXZlLFxuICogIHRleHRhcmVhOmFjdGl2ZSc6IHtcbiAqICAgJ2JvcmRlcic6ICdub25lJ1xuICogfVxuICovXG5cblxuZnVuY3Rpb24gdGV4dElucHV0cygpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHN0YXRlcyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBzdGF0ZXNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICByZXR1cm4gc3RhdGVmdWxTZWxlY3RvcnMoc3RhdGVzLCB0ZW1wbGF0ZSQxLCBzdGF0ZU1hcCQxKTtcbn1cblxuLyoqXG4gKiBBY2NlcHRzIGFueSBudW1iZXIgb2YgdHJhbnNpdGlvbiB2YWx1ZXMgYXMgcGFyYW1ldGVycyBmb3IgY3JlYXRpbmcgYSBzaW5nbGUgdHJhbnNpdGlvbiBzdGF0ZW1lbnQuIFlvdSBtYXkgYWxzbyBwYXNzIGFuIGFycmF5IG9mIHByb3BlcnRpZXMgYXMgdGhlIGZpcnN0IHBhcmFtZXRlciB0aGF0IHlvdSB3b3VsZCBsaWtlIHRvIGFwcGx5IHRoZSBzYW1lIHRyYW5zaXRpb24gdmFsdWVzIHRvIChzZWNvbmQgcGFyYW1ldGVyKS5cbiAqIEBleGFtcGxlXG4gKiAvLyBTdHlsZXMgYXMgb2JqZWN0IHVzYWdlXG4gKiBjb25zdCBzdHlsZXMgPSB7XG4gKiAgIC4uLnRyYW5zaXRpb25zKCdvcGFjaXR5IDEuMHMgZWFzZS1pbiAwcycsICd3aWR0aCAyLjBzIGVhc2UtaW4gMnMnKSxcbiAqICAgLi4udHJhbnNpdGlvbnMoWydjb2xvcicsICdiYWNrZ3JvdW5kLWNvbG9yJ10sICcyLjBzIGVhc2UtaW4gMnMnKVxuICogfVxuICpcbiAqIC8vIHN0eWxlZC1jb21wb25lbnRzIHVzYWdlXG4gKiBjb25zdCBkaXYgPSBzdHlsZWQuZGl2YFxuICogICAke3RyYW5zaXRpb25zKCdvcGFjaXR5IDEuMHMgZWFzZS1pbiAwcycsICd3aWR0aCAyLjBzIGVhc2UtaW4gMnMnKX07XG4gKiAgICR7dHJhbnNpdGlvbnMoWydjb2xvcicsICdiYWNrZ3JvdW5kLWNvbG9yJ10sICcyLjBzIGVhc2UtaW4gMnMnKSx9O1xuICogYFxuICpcbiAqIC8vIENTUyBhcyBKUyBPdXRwdXRcbiAqXG4gKiBkaXYge1xuICogICAndHJhbnNpdGlvbic6ICdvcGFjaXR5IDEuMHMgZWFzZS1pbiAwcywgd2lkdGggMi4wcyBlYXNlLWluIDJzJ1xuICogICAndHJhbnNpdGlvbic6ICdjb2xvciAyLjBzIGVhc2UtaW4gMnMsIGJhY2tncm91bmQtY29sb3IgMi4wcyBlYXNlLWluIDJzJyxcbiAqIH1cbiAqL1xuXG5mdW5jdGlvbiB0cmFuc2l0aW9ucygpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHByb3BlcnRpZXMgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgcHJvcGVydGllc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIGlmIChBcnJheS5pc0FycmF5KHByb3BlcnRpZXNbMF0pICYmIHByb3BlcnRpZXMubGVuZ3RoID09PSAyKSB7XG4gICAgdmFyIHZhbHVlID0gcHJvcGVydGllc1sxXTtcblxuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgUG9saXNoZWRFcnJvcig2MSk7XG4gICAgfVxuXG4gICAgdmFyIHRyYW5zaXRpb25zU3RyaW5nID0gcHJvcGVydGllc1swXS5tYXAoZnVuY3Rpb24gKHByb3BlcnR5KSB7XG4gICAgICByZXR1cm4gcHJvcGVydHkgKyBcIiBcIiArIHZhbHVlO1xuICAgIH0pLmpvaW4oJywgJyk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRyYW5zaXRpb246IHRyYW5zaXRpb25zU3RyaW5nXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4ge1xuICAgICAgdHJhbnNpdGlvbjogcHJvcGVydGllcy5qb2luKCcsICcpXG4gICAgfTtcbiAgfVxufVxuXG5leHBvcnQgeyBjdXJyaWVkQWRqdXN0SHVlIGFzIGFkanVzdEh1ZSwgYW5pbWF0aW9uLCBiYWNrZ3JvdW5kSW1hZ2VzLCBiYWNrZ3JvdW5kcywgYmV0d2VlbiwgYm9yZGVyLCBib3JkZXJDb2xvciwgYm9yZGVyUmFkaXVzLCBib3JkZXJTdHlsZSwgYm9yZGVyV2lkdGgsIGJ1dHRvbnMsIGNsZWFyRml4LCBjb21wbGVtZW50LCBjb3ZlciwgY3VycmllZERhcmtlbiBhcyBkYXJrZW4sIGN1cnJpZWREZXNhdHVyYXRlIGFzIGRlc2F0dXJhdGUsIGRpcmVjdGlvbmFsUHJvcGVydHksIGVsbGlwc2lzLCBlbSwgZmx1aWRSYW5nZSwgZm9udEZhY2UsIGdldENvbnRyYXN0LCBnZXRMdW1pbmFuY2UsIGdldFZhbHVlQW5kVW5pdCwgZ3JheXNjYWxlLCBoaURQSSwgaGlkZVRleHQsIGhpZGVWaXN1YWxseSwgaHNsLCBoc2xUb0NvbG9yU3RyaW5nLCBoc2xhLCBpbnZlcnQsIGN1cnJpZWRMaWdodGVuIGFzIGxpZ2h0ZW4sIGxpbmVhckdyYWRpZW50LCBtYXJnaW4sIG1hdGgsIG1lZXRzQ29udHJhc3RHdWlkZWxpbmVzLCBjdXJyaWVkTWl4IGFzIG1peCwgbW9kdWxhclNjYWxlLCBub3JtYWxpemUsIGN1cnJpZWRPcGFjaWZ5IGFzIG9wYWNpZnksIHBhZGRpbmcsIHBhcnNlVG9Ic2wsIHBhcnNlVG9SZ2IsIHBvc2l0aW9uLCByYWRpYWxHcmFkaWVudCwgcmVhZGFibGVDb2xvciwgcmVtLCByZXRpbmFJbWFnZSwgcmdiLCByZ2JUb0NvbG9yU3RyaW5nLCByZ2JhLCBjdXJyaWVkU2F0dXJhdGUgYXMgc2F0dXJhdGUsIGN1cnJpZWRTZXRIdWUgYXMgc2V0SHVlLCBjdXJyaWVkU2V0TGlnaHRuZXNzIGFzIHNldExpZ2h0bmVzcywgY3VycmllZFNldFNhdHVyYXRpb24gYXMgc2V0U2F0dXJhdGlvbiwgY3VycmllZFNoYWRlIGFzIHNoYWRlLCBzaXplLCBzdHJpcFVuaXQsIHRleHRJbnB1dHMsIHRpbWluZ0Z1bmN0aW9ucywgY3VycmllZFRpbnQgYXMgdGludCwgdG9Db2xvclN0cmluZywgdHJhbnNpdGlvbnMsIGN1cnJpZWRUcmFuc3BhcmVudGl6ZSBhcyB0cmFuc3BhcmVudGl6ZSwgdHJpYW5nbGUsIHdvcmRXcmFwIH07XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHtcbiAgaWYgKHNlbGYgPT09IHZvaWQgMCkge1xuICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtcbiAgfVxuXG4gIHJldHVybiBzZWxmO1xufSIsImltcG9ydCBzZXRQcm90b3R5cGVPZiBmcm9tIFwiLi9zZXRQcm90b3R5cGVPZlwiO1xuXG5mdW5jdGlvbiBpc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7XG4gIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTtcbiAgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTtcbiAgaWYgKHR5cGVvZiBQcm94eSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gdHJ1ZTtcblxuICB0cnkge1xuICAgIERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoRGF0ZSwgW10sIGZ1bmN0aW9uICgpIHt9KSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2NvbnN0cnVjdChQYXJlbnQsIGFyZ3MsIENsYXNzKSB7XG4gIGlmIChpc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSkge1xuICAgIF9jb25zdHJ1Y3QgPSBSZWZsZWN0LmNvbnN0cnVjdDtcbiAgfSBlbHNlIHtcbiAgICBfY29uc3RydWN0ID0gZnVuY3Rpb24gX2NvbnN0cnVjdChQYXJlbnQsIGFyZ3MsIENsYXNzKSB7XG4gICAgICB2YXIgYSA9IFtudWxsXTtcbiAgICAgIGEucHVzaC5hcHBseShhLCBhcmdzKTtcbiAgICAgIHZhciBDb25zdHJ1Y3RvciA9IEZ1bmN0aW9uLmJpbmQuYXBwbHkoUGFyZW50LCBhKTtcbiAgICAgIHZhciBpbnN0YW5jZSA9IG5ldyBDb25zdHJ1Y3RvcigpO1xuICAgICAgaWYgKENsYXNzKSBzZXRQcm90b3R5cGVPZihpbnN0YW5jZSwgQ2xhc3MucHJvdG90eXBlKTtcbiAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIF9jb25zdHJ1Y3QuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuXG4gIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7XG4gIF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7XG4gICAgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTtcbiAgfTtcbiAgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfaW5oZXJpdHNMb29zZShzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MucHJvdG90eXBlKTtcbiAgc3ViQ2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gc3ViQ2xhc3M7XG4gIHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2lzTmF0aXZlRnVuY3Rpb24oZm4pIHtcbiAgcmV0dXJuIEZ1bmN0aW9uLnRvU3RyaW5nLmNhbGwoZm4pLmluZGV4T2YoXCJbbmF0aXZlIGNvZGVdXCIpICE9PSAtMTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkge1xuICBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHtcbiAgICBvLl9fcHJvdG9fXyA9IHA7XG4gICAgcmV0dXJuIG87XG4gIH07XG5cbiAgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsTG9vc2Uoc3RyaW5ncywgcmF3KSB7XG4gIGlmICghcmF3KSB7XG4gICAgcmF3ID0gc3RyaW5ncy5zbGljZSgwKTtcbiAgfVxuXG4gIHN0cmluZ3MucmF3ID0gcmF3O1xuICByZXR1cm4gc3RyaW5ncztcbn0iLCJpbXBvcnQgZ2V0UHJvdG90eXBlT2YgZnJvbSBcIi4vZ2V0UHJvdG90eXBlT2ZcIjtcbmltcG9ydCBzZXRQcm90b3R5cGVPZiBmcm9tIFwiLi9zZXRQcm90b3R5cGVPZlwiO1xuaW1wb3J0IGlzTmF0aXZlRnVuY3Rpb24gZnJvbSBcIi4vaXNOYXRpdmVGdW5jdGlvblwiO1xuaW1wb3J0IGNvbnN0cnVjdCBmcm9tIFwiLi9jb25zdHJ1Y3RcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF93cmFwTmF0aXZlU3VwZXIoQ2xhc3MpIHtcbiAgdmFyIF9jYWNoZSA9IHR5cGVvZiBNYXAgPT09IFwiZnVuY3Rpb25cIiA/IG5ldyBNYXAoKSA6IHVuZGVmaW5lZDtcblxuICBfd3JhcE5hdGl2ZVN1cGVyID0gZnVuY3Rpb24gX3dyYXBOYXRpdmVTdXBlcihDbGFzcykge1xuICAgIGlmIChDbGFzcyA9PT0gbnVsbCB8fCAhaXNOYXRpdmVGdW5jdGlvbihDbGFzcykpIHJldHVybiBDbGFzcztcblxuICAgIGlmICh0eXBlb2YgQ2xhc3MgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgX2NhY2hlICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICBpZiAoX2NhY2hlLmhhcyhDbGFzcykpIHJldHVybiBfY2FjaGUuZ2V0KENsYXNzKTtcblxuICAgICAgX2NhY2hlLnNldChDbGFzcywgV3JhcHBlcik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gV3JhcHBlcigpIHtcbiAgICAgIHJldHVybiBjb25zdHJ1Y3QoQ2xhc3MsIGFyZ3VtZW50cywgZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3IpO1xuICAgIH1cblxuICAgIFdyYXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShDbGFzcy5wcm90b3R5cGUsIHtcbiAgICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICAgIHZhbHVlOiBXcmFwcGVyLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBzZXRQcm90b3R5cGVPZihXcmFwcGVyLCBDbGFzcyk7XG4gIH07XG5cbiAgcmV0dXJuIF93cmFwTmF0aXZlU3VwZXIoQ2xhc3MpO1xufSIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxuLy8gYXJyYXkgZnVuY3Rpb24gc2hvdWxkIG5vdCBiZSB1c2VkIGhlcmUgc28gdGhhdCB3ZSBjYW4gdGhlIGxvY2FsIHRoaXNcbnZhciBhZGRQcm9wVHlwZURvY3VtZW50YXRpb25GaWVsZCA9IGZ1bmN0aW9uIGFkZFByb3BUeXBlRG9jdW1lbnRhdGlvbkZpZWxkKGZpZWxkTmFtZSkge1xuICByZXR1cm4gZnVuY3Rpb24gYWRkRmllbGRUb1JlYWN0RGVzYyh2YWx1ZSkge1xuICAgIGlmICghdGhpcy5yZWFjdERlc2MpIHtcbiAgICAgIHRoaXMucmVhY3REZXNjID0ge307XG4gICAgfVxuICAgIHRoaXMucmVhY3REZXNjW2ZpZWxkTmFtZV0gPSB2YWx1ZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbn07XG5cbnZhciBkb2N1bWVudGVkUHJvcFR5cGUgPSB7XG4gIGRlZmF1bHRWYWx1ZTogYWRkUHJvcFR5cGVEb2N1bWVudGF0aW9uRmllbGQoJ2RlZmF1bHRWYWx1ZScpLFxuICBkZXNjcmlwdGlvbjogYWRkUHJvcFR5cGVEb2N1bWVudGF0aW9uRmllbGQoJ2Rlc2NyaXB0aW9uJyksXG4gIGRlcHJlY2F0ZWQ6IGFkZFByb3BUeXBlRG9jdW1lbnRhdGlvbkZpZWxkKCdkZXByZWNhdGVkJyksXG4gIGZvcm1hdDogYWRkUHJvcFR5cGVEb2N1bWVudGF0aW9uRmllbGQoJ2Zvcm1hdCcpXG59O1xuXG52YXIgY3JlYXRlUHJvcFR5cGUgPSBmdW5jdGlvbiBjcmVhdGVQcm9wVHlwZSh0eXBlKSB7XG4gIHZhciBwcm9wVHlwZU9iaiA9IF9leHRlbmRzKHtcbiAgICB0eXBlOiB0eXBlXG4gIH0sIGRvY3VtZW50ZWRQcm9wVHlwZSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9wVHlwZU9iaiwgJ2lzUmVxdWlyZWQnLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiBnZXRSZXF1aXJlZCgpIHtcbiAgICAgIGlmICghdGhpcy5yZWFjdERlc2MpIHtcbiAgICAgICAgdGhpcy5yZWFjdERlc2MgPSB7fTtcbiAgICAgIH1cbiAgICAgIHRoaXMucmVhY3REZXNjLnJlcXVpcmVkID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfSk7XG4gIHJldHVybiBwcm9wVHlwZU9iajtcbn07XG5cbnZhciBjcmVhdGVQcm9wVHlwZVdpdGhBcmdzID0gZnVuY3Rpb24gY3JlYXRlUHJvcFR5cGVXaXRoQXJncyh0eXBlKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoYXJncykge1xuICAgIHZhciBwcm9wVHlwZU9iaiA9IF9leHRlbmRzKHtcbiAgICAgIGFyZ3M6IGFyZ3MsXG4gICAgICB0eXBlOiB0eXBlXG4gICAgfSwgZG9jdW1lbnRlZFByb3BUeXBlKTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvcFR5cGVPYmosICdpc1JlcXVpcmVkJywge1xuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXRSZXF1aXJlZCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnJlYWN0RGVzYykge1xuICAgICAgICAgIHRoaXMucmVhY3REZXNjID0ge307XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZWFjdERlc2MucmVxdWlyZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH0sXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIHByb3BUeXBlT2JqO1xuICB9O1xufTtcblxudmFyIFByb3BUeXBlcyA9IHtcbiAgY3VzdG9tOiBmdW5jdGlvbiBjdXN0b20oY2FsbGJhY2spIHtcbiAgICB2YXIgdGFyZ2V0ID0gY2FsbGJhY2suYmluZChudWxsKTtcbiAgICB0YXJnZXQudHlwZSA9ICdmdW5jJztcbiAgICBPYmplY3Qua2V5cyhkb2N1bWVudGVkUHJvcFR5cGUpLmZvckVhY2goZnVuY3Rpb24gKGZpZWxkTmFtZSkge1xuICAgICAgdGFyZ2V0W2ZpZWxkTmFtZV0gPSBkb2N1bWVudGVkUHJvcFR5cGVbZmllbGROYW1lXTtcbiAgICB9KTtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG59O1xuXG5mdW5jdGlvbiBkZWZpbmVQcm9wVHlwZSh0eXBlKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQcm9wVHlwZXMsIHR5cGUsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldFByb3BUeXBlKCkge1xuICAgICAgcmV0dXJuIGNyZWF0ZVByb3BUeXBlKHR5cGUpO1xuICAgIH0sXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGRlZmluZVByb3BUeXBlV2l0aEFyZ3ModHlwZSkge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUHJvcFR5cGVzLCB0eXBlLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiBnZXRQcm9wVHlwZSgpIHtcbiAgICAgIHJldHVybiBjcmVhdGVQcm9wVHlwZVdpdGhBcmdzKHR5cGUpO1xuICAgIH0sXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfSk7XG59XG5cbmRlZmluZVByb3BUeXBlKCdhbnknKTtcbmRlZmluZVByb3BUeXBlKCdhcnJheScpO1xuZGVmaW5lUHJvcFR5cGUoJ2Jvb2wnKTtcbmRlZmluZVByb3BUeXBlKCdlbGVtZW50Jyk7XG5kZWZpbmVQcm9wVHlwZSgnZnVuYycpO1xuZGVmaW5lUHJvcFR5cGUoJ25vZGUnKTtcbmRlZmluZVByb3BUeXBlKCdudW1iZXInKTtcbmRlZmluZVByb3BUeXBlKCdvYmplY3QnKTtcbmRlZmluZVByb3BUeXBlKCdzeW1ib2wnKTtcbmRlZmluZVByb3BUeXBlKCdzdHJpbmcnKTtcblxuZGVmaW5lUHJvcFR5cGVXaXRoQXJncygnYXJyYXlPZicpO1xuZGVmaW5lUHJvcFR5cGVXaXRoQXJncygnaW5zdGFuY2VPZicpO1xuZGVmaW5lUHJvcFR5cGVXaXRoQXJncygnb2JqZWN0T2YnKTtcbmRlZmluZVByb3BUeXBlV2l0aEFyZ3MoJ29uZU9mVHlwZScpO1xuZGVmaW5lUHJvcFR5cGVXaXRoQXJncygnb25lT2YnKTtcbmRlZmluZVByb3BUeXBlV2l0aEFyZ3MoJ3NoYXBlJyk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFByb3BUeXBlczsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGRlc2NUb0pTT047XG5cbnZhciBhcnJheUZvcm1hdCA9IGZ1bmN0aW9uIGFycmF5Rm9ybWF0KGFycmF5LCBwcmVmaXgpIHtcbiAgcmV0dXJuIGFycmF5Lm1hcChmdW5jdGlvbiAocHJvcFR5cGUpIHtcbiAgICByZXR1cm4gcHJvcFR5cGVGb3JtYXQocHJvcFR5cGUsIHByZWZpeCk7XG4gIH0pO1xufTtcblxudmFyIHNoYXBlRm9ybWF0ID0gZnVuY3Rpb24gc2hhcGVGb3JtYXQoc2hhcGUsIHByZWZpeCkge1xuICB2YXIgcHJvcHMgPSBPYmplY3Qua2V5cyhzaGFwZSkubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIgdmFsdWUgPSBzaGFwZVtrZXldO1xuICAgIHZhciB2YWx1ZUZvcm1hdCA9IHZvaWQgMDtcbiAgICBpZiAodmFsdWUudHlwZSAmJiAodmFsdWUudHlwZSA9PT0gJ2FycmF5T2YnIHx8IHZhbHVlLnR5cGUgPT09ICdvbmVPZlR5cGUnIHx8IHZhbHVlLnR5cGUgPT09ICdvbmVPZicpICYmIEFycmF5LmlzQXJyYXkodmFsdWUuYXJncykpIHtcbiAgICAgIHZhbHVlRm9ybWF0ID0gJ1xcbicgKyBwcm9wVHlwZUZvcm1hdCh2YWx1ZSwgcHJlZml4ICsgJyAgICAnKTtcbiAgICB9IGVsc2UgaWYgKHZhbHVlLnR5cGUgPT09ICdzaGFwZScpIHtcbiAgICAgIHZhbHVlRm9ybWF0ID0gJ1xcbicgKyBwcm9wVHlwZUZvcm1hdCh2YWx1ZSwgcHJlZml4ICsgJyAgICAnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsdWVGb3JtYXQgPSBwcm9wVHlwZUZvcm1hdCh2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiBwcmVmaXggKyAnICAnICsga2V5ICsgJzogJyArIHZhbHVlRm9ybWF0O1xuICB9KTtcbiAgcmV0dXJuIHByZWZpeCArICd7XFxuJyArIHByb3BzLmpvaW4oJyxcXG4nKSArICdcXG4nICsgcHJlZml4ICsgJ30nO1xufTtcblxudmFyIHByb3BUeXBlRm9ybWF0ID0gZnVuY3Rpb24gcHJvcFR5cGVGb3JtYXQocHJvcFR5cGUpIHtcbiAgdmFyIHByZWZpeCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJyc7XG5cbiAgdmFyIHJlc3VsdCA9IHZvaWQgMDtcbiAgaWYgKHByb3BUeXBlLnR5cGUpIHtcbiAgICBzd2l0Y2ggKHByb3BUeXBlLnR5cGUpIHtcbiAgICAgIGNhc2UgJ2FycmF5T2YnOlxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwcm9wVHlwZS5hcmdzKSkge1xuICAgICAgICAgIHJlc3VsdCA9IHByZWZpeCArICdbXFxuJyArIGFycmF5Rm9ybWF0KHByb3BUeXBlLmFyZ3MsIHByZWZpeCArICcgICcpLmpvaW4oJ1xcbicpICsgJ1xcbicgKyBwcmVmaXggKyAnXSc7XG4gICAgICAgIH0gZWxzZSBpZiAocHJvcFR5cGUuYXJncy50eXBlID09PSAnb25lT2ZUeXBlJykge1xuICAgICAgICAgIHJlc3VsdCA9IHByZWZpeCArICdbXFxuJyArIHByb3BUeXBlRm9ybWF0KHByb3BUeXBlLmFyZ3MsIHByZWZpeCArICcgICcpICsgJ1xcbicgKyBwcmVmaXggKyAnXSc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzdWx0ID0gcHJlZml4ICsgJ1snICsgcHJvcFR5cGVGb3JtYXQocHJvcFR5cGUuYXJncykgKyAnXSc7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdib29sJzpcbiAgICAgICAgcmVzdWx0ID0gcHJlZml4ICsgJ2Jvb2xlYW4nO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2Z1bmMnOlxuICAgICAgICByZXN1bHQgPSBwcmVmaXggKyAnZnVuY3Rpb24nO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2luc3RhbmNlT2YnOlxuICAgICAgICByZXN1bHQgPSBwcmVmaXggKyAnbmV3ICcgKyBwcm9wVHlwZS5hcmdzLm5hbWUgKyAnKC4uLiknO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ29iamVjdE9mJzpcbiAgICAgICAgcmVzdWx0ID0gcHJlZml4ICsgJ3sgdGVzdDogJyArIHByb3BUeXBlLmFyZ3MudHlwZSArICcsIC4uLiB9JztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdvbmVPZic6XG4gICAgICAgIHJlc3VsdCA9IHByb3BUeXBlLmFyZ3MubWFwKGZ1bmN0aW9uIChhKSB7XG4gICAgICAgICAgcmV0dXJuICcnICsgcHJlZml4ICsgYTtcbiAgICAgICAgfSkuam9pbignXFxuJyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnb25lT2ZUeXBlJzpcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocHJvcFR5cGUuYXJncykpIHtcbiAgICAgICAgICByZXN1bHQgPSBhcnJheUZvcm1hdChwcm9wVHlwZS5hcmdzLCBwcmVmaXgpLmpvaW4oJ1xcbicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc3VsdCA9ICcnICsgcHJlZml4ICsgcHJvcFR5cGVGb3JtYXQocHJvcFR5cGUuYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdzaGFwZSc6XG4gICAgICAgIHJlc3VsdCA9ICcnICsgc2hhcGVGb3JtYXQocHJvcFR5cGUuYXJncywgcHJlZml4KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXN1bHQgPSAnJyArIHByZWZpeCArIHByb3BUeXBlLnR5cGU7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXN1bHQgPSBwcmVmaXggKyAnY3VzdG9tJztcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxudmFyIHByb3BUeXBlQXNKc29uID0gZnVuY3Rpb24gcHJvcFR5cGVBc0pzb24ocHJvcFR5cGUsIHByb3BOYW1lLCBkZWZhdWx0VmFsdWUpIHtcbiAgdmFyIGRvY3VtZW50YXRpb24gPSBfZXh0ZW5kcyh7fSwgcHJvcFR5cGUucmVhY3REZXNjLCB7XG4gICAgbmFtZTogcHJvcE5hbWVcbiAgfSk7XG5cbiAgaWYgKGRlZmF1bHRWYWx1ZSkge1xuICAgIGRvY3VtZW50YXRpb24uZGVmYXVsdFZhbHVlID0gZGVmYXVsdFZhbHVlO1xuICB9XG5cbiAgZG9jdW1lbnRhdGlvbi5mb3JtYXQgPSBkb2N1bWVudGF0aW9uLmZvcm1hdCB8fCBwcm9wVHlwZUZvcm1hdChwcm9wVHlwZSk7XG5cbiAgcmV0dXJuIGRvY3VtZW50YXRpb247XG59O1xuXG5mdW5jdGlvbiBkZXNjVG9KU09OKGNvbXBvbmVudCkge1xuICB2YXIgcmVhY3REZXNjID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcblxuICBpZiAoIWNvbXBvbmVudCkge1xuICAgIHRocm93IG5ldyBFcnJvcigncmVhY3QtZGVzYzogY29tcG9uZW50IGlzIHJlcXVpcmVkJyk7XG4gIH1cblxuICB2YXIgZG9jdW1lbnRhdGlvbiA9IF9leHRlbmRzKHtcbiAgICBuYW1lOiBjb21wb25lbnQuZGlzcGxheU5hbWUgfHwgY29tcG9uZW50Lm5hbWVcbiAgfSwgcmVhY3REZXNjKTtcbiAgaWYgKHJlYWN0RGVzYykge1xuICAgIGRlbGV0ZSBkb2N1bWVudGF0aW9uLnByb3BUeXBlcztcblxuICAgIGlmIChyZWFjdERlc2MucHJvcFR5cGVzKSB7XG4gICAgICB2YXIgcHJvcFR5cGVzID0gW107XG4gICAgICBPYmplY3Qua2V5cyhyZWFjdERlc2MucHJvcFR5cGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wTmFtZSkge1xuICAgICAgICB2YXIgcHJvcFR5cGUgPSByZWFjdERlc2MucHJvcFR5cGVzW3Byb3BOYW1lXTtcbiAgICAgICAgcHJvcFR5cGVzLnB1c2gocHJvcFR5cGVBc0pzb24ocHJvcFR5cGUsIHByb3BOYW1lLCAoY29tcG9uZW50LmRlZmF1bHRQcm9wcyB8fCB7fSlbcHJvcE5hbWVdKSk7XG4gICAgICB9KTtcbiAgICAgIGlmIChwcm9wVHlwZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBkb2N1bWVudGF0aW9uLnByb3BlcnRpZXMgPSBwcm9wVHlwZXM7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBkb2N1bWVudGF0aW9uO1xufSIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG5leHBvcnRzLmRlZmF1bHQgPSBkZXNjVG9NYXJrZG93bjtcblxudmFyIF9kZXNjVG9KU09OID0gcmVxdWlyZSgnLi9kZXNjVG9KU09OJyk7XG5cbnZhciBfZGVzY1RvSlNPTjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZXNjVG9KU09OKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIGNvZGUgPSAnYGBgJztcblxuZnVuY3Rpb24gcGFyc2VBdmFpbGFibGVBdChfcmVmKSB7XG4gIHZhciBiYWRnZSA9IF9yZWYuYmFkZ2UsXG4gICAgICB1cmwgPSBfcmVmLnVybDtcblxuICByZXR1cm4gJ1shW10oJyArIGJhZGdlICsgJyldKCcgKyB1cmwgKyAnKSc7XG59XG5cbmZ1bmN0aW9uIGdldEF2YWlsYWJsZUF0KF9yZWYyKSB7XG4gIHZhciBhdmFpbGFibGVBdCA9IF9yZWYyLmF2YWlsYWJsZUF0O1xuXG4gIGlmICghYXZhaWxhYmxlQXQpIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cbiAgdmFyIGF2YWlsYWJsZUF0U3RyID0gdm9pZCAwO1xuICBpZiAoQXJyYXkuaXNBcnJheShhdmFpbGFibGVBdCkpIHtcbiAgICBhdmFpbGFibGVBdFN0ciA9IGF2YWlsYWJsZUF0Lm1hcChmdW5jdGlvbiAoY3VycmVudEF2YWlsYWJsZSkge1xuICAgICAgcmV0dXJuIHBhcnNlQXZhaWxhYmxlQXQoY3VycmVudEF2YWlsYWJsZSk7XG4gICAgfSkuam9pbignICcpO1xuICB9IGVsc2Uge1xuICAgIGF2YWlsYWJsZUF0U3RyID0gcGFyc2VBdmFpbGFibGVBdChhdmFpbGFibGVBdCk7XG4gIH1cbiAgcmV0dXJuICdcXG4nICsgYXZhaWxhYmxlQXRTdHI7XG59XG5cbmZ1bmN0aW9uIGdldEhlYWRlcihfcmVmMykge1xuICB2YXIgZGVzY3JpcHRpb24gPSBfcmVmMy5kZXNjcmlwdGlvbixcbiAgICAgIGRldGFpbHMgPSBfcmVmMy5kZXRhaWxzLFxuICAgICAgZGVwcmVjYXRlZCA9IF9yZWYzLmRlcHJlY2F0ZWQsXG4gICAgICBuYW1lID0gX3JlZjMubmFtZTtcblxuICByZXR1cm4gJyMjICcgKyAoZGVwcmVjYXRlZCA/ICd+ficgKyBuYW1lICsgJ35+JyA6IG5hbWUpICsgKGRlcHJlY2F0ZWQgPyAnICgnICsgZGVwcmVjYXRlZCArICcpJyA6ICcnKSArICdcXG4nICsgZGVzY3JpcHRpb24gKyAoZGV0YWlscyA/ICdcXG5cXG4nICsgZGV0YWlscyA6ICcnKSArICdcXG4nO1xufVxuXG5mdW5jdGlvbiBnZXRVc2FnZShfcmVmNCkge1xuICB2YXIgdXNhZ2UgPSBfcmVmNC51c2FnZTtcblxuICByZXR1cm4gdXNhZ2UgPyAnXFxuIyMgVXNhZ2VcXG5cXG4nICsgY29kZSArICdqYXZhc2NyaXB0XFxuJyArIHVzYWdlICsgJ1xcbicgKyBjb2RlIDogJyc7XG59XG5cbmZ1bmN0aW9uIGdldERlZmF1bHRWYWx1ZShkZWZhdWx0VmFsdWUpIHtcbiAgdmFyIGRlZmF1bHRWYWx1ZVN0cmluZyA9ICh0eXBlb2YgZGVmYXVsdFZhbHVlID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihkZWZhdWx0VmFsdWUpKSA9PT0gJ29iamVjdCcgPyBKU09OLnN0cmluZ2lmeShkZWZhdWx0VmFsdWUsIHVuZGVmaW5lZCwgMikgOiBkZWZhdWx0VmFsdWU7XG5cbiAgcmV0dXJuICcgRGVmYXVsdHMgdG8gYCcgKyBkZWZhdWx0VmFsdWVTdHJpbmcgKyAnYC4nO1xufVxuXG5mdW5jdGlvbiBnZXRQcm9wZXJ0aWVzKF9yZWY1KSB7XG4gIHZhciBfcmVmNSRwcm9wZXJ0aWVzID0gX3JlZjUucHJvcGVydGllcyxcbiAgICAgIHByb3BlcnRpZXMgPSBfcmVmNSRwcm9wZXJ0aWVzID09PSB1bmRlZmluZWQgPyBbXSA6IF9yZWY1JHByb3BlcnRpZXM7XG5cbiAgdmFyIHByb3BzID0gcHJvcGVydGllcy5tYXAoZnVuY3Rpb24gKF9yZWY2KSB7XG4gICAgdmFyIGRlZmF1bHRWYWx1ZSA9IF9yZWY2LmRlZmF1bHRWYWx1ZSxcbiAgICAgICAgZGVwcmVjYXRlZCA9IF9yZWY2LmRlcHJlY2F0ZWQsXG4gICAgICAgIGRlc2NyaXB0aW9uID0gX3JlZjYuZGVzY3JpcHRpb24sXG4gICAgICAgIGZvcm1hdCA9IF9yZWY2LmZvcm1hdCxcbiAgICAgICAgbmFtZSA9IF9yZWY2Lm5hbWUsXG4gICAgICAgIHJlcXVpcmVkID0gX3JlZjYucmVxdWlyZWQ7XG4gICAgcmV0dXJuICdcXG4nICsgKGRlcHJlY2F0ZWQgPyAnKip+ficgKyBuYW1lICsgJ35+KionIDogJyoqJyArIG5hbWUgKyAnKionKSArIChkZXByZWNhdGVkID8gJyAoJyArIGRlcHJlY2F0ZWQgKyAnKScgOiAnJykgKyAnXFxuXFxuJyArIChyZXF1aXJlZCA/ICdSZXF1aXJlZC4gJyA6ICcnKSArIGRlc2NyaXB0aW9uICsgKGRlZmF1bHRWYWx1ZSA/IGdldERlZmF1bHRWYWx1ZShkZWZhdWx0VmFsdWUpIDogJycpICsgJ1xcblxcbicgKyBjb2RlICsgJ1xcbicgKyBmb3JtYXQgKyAnXFxuJyArIGNvZGU7XG4gIH0pO1xuICByZXR1cm4gJ1xcblxcbiMjIFByb3BlcnRpZXNcXG4nICsgcHJvcHMuam9pbignXFxuJykgKyAnXFxuICAnO1xufVxuXG5mdW5jdGlvbiBnZXRJbnRyaW5zaWNFbGVtZW50KF9yZWY3KSB7XG4gIHZhciBpbnRyaW5zaWNFbGVtZW50ID0gX3JlZjcuaW50cmluc2ljRWxlbWVudDtcblxuICByZXR1cm4gaW50cmluc2ljRWxlbWVudCA/ICdcXG4jIyBJbnRyaW5zaWMgZWxlbWVudFxcblxcbicgKyBjb2RlICsgJ1xcbicgKyBpbnRyaW5zaWNFbGVtZW50ICsgJ1xcbicgKyBjb2RlIDogJyc7XG59XG5cbmZ1bmN0aW9uIGRlc2NUb01hcmtkb3duKGNvbXBvbmVudCwgcmVhY3REZXNjKSB7XG4gIGlmICghY29tcG9uZW50KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdyZWFjdC1kZXNjOiBjb21wb25lbnQgaXMgcmVxdWlyZWQnKTtcbiAgfVxuXG4gIHZhciBkb2N1bWVudGF0aW9uID0gKDAsIF9kZXNjVG9KU09OMi5kZWZhdWx0KShjb21wb25lbnQsIHJlYWN0RGVzYyk7XG4gIHZhciBhdmFpbGFibGVBdCA9IGdldEF2YWlsYWJsZUF0KGRvY3VtZW50YXRpb24pO1xuICB2YXIgaGVhZGVyID0gZ2V0SGVhZGVyKGRvY3VtZW50YXRpb24pO1xuICB2YXIgdXNhZ2UgPSBnZXRVc2FnZShkb2N1bWVudGF0aW9uKTtcbiAgdmFyIHByb3BlcnRpZXMgPSBnZXRQcm9wZXJ0aWVzKGRvY3VtZW50YXRpb24pO1xuICB2YXIgaW50cmluc2ljRWxlbWVudCA9IGdldEludHJpbnNpY0VsZW1lbnQoZG9jdW1lbnRhdGlvbik7XG4gIHJldHVybiAnJyArIGhlYWRlciArIGF2YWlsYWJsZUF0ICsgdXNhZ2UgKyBwcm9wZXJ0aWVzICsgaW50cmluc2ljRWxlbWVudDtcbn0iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGRlc2NUb1R5cGVzY3JpcHQ7XG5cbnZhciBhcnJheUZvcm1hdCA9IGZ1bmN0aW9uIGFycmF5Rm9ybWF0KGFycmF5KSB7XG4gIHJldHVybiBhcnJheS5tYXAoZnVuY3Rpb24gKHByb3BUeXBlKSB7XG4gICAgcmV0dXJuIHByb3BUeXBlRm9ybWF0KHByb3BUeXBlKTtcbiAgfSk7XG59O1xuXG52YXIgc2hhcGVGb3JtYXQgPSBmdW5jdGlvbiBzaGFwZUZvcm1hdChzaGFwZSkge1xuICB2YXIgcHJvcHMgPSBPYmplY3Qua2V5cyhzaGFwZSkubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIgdmFsdWUgPSBzaGFwZVtrZXldO1xuICAgIHZhciB2YWx1ZUZvcm1hdCA9IHZvaWQgMDtcbiAgICBpZiAodmFsdWUudHlwZSAmJiAodmFsdWUudHlwZSA9PT0gJ2FycmF5T2YnIHx8IHZhbHVlLnR5cGUgPT09ICdvbmVPZlR5cGUnIHx8IHZhbHVlLnR5cGUgPT09ICdvbmVPZicpICYmIEFycmF5LmlzQXJyYXkodmFsdWUuYXJncykpIHtcbiAgICAgIHZhbHVlRm9ybWF0ID0gJycgKyBwcm9wVHlwZUZvcm1hdCh2YWx1ZSk7XG4gICAgfSBlbHNlIGlmICh2YWx1ZS50eXBlID09PSAnc2hhcGUnKSB7XG4gICAgICB2YWx1ZUZvcm1hdCA9ICcnICsgcHJvcFR5cGVGb3JtYXQodmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YWx1ZUZvcm1hdCA9IHByb3BUeXBlRm9ybWF0KHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuICcnICsga2V5ICsgKHZhbHVlLnJlYWN0RGVzYyAmJiB2YWx1ZS5yZWFjdERlc2MucmVxdWlyZWQgPyAnJyA6ICc/JykgKyAnOiAnICsgdmFsdWVGb3JtYXQ7XG4gIH0pO1xuICByZXR1cm4gJ3snICsgcHJvcHMuam9pbignLCcpICsgJ30nO1xufTtcblxudmFyIHByb3BUeXBlRm9ybWF0ID0gZnVuY3Rpb24gcHJvcFR5cGVGb3JtYXQocHJvcFR5cGUsIGpvaW5XaXRoKSB7XG4gIHZhciByZXN1bHQgPSB2b2lkIDA7XG4gIGlmIChBcnJheS5pc0FycmF5KHByb3BUeXBlKSkge1xuICAgIHJlc3VsdCA9IGFycmF5Rm9ybWF0KHByb3BUeXBlKS5qb2luKGpvaW5XaXRoKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgcHJvcFR5cGUgIT09ICdmdW5jdGlvbicgJiYgcHJvcFR5cGUudHlwZSkge1xuICAgIHN3aXRjaCAocHJvcFR5cGUudHlwZSkge1xuICAgICAgY2FzZSAnYXJyYXknOlxuICAgICAgICByZXN1bHQgPSAnYW55W10nO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2FycmF5T2YnOlxuICAgICAgICBpZiAocHJvcFR5cGUuYXJncy50eXBlID09PSAnb25lT2ZUeXBlJykge1xuICAgICAgICAgIHJlc3VsdCA9ICcoJyArIHByb3BUeXBlRm9ybWF0KHByb3BUeXBlLmFyZ3MsICcgfCAnKSArICcpW10nO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc3VsdCA9IHByb3BUeXBlRm9ybWF0KHByb3BUeXBlLmFyZ3MsICdcXG4nKSArICdbXSc7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdib29sJzpcbiAgICAgICAgcmVzdWx0ID0gJ2Jvb2xlYW4nO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2Z1bmMnOlxuICAgICAgICByZXN1bHQgPSAnKCguLi5hcmdzOiBhbnlbXSkgPT4gYW55KSc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnbm9kZSc6XG4gICAgICAgIHJlc3VsdCA9ICdSZWFjdC5SZWFjdE5vZGUnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2VsZW1lbnQnOlxuICAgICAgICByZXN1bHQgPSAnSlNYLkVsZW1lbnQnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2luc3RhbmNlT2YnOlxuICAgICAgICByZXN1bHQgPSAnYW55JztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdzeW1ib2wnOlxuICAgICAgICByZXN1bHQgPSAnYW55JztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdvYmplY3RPZic6XG4gICAgICAgIHJlc3VsdCA9ICd7IFtrZXk6IHN0cmluZ106ICcgKyBwcm9wVHlwZUZvcm1hdChwcm9wVHlwZS5hcmdzKSArICcgfSc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnb25lT2YnOlxuICAgICAgICByZXN1bHQgPSBwcm9wVHlwZS5hcmdzLm1hcChmdW5jdGlvbiAoYSkge1xuICAgICAgICAgIHJldHVybiAnXCInICsgYSArICdcIic7XG4gICAgICAgIH0pLmpvaW4oJyB8ICcpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ29uZU9mVHlwZSc6XG4gICAgICAgIHJlc3VsdCA9ICcnICsgcHJvcFR5cGVGb3JtYXQocHJvcFR5cGUuYXJncywgJyB8ICcpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3NoYXBlJzpcbiAgICAgICAgcmVzdWx0ID0gJycgKyBzaGFwZUZvcm1hdChwcm9wVHlwZS5hcmdzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXN1bHQgPSAnJyArIHByb3BUeXBlLnR5cGU7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXN1bHQgPSAnYW55JztcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxudmFyIHByb3BUeXBlQXNUeXBlc2NyaXB0ID0gZnVuY3Rpb24gcHJvcFR5cGVBc1R5cGVzY3JpcHQocHJvcFR5cGUsIHByb3BOYW1lKSB7XG4gIHZhciBkb2N1bWVudGF0aW9uID0gX2V4dGVuZHMoe30sIHByb3BUeXBlLnJlYWN0RGVzYywge1xuICAgIG5hbWU6IHByb3BOYW1lXG4gIH0pO1xuXG4gIGRvY3VtZW50YXRpb24uZm9ybWF0ID0gcHJvcFR5cGVGb3JtYXQocHJvcFR5cGUpO1xuXG4gIHJldHVybiBkb2N1bWVudGF0aW9uO1xufTtcblxuZnVuY3Rpb24gZGVzY1RvVHlwZXNjcmlwdChjb21wb25lbnQpIHtcbiAgdmFyIHJlYWN0RGVzYyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG5cbiAgaWYgKCFjb21wb25lbnQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3JlYWN0LWRlc2M6IGNvbXBvbmVudCBpcyByZXF1aXJlZCcpO1xuICB9XG5cbiAgdmFyIGRvY3VtZW50YXRpb24gPSBfZXh0ZW5kcyh7XG4gICAgbmFtZTogY29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IGNvbXBvbmVudC5uYW1lXG4gIH0sIHJlYWN0RGVzYyk7XG4gIGlmIChyZWFjdERlc2MpIHtcbiAgICBkZWxldGUgZG9jdW1lbnRhdGlvbi5wcm9wVHlwZXM7XG5cbiAgICBpZiAocmVhY3REZXNjLnByb3BUeXBlcykge1xuICAgICAgdmFyIHByb3BUeXBlcyA9IFtdO1xuICAgICAgT2JqZWN0LmtleXMocmVhY3REZXNjLnByb3BUeXBlcykuZm9yRWFjaChmdW5jdGlvbiAocHJvcE5hbWUpIHtcbiAgICAgICAgdmFyIHByb3BUeXBlID0gcmVhY3REZXNjLnByb3BUeXBlc1twcm9wTmFtZV07XG4gICAgICAgIHByb3BUeXBlcy5wdXNoKHByb3BUeXBlQXNUeXBlc2NyaXB0KHByb3BUeXBlLCBwcm9wTmFtZSkpO1xuICAgICAgfSk7XG4gICAgICBpZiAocHJvcFR5cGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZG9jdW1lbnRhdGlvbi5wcm9wZXJ0aWVzID0gcHJvcFR5cGVzO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gZG9jdW1lbnRhdGlvbjtcbn0iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSBkZXNjcmliZTtcblxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfZGVzY1RvSlNPTiA9IHJlcXVpcmUoJy4vZGVzY1RvSlNPTicpO1xuXG52YXIgX2Rlc2NUb0pTT04yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVzY1RvSlNPTik7XG5cbnZhciBfZGVzY1RvTWFya2Rvd24gPSByZXF1aXJlKCcuL2Rlc2NUb01hcmtkb3duJyk7XG5cbnZhciBfZGVzY1RvTWFya2Rvd24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVzY1RvTWFya2Rvd24pO1xuXG52YXIgX2Rlc2NUb1R5cGVzY3JpcHQgPSByZXF1aXJlKCcuL2Rlc2NUb1R5cGVzY3JpcHQnKTtcblxudmFyIF9kZXNjVG9UeXBlc2NyaXB0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Rlc2NUb1R5cGVzY3JpcHQpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgY29udmVydEFycmF5ID0gZnVuY3Rpb24gY29udmVydEFycmF5KGFycmF5KSB7XG4gIHJldHVybiBhcnJheS5tYXAoZnVuY3Rpb24gKHR5cGUpIHtcbiAgICByZXR1cm4gY29udmVydFByb3BUeXBlKHR5cGUpO1xuICB9KTtcbn07XG5cbnZhciBjb252ZXJ0U2hhcGUgPSBmdW5jdGlvbiBjb252ZXJ0U2hhcGUoc2hhcGUpIHtcbiAgdmFyIHJlc3VsdCA9IHt9O1xuICBPYmplY3Qua2V5cyhzaGFwZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgcmVzdWx0W2tleV0gPSBjb252ZXJ0UHJvcFR5cGUoc2hhcGVba2V5XSk7XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufTtcblxudmFyIGNvbnZlcnRQcm9wVHlwZSA9IGZ1bmN0aW9uIGNvbnZlcnRQcm9wVHlwZShwcm9wVHlwZSkge1xuICB2YXIgcmVzdWx0ID0gdm9pZCAwO1xuICBpZiAocHJvcFR5cGUgJiYgcHJvcFR5cGUudHlwZSkge1xuICAgIGlmICghX3Byb3BUeXBlczIuZGVmYXVsdFtwcm9wVHlwZS50eXBlXSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdyZWFjdC1kZXNjOiB1bmtub3duIHR5cGUgJyArIHByb3BUeXBlLnR5cGUpO1xuICAgIH1cbiAgICBpZiAocHJvcFR5cGUuYXJncykge1xuICAgICAgaWYgKHByb3BUeXBlLnR5cGUgPT09ICdvbmVPZlR5cGUnIHx8IHByb3BUeXBlLnR5cGUgPT09ICdhcnJheU9mJykge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwcm9wVHlwZS5hcmdzKSkge1xuICAgICAgICAgIHJlc3VsdCA9IF9wcm9wVHlwZXMyLmRlZmF1bHRbcHJvcFR5cGUudHlwZV0oY29udmVydEFycmF5KHByb3BUeXBlLmFyZ3MpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHQgPSBfcHJvcFR5cGVzMi5kZWZhdWx0W3Byb3BUeXBlLnR5cGVdKGNvbnZlcnRQcm9wVHlwZShwcm9wVHlwZS5hcmdzKSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAocHJvcFR5cGUudHlwZSA9PT0gJ3NoYXBlJykge1xuICAgICAgICByZXN1bHQgPSBfcHJvcFR5cGVzMi5kZWZhdWx0W3Byb3BUeXBlLnR5cGVdKGNvbnZlcnRTaGFwZShwcm9wVHlwZS5hcmdzKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQgPSBfcHJvcFR5cGVzMi5kZWZhdWx0W3Byb3BUeXBlLnR5cGVdKHByb3BUeXBlLmFyZ3MpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQgPSBfcHJvcFR5cGVzMi5kZWZhdWx0W3Byb3BUeXBlLnR5cGVdO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXN1bHQgPSBwcm9wVHlwZTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuZnVuY3Rpb24gZGVzY3JpYmUoQ29tcG9uZW50SW5zdGFuY2UpIHtcbiAgaWYgKCFDb21wb25lbnRJbnN0YW5jZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncmVhY3QtZGVzYzogY29tcG9uZW50IGlzIHJlcXVpcmVkJyk7XG4gIH1cblxuICB2YXIgZG9jdW1lbnRhdGlvbiA9IHtcbiAgICBwcm9wVHlwZXM6IHt9XG4gIH07XG5cbiAgdmFyIERvY3VtZW50ZWRDb21wb25lbnQgPSBDb21wb25lbnRJbnN0YW5jZTtcblxuICB2YXIgYWRkRG9jdW1lbnRhdGlvblByb3AgPSBmdW5jdGlvbiBhZGREb2N1bWVudGF0aW9uUHJvcChwcm9wTmFtZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIGRvY3VtZW50YXRpb25bcHJvcE5hbWVdID0gdmFsdWU7XG4gICAgICByZXR1cm4gRG9jdW1lbnRlZENvbXBvbmVudDtcbiAgICB9O1xuICB9O1xuXG4gIERvY3VtZW50ZWRDb21wb25lbnQuYXZhaWxhYmxlQXQgPSBhZGREb2N1bWVudGF0aW9uUHJvcCgnYXZhaWxhYmxlQXQnKTtcbiAgRG9jdW1lbnRlZENvbXBvbmVudC5kZXNjcmlwdGlvbiA9IGFkZERvY3VtZW50YXRpb25Qcm9wKCdkZXNjcmlwdGlvbicpO1xuICBEb2N1bWVudGVkQ29tcG9uZW50LmRldGFpbHMgPSBhZGREb2N1bWVudGF0aW9uUHJvcCgnZGV0YWlscycpO1xuICBEb2N1bWVudGVkQ29tcG9uZW50LmRlcHJlY2F0ZWQgPSBhZGREb2N1bWVudGF0aW9uUHJvcCgnZGVwcmVjYXRlZCcpO1xuICBEb2N1bWVudGVkQ29tcG9uZW50LnVzYWdlID0gYWRkRG9jdW1lbnRhdGlvblByb3AoJ3VzYWdlJyk7XG4gIERvY3VtZW50ZWRDb21wb25lbnQuaW50cmluc2ljRWxlbWVudCA9IGFkZERvY3VtZW50YXRpb25Qcm9wKCdpbnRyaW5zaWNFbGVtZW50Jyk7XG5cbiAgRG9jdW1lbnRlZENvbXBvbmVudC50b0pTT04gPSBfZGVzY1RvSlNPTjIuZGVmYXVsdC5iaW5kKG51bGwsIENvbXBvbmVudEluc3RhbmNlLCBkb2N1bWVudGF0aW9uKTtcbiAgRG9jdW1lbnRlZENvbXBvbmVudC50b1R5cGVzY3JpcHQgPSBfZGVzY1RvVHlwZXNjcmlwdDIuZGVmYXVsdC5iaW5kKG51bGwsIENvbXBvbmVudEluc3RhbmNlLCBkb2N1bWVudGF0aW9uKTtcbiAgRG9jdW1lbnRlZENvbXBvbmVudC50b01hcmtkb3duID0gX2Rlc2NUb01hcmtkb3duMi5kZWZhdWx0LmJpbmQobnVsbCwgQ29tcG9uZW50SW5zdGFuY2UsIGRvY3VtZW50YXRpb24pO1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEb2N1bWVudGVkQ29tcG9uZW50LCAncHJvcFR5cGVzJywge1xuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIERvY3VtZW50ZWRDb21wb25lbnQucHJvcFR5cGVzVmFsdWU7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgaWYgKCFEb2N1bWVudGVkQ29tcG9uZW50LnByb3BUeXBlc1ZhbHVlKSB7XG4gICAgICAgIERvY3VtZW50ZWRDb21wb25lbnQucHJvcFR5cGVzVmFsdWUgPSB7fTtcbiAgICAgIH1cbiAgICAgIE9iamVjdC5rZXlzKHZhbHVlKS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIHZhciBwcm9wVHlwZSA9IHZhbHVlW25hbWVdO1xuICAgICAgICBpZiAocHJvcFR5cGUudHlwZSkge1xuICAgICAgICAgIGRvY3VtZW50YXRpb24ucHJvcFR5cGVzW25hbWVdID0gcHJvcFR5cGU7XG4gICAgICAgICAgcHJvcFR5cGUgPSBjb252ZXJ0UHJvcFR5cGUocHJvcFR5cGUpO1xuICAgICAgICAgIGlmICh2YWx1ZVtuYW1lXS5yZWFjdERlc2MucmVxdWlyZWQpIHtcbiAgICAgICAgICAgIHByb3BUeXBlID0gcHJvcFR5cGUuaXNSZXF1aXJlZDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgRG9jdW1lbnRlZENvbXBvbmVudC5wcm9wVHlwZXNWYWx1ZVtuYW1lXSA9IHByb3BUeXBlO1xuICAgICAgICByZXR1cm4gcHJvcFR5cGU7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pO1xuXG4gIHJldHVybiBEb2N1bWVudGVkQ29tcG9uZW50O1xufSIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9Qcm9wVHlwZXMgPSByZXF1aXJlKCcuL1Byb3BUeXBlcycpO1xuXG52YXIgX1Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Qcm9wVHlwZXMpO1xuXG52YXIgX2Rlc2NyaWJlID0gcmVxdWlyZSgnLi9kZXNjcmliZScpO1xuXG52YXIgX2Rlc2NyaWJlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Rlc2NyaWJlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5Qcm9wVHlwZXMgPSBfUHJvcFR5cGVzMi5kZWZhdWx0O1xuZXhwb3J0cy5kZXNjcmliZSA9IF9kZXNjcmliZTIuZGVmYXVsdDtcblxuZXhwb3J0cy5kZWZhdWx0ID0ge1xuICBkZXNjcmliZTogX2Rlc2NyaWJlMi5kZWZhdWx0LFxuICBQcm9wVHlwZXM6IF9Qcm9wVHlwZXMyLmRlZmF1bHRcbn07IiwiaW1wb3J0IHsgUHVyZUNvbXBvbmVudCwgY3JlYXRlQ29udGV4dCwgY3JlYXRlUmVmLCBjcmVhdGVFbGVtZW50LCBGcmFnbWVudCwgQ29tcG9uZW50LCB1c2VDb250ZXh0LCB1c2VFZmZlY3QsIHVzZVN0YXRlLCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgbWVtb2l6ZSBmcm9tICdtZW1vaXplLW9uZSc7XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbnZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX3NwcmVhZEFycmF5cygpIHtcclxuICAgIGZvciAodmFyIHMgPSAwLCBpID0gMCwgaWwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgaWw7IGkrKykgcyArPSBhcmd1bWVudHNbaV0ubGVuZ3RoO1xyXG4gICAgZm9yICh2YXIgciA9IEFycmF5KHMpLCBrID0gMCwgaSA9IDA7IGkgPCBpbDsgaSsrKVxyXG4gICAgICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHNbaV0sIGogPSAwLCBqbCA9IGEubGVuZ3RoOyBqIDwgamw7IGorKywgaysrKVxyXG4gICAgICAgICAgICByW2tdID0gYVtqXTtcclxuICAgIHJldHVybiByO1xyXG59XG5cbnZhciBzaGFsbG93RXF1YWxTY3JvbGwgPSBmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgaWYgKGEgPT09IGIpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIHJldHVybiAoYS54ID09PSBiLnggJiZcclxuICAgICAgICBhLnkgPT09IGIueSAmJlxyXG4gICAgICAgIGEueFR1cm4gPT09IGIueFR1cm4gJiZcclxuICAgICAgICBhLnlUdXJuID09PSBiLnlUdXJuICYmXHJcbiAgICAgICAgYS54RFR1cm4gPT09IGIueERUdXJuICYmXHJcbiAgICAgICAgYS55RFR1cm4gPT09IGIueURUdXJuICYmXHJcbiAgICAgICAgYS5pc1Njcm9sbGluZ1VwID09PSBiLmlzU2Nyb2xsaW5nVXAgJiZcclxuICAgICAgICBhLmlzU2Nyb2xsaW5nRG93biA9PT0gYi5pc1Njcm9sbGluZ0Rvd24gJiZcclxuICAgICAgICBhLmlzU2Nyb2xsaW5nTGVmdCA9PT0gYi5pc1Njcm9sbGluZ0xlZnQgJiZcclxuICAgICAgICBhLmlzU2Nyb2xsaW5nUmlnaHQgPT09IGIuaXNTY3JvbGxpbmdSaWdodCk7XHJcbn07XHJcbnZhciBzaGFsbG93RXF1YWxSZWN0ID0gZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgIGlmIChhID09PSBiKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gKGEudG9wID09PSBiLnRvcCAmJlxyXG4gICAgICAgIGEucmlnaHQgPT09IGIucmlnaHQgJiZcclxuICAgICAgICBhLmJvdHRvbSA9PT0gYi5ib3R0b20gJiZcclxuICAgICAgICBhLmxlZnQgPT09IGIubGVmdCAmJlxyXG4gICAgICAgIGEuaGVpZ2h0ID09PSBiLmhlaWdodCAmJlxyXG4gICAgICAgIGEud2lkdGggPT09IGIud2lkdGgpO1xyXG59O1xyXG52YXIgc2hhbGxvd0VxdWFsRGltZW5zaW9ucyA9IGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICBpZiAoYSA9PT0gYikge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIChhLndpZHRoID09PSBiLndpZHRoICYmXHJcbiAgICAgICAgYS5oZWlnaHQgPT09IGIuaGVpZ2h0ICYmXHJcbiAgICAgICAgYS5jbGllbnRXaWR0aCA9PT0gYi5jbGllbnRXaWR0aCAmJlxyXG4gICAgICAgIGEuY2xpZW50SGVpZ2h0ID09PSBiLmNsaWVudEhlaWdodCAmJlxyXG4gICAgICAgIGEub3V0ZXJXaWR0aCA9PT0gYi5vdXRlcldpZHRoICYmXHJcbiAgICAgICAgYS5vdXRlckhlaWdodCA9PT0gYi5vdXRlckhlaWdodCAmJlxyXG4gICAgICAgIGEuZG9jdW1lbnRXaWR0aCA9PT0gYi5kb2N1bWVudFdpZHRoICYmXHJcbiAgICAgICAgYS5kb2N1bWVudEhlaWdodCA9PT0gYi5kb2N1bWVudEhlaWdodCk7XHJcbn07XHJcbi8vIGltcGxlbWVudGF0aW9uIGJhc2VkIG9uIGh0dHBzOi8vZ2l0aHViLmNvbS9XSUNHL0V2ZW50TGlzdGVuZXJPcHRpb25zL2Jsb2IvZ2gtcGFnZXMvZXhwbGFpbmVyLm1kXHJcbnZhciBicm93c2VyU3VwcG9ydHNQYXNzaXZlRXZlbnRzID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHZhciBzdXBwb3J0c1Bhc3NpdmUgPSBmYWxzZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgdmFyIG9wdHMgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdwYXNzaXZlJywge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHN1cHBvcnRzUGFzc2l2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Rlc3RQYXNzaXZlJywgbnVsbCwgb3B0cyk7XHJcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Rlc3RQYXNzaXZlJywgbnVsbCwgb3B0cyk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHJldHVybiBzdXBwb3J0c1Bhc3NpdmU7XHJcbn0pKCk7XHJcbnZhciBzaW1wbGVEZWJvdW5jZSA9IGZ1bmN0aW9uIChmbiwgZGVsYXkpIHtcclxuICAgIHZhciB0aW1lb3V0O1xyXG4gICAgcmV0dXJuIChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcclxuICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dC5hcHBseSh2b2lkIDAsIF9fc3ByZWFkQXJyYXlzKFtmbiwgZGVsYXldLCBhcmdzKSk7XHJcbiAgICB9KTtcclxufTtcclxudmFyIGRlYm91bmNlT25VcGRhdGUgPSBmdW5jdGlvbiAoZm4sIGRlbGF5KSB7XHJcbiAgICB2YXIgdGltZW91dDtcclxuICAgIHZhciBzY3JvbGxEaWRVcGRhdGUgPSBmYWxzZTtcclxuICAgIHZhciBkaW1lbnNpb25zRGlkVXBkYXRlID0gZmFsc2U7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHZpZXdwb3J0LCBvcHRpb25zKSB7XHJcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xyXG4gICAgICAgIHNjcm9sbERpZFVwZGF0ZSA9IHNjcm9sbERpZFVwZGF0ZSB8fCBvcHRpb25zLnNjcm9sbERpZFVwZGF0ZTtcclxuICAgICAgICBkaW1lbnNpb25zRGlkVXBkYXRlID0gZGltZW5zaW9uc0RpZFVwZGF0ZSB8fCBvcHRpb25zLmRpbWVuc2lvbnNEaWRVcGRhdGU7XHJcbiAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBmbih2aWV3cG9ydCwge1xyXG4gICAgICAgICAgICAgICAgc2Nyb2xsRGlkVXBkYXRlOiBzY3JvbGxEaWRVcGRhdGUsXHJcbiAgICAgICAgICAgICAgICBkaW1lbnNpb25zRGlkVXBkYXRlOiBkaW1lbnNpb25zRGlkVXBkYXRlLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgc2Nyb2xsRGlkVXBkYXRlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGRpbWVuc2lvbnNEaWRVcGRhdGUgPSBmYWxzZTtcclxuICAgICAgICB9LCBkZWxheSk7XHJcbiAgICB9O1xyXG59O1xyXG52YXIgd2Fybk5vQ29udGV4dEF2YWlsYWJsZSA9IGZ1bmN0aW9uIChsb2NhdGlvbikge1xyXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB2YXIgZnJvbUhvb2sgPSBsb2NhdGlvbi5zdGFydHNXaXRoKCd1c2UnKTtcclxuICAgIGlmIChmcm9tSG9vaykge1xyXG4gICAgICAgIGNvbnNvbGUud2FybihcInJlYWN0LXZpZXdwb3J0LXV0aWxzOiBcIiArIGxvY2F0aW9uICsgXCIgaG9vayBpcyBub3QgYWJsZSB0byBjb25uZWN0IHRvIGEgPFZpZXdwb3J0UHJvdmlkZXI+LiBUaGVyZWZvcmUgaXQgY2Fubm90IGRldGVjdCB1cGRhdGVzIGZyb20gdGhlIHZpZXdwb3J0IGFuZCB3aWxsIG5vdCB3b3JrIGFzIGV4cGVjdGVkLiBUbyByZXNvbHZlIHRoaXMgaXNzdWUgcGxlYXNlIGFkZCBhIDxWaWV3cG9ydFByb3ZpZGVyPiBhcyBhIHBhcmVudCBvZiB0aGUgY29tcG9uZW50IHVzaW5nIHRoZSBob29rLCBlLmcuIGRpcmVjdGx5IGluIHRoZSBSZWFjdERPTS5yZW5kZXIgY2FsbDpcXG5cXG5pbXBvcnQgKiBhcyBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xcbmltcG9ydCB7IFZpZXdwb3J0UHJvdmlkZXIsIFwiICsgbG9jYXRpb24gKyBcIiB9IGZyb20gJ3JlYWN0LXZpZXdwb3J0LXV0aWxzJztcXG5cXG5jb25zdCBNeUNvbXBvbmVudCA9ICgpID0+IHtcXG4gIFwiICsgbG9jYXRpb24gKyBcIigpXFxuICAuLi5cXG59XFxuXFxuUmVhY3RET00ucmVuZGVyKFxcbiAgPFZpZXdwb3J0UHJvdmlkZXI+XFxuICAgIDxtYWluIHJvbGU9XFxcIm1haW5cXFwiPlxcbiAgICAgIDxNeUNvbXBvbmVudCAvPlxcbiAgICA8L21haW4+XFxuICA8L1ZpZXdwb3J0UHJvdmlkZXI+LFxcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jvb3QnKVxcbik7XCIpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNvbnNvbGUud2FybihcInJlYWN0LXZpZXdwb3J0LXV0aWxzOiBcIiArIGxvY2F0aW9uICsgXCIgY29tcG9uZW50IGlzIG5vdCBhYmxlIHRvIGNvbm5lY3QgdG8gYSA8Vmlld3BvcnRQcm92aWRlcj4uIFRoZXJlZm9yZSBpdCBjYW5ub3QgZGV0ZWN0IHVwZGF0ZXMgZnJvbSB0aGUgdmlld3BvcnQgYW5kIHdpbGwgbm90IHdvcmsgYXMgZXhwZWN0ZWQuIFRvIHJlc29sdmUgdGhpcyBpc3N1ZSBwbGVhc2UgYWRkIGEgPFZpZXdwb3J0UHJvdmlkZXI+IGFzIGEgcGFyZW50IG9mIHRoZSA8T2JzZXJ2ZVZpZXdwb3J0PiBjb21wb25lbnQsIGUuZy4gZGlyZWN0bHkgaW4gdGhlIFJlYWN0RE9NLnJlbmRlciBjYWxsOlxcblxcbmltcG9ydCAqIGFzIFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XFxuaW1wb3J0IHsgVmlld3BvcnRQcm92aWRlciwgT2JzZXJ2ZVZpZXdwb3J0IH0gZnJvbSAncmVhY3Qtdmlld3BvcnQtdXRpbHMnO1xcblJlYWN0RE9NLnJlbmRlcihcXG4gIDxWaWV3cG9ydFByb3ZpZGVyPlxcbiAgICA8bWFpbiByb2xlPVxcXCJtYWluXFxcIj5cXG4gICAgICA8T2JzZXJ2ZVZpZXdwb3J0PlxcbiAgICAgICAgeyh7IHNjcm9sbCwgZGltZW5zaW9ucyB9KSA9PiAuLi59XFxuICAgICAgPC9PYnNlcnZlVmlld3BvcnQ+XFxuICAgIDwvbWFpbj5cXG4gIDwvVmlld3BvcnRQcm92aWRlcj4sXFxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncm9vdCcpXFxuKTtcIik7XHJcbn07XHJcbnZhciB3YXJuTm9SZXNpemVPYnNlcnZlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY29uc29sZS53YXJuKCdyZWFjdC12aWV3cG9ydC11dGlsczogVGhpcyBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgdGhlIFJlc2l6ZU9ic2VydmVyIEFQSSwgdGhlcmVmb3JlIG5vdCBhbGwgcG9zc2libGUgcmVzaXplIGV2ZW50cyB3aWxsIGJlIGRldGVjdGVkLiBJbiBtb3N0IG9mIHRoZSBjYXNlcyB0aGlzIGlzIG5vdCBhbiBpc3N1ZSBhbmQgY2FuIGJlIGlnbm9yZWQuIElmIGl0cyByZWxldmFudCB0byB5b3VyIGFwcGxpY2F0aW9uIHBsZWFzZSBjb25zaWRlciBhZGRpbmcgYSBwb2x5ZmlsbCwgZS5nLiBodHRwczovL3d3dy5ucG1qcy5jb20vcGFja2FnZS9yZXNpemUtb2JzZXJ2ZXItcG9seWZpbGwgLicpO1xyXG59O1xyXG52YXIgcmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBmYWxsYmFjayA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xyXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGNhbGxiYWNrLCAxMDAwIC8gNjApO1xyXG4gICAgfTtcclxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIHJldHVybiAod2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxyXG4gICAgICAgICAgICB3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XHJcbiAgICAgICAgICAgIHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcclxuICAgICAgICAgICAgZmFsbGJhY2spO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbGxiYWNrO1xyXG59KSgpO1xyXG52YXIgY2FuY2VsQW5pbWF0aW9uRnJhbWUgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgcmV0dXJuICh3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUgfHxcclxuICAgICAgICAgICAgd2luZG93LndlYmtpdENhbmNlbEFuaW1hdGlvbkZyYW1lIHx8XHJcbiAgICAgICAgICAgIHdpbmRvdy53ZWJraXRDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcclxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KTtcclxuICAgIH1cclxuICAgIHJldHVybiBjbGVhclRpbWVvdXQ7XHJcbn0pKCk7XHJcbnZhciBub3cgPSB0eXBlb2YgcGVyZm9ybWFuY2UgIT09ICd1bmRlZmluZWQnICYmIHBlcmZvcm1hbmNlLm5vd1xyXG4gICAgPyBwZXJmb3JtYW5jZS5ub3cuYmluZChwZXJmb3JtYW5jZSlcclxuICAgIDogRGF0ZS5ub3c7XHJcbnZhciBjcmVhdGVQZXJmb3JtYW5jZU1hcmtlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzdGFydCA9IG5vdygpO1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5vdygpIC0gc3RhcnQ7IH07XHJcbn07XG5cbnZhciBnZXRDbGllbnREaW1lbnNpb25zID0gZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcgfHwgIWRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkge1xyXG4gICAgICAgIHJldHVybiBjcmVhdGVFbXB0eURpbWVuc2lvblN0YXRlKCk7XHJcbiAgICB9XHJcbiAgICB2YXIgaW5uZXJXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoLCBpbm5lckhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCwgb3V0ZXJXaWR0aCA9IHdpbmRvdy5vdXRlcldpZHRoLCBvdXRlckhlaWdodCA9IHdpbmRvdy5vdXRlckhlaWdodDtcclxuICAgIHZhciBfYSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgY2xpZW50V2lkdGggPSBfYS5jbGllbnRXaWR0aCwgY2xpZW50SGVpZ2h0ID0gX2EuY2xpZW50SGVpZ2h0LCBzY3JvbGxIZWlnaHQgPSBfYS5zY3JvbGxIZWlnaHQsIHNjcm9sbFdpZHRoID0gX2Euc2Nyb2xsV2lkdGgsIG9mZnNldEhlaWdodCA9IF9hLm9mZnNldEhlaWdodCwgb2Zmc2V0V2lkdGggPSBfYS5vZmZzZXRXaWR0aDtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgd2lkdGg6IGlubmVyV2lkdGgsXHJcbiAgICAgICAgaGVpZ2h0OiBpbm5lckhlaWdodCxcclxuICAgICAgICBjbGllbnRXaWR0aDogY2xpZW50V2lkdGgsXHJcbiAgICAgICAgY2xpZW50SGVpZ2h0OiBjbGllbnRIZWlnaHQsXHJcbiAgICAgICAgb3V0ZXJXaWR0aDogb3V0ZXJXaWR0aCxcclxuICAgICAgICBvdXRlckhlaWdodDogb3V0ZXJIZWlnaHQsXHJcbiAgICAgICAgZG9jdW1lbnRXaWR0aDogTWF0aC5tYXgoc2Nyb2xsV2lkdGgsIG9mZnNldFdpZHRoLCBjbGllbnRXaWR0aCksXHJcbiAgICAgICAgZG9jdW1lbnRIZWlnaHQ6IE1hdGgubWF4KHNjcm9sbEhlaWdodCwgb2Zmc2V0SGVpZ2h0LCBjbGllbnRIZWlnaHQpLFxyXG4gICAgfTtcclxufTtcclxudmFyIGdldE5vZGVTY3JvbGwgPSBmdW5jdGlvbiAoZWxlbSkge1xyXG4gICAgaWYgKGVsZW0gPT09IHZvaWQgMCkgeyBlbGVtID0gd2luZG93OyB9XHJcbiAgICB2YXIgc2Nyb2xsWCA9IGVsZW0uc2Nyb2xsWCwgc2Nyb2xsWSA9IGVsZW0uc2Nyb2xsWTtcclxuICAgIGlmIChzY3JvbGxYID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICBzY3JvbGxYID0gZWxlbS5wYWdlWE9mZnNldDtcclxuICAgIH1cclxuICAgIGlmIChzY3JvbGxZID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICBzY3JvbGxZID0gZWxlbS5wYWdlWU9mZnNldDtcclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgeDogc2Nyb2xsWCxcclxuICAgICAgICB5OiBzY3JvbGxZLFxyXG4gICAgfTtcclxufTtcclxudmFyIGdldENsaWVudFNjcm9sbCA9IGZ1bmN0aW9uIChwcmV2U2Nyb2xsU3RhdGUpIHtcclxuICAgIGlmIChwcmV2U2Nyb2xsU3RhdGUgPT09IHZvaWQgMCkgeyBwcmV2U2Nyb2xsU3RhdGUgPSBjcmVhdGVFbXB0eVNjcm9sbFN0YXRlKCk7IH1cclxuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIHJldHVybiBjcmVhdGVFbXB0eVNjcm9sbFN0YXRlKCk7XHJcbiAgICB9XHJcbiAgICB2YXIgX2EgPSBnZXROb2RlU2Nyb2xsKCksIHggPSBfYS54LCB5ID0gX2EueTtcclxuICAgIHZhciBuZXh0U2Nyb2xsU3RhdGUgPSBfX2Fzc2lnbih7fSwgcHJldlNjcm9sbFN0YXRlKTtcclxuICAgIHZhciBwcmV2SXNTY3JvbGxpbmdMZWZ0ID0gcHJldlNjcm9sbFN0YXRlLmlzU2Nyb2xsaW5nTGVmdCwgcHJldklzU2Nyb2xsaW5nVXAgPSBwcmV2U2Nyb2xsU3RhdGUuaXNTY3JvbGxpbmdVcCwgcHJldlhUdXJuID0gcHJldlNjcm9sbFN0YXRlLnhUdXJuLCBwcmV2WVR1cm4gPSBwcmV2U2Nyb2xsU3RhdGUueVR1cm47XHJcbiAgICBuZXh0U2Nyb2xsU3RhdGUuaXNTY3JvbGxpbmdMZWZ0ID0gaXNTY3JvbGxpbmdMZWZ0KHgsIG5leHRTY3JvbGxTdGF0ZSk7XHJcbiAgICBuZXh0U2Nyb2xsU3RhdGUuaXNTY3JvbGxpbmdSaWdodCA9IGlzU2Nyb2xsaW5nUmlnaHQoeCwgbmV4dFNjcm9sbFN0YXRlKTtcclxuICAgIG5leHRTY3JvbGxTdGF0ZS5pc1Njcm9sbGluZ1VwID0gaXNTY3JvbGxpbmdVcCh5LCBuZXh0U2Nyb2xsU3RhdGUpO1xyXG4gICAgbmV4dFNjcm9sbFN0YXRlLmlzU2Nyb2xsaW5nRG93biA9IGlzU2Nyb2xsaW5nRG93bih5LCBuZXh0U2Nyb2xsU3RhdGUpO1xyXG4gICAgbmV4dFNjcm9sbFN0YXRlLnhUdXJuID1cclxuICAgICAgICBuZXh0U2Nyb2xsU3RhdGUuaXNTY3JvbGxpbmdMZWZ0ID09PSBwcmV2SXNTY3JvbGxpbmdMZWZ0ID8gcHJldlhUdXJuIDogeDtcclxuICAgIG5leHRTY3JvbGxTdGF0ZS55VHVybiA9XHJcbiAgICAgICAgbmV4dFNjcm9sbFN0YXRlLmlzU2Nyb2xsaW5nVXAgPT09IHByZXZJc1Njcm9sbGluZ1VwID8gcHJldllUdXJuIDogeTtcclxuICAgIG5leHRTY3JvbGxTdGF0ZS54RFR1cm4gPSB4IC0gbmV4dFNjcm9sbFN0YXRlLnhUdXJuO1xyXG4gICAgbmV4dFNjcm9sbFN0YXRlLnlEVHVybiA9IHkgLSBuZXh0U2Nyb2xsU3RhdGUueVR1cm47XHJcbiAgICBuZXh0U2Nyb2xsU3RhdGUueCA9IHg7XHJcbiAgICBuZXh0U2Nyb2xsU3RhdGUueSA9IHk7XHJcbiAgICByZXR1cm4gbmV4dFNjcm9sbFN0YXRlO1xyXG59O1xyXG52YXIgaXNTY3JvbGxpbmdMZWZ0ID0gZnVuY3Rpb24gKHgsIHByZXYpIHtcclxuICAgIHN3aXRjaCAodHJ1ZSkge1xyXG4gICAgICAgIGNhc2UgeCA8IHByZXYueDpcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgY2FzZSB4ID4gcHJldi54OlxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgY2FzZSB4ID09PSBwcmV2Lng6XHJcbiAgICAgICAgICAgIHJldHVybiBwcmV2LmlzU2Nyb2xsaW5nTGVmdDtcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkIG5vdCBjYWxjdWxhdGUgaXNTY3JvbGxpbmdMZWZ0Jyk7XHJcbiAgICB9XHJcbn07XHJcbnZhciBpc1Njcm9sbGluZ1JpZ2h0ID0gZnVuY3Rpb24gKHgsIHByZXYpIHtcclxuICAgIHN3aXRjaCAodHJ1ZSkge1xyXG4gICAgICAgIGNhc2UgeCA+IHByZXYueDpcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgY2FzZSB4IDwgcHJldi54OlxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgY2FzZSB4ID09PSBwcmV2Lng6XHJcbiAgICAgICAgICAgIHJldHVybiBwcmV2LmlzU2Nyb2xsaW5nUmlnaHQ7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb3VsZCBub3QgY2FsY3VsYXRlIGlzU2Nyb2xsaW5nUmlnaHQnKTtcclxuICAgIH1cclxufTtcclxudmFyIGlzU2Nyb2xsaW5nVXAgPSBmdW5jdGlvbiAoeSwgcHJldikge1xyXG4gICAgc3dpdGNoICh0cnVlKSB7XHJcbiAgICAgICAgY2FzZSB5IDwgcHJldi55OlxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICBjYXNlIHkgPiBwcmV2Lnk6XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICBjYXNlIHkgPT09IHByZXYueTpcclxuICAgICAgICAgICAgcmV0dXJuIHByZXYuaXNTY3JvbGxpbmdVcDtcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkIG5vdCBjYWxjdWxhdGUgaXNTY3JvbGxpbmdVcCcpO1xyXG4gICAgfVxyXG59O1xyXG52YXIgaXNTY3JvbGxpbmdEb3duID0gZnVuY3Rpb24gKHksIHByZXYpIHtcclxuICAgIHN3aXRjaCAodHJ1ZSkge1xyXG4gICAgICAgIGNhc2UgeSA+IHByZXYueTpcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgY2FzZSB5IDwgcHJldi55OlxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgY2FzZSB5ID09PSBwcmV2Lnk6XHJcbiAgICAgICAgICAgIHJldHVybiBwcmV2LmlzU2Nyb2xsaW5nRG93bjtcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkIG5vdCBjYWxjdWxhdGUgaXNTY3JvbGxpbmdEb3duJyk7XHJcbiAgICB9XHJcbn07XHJcbnZhciBjcmVhdGVFbXB0eVNjcm9sbFN0YXRlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gKHtcclxuICAgIHg6IDAsXHJcbiAgICB5OiAwLFxyXG4gICAgaXNTY3JvbGxpbmdVcDogZmFsc2UsXHJcbiAgICBpc1Njcm9sbGluZ0Rvd246IGZhbHNlLFxyXG4gICAgaXNTY3JvbGxpbmdMZWZ0OiBmYWxzZSxcclxuICAgIGlzU2Nyb2xsaW5nUmlnaHQ6IGZhbHNlLFxyXG4gICAgeFR1cm46IDAsXHJcbiAgICB5VHVybjogMCxcclxuICAgIHhEVHVybjogMCxcclxuICAgIHlEVHVybjogMCxcclxufSk7IH07XHJcbnZhciBjcmVhdGVFbXB0eURpbWVuc2lvblN0YXRlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gKHtcclxuICAgIHdpZHRoOiAwLFxyXG4gICAgaGVpZ2h0OiAwLFxyXG4gICAgY2xpZW50V2lkdGg6IDAsXHJcbiAgICBjbGllbnRIZWlnaHQ6IDAsXHJcbiAgICBvdXRlcldpZHRoOiAwLFxyXG4gICAgb3V0ZXJIZWlnaHQ6IDAsXHJcbiAgICBkb2N1bWVudFdpZHRoOiAwLFxyXG4gICAgZG9jdW1lbnRIZWlnaHQ6IDAsXHJcbn0pOyB9O1xyXG52YXIgVmlld3BvcnRDb2xsZWN0b3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoVmlld3BvcnRDb2xsZWN0b3IsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBWaWV3cG9ydENvbGxlY3Rvcihwcm9wcykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHByb3BzKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLnRpY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChfdGhpcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLnNjcm9sbE1pZ2h0SGF2ZVVwZGF0ZWQgfHwgX3RoaXMucmVzaXplTWlnaHRIYXZlVXBkYXRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnN5bmNTdGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnNjcm9sbE1pZ2h0SGF2ZVVwZGF0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5yZXNpemVNaWdodEhhdmVVcGRhdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBfdGhpcy50aWNrSWQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIF90aGlzLmhhbmRsZVNjcm9sbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMuc2Nyb2xsTWlnaHRIYXZlVXBkYXRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmICghX3RoaXMudGlja0lkKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy50aWNrSWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoX3RoaXMudGljayk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIF90aGlzLmhhbmRsZVJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMucmVzaXplTWlnaHRIYXZlVXBkYXRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmICghX3RoaXMudGlja0lkKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy50aWNrSWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoX3RoaXMudGljayk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIF90aGlzLmhhbmRsZVJlc2l6ZURlYm91bmNlID0gc2ltcGxlRGVib3VuY2UoX3RoaXMuaGFuZGxlUmVzaXplLCA4OCk7XHJcbiAgICAgICAgX3RoaXMuZ2V0UHVibGljU2Nyb2xsID0gbWVtb2l6ZShmdW5jdGlvbiAoc2Nyb2xsKSB7IHJldHVybiAoX19hc3NpZ24oe30sIHNjcm9sbCkpOyB9LCBmdW5jdGlvbiAoX2EsIF9iKSB7XHJcbiAgICAgICAgICAgIHZhciBhID0gX2FbMF07XHJcbiAgICAgICAgICAgIHZhciBiID0gX2JbMF07XHJcbiAgICAgICAgICAgIHJldHVybiBzaGFsbG93RXF1YWxTY3JvbGwoYSwgYik7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgX3RoaXMuZ2V0UHVibGljRGltZW5zaW9ucyA9IG1lbW9pemUoZnVuY3Rpb24gKGRpbWVuc2lvbnMpIHsgcmV0dXJuIChfX2Fzc2lnbih7fSwgZGltZW5zaW9ucykpOyB9LCBmdW5jdGlvbiAoX2EsIF9iKSB7XHJcbiAgICAgICAgICAgIHZhciBhID0gX2FbMF07XHJcbiAgICAgICAgICAgIHZhciBiID0gX2JbMF07XHJcbiAgICAgICAgICAgIHJldHVybiBzaGFsbG93RXF1YWxEaW1lbnNpb25zKGEsIGIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIF90aGlzLnN5bmNTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKF90aGlzLnNjcm9sbE1pZ2h0SGF2ZVVwZGF0ZWQpIHtcclxuICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oX3RoaXMuc2Nyb2xsU3RhdGUsIGdldENsaWVudFNjcm9sbChfdGhpcy5zY3JvbGxTdGF0ZSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5yZXNpemVNaWdodEhhdmVVcGRhdGVkKSB7XHJcbiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKF90aGlzLmRpbWVuc2lvbnNTdGF0ZSwgZ2V0Q2xpZW50RGltZW5zaW9ucygpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgc2Nyb2xsRGlkVXBkYXRlID0gX3RoaXMuc2Nyb2xsTWlnaHRIYXZlVXBkYXRlZCAmJlxyXG4gICAgICAgICAgICAgICAgIXNoYWxsb3dFcXVhbFNjcm9sbChfdGhpcy5sYXN0U3luY2VkU2Nyb2xsU3RhdGUsIF90aGlzLnNjcm9sbFN0YXRlKTtcclxuICAgICAgICAgICAgdmFyIGRpbWVuc2lvbnNEaWRVcGRhdGUgPSBfdGhpcy5yZXNpemVNaWdodEhhdmVVcGRhdGVkICYmXHJcbiAgICAgICAgICAgICAgICAhc2hhbGxvd0VxdWFsRGltZW5zaW9ucyhfdGhpcy5sYXN0U3luY2VkRGltZW5zaW9uc1N0YXRlLCBfdGhpcy5kaW1lbnNpb25zU3RhdGUpO1xyXG4gICAgICAgICAgICBpZiAoc2Nyb2xsRGlkVXBkYXRlKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5sYXN0U3luY2VkU2Nyb2xsU3RhdGUgPSBfX2Fzc2lnbih7fSwgX3RoaXMuc2Nyb2xsU3RhdGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChkaW1lbnNpb25zRGlkVXBkYXRlKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5sYXN0U3luY2VkRGltZW5zaW9uc1N0YXRlID0gX19hc3NpZ24oe30sIF90aGlzLmRpbWVuc2lvbnNTdGF0ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHNjcm9sbERpZFVwZGF0ZSB8fCBkaW1lbnNpb25zRGlkVXBkYXRlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcHVibGljU3RhdGUgPSBfdGhpcy5nZXRQcm9wc0Zyb21TdGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMucHJvcHMub25VcGRhdGUocHVibGljU3RhdGUsIHtcclxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxEaWRVcGRhdGU6IHNjcm9sbERpZFVwZGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICBkaW1lbnNpb25zRGlkVXBkYXRlOiBkaW1lbnNpb25zRGlkVXBkYXRlLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy51cGRhdGVPbklkbGUocHVibGljU3RhdGUsIHtcclxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxEaWRVcGRhdGU6IHNjcm9sbERpZFVwZGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICBkaW1lbnNpb25zRGlkVXBkYXRlOiBkaW1lbnNpb25zRGlkVXBkYXRlLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIF90aGlzLnVwZGF0ZU9uSWRsZSA9IGRlYm91bmNlT25VcGRhdGUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgICAgIHZhciBhcmdzID0gW107XHJcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBfdGhpcy5wcm9wcy5vbklkbGVkVXBkYXRlID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAoX2EgPSBfdGhpcy5wcm9wcykub25JZGxlZFVwZGF0ZS5hcHBseShfYSwgYXJncyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCAxNjYpO1xyXG4gICAgICAgIF90aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBwYXJlbnRQcm92aWRlckV4aXN0czogZmFsc2UsXHJcbiAgICAgICAgfTtcclxuICAgICAgICBfdGhpcy5zY3JvbGxNaWdodEhhdmVVcGRhdGVkID0gZmFsc2U7XHJcbiAgICAgICAgX3RoaXMucmVzaXplTWlnaHRIYXZlVXBkYXRlZCA9IGZhbHNlO1xyXG4gICAgICAgIF90aGlzLnNjcm9sbFN0YXRlID0gY3JlYXRlRW1wdHlTY3JvbGxTdGF0ZSgpO1xyXG4gICAgICAgIF90aGlzLmRpbWVuc2lvbnNTdGF0ZSA9IGNyZWF0ZUVtcHR5RGltZW5zaW9uU3RhdGUoKTtcclxuICAgICAgICBfdGhpcy5sYXN0U3luY2VkRGltZW5zaW9uc1N0YXRlID0gX19hc3NpZ24oe30sIF90aGlzLmRpbWVuc2lvbnNTdGF0ZSk7XHJcbiAgICAgICAgX3RoaXMubGFzdFN5bmNlZFNjcm9sbFN0YXRlID0gX19hc3NpZ24oe30sIF90aGlzLnNjcm9sbFN0YXRlKTtcclxuICAgICAgICBfdGhpcy5yZXNpemVPYnNlcnZlciA9IG51bGw7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgVmlld3BvcnRDb2xsZWN0b3IucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBvcHRpb25zID0gYnJvd3NlclN1cHBvcnRzUGFzc2l2ZUV2ZW50cyA/IHsgcGFzc2l2ZTogdHJ1ZSB9IDogZmFsc2U7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuaGFuZGxlU2Nyb2xsLCBvcHRpb25zKTtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5oYW5kbGVSZXNpemVEZWJvdW5jZSwgb3B0aW9ucyk7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29yaWVudGF0aW9uY2hhbmdlJywgdGhpcy5oYW5kbGVSZXNpemVEZWJvdW5jZSwgb3B0aW9ucyk7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cuUmVzaXplT2JzZXJ2ZXIgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVzaXplT2JzZXJ2ZXIgPSBuZXcgd2luZG93LlJlc2l6ZU9ic2VydmVyKHRoaXMuaGFuZGxlUmVzaXplRGVib3VuY2UpO1xyXG4gICAgICAgICAgICB0aGlzLnJlc2l6ZU9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQuYm9keSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB3YXJuTm9SZXNpemVPYnNlcnZlcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmhhbmRsZVNjcm9sbCgpO1xyXG4gICAgICAgIHRoaXMuaGFuZGxlUmVzaXplKCk7XHJcbiAgICB9O1xyXG4gICAgVmlld3BvcnRDb2xsZWN0b3IucHJvdG90eXBlLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLmhhbmRsZVNjcm9sbCwgZmFsc2UpO1xyXG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLmhhbmRsZVJlc2l6ZURlYm91bmNlLCBmYWxzZSk7XHJcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ29yaWVudGF0aW9uY2hhbmdlJywgdGhpcy5oYW5kbGVSZXNpemVEZWJvdW5jZSwgZmFsc2UpO1xyXG4gICAgICAgIGlmICh0aGlzLnJlc2l6ZU9ic2VydmVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVzaXplT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xyXG4gICAgICAgICAgICB0aGlzLnJlc2l6ZU9ic2VydmVyID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnRpY2tJZCA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy50aWNrSWQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBWaWV3cG9ydENvbGxlY3Rvci5wcm90b3R5cGUuZ2V0UHJvcHNGcm9tU3RhdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgc2Nyb2xsOiB0aGlzLmdldFB1YmxpY1Njcm9sbCh0aGlzLmxhc3RTeW5jZWRTY3JvbGxTdGF0ZSksXHJcbiAgICAgICAgICAgIGRpbWVuc2lvbnM6IHRoaXMuZ2V0UHVibGljRGltZW5zaW9ucyh0aGlzLmxhc3RTeW5jZWREaW1lbnNpb25zU3RhdGUpLFxyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG4gICAgVmlld3BvcnRDb2xsZWN0b3IucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gVmlld3BvcnRDb2xsZWN0b3I7XHJcbn0oUHVyZUNvbXBvbmVudCkpO1xuXG52YXIgY3JlYXRlRmFsbGJhY2tWaWV3cG9ydFJlcXVlc3RlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBkZWZhdWx0VmFsdWU7XHJcbiAgICB2YXIgbGFzdEFjY2VzcyA9IDA7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICghZGVmYXVsdFZhbHVlIHx8IG5vdygpIC0gbGFzdEFjY2VzcyA+IDEwMDApIHtcclxuICAgICAgICAgICAgZGVmYXVsdFZhbHVlID0ge1xyXG4gICAgICAgICAgICAgICAgc2Nyb2xsOiBnZXRDbGllbnRTY3JvbGwoKSxcclxuICAgICAgICAgICAgICAgIGRpbWVuc2lvbnM6IGdldENsaWVudERpbWVuc2lvbnMoKSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgbGFzdEFjY2VzcyA9IG5vdygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xyXG4gICAgfTtcclxufTtcclxudmFyIFZpZXdwb3J0Q29udGV4dCA9IGNyZWF0ZUNvbnRleHQoe1xyXG4gICAgcmVtb3ZlVmlld3BvcnRDaGFuZ2VMaXN0ZW5lcjogZnVuY3Rpb24gKGhhbmRsZXIpIHsgfSxcclxuICAgIHNjaGVkdWxlUmVpbml0aWFsaXplQ2hhbmdlSGFuZGxlcjogZnVuY3Rpb24gKGhhbmRsZXIpIHsgfSxcclxuICAgIGFkZFZpZXdwb3J0Q2hhbmdlTGlzdGVuZXI6IGZ1bmN0aW9uIChoYW5kbGVyLCBvcHRpb25zKSB7IH0sXHJcbiAgICBnZXRDdXJyZW50Vmlld3BvcnQ6IGNyZWF0ZUZhbGxiYWNrVmlld3BvcnRSZXF1ZXN0ZXIoKSxcclxuICAgIGhhc1Jvb3RQcm92aWRlckFzUGFyZW50OiBmYWxzZSxcclxuICAgIHZlcnNpb246ICcxLjExLjAnLFxyXG59KTtcclxudmFyIG1heEl0ZXJhdGlvbnMgPSBmdW5jdGlvbiAocHJpb3JpdHkpIHtcclxuICAgIHN3aXRjaCAocHJpb3JpdHkpIHtcclxuICAgICAgICBjYXNlICdoaWdoZXN0JzpcclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgY2FzZSAnaGlnaCc6XHJcbiAgICAgICAgICAgIHJldHVybiA0O1xyXG4gICAgICAgIGNhc2UgJ25vcm1hbCc6XHJcbiAgICAgICAgICAgIHJldHVybiAxNjtcclxuICAgICAgICBjYXNlICdsb3cnOlxyXG4gICAgICAgICAgICByZXR1cm4gNjQ7XHJcbiAgICB9XHJcbn07XHJcbnZhciBzaG91bGRTa2lwSXRlcmF0aW9uID0gZnVuY3Rpb24gKF9hLCBidWRnZXQpIHtcclxuICAgIHZhciBnZXRQcmlvcml0eSA9IF9hLnByaW9yaXR5LCBhdmVyYWdlRXhlY3V0aW9uQ29zdCA9IF9hLmF2ZXJhZ2VFeGVjdXRpb25Db3N0LCBza2lwcGVkSXRlcmF0aW9ucyA9IF9hLnNraXBwZWRJdGVyYXRpb25zO1xyXG4gICAgdmFyIHByaW9yaXR5ID0gZ2V0UHJpb3JpdHkoKTtcclxuICAgIGlmIChwcmlvcml0eSA9PT0gJ2hpZ2hlc3QnKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgaWYgKHByaW9yaXR5ICE9PSAnbG93JyAmJiBhdmVyYWdlRXhlY3V0aW9uQ29zdCA8PSBidWRnZXQpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBpZiAoYXZlcmFnZUV4ZWN1dGlvbkNvc3QgPD0gYnVkZ2V0IC8gMTApIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICB2YXIgcHJvYmFiaWxpdHkgPSBza2lwcGVkSXRlcmF0aW9ucyAvIG1heEl0ZXJhdGlvbnMocHJpb3JpdHkpO1xyXG4gICAgaWYgKHByb2JhYmlsaXR5ID49IDEpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gTWF0aC5yYW5kb20oKSA+IHByb2JhYmlsaXR5O1xyXG59O1xyXG52YXIgVmlld3BvcnRQcm92aWRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhWaWV3cG9ydFByb3ZpZGVyLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gVmlld3BvcnRQcm92aWRlcihwcm9wcykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHByb3BzKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmxpc3RlbmVycyA9IFtdO1xyXG4gICAgICAgIF90aGlzLnRyaWdnZXJVcGRhdGVUb0xpc3RlbmVycyA9IGZ1bmN0aW9uIChzdGF0ZSwgX2EsIG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgdmFyIHNjcm9sbERpZFVwZGF0ZSA9IF9hLnNjcm9sbERpZFVwZGF0ZSwgZGltZW5zaW9uc0RpZFVwZGF0ZSA9IF9hLmRpbWVuc2lvbnNEaWRVcGRhdGU7XHJcbiAgICAgICAgICAgIHZhciBnZXRPdmVyYWxsRHVyYXRpb24gPSBjcmVhdGVQZXJmb3JtYW5jZU1hcmtlcigpO1xyXG4gICAgICAgICAgICB2YXIgX2IgPSBPYmplY3QuYXNzaWduKHsgaXNJZGxlOiBmYWxzZSwgc2hvdWxkSW5pdGlhbGl6ZTogZmFsc2UgfSwgb3B0aW9ucyksIGlzSWRsZSA9IF9iLmlzSWRsZSwgc2hvdWxkSW5pdGlhbGl6ZSA9IF9iLnNob3VsZEluaXRpYWxpemU7XHJcbiAgICAgICAgICAgIHZhciB1cGRhdGFibGVMaXN0ZW5lcnMgPSBfdGhpcy5saXN0ZW5lcnMuZmlsdGVyKGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG5vdGlmeVNjcm9sbCA9IF9hLm5vdGlmeVNjcm9sbCwgbm90aWZ5RGltZW5zaW9ucyA9IF9hLm5vdGlmeURpbWVuc2lvbnMsIG5vdGlmeU9ubHlXaGVuSWRsZSA9IF9hLm5vdGlmeU9ubHlXaGVuSWRsZSwgc2tpcHBlZEl0ZXJhdGlvbnMgPSBfYS5za2lwcGVkSXRlcmF0aW9ucywgaW5pdGlhbGl6ZWQgPSBfYS5pbml0aWFsaXplZDtcclxuICAgICAgICAgICAgICAgIHZhciBuZWVkc1VwZGF0ZSA9IHNraXBwZWRJdGVyYXRpb25zID4gMDtcclxuICAgICAgICAgICAgICAgIGlmIChub3RpZnlPbmx5V2hlbklkbGUoKSAhPT0gaXNJZGxlICYmICFuZWVkc1VwZGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChzaG91bGRJbml0aWFsaXplICYmICFpbml0aWFsaXplZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIHVwZGF0ZUZvclNjcm9sbCA9IG5vdGlmeVNjcm9sbCgpICYmIHNjcm9sbERpZFVwZGF0ZTtcclxuICAgICAgICAgICAgICAgIHZhciB1cGRhdGVGb3JEaW1lbnNpb25zID0gbm90aWZ5RGltZW5zaW9ucygpICYmIGRpbWVuc2lvbnNEaWRVcGRhdGU7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdXBkYXRlRm9yU2Nyb2xsIHx8IHVwZGF0ZUZvckRpbWVuc2lvbnM7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpZiAoX3RoaXMucHJvcHMuZXhwZXJpbWVudGFsU2NoZWR1bGVyRW5hYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpc0lkbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYnVkZ2V0XzEgPSAxNiAvIHVwZGF0YWJsZUxpc3RlbmVycy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRhYmxlTGlzdGVuZXJzID0gdXBkYXRhYmxlTGlzdGVuZXJzLmZpbHRlcihmdW5jdGlvbiAobGlzdGVuZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNraXAgPSBsaXN0ZW5lci5pbml0aWFsaXplZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBzaG91bGRTa2lwSXRlcmF0aW9uKGxpc3RlbmVyLCBidWRnZXRfMSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChza2lwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lci5za2lwcGVkSXRlcmF0aW9ucysrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLnNraXBwZWRJdGVyYXRpb25zID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGxheW91dHMgPSB1cGRhdGFibGVMaXN0ZW5lcnMubWFwKGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlY2FsY3VsYXRlTGF5b3V0QmVmb3JlVXBkYXRlID0gX2EucmVjYWxjdWxhdGVMYXlvdXRCZWZvcmVVcGRhdGU7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVjYWxjdWxhdGVMYXlvdXRCZWZvcmVVcGRhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZ2V0RHVyYXRpb24gPSBjcmVhdGVQZXJmb3JtYW5jZU1hcmtlcigpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBsYXlvdXRTdGF0ZSA9IHJlY2FsY3VsYXRlTGF5b3V0QmVmb3JlVXBkYXRlKHN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW2xheW91dFN0YXRlLCBnZXREdXJhdGlvbigpXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdmFyIG92ZXJhbGxKU0hhbmRsZXJUb3RhbENvc3QgPSAwO1xyXG4gICAgICAgICAgICB1cGRhdGFibGVMaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbiAobGlzdGVuZXIsIGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaGFuZGxlciA9IGxpc3RlbmVyLmhhbmRsZXIsIGF2ZXJhZ2VFeGVjdXRpb25Db3N0ID0gbGlzdGVuZXIuYXZlcmFnZUV4ZWN1dGlvbkNvc3QsIGl0ZXJhdGlvbnMgPSBsaXN0ZW5lci5pdGVyYXRpb25zO1xyXG4gICAgICAgICAgICAgICAgdmFyIF9hID0gbGF5b3V0c1tpbmRleF0gfHwgW251bGwsIDBdLCBsYXlvdXQgPSBfYVswXSwgbGF5b3V0Q29zdCA9IF9hWzFdO1xyXG4gICAgICAgICAgICAgICAgdmFyIGdldER1cmF0aW9uID0gY3JlYXRlUGVyZm9ybWFuY2VNYXJrZXIoKTtcclxuICAgICAgICAgICAgICAgIGhhbmRsZXIoc3RhdGUsIGxheW91dCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdG90YWxDb3N0ID0gbGF5b3V0Q29zdCArIGdldER1cmF0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGlmZiA9IHRvdGFsQ29zdCAtIGF2ZXJhZ2VFeGVjdXRpb25Db3N0O1xyXG4gICAgICAgICAgICAgICAgdmFyIGkgPSBpdGVyYXRpb25zICsgMTtcclxuICAgICAgICAgICAgICAgIGxpc3RlbmVyLmF2ZXJhZ2VFeGVjdXRpb25Db3N0ID0gYXZlcmFnZUV4ZWN1dGlvbkNvc3QgKyBkaWZmIC8gaTtcclxuICAgICAgICAgICAgICAgIGxpc3RlbmVyLml0ZXJhdGlvbnMgPSBpO1xyXG4gICAgICAgICAgICAgICAgbGlzdGVuZXIuaW5pdGlhbGl6ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgb3ZlcmFsbEpTSGFuZGxlclRvdGFsQ29zdCArPSB0b3RhbENvc3Q7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpZiAoX3RoaXMucHJvcHMuZXhwZXJpbWVudGFsU2NoZWR1bGVyTGF5b3V0Q2FsY3VsYXRvckVuYWJsZWQgJiZcclxuICAgICAgICAgICAgICAgIHVwZGF0YWJsZUxpc3RlbmVycy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkaWZmUGVySGFuZGxlciA9IChnZXRPdmVyYWxsRHVyYXRpb24oKSAtIG92ZXJhbGxKU0hhbmRsZXJUb3RhbENvc3QpIC9cclxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRhYmxlTGlzdGVuZXJzLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGFibGVMaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbiAobGlzdGVuZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXIuYXZlcmFnZUV4ZWN1dGlvbkNvc3QgPVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXIuYXZlcmFnZUV4ZWN1dGlvbkNvc3QgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpZmZQZXJIYW5kbGVyIC8gbGlzdGVuZXIuaXRlcmF0aW9ucztcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0sIDApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBfdGhpcy5hZGRWaWV3cG9ydENoYW5nZUxpc3RlbmVyID0gZnVuY3Rpb24gKGhhbmRsZXIsIG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgX3RoaXMubGlzdGVuZXJzLnB1c2goX19hc3NpZ24oeyBoYW5kbGVyOiBoYW5kbGVyLCBpdGVyYXRpb25zOiAwLCBhdmVyYWdlRXhlY3V0aW9uQ29zdDogMCwgc2tpcHBlZEl0ZXJhdGlvbnM6IDAsIGluaXRpYWxpemVkOiBmYWxzZSB9LCBvcHRpb25zKSk7XHJcbiAgICAgICAgICAgIF90aGlzLmhhbmRsZUxpc3RlbmVyVXBkYXRlKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBfdGhpcy5zY2hlZHVsZVJlaW5pdGlhbGl6ZUNoYW5nZUhhbmRsZXIgPSBmdW5jdGlvbiAoaCkge1xyXG4gICAgICAgICAgICB2YXIgbGlzdGVuZXIgPSBfdGhpcy5saXN0ZW5lcnMuZmluZChmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHZhciBoYW5kbGVyID0gX2EuaGFuZGxlcjtcclxuICAgICAgICAgICAgICAgIHJldHVybiBoYW5kbGVyID09PSBoO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaWYgKGxpc3RlbmVyICYmIGxpc3RlbmVyLmluaXRpYWxpemVkKSB7XHJcbiAgICAgICAgICAgICAgICBsaXN0ZW5lci5pbml0aWFsaXplZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuaGFuZGxlTGlzdGVuZXJVcGRhdGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgX3RoaXMucmVtb3ZlVmlld3BvcnRDaGFuZ2VMaXN0ZW5lciA9IGZ1bmN0aW9uIChoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLmxpc3RlbmVycyA9IF90aGlzLmxpc3RlbmVycy5maWx0ZXIoZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaGFuZGxlciA9IF9hLmhhbmRsZXI7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlciAhPT0gaDtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIF90aGlzLmhhbmRsZUxpc3RlbmVyVXBkYXRlKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBfdGhpcy5jb2xsZWN0b3IgPSBjcmVhdGVSZWYoKTtcclxuICAgICAgICBfdGhpcy5nZXRDdXJyZW50RGVmYXVsdFZpZXdwb3J0ID0gY3JlYXRlRmFsbGJhY2tWaWV3cG9ydFJlcXVlc3RlcigpO1xyXG4gICAgICAgIF90aGlzLmNvbnRleHRWYWx1ZSA9IHtcclxuICAgICAgICAgICAgYWRkVmlld3BvcnRDaGFuZ2VMaXN0ZW5lcjogX3RoaXMuYWRkVmlld3BvcnRDaGFuZ2VMaXN0ZW5lcixcclxuICAgICAgICAgICAgcmVtb3ZlVmlld3BvcnRDaGFuZ2VMaXN0ZW5lcjogX3RoaXMucmVtb3ZlVmlld3BvcnRDaGFuZ2VMaXN0ZW5lcixcclxuICAgICAgICAgICAgc2NoZWR1bGVSZWluaXRpYWxpemVDaGFuZ2VIYW5kbGVyOiBfdGhpcy5zY2hlZHVsZVJlaW5pdGlhbGl6ZUNoYW5nZUhhbmRsZXIsXHJcbiAgICAgICAgICAgIGdldEN1cnJlbnRWaWV3cG9ydDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFfdGhpcy5jb2xsZWN0b3IuY3VycmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5nZXRDdXJyZW50RGVmYXVsdFZpZXdwb3J0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuY29sbGVjdG9yLmN1cnJlbnQuZ2V0UHJvcHNGcm9tU3RhdGUoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgaGFzUm9vdFByb3ZpZGVyQXNQYXJlbnQ6IHRydWUsXHJcbiAgICAgICAgICAgIHZlcnNpb246ICcxLjExLjAnLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgX3RoaXMucmVuZGVyQ2hpbGRyZW4gPSBmdW5jdGlvbiAocHJvcHMpIHtcclxuICAgICAgICAgICAgaWYgKHByb3BzLmhhc1Jvb3RQcm92aWRlckFzUGFyZW50KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJlxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BzLnZlcnNpb24gIT09ICcxLjExLjAnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwicmVhY3Qtdmlld3BvcnQtdXRpbHM6IFR3byBkaWZmZXJlbnQgdmVyc2lvbnMgb2YgdGhlIHJlYWN0LXZpZXdwb3J0LXV0aWxzIGxpYnJhcnkgYXJlIHVzZWQgaW4gdGhlIHNhbWUgcmVhY3QgdHJlZS4gVGhpcyBjYW4gbGVhZCB0byB1bmV4cGVjdGVkIHJlc3VsdHMgYXMgdGhlIHZlcnNpb25zIG1pZ2h0IG5vdCBiZSBjb21wYXRpYmxlLlxcblRoZSA8Vmlld3BvcnRQcm92aWRlcj4gb2YgdmVyc2lvbiBcIiArIHByb3BzLnZlcnNpb24gKyBcIiBpcyBjdXJyZW50bHkgdXNlZCwgYW5vdGhlciA8Vmlld3BvcnRQcm92aWRlcj4gb2YgdmVyc2lvbiAxLjExLjAgd2FzIGRldGVjdGVkIGJ1dCBpcyBpZ25vcmVkLlxcblRoaXMgaXMgbW9zdCBwcm9iYWJseSBkdWUgdG8gc29tZSBkZXBlbmRlbmNpZXMgdGhhdCB1c2UgZGlmZmVyZW50IHZlcnNpb25zIG9mIHRoZSByZWFjdC12aWV3cG9ydC11dGlscyBsaWJyYXJ5LiBZb3UgY2FuIGNoZWNrIGlmIGFuIHVwZGF0ZSBpcyBwb3NzaWJsZS5cIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMucHJvcHMuY2hpbGRyZW47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIChjcmVhdGVFbGVtZW50KEZyYWdtZW50LCBudWxsLFxyXG4gICAgICAgICAgICAgICAgX3RoaXMuc3RhdGUuaGFzTGlzdGVuZXJzICYmIChjcmVhdGVFbGVtZW50KFZpZXdwb3J0Q29sbGVjdG9yLCB7IHJlZjogX3RoaXMuY29sbGVjdG9yLCBvblVwZGF0ZTogX3RoaXMudHJpZ2dlclVwZGF0ZVRvTGlzdGVuZXJzLCBvbklkbGVkVXBkYXRlOiBmdW5jdGlvbiAoc3RhdGUsIHVwZGF0ZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnRyaWdnZXJVcGRhdGVUb0xpc3RlbmVycyhzdGF0ZSwgdXBkYXRlcywgeyBpc0lkbGU6IHRydWUgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSB9KSksXHJcbiAgICAgICAgICAgICAgICBjcmVhdGVFbGVtZW50KFZpZXdwb3J0Q29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogX3RoaXMuY29udGV4dFZhbHVlIH0sIF90aGlzLnByb3BzLmNoaWxkcmVuKSkpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIGhhc0xpc3RlbmVyczogZmFsc2UsXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBWaWV3cG9ydFByb3ZpZGVyLnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHRoaXMudXBkYXRlTGlzdGVuZXJzVGljayA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudXBkYXRlTGlzdGVuZXJzVGljayk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5pbml0aWFsaXplTGlzdGVuZXJzVGljayA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5pbml0aWFsaXplTGlzdGVuZXJzVGljayk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFZpZXdwb3J0UHJvdmlkZXIucHJvdG90eXBlLmhhbmRsZUxpc3RlbmVyVXBkYXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKHRoaXMudXBkYXRlTGlzdGVuZXJzVGljayA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlTGlzdGVuZXJzVGljayA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG5leHRTdGF0ZSA9IF90aGlzLmxpc3RlbmVycy5sZW5ndGggIT09IDA7XHJcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuc3RhdGUuaGFzTGlzdGVuZXJzICE9PSBuZXh0U3RhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc0xpc3RlbmVyczogX3RoaXMubGlzdGVuZXJzLmxlbmd0aCAhPT0gMCxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIF90aGlzLnVwZGF0ZUxpc3RlbmVyc1RpY2sgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIH0sIDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5pbml0aWFsaXplTGlzdGVuZXJzVGljayA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZUxpc3RlbmVyc1RpY2sgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLmNvbGxlY3Rvci5jdXJyZW50ICYmXHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMubGlzdGVuZXJzLnNvbWUoZnVuY3Rpb24gKGwpIHsgcmV0dXJuICFsLmluaXRpYWxpemVkOyB9KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnRyaWdnZXJVcGRhdGVUb0xpc3RlbmVycyhfdGhpcy5jb2xsZWN0b3IuY3VycmVudC5nZXRQcm9wc0Zyb21TdGF0ZSgpLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpbWVuc2lvbnNEaWRVcGRhdGU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxEaWRVcGRhdGU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNJZGxlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvdWxkSW5pdGlhbGl6ZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIF90aGlzLmluaXRpYWxpemVMaXN0ZW5lcnNUaWNrID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgVmlld3BvcnRQcm92aWRlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiAoY3JlYXRlRWxlbWVudChWaWV3cG9ydENvbnRleHQuQ29uc3VtZXIsIG51bGwsIHRoaXMucmVuZGVyQ2hpbGRyZW4pKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gVmlld3BvcnRQcm92aWRlcjtcclxufShQdXJlQ29tcG9uZW50KSk7XG5cbnZhciBPYnNlcnZlVmlld3BvcnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoT2JzZXJ2ZVZpZXdwb3J0LCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gT2JzZXJ2ZVZpZXdwb3J0KHByb3BzKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuaGFuZGxlVmlld3BvcnRVcGRhdGUgPSBmdW5jdGlvbiAodmlld3BvcnQsIGxheW91dFNuYXBzaG90KSB7XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5wcm9wcy5vblVwZGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMucHJvcHMub25VcGRhdGUodmlld3BvcnQsIGxheW91dFNuYXBzaG90KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoX3RoaXMucHJvcHMuY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnN5bmNTdGF0ZSh2aWV3cG9ydCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIF90aGlzLnJlZ2lzdGVyVmlld3BvcnRMaXN0ZW5lcnMgPSBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgdmFyIGFkZFZpZXdwb3J0Q2hhbmdlTGlzdGVuZXIgPSBfYS5hZGRWaWV3cG9ydENoYW5nZUxpc3RlbmVyLCByZW1vdmVWaWV3cG9ydENoYW5nZUxpc3RlbmVyID0gX2EucmVtb3ZlVmlld3BvcnRDaGFuZ2VMaXN0ZW5lciwgc2NoZWR1bGVSZWluaXRpYWxpemVDaGFuZ2VIYW5kbGVyID0gX2Euc2NoZWR1bGVSZWluaXRpYWxpemVDaGFuZ2VIYW5kbGVyLCBoYXNSb290UHJvdmlkZXJBc1BhcmVudCA9IF9hLmhhc1Jvb3RQcm92aWRlckFzUGFyZW50LCBnZXRDdXJyZW50Vmlld3BvcnQgPSBfYS5nZXRDdXJyZW50Vmlld3BvcnQ7XHJcbiAgICAgICAgICAgIGlmICghaGFzUm9vdFByb3ZpZGVyQXNQYXJlbnQpIHtcclxuICAgICAgICAgICAgICAgIHdhcm5Ob0NvbnRleHRBdmFpbGFibGUoJ09ic2VydmVWaWV3cG9ydCcpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHNob3VsZFJlZ2lzdGVyID0gX3RoaXMucmVtb3ZlVmlld3BvcnRDaGFuZ2VMaXN0ZW5lciAhPT0gcmVtb3ZlVmlld3BvcnRDaGFuZ2VMaXN0ZW5lcjtcclxuICAgICAgICAgICAgaWYgKCFzaG91bGRSZWdpc3Rlcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKF90aGlzLnJlbW92ZVZpZXdwb3J0Q2hhbmdlTGlzdGVuZXIpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnJlbW92ZVZpZXdwb3J0Q2hhbmdlTGlzdGVuZXIoX3RoaXMuaGFuZGxlVmlld3BvcnRVcGRhdGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIF90aGlzLnJlbW92ZVZpZXdwb3J0Q2hhbmdlTGlzdGVuZXIgPSByZW1vdmVWaWV3cG9ydENoYW5nZUxpc3RlbmVyO1xyXG4gICAgICAgICAgICBfdGhpcy5nZXRDdXJyZW50Vmlld3BvcnQgPSBnZXRDdXJyZW50Vmlld3BvcnQ7XHJcbiAgICAgICAgICAgIF90aGlzLnNjaGVkdWxlUmVpbml0aWFsaXplQ2hhbmdlSGFuZGxlciA9IHNjaGVkdWxlUmVpbml0aWFsaXplQ2hhbmdlSGFuZGxlcjtcclxuICAgICAgICAgICAgYWRkVmlld3BvcnRDaGFuZ2VMaXN0ZW5lcihfdGhpcy5oYW5kbGVWaWV3cG9ydFVwZGF0ZSwge1xyXG4gICAgICAgICAgICAgICAgbm90aWZ5U2Nyb2xsOiBmdW5jdGlvbiAoKSB7IHJldHVybiAhX3RoaXMucHJvcHMuZGlzYWJsZVNjcm9sbFVwZGF0ZXM7IH0sXHJcbiAgICAgICAgICAgICAgICBub3RpZnlEaW1lbnNpb25zOiBmdW5jdGlvbiAoKSB7IHJldHVybiAhX3RoaXMucHJvcHMuZGlzYWJsZURpbWVuc2lvbnNVcGRhdGVzOyB9LFxyXG4gICAgICAgICAgICAgICAgbm90aWZ5T25seVdoZW5JZGxlOiBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5wcm9wcy5kZWZlclVwZGF0ZVVudGlsSWRsZTsgfSxcclxuICAgICAgICAgICAgICAgIHByaW9yaXR5OiBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5wcm9wcy5wcmlvcml0eTsgfSxcclxuICAgICAgICAgICAgICAgIHJlY2FsY3VsYXRlTGF5b3V0QmVmb3JlVXBkYXRlOiBmdW5jdGlvbiAodmlld3BvcnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMucHJvcHMucmVjYWxjdWxhdGVMYXlvdXRCZWZvcmVVcGRhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnByb3BzLnJlY2FsY3VsYXRlTGF5b3V0QmVmb3JlVXBkYXRlKHZpZXdwb3J0KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaWYgKF90aGlzLnByb3BzLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zeW5jU3RhdGUoZ2V0Q3VycmVudFZpZXdwb3J0KCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIHNjcm9sbDogY3JlYXRlRW1wdHlTY3JvbGxTdGF0ZSgpLFxyXG4gICAgICAgICAgICBkaW1lbnNpb25zOiBjcmVhdGVFbXB0eURpbWVuc2lvblN0YXRlKCksXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBPYnNlcnZlVmlld3BvcnQucHJvdG90eXBlLmNvbXBvbmVudERpZFVwZGF0ZSA9IGZ1bmN0aW9uIChwcmV2UHJvcHMpIHtcclxuICAgICAgICB2YXIgZGltZW5zaW9uc0JlY2FtZUFjdGl2ZSA9ICF0aGlzLnByb3BzLmRpc2FibGVEaW1lbnNpb25zVXBkYXRlcyAmJlxyXG4gICAgICAgICAgICBwcmV2UHJvcHMuZGlzYWJsZURpbWVuc2lvbnNVcGRhdGVzO1xyXG4gICAgICAgIHZhciBzY3JvbGxCZWNhbWVBY3RpdmUgPSAhdGhpcy5wcm9wcy5kaXNhYmxlU2Nyb2xsVXBkYXRlcyAmJiBwcmV2UHJvcHMuZGlzYWJsZVNjcm9sbFVwZGF0ZXM7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnNjaGVkdWxlUmVpbml0aWFsaXplQ2hhbmdlSGFuZGxlciA9PT0gJ2Z1bmN0aW9uJyAmJlxyXG4gICAgICAgICAgICAoZGltZW5zaW9uc0JlY2FtZUFjdGl2ZSB8fCBzY3JvbGxCZWNhbWVBY3RpdmUpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVSZWluaXRpYWxpemVDaGFuZ2VIYW5kbGVyKHRoaXMuaGFuZGxlVmlld3BvcnRVcGRhdGUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBPYnNlcnZlVmlld3BvcnQucHJvdG90eXBlLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnJlbW92ZVZpZXdwb3J0Q2hhbmdlTGlzdGVuZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdmVWaWV3cG9ydENoYW5nZUxpc3RlbmVyKHRoaXMuaGFuZGxlVmlld3BvcnRVcGRhdGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnJlbW92ZVZpZXdwb3J0Q2hhbmdlTGlzdGVuZXIgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgdGhpcy5zY2hlZHVsZVJlaW5pdGlhbGl6ZUNoYW5nZUhhbmRsZXIgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnRpY2tJZCA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy50aWNrSWQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBPYnNlcnZlVmlld3BvcnQucHJvdG90eXBlLnN5bmNTdGF0ZSA9IGZ1bmN0aW9uIChuZXh0Vmlld3BvcnQpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmICh0aGlzLnRpY2tJZCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMudGlja0lkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKG5leHRWaWV3cG9ydCk7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy50aWNrSWQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoT2JzZXJ2ZVZpZXdwb3J0LnByb3RvdHlwZSwgXCJvcHRpb25Ob3RpZnlTY3JvbGxcIiwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gIXRoaXMucHJvcHMuZGlzYWJsZVNjcm9sbFVwZGF0ZXM7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoT2JzZXJ2ZVZpZXdwb3J0LnByb3RvdHlwZSwgXCJvcHRpb25Ob3RpZnlEaW1lbnNpb25zXCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuICF0aGlzLnByb3BzLmRpc2FibGVEaW1lbnNpb25zVXBkYXRlcztcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIE9ic2VydmVWaWV3cG9ydC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBjaGlsZHJlbiA9IHRoaXMucHJvcHMuY2hpbGRyZW47XHJcbiAgICAgICAgcmV0dXJuIChjcmVhdGVFbGVtZW50KEZyYWdtZW50LCBudWxsLFxyXG4gICAgICAgICAgICBjcmVhdGVFbGVtZW50KFZpZXdwb3J0Q29udGV4dC5Db25zdW1lciwgbnVsbCwgdGhpcy5yZWdpc3RlclZpZXdwb3J0TGlzdGVuZXJzKSxcclxuICAgICAgICAgICAgY2hpbGRyZW4gPyBjaGlsZHJlbih0aGlzLnN0YXRlKSA6IG51bGwpKTtcclxuICAgIH07XHJcbiAgICBPYnNlcnZlVmlld3BvcnQuZGVmYXVsdFByb3BzID0ge1xyXG4gICAgICAgIGRpc2FibGVTY3JvbGxVcGRhdGVzOiBmYWxzZSxcclxuICAgICAgICBkaXNhYmxlRGltZW5zaW9uc1VwZGF0ZXM6IGZhbHNlLFxyXG4gICAgICAgIGRlZmVyVXBkYXRlVW50aWxJZGxlOiBmYWxzZSxcclxuICAgICAgICBwcmlvcml0eTogJ25vcm1hbCcsXHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIE9ic2VydmVWaWV3cG9ydDtcclxufShDb21wb25lbnQpKTtcblxuZnVuY3Rpb24gY29ubmVjdChvcHRpb25zKSB7XHJcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxyXG4gICAgdmFyIGRlZmVyVXBkYXRlVW50aWxJZGxlID0gQm9vbGVhbihvcHRpb25zLmRlZmVyVXBkYXRlVW50aWxJZGxlKTtcclxuICAgIHZhciBvbWl0ID0gb3B0aW9ucy5vbWl0IHx8IFtdO1xyXG4gICAgdmFyIHNob3VsZE9taXRTY3JvbGwgPSBvbWl0LmluZGV4T2YoJ3Njcm9sbCcpICE9PSAtMTtcclxuICAgIHZhciBzaG91bGRPbWl0RGltZW5zaW9ucyA9IG9taXQuaW5kZXhPZignZGltZW5zaW9ucycpICE9PSAtMTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoV3JhcHBlZENvbXBvbmVudCkge1xyXG4gICAgICAgIHZhciBfYTtcclxuICAgICAgICB2YXIgZGlzcGxheU5hbWUgPSBXcmFwcGVkQ29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IFdyYXBwZWRDb21wb25lbnQubmFtZSB8fCAnQ29tcG9uZW50JztcclxuICAgICAgICByZXR1cm4gX2EgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgICAgICAgICBfX2V4dGVuZHMoQ29ubmVjdFZpZXdwb3J0LCBfc3VwZXIpO1xyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gQ29ubmVjdFZpZXdwb3J0KCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIENvbm5lY3RWaWV3cG9ydC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChjcmVhdGVFbGVtZW50KE9ic2VydmVWaWV3cG9ydCwgeyBkaXNhYmxlU2Nyb2xsVXBkYXRlczogc2hvdWxkT21pdFNjcm9sbCwgZGlzYWJsZURpbWVuc2lvbnNVcGRhdGVzOiBzaG91bGRPbWl0RGltZW5zaW9ucywgZGVmZXJVcGRhdGVVbnRpbElkbGU6IGRlZmVyVXBkYXRlVW50aWxJZGxlIH0sIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2Nyb2xsID0gX2Euc2Nyb2xsLCBkaW1lbnNpb25zID0gX2EuZGltZW5zaW9ucztcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChjcmVhdGVFbGVtZW50KFdyYXBwZWRDb21wb25lbnQsIF9fYXNzaWduKHsgc2Nyb2xsOiBzY3JvbGwsIGRpbWVuc2lvbnM6IGRpbWVuc2lvbnMgfSwgX3RoaXMucHJvcHMpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBDb25uZWN0Vmlld3BvcnQ7XHJcbiAgICAgICAgICAgIH0oQ29tcG9uZW50KSksXHJcbiAgICAgICAgICAgIF9hLmRpc3BsYXlOYW1lID0gXCJjb25uZWN0Vmlld3BvcnQoXCIgKyBkaXNwbGF5TmFtZSArIFwiKVwiLFxyXG4gICAgICAgICAgICBfYTtcclxuICAgIH07XHJcbn1cblxuLyoqXHJcbiAqIEBkZXByZWNhdGVkIFVzZSB1c2VSZWN0IG9yIHVzZVJlY3RFZmZlY3QgaW5zdGVhZCBhcyBpdCBwcm92aWRlcyBiZXR0ZXIgcGVyZm9ybWFuY2UuXHJcbiAqL1xyXG52YXIgT2JzZXJ2ZUJvdW5kaW5nQ2xpZW50UmVjdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhPYnNlcnZlQm91bmRpbmdDbGllbnRSZWN0LCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gT2JzZXJ2ZUJvdW5kaW5nQ2xpZW50UmVjdChwcm9wcykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHByb3BzKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLnN5bmNTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIG5vZGUgPSBfdGhpcy5wcm9wcy5ub2RlO1xyXG4gICAgICAgICAgICBpZiAoIW5vZGUgfHwgIW5vZGUuY3VycmVudCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciByZWN0ID0gX3RoaXMuZ2V0UmVjdEZyb21Ob2RlKCk7XHJcbiAgICAgICAgICAgIGlmIChyZWN0ICYmICFfdGhpcy5zdGF0ZS5pc0luaXRpYWxpemVkKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZShfX2Fzc2lnbihfX2Fzc2lnbih7fSwgcmVjdCksIHsgaXNJbml0aWFsaXplZDogdHJ1ZSB9KSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUocmVjdCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgdG9wOiAwLFxyXG4gICAgICAgICAgICByaWdodDogMCxcclxuICAgICAgICAgICAgYm90dG9tOiAwLFxyXG4gICAgICAgICAgICBsZWZ0OiAwLFxyXG4gICAgICAgICAgICBoZWlnaHQ6IDAsXHJcbiAgICAgICAgICAgIHdpZHRoOiAwLFxyXG4gICAgICAgICAgICBpc0luaXRpYWxpemVkOiBmYWxzZSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIE9ic2VydmVCb3VuZGluZ0NsaWVudFJlY3QucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMudGljayh0aGlzLnN5bmNTdGF0ZSk7XHJcbiAgICB9O1xyXG4gICAgT2JzZXJ2ZUJvdW5kaW5nQ2xpZW50UmVjdC5wcm90b3R5cGUuY29tcG9uZW50RGlkVXBkYXRlID0gZnVuY3Rpb24gKHByZXZQcm9wcywgcHJldlN0YXRlKSB7XHJcbiAgICAgICAgdmFyIHJlY3QgPSB0aGlzLmdldFJlY3RGcm9tU3RhdGUoKTtcclxuICAgICAgICB2YXIgcHJldlJlY3QgPSB0aGlzLmdldFJlY3RGcm9tU3RhdGUocHJldlN0YXRlKTtcclxuICAgICAgICBpZiAoIXJlY3QpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5vbkluaXQpIHtcclxuICAgICAgICAgICAgaWYgKCFwcmV2U3RhdGUuaXNJbml0aWFsaXplZCAmJiB0aGlzLnN0YXRlLmlzSW5pdGlhbGl6ZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub25Jbml0KHJlY3QpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLm9uVXBkYXRlKSB7XHJcbiAgICAgICAgICAgIGlmIChwcmV2UmVjdCA9PT0gbnVsbCB8fCAhc2hhbGxvd0VxdWFsUmVjdChyZWN0LCBwcmV2UmVjdCkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub25VcGRhdGUocmVjdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgT2JzZXJ2ZUJvdW5kaW5nQ2xpZW50UmVjdC5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnRpY2tJZCA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy50aWNrSWQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBPYnNlcnZlQm91bmRpbmdDbGllbnRSZWN0LnByb3RvdHlwZS50aWNrID0gZnVuY3Rpb24gKHVwZGF0ZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMudGlja0lkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdXBkYXRlcigpO1xyXG4gICAgICAgICAgICBfdGhpcy50aWNrKHVwZGF0ZXIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIE9ic2VydmVCb3VuZGluZ0NsaWVudFJlY3QucHJvdG90eXBlLmdldFJlY3RGcm9tU3RhdGUgPSBmdW5jdGlvbiAoc3RhdGUpIHtcclxuICAgICAgICBpZiAoc3RhdGUgPT09IHZvaWQgMCkgeyBzdGF0ZSA9IHRoaXMuc3RhdGU7IH1cclxuICAgICAgICBpZiAoIXN0YXRlLmlzSW5pdGlhbGl6ZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGhlaWdodDogc3RhdGUuaGVpZ2h0LFxyXG4gICAgICAgICAgICB3aWR0aDogc3RhdGUud2lkdGgsXHJcbiAgICAgICAgICAgIHRvcDogc3RhdGUudG9wLFxyXG4gICAgICAgICAgICBib3R0b206IHN0YXRlLmJvdHRvbSxcclxuICAgICAgICAgICAgbGVmdDogc3RhdGUubGVmdCxcclxuICAgICAgICAgICAgcmlnaHQ6IHN0YXRlLnJpZ2h0LFxyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG4gICAgT2JzZXJ2ZUJvdW5kaW5nQ2xpZW50UmVjdC5wcm90b3R5cGUuZ2V0UmVjdEZyb21Ob2RlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBub2RlID0gdGhpcy5wcm9wcy5ub2RlO1xyXG4gICAgICAgIGlmICghbm9kZSB8fCAhbm9kZS5jdXJyZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgcmVjdCA9IG5vZGUuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBoZWlnaHQ6IHJlY3QuaGVpZ2h0LFxyXG4gICAgICAgICAgICB3aWR0aDogcmVjdC53aWR0aCxcclxuICAgICAgICAgICAgdG9wOiByZWN0LnRvcCxcclxuICAgICAgICAgICAgYm90dG9tOiByZWN0LmJvdHRvbSxcclxuICAgICAgICAgICAgbGVmdDogcmVjdC5sZWZ0LFxyXG4gICAgICAgICAgICByaWdodDogcmVjdC5yaWdodCxcclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuICAgIE9ic2VydmVCb3VuZGluZ0NsaWVudFJlY3QucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgY2hpbGRyZW4gPSB0aGlzLnByb3BzLmNoaWxkcmVuO1xyXG4gICAgICAgIHJldHVybiB0eXBlb2YgY2hpbGRyZW4gPT09ICdmdW5jdGlvbidcclxuICAgICAgICAgICAgPyBjaGlsZHJlbih0aGlzLmdldFJlY3RGcm9tU3RhdGUoKSlcclxuICAgICAgICAgICAgOiBudWxsO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBPYnNlcnZlQm91bmRpbmdDbGllbnRSZWN0O1xyXG59KFB1cmVDb21wb25lbnQpKTtcblxuZnVuY3Rpb24gdXNlVmlld3BvcnRFZmZlY3QoaGFuZGxlVmlld3BvcnRDaGFuZ2UsIHNlY29uZCwgdGhpcmQpIHtcclxuICAgIHZhciBfYSA9IHVzZUNvbnRleHQoVmlld3BvcnRDb250ZXh0KSwgYWRkVmlld3BvcnRDaGFuZ2VMaXN0ZW5lciA9IF9hLmFkZFZpZXdwb3J0Q2hhbmdlTGlzdGVuZXIsIHJlbW92ZVZpZXdwb3J0Q2hhbmdlTGlzdGVuZXIgPSBfYS5yZW1vdmVWaWV3cG9ydENoYW5nZUxpc3RlbmVyLCBoYXNSb290UHJvdmlkZXJBc1BhcmVudCA9IF9hLmhhc1Jvb3RQcm92aWRlckFzUGFyZW50O1xyXG4gICAgdmFyIF9iID0gc29ydEFyZ3Moc2Vjb25kLCB0aGlyZCksIG9wdGlvbnMgPSBfYi5vcHRpb25zLCBkZXBzID0gX2IuZGVwcztcclxuICAgIHZhciBtZW1vT3B0aW9ucyA9IHVzZU9wdGlvbnMob3B0aW9ucyk7XHJcbiAgICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICghaGFzUm9vdFByb3ZpZGVyQXNQYXJlbnQpIHtcclxuICAgICAgICAgICAgd2Fybk5vQ29udGV4dEF2YWlsYWJsZSgndXNlVmlld3BvcnQnKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhZGRWaWV3cG9ydENoYW5nZUxpc3RlbmVyKGhhbmRsZVZpZXdwb3J0Q2hhbmdlLCB7XHJcbiAgICAgICAgICAgIG5vdGlmeVNjcm9sbDogZnVuY3Rpb24gKCkgeyByZXR1cm4gIW1lbW9PcHRpb25zLmRpc2FibGVTY3JvbGxVcGRhdGVzOyB9LFxyXG4gICAgICAgICAgICBub3RpZnlEaW1lbnNpb25zOiBmdW5jdGlvbiAoKSB7IHJldHVybiAhbWVtb09wdGlvbnMuZGlzYWJsZURpbWVuc2lvbnNVcGRhdGVzOyB9LFxyXG4gICAgICAgICAgICBub3RpZnlPbmx5V2hlbklkbGU6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIEJvb2xlYW4obWVtb09wdGlvbnMuZGVmZXJVcGRhdGVVbnRpbElkbGUpOyB9LFxyXG4gICAgICAgICAgICBwcmlvcml0eTogZnVuY3Rpb24gKCkgeyByZXR1cm4gbWVtb09wdGlvbnMucHJpb3JpdHkgfHwgJ25vcm1hbCc7IH0sXHJcbiAgICAgICAgICAgIHJlY2FsY3VsYXRlTGF5b3V0QmVmb3JlVXBkYXRlOiBtZW1vT3B0aW9ucy5yZWNhbGN1bGF0ZUxheW91dEJlZm9yZVVwZGF0ZSxcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVtb3ZlVmlld3BvcnRDaGFuZ2VMaXN0ZW5lcihoYW5kbGVWaWV3cG9ydENoYW5nZSk7IH07XHJcbiAgICB9LCBfX3NwcmVhZEFycmF5cyhbXHJcbiAgICAgICAgYWRkVmlld3BvcnRDaGFuZ2VMaXN0ZW5lciB8fCBudWxsLFxyXG4gICAgICAgIHJlbW92ZVZpZXdwb3J0Q2hhbmdlTGlzdGVuZXIgfHwgbnVsbFxyXG4gICAgXSwgZGVwcykpO1xyXG59XHJcbnZhciB1c2VWaWV3cG9ydCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxyXG4gICAgdmFyIGdldEN1cnJlbnRWaWV3cG9ydCA9IHVzZUNvbnRleHQoVmlld3BvcnRDb250ZXh0KS5nZXRDdXJyZW50Vmlld3BvcnQ7XHJcbiAgICB2YXIgX2EgPSB1c2VTdGF0ZShnZXRDdXJyZW50Vmlld3BvcnQoKSksIHN0YXRlID0gX2FbMF0sIHNldFZpZXdwb3J0ID0gX2FbMV07XHJcbiAgICB1c2VWaWV3cG9ydEVmZmVjdChmdW5jdGlvbiAodmlld3BvcnQpIHsgcmV0dXJuIHNldFZpZXdwb3J0KHZpZXdwb3J0KTsgfSwgb3B0aW9ucyk7XHJcbiAgICByZXR1cm4gc3RhdGU7XHJcbn07XHJcbmZ1bmN0aW9uIHVzZVNjcm9sbEVmZmVjdChlZmZlY3QsIHNlY29uZCwgdGhpcmQpIHtcclxuICAgIHZhciBfYSA9IHNvcnRBcmdzKHNlY29uZCwgdGhpcmQpLCBvcHRpb25zID0gX2Eub3B0aW9ucywgZGVwcyA9IF9hLmRlcHM7XHJcbiAgICB1c2VWaWV3cG9ydEVmZmVjdChmdW5jdGlvbiAodmlld3BvcnQsIHNuYXBzaG90KSB7IHJldHVybiBlZmZlY3Qodmlld3BvcnQuc2Nyb2xsLCBzbmFwc2hvdCk7IH0sIF9fYXNzaWduKHsgZGlzYWJsZURpbWVuc2lvbnNVcGRhdGVzOiB0cnVlIH0sIG9wdGlvbnMpLCBkZXBzKTtcclxufVxyXG52YXIgdXNlU2Nyb2xsID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XHJcbiAgICB2YXIgc2Nyb2xsID0gdXNlVmlld3BvcnQoX19hc3NpZ24oeyBkaXNhYmxlRGltZW5zaW9uc1VwZGF0ZXM6IHRydWUgfSwgb3B0aW9ucykpLnNjcm9sbDtcclxuICAgIHJldHVybiBzY3JvbGw7XHJcbn07XHJcbmZ1bmN0aW9uIHVzZURpbWVuc2lvbnNFZmZlY3QoZWZmZWN0LCBzZWNvbmQsIHRoaXJkKSB7XHJcbiAgICB2YXIgX2EgPSBzb3J0QXJncyhzZWNvbmQsIHRoaXJkKSwgb3B0aW9ucyA9IF9hLm9wdGlvbnMsIGRlcHMgPSBfYS5kZXBzO1xyXG4gICAgdXNlVmlld3BvcnRFZmZlY3QoZnVuY3Rpb24gKHZpZXdwb3J0LCBzbmFwc2hvdCkgeyByZXR1cm4gZWZmZWN0KHZpZXdwb3J0LmRpbWVuc2lvbnMsIHNuYXBzaG90KTsgfSwgX19hc3NpZ24oeyBkaXNhYmxlU2Nyb2xsVXBkYXRlczogdHJ1ZSB9LCBvcHRpb25zKSwgZGVwcyk7XHJcbn1cclxudmFyIHVzZURpbWVuc2lvbnMgPSBmdW5jdGlvbiAob3B0aW9ucykge1xyXG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cclxuICAgIHZhciBkaW1lbnNpb25zID0gdXNlVmlld3BvcnQoX19hc3NpZ24oeyBkaXNhYmxlU2Nyb2xsVXBkYXRlczogdHJ1ZSB9LCBvcHRpb25zKSkuZGltZW5zaW9ucztcclxuICAgIHJldHVybiBkaW1lbnNpb25zO1xyXG59O1xyXG52YXIgdXNlUmVjdEVmZmVjdCA9IGZ1bmN0aW9uIChlZmZlY3QsIHJlZiwgb3B0aW9ucykge1xyXG4gICAgdXNlVmlld3BvcnRFZmZlY3QoZnVuY3Rpb24gKF8sIHNuYXBzaG90KSB7IHJldHVybiBlZmZlY3Qoc25hcHNob3QpOyB9LCBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgb3B0aW9ucyksIHsgcmVjYWxjdWxhdGVMYXlvdXRCZWZvcmVVcGRhdGU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlZi5jdXJyZW50ID8gcmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkgOiBudWxsO1xyXG4gICAgICAgIH0gfSksIFtyZWYuY3VycmVudF0pO1xyXG59O1xyXG52YXIgdXNlUmVjdCA9IGZ1bmN0aW9uIChyZWYsIG9wdGlvbnMpIHtcclxuICAgIHJldHVybiB1c2VMYXlvdXRTbmFwc2hvdChmdW5jdGlvbiAoKSB7IHJldHVybiAocmVmLmN1cnJlbnQgPyByZWYuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSA6IG51bGwpOyB9LCBvcHRpb25zLCBbcmVmLmN1cnJlbnRdKTtcclxufTtcclxuZnVuY3Rpb24gdXNlTGF5b3V0U25hcHNob3QocmVjYWxjdWxhdGVMYXlvdXRCZWZvcmVVcGRhdGUsIHNlY29uZCwgdGhpcmQpIHtcclxuICAgIHZhciBfYSA9IHNvcnRBcmdzKHNlY29uZCwgdGhpcmQpLCBvcHRpb25zID0gX2Eub3B0aW9ucywgZGVwcyA9IF9hLmRlcHM7XHJcbiAgICB2YXIgX2IgPSB1c2VTdGF0ZShudWxsKSwgc3RhdGUgPSBfYlswXSwgc2V0U25hcHNob3QgPSBfYlsxXTtcclxuICAgIHVzZVZpZXdwb3J0RWZmZWN0KGZ1bmN0aW9uIChfLCBzbmFwc2hvdCkgeyByZXR1cm4gc2V0U25hcHNob3Qoc25hcHNob3QpOyB9LCBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgb3B0aW9ucyksIHsgcmVjYWxjdWxhdGVMYXlvdXRCZWZvcmVVcGRhdGU6IHJlY2FsY3VsYXRlTGF5b3V0QmVmb3JlVXBkYXRlIH0pLCBkZXBzKTtcclxuICAgIHJldHVybiBzdGF0ZTtcclxufVxyXG52YXIgdXNlT3B0aW9ucyA9IGZ1bmN0aW9uIChvKSB7XHJcbiAgICB2YXIgb3B0aW9uc1JlZiA9IHVzZVJlZihPYmplY3QuY3JlYXRlKG51bGwpKTtcclxuICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBPYmplY3Qua2V5cyhvcHRpb25zUmVmLmN1cnJlbnQpOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgIHZhciBrZXkgPSBfYVtfaV07XHJcbiAgICAgICAgZGVsZXRlIG9wdGlvbnNSZWYuY3VycmVudFtrZXldO1xyXG4gICAgfVxyXG4gICAgT2JqZWN0LmFzc2lnbihvcHRpb25zUmVmLmN1cnJlbnQsIG8pO1xyXG4gICAgcmV0dXJuIG9wdGlvbnNSZWYuY3VycmVudDtcclxufTtcclxudmFyIHNvcnRBcmdzID0gZnVuY3Rpb24gKGZpcnN0LCBzZWNvbmQpIHtcclxuICAgIHZhciBvcHRpb25zID0ge307XHJcbiAgICBpZiAoZmlyc3QgJiYgIUFycmF5LmlzQXJyYXkoZmlyc3QpKSB7XHJcbiAgICAgICAgb3B0aW9ucyA9IGZpcnN0O1xyXG4gICAgfVxyXG4gICAgdmFyIGRlcHMgPSBzZWNvbmQgfHwgW107XHJcbiAgICBpZiAoZmlyc3QgJiYgQXJyYXkuaXNBcnJheShmaXJzdCkpIHtcclxuICAgICAgICBkZXBzID0gZmlyc3Q7XHJcbiAgICB9XHJcbiAgICByZXR1cm4geyBkZXBzOiBkZXBzLCBvcHRpb25zOiBvcHRpb25zIH07XHJcbn07XG5cbnZhciBWRVJTSU9OID0gJzEuMTEuMCc7XG5cbmV4cG9ydCB7IE9ic2VydmVCb3VuZGluZ0NsaWVudFJlY3QsIE9ic2VydmVWaWV3cG9ydCwgVkVSU0lPTiwgVmlld3BvcnRQcm92aWRlciwgY2FuY2VsQW5pbWF0aW9uRnJhbWUsIGNvbm5lY3QgYXMgY29ubmVjdFZpZXdwb3J0LCByZXF1ZXN0QW5pbWF0aW9uRnJhbWUsIHVzZURpbWVuc2lvbnMsIHVzZURpbWVuc2lvbnNFZmZlY3QsIHVzZUxheW91dFNuYXBzaG90LCB1c2VSZWN0LCB1c2VSZWN0RWZmZWN0LCB1c2VTY3JvbGwsIHVzZVNjcm9sbEVmZmVjdCwgdXNlVmlld3BvcnQsIHVzZVZpZXdwb3J0RWZmZWN0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lcy5qcy5tYXBcbiIsImltcG9ydCBSZWFjdCwgeyBjcmVhdGVGYWN0b3J5LCBDb21wb25lbnQsIGNyZWF0ZUVsZW1lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgX2V4dGVuZHMgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kcyc7XG5pbXBvcnQgc2hhbGxvd0VxdWFsIGZyb20gJ2ZianMvbGliL3NoYWxsb3dFcXVhbCc7XG5pbXBvcnQgX2luaGVyaXRzTG9vc2UgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHNMb29zZSc7XG5pbXBvcnQgeyBwb2x5ZmlsbCB9IGZyb20gJ3JlYWN0LWxpZmVjeWNsZXMtY29tcGF0JztcbmltcG9ydCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlJztcbmltcG9ydCBob2lzdE5vblJlYWN0U3RhdGljcyBmcm9tICdob2lzdC1ub24tcmVhY3Qtc3RhdGljcyc7XG5pbXBvcnQgeyBjcmVhdGVDaGFuZ2VFbWl0dGVyIH0gZnJvbSAnY2hhbmdlLWVtaXR0ZXInO1xuaW1wb3J0ICQkb2JzZXJ2YWJsZSBmcm9tICdzeW1ib2wtb2JzZXJ2YWJsZSc7XG5cbnZhciBzZXRTdGF0aWMgPSBmdW5jdGlvbiBzZXRTdGF0aWMoa2V5LCB2YWx1ZSkge1xuICByZXR1cm4gZnVuY3Rpb24gKEJhc2VDb21wb25lbnQpIHtcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1wYXJhbS1yZWFzc2lnbiAqL1xuICAgIEJhc2VDb21wb25lbnRba2V5XSA9IHZhbHVlO1xuICAgIC8qIGVzbGludC1lbmFibGUgbm8tcGFyYW0tcmVhc3NpZ24gKi9cblxuICAgIHJldHVybiBCYXNlQ29tcG9uZW50O1xuICB9O1xufTtcblxudmFyIHNldERpc3BsYXlOYW1lID0gZnVuY3Rpb24gc2V0RGlzcGxheU5hbWUoZGlzcGxheU5hbWUpIHtcbiAgcmV0dXJuIHNldFN0YXRpYygnZGlzcGxheU5hbWUnLCBkaXNwbGF5TmFtZSk7XG59O1xuXG52YXIgZ2V0RGlzcGxheU5hbWUgPSBmdW5jdGlvbiBnZXREaXNwbGF5TmFtZShDb21wb25lbnQkJDEpIHtcbiAgaWYgKHR5cGVvZiBDb21wb25lbnQkJDEgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIENvbXBvbmVudCQkMTtcbiAgfVxuXG4gIGlmICghQ29tcG9uZW50JCQxKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIHJldHVybiBDb21wb25lbnQkJDEuZGlzcGxheU5hbWUgfHwgQ29tcG9uZW50JCQxLm5hbWUgfHwgJ0NvbXBvbmVudCc7XG59O1xuXG52YXIgd3JhcERpc3BsYXlOYW1lID0gZnVuY3Rpb24gd3JhcERpc3BsYXlOYW1lKEJhc2VDb21wb25lbnQsIGhvY05hbWUpIHtcbiAgcmV0dXJuIGhvY05hbWUgKyBcIihcIiArIGdldERpc3BsYXlOYW1lKEJhc2VDb21wb25lbnQpICsgXCIpXCI7XG59O1xuXG52YXIgbWFwUHJvcHMgPSBmdW5jdGlvbiBtYXBQcm9wcyhwcm9wc01hcHBlcikge1xuICByZXR1cm4gZnVuY3Rpb24gKEJhc2VDb21wb25lbnQpIHtcbiAgICB2YXIgZmFjdG9yeSA9IGNyZWF0ZUZhY3RvcnkoQmFzZUNvbXBvbmVudCk7XG5cbiAgICB2YXIgTWFwUHJvcHMgPSBmdW5jdGlvbiBNYXBQcm9wcyhwcm9wcykge1xuICAgICAgcmV0dXJuIGZhY3RvcnkocHJvcHNNYXBwZXIocHJvcHMpKTtcbiAgICB9O1xuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHJldHVybiBzZXREaXNwbGF5TmFtZSh3cmFwRGlzcGxheU5hbWUoQmFzZUNvbXBvbmVudCwgJ21hcFByb3BzJykpKE1hcFByb3BzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gTWFwUHJvcHM7XG4gIH07XG59O1xuXG52YXIgd2l0aFByb3BzID0gZnVuY3Rpb24gd2l0aFByb3BzKGlucHV0KSB7XG4gIHZhciBob2MgPSBtYXBQcm9wcyhmdW5jdGlvbiAocHJvcHMpIHtcbiAgICByZXR1cm4gX2V4dGVuZHMoe30sIHByb3BzLCB0eXBlb2YgaW5wdXQgPT09ICdmdW5jdGlvbicgPyBpbnB1dChwcm9wcykgOiBpbnB1dCk7XG4gIH0pO1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChCYXNlQ29tcG9uZW50KSB7XG4gICAgICByZXR1cm4gc2V0RGlzcGxheU5hbWUod3JhcERpc3BsYXlOYW1lKEJhc2VDb21wb25lbnQsICd3aXRoUHJvcHMnKSkoaG9jKEJhc2VDb21wb25lbnQpKTtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIGhvYztcbn07XG5cbnZhciBwaWNrID0gZnVuY3Rpb24gcGljayhvYmosIGtleXMpIHtcbiAgdmFyIHJlc3VsdCA9IHt9O1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuXG4gICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICByZXN1bHRba2V5XSA9IG9ialtrZXldO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG52YXIgd2l0aFByb3BzT25DaGFuZ2UgPSBmdW5jdGlvbiB3aXRoUHJvcHNPbkNoYW5nZShzaG91bGRNYXBPcktleXMsIHByb3BzTWFwcGVyKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoQmFzZUNvbXBvbmVudCkge1xuICAgIHZhciBmYWN0b3J5ID0gY3JlYXRlRmFjdG9yeShCYXNlQ29tcG9uZW50KTtcbiAgICB2YXIgc2hvdWxkTWFwID0gdHlwZW9mIHNob3VsZE1hcE9yS2V5cyA9PT0gJ2Z1bmN0aW9uJyA/IHNob3VsZE1hcE9yS2V5cyA6IGZ1bmN0aW9uIChwcm9wcywgbmV4dFByb3BzKSB7XG4gICAgICByZXR1cm4gIXNoYWxsb3dFcXVhbChwaWNrKHByb3BzLCBzaG91bGRNYXBPcktleXMpLCBwaWNrKG5leHRQcm9wcywgc2hvdWxkTWFwT3JLZXlzKSk7XG4gICAgfTtcblxuICAgIHZhciBXaXRoUHJvcHNPbkNoYW5nZSA9XG4gICAgLyojX19QVVJFX18qL1xuICAgIGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICAgICBfaW5oZXJpdHNMb29zZShXaXRoUHJvcHNPbkNoYW5nZSwgX0NvbXBvbmVudCk7XG5cbiAgICAgIGZ1bmN0aW9uIFdpdGhQcm9wc09uQ2hhbmdlKCkge1xuICAgICAgICB2YXIgX3RoaXM7XG5cbiAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzID0gX0NvbXBvbmVudC5jYWxsLmFwcGx5KF9Db21wb25lbnQsIFt0aGlzXS5jb25jYXQoYXJncykpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgICAgIGNvbXB1dGVkUHJvcHM6IHByb3BzTWFwcGVyKF90aGlzLnByb3BzKSxcbiAgICAgICAgICBwcmV2UHJvcHM6IF90aGlzLnByb3BzXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgIH1cblxuICAgICAgV2l0aFByb3BzT25DaGFuZ2UuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID0gZnVuY3Rpb24gZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKG5leHRQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgICAgIGlmIChzaG91bGRNYXAocHJldlN0YXRlLnByZXZQcm9wcywgbmV4dFByb3BzKSkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjb21wdXRlZFByb3BzOiBwcm9wc01hcHBlcihuZXh0UHJvcHMpLFxuICAgICAgICAgICAgcHJldlByb3BzOiBuZXh0UHJvcHNcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBwcmV2UHJvcHM6IG5leHRQcm9wc1xuICAgICAgICB9O1xuICAgICAgfTtcblxuICAgICAgdmFyIF9wcm90byA9IFdpdGhQcm9wc09uQ2hhbmdlLnByb3RvdHlwZTtcblxuICAgICAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIGZhY3RvcnkoX2V4dGVuZHMoe30sIHRoaXMucHJvcHMsIHRoaXMuc3RhdGUuY29tcHV0ZWRQcm9wcykpO1xuICAgICAgfTtcblxuICAgICAgcmV0dXJuIFdpdGhQcm9wc09uQ2hhbmdlO1xuICAgIH0oQ29tcG9uZW50KTtcblxuICAgIHBvbHlmaWxsKFdpdGhQcm9wc09uQ2hhbmdlKTtcblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICByZXR1cm4gc2V0RGlzcGxheU5hbWUod3JhcERpc3BsYXlOYW1lKEJhc2VDb21wb25lbnQsICd3aXRoUHJvcHNPbkNoYW5nZScpKShXaXRoUHJvcHNPbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFdpdGhQcm9wc09uQ2hhbmdlO1xuICB9O1xufTtcblxudmFyIG1hcFZhbHVlcyA9IGZ1bmN0aW9uIG1hcFZhbHVlcyhvYmosIGZ1bmMpIHtcbiAgdmFyIHJlc3VsdCA9IHt9O1xuICAvKiBlc2xpbnQtZGlzYWJsZSBuby1yZXN0cmljdGVkLXN5bnRheCAqL1xuXG4gIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgIHJlc3VsdFtrZXldID0gZnVuYyhvYmpba2V5XSwga2V5KTtcbiAgICB9XG4gIH1cbiAgLyogZXNsaW50LWVuYWJsZSBuby1yZXN0cmljdGVkLXN5bnRheCAqL1xuXG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbnZhciB3aXRoSGFuZGxlcnMgPSBmdW5jdGlvbiB3aXRoSGFuZGxlcnMoaGFuZGxlcnMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChCYXNlQ29tcG9uZW50KSB7XG4gICAgdmFyIGZhY3RvcnkgPSBjcmVhdGVGYWN0b3J5KEJhc2VDb21wb25lbnQpO1xuXG4gICAgdmFyIFdpdGhIYW5kbGVycyA9XG4gICAgLyojX19QVVJFX18qL1xuICAgIGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICAgICBfaW5oZXJpdHNMb29zZShXaXRoSGFuZGxlcnMsIF9Db21wb25lbnQpO1xuXG4gICAgICBmdW5jdGlvbiBXaXRoSGFuZGxlcnMoKSB7XG4gICAgICAgIHZhciBfdGhpcztcblxuICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgX2FyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgX2FyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpcyA9IF9Db21wb25lbnQuY2FsbC5hcHBseShfQ29tcG9uZW50LCBbdGhpc10uY29uY2F0KF9hcmdzKSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuaGFuZGxlcnMgPSBtYXBWYWx1ZXModHlwZW9mIGhhbmRsZXJzID09PSAnZnVuY3Rpb24nID8gaGFuZGxlcnMoX3RoaXMucHJvcHMpIDogaGFuZGxlcnMsIGZ1bmN0aW9uIChjcmVhdGVIYW5kbGVyKSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBoYW5kbGVyID0gY3JlYXRlSGFuZGxlcihfdGhpcy5wcm9wcyk7XG5cbiAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHR5cGVvZiBoYW5kbGVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAgICAgICAgICAgICAnd2l0aEhhbmRsZXJzKCk6IEV4cGVjdGVkIGEgbWFwIG9mIGhpZ2hlci1vcmRlciBmdW5jdGlvbnMuICcgKyAnUmVmZXIgdG8gdGhlIGRvY3MgZm9yIG1vcmUgaW5mby4nKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZXIuYXBwbHkodm9pZCAwLCBhcmd1bWVudHMpO1xuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICB9XG5cbiAgICAgIHZhciBfcHJvdG8gPSBXaXRoSGFuZGxlcnMucHJvdG90eXBlO1xuXG4gICAgICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gZmFjdG9yeShfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcywgdGhpcy5oYW5kbGVycykpO1xuICAgICAgfTtcblxuICAgICAgcmV0dXJuIFdpdGhIYW5kbGVycztcbiAgICB9KENvbXBvbmVudCk7XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgcmV0dXJuIHNldERpc3BsYXlOYW1lKHdyYXBEaXNwbGF5TmFtZShCYXNlQ29tcG9uZW50LCAnd2l0aEhhbmRsZXJzJykpKFdpdGhIYW5kbGVycyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFdpdGhIYW5kbGVycztcbiAgfTtcbn07XG5cbnZhciBkZWZhdWx0UHJvcHMgPSBmdW5jdGlvbiBkZWZhdWx0UHJvcHMocHJvcHMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChCYXNlQ29tcG9uZW50KSB7XG4gICAgdmFyIGZhY3RvcnkgPSBjcmVhdGVGYWN0b3J5KEJhc2VDb21wb25lbnQpO1xuXG4gICAgdmFyIERlZmF1bHRQcm9wcyA9IGZ1bmN0aW9uIERlZmF1bHRQcm9wcyhvd25lclByb3BzKSB7XG4gICAgICByZXR1cm4gZmFjdG9yeShvd25lclByb3BzKTtcbiAgICB9O1xuXG4gICAgRGVmYXVsdFByb3BzLmRlZmF1bHRQcm9wcyA9IHByb3BzO1xuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHJldHVybiBzZXREaXNwbGF5TmFtZSh3cmFwRGlzcGxheU5hbWUoQmFzZUNvbXBvbmVudCwgJ2RlZmF1bHRQcm9wcycpKShEZWZhdWx0UHJvcHMpO1xuICAgIH1cblxuICAgIHJldHVybiBEZWZhdWx0UHJvcHM7XG4gIH07XG59O1xuXG52YXIgb21pdCA9IGZ1bmN0aW9uIG9taXQob2JqLCBrZXlzKSB7XG4gIHZhciByZXN0ID0gX2V4dGVuZHMoe30sIG9iaik7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGtleSA9IGtleXNbaV07XG5cbiAgICBpZiAocmVzdC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICBkZWxldGUgcmVzdFtrZXldO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN0O1xufTtcblxudmFyIHJlbmFtZVByb3AgPSBmdW5jdGlvbiByZW5hbWVQcm9wKG9sZE5hbWUsIG5ld05hbWUpIHtcbiAgdmFyIGhvYyA9IG1hcFByb3BzKGZ1bmN0aW9uIChwcm9wcykge1xuICAgIHZhciBfZXh0ZW5kczI7XG5cbiAgICByZXR1cm4gX2V4dGVuZHMoe30sIG9taXQocHJvcHMsIFtvbGROYW1lXSksIChfZXh0ZW5kczIgPSB7fSwgX2V4dGVuZHMyW25ld05hbWVdID0gcHJvcHNbb2xkTmFtZV0sIF9leHRlbmRzMikpO1xuICB9KTtcblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIHJldHVybiBmdW5jdGlvbiAoQmFzZUNvbXBvbmVudCkge1xuICAgICAgcmV0dXJuIHNldERpc3BsYXlOYW1lKHdyYXBEaXNwbGF5TmFtZShCYXNlQ29tcG9uZW50LCAncmVuYW1lUHJvcCcpKShob2MoQmFzZUNvbXBvbmVudCkpO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gaG9jO1xufTtcblxudmFyIGtleXMgPSBPYmplY3Qua2V5cztcblxudmFyIG1hcEtleXMgPSBmdW5jdGlvbiBtYXBLZXlzKG9iaiwgZnVuYykge1xuICByZXR1cm4ga2V5cyhvYmopLnJlZHVjZShmdW5jdGlvbiAocmVzdWx0LCBrZXkpIHtcbiAgICB2YXIgdmFsID0gb2JqW2tleV07XG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tcGFyYW0tcmVhc3NpZ24gKi9cblxuICAgIHJlc3VsdFtmdW5jKHZhbCwga2V5KV0gPSB2YWw7XG4gICAgLyogZXNsaW50LWVuYWJsZSBuby1wYXJhbS1yZWFzc2lnbiAqL1xuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSwge30pO1xufTtcblxudmFyIHJlbmFtZVByb3BzID0gZnVuY3Rpb24gcmVuYW1lUHJvcHMobmFtZU1hcCkge1xuICB2YXIgaG9jID0gbWFwUHJvcHMoZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgcmV0dXJuIF9leHRlbmRzKHt9LCBvbWl0KHByb3BzLCBrZXlzKG5hbWVNYXApKSwgbWFwS2V5cyhwaWNrKHByb3BzLCBrZXlzKG5hbWVNYXApKSwgZnVuY3Rpb24gKF8sIG9sZE5hbWUpIHtcbiAgICAgIHJldHVybiBuYW1lTWFwW29sZE5hbWVdO1xuICAgIH0pKTtcbiAgfSk7XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKEJhc2VDb21wb25lbnQpIHtcbiAgICAgIHJldHVybiBzZXREaXNwbGF5TmFtZSh3cmFwRGlzcGxheU5hbWUoQmFzZUNvbXBvbmVudCwgJ3JlbmFtZVByb3BzJykpKGhvYyhCYXNlQ29tcG9uZW50KSk7XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBob2M7XG59O1xuXG52YXIgZmxhdHRlblByb3AgPSBmdW5jdGlvbiBmbGF0dGVuUHJvcChwcm9wTmFtZSkge1xuICByZXR1cm4gZnVuY3Rpb24gKEJhc2VDb21wb25lbnQpIHtcbiAgICB2YXIgZmFjdG9yeSA9IGNyZWF0ZUZhY3RvcnkoQmFzZUNvbXBvbmVudCk7XG5cbiAgICB2YXIgRmxhdHRlblByb3AgPSBmdW5jdGlvbiBGbGF0dGVuUHJvcChwcm9wcykge1xuICAgICAgcmV0dXJuIGZhY3RvcnkoX2V4dGVuZHMoe30sIHByb3BzLCBwcm9wc1twcm9wTmFtZV0pKTtcbiAgICB9O1xuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHJldHVybiBzZXREaXNwbGF5TmFtZSh3cmFwRGlzcGxheU5hbWUoQmFzZUNvbXBvbmVudCwgJ2ZsYXR0ZW5Qcm9wJykpKEZsYXR0ZW5Qcm9wKTtcbiAgICB9XG5cbiAgICByZXR1cm4gRmxhdHRlblByb3A7XG4gIH07XG59O1xuXG52YXIgd2l0aFN0YXRlID0gZnVuY3Rpb24gd2l0aFN0YXRlKHN0YXRlTmFtZSwgc3RhdGVVcGRhdGVyTmFtZSwgaW5pdGlhbFN0YXRlKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoQmFzZUNvbXBvbmVudCkge1xuICAgIHZhciBmYWN0b3J5ID0gY3JlYXRlRmFjdG9yeShCYXNlQ29tcG9uZW50KTtcblxuICAgIHZhciBXaXRoU3RhdGUgPVxuICAgIC8qI19fUFVSRV9fKi9cbiAgICBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAgICAgX2luaGVyaXRzTG9vc2UoV2l0aFN0YXRlLCBfQ29tcG9uZW50KTtcblxuICAgICAgZnVuY3Rpb24gV2l0aFN0YXRlKCkge1xuICAgICAgICB2YXIgX3RoaXM7XG5cbiAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzID0gX0NvbXBvbmVudC5jYWxsLmFwcGx5KF9Db21wb25lbnQsIFt0aGlzXS5jb25jYXQoYXJncykpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgICAgIHN0YXRlVmFsdWU6IHR5cGVvZiBpbml0aWFsU3RhdGUgPT09ICdmdW5jdGlvbicgPyBpbml0aWFsU3RhdGUoX3RoaXMucHJvcHMpIDogaW5pdGlhbFN0YXRlXG4gICAgICAgIH07XG5cbiAgICAgICAgX3RoaXMudXBkYXRlU3RhdGVWYWx1ZSA9IGZ1bmN0aW9uICh1cGRhdGVGbiwgY2FsbGJhY2spIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMuc2V0U3RhdGUoZnVuY3Rpb24gKF9yZWYpIHtcbiAgICAgICAgICAgIHZhciBzdGF0ZVZhbHVlID0gX3JlZi5zdGF0ZVZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgc3RhdGVWYWx1ZTogdHlwZW9mIHVwZGF0ZUZuID09PSAnZnVuY3Rpb24nID8gdXBkYXRlRm4oc3RhdGVWYWx1ZSkgOiB1cGRhdGVGblxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9LCBjYWxsYmFjayk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgfVxuXG4gICAgICB2YXIgX3Byb3RvID0gV2l0aFN0YXRlLnByb3RvdHlwZTtcblxuICAgICAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIF9leHRlbmRzMjtcblxuICAgICAgICByZXR1cm4gZmFjdG9yeShfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcywgKF9leHRlbmRzMiA9IHt9LCBfZXh0ZW5kczJbc3RhdGVOYW1lXSA9IHRoaXMuc3RhdGUuc3RhdGVWYWx1ZSwgX2V4dGVuZHMyW3N0YXRlVXBkYXRlck5hbWVdID0gdGhpcy51cGRhdGVTdGF0ZVZhbHVlLCBfZXh0ZW5kczIpKSk7XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gV2l0aFN0YXRlO1xuICAgIH0oQ29tcG9uZW50KTtcblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICByZXR1cm4gc2V0RGlzcGxheU5hbWUod3JhcERpc3BsYXlOYW1lKEJhc2VDb21wb25lbnQsICd3aXRoU3RhdGUnKSkoV2l0aFN0YXRlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gV2l0aFN0YXRlO1xuICB9O1xufTtcblxudmFyIHdpdGhTdGF0ZUhhbmRsZXJzID0gZnVuY3Rpb24gd2l0aFN0YXRlSGFuZGxlcnMoaW5pdGlhbFN0YXRlLCBzdGF0ZVVwZGF0ZXJzKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoQmFzZUNvbXBvbmVudCkge1xuICAgIHZhciBmYWN0b3J5ID0gY3JlYXRlRmFjdG9yeShCYXNlQ29tcG9uZW50KTtcblxuICAgIHZhciBXaXRoU3RhdGVIYW5kbGVycyA9XG4gICAgLyojX19QVVJFX18qL1xuICAgIGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICAgICBfaW5oZXJpdHNMb29zZShXaXRoU3RhdGVIYW5kbGVycywgX0NvbXBvbmVudCk7XG5cbiAgICAgIGZ1bmN0aW9uIFdpdGhTdGF0ZUhhbmRsZXJzKCkge1xuICAgICAgICB2YXIgX3RoaXM7XG5cbiAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIF9hcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICAgIF9hcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMgPSBfQ29tcG9uZW50LmNhbGwuYXBwbHkoX0NvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChfYXJncykpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnN0YXRlID0gdHlwZW9mIGluaXRpYWxTdGF0ZSA9PT0gJ2Z1bmN0aW9uJyA/IGluaXRpYWxTdGF0ZShfdGhpcy5wcm9wcykgOiBpbml0aWFsU3RhdGU7XG4gICAgICAgIF90aGlzLnN0YXRlVXBkYXRlcnMgPSBtYXBWYWx1ZXMoc3RhdGVVcGRhdGVycywgZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKG1heUJlRXZlbnQpIHtcbiAgICAgICAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMiA+IDEgPyBfbGVuMiAtIDEgOiAwKSwgX2tleTIgPSAxOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICAgICAgICAgIGFyZ3NbX2tleTIgLSAxXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEhhdmluZyB0aGF0IGZ1bmN0aW9uYWwgZm9ybSBvZiBzZXRTdGF0ZSBjYW4gYmUgY2FsbGVkIGFzeW5jXG4gICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIHBlcnNpc3QgU3ludGhldGljRXZlbnRcbiAgICAgICAgICAgIGlmIChtYXlCZUV2ZW50ICYmIHR5cGVvZiBtYXlCZUV2ZW50LnBlcnNpc3QgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgbWF5QmVFdmVudC5wZXJzaXN0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKGZ1bmN0aW9uIChzdGF0ZSwgcHJvcHMpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZXIoc3RhdGUsIHByb3BzKS5hcHBseSh2b2lkIDAsIFttYXlCZUV2ZW50XS5jb25jYXQoYXJncykpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgIH1cblxuICAgICAgdmFyIF9wcm90byA9IFdpdGhTdGF0ZUhhbmRsZXJzLnByb3RvdHlwZTtcblxuICAgICAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIGZhY3RvcnkoX2V4dGVuZHMoe30sIHRoaXMucHJvcHMsIHRoaXMuc3RhdGUsIHRoaXMuc3RhdGVVcGRhdGVycykpO1xuICAgICAgfTtcblxuICAgICAgcmV0dXJuIFdpdGhTdGF0ZUhhbmRsZXJzO1xuICAgIH0oQ29tcG9uZW50KTtcblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICByZXR1cm4gc2V0RGlzcGxheU5hbWUod3JhcERpc3BsYXlOYW1lKEJhc2VDb21wb25lbnQsICd3aXRoU3RhdGVIYW5kbGVycycpKShXaXRoU3RhdGVIYW5kbGVycyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFdpdGhTdGF0ZUhhbmRsZXJzO1xuICB9O1xufTtcblxudmFyIG5vb3AgPSBmdW5jdGlvbiBub29wKCkge307XG5cbnZhciB3aXRoUmVkdWNlciA9IGZ1bmN0aW9uIHdpdGhSZWR1Y2VyKHN0YXRlTmFtZSwgZGlzcGF0Y2hOYW1lLCByZWR1Y2VyLCBpbml0aWFsU3RhdGUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChCYXNlQ29tcG9uZW50KSB7XG4gICAgdmFyIGZhY3RvcnkgPSBjcmVhdGVGYWN0b3J5KEJhc2VDb21wb25lbnQpO1xuXG4gICAgdmFyIFdpdGhSZWR1Y2VyID1cbiAgICAvKiNfX1BVUkVfXyovXG4gICAgZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgICAgIF9pbmhlcml0c0xvb3NlKFdpdGhSZWR1Y2VyLCBfQ29tcG9uZW50KTtcblxuICAgICAgZnVuY3Rpb24gV2l0aFJlZHVjZXIoKSB7XG4gICAgICAgIHZhciBfdGhpcztcblxuICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMgPSBfQ29tcG9uZW50LmNhbGwuYXBwbHkoX0NvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChhcmdzKSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgc3RhdGVWYWx1ZTogX3RoaXMuaW5pdGlhbGl6ZVN0YXRlVmFsdWUoKVxuICAgICAgICB9O1xuXG4gICAgICAgIF90aGlzLmRpc3BhdGNoID0gZnVuY3Rpb24gKGFjdGlvbiwgY2FsbGJhY2spIHtcbiAgICAgICAgICBpZiAoY2FsbGJhY2sgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgY2FsbGJhY2sgPSBub29wO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBfdGhpcy5zZXRTdGF0ZShmdW5jdGlvbiAoX3JlZikge1xuICAgICAgICAgICAgdmFyIHN0YXRlVmFsdWUgPSBfcmVmLnN0YXRlVmFsdWU7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBzdGF0ZVZhbHVlOiByZWR1Y2VyKHN0YXRlVmFsdWUsIGFjdGlvbilcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKF90aGlzLnN0YXRlLnN0YXRlVmFsdWUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgIH1cblxuICAgICAgdmFyIF9wcm90byA9IFdpdGhSZWR1Y2VyLnByb3RvdHlwZTtcblxuICAgICAgX3Byb3RvLmluaXRpYWxpemVTdGF0ZVZhbHVlID0gZnVuY3Rpb24gaW5pdGlhbGl6ZVN0YXRlVmFsdWUoKSB7XG4gICAgICAgIGlmIChpbml0aWFsU3RhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJldHVybiB0eXBlb2YgaW5pdGlhbFN0YXRlID09PSAnZnVuY3Rpb24nID8gaW5pdGlhbFN0YXRlKHRoaXMucHJvcHMpIDogaW5pdGlhbFN0YXRlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlZHVjZXIodW5kZWZpbmVkLCB7XG4gICAgICAgICAgdHlwZTogJ0BAcmVjb21wb3NlL0lOSVQnXG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIF9leHRlbmRzMjtcblxuICAgICAgICByZXR1cm4gZmFjdG9yeShfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcywgKF9leHRlbmRzMiA9IHt9LCBfZXh0ZW5kczJbc3RhdGVOYW1lXSA9IHRoaXMuc3RhdGUuc3RhdGVWYWx1ZSwgX2V4dGVuZHMyW2Rpc3BhdGNoTmFtZV0gPSB0aGlzLmRpc3BhdGNoLCBfZXh0ZW5kczIpKSk7XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gV2l0aFJlZHVjZXI7XG4gICAgfShDb21wb25lbnQpO1xuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHJldHVybiBzZXREaXNwbGF5TmFtZSh3cmFwRGlzcGxheU5hbWUoQmFzZUNvbXBvbmVudCwgJ3dpdGhSZWR1Y2VyJykpKFdpdGhSZWR1Y2VyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gV2l0aFJlZHVjZXI7XG4gIH07XG59O1xuXG52YXIgaWRlbnRpdHkgPSBmdW5jdGlvbiBpZGVudGl0eShDb21wb25lbnQkJDEpIHtcbiAgcmV0dXJuIENvbXBvbmVudCQkMTtcbn07XG5cbnZhciBicmFuY2ggPSBmdW5jdGlvbiBicmFuY2godGVzdCwgbGVmdCwgcmlnaHQpIHtcbiAgaWYgKHJpZ2h0ID09PSB2b2lkIDApIHtcbiAgICByaWdodCA9IGlkZW50aXR5O1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChCYXNlQ29tcG9uZW50KSB7XG4gICAgdmFyIGxlZnRGYWN0b3J5O1xuICAgIHZhciByaWdodEZhY3Rvcnk7XG5cbiAgICB2YXIgQnJhbmNoID0gZnVuY3Rpb24gQnJhbmNoKHByb3BzKSB7XG4gICAgICBpZiAodGVzdChwcm9wcykpIHtcbiAgICAgICAgbGVmdEZhY3RvcnkgPSBsZWZ0RmFjdG9yeSB8fCBjcmVhdGVGYWN0b3J5KGxlZnQoQmFzZUNvbXBvbmVudCkpO1xuICAgICAgICByZXR1cm4gbGVmdEZhY3RvcnkocHJvcHMpO1xuICAgICAgfVxuXG4gICAgICByaWdodEZhY3RvcnkgPSByaWdodEZhY3RvcnkgfHwgY3JlYXRlRmFjdG9yeShyaWdodChCYXNlQ29tcG9uZW50KSk7XG4gICAgICByZXR1cm4gcmlnaHRGYWN0b3J5KHByb3BzKTtcbiAgICB9O1xuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHJldHVybiBzZXREaXNwbGF5TmFtZSh3cmFwRGlzcGxheU5hbWUoQmFzZUNvbXBvbmVudCwgJ2JyYW5jaCcpKShCcmFuY2gpO1xuICAgIH1cblxuICAgIHJldHVybiBCcmFuY2g7XG4gIH07XG59O1xuXG52YXIgcmVuZGVyQ29tcG9uZW50ID0gZnVuY3Rpb24gcmVuZGVyQ29tcG9uZW50KENvbXBvbmVudCQkMSkge1xuICByZXR1cm4gZnVuY3Rpb24gKF8pIHtcbiAgICB2YXIgZmFjdG9yeSA9IGNyZWF0ZUZhY3RvcnkoQ29tcG9uZW50JCQxKTtcblxuICAgIHZhciBSZW5kZXJDb21wb25lbnQgPSBmdW5jdGlvbiBSZW5kZXJDb21wb25lbnQocHJvcHMpIHtcbiAgICAgIHJldHVybiBmYWN0b3J5KHByb3BzKTtcbiAgICB9O1xuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIFJlbmRlckNvbXBvbmVudC5kaXNwbGF5TmFtZSA9IHdyYXBEaXNwbGF5TmFtZShDb21wb25lbnQkJDEsICdyZW5kZXJDb21wb25lbnQnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gUmVuZGVyQ29tcG9uZW50O1xuICB9O1xufTtcblxudmFyIE5vdGhpbmcgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoTm90aGluZywgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gTm90aGluZygpIHtcbiAgICByZXR1cm4gX0NvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gIH1cblxuICB2YXIgX3Byb3RvID0gTm90aGluZy5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICByZXR1cm4gTm90aGluZztcbn0oQ29tcG9uZW50KTtcblxudmFyIHJlbmRlck5vdGhpbmcgPSBmdW5jdGlvbiByZW5kZXJOb3RoaW5nKF8pIHtcbiAgcmV0dXJuIE5vdGhpbmc7XG59O1xuXG52YXIgc2hvdWxkVXBkYXRlID0gZnVuY3Rpb24gc2hvdWxkVXBkYXRlKHRlc3QpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChCYXNlQ29tcG9uZW50KSB7XG4gICAgdmFyIGZhY3RvcnkgPSBjcmVhdGVGYWN0b3J5KEJhc2VDb21wb25lbnQpO1xuXG4gICAgdmFyIFNob3VsZFVwZGF0ZSA9XG4gICAgLyojX19QVVJFX18qL1xuICAgIGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICAgICBfaW5oZXJpdHNMb29zZShTaG91bGRVcGRhdGUsIF9Db21wb25lbnQpO1xuXG4gICAgICBmdW5jdGlvbiBTaG91bGRVcGRhdGUoKSB7XG4gICAgICAgIHJldHVybiBfQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAgIH1cblxuICAgICAgdmFyIF9wcm90byA9IFNob3VsZFVwZGF0ZS5wcm90b3R5cGU7XG5cbiAgICAgIF9wcm90by5zaG91bGRDb21wb25lbnRVcGRhdGUgPSBmdW5jdGlvbiBzaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzKSB7XG4gICAgICAgIHJldHVybiB0ZXN0KHRoaXMucHJvcHMsIG5leHRQcm9wcyk7XG4gICAgICB9O1xuXG4gICAgICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gZmFjdG9yeSh0aGlzLnByb3BzKTtcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBTaG91bGRVcGRhdGU7XG4gICAgfShDb21wb25lbnQpO1xuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHJldHVybiBzZXREaXNwbGF5TmFtZSh3cmFwRGlzcGxheU5hbWUoQmFzZUNvbXBvbmVudCwgJ3Nob3VsZFVwZGF0ZScpKShTaG91bGRVcGRhdGUpO1xuICAgIH1cblxuICAgIHJldHVybiBTaG91bGRVcGRhdGU7XG4gIH07XG59O1xuXG52YXIgcHVyZSA9IGZ1bmN0aW9uIHB1cmUoQmFzZUNvbXBvbmVudCkge1xuICB2YXIgaG9jID0gc2hvdWxkVXBkYXRlKGZ1bmN0aW9uIChwcm9wcywgbmV4dFByb3BzKSB7XG4gICAgcmV0dXJuICFzaGFsbG93RXF1YWwocHJvcHMsIG5leHRQcm9wcyk7XG4gIH0pO1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgcmV0dXJuIHNldERpc3BsYXlOYW1lKHdyYXBEaXNwbGF5TmFtZShCYXNlQ29tcG9uZW50LCAncHVyZScpKShob2MoQmFzZUNvbXBvbmVudCkpO1xuICB9XG5cbiAgcmV0dXJuIGhvYyhCYXNlQ29tcG9uZW50KTtcbn07XG5cbnZhciBvbmx5VXBkYXRlRm9yS2V5cyA9IGZ1bmN0aW9uIG9ubHlVcGRhdGVGb3JLZXlzKHByb3BLZXlzKSB7XG4gIHZhciBob2MgPSBzaG91bGRVcGRhdGUoZnVuY3Rpb24gKHByb3BzLCBuZXh0UHJvcHMpIHtcbiAgICByZXR1cm4gIXNoYWxsb3dFcXVhbChwaWNrKG5leHRQcm9wcywgcHJvcEtleXMpLCBwaWNrKHByb3BzLCBwcm9wS2V5cykpO1xuICB9KTtcblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIHJldHVybiBmdW5jdGlvbiAoQmFzZUNvbXBvbmVudCkge1xuICAgICAgcmV0dXJuIHNldERpc3BsYXlOYW1lKHdyYXBEaXNwbGF5TmFtZShCYXNlQ29tcG9uZW50LCAnb25seVVwZGF0ZUZvcktleXMnKSkoaG9jKEJhc2VDb21wb25lbnQpKTtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIGhvYztcbn07XG5cbnZhciBvbmx5VXBkYXRlRm9yUHJvcFR5cGVzID0gZnVuY3Rpb24gb25seVVwZGF0ZUZvclByb3BUeXBlcyhCYXNlQ29tcG9uZW50KSB7XG4gIHZhciBwcm9wVHlwZXMgPSBCYXNlQ29tcG9uZW50LnByb3BUeXBlcztcblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGlmICghcHJvcFR5cGVzKSB7XG4gICAgICAvKiBlc2xpbnQtZGlzYWJsZSAqL1xuICAgICAgY29uc29sZS5lcnJvcignQSBjb21wb25lbnQgd2l0aG91dCBhbnkgYHByb3BUeXBlc2Agd2FzIHBhc3NlZCB0byAnICsgJ2Bvbmx5VXBkYXRlRm9yUHJvcFR5cGVzKClgLiBDaGVjayB0aGUgaW1wbGVtZW50YXRpb24gb2YgdGhlICcgKyAoXCJjb21wb25lbnQgd2l0aCBkaXNwbGF5IG5hbWUgXFxcIlwiICsgZ2V0RGlzcGxheU5hbWUoQmFzZUNvbXBvbmVudCkgKyBcIlxcXCIuXCIpKTtcbiAgICAgIC8qIGVzbGludC1lbmFibGUgKi9cbiAgICB9XG4gIH1cblxuICB2YXIgcHJvcEtleXMgPSBPYmplY3Qua2V5cyhwcm9wVHlwZXMgfHwge30pO1xuICB2YXIgT25seVVwZGF0ZUZvclByb3BUeXBlcyA9IG9ubHlVcGRhdGVGb3JLZXlzKHByb3BLZXlzKShCYXNlQ29tcG9uZW50KTtcblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIHJldHVybiBzZXREaXNwbGF5TmFtZSh3cmFwRGlzcGxheU5hbWUoQmFzZUNvbXBvbmVudCwgJ29ubHlVcGRhdGVGb3JQcm9wVHlwZXMnKSkoT25seVVwZGF0ZUZvclByb3BUeXBlcyk7XG4gIH1cblxuICByZXR1cm4gT25seVVwZGF0ZUZvclByb3BUeXBlcztcbn07XG5cbnZhciB3aXRoQ29udGV4dCA9IGZ1bmN0aW9uIHdpdGhDb250ZXh0KGNoaWxkQ29udGV4dFR5cGVzLCBnZXRDaGlsZENvbnRleHQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChCYXNlQ29tcG9uZW50KSB7XG4gICAgdmFyIGZhY3RvcnkgPSBjcmVhdGVGYWN0b3J5KEJhc2VDb21wb25lbnQpO1xuXG4gICAgdmFyIFdpdGhDb250ZXh0ID1cbiAgICAvKiNfX1BVUkVfXyovXG4gICAgZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgICAgIF9pbmhlcml0c0xvb3NlKFdpdGhDb250ZXh0LCBfQ29tcG9uZW50KTtcblxuICAgICAgZnVuY3Rpb24gV2l0aENvbnRleHQoKSB7XG4gICAgICAgIHZhciBfdGhpcztcblxuICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMgPSBfQ29tcG9uZW50LmNhbGwuYXBwbHkoX0NvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChhcmdzKSkgfHwgdGhpcztcblxuICAgICAgICBfdGhpcy5nZXRDaGlsZENvbnRleHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIGdldENoaWxkQ29udGV4dChfdGhpcy5wcm9wcyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgfVxuXG4gICAgICB2YXIgX3Byb3RvID0gV2l0aENvbnRleHQucHJvdG90eXBlO1xuXG4gICAgICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gZmFjdG9yeSh0aGlzLnByb3BzKTtcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBXaXRoQ29udGV4dDtcbiAgICB9KENvbXBvbmVudCk7XG5cbiAgICBXaXRoQ29udGV4dC5jaGlsZENvbnRleHRUeXBlcyA9IGNoaWxkQ29udGV4dFR5cGVzO1xuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHJldHVybiBzZXREaXNwbGF5TmFtZSh3cmFwRGlzcGxheU5hbWUoQmFzZUNvbXBvbmVudCwgJ3dpdGhDb250ZXh0JykpKFdpdGhDb250ZXh0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gV2l0aENvbnRleHQ7XG4gIH07XG59O1xuXG52YXIgZ2V0Q29udGV4dCA9IGZ1bmN0aW9uIGdldENvbnRleHQoY29udGV4dFR5cGVzKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoQmFzZUNvbXBvbmVudCkge1xuICAgIHZhciBmYWN0b3J5ID0gY3JlYXRlRmFjdG9yeShCYXNlQ29tcG9uZW50KTtcblxuICAgIHZhciBHZXRDb250ZXh0ID0gZnVuY3Rpb24gR2V0Q29udGV4dChvd25lclByb3BzLCBjb250ZXh0KSB7XG4gICAgICByZXR1cm4gZmFjdG9yeShfZXh0ZW5kcyh7fSwgb3duZXJQcm9wcywgY29udGV4dCkpO1xuICAgIH07XG5cbiAgICBHZXRDb250ZXh0LmNvbnRleHRUeXBlcyA9IGNvbnRleHRUeXBlcztcblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICByZXR1cm4gc2V0RGlzcGxheU5hbWUod3JhcERpc3BsYXlOYW1lKEJhc2VDb21wb25lbnQsICdnZXRDb250ZXh0JykpKEdldENvbnRleHQpO1xuICAgIH1cblxuICAgIHJldHVybiBHZXRDb250ZXh0O1xuICB9O1xufTtcblxudmFyIGxpZmVjeWNsZSA9IGZ1bmN0aW9uIGxpZmVjeWNsZShzcGVjKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoQmFzZUNvbXBvbmVudCkge1xuICAgIHZhciBmYWN0b3J5ID0gY3JlYXRlRmFjdG9yeShCYXNlQ29tcG9uZW50KTtcblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHNwZWMuaGFzT3duUHJvcGVydHkoJ3JlbmRlcicpKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdsaWZlY3ljbGUoKSBkb2VzIG5vdCBzdXBwb3J0IHRoZSByZW5kZXIgbWV0aG9kOyBpdHMgYmVoYXZpb3IgaXMgdG8gJyArICdwYXNzIGFsbCBwcm9wcyBhbmQgc3RhdGUgdG8gdGhlIGJhc2UgY29tcG9uZW50LicpO1xuICAgIH1cblxuICAgIHZhciBMaWZlY3ljbGUgPVxuICAgIC8qI19fUFVSRV9fKi9cbiAgICBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAgICAgX2luaGVyaXRzTG9vc2UoTGlmZWN5Y2xlLCBfQ29tcG9uZW50KTtcblxuICAgICAgZnVuY3Rpb24gTGlmZWN5Y2xlKCkge1xuICAgICAgICByZXR1cm4gX0NvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICB9XG5cbiAgICAgIHZhciBfcHJvdG8gPSBMaWZlY3ljbGUucHJvdG90eXBlO1xuXG4gICAgICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gZmFjdG9yeShfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcywgdGhpcy5zdGF0ZSkpO1xuICAgICAgfTtcblxuICAgICAgcmV0dXJuIExpZmVjeWNsZTtcbiAgICB9KENvbXBvbmVudCk7XG5cbiAgICBPYmplY3Qua2V5cyhzcGVjKS5mb3JFYWNoKGZ1bmN0aW9uIChob29rKSB7XG4gICAgICByZXR1cm4gTGlmZWN5Y2xlLnByb3RvdHlwZVtob29rXSA9IHNwZWNbaG9va107XG4gICAgfSk7XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgcmV0dXJuIHNldERpc3BsYXlOYW1lKHdyYXBEaXNwbGF5TmFtZShCYXNlQ29tcG9uZW50LCAnbGlmZWN5Y2xlJykpKExpZmVjeWNsZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIExpZmVjeWNsZTtcbiAgfTtcbn07XG5cbnZhciBpc0NsYXNzQ29tcG9uZW50ID0gZnVuY3Rpb24gaXNDbGFzc0NvbXBvbmVudChDb21wb25lbnQkJDEpIHtcbiAgcmV0dXJuIEJvb2xlYW4oQ29tcG9uZW50JCQxICYmIENvbXBvbmVudCQkMS5wcm90b3R5cGUgJiYgdHlwZW9mIENvbXBvbmVudCQkMS5wcm90b3R5cGUucmVuZGVyID09PSAnZnVuY3Rpb24nKTtcbn07XG5cbnZhciB0b0NsYXNzID0gZnVuY3Rpb24gdG9DbGFzcyhiYXNlQ29tcG9uZW50KSB7XG4gIHZhciBfY2xhc3MsIF90ZW1wO1xuXG4gIHJldHVybiBpc0NsYXNzQ29tcG9uZW50KGJhc2VDb21wb25lbnQpID8gYmFzZUNvbXBvbmVudCA6IChfdGVtcCA9IF9jbGFzcyA9XG4gIC8qI19fUFVSRV9fKi9cbiAgZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHNMb29zZShUb0NsYXNzLCBfQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIFRvQ2xhc3MoKSB7XG4gICAgICByZXR1cm4gX0NvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuXG4gICAgdmFyIF9wcm90byA9IFRvQ2xhc3MucHJvdG90eXBlO1xuXG4gICAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIGlmICh0eXBlb2YgYmFzZUNvbXBvbmVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoYmFzZUNvbXBvbmVudCwgdGhpcy5wcm9wcyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBiYXNlQ29tcG9uZW50KHRoaXMucHJvcHMsIHRoaXMuY29udGV4dCk7XG4gICAgfTtcblxuICAgIHJldHVybiBUb0NsYXNzO1xuICB9KENvbXBvbmVudCksIF9jbGFzcy5kaXNwbGF5TmFtZSA9IGdldERpc3BsYXlOYW1lKGJhc2VDb21wb25lbnQpLCBfY2xhc3MucHJvcFR5cGVzID0gYmFzZUNvbXBvbmVudC5wcm9wVHlwZXMsIF9jbGFzcy5jb250ZXh0VHlwZXMgPSBiYXNlQ29tcG9uZW50LmNvbnRleHRUeXBlcywgX2NsYXNzLmRlZmF1bHRQcm9wcyA9IGJhc2VDb21wb25lbnQuZGVmYXVsdFByb3BzLCBfdGVtcCk7XG59O1xuXG5mdW5jdGlvbiB0b1JlbmRlclByb3BzKGhvYykge1xuICB2YXIgUmVuZGVyUHJvcHNDb21wb25lbnQgPSBmdW5jdGlvbiBSZW5kZXJQcm9wc0NvbXBvbmVudChwcm9wcykge1xuICAgIHJldHVybiBwcm9wcy5jaGlsZHJlbihwcm9wcyk7XG4gIH07XG5cbiAgcmV0dXJuIGhvYyhSZW5kZXJQcm9wc0NvbXBvbmVudCk7XG59XG5cbnZhciBmcm9tUmVuZGVyUHJvcHMgPSBmdW5jdGlvbiBmcm9tUmVuZGVyUHJvcHMoUmVuZGVyUHJvcHNDb21wb25lbnQsIHByb3BzTWFwcGVyLCByZW5kZXJQcm9wTmFtZSkge1xuICBpZiAocmVuZGVyUHJvcE5hbWUgPT09IHZvaWQgMCkge1xuICAgIHJlbmRlclByb3BOYW1lID0gJ2NoaWxkcmVuJztcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoQmFzZUNvbXBvbmVudCkge1xuICAgIHZhciBiYXNlRmFjdG9yeSA9IFJlYWN0LmNyZWF0ZUZhY3RvcnkoQmFzZUNvbXBvbmVudCk7XG4gICAgdmFyIHJlbmRlclByb3BzRmFjdG9yeSA9IFJlYWN0LmNyZWF0ZUZhY3RvcnkoUmVuZGVyUHJvcHNDb21wb25lbnQpO1xuXG4gICAgdmFyIEZyb21SZW5kZXJQcm9wcyA9IGZ1bmN0aW9uIEZyb21SZW5kZXJQcm9wcyhvd25lclByb3BzKSB7XG4gICAgICB2YXIgX3JlbmRlclByb3BzRmFjdG9yeTtcblxuICAgICAgcmV0dXJuIHJlbmRlclByb3BzRmFjdG9yeSgoX3JlbmRlclByb3BzRmFjdG9yeSA9IHt9LCBfcmVuZGVyUHJvcHNGYWN0b3J5W3JlbmRlclByb3BOYW1lXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VGYWN0b3J5KF9leHRlbmRzKHt9LCBvd25lclByb3BzLCBwcm9wc01hcHBlci5hcHBseSh2b2lkIDAsIGFyZ3VtZW50cykpKTtcbiAgICAgIH0sIF9yZW5kZXJQcm9wc0ZhY3RvcnkpKTtcbiAgICB9O1xuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHJldHVybiBzZXREaXNwbGF5TmFtZSh3cmFwRGlzcGxheU5hbWUoQmFzZUNvbXBvbmVudCwgJ2Zyb21SZW5kZXJQcm9wcycpKShGcm9tUmVuZGVyUHJvcHMpO1xuICAgIH1cblxuICAgIHJldHVybiBGcm9tUmVuZGVyUHJvcHM7XG4gIH07XG59O1xuXG52YXIgc2V0UHJvcFR5cGVzID0gZnVuY3Rpb24gc2V0UHJvcFR5cGVzKHByb3BUeXBlcykge1xuICByZXR1cm4gc2V0U3RhdGljKCdwcm9wVHlwZXMnLCBwcm9wVHlwZXMpO1xufTtcblxudmFyIGNvbXBvc2UgPSBmdW5jdGlvbiBjb21wb3NlKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgZnVuY3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgZnVuY3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICByZXR1cm4gZnVuY3MucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBhKGIuYXBwbHkodm9pZCAwLCBhcmd1bWVudHMpKTtcbiAgICB9O1xuICB9LCBmdW5jdGlvbiAoYXJnKSB7XG4gICAgcmV0dXJuIGFyZztcbiAgfSk7XG59O1xuXG52YXIgY3JlYXRlU2luayA9IGZ1bmN0aW9uIGNyZWF0ZVNpbmsoY2FsbGJhY2spIHtcbiAgdmFyIFNpbmsgPVxuICAvKiNfX1BVUkVfXyovXG4gIGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzTG9vc2UoU2luaywgX0NvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBTaW5rKCkge1xuICAgICAgdmFyIF90aGlzO1xuXG4gICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMgPSBfQ29tcG9uZW50LmNhbGwuYXBwbHkoX0NvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChhcmdzKSkgfHwgdGhpcztcbiAgICAgIF90aGlzLnN0YXRlID0ge307XG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgU2luay5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPSBmdW5jdGlvbiBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICBjYWxsYmFjayhuZXh0UHJvcHMpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcblxuICAgIHZhciBfcHJvdG8gPSBTaW5rLnByb3RvdHlwZTtcblxuICAgIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFNpbms7XG4gIH0oQ29tcG9uZW50KTtcblxuICBwb2x5ZmlsbChTaW5rKTtcbiAgcmV0dXJuIFNpbms7XG59O1xuXG52YXIgY29tcG9uZW50RnJvbVByb3AgPSBmdW5jdGlvbiBjb21wb25lbnRGcm9tUHJvcChwcm9wTmFtZSkge1xuICB2YXIgQ29tcG9uZW50JCQxID0gZnVuY3Rpb24gQ29tcG9uZW50JCQxKHByb3BzKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQocHJvcHNbcHJvcE5hbWVdLCBvbWl0KHByb3BzLCBbcHJvcE5hbWVdKSk7XG4gIH07XG5cbiAgQ29tcG9uZW50JCQxLmRpc3BsYXlOYW1lID0gXCJjb21wb25lbnRGcm9tUHJvcChcIiArIHByb3BOYW1lICsgXCIpXCI7XG4gIHJldHVybiBDb21wb25lbnQkJDE7XG59O1xuXG52YXIgbmVzdCA9IGZ1bmN0aW9uIG5lc3QoKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBDb21wb25lbnRzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIENvbXBvbmVudHNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICB2YXIgZmFjdG9yaWVzID0gQ29tcG9uZW50cy5tYXAoY3JlYXRlRmFjdG9yeSk7XG5cbiAgdmFyIE5lc3QgPSBmdW5jdGlvbiBOZXN0KF9yZWYpIHtcbiAgICB2YXIgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuLFxuICAgICAgICBwcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9yZWYsIFtcImNoaWxkcmVuXCJdKTtcblxuICAgIHJldHVybiBmYWN0b3JpZXMucmVkdWNlUmlnaHQoZnVuY3Rpb24gKGNoaWxkLCBmYWN0b3J5KSB7XG4gICAgICByZXR1cm4gZmFjdG9yeShwcm9wcywgY2hpbGQpO1xuICAgIH0sIGNoaWxkcmVuKTtcbiAgfTtcblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIHZhciBkaXNwbGF5TmFtZXMgPSBDb21wb25lbnRzLm1hcChnZXREaXNwbGF5TmFtZSk7XG4gICAgTmVzdC5kaXNwbGF5TmFtZSA9IFwibmVzdChcIiArIGRpc3BsYXlOYW1lcy5qb2luKCcsICcpICsgXCIpXCI7XG4gIH1cblxuICByZXR1cm4gTmVzdDtcbn07XG5cbnZhciBob2lzdFN0YXRpY3MgPSBmdW5jdGlvbiBob2lzdFN0YXRpY3MoaGlnaGVyT3JkZXJDb21wb25lbnQsIGJsYWNrbGlzdCkge1xuICByZXR1cm4gZnVuY3Rpb24gKEJhc2VDb21wb25lbnQpIHtcbiAgICB2YXIgTmV3Q29tcG9uZW50ID0gaGlnaGVyT3JkZXJDb21wb25lbnQoQmFzZUNvbXBvbmVudCk7XG4gICAgaG9pc3ROb25SZWFjdFN0YXRpY3MoTmV3Q29tcG9uZW50LCBCYXNlQ29tcG9uZW50LCBibGFja2xpc3QpO1xuICAgIHJldHVybiBOZXdDb21wb25lbnQ7XG4gIH07XG59O1xuXG52YXIgX2NvbmZpZyA9IHtcbiAgZnJvbUVTT2JzZXJ2YWJsZTogbnVsbCxcbiAgdG9FU09ic2VydmFibGU6IG51bGxcbn07XG5cbnZhciBjb25maWd1cmVPYnNlcnZhYmxlID0gZnVuY3Rpb24gY29uZmlndXJlT2JzZXJ2YWJsZShjKSB7XG4gIF9jb25maWcgPSBjO1xufTtcblxudmFyIGNvbmZpZyA9IHtcbiAgZnJvbUVTT2JzZXJ2YWJsZTogZnVuY3Rpb24gZnJvbUVTT2JzZXJ2YWJsZShvYnNlcnZhYmxlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBfY29uZmlnLmZyb21FU09ic2VydmFibGUgPT09ICdmdW5jdGlvbicgPyBfY29uZmlnLmZyb21FU09ic2VydmFibGUob2JzZXJ2YWJsZSkgOiBvYnNlcnZhYmxlO1xuICB9LFxuICB0b0VTT2JzZXJ2YWJsZTogZnVuY3Rpb24gdG9FU09ic2VydmFibGUoc3RyZWFtKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBfY29uZmlnLnRvRVNPYnNlcnZhYmxlID09PSAnZnVuY3Rpb24nID8gX2NvbmZpZy50b0VTT2JzZXJ2YWJsZShzdHJlYW0pIDogc3RyZWFtO1xuICB9XG59O1xuXG52YXIgY29tcG9uZW50RnJvbVN0cmVhbVdpdGhDb25maWcgPSBmdW5jdGlvbiBjb21wb25lbnRGcm9tU3RyZWFtV2l0aENvbmZpZyhjb25maWckJDEpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChwcm9wc1RvVmRvbSkge1xuICAgIHJldHVybiAoXG4gICAgICAvKiNfX1BVUkVfXyovXG4gICAgICBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAgICAgICBfaW5oZXJpdHNMb29zZShDb21wb25lbnRGcm9tU3RyZWFtLCBfQ29tcG9uZW50KTtcblxuICAgICAgICBmdW5jdGlvbiBDb21wb25lbnRGcm9tU3RyZWFtKCkge1xuICAgICAgICAgIHZhciBfY29uZmlnJGZyb21FU09ic2VydmE7XG5cbiAgICAgICAgICB2YXIgX3RoaXM7XG5cbiAgICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX3RoaXMgPSBfQ29tcG9uZW50LmNhbGwuYXBwbHkoX0NvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChhcmdzKSkgfHwgdGhpcztcbiAgICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIHZkb206IG51bGxcbiAgICAgICAgICB9O1xuICAgICAgICAgIF90aGlzLnByb3BzRW1pdHRlciA9IGNyZWF0ZUNoYW5nZUVtaXR0ZXIoKTtcbiAgICAgICAgICBfdGhpcy5wcm9wcyQgPSBjb25maWckJDEuZnJvbUVTT2JzZXJ2YWJsZSgoX2NvbmZpZyRmcm9tRVNPYnNlcnZhID0ge1xuICAgICAgICAgICAgc3Vic2NyaWJlOiBmdW5jdGlvbiBzdWJzY3JpYmUob2JzZXJ2ZXIpIHtcbiAgICAgICAgICAgICAgdmFyIHVuc3Vic2NyaWJlID0gX3RoaXMucHJvcHNFbWl0dGVyLmxpc3RlbihmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgICAgICAgICBpZiAocHJvcHMpIHtcbiAgICAgICAgICAgICAgICAgIG9ic2VydmVyLm5leHQocHJvcHMpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBvYnNlcnZlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1bnN1YnNjcmliZTogdW5zdWJzY3JpYmVcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCBfY29uZmlnJGZyb21FU09ic2VydmFbJCRvYnNlcnZhYmxlXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgIH0sIF9jb25maWckZnJvbUVTT2JzZXJ2YSkpO1xuICAgICAgICAgIF90aGlzLnZkb20kID0gY29uZmlnJCQxLnRvRVNPYnNlcnZhYmxlKHByb3BzVG9WZG9tKF90aGlzLnByb3BzJCkpO1xuICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBfcHJvdG8gPSBDb21wb25lbnRGcm9tU3RyZWFtLnByb3RvdHlwZTtcblxuICAgICAgICBfcHJvdG8uY29tcG9uZW50V2lsbE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgLy8gU3Vic2NyaWJlIHRvIGNoaWxkIHByb3AgY2hhbmdlcyBzbyB3ZSBrbm93IHdoZW4gdG8gcmUtcmVuZGVyXG4gICAgICAgICAgdGhpcy5zdWJzY3JpcHRpb24gPSB0aGlzLnZkb20kLnN1YnNjcmliZSh7XG4gICAgICAgICAgICBuZXh0OiBmdW5jdGlvbiBuZXh0KHZkb20pIHtcbiAgICAgICAgICAgICAgX3RoaXMyLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICB2ZG9tOiB2ZG9tXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHRoaXMucHJvcHNFbWl0dGVyLmVtaXQodGhpcy5wcm9wcyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgX3Byb3RvLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgICAgIC8vIFJlY2VpdmUgbmV3IHByb3BzIGZyb20gdGhlIG93bmVyXG4gICAgICAgICAgdGhpcy5wcm9wc0VtaXR0ZXIuZW1pdChuZXh0UHJvcHMpO1xuICAgICAgICB9O1xuXG4gICAgICAgIF9wcm90by5zaG91bGRDb21wb25lbnRVcGRhdGUgPSBmdW5jdGlvbiBzaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzLCBuZXh0U3RhdGUpIHtcbiAgICAgICAgICByZXR1cm4gbmV4dFN0YXRlLnZkb20gIT09IHRoaXMuc3RhdGUudmRvbTtcbiAgICAgICAgfTtcblxuICAgICAgICBfcHJvdG8uY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgICAvLyBDYWxsIHdpdGhvdXQgYXJndW1lbnRzIHRvIGNvbXBsZXRlIHN0cmVhbVxuICAgICAgICAgIHRoaXMucHJvcHNFbWl0dGVyLmVtaXQoKTsgLy8gQ2xlYW4tdXAgc3Vic2NyaXB0aW9uIGJlZm9yZSB1bi1tb3VudGluZ1xuXG4gICAgICAgICAgdGhpcy5zdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfTtcblxuICAgICAgICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLnN0YXRlLnZkb207XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIENvbXBvbmVudEZyb21TdHJlYW07XG4gICAgICB9KENvbXBvbmVudClcbiAgICApO1xuICB9O1xufTtcblxudmFyIGNvbXBvbmVudEZyb21TdHJlYW0gPSBmdW5jdGlvbiBjb21wb25lbnRGcm9tU3RyZWFtKHByb3BzVG9WZG9tKSB7XG4gIHJldHVybiBjb21wb25lbnRGcm9tU3RyZWFtV2l0aENvbmZpZyhjb25maWcpKHByb3BzVG9WZG9tKTtcbn07XG5cbnZhciBpZGVudGl0eSQxID0gZnVuY3Rpb24gaWRlbnRpdHkodCkge1xuICByZXR1cm4gdDtcbn07XG5cbnZhciBtYXBQcm9wc1N0cmVhbVdpdGhDb25maWcgPSBmdW5jdGlvbiBtYXBQcm9wc1N0cmVhbVdpdGhDb25maWcoY29uZmlnJCQxKSB7XG4gIHZhciBjb21wb25lbnRGcm9tU3RyZWFtJCQxID0gY29tcG9uZW50RnJvbVN0cmVhbVdpdGhDb25maWcoe1xuICAgIGZyb21FU09ic2VydmFibGU6IGlkZW50aXR5JDEsXG4gICAgdG9FU09ic2VydmFibGU6IGlkZW50aXR5JDFcbiAgfSk7XG4gIHJldHVybiBmdW5jdGlvbiAodHJhbnNmb3JtKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChCYXNlQ29tcG9uZW50KSB7XG4gICAgICB2YXIgZmFjdG9yeSA9IGNyZWF0ZUZhY3RvcnkoQmFzZUNvbXBvbmVudCk7XG4gICAgICB2YXIgZnJvbUVTT2JzZXJ2YWJsZSA9IGNvbmZpZyQkMS5mcm9tRVNPYnNlcnZhYmxlLFxuICAgICAgICAgIHRvRVNPYnNlcnZhYmxlID0gY29uZmlnJCQxLnRvRVNPYnNlcnZhYmxlO1xuICAgICAgcmV0dXJuIGNvbXBvbmVudEZyb21TdHJlYW0kJDEoZnVuY3Rpb24gKHByb3BzJCkge1xuICAgICAgICB2YXIgX3JlZjtcblxuICAgICAgICByZXR1cm4gX3JlZiA9IHtcbiAgICAgICAgICBzdWJzY3JpYmU6IGZ1bmN0aW9uIHN1YnNjcmliZShvYnNlcnZlcikge1xuICAgICAgICAgICAgdmFyIHN1YnNjcmlwdGlvbiA9IHRvRVNPYnNlcnZhYmxlKHRyYW5zZm9ybShmcm9tRVNPYnNlcnZhYmxlKHByb3BzJCkpKS5zdWJzY3JpYmUoe1xuICAgICAgICAgICAgICBuZXh0OiBmdW5jdGlvbiBuZXh0KGNoaWxkUHJvcHMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JzZXJ2ZXIubmV4dChmYWN0b3J5KGNoaWxkUHJvcHMpKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICB1bnN1YnNjcmliZTogZnVuY3Rpb24gdW5zdWJzY3JpYmUoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgX3JlZlskJG9ic2VydmFibGVdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LCBfcmVmO1xuICAgICAgfSk7XG4gICAgfTtcbiAgfTtcbn07XG5cbnZhciBtYXBQcm9wc1N0cmVhbSA9IGZ1bmN0aW9uIG1hcFByb3BzU3RyZWFtKHRyYW5zZm9ybSkge1xuICB2YXIgaG9jID0gbWFwUHJvcHNTdHJlYW1XaXRoQ29uZmlnKGNvbmZpZykodHJhbnNmb3JtKTtcblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIHJldHVybiBmdW5jdGlvbiAoQmFzZUNvbXBvbmVudCkge1xuICAgICAgcmV0dXJuIHNldERpc3BsYXlOYW1lKHdyYXBEaXNwbGF5TmFtZShCYXNlQ29tcG9uZW50LCAnbWFwUHJvcHNTdHJlYW0nKSkoaG9jKEJhc2VDb21wb25lbnQpKTtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIGhvYztcbn07XG5cbnZhciBjcmVhdGVFdmVudEhhbmRsZXJXaXRoQ29uZmlnID0gZnVuY3Rpb24gY3JlYXRlRXZlbnRIYW5kbGVyV2l0aENvbmZpZyhjb25maWckJDEpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2NvbmZpZyRmcm9tRVNPYnNlcnZhO1xuXG4gICAgdmFyIGVtaXR0ZXIgPSBjcmVhdGVDaGFuZ2VFbWl0dGVyKCk7XG4gICAgdmFyIHN0cmVhbSA9IGNvbmZpZyQkMS5mcm9tRVNPYnNlcnZhYmxlKChfY29uZmlnJGZyb21FU09ic2VydmEgPSB7XG4gICAgICBzdWJzY3JpYmU6IGZ1bmN0aW9uIHN1YnNjcmliZShvYnNlcnZlcikge1xuICAgICAgICB2YXIgdW5zdWJzY3JpYmUgPSBlbWl0dGVyLmxpc3RlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gb2JzZXJ2ZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHVuc3Vic2NyaWJlOiB1bnN1YnNjcmliZVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0sIF9jb25maWckZnJvbUVTT2JzZXJ2YVskJG9ic2VydmFibGVdID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSwgX2NvbmZpZyRmcm9tRVNPYnNlcnZhKSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGhhbmRsZXI6IGVtaXR0ZXIuZW1pdCxcbiAgICAgIHN0cmVhbTogc3RyZWFtXG4gICAgfTtcbiAgfTtcbn07XG52YXIgY3JlYXRlRXZlbnRIYW5kbGVyID0gY3JlYXRlRXZlbnRIYW5kbGVyV2l0aENvbmZpZyhjb25maWcpO1xuXG4vLyBIaWdoZXItb3JkZXIgY29tcG9uZW50IGhlbHBlcnNcblxuZXhwb3J0IHsgbWFwUHJvcHMsIHdpdGhQcm9wcywgd2l0aFByb3BzT25DaGFuZ2UsIHdpdGhIYW5kbGVycywgZGVmYXVsdFByb3BzLCByZW5hbWVQcm9wLCByZW5hbWVQcm9wcywgZmxhdHRlblByb3AsIHdpdGhTdGF0ZSwgd2l0aFN0YXRlSGFuZGxlcnMsIHdpdGhSZWR1Y2VyLCBicmFuY2gsIHJlbmRlckNvbXBvbmVudCwgcmVuZGVyTm90aGluZywgc2hvdWxkVXBkYXRlLCBwdXJlLCBvbmx5VXBkYXRlRm9yS2V5cywgb25seVVwZGF0ZUZvclByb3BUeXBlcywgd2l0aENvbnRleHQsIGdldENvbnRleHQsIGxpZmVjeWNsZSwgdG9DbGFzcywgdG9SZW5kZXJQcm9wcywgZnJvbVJlbmRlclByb3BzLCBzZXRTdGF0aWMsIHNldFByb3BUeXBlcywgc2V0RGlzcGxheU5hbWUsIGNvbXBvc2UsIGdldERpc3BsYXlOYW1lLCB3cmFwRGlzcGxheU5hbWUsIHNoYWxsb3dFcXVhbCwgaXNDbGFzc0NvbXBvbmVudCwgY3JlYXRlU2luaywgY29tcG9uZW50RnJvbVByb3AsIG5lc3QsIGhvaXN0U3RhdGljcywgY29tcG9uZW50RnJvbVN0cmVhbSwgY29tcG9uZW50RnJvbVN0cmVhbVdpdGhDb25maWcsIG1hcFByb3BzU3RyZWFtLCBtYXBQcm9wc1N0cmVhbVdpdGhDb25maWcsIGNyZWF0ZUV2ZW50SGFuZGxlciwgY3JlYXRlRXZlbnRIYW5kbGVyV2l0aENvbmZpZywgY29uZmlndXJlT2JzZXJ2YWJsZSBhcyBzZXRPYnNlcnZhYmxlQ29uZmlnIH07XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIGdldERpc3BsYXlOYW1lID0gZnVuY3Rpb24gZ2V0RGlzcGxheU5hbWUoQ29tcG9uZW50KSB7XG4gIGlmICh0eXBlb2YgQ29tcG9uZW50ID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBDb21wb25lbnQ7XG4gIH1cblxuICBpZiAoIUNvbXBvbmVudCkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICByZXR1cm4gQ29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IENvbXBvbmVudC5uYW1lIHx8ICdDb21wb25lbnQnO1xufTtcblxudmFyIF9kZWZhdWx0ID0gZ2V0RGlzcGxheU5hbWU7XG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDsiLCIvKiBnbG9iYWwgd2luZG93ICovXG5pbXBvcnQgcG9ueWZpbGwgZnJvbSAnLi9wb255ZmlsbC5qcyc7XG5cbnZhciByb290O1xuXG5pZiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnKSB7XG4gIHJvb3QgPSBzZWxmO1xufSBlbHNlIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICByb290ID0gd2luZG93O1xufSBlbHNlIGlmICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJykge1xuICByb290ID0gZ2xvYmFsO1xufSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJykge1xuICByb290ID0gbW9kdWxlO1xufSBlbHNlIHtcbiAgcm9vdCA9IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG59XG5cbnZhciByZXN1bHQgPSBwb255ZmlsbChyb290KTtcbmV4cG9ydCBkZWZhdWx0IHJlc3VsdDtcbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHN5bWJvbE9ic2VydmFibGVQb255ZmlsbChyb290KSB7XG5cdHZhciByZXN1bHQ7XG5cdHZhciBTeW1ib2wgPSByb290LlN5bWJvbDtcblxuXHRpZiAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdGlmIChTeW1ib2wub2JzZXJ2YWJsZSkge1xuXHRcdFx0cmVzdWx0ID0gU3ltYm9sLm9ic2VydmFibGU7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJlc3VsdCA9IFN5bWJvbCgnb2JzZXJ2YWJsZScpO1xuXHRcdFx0U3ltYm9sLm9ic2VydmFibGUgPSByZXN1bHQ7XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdHJlc3VsdCA9ICdAQG9ic2VydmFibGUnO1xuXHR9XG5cblx0cmV0dXJuIHJlc3VsdDtcbn07XG4iLCJ2YXIgcmVnID0gL1tcXCdcXFwiXS9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB1bnF1b3RlKHN0cikge1xuICBpZiAoIXN0cikge1xuICAgIHJldHVybiAnJ1xuICB9XG4gIGlmIChyZWcudGVzdChzdHIuY2hhckF0KDApKSkge1xuICAgIHN0ciA9IHN0ci5zdWJzdHIoMSlcbiAgfVxuICBpZiAocmVnLnRlc3Qoc3RyLmNoYXJBdChzdHIubGVuZ3RoIC0gMSkpKSB7XG4gICAgc3RyID0gc3RyLnN1YnN0cigwLCBzdHIubGVuZ3RoIC0gMSlcbiAgfVxuICByZXR1cm4gc3RyXG59XG4iLCJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iXSwic291cmNlUm9vdCI6IiJ9