(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["vendors~index~utils"],{

/***/ "./node_modules/@babel/runtime/helpers/esm/extends.js":
/*!************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/esm/extends.js ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _extends; });
function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js":
/*!******************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _inheritsLoose; });
function _inheritsLoose(subClass, superClass) {
  subClass.prototype = Object.create(superClass.prototype);
  subClass.prototype.constructor = subClass;
  subClass.__proto__ = superClass;
}

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js ***!
  \*********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _objectWithoutPropertiesLoose; });
function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;

  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }

  return target;
}

/***/ }),

/***/ "./node_modules/@emotion/is-prop-valid/dist/is-prop-valid.browser.esm.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@emotion/is-prop-valid/dist/is-prop-valid.browser.esm.js ***!
  \*******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _emotion_memoize__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @emotion/memoize */ "./node_modules/@emotion/memoize/dist/memoize.browser.esm.js");


var reactPropsRegex = /^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/; // https://esbench.com/bench/5bfee68a4cd7e6009ef61d23

var index = Object(_emotion_memoize__WEBPACK_IMPORTED_MODULE_0__["default"])(function (prop) {
  return reactPropsRegex.test(prop) || prop.charCodeAt(0) === 111
  /* o */
  && prop.charCodeAt(1) === 110
  /* n */
  && prop.charCodeAt(2) < 91;
}
/* Z+1 */
);

/* harmony default export */ __webpack_exports__["default"] = (index);


/***/ }),

/***/ "./node_modules/@emotion/memoize/dist/memoize.browser.esm.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@emotion/memoize/dist/memoize.browser.esm.js ***!
  \*******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
function memoize(fn) {
  var cache = {};
  return function (arg) {
    if (cache[arg] === undefined) cache[arg] = fn(arg);
    return cache[arg];
  };
}

/* harmony default export */ __webpack_exports__["default"] = (memoize);


/***/ }),

/***/ "./node_modules/@emotion/unitless/dist/unitless.browser.esm.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@emotion/unitless/dist/unitless.browser.esm.js ***!
  \*********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
var unitlessKeys = {
  animationIterationCount: 1,
  borderImageOutset: 1,
  borderImageSlice: 1,
  borderImageWidth: 1,
  boxFlex: 1,
  boxFlexGroup: 1,
  boxOrdinalGroup: 1,
  columnCount: 1,
  columns: 1,
  flex: 1,
  flexGrow: 1,
  flexPositive: 1,
  flexShrink: 1,
  flexNegative: 1,
  flexOrder: 1,
  gridRow: 1,
  gridRowEnd: 1,
  gridRowSpan: 1,
  gridRowStart: 1,
  gridColumn: 1,
  gridColumnEnd: 1,
  gridColumnSpan: 1,
  gridColumnStart: 1,
  msGridRow: 1,
  msGridRowSpan: 1,
  msGridColumn: 1,
  msGridColumnSpan: 1,
  fontWeight: 1,
  lineHeight: 1,
  opacity: 1,
  order: 1,
  orphans: 1,
  tabSize: 1,
  widows: 1,
  zIndex: 1,
  zoom: 1,
  WebkitLineClamp: 1,
  // SVG-related properties
  fillOpacity: 1,
  floodOpacity: 1,
  stopOpacity: 1,
  strokeDasharray: 1,
  strokeDashoffset: 1,
  strokeMiterlimit: 1,
  strokeOpacity: 1,
  strokeWidth: 1
};

/* harmony default export */ __webpack_exports__["default"] = (unitlessKeys);


/***/ }),

/***/ "./node_modules/change-emitter/lib/index.js":
/*!**************************************************!*\
  !*** ./node_modules/change-emitter/lib/index.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
var createChangeEmitter = exports.createChangeEmitter = function createChangeEmitter() {
  var currentListeners = [];
  var nextListeners = currentListeners;

  function ensureCanMutateNextListeners() {
    if (nextListeners === currentListeners) {
      nextListeners = currentListeners.slice();
    }
  }

  function listen(listener) {
    if (typeof listener !== 'function') {
      throw new Error('Expected listener to be a function.');
    }

    var isSubscribed = true;

    ensureCanMutateNextListeners();
    nextListeners.push(listener);

    return function () {
      if (!isSubscribed) {
        return;
      }

      isSubscribed = false;

      ensureCanMutateNextListeners();
      var index = nextListeners.indexOf(listener);
      nextListeners.splice(index, 1);
    };
  }

  function emit() {
    currentListeners = nextListeners;
    var listeners = currentListeners;
    for (var i = 0; i < listeners.length; i++) {
      listeners[i].apply(listeners, arguments);
    }
  }

  return {
    listen: listen,
    emit: emit
  };
};

/***/ }),

/***/ "./node_modules/fbjs/lib/shallowEqual.js":
/*!***********************************************!*\
  !*** ./node_modules/fbjs/lib/shallowEqual.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 * 
 */

/*eslint-disable no-self-compare */



var hasOwnProperty = Object.prototype.hasOwnProperty;

/**
 * inlined Object.is polyfill to avoid requiring consumers ship their own
 * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is
 */
function is(x, y) {
  // SameValue algorithm
  if (x === y) {
    // Steps 1-5, 7-10
    // Steps 6.b-6.e: +0 != -0
    // Added the nonzero y check to make Flow happy, but it is redundant
    return x !== 0 || y !== 0 || 1 / x === 1 / y;
  } else {
    // Step 6.a: NaN == NaN
    return x !== x && y !== y;
  }
}

/**
 * Performs equality by iterating through keys on an object and returning false
 * when any key has values which are not strictly equal between the arguments.
 * Returns true when the values of all keys are strictly equal.
 */
function shallowEqual(objA, objB) {
  if (is(objA, objB)) {
    return true;
  }

  if (typeof objA !== 'object' || objA === null || typeof objB !== 'object' || objB === null) {
    return false;
  }

  var keysA = Object.keys(objA);
  var keysB = Object.keys(objB);

  if (keysA.length !== keysB.length) {
    return false;
  }

  // Test for A's keys different from B.
  for (var i = 0; i < keysA.length; i++) {
    if (!hasOwnProperty.call(objB, keysA[i]) || !is(objA[keysA[i]], objB[keysA[i]])) {
      return false;
    }
  }

  return true;
}

module.exports = shallowEqual;

/***/ }),

/***/ "./node_modules/grommet-icons/StyledIcon.js":
/*!**************************************************!*\
  !*** ./node_modules/grommet-icons/StyledIcon.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
exports.StyledIcon = void 0;

var _react = _interopRequireDefault(__webpack_require__(/*! react */ "./node_modules/react/index.js"));

var _styledComponents = _interopRequireWildcard(__webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js"));

var _grommetStyles = __webpack_require__(/*! grommet-styles */ "./node_modules/grommet-styles/es6/index.js");

var _defaultProps = __webpack_require__(/*! ./default-props */ "./node_modules/grommet-icons/default-props.js");

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj["default"] = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

var colorCss = (0, _styledComponents.css)(["", " ", " g{fill:inherit;stroke:inherit;}*:not([stroke]){&[fill=\"none\"]{stroke-width:0;}}*[stroke*=\"#\"],*[STROKE*=\"#\"]{stroke:inherit;fill:none;}*[fill-rule],*[FILL-RULE],*[fill*=\"#\"],*[FILL*=\"#\"]{fill:inherit;stroke:none;}"], function (props) {
  return (0, _grommetStyles.colorStyle)('fill', props.color || props.theme.global.colors.icon, props.theme);
}, function (props) {
  return (0, _grommetStyles.colorStyle)('stroke', props.color || props.theme.global.colors.icon, props.theme);
});

var IconInner = function IconInner(_ref) {
  var a11yTitle = _ref.a11yTitle,
      color = _ref.color,
      size = _ref.size,
      theme = _ref.theme,
      rest = _objectWithoutPropertiesLoose(_ref, ["a11yTitle", "color", "size", "theme"]);

  return _react["default"].createElement("svg", _extends({
    "aria-label": a11yTitle
  }, rest));
};

IconInner.displayName = 'Icon';
var StyledIcon = (0, _styledComponents["default"])(IconInner).withConfig({
  displayName: "StyledIcon",
  componentId: "ofa7kd-0"
})(["display:inline-block;flex:0 0 auto;", " ", " ", ""], function (_ref2) {
  var _ref2$size = _ref2.size,
      size = _ref2$size === void 0 ? 'medium' : _ref2$size,
      theme = _ref2.theme;
  return "\n    width: " + (theme.icon.size[size] || size) + ";\n    height: " + (theme.icon.size[size] || size) + ";\n  ";
}, function (_ref3) {
  var color = _ref3.color;
  return color !== 'plain' && colorCss;
}, function (_ref4) {
  var theme = _ref4.theme;
  return theme && theme.icon.extend;
});
exports.StyledIcon = StyledIcon;
StyledIcon.defaultProps = {};
Object.setPrototypeOf(StyledIcon.defaultProps, _defaultProps.defaultProps);

/***/ }),

/***/ "./node_modules/grommet-icons/default-props.js":
/*!*****************************************************!*\
  !*** ./node_modules/grommet-icons/default-props.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
exports.extendDefaultTheme = exports.defaultProps = void 0;

var _utils = __webpack_require__(/*! ./utils */ "./node_modules/grommet-icons/utils.js");

var _themes = __webpack_require__(/*! ./themes */ "./node_modules/grommet-icons/themes/index.js");

var defaultProps = {
  theme: _themes.base
};
exports.defaultProps = defaultProps;

var extendDefaultTheme = function extendDefaultTheme(theme) {
  defaultProps.theme = (0, _utils.deepMerge)(_themes.base, theme);
};

exports.extendDefaultTheme = extendDefaultTheme;

/***/ }),

/***/ "./node_modules/grommet-icons/icons/Actions.js":
/*!*****************************************************!*\
  !*** ./node_modules/grommet-icons/icons/Actions.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
exports.Actions = void 0;

var _react = _interopRequireDefault(__webpack_require__(/*! react */ "./node_modules/react/index.js"));

var _StyledIcon = __webpack_require__(/*! ../StyledIcon */ "./node_modules/grommet-icons/StyledIcon.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var Actions = function Actions(props) {
  return _react["default"].createElement(_StyledIcon.StyledIcon, _extends({
    viewBox: "0 0 24 24",
    a11yTitle: "Actions"
  }, props), _react["default"].createElement("path", {
    fill: "none",
    stroke: "#000",
    strokeWidth: "2",
    d: "M12,17.5 C15.0375661,17.5 17.5,15.0375661 17.5,12 C17.5,8.96243388 15.0375661,6.5 12,6.5 C8.96243388,6.5 6.5,8.96243388 6.5,12 C6.5,15.0375661 8.96243388,17.5 12,17.5 Z M12,6.5 L12,1 M12,23 L12,17.5 M1,12 L6.5,12 M17.5,12 L23,12 M4.4375,4.4375 L8.5625,8.5625 M15.4375,15.4375 L19.5625,19.5625 M19.5625,4.4375 L15.4375,8.5625 M8.5625,15.4375 L4.4375,19.5625"
  }));
};

exports.Actions = Actions;

/***/ }),

/***/ "./node_modules/grommet-icons/icons/ClosedCaption.js":
/*!***********************************************************!*\
  !*** ./node_modules/grommet-icons/icons/ClosedCaption.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
exports.ClosedCaption = void 0;

var _react = _interopRequireDefault(__webpack_require__(/*! react */ "./node_modules/react/index.js"));

var _StyledIcon = __webpack_require__(/*! ../StyledIcon */ "./node_modules/grommet-icons/StyledIcon.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var ClosedCaption = function ClosedCaption(props) {
  return _react["default"].createElement(_StyledIcon.StyledIcon, _extends({
    viewBox: "0 0 24 24",
    a11yTitle: "ClosedCaption"
  }, props), _react["default"].createElement("path", {
    fill: "none",
    stroke: "#000",
    strokeWidth: "2",
    d: "M1,12 C1,5 2.5,4 12,4 C21.5,4 23,5 23,12 C23,19 21.5,20 12,20 C2.5,20 1,19 1,12 Z M5.25,14 C5.25,15.5 6,16 7.75,16 C9.5,16 10.25,15.5 10.25,14 L9.97861679,14 C9.97861671,15.25 8.97905547,16 7.75,16 C6.52094453,16 5.52138329,15.25 5.52138321,14 L5.52138321,10 C5.5,8.75 6.5,8 7.75,8 C9,8 10,8.75 9.97861679,10 L10.25,10 C10.25,8.75 9.2286998,8 7.75,8 C6.2713002,8 5.25,8.75 5.25,10 L5.25,14 Z M13.25,14 C13.25,15.5 14,16 15.75,16 C17.5,16 18.25,15.5 18.25,14 L17.9786168,14 C17.9786167,15.25 16.9790555,16 15.75,16 C14.5209445,16 13.5213833,15.25 13.5213832,14 L13.5213832,10 C13.5,8.75 14.5,8 15.75,8 C17,8 18,8.75 17.9786168,10 L18.25,10 C18.25,8.75 17.2286998,8 15.75,8 C14.2713002,8 13.25,8.75 13.25,10 L13.25,14 Z"
  }));
};

exports.ClosedCaption = ClosedCaption;

/***/ }),

/***/ "./node_modules/grommet-icons/icons/Expand.js":
/*!****************************************************!*\
  !*** ./node_modules/grommet-icons/icons/Expand.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
exports.Expand = void 0;

var _react = _interopRequireDefault(__webpack_require__(/*! react */ "./node_modules/react/index.js"));

var _StyledIcon = __webpack_require__(/*! ../StyledIcon */ "./node_modules/grommet-icons/StyledIcon.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var Expand = function Expand(props) {
  return _react["default"].createElement(_StyledIcon.StyledIcon, _extends({
    viewBox: "0 0 24 24",
    a11yTitle: "Expand"
  }, props), _react["default"].createElement("path", {
    fill: "none",
    stroke: "#000",
    strokeWidth: "2",
    d: "M10,14 L2,22 M1,15 L1,23 L9,23 M22,2 L14,10 M15,1 L23,1 L23,9"
  }));
};

exports.Expand = Expand;

/***/ }),

/***/ "./node_modules/grommet-icons/icons/FormDown.js":
/*!******************************************************!*\
  !*** ./node_modules/grommet-icons/icons/FormDown.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
exports.FormDown = void 0;

var _react = _interopRequireDefault(__webpack_require__(/*! react */ "./node_modules/react/index.js"));

var _StyledIcon = __webpack_require__(/*! ../StyledIcon */ "./node_modules/grommet-icons/StyledIcon.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var FormDown = function FormDown(props) {
  return _react["default"].createElement(_StyledIcon.StyledIcon, _extends({
    viewBox: "0 0 24 24",
    a11yTitle: "FormDown"
  }, props), _react["default"].createElement("polyline", {
    fill: "none",
    stroke: "#000",
    strokeWidth: "2",
    points: "18 9 12 15 6 9"
  }));
};

exports.FormDown = FormDown;

/***/ }),

/***/ "./node_modules/grommet-icons/icons/FormNext.js":
/*!******************************************************!*\
  !*** ./node_modules/grommet-icons/icons/FormNext.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
exports.FormNext = void 0;

var _react = _interopRequireDefault(__webpack_require__(/*! react */ "./node_modules/react/index.js"));

var _StyledIcon = __webpack_require__(/*! ../StyledIcon */ "./node_modules/grommet-icons/StyledIcon.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var FormNext = function FormNext(props) {
  return _react["default"].createElement(_StyledIcon.StyledIcon, _extends({
    viewBox: "0 0 24 24",
    a11yTitle: "FormNext"
  }, props), _react["default"].createElement("polyline", {
    fill: "none",
    stroke: "#000",
    strokeWidth: "2",
    points: "9 6 15 12 9 18"
  }));
};

exports.FormNext = FormNext;

/***/ }),

/***/ "./node_modules/grommet-icons/icons/FormPrevious.js":
/*!**********************************************************!*\
  !*** ./node_modules/grommet-icons/icons/FormPrevious.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
exports.FormPrevious = void 0;

var _react = _interopRequireDefault(__webpack_require__(/*! react */ "./node_modules/react/index.js"));

var _StyledIcon = __webpack_require__(/*! ../StyledIcon */ "./node_modules/grommet-icons/StyledIcon.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var FormPrevious = function FormPrevious(props) {
  return _react["default"].createElement(_StyledIcon.StyledIcon, _extends({
    viewBox: "0 0 24 24",
    a11yTitle: "FormPrevious"
  }, props), _react["default"].createElement("polyline", {
    fill: "none",
    stroke: "#000",
    strokeWidth: "2",
    points: "9 6 15 12 9 18",
    transform: "matrix(-1 0 0 1 24 0)"
  }));
};

exports.FormPrevious = FormPrevious;

/***/ }),

/***/ "./node_modules/grommet-icons/icons/FormSearch.js":
/*!********************************************************!*\
  !*** ./node_modules/grommet-icons/icons/FormSearch.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
exports.FormSearch = void 0;

var _react = _interopRequireDefault(__webpack_require__(/*! react */ "./node_modules/react/index.js"));

var _StyledIcon = __webpack_require__(/*! ../StyledIcon */ "./node_modules/grommet-icons/StyledIcon.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var FormSearch = function FormSearch(props) {
  return _react["default"].createElement(_StyledIcon.StyledIcon, _extends({
    viewBox: "0 0 24 24",
    a11yTitle: "FormSearch"
  }, props), _react["default"].createElement("path", {
    fill: "none",
    stroke: "#000",
    strokeWidth: "2",
    d: "M13.8,13.8 L18,18 L13.8,13.8 Z M10.5,15 C12.9852814,15 15,12.9852814 15,10.5 C15,8.01471863 12.9852814,6 10.5,6 C8.01471863,6 6,8.01471863 6,10.5 C6,12.9852814 8.01471863,15 10.5,15 Z"
  }));
};

exports.FormSearch = FormSearch;

/***/ }),

/***/ "./node_modules/grommet-icons/icons/FormUp.js":
/*!****************************************************!*\
  !*** ./node_modules/grommet-icons/icons/FormUp.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
exports.FormUp = void 0;

var _react = _interopRequireDefault(__webpack_require__(/*! react */ "./node_modules/react/index.js"));

var _StyledIcon = __webpack_require__(/*! ../StyledIcon */ "./node_modules/grommet-icons/StyledIcon.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var FormUp = function FormUp(props) {
  return _react["default"].createElement(_StyledIcon.StyledIcon, _extends({
    viewBox: "0 0 24 24",
    a11yTitle: "FormUp"
  }, props), _react["default"].createElement("polyline", {
    fill: "none",
    stroke: "#000",
    strokeWidth: "2",
    points: "18 9 12 15 6 9",
    transform: "matrix(1 0 0 -1 0 24)"
  }));
};

exports.FormUp = FormUp;

/***/ }),

/***/ "./node_modules/grommet-icons/icons/Next.js":
/*!**************************************************!*\
  !*** ./node_modules/grommet-icons/icons/Next.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
exports.Next = void 0;

var _react = _interopRequireDefault(__webpack_require__(/*! react */ "./node_modules/react/index.js"));

var _StyledIcon = __webpack_require__(/*! ../StyledIcon */ "./node_modules/grommet-icons/StyledIcon.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var Next = function Next(props) {
  return _react["default"].createElement(_StyledIcon.StyledIcon, _extends({
    viewBox: "0 0 24 24",
    a11yTitle: "Next"
  }, props), _react["default"].createElement("polyline", {
    fill: "none",
    stroke: "#000",
    strokeWidth: "2",
    points: "7 2 17 12 7 22"
  }));
};

exports.Next = Next;

/***/ }),

/***/ "./node_modules/grommet-icons/icons/Pause.js":
/*!***************************************************!*\
  !*** ./node_modules/grommet-icons/icons/Pause.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
exports.Pause = void 0;

var _react = _interopRequireDefault(__webpack_require__(/*! react */ "./node_modules/react/index.js"));

var _StyledIcon = __webpack_require__(/*! ../StyledIcon */ "./node_modules/grommet-icons/StyledIcon.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var Pause = function Pause(props) {
  return _react["default"].createElement(_StyledIcon.StyledIcon, _extends({
    viewBox: "0 0 24 24",
    a11yTitle: "Pause"
  }, props), _react["default"].createElement("path", {
    fill: "none",
    stroke: "#000",
    strokeWidth: "2",
    d: "M3,21 L9,21 L9,3 L3,3 L3,21 Z M15,21 L21,21 L21,3 L15,3 L15,21 Z"
  }));
};

exports.Pause = Pause;

/***/ }),

/***/ "./node_modules/grommet-icons/icons/Play.js":
/*!**************************************************!*\
  !*** ./node_modules/grommet-icons/icons/Play.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
exports.Play = void 0;

var _react = _interopRequireDefault(__webpack_require__(/*! react */ "./node_modules/react/index.js"));

var _StyledIcon = __webpack_require__(/*! ../StyledIcon */ "./node_modules/grommet-icons/StyledIcon.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var Play = function Play(props) {
  return _react["default"].createElement(_StyledIcon.StyledIcon, _extends({
    viewBox: "0 0 24 24",
    a11yTitle: "Play"
  }, props), _react["default"].createElement("polygon", {
    fill: "none",
    stroke: "#000",
    strokeWidth: "2",
    points: "3 22 21 12 3 2"
  }));
};

exports.Play = Play;

/***/ }),

/***/ "./node_modules/grommet-icons/icons/Previous.js":
/*!******************************************************!*\
  !*** ./node_modules/grommet-icons/icons/Previous.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
exports.Previous = void 0;

var _react = _interopRequireDefault(__webpack_require__(/*! react */ "./node_modules/react/index.js"));

var _StyledIcon = __webpack_require__(/*! ../StyledIcon */ "./node_modules/grommet-icons/StyledIcon.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var Previous = function Previous(props) {
  return _react["default"].createElement(_StyledIcon.StyledIcon, _extends({
    viewBox: "0 0 24 24",
    a11yTitle: "Previous"
  }, props), _react["default"].createElement("polyline", {
    fill: "none",
    stroke: "#000",
    strokeWidth: "2",
    points: "7 2 17 12 7 22",
    transform: "matrix(-1 0 0 1 24 0)"
  }));
};

exports.Previous = Previous;

/***/ }),

/***/ "./node_modules/grommet-icons/icons/Subtract.js":
/*!******************************************************!*\
  !*** ./node_modules/grommet-icons/icons/Subtract.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
exports.Subtract = void 0;

var _react = _interopRequireDefault(__webpack_require__(/*! react */ "./node_modules/react/index.js"));

var _StyledIcon = __webpack_require__(/*! ../StyledIcon */ "./node_modules/grommet-icons/StyledIcon.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var Subtract = function Subtract(props) {
  return _react["default"].createElement(_StyledIcon.StyledIcon, _extends({
    viewBox: "0 0 24 24",
    a11yTitle: "Subtract"
  }, props), _react["default"].createElement("path", {
    fill: "none",
    stroke: "#000",
    strokeWidth: "2",
    d: "M2,12 L22,12"
  }));
};

exports.Subtract = Subtract;

/***/ }),

/***/ "./node_modules/grommet-icons/icons/Volume.js":
/*!****************************************************!*\
  !*** ./node_modules/grommet-icons/icons/Volume.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
exports.Volume = void 0;

var _react = _interopRequireDefault(__webpack_require__(/*! react */ "./node_modules/react/index.js"));

var _StyledIcon = __webpack_require__(/*! ../StyledIcon */ "./node_modules/grommet-icons/StyledIcon.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var Volume = function Volume(props) {
  return _react["default"].createElement(_StyledIcon.StyledIcon, _extends({
    viewBox: "0 0 24 24",
    a11yTitle: "Volume"
  }, props), _react["default"].createElement("path", {
    fill: "none",
    stroke: "#000",
    strokeWidth: "2",
    d: "M15,16 C17.209,16 19,14.209 19,12 C19,9.791 17.209,8 15,8 M15,20 C20,20 23,16.411 23,12 C23,7.589 19.411,4 15,4 M1,12 L1,8 L6,8 L12,3 L12,21 L6,16 L1,16 L1,12"
  }));
};

exports.Volume = Volume;

/***/ }),

/***/ "./node_modules/grommet-icons/icons/VolumeLow.js":
/*!*******************************************************!*\
  !*** ./node_modules/grommet-icons/icons/VolumeLow.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
exports.VolumeLow = void 0;

var _react = _interopRequireDefault(__webpack_require__(/*! react */ "./node_modules/react/index.js"));

var _StyledIcon = __webpack_require__(/*! ../StyledIcon */ "./node_modules/grommet-icons/StyledIcon.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var VolumeLow = function VolumeLow(props) {
  return _react["default"].createElement(_StyledIcon.StyledIcon, _extends({
    viewBox: "0 0 24 24",
    a11yTitle: "VolumeLow"
  }, props), _react["default"].createElement("path", {
    fill: "none",
    stroke: "#000",
    strokeWidth: "2",
    d: "M1,8 L1,16 L6.09901951,16 L12,21 L12,3 L6,8 L1,8 Z M15,16 L15,16 C17.209139,16 19,14.209139 19,12 C19,9.790861 17.209139,8 15,8"
  }));
};

exports.VolumeLow = VolumeLow;

/***/ }),

/***/ "./node_modules/grommet-icons/themes/base.js":
/*!***************************************************!*\
  !*** ./node_modules/grommet-icons/themes/base.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
exports.base = void 0;
var base = {
  global: {
    colors: {
      icon: '#666666'
    }
  },
  icon: {
    size: {
      small: '12px',
      medium: '24px',
      large: '48px',
      xlarge: '96px'
    }
  }
};
exports.base = base;

/***/ }),

/***/ "./node_modules/grommet-icons/themes/index.js":
/*!****************************************************!*\
  !*** ./node_modules/grommet-icons/themes/index.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
exports.base = void 0;

var _base = __webpack_require__(/*! ./base */ "./node_modules/grommet-icons/themes/base.js");

exports.base = _base.base;

/***/ }),

/***/ "./node_modules/grommet-icons/utils.js":
/*!*********************************************!*\
  !*** ./node_modules/grommet-icons/utils.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
exports.isObject = isObject;
exports.deepMerge = deepMerge;
exports["default"] = void 0;

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function isObject(item) {
  return item && typeof item === 'object' && !Array.isArray(item);
}

function deepMerge(target) {
  for (var _len = arguments.length, sources = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
    sources[_key - 1] = arguments[_key];
  }

  if (!sources.length) {
    return target;
  } // making sure to not change target (immutable)


  var output = _extends({}, target);

  sources.forEach(function (source) {
    if (isObject(source)) {
      Object.keys(source).forEach(function (key) {
        if (isObject(source[key])) {
          if (!output[key]) {
            output[key] = _extends({}, source[key]);
          } else {
            output[key] = deepMerge(output[key], source[key]);
          }
        } else {
          output[key] = source[key];
        }
      });
    }
  });
  return output;
}

var _default = {
  deepMerge: deepMerge,
  isObject: isObject
};
exports["default"] = _default;

/***/ }),

/***/ "./node_modules/grommet-styles/es6/index.js":
/*!**************************************************!*\
  !*** ./node_modules/grommet-styles/es6/index.js ***!
  \**************************************************/
/*! exports provided: colorStyle, sizeStyle, colorIsDark, normalizeColor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _styles__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./styles */ "./node_modules/grommet-styles/es6/styles/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "colorStyle", function() { return _styles__WEBPACK_IMPORTED_MODULE_0__["colorStyle"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "sizeStyle", function() { return _styles__WEBPACK_IMPORTED_MODULE_0__["sizeStyle"]; });

/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils */ "./node_modules/grommet-styles/es6/utils/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "colorIsDark", function() { return _utils__WEBPACK_IMPORTED_MODULE_1__["colorIsDark"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "normalizeColor", function() { return _utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"]; });




/***/ }),

/***/ "./node_modules/grommet-styles/es6/styles/color.js":
/*!*********************************************************!*\
  !*** ./node_modules/grommet-styles/es6/styles/color.js ***!
  \*********************************************************/
/*! exports provided: colorStyle */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "colorStyle", function() { return colorStyle; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils */ "./node_modules/grommet-styles/es6/utils/index.js");


var colorStyle = function colorStyle(name, value, theme, required) {
  return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["", ":", ";"], name, Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(value, theme, required));
};

/***/ }),

/***/ "./node_modules/grommet-styles/es6/styles/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/grommet-styles/es6/styles/index.js ***!
  \*********************************************************/
/*! exports provided: colorStyle, sizeStyle */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _color__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./color */ "./node_modules/grommet-styles/es6/styles/color.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "colorStyle", function() { return _color__WEBPACK_IMPORTED_MODULE_0__["colorStyle"]; });

/* harmony import */ var _size__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./size */ "./node_modules/grommet-styles/es6/styles/size.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "sizeStyle", function() { return _size__WEBPACK_IMPORTED_MODULE_1__["sizeStyle"]; });




/***/ }),

/***/ "./node_modules/grommet-styles/es6/styles/size.js":
/*!********************************************************!*\
  !*** ./node_modules/grommet-styles/es6/styles/size.js ***!
  \********************************************************/
/*! exports provided: sizeStyle */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "sizeStyle", function() { return sizeStyle; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");

var sizeStyle = function sizeStyle(name, value, theme) {
  return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["", ":", ";"], name, theme.global.size[value] || value);
};

/***/ }),

/***/ "./node_modules/grommet-styles/es6/utils/colors.js":
/*!*********************************************************!*\
  !*** ./node_modules/grommet-styles/es6/utils/colors.js ***!
  \*********************************************************/
/*! exports provided: colorIsDark, normalizeColor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "colorIsDark", function() { return colorIsDark; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "normalizeColor", function() { return normalizeColor; });
// https://stackoverflow.com/questions/5623838/rgb-to-hex-and-hex-to-rgb
var parseHexToRGB = function parseHexToRGB(color) {
  return color.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i, function (m, r, g, b) {
    return "#" + r + r + g + g + b + b;
  }).substring(1).match(/.{2}/g).map(function (x) {
    return parseInt(x, 16);
  });
};

var getRGBArray = function getRGBArray(color) {
  if (/^#/.test(color)) {
    return parseHexToRGB(color);
  }

  if (/^rgb/.test(color)) {
    return color.match(/rgba?\((\s?[0-9]*\s?),(\s?[0-9]*\s?),(\s?[0-9]*\s?).*?\)/).splice(1);
  }

  return color;
};

var colorIsDark = function colorIsDark(color) {
  var _getRGBArray = getRGBArray(color),
      red = _getRGBArray[0],
      green = _getRGBArray[1],
      blue = _getRGBArray[2]; // http://www.had2know.com/technology/
  //  color-contrast-calculator-web-design.html


  var brightness = (299 * red + 587 * green + 114 * blue) / 1000;
  return brightness < 125;
};
var normalizeColor = function normalizeColor(color, theme) {
  var colorSpec = theme.global.colors[color] || color; // If the color has a light or dark object, use that

  var result = colorSpec;

  if (theme.dark && colorSpec.dark) {
    result = colorSpec.dark;
  } else if (!theme.dark && colorSpec.light) {
    result = colorSpec.light;
  } // allow one level of indirection in color names


  if (result && theme.global.colors[result] && theme.global.colors[result] !== result) {
    result = normalizeColor(result, theme);
  }

  return result;
};

/***/ }),

/***/ "./node_modules/grommet-styles/es6/utils/index.js":
/*!********************************************************!*\
  !*** ./node_modules/grommet-styles/es6/utils/index.js ***!
  \********************************************************/
/*! exports provided: colorIsDark, normalizeColor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _colors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./colors */ "./node_modules/grommet-styles/es6/utils/colors.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "colorIsDark", function() { return _colors__WEBPACK_IMPORTED_MODULE_0__["colorIsDark"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "normalizeColor", function() { return _colors__WEBPACK_IMPORTED_MODULE_0__["normalizeColor"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Accordion/Accordion.js":
/*!********************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Accordion/Accordion.js ***!
  \********************************************************************/
/*! exports provided: Accordion */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Accordion", function() { return AccordionWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
/* harmony import */ var _AccordionContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./AccordionContext */ "./node_modules/grommet/es6/components/Accordion/AccordionContext.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }





var activeAsArray = function activeAsArray(active) {
  return typeof active === 'number' ? [active] : active;
};

var Accordion = function Accordion(_ref) {
  var activeIndex = _ref.activeIndex,
      _ref$animate = _ref.animate,
      animate = _ref$animate === void 0 ? true : _ref$animate,
      children = _ref.children,
      _ref$messages = _ref.messages,
      messages = _ref$messages === void 0 ? {
    tabContents: 'Tab Contents'
  } : _ref$messages,
      multiple = _ref.multiple,
      onActive = _ref.onActive,
      rest = _objectWithoutPropertiesLoose(_ref, ["activeIndex", "animate", "children", "messages", "multiple", "onActive"]);

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])([]),
      activeIndexes = _useState[0],
      setActiveIndexes = _useState[1];

  var _useState2 = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(),
      stateActiveIndex = _useState2[0],
      setStateActiveIndex = _useState2[1]; // Derived state from props
  // https://reactjs.org/docs/hooks-faq.html#how-do-i-implement-getderivedstatefromprops


  var derivedActiveIndexes = activeAsArray(activeIndex) || [];

  if ((typeof activeIndex !== 'undefined' || activeIndex !== stateActiveIndex) && derivedActiveIndexes.join() !== activeIndexes.join()) {
    setActiveIndexes(derivedActiveIndexes);
    setStateActiveIndex(activeIndex);
  }

  var _onPanelChange = function onPanelChange(index) {
    var nextActiveIndexes = [].concat(activeIndexes || []);
    var nextActiveIndex = nextActiveIndexes.indexOf(index);

    if (nextActiveIndex > -1) {
      nextActiveIndexes.splice(nextActiveIndex, 1);
    } else if (multiple) {
      nextActiveIndexes.push(index);
    } else {
      nextActiveIndexes = [index];
    }

    setActiveIndexes(nextActiveIndexes);

    if (onActive) {
      onActive(nextActiveIndexes);
    }
  }; // eslint-disable-next-line no-param-reassign


  delete rest.onActive;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_1__["Box"], _extends({
    role: "tablist"
  }, rest), react__WEBPACK_IMPORTED_MODULE_0__["Children"].toArray(children).map(function (panel, index) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_AccordionContext__WEBPACK_IMPORTED_MODULE_2__["AccordionContext"].Provider, {
      key: "accordion-panel_" + (index + 0),
      value: {
        active: activeIndexes.indexOf(index) > -1,
        animate: animate,
        messages: messages,
        onPanelChange: function onPanelChange() {
          return _onPanelChange(index);
        }
      }
    }, panel);
  }));
};

var AccordionDoc;

if (true) {
  // eslint-disable-next-line global-require
  AccordionDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Accordion/doc.js").doc(Accordion);
}

var AccordionWrapper = AccordionDoc || Accordion;


/***/ }),

/***/ "./node_modules/grommet/es6/components/Accordion/AccordionContext.js":
/*!***************************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Accordion/AccordionContext.js ***!
  \***************************************************************************/
/*! exports provided: AccordionContext */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AccordionContext", function() { return AccordionContext; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

var AccordionContext = Object(react__WEBPACK_IMPORTED_MODULE_0__["createContext"])({});

/***/ }),

/***/ "./node_modules/grommet/es6/components/Accordion/doc.js":
/*!**************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Accordion/doc.js ***!
  \**************************************************************/
/*! exports provided: doc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var doc = function doc(Accordion) {
  var DocumentedAccordion = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Accordion).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('Accordion')).description('An accordion containing collapsible panels.').usage("import { Accordion, AccordionPanel } from 'grommet';\n<Accordion>\n  <AccordionPanel label='Panel 1'>...</AccordionPanel>\n  <AccordionPanel label='Panel 2'>...</AccordionPanel>\n</Accordion>").intrinsicElement('div');
  DocumentedAccordion.propTypes = _extends({}, _utils__WEBPACK_IMPORTED_MODULE_1__["genericProps"], {
    activeIndex: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number)]).description("Active panel index. If specified, Accordion will be a controlled \ncomponent. This means that future panel changes will not work unless you\nsubscribe to onActive function and update activeIndex accordingly.").defaultValue(0),
    animate: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Transition content in & out with a slide down animation.').defaultValue(true),
    children: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].node.description('Array of AccordionPanels.'),
    onActive: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Function that will be called when the active index changes.\nIt will always send an array with currently active panel indexes."),
    multiple: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Allow multiple panels to be opened at once.').defaultValue(false),
    messages: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      tabContents: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string
    }).description('Custom messages for Tabs. Used for accessibility by screen readers.').defaultValue({
      tabContents: 'Tab Contents'
    })
  });
  return DocumentedAccordion;
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/Accordion/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Accordion/index.js ***!
  \****************************************************************/
/*! exports provided: Accordion */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Accordion__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Accordion */ "./node_modules/grommet/es6/components/Accordion/Accordion.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Accordion", function() { return _Accordion__WEBPACK_IMPORTED_MODULE_0__["Accordion"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/AccordionPanel/AccordionPanel.js":
/*!******************************************************************************!*\
  !*** ./node_modules/grommet/es6/components/AccordionPanel/AccordionPanel.js ***!
  \******************************************************************************/
/*! exports provided: AccordionPanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AccordionPanel", function() { return AccordionPanelWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Button */ "./node_modules/grommet/es6/components/Button/index.js");
/* harmony import */ var _Collapsible__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Collapsible */ "./node_modules/grommet/es6/components/Collapsible/index.js");
/* harmony import */ var _Heading__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../Heading */ "./node_modules/grommet/es6/components/Heading/index.js");
/* harmony import */ var _hocs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../hocs */ "./node_modules/grommet/es6/components/hocs.js");
/* harmony import */ var _Accordion_AccordionContext__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../Accordion/AccordionContext */ "./node_modules/grommet/es6/components/Accordion/AccordionContext.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }













var AccordionPanel = function AccordionPanel(_ref) {
  var children = _ref.children,
      header = _ref.header,
      label = _ref.label,
      theme = _ref.theme,
      onMouseOut = _ref.onMouseOut,
      onMouseOver = _ref.onMouseOver,
      onFocus = _ref.onFocus,
      onBlur = _ref.onBlur,
      rest = _objectWithoutPropertiesLoose(_ref, ["children", "header", "label", "theme", "onMouseOut", "onMouseOver", "onFocus", "onBlur"]);

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(undefined),
      hover = _useState[0],
      setHover = _useState[1];

  var iconColor = Object(_utils__WEBPACK_IMPORTED_MODULE_3__["normalizeColor"])(theme.accordion.icons.color || 'control', theme);

  var onHandleMouseOver = function onHandleMouseOver() {
    var dark = theme.dark;
    setHover(dark ? 'light-4' : 'dark-3');

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    if (onMouseOver) onMouseOver(args);
  };

  var onHandleMouseOut = function onHandleMouseOut() {
    setHover(undefined);

    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    if (onMouseOut) onMouseOut(args);
  };

  var onHandleFocus = function onHandleFocus() {
    var dark = theme.dark;
    setHover(dark ? 'light-4' : 'dark-3');

    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }

    if (onFocus) onFocus(args);
  };

  var onHandleBlur = function onHandleBlur() {
    setHover(undefined);

    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
      args[_key4] = arguments[_key4];
    }

    if (onBlur) onBlur(args);
  };

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Accordion_AccordionContext__WEBPACK_IMPORTED_MODULE_10__["AccordionContext"].Consumer, null, function (panelContext) {
    var active = panelContext.active,
        animate = panelContext.animate,
        onPanelChange = panelContext.onPanelChange;
    var AccordionIcon = active ? theme.accordion.icons.collapse : theme.accordion.icons.expand;
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_5__["Box"], {
      flex: false
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_6__["Button"], {
      role: "tab",
      "aria-selected": active,
      "aria-expanded": active,
      onClick: onPanelChange,
      onMouseOver: onHandleMouseOver,
      onMouseOut: onHandleMouseOut,
      onFocus: onHandleFocus,
      onBlur: onHandleBlur
    }, header || react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_5__["Box"], _extends({
      align: "center",
      direction: "row",
      justify: "between"
    }, rest), typeof label === 'string' ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_5__["Box"], {
      pad: {
        horizontal: 'xsmall'
      }
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Heading__WEBPACK_IMPORTED_MODULE_8__["Heading"], {
      level: theme.accordion.heading && theme.accordion.heading.level || 4,
      color: hover
    }, label)) : label, AccordionIcon && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_5__["Box"], {
      pad: {
        horizontal: 'small'
      }
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(AccordionIcon, {
      color: iconColor
    })))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_5__["Box"], {
      border: theme.accordion.border
    }, animate ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Collapsible__WEBPACK_IMPORTED_MODULE_7__["Collapsible"], {
      open: active
    }, children) : active && children));
  });
};

AccordionPanel.defaultProps = {};
Object.setPrototypeOf(AccordionPanel.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_4__["defaultProps"]);
var AccordionPanelDoc;

if (true) {
  // eslint-disable-next-line global-require
  AccordionPanelDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/AccordionPanel/doc.js").doc(AccordionPanel);
}

var AccordionPanelWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(styled_components__WEBPACK_IMPORTED_MODULE_2__["withTheme"], _hocs__WEBPACK_IMPORTED_MODULE_9__["withForwardRef"])(AccordionPanelDoc || AccordionPanel);


/***/ }),

/***/ "./node_modules/grommet/es6/components/AccordionPanel/doc.js":
/*!*******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/AccordionPanel/doc.js ***!
  \*******************************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);

function doc(Panel) {
  var DocumentedAccordionPanel = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Panel).description('An Accordion panel.').intrinsicElement('div');
  DocumentedAccordionPanel.propTypes = {
    label: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].node]).description('The panel label.'),
    header: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].node.description('If specified, the entire panel header will be managed by the caller.')
  };
  return DocumentedAccordionPanel;
}
var themeDoc = {
  'accordion.heading.level': {
    description: 'The heading level used for the accordion.',
    type: 'number',
    defaultValue: '4'
  },
  'accordion.icons.collapse': {
    description: 'The icon to use when the panel is expanded.',
    type: 'React.Element',
    defaultValue: '<FormUp />'
  },
  'accordion.icons.color': {
    description: 'The icon color to use in the accordion.',
    type: 'string | { dark: string, light: string }',
    defaultValue: 'control'
  },
  'accordion.icons.expand': {
    description: 'The icon to use when the panel is collapsed.',
    type: 'React.Element',
    defaultValue: '<FormDown />'
  },
  'accordion.border.color': {
    description: 'The border color to use in the accordion.',
    type: 'string | { dark: string, light: string }',
    defaultValue: 'border'
  },
  'accordion.border.side': {
    description: 'The border side to use in the accordion.',
    type: 'string',
    defaultValue: 'bottom'
  }
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/AccordionPanel/index.js":
/*!*********************************************************************!*\
  !*** ./node_modules/grommet/es6/components/AccordionPanel/index.js ***!
  \*********************************************************************/
/*! exports provided: AccordionPanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _AccordionPanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AccordionPanel */ "./node_modules/grommet/es6/components/AccordionPanel/AccordionPanel.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AccordionPanel", function() { return _AccordionPanel__WEBPACK_IMPORTED_MODULE_0__["AccordionPanel"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Anchor/Anchor.js":
/*!**************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Anchor/Anchor.js ***!
  \**************************************************************/
/*! exports provided: Anchor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Anchor", function() { return AnchorWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
/* harmony import */ var _StyledAnchor__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./StyledAnchor */ "./node_modules/grommet/es6/components/Anchor/StyledAnchor.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }







var Anchor = Object(react__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function (_ref, ref) {
  var a11yTitle = _ref.a11yTitle,
      children = _ref.children,
      color = _ref.color,
      disabled = _ref.disabled,
      href = _ref.href,
      icon = _ref.icon,
      label = _ref.label,
      _onBlur = _ref.onBlur,
      onClick = _ref.onClick,
      _onFocus = _ref.onFocus,
      reverse = _ref.reverse,
      rest = _objectWithoutPropertiesLoose(_ref, ["a11yTitle", "children", "color", "disabled", "href", "icon", "label", "onBlur", "onClick", "onFocus", "reverse"]);

  var theme = Object(react__WEBPACK_IMPORTED_MODULE_0__["useContext"])(styled_components__WEBPACK_IMPORTED_MODULE_1__["ThemeContext"]) || _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"].theme;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(),
      focus = _useState[0],
      setFocus = _useState[1];

  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    if ((icon || label) && children) {
      console.warn('Anchor should not have children if icon or label is provided');
    }
  }, [children, icon, label]);
  var coloredIcon = icon;

  if (icon && !icon.props.color) {
    coloredIcon = Object(react__WEBPACK_IMPORTED_MODULE_0__["cloneElement"])(icon, {
      color: Object(_utils__WEBPACK_IMPORTED_MODULE_3__["normalizeColor"])(color || theme.anchor.color, theme)
    });
  }

  var first = reverse ? label : coloredIcon;
  var second = reverse ? coloredIcon : label;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledAnchor__WEBPACK_IMPORTED_MODULE_5__["StyledAnchor"], _extends({}, rest, {
    ref: ref,
    "aria-label": a11yTitle,
    colorProp: color,
    disabled: disabled,
    hasIcon: !!icon,
    focus: focus,
    hasLabel: label,
    reverse: reverse,
    href: !disabled ? href : undefined,
    onClick: !disabled ? onClick : undefined,
    onFocus: function onFocus(event) {
      setFocus(true);
      if (_onFocus) _onFocus(event);
    },
    onBlur: function onBlur(event) {
      setFocus(false);
      if (_onBlur) _onBlur(event);
    }
  }), first && second ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"], {
    as: "span",
    direction: "row",
    align: "center",
    gap: "small",
    style: {
      display: 'inline-flex'
    }
  }, first, second) : first || second || children);
});
Anchor.displayName = 'Anchor';
var AnchorDoc;

if (true) {
  // eslint-disable-next-line global-require
  AnchorDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Anchor/doc.js").doc(Anchor);
}

var AnchorWrapper = AnchorDoc || Anchor;


/***/ }),

/***/ "./node_modules/grommet/es6/components/Anchor/StyledAnchor.js":
/*!********************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Anchor/StyledAnchor.js ***!
  \********************************************************************/
/*! exports provided: StyledAnchor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledAnchor", function() { return StyledAnchor; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");



var disabledStyle = "\n  opacity: 0.3;\n  cursor: default;\n  text-decoration: none;\n";

var sizeStyle = function sizeStyle(props) {
  if (props.size) {
    var size = props.size || 'medium';
    var data = props.theme.text[size];
    return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["font-size:", ";line-height:", ";"], data.size, data.height);
  }

  return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["font-size:inherit;line-height:inherit;"]);
};

var StyledAnchor = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].a.withConfig({
  displayName: "StyledAnchor",
  componentId: "sc-1rp7lwl-0"
})(["box-sizing:border-box;", " color:", ";", " text-decoration:", ";cursor:pointer;outline:none;", " ", " ", " ", " ", " ", ""], function (props) {
  return sizeStyle(props);
}, function (props) {
  return Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.colorProp || props.theme.anchor.color, props.theme);
}, function (props) {
  return props.theme.anchor.fontWeight && "font-weight: " + props.theme.anchor.fontWeight + ";";
}, function (props) {
  return props.hasIcon ? 'none' : props.theme.anchor.textDecoration;
}, _utils__WEBPACK_IMPORTED_MODULE_1__["genericStyles"], function (props) {
  return !props.disabled && props.theme.anchor.hover && Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["&:hover{", " ", " ", "}"], props.theme.anchor.hover.textDecoration && "text-decoration: " + props.theme.anchor.hover.textDecoration + ";", props.theme.anchor.hover.fontWeight && "font-weight: " + props.theme.anchor.hover.fontWeight + ";", props.theme.anchor.hover.extend);
}, function (props) {
  return props.hasIcon && !props.hasLabel && "\n    padding: " + props.theme.global.edgeSize.small + ";\n  ";
}, function (props) {
  return props.disabled && disabledStyle;
}, function (props) {
  return props.focus && _utils__WEBPACK_IMPORTED_MODULE_1__["focusStyle"];
}, function (props) {
  return props.theme.anchor.extend;
});
StyledAnchor.defaultProps = {};
Object.setPrototypeOf(StyledAnchor.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Anchor/doc.js":
/*!***********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Anchor/doc.js ***!
  \***********************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var doc = function doc(Anchor) {
  var DocumentedAnchor = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Anchor).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('Anchor')).description('A text link.').details("We have a separate component from the browser\nbase so we can style it. You can either set the icon and/or label properties\nor just use children.").usage("import { Anchor } from 'grommet';\n" + "<Anchor href={location} label='Label' />").intrinsicElement('a');
  DocumentedAnchor.propTypes = _extends({}, _utils__WEBPACK_IMPORTED_MODULE_1__["genericProps"], {
    a11yTitle: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description('Custom title to be used by screen readers.'),
    color: _utils__WEBPACK_IMPORTED_MODULE_1__["colorPropType"].description('Label color and icon color, if not specified on the icon.'),
    disabled: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Whether the anchor is disabled.').defaultValue(false),
    href: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description('Hyperlink reference to place in the anchor.'),
    icon: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].element.description('Icon element to place in the anchor.'),
    label: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].node.description('Label text to place in the anchor.'),
    onClick: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Click handler. It can be used, for example,\n        to add analytics and track who clicked in the anchor."),
    reverse: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Whether an icon and label should be reversed so that the\n        icon is at the end of the anchor.").defaultValue(false),
    size: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['xsmall', 'small', 'medium', 'large', 'xlarge', 'xxlarge']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description("The font size is typically driven by the components containing\nthis component. But, it can be adjusted directly via this size property,\ntypically when it is not contained in a 'Heading', 'Paragraph', or 'Text'."),
    as: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func]).description("The DOM tag or react component to use for the element.")
  });
  return DocumentedAnchor;
};
var themeDoc = _extends({
  'anchor.color': {
    description: 'The color of the label text and icon strokes.',
    type: 'string | { dark: string, light: string }',
    defaultValue: "{ light: '#1D67E3', dark: '#6194EB' }"
  },
  'anchor.fontWeight': {
    description: 'The font weight of the label.',
    type: 'number',
    defaultValue: 600
  },
  'anchor.textDecoration': {
    description: "The text decoration of the label. \nRefer to [MDN](https://developer.mozilla.org/en-US/docs/Web/CSS/text-decoration)\nfor possible values.",
    type: 'string',
    defaultValue: 'none'
  },
  'anchor.hover.fontWeight': {
    description: 'The font weight of the label when hovering.',
    type: 'number',
    defaultValue: undefined
  },
  'anchor.hover.textDecoration': {
    description: "The text decoration of the label when hovering. \nRefer to [MDN](https://developer.mozilla.org/en-US/docs/Web/CSS/text-decoration)\nfor possible values.",
    type: 'string',
    defaultValue: 'underline'
  },
  'anchor.hover.extend': {
    description: 'Any additional style for the Anchor when hovering.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'anchor.extend': {
    description: 'Any additional style for the Anchor.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'text.medium.size': {
    description: 'The font size of the text label.',
    type: 'string',
    defaultValue: '18px'
  },
  'text.medium.height': {
    description: 'The line height of the text label.',
    type: 'string',
    defaultValue: '24px'
  }
}, _utils__WEBPACK_IMPORTED_MODULE_1__["themeDocUtils"].focusStyle, {}, _utils__WEBPACK_IMPORTED_MODULE_1__["themeDocUtils"].edgeStyle('The possible sizes for margin.'));

/***/ }),

/***/ "./node_modules/grommet/es6/components/Anchor/index.js":
/*!*************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Anchor/index.js ***!
  \*************************************************************/
/*! exports provided: Anchor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Anchor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Anchor */ "./node_modules/grommet/es6/components/Anchor/Anchor.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Anchor", function() { return _Anchor__WEBPACK_IMPORTED_MODULE_0__["Anchor"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Box/Box.js":
/*!********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Box/Box.js ***!
  \********************************************************/
/*! exports provided: Box */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Box", function() { return BoxWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _Keyboard__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Keyboard */ "./node_modules/grommet/es6/components/Keyboard/index.js");
/* harmony import */ var _StyledBox__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./StyledBox */ "./node_modules/grommet/es6/components/Box/StyledBox.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }







var Box = Object(react__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function (_ref, ref) {
  var a11yTitle = _ref.a11yTitle,
      background = _ref.background,
      children = _ref.children,
      _ref$direction = _ref.direction,
      direction = _ref$direction === void 0 ? 'column' : _ref$direction,
      elevation = _ref.elevation,
      fill = _ref.fill,
      gap = _ref.gap,
      _onBlur = _ref.onBlur,
      onClick = _ref.onClick,
      _onFocus = _ref.onFocus,
      overflow = _ref.overflow,
      _ref$responsive = _ref.responsive,
      responsive = _ref$responsive === void 0 ? true : _ref$responsive,
      tag = _ref.tag,
      as = _ref.as,
      wrap = _ref.wrap,
      width = _ref.width,
      height = _ref.height,
      tabIndex = _ref.tabIndex,
      rest = _objectWithoutPropertiesLoose(_ref, ["a11yTitle", "background", "children", "direction", "elevation", "fill", "gap", "onBlur", "onClick", "onFocus", "overflow", "responsive", "tag", "as", "wrap", "width", "height", "tabIndex"]);

  var theme = Object(react__WEBPACK_IMPORTED_MODULE_0__["useContext"])(styled_components__WEBPACK_IMPORTED_MODULE_1__["ThemeContext"]) || _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"].theme;
  var focusable = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
    return onClick && !(tabIndex < 0);
  }, [onClick, tabIndex]);

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(),
      focus = _useState[0],
      setFocus = _useState[1];

  var clickProps = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
    if (focusable) {
      return {
        onClick: onClick,
        onFocus: function onFocus(event) {
          setFocus(true);
          if (_onFocus) _onFocus(event);
        },
        onBlur: function onBlur(event) {
          setFocus(false);
          if (_onBlur) _onBlur(event);
        }
      };
    }

    var result = {};
    if (_onBlur) result.onBlur = _onBlur;
    if (onClick) result.onClick = onClick;
    if (_onFocus) result.onFocus = _onFocus;
    return result;
  }, [focusable, onClick, _onFocus, _onBlur]);
  var adjustedTabIndex = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
    if (tabIndex !== undefined) return tabIndex;
    if (focusable) return 0;
    return undefined;
  }, [focusable, tabIndex]);
  var contents = children;

  if (gap) {
    contents = [];
    var firstIndex;
    react__WEBPACK_IMPORTED_MODULE_0__["Children"].forEach(children, function (child, index) {
      if (child) {
        if (firstIndex === undefined) {
          firstIndex = index;
        } else {
          contents.push(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledBox__WEBPACK_IMPORTED_MODULE_5__["StyledBoxGap"] // eslint-disable-next-line react/no-array-index-key
          , {
            key: "gap-" + index,
            gap: gap,
            directionProp: direction,
            responsive: responsive
          }));
        }
      }

      contents.push(child);
    });
  }

  var content = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledBox__WEBPACK_IMPORTED_MODULE_5__["StyledBox"], _extends({
    as: !as && tag ? tag : as,
    "aria-label": a11yTitle,
    background: background,
    ref: ref,
    directionProp: direction,
    elevationProp: elevation,
    fillProp: fill,
    focus: focus,
    overflowProp: overflow,
    wrapProp: wrap,
    widthProp: width,
    heightProp: height,
    responsive: responsive,
    tabIndex: adjustedTabIndex
  }, clickProps, rest), contents);

  if (onClick) {
    content = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Keyboard__WEBPACK_IMPORTED_MODULE_4__["Keyboard"], {
      onEnter: onClick
    }, content);
  } // When a Box changes the darkness, it sets darkChanged so that StyledBox
  // can know what the underlying darkness is when deciding which elevation
  // to show.


  if (background || theme.darkChanged) {
    var dark = Object(_utils__WEBPACK_IMPORTED_MODULE_3__["backgroundIsDark"])(background, theme);
    var darkChanged = dark !== undefined && dark !== theme.dark;

    if (darkChanged || theme.darkChanged) {
      dark = dark === undefined ? theme.dark : dark;
      content = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(styled_components__WEBPACK_IMPORTED_MODULE_1__["ThemeContext"].Provider, {
        value: _extends({}, theme, {
          dark: dark,
          darkChanged: darkChanged
        })
      }, content);
    }
  }

  return content;
});
Box.displayName = 'Box';
var BoxDoc;

if (true) {
  BoxDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Box/doc.js").doc(Box); // eslint-disable-line global-require
}

var BoxWrapper = BoxDoc || Box;


/***/ }),

/***/ "./node_modules/grommet/es6/components/Box/StyledBox.js":
/*!**************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Box/StyledBox.js ***!
  \**************************************************************/
/*! exports provided: StyledBox, StyledBoxGap */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledBox", function() { return StyledBox; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledBoxGap", function() { return StyledBoxGap; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
var _FLEX_MAP;




var ALIGN_MAP = {
  baseline: 'baseline',
  center: 'center',
  end: 'flex-end',
  start: 'flex-start',
  stretch: 'stretch'
};
var alignStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["align-items:", ";"], function (props) {
  return ALIGN_MAP[props.align];
});
var ALIGN_CONTENT_MAP = {
  around: 'around',
  between: 'between',
  center: 'center',
  end: 'flex-end',
  start: 'flex-start',
  stretch: 'stretch'
};
var alignContentStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["align-content:", ";"], function (props) {
  return ALIGN_CONTENT_MAP[props.alignContent];
});
var BASIS_MAP = {
  auto: 'auto',
  full: '100%',
  '1/2': '50%',
  '1/4': '25%',
  '2/4': '50%',
  '3/4': '75%',
  '1/3': '33.33%',
  '2/3': '66.66%'
};
var basisStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["flex-basis:", ";"], function (props) {
  return BASIS_MAP[props.basis] || props.theme.global.size[props.basis] || props.basis;
}); // min-width and min-height needed because of this
// https://stackoverflow.com/questions/36247140/why-doesnt-flex-item-shrink-past-content-size
// we assume we are in the context of a Box going the other direction
// TODO: revisit this

var directionStyle = function directionStyle(direction, theme) {
  var styles = [Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["min-width:0;min-height:0;flex-direction:", ";"], direction === 'row-responsive' ? 'row' : direction)];

  if (direction === 'row-responsive' && theme.box.responsiveBreakpoint) {
    var breakpoint = theme.global.breakpoints[theme.box.responsiveBreakpoint];

    if (breakpoint) {
      styles.push(Object(_utils__WEBPACK_IMPORTED_MODULE_2__["breakpointStyle"])(breakpoint, "\n        flex-direction: column;\n        flex-basis: auto;\n        justify-content: flex-start;\n        align-items: stretch;\n      "));
    }
  }

  return styles;
};

var elevationStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["box-shadow:", ";"], function (props) {
  return props.theme.global.elevation[props.theme.dark && !props.theme.darkChanged || !props.theme.dark && props.theme.darkChanged ? 'dark' : 'light'][props.elevationProp];
});
var FLEX_MAP = (_FLEX_MAP = {}, _FLEX_MAP[true] = '1 1', _FLEX_MAP[false] = '0 0', _FLEX_MAP.grow = '1 0', _FLEX_MAP.shrink = '0 1', _FLEX_MAP);

var flexGrowShrinkProp = function flexGrowShrinkProp(flex) {
  if (typeof flex === 'boolean' || typeof flex === 'string') {
    return FLEX_MAP[flex];
  }

  return (flex.grow ? flex.grow : 0) + " " + (flex.shrink ? flex.shrink : 0);
};

var flexStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["flex:", ";"], function (props) {
  return "" + flexGrowShrinkProp(props.flex) + (props.flex !== true && !props.basis ? ' auto' : '');
});

var fillStyle = function fillStyle(fillProp) {
  if (fillProp === 'horizontal') {
    return 'width: 100%;';
  }

  if (fillProp === 'vertical') {
    return 'height: 100%;';
  }

  if (fillProp) {
    return "\n      width: 100%;\n      height: 100%;\n    ";
  }

  return undefined;
};

var JUSTIFY_MAP = {
  around: 'space-around',
  between: 'space-between',
  center: 'center',
  end: 'flex-end',
  evenly: 'space-evenly',
  start: 'flex-start'
};
var justifyStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["justify-content:", ";"], function (props) {
  return JUSTIFY_MAP[props.justify];
});
var WRAP_MAP = {
  "true": 'wrap',
  reverse: 'wrap-reverse'
};
var wrapStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["flex-wrap:", ";"], function (props) {
  return WRAP_MAP[props.wrapProp];
});
var ROUND_MAP = {
  full: '100%'
};

var roundStyle = function roundStyle(data, responsive, theme) {
  var breakpoint = theme.box.responsiveBreakpoint && theme.global.breakpoints[theme.box.responsiveBreakpoint];
  var styles = [];

  if (typeof data === 'object') {
    var size = ROUND_MAP[data.size] || theme.global.edgeSize[data.size || 'medium'] || data.size;
    var responsiveSize = responsive && breakpoint && breakpoint.edgeSize[data.size] && (breakpoint.edgeSize[data.size] || data.size);

    if (data.corner === 'top') {
      styles.push(Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["border-top-left-radius:", ";border-top-right-radius:", ";"], size, size));

      if (responsiveSize) {
        styles.push(Object(_utils__WEBPACK_IMPORTED_MODULE_2__["breakpointStyle"])(breakpoint, "\n          border-top-left-radius: " + responsiveSize + ";\n          border-top-right-radius: " + responsiveSize + ";\n        "));
      }
    } else if (data.corner === 'bottom') {
      styles.push(Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["border-bottom-left-radius:", ";border-bottom-right-radius:", ";"], size, size));

      if (responsiveSize) {
        styles.push(Object(_utils__WEBPACK_IMPORTED_MODULE_2__["breakpointStyle"])(breakpoint, "\n          border-bottom-left-radius: " + responsiveSize + ";\n          border-bottom-right-radius: " + responsiveSize + ";\n        "));
      }
    } else if (data.corner === 'left') {
      styles.push(Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["border-top-left-radius:", ";border-bottom-left-radius:", ";"], size, size));

      if (responsiveSize) {
        styles.push(Object(_utils__WEBPACK_IMPORTED_MODULE_2__["breakpointStyle"])(breakpoint, "\n          border-top-left-radius: " + responsiveSize + ";\n          border-bottom-left-radius: " + responsiveSize + ";\n        "));
      }
    } else if (data.corner === 'right') {
      styles.push(Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["border-top-right-radius:", ";border-bottom-right-radius:", ";"], size, size));

      if (responsiveSize) {
        styles.push(Object(_utils__WEBPACK_IMPORTED_MODULE_2__["breakpointStyle"])(breakpoint, "\n          border-top-right-radius: " + responsiveSize + ";\n          border-bottom-right-radius: " + responsiveSize + ";\n        "));
      }
    } else if (data.corner) {
      styles.push(Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["border-", "-radius:", ";"], data.corner, size));

      if (responsiveSize) {
        styles.push(Object(_utils__WEBPACK_IMPORTED_MODULE_2__["breakpointStyle"])(breakpoint, "\n          border-" + data.corner + "-radius: " + responsiveSize + ";\n        "));
      }
    } else {
      styles.push(Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["border-radius:", ";"], size));

      if (responsiveSize) {
        styles.push(Object(_utils__WEBPACK_IMPORTED_MODULE_2__["breakpointStyle"])(breakpoint, "\n          border-radius: " + responsiveSize + ";\n        "));
      }
    }
  } else {
    var _size = data === true ? 'medium' : data;

    styles.push(Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["border-radius:", ";"], ROUND_MAP[_size] || theme.global.edgeSize[_size] || _size));

    var _responsiveSize = breakpoint && breakpoint.edgeSize[_size];

    if (_responsiveSize) {
      styles.push(Object(_utils__WEBPACK_IMPORTED_MODULE_2__["breakpointStyle"])(breakpoint, "\n        border-radius: " + _responsiveSize + ";\n      "));
    }
  }

  return styles;
};

var SLIDE_SIZES = {
  xsmall: 1,
  small: 5,
  medium: 10,
  large: 50,
  xlarge: 200
};
var PULSE_SIZES = {
  xsmall: 1.001,
  small: 1.01,
  medium: 1.1,
  large: 1.5,
  xlarge: 2
};
var JIGGLE_SIZES = {
  xsmall: 0.1,
  small: 1,
  medium: 5,
  large: 400,
  xlarge: 1000
};
var ZOOM_SIZES = {
  xsmall: 0.001,
  small: 0.01,
  medium: 0.05,
  large: 0.1,
  xlarge: 0.5
};

var animationBounds = function animationBounds(type, size) {
  if (size === void 0) {
    size = 'medium';
  }

  if (type === 'fadeIn') {
    return ['opacity: 0;', 'opacity: 1;'];
  }

  if (type === 'fadeOut') {
    return ['opacity: 1;', 'opacity: 0;'];
  }

  if (type === 'jiggle') {
    var deg = JIGGLE_SIZES[size];
    return ["transform: rotate(-" + deg + "deg);", "transform: rotate(" + deg + "deg);"];
  }

  if (type === 'pulse') {
    return ['transform: scale(1);', "transform: scale(" + PULSE_SIZES[size] + ")"];
  }

  if (type === 'flipIn') {
    return ['transform: rotateY(90deg);', 'transform: rotateY(0);'];
  }

  if (type === 'flipOut') {
    return ['transform: rotateY(0);', 'transform: rotateY(90deg);'];
  }

  if (type === 'slideDown') {
    return ["transform: translateY(-" + SLIDE_SIZES[size] + "%);", 'transform: none;'];
  }

  if (type === 'slideLeft') {
    return ["transform: translateX(" + SLIDE_SIZES[size] + "%);", 'transform: none;'];
  }

  if (type === 'slideRight') {
    return ["transform: translateX(-" + SLIDE_SIZES[size] + "%);", 'transform: none;'];
  }

  if (type === 'slideUp') {
    return ["transform: translateY(" + SLIDE_SIZES[size] + "%);", 'transform: none;'];
  }

  if (type === 'zoomIn') {
    return ["transform: scale(" + (1 - ZOOM_SIZES[size]) + ");", 'transform: none;'];
  }

  if (type === 'zoomOut') {
    return ["transform: scale(" + (1 + ZOOM_SIZES[size]) + ");", 'transform: none;'];
  }

  return [];
};

var normalizeTiming = function normalizeTiming(time, defaultTiming) {
  return time ? time / 1000.0 + "s" : defaultTiming;
};

var animationEnding = function animationEnding(type) {
  if (type === 'jiggle') {
    return 'alternate infinite';
  }

  if (type === 'pulse') {
    return 'alternate infinite';
  }

  return 'forwards';
};

var animationObjectStyle = function animationObjectStyle(animation, theme) {
  var bounds = animationBounds(animation.type, animation.size);

  if (bounds) {
    var animationTransition = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["from{", ";}to{", ";}"], bounds[0], bounds[1]);
    return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["", " ", " ", " ", ""], Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["keyframes"])(["", ""], animationTransition), normalizeTiming(animation.duration, (theme.global.animation[animation.type] ? theme.global.animation[animation.type].duration : undefined) || theme.global.animation.duration), normalizeTiming(animation.delay, '0s'), animationEnding(animation.type));
  }

  return '';
};

var animationItemStyle = function animationItemStyle(item, theme) {
  if (typeof item === 'string') {
    return animationObjectStyle({
      type: item
    }, theme);
  }

  if (Array.isArray(item)) {
    return item.reduce(function (style, a, index) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["", "", " ", ""], style, index > 0 ? ',' : '', animationItemStyle(a, theme));
    }, '');
  }

  if (typeof item === 'object') {
    return animationObjectStyle(item, theme);
  }

  return '';
};

var animationAncilaries = function animationAncilaries(animation) {
  if (animation.type === 'flipIn' || animation.type === 'flipOut') {
    return 'perspective: 1000px; transform-style: preserve-3d;';
  }

  return '';
};

var animationObjectInitialStyle = function animationObjectInitialStyle(animation) {
  var bounds = animationBounds(animation.type, animation.size);

  if (bounds) {
    return bounds[0] + " " + animationAncilaries(animation);
  }

  return '';
};

var animationInitialStyle = function animationInitialStyle(item) {
  if (typeof item === 'string') {
    return animationObjectInitialStyle({
      type: item
    });
  }

  if (Array.isArray(item)) {
    return item.map(function (a) {
      return typeof a === 'string' ? animationObjectInitialStyle({
        type: a
      }) : animationObjectInitialStyle(a);
    }).join('');
  }

  if (typeof item === 'object') {
    return animationObjectInitialStyle(item);
  }

  return '';
};

var animationStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["", ";"], function (props) {
  return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["", " animation:", ";"], animationInitialStyle(props.animation), animationItemStyle(props.animation, props.theme));
});
var interactiveStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["cursor:pointer;&:hover{", "}"], function (props) {
  return props.hoverIndicator && Object(_utils__WEBPACK_IMPORTED_MODULE_2__["getHoverIndicatorStyle"])(props.hoverIndicator, props.theme);
});

var getSize = function getSize(props, size) {
  return props.theme.global.size[size] || size;
};

var heightObjectStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["", ";", ";"], function (props) {
  return props.heightProp.max && Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["max-height:", ";"], getSize(props, props.heightProp.max));
}, function (props) {
  return props.heightProp.min && Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["min-height:", ";"], getSize(props, props.heightProp.min));
});
var heightStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["height:", ";"], function (props) {
  return getSize(props, props.heightProp);
});
var widthObjectStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["", ";", ";"], function (props) {
  return props.widthProp.max && Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["max-width:", ";"], getSize(props, props.widthProp.max));
}, function (props) {
  return props.widthProp.min && Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["min-width:", ";"], getSize(props, props.widthProp.min));
});
var widthStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["width:", ";"], function (props) {
  return getSize(props, props.widthProp);
}); // NOTE: basis must be after flex! Otherwise, flex overrides basis

var StyledBox = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledBox",
  componentId: "sc-13pk1d4-0"
})(["display:flex;box-sizing:border-box;outline:none;", ";", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", ""], function (props) {
  return !props.basis && 'max-width: 100%;';
}, _utils__WEBPACK_IMPORTED_MODULE_2__["genericStyles"], function (props) {
  return props.align && alignStyle;
}, function (props) {
  return props.alignContent && alignContentStyle;
}, function (props) {
  return props.background && Object(_utils__WEBPACK_IMPORTED_MODULE_2__["backgroundStyle"])(props.background, props.theme);
}, function (props) {
  return props.border && (Array.isArray(props.border) ? props.border.map(function (border) {
    return Object(_utils__WEBPACK_IMPORTED_MODULE_2__["borderStyle"])(border, props.responsive, props.theme);
  }) : Object(_utils__WEBPACK_IMPORTED_MODULE_2__["borderStyle"])(props.border, props.responsive, props.theme));
}, function (props) {
  return props.directionProp && directionStyle(props.directionProp, props.theme);
}, function (props) {
  return props.heightProp && (typeof props.heightProp === 'object' ? heightObjectStyle : heightStyle);
}, function (props) {
  return props.widthProp && (typeof props.widthProp === 'object' ? widthObjectStyle : widthStyle);
}, function (props) {
  return props.flex !== undefined && flexStyle;
}, function (props) {
  return props.basis && basisStyle;
}, function (props) {
  return props.fillProp && fillStyle(props.fillProp);
}, function (props) {
  return props.justify && justifyStyle;
}, function (props) {
  return props.pad && Object(_utils__WEBPACK_IMPORTED_MODULE_2__["edgeStyle"])('padding', props.pad, props.responsive, props.theme.box.responsiveBreakpoint, props.theme);
}, function (props) {
  return props.round && roundStyle(props.round, props.responsive, props.theme);
}, function (props) {
  return props.wrapProp && wrapStyle;
}, function (props) {
  return props.overflowProp && Object(_utils__WEBPACK_IMPORTED_MODULE_2__["overflowStyle"])(props.overflowProp);
}, function (props) {
  return props.elevationProp && elevationStyle;
}, function (props) {
  return props.animation && animationStyle;
}, function (props) {
  return props.onClick && interactiveStyle;
}, function (props) {
  return props.onClick && props.focus && props.focusIndicator !== false && _utils__WEBPACK_IMPORTED_MODULE_2__["focusStyle"];
}, function (props) {
  return props.theme.box && props.theme.box.extend;
});

var gapStyle = function gapStyle(directionProp, gap, responsive, theme) {
  var breakpoint = theme.box.responsiveBreakpoint && theme.global.breakpoints[theme.box.responsiveBreakpoint];
  var responsiveSize = breakpoint && breakpoint.edgeSize[gap] && breakpoint.edgeSize[gap];
  var styles = [];

  if (directionProp === 'column') {
    styles.push(Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["height:", ";"], theme.global.edgeSize[gap] || gap));

    if (responsiveSize) {
      styles.push(Object(_utils__WEBPACK_IMPORTED_MODULE_2__["breakpointStyle"])(breakpoint, "height: " + responsiveSize + ";"));
    }
  } else {
    styles.push("width: " + (theme.global.edgeSize[gap] || gap) + ";");

    if (responsive && directionProp === 'row-responsive') {
      styles.push(Object(_utils__WEBPACK_IMPORTED_MODULE_2__["breakpointStyle"])(breakpoint, "\n        width: auto;\n        height: " + responsiveSize + ";\n      "));
    }
  }

  return styles;
};

StyledBox.defaultProps = {};
Object.setPrototypeOf(StyledBox.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_1__["defaultProps"]);
var StyledBoxGap = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledBox__StyledBoxGap",
  componentId: "sc-13pk1d4-1"
})(["flex:0 0 auto;", ";"], function (props) {
  return props.gap && gapStyle(props.directionProp, props.gap, props.responsive, props.theme);
});
StyledBoxGap.defaultProps = {};
Object.setPrototypeOf(StyledBoxGap.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_1__["defaultProps"]);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Box/doc.js":
/*!********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Box/doc.js ***!
  \********************************************************/
/*! exports provided: OVERFLOW_VALUES, doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OVERFLOW_VALUES", function() { return OVERFLOW_VALUES; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var PAD_SIZES = ['xxsmall', 'xsmall', 'small', 'medium', 'large', 'xlarge'];
var OVERFLOW_VALUES = ['auto', 'hidden', 'scroll', 'visible'];
var ANIMATION_TYPE = react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['fadeIn', 'fadeOut', 'jiggle', 'pulse', 'slideUp', 'slideDown', 'slideLeft', 'slideRight', 'zoomIn', 'zoomOut']);
var ANIMATION_SHAPE = react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
  type: ANIMATION_TYPE,
  delay: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number,
  duration: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number,
  size: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['xsmall', 'small', 'medium', 'large', 'xlarge'])
});
var BORDER_SHAPE = react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
  color: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
    dark: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
    light: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string
  })]),
  side: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['top', 'left', 'bottom', 'right', 'horizontal', 'vertical', 'all']),
  size: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['xsmall', 'small', 'medium', 'large', 'xlarge']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
  style: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['solid', 'dashed', 'dotted', 'double', 'groove', 'ridge', 'inset', 'outset', 'hidden']).defaultValue('solid')
}); // if you update values here, make sure to update in Drop/doc too.

var overflowPropType = react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(OVERFLOW_VALUES), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
  horizontal: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(OVERFLOW_VALUES),
  vertical: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(OVERFLOW_VALUES)
}), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]);
var doc = function doc(Box) {
  var DocumentedBox = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Box).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('Box')).description("A container that lays out its contents in one direction. Box\n      provides CSS flexbox capabilities for layout, as well as general\n      styling of things like background color, border, and animation.").usage("import { Box } from 'grommet';\n<Box />").intrinsicElement('div');
  DocumentedBox.propTypes = _extends({}, _utils__WEBPACK_IMPORTED_MODULE_1__["genericProps"], {
    align: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['start', 'center', 'end', 'baseline', 'stretch']).description('How to align the contents along the cross axis.'),
    alignContent: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['start', 'center', 'end', 'between', 'around', 'stretch']).description("How to align the contents when there is extra space in\n        the cross axis.").defaultValue('stretch'),
    animation: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([ANIMATION_TYPE, ANIMATION_SHAPE, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([ANIMATION_TYPE, ANIMATION_SHAPE]))]).description("Animation effect(s) to use. 'duration' and 'delay' should\n        be in milliseconds. 'jiggle' and 'pulse' types are intended for\n        small elements, like icons."),
    background: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      color: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
      dark: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
      image: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
      position: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
      opacity: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['weak', 'medium', 'strong'])]),
      repeat: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['no-repeat', 'repeat']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
      size: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['cover', 'contain']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
      light: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string
    })]).description("Either a color identifier to use for the background\n        color. For example: 'neutral-1'. Or, a 'url()' for an image. Dark\n        is not needed if color is provided."),
    basis: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['xxsmall', 'xsmall', 'small', 'medium', 'large', 'xlarge', 'xxlarge', 'full', '1/2', '1/3', '2/3', '1/4', '2/4', '3/4', 'auto']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description("A fixed or relative size along its container's main axis."),
    border: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['top', 'left', 'bottom', 'right', 'horizontal', 'vertical', 'all']), BORDER_SHAPE, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(BORDER_SHAPE)]).description('Include a border.'),
    direction: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['row', 'column', 'row-responsive', 'row-reverse', 'column-reverse']).description('The orientation to layout the child components in.').defaultValue('column'),
    elevation: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['none', 'xsmall', 'small', 'medium', 'large', 'xlarge']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description("Elevated height above the underlying context, indicated\n        via a drop shadow.").defaultValue('none'),
    flex: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['grow', 'shrink']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      grow: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number,
      shrink: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number
    })]).description('Whether flex-grow and/or flex-shrink is true and at a desired factor.'),
    fill: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['horizontal', 'vertical']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool]).description('Whether the width and/or height should fill the container.'),
    focusIndicator: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("When interactive via 'onClick', whether it should receive a focus\n        outline.").defaultValue(true),
    gap: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['none', 'xxsmall', 'xsmall', 'small', 'medium', 'large', 'xlarge']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description("The amount of spacing between child elements. This\n        should not be used in conjunction with 'wrap' as the gap elements\n        will not wrap gracefully."),
    height: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['xxsmall', 'xsmall', 'small', 'medium', 'large', 'xlarge', 'xxlarge']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      min: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['xxsmall', 'xsmall', 'small', 'medium', 'large', 'xlarge', 'xxlarge']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
      max: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['xxsmall', 'xsmall', 'small', 'medium', 'large', 'xlarge', 'xxlarge']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string])
    })]).description('A fixed height.'),
    hoverIndicator: _utils__WEBPACK_IMPORTED_MODULE_1__["hoverIndicatorPropType"].description("When 'onClick' has been specified, the hover indicator to apply\n        when the user is mousing over the box.").defaultValue(false),
    justify: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['around', 'between', 'center', 'end', 'evenly', 'start', 'stretch']).description('How to align the contents along the main axis.').defaultValue('stretch'),
    onClick: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Click handler. Setting this property adds additional attributes to\n      the DOM for accessibility."),
    overflow: overflowPropType.description('box overflow.'),
    pad: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['none'].concat(PAD_SIZES)), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      bottom: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(PAD_SIZES), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
      horizontal: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(PAD_SIZES), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
      left: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(PAD_SIZES), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
      right: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(PAD_SIZES), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
      top: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(PAD_SIZES), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
      vertical: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(PAD_SIZES), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string])
    }), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description("The amount of padding around the box contents. An\n        object can be specified to distinguish horizontal padding, vertical\n        padding, and padding on a particular side of the box").defaultValue('none'),
    responsive: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Whether margin, pad, and border\n      sizes should be scaled for mobile environments.").defaultValue(true),
    round: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['xsmall', 'small', 'medium', 'large', 'xlarge', 'full']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      corner: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['top', 'left', 'bottom', 'right', 'top-left', 'top-right', 'bottom-left', 'bottom-right']),
      size: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['xsmall', 'small', 'medium', 'large', 'xlarge']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string])
    })]).description('How much to round the corners.').defaultValue(false),
    tag: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func]).description("The DOM tag to use for the element. NOTE: This is deprecated in favor\nof indicating the DOM tag via the 'as' property."),
    as: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func]).description('The DOM tag or react component to use for the element.').defaultValue('div'),
    width: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['xxsmall', 'xsmall', 'small', 'medium', 'large', 'xlarge', 'xxlarge']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      min: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['xxsmall', 'xsmall', 'small', 'medium', 'large', 'xlarge', 'xxlarge']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
      max: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['xxsmall', 'xsmall', 'small', 'medium', 'large', 'xlarge', 'xxlarge']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string])
    })]).description('A fixed width.'),
    wrap: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['reverse'])]).description("Whether children can wrap if they can't all fit.").defaultValue(false)
  });
  return DocumentedBox;
};
var themeDoc = _extends({
  'global.animation': {
    description: 'The animation configuration for the Box.',
    type: 'object',
    defaultValue: "{\n  duration: '1s',\n  jiggle: {\n    duration: '0.1s',\n  },\n}"
  },
  'global.borderSize': {
    description: 'The possible border sizes in the Box.',
    type: 'object',
    defaultValue: "{\n  xsmall: '1px',\n  small: '2px',\n  medium: '4px',\n  large: '12px',\n  xlarge: '24px,\n}"
  },
  'global.elevation': {
    description: 'The possible shadows in Box elevation.',
    type: 'object',
    defaultValue: "{\n  light: {\n    none: 'none',\n    xsmall: '0px 1px 2px rgba(100, 100, 100, 0.50)',\n    small: '0px 2px 4px rgba(100, 100, 100, 0.50)',\n    medium: '0px 3px 8px rgba(100, 100, 100, 0.50)',\n    large: '0px 6px 12px rgba(100, 100, 100, 0.50)',\n    xlarge: '0px 8px 16px rgba(100, 100, 100, 0.50)',\n  },\n  dark: {\n    none: 'none',\n    xsmall: '0px 2px 2px rgba(255, 255, 255, 0.40)',\n    small: '0px 4px 4px rgba(255, 255, 255, 0.40)',\n    medium: '0px 6px 8px rgba(255, 255, 255, 0.40)',\n    large: '0px 8px 16px rgba(255, 255, 255, 0.40)',\n    xlarge: '0px 10px 24px rgba(255, 255, 255, 0.40)',\n  },\n}"
  },
  'global.colors.border': {
    description: 'The color of the border',
    type: 'string | { dark: string, light: string }',
    defaultValue: '{ dark: rgba(255, 255, 255, 0.33), light: rgba(0, 0, 0, 0.33), }'
  },
  'global.hover.background.color': {
    description: 'The color of the default background when hovering',
    type: 'string | { dark: string, light: string }',
    defaultValue: 'active'
  },
  'global.hover.background.opacity': {
    description: 'The opacity of the default background when hovering',
    type: 'string | { dark: string, light: string }',
    defaultValue: 'medium'
  },
  'global.hover.color': {
    description: 'The color of the default background when hovering',
    type: 'string | { dark: string, light: string }',
    defaultValue: '{ dark: "white", light: "black" }'
  },
  'global.opacity.medium': {
    description: 'The value used when background opacity is set to true.',
    type: 'number',
    defaultValue: '0.4'
  },
  'global.size': {
    description: 'The possible sizes for width, height, and basis.',
    type: 'object',
    defaultValue: "{\n  xxsmall: '48px',\n  xsmall: '96px',\n  small: '192px',\n  medium: '384px',\n  large: '768px',\n  xlarge: '1152px',\n  xxlarge: '1536px',\n  full: '100%',\n}"
  },
  'box.extend': {
    description: 'Any additional style for the Box.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'box.responsiveBreakpoint': {
    description: "The actual breakpoint to trigger changes in the border, \n    direction, gap, margin, pad, and round.",
    type: 'string',
    defaultValue: 'small'
  }
}, _utils__WEBPACK_IMPORTED_MODULE_1__["themeDocUtils"].edgeStyle('The possible sizes for any of gap, margin, and pad.'), {}, _utils__WEBPACK_IMPORTED_MODULE_1__["themeDocUtils"].breakpointStyle("The possible breakpoints that could affect border, direction, gap, margin, \n    pad, and round."));

/***/ }),

/***/ "./node_modules/grommet/es6/components/Box/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Box/index.js ***!
  \**********************************************************/
/*! exports provided: Box */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Box */ "./node_modules/grommet/es6/components/Box/Box.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Box", function() { return _Box__WEBPACK_IMPORTED_MODULE_0__["Box"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Button/Button.js":
/*!**************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Button/Button.js ***!
  \**************************************************************/
/*! exports provided: Button */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Button", function() { return ButtonWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
/* harmony import */ var _StyledButton__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./StyledButton */ "./node_modules/grommet/es6/components/Button/StyledButton.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }







var Button = Object(react__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function (_ref, ref) {
  var a11yTitle = _ref.a11yTitle,
      color = _ref.color,
      children = _ref.children,
      disabled = _ref.disabled,
      icon = _ref.icon,
      _ref$focusIndicator = _ref.focusIndicator,
      focusIndicator = _ref$focusIndicator === void 0 ? true : _ref$focusIndicator,
      _ref$gap = _ref.gap,
      gap = _ref$gap === void 0 ? 'small' : _ref$gap,
      fill = _ref.fill,
      href = _ref.href,
      label = _ref.label,
      _onBlur = _ref.onBlur,
      onClick = _ref.onClick,
      _onFocus = _ref.onFocus,
      onMouseOut = _ref.onMouseOut,
      onMouseOver = _ref.onMouseOver,
      plain = _ref.plain,
      primary = _ref.primary,
      reverse = _ref.reverse,
      _ref$type = _ref.type,
      type = _ref$type === void 0 ? 'button' : _ref$type,
      as = _ref.as,
      rest = _objectWithoutPropertiesLoose(_ref, ["a11yTitle", "color", "children", "disabled", "icon", "focusIndicator", "gap", "fill", "href", "label", "onBlur", "onClick", "onFocus", "onMouseOut", "onMouseOver", "plain", "primary", "reverse", "type", "as"]);

  var theme = Object(react__WEBPACK_IMPORTED_MODULE_0__["useContext"])(styled_components__WEBPACK_IMPORTED_MODULE_1__["ThemeContext"]) || _default_props__WEBPACK_IMPORTED_MODULE_3__["defaultProps"].theme;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(),
      focus = _useState[0],
      setFocus = _useState[1];

  if ((icon || label) && children) {
    console.warn('Button should not have children if icon or label is provided');
  }

  var isDarkBackground = function isDarkBackground() {
    var backgroundColor = Object(_utils__WEBPACK_IMPORTED_MODULE_2__["normalizeBackground"])(Object(_utils__WEBPACK_IMPORTED_MODULE_2__["normalizeColor"])(color || theme.button.primary.color || theme.global.colors.control || 'brand', theme), theme);
    return Object(_utils__WEBPACK_IMPORTED_MODULE_2__["colorIsDark"])(backgroundColor, theme);
  };

  var _useState2 = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(false),
      hover = _useState2[0],
      setHover = _useState2[1];

  var onMouseOverButton = function onMouseOverButton(event) {
    setHover(true);

    if (onMouseOver) {
      onMouseOver(event);
    }
  };

  var onMouseOutButton = function onMouseOutButton(event) {
    setHover(false);

    if (onMouseOut) {
      onMouseOut(event);
    }
  };

  var buttonIcon = icon; // only change color if user did not specify the color themselves...

  if (primary && icon && !icon.props.color) {
    buttonIcon = Object(react__WEBPACK_IMPORTED_MODULE_0__["cloneElement"])(icon, {
      color: theme.global.colors.text[isDarkBackground() ? 'dark' : 'light']
    });
  }

  var domTag = !as && href ? 'a' : as;
  var first = reverse ? label : buttonIcon;
  var second = reverse ? buttonIcon : label;
  var contents;

  if (first && second) {
    contents = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"], {
      direction: "row",
      align: "center",
      justify: "center",
      gap: gap
    }, first, second);
  } else if (typeof children === 'function') {
    contents = children({
      hover: hover,
      focus: focus
    });
  } else {
    contents = first || second || children;
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledButton__WEBPACK_IMPORTED_MODULE_5__["StyledButton"], _extends({}, rest, {
    as: domTag,
    ref: ref,
    "aria-label": a11yTitle,
    colorValue: color,
    disabled: disabled,
    hasIcon: !!icon,
    gap: gap,
    hasLabel: !!label,
    fillContainer: fill,
    focus: focus,
    focusIndicator: focusIndicator,
    href: href,
    onClick: onClick,
    onFocus: function onFocus(event) {
      setFocus(true);
      if (_onFocus) _onFocus(event);
    },
    onBlur: function onBlur(event) {
      setFocus(false);
      if (_onBlur) _onBlur(event);
    },
    onMouseOver: onMouseOverButton,
    onMouseOut: onMouseOutButton,
    pad: !plain,
    plain: typeof plain !== 'undefined' ? plain : react__WEBPACK_IMPORTED_MODULE_0__["Children"].count(children) > 0 || icon && !label,
    primary: primary,
    type: !href ? type : undefined
  }), contents);
});
Button.displayName = 'Button';
var ButtonDoc;

if (true) {
  // eslint-disable-next-line global-require
  ButtonDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Button/doc.js").doc(Button);
}

var ButtonWrapper = ButtonDoc || Button;


/***/ }),

/***/ "./node_modules/grommet/es6/components/Button/StyledButton.js":
/*!********************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Button/StyledButton.js ***!
  \********************************************************************/
/*! exports provided: StyledButton */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledButton", function() { return StyledButton; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");




var basicStyle = function basicStyle(props) {
  return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["border:", " solid ", ";border-radius:", ";color:", ";padding:", " ", ";font-size:", ";line-height:", ";"], props.theme.button.border.width, Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.colorValue || props.theme.button.border.color || 'control', props.theme), props.theme.button.border.radius, Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.button.color || 'text', props.theme), props.theme.button.padding.vertical, props.theme.button.padding.horizontal, props.theme.text.medium.size, props.theme.text.medium.height);
};

var primaryStyle = function primaryStyle(props) {
  return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["", " border-radius:", ";"], Object(_utils__WEBPACK_IMPORTED_MODULE_1__["backgroundStyle"])(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.colorValue || props.theme.button.primary.color || 'control', props.theme), props.theme, props.theme.button.color), props.theme.button.border.radius);
};

function getHoverColor(props) {
  if (props.colorValue) {
    return Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.colorValue, props.theme);
  }

  return Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.button.border.color || 'control', props.theme);
}

var hoverStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["&:hover{", " ", ";}"], function (props) {
  return props.hoverIndicator && Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getHoverIndicatorStyle"])(props.hoverIndicator, props.theme);
}, function (props) {
  return !props.plain && Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["box-shadow:0px 0px 0px 2px ", ";"], getHoverColor(props));
});

var fillStyle = function fillStyle(fillContainer) {
  if (fillContainer === 'horizontal') {
    return 'width: 100%;';
  }

  if (fillContainer === 'vertical') {
    return 'height: 100%;';
  }

  if (fillContainer) {
    return "\n      width: 100%;\n      height: 100%;\n      max-width: none;\n      flex: 1 0 auto;\n    ";
  }

  return undefined;
};

var plainStyle = function plainStyle(props) {
  return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["color:", ";border:none;padding:0;text-align:inherit;"], Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.colorValue || 'inherit', props.theme));
}; // Deprecate props.theme.button.disabled.opacity in V3


var StyledButton = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].button.withConfig({
  displayName: "StyledButton",
  componentId: "sc-323bzc-0"
})(["display:inline-block;box-sizing:border-box;cursor:pointer;outline:none;font:inherit;text-decoration:none;margin:0;background:transparent;overflow:visible;text-transform:none;", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", ""], _utils__WEBPACK_IMPORTED_MODULE_1__["genericStyles"], function (props) {
  return props.plain && plainStyle(props);
}, function (props) {
  return !props.plain && basicStyle(props);
}, function (props) {
  return props.primary && primaryStyle(props);
}, function (props) {
  return !props.disabled && !props.focus && hoverStyle;
}, function (props) {
  return !props.disabled && props.active && _utils__WEBPACK_IMPORTED_MODULE_1__["activeStyle"];
}, function (props) {
  return props.disabled && Object(_utils__WEBPACK_IMPORTED_MODULE_1__["disabledStyle"])(props.theme.button.disabled && props.theme.button.disabled.opacity);
}, function (props) {
  return props.focus && (!props.plain || props.focusIndicator) && _utils__WEBPACK_IMPORTED_MODULE_1__["focusStyle"];
}, function (props) {
  return !props.plain && "\n    transition-property: color,\n      background-color,\n      border-color,\n      box-shadow;\n    transition-duration: 0.1s;\n    transition-timing-function: ease-in-out;\n  ";
}, function (props) {
  return props.fillContainer && fillStyle(props.fillContainer);
}, function (props) {
  return props.hasIcon && !props.hasLabel && "\n    line-height: 0;\n  ";
}, function (props) {
  return props.pad && props.hasIcon && !props.hasLabel && "\npadding: " + props.theme.global.edgeSize.small + ";\n";
}, function (props) {
  return props.theme.button.extend;
});
StyledButton.defaultProps = {};
Object.setPrototypeOf(StyledButton.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Button/doc.js":
/*!***********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Button/doc.js ***!
  \***********************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var doc = function doc(Button) {
  var DocumentedButton = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Button).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('Button')).description('A button.').details("You can provide a single function child that will be called with\n      'hover' and 'focus' keys. This allows you to customize the rendering\n      of the Button in those cases.").usage("import { Button } from 'grommet';\n<Button primary label='Label' />").intrinsicElement('button');
  DocumentedButton.propTypes = _extends({}, _utils__WEBPACK_IMPORTED_MODULE_1__["genericProps"], {
    active: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Whether the button is active.').defaultValue(false),
    color: _utils__WEBPACK_IMPORTED_MODULE_1__["colorPropType"].description('Fill color for primary, label color for plain, border color otherwise.'),
    disabled: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Whether the button is disabled.').defaultValue(false),
    fill: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['horizontal', 'vertical']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool]).description("Whether the button expands to fill all of the available width and/or \n        height.").defaultValue(false),
    focusIndicator: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Whether when 'plain' it should receive a focus outline.").defaultValue(true),
    hoverIndicator: _utils__WEBPACK_IMPORTED_MODULE_1__["hoverIndicatorPropType"].description("The hover indicator to apply when the user is mousing over the\nbutton. An object can be also be specified for color index support:\n{background: 'neutral-2'}. This prop is meant to be used only\nwith plain Buttons.").defaultValue(false),
    href: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description('If specified, the button will behave like an anchor tag.'),
    target: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['_self', '_blank', '_parent', '_top']).description("Specifies where to display the URL defined in the href property."),
    icon: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].element.description('Icon element to place in the button.'),
    gap: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['none', 'xxsmall', 'xsmall', 'small', 'medium', 'large', 'xlarge']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description("The amount of spacing between icon and label in the button.").defaultValue('small'),
    label: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].node.description('Label text to place in the button.'),
    onClick: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Click handler. Not setting this property and not specifying a href\ncauses the Button to be disabled."),
    plain: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Whether this is a plain button with no border or pad.\nNon plain button will show both pad and border.\nThe plain button has no border and unless the icon prop exist it has no pad as \nwell.").defaultValue(false),
    primary: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Whether this is a primary button. There should be at most one per page\n         or screen.").defaultValue(false),
    reverse: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Whether an icon and label should be reversed so that the icon is at the\nend of the anchor.").defaultValue(false),
    type: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['button', 'reset', 'submit']).description("The type of button. Set the type to submit for the default button on \n        forms.").defaultValue('button'),
    as: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func]).description("The DOM tag or react component to use for the element.")
  });
  return DocumentedButton;
};
var themeDoc = _extends({
  'global.active.background.color': {
    description: 'The background color when using active prop.',
    type: 'string | { dark: string, light: string }',
    defaultValue: 'active'
  },
  'global.active.background.opacity': {
    description: 'The value used for active button background opacity.',
    type: 'number | string',
    defaultValue: 'medium'
  },
  'global.active.color': {
    description: 'The text color when using active prop.',
    type: 'string | { dark: string, light: string }',
    defaultValue: "{ dark: 'white', light: 'black' }"
  },
  'global.hover.background': {
    description: 'The background style when hovering.',
    type: 'string | { color: string, opacity: string }',
    defaultValue: "{ color: 'active', opacity: 'medium' }"
  },
  'global.hover.color': {
    description: 'The text color when hovering.',
    type: 'string | { dark: string, light: string }',
    defaultValue: "{ dark: 'white', light: 'black' }"
  },
  'global.edgeSize.small': {
    description: 'The padding around an icon-only button.',
    type: 'string | { dark: string, light: string }',
    defaultValue: '12px'
  },
  'global.colors.control': {
    description: 'The color of the border.',
    type: 'string | { dark: string, light: string }',
    defaultValue: "{ dark: 'accent-1', light: 'brand', }"
  },
  'global.colors.brand': {
    description: 'The light version of the border.',
    type: 'string',
    defaultValue: '#7D4CDB'
  },
  'global.colors.text': {
    description: 'The color of the text label.',
    type: 'string | { dark: string, light: string }',
    defaultValue: "{ dark: '#f8f8f8', light: '#444444' }"
  },
  'text.medium.size': {
    description: 'The font size of the text label.',
    type: 'string',
    defaultValue: '18px'
  },
  'text.medium.height': {
    description: 'The line height of the text label.',
    type: 'string',
    defaultValue: '24px'
  },
  'button.border.color': {
    description: "The color of the border.",
    type: 'string | { dark: string, light: string }'
  },
  'button.border.radius': {
    description: 'The corner radius.',
    type: 'string',
    defaultValue: '18px'
  },
  'button.border.width': {
    description: 'The border width.',
    type: 'string',
    defaultValue: '2px'
  },
  'button.color': {
    description: "The color of the text label.",
    type: 'string | { dark: string, light: string }'
  },
  'button.primary.color': {
    description: "The color of the background for primary buttons.",
    type: 'string | { dark: string, light: string }'
  },
  'button.disabled.opacity': {
    description: 'The opacity when the button is disabled.',
    type: 'number',
    defaultValue: 0.3
  },
  'button.padding.horizontal': {
    description: 'The horizontal padding.',
    type: 'string',
    defaultValue: '22px'
  },
  'button.padding.vertical': {
    description: 'The vertical padding.',
    type: 'string',
    defaultValue: '4px'
  },
  'button.extend': {
    description: 'Any additional style for the Button.',
    type: 'string | (props) => {}'
  }
}, _utils__WEBPACK_IMPORTED_MODULE_1__["themeDocUtils"].focusStyle, {}, _utils__WEBPACK_IMPORTED_MODULE_1__["themeDocUtils"].disabledStyle);

/***/ }),

/***/ "./node_modules/grommet/es6/components/Button/index.js":
/*!*************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Button/index.js ***!
  \*************************************************************/
/*! exports provided: Button */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Button */ "./node_modules/grommet/es6/components/Button/Button.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Button", function() { return _Button__WEBPACK_IMPORTED_MODULE_0__["Button"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Calendar/Calendar.js":
/*!******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Calendar/Calendar.js ***!
  \******************************************************************/
/*! exports provided: Calendar */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Calendar", function() { return CalendarWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Button */ "./node_modules/grommet/es6/components/Button/index.js");
/* harmony import */ var _Heading__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Heading */ "./node_modules/grommet/es6/components/Heading/index.js");
/* harmony import */ var _Keyboard__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Keyboard */ "./node_modules/grommet/es6/components/Keyboard/index.js");
/* harmony import */ var _StyledCalendar__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./StyledCalendar */ "./node_modules/grommet/es6/components/Calendar/StyledCalendar.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./utils */ "./node_modules/grommet/es6/components/Calendar/utils.js");
function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }











var headingPadMap = {
  small: 'xsmall',
  medium: 'small',
  large: 'medium'
};

var buildStartEnd = function buildStartEnd(reference, firstDayOfWeek) {
  var start = new Date(reference);
  start.setDate(1); // first of month
  // In case Sunday is the first day of the month, and the user asked for Monday
  // to be the first day of the week, then we need to include Sunday and six
  // days prior.

  start = start.getDay() === 0 && firstDayOfWeek === 1 ? start = Object(_utils__WEBPACK_IMPORTED_MODULE_9__["subtractDays"])(start, 6) : // beginning of week
  start = Object(_utils__WEBPACK_IMPORTED_MODULE_9__["subtractDays"])(start, start.getDay() - firstDayOfWeek);
  var end = Object(_utils__WEBPACK_IMPORTED_MODULE_9__["addDays"])(start, 7 * 5 + 7); // 5 weeks to end of week

  return {
    start: start,
    end: end
  };
};

var buildState = function buildState(props) {
  var date = props.date,
      dates = props.dates,
      firstDayOfWeek = props.firstDayOfWeek,
      reference = props.reference;
  var normalizedReference;

  if (reference) {
    normalizedReference = new Date(reference);
  } else if (date) {
    normalizedReference = new Date(date);
  } else if (dates && dates.length > 0) {
    if (typeof dates[0] === 'string') {
      normalizedReference = new Date(dates[0]);
    } else if (Array.isArray(dates[0])) {
      normalizedReference = new Date(dates[0][0]);
    } else {
      normalizedReference = new Date();
    }
  } else {
    normalizedReference = new Date();
  }

  return _extends({}, buildStartEnd(normalizedReference, firstDayOfWeek), {
    reference: normalizedReference
  });
};

var Calendar =
/*#__PURE__*/
function (_Component) {
  _inheritsLoose(Calendar, _Component);

  function Calendar() {
    var _this;

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _Component.call.apply(_Component, [this].concat(args)) || this;

    _defineProperty(_assertThisInitialized(_this), "state", {});

    _defineProperty(_assertThisInitialized(_this), "dayRefs", {});

    _defineProperty(_assertThisInitialized(_this), "clearSlideStateLater", function () {
      clearTimeout(_this.timer);
      _this.timer = setTimeout(function () {
        var targetStartEnd = _this.state.targetStartEnd;

        if (targetStartEnd) {
          _this.setState({
            start: targetStartEnd.start,
            end: targetStartEnd.end,
            targetStartEnd: undefined,
            slide: undefined
          });
        } // Wait for animation to finish before cleaning up.
        // Empirically determined.

      }, 800);
    });

    _defineProperty(_assertThisInitialized(_this), "setReference", function (reference) {
      var _this$props = _this.props,
          animate = _this$props.animate,
          bounds = _this$props.bounds,
          firstDayOfWeek = _this$props.firstDayOfWeek,
          onReference = _this$props.onReference;
      var _this$state = _this.state,
          start = _this$state.start,
          end = _this$state.end,
          targetStartEnd = _this$state.targetStartEnd;

      if (Object(_utils__WEBPACK_IMPORTED_MODULE_9__["betweenDates"])(reference, bounds)) {
        var nextStartEnd = buildStartEnd(reference, firstDayOfWeek);
        var nextState = {
          reference: reference
        }; // if we're changing too fast, bypass animation

        if (!animate || targetStartEnd) {
          nextState.targetStartEnd = nextStartEnd;
          nextState.start = nextStartEnd.start;
          nextState.end = nextStartEnd.end;
          nextState.targetStartEnd = undefined;
          nextState.slide = undefined;
        } else {
          nextState.targetStartEnd = nextStartEnd;

          if (nextStartEnd.start.getTime() < start.getTime()) {
            nextState.start = nextStartEnd.start;
            nextState.slide = {
              direction: 'down',
              weeks: Object(_utils__WEBPACK_IMPORTED_MODULE_9__["daysApart"])(start, nextStartEnd.start) / 7
            };
          } else if (nextStartEnd.end.getTime() > end.getTime()) {
            nextState.end = nextStartEnd.end;
            nextState.slide = {
              direction: 'up',
              weeks: Object(_utils__WEBPACK_IMPORTED_MODULE_9__["daysApart"])(nextStartEnd.end, end) / 7
            };
          }
        }

        _this.clearSlideStateLater();

        _this.setState(nextState, function () {
          if (onReference) {
            onReference(reference.toISOString());
          }
        });
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onFocus", function (day) {
      return function () {
        var bounds = _this.props.bounds;
        var reference = _this.state.reference;

        if (Object(_utils__WEBPACK_IMPORTED_MODULE_9__["betweenDates"])(day, bounds)) {
          _this.setState({
            focused: day
          }, function () {
            if (day.getMonth() !== reference.getMonth()) {
              _this.setReference(day);
            }
          });
        }
      };
    });

    _defineProperty(_assertThisInitialized(_this), "onClickDay", function (dateString) {
      return function () {
        var _this$props2 = _this.props,
            onSelect = _this$props2.onSelect,
            range = _this$props2.range;

        if (range) {
          var nextState = Object(_utils__WEBPACK_IMPORTED_MODULE_9__["updateDateRange"])(dateString, _this.state);

          _this.setState(nextState);

          if (onSelect) {
            onSelect(nextState.dates || nextState.date || undefined);
          }
        } else if (onSelect) {
          onSelect(dateString);
        }
      };
    });

    _defineProperty(_assertThisInitialized(_this), "setFocus", function (day) {
      var ref = _this.dayRefs[day.toISOString()];

      if (ref && ref.current) {
        ref.current.focus();
      }
    });

    _defineProperty(_assertThisInitialized(_this), "renderCalendarHeader", function (previousMonth, nextMonth) {
      var _this$props3 = _this.props,
          bounds = _this$props3.bounds,
          locale = _this$props3.locale,
          size = _this$props3.size,
          theme = _this$props3.theme;
      var reference = _this.state.reference;
      var PreviousIcon = size === 'small' ? theme.calendar.icons.small.previous : theme.calendar.icons.previous;
      var NextIcon = size === 'small' ? theme.calendar.icons.small.next : theme.calendar.icons.next;
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"], {
        direction: "row",
        justify: "between",
        align: "center"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"], {
        flex: true,
        pad: {
          horizontal: headingPadMap[size] || 'small'
        }
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Heading__WEBPACK_IMPORTED_MODULE_6__["Heading"], {
        level: size === 'small' ? theme.calendar.heading && theme.calendar.heading.level || 4 : (theme.calendar.heading && theme.calendar.heading.level || 4) - 1,
        size: size,
        margin: "none"
      }, reference.toLocaleDateString(locale, {
        month: 'long',
        year: 'numeric'
      }))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"], {
        flex: false,
        direction: "row",
        align: "center"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_5__["Button"], {
        a11yTitle: previousMonth.toLocaleDateString(locale, {
          month: 'long',
          year: 'numeric'
        }),
        icon: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PreviousIcon, {
          size: size !== 'small' ? size : undefined
        }),
        disabled: !Object(_utils__WEBPACK_IMPORTED_MODULE_9__["betweenDates"])(previousMonth, bounds),
        onClick: function onClick() {
          return _this.setReference(previousMonth);
        }
      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_5__["Button"], {
        a11yTitle: nextMonth.toLocaleDateString(locale, {
          month: 'long',
          year: 'numeric'
        }),
        icon: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(NextIcon, {
          size: size !== 'small' ? size : undefined
        }),
        disabled: !Object(_utils__WEBPACK_IMPORTED_MODULE_9__["betweenDates"])(nextMonth, bounds),
        onClick: function onClick() {
          return _this.setReference(nextMonth);
        }
      })));
    });

    _defineProperty(_assertThisInitialized(_this), "renderDaysOfWeek", function (locale, size, start) {
      var day = new Date(start);
      var days = [];

      while (days.length < 7) {
        days.push(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledCalendar__WEBPACK_IMPORTED_MODULE_8__["StyledDayContainer"], {
          key: days.length,
          sizeProp: size
        }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledCalendar__WEBPACK_IMPORTED_MODULE_8__["StyledDay"], {
          otherMonth: true,
          sizeProp: size
        }, day.toLocaleDateString(locale, {
          weekday: 'narrow'
        }))));
        day = Object(_utils__WEBPACK_IMPORTED_MODULE_9__["addDays"])(day, 1);
      }

      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledCalendar__WEBPACK_IMPORTED_MODULE_8__["StyledWeek"], null, days);
    });

    return _this;
  }

  Calendar.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {
    var reference = nextProps.reference;
    var prevReference = prevState.reference;

    if (Object.prototype.hasOwnProperty.call(nextProps, 'date') || Object.prototype.hasOwnProperty.call(nextProps, 'dates') || !prevReference || reference) {
      var state = {};

      if (Object.prototype.hasOwnProperty.call(nextProps, 'date') || Object.prototype.hasOwnProperty.call(nextProps, 'dates')) {
        state.date = nextProps.date;
        state.dates = nextProps.dates;
      }

      if (!prevReference || reference) {
        state = _extends({}, state, {}, buildState(nextProps));
      }

      return state;
    }

    return null;
  };

  var _proto = Calendar.prototype;

  _proto.componentDidUpdate = function componentDidUpdate() {
    var focused = this.state.focused;

    if (focused) {
      var ref = this.dayRefs[focused.toISOString()];

      if (ref && ref.current && ref.current !== document.activeElement) {
        ref.current.focus();
      }
    }
  };

  _proto.componentWillUnmount = function componentWillUnmount() {
    clearTimeout(this.timer);
  };

  _proto.render = function render() {
    var _this2 = this;

    var _this$props4 = this.props,
        bounds = _this$props4.bounds,
        dateProp = _this$props4.date,
        datesProp = _this$props4.dates,
        disabled = _this$props4.disabled,
        daysOfWeek = _this$props4.daysOfWeek,
        firstDayOfWeek = _this$props4.firstDayOfWeek,
        header = _this$props4.header,
        locale = _this$props4.locale,
        onReference = _this$props4.onReference,
        onSelect = _this$props4.onSelect,
        range = _this$props4.range,
        showAdjacentDays = _this$props4.showAdjacentDays,
        size = _this$props4.size,
        theme = _this$props4.theme,
        rest = _objectWithoutPropertiesLoose(_this$props4, ["bounds", "date", "dates", "disabled", "daysOfWeek", "firstDayOfWeek", "header", "locale", "onReference", "onSelect", "range", "showAdjacentDays", "size", "theme"]);

    var _this$state2 = this.state,
        date = _this$state2.date,
        dates = _this$state2.dates,
        focused = _this$state2.focused,
        start = _this$state2.start,
        reference = _this$state2.reference,
        end = _this$state2.end,
        slide = _this$state2.slide; // We have to deal with reference being the end of a month with more
    // days than the month we are changing to. So, we always set reference
    // to the first of the month before changing the month.

    var previousMonth = Object(_utils__WEBPACK_IMPORTED_MODULE_9__["endOfMonth"])(Object(_utils__WEBPACK_IMPORTED_MODULE_9__["subtractMonths"])(Object(_utils__WEBPACK_IMPORTED_MODULE_9__["startOfMonth"])(reference), 1));
    var nextMonth = Object(_utils__WEBPACK_IMPORTED_MODULE_9__["startOfMonth"])(Object(_utils__WEBPACK_IMPORTED_MODULE_9__["addMonths"])(Object(_utils__WEBPACK_IMPORTED_MODULE_9__["startOfMonth"])(reference), 1));
    var weeks = [];
    var day = new Date(start);
    var days;
    this.dayRefs = {};

    while (day.getTime() < end.getTime()) {
      if (day.getDay() === firstDayOfWeek) {
        if (days) {
          weeks.push(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledCalendar__WEBPACK_IMPORTED_MODULE_8__["StyledWeek"], {
            key: day.getTime()
          }, days));
        }

        days = [];
      }

      var otherMonth = day.getMonth() !== reference.getMonth();

      if (!showAdjacentDays && otherMonth) {
        days.push(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledCalendar__WEBPACK_IMPORTED_MODULE_8__["StyledDayContainer"], {
          key: day.getTime(),
          sizeProp: size
        }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledCalendar__WEBPACK_IMPORTED_MODULE_8__["StyledDay"], {
          sizeProp: size
        })));
      } else {
        var dateString = day.toISOString();
        this.dayRefs[dateString] = react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef();
        var selected = false;
        var inRange = false;
        var selectedState = Object(_utils__WEBPACK_IMPORTED_MODULE_9__["withinDates"])(day, date || dates);

        if (selectedState === 2) {
          selected = true;
        } else if (selectedState === 1) {
          inRange = true;
        }

        var dayDisabled = Object(_utils__WEBPACK_IMPORTED_MODULE_9__["withinDates"])(day, disabled) || bounds && !Object(_utils__WEBPACK_IMPORTED_MODULE_9__["betweenDates"])(day, bounds);
        days.push(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledCalendar__WEBPACK_IMPORTED_MODULE_8__["StyledDayContainer"], {
          key: day.getTime(),
          sizeProp: size
        }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_5__["Button"], {
          ref: this.dayRefs[dateString],
          a11yTitle: day.toDateString(),
          plain: true,
          hoverIndicator: !dayDisabled,
          disabled: dayDisabled,
          onClick: this.onClickDay(dateString),
          onFocus: this.onFocus(day),
          onBlur: function onBlur() {
            return _this2.setState({
              focused: false
            });
          }
        }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledCalendar__WEBPACK_IMPORTED_MODULE_8__["StyledDay"], {
          inRange: inRange,
          otherMonth: day.getMonth() !== reference.getMonth(),
          isSelected: selected,
          sizeProp: size
        }, day.getDate()))));
      }

      day = Object(_utils__WEBPACK_IMPORTED_MODULE_9__["addDays"])(day, 1);
    }

    weeks.push(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledCalendar__WEBPACK_IMPORTED_MODULE_8__["StyledWeek"], {
      key: day.getTime()
    }, days));
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledCalendar__WEBPACK_IMPORTED_MODULE_8__["StyledCalendar"], _extends({
      sizeProp: size
    }, rest), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Keyboard__WEBPACK_IMPORTED_MODULE_7__["Keyboard"], {
      onUp: function onUp(event) {
        event.preventDefault();

        _this2.setFocus(Object(_utils__WEBPACK_IMPORTED_MODULE_9__["addDays"])(focused, -7));
      },
      onDown: function onDown(event) {
        event.preventDefault();

        _this2.setFocus(Object(_utils__WEBPACK_IMPORTED_MODULE_9__["addDays"])(focused, 7));
      },
      onLeft: function onLeft() {
        return focused && _this2.setFocus(Object(_utils__WEBPACK_IMPORTED_MODULE_9__["addDays"])(focused, -1));
      },
      onRight: function onRight() {
        return focused && _this2.setFocus(Object(_utils__WEBPACK_IMPORTED_MODULE_9__["addDays"])(focused, 1));
      }
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"], null, header ? header({
      date: reference,
      locale: locale,
      onPreviousMonth: function onPreviousMonth() {
        return _this2.setReference(previousMonth);
      },
      onNextMonth: function onNextMonth() {
        return _this2.setReference(nextMonth);
      },
      previousInBound: Object(_utils__WEBPACK_IMPORTED_MODULE_9__["betweenDates"])(previousMonth, bounds),
      nextInBound: Object(_utils__WEBPACK_IMPORTED_MODULE_9__["betweenDates"])(nextMonth, bounds)
    }) : this.renderCalendarHeader(previousMonth, nextMonth), daysOfWeek && this.renderDaysOfWeek(locale, size, start), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledCalendar__WEBPACK_IMPORTED_MODULE_8__["StyledWeeksContainer"], {
      sizeProp: size
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledCalendar__WEBPACK_IMPORTED_MODULE_8__["StyledWeeks"], {
      slide: slide,
      sizeProp: size
    }, weeks)))));
  };

  return Calendar;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

_defineProperty(Calendar, "defaultProps", {
  animate: true,
  firstDayOfWeek: 0,
  size: 'medium',
  locale: 'en-US',
  showAdjacentDays: true
});

Object.setPrototypeOf(Calendar.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_3__["defaultProps"]);
var CalendarDoc;

if (true) {
  // eslint-disable-next-line global-require
  CalendarDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Calendar/doc.js").doc(Calendar);
}

var CalendarWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(styled_components__WEBPACK_IMPORTED_MODULE_2__["withTheme"])(CalendarDoc || Calendar);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Calendar/StyledCalendar.js":
/*!************************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Calendar/StyledCalendar.js ***!
  \************************************************************************/
/*! exports provided: StyledCalendar, StyledWeeksContainer, StyledWeeks, StyledWeek, StyledDayContainer, StyledDay */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledCalendar", function() { return StyledCalendar; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledWeeksContainer", function() { return StyledWeeksContainer; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledWeeks", function() { return StyledWeeks; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledWeek", function() { return StyledWeek; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledDayContainer", function() { return StyledDayContainer; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledDay", function() { return StyledDay; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");




var sizeStyle = function sizeStyle(props) {
  var data = props.theme.calendar[props.sizeProp];
  return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["font-size:", ";line-height:", ";width:", ";"], data.fontSize, data.lineHeight, props.theme.global.size[props.sizeProp]);
};

var StyledCalendar = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledCalendar",
  componentId: "sc-1y4xhmp-0"
})(["", " ", " ", ""], _utils__WEBPACK_IMPORTED_MODULE_1__["genericStyles"], function (props) {
  return sizeStyle(props);
}, function (props) {
  return props.theme.calendar && props.theme.calendar.extend;
});
StyledCalendar.defaultProps = {};
Object.setPrototypeOf(StyledCalendar.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var StyledWeeksContainer = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledCalendar__StyledWeeksContainer",
  componentId: "sc-1y4xhmp-1"
})(["overflow:hidden;", ";"], function (props) {
  return "height: " + Object(_utils__WEBPACK_IMPORTED_MODULE_1__["parseMetricToNum"])(props.theme.calendar[props.sizeProp].daySize) * 6 + "px;";
});
StyledWeeksContainer.defaultProps = {};
Object.setPrototypeOf(StyledWeeksContainer.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);

var slideStyle = function slideStyle(props) {
  var _props$slide = props.slide,
      direction = _props$slide.direction,
      weeks = _props$slide.weeks,
      sizeProp = props.sizeProp,
      theme = props.theme;
  var _theme$calendar$sizeP = theme.calendar[sizeProp],
      daySize = _theme$calendar$sizeP.daySize,
      slideDuration = _theme$calendar$sizeP.slideDuration;
  var amount = Object(_utils__WEBPACK_IMPORTED_MODULE_1__["parseMetricToNum"])(daySize) * weeks;
  var translateYFrom = direction === 'down' ? "-" + amount + "px" : '0';
  var translateYTo = direction === 'up' ? "-" + amount + "px" : '0';
  var slideTransition = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["0%{transform:translateY(", ");}100%{transform:translateY(", ");}"], translateYFrom, translateYTo);
  return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["animation:", " ", " forwards;"], Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["keyframes"])(["", ""], slideTransition), slideDuration);
};

var StyledWeeks = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledCalendar__StyledWeeks",
  componentId: "sc-1y4xhmp-2"
})(["position:relative;", ";"], function (props) {
  return props.slide && slideStyle(props);
});
StyledWeeks.defaultProps = {};
Object.setPrototypeOf(StyledWeeks.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var StyledWeek = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledCalendar__StyledWeek",
  componentId: "sc-1y4xhmp-3"
})(["display:flex;flex-direction:row;flex-justify:between;"]);
StyledWeek.defaultProps = {};
Object.setPrototypeOf(StyledWeek.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var StyledDayContainer = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledCalendar__StyledDayContainer",
  componentId: "sc-1y4xhmp-4"
})(["flex:0 0 auto;"]);
StyledDayContainer.defaultProps = {};
Object.setPrototypeOf(StyledDayContainer.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);

var daySizeStyle = function daySizeStyle(props) {
  var data = props.theme.calendar[props.sizeProp];
  return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["width:", ";height:", ";"], data.daySize, data.daySize);
};

var StyledDay = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledCalendar__StyledDay",
  componentId: "sc-1y4xhmp-5"
})(["display:flex;justify-content:center;align-items:center;", " ", " ", " ", " ", ""], function (props) {
  return daySizeStyle(props);
}, function (props) {
  return props.isSelected && Object(_utils__WEBPACK_IMPORTED_MODULE_1__["backgroundStyle"])('control', props.theme) || props.inRange && Object(_utils__WEBPACK_IMPORTED_MODULE_1__["backgroundStyle"])({
    color: 'control',
    opacity: 'weak'
  }, props.theme);
}, function (props) {
  return props.otherMonth && 'opacity: 0.5;';
}, function (props) {
  return props.isSelected && 'font-weight: bold;';
}, function (props) {
  return props.theme.calendar && props.theme.calendar.day && props.theme.calendar.day.extend;
});
StyledDay.defaultProps = {};
Object.setPrototypeOf(StyledDay.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Calendar/doc.js":
/*!*************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Calendar/doc.js ***!
  \*************************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var doc = function doc(Calendar) {
  var DocumentedCalendar = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Calendar).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('Calendar')).description("A calendar of days displayed by month.\n      It can be used to select a single date, a range of dates, or multiple\n      individual dates.").usage("import { Calendar } from 'grommet';\n<Calendar />").intrinsicElement('div');
  DocumentedCalendar.propTypes = _extends({}, _utils__WEBPACK_IMPORTED_MODULE_1__["genericProps"], {
    animate: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Whether to animate the calender as the user interacts with it.").defaultValue(true),
    bounds: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string).description("An array of two numbers indicating the limits on\n        navigation in ISO8601 format"),
    date: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description('The selected date in ISO8601 format'),
    dates: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string)])).description("Multiple selected dates in ISO8601 format.\n      Items that are an array indicate a range of dates."),
    disabled: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string)])).description("Multiple dates in ISO8601 format that should not be\n        selectable. Items that are an array indicate a range of dates."),
    daysOfWeek: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Whether to show the days of the week.").defaultValue(false),
    firstDayOfWeek: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf([0, 1]).description('The first day of the week. 0 for Sunday. 1 for Monday.').defaultValue(0),
    header: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("If specified, the entire calendar header will be managed by the caller.\nThe function passes the following options:\n\n```\n  {\n    date: Date,\n    locale: string,\n    onPreviousMonth: func,\n    onNextMonth: func,\n    previousInBound: bool,\n    nextInBound: bool,\n  }\n```\n\n`onPreviousMonth` and `onNextMonth` are callbacks that will tell the \ncalendar to move between months.\n`previousInBound` and `nextInBound` are booleans that tell, when using \n`bounds`, if the current date is within that range. You can then use that \nto disable the previous and next buttons.\n"),
    locale: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description('The locale to use.').defaultValue('en-US'),
    onReference: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Called with an ISO8601 date when the user navigates to a different\n       month."),
    onSelect: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Called with an ISO8601 date when\n      the user selects a day.\n      For single select, make this the subsequent `date` property value.\n      For multiple select or ranges, toggle values in `dates`.\n      Not specifying this property makes the component read only."),
    range: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Whether to automatically manage multiple date selection as a range.\n        When the user clicks the first date, onSelect will be called with that\n        date. When the user selects another date, onSelect will be called with\n        an array of two dates.").defaultValue(false),
    reference: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description("The date to show if `date` isn't set, in ISO8601 format"),
    showAdjacentDays: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Whether to show the days from the previous and next months.").defaultValue(true),
    size: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['small', 'medium', 'large']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description('What size to make it.').defaultValue('medium')
  });
  return DocumentedCalendar;
};
var themeDoc = _extends({
  'calendar.day.extend': {
    description: 'Any additional style for the day of Calendar.',
    type: 'string | (props) => {}'
  },
  'calendar.extend': {
    description: 'Any additional style for the Calendar.',
    type: 'string | (props) => {}'
  },
  'calendar.heading.level': {
    description: 'The heading level used for the calendar.',
    type: 'number',
    defaultValue: '4'
  },
  'calendar.icons.next': {
    description: 'The icon to use for the next month navigation control.',
    type: 'element',
    defaultValue: '<Next />'
  },
  'calendar.icons.previous': {
    description: 'The icon to use for the previous month navigation control.',
    type: 'element',
    defaultValue: '<Previous />'
  },
  'calendar.icons.small.next': {
    description: 'The icon to use for the next month navigation control when small.',
    type: 'element',
    defaultValue: '<FormNext />'
  },
  'calendar.icons.small.previous': {
    description: 'The icon to use for the previous month navigation control when small.',
    type: 'element',
    defaultValue: '<FormPrevious />'
  },
  'calendar.large.daySize': {
    description: 'The size of a day when large.',
    type: 'string',
    defaultValue: '109.7px'
  },
  'calendar.large.fontSize': {
    description: 'The font size to use for days when large.',
    type: 'string',
    defaultValue: '30px'
  },
  'calendar.large.lineHeight': {
    description: 'The line height to use for days when large.',
    type: 'number',
    defaultValue: 1.11
  },
  'calendar.large.slideDuration': {
    description: 'How long it animate the slide between months when large.',
    type: 'string',
    defaultValue: '0.8s'
  },
  'calendar.medium.daySize': {
    description: 'The size of a day when medium.',
    type: 'string',
    defaultValue: '54.84px'
  },
  'calendar.medium.fontSize': {
    description: 'The font size to use for days when medium.',
    type: 'string',
    defaultValue: '18px'
  },
  'calendar.medium.lineHeight': {
    description: 'The line height to use for days when medium.',
    type: 'number',
    defaultValue: 1.45
  },
  'calendar.medium.slideDuration': {
    description: 'How long it animate the slide between months when medium.',
    type: 'string',
    defaultValue: '0.5s'
  },
  'calendar.small.daySize': {
    description: 'The size of a day when small.',
    type: 'string',
    defaultValue: '27.42px'
  },
  'calendar.small.fontSize': {
    description: 'The font size to use for days when small.',
    type: 'string',
    defaultValue: '14px'
  },
  'calendar.small.lineHeight': {
    description: 'The line height to use for days when small.',
    type: 'number',
    defaultValue: 1.375
  },
  'calendar.small.slideDuration': {
    description: 'How long it animate the slide between months when small.',
    type: 'string',
    defaultValue: '0.2s'
  },
  'global.size.small': {
    description: 'The width of the calendar when small.',
    type: 'string',
    defaultValue: '192px'
  },
  'global.size.medium': {
    description: 'The width of the calendar when medium.',
    type: 'string',
    defaultValue: '384px'
  },
  'global.size.large': {
    description: 'The width of the calendar when large.',
    type: 'string',
    defaultValue: '768px'
  }
}, _utils__WEBPACK_IMPORTED_MODULE_1__["themeDocUtils"].iconColor, {}, _utils__WEBPACK_IMPORTED_MODULE_1__["themeDocUtils"].edgeStyle('The possible sizes for margin.'));

/***/ }),

/***/ "./node_modules/grommet/es6/components/Calendar/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Calendar/index.js ***!
  \***************************************************************/
/*! exports provided: Calendar */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Calendar__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Calendar */ "./node_modules/grommet/es6/components/Calendar/Calendar.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Calendar", function() { return _Calendar__WEBPACK_IMPORTED_MODULE_0__["Calendar"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Calendar/utils.js":
/*!***************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Calendar/utils.js ***!
  \***************************************************************/
/*! exports provided: addDays, subtractDays, addMonths, subtractMonths, startOfMonth, endOfMonth, sameDay, sameDayOrAfter, sameDayOrBefore, daysApart, betweenDates, withinDates, updateDateRange */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "addDays", function() { return addDays; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "subtractDays", function() { return subtractDays; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "addMonths", function() { return addMonths; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "subtractMonths", function() { return subtractMonths; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "startOfMonth", function() { return startOfMonth; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "endOfMonth", function() { return endOfMonth; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "sameDay", function() { return sameDay; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "sameDayOrAfter", function() { return sameDayOrAfter; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "sameDayOrBefore", function() { return sameDayOrBefore; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "daysApart", function() { return daysApart; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "betweenDates", function() { return betweenDates; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "withinDates", function() { return withinDates; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "updateDateRange", function() { return updateDateRange; });
// Utility functions for the Calendar.
// Just what's needed to avoid having to include a dependency like momentjs.
var DAY_MILLISECONDS = 24 * 60 * 60 * 1000;
var addDays = function addDays(date, days) {
  var result = new Date(date.getTime() + DAY_MILLISECONDS * days); // Deal with crossing the daylight savings time boundary,
  // where adding a day's worth when the time is midnight results in
  // being a day off.

  var hourDelta = result.getHours() - date.getHours(); // At this point, hourDelta is typically 0 (normal day),
  // +23 (November daylight saving), or -23 (March Daylight saving)
  // depending on which side of the switch we are on.
  // Convert so that hourDelta is either +1 or -1.

  if (hourDelta === 23) {
    hourDelta -= 24;
  } else if (hourDelta === -23) {
    hourDelta += 24;
  }

  result.setHours(result.getHours() - hourDelta);
  return result;
};
var subtractDays = function subtractDays(date, days) {
  return addDays(date, -days);
};
var addMonths = function addMonths(date, months) {
  var result = new Date(date);
  var years = Math.floor((date.getMonth() + months) / 12);
  result.setFullYear(date.getFullYear() + years);
  var targetMonth = (date.getMonth() + months) % 12;
  result.setMonth(targetMonth < 0 ? 12 + targetMonth : targetMonth);
  return result;
};
var subtractMonths = function subtractMonths(date, months) {
  return addMonths(date, -months);
};
var startOfMonth = function startOfMonth(date) {
  var result = new Date(date);
  result.setDate(1);
  return result;
};
var endOfMonth = function endOfMonth(date) {
  var result = addMonths(date, 1);
  result.setDate(0);
  return result;
};
var sameDay = function sameDay(date1, date2) {
  return date1.getFullYear() === date2.getFullYear() && date1.getMonth() === date2.getMonth() && date1.getDate() === date2.getDate();
};
var sameDayOrAfter = function sameDayOrAfter(date1, date2) {
  return date1.getFullYear() > date2.getFullYear() || date1.getFullYear() === date2.getFullYear() && (date1.getMonth() > date2.getMonth() || date1.getMonth() === date2.getMonth() && date1.getDate() >= date2.getDate());
};
var sameDayOrBefore = function sameDayOrBefore(date1, date2) {
  return date1.getFullYear() < date2.getFullYear() || date1.getFullYear() === date2.getFullYear() && (date1.getMonth() < date2.getMonth() || date1.getMonth() === date2.getMonth() && date1.getDate() <= date2.getDate());
};
var daysApart = function daysApart(date1, date2) {
  return Math.floor((date1.getTime() - date2.getTime()) / DAY_MILLISECONDS);
}; // betweenDates takes and array of two elements and checks if the
// supplied date lies between them, inclusive.
// returns 2 if exact match to one end, 1 if between, undefined otherwise

var betweenDates = function betweenDates(date, dates) {
  var result;

  if (dates) {
    var _dates$map = dates.map(function (d) {
      return new Date(d);
    }),
        from = _dates$map[0],
        to = _dates$map[1];

    if (sameDay(date, from) || sameDay(date, to)) {
      result = 2;
    } else if (sameDayOrAfter(date, from) && sameDayOrBefore(date, to)) {
      result = 1;
    }
  } else {
    result = 1;
  }

  return result;
}; // withinDates takes and array of string dates or 2 element arrays and
// checks whether the supplied date matches any string or is between
// any dates in arrays.
// returns 2 if exact match, 1 if between, undefined otherwise

var withinDates = function withinDates(date, dates) {
  var result;

  if (dates) {
    if (Array.isArray(dates)) {
      dates.some(function (d) {
        if (typeof d === 'string') {
          if (sameDay(date, new Date(d))) {
            result = 2;
          }
        } else {
          result = betweenDates(date, d);
        }

        return result;
      });
    } else if (sameDay(date, new Date(dates))) {
      result = 2;
    }
  }

  return result;
};
var updateDateRange = function updateDateRange(selectedDate, _ref) {
  var date = _ref.date,
      dates = _ref.dates,
      previousSelectedDate = _ref.previousSelectedDate;
  var result = {
    previousSelectedDate: selectedDate
  };

  if (!dates) {
    if (!date) {
      result.date = selectedDate;
    } else {
      var priorDate = new Date(date);
      var nextDate = new Date(selectedDate);

      if (priorDate.getTime() < nextDate.getTime()) {
        result.date = undefined;
        result.dates = [[date, selectedDate]];
      } else if (priorDate.getTime() > nextDate.getTime()) {
        result.date = undefined;
        result.dates = [[selectedDate, date]];
      } else {
        result.date = undefined;
      }
    }
  } else {
    var priorDates = dates[0].map(function (d) {
      return new Date(d);
    });
    var previousDate = new Date(previousSelectedDate);

    var _nextDate = new Date(selectedDate);

    if (_nextDate.getTime() === priorDates[0].getTime()) {
      result.dates = undefined;
      var _dates$ = dates[0];
      result.date = _dates$[1];
    } else if (_nextDate.getTime() === priorDates[1].getTime()) {
      result.dates = undefined;
      var _dates$2 = dates[0];
      result.date = _dates$2[0];
    } else if (_nextDate.getTime() < previousDate.getTime()) {
      if (_nextDate.getTime() < priorDates[0].getTime()) {
        result.dates = [[selectedDate, dates[0][1]]];
      } else if (_nextDate.getTime() > priorDates[0].getTime()) {
        result.dates = [[dates[0][0], selectedDate]];
      }
    } else if (_nextDate.getTime() > previousDate.getTime()) {
      if (_nextDate.getTime() > priorDates[1].getTime()) {
        result.dates = [[dates[0][0], selectedDate]];
      } else if (_nextDate.getTime() < priorDates[1].getTime()) {
        result.dates = [[selectedDate, dates[0][1]]];
      }
    }
  }

  return result;
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/Carousel/Carousel.js":
/*!******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Carousel/Carousel.js ***!
  \******************************************************************/
/*! exports provided: Carousel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Carousel", function() { return CarouselWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Button */ "./node_modules/grommet/es6/components/Button/index.js");
/* harmony import */ var _Keyboard__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Keyboard */ "./node_modules/grommet/es6/components/Keyboard/index.js");
/* harmony import */ var _Stack__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../Stack */ "./node_modules/grommet/es6/components/Stack/index.js");
/* harmony import */ var _hocs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../hocs */ "./node_modules/grommet/es6/components/hocs.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }












var Carousel =
/*#__PURE__*/
function (_Component) {
  _inheritsLoose(Carousel, _Component);

  function Carousel(p) {
    var _this;

    _this = _Component.call(this, p) || this;

    _defineProperty(_assertThisInitialized(_this), "play", function () {
      var play = _this.props.play;
      clearInterval(_this.timer);
      _this.timer = setInterval(function () {
        var children = _this.props.children;
        var activeIndex = _this.state.activeIndex;
        var lastIndex = react__WEBPACK_IMPORTED_MODULE_0__["Children"].count(children) - 1;

        if (activeIndex < lastIndex) {
          _this.setState({
            activeIndex: activeIndex + 1,
            priorActiveIndex: activeIndex
          });
        } else {
          _this.setState({
            activeIndex: 0,
            priorActiveIndex: activeIndex
          });
        }
      }, play);
    });

    _defineProperty(_assertThisInitialized(_this), "onRight", function () {
      var activeIndex = _this.state.activeIndex;
      clearInterval(_this.timer);

      _this.setState({
        activeIndex: activeIndex + 1,
        priorActiveIndex: activeIndex
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onLeft", function () {
      var activeIndex = _this.state.activeIndex;
      clearInterval(_this.timer);

      _this.setState({
        activeIndex: activeIndex - 1,
        priorActiveIndex: activeIndex
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onSelect", function (index) {
      return function () {
        var activeIndex = _this.state.activeIndex;
        clearInterval(_this.timer);

        _this.setState({
          activeIndex: index,
          priorActiveIndex: activeIndex
        });
      };
    });

    _this.state = {
      activeIndex: p.initialChild
    };
    return _this;
  }

  var _proto = Carousel.prototype;

  _proto.componentDidMount = function componentDidMount() {
    var play = this.props.play;

    if (play) {
      this.play();
    }
  };

  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {
    var play = this.props.play;

    if (play && (!prevProps.play || play !== prevProps.play)) {
      this.play();
    } else if (!play && prevProps.play) {
      clearInterval(this.timer);
    }
  };

  _proto.componentWillUnmount = function componentWillUnmount() {
    clearInterval(this.timer);
  };

  _proto.render = function render() {
    var _this2 = this;

    var _this$props = this.props,
        children = _this$props.children,
        controls = _this$props.controls,
        fill = _this$props.fill,
        focus = _this$props.focus,
        theme = _this$props.theme,
        rest = _objectWithoutPropertiesLoose(_this$props, ["children", "controls", "fill", "focus", "theme"]);

    var _this$state = this.state,
        activeIndex = _this$state.activeIndex,
        priorActiveIndex = _this$state.priorActiveIndex;
    var showArrows = controls && controls !== 'selectors';
    var showSelectors = controls && controls !== 'arrows';
    var lastIndex = react__WEBPACK_IMPORTED_MODULE_0__["Children"].count(children) - 1;
    var onLeft = activeIndex > 0 ? this.onLeft : undefined;
    var onRight = activeIndex < lastIndex ? this.onRight : undefined;
    var CurrentIcon = theme.carousel.icons.current;
    var iconColor = Object(_utils__WEBPACK_IMPORTED_MODULE_3__["normalizeColor"])(theme.carousel.icons.color || 'control', theme);
    var selectors = [];
    var wrappedChildren = react__WEBPACK_IMPORTED_MODULE_0__["Children"].map(children, function (child, index) {
      selectors.push(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_6__["Button"] // eslint-disable-next-line react/no-array-index-key
      , {
        key: index,
        icon: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(CurrentIcon, {
          color: activeIndex === index ? iconColor : undefined
        }),
        onClick: _this2.onSelect(index)
      }));
      var animation;

      if (index === activeIndex) {
        if (priorActiveIndex !== undefined) {
          animation = {
            type: priorActiveIndex < activeIndex ? 'slideLeft' : 'slideRight',
            size: 'xlarge',
            duration: theme.carousel.animation.duration
          };
        }
      } else if (index === priorActiveIndex) {
        animation = {
          type: 'fadeOut',
          duration: theme.carousel.animation.duration
        };
      } else {
        animation = {
          type: 'fadeOut',
          duration: 0
        };
      }

      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_5__["Box"], {
        fill: fill,
        overflow: "hidden"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_5__["Box"], {
        fill: fill,
        animation: animation
      }, child));
    });
    var NextIcon = theme.carousel.icons.next;
    var PreviousIcon = theme.carousel.icons.previous;
    var nextIconDisabled = activeIndex >= lastIndex;
    var previousIconDisabled = activeIndex <= 0;
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Keyboard__WEBPACK_IMPORTED_MODULE_7__["Keyboard"], {
      onLeft: onLeft,
      onRight: onRight
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Stack__WEBPACK_IMPORTED_MODULE_8__["Stack"], _extends({
      guidingChild: activeIndex,
      fill: fill
    }, rest), wrappedChildren, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_5__["Box"], {
      tabIndex: "0",
      focus: focus,
      fill: true,
      direction: "row",
      justify: "between"
    }, showArrows && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_6__["Button"], {
      fill: "vertical",
      icon: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PreviousIcon, {
        color: Object(_utils__WEBPACK_IMPORTED_MODULE_3__["normalizeColor"])(previousIconDisabled ? theme.carousel.disabled.icons.color : theme.carousel.icons.color, theme)
      }),
      plain: true,
      disabled: previousIconDisabled,
      onClick: onLeft,
      hoverIndicator: true
    }), showSelectors && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_5__["Box"], {
      justify: "end",
      fill: !showArrows && 'horizontal'
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_5__["Box"], {
      direction: "row",
      justify: "center"
    }, selectors)), showArrows && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_6__["Button"], {
      fill: "vertical",
      icon: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(NextIcon, {
        color: Object(_utils__WEBPACK_IMPORTED_MODULE_3__["normalizeColor"])(nextIconDisabled ? theme.carousel.disabled.icons.color : theme.carousel.icons.color, theme)
      }),
      plain: true,
      disabled: nextIconDisabled,
      onClick: onRight,
      hoverIndicator: true
    }))));
  };

  return Carousel;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

Carousel.defaultProps = {
  initialChild: 0,
  controls: true
};
Object.setPrototypeOf(Carousel.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_4__["defaultProps"]);
var CarouselDoc;

if (true) {
  // eslint-disable-next-line global-require
  CarouselDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Carousel/doc.js").doc(Carousel);
}

var CarouselWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(Object(_hocs__WEBPACK_IMPORTED_MODULE_9__["withFocus"])(), styled_components__WEBPACK_IMPORTED_MODULE_2__["withTheme"])(CarouselDoc || Carousel);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Carousel/doc.js":
/*!*************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Carousel/doc.js ***!
  \*************************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var doc = function doc(Carousel) {
  var DocumentedCarousel = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Carousel).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('Carousel')).description("A carousel that cycles through children. Child components\n      would typically be Images. It is the caller's responsibility to ensure\n      that all children are the same size.").usage("import { Carousel } from 'grommet';\n<Carousel />").intrinsicElement('div');
  DocumentedCarousel.propTypes = _extends({}, _utils__WEBPACK_IMPORTED_MODULE_1__["genericProps"], {
    fill: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Whether to expand to fill\n      all of the available width and height in the parent container."),
    play: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number.description("If specified, the number of\n      milliseconds between automatically transitioning to the next child. It\n      will loop through all children indefinitely."),
    initialChild: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number.description("If specified, the index of\n      the first element to be shown. Defaults to 0."),
    controls: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['arrows', 'selectors'])]).description("Whether to show carousel controls and which type of controls.").defaultValue(true)
  });
  return DocumentedCarousel;
};
var themeDoc = _extends({
  'carousel.icons.next': {
    description: 'The icon to use for the next image navigation control.',
    type: 'element',
    defaultValue: '<Next />'
  },
  'carousel.animation.duration': {
    description: 'The duration of the Carousel animation.',
    type: 'number',
    defaultValue: 1000
  },
  'carousel.icons.previous': {
    description: 'The icon to use for the previous image navigation control.',
    type: 'element',
    defaultValue: '<Previous />'
  },
  'carousel.icons.current': {
    description: "The icon to use on the middle navigation control. \n      One icon per carousel image.",
    type: 'element',
    defaultValue: '<Next />'
  },
  'carousel.icons.color': {
    description: 'The color used for Carousel icons.',
    type: "string | { 'dark': string, 'light': string }",
    defaultValue: undefined
  },
  'carousel.disabled.icons.color': {
    description: 'The color used for disabled Carousel icons.',
    type: "string | { 'dark': string, 'light': string }",
    defaultValue: undefined
  }
}, _utils__WEBPACK_IMPORTED_MODULE_1__["themeDocUtils"].iconColor, {}, _utils__WEBPACK_IMPORTED_MODULE_1__["themeDocUtils"].edgeStyle('The possible sizes for margin.'));

/***/ }),

/***/ "./node_modules/grommet/es6/components/Carousel/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Carousel/index.js ***!
  \***************************************************************/
/*! exports provided: Carousel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Carousel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Carousel */ "./node_modules/grommet/es6/components/Carousel/Carousel.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Carousel", function() { return _Carousel__WEBPACK_IMPORTED_MODULE_0__["Carousel"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Chart/Chart.js":
/*!************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Chart/Chart.js ***!
  \************************************************************/
/*! exports provided: Chart */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Chart", function() { return ChartWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _StyledChart__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./StyledChart */ "./node_modules/grommet/es6/components/Chart/StyledChart.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utils */ "./node_modules/grommet/es6/components/Chart/utils.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }






var gradientMaskColor = '#ffffff'; // use constants so re-renders don't re-trigger effects

var defaultSize = {
  height: 'small',
  width: 'medium'
};
var defaultValues = [];
var Chart = react__WEBPACK_IMPORTED_MODULE_0___default.a.forwardRef(function (_ref, ref) {
  var propsBounds = _ref.bounds,
      color = _ref.color,
      gap = _ref.gap,
      id = _ref.id,
      onClick = _ref.onClick,
      onHover = _ref.onHover,
      _ref$overflow = _ref.overflow,
      overflow = _ref$overflow === void 0 ? false : _ref$overflow,
      round = _ref.round,
      _ref$size = _ref.size,
      propsSize = _ref$size === void 0 ? defaultSize : _ref$size,
      _ref$thickness = _ref.thickness,
      thickness = _ref$thickness === void 0 ? 'medium' : _ref$thickness,
      _ref$type = _ref.type,
      type = _ref$type === void 0 ? 'bar' : _ref$type,
      _ref$values = _ref.values,
      propsValues = _ref$values === void 0 ? defaultValues : _ref$values,
      rest = _objectWithoutPropertiesLoose(_ref, ["bounds", "color", "gap", "id", "onClick", "onHover", "overflow", "round", "size", "thickness", "type", "values"]);

  var theme = Object(react__WEBPACK_IMPORTED_MODULE_0__["useContext"])(styled_components__WEBPACK_IMPORTED_MODULE_1__["ThemeContext"]);

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])([]),
      values = _useState[0],
      setValues = _useState[1];

  var _useState2 = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])([[0, 0], [0, 0]]),
      bounds = _useState2[0],
      setBounds = _useState2[1];

  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])([0, 0]),
      containerSize = _useState3[0],
      setContainerSize = _useState3[1];

  var _useState4 = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])([0, 0]),
      size = _useState4[0],
      setSize = _useState4[1];

  var _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])([1, 1]),
      scale = _useState5[0],
      setScale = _useState5[1];

  var _useState6 = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(0),
      strokeWidth = _useState6[0],
      setStrokeWidth = _useState6[1];

  var containerRef = ref || Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])(); // calculations

  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    var nextValues = Object(_utils__WEBPACK_IMPORTED_MODULE_4__["normalizeValues"])(propsValues);
    setValues(nextValues);
    var nextBounds = Object(_utils__WEBPACK_IMPORTED_MODULE_4__["normalizeBounds"])(propsBounds, nextValues);
    setBounds(nextBounds);
    var nextStrokeWidth = Object(_utils__WEBPACK_IMPORTED_MODULE_2__["parseMetricToNum"])(theme.global.edgeSize[thickness] || thickness);
    setStrokeWidth(nextStrokeWidth);
    var gapWidth = gap ? Object(_utils__WEBPACK_IMPORTED_MODULE_2__["parseMetricToNum"])(theme.global.edgeSize[gap] || gap) : nextStrokeWidth; // autoWidth is how wide we'd pefer

    var autoWidth = nextStrokeWidth * nextValues.length + (nextValues.length - 1) * gapWidth;
    var sizeWidth = typeof propsSize === 'string' ? propsSize : propsSize.width || defaultSize.width;
    var width;

    if (sizeWidth === 'full') {
      width = containerSize[0];
    } else if (sizeWidth === 'auto') {
      width = autoWidth;
    } else {
      width = Object(_utils__WEBPACK_IMPORTED_MODULE_2__["parseMetricToNum"])(theme.global.size[sizeWidth] || sizeWidth);
    }

    var sizeHeight = typeof propsSize === 'string' ? propsSize : propsSize.height || defaultSize.height;
    var height;

    if (sizeHeight === 'full') {
      height = containerSize[1];
    } else {
      height = Object(_utils__WEBPACK_IMPORTED_MODULE_2__["parseMetricToNum"])(theme.global.size[sizeHeight] || sizeHeight);
    }

    setSize([width, height]);
    var nextScale = [(sizeWidth === 'auto' ? autoWidth : width) / (nextBounds[0][1] - nextBounds[0][0]), height / (nextBounds[1][1] - nextBounds[1][0])];
    setScale(nextScale);
  }, [containerSize, gap, propsBounds, propsSize, propsValues, theme.global.edgeSize, theme.global.size, thickness]); // set container size when we get ref or when size changes

  if (containerRef.current && propsSize && (propsSize === 'full' || propsSize.height === 'full' || propsSize.width === 'full')) {
    var containerNode = containerRef.current;

    if (containerNode) {
      var parentNode = containerNode.parentNode;

      if (parentNode) {
        var rect = parentNode.getBoundingClientRect();

        if (rect.width !== containerSize[0] || rect.height !== containerSize[1]) {
          setContainerSize([rect.width, rect.height]);
        }
      }
    }
  } // container size, if needed


  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    var onResize = function onResize() {
      var parentNode = containerRef.current.parentNode;
      var rect = parentNode.getBoundingClientRect();
      setContainerSize([rect.width, rect.height]);
    };

    if (propsSize && (propsSize === 'full' || propsSize.width === 'full' || propsSize.height === 'full')) {
      window.addEventListener('resize', onResize);
      return function () {
        return window.removeEventListener('resize', onResize);
      };
    }

    return undefined;
  }, [containerRef, propsSize]);
  var useGradient = color && Array.isArray(color);

  var renderBars = function renderBars() {
    return (values || []).map(function (valueArg, index) {
      var label = valueArg.label,
          valueOnHover = valueArg.onHover,
          value = valueArg.value,
          valueRest = _objectWithoutPropertiesLoose(valueArg, ["label", "onHover", "value"]);

      var key = "p-" + index;
      var bottom = value.length === 2 ? bounds[1][0] : value[1];
      var top = value.length === 2 ? value[1] : value[2];

      if (top !== 0) {
        var d = "M " + (value[0] - bounds[0][0]) * scale[0] + "," + ("" + (size[1] - (bottom - bounds[1][0]) * scale[1])) + (" L " + (value[0] - bounds[0][0]) * scale[0] + ",") + ("" + (size[1] - (top - bounds[1][0]) * scale[1]));
        var hoverProps;

        if (valueOnHover) {
          hoverProps = {
            onMouseOver: function onMouseOver() {
              return valueOnHover(true);
            },
            onMouseLeave: function onMouseLeave() {
              return valueOnHover(false);
            }
          };
        }

        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("g", {
          key: key,
          fill: "none"
        }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("title", null, label), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path", _extends({
          d: d
        }, hoverProps, valueRest)));
      }

      return undefined;
    });
  };

  var renderLine = function renderLine() {
    var d = '';
    (values || []).forEach(function (_ref2, index) {
      var value = _ref2.value;
      d += (index ? ' L' : 'M') + " " + (value[0] - bounds[0][0]) * scale[0] + "," + ("" + (size[1] - (value[1] - bounds[1][0]) * scale[1]));
    });
    var hoverProps;

    if (onHover) {
      hoverProps = {
        onMouseOver: function onMouseOver() {
          return onHover(true);
        },
        onMouseLeave: function onMouseLeave() {
          return onHover(false);
        }
      };
    }

    var clickProps;

    if (onClick) {
      clickProps = {
        onClick: onClick
      };
    }

    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("g", {
      fill: "none"
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path", _extends({
      d: d
    }, hoverProps, clickProps)));
  };

  var renderArea = function renderArea() {
    var d = '';
    (values || []).forEach(function (_ref3, index) {
      var value = _ref3.value;
      var top = value.length === 2 ? value[1] : value[2];
      d += (!index ? 'M' : ' L') + " " + (value[0] - bounds[0][0]) * scale[0] + "," + ("" + (size[1] - (top - bounds[1][0]) * scale[1]));
    });
    (values || []).reverse().forEach(function (_ref4) {
      var value = _ref4.value;
      var bottom = value.length === 2 ? bounds[1][0] : value[1];
      d += " L " + (value[0] - bounds[0][0]) * scale[0] + "," + ("" + (size[1] - (bottom - bounds[1][0]) * scale[1]));
    });

    if (d.length > 0) {
      d += ' Z';
    }

    var hoverProps;

    if (onHover) {
      hoverProps = {
        onMouseOver: function onMouseOver() {
          return onHover(true);
        },
        onMouseLeave: function onMouseLeave() {
          return onHover(false);
        }
      };
    }

    var clickProps;

    if (onClick) {
      clickProps = {
        onClick: onClick
      };
    }

    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("g", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path", _extends({
      d: d
    }, hoverProps, clickProps)));
  };

  var renderPoints = function renderPoints() {
    return (values || []).map(function (valueArg, index) {
      var label = valueArg.label,
          valueOnHover = valueArg.onHover,
          value = valueArg.value,
          valueRest = _objectWithoutPropertiesLoose(valueArg, ["label", "onHover", "value"]);

      var key = "p-" + index;
      var hoverProps;

      if (valueOnHover) {
        hoverProps = {
          onMouseOver: function onMouseOver() {
            return valueOnHover(true);
          },
          onMouseLeave: function onMouseLeave() {
            return valueOnHover(false);
          }
        };
      }

      var center = value.length === 2 ? value[1] : value[2];
      var shape;

      if (round) {
        var cx = (value[0] - bounds[0][0]) * scale[0];
        var cy = size[1] - (center - bounds[1][0]) * scale[1];
        shape = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("circle", _extends({
          cx: cx,
          cy: cy,
          r: strokeWidth / 2
        }, hoverProps, valueRest));
      } else {
        var x = (value[0] - bounds[0][0]) * scale[0] - strokeWidth / 2;
        var y = size[1] - (center - bounds[1][0]) * scale[1] - strokeWidth / 2;
        shape = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("rect", _extends({
          x: x,
          y: y,
          width: strokeWidth,
          height: strokeWidth
        }, hoverProps, valueRest));
      }

      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("g", {
        key: key,
        stroke: "none"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("title", null, label), shape);
    });
  };

  var contents;

  if (type === 'bar') {
    contents = renderBars();
  } else if (type === 'line') {
    contents = renderLine();
  } else if (type === 'area') {
    contents = renderArea();
  } else if (type === 'point') {
    contents = renderPoints();
  }

  var viewBounds = overflow ? [0, 0, size[0], size[1]] : [-(strokeWidth / 2), -(strokeWidth / 2), size[0] + strokeWidth, size[1] + strokeWidth];
  var viewBox = viewBounds.join(' ');
  var colorName;

  if (!useGradient) {
    if (color && color.color) colorName = color.color;else if (color) colorName = color;else if (theme.chart && theme.chart.color) colorName = theme.chart.color;else colorName = 'graph-0';
  }

  var opacity = color && color.opacity ? theme.global.opacity[color.opacity] : undefined;
  var stroke;

  if (type !== 'point') {
    if (useGradient) stroke = gradientMaskColor;else stroke = Object(_utils__WEBPACK_IMPORTED_MODULE_2__["normalizeColor"])(colorName, theme);
  } else stroke = 'none';

  var fill;

  if (type === 'point' || type === 'area') {
    if (useGradient) fill = gradientMaskColor;else fill = Object(_utils__WEBPACK_IMPORTED_MODULE_2__["normalizeColor"])(colorName, theme);
  } else fill = 'none';

  var drawing = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("g", {
    stroke: stroke,
    strokeWidth: type !== 'point' ? strokeWidth : undefined,
    fill: fill,
    strokeLinecap: round ? 'round' : 'butt',
    strokeLinejoin: round ? 'round' : 'miter',
    opacity: opacity
  }, contents);
  var defs;
  var gradientRect;

  if (useGradient && size[1]) {
    var gradientId = id + "-gradient";
    var maskId = id + "-mask";
    defs = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("defs", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("linearGradient", {
      id: gradientId,
      x1: 0,
      y1: 0,
      x2: 0,
      y2: 1
    }, color.sort(function (c1, c2) {
      return c2.value - c1.value;
    }).map(function (_ref5) {
      var value = _ref5.value,
          gradientColor = _ref5.color;
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("stop", {
        key: value,
        offset: (size[1] - (value - bounds[1][0]) * scale[1]) / size[1],
        stopColor: Object(_utils__WEBPACK_IMPORTED_MODULE_2__["normalizeColor"])(gradientColor, theme)
      });
    })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("mask", {
      id: maskId
    }, drawing));
    gradientRect = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("rect", {
      x: viewBounds[0],
      y: viewBounds[1],
      width: viewBounds[2],
      height: viewBounds[3],
      fill: "url(#" + gradientId + ")",
      mask: "url(#" + maskId + ")"
    });
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledChart__WEBPACK_IMPORTED_MODULE_3__["StyledChart"], _extends({
    ref: containerRef,
    id: id,
    viewBox: viewBox,
    preserveAspectRatio: "none",
    width: size === 'full' ? '100%' : size[0],
    height: size === 'full' ? '100%' : size[1]
  }, rest), defs, useGradient ? gradientRect : drawing);
});
Chart.displayName = 'Chart';
var ChartDoc;

if (true) {
  ChartDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Chart/doc.js").doc(Chart); // eslint-disable-line global-require
}

var ChartWrapper = ChartDoc || Chart;


/***/ }),

/***/ "./node_modules/grommet/es6/components/Chart/StyledChart.js":
/*!******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Chart/StyledChart.js ***!
  \******************************************************************/
/*! exports provided: StyledChart */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledChart", function() { return StyledChart; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");



var StyledChart = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].svg.withConfig({
  displayName: "StyledChart",
  componentId: "sc-1nae0gf-0"
})(["display:block;max-width:100%;overflow:visible;", " ", ";"], _utils__WEBPACK_IMPORTED_MODULE_1__["genericStyles"], function (props) {
  return props.theme.chart && props.theme.chart.extend;
});
StyledChart.defaultProps = {};
Object.setPrototypeOf(StyledChart.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Chart/calcs.js":
/*!************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Chart/calcs.js ***!
  \************************************************************/
/*! exports provided: calcs */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "calcs", function() { return calcs; });
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ "./node_modules/grommet/es6/components/Chart/utils.js");

var calcs = function calcs(values, options) {
  if (options === void 0) {
    options = {};
  }

  var coarseness = options.coarseness || 5;
  var steps = options.steps || [1, 1];
  var calcValues = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["normalizeValues"])(values || []);
  var min;
  var max;

  if (options.min !== undefined && options.max !== undefined) {
    var _options = options;
    min = _options.min;
    max = _options.max;
  } else if (calcValues.length) {
    // Calculate the max and min y values.
    min = calcValues[0].value[1] || 0;
    max = min;
    calcValues.forEach(function (value) {
      var y = value.value[1];
      min = Math.min(min, y);
      max = Math.max(max, y); // handle ranges of values

      if (value.value[2] !== undefined) {
        var y2 = value.value[2];
        min = Math.min(min, y2);
        max = Math.max(max, y2);
      }
    });
    min = options.min !== undefined ? options.min : min;
    max = options.max !== undefined ? options.max : max; // Calculate some reasonable y bounds based on the max and min y values.
    // This is so values like 87342.12 don't end up being displayed as the
    // graph axis edge label.

    var delta = max - min;
    var interval = Number.parseFloat((delta / coarseness).toPrecision(1));
    max = max - max % interval + interval;
    min -= min % interval;
  }

  var bounds = calcValues.length ? [[calcValues[0].value[0], calcValues[calcValues.length - 1].value[0]], [min, max]] : [[], []];
  var dimensions = [bounds[0][1] - bounds[0][0], bounds[1][1] - bounds[1][0]]; // Calculate x and y axis values across the specfied number of steps.

  var yAxis = [];
  var y = bounds[1][1];
  var yStepInterval = dimensions[1] / steps[1];

  while (y >= bounds[1][0]) {
    yAxis.push(y);
    y -= yStepInterval;
  }

  var xAxis = [];
  var x = bounds[0][0];
  var xStepInterval = dimensions[0] / steps[0];

  while (xStepInterval > 0 && x <= bounds[0][1] || xStepInterval < 0 && x >= bounds[0][1]) {
    xAxis.push(x);
    x += xStepInterval;
  } // Set bar thickness based on number of values being rendered.
  // Someday, it would be better to include the actual rendered size.
  // These values were emirically determined, trying to balance visibility
  // and overlap across resolutions.


  var thickness;
  var pad;

  if (calcValues.length < 5) {
    thickness = 'xlarge';
    pad = 'large';
  } else if (calcValues.length < 11) {
    thickness = 'large';
    pad = 'medium';
  } else if (calcValues.length < 21) {
    thickness = 'medium';
    pad = 'small';
  } else if (calcValues.length < 61) {
    thickness = 'small';
    pad = 'xsmall';
  } else if (calcValues.length < 121) {
    thickness = 'xsmall';
    pad = 'xxsmall';
  } else {
    thickness = 'hair';
  }

  return {
    axis: [xAxis, yAxis],
    bounds: bounds,
    dimensions: dimensions,
    pad: pad,
    thickness: thickness
  };
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/Chart/doc.js":
/*!**********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Chart/doc.js ***!
  \**********************************************************/
/*! exports provided: doc, docCalcs, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "docCalcs", function() { return docCalcs; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var doc = function doc(Chart) {
  var DocumentedChart = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Chart).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('Chart')).description('A graphical chart.').usage("import { Chart } from 'grommet';\n<Chart />"); // We don't include svg due to a collision on the values property
  // .intrinsicElement('svg');

  DocumentedChart.propTypes = _extends({}, _utils__WEBPACK_IMPORTED_MODULE_1__["genericProps"], {
    bounds: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number)).description("The limits for the values, specified as a two dimensional array.\n      If not specified, the bounds will automatically be set to fit\n      the provided values."),
    color: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      color: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
      opacity: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['weak', 'medium', 'strong']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool])
    }), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      color: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
      value: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number
    }))]).description("A color identifier to use for the graphic color. If an\n      array is specified, it is used to create a gradient mask. Array objects\n      indicate what color to show at what value. In the simplest case, the\n      values should map to the Y bounds values, resulting in a vertical\n      gradient. Specifying more objects allows more fine grained control over\n      where the gradient colors change.").defaultValue('accent-1'),
    gap: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['none', 'xxsmall', 'xsmall', 'small', 'medium', 'large', 'xlarge']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description("The amount of spacing between data points. This\n      is only used when the size specifies width as 'auto'."),
    id: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description("A unique identifier for the Chart. This\n      is required if more than one Chart is shown and they use color\n      gradients."),
    onClick: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Called when the user clicks on it.\n      This is only available when the type is line or area."),
    onHover: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Called with a boolean argument\n      indicating when the user hovers onto or away from it.\n      This is only available when the type is line or area."),
    overflow: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Whether the chart strokes should overflow the component. Set this\n      to true for precise positioning when stacking charts or including\n      precise axes. Set this to false to have the graphical elements\n      align with the component boundaries.").defaultValue(false),
    round: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Whether to round the line ends.').defaultValue(false),
    size: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['xxsmall', 'xsmall', 'small', 'medium', 'large', 'xlarge', 'full']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      height: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['xxsmall', 'xsmall', 'small', 'medium', 'large', 'xlarge', 'full']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
      width: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['xxsmall', 'xsmall', 'small', 'medium', 'large', 'xlarge', 'full', 'auto']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string])
    }), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description('The size of the Chart.').defaultValue({
      width: 'medium',
      height: 'small'
    }),
    thickness: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['hair', 'xsmall', 'small', 'medium', 'large', 'xlarge', 'none']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description('The width of the stroke.').defaultValue('medium'),
    type: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['bar', 'line', 'area', 'point']).description('The visual type of chart.').defaultValue('bar'),
    values: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      label: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
      // for accessibility of bars
      onClick: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func,
      onHover: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func,
      value: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number.isRequired, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number).isRequired]).isRequired
    })])).description("Array of value objects describing the data.\n      'value' is a tuple indicating the coordinate of the value or a triple\n      indicating the x coordinate and a range of two y coordinates.\n      'label' is a text string describing it.\n      'onHover' and 'onClick' only work when type='bar'.").isRequired
  });
  return DocumentedChart;
};
var docCalcs = function docCalcs(calcs) {
  var DocumentedCalcs = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(calcs).description("\n      A function to help calculate values for bounds and axis. Use it via:\n      const data = calcs(<myValues>, { coarseness: 5, steps: [1, 1] });\n      where 'data' will contain 'bounds' and 'axis' properties.\n    ").usage("import { calcs } from 'grommet';\nconst data = calcs(<values>, { coarseness: 5, steps: [1, 1] });");
  return DocumentedCalcs;
};
var themeDoc = {
  'chart.color': {
    description: 'Color of the Chart.',
    type: 'string | {dark: string, light: string}',
    defaultValue: 'accent-1'
  },
  'chart.extend': {
    description: 'Any additional style for the Chart.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'global.colors': {
    description: 'Color options.',
    type: 'object',
    defaultValue: "{\n      \"accent-1\": \"#6FFFB0\",\n      \"graph-0\": \"accent-1\",\n      ...\n    }"
  },
  'global.edgeSize': {
    description: 'The possible sizes for the thickness in the Chart.',
    type: 'object',
    defaultValue: "{\n        none: '0px',\n        hair: '1px',\n        xxsmall: '3px',\n        xsmall: '6px',\n        small: '12px',\n        medium: '24px',\n        large: '48px',\n        xlarge: '96px',\n        responsiveBreakpoint: 'small',\n    }"
  },
  'global.opacity': {
    description: 'The opacity of the Chart stroke.',
    type: 'object',
    defaultValue: "{\n      strong: 0.8,\n      medium: 0.4,\n      weak: 0.1,\n    }"
  },
  'global.size': {
    description: 'The possible sizes for Chart width and height.',
    type: 'object',
    defaultValue: "{\n      xxsmall: '48px',\n      xsmall: '96px',\n      small: '192px',\n      medium: '384px',\n      large: '768px',\n      xlarge: '1152px',\n      xxlarge: '1536px',\n      full: '100%',\n      }"
  }
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/Chart/index.js":
/*!************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Chart/index.js ***!
  \************************************************************/
/*! exports provided: Chart, calcs */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Chart__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Chart */ "./node_modules/grommet/es6/components/Chart/Chart.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Chart", function() { return _Chart__WEBPACK_IMPORTED_MODULE_0__["Chart"]; });

/* harmony import */ var _calcs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./calcs */ "./node_modules/grommet/es6/components/Chart/calcs.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "calcs", function() { return _calcs__WEBPACK_IMPORTED_MODULE_1__["calcs"]; });




/***/ }),

/***/ "./node_modules/grommet/es6/components/Chart/utils.js":
/*!************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Chart/utils.js ***!
  \************************************************************/
/*! exports provided: normalizeValues, normalizeBounds, areNormalizedValuesEquals, areNormalizedBoundsEquals */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "normalizeValues", function() { return normalizeValues; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "normalizeBounds", function() { return normalizeBounds; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "areNormalizedValuesEquals", function() { return areNormalizedValuesEquals; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "areNormalizedBoundsEquals", function() { return areNormalizedBoundsEquals; });
var normalizeValues = function normalizeValues(values) {
  return (values || []).map(function (value, index) {
    if (Array.isArray(value)) {
      return {
        value: value
      };
    }

    if (typeof value === 'number') {
      return {
        value: [index, value]
      };
    }

    return value;
  });
};
var normalizeBounds = function normalizeBounds(bounds, values) {
  var result = bounds;

  if (!result) {
    result = [[0, 1], [0, 1]];
    (values || []).forEach(function (value) {
      result[0][0] = Math.min(result[0][0], value.value[0]);
      result[0][1] = Math.max(result[0][1], value.value[0]);
      result[1][0] = Math.min(result[1][0], value.value[1]);
      result[1][1] = Math.max(result[1][1], value.value[1]);
    });
  }

  return result;
};
var areNormalizedValuesEquals = function areNormalizedValuesEquals(valuesX, valuesY) {
  if (!valuesX || !valuesY) return false;
  if (valuesX.length !== valuesY.length) return false;
  if (valuesX.length === 0) return true;
  if (!valuesX[0].value || !valuesY[0].value) return false;
  return valuesX.every(function (_, i) {
    return valuesX[i].value.every(function (value, index) {
      return value === valuesY[i].value[index];
    });
  });
};
var areNormalizedBoundsEquals = function areNormalizedBoundsEquals(boundsX, boundsY) {
  if (!boundsX || !boundsY) return false;
  if (boundsX.length !== boundsY.length || !(boundsX.length > 0)) return false;
  return boundsX.every(function (_, i) {
    return boundsX[i].every(function (value, index) {
      return value === boundsY[i][index];
    });
  });
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/CheckBox/CheckBox.js":
/*!******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/CheckBox/CheckBox.js ***!
  \******************************************************************/
/*! exports provided: CheckBox */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CheckBox", function() { return CheckBoxWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils_object__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/object */ "./node_modules/grommet/es6/utils/object.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
/* harmony import */ var _hocs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../hocs */ "./node_modules/grommet/es6/components/hocs.js");
/* harmony import */ var _StyledCheckBox__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./StyledCheckBox */ "./node_modules/grommet/es6/components/CheckBox/StyledCheckBox.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }











var stopLabelClick = function stopLabelClick(event) {
  // prevents clicking on the label trigging the event twice
  // https://stackoverflow.com/questions/24501497/why-the-onclick-element-will-trigger-twice-for-label-element
  if (event.target.type !== 'checkbox') {
    event.stopPropagation();
  }
};

var CheckBox = function CheckBox(_ref) {
  var _ref2;

  var checked = _ref.checked,
      disabled = _ref.disabled,
      focus = _ref.focus,
      forwardRef = _ref.forwardRef,
      id = _ref.id,
      label = _ref.label,
      name = _ref.name,
      onChange = _ref.onChange,
      reverse = _ref.reverse,
      theme = _ref.theme,
      toggle = _ref.toggle,
      indeterminate = _ref.indeterminate,
      rest = _objectWithoutPropertiesLoose(_ref, ["checked", "disabled", "focus", "forwardRef", "id", "label", "name", "onChange", "reverse", "theme", "toggle", "indeterminate"]);

  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    if (checked && indeterminate) {
      console.warn('Checkbox cannot be "checked" and "indeterminate" at the same time.');
    }

    if (toggle && indeterminate) {
      console.warn('Checkbox of type toggle does not have "indeterminate" state.');
    }
  }, [checked, toggle, indeterminate]);
  var themeableProps = {
    checked: checked,
    disabled: disabled,
    focus: focus,
    reverse: reverse,
    toggle: toggle,
    indeterminate: indeterminate
  };
  var hidden;

  if (disabled && checked) {
    hidden = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
      name: name,
      type: "hidden",
      value: "true"
    });
  }

  var _theme$checkBox$icons = theme.checkBox.icons,
      CheckedIcon = _theme$checkBox$icons.checked,
      IndeterminateIcon = _theme$checkBox$icons.indeterminate;
  var borderColor = Object(_utils__WEBPACK_IMPORTED_MODULE_8__["normalizeColor"])(theme.checkBox.border.color, theme);

  if (checked) {
    borderColor = Object(_utils__WEBPACK_IMPORTED_MODULE_8__["normalizeColor"])(theme.checkBox.color || 'control', theme);
  }

  var visual = toggle ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledCheckBox__WEBPACK_IMPORTED_MODULE_7__["StyledCheckBoxToggle"], themeableProps, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledCheckBox__WEBPACK_IMPORTED_MODULE_7__["StyledCheckBoxKnob"], themeableProps)) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledCheckBox__WEBPACK_IMPORTED_MODULE_7__["StyledCheckBoxBox"], _extends({
    as: _Box__WEBPACK_IMPORTED_MODULE_5__["Box"],
    align: "center",
    justify: "center",
    width: theme.checkBox.size,
    height: theme.checkBox.size,
    border: {
      size: theme.checkBox.border.width,
      color: borderColor
    },
    round: theme.checkBox.check.radius
  }, themeableProps), !indeterminate && checked && (CheckedIcon ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(CheckedIcon, {
    theme: theme,
    as: _StyledCheckBox__WEBPACK_IMPORTED_MODULE_7__["StyledCheckBoxIcon"]
  }) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledCheckBox__WEBPACK_IMPORTED_MODULE_7__["StyledCheckBoxIcon"], _extends({
    theme: theme,
    viewBox: "0 0 24 24",
    preserveAspectRatio: "xMidYMid meet"
  }, themeableProps), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path", {
    fill: "none",
    d: "M6,11.3 L10.3,16 L18,6.2"
  }))), !checked && indeterminate && (IndeterminateIcon ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(IndeterminateIcon, {
    theme: theme,
    as: _StyledCheckBox__WEBPACK_IMPORTED_MODULE_7__["StyledCheckBoxIcon"]
  }) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledCheckBox__WEBPACK_IMPORTED_MODULE_7__["StyledCheckBoxIcon"], _extends({
    theme: theme,
    viewBox: "0 0 24 24",
    preserveAspectRatio: "xMidYMid meet"
  }, themeableProps), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path", {
    fill: "none",
    d: "M6,12 L18,12"
  }))));
  var side = reverse ? 'left' : 'right';
  var checkBoxNode = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledCheckBox__WEBPACK_IMPORTED_MODULE_7__["StyledCheckBox"], _extends({
    as: _Box__WEBPACK_IMPORTED_MODULE_5__["Box"],
    align: "center",
    justify: "center",
    margin: label && (_ref2 = {}, _ref2[side] = theme.checkBox.gap || 'small', _ref2)
  }, themeableProps), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledCheckBox__WEBPACK_IMPORTED_MODULE_7__["StyledCheckBoxInput"], _extends({}, rest, {
    ref: forwardRef,
    type: "checkbox"
  }, Object(_utils_object__WEBPACK_IMPORTED_MODULE_3__["removeUndefined"])({
    id: id,
    name: name,
    checked: checked,
    disabled: disabled,
    onChange: onChange
  }), themeableProps)), visual, hidden);
  var normalizedLabel = typeof label === 'string' ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, label) : label;
  var first = reverse ? normalizedLabel : checkBoxNode;
  var second = reverse ? checkBoxNode : normalizedLabel;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledCheckBox__WEBPACK_IMPORTED_MODULE_7__["StyledCheckBoxContainer"], _extends({
    reverse: reverse
  }, Object(_utils_object__WEBPACK_IMPORTED_MODULE_3__["removeUndefined"])({
    htmlFor: id,
    disabled: disabled
  }), {
    checked: checked,
    onClick: stopLabelClick
  }, themeableProps), first, second);
};

CheckBox.defaultProps = {};
Object.setPrototypeOf(CheckBox.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_4__["defaultProps"]);
var CheckBoxDoc;

if (true) {
  // eslint-disable-next-line global-require
  CheckBoxDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/CheckBox/doc.js").doc(CheckBox);
}

var CheckBoxWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(Object(_hocs__WEBPACK_IMPORTED_MODULE_6__["withFocus"])(), styled_components__WEBPACK_IMPORTED_MODULE_2__["withTheme"], _hocs__WEBPACK_IMPORTED_MODULE_6__["withForwardRef"])(CheckBoxDoc || CheckBox);


/***/ }),

/***/ "./node_modules/grommet/es6/components/CheckBox/StyledCheckBox.js":
/*!************************************************************************!*\
  !*** ./node_modules/grommet/es6/components/CheckBox/StyledCheckBox.js ***!
  \************************************************************************/
/*! exports provided: StyledCheckBoxIcon, StyledCheckBoxContainer, StyledCheckBoxInput, StyledCheckBoxBox, StyledCheckBoxToggle, StyledCheckBoxKnob, StyledCheckBox */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledCheckBoxIcon", function() { return StyledCheckBoxIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledCheckBoxContainer", function() { return StyledCheckBoxContainer; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledCheckBoxInput", function() { return StyledCheckBoxInput; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledCheckBoxBox", function() { return StyledCheckBoxBox; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledCheckBoxToggle", function() { return StyledCheckBoxToggle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledCheckBoxKnob", function() { return StyledCheckBoxKnob; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledCheckBox", function() { return StyledCheckBox; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");



var disabledStyle = "\n  opacity: 0.5;\n  cursor: default;\n";
var hoverStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])([":hover input:not([disabled]) + div,:hover input:not([disabled]) + span{border-color:", ";}"], function (props) {
  return Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.checkBox.hover.border.color, props.theme);
});
var StyledCheckBoxIcon = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].svg.withConfig({
  displayName: "StyledCheckBox__StyledCheckBoxIcon",
  componentId: "sc-1dbk5ju-0"
})(["box-sizing:border-box;stroke-width:", ";stroke:", ";width:", ";height:", ";", ";"], function (props) {
  return props.theme.checkBox.check.thickness;
}, function (props) {
  return Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.checkBox.color || 'control', props.theme);
}, function (props) {
  return props.theme.checkBox.icon.size || props.theme.checkBox.size;
}, function (props) {
  return props.theme.checkBox.icon.size || props.theme.checkBox.size;
}, function (props) {
  return props.theme.checkBox.icon.extend;
});
StyledCheckBoxIcon.defaultProps = {};
Object.setPrototypeOf(StyledCheckBoxIcon.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var StyledCheckBoxContainer = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].label.withConfig({
  displayName: "StyledCheckBox__StyledCheckBoxContainer",
  componentId: "sc-1dbk5ju-1"
})(["display:flex;flex-direction:row;align-items:center;user-select:none;", " ", " ", " ", ""], function (props) {
  return props.disabled && disabledStyle;
}, function (props) {
  return !props.disabled && 'cursor: pointer;';
}, function (props) {
  return props.theme.checkBox.hover.border.color && hoverStyle;
}, function (props) {
  return props.theme.checkBox.extend;
});
StyledCheckBoxContainer.defaultProps = {};
Object.setPrototypeOf(StyledCheckBoxContainer.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var StyledCheckBoxInput = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].input.withConfig({
  displayName: "StyledCheckBox__StyledCheckBoxInput",
  componentId: "sc-1dbk5ju-2"
})(["opacity:0;-moz-appearance:none;width:0;height:0;margin:0;", ":checked + span > span{left:calc( ", " - ", " );background:", ";}"], function (props) {
  return !props.disabled && 'cursor: pointer;';
}, function (props) {
  return props.theme.checkBox.toggle.size;
}, function (props) {
  return props.theme.checkBox.size;
}, function (props) {
  return Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.checkBox.color || 'control', props.theme);
});
StyledCheckBoxInput.defaultProps = {};
Object.setPrototypeOf(StyledCheckBoxInput.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var StyledCheckBoxBox = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledCheckBox__StyledCheckBoxBox",
  componentId: "sc-1dbk5ju-3"
})(["", ";", ";"], function (props) {
  return props.focus && _utils__WEBPACK_IMPORTED_MODULE_1__["focusStyle"];
}, function (props) {
  return props.theme.checkBox.check.extend;
});
StyledCheckBoxBox.defaultProps = {};
Object.setPrototypeOf(StyledCheckBoxBox.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var StyledCheckBoxToggle = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].span.withConfig({
  displayName: "StyledCheckBox__StyledCheckBoxToggle",
  componentId: "sc-1dbk5ju-4"
})(["box-sizing:border-box;vertical-align:middle;display:inline-block;width:", ";height:", ";border:", " solid;border-color:", ";border-radius:", ";background-color:", ";", ";", ";"], function (props) {
  return props.theme.checkBox.toggle.size;
}, function (props) {
  return props.theme.checkBox.size;
}, function (props) {
  return props.theme.checkBox.border.width;
}, function (props) {
  return Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.checkBox.border.color, props.theme);
}, function (props) {
  return props.theme.checkBox.toggle.radius;
}, function (props) {
  return props.theme.checkBox.toggle.background ? Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.checkBox.toggle.background, props.theme) : 'transparent';
}, function (props) {
  return props.focus && _utils__WEBPACK_IMPORTED_MODULE_1__["focusStyle"];
}, function (props) {
  return props.theme.checkBox.toggle.extend;
});
StyledCheckBoxToggle.defaultProps = {};
Object.setPrototypeOf(StyledCheckBoxToggle.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var StyledCheckBoxKnob = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].span.withConfig({
  displayName: "StyledCheckBox__StyledCheckBoxKnob",
  componentId: "sc-1dbk5ju-5"
})(["box-sizing:border-box;position:relative;display:inherit;top:-", ";left:-", ";transition:all 0.3s;width:", ";height:", ";background:", ";border-radius:", ";", ";"], function (props) {
  return props.theme.checkBox.border.width;
}, function (props) {
  return props.theme.checkBox.border.width;
}, function (props) {
  return props.theme.checkBox.size;
}, function (props) {
  return props.theme.checkBox.size;
}, function (props) {
  return Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.checkBox.toggle.color[props.theme.dark ? 'dark' : 'light'], props.theme);
}, function (props) {
  return props.theme.checkBox.toggle.radius;
}, function (props) {
  return props.theme.checkBox.toggle.knob.extend;
});
StyledCheckBoxKnob.defaultProps = {};
Object.setPrototypeOf(StyledCheckBoxKnob.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var StyledCheckBox = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledCheckBox",
  componentId: "sc-1dbk5ju-6"
})(["flex-shrink:0;"]);
StyledCheckBox.defaultProps = {};
Object.setPrototypeOf(StyledCheckBox.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);


/***/ }),

/***/ "./node_modules/grommet/es6/components/CheckBox/doc.js":
/*!*************************************************************!*\
  !*** ./node_modules/grommet/es6/components/CheckBox/doc.js ***!
  \*************************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");


var doc = function doc(CheckBox) {
  var DocumentedCheckBox = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(CheckBox).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('CheckBox')).description('A checkbox toggle control.').usage("import { CheckBox } from 'grommet';\n<CheckBox />").intrinsicElement('input');
  DocumentedCheckBox.propTypes = {
    checked: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Same as React <input checked={} />').defaultValue(false),
    disabled: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Same as React <input disabled={} />. Also adds a hidden input element\n      with the same name so form submissions work.").defaultValue(false),
    id: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description('The DOM id attribute value to use for the underlying <input/> element.'),
    label: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].node.description('Label text to place next to the control.'),
    name: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description("The DOM name attribute value to use for the underlying <input/> \n      element."),
    onChange: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Function that will be called when the user clicks the check box. It\n      will be passed a React event object. The current state can be accessed\n      via event.target.checked. Same as React <input onChange={} />."),
    reverse: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Whether to show the label in front of the checkbox.').defaultValue(false),
    toggle: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Whether to visualize it as a toggle switch.').defaultValue(false),
    indeterminate: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Whether state is indeterminate.\nNOTE: This can only be used with non-toggle components").defaultValue(false)
  };
  return DocumentedCheckBox;
};
var themeDoc = {
  'checkBox.border.color': {
    description: 'The border color when unchecked.',
    type: "string | { 'dark': string, 'light': string }",
    defaultValue: "{ dark: 'rgba(255, 255, 255, 0.5)', light: 'rgba(0, 0, 0, 0.15)' }"
  },
  'checkBox.border.width': {
    description: 'The border width when unchecked.',
    type: 'string',
    defaultValue: '2px'
  },
  'checkBox.check.extend': {
    description: 'Any additional style for checked CheckBox.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'checkBox.check.radius': {
    description: 'The radius of the checked icon.',
    type: 'string',
    defaultValue: '4px'
  },
  'checkBox.check.thickness': {
    description: 'The stroke width of the checked icon.',
    type: 'string',
    defaultValue: '4px'
  },
  'checkBox.color': {
    description: 'The stroke color for the CheckBox icon, and the border when checked.',
    type: "string | { 'dark': string, 'light': string }",
    defaultValue: undefined
  },
  'checkBox.extend': {
    description: 'Any additional style for CheckBox.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'checkBox.gap': {
    description: 'The right margin of the CheckBox to its label.',
    type: 'string',
    defaultValue: undefined
  },
  'checkBox.hover.border.color': {
    description: 'The border color on hover.',
    type: "string | { 'dark': string, 'light': string }",
    defaultValue: "{ dark: 'white', light: 'black' }"
  },
  'checkBox.icon.size': {
    description: 'The size of the checked icon.',
    type: 'string',
    defaultValue: undefined
  },
  'checkBox.icon.extend': {
    description: 'Any additional style for CheckBox icon.',
    type: 'string | (props)=>{}',
    defaultValue: undefined
  },
  'checkBox.icons.checked': {
    description: 'The icon to use when checked.',
    type: 'React.Element',
    defaultValue: undefined
  },
  'checkBox.icons.indeterminate': {
    description: 'The icon to use when indeterminate.',
    type: 'React.Element',
    defaultValue: undefined
  },
  'checkBox.size': {
    description: 'The height and width used for the CheckBox icon.',
    type: 'string',
    defaultValue: '24px'
  },
  'checkBox.toggle.background': {
    description: 'The background color of the toggle.',
    type: "string | { 'dark': string, 'light': string }",
    defaultValue: undefined
  },
  'checkBox.toggle.color': {
    description: 'The color of the toggle knob.',
    type: "string | { 'dark': string, 'light': string }",
    defaultValue: "{ dark: '#d9d9d9', light: '#d9d9d9' }"
  },
  'checkBox.toggle.extend': {
    description: 'Any additional style for CheckBox toggle.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'checkBox.toggle.knob.extend': {
    description: 'Any additional style for the CheckBox toggle knob.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'checkBox.toggle.radius': {
    description: 'The border radius used for the toggle and the knob.',
    type: 'string',
    defaultValue: '24px'
  },
  'checkBox.toggle.size': {
    description: 'The width size of the toggle.',
    type: 'string',
    defaultValue: '42px'
  }
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/CheckBox/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/grommet/es6/components/CheckBox/index.js ***!
  \***************************************************************/
/*! exports provided: CheckBox */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _CheckBox__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CheckBox */ "./node_modules/grommet/es6/components/CheckBox/CheckBox.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "CheckBox", function() { return _CheckBox__WEBPACK_IMPORTED_MODULE_0__["CheckBox"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Clock/Analog.js":
/*!*************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Clock/Analog.js ***!
  \*************************************************************/
/*! exports provided: Analog */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Analog", function() { return AnalogWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _StyledClock__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./StyledClock */ "./node_modules/grommet/es6/components/Clock/StyledClock.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }






 // this will serve both minutes and hours (360 / 6)

var ANGLE_UNIT = 6; // 360 / 12

var HOUR_ANGLE_UNIT = 30;

var getClockDimensions = function getClockDimensions(theme) {
  return {
    size: Object(_utils__WEBPACK_IMPORTED_MODULE_3__["parseMetricToNum"])(theme.clock.analog.size.medium),
    secondSize: Object(_utils__WEBPACK_IMPORTED_MODULE_3__["parseMetricToNum"])(theme.clock.analog.second.size),
    minuteSize: Object(_utils__WEBPACK_IMPORTED_MODULE_3__["parseMetricToNum"])(theme.clock.analog.minute.size),
    hourSize: Object(_utils__WEBPACK_IMPORTED_MODULE_3__["parseMetricToNum"])(theme.clock.analog.hour.size)
  };
};

var getClockState = function getClockState(_ref) {
  var hours = _ref.hours,
      minutes = _ref.minutes,
      seconds = _ref.seconds;
  var hour12 = hours > 12 ? hours - 12 : hours;
  var minuteAngle = minutes * ANGLE_UNIT;
  return {
    // offset hour angle by half of the minute angle so that it gets closer
    // to the next hour
    hourAngle: hour12 * HOUR_ANGLE_UNIT + minutes / 2,
    minuteAngle: minuteAngle,
    secondAngle: seconds * ANGLE_UNIT
  };
};

var Analog =
/*#__PURE__*/
function (_Component) {
  _inheritsLoose(Analog, _Component);

  function Analog() {
    var _this;

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _Component.call.apply(_Component, [this].concat(args)) || this;

    _defineProperty(_assertThisInitialized(_this), "state", {});

    return _this;
  }

  Analog.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {
    var elements = nextProps.elements;
    var nextState = getClockState(elements);

    if (prevState.hourAngle === undefined || Object.keys(nextState).some(function (k) {
      return prevState[k] !== nextState[k];
    })) {
      return nextState;
    }

    return null;
  };

  var _proto = Analog.prototype;

  _proto.render = function render() {
    var _this$props = this.props,
        precision = _this$props.precision,
        theme = _this$props.theme,
        rest = _objectWithoutPropertiesLoose(_this$props, ["precision", "theme"]);

    var _this$state = this.state,
        hourAngle = _this$state.hourAngle,
        minuteAngle = _this$state.minuteAngle,
        secondAngle = _this$state.secondAngle;

    var _getClockDimensions = getClockDimensions(theme),
        size = _getClockDimensions.size,
        secondSize = _getClockDimensions.secondSize,
        minuteSize = _getClockDimensions.minuteSize,
        hourSize = _getClockDimensions.hourSize;

    var halfSize = size / 2;
    var secondHand;

    if (precision === 'seconds') {
      secondHand = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledClock__WEBPACK_IMPORTED_MODULE_5__["StyledSecond"], {
        x1: halfSize,
        y1: halfSize,
        x2: halfSize,
        y2: secondSize,
        stroke: "#000000",
        strokeLinecap: theme.clock.analog.second.shape,
        style: {
          transform: "rotate(" + secondAngle + "deg)",
          transformOrigin: halfSize + "px " + halfSize + "px"
        }
      });
    }

    var minuteHand;

    if (precision === 'seconds' || precision === 'minutes') {
      minuteHand = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledClock__WEBPACK_IMPORTED_MODULE_5__["StyledMinute"], {
        x1: halfSize,
        y1: halfSize,
        x2: halfSize,
        y2: minuteSize,
        stroke: "#000000",
        strokeLinecap: theme.clock.analog.minute.shape,
        style: {
          transform: "rotate(" + minuteAngle + "deg)",
          transformOrigin: halfSize + "px " + halfSize + "px"
        }
      });
    }

    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledClock__WEBPACK_IMPORTED_MODULE_5__["StyledAnalog"], _extends({
      version: "1.1",
      width: size,
      height: size,
      preserveAspectRatio: "xMidYMid meet",
      viewBox: "0 0 " + size + " " + size
    }, rest), secondHand, minuteHand, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledClock__WEBPACK_IMPORTED_MODULE_5__["StyledHour"], {
      x1: halfSize,
      y1: halfSize,
      x2: halfSize,
      y2: hourSize,
      stroke: "#000000",
      strokeLinecap: theme.clock.analog.hour.shape,
      style: {
        transform: "rotate(" + hourAngle + "deg)",
        transformOrigin: halfSize + "px " + halfSize + "px"
      }
    }));
  };

  return Analog;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

_defineProperty(Analog, "defaultProps", {
  size: 'medium'
});

Object.setPrototypeOf(Analog.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_4__["defaultProps"]);
var AnalogWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(styled_components__WEBPACK_IMPORTED_MODULE_2__["withTheme"])(Analog);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Clock/Clock.js":
/*!************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Clock/Clock.js ***!
  \************************************************************/
/*! exports provided: Clock */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Clock", function() { return ClockWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Analog__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Analog */ "./node_modules/grommet/es6/components/Clock/Analog.js");
/* harmony import */ var _Digital__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Digital */ "./node_modules/grommet/es6/components/Clock/Digital.js");
function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }




var TIME_REGEXP = /T([0-9]{2}):([0-9]{2})(?::([0-9.,]{2,}))?/;
var DURATION_REGEXP = /^(-|\+)?P.*T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?$/;

var parseTime = function parseTime(time, hourLimit) {
  var result = {};

  if (time) {
    var match = DURATION_REGEXP.exec(time);

    if (match) {
      result.hours = parseFloat(match[2]);

      if (hourLimit === 12) {
        result.hours12 = result.hours > 12 ? result.hours - 12 : result.hours;
      }

      result.minutes = parseFloat(match[3]) || 0;
      result.seconds = parseFloat(match[4]) || 0;
      result.duration = true;
    } else {
      match = TIME_REGEXP.exec(time);

      if (match) {
        result.hours = parseFloat(match[1]);

        if (hourLimit === 12) {
          result.hours12 = result.hours > 12 ? result.hours - 12 : result.hours;
        }

        result.minutes = parseFloat(match[2]) || 0;
        result.seconds = parseFloat(match[3]) || 0;
      } else {
        console.error("Grommet Clock cannot parse '" + time + "'");
      }
    }
  } else {
    var date = new Date();
    result.hours = date.getHours();
    result.minutes = date.getMinutes();
    result.seconds = date.getSeconds();
  }

  return result;
};

var Clock =
/*#__PURE__*/
function (_Component) {
  _inheritsLoose(Clock, _Component);

  function Clock() {
    var _this;

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _Component.call.apply(_Component, [this].concat(args)) || this;

    _defineProperty(_assertThisInitialized(_this), "state", {});

    return _this;
  }

  Clock.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {
    var hourLimit = nextProps.hourLimit,
        time = nextProps.time;
    var elements = prevState.elements;

    if (!elements || time) {
      var nextElements = parseTime(time, hourLimit);

      if (!elements) {
        return {
          elements: nextElements
        };
      }

      if (Object.keys(nextElements).some(function (k) {
        return elements[k] !== nextElements[k];
      })) {
        return {
          elements: nextElements
        };
      }
    }

    return null;
  };

  var _proto = Clock.prototype;

  _proto.componentDidMount = function componentDidMount() {
    var run = this.props.run;

    if (run) {
      this.run();
    }
  };

  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {
    var run = this.props.run;

    if (run && !prevProps.run) {
      this.run();
    } else if (!run && prevProps.run) {
      clearInterval(this.timer);
    }
  };

  _proto.componentWillUnmount = function componentWillUnmount() {
    clearInterval(this.timer);
  };

  _proto.run = function run() {
    var _this2 = this;

    var _this$props = this.props,
        hourLimit = _this$props.hourLimit,
        onChange = _this$props.onChange,
        precision = _this$props.precision,
        run = _this$props.run;
    var elements = this.state.elements; // set the interval time based on the precision

    var interval = 1000;
    var increment = 'seconds';

    if (precision !== 'seconds' && elements.seconds === 0) {
      interval *= 60;
      increment = 'minutes';

      if (precision !== 'minutes' && elements.minutes === 0) {
        interval *= 60;
        increment = 'hours';
      }
    }

    clearInterval(this.timer);
    this.timer = setInterval(function () {
      var previousElements = _this2.state.elements;

      var nextElements = _extends({}, previousElements); // adjust time based on precision


      if (increment === 'seconds') {
        if (run === 'backward') {
          nextElements.seconds -= 1;
        } else {
          nextElements.seconds += 1;
        }
      } else if (increment === 'minutes') {
        if (run === 'backward') {
          nextElements.minutes -= 1;
        } else {
          nextElements.minutes += 1;
        }
      } else if (increment === 'hours') {
        if (run === 'backward') {
          nextElements.hours -= 1;
        } else {
          nextElements.hours += 1;
        }
      } // deal with overflows


      if (nextElements.seconds >= 60) {
        nextElements.minutes += Math.floor(nextElements.seconds / 60);
        nextElements.seconds = 0;
      } else if (nextElements.seconds < 0) {
        nextElements.minutes += Math.floor(nextElements.seconds / 60);
        nextElements.seconds = 59;
      }

      if (nextElements.minutes >= 60) {
        nextElements.hours += Math.floor(nextElements.minutes / 60);
        nextElements.minutes = 0;
      } else if (nextElements.minutes < 0) {
        nextElements.hours += Math.floor(nextElements.minutes / 60);
        nextElements.minutes = 59;
      }

      if (nextElements.hours >= 24 || nextElements.hours < 0) {
        nextElements.hours = 0;
      }

      if (hourLimit === 12) {
        nextElements.hours12 = nextElements.hours > 12 ? nextElements.hours - 12 : nextElements.hours;
      }

      _this2.setState({
        elements: nextElements
      }, function () {
        if (onChange) {
          if (elements.duration) {
            onChange("P" + elements.hours + "H" + elements.minutes + "M" + elements.seconds + "S");
          } else {
            onChange("T" + elements.hours + ":" + elements.minutes + ":" + elements.seconds);
          }
        }
      });
    }, interval);
  };

  _proto.render = function render() {
    var _this$props2 = this.props,
        type = _this$props2.type,
        rest = _objectWithoutPropertiesLoose(_this$props2, ["type"]);

    var elements = this.state.elements;
    var content;

    if (type === 'analog') {
      content = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Analog__WEBPACK_IMPORTED_MODULE_1__["Analog"], _extends({
        elements: elements
      }, rest));
    } else if (type === 'digital') {
      content = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Digital__WEBPACK_IMPORTED_MODULE_2__["Digital"], _extends({
        elements: elements
      }, rest));
    }

    return content;
  };

  return Clock;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

_defineProperty(Clock, "defaultProps", {
  hourLimit: 24,
  precision: 'seconds',
  run: 'forward',
  size: 'medium',
  type: 'analog'
});

var ClockDoc;

if (true) {
  ClockDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Clock/doc.js").doc(Clock); // eslint-disable-line global-require
}

var ClockWrapper = ClockDoc || Clock;


/***/ }),

/***/ "./node_modules/grommet/es6/components/Clock/Digital.js":
/*!**************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Clock/Digital.js ***!
  \**************************************************************/
/*! exports provided: Digital */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Digital", function() { return Digital; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
/* harmony import */ var _StyledClock__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./StyledClock */ "./node_modules/grommet/es6/components/Clock/StyledClock.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }





var Digit =
/*#__PURE__*/
function (_Component) {
  _inheritsLoose(Digit, _Component);

  function Digit() {
    var _this;

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _Component.call.apply(_Component, [this].concat(args)) || this;

    _defineProperty(_assertThisInitialized(_this), "state", {});

    return _this;
  }

  Digit.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {
    var number = nextProps.number;

    if (number !== prevState.number) {
      return {
        previous: prevState.number,
        number: number
      };
    }

    return null;
  };

  var _proto = Digit.prototype;

  _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {
    var _this2 = this;

    var previous = this.state.previous;

    if (prevState.previous === undefined && previous !== undefined) {
      clearTimeout(this.timer);
      this.timer = setTimeout(function () {
        _this2.setState({
          previous: undefined
        });
      }, 900);
    }
  };

  _proto.componentWillUnmount = function componentWillUnmount() {
    clearTimeout(this.timer);
  };

  _proto.render = function render() {
    /* eslint-disable-next-line react/prop-types */
    var _this$props = this.props,
        run = _this$props.run,
        size = _this$props.size;
    var _this$state = this.state,
        number = _this$state.number,
        previous = _this$state.previous;

    if (previous !== undefined) {
      var direction = run === 'backward' ? 'down' : 'up';
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledClock__WEBPACK_IMPORTED_MODULE_2__["StyledDigitalDigit"], {
        size: size
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledClock__WEBPACK_IMPORTED_MODULE_2__["StyledDigitalPrevious"], {
        direction: direction
      }, Math.floor(previous)), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledClock__WEBPACK_IMPORTED_MODULE_2__["StyledDigitalNext"], {
        direction: direction
      }, Math.floor(number)));
    }

    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledClock__WEBPACK_IMPORTED_MODULE_2__["StyledDigitalDigit"], {
      size: size
    }, Math.floor(number));
  };

  return Digit;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

var Element = function Element(_ref) {
  var number = _ref.number,
      run = _ref.run,
      sep = _ref.sep,
      size = _ref.size;
  var tens = Math.floor(number / 10);
  var ones = number % 10;
  var result = [react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Digit, {
    key: "tens",
    run: run,
    size: size,
    number: tens
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Digit, {
    key: "ones",
    run: run,
    size: size,
    number: ones
  })];

  if (sep) {
    result.unshift(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledClock__WEBPACK_IMPORTED_MODULE_2__["StyledDigitalDigit"], {
      key: "sep",
      size: size
    }, ":"));
  }

  return result;
};

var Digital = function Digital(props) {
  var elements = props.elements,
      precision = props.precision,
      run = props.run,
      size = props.size,
      rest = _objectWithoutPropertiesLoose(props, ["elements", "precision", "run", "size"]);

  var seconds;

  if (precision === 'seconds') {
    seconds = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Element, {
      number: elements.seconds,
      run: run,
      size: size,
      sep: true
    });
  }

  var minutes;

  if (precision === 'minutes' || precision === 'seconds') {
    minutes = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Element, {
      number: elements.minutes,
      run: run,
      size: size,
      sep: true
    });
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_1__["Box"], _extends({
    direction: "row"
  }, rest), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Element, {
    number: elements.hours12 || elements.hours,
    run: run,
    size: size
  }), minutes, seconds);
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/Clock/StyledClock.js":
/*!******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Clock/StyledClock.js ***!
  \******************************************************************/
/*! exports provided: StyledHour, StyledMinute, StyledSecond, StyledAnalog, StyledDigitalDigit, StyledDigitalPrevious, StyledDigitalNext */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledHour", function() { return StyledHour; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledMinute", function() { return StyledMinute; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledSecond", function() { return StyledSecond; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledAnalog", function() { return StyledAnalog; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledDigitalDigit", function() { return StyledDigitalDigit; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledDigitalPrevious", function() { return StyledDigitalPrevious; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledDigitalNext", function() { return StyledDigitalNext; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");



var StyledHour = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].line.withConfig({
  displayName: "StyledClock__StyledHour",
  componentId: "y4xw8s-0"
})(["stroke-width:", ";stroke:", ";transition:stroke 1s ease-out;"], function (props) {
  return props.theme.clock.analog.hour.width;
}, function (props) {
  return Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.clock.analog.hour.color, props.theme);
});
StyledHour.defaultProps = {};
Object.setPrototypeOf(StyledHour.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var StyledMinute = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].line.withConfig({
  displayName: "StyledClock__StyledMinute",
  componentId: "y4xw8s-1"
})(["stroke-width:", ";stroke:", ";transition:stroke 1s ease-out;"], function (props) {
  return props.theme.clock.analog.minute.width;
}, function (props) {
  return Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.clock.analog.minute.color, props.theme);
});
StyledMinute.defaultProps = {};
Object.setPrototypeOf(StyledMinute.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var StyledSecond = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].line.withConfig({
  displayName: "StyledClock__StyledSecond",
  componentId: "y4xw8s-2"
})(["stroke-width:", ";stroke:", ";transition:stroke 1s ease-out;"], function (props) {
  return props.theme.clock.analog.second.width;
}, function (props) {
  return Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.clock.analog.second.color, props.theme);
});
StyledSecond.defaultProps = {};
Object.setPrototypeOf(StyledSecond.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var StyledAnalog = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].svg.withConfig({
  displayName: "StyledClock__StyledAnalog",
  componentId: "y4xw8s-3"
})(["width:", ";height:", ";", " ", ";"], function (props) {
  return props.theme.clock.analog.size[props.size];
}, function (props) {
  return props.theme.clock.analog.size[props.size];
}, _utils__WEBPACK_IMPORTED_MODULE_1__["genericStyles"], function (props) {
  return props.theme.clock.analog && props.theme.clock.analog.extend;
});
StyledAnalog.defaultProps = {};
Object.setPrototypeOf(StyledAnalog.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);

var sizeStyle = function sizeStyle(props) {
  // size is a combination of the level and size properties
  var size = props.size || 'medium';
  var data = props.theme.clock.digital.text[size];
  return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["font-size:", ";line-height:", ";"], data.size, data.height);
};

var StyledDigitalDigit = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledClock__StyledDigitalDigit",
  componentId: "y4xw8s-4"
})(["position:relative;width:0.8em;text-align:center;overflow:hidden;", ";"], function (props) {
  return sizeStyle(props);
});
StyledDigitalDigit.defaultProps = {};
Object.setPrototypeOf(StyledDigitalDigit.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var previousUp = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["keyframes"])(["0%{transform:translateY(0);}100%{transform:translateY(-100%);}"]);
var previousDown = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["keyframes"])(["0%{transform:translateY(0);}100%{transform:translateY(100%);}"]);
var StyledDigitalPrevious = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledClock__StyledDigitalPrevious",
  componentId: "y4xw8s-5"
})(["position:absolute;top:0;left:0;width:0.8em;text-align:center;animation:", " 0.5s forwards;"], function (props) {
  return props.direction === 'down' ? previousDown : previousUp;
});
StyledDigitalPrevious.defaultProps = {};
Object.setPrototypeOf(StyledDigitalPrevious.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var nextUp = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["keyframes"])(["0%{transform:translateY(100%);}100%{transform:translateY(0);}"]);
var nextDown = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["keyframes"])(["0%{transform:translateY(-100%);}100%{transform:translateY(0);}"]);
var StyledDigitalNext = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledClock__StyledDigitalNext",
  componentId: "y4xw8s-6"
})(["position:absolute;top:0;left:0;width:0.8em;text-align:center;animation:", " 0.5s forwards;"], function (props) {
  return props.direction === 'down' ? nextDown : nextUp;
});
StyledDigitalNext.defaultProps = {};
Object.setPrototypeOf(StyledDigitalNext.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Clock/doc.js":
/*!**********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Clock/doc.js ***!
  \**********************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var doc = function doc(Clock) {
  var DocumentedClock = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Clock).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('Clock')).description('A clock with timezone awareness.').usage("import { Clock } from 'grommet';\n<Clock />").intrinsicElement(['div', 'svg']);
  DocumentedClock.propTypes = _extends({}, _utils__WEBPACK_IMPORTED_MODULE_1__["genericProps"], {
    hourLimit: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf([12, 24, '12', '24']).description('Whether to roll over the hours after 12 or after 24.').defaultValue(24),
    onChange: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("If the clock is running, this function will be called with the\n      current time value each time it changes."),
    precision: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['hours', 'minutes', 'seconds']).description('How precise a time to represent.').defaultValue('seconds'),
    run: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['backward', 'forward'])]).description("Whether the clock should actively adjust time or be fixed to the\n      time specified. 'backward' could be used as a countdown timer.").defaultValue('forward'),
    size: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['small', 'medium', 'large', 'xlarge']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description('Clock size').defaultValue('medium'),
    time: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description("ISO8601 time or duration. For example: 'PT8H12M23S',\n      'T08:12:23', or '2015-02-22T08:12:23'. Any included date\n      portion will be ignored for an analog clock. If not provided, the\n      current browser time will be used."),
    type: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['analog', 'digital']).description('What type of visualization to show.').defaultValue('analog')
  });
  return DocumentedClock;
};
var themeDoc = {
  'clock.analog.extend': {
    description: 'Any additional style for Clock.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'clock.analog.hour.color': {
    description: 'The color of the hour hand.',
    type: 'string | { dark: string, light: string }',
    defaultValue: '{ dark: light-2, light: dark-3 }'
  },
  'clock.analog.hour.shape': {
    description: 'The shape of the hour hand',
    type: 'string',
    defaultValue: 'round'
  },
  'clock.analog.hour.size': {
    description: 'The length of the hour hand.',
    type: 'string',
    defaultValue: '24px'
  },
  'clock.analog.hour.width': {
    description: 'The thickness of the hour hand',
    type: 'string',
    defaultValue: '8px'
  },
  'clock.analog.minute.color': {
    description: 'The color of the hour minute.',
    type: 'string | { dark: string, light: string }',
    defaultValue: '{ dark: light-4, light: dark-3 }'
  },
  'clock.analog.minute.shape': {
    description: 'The shape of the minute hand.',
    type: 'string',
    defaultValue: 'round'
  },
  'clock.analog.minute.size': {
    description: 'The length of the minute hand.',
    type: 'string',
    defaultValue: '12px'
  },
  'clock.analog.minute.width': {
    description: 'The thickness of the minute hand.',
    type: 'string',
    defaultValue: '4px'
  },
  'clock.analog.second.color': {
    description: 'The color of the seconds hand',
    type: 'string | { dark: string, light: string }',
    defaultValue: '{ dark: accent-1, light: accent-1 }'
  },
  'clock.analog.second.shape': {
    description: 'The shape of the seconds hand.',
    type: 'string',
    defaultValue: 'round'
  },
  'clock.analog.second.size': {
    description: 'The length of the seconds hand.',
    type: 'string',
    defaultValue: '10px'
  },
  'clock.analog.second.width': {
    description: 'The thickness of the seconds hand.',
    type: 'string',
    defaultValue: '3px'
  },
  'clock.analog.size.medium': {
    description: 'The whole size of the Analog clock',
    type: 'string',
    defaultValue: '96px'
  }
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/Clock/index.js":
/*!************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Clock/index.js ***!
  \************************************************************/
/*! exports provided: Clock */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Clock__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Clock */ "./node_modules/grommet/es6/components/Clock/Clock.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Clock", function() { return _Clock__WEBPACK_IMPORTED_MODULE_0__["Clock"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Collapsible/Collapsible.js":
/*!************************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Collapsible/Collapsible.js ***!
  \************************************************************************/
/*! exports provided: Collapsible */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Collapsible", function() { return CollapsibleWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }







var animatedBoxProperty = function animatedBoxProperty(direction) {
  return direction === 'horizontal' ? 'width' : 'height';
};

var AnimatedBox = Object(styled_components__WEBPACK_IMPORTED_MODULE_2__["default"])(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"]).withConfig({
  displayName: "Collapsible__AnimatedBox",
  componentId: "sc-15kniua-0"
})(["", ";"], function (props) {
  return !props.animate && (props.open ? "\n    max-" + animatedBoxProperty(props.collapsibleDirection) + ": unset;\n    visibility: visible;\n  " : "\n    max-" + animatedBoxProperty(props.collapsibleDirection) + ": 0;\n    visibility: hidden;\n    overflow: hidden;\n  ");
});

var Collapsible =
/*#__PURE__*/
function (_Component) {
  _inheritsLoose(Collapsible, _Component);

  Collapsible.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {
    var open = nextProps.open;

    if (open !== prevState.open) {
      return {
        animate: true,
        open: open
      };
    }

    return null;
  };

  function Collapsible(props, context) {
    var _this;

    _this = _Component.call(this, props, context) || this;
    /* eslint-disable-next-line react/prop-types */

    _defineProperty(_assertThisInitialized(_this), "ref", Object(react__WEBPACK_IMPORTED_MODULE_0__["createRef"])());

    _defineProperty(_assertThisInitialized(_this), "getSnapshotBeforeUpdate", function () {
      return _this.ref.current && _this.ref.current.getBoundingClientRect();
    });

    _this.state = {
      open: props.open,
      animate: false
    };
    return _this;
  }

  var _proto = Collapsible.prototype;

  _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState, snapshot) {
    var _this2 = this;

    var _this$props = this.props,
        direction = _this$props.direction,
        _this$props$theme$col = _this$props.theme.collapsible,
        minSpeed = _this$props$theme$col.minSpeed,
        baseline = _this$props$theme$col.baseline;
    var _this$state = this.state,
        animate = _this$state.animate,
        open = _this$state.open;
    var container = this.ref.current;

    if (container) {
      var dimension = animatedBoxProperty(direction);
      var boudingClientRect = container.getBoundingClientRect();
      var dimensionSize = boudingClientRect[dimension];
      var shouldAnimate = animate && prevState.open !== open;

      if (open && snapshot[dimension] && dimensionSize !== snapshot[dimension]) {
        shouldAnimate = true;
      }

      if (shouldAnimate) {
        if (this.animationTimeout) {
          clearTimeout(this.animationTimeout);
        }

        var speed = Math.max(dimensionSize / baseline * minSpeed, minSpeed);
        container.style["max-" + dimension] = snapshot[dimension] + "px";
        container.style.overflow = 'hidden';
        requestAnimationFrame(function () {
          requestAnimationFrame(function () {
            // eslint-disable-next-line max-len
            container.style.transition = "max-" + dimension + " " + speed + "ms, visibility 50ms";
            container.style["max-" + dimension] = open ? dimensionSize + "px" : '0px';
            _this2.animationTimeout = setTimeout(function () {
              container.removeAttribute('style');

              _this2.setState({
                animate: false
              });
            }, speed);
          });
        });
      }
    }
  };

  _proto.componentWillUnmount = function componentWillUnmount() {
    if (this.animationTimeout) {
      clearTimeout(this.animationTimeout);
    }
  };

  _proto.render = function render() {
    /* eslint-disable-next-line react/prop-types */
    var _this$props2 = this.props,
        children = _this$props2.children,
        direction = _this$props2.direction;
    var _this$state2 = this.state,
        animate = _this$state2.animate,
        open = _this$state2.open;
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(AnimatedBox, {
      "aria-hidden": !open,
      ref: this.ref,
      open: open,
      animate: animate,
      collapsibleDirection: direction
    }, children);
  };

  return Collapsible;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

Collapsible.defaultProps = {};
Object.setPrototypeOf(Collapsible.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_3__["defaultProps"]);
var CollapsibleDoc;

if (true) {
  // eslint-disable-next-line global-require
  CollapsibleDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Collapsible/doc.js").doc(Collapsible);
}

var CollapsibleWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(styled_components__WEBPACK_IMPORTED_MODULE_2__["withTheme"])(CollapsibleDoc || Collapsible);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Collapsible/doc.js":
/*!****************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Collapsible/doc.js ***!
  \****************************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);

var doc = function doc(Collapsible) {
  var DocumentedCollapsible = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Collapsible).description('Expand or collapse animation.').usage("import { Collapsible } from 'grommet';\n<Collapsible open>test</Collapsible>").intrinsicElement('div');
  DocumentedCollapsible.propTypes = {
    open: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Whether or not the component should be open.'),
    direction: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['horizontal', 'vertical']).description('Direction to animate the collapsible content.').defaultValue('vertical')
  };
  return DocumentedCollapsible;
};
var themeDoc = {
  'collapsible.minSpeed': {
    description: 'The minimum speed of Collapsible animation in milliseconds.',
    type: 'number',
    defaultValue: 200
  },
  'collapsible.baseline': {
    description: 'Default height to be used to calculate the optimal collapsible speed.',
    type: 'number',
    defaultValue: 500
  },
  'collapsible.extend': {
    description: 'Any additional style for Collapsible.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  }
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/Collapsible/index.js":
/*!******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Collapsible/index.js ***!
  \******************************************************************/
/*! exports provided: Collapsible */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Collapsible__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Collapsible */ "./node_modules/grommet/es6/components/Collapsible/Collapsible.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Collapsible", function() { return _Collapsible__WEBPACK_IMPORTED_MODULE_0__["Collapsible"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/DataTable/Body.js":
/*!***************************************************************!*\
  !*** ./node_modules/grommet/es6/components/DataTable/Body.js ***!
  \***************************************************************/
/*! exports provided: Body */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Body", function() { return ButtonWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var _InfiniteScroll__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../InfiniteScroll */ "./node_modules/grommet/es6/components/InfiniteScroll/index.js");
/* harmony import */ var _TableRow__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../TableRow */ "./node_modules/grommet/es6/components/TableRow/index.js");
/* harmony import */ var _TableCell__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../TableCell */ "./node_modules/grommet/es6/components/TableCell/index.js");
/* harmony import */ var _Keyboard__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Keyboard */ "./node_modules/grommet/es6/components/Keyboard/index.js");
/* harmony import */ var _hocs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../hocs */ "./node_modules/grommet/es6/components/hocs.js");
/* harmony import */ var _Cell__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Cell */ "./node_modules/grommet/es6/components/DataTable/Cell.js");
/* harmony import */ var _StyledDataTable__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./StyledDataTable */ "./node_modules/grommet/es6/components/DataTable/StyledDataTable.js");
/* harmony import */ var _buildState__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./buildState */ "./node_modules/grommet/es6/components/DataTable/buildState.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }












var Body = function Body(_ref) {
  var background = _ref.background,
      border = _ref.border,
      columns = _ref.columns,
      data = _ref.data,
      forwardRef = _ref.forwardRef,
      onMore = _ref.onMore,
      replace = _ref.replace,
      onClickRow = _ref.onClickRow,
      pad = _ref.pad,
      primaryProperty = _ref.primaryProperty,
      rowProps = _ref.rowProps,
      size = _ref.size,
      step = _ref.step,
      theme = _ref.theme,
      rest = _objectWithoutPropertiesLoose(_ref, ["background", "border", "columns", "data", "forwardRef", "onMore", "replace", "onClickRow", "pad", "primaryProperty", "rowProps", "size", "step", "theme"]);

  var _React$useState = react__WEBPACK_IMPORTED_MODULE_0___default.a.useState(),
      active = _React$useState[0],
      setActive = _React$useState[1];

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Keyboard__WEBPACK_IMPORTED_MODULE_5__["Keyboard"], {
    onEnter: onClickRow && active >= 0 ? function (event) {
      event.persist();
      var adjustedEvent = event;
      adjustedEvent.datum = data[active];
      onClickRow(adjustedEvent);
    } : undefined,
    onUp: onClickRow && active ? function () {
      setActive(active - 1);
    } : undefined,
    onDown: onClickRow && data.length ? function () {
      setActive(active >= 0 ? Math.min(active + 1, data.length - 1) : 0);
    } : undefined
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledDataTable__WEBPACK_IMPORTED_MODULE_8__["StyledDataTableBody"], _extends({
    ref: forwardRef,
    size: size,
    tabIndex: onClickRow ? 0 : undefined
  }, rest), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_InfiniteScroll__WEBPACK_IMPORTED_MODULE_2__["InfiniteScroll"], {
    items: data,
    onMore: onMore,
    replace: replace,
    renderMarker: function renderMarker(marker) {
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_TableRow__WEBPACK_IMPORTED_MODULE_3__["TableRow"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_TableCell__WEBPACK_IMPORTED_MODULE_4__["TableCell"], null, marker));
    },
    scrollableAncestor: "window",
    step: step
  }, function (datum, index) {
    var primaryValue = primaryProperty ? Object(_buildState__WEBPACK_IMPORTED_MODULE_9__["datumValue"])(datum, primaryProperty) : undefined;
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledDataTable__WEBPACK_IMPORTED_MODULE_8__["StyledDataTableRow"], {
      key: primaryValue || index,
      size: size,
      active: active >= 0 ? active === index : undefined,
      onClick: onClickRow ? function (event) {
        // extract from React's synthetic event pool
        event.persist();
        var adjustedEvent = event;
        adjustedEvent.datum = datum;
        adjustedEvent.index = index;
        onClickRow(adjustedEvent);
      } : undefined,
      onMouseOver: onClickRow ? function () {
        return setActive(index);
      } : undefined,
      onMouseOut: onClickRow ? function () {
        return setActive(undefined);
      } : undefined,
      onFocus: onClickRow ? function () {
        return setActive(index);
      } : undefined,
      onBlur: onClickRow ? function () {
        return setActive(undefined);
      } : undefined
    }, columns.map(function (column) {
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Cell__WEBPACK_IMPORTED_MODULE_7__["Cell"], {
        key: column.property,
        background: background,
        border: border,
        context: "body",
        column: column,
        datum: datum,
        index: index,
        pad: pad,
        primaryProperty: primaryProperty,
        rowProp: rowProps && rowProps[primaryValue],
        scope: column.primary || column.property === primaryProperty ? 'row' : undefined
      });
    }));
  })));
};

var ButtonWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(Object(_hocs__WEBPACK_IMPORTED_MODULE_6__["withFocus"])(), _hocs__WEBPACK_IMPORTED_MODULE_6__["withForwardRef"])(Body);


/***/ }),

/***/ "./node_modules/grommet/es6/components/DataTable/Cell.js":
/*!***************************************************************!*\
  !*** ./node_modules/grommet/es6/components/DataTable/Cell.js ***!
  \***************************************************************/
/*! exports provided: Cell */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Cell", function() { return CellWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _TableCell__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../TableCell */ "./node_modules/grommet/es6/components/TableCell/index.js");
/* harmony import */ var _Text__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Text */ "./node_modules/grommet/es6/components/Text/index.js");
/* harmony import */ var _buildState__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./buildState */ "./node_modules/grommet/es6/components/DataTable/buildState.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }









var normalizeProp = function normalizeProp(name, rowProp, prop) {
  if (rowProp && rowProp[name]) return rowProp[name];
  return prop;
};

var Cell = function Cell(_ref) {
  var background = _ref.background,
      border = _ref.border,
      _ref$column = _ref.column,
      align = _ref$column.align,
      property = _ref$column.property,
      render = _ref$column.render,
      context = _ref.context,
      datum = _ref.datum,
      index = _ref.index,
      pad = _ref.pad,
      primaryProperty = _ref.primaryProperty,
      rowProp = _ref.rowProp,
      scope = _ref.scope,
      theme = _ref.theme;
  var value = Object(_buildState__WEBPACK_IMPORTED_MODULE_6__["datumValue"])(datum, property);
  var content;

  if (render) {
    content = render(datum);
  } else if (value !== undefined) {
    content = value;
  }

  if (typeof content === 'string' || typeof content === 'number') {
    var textProps = property === primaryProperty ? theme.dataTable.primary : {};
    content = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Text__WEBPACK_IMPORTED_MODULE_5__["Text"], textProps, content);
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_TableCell__WEBPACK_IMPORTED_MODULE_4__["TableCell"], _extends({
    scope: scope
  }, theme.dataTable[context], {
    align: align,
    background: normalizeProp('background', rowProp, Array.isArray(background) ? background[index % background.length] : background),
    border: normalizeProp('border', rowProp, border),
    pad: normalizeProp('pad', rowProp, pad)
  }), content);
};

Cell.defaultProps = {};
Object.setPrototypeOf(Cell.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_3__["defaultProps"]);
var CellWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(styled_components__WEBPACK_IMPORTED_MODULE_2__["withTheme"])(Cell);


/***/ }),

/***/ "./node_modules/grommet/es6/components/DataTable/DataTable.js":
/*!********************************************************************!*\
  !*** ./node_modules/grommet/es6/components/DataTable/DataTable.js ***!
  \********************************************************************/
/*! exports provided: DataTable */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DataTable", function() { return DataTableWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Header__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Header */ "./node_modules/grommet/es6/components/DataTable/Header.js");
/* harmony import */ var _Footer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Footer */ "./node_modules/grommet/es6/components/DataTable/Footer.js");
/* harmony import */ var _Body__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Body */ "./node_modules/grommet/es6/components/DataTable/Body.js");
/* harmony import */ var _GroupedBody__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./GroupedBody */ "./node_modules/grommet/es6/components/DataTable/GroupedBody.js");
/* harmony import */ var _buildState__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./buildState */ "./node_modules/grommet/es6/components/DataTable/buildState.js");
/* harmony import */ var _StyledDataTable__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./StyledDataTable */ "./node_modules/grommet/es6/components/DataTable/StyledDataTable.js");
function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }








var contexts = ['header', 'body', 'footer'];

var normalizeProp = function normalizeProp(prop, context) {
  if (prop) {
    if (prop[context]) return prop[context];
    if (contexts.some(function (c) {
      return prop[c];
    })) return undefined;
    return prop;
  }

  return undefined;
};

var DataTable =
/*#__PURE__*/
function (_Component) {
  _inheritsLoose(DataTable, _Component);

  function DataTable() {
    var _this;

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _Component.call.apply(_Component, [this].concat(args)) || this;

    _defineProperty(_assertThisInitialized(_this), "state", {});

    _defineProperty(_assertThisInitialized(_this), "onFiltering", function (property) {
      _this.setState({
        filtering: property
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onFilter", function (property, value) {
      /* eslint-disable-next-line react/prop-types */
      var onSearch = _this.props.onSearch;
      var filters = _this.state.filters;

      var nextFilters = _extends({}, filters);

      nextFilters[property] = value;

      _this.setState({
        filters: nextFilters
      }); // Let caller know about search, if interested


      if (onSearch) {
        onSearch(nextFilters);
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onSort", function (property) {
      return function () {
        var sort = _this.state.sort;
        var ascending = sort && property === sort.property ? !sort.ascending : true;

        _this.setState({
          sort: {
            property: property,
            ascending: ascending
          }
        });
      };
    });

    _defineProperty(_assertThisInitialized(_this), "onToggleGroup", function (groupValue) {
      return function () {
        var groupState = _this.state.groupState;
        var groupBy = _this.props.groupBy;

        var nextGroupState = _extends({}, groupState);

        nextGroupState[groupValue] = _extends({}, nextGroupState[groupValue], {
          expanded: !nextGroupState[groupValue].expanded
        });

        _this.setState({
          groupState: nextGroupState
        });

        if (groupBy.onExpand) {
          var expandedKeys = Object.keys(nextGroupState).filter(function (k) {
            return nextGroupState[k].expanded;
          });
          groupBy.onExpand(expandedKeys);
        }
      };
    });

    _defineProperty(_assertThisInitialized(_this), "onToggleGroups", function () {
      var groupState = _this.state.groupState;
      var groupBy = _this.props.groupBy;
      var expanded = Object.keys(groupState).filter(function (k) {
        return !groupState[k].expanded;
      }).length === 0;
      var nextGroupState = {};
      Object.keys(groupState).forEach(function (k) {
        nextGroupState[k] = _extends({}, groupState[k], {
          expanded: !expanded
        });
      });

      _this.setState({
        groupState: nextGroupState
      });

      if (groupBy.onExpand) {
        var expandedKeys = Object.keys(nextGroupState).filter(function (k) {
          return nextGroupState[k].expanded;
        });
        groupBy.onExpand(expandedKeys);
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onResize", function (property) {
      return function (width) {
        var widths = _this.state.widths;

        var nextWidths = _extends({}, widths || {});

        nextWidths[property] = width;

        _this.setState({
          widths: nextWidths
        });
      };
    });

    return _this;
  }

  DataTable.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {
    return Object(_buildState__WEBPACK_IMPORTED_MODULE_5__["buildState"])(nextProps, prevState);
  };

  var _proto = DataTable.prototype;

  _proto.render = function render() {
    var _this$props = this.props,
        background = _this$props.background,
        border = _this$props.border,
        columns = _this$props.columns,
        propsData = _this$props.data,
        groupBy = _this$props.groupBy,
        onMore = _this$props.onMore,
        replace = _this$props.replace,
        pad = _this$props.pad,
        resizeable = _this$props.resizeable,
        rowProps = _this$props.rowProps,
        size = _this$props.size,
        sortable = _this$props.sortable,
        step = _this$props.step,
        onClickRow = _this$props.onClickRow,
        onSearch = _this$props.onSearch,
        rest = _objectWithoutPropertiesLoose(_this$props, ["background", "border", "columns", "data", "groupBy", "onMore", "replace", "pad", "resizeable", "rowProps", "size", "sortable", "step", "onClickRow", "onSearch"]);

    var _this$state = this.state,
        data = _this$state.data,
        filtering = _this$state.filtering,
        filters = _this$state.filters,
        footerValues = _this$state.footerValues,
        groups = _this$state.groups,
        groupState = _this$state.groupState,
        primaryProperty = _this$state.primaryProperty,
        showFooter = _this$state.showFooter,
        sort = _this$state.sort,
        widths = _this$state.widths;

    if (size && resizeable) {
      console.warn('DataTable cannot combine "size" and "resizeble".');
    }

    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledDataTable__WEBPACK_IMPORTED_MODULE_6__["StyledDataTable"], rest, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Header__WEBPACK_IMPORTED_MODULE_1__["Header"], {
      background: normalizeProp(background, 'header'),
      border: normalizeProp(border, 'header'),
      columns: columns,
      filtering: filtering,
      filters: filters,
      groups: groups,
      groupState: groupState,
      pad: normalizeProp(pad, 'header'),
      size: size,
      sort: sort,
      widths: widths,
      onFiltering: this.onFiltering,
      onFilter: this.onFilter,
      onResize: resizeable ? this.onResize : undefined,
      onSort: sortable ? this.onSort : undefined,
      onToggle: this.onToggleGroups
    }), groups ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_GroupedBody__WEBPACK_IMPORTED_MODULE_4__["GroupedBody"], {
      background: normalizeProp(background, 'body'),
      border: normalizeProp(border, 'body'),
      columns: columns,
      groupBy: groupBy.property ? groupBy.property : groupBy,
      groups: groups,
      groupState: groupState,
      pad: normalizeProp(pad, 'body'),
      primaryProperty: primaryProperty,
      onToggle: this.onToggleGroup,
      size: size
    }) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Body__WEBPACK_IMPORTED_MODULE_3__["Body"], {
      background: normalizeProp(background, 'body'),
      border: normalizeProp(border, 'body'),
      columns: columns,
      data: data,
      onMore: onMore,
      replace: replace,
      onClickRow: onClickRow,
      pad: normalizeProp(pad, 'body'),
      primaryProperty: primaryProperty,
      rowProps: rowProps,
      size: size,
      step: step
    }), showFooter && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Footer__WEBPACK_IMPORTED_MODULE_2__["Footer"], {
      background: normalizeProp(background, 'footer'),
      border: normalizeProp(border, 'footer'),
      columns: columns,
      footerValues: footerValues,
      groups: groups,
      pad: normalizeProp(pad, 'footer'),
      primaryProperty: primaryProperty,
      size: size
    }));
  };

  return DataTable;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

_defineProperty(DataTable, "defaultProps", {
  columns: [],
  data: [],
  step: 50
});

var DataTableDoc;

if (true) {
  // eslint-disable-next-line global-require
  DataTableDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/DataTable/doc.js").doc(DataTable);
}

var DataTableWrapper = DataTableDoc || DataTable;


/***/ }),

/***/ "./node_modules/grommet/es6/components/DataTable/ExpanderCell.js":
/*!***********************************************************************!*\
  !*** ./node_modules/grommet/es6/components/DataTable/ExpanderCell.js ***!
  \***********************************************************************/
/*! exports provided: ExpanderCell */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ExpanderCell", function() { return ExpanderCellWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Button */ "./node_modules/grommet/es6/components/Button/index.js");
/* harmony import */ var _TableCell__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../TableCell */ "./node_modules/grommet/es6/components/TableCell/index.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }










var ExpanderCell = function ExpanderCell(_ref) {
  var context = _ref.context,
      expanded = _ref.expanded,
      onToggle = _ref.onToggle,
      theme = _ref.theme,
      rest = _objectWithoutPropertiesLoose(_ref, ["context", "expanded", "onToggle", "theme"]);

  var content;

  if (onToggle) {
    var ExpandIcon = theme.dataTable.icons[expanded ? 'contract' : 'expand'];
    content = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ExpandIcon, {
      color: Object(_utils__WEBPACK_IMPORTED_MODULE_7__["normalizeColor"])('border', theme)
    });
  }

  var normalizedThemeProps = _extends({}, theme.table[context], {}, theme.dataTable[context]);

  delete normalizedThemeProps.background;
  delete normalizedThemeProps.border;
  delete normalizedThemeProps.pad;
  content = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"], _extends({}, normalizedThemeProps, rest, {
    align: "center",
    pad: "xsmall"
  }), content);

  if (onToggle) {
    content = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_5__["Button"], {
      fill: true,
      a11yTitle: expanded ? 'collapse' : 'expand',
      hoverIndicator: true,
      disabled: !onToggle,
      onClick: onToggle
    }, content);
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_TableCell__WEBPACK_IMPORTED_MODULE_6__["TableCell"], {
    size: "xxsmall",
    plain: true,
    verticalAlign: context === 'groupEnd' ? 'bottom' : 'top',
    pad: "none"
  }, content);
};

ExpanderCell.defaultProps = {};
Object.setPrototypeOf(ExpanderCell.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_3__["defaultProps"]);
var ExpanderCellWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(styled_components__WEBPACK_IMPORTED_MODULE_2__["withTheme"])(ExpanderCell);


/***/ }),

/***/ "./node_modules/grommet/es6/components/DataTable/Footer.js":
/*!*****************************************************************!*\
  !*** ./node_modules/grommet/es6/components/DataTable/Footer.js ***!
  \*****************************************************************/
/*! exports provided: Footer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Footer", function() { return FooterWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _TableRow__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../TableRow */ "./node_modules/grommet/es6/components/TableRow/index.js");
/* harmony import */ var _TableCell__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../TableCell */ "./node_modules/grommet/es6/components/TableCell/index.js");
/* harmony import */ var _Cell__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Cell */ "./node_modules/grommet/es6/components/DataTable/Cell.js");
/* harmony import */ var _StyledDataTable__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./StyledDataTable */ "./node_modules/grommet/es6/components/DataTable/StyledDataTable.js");
function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }










var Footer = function Footer(_ref) {
  var background = _ref.background,
      border = _ref.border,
      columns = _ref.columns,
      footerValues = _ref.footerValues,
      groups = _ref.groups,
      pad = _ref.pad,
      primaryProperty = _ref.primaryProperty,
      theme = _ref.theme,
      rest = _objectWithoutPropertiesLoose(_ref, ["background", "border", "columns", "footerValues", "groups", "pad", "primaryProperty", "theme"]);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledDataTable__WEBPACK_IMPORTED_MODULE_7__["StyledDataTableFooter"], rest, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_TableRow__WEBPACK_IMPORTED_MODULE_4__["TableRow"], null, groups && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_TableCell__WEBPACK_IMPORTED_MODULE_5__["TableCell"], {
    plain: true,
    size: "xxsmall",
    pad: "none",
    verticalAlign: "top"
  }), columns.map(function (column) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Cell__WEBPACK_IMPORTED_MODULE_6__["Cell"], {
      key: column.property,
      background: background,
      border: border,
      context: "footer",
      column: column,
      datum: footerValues,
      pad: pad,
      primaryProperty: primaryProperty
    });
  })));
};

Footer.defaultProps = {};
Object.setPrototypeOf(Footer.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_3__["defaultProps"]);
var FooterWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(styled_components__WEBPACK_IMPORTED_MODULE_2__["withTheme"])(Footer);


/***/ }),

/***/ "./node_modules/grommet/es6/components/DataTable/GroupedBody.js":
/*!**********************************************************************!*\
  !*** ./node_modules/grommet/es6/components/DataTable/GroupedBody.js ***!
  \**********************************************************************/
/*! exports provided: GroupedBody */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GroupedBody", function() { return GroupedBody; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Cell__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Cell */ "./node_modules/grommet/es6/components/DataTable/Cell.js");
/* harmony import */ var _ExpanderCell__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ExpanderCell */ "./node_modules/grommet/es6/components/DataTable/ExpanderCell.js");
/* harmony import */ var _StyledDataTable__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./StyledDataTable */ "./node_modules/grommet/es6/components/DataTable/StyledDataTable.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }





var GroupedBody = function GroupedBody(_ref) {
  var background = _ref.background,
      border = _ref.border,
      columns = _ref.columns,
      groupBy = _ref.groupBy,
      groups = _ref.groups,
      groupState = _ref.groupState,
      pad = _ref.pad,
      primaryProperty = _ref.primaryProperty,
      onToggle = _ref.onToggle,
      size = _ref.size,
      rest = _objectWithoutPropertiesLoose(_ref, ["background", "border", "columns", "groupBy", "groups", "groupState", "pad", "primaryProperty", "onToggle", "size"]);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledDataTable__WEBPACK_IMPORTED_MODULE_3__["StyledDataTableBody"], _extends({
    size: size
  }, rest), groups.map(function (group) {
    var expanded = groupState[group.key].expanded;
    var memberCount = group.data.length;
    var content = memberCount > 1 ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledDataTable__WEBPACK_IMPORTED_MODULE_3__["StyledDataTableRow"], {
      key: group.key,
      size: size
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ExpanderCell__WEBPACK_IMPORTED_MODULE_2__["ExpanderCell"], {
      context: expanded ? 'groupHeader' : 'body',
      expanded: expanded,
      onToggle: onToggle(group.key)
    }), columns.map(function (column) {
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Cell__WEBPACK_IMPORTED_MODULE_1__["Cell"], {
        key: column.property,
        background: background,
        border: border,
        context: expanded ? 'groupHeader' : 'body',
        column: column,
        datum: group.datum,
        pad: pad,
        scope: column.property === groupBy ? 'row' : undefined
      });
    })) : null;

    if (memberCount === 1 || expanded) {
      content = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0__["Fragment"], {
        key: group.key
      }, content, group.data.map(function (datum, index) {
        var context = memberCount > 1 && index === memberCount - 1 ? 'groupEnd' : 'body';
        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledDataTable__WEBPACK_IMPORTED_MODULE_3__["StyledDataTableRow"], {
          key: datum[primaryProperty],
          size: size
        }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ExpanderCell__WEBPACK_IMPORTED_MODULE_2__["ExpanderCell"], {
          context: context
        }), columns.map(function (column) {
          return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Cell__WEBPACK_IMPORTED_MODULE_1__["Cell"], {
            key: column.property,
            background: background,
            border: border,
            context: context,
            column: column,
            datum: datum,
            pad: pad,
            scope: column.primary ? 'row' : undefined
          });
        }));
      }));
    }

    return content;
  }));
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/DataTable/Header.js":
/*!*****************************************************************!*\
  !*** ./node_modules/grommet/es6/components/DataTable/Header.js ***!
  \*****************************************************************/
/*! exports provided: Header */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Header", function() { return HeaderWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Button */ "./node_modules/grommet/es6/components/Button/index.js");
/* harmony import */ var _TableCell__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../TableCell */ "./node_modules/grommet/es6/components/TableCell/index.js");
/* harmony import */ var _Text__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Text */ "./node_modules/grommet/es6/components/Text/index.js");
/* harmony import */ var _Resizer__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Resizer */ "./node_modules/grommet/es6/components/DataTable/Resizer.js");
/* harmony import */ var _Searcher__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Searcher */ "./node_modules/grommet/es6/components/DataTable/Searcher.js");
/* harmony import */ var _ExpanderCell__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./ExpanderCell */ "./node_modules/grommet/es6/components/DataTable/ExpanderCell.js");
/* harmony import */ var _StyledDataTable__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./StyledDataTable */ "./node_modules/grommet/es6/components/DataTable/StyledDataTable.js");
function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }














var Header = function Header(_ref) {
  var background = _ref.background,
      border = _ref.border,
      columns = _ref.columns,
      filtering = _ref.filtering,
      filters = _ref.filters,
      groups = _ref.groups,
      groupState = _ref.groupState,
      onFilter = _ref.onFilter,
      onFiltering = _ref.onFiltering,
      onResize = _ref.onResize,
      onSort = _ref.onSort,
      onToggle = _ref.onToggle,
      pad = _ref.pad,
      sort = _ref.sort,
      theme = _ref.theme,
      widths = _ref.widths,
      rest = _objectWithoutPropertiesLoose(_ref, ["background", "border", "columns", "filtering", "filters", "groups", "groupState", "onFilter", "onFiltering", "onResize", "onSort", "onToggle", "pad", "sort", "theme", "widths"]);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledDataTable__WEBPACK_IMPORTED_MODULE_11__["StyledDataTableHeader"], rest, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledDataTable__WEBPACK_IMPORTED_MODULE_11__["StyledDataTableRow"], null, groups && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ExpanderCell__WEBPACK_IMPORTED_MODULE_10__["ExpanderCell"], {
    context: "header",
    expanded: Object.keys(groupState).filter(function (k) {
      return !groupState[k].expanded;
    }).length === 0,
    onToggle: onToggle
  }), columns.map(function (_ref2) {
    var property = _ref2.property,
        header = _ref2.header,
        align = _ref2.align,
        search = _ref2.search,
        sortable = _ref2.sortable;
    var content = typeof header === 'string' ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Text__WEBPACK_IMPORTED_MODULE_7__["Text"], null, header) : header;

    if (onSort && sortable !== false) {
      var Icon = onSort && sortable !== false && sort && sort.property === property && theme.dataTable.icons[sort.ascending ? 'ascending' : 'descending'];
      content = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_5__["Button"], {
        plain: true,
        fill: "vertical",
        onClick: onSort(property)
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"], {
        direction: "row",
        align: "center",
        gap: "xsmall"
      }, content, Icon && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Icon, null)));
    }

    if (search || onResize) {
      var resizer = onResize ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Resizer__WEBPACK_IMPORTED_MODULE_8__["Resizer"], {
        property: property,
        onResize: onResize
      }) : null;
      var searcher = search && filters ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Searcher__WEBPACK_IMPORTED_MODULE_9__["Searcher"], {
        filtering: filtering,
        filters: filters,
        property: property,
        onFilter: onFilter,
        onFiltering: onFiltering
      }) : null;
      content = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"], {
        direction: "row",
        align: "center",
        justify: !align || align === 'start' ? 'between' : align,
        gap: "small",
        fill: "vertical",
        style: onResize ? {
          position: 'relative'
        } : undefined
      }, content, searcher && resizer ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"], {
        flex: "shrink",
        direction: "row",
        align: "center",
        gap: "small"
      }, searcher, resizer) : searcher || resizer);
    }

    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_TableCell__WEBPACK_IMPORTED_MODULE_6__["TableCell"], {
      key: property,
      align: align,
      background: background,
      border: border,
      pad: pad,
      plain: true,
      scope: "col",
      style: widths && widths[property] ? {
        width: widths[property]
      } : undefined
    }, content);
  })));
};

Header.defaultProps = {};
Object.setPrototypeOf(Header.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_3__["defaultProps"]);
var HeaderWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(styled_components__WEBPACK_IMPORTED_MODULE_2__["withTheme"])(Header);


/***/ }),

/***/ "./node_modules/grommet/es6/components/DataTable/Resizer.js":
/*!******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/DataTable/Resizer.js ***!
  \******************************************************************/
/*! exports provided: Resizer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Resizer", function() { return ResizerWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }






var ResizerBox = Object(styled_components__WEBPACK_IMPORTED_MODULE_2__["default"])(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"]).withConfig({
  displayName: "Resizer__ResizerBox",
  componentId: "sc-8l808w-0"
})(["cursor:col-resize;"]);

var Resizer =
/*#__PURE__*/
function (_Component) {
  _inheritsLoose(Resizer, _Component);

  function Resizer() {
    var _this;

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _Component.call.apply(_Component, [this].concat(args)) || this;

    _defineProperty(_assertThisInitialized(_this), "state", {});

    _defineProperty(_assertThisInitialized(_this), "ref", react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef());

    _defineProperty(_assertThisInitialized(_this), "onMouseDown", function (event) {
      if (_this.ref.current) {
        var element = _this.ref.current; // find TH parent

        while (element && element.nodeName !== 'TH') {
          element = element.parentNode;
        }

        var rect = element.getBoundingClientRect();

        _this.setState({
          start: event.clientX,
          width: rect.width
        }, function () {
          document.addEventListener('mousemove', _this.onMouseMove);
          document.addEventListener('mouseup', _this.onMouseUp);
        });
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onMouseMove", function (event) {
      var _this$props = _this.props,
          onResize = _this$props.onResize,
          property = _this$props.property;
      var _this$state = _this.state,
          start = _this$state.start,
          width = _this$state.width; // We determined 12 empirically as being wide enough to hit but
      // not too wide to cause false hits.

      var nextWidth = Math.max(12, width + (event.clientX - start));
      onResize(property)(nextWidth);
    });

    _defineProperty(_assertThisInitialized(_this), "onMouseUp", function () {
      document.removeEventListener('mouseup', _this.onMouseUp);
      document.removeEventListener('mousemove', _this.onMouseMove);

      _this.setState({
        start: undefined,
        width: undefined
      });
    });

    return _this;
  }

  var _proto = Resizer.prototype;

  _proto.render = function render() {
    var theme = this.props.theme;
    var start = this.state.start;
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ResizerBox, _extends({
      ref: this.ref,
      flex: false,
      responsive: false,
      pad: {
        vertical: 'small'
      }
    }, theme.dataTable.resize, {
      onMouseDown: this.onMouseDown,
      onMouseMove: start ? this.onMouseMove : undefined,
      onMouseUp: start ? this.onMouseUp : undefined
    }));
  };

  return Resizer;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

Resizer.defaultProps = {};
Object.setPrototypeOf(Resizer.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_3__["defaultProps"]);
var ResizerWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(styled_components__WEBPACK_IMPORTED_MODULE_2__["withTheme"])(Resizer);


/***/ }),

/***/ "./node_modules/grommet/es6/components/DataTable/Searcher.js":
/*!*******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/DataTable/Searcher.js ***!
  \*******************************************************************/
/*! exports provided: Searcher */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Searcher", function() { return SearcherWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var grommet_icons_icons_FormSearch__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! grommet-icons/icons/FormSearch */ "./node_modules/grommet-icons/icons/FormSearch.js");
/* harmony import */ var grommet_icons_icons_FormSearch__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(grommet_icons_icons_FormSearch__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Button */ "./node_modules/grommet/es6/components/Button/index.js");
/* harmony import */ var _Keyboard__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Keyboard */ "./node_modules/grommet/es6/components/Keyboard/index.js");
/* harmony import */ var _Text__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../Text */ "./node_modules/grommet/es6/components/Text/index.js");
/* harmony import */ var _TextInput__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../TextInput */ "./node_modules/grommet/es6/components/TextInput/index.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }













var Searcher =
/*#__PURE__*/
function (_Component) {
  _inheritsLoose(Searcher, _Component);

  function Searcher() {
    var _this;

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _Component.call.apply(_Component, [this].concat(args)) || this;

    _defineProperty(_assertThisInitialized(_this), "inputRef", react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef());

    return _this;
  }

  var _proto = Searcher.prototype;

  _proto.componentDidMount = function componentDidMount() {
    this.focusInputIfNeeded();
  };

  _proto.componentDidUpdate = function componentDidUpdate() {
    this.focusInputIfNeeded();
  };

  _proto.focusInputIfNeeded = function focusInputIfNeeded() {
    /* eslint-disable-next-line react/prop-types */
    var _this$props = this.props,
        filtering = _this$props.filtering,
        property = _this$props.property;

    if (this.inputRef.current && filtering === property) {
      this.inputRef.current.focus();
    }
  };

  _proto.render = function render() {
    var _this$props2 = this.props,
        filtering = _this$props2.filtering,
        filters = _this$props2.filters,
        onFilter = _this$props2.onFilter,
        onFiltering = _this$props2.onFiltering,
        property = _this$props2.property,
        theme = _this$props2.theme;

    if (filtering === property) {
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Keyboard__WEBPACK_IMPORTED_MODULE_7__["Keyboard"], {
        onEsc: function onEsc() {
          return onFiltering(undefined);
        }
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_5__["Box"], {
        flex: true,
        pad: {
          horizontal: 'small'
        }
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_TextInput__WEBPACK_IMPORTED_MODULE_9__["TextInput"], {
        name: "search-" + property,
        ref: this.inputRef,
        value: filters[property],
        onChange: function onChange(event) {
          return onFilter(property, event.target.value);
        },
        onBlur: function onBlur() {
          return onFiltering(undefined);
        }
      })));
    }

    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, filters[property] ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_5__["Box"], {
      flex: false,
      pad: {
        horizontal: 'small'
      },
      direction: "row",
      align: "center"
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Text__WEBPACK_IMPORTED_MODULE_8__["Text"], null, filters[property])) : null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_6__["Button"], {
      a11yTitle: "focus-search-" + property,
      icon: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(grommet_icons_icons_FormSearch__WEBPACK_IMPORTED_MODULE_3__["FormSearch"], {
        color: Object(_utils__WEBPACK_IMPORTED_MODULE_10__["normalizeColor"])(filtering === property ? 'brand' : 'border', theme)
      }),
      hoverIndicator: true,
      onClick: function onClick() {
        return onFiltering(filtering === property ? undefined : property);
      }
    }));
  };

  return Searcher;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

Searcher.defaultProps = {};
Object.setPrototypeOf(Searcher.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_4__["defaultProps"]);
var SearcherWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(styled_components__WEBPACK_IMPORTED_MODULE_2__["withTheme"])(Searcher);


/***/ }),

/***/ "./node_modules/grommet/es6/components/DataTable/StyledDataTable.js":
/*!**************************************************************************!*\
  !*** ./node_modules/grommet/es6/components/DataTable/StyledDataTable.js ***!
  \**************************************************************************/
/*! exports provided: StyledDataTable, StyledDataTableRow, StyledDataTableBody, StyledDataTableHeader, StyledDataTableFooter */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledDataTable", function() { return StyledDataTable; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledDataTableRow", function() { return StyledDataTableRow; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledDataTableBody", function() { return StyledDataTableBody; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledDataTableHeader", function() { return StyledDataTableHeader; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledDataTableFooter", function() { return StyledDataTableFooter; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _TableRow__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../TableRow */ "./node_modules/grommet/es6/components/TableRow/index.js");
/* harmony import */ var _Table__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Table */ "./node_modules/grommet/es6/components/Table/index.js");
/* harmony import */ var _TableBody__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../TableBody */ "./node_modules/grommet/es6/components/TableBody/index.js");
/* harmony import */ var _TableHeader__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../TableHeader */ "./node_modules/grommet/es6/components/TableHeader/index.js");
/* harmony import */ var _TableFooter__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../TableFooter */ "./node_modules/grommet/es6/components/TableFooter/index.js");








var StyledDataTable = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["default"])(_Table__WEBPACK_IMPORTED_MODULE_4__["Table"]).withConfig({
  displayName: "StyledDataTable",
  componentId: "xrlyjm-0"
})(["border-spacing:0;border-collapse:collapse;height:auto;", ";"], _utils__WEBPACK_IMPORTED_MODULE_1__["genericStyles"]);
StyledDataTable.defaultProps = {};
Object.setPrototypeOf(StyledDataTable.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var hoverStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["", " color:", ";"], function (props) {
  return Object(_utils__WEBPACK_IMPORTED_MODULE_1__["backgroundStyle"])(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.table && props.theme.table.row && props.theme.table.row.hover && props.theme.table.row.hover.background || props.theme.global.hover.background, props.theme), props.theme);
}, function (props) {
  return Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.table && props.theme.table.row && props.theme.table.row.hover && props.theme.table.row.hover.color || props.theme.global.hover.color, props.theme);
});
var StyledDataTableRow = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["default"])(_TableRow__WEBPACK_IMPORTED_MODULE_3__["TableRow"]).withConfig({
  displayName: "StyledDataTable__StyledDataTableRow",
  componentId: "xrlyjm-1"
})(["", " ", " &:hover{", "}", ""], function (props) {
  return props.size && "\n    display: table;\n    width: 100%;\n    table-layout: fixed;\n  ";
}, function (props) {
  return props.onClick && "\n    cursor: pointer;\n  ";
}, function (props) {
  return props.onClickRow && !props.active && hoverStyle;
}, function (props) {
  return props.active && hoverStyle;
});
StyledDataTableRow.defaultProps = {};
Object.setPrototypeOf(StyledDataTableRow.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var StyledDataTableBody = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["default"])(_TableBody__WEBPACK_IMPORTED_MODULE_5__["TableBody"]).withConfig({
  displayName: "StyledDataTable__StyledDataTableBody",
  componentId: "xrlyjm-2"
})(["", " ", ""], function (props) {
  return props.size && "\n    display: block;\n    width: 100%;\n    max-height: " + props.theme.global.size[props.size] + ";\n    overflow: auto;\n  ";
}, function (props) {
  return props.focus && _utils__WEBPACK_IMPORTED_MODULE_1__["focusStyle"];
});
StyledDataTableBody.defaultProps = {};
Object.setPrototypeOf(StyledDataTableBody.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var StyledDataTableHeader = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["default"])(_TableHeader__WEBPACK_IMPORTED_MODULE_6__["TableHeader"]).withConfig({
  displayName: "StyledDataTable__StyledDataTableHeader",
  componentId: "xrlyjm-3"
})(["", ""], function (props) {
  return props.size && "\n    display: table;\n    width: 100%;\n    table-layout: fixed;\n  ";
});
StyledDataTableHeader.defaultProps = {};
Object.setPrototypeOf(StyledDataTableHeader.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var StyledDataTableFooter = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["default"])(_TableFooter__WEBPACK_IMPORTED_MODULE_7__["TableFooter"]).withConfig({
  displayName: "StyledDataTable__StyledDataTableFooter",
  componentId: "xrlyjm-4"
})(["", ""], function (props) {
  return props.size && "\n    display: table;\n    width: 100%;\n    table-layout: fixed;\n  ";
});
StyledDataTableFooter.defaultProps = {};
Object.setPrototypeOf(StyledDataTableFooter.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);


/***/ }),

/***/ "./node_modules/grommet/es6/components/DataTable/buildState.js":
/*!*********************************************************************!*\
  !*** ./node_modules/grommet/es6/components/DataTable/buildState.js ***!
  \*********************************************************************/
/*! exports provided: datumValue, buildState */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "datumValue", function() { return datumValue; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "buildState", function() { return buildState; });
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var datumValue = function datumValue(datum, property) {
  var parts = property.split('.');

  if (parts.length === 1) {
    return datum[property];
  }

  if (!datum[parts[0]]) {
    return undefined;
  }

  return datumValue(datum[parts[0]], parts.slice(1).join('.'));
};

var sumReducer = function sumReducer(accumulated, next) {
  return accumulated + next;
};

var minReducer = function minReducer(accumulated, next) {
  return accumulated === undefined ? next : Math.min(accumulated, next);
};

var maxReducer = function maxReducer(accumulated, next) {
  return accumulated === undefined ? next : Math.max(accumulated, next);
};

var reducers = {
  max: maxReducer,
  min: minReducer,
  sum: sumReducer
};

var aggregateColumn = function aggregateColumn(column, data) {
  var value;

  if (column.aggregate === 'avg') {
    value = data.map(function (d) {
      return datumValue(d, column.property);
    }).reduce(sumReducer);
    value /= data.length;
  } else {
    value = data.map(function (d) {
      return datumValue(d, column.property);
    }).reduce(reducers[column.aggregate], 0);
  }

  return value;
};

var findPrimary = function findPrimary(nextProps, prevState, nextState) {
  var columns = nextProps.columns,
      primaryKey = nextProps.primaryKey;
  var primaryProperty;
  columns.forEach(function (column) {
    // remember the first key property
    if (column.primary && !primaryProperty) {
      primaryProperty = column.property;
    }
  });

  if (!primaryProperty && columns.length > 0) {
    primaryProperty = primaryKey || columns[0].property;
  }

  return _extends({}, nextState, {
    primaryProperty: primaryProperty
  });
}; // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions#Escaping


var escapeRegExp = function escapeRegExp(input) {
  return input.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
};

var filter = function filter(nextProps, prevState, nextState) {
  var columns = nextProps.columns,
      onSearch = nextProps.onSearch;
  var data = nextState.data,
      filters = nextState.filters;
  var nextFilters;
  var regexps;
  columns.forEach(function (column) {
    if (column.search) {
      if (!nextFilters) {
        nextFilters = {};
        regexps = {};
      }

      nextFilters[column.property] = filters ? filters[column.property] || '' : ''; // don't do filtering if the caller has supplied onSearch

      if (nextFilters[column.property] && column.search && !onSearch) {
        regexps[column.property] = new RegExp(escapeRegExp(nextFilters[column.property]), 'i');
      }
    }
  });
  var nextData = data;

  if (nextFilters) {
    nextData = data.filter(function (datum) {
      return !Object.keys(regexps).some(function (property) {
        return !regexps[property].test(datumValue(datum, property));
      });
    });
  }

  return _extends({}, nextState, {
    filters: nextFilters,
    data: nextData
  });
};

var aggregate = function aggregate(nextProps, prevState, nextState) {
  var columns = nextProps.columns;
  var data = nextState.data;
  var aggregateValues = {};
  columns.forEach(function (column) {
    if (column.aggregate) {
      aggregateValues[column.property] = aggregateColumn(column, data);
    }
  });
  return _extends({}, nextState, {
    aggregateValues: aggregateValues
  });
};

var buildFooterValues = function buildFooterValues(nextProps, prevState, nextState) {
  var columns = nextProps.columns;
  var aggregateValues = nextState.aggregateValues;
  var showFooter;
  var footerValues = {};
  columns.forEach(function (column) {
    if (column.footer) {
      showFooter = true;

      if (typeof column.footer === 'string') {
        footerValues[column.property] = column.footer;
      } else if (column.footer.aggregate) {
        footerValues[column.property] = aggregateValues[column.property];
      }
    }
  });
  return _extends({}, nextState, {
    footerValues: footerValues,
    showFooter: showFooter
  });
};

var sortData = function sortData(nextProps, prevState, nextState) {
  var sort = prevState.sort;
  var data = nextState.data;
  var nextData = data;

  if (sort) {
    var property = sort.property,
        ascending = sort.ascending;
    nextData = [].concat(data);
    var before = ascending ? 1 : -1;
    var after = ascending ? -1 : 1;
    nextData.sort(function (d1, d2) {
      if (d1[property] > d2[property]) return before;
      if (d1[property] < d2[property]) return after;
      return 0;
    });
  }

  return _extends({}, nextState, {
    data: nextData
  });
};

var groupData = function groupData(nextProps, prevState, nextState) {
  var columns = nextProps.columns,
      groupBy = nextProps.groupBy;
  var data = nextState.data;
  var groups;
  var groupState;
  var expandedState;

  if (groupBy) {
    groups = [];
    groupState = {};
    var groupMap = {};
    data.forEach(function (datum) {
      var groupByProperty = groupBy.property ? groupBy.property : groupBy;
      var groupValue = datumValue(datum, groupByProperty);

      if (!groupMap[groupValue]) {
        var group = {
          data: [],
          datum: {},
          key: groupValue
        };
        group.datum[groupByProperty] = groupValue;
        groups.push(group);

        if (groupBy.expand) {
          expandedState = groupBy.expand.some(function (key) {
            return key === groupValue;
          });
        } else {
          expandedState = prevState.groupState && prevState.groupState[groupValue] ? prevState.groupState[groupValue].expanded : false;
        }

        groupState[groupValue] = {
          expanded: expandedState
        };
        groupMap[groupValue] = group;
      }

      groupMap[groupValue].data.push(datum);
    }); // calculate any aggregates

    columns.forEach(function (column) {
      if (column.aggregate) {
        groups.forEach(function (group) {
          group.datum[column.property] = aggregateColumn(column, group.data); // eslint-disable-line
        });
      }
    });
  }

  return _extends({}, nextState, {
    groups: groups,
    groupState: groupState
  });
};

var buildState = function buildState(nextProps, prevState) {
  var data = nextProps.data;
  var filters = prevState.filters,
      sort = prevState.sort,
      widths = prevState.widths;
  var nextState = {
    data: data,
    filters: filters,
    sort: sort,
    widths: widths
  };
  nextState = findPrimary(nextProps, prevState, nextState);
  nextState = filter(nextProps, prevState, nextState);
  nextState = aggregate(nextProps, prevState, nextState);
  nextState = buildFooterValues(nextProps, prevState, nextState);
  nextState = sortData(nextProps, prevState, nextState);
  nextState = groupData(nextProps, prevState, nextState);
  return nextState;
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/DataTable/doc.js":
/*!**************************************************************!*\
  !*** ./node_modules/grommet/es6/components/DataTable/doc.js ***!
  \**************************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var sizes = ['xxsmall', 'xsmall', 'small', 'medium', 'large', 'xlarge'];
var sides = ['horizontal', 'vertical', 'top', 'bottom', 'left', 'right'];
var parts = ['header', 'body', 'footer'];
var padShapeSides = {};
sides.forEach(function (side) {
  padShapeSides[side] = react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(sizes);
});
var padShapeParts = {};
parts.forEach(function (part) {
  padShapeParts[part] = {};
  sides.forEach(function (side) {
    padShapeParts[part][side] = react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(sizes);
  });
});
var backgroundShape = {};
parts.forEach(function (part) {
  backgroundShape[part] = react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string)]);
});
var borderTypes = [react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(sides), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
  color: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
    dark: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
    light: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string
  })]),
  side: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(sides),
  size: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(sizes), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string])
})];
var borderShape = {};
parts.forEach(function (part) {
  borderShape[part] = react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType(borderTypes);
});
var doc = function doc(DataTable) {
  var DocumentedDataTable = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(DataTable).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('DataTable')).description('A data driven table.').usage("import { DataTable } from 'grommet';\n<DataTable />").intrinsicElement('table');
  DocumentedDataTable.propTypes = _extends({}, _utils__WEBPACK_IMPORTED_MODULE_1__["genericProps"], {
    background: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape(backgroundShape)]).description("Cell background. You can set the background per context by passing an\n      object with keys for 'heading', 'body', and/or 'footer'. If you pass\n      an array, rows will cycle between the array values."),
    border: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([].concat(borderTypes, [react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape(borderShape)])).description("Cell border. You can set the border per context by passing an\n      object with keys for 'heading', 'body', and/or 'footer'."),
    columns: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      align: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['center', 'start', 'end']),
      aggregate: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['avg', 'max', 'min', 'sum']),
      footer: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].node, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
        aggregate: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool
      })]),
      header: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].node, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
        aggregate: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool
      })]),
      primary: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool,
      property: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.isRequired,
      render: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func,
      search: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool,
      sortable: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool
    })).description("A description of the data. The order controls the column order.\n      'property' indicates which property in the data objects to associate\n      the column with. 'header' indicates what to display in the column\n      header. 'render' allows for custom rendering of body cells. Use 'render'\n      for custom formatting for things like currency and date or to\n      display rich content like Meters. 'align' indicates how the cells in\n      the column are aligned. 'aggregate' indicates how the data in the\n      column should be aggregated. This only applies to a footer or groupBy\n      context. 'footer' indicates what should be shown in the footer for\n      the column. 'search' indicates whether a search filter should be\n      made available for the column. 'primary' indicates that this property\n      should be used as the unique identifier, which gives the cell 'row' scope\n      for accessibility. If 'primary' is not used for any column, and\n      'primaryKey' isn't specified either, then the first column will be used."),
    data: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({})).description('Array of data objects.'),
    groupBy: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      property: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
      expand: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string),
      onExpand: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func
    })]).description("Property to group data by. If object is specified\n      'property' is used to group data by, 'expand' accepts array of \n       group keys that sets expanded groups and 'onExpand' is a function\n       that will be called after expand button is clicked with\n       an array of keys of expanded groups."),
    onMore: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Use this to indicate that 'data' doesn't contain all that it could.\n      It will be called when all of the data rows have been rendered.\n      This might be used when the total number of items that could be retrieved\n      is more than you'd want to load into the browser. 'onMore' allows you\n      to lazily fetch more from the server only when needed. This cannot\n      be combined with properties that expect all data to be present in the\n      browser, such as columns.search, sortable, groupBy, or \n      columns.aggregate."),
    replace: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Whether to replace previously rendered items with a generic spacing\n      element when they have scrolled out of view. This is more performant but\n      means that in-page searching will not find elements that have been\n      replaced."),
    onClickRow: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("When supplied, this function will be called with an event object that\n      include a 'datum' property containing the data value associated with\n      the clicked row. You should not include interactive elements, like\n      Anchor or Button inside table cells as that can cause confusion with\n      overlapping interactive elements."),
    onSearch: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("When supplied, and when at least one column has 'search' enabled,\n      this function will be called with an object with keys for property\n      names and values which are the search text strings. This is typically\n      employed so a back-end can be used to search through the data."),
    pad: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(sizes), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape(padShapeSides), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape(padShapeParts)]).description("Cell padding. You can set the padding per context by passing an\n      object with keys for 'heading', 'body', and/or 'footer'."),
    primaryKey: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description("When supplied, indicates the property for a data object to use to\n      get a unique identifier. See also the 'columns.primary' description.\n      Use this property when the columns approach will not work for your\n      data set."),
    resizeable: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Whether to allow the user to resize column widths.'),
    rowProps: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({}).description("Row specific background, border, and pad, keyed by primary key value.\n      For example:\n      { \"primary-key-value\": { background: ..., border: ..., pad: ... }},\n      where the background, border, and pad accept the same values as\n      the same named properties on DataTable."),
    size: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['small', 'medium', 'large', 'xlarge']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description("The height of the table body. If set, the table body will have a fixed\n      height and the rows will be scrollable within it. In order to preserve\n      header and footer cell alignment, all cells will have the same\n      width. This cannot be used in combination with 'resizeable'."),
    sortable: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Whether to allow the user to sort columns.'),
    step: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number.description('How many items to render at a time.').defaultValue(50)
  });
  return DocumentedDataTable;
};
var themeDoc = {
  'global.hover.background': {
    description: 'The background style when hovering over an interactive row.',
    type: 'string | { color: string, opacity: string }',
    defaultValue: "{ color: 'active', opacity: 'medium' }"
  },
  'global.hover.color': {
    description: 'The text color when hovering over an interactive row.',
    type: 'string | { dark: string, light: string }',
    defaultValue: "{ dark: 'white', light: 'black' }"
  },
  'dataTable.groupHeader.background': {
    description: 'The background color of the group header.',
    type: 'string | { dark: string, light: string }',
    defaultValue: "{ dark: 'dark-2', light: 'light-2' }"
  },
  'dataTable.groupHeader.border.side': {
    description: 'The border side rendered for the group header.',
    type: 'string',
    defaultValue: 'bottom'
  },
  'dataTable.groupHeader.border.size': {
    description: 'The border size of the group header border.',
    type: 'string',
    defaultValue: 'xsmall'
  },
  'dataTable.groupHeader.fill': {
    description: 'Whether the height should fill the group header.',
    type: 'string',
    defaultValue: 'vertical'
  },
  'dataTable.groupHeader.pad': {
    description: 'The pad used for the group header.',
    type: 'string | object',
    defaultValue: "{ horizontal: 'small', vertical: 'xsmall' }"
  },
  'dataTable.header': {
    description: 'Styles for the header.',
    type: 'object',
    defaultValue: '{}'
  },
  'dataTable.icons.ascending': {
    description: 'The ascending icon.',
    type: 'React.Element',
    defaultValue: '<FormDown />'
  },
  'dataTable.icons.contract': {
    description: 'The contract icon.',
    type: 'React.Element',
    defaultValue: '<FormUp />'
  },
  'dataTable.icons.descending': {
    description: 'The descending icon.',
    type: 'React.Element',
    defaultValue: '<FormUp />'
  },
  'dataTable.icons.expand': {
    description: 'The expand icon.',
    type: 'React.Element',
    defaultValue: '<FormDown />'
  },
  'dataTable.primary.weight': {
    description: 'The font weight for primary cells.',
    type: 'string',
    defaultValue: 'bold'
  },
  'dataTable.resize.border.color': {
    description: 'The border color for resize.',
    type: 'string | { dark: string, light: string }',
    defaultValue: 'border'
  },
  'dataTable.resize.border.side': {
    description: 'The border side used for resize.',
    type: 'string',
    defaultValue: 'right'
  },
  'table.row.hover.background': {
    description: 'The background color when hovering over an interactive row.',
    type: 'string | { color: string, opacity: string }'
  },
  'table.row.hover.color': {
    description: 'The text color when hovering over an interactive row.',
    type: 'string | { dark: string, light: string }'
  }
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/DataTable/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/grommet/es6/components/DataTable/index.js ***!
  \****************************************************************/
/*! exports provided: DataTable */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _DataTable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DataTable */ "./node_modules/grommet/es6/components/DataTable/DataTable.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "DataTable", function() { return _DataTable__WEBPACK_IMPORTED_MODULE_0__["DataTable"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Diagram/Diagram.js":
/*!****************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Diagram/Diagram.js ***!
  \****************************************************************/
/*! exports provided: Diagram */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Diagram", function() { return DiagramWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _StyledDiagram__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./StyledDiagram */ "./node_modules/grommet/es6/components/Diagram/StyledDiagram.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }








var computeMidPoint = function computeMidPoint(fromPoint, toPoint) {
  return [fromPoint[0] > toPoint[0] ? toPoint[0] + (fromPoint[0] - toPoint[0]) / 2 : fromPoint[0] + (toPoint[0] - fromPoint[0]) / 2, fromPoint[1] > toPoint[1] ? toPoint[1] + (fromPoint[1] - toPoint[1]) / 2 : fromPoint[1] + (toPoint[1] - fromPoint[1]) / 2];
};

var COMMANDS = {
  curved: function curved(fromPoint, toPoint, offset, anchor) {
    var midPoint = computeMidPoint(fromPoint, toPoint);
    var cmds = "M " + (fromPoint[0] + offset) + "," + (fromPoint[1] + offset) + " ";

    if (anchor === 'horizontal') {
      cmds += "Q " + (midPoint[0] + offset) + "," + (fromPoint[1] + offset) + " " + (midPoint[0] + offset + "," + (midPoint[1] + offset) + " ");
    } else {
      cmds += "Q " + (fromPoint[0] + offset) + "," + (midPoint[1] + offset) + " " + (midPoint[0] + offset + "," + (midPoint[1] + offset) + " ");
    }

    cmds += "T " + (toPoint[0] + offset) + "," + (toPoint[1] + offset);
    return cmds;
  },
  direct: function direct(fromPoint, toPoint, offset) {
    return "M " + (fromPoint[0] + offset) + "," + (fromPoint[1] + offset) + " " + ("L " + (toPoint[0] + offset) + "," + (toPoint[1] + offset));
  },
  rectilinear: function rectilinear(fromPoint, toPoint, offset, anchor) {
    var midPoint = computeMidPoint(fromPoint, toPoint);
    var cmds = "M " + (fromPoint[0] + offset) + "," + (fromPoint[1] + offset) + " ";

    if (anchor === 'horizontal') {
      cmds += "L " + (midPoint[0] + offset) + "," + (fromPoint[1] + offset) + " " + ("L " + (midPoint[0] + offset) + "," + (toPoint[1] + offset) + " ");
    } else {
      cmds += "L " + (fromPoint[0] + offset) + "," + (midPoint[1] + offset) + " " + ("L " + (toPoint[0] + offset) + "," + (midPoint[1] + offset) + " ");
    }

    cmds += "L " + (toPoint[0] + offset) + "," + (toPoint[1] + offset);
    return cmds;
  }
};

var findTarget = function findTarget(target) {
  if (typeof target === 'string') {
    return document.getElementById(target);
  }

  return target;
};

var Diagram = function Diagram(_ref) {
  var connections = _ref.connections,
      theme = _ref.theme,
      rest = _objectWithoutPropertiesLoose(_ref, ["connections", "theme"]);

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])({
    width: 0,
    height: 0
  }),
      dimensions = _useState[0],
      setDimensions = _useState[1];

  var _useState2 = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(),
      connectionPoints = _useState2[0],
      setConnectionPoints = _useState2[1];

  var svgRef = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])();
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    setConnectionPoints(undefined);
  }, [connections]);
  var onResize = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function () {
    var svg = svgRef.current;

    if (svg) {
      var rect = svg.getBoundingClientRect();

      if (rect.width !== dimensions.width || rect.height !== dimensions.height) {
        setDimensions({
          width: rect.width,
          height: rect.height
        });
        setConnectionPoints(undefined);
      }
    }
  }, [dimensions.width, dimensions.height]); // Ref that stores resize handler

  var savedOnResize = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])(); // Update resize ref value if onResize changes.
  // This allows our effect below to always get latest handler

  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    savedOnResize.current = onResize;
  }, [onResize]);
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    var onResizeHandler = function onResizeHandler(event) {
      return savedOnResize.current(event);
    };

    onResizeHandler();
    window.addEventListener('resize', onResizeHandler);
    return function () {
      window.removeEventListener('resize', onResizeHandler);
    };
  }, []);
  var placeConnections = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function () {
    var containerRect = svgRef.current.getBoundingClientRect();
    var updatedConnectionPoints = connections.map(function (_ref2) {
      var anchor = _ref2.anchor,
          fromTarget = _ref2.fromTarget,
          toTarget = _ref2.toTarget;
      var points;
      var fromElement = findTarget(fromTarget);
      var toElement = findTarget(toTarget);

      if (!fromElement) {
        console.warn("Diagram cannot find " + fromTarget);
      }

      if (!toElement) {
        console.warn("Diagram cannot find " + toTarget);
      }

      if (fromElement && toElement) {
        var fromRect = fromElement.getBoundingClientRect();
        var toRect = toElement.getBoundingClientRect(); // There is no x and y when unit testing.

        var fromPoint = [fromRect.left - containerRect.left || 0, fromRect.top - containerRect.top || 0];
        var toPoint = [toRect.left - containerRect.left || 0, toRect.top - containerRect.top || 0];

        if (anchor === 'vertical') {
          fromPoint[0] += fromRect.width / 2;
          toPoint[0] += toRect.width / 2;

          if (fromRect.top < toRect.top) {
            fromPoint[1] += fromRect.height;
          } else {
            toPoint[1] += toRect.height;
          }
        } else if (anchor === 'horizontal') {
          fromPoint[1] += fromRect.height / 2;
          toPoint[1] += toRect.height / 2;

          if (fromRect.left < toRect.left) {
            fromPoint[0] += fromRect.width;
          } else {
            toPoint[0] += toRect.width;
          }
        } else {
          // center
          fromPoint[0] += fromRect.width / 2;
          fromPoint[1] += fromRect.height / 2;
          toPoint[0] += toRect.width / 2;
          toPoint[1] += toRect.height / 2;
        }

        points = [fromPoint, toPoint];
      }

      return points;
    });
    setConnectionPoints(updatedConnectionPoints);
  }, [connections]);
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    if (!connectionPoints) {
      placeConnections();
    }
  }, [connectionPoints, placeConnections]);
  var paths;

  if (connectionPoints) {
    paths = connections.map(function (_ref3, index) {
      var anchor = _ref3.anchor,
          color = _ref3.color,
          offset = _ref3.offset,
          round = _ref3.round,
          thickness = _ref3.thickness,
          type = _ref3.type,
          connectionRest = _objectWithoutPropertiesLoose(_ref3, ["anchor", "color", "offset", "round", "thickness", "type"]);

      var path;

      var cleanedRest = _extends({}, connectionRest);

      delete cleanedRest.fromTarget;
      delete cleanedRest.toTarget;
      var points = connectionPoints[index];

      if (points) {
        var offsetWidth = offset ? Object(_utils__WEBPACK_IMPORTED_MODULE_4__["parseMetricToNum"])(theme.global.edgeSize[offset]) : 0;
        var d = COMMANDS[type || 'curved'](points[0], points[1], offsetWidth, anchor);
        var strokeWidth = thickness ? Object(_utils__WEBPACK_IMPORTED_MODULE_4__["parseMetricToNum"])(theme.global.edgeSize[thickness] || thickness) : 1;
        var colorName = color || theme.diagram.line && theme.diagram.line.color;

        if (!colorName) {
          var colors = Object.keys(theme.global.colors).filter(function (n) {
            return n.match(/^graph-[0-9]$/);
          });
          colorName = colors[index % colors.length];
        }

        path = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path", _extends({
          // eslint-disable-next-line react/no-array-index-key
          key: index
        }, cleanedRest, {
          stroke: Object(_utils__WEBPACK_IMPORTED_MODULE_4__["normalizeColor"])(colorName, theme),
          strokeWidth: strokeWidth,
          strokeLinecap: round ? 'round' : 'butt',
          strokeLinejoin: round ? 'round' : 'miter',
          fill: "none",
          d: d
        }));
      }

      return path;
    });
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledDiagram__WEBPACK_IMPORTED_MODULE_5__["StyledDiagram"], _extends({
    ref: svgRef,
    viewBox: "0 0 " + dimensions.width + " " + dimensions.height,
    preserveAspectRatio: "xMinYMin meet"
  }, rest), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("g", null, paths));
};

Diagram.defaultProps = {
  connections: []
};
Object.setPrototypeOf(Diagram.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_3__["defaultProps"]);
var DiagramDoc;

if (true) {
  // eslint-disable-next-line global-require
  DiagramDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Diagram/doc.js").doc(Diagram);
}

var DiagramWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(styled_components__WEBPACK_IMPORTED_MODULE_2__["withTheme"])(DiagramDoc || Diagram);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Diagram/StyledDiagram.js":
/*!**********************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Diagram/StyledDiagram.js ***!
  \**********************************************************************/
/*! exports provided: StyledDiagram */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledDiagram", function() { return StyledDiagram; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");


var StyledDiagram = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].svg.withConfig({
  displayName: "StyledDiagram",
  componentId: "sc-1vzeu9f-0"
})(["max-width:100%;width:100%;height:100%;", ";"], function (props) {
  return props.theme.diagram && props.theme.diagram.extend;
});
StyledDiagram.defaultProps = {};
Object.setPrototypeOf(StyledDiagram.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_1__["defaultProps"]);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Diagram/doc.js":
/*!************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Diagram/doc.js ***!
  \************************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");


var doc = function doc(Diagram) {
  var DocumentedDiagram = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Diagram).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('Diagram')).description("Graphical connection lines. Diagram is meant to be used with Stack.\n      Boxes can be used in the `guidingChild` layer of Stack and then\n      Diagram can be used to draw lines connecting the Boxes.").usage("import { Diagram } from 'grommet';\n<Diagram />").intrinsicElement('svg');
  DocumentedDiagram.propTypes = {
    connections: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      anchor: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['center', 'vertical', 'horizontal']),
      color: _utils__WEBPACK_IMPORTED_MODULE_1__["colorPropType"],
      fromTarget: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object]).isRequired,
      label: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
      // for accessibility
      offset: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['xsmall', 'small', 'medium', 'large']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
      thickness: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['hair', 'xxsmall', 'xsmall', 'small', 'medium', 'large']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
      toTarget: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object]).isRequired,
      type: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['direct', 'curved', 'rectilinear'])
    })).description("Array of objects describing the connections.\n      The 'fromTarget' and 'toTarget' may be either DOM element ids or\n      React references.\n      'offset' can be used to shift a bit to reduce the amount of overlap\n      with other connection lines to make the lines easier to distinguish.").isRequired
  };
  return DocumentedDiagram;
};
var themeDoc = {
  'diagram.extend': {
    description: 'Any additional style for Diagram.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'diagram.line.color': {
    description: 'The color of the connection line.',
    type: 'string | {dark: string, light: string}',
    defaultValue: 'accent-1'
  },
  'global.colors': {
    description: 'Color options.',
    type: 'object',
    defaultValue: "{\n      \"accent-1\": \"#6FFFB0\",\n      \"graph-0\": \"accent-1\",\n      \"graph-1\": \"neutral-1\",\n      ...\n    }"
  },
  'global.edgeSize': {
    description: 'The possible sizes for the connections thickness and offset.',
    type: 'object',
    defaultValue: "{\n        none: '0px',\n        hair: '1px',\n        xxsmall: '3px',\n        xsmall: '6px',\n        small: '12px',\n        medium: '24px',\n        large: '48px',\n        xlarge: '96px',\n        responsiveBreakpoint: 'small',\n    }"
  }
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/Diagram/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Diagram/index.js ***!
  \**************************************************************/
/*! exports provided: Diagram */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Diagram__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Diagram */ "./node_modules/grommet/es6/components/Diagram/Diagram.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Diagram", function() { return _Diagram__WEBPACK_IMPORTED_MODULE_0__["Diagram"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Distribution/Distribution.js":
/*!**************************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Distribution/Distribution.js ***!
  \**************************************************************************/
/*! exports provided: Distribution */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Distribution", function() { return DistributionWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
/* harmony import */ var _Text__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Text */ "./node_modules/grommet/es6/components/Text/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }






var Value = function Value(_ref) {
  var basis = _ref.basis,
      children = _ref.children;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_2__["Box"], {
    basis: basis,
    flex: "shrink",
    overflow: "hidden"
  }, children);
};

Value.propTypes = {
  basis: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  children: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.node.isRequired
};

var Distribution = function Distribution(_ref2) {
  var basis = _ref2.basis,
      children = _ref2.children,
      direction = _ref2.direction,
      fill = _ref2.fill,
      gap = _ref2.gap,
      values = _ref2.values,
      rest = _objectWithoutPropertiesLoose(_ref2, ["basis", "children", "direction", "fill", "gap", "values"]);

  if (values.length === 1) {
    var value = values[0];
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Value, {
      value: value,
      basis: basis
    }, children(value));
  }

  if (values.length > 1) {
    var reducer = function reducer(accumulator, _ref3) {
      var value = _ref3.value;
      return accumulator + value;
    };

    var total = values.reduce(reducer, 0); // figure out how many of the values area needed to represent half of the
    // total

    var subTotal = 0;
    var subIndex;
    values.some(function (v, index) {
      subTotal += v.value;

      if (subTotal >= total * 0.4) {
        subIndex = index + 1;
        return true;
      }

      return false;
    });

    if (subIndex === values.length) {
      var _value = values[0];
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Value, {
        value: _value,
        basis: basis
      }, children(_value));
    }

    var childBasis;

    if (subTotal > total * 0.7) {
      childBasis = ['3/4', '1/4'];
    } else if (subTotal > total * 0.6) {
      childBasis = ['2/3', '1/3'];
    } else {
      childBasis = ['1/2', '1/2'];
    }

    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_2__["Box"], _extends({
      direction: direction,
      basis: basis,
      flex: basis ? 'shrink' : true,
      overflow: "hidden",
      gap: gap,
      fill: fill
    }, rest), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Distribution, {
      values: values.slice(0, subIndex),
      basis: childBasis[0],
      direction: direction === 'row' ? 'column' : 'row',
      gap: gap
    }, children), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Distribution, {
      values: values.slice(subIndex),
      basis: childBasis[1],
      direction: direction === 'row' ? 'column' : 'row',
      gap: gap
    }, children));
  }

  return null;
};

Distribution.defaultProps = {
  basis: undefined,
  children: function children(value) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_2__["Box"], {
      fill: true,
      border: true
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Text__WEBPACK_IMPORTED_MODULE_3__["Text"], null, value.value));
  },
  direction: 'row',
  gap: 'xsmall',
  values: []
};
var DistributionDoc;

if (true) {
  // eslint-disable-next-line global-require
  DistributionDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Distribution/doc.js").doc(Distribution);
}

var DistributionWrapper = DistributionDoc || Distribution;


/***/ }),

/***/ "./node_modules/grommet/es6/components/Distribution/doc.js":
/*!*****************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Distribution/doc.js ***!
  \*****************************************************************/
/*! exports provided: doc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var doc = function doc(Distribution) {
  var DocumentedDistribution = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Distribution).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('Distribution')).description("Proportionally sized grid of boxes. The proportions are approximate. The\n      area given to each box isn't mathematically precise according to the\n      ratio to the total values. Instead, the boxes are laid out in a\n      manner that makes them more visually easy to scan. For example,\n      two values of 48 and 52 will actually each get 50% of the area.").usage("import { Distribution } from 'grommet';\n<Distribution />").intrinsicElement('div');
  DocumentedDistribution.propTypes = _extends({}, _utils__WEBPACK_IMPORTED_MODULE_1__["genericProps"], {
    basis: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['xxsmall', 'xsmall', 'small', 'medium', 'large', 'xlarge', 'xxlarge', 'full', '1/2', '1/3', '2/3', '1/4', '2/4', '3/4', 'auto']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description("A fixed or relative size along its container's main axis."),
    children: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description('Function that will be called when each value is rendered.'),
    fill: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Whether the distribution expands to fill all of the available width \n        and height.").defaultValue(false),
    gap: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['none', 'xxsmall', 'xsmall', 'small', 'medium', 'large', 'xlarge']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description('The amount of spacing between child elements.').defaultValue('xsmall'),
    values: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      value: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number.isRequired
    })).description("Array of objects containing a value. The array should already be\n      sorted from largest to smallest value. The caller can put other\n      properties in the object. The children function will be called to\n      render the contents of each value.").isRequired
  });
  return DocumentedDistribution;
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/Distribution/index.js":
/*!*******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Distribution/index.js ***!
  \*******************************************************************/
/*! exports provided: Distribution */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Distribution__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Distribution */ "./node_modules/grommet/es6/components/Distribution/Distribution.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Distribution", function() { return _Distribution__WEBPACK_IMPORTED_MODULE_0__["Distribution"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Drop/Drop.js":
/*!**********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Drop/Drop.js ***!
  \**********************************************************/
/*! exports provided: Drop */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Drop", function() { return DropWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ "./node_modules/react-dom/index.js");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _DropContainer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./DropContainer */ "./node_modules/grommet/es6/components/Drop/DropContainer.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }






var Drop =
/*#__PURE__*/
function (_Component) {
  _inheritsLoose(Drop, _Component);

  function Drop() {
    var _this;

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _Component.call.apply(_Component, [this].concat(args)) || this;

    _defineProperty(_assertThisInitialized(_this), "originalFocusedElement", document.activeElement);

    _defineProperty(_assertThisInitialized(_this), "dropContainer", Object(_utils__WEBPACK_IMPORTED_MODULE_2__["getNewContainer"])());

    return _this;
  }

  var _proto = Drop.prototype;

  _proto.componentWillUnmount = function componentWillUnmount() {
    var restrictFocus = this.props.restrictFocus;

    if (restrictFocus && this.originalFocusedElement) {
      if (this.originalFocusedElement.focus) {
        Object(_utils__WEBPACK_IMPORTED_MODULE_2__["setFocusWithoutScroll"])(this.originalFocusedElement);
      } else if (this.originalFocusedElement.parentNode && this.originalFocusedElement.parentNode.focus) {
        // required for IE11 and Edge
        Object(_utils__WEBPACK_IMPORTED_MODULE_2__["setFocusWithoutScroll"])(this.originalFocusedElement.parentNode);
      }
    }

    document.body.removeChild(this.dropContainer);
  };

  _proto.render = function render() {
    var _this$props = this.props,
        dropTarget = _this$props.target,
        rest = _objectWithoutPropertiesLoose(_this$props, ["target"]);

    return Object(react_dom__WEBPACK_IMPORTED_MODULE_1__["createPortal"])(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_DropContainer__WEBPACK_IMPORTED_MODULE_3__["DropContainer"], _extends({
      dropTarget: dropTarget
    }, rest)), this.dropContainer);
  };

  return Drop;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

_defineProperty(Drop, "defaultProps", {
  align: {
    top: 'top',
    left: 'left'
  },
  plain: false
});

var DropDoc;

if (true) {
  DropDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Drop/doc.js").doc(Drop); // eslint-disable-line global-require
}

var DropWrapper = DropDoc || Drop;


/***/ }),

/***/ "./node_modules/grommet/es6/components/Drop/DropContainer.js":
/*!*******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Drop/DropContainer.js ***!
  \*******************************************************************/
/*! exports provided: DropContainer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DropContainer", function() { return DropContainer; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _contexts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../contexts */ "./node_modules/grommet/es6/contexts/index.js");
/* harmony import */ var _FocusedContainer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../FocusedContainer */ "./node_modules/grommet/es6/components/FocusedContainer.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
/* harmony import */ var _Keyboard__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Keyboard */ "./node_modules/grommet/es6/components/Keyboard/index.js");
/* harmony import */ var _StyledDrop__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./StyledDrop */ "./node_modules/grommet/es6/components/Drop/StyledDrop.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }








 // using react synthetic event to be able to stop propagation that
// would otherwise close the layer on ESC.

var preventLayerClose = function preventLayerClose(event) {
  var key = event.keyCode ? event.keyCode : event.which;

  if (key === 27) {
    event.stopPropagation();
  }
};

var DropContainer =
/*#__PURE__*/
function (_Component) {
  _inheritsLoose(DropContainer, _Component);

  function DropContainer() {
    var _this;

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _Component.call.apply(_Component, [this].concat(args)) || this;

    _defineProperty(_assertThisInitialized(_this), "dropRef", react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef());

    _defineProperty(_assertThisInitialized(_this), "addScrollListener", function () {
      var dropTarget = _this.props.dropTarget;
      _this.scrollParents = Object(_utils__WEBPACK_IMPORTED_MODULE_4__["findScrollParents"])(dropTarget);

      _this.scrollParents.forEach(function (scrollParent) {
        return scrollParent.addEventListener('scroll', _this.place);
      });
    });

    _defineProperty(_assertThisInitialized(_this), "removeScrollListener", function () {
      _this.scrollParents.forEach(function (scrollParent) {
        return scrollParent.removeEventListener('scroll', _this.place);
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onClickDocument", function (event) {
      var _this$props = _this.props,
          dropTarget = _this$props.dropTarget,
          onClickOutside = _this$props.onClickOutside;
      var dropTargetNode = dropTarget;
      var dropNode = _this.dropRef.current;

      if (onClickOutside && dropNode && // need this for ie11
      !dropTargetNode.contains(event.target) && !dropNode.contains(event.target)) {
        onClickOutside();
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onResize", function () {
      _this.removeScrollListener();

      _this.addScrollListener();

      _this.place(false);
    });

    _defineProperty(_assertThisInitialized(_this), "place", function (preserveHeight) {
      var _this$props2 = _this.props,
          align = _this$props2.align,
          dropTarget = _this$props2.dropTarget,
          responsive = _this$props2.responsive,
          stretch = _this$props2.stretch,
          theme = _this$props2.theme;
      var windowWidth = window.innerWidth;
      var windowHeight = window.innerHeight;
      var target = dropTarget;
      var container = _this.dropRef.current;

      if (container && target) {
        // clear prior styling
        container.style.left = '';
        container.style.top = '';
        container.style.bottom = '';
        container.style.width = '';

        if (!preserveHeight) {
          container.style.maxHeight = '';
        } // get bounds


        var targetRect = Object(_utils__WEBPACK_IMPORTED_MODULE_4__["findVisibleParent"])(target).getBoundingClientRect();
        var containerRect = container.getBoundingClientRect(); // determine width

        var width = Math.min(stretch ? Math.max(targetRect.width, containerRect.width) : containerRect.width, windowWidth); // set left position

        var left;

        if (align.left) {
          if (align.left === 'left') {
            left = targetRect.left;
          } else if (align.left === 'right') {
            left = targetRect.left + targetRect.width;
          }
        } else if (align.right) {
          if (align.right === 'left') {
            left = targetRect.left - width;
          } else if (align.right === 'right') {
            left = targetRect.left + targetRect.width - width;
          }
        } else {
          left = targetRect.left + targetRect.width / 2 - width / 2;
        }

        if (left + width > windowWidth) {
          left -= left + width - windowWidth;
        } else if (left < 0) {
          left = 0;
        } // set top or bottom position


        var top;
        var bottom;
        var maxHeight = containerRect.height;

        if (align.top) {
          if (align.top === 'top') {
            top = targetRect.top;
          } else {
            top = targetRect.bottom;
          } // Calculate visible area underneath the control w.r.t window height


          var percentVisibleAreaBelow = 100 - targetRect.bottom / windowHeight * 100; // Check whether it is within 20% from bottom of the window or visible
          // area to flip the control
          // DropContainer doesn't fit well within visible area when
          // percentVisibleAreaBelow value<=20%
          // There is enough space from DropContainer to bottom of the window
          // when percentVisibleAreaBelow>20%.

          if (windowHeight === top || percentVisibleAreaBelow <= 20) {
            // We need more room than we have.
            // We put it below, but there's more room above, put it above
            top = '';

            if (align.top === 'bottom') {
              bottom = targetRect.top;
            } else {
              bottom = targetRect.bottom;
            }

            maxHeight = bottom;
            container.style.maxHeight = maxHeight + "px";
          } else if (top > 0) {
            maxHeight = windowHeight - top;
            container.style.maxHeight = maxHeight + "px";
          } else {
            maxHeight = windowHeight - top;
          }
        } else if (align.bottom) {
          if (align.bottom === 'bottom') {
            bottom = targetRect.bottom;
          } else {
            bottom = targetRect.top;
          }

          maxHeight = bottom;
          container.style.maxHeight = maxHeight + "px";
        } else {
          // center
          top = targetRect.top + targetRect.height / 2 - containerRect.height / 2;
          maxHeight = windowHeight - top;
        } // if we can't fit it all, or we're rather close,
        // see if there's more room the other direction


        if (responsive && (containerRect.height > maxHeight || maxHeight < windowHeight / 10)) {
          // We need more room than we have.
          if (align.top && top > windowHeight / 2) {
            // We put it below, but there's more room above, put it above
            top = '';

            if (align.top === 'bottom') {
              // top = Math.max(targetRect.top - containerRect.height, 0);
              // maxHeight = targetRect.top - top;
              bottom = targetRect.top;
            } else {
              // top = Math.max(targetRect.bottom - containerRect.height, 0);
              // maxHeight = targetRect.bottom - top;
              bottom = targetRect.bottom;
            }

            maxHeight = bottom;
          } else if (align.bottom && maxHeight < windowHeight / 2) {
            // We put it above but there's more room below, put it below
            bottom = '';

            if (align.bottom === 'bottom') {
              top = targetRect.top;
            } else {
              top = targetRect.bottom;
            }

            maxHeight = windowHeight - top;
          }
        }

        container.style.left = left + "px";

        if (stretch) {
          // offset width by 0.1 to avoid a bug in ie11 that
          // unnecessarily wraps the text if width is the same
          // NOTE: turned off for now
          container.style.width = width + 0.1 + "px";
        } // the (position:absolute + scrollTop)
        // is presenting issues with desktop scroll flickering


        if (top !== '') {
          container.style.top = top + "px";
        }

        if (bottom !== '') {
          container.style.bottom = windowHeight - bottom + "px";
        }

        if (!preserveHeight) {
          if (theme.drop && theme.drop.maxHeight) {
            maxHeight = Math.min(maxHeight, Object(_utils__WEBPACK_IMPORTED_MODULE_4__["parseMetricToNum"])(theme.drop.maxHeight));
          }

          container.style.maxHeight = maxHeight + "px";
        }
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onEsc", function (event) {
      var onEsc = _this.props.onEsc;
      event.stopPropagation();

      if (onEsc) {
        onEsc(event);
      }
    });

    _defineProperty(_assertThisInitialized(_this), "preventClickBubbling", function (event) {
      event.stopPropagation();
      /**
       * the React event system actually listens to all events at the top level
       * and then handles its own bubbling / capturing virtually. This means that
       * even if we call stopPropagation, it only affects the React synthetic
       * event, and the native event still bubbles upward.
       * Any code that uses native events (like the close listener in this class)
       * will still get the bubbled event, unless we also call
       * event.nativeEvent.stopImmediatePropagation, which bridges the gap from
       * React synthetic event to native DOM event.
       */

      event.nativeEvent.stopImmediatePropagation();
    });

    return _this;
  }

  var _proto = DropContainer.prototype;

  _proto.componentDidMount = function componentDidMount() {
    var restrictFocus = this.props.restrictFocus;
    this.addScrollListener();
    window.addEventListener('resize', this.onResize);
    document.addEventListener('mousedown', this.onClickDocument);
    this.place(false);

    if (restrictFocus) {
      this.dropRef.current.focus();
    }
  };

  _proto.componentDidUpdate = function componentDidUpdate() {
    this.place(true);
  };

  _proto.componentWillUnmount = function componentWillUnmount() {
    this.removeScrollListener();
    window.removeEventListener('resize', this.onResize);
    document.removeEventListener('mousedown', this.onClickDocument);
  };

  _proto.render = function render() {
    var _this$props3 = this.props,
        alignProp = _this$props3.align,
        children = _this$props3.children,
        elevation = _this$props3.elevation,
        onClickOutside = _this$props3.onClickOutside,
        onEsc = _this$props3.onEsc,
        onKeyDown = _this$props3.onKeyDown,
        plain = _this$props3.plain,
        propsTheme = _this$props3.theme,
        rest = _objectWithoutPropertiesLoose(_this$props3, ["align", "children", "elevation", "onClickOutside", "onEsc", "onKeyDown", "plain", "theme"]);

    var theme = this.context || propsTheme;
    var content = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledDrop__WEBPACK_IMPORTED_MODULE_7__["StyledDrop"], _extends({
      as: _Box__WEBPACK_IMPORTED_MODULE_5__["Box"],
      plain: plain,
      elevation: !plain ? elevation || theme.global.drop.shadowSize || 'small' : undefined,
      tabIndex: "-1",
      ref: this.dropRef,
      alignProp: alignProp,
      onMouseDown: this.preventClickBubbling
    }, rest), children);

    if (theme.global.drop.background) {
      var dark = Object(_utils__WEBPACK_IMPORTED_MODULE_4__["backgroundIsDark"])(theme.global.drop.background, theme);

      if (dark !== undefined && dark !== theme.dark) {
        content = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_contexts__WEBPACK_IMPORTED_MODULE_2__["ThemeContext"].Provider, {
          value: _extends({}, theme, {
            dark: dark
          })
        }, content);
      }
    }

    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_FocusedContainer__WEBPACK_IMPORTED_MODULE_3__["FocusedContainer"], {
      onKeyDown: onEsc && preventLayerClose
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Keyboard__WEBPACK_IMPORTED_MODULE_6__["Keyboard"], {
      onEsc: onEsc && this.onEsc,
      onKeyDown: onKeyDown,
      target: "document"
    }, content));
  };

  return DropContainer;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

_defineProperty(DropContainer, "contextType", _contexts__WEBPACK_IMPORTED_MODULE_2__["ThemeContext"]);

_defineProperty(DropContainer, "defaultProps", {
  align: {
    top: 'top',
    left: 'left'
  },
  overflow: 'auto',
  stretch: 'width'
});

Object.setPrototypeOf(DropContainer.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_1__["defaultProps"]);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Drop/StyledDrop.js":
/*!****************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Drop/StyledDrop.js ***!
  \****************************************************************/
/*! exports provided: StyledDrop */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledDrop", function() { return StyledDrop; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _utils_background__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/background */ "./node_modules/grommet/es6/utils/background.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");





function getTransformOriginStyle(align) {
  var vertical = 'top';

  if (align.bottom) {
    vertical = 'bottom';
  }

  var horizontal = 'left';

  if (align.right) {
    horizontal = 'right';
  }

  return vertical + " " + horizontal;
}

var dropKeyFrames = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["keyframes"])(["0%{opacity:0.5;transform:scale(0.8);}100%{opacity:1;transform:scale(1);}"]);
var StyledDrop = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledDrop",
  componentId: "sc-16s5rx8-0"
})(["", " border-radius:", ";position:fixed;z-index:", ";outline:none;", " opacity:0;transform-origin:", ";animation:", " 0.1s forwards;animation-delay:0.01s;@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){display:flex;align-items:stretch;}", ""], _utils__WEBPACK_IMPORTED_MODULE_1__["baseStyle"], function (props) {
  return props.theme.global.drop.border.radius;
}, function (props) {
  return props.theme.global.drop.zIndex;
}, function (props) {
  return !props.plain && Object(_utils_background__WEBPACK_IMPORTED_MODULE_2__["backgroundStyle"])(props.theme.global.drop.background, props.theme);
}, function (props) {
  return getTransformOriginStyle(props.alignProp);
}, dropKeyFrames, function (props) {
  return props.theme.global.drop && props.theme.global.drop.extend;
});
StyledDrop.defaultProps = {};
Object.setPrototypeOf(StyledDrop.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_3__["defaultProps"]);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Drop/doc.js":
/*!*********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Drop/doc.js ***!
  \*********************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Box_doc__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Box/doc */ "./node_modules/grommet/es6/components/Box/doc.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");


 // if you update values here, make sure to update in Box/doc too.

var dropOverflowPropTypes = react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(_Box_doc__WEBPACK_IMPORTED_MODULE_1__["OVERFLOW_VALUES"]), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
  horizontal: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(_Box_doc__WEBPACK_IMPORTED_MODULE_1__["OVERFLOW_VALUES"]),
  vertical: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(_Box_doc__WEBPACK_IMPORTED_MODULE_1__["OVERFLOW_VALUES"])
}), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]);
var doc = function doc(Drop) {
  var DocumentedDrop = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Drop).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_2__["getAvailableAtBadge"])('Drop')).description('A container that is overlaid next to a target.').usage("import { Drop } from 'grommet';\n<Drop target={reference}>...</Drop>").intrinsicElement('div');
  DocumentedDrop.propTypes = {
    align: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      top: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['top', 'bottom']),
      bottom: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['top', 'bottom']),
      right: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['left', 'right']),
      left: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['left', 'right'])
    }).description("How to align the drop with respect to the target element. Not \n        specifying a vertical or horizontal alignment will cause it to be \n        aligned in the center.").defaultValue({
      top: 'top',
      left: 'left'
    }),
    onClickOutside: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description('Function that will be invoked when the user clicks outside the drop.'),
    onEsc: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Function that will be called when the user presses the escape key inside\n       the drop."),
    overflow: dropOverflowPropTypes.description('How to control the overflow inside the drop.').defaultValue('auto'),
    responsive: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Whether to dynamically re-place when resized.').defaultValue(true),
    restrictFocus: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Whether the drop should control focus.').defaultValue(false),
    stretch: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Whether the drop element should be stretched to at least match the\n      width of the target element. The default is true because\n      that is what most uses of Drop want, like Select and Menu.").defaultValue(true),
    target: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object.description("Target where the drop will be aligned to. This should be a React \n      reference.").isRequired,
    elevation: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['none', 'xsmall', 'small', 'medium', 'large', 'xlarge']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description("Elevated height of the target, indicated via a drop shadow."),
    plain: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Whether the drop element should have no background nor shadow").defaultValue(false)
  };
  return DocumentedDrop;
};
var themeDoc = {
  'drop.maxHeight': {
    description: 'The max height of the Drop container',
    type: 'string',
    defaultValue: undefined
  },
  'global.drop.background': {
    description: 'The background color of Drop',
    type: 'string | { dark: string, light: string }',
    defaultValue: '#ffffff'
  },
  'global.drop.border.radius': {
    description: 'The corner radius',
    type: 'string',
    defaultValue: '0px'
  },
  'global.drop.extend': {
    description: 'Any additional style for Drop.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'global.drop.shadowSize': {
    description: 'Elevated height of the Drop',
    type: 'string',
    defaultValue: 'small'
  },
  'global.drop.zIndex': {
    description: 'The stack order of the Drop',
    type: 'number',
    defaultValue: 20
  }
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/Drop/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Drop/index.js ***!
  \***********************************************************/
/*! exports provided: Drop */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Drop__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Drop */ "./node_modules/grommet/es6/components/Drop/Drop.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Drop", function() { return _Drop__WEBPACK_IMPORTED_MODULE_0__["Drop"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/DropButton/DropButton.js":
/*!**********************************************************************!*\
  !*** ./node_modules/grommet/es6/components/DropButton/DropButton.js ***!
  \**********************************************************************/
/*! exports provided: DropButton */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DropButton", function() { return DropButtonWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Button */ "./node_modules/grommet/es6/components/Button/index.js");
/* harmony import */ var _Drop__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Drop */ "./node_modules/grommet/es6/components/Drop/index.js");
/* harmony import */ var _hocs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../hocs */ "./node_modules/grommet/es6/components/hocs.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }








var DropButton =
/*#__PURE__*/
function (_Component) {
  _inheritsLoose(DropButton, _Component);

  function DropButton(props) {
    var _this;

    _this = _Component.call(this, props) || this;

    _defineProperty(_assertThisInitialized(_this), "buttonRef", Object(react__WEBPACK_IMPORTED_MODULE_0__["createRef"])());

    _defineProperty(_assertThisInitialized(_this), "onDropClose", function () {
      var onClose = _this.props.onClose;

      _this.setState({
        show: false
      }, function () {
        if (onClose) {
          onClose();
        }
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onToggle", function (event) {
      var _this$props = _this.props,
          onClick = _this$props.onClick,
          onClose = _this$props.onClose,
          onOpen = _this$props.onOpen;
      var show = _this.state.show;

      _this.setState({
        show: !show
      }, function () {
        return show ? onClose && onClose() : onOpen && onOpen();
      });

      if (onClick) {
        onClick(event);
      }
    });

    _this.state = {
      show: props.open || false
    };
    return _this;
  }

  DropButton.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {
    var show = prevState.show;
    var open = nextProps.open;

    if (open !== undefined && open !== show) {
      return {
        show: open
      };
    }

    return null;
  };

  var _proto = DropButton.prototype;

  _proto.componentDidMount = function componentDidMount() {
    var open = this.props.open;

    if (open) {
      this.forceUpdate();
    }
  };

  _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {
    var forwardRef = this.props.forwardRef;
    var show = this.state.show;

    if (!show && prevState.show) {
      // focus on the button if the drop is closed
      Object(_utils__WEBPACK_IMPORTED_MODULE_5__["setFocusWithoutScroll"])((forwardRef || this.buttonRef).current);
    }
  };

  _proto.render = function render() {
    var _this$props2 = this.props,
        disabled = _this$props2.disabled,
        dropAlign = _this$props2.dropAlign,
        dropProps = _this$props2.dropProps,
        forwardRef = _this$props2.forwardRef,
        dropContent = _this$props2.dropContent,
        dropTarget = _this$props2.dropTarget,
        id = _this$props2.id,
        open = _this$props2.open,
        rest = _objectWithoutPropertiesLoose(_this$props2, ["disabled", "dropAlign", "dropProps", "forwardRef", "dropContent", "dropTarget", "id", "open"]);

    var show = this.state.show;
    delete rest.onClose;
    delete rest.onOpen;
    var drop;

    if (show && (forwardRef || this.buttonRef).current) {
      drop = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Drop__WEBPACK_IMPORTED_MODULE_3__["Drop"], _extends({
        id: id ? id + "__drop" : undefined,
        restrictFocus: true,
        align: dropAlign,
        target: dropTarget || (forwardRef || this.buttonRef).current,
        onClickOutside: this.onDropClose,
        onEsc: this.onDropClose
      }, dropProps), dropContent);
    }

    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_2__["Button"], _extends({
      id: id,
      ref: forwardRef || this.buttonRef,
      disabled: disabled
    }, rest, {
      onClick: this.onToggle
    })), drop);
  };

  return DropButton;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

_defineProperty(DropButton, "defaultProps", {
  a11yTitle: 'Open Drop',
  dropAlign: {
    top: 'top',
    left: 'left'
  }
});

var DropButtonDoc;

if (true) {
  // eslint-disable-next-line global-require
  DropButtonDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/DropButton/doc.js").doc(DropButton);
}

var DropButtonWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(_hocs__WEBPACK_IMPORTED_MODULE_4__["withForwardRef"])(DropButtonDoc || DropButton);


/***/ }),

/***/ "./node_modules/grommet/es6/components/DropButton/doc.js":
/*!***************************************************************!*\
  !*** ./node_modules/grommet/es6/components/DropButton/doc.js ***!
  \***************************************************************/
/*! exports provided: doc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var doc = function doc(DropButton) {
  var DocumentedDropButton = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(DropButton).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('DropButton')).description("A Button that controls a Drop. When opened, the Drop will contain\n      whatever is specified via `dropContent`. The Drop will control the focus\n      so that the contents behind it are not focusable. All properties and \n      theme properties of Button or Drop can be passed through.\n      ").usage("import { DropButton } from 'grommet';\n<DropButton dropContent={...} />").intrinsicElement('button');
  DocumentedDropButton.propTypes = _extends({}, _utils__WEBPACK_IMPORTED_MODULE_1__["genericProps"], {
    disabled: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Whether the button should be disabled.').defaultValue(false),
    dropAlign: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      top: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['top', 'bottom']),
      bottom: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['top', 'bottom']),
      right: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['left', 'right']),
      left: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['left', 'right'])
    }).description('How to align the drop with respect to the button.').defaultValue({
      top: 'top',
      left: 'left'
    }),
    dropContent: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].element.description('Content to put inside the Drop.').isRequired,
    dropTarget: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object.description("Target where the drop will be aligned to. This should be\n      a React reference. Typically, this is not required as the drop will be\n      aligned to the DropButton itself by default."),
    dropProps: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object.description('Any valid Drop prop.'),
    onClose: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description('Callback for when the drop is closed'),
    onOpen: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description('Callback for when the drop is opened'),
    open: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Whether the drop should be open or not. Setting this property does not\n      influence user interaction after it has been rendered.").defaultValue(false)
  });
  return DocumentedDropButton;
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/DropButton/index.js":
/*!*****************************************************************!*\
  !*** ./node_modules/grommet/es6/components/DropButton/index.js ***!
  \*****************************************************************/
/*! exports provided: DropButton */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _DropButton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DropButton */ "./node_modules/grommet/es6/components/DropButton/DropButton.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "DropButton", function() { return _DropButton__WEBPACK_IMPORTED_MODULE_0__["DropButton"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/FocusedContainer.js":
/*!*****************************************************************!*\
  !*** ./node_modules/grommet/es6/components/FocusedContainer.js ***!
  \*****************************************************************/
/*! exports provided: FocusedContainer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FocusedContainer", function() { return FocusedContainer; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }




var isNotAncestorOf = function isNotAncestorOf(child) {
  return function (parent) {
    return !parent.contains(child);
  };
};

var FocusedContainer = function FocusedContainer(_ref) {
  var _ref$hidden = _ref.hidden,
      hidden = _ref$hidden === void 0 ? false : _ref$hidden,
      _ref$restrictScroll = _ref.restrictScroll,
      restrictScroll = _ref$restrictScroll === void 0 ? false : _ref$restrictScroll,
      children = _ref.children,
      rest = _objectWithoutPropertiesLoose(_ref, ["hidden", "restrictScroll", "children"]);

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(''),
      bodyOverflowStyle = _useState[0],
      setBodyOverflowStyle = _useState[1];

  var ref = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])(null);
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    var removeTrap = function removeTrap() {
      var child = ref.current;
      Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getBodyChildElements"])().filter(isNotAncestorOf(child)).forEach(_utils__WEBPACK_IMPORTED_MODULE_1__["makeNodeFocusable"]);

      if (restrictScroll) {
        document.body.style.overflow = bodyOverflowStyle;
      }
    };

    var trapFocus = function trapFocus() {
      var child = ref.current;
      Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getBodyChildElements"])().filter(isNotAncestorOf(child)).forEach(_utils__WEBPACK_IMPORTED_MODULE_1__["makeNodeUnfocusable"]);

      if (restrictScroll) {
        setBodyOverflowStyle(document.body.style.overflow);
        document.body.style.overflow = 'hidden';
      }
    };

    var timer = setTimeout(function () {
      if (!hidden) {
        trapFocus();
      }
    }, 0);
    return function () {
      removeTrap();
      clearTimeout(timer);
    };
  }, [hidden, bodyOverflowStyle, restrictScroll]);
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", _extends({
    ref: ref,
    "aria-hidden": hidden
  }, rest), children);
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/Footer/Footer.js":
/*!**************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Footer/Footer.js ***!
  \**************************************************************/
/*! exports provided: Footer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Footer", function() { return FooterWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }




var Footer = function Footer(_ref) {
  var rest = _extends({}, _ref);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_1__["Box"], _extends({
    as: "footer",
    align: "center",
    direction: "row",
    flex: false,
    gap: "medium",
    justify: "between"
  }, rest));
};

var FooterDoc;

if (true) {
  // eslint-disable-next-line global-require
  FooterDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Footer/doc.js").doc(Footer);
}

var FooterWrapper = FooterDoc || Footer;


/***/ }),

/***/ "./node_modules/grommet/es6/components/Footer/doc.js":
/*!***********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Footer/doc.js ***!
  \***********************************************************/
/*! exports provided: doc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");


var doc = function doc(Footer) {
  var DocumentedFooter = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Footer).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('Footer')).description('Footer for a document or section').usage("import { Footer } from 'grommet';\n<Footer />");
  return DocumentedFooter;
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/Footer/index.js":
/*!*************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Footer/index.js ***!
  \*************************************************************/
/*! exports provided: Footer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Footer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Footer */ "./node_modules/grommet/es6/components/Footer/Footer.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Footer", function() { return _Footer__WEBPACK_IMPORTED_MODULE_0__["Footer"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Form/Form.js":
/*!**********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Form/Form.js ***!
  \**********************************************************/
/*! exports provided: Form */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Form", function() { return FormWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _FormContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./FormContext */ "./node_modules/grommet/es6/components/Form/FormContext.js");
function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }





var updateReducer = function updateReducer(name, data, error, validations) {
  return function (state) {
    var errors = state.errors,
        touched = state.touched,
        value = state.value;

    var nextValue = _extends({}, value);

    nextValue[name] = data;

    var nextTouched = _extends({}, touched);

    nextTouched[name] = true;

    var nextErrors = _extends({}, errors);

    if (errors[name]) {
      var nextError = error || validations[name] && validations[name](data, nextValue);

      if (nextError) {
        nextErrors[name] = nextError;
      } else {
        delete nextErrors[name];
      }
    }

    return {
      value: nextValue,
      errors: nextErrors,
      touched: nextTouched
    };
  };
};

var defaultMessages = {
  invalid: 'invalid',
  required: 'required'
};

var Form =
/*#__PURE__*/
function (_Component) {
  _inheritsLoose(Form, _Component);

  function Form() {
    var _this;

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _Component.call.apply(_Component, [this].concat(args)) || this;

    _defineProperty(_assertThisInitialized(_this), "state", {
      errors: {},
      value: {},
      touched: {}
    });

    _defineProperty(_assertThisInitialized(_this), "validations", {});

    _defineProperty(_assertThisInitialized(_this), "onSubmit", function (event) {
      var onSubmit = _this.props.onSubmit;
      var _this$state = _this.state,
          errors = _this$state.errors,
          value = _this$state.value; // Don't submit the form via browser form action. We don't want it
      // if the validation fails. And, we assume a javascript action handler
      // otherwise.

      event.preventDefault();

      var nextErrors = _extends({}, errors);

      Object.keys(_this.validations).forEach(function (name) {
        var validate = _this.validations[name];
        var error = validate && validate(value[name], value);

        if (error) {
          nextErrors[name] = error;
        } else {
          delete nextErrors[name];
        }
      });

      if (Object.keys(nextErrors).length === 0 && onSubmit) {
        event.persist(); // extract from React's synthetic event pool

        var adjustedEvent = event;
        adjustedEvent.value = value;
        onSubmit(adjustedEvent);
      } else {
        _this.setState({
          errors: nextErrors
        });
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onReset", function (event) {
      var _this$props = _this.props,
          onChange = _this$props.onChange,
          onReset = _this$props.onReset;
      var value = {};

      _this.setState({
        errors: {},
        value: value,
        touched: {}
      }, function () {
        if (onReset) {
          event.persist(); // extract from React's synthetic event pool

          var adjustedEvent = event;
          adjustedEvent.value = value;
          onReset(adjustedEvent);
        }

        if (onChange) {
          onChange(value);
        }
      });
    });

    _defineProperty(_assertThisInitialized(_this), "update", function (name, data, error) {
      _this.setState(updateReducer(name, data, error, _this.validations), function () {
        var onChange = _this.props.onChange;
        var value = _this.state.value;

        if (onChange) {
          onChange(value);
        }
      });
    });

    _defineProperty(_assertThisInitialized(_this), "addValidation", function (name, validate) {
      _this.validations[name] = validate;
    });

    return _this;
  }

  Form.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {
    var value = nextProps.value,
        errors = nextProps.errors,
        messages = nextProps.messages;
    var stateValue = prevState.value,
        stateErrors = prevState.errors,
        priorValue = prevState.priorValue,
        priorErrors = prevState.priorErrors,
        priorMessages = prevState.priorMessages;

    if (!priorValue || value !== priorValue || errors !== priorErrors || messages !== priorMessages) {
      return {
        value: value !== priorValue ? value : stateValue,
        priorValue: value,
        errors: (errors !== priorErrors ? errors : stateErrors) || {},
        priorErrors: errors,
        messages: _extends({}, defaultMessages, {}, messages),
        priorMessages: messages
      };
    }

    return null;
  };

  var _proto = Form.prototype;

  _proto.render = function render() {
    var _this$props2 = this.props,
        children = _this$props2.children,
        rest = _objectWithoutPropertiesLoose(_this$props2, ["children"]);

    delete rest.messages;
    delete rest.theme;
    delete rest.value;
    var _this$state2 = this.state,
        errors = _this$state2.errors,
        touched = _this$state2.touched,
        value = _this$state2.value,
        messages = _this$state2.messages;
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("form", _extends({}, rest, {
      onReset: this.onReset,
      onSubmit: this.onSubmit
    }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_FormContext__WEBPACK_IMPORTED_MODULE_2__["FormContext"].Provider, {
      value: {
        addValidation: this.addValidation,
        errors: errors,
        messages: messages,
        touched: touched,
        update: this.update,
        value: value
      }
    }, children));
  };

  return Form;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

_defineProperty(Form, "defaultProps", {
  messages: defaultMessages,
  value: {}
});

Object.setPrototypeOf(Form.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_1__["defaultProps"]);
var FormDoc;

if (true) {
  FormDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Form/doc.js").doc(Form); // eslint-disable-line global-require
}

var FormWrapper = FormDoc || Form;
FormWrapper.displayName = 'Form';


/***/ }),

/***/ "./node_modules/grommet/es6/components/Form/FormContext.js":
/*!*****************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Form/FormContext.js ***!
  \*****************************************************************/
/*! exports provided: FormContext */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FormContext", function() { return FormContext; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

var FormContext = react__WEBPACK_IMPORTED_MODULE_0___default.a.createContext(undefined);

/***/ }),

/***/ "./node_modules/grommet/es6/components/Form/doc.js":
/*!*********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Form/doc.js ***!
  \*********************************************************/
/*! exports provided: doc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");


var doc = function doc(Form) {
  var DocumentedForm = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Form).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('Form')).description('A form that manages state for its fields.').usage("import { Form } from 'grommet';\n<Form />").intrinsicElement('form');
  DocumentedForm.propTypes = {
    errors: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({}).description("An object representing any errors in the data. They keys should\n        match the keys in the value object.").defaultValue({}),
    messages: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      invalid: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
      required: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string
    }).description('Custom validation messages.').defaultValue({
      invalid: 'invalid',
      required: 'required'
    }),
    onChange: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description('Function that will be called when any fields are updated.'),
    onSubmit: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Function that will be called when the form is submitted. The\n      single argument is an event containing the latest value object\n      via `event.value`."),
    onReset: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Function that will be called when the form is reset. The\n      single argument is the event provided by react."),
    value: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({}).description('An object representing all of the data in the form.').defaultValue({})
  };
  return DocumentedForm;
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/Form/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Form/index.js ***!
  \***********************************************************/
/*! exports provided: Form, FormContext */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Form__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Form */ "./node_modules/grommet/es6/components/Form/Form.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Form", function() { return _Form__WEBPACK_IMPORTED_MODULE_0__["Form"]; });

/* harmony import */ var _FormContext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FormContext */ "./node_modules/grommet/es6/components/Form/FormContext.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "FormContext", function() { return _FormContext__WEBPACK_IMPORTED_MODULE_1__["FormContext"]; });




/***/ }),

/***/ "./node_modules/grommet/es6/components/FormField/FormField.js":
/*!********************************************************************!*\
  !*** ./node_modules/grommet/es6/components/FormField/FormField.js ***!
  \********************************************************************/
/*! exports provided: FormField */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FormField", function() { return FormFieldWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
/* harmony import */ var _CheckBox__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../CheckBox */ "./node_modules/grommet/es6/components/CheckBox/index.js");
/* harmony import */ var _Text__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Text */ "./node_modules/grommet/es6/components/Text/index.js");
/* harmony import */ var _TextInput__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../TextInput */ "./node_modules/grommet/es6/components/TextInput/index.js");
/* harmony import */ var _hocs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../hocs */ "./node_modules/grommet/es6/components/hocs.js");
/* harmony import */ var _Form_FormContext__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../Form/FormContext */ "./node_modules/grommet/es6/components/Form/FormContext.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// eslint-disable-next-line max-len

/* eslint-disable react/no-multi-comp, react/prefer-stateless-function, max-classes-per-file */












var validateField = function validateField(required, validate, messages) {
  return function (value, data) {
    var error;

    if (required && (value === undefined || value === '')) {
      error = messages.required;
    } else if (validate) {
      if (typeof validate === 'function') {
        error = validate(value, data);
      } else if (validate.regexp) {
        if (!validate.regexp.test(value)) {
          error = validate.message || messages.invalid;
        }
      }
    }

    return error;
  };
};

var FormFieldBox = Object(styled_components__WEBPACK_IMPORTED_MODULE_2__["default"])(_Box__WEBPACK_IMPORTED_MODULE_5__["Box"]).withConfig({
  displayName: "FormField__FormFieldBox",
  componentId: "m9hood-0"
})(["", ""], function (props) {
  return props.theme.formField.extend;
});

var FormFieldContent =
/*#__PURE__*/
function (_Component) {
  _inheritsLoose(FormFieldContent, _Component);

  function FormFieldContent() {
    var _this;

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _Component.call.apply(_Component, [this].concat(args)) || this;

    _defineProperty(_assertThisInitialized(_this), "renderChildren", function (value, update) {
      var _this$props = _this.props,
          name = _this$props.name,
          checked = _this$props.checked,
          component = _this$props.component,
          required = _this$props.required,
          valueProp = _this$props.value,
          _onChange = _this$props.onChange,
          rest = _objectWithoutPropertiesLoose(_this$props, ["name", "checked", "component", "required", "value", "onChange"]);

      delete rest.className;
      var Input = component || _TextInput__WEBPACK_IMPORTED_MODULE_8__["TextInput"];

      if (Input === _CheckBox__WEBPACK_IMPORTED_MODULE_6__["CheckBox"]) {
        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Input, _extends({
          name: name,
          checked: value[name] !== undefined ? value[name] : checked || false,
          onChange: function onChange(event) {
            update(name, event.target.checked);
            if (_onChange) _onChange(event);
          }
        }, rest));
      }

      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Input, _extends({
        name: name,
        value: value[name] !== undefined ? value[name] : valueProp || '',
        onChange: function onChange(event) {
          update(name, event.value || event.target.value || '');
          if (_onChange) _onChange(event);
        },
        plain: true,
        focusIndicator: false
      }, rest));
    });

    return _this;
  }

  var _proto = FormFieldContent.prototype;

  _proto.componentDidMount = function componentDidMount() {
    var _this$props2 = this.props,
        checked = _this$props2.checked,
        context = _this$props2.context,
        name = _this$props2.name,
        value = _this$props2.value;

    if (context && context.value[name] === undefined && (value !== undefined || checked !== undefined)) {
      context.update(name, value !== undefined ? value : checked);
    }
  };

  _proto.render = function render() {
    var _this2 = this;

    var _this$props3 = this.props,
        children = _this$props3.children,
        className = _this$props3.className,
        component = _this$props3.component,
        context = _this$props3.context,
        error = _this$props3.error,
        focus = _this$props3.focus,
        help = _this$props3.help,
        htmlFor = _this$props3.htmlFor,
        label = _this$props3.label,
        name = _this$props3.name,
        pad = _this$props3.pad,
        required = _this$props3.required,
        style = _this$props3.style,
        theme = _this$props3.theme,
        validate = _this$props3.validate,
        onBlur = _this$props3.onBlur,
        onFocus = _this$props3.onFocus,
        margin = _this$props3.margin;
    var formField = theme.formField;
    var border = formField.border;
    var normalizedError = error;
    var contents = children;

    if (context) {
      var addValidation = context.addValidation,
          errors = context.errors,
          value = context.value,
          update = context.update,
          messages = context.messages;
      addValidation(name, validateField(required, validate, messages));
      normalizedError = error || errors[name];
      contents = children || this.renderChildren(value, update);
    }

    if (pad) {
      contents = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_5__["Box"], formField.content, contents);
    }

    var borderColor;

    if (focus && !normalizedError) {
      borderColor = 'focus';
    } else if (normalizedError) {
      borderColor = border && border.error.color || 'status-critical';
    } else {
      borderColor = border && border.color || 'border';
    }

    var abut;
    var abutMargin;
    var outerStyle = style;

    if (border) {
      var normalizedChildren = children ? react__WEBPACK_IMPORTED_MODULE_0__["Children"].map(children, function (child) {
        if (child) {
          return Object(react__WEBPACK_IMPORTED_MODULE_0__["cloneElement"])(child, {
            plain: true,
            focusIndicator: false,
            onBlur: onBlur,
            onFocus: onFocus
          });
        }

        return child;
      }) : contents;
      contents = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_5__["Box"], {
        ref: function ref(_ref) {
          _this2.childContainerRef = _ref;
        },
        border: border.position === 'inner' ? _extends({}, border, {
          side: border.side || 'bottom',
          color: borderColor
        }) : undefined
      }, normalizedChildren);
      abut = border.position === 'outer' && (border.side === 'all' || border.side === 'horizontal' || !border.side);

      if (abut) {
        // marginBottom is set to overlap adjacent fields
        abutMargin = {
          bottom: '-1px'
        };

        if (margin) {
          abutMargin = margin;
        } else if (border.size) {
          // if the user defines a margin,
          // then the default margin below will be overriden
          abutMargin = {
            bottom: "-" + Object(_utils__WEBPACK_IMPORTED_MODULE_3__["parseMetricToNum"])(theme.global.borderSize[border.size] || border.size) + "px"
          };
        }

        outerStyle = _extends({
          position: focus ? 'relative' : undefined,
          zIndex: focus ? 10 : undefined
        }, style);
      }
    }

    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(FormFieldBox, {
      className: className,
      border: border && border.position === 'outer' ? _extends({}, border, {
        color: borderColor
      }) : undefined,
      margin: abut ? abutMargin : margin || _extends({}, formField.margin),
      style: outerStyle
    }, label && component !== _CheckBox__WEBPACK_IMPORTED_MODULE_6__["CheckBox"] || help ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, label && component !== _CheckBox__WEBPACK_IMPORTED_MODULE_6__["CheckBox"] && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Text__WEBPACK_IMPORTED_MODULE_7__["Text"], _extends({
      as: "label",
      htmlFor: htmlFor
    }, formField.label), label), help && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Text__WEBPACK_IMPORTED_MODULE_7__["Text"], _extends({}, formField.help, {
      color: formField.help.color[theme.dark ? 'dark' : 'light']
    }), help)) : undefined, contents, normalizedError && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Text__WEBPACK_IMPORTED_MODULE_7__["Text"], _extends({}, formField.error, {
      color: formField.error.color[theme.dark ? 'dark' : 'light']
    }), normalizedError));
  };

  return FormFieldContent;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]); // Can't be a functional component because styled-components withTheme() needs
// to attach a ref.


var FormField =
/*#__PURE__*/
function (_Component2) {
  _inheritsLoose(FormField, _Component2);

  function FormField() {
    return _Component2.apply(this, arguments) || this;
  }

  var _proto2 = FormField.prototype;

  _proto2.render = function render() {
    var _this3 = this;

    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Form_FormContext__WEBPACK_IMPORTED_MODULE_10__["FormContext"].Consumer, null, function (context) {
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(FormFieldContent, _extends({
        context: context
      }, _this3.props));
    });
  };

  return FormField;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

FormField.defaultProps = {};
Object.setPrototypeOf(FormField.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_4__["defaultProps"]);
var FormFieldDoc;

if (true) {
  // eslint-disable-next-line global-require
  FormFieldDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/FormField/doc.js").doc(FormField);
}

var FormFieldWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(Object(_hocs__WEBPACK_IMPORTED_MODULE_9__["withFocus"])({
  focusWithMouse: true
}), styled_components__WEBPACK_IMPORTED_MODULE_2__["withTheme"])(FormFieldDoc || FormField);


/***/ }),

/***/ "./node_modules/grommet/es6/components/FormField/doc.js":
/*!**************************************************************!*\
  !*** ./node_modules/grommet/es6/components/FormField/doc.js ***!
  \**************************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");


var doc = function doc(FormField) {
  var DocumentedFormField = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(FormField).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('FormField')).description("A single field in a form. FormField wraps an input component with\n      a label, help, and/or error messaging. It typically contains an input\n      control like TextInput, TextArea, Select, etc.").usage("import { FormField } from 'grommet';\n<FormField />").intrinsicElement('div');
  DocumentedFormField.propTypes = {
    component: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object]).description("The component to insert in the FormField. Grommet will add update the \n      form values when this field changes. Any additional properties \n      (such as initial value) you pass to FormField will be forwarded to this\n      component. The component may be custom as long it supports the properties\n      of name, value, onChange (event => {}), while event has either event.value\n      or event.target.value."),
    error: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].node]).description('Any error text describing issues with the field'),
    help: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].node]).description('Any help text describing how the field works'),
    htmlFor: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description('The id of the input element contained in this field'),
    label: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].node]).description('A short label describing the field'),
    name: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description("The name of the value data when in a Form and the name of\n      the input field."),
    margin: _utils__WEBPACK_IMPORTED_MODULE_1__["marginProp"],
    pad: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Whether to add padding to align with the padding of TextInput.'),
    required: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Whether the field is required.'),
    validate: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      regexp: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object,
      // regular expression
      message: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string
    }), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func]).description("Validation rule when used within a grommet Form. Provide a regular\n      expression or a function. If a\n      function is provided, it will be called with two arguments, the value\n      for this field and the entire value object. This permits validation to\n      encompass multiple fields. The function should return a string message\n      describing the validation issue, if any.")
  };
  return DocumentedFormField;
};
var themeDoc = {
  'formField.border.color': {
    description: 'The border color.',
    type: "string | { 'dark': string, 'light': string }",
    defaultValue: 'border'
  },
  'formField.border.error.color': {
    description: 'The border color of the error.',
    type: "string | {'dark': string, 'light': string}",
    defaultValue: "{ dark: 'white', light: 'status-critical' },"
  },
  'formField.border.position': {
    description: 'The border position.',
    type: 'string',
    defaultValue: 'inner'
  },
  'formField.border.side': {
    description: 'The border side of the FormField.',
    type: 'string',
    defaultValue: 'bottom'
  },
  'formField.content.pad': {
    description: 'The pad of the FormField content.',
    type: 'object',
    defaultValue: "{ horizontal: 'small', bottom: 'small' }"
  },
  'formField.error.color': {
    description: 'The color of the FormField error.',
    type: "string | {'dark': string, 'light': string}",
    defaultValue: "{ dark: 'status-critical', light: 'status-critical' }"
  },
  'formField.error.margin': {
    description: 'The margin used for the FormField error.',
    type: 'string | object',
    defaultValue: "{ vertical: 'xsmall', horizontal: 'small' }"
  },
  'formField.extend': {
    description: 'Any additional style for FormField.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'formField.help.color': {
    description: 'The color of the FormField help.',
    type: "string | {'dark': string, 'light': string}",
    defaultValue: "{ dark: 'dark-3', light: 'dark-3' }"
  },
  'formField.help.margin': {
    description: 'The margin for the FormField help.',
    type: 'string | object',
    defaultValue: "{ left: 'small' }"
  },
  'formField.label': {
    description: 'Any props of Text that will be applied on the FormField label.',
    type: 'object',
    defaultValue: 'undefined'
  },
  'formField.label.margin': {
    description: 'The margin for the FormField label.',
    type: 'string | object',
    defaultValue: "{ vertical: 'xsmall', horizontal: 'small' }"
  },
  'formField.margin': {
    description: 'The margin of FormField.',
    type: 'string | object',
    defaultValue: "{ bottom: 'small' }"
  },
  'global.borderSize': {
    description: 'The possible border sizes for FormField.',
    type: 'object',
    defaultValue: "{\n  xsmall: '1px',\n  small: '2px',\n  medium: '4px',\n  large: '12px',\n  xlarge: '24px,\n}"
  }
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/FormField/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/grommet/es6/components/FormField/index.js ***!
  \****************************************************************/
/*! exports provided: FormField */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _FormField__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FormField */ "./node_modules/grommet/es6/components/FormField/FormField.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "FormField", function() { return _FormField__WEBPACK_IMPORTED_MODULE_0__["FormField"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Grid/Grid.js":
/*!**********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Grid/Grid.js ***!
  \**********************************************************/
/*! exports provided: Grid */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Grid", function() { return GridWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _StyledGrid__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./StyledGrid */ "./node_modules/grommet/es6/components/Grid/StyledGrid.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }




var Grid = function Grid(props) {
  var a11yTitle = props.a11yTitle,
      fill = props.fill,
      rows = props.rows,
      tag = props.tag,
      as = props.as,
      rest = _objectWithoutPropertiesLoose(props, ["a11yTitle", "fill", "rows", "tag", "as"]);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledGrid__WEBPACK_IMPORTED_MODULE_1__["StyledGrid"], _extends({
    a11yTitleProp: a11yTitle,
    as: !as && tag ? tag : as,
    fillContainer: fill,
    rowsProp: rows
  }, rest));
};

var GridDoc;

if (true) {
  GridDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Grid/doc.js").doc(Grid); // eslint-disable-line global-require
}

var GridWrapper = GridDoc || Grid;
GridWrapper.available = typeof window !== 'undefined' && window.CSS && window.CSS.supports && window.CSS.supports('display', 'grid');


/***/ }),

/***/ "./node_modules/grommet/es6/components/Grid/StyledGrid.js":
/*!****************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Grid/StyledGrid.js ***!
  \****************************************************************/
/*! exports provided: StyledGrid */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledGrid", function() { return StyledGrid; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");




var fillStyle = function fillStyle(fill) {
  if (fill === 'horizontal') {
    return 'width: 100%;';
  }

  if (fill === 'vertical') {
    return 'height: 100%;';
  }

  if (fill) {
    return "\n      width: 100%;\n      height: 100%;\n    ";
  }

  return undefined;
};

var ALIGN_MAP = {
  center: 'center',
  end: 'flex-end',
  start: 'flex-start',
  stretch: 'stretch'
};
var alignStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["align-items:", ";"], function (props) {
  return ALIGN_MAP[props.align];
});
var ALIGN_CONTENT_MAP = {
  around: 'space-around',
  between: 'space-between',
  center: 'center',
  end: 'flex-end',
  start: 'flex-start',
  stretch: 'stretch'
};
var alignContentStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["align-content:", ";"], function (props) {
  return ALIGN_CONTENT_MAP[props.alignContent];
});
var JUSTIFY_MAP = {
  center: 'center',
  end: 'flex-end',
  start: 'flex-start',
  stretch: 'stretch'
};
var justifyStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["justify-items:", ";"], function (props) {
  return JUSTIFY_MAP[props.justify];
});
var JUSTIFY_CONTENT_MAP = {
  around: 'space-around',
  between: 'space-between',
  center: 'center',
  end: 'flex-end',
  start: 'flex-start',
  stretch: 'stretch'
};
var justifyContentStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["justify-content:", ";"], function (props) {
  return JUSTIFY_CONTENT_MAP[props.justifyContent];
});

var gapStyle = function gapStyle(props) {
  if (typeof props.gap === 'string') {
    var gapSize = props.theme.global.edgeSize[props.gap] || props.gap;
    return "grid-gap: " + gapSize + " " + gapSize + ";";
  }

  if (props.gap.row && props.gap.column) {
    return "\n      grid-row-gap: " + (props.theme.global.edgeSize[props.gap.row] || props.gap.row) + ";\n      grid-column-gap: " + (props.theme.global.edgeSize[props.gap.column] || props.gap.column) + ";\n    ";
  }

  if (props.gap.row) {
    return "\n      grid-row-gap: " + (props.theme.global.edgeSize[props.gap.row] || props.gap.row) + ";\n    ";
  }

  if (props.gap.column) {
    return "\n      grid-column-gap: " + (props.theme.global.edgeSize[props.gap.column] || props.gap.column) + ";\n    ";
  }

  return '';
};

var SIZE_MAP = {
  flex: '1fr',
  full: '100%',
  '1/2': '50%',
  '1/4': '25%',
  '2/4': '50%',
  '3/4': '75%',
  '1/3': '33.33%',
  '2/3': '66.66%'
};

var getRepeatCount = function getRepeatCount(count) {
  return typeof count === 'number' ? count : "auto-" + count;
};

var getRepeatSize = function getRepeatSize(size, theme) {
  if (Array.isArray(size)) {
    return "minmax(" + (theme.global.size[size[0]] || size[0]) + ", " + (theme.global.size[size[1]] || size[1]) + ")";
  }

  return "minmax(" + (theme.global.size[size] || size) + ", 1fr)";
};

var sizeFor = function sizeFor(size, props, isRow) {
  var mapped = SIZE_MAP[size];

  if (isRow && mapped && (!props.fillContainer || props.fillContainer === 'horizontal')) {
    console.warn('Grid needs `fill` when using fractional row sizes');
  }

  return mapped || props.theme.global.size[size] || size;
};

var columnsStyle = function columnsStyle(props) {
  if (Array.isArray(props.columns)) {
    return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["grid-template-columns:", ";"], props.columns.map(function (s) {
      if (Array.isArray(s)) {
        return "minmax(" + sizeFor(s[0], props) + ", " + sizeFor(s[1], props) + ")";
      }

      return sizeFor(s, props);
    }).join(' '));
  }

  if (typeof props.columns === 'object') {
    return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["grid-template-columns:repeat( ", ",", " );"], getRepeatCount(props.columns.count), getRepeatSize(props.columns.size, props.theme));
  }

  return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["grid-template-columns:repeat( auto-fill,", " );"], getRepeatSize(props.columns, props.theme));
};

var rowsStyle = function rowsStyle(props) {
  if (Array.isArray(props.rowsProp)) {
    return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["grid-template-rows:", ";"], props.rowsProp.map(function (s) {
      if (Array.isArray(s)) {
        return "minmax(" + sizeFor(s[0], props, true) + ", " + sizeFor(s[1], props, true) + ")";
      }

      return sizeFor(s, props, true);
    }).join(' '));
  }

  return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["grid-auto-rows:", ";"], props.theme.global.size[props.rowsProp]);
};

var areasStyle = function areasStyle(props) {
  // translate areas objects into grid-template-areas syntax
  if (!Array.isArray(props.rowsProp) || !Array.isArray(props.columns)) {
    console.warn('Grid `areas` requires `rows` and `columns` to be arrays.');
  }

  if (Array.isArray(props.areas) && props.areas.every(function (area) {
    return Array.isArray(area);
  })) {
    return "grid-template-areas: " + props.areas.map(function (area) {
      return "\"" + area.join(' ') + "\"";
    }).join(' ') + ";";
  }

  var cells = props.rowsProp.map(function () {
    return props.columns.map(function () {
      return '.';
    });
  });
  props.areas.forEach(function (area) {
    for (var row = area.start[1]; row <= area.end[1]; row += 1) {
      for (var column = area.start[0]; column <= area.end[0]; column += 1) {
        cells[row][column] = area.name;
      }
    }
  });
  return "grid-template-areas: " + cells.map(function (r) {
    return "\"" + r.join(' ') + "\"";
  }).join(' ') + ";";
};

var StyledGrid = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.attrs(function (props) {
  return {
    'aria-label': props.a11yTitleProp
  };
}).withConfig({
  displayName: "StyledGrid",
  componentId: "sc-1wofa1l-0"
})(["display:grid;box-sizing:border-box;", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", ""], _utils__WEBPACK_IMPORTED_MODULE_1__["genericStyles"], function (props) {
  return props.fillContainer && fillStyle(props.fillContainer);
}, function (props) {
  return props.align && alignStyle;
}, function (props) {
  return props.alignContent && alignContentStyle;
}, function (props) {
  return props.areas && areasStyle(props);
}, function (props) {
  return props.columns && columnsStyle(props);
}, function (props) {
  return props.gap && gapStyle(props);
}, function (props) {
  return props.justify && justifyStyle;
}, function (props) {
  return props.justifyContent && justifyContentStyle;
}, function (props) {
  return props.rowsProp && rowsStyle(props);
}, function (props) {
  return props.theme.grid && props.theme.grid.extend;
});
StyledGrid.defaultProps = {};
Object.setPrototypeOf(StyledGrid.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Grid/doc.js":
/*!*********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Grid/doc.js ***!
  \*********************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var fixedSizes = ['xsmall', 'small', 'medium', 'large', 'xlarge'];
var sizes = ['xsmall', 'small', 'medium', 'large', 'xlarge', 'full', '1/2', '1/3', '2/3', '1/4', '2/4', '3/4', 'flex', 'auto'];
var edgeSizes = ['xxsmall', 'xsmall', 'small', 'medium', 'large', 'xlarge', 'none'];
var doc = function doc(Grid) {
  var DocumentedGrid = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Grid).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('Grid')).description("A grid system for laying out content. To use, define the\nrows and columns, create area names for adjacent cells, and then\nplace Box components inside those areas using the gridArea property.\nSee https://css-tricks.com/snippets/css/complete-guide-grid/.\nThe availability of Grid can be tested via `Grid.available`. Use this\nto create fallback rendering for older browsers, like ie11.").usage("import { Grid } from 'grommet';\n<Grid />").intrinsicElement('div');
  DocumentedGrid.propTypes = _extends({}, _utils__WEBPACK_IMPORTED_MODULE_1__["genericProps"], {
    align: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['start', 'center', 'end', 'stretch']).description("How to align the individual items inside the grid when there is extra\nspace in the column axis.").defaultValue('stretch'),
    alignContent: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['start', 'center', 'end', 'between', 'around', 'stretch']).description('How to align the contents along the column axis.'),
    areas: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      name: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
      start: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number),
      end: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number)
    })), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string))]).description("Grid areas.\n      Either area names and column,row coordinates.\n      Or, an array of string arrays that specify named grid areas."),
    columns: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(sizes), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string])), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(sizes), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string])), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(fixedSizes), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      count: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['fit', 'fill']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number]),
      size: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(fixedSizes), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(sizes)), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string])
    }), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description("Column sizes.\n      If an array value is an array, the inner array indicates the\n      minimum and maximum sizes for the column.\n      Specifying a single string will repeat multiple columns\n      of that size, as long as there is room for more.\n      Specifying an object allows indicating how the columns\n      stretch to fit the available space."),
    fill: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['horizontal', 'vertical']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool]).description('Whether the width and/or height should fill the container.'),
    gap: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(edgeSizes), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      row: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(edgeSizes), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
      column: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(edgeSizes), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string])
    }), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description('Gap sizes between rows and/or columns.'),
    justify: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['start', 'center', 'end', 'stretch']).description("How to align the individual items inside the grid when there is extra\nspace in the row axis.").defaultValue('stretch'),
    justifyContent: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['start', 'center', 'end', 'between', 'around', 'stretch']).description('How to align the contents along the row axis.'),
    rows: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(sizes), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string])), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(sizes), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string])), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(fixedSizes), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description("Row sizes.\n      If an array value is an array, the inner array indicates the\n      minimum and maximum sizes for the row.\n      Specifying a single string will cause automatically added rows to be\n      the specified size."),
    tag: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func]).description("The DOM tag to use for the element. NOTE: This is deprecated\n      in favor of indicating the DOM tag via the 'as' property."),
    as: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func]).description('The DOM tag or react component to use for the element.').defaultValue('div')
  });
  return DocumentedGrid;
};
var themeDoc = _extends({
  'global.size': {
    description: 'The possible sizes for row and column.',
    type: 'object',
    defaultValue: "{\n      xxsmall: '48px',\n      xsmall: '96px',\n      small: '192px',\n      medium: '384px',\n      large: '768px',\n      xlarge: '1152px',\n      xxlarge: '1536px',\n      full: '100%',\n    }"
  },
  'grid.extend': {
    description: 'Any additional style for the Grid.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  }
}, _utils__WEBPACK_IMPORTED_MODULE_1__["themeDocUtils"].edgeStyle('The possible sizes for the grid margin and gap.'));

/***/ }),

/***/ "./node_modules/grommet/es6/components/Grid/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Grid/index.js ***!
  \***********************************************************/
/*! exports provided: Grid */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Grid__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Grid */ "./node_modules/grommet/es6/components/Grid/Grid.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Grid", function() { return _Grid__WEBPACK_IMPORTED_MODULE_0__["Grid"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Grommet/Grommet.js":
/*!****************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Grommet/Grommet.js ***!
  \****************************************************************/
/*! exports provided: Grommet */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Grommet", function() { return GrommetWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _contexts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../contexts */ "./node_modules/grommet/es6/contexts/index.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _themes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../themes */ "./node_modules/grommet/es6/themes/index.js");
/* harmony import */ var _StyledGrommet__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./StyledGrommet */ "./node_modules/grommet/es6/components/Grommet/StyledGrommet.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _templateObject() {
  var data = _taggedTemplateLiteralLoose(["\n  body { margin: 0; }\n"]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteralLoose(strings, raw) { if (!raw) { raw = strings.slice(0); } strings.raw = raw; return strings; }







var FullGlobalStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_1__["createGlobalStyle"])(_templateObject());

var Grommet =
/*#__PURE__*/
function (_Component) {
  _inheritsLoose(Grommet, _Component);

  function Grommet() {
    var _this;

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _Component.call.apply(_Component, [this].concat(args)) || this;

    _defineProperty(_assertThisInitialized(_this), "state", {});

    _defineProperty(_assertThisInitialized(_this), "onResize", function () {
      var _this$state = _this.state,
          theme = _this$state.theme,
          responsive = _this$state.responsive;
      var breakpoint = Object(_utils__WEBPACK_IMPORTED_MODULE_3__["getBreakpoint"])(window.innerWidth, theme);

      if (breakpoint !== responsive) {
        _this.setState({
          responsive: breakpoint
        });
      }
    });

    return _this;
  }

  Grommet.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {
    var _nextProps$theme = nextProps.theme,
        theme = _nextProps$theme === void 0 ? {} : _nextProps$theme,
        themeMode = nextProps.themeMode;
    var stateTheme = prevState.theme,
        themeProp = prevState.themeProp,
        themeModeProp = prevState.themeModeProp;
    var nextTheme = Object(_utils__WEBPACK_IMPORTED_MODULE_3__["deepMerge"])(_themes__WEBPACK_IMPORTED_MODULE_4__["base"], theme);

    if (!stateTheme || theme !== themeProp || themeMode !== themeModeProp) {
      var background = nextTheme.global.colors.background; // Determine whether to start in dark or light mode.

      if (typeof background === 'object') {
        // background is an object, use themeMode, theme default
        // or first key
        var color = background[themeMode || nextTheme.defaultMode || Object.keys(background)[0]];
        nextTheme.dark = color ? Object(_utils__WEBPACK_IMPORTED_MODULE_3__["colorIsDark"])(color) : false;
      } else if (nextTheme.dark === undefined) {
        nextTheme.dark = background && Object(_utils__WEBPACK_IMPORTED_MODULE_3__["colorIsDark"])(background) || false;
      }

      return {
        theme: nextTheme,
        themeProp: theme,
        themeModeProp: themeMode
      };
    }

    return null;
  };

  var _proto = Grommet.prototype;

  _proto.componentDidMount = function componentDidMount() {
    window.addEventListener('resize', this.onResize);
    this.onResize();
  };

  _proto.componentWillUnmount = function componentWillUnmount() {
    window.removeEventListener('resize', this.onResize);
  };

  _proto.deviceResponsive = function deviceResponsive() {
    var userAgent = this.props.userAgent;
    var theme = this.state.theme;
    /*
     * Regexes provided for mobile and tablet detection are meant to replace
     * a full-featured specific library due to contributing a considerable size
     * into the bundle.
     *
     * User agents found https://deviceatlas.com/blog/list-of-user-agent-strings
     */

    if (userAgent) {
      if (/(tablet|ipad|playbook|silk)|(android(?!.*mobile))/i.test(userAgent)) {
        return Object(_utils__WEBPACK_IMPORTED_MODULE_3__["getDeviceBreakpoint"])('tablet', theme);
      }

      if (/Mobile|iPhone|Android/.test(userAgent)) {
        return Object(_utils__WEBPACK_IMPORTED_MODULE_3__["getDeviceBreakpoint"])('phone', theme);
      }

      return Object(_utils__WEBPACK_IMPORTED_MODULE_3__["getDeviceBreakpoint"])('computer', theme);
    }

    return undefined;
  };

  _proto.render = function render() {
    var _this$props = this.props,
        children = _this$props.children,
        full = _this$props.full,
        rest = _objectWithoutPropertiesLoose(_this$props, ["children", "full"]);

    delete rest.theme;
    var _this$state2 = this.state,
        theme = _this$state2.theme,
        stateResponsive = _this$state2.responsive; // Value from state should be correct once we resize
    // On first render we try to guess otherwise set the default as a tablet

    var responsive = stateResponsive || this.deviceResponsive() || theme.global.deviceBreakpoints.tablet;
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_contexts__WEBPACK_IMPORTED_MODULE_2__["ThemeContext"].Provider, {
      value: theme
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_contexts__WEBPACK_IMPORTED_MODULE_2__["ResponsiveContext"].Provider, {
      value: responsive
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledGrommet__WEBPACK_IMPORTED_MODULE_5__["StyledGrommet"], _extends({
      full: full
    }, rest), children), full && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(FullGlobalStyle, null)));
  };

  return Grommet;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

_defineProperty(Grommet, "displayName", 'Grommet');

var GrommetDoc;

if (true) {
  // eslint-disable-next-line global-require
  GrommetDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Grommet/doc.js").doc(Grommet);
}

var GrommetWrapper = GrommetDoc || Grommet;


/***/ }),

/***/ "./node_modules/grommet/es6/components/Grommet/StyledGrommet.js":
/*!**********************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Grommet/StyledGrommet.js ***!
  \**********************************************************************/
/*! exports provided: StyledGrommet */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledGrommet", function() { return StyledGrommet; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");



var fullStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["width:100vw;height:100vh;overflow:auto;"]);
var StyledGrommet = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledGrommet",
  componentId: "sc-19lkkz7-0"
})(["", " ", " ", " ", " ", ""], function (props) {
  return !props.plain && _utils__WEBPACK_IMPORTED_MODULE_1__["baseStyle"];
}, function (props) {
  return props.full && fullStyle;
}, function (props) {
  return props.theme.global.font.face;
}, function (props) {
  return props.theme.grommet.extend;
}, function (props) {
  return props.cssVars && Object.keys(props.theme.global.colors).filter(function (k) {
    return typeof props.theme.global.colors[k] === 'string';
  }).map(function (k) {
    return "--" + k + ": " + props.theme.global.colors[k] + ";";
  }).join('\n');
});
StyledGrommet.defaultProps = {};
Object.setPrototypeOf(StyledGrommet.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Grommet/doc.js":
/*!************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Grommet/doc.js ***!
  \************************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");


var doc = function doc(Grommet) {
  var DocumentedGrommet = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Grommet).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('Grommet')).description('The top level Grommet container.').usage("import { Grommet } from 'grommet';\n<Grommet>...</Grommet>").intrinsicElement('div');
  DocumentedGrommet.propTypes = {
    full: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Whether to take the whole viewport.').defaultValue(false),
    plain: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Whether or not Grommet should apply a global font-family, font-size, \n        and line-height.").defaultValue(false),
    cssVars: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Whether to expose the css variables.').defaultValue(false),
    theme: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object.description('Custom styles for Grommet app component.'),
    themeMode: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['dark', 'light']).description("Dark vs. light theme variation. Default is unspecified and left to\n      theme."),
    userAgent: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description("User agent used to detect the device width for setting the initial \n      breakpoint.")
  };
  return DocumentedGrommet;
};
var themeDoc = {
  'grommet.extend': {
    description: 'Any additional style for Grommet.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'global.font.face': {
    description: 'Custom font face declaration',
    type: 'string | (props) => {}',
    defaultValue: undefined
  }
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/Grommet/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Grommet/index.js ***!
  \**************************************************************/
/*! exports provided: Grommet */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Grommet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Grommet */ "./node_modules/grommet/es6/components/Grommet/Grommet.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Grommet", function() { return _Grommet__WEBPACK_IMPORTED_MODULE_0__["Grommet"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Header/Header.js":
/*!**************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Header/Header.js ***!
  \**************************************************************/
/*! exports provided: Header */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Header", function() { return HeaderWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }




var Header = function Header(_ref) {
  var rest = _extends({}, _ref);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_1__["Box"], _extends({
    align: "center",
    as: "header",
    direction: "row",
    flex: false,
    justify: "between",
    gap: "medium"
  }, rest));
};

var HeaderDoc;

if (true) {
  // eslint-disable-next-line global-require
  HeaderDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Header/doc.js").doc(Header);
}

var HeaderWrapper = HeaderDoc || Header;


/***/ }),

/***/ "./node_modules/grommet/es6/components/Header/doc.js":
/*!***********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Header/doc.js ***!
  \***********************************************************/
/*! exports provided: doc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");


var doc = function doc(Header) {
  var DocumentedHeader = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Header).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('Header')).description('Is a Box container for introductory content').usage("import { Header } from 'grommet';\n<Header />");
  return DocumentedHeader;
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/Header/index.js":
/*!*************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Header/index.js ***!
  \*************************************************************/
/*! exports provided: Header */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Header__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Header */ "./node_modules/grommet/es6/components/Header/Header.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Header", function() { return _Header__WEBPACK_IMPORTED_MODULE_0__["Header"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Heading/Heading.js":
/*!****************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Heading/Heading.js ***!
  \****************************************************************/
/*! exports provided: Heading */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Heading", function() { return HeadingWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _StyledHeading__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./StyledHeading */ "./node_modules/grommet/es6/components/Heading/StyledHeading.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }




var Heading = function Heading(props) {
  var color = props.color,
      level = props.level,
      rest = _objectWithoutPropertiesLoose(props, ["color", "level"]); // enforce level to be a number


  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledHeading__WEBPACK_IMPORTED_MODULE_1__["StyledHeading"], _extends({
    as: "h" + level,
    colorProp: color,
    level: +level
  }, rest));
};

Heading.defaultProps = {
  level: 1,
  responsive: true
};
var HeadingDoc;

if (true) {
  // eslint-disable-next-line global-require
  HeadingDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Heading/doc.js").doc(Heading);
}

var HeadingWrapper = HeadingDoc || Heading;


/***/ }),

/***/ "./node_modules/grommet/es6/components/Heading/StyledHeading.js":
/*!**********************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Heading/StyledHeading.js ***!
  \**********************************************************************/
/*! exports provided: StyledHeading */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledHeading", function() { return StyledHeading; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");




var sizeStyle = function sizeStyle(props) {
  // size is a combination of the level and size properties
  var size = props.size || 'medium';
  var headingTheme = props.theme.heading;
  var levelStyle = headingTheme.level[props.level];

  if (levelStyle) {
    var data = levelStyle[size];
    var styles = [Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["font-size:", ";line-height:", ";max-width:", ";font-weight:", ";"], data ? data.size : size, data ? data.height : 'normal', data ? data.maxWidth : levelStyle.medium.maxWidth, levelStyle.font.weight || headingTheme.weight)];

    if (props.responsive && headingTheme.responsiveBreakpoint) {
      var breakpoint = props.theme.global.breakpoints[headingTheme.responsiveBreakpoint];

      if (breakpoint) {
        var responsiveData = headingTheme.level[Math.min(props.level + 1, 4)][size];

        if (responsiveData) {
          styles.push(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["breakpointStyle"])(breakpoint, "\n            font-size: " + responsiveData.size + ";\n            line-height: " + responsiveData.height + ";\n            max-width: " + responsiveData.maxWidth + ";\n          "));
        }
      }
    }

    return styles;
  }

  console.warn("Heading level " + props.level + " is not defined in your theme.");
  return '';
};

var fontFamily = function fontFamily(props) {
  var font = props.theme.heading.level[props.level].font;

  if (font && font.family) {
    return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["font-family:", ";"], font.family);
  }

  return props.theme.heading.font ? Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["font-family:", ";"], props.theme.heading.font.family) : '';
};

var TEXT_ALIGN_MAP = {
  center: 'center',
  end: 'right',
  start: 'left'
};
var textAlignStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["text-align:", ";"], function (props) {
  return TEXT_ALIGN_MAP[props.textAlign];
});
var truncateStyle = "\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n";
var colorStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["color:", ";"], function (props) {
  return Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.colorProp, props.theme);
});
var StyledHeading = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].h1.withConfig({
  displayName: "StyledHeading",
  componentId: "sc-1rdh4aw-0"
})(["", " ", " ", " ", " ", " ", " ", ""], _utils__WEBPACK_IMPORTED_MODULE_1__["genericStyles"], function (props) {
  return fontFamily(props);
}, function (props) {
  return sizeStyle(props);
}, function (props) {
  return props.textAlign && textAlignStyle;
}, function (props) {
  return props.truncate && truncateStyle;
}, function (props) {
  return props.colorProp && colorStyle;
}, function (props) {
  return props.theme.heading && props.theme.heading.extend;
});
StyledHeading.defaultProps = {};
Object.setPrototypeOf(StyledHeading.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Heading/doc.js":
/*!************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Heading/doc.js ***!
  \************************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var doc = function doc(Heading) {
  var DocumentedHeading = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Heading).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('Heading')).description('Heading text structured in levels.').usage("import { Heading } from 'grommet';\n<Heading />").intrinsicElement(['h1', 'h2', 'h3', 'h4']);
  DocumentedHeading.propTypes = _extends({}, _utils__WEBPACK_IMPORTED_MODULE_1__["genericProps"], {
    color: _utils__WEBPACK_IMPORTED_MODULE_1__["colorPropType"].description('A color identifier to use for the text color.'),
    level: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf([1, 2, 3, 4, 5, 6, '1', '2', '3', '4', '5', '6']).description("The heading level. It corresponds to the number after the 'H' for\nthe DOM tag. Set the level for semantic accuracy and accessibility.\nThe sizing can be further adjusted using the size property.").defaultValue(1),
    responsive: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Whether the font size should be scaled for\n      mobile environments.").defaultValue(true),
    size: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['small', 'medium', 'large', 'xlarge']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description("The font size is primarily driven by the chosen tag. But, it can\nbe adjusted via this size property. The tag should be set for semantic\ncorrectness and accessibility. This size property allows for stylistic\nadjustments.").defaultValue('medium'),
    textAlign: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['start', 'center', 'end']).description('How to align the text inside the heading.').defaultValue('start'),
    truncate: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Restrict the text to a single line and truncate with ellipsis if it\nis too long to all fit.").defaultValue(false)
  });
  return DocumentedHeading;
};
var themeDoc = _extends({}, _utils__WEBPACK_IMPORTED_MODULE_1__["themeDocUtils"].breakpointStyle('The possible breakpoints that could affect font-size and max-width'), {}, _utils__WEBPACK_IMPORTED_MODULE_1__["themeDocUtils"].edgeStyle('The possible sizes for margin.'), {
  'heading.extend': {
    description: 'Any additional style for Heading.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'heading.level': {
    description: "The level that impacts line-height, max-width, font size, \nweight and family of the Heading. Heading level is automatically adjusted at \ndifferent screen sizes. These screen sizes are derived from breakpoints.",
    type: 'object',
    defaultValue: "\n      1: {\n        medium: {\n          size: 34px,\n          height: 40px,\n          width: 826px,\n        },\n      },\n      weight: 600,\n      font:\n        {\n          family: undefined,\n        }"
  },
  'heading.weight': {
    description: 'Default heading weight used unless a per level heading is defined.',
    type: 'number',
    defaultValue: 600
  },
  'heading.font': {
    description: 'Default heading font used unless a per level heading is defined.',
    type: 'object',
    defaultValue: undefined
  },
  'heading.responsiveBreakpoint': {
    description: "The breakpoint to trigger changes in the Heading layout. \nThe actual values will be derived from global.breakpoints.",
    type: 'string',
    defaultValue: 'small'
  }
});

/***/ }),

/***/ "./node_modules/grommet/es6/components/Heading/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Heading/index.js ***!
  \**************************************************************/
/*! exports provided: Heading */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Heading__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Heading */ "./node_modules/grommet/es6/components/Heading/Heading.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Heading", function() { return _Heading__WEBPACK_IMPORTED_MODULE_0__["Heading"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Image/Image.js":
/*!************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Image/Image.js ***!
  \************************************************************/
/*! exports provided: Image */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Image", function() { return ImageWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var _hocs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../hocs */ "./node_modules/grommet/es6/components/hocs.js");
/* harmony import */ var _StyledImage__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./StyledImage */ "./node_modules/grommet/es6/components/Image/StyledImage.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }






var Image = function Image(_ref) {
  var fallback = _ref.fallback,
      forwardRef = _ref.forwardRef,
      onError = _ref.onError,
      opacity = _ref.opacity,
      fill = _ref.fill,
      src = _ref.src,
      rest = _objectWithoutPropertiesLoose(_ref, ["fallback", "forwardRef", "onError", "opacity", "fill", "src"]);

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(false),
      imageMissing = _useState[0],
      setImageMissing = _useState[1];

  var handleError = function handleError(event) {
    if (onError) {
      onError(event);
    }

    setImageMissing(true);
  };

  var extraProps = {
    onError: (onError || fallback) && handleError
  };
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledImage__WEBPACK_IMPORTED_MODULE_3__["StyledImage"], _extends({}, rest, extraProps, {
    ref: forwardRef,
    opacityProp: opacity,
    fillProp: fill,
    src: !imageMissing ? src : fallback
  }));
};

var ImageDoc;

if (true) {
  ImageDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Image/doc.js").doc(Image); // eslint-disable-line global-require
}

var ImageWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(_hocs__WEBPACK_IMPORTED_MODULE_2__["withForwardRef"])(ImageDoc || Image);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Image/StyledImage.js":
/*!******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Image/StyledImage.js ***!
  \******************************************************************/
/*! exports provided: StyledImage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledImage", function() { return StyledImage; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");



var FIT_MAP = {
  cover: 'cover',
  contain: 'contain'
};
var fitStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["flex:1 1;overflow:hidden;object-fit:", ";"], function (props) {
  return FIT_MAP[props.fit];
});
var fillStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["width:100%;height:100%;"]);
var StyledImage = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].img.withConfig({
  displayName: "StyledImage",
  componentId: "ey4zx9-0"
})(["", " ", " ", " ", " ", ""], _utils__WEBPACK_IMPORTED_MODULE_1__["genericStyles"], function (props) {
  return props.fit && fitStyle;
}, function (props) {
  return props.fillProp && fillStyle;
}, function (props) {
  return props.theme.image && props.theme.image.extend;
}, function (props) {
  return props.opacityProp && "opacity: " + (props.opacityProp === true ? props.theme.global.opacity.medium : props.theme.global.opacity[props.opacityProp] || props.opacityProp) + ";\n  ";
});
StyledImage.defaultProps = {};
Object.setPrototypeOf(StyledImage.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Image/doc.js":
/*!**********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Image/doc.js ***!
  \**********************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var doc = function doc(Image) {
  var DocumentedImage = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Image).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('Image')).description('An image.').usage("import { Image } from 'grommet';\n<Image/>").intrinsicElement('img');
  DocumentedImage.propTypes = _extends({}, _utils__WEBPACK_IMPORTED_MODULE_1__["genericProps"], {
    fit: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['cover', 'contain']).description('How the image fills its container.'),
    fallback: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description("Specifies the URL of the fallback image used when \n      src is failing to load"),
    opacity: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['weak', 'medium', 'strong']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool]).description('Transparency of the image.'),
    fill: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Whether the image expands to fill all of the available width and height')
  });
  return DocumentedImage;
};
var themeDoc = {
  'global.opacity.medium': {
    description: 'The value used when opacity is set to true.',
    type: 'number',
    defaultValue: '0.4'
  },
  'image.extend': {
    description: 'Any additional style for the Image.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  }
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/Image/index.js":
/*!************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Image/index.js ***!
  \************************************************************/
/*! exports provided: Image */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Image__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Image */ "./node_modules/grommet/es6/components/Image/Image.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Image", function() { return _Image__WEBPACK_IMPORTED_MODULE_0__["Image"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/InfiniteScroll/InfiniteScroll.js":
/*!******************************************************************************!*\
  !*** ./node_modules/grommet/es6/components/InfiniteScroll/InfiniteScroll.js ***!
  \******************************************************************************/
/*! exports provided: InfiniteScroll */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InfiniteScroll", function() { return InfiniteScrollWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ "./node_modules/react-dom/index.js");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

/* eslint-disable react/no-find-dom-node */



 // Wraps an item to ensure we can get a ref to it

var Ref =
/*#__PURE__*/
function (_Component) {
  _inheritsLoose(Ref, _Component);

  function Ref() {
    return _Component.apply(this, arguments) || this;
  }

  var _proto = Ref.prototype;

  _proto.render = function render() {
    var children = this.props.children;
    return children;
  };

  return Ref;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

var InfiniteScroll = function InfiniteScroll(_ref) {
  var children = _ref.children,
      _ref$items = _ref.items,
      items = _ref$items === void 0 ? [] : _ref$items,
      onMore = _ref.onMore,
      renderMarker = _ref.renderMarker,
      replace = _ref.replace,
      show = _ref.show,
      _ref$step = _ref.step,
      step = _ref$step === void 0 ? 50 : _ref$step;
  // the last page we have items for
  var lastPage = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
    return Math.ceil(items.length / step);
  }, [items.length, step]); // the first page we are displaying

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(0),
      beginPage = _useState[0],
      setBeginPage = _useState[1]; // the last page we are displaying


  var _useState2 = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(show ? Math.floor((show + step) / step) - 1 : 0),
      endPage = _useState2[0],
      setEndPage = _useState2[1]; // how tall we've measured a page to be


  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(),
      pageHeight = _useState3[0],
      setPageHeight = _useState3[1]; // how much area a page requires


  var _useState4 = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(),
      pageArea = _useState4[0],
      setPageArea = _useState4[1]; // whether the items are laid out in a grid instead of linearly


  var _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(),
      multiColumn = _useState5[0],
      setMultiColumn = _useState5[1]; // what we're waiting for onMore to give us


  var _useState6 = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(0),
      pendingLength = _useState6[0],
      setPendingLength = _useState6[1];

  var belowMarkerRef = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])();
  var firstPageItemRef = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])();
  var lastPageItemRef = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])();
  var showRef = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])(); // calculating space based on where the first and last items being displayed
  // are located

  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    if (firstPageItemRef.current && lastPageItemRef.current && !pageHeight) {
      /* eslint-disable react/no-find-dom-node */
      var beginRect = Object(react_dom__WEBPACK_IMPORTED_MODULE_1__["findDOMNode"])(firstPageItemRef.current).getBoundingClientRect();
      var endRect = Object(react_dom__WEBPACK_IMPORTED_MODULE_1__["findDOMNode"])(lastPageItemRef.current).getBoundingClientRect();
      var nextPageHeight = endRect.top + endRect.height - beginRect.top; // Check if the items are arranged in a single column or not.

      var nextMultiColumn = nextPageHeight / step < endRect.height;
      var nextPageArea = endRect.height * endRect.width * step;
      setPageHeight(nextPageHeight);
      setPageArea(nextPageArea);
      setMultiColumn(nextMultiColumn);
    }
  }, [pageHeight, step]); // scroll handling

  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    var scrollParents;

    var onScroll = function onScroll() {
      var scrollParent = scrollParents[0]; // Determine the window into the first scroll parent

      var top;
      var height;
      var width;

      if (scrollParent === document) {
        top = document.documentElement.scrollTop || document.body.scrollTop;
        height = window.innerHeight;
        width = window.innerWidth;
      } else {
        top = scrollParent.scrollTop;
        var rect = scrollParent.getBoundingClientRect();
        height = rect.height;
        width = rect.width;
      } // Figure out which pages we should make visible based on the scroll
      // window.


      var offset = height / 4;
      var nextBeginPage = replace ? Math.min(lastPage, Math.max(0, multiColumn ? Math.floor(Math.max(0, top - offset) * width / pageArea) : Math.floor(Math.max(0, top - offset) / pageHeight))) : 0;
      var nextEndPage = Math.min(lastPage, Math.max(!replace && endPage || 0, multiColumn ? Math.ceil((top + height + offset) * width / pageArea) : Math.floor((top + height + offset) / pageHeight)));
      if (nextBeginPage !== beginPage) setBeginPage(nextBeginPage);
      if (nextEndPage !== endPage) setEndPage(nextEndPage);
    };

    if (pageHeight && belowMarkerRef.current) {
      scrollParents = Object(_utils__WEBPACK_IMPORTED_MODULE_2__["findScrollParents"])(belowMarkerRef.current);
      scrollParents.forEach(function (scrollParent) {
        return scrollParent.addEventListener('scroll', onScroll);
      });
      onScroll();
    }

    return function () {
      if (scrollParents) {
        scrollParents.forEach(function (scrollParent) {
          return scrollParent.removeEventListener('scroll', onScroll);
        });
      }
    };
  }, [beginPage, endPage, lastPage, multiColumn, pageArea, pageHeight, replace]); // check if we need to ask for more

  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    if (onMore && endPage === lastPage && items.length >= pendingLength) {
      // remember we've asked for more, so we don't keep asking if it takes
      // a while
      setPendingLength(items.length + 1);
      onMore();
    }
  }, [endPage, items.length, lastPage, onMore, pendingLength, step]); // scroll to any 'show'

  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    // ride out any animation delays, 100ms empirically measured
    var timer = setTimeout(function () {
      if (show && showRef.current) {
        Object(react_dom__WEBPACK_IMPORTED_MODULE_1__["findDOMNode"])(showRef.current).scrollIntoView();
      }
    }, 100);
    return function () {
      return clearTimeout(timer);
    };
  }, [show]);
  var firstIndex = beginPage * step;
  var lastIndex = Math.min((endPage + 1) * step, items.length) - 1;
  var result = [];

  if (replace && pageHeight && firstIndex) {
    var marker = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_3__["Box"], {
      key: "above",
      flex: false,
      height: beginPage * pageHeight + "px"
    });

    if (renderMarker) {
      // need to give it a key
      marker = react__WEBPACK_IMPORTED_MODULE_0___default.a.cloneElement(renderMarker(marker), {
        key: 'above'
      });
    }

    result.push(marker);
  }

  items.slice(firstIndex, lastIndex + 1).forEach(function (item, index) {
    var itemsIndex = firstIndex + index;
    var child = children(item, itemsIndex); // we only need the Refs if we don't know the pageHeight

    if (!pageHeight && itemsIndex === 0) {
      child = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Ref, {
        key: "first",
        ref: firstPageItemRef
      }, child);
    } else if (!pageHeight && (itemsIndex === step - 1 || itemsIndex === lastIndex)) {
      child = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Ref, {
        key: "last",
        ref: lastPageItemRef
      }, child);
    }

    if (show && show === itemsIndex) {
      child = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Ref, {
        key: "show",
        ref: showRef
      }, child);
    }

    result.push(child);
  });

  if (endPage < lastPage || replace || onMore) {
    var _marker = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_3__["Box"], {
      key: "below",
      ref: belowMarkerRef,
      flex: false,
      height: (replace ? (lastPage - endPage) * pageHeight : 0) + "px"
    });

    if (renderMarker) {
      // need to give it a key
      _marker = react__WEBPACK_IMPORTED_MODULE_0___default.a.cloneElement(renderMarker(_marker), {
        key: 'below'
      });
    }

    result.push(_marker);
  }

  return result;
};

var InfiniteScrollDoc;

if (true) {
  // eslint-disable-next-line global-require
  InfiniteScrollDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/InfiniteScroll/doc.js").doc(InfiniteScroll);
}

var InfiniteScrollWrapper = InfiniteScrollDoc || InfiniteScroll;


/***/ }),

/***/ "./node_modules/grommet/es6/components/InfiniteScroll/doc.js":
/*!*******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/InfiniteScroll/doc.js ***!
  \*******************************************************************/
/*! exports provided: doc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");


var doc = function doc(InfiniteScroll) {
  var DocumentedInfiniteScroll = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(InfiniteScroll).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('InfiniteScroll')).description('A container that lazily renders items.').usage("import { InfiniteScroll } from 'grommet';\n<InfiniteScroll />");
  DocumentedInfiniteScroll.propTypes = {
    children: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description('Function that will be called when each item is rendered.'),
    items: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].any).description('The children callback will be called to render each item.'),
    onMore: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Use this to indicate that 'items' doesn't contain all that it could.\n      It will be called when the entire list of items has been rendered.\n      This might be used when the total number of items that could be retrieved\n      is more than you'd want to load into the browser. 'onMore' allows you\n      to lazily fetch more from the server only when needed."),
    renderMarker: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Function that will be called to render the marker element that\n      is inserted into the DOM to track when scrolling nears the end of the\n      rendered items. It will be called with a single element that should\n      be wrapped appropriately. This is needed when the default\n      element, a <span>, isn't sufficient, such as a row of a table body."),
    replace: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Whether to replace previously rendered items with a generic spacing\n      element when they have scrolled out of view. This is more performant but\n      means that in-page searching will not find elements that have been\n      replaced. In general, this should be set to true within Drop containers\n      and false otherwise.").defaultValue(false),
    scrollableAncestor: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].node, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['window'])]).description("A custom ancestor to determine if the marker is visible in it.\n      This is useful in cases where you do not want the immediate\n      scrollable ancestor to be the container. For example, when your\n      marker is in a div that has overflow auto but you are detecting\n      visibility based on the window.\n      This should typically be a reference to a DOM node, but it will\n      also work to pass it the string \"window\" if you are using server\n      rendering."),
    show: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number.description('Ensure that the item at this index is visible initially.'),
    step: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number.description('How many items to render at a time.').defaultValue(50)
  };
  return DocumentedInfiniteScroll;
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/InfiniteScroll/index.js":
/*!*********************************************************************!*\
  !*** ./node_modules/grommet/es6/components/InfiniteScroll/index.js ***!
  \*********************************************************************/
/*! exports provided: InfiniteScroll */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _InfiniteScroll__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./InfiniteScroll */ "./node_modules/grommet/es6/components/InfiniteScroll/InfiniteScroll.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "InfiniteScroll", function() { return _InfiniteScroll__WEBPACK_IMPORTED_MODULE_0__["InfiniteScroll"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Keyboard/Keyboard.js":
/*!******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Keyboard/Keyboard.js ***!
  \******************************************************************/
/*! exports provided: Keyboard */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Keyboard", function() { return KeyboardWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }


var KEYS = {
  8: 'onBackspace',
  9: 'onTab',
  13: 'onEnter',
  27: 'onEsc',
  32: 'onSpace',
  37: 'onLeft',
  38: 'onUp',
  39: 'onRight',
  40: 'onDown',
  188: 'onComma',
  16: 'onShift'
};

var Keyboard = function Keyboard(_ref) {
  var target = _ref.target,
      children = _ref.children,
      onKeyDown = _ref.onKeyDown,
      restProps = _objectWithoutPropertiesLoose(_ref, ["target", "children", "onKeyDown"]);

  var onKeyDownHandler = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function (event) {
    var key = event.keyCode ? event.keyCode : event.which;
    var callbackName = KEYS[key];

    for (var _len = arguments.length, rest = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
      rest[_key - 1] = arguments[_key];
    }

    if (callbackName && restProps[callbackName]) {
      restProps[callbackName].apply(restProps, [event].concat(rest));
    }

    if (onKeyDown) {
      onKeyDown.apply(void 0, [event].concat(rest));
    }
  }, [onKeyDown, restProps]);
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    if (target === 'document') {
      document.addEventListener('keydown', onKeyDownHandler);
    }

    return function () {
      if (target === 'document') {
        document.removeEventListener('keydown', onKeyDownHandler);
      }
    };
  }, [onKeyDownHandler, target]);
  return target === 'document' ? children : Object(react__WEBPACK_IMPORTED_MODULE_0__["cloneElement"])(react__WEBPACK_IMPORTED_MODULE_0__["Children"].only(children), {
    onKeyDown: onKeyDownHandler
  });
};

var KeyboardDoc;

if (true) {
  // eslint-disable-next-line global-require
  KeyboardDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Keyboard/doc.js").doc(Keyboard);
}

var KeyboardWrapper = KeyboardDoc || Keyboard;


/***/ }),

/***/ "./node_modules/grommet/es6/components/Keyboard/doc.js":
/*!*************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Keyboard/doc.js ***!
  \*************************************************************/
/*! exports provided: doc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);

var doc = function doc(Keyboard) {
  var DocumentedKeyboard = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Keyboard).description('A handler of keyboard key presses.').usage("import { Keyboard } from 'grommet';\n<Keyboard onUp={() => {}} />");
  DocumentedKeyboard.propTypes = {
    target: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['component', 'document']).description('Where to listen for the keyboard presses.').defaultValue('component'),
    onBackspace: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description('Function that will be called when the user presses the backspace key.'),
    onComma: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description('Function that will be called when the user presses the comma key.'),
    onDown: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description('Function that will be called when the user presses the down key.'),
    onEnter: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description('Function that will be called when the user presses the enter key.'),
    onEsc: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description('Function that will be called when the user presses the esc key.'),
    onKeyDown: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description('Function that will be called when the user presses any key.'),
    onLeft: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description('Function that will be called when the user presses the left key.'),
    onRight: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description('Function that will be called when the user presses the right key.'),
    onShift: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description('Function that will be called when the user presses the shift key.'),
    onSpace: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description('Function that will be called when the user presses the space key.'),
    onTab: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description('Function that will be called when the user presses the tab key.'),
    onUp: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description('Function that will be called when the user presses the up key.')
  };
  return DocumentedKeyboard;
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/Keyboard/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Keyboard/index.js ***!
  \***************************************************************/
/*! exports provided: Keyboard */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Keyboard__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Keyboard */ "./node_modules/grommet/es6/components/Keyboard/Keyboard.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Keyboard", function() { return _Keyboard__WEBPACK_IMPORTED_MODULE_0__["Keyboard"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Layer/Layer.js":
/*!************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Layer/Layer.js ***!
  \************************************************************/
/*! exports provided: Layer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Layer", function() { return LayerWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ "./node_modules/react-dom/index.js");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _LayerContainer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./LayerContainer */ "./node_modules/grommet/es6/components/Layer/LayerContainer.js");
/* harmony import */ var _StyledLayer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./StyledLayer */ "./node_modules/grommet/es6/components/Layer/StyledLayer.js");
function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }







var Layer =
/*#__PURE__*/
function (_Component) {
  _inheritsLoose(Layer, _Component);

  function Layer() {
    var _this;

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _Component.call.apply(_Component, [this].concat(args)) || this;

    _defineProperty(_assertThisInitialized(_this), "state", {
      islayerContainerAvailable: false
    });

    return _this;
  }

  var _proto = Layer.prototype;

  _proto.componentDidMount = function componentDidMount() {
    // ensure document is available
    this.originalFocusedElement = document.activeElement;
    this.layerContainer = Object(_utils__WEBPACK_IMPORTED_MODULE_2__["getNewContainer"])();
    this.setState({
      islayerContainerAvailable: true
    });
  };

  _proto.componentWillUnmount = function componentWillUnmount() {
    var _this2 = this;

    var _this$props = this.props,
        animate = _this$props.animate,
        animation = _this$props.animation;

    if (this.originalFocusedElement) {
      if (this.originalFocusedElement.focus) {
        // wait for the fixed positioning to come back to normal
        // see layer styling for reference
        setTimeout(function () {
          _this2.originalFocusedElement.focus();
        }, 0);
      } else if (this.originalFocusedElement.parentNode && this.originalFocusedElement.parentNode.focus) {
        // required for IE11 and Edge
        this.originalFocusedElement.parentNode.focus();
      }
    }

    var activeAnimation = animation !== undefined ? animation : animate;

    if (activeAnimation !== false) {
      // undefined uses 'slide' as the default
      // animate out and remove later
      var layerClone = this.layerContainer.cloneNode(true);
      layerClone.id = 'layerClone';
      document.body.appendChild(layerClone);
      var clonedContainer = layerClone.querySelector('[class*="StyledLayer__StyledContainer"]');

      if (clonedContainer && clonedContainer.style) {
        clonedContainer.style.animationDirection = 'reverse';
      }

      setTimeout(function () {
        // we add the id and query here so the unit tests work
        var clone = document.getElementById('layerClone');
        if (clone) document.body.removeChild(clone);
      }, _StyledLayer__WEBPACK_IMPORTED_MODULE_4__["animationDuration"]);
    }
  };

  _proto.render = function render() {
    var islayerContainerAvailable = this.state.islayerContainerAvailable;
    return islayerContainerAvailable ? Object(react_dom__WEBPACK_IMPORTED_MODULE_1__["createPortal"])(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_LayerContainer__WEBPACK_IMPORTED_MODULE_3__["LayerContainer"], this.props), this.layerContainer) : null;
  };

  return Layer;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

_defineProperty(Layer, "defaultProps", {
  full: false,
  margin: 'none',
  modal: true,
  position: 'center',
  responsive: true
});

var LayerDoc;

if (true) {
  LayerDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Layer/doc.js").doc(Layer); // eslint-disable-line global-require
}

var LayerWrapper = LayerDoc || Layer;


/***/ }),

/***/ "./node_modules/grommet/es6/components/Layer/LayerContainer.js":
/*!*********************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Layer/LayerContainer.js ***!
  \*********************************************************************/
/*! exports provided: LayerContainer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LayerContainer", function() { return LayerContainer; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _contexts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../contexts */ "./node_modules/grommet/es6/contexts/index.js");
/* harmony import */ var _FocusedContainer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../FocusedContainer */ "./node_modules/grommet/es6/components/FocusedContainer.js");
/* harmony import */ var _Keyboard__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Keyboard */ "./node_modules/grommet/es6/components/Keyboard/index.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _StyledLayer__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./StyledLayer */ "./node_modules/grommet/es6/components/Layer/StyledLayer.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }









var HiddenAnchor = styled_components__WEBPACK_IMPORTED_MODULE_1__["default"].a.withConfig({
  displayName: "LayerContainer__HiddenAnchor",
  componentId: "sc-1srj14c-0"
})(["width:0;height:0;overflow:hidden;position:absolute;"]);

var LayerContainer =
/*#__PURE__*/
function (_Component) {
  _inheritsLoose(LayerContainer, _Component);

  function LayerContainer() {
    var _this;

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _Component.call.apply(_Component, [this].concat(args)) || this;

    _defineProperty(_assertThisInitialized(_this), "anchorRef", Object(react__WEBPACK_IMPORTED_MODULE_0__["createRef"])());

    _defineProperty(_assertThisInitialized(_this), "containerRef", react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef());

    _defineProperty(_assertThisInitialized(_this), "layerRef", react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef());

    _defineProperty(_assertThisInitialized(_this), "makeLayerVisible", function () {
      var node = _this.layerRef.current || _this.containerRef.current;

      if (node && node.scrollIntoView) {
        node.scrollIntoView();
      }
    });

    return _this;
  }

  var _proto = LayerContainer.prototype;

  _proto.componentDidMount = function componentDidMount() {
    var position = this.props.position;

    if (position !== 'hidden') {
      this.makeLayerVisible(); // Once layer is open we make sure it has focus so that you
      // can start tabbing inside the layer. If the caller put focus
      // on an element already, we honor that. Otherwise, we put
      // the focus in the hidden anchor.

      var element = document.activeElement;

      while (element) {
        if (element === this.containerRef.current) {
          // already have focus inside the container
          break;
        }

        element = element.parentElement;
      }

      if (!element && this.anchorRef.current) {
        this.anchorRef.current.focus();
      }
    }
  };

  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {
    var position = this.props.position;

    if (prevProps.position !== position && position !== 'hidden') {
      this.makeLayerVisible();
    }
  };

  _proto.render = function render() {
    var _this$props = this.props,
        children = _this$props.children,
        id = _this$props.id,
        modal = _this$props.modal,
        onClickOutside = _this$props.onClickOutside,
        onEsc = _this$props.onEsc,
        plain = _this$props.plain,
        position = _this$props.position,
        responsive = _this$props.responsive,
        propsTheme = _this$props.theme,
        rest = _objectWithoutPropertiesLoose(_this$props, ["children", "id", "modal", "onClickOutside", "onEsc", "plain", "position", "responsive", "theme"]);

    var theme = this.context || propsTheme;
    var content = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledLayer__WEBPACK_IMPORTED_MODULE_7__["StyledContainer"], _extends({
      id: id
    }, rest, {
      position: position,
      plain: plain,
      responsive: responsive,
      ref: this.containerRef
    }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(HiddenAnchor, {
      ref: this.anchorRef,
      tabIndex: "-1",
      "aria-hidden": "true"
    }), children);

    if (modal) {
      content = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledLayer__WEBPACK_IMPORTED_MODULE_7__["StyledLayer"], {
        id: id,
        plain: plain,
        position: position,
        responsive: responsive,
        tabIndex: "-1",
        ref: this.layerRef
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledLayer__WEBPACK_IMPORTED_MODULE_7__["StyledOverlay"], {
        plain: plain,
        onMouseDown: onClickOutside,
        responsive: responsive
      }), content);
      /* eslint-enable jsx-a11y/anchor-is-valid, jsx-a11y/anchor-has-content */
    }

    if (onEsc) {
      content = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Keyboard__WEBPACK_IMPORTED_MODULE_5__["Keyboard"], {
        onEsc: onEsc
      }, content);
    }

    if (theme.layer.background) {
      var dark = Object(_utils__WEBPACK_IMPORTED_MODULE_6__["backgroundIsDark"])(theme.layer.background, theme);

      if (dark !== undefined && dark !== theme.dark) {
        content = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_contexts__WEBPACK_IMPORTED_MODULE_3__["ThemeContext"].Provider, {
          value: _extends({}, theme, {
            dark: dark
          })
        }, content);
      }
    }

    if (modal) {
      content = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_FocusedContainer__WEBPACK_IMPORTED_MODULE_4__["FocusedContainer"], {
        hidden: position === 'hidden',
        restrictScroll: true
      }, content);
    }

    return content;
  };

  return LayerContainer;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

_defineProperty(LayerContainer, "contextType", _contexts__WEBPACK_IMPORTED_MODULE_3__["ThemeContext"]);

_defineProperty(LayerContainer, "defaultProps", {
  full: false,
  margin: 'none',
  modal: true,
  position: 'center'
});

Object.setPrototypeOf(LayerContainer.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Layer/StyledLayer.js":
/*!******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Layer/StyledLayer.js ***!
  \******************************************************************/
/*! exports provided: animationDuration, StyledLayer, StyledOverlay, StyledContainer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "animationDuration", function() { return animationDuration; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledLayer", function() { return StyledLayer; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledOverlay", function() { return StyledOverlay; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledContainer", function() { return StyledContainer; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");



var hiddenPositionStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["left:-100%;right:100%;z-index:-1;position:fixed;"]);
var desktopLayerStyle = "\n  position: fixed;\n  top: 0px;\n  left: 0px;\n  right: 0px;\n  bottom: 0px;\n  width: 100vw;\n  height: 100vh;\n";
var responsiveLayerStyle = "\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  min-height: 100vh;\n";
var StyledLayer = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledLayer",
  componentId: "rmtehz-0"
})(["", " background:unset;position:relative;z-index:", ";pointer-events:none;outline:none;", " ", ";"], _utils__WEBPACK_IMPORTED_MODULE_1__["baseStyle"], function (props) {
  return props.theme.layer.zIndex;
}, function (props) {
  if (props.position === 'hidden') {
    return hiddenPositionStyle;
  }

  var styles = [desktopLayerStyle];

  if (props.responsive && props.theme.layer.responsiveBreakpoint) {
    var breakpoint = props.theme.global.breakpoints[props.theme.layer.responsiveBreakpoint];
    styles.push(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["breakpointStyle"])(breakpoint, responsiveLayerStyle));
  }

  return styles;
}, function (props) {
  return props.theme.layer && props.theme.layer.extend;
});
StyledLayer.defaultProps = {};
Object.setPrototypeOf(StyledLayer.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var StyledOverlay = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledLayer__StyledOverlay",
  componentId: "rmtehz-1"
})(["position:absolute;", " top:0px;left:0px;right:0px;bottom:0px;", " pointer-events:all;"], function (props) {
  if (props.responsive && props.theme.layer.responsiveBreakpoint) {
    var breakpoint = props.theme.global.breakpoints[props.theme.layer.responsiveBreakpoint];
    return Object(_utils__WEBPACK_IMPORTED_MODULE_1__["breakpointStyle"])(breakpoint, 'position: relative;');
  }

  return '';
}, function (props) {
  return !props.plain && props.theme.layer.overlay.background && Object(_utils__WEBPACK_IMPORTED_MODULE_1__["backgroundStyle"])(props.theme.layer.overlay.background, props.theme);
});

var getMargin = function getMargin(margin, theme, position) {
  var axis = position.indexOf('top') !== -1 || position.indexOf('bottom') !== -1 ? 'vertical' : 'horizontal';
  var marginValue = margin[position] || margin[axis] || margin;
  var marginApplied = theme.global.edgeSize[marginValue] || marginValue;
  var marginInTheme = !!theme.global.edgeSize[marginValue];
  return !marginInTheme && typeof marginValue !== 'string' ? '0px' : marginApplied;
};

var MARGINS = function MARGINS(margin, theme, position) {
  if (position === void 0) {
    position = undefined;
  }

  if (position) {
    return getMargin(margin, theme, position);
  }

  return {
    bottom: getMargin(margin, theme, 'bottom'),
    'bottom-left': getMargin(margin, theme, 'bottom-left'),
    'bottom-right': getMargin(margin, theme, 'bottom-right'),
    left: getMargin(margin, theme, 'left'),
    right: getMargin(margin, theme, 'right'),
    top: getMargin(margin, theme, 'top'),
    'top-right': getMargin(margin, theme, 'top-right'),
    'top-left': getMargin(margin, theme, 'top-left')
  };
};

var KEYFRAMES = {
  center: {
    vertical: Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["keyframes"])(["0%{transform:translateX(-50%) scale(0.8);}100%{transform:translateX(-50%) scale(1);}"]),
    horizontal: Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["keyframes"])(["0%{transform:translateY(-50%) scale(0.8);}100%{transform:translateY(-50) scale(1);}"]),
    "true": Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["keyframes"])(["0%{transform:scale(0.8);}100%{transform:scale(1);}"]),
    "false": Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["keyframes"])(["0%{transform:translate(-50%,-50%) scale(0.8);}100%{transform:translate(-50%,-50%) scale(1);}"])
  },
  top: {
    vertical: Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["keyframes"])(["0%{transform:translate(-50%,-100%);}100%{transform:translate(-50%,0);}"]),
    horizontal: Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["keyframes"])(["0%{transform:translateY(-100%);}100%{transform:translateY(0);}"]),
    "true": Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["keyframes"])(["0%{transform:translateY(-100%);}100%{transform:translateY(0);}"]),
    "false": Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["keyframes"])(["0%{transform:translate(-50%,-100%);}100%{transform:translate(-50%,0);}"])
  },
  bottom: {
    vertical: Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["keyframes"])(["0%{transform:translate(-50%,100%);}100%{transform:translate(-50%,0);}"]),
    horizontal: Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["keyframes"])(["0%{transform:translateY(100%);}100%{transform:translateY(0);}"]),
    "true": Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["keyframes"])(["0%{transform:translateY(100%);}100%{transform:translateY(0);}"]),
    "false": Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["keyframes"])(["0%{transform:translate(-50%,100%);}100%{transform:translate(-50%,0);}"])
  },
  left: {
    vertical: Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["keyframes"])(["0%{transform:translateX(-100%);}100%{transform:translateX(0);}"]),
    horizontal: Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["keyframes"])(["0%{transform:translate(-100%,-50%);}100%{transform:translate(0,-50%);}"]),
    "true": Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["keyframes"])(["0%{transform:translateX(-100%);}100%{transform:translateX(0);}"]),
    "false": Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["keyframes"])(["0%{transform:translate(-100%,-50%);}100%{transform:translate(0,-50%);}"])
  },
  right: {
    vertical: Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["keyframes"])(["0%{transform:translateX(100%);}100%{transform:translateX(0);}"]),
    horizontal: Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["keyframes"])(["0%{transform:translate(100%,-50%);}100%{transform:translate(0,-50%);}"]),
    "true": Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["keyframes"])(["0%{transform:translateX(100%);}100%{transform:translateX(0);}"]),
    "false": Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["keyframes"])(["0%{transform:translate(100%,-50%);}100%{transform:translate(0,-50%);}"])
  }
};
var animationDuration = 200;

var getAnimationStyle = function getAnimationStyle(props, position, full) {
  var animation = props.animation !== undefined ? props.animation : props.animate;
  if (animation === undefined) animation = 'slide';
  var keys;

  if (animation === 'slide' || animation === true) {
    keys = KEYFRAMES[position][full];
  } else if (animation === 'fadeIn') {
    keys = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["keyframes"])(["0%{opacity:0}100%{opacity:1}"]);
  }

  return keys ? Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["animation:", " ", "s ease-in-out forwards;"], keys, animationDuration / 1000.0) : '';
}; // POSITIONS combines 'position', 'full', and 'margin' properties, since
// they are all interdependent.
// Basically, non-full axes combine 50% position with -50% translation.
// full axes pin to the window edges offset by any margin.
// The keyframe animations are included as they are done via translations
// as well so they must take into account the non-animated positioning.


var POSITIONS = {
  center: {
    vertical: function vertical(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["top:", ";bottom:", ";left:50%;transform:translateX(-50%);", ""], margin.top, margin.bottom, function (props) {
        return getAnimationStyle(props, 'center', 'vertical');
      });
    },
    horizontal: function horizontal(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["left:", ";right:", ";top:50%;transform:translateY(-50%);", ""], margin.left, margin.right, function (props) {
        return getAnimationStyle(props, 'center', 'horizontal');
      });
    },
    "true": function _true(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["top:", ";bottom:", ";left:", ";right:", ";", ""], margin.top, margin.bottom, margin.left, margin.right, function (props) {
        return getAnimationStyle(props, 'center', 'true');
      });
    },
    "false": function _false() {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["top:50%;left:50%;transform:translate(-50%,-50%);", ""], function (props) {
        return getAnimationStyle(props, 'center', 'false');
      });
    }
  },
  top: {
    vertical: function vertical(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["top:", ";bottom:", ";left:50%;transform:translate(-50%,0%);", ""], margin.top, margin.bottom, function (props) {
        return getAnimationStyle(props, 'top', 'vertical');
      });
    },
    horizontal: function horizontal(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["left:", ";right:", ";top:", ";transform:translateY(0);", ""], margin.left, margin.right, margin.top, function (props) {
        return getAnimationStyle(props, 'top', 'horizontal');
      });
    },
    "true": function _true(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["top:", ";bottom:", ";left:", ";right:", ";transform:translateY(0);", ""], margin.top, margin.bottom, margin.left, margin.right, function (props) {
        return getAnimationStyle(props, 'top', 'true');
      });
    },
    "false": function _false(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["top:", ";left:50%;transform:translate(-50%,0);", ""], margin.top, function (props) {
        return getAnimationStyle(props, 'top', 'false');
      });
    }
  },
  bottom: {
    vertical: function vertical(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["top:", " bottom:", ";left:50%;transform:translate(-50%,0);", ""], margin.top, margin.bottom, function (props) {
        return getAnimationStyle(props, 'bottom', 'vertical');
      });
    },
    horizontal: function horizontal(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["left:", ";right:", ";bottom:", ";transform:translateY(0);", ""], margin.left, margin.top, margin.bottom, function (props) {
        return getAnimationStyle(props, 'bottom', 'horizontal');
      });
    },
    "true": function _true(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["top:", ";bottom:", ";left:", ";right:", ";transform:translateY(0);", ""], margin.top, margin.bottom, margin.left, margin.right, function (props) {
        return getAnimationStyle(props, 'bottom', 'true');
      });
    },
    "false": function _false(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["bottom:", ";left:50%;transform:translate(-50%,0);", ""], margin.bottom, function (props) {
        return getAnimationStyle(props, 'bottom', 'false');
      });
    }
  },
  left: {
    vertical: function vertical(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["top:", ";bottom:", ";left:", ";transform:translateX(0);", ""], margin.top, margin.bottom, margin.left, function (props) {
        return getAnimationStyle(props, 'left', 'vertical');
      });
    },
    horizontal: function horizontal(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["left:", ";right:", ";top:50%;transform:translate(0,-50%);", ""], margin.left, margin.right, function (props) {
        return getAnimationStyle(props, 'left', 'horizontal');
      });
    },
    "true": function _true(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["top:", ";bottom:", ";left:", ";right:", ";transform:translateX(0);", ""], margin.top, margin.bottom, margin.left, margin.right, function (props) {
        return getAnimationStyle(props, 'left', 'true');
      });
    },
    "false": function _false(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["left:", ";top:50%;transform:translate(0,-50%);", ""], margin.left, function (props) {
        return getAnimationStyle(props, 'left', 'false');
      });
    }
  },
  right: {
    vertical: function vertical(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["top:", ";bottom:", ";right:", ";transform:translateX(0);", ""], margin.top, margin.bottom, margin.right, function (props) {
        return getAnimationStyle(props, 'right', 'vertical');
      });
    },
    horizontal: function horizontal(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["left:", ";right:", ";top:50%;transform:translate(0,-50%);", ""], margin.left, margin.right, function (props) {
        return getAnimationStyle(props, 'right', 'horizontal');
      });
    },
    "true": function _true(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["top:", ";bottom:", ";left:", ";right:", ";transform:translateX(0);", ""], margin.top, margin.bottom, margin.left, margin.right, function (props) {
        return getAnimationStyle(props, 'right', 'true');
      });
    },
    "false": function _false(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["right:", ";top:50%;transform:translate(0,-50%);", ""], margin.right, function (props) {
        return getAnimationStyle(props, 'right', 'false');
      });
    }
  },
  'top-right': {
    vertical: function vertical(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["top:", ";bottom:", ";right:", ";transform:translateX(0);", ";"], margin.top, margin.bottom, margin.right, function (props) {
        return getAnimationStyle(props, 'top', 'true');
      });
    },
    horizontal: function horizontal(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["left:", ";right:", ";top:0;transform:translateX(0);", ";"], margin.left, margin.right, function (props) {
        return getAnimationStyle(props, 'top', 'true');
      });
    },
    "true": function _true(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["top:", ";bottom:", ";left:", ";right:", ";transform:translateX(0);", ";"], margin.top, margin.bottom, margin.left, margin.right, function (props) {
        return getAnimationStyle(props, 'top', 'true');
      });
    },
    "false": function _false(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["top:", ";right:", ";transform:translateY(0);", ";"], margin.top, margin.right, function (props) {
        return getAnimationStyle(props, 'top', 'true');
      });
    }
  },
  'top-left': {
    vertical: function vertical(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["top:", ";bottom:", ";left:", ";transform:translateX(0);", ""], margin.top, margin.bottom, margin.left, function (props) {
        return getAnimationStyle(props, 'top', 'true');
      });
    },
    horizontal: function horizontal(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["left:", ";right:", ";top:0;transform:translateX(0);", ""], margin.left, margin.right, function (props) {
        return getAnimationStyle(props, 'top', 'true');
      });
    },
    "true": function _true(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["top:", ";bottom:", ";left:", ";right:", ";transform:translateX(0);", ""], margin.top, margin.bottom, margin.left, margin.right, function (props) {
        return getAnimationStyle(props, 'top', 'true');
      });
    },
    "false": function _false(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["top:", ";left:", ";transform:translateY(0);", ""], margin.top, margin.left, function (props) {
        return getAnimationStyle(props, 'top', 'true');
      });
    }
  },
  'bottom-right': {
    vertical: function vertical(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["top:", ";bottom:", ";right:", ";transform:translateX(0);", ""], margin.top, margin.bottom, margin.right, function (props) {
        return getAnimationStyle(props, 'bottom', 'true');
      });
    },
    horizontal: function horizontal(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["left:", ";right:", ";bottom:", ";transform:translateY(0);", ""], margin.left, margin.right, margin.bottom, function (props) {
        return getAnimationStyle(props, 'bottom', 'true');
      });
    },
    "true": function _true(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["top:", ";bottom:", ";left:", ";right:", ";transform:translateX(0);", ""], margin.top, margin.bottom, margin.left, margin.right, function (props) {
        return getAnimationStyle(props, 'bottom', 'true');
      });
    },
    "false": function _false(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["bottom:", ";right:", ";transform:translateY(0);", ""], margin.bottom, margin.right, function (props) {
        return getAnimationStyle(props, 'bottom', 'true');
      });
    }
  },
  'bottom-left': {
    vertical: function vertical(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["top:", ";bottom:", ";left:", ";transform:translateX(0);", ""], margin.top, margin.bottom, margin.left, function (props) {
        return getAnimationStyle(props, 'bottom', 'true');
      });
    },
    horizontal: function horizontal(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["left:", ";right:", ";bottom:", ";transform:translateY(0);", ""], margin.left, margin.right, margin.bottom, function (props) {
        return getAnimationStyle(props, 'bottom', 'true');
      });
    },
    "true": function _true(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["top:", ";bottom:", ";left:", ";right:", ";transform:translateX(0);", ""], margin.top, margin.bottom, margin.left, margin.right, function (props) {
        return getAnimationStyle(props, 'bottom', 'true');
      });
    },
    "false": function _false(margin) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["bottom:", ";left:", ";transform:translateY(0);", ""], margin.bottom, margin.left, function (props) {
        return getAnimationStyle(props, 'bottom', 'true');
      });
    }
  }
};
var desktopContainerStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["position:", ";max-height:", ";max-width:", ";border-radius:", ";", ";"], function (props) {
  return props.modal ? 'absolute' : 'fixed';
}, function (props) {
  return "calc(100% - " + MARGINS(props.margin, props.theme, 'top') + " - " + MARGINS(props.margin, props.theme, 'bottom') + ")";
}, function (props) {
  return "calc(100% - " + MARGINS(props.margin, props.theme, 'left') + " - " + MARGINS(props.margin, props.theme, 'right') + ")";
}, function (props) {
  return props.plain ? 0 : props.theme.layer.border.radius;
}, function (props) {
  return props.position !== 'hidden' && POSITIONS[props.position][props.full](MARGINS(props.margin, props.theme)) || '';
});
var responsiveContainerStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["position:relative;max-height:none;max-width:none;border-radius:0;top:0;bottom:0;left:0;right:0;transform:none;animation:none;height:100vh;width:100vw;"]);
var StyledContainer = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledLayer__StyledContainer",
  componentId: "rmtehz-2"
})(["", " display:flex;flex-direction:column;min-height:", ";", " outline:none;pointer-events:all;z-index:", ";", " ", ";"], function (props) {
  return !props.modal ? _utils__WEBPACK_IMPORTED_MODULE_1__["baseStyle"] : '';
}, function (props) {
  return props.theme.global.size.xxsmall;
}, function (props) {
  return !props.plain && props.theme.layer.background && Object(_utils__WEBPACK_IMPORTED_MODULE_1__["backgroundStyle"])(props.theme.layer.background, props.theme);
}, function (props) {
  return props.theme.layer.container.zIndex;
}, desktopContainerStyle, function (props) {
  if (props.responsive && props.theme.layer.responsiveBreakpoint) {
    var breakpoint = props.theme.global.breakpoints[props.theme.layer.responsiveBreakpoint];

    if (breakpoint) {
      return Object(_utils__WEBPACK_IMPORTED_MODULE_1__["breakpointStyle"])(breakpoint, responsiveContainerStyle);
    }
  }

  return '';
});
StyledContainer.defaultProps = {};
Object.setPrototypeOf(StyledContainer.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Layer/doc.js":
/*!**********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Layer/doc.js ***!
  \**********************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var PAD_SIZES = ['xxsmall', 'xsmall', 'small', 'medium', 'large'];
var doc = function doc(Layer) {
  var DocumentedLayer = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Layer).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('Layer')).description("An overlay. Layer is typically modal and anchored to an edge, corner, or\n      center of the window. It is the caller's responsibility to provide a\n      control for the user to close the layer.").usage("import { Layer } from 'grommet';\n<Layer />").intrinsicElement('div');
  DocumentedLayer.propTypes = {
    animate: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Whether to animate the Layer content when it opens. This\n        property is deprecated and will be removed in the next major version\n        of grommet. Instead, use 'animation'.").defaultValue(true),
    animation: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['slide', 'fadeIn', 'none']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool]).description('Animation transition of the Layer content when it opens and closes.').defaultValue('slide'),
    full: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['vertical', 'horizontal'])]).description("Whether the width and/or height should fill the current viewport \n        size.").defaultValue(false),
    margin: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['none'].concat(PAD_SIZES)), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      bottom: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(PAD_SIZES), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
      horizontal: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(PAD_SIZES), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
      left: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(PAD_SIZES), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
      right: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(PAD_SIZES), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
      top: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(PAD_SIZES), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
      vertical: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(PAD_SIZES), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string])
    }), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description("The amount of margin around the Layer. An object can be specified to\ndistinguish horizontal margin, vertical margin, and margin on a\nparticular side of the layer"),
    modal: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Whether there should be an overlay preventing interaction underneath \n        the layer.").defaultValue(true),
    onClickOutside: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Function that will be invoked on modal layers when the user clicks \n      outside the layer."),
    onEsc: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Function that will be called when the user presses the escape key inside\n       the layer."),
    plain: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Whether this is a plain Layer with no background color or border.').defaultValue(false),
    position: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['bottom', 'bottom-left', 'bottom-right', 'center', 'hidden', 'left', 'right', 'top', 'top-left', 'top-right']).description('Position of the layer content.').defaultValue('center'),
    responsive: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Whether the layer should take full width and height on mobile').defaultValue(true)
  };
  return DocumentedLayer;
};
var themeDoc = _extends({
  'global.size.xxsmall': {
    description: 'The minimal height of the Layer.',
    type: 'string',
    defaultValue: '48px'
  },
  'layer.background': {
    description: 'The background color of the Layer Container.',
    type: 'string',
    defaultValue: 'white'
  },
  'layer.container.zIndex': {
    description: 'The stack order of Layer Container.',
    type: 'number',
    defaultValue: '15'
  },
  'layer.extend': {
    description: 'Any additional style for Layer.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'layer.overlay.background': {
    description: 'The background of the Layer overlay.',
    type: 'string',
    defaultValue: 'rgba(0, 0, 0, 0.5)'
  },
  'layer.responsiveBreakpoint': {
    description: "The actual breakpoint to trigger changes in the border, \ndirection, gap, margin, pad, and round.",
    type: 'string',
    defaultValue: 'small'
  },
  'layer.zIndex': {
    description: 'The stack order of Layer.',
    type: 'number',
    defaultValue: '10'
  }
}, _utils__WEBPACK_IMPORTED_MODULE_1__["themeDocUtils"].breakpointStyle("The possible breakpoints that could affect border, direction, gap, margin, \n    pad, and round."));

/***/ }),

/***/ "./node_modules/grommet/es6/components/Layer/index.js":
/*!************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Layer/index.js ***!
  \************************************************************/
/*! exports provided: Layer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Layer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Layer */ "./node_modules/grommet/es6/components/Layer/Layer.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Layer", function() { return _Layer__WEBPACK_IMPORTED_MODULE_0__["Layer"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/List/List.js":
/*!**********************************************************!*\
  !*** ./node_modules/grommet/es6/components/List/List.js ***!
  \**********************************************************/
/*! exports provided: List */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "List", function() { return ListWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
/* harmony import */ var _InfiniteScroll__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../InfiniteScroll */ "./node_modules/grommet/es6/components/InfiniteScroll/index.js");
/* harmony import */ var _Keyboard__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Keyboard */ "./node_modules/grommet/es6/components/Keyboard/index.js");
/* harmony import */ var _Text__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Text */ "./node_modules/grommet/es6/components/Text/index.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _hocs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../hocs */ "./node_modules/grommet/es6/components/hocs.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }










var StyledList = styled_components__WEBPACK_IMPORTED_MODULE_2__["default"].ul.withConfig({
  displayName: "List__StyledList",
  componentId: "sc-130gdqg-0"
})(["list-style:none;margin:0;padding:0;", ""], function (props) {
  return props.focus && _utils__WEBPACK_IMPORTED_MODULE_7__["focusStyle"];
});
var StyledItem = Object(styled_components__WEBPACK_IMPORTED_MODULE_2__["default"])(_Box__WEBPACK_IMPORTED_MODULE_3__["Box"]).withConfig({
  displayName: "List__StyledItem",
  componentId: "sc-130gdqg-1"
})(["", ""], function (props) {
  return props.onClick && "cursor: pointer;";
});

var normalize = function normalize(item, index, property) {
  if (typeof property === 'function') {
    return property(item, index);
  }

  return item[property];
};

var List = react__WEBPACK_IMPORTED_MODULE_0___default.a.forwardRef(function (props, ref) {
  var action = props.action,
      as = props.as,
      background = props.background,
      border = props.border,
      children = props.children,
      data = props.data,
      focus = props.focus,
      itemProps = props.itemProps,
      pad = props.pad,
      primaryKey = props.primaryKey,
      secondaryKey = props.secondaryKey,
      step = props.step,
      theme = props.theme,
      onClickItem = props.onClickItem,
      onMore = props.onMore,
      rest = _objectWithoutPropertiesLoose(props, ["action", "as", "background", "border", "children", "data", "focus", "itemProps", "pad", "primaryKey", "secondaryKey", "step", "theme", "onClickItem", "onMore"]);

  var _React$useState = react__WEBPACK_IMPORTED_MODULE_0___default.a.useState(),
      active = _React$useState[0],
      setActive = _React$useState[1];

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Keyboard__WEBPACK_IMPORTED_MODULE_5__["Keyboard"], {
    onEnter: onClickItem && active >= 0 ? function (event) {
      event.persist();
      var adjustedEvent = event;
      adjustedEvent.item = data[active];
      adjustedEvent.index = active;
      onClickItem(adjustedEvent);
    } : undefined,
    onUp: onClickItem && active ? function () {
      setActive(active - 1);
    } : undefined,
    onDown: onClickItem && data && data.length ? function () {
      setActive(active >= 0 ? Math.min(active + 1, data.length - 1) : 0);
    } : undefined
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StyledList, _extends({
    ref: ref,
    as: as || 'ul',
    tabIndex: onClickItem ? 0 : undefined
  }, rest), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_InfiniteScroll__WEBPACK_IMPORTED_MODULE_4__["InfiniteScroll"], {
    items: data,
    onMore: onMore,
    scrollableAncestor: "window",
    step: step,
    renderMarker: function renderMarker(marker) {
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_3__["Box"], {
        as: "li",
        flex: false
      }, marker);
    }
  }, function (item, index) {
    var content;
    var boxProps = {};

    if (children) {
      content = children(item, index, onClickItem ? {
        active: active === index
      } : undefined);
    } else if (primaryKey) {
      if (typeof primaryKey === 'function') {
        content = primaryKey(item, index);
      } else {
        content = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Text__WEBPACK_IMPORTED_MODULE_6__["Text"], {
          key: "p",
          weight: "bold"
        }, normalize(item, index, primaryKey));
      }

      if (secondaryKey) {
        if (typeof secondaryKey === 'function') {
          content = [content, secondaryKey(item, index)];
        } else {
          content = [content, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Text__WEBPACK_IMPORTED_MODULE_6__["Text"], {
            key: "s"
          }, normalize(item, index, secondaryKey))];
        }

        boxProps = {
          direction: 'row',
          align: 'center',
          justify: 'between',
          gap: 'medium'
        };
      }
    } else if (typeof item === 'object') {
      content = item[Object.keys(item)[0]];
    } else {
      content = item;
    }

    if (action) {
      content = [react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_3__["Box"], {
        align: "start"
      }, content), action(item, index)];
      boxProps = {
        direction: 'row',
        align: secondaryKey ? 'start' : 'center',
        justify: 'between',
        gap: 'medium'
      };
    }

    var adjustedBackground = background || theme.list.item.background;

    if (active === index) {
      adjustedBackground = theme.global.hover.background;
    } else if (Array.isArray(adjustedBackground)) {
      adjustedBackground = adjustedBackground[index % adjustedBackground.length];
    }

    var adjustedBorder = border || theme.list.item.border;

    if (adjustedBorder === 'horizontal' && index) {
      adjustedBorder = 'bottom';
    }

    if (itemProps && itemProps[index]) {
      boxProps = _extends({}, boxProps, {}, itemProps[index]);
    }

    var clickProps;

    if (onClickItem) {
      clickProps = {
        tabIndex: -1,
        active: active === index,
        onClick: function onClick(event) {
          event.persist(); // extract from React's synthetic event pool

          var adjustedEvent = event;
          adjustedEvent.item = item;
          adjustedEvent.index = index;
          onClickItem(adjustedEvent);
        },
        onMouseOver: function onMouseOver() {
          return setActive(index);
        },
        onMouseOut: function onMouseOut() {
          return setActive(undefined);
        },
        onFocus: function onFocus() {
          return setActive(index);
        },
        onBlur: function onBlur() {
          return setActive(undefined);
        }
      };
    }

    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StyledItem, _extends({
      key: index,
      tag: "li",
      flex: false,
      pad: pad || theme.list.item.pad,
      background: adjustedBackground,
      border: adjustedBorder
    }, boxProps, clickProps), content);
  })));
});
List.displayName = 'List';
var ListDoc;

if (true) {
  ListDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/List/doc.js").doc(List); // eslint-disable-line global-require
}

var ListWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(styled_components__WEBPACK_IMPORTED_MODULE_2__["withTheme"], Object(_hocs__WEBPACK_IMPORTED_MODULE_8__["withFocus"])(), _hocs__WEBPACK_IMPORTED_MODULE_8__["withForwardRef"])(ListDoc || List);


/***/ }),

/***/ "./node_modules/grommet/es6/components/List/doc.js":
/*!*********************************************************!*\
  !*** ./node_modules/grommet/es6/components/List/doc.js ***!
  \*********************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var sizes = ['xxsmall', 'xsmall', 'small', 'medium', 'large', 'xlarge'];
var sides = ['horizontal', 'vertical', 'top', 'bottom', 'left', 'right'];
var padShapeSides = {};
sides.forEach(function (side) {
  padShapeSides[side] = react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(sizes);
});
var borderTypes = [react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(sides), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
  color: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
    dark: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
    light: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string
  })]),
  side: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(sides),
  size: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(sizes), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string])
})];
var doc = function doc(List) {
  var DocumentedList = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(List).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('List')).description('An ordered list of items.').usage("import { List } from 'grommet';\n<List data={[...]} />").intrinsicElement('ol');
  DocumentedList.propTypes = _extends({}, _utils__WEBPACK_IMPORTED_MODULE_1__["genericProps"], {
    as: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description('The DOM tag or react component to use for the element.').defaultValue('ul'),
    background: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string)]).description("Item background. An array value indicates that items should have\n      different backgrounds, modulo the array index."),
    border: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType(borderTypes).description("Item border."),
    data: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({})])).description('Array of data objects.'),
    children: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Function that will be called when each data item is rendered.\n      It will be passed three arguments, the individual data item, its index,\n      and an object indicating the state of the item, if any. It\n      should return a react element.\n      For example:\n      `children={(item, index, { active }) => <Box ...>{...}</Box>}`\n      "),
    itemProps: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({}).description("Item specific background, border, and pad, keyed by data index.\n      For example:\n      { 27: { background: ..., border: ..., pad: ... }},\n      where the background, border, and pad accept the same values as\n      the same named properties on List."),
    onMore: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Use this to indicate that 'data' doesn't contain all that it could.\n      It will be called when all of the data items have been rendered.\n      This might be used when the total number of items that could be retrieved\n      is more than you'd want to load into the browser. 'onMore' allows you\n      to lazily fetch more from the server only when needed."),
    onClickItem: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("When supplied, this function will be called with an event object that\n      include a 'item' property containing the data value associated with\n      the clicked item and an 'index' property containing the index in 'data'\n      of the clicked item. You should not include interactive elements, like\n      Anchor or Button inside 'primaryKey' or 'secondaryKey' as that can\n      cause confusion with overlapping interactive elements."),
    pad: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(sizes), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape(padShapeSides)]).description("Item padding."),
    primaryKey: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func]).description("When a string is supplied, it indicates the property in a data item\n      object to use to get the primary content. If a function is supplied, it\n      will be called with the current data item object and should return\n      a React element that will be rendered as the primary content."),
    secondaryKey: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func]).description("When a string is supplied, it indicates the property in a data item\n      object to use to get the secondary content. If a function is supplied, it\n      will be called with the current data item object and should return\n      a React element that will be rendered as the secondary content."),
    step: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number.description('How many items to render at a time.').defaultValue(50)
  });
  return DocumentedList;
};
var themeDoc = {
  'global.hover.background': {
    description: 'The background style when hovering over an interactive item.',
    type: 'string | { color: string, opacity: string }',
    defaultValue: "{ color: 'active', opacity: 'medium' }"
  },
  'global.hover.color': {
    description: 'The text color when hovering over an interactive item.',
    type: 'string | { dark: string, light: string }',
    defaultValue: "{ dark: 'white', light: 'black' }"
  },
  'list.extend': {
    description: 'Any additional style for the list.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'list.item.background': {
    description: 'Background color for list items.',
    type: 'string | [string]',
    defaultValue: undefined
  },
  'list.item.border': {
    description: 'Border for list items.',
    type: 'boolean | string | object',
    defaultValue: 'horizontal'
  },
  'list.item.pad': {
    description: 'Border for list items.',
    type: 'boolean | string | object',
    defaultValue: "{ horizontal: 'medium', vertical: 'small' }"
  },
  'list.item.extend': {
    description: 'Any additional style for the list items.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  }
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/List/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/grommet/es6/components/List/index.js ***!
  \***********************************************************/
/*! exports provided: List */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _List__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./List */ "./node_modules/grommet/es6/components/List/List.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "List", function() { return _List__WEBPACK_IMPORTED_MODULE_0__["List"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Main/Main.js":
/*!**********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Main/Main.js ***!
  \**********************************************************/
/*! exports provided: Main */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Main", function() { return MainWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }




var Main = function Main(_ref) {
  var rest = _extends({}, _ref);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_1__["Box"], _extends({
    as: "main",
    fill: "vertical",
    flex: "grow",
    overflow: "auto"
  }, rest));
};

var MainDoc;

if (true) {
  // eslint-disable-next-line global-require
  MainDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Main/doc.js").doc(Main);
}

var MainWrapper = MainDoc || Main;


/***/ }),

/***/ "./node_modules/grommet/es6/components/Main/doc.js":
/*!*********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Main/doc.js ***!
  \*********************************************************/
/*! exports provided: doc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");


var doc = function doc(Main) {
  var DocumentedMain = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Main).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('Main')).description('main content of a document.').usage("import { Main } from 'grommet';\n<Main />");
  return DocumentedMain;
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/Main/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Main/index.js ***!
  \***********************************************************/
/*! exports provided: Main */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Main__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Main */ "./node_modules/grommet/es6/components/Main/Main.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Main", function() { return _Main__WEBPACK_IMPORTED_MODULE_0__["Main"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Markdown/Markdown.js":
/*!******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Markdown/Markdown.js ***!
  \******************************************************************/
/*! exports provided: Markdown */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Markdown", function() { return GrommetMarkdownWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var markdown_to_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! markdown-to-jsx */ "./node_modules/markdown-to-jsx/dist/esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _Heading__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Heading */ "./node_modules/grommet/es6/components/Heading/index.js");
/* harmony import */ var _Paragraph__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Paragraph */ "./node_modules/grommet/es6/components/Paragraph/index.js");
/* harmony import */ var _Anchor__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Anchor */ "./node_modules/grommet/es6/components/Anchor/index.js");
/* harmony import */ var _Image__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Image */ "./node_modules/grommet/es6/components/Image/index.js");
/* harmony import */ var _Table__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Table */ "./node_modules/grommet/es6/components/Table/index.js");
/* harmony import */ var _TableBody__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../TableBody */ "./node_modules/grommet/es6/components/TableBody/index.js");
/* harmony import */ var _TableCell__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../TableCell */ "./node_modules/grommet/es6/components/TableCell/index.js");
/* harmony import */ var _TableFooter__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../TableFooter */ "./node_modules/grommet/es6/components/TableFooter/index.js");
/* harmony import */ var _TableHeader__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../TableHeader */ "./node_modules/grommet/es6/components/TableHeader/index.js");
/* harmony import */ var _TableRow__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../TableRow */ "./node_modules/grommet/es6/components/TableRow/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }















var GrommetMarkdown = function GrommetMarkdown(_ref) {
  var components = _ref.components,
      options = _ref.options,
      theme = _ref.theme,
      rest = _objectWithoutPropertiesLoose(_ref, ["components", "options", "theme"]);

  var heading = [1, 2, 3, 4].reduce(function (obj, level) {
    var result = _extends({}, obj);

    result["h" + level] = {
      component: _Heading__WEBPACK_IMPORTED_MODULE_3__["Heading"],
      props: {
        level: level
      }
    };
    return result;
  }, {});
  var overrides = Object(_utils__WEBPACK_IMPORTED_MODULE_2__["deepMerge"])({
    a: {
      component: _Anchor__WEBPACK_IMPORTED_MODULE_5__["Anchor"]
    },
    img: {
      component: _Image__WEBPACK_IMPORTED_MODULE_6__["Image"]
    },
    p: {
      component: _Paragraph__WEBPACK_IMPORTED_MODULE_4__["Paragraph"]
    },
    table: {
      component: _Table__WEBPACK_IMPORTED_MODULE_7__["Table"]
    },
    td: {
      component: _TableCell__WEBPACK_IMPORTED_MODULE_9__["TableCell"]
    },
    tbody: {
      component: _TableBody__WEBPACK_IMPORTED_MODULE_8__["TableBody"]
    },
    tfoot: {
      component: _TableFooter__WEBPACK_IMPORTED_MODULE_10__["TableFooter"]
    },
    th: {
      component: _TableCell__WEBPACK_IMPORTED_MODULE_9__["TableCell"]
    },
    thead: {
      component: _TableHeader__WEBPACK_IMPORTED_MODULE_11__["TableHeader"]
    },
    tr: {
      component: _TableRow__WEBPACK_IMPORTED_MODULE_12__["TableRow"]
    }
  }, heading, components, options && options.overrides);
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(markdown_to_jsx__WEBPACK_IMPORTED_MODULE_1__["default"], _extends({
    options: _extends({}, options, {
      overrides: overrides
    })
  }, rest));
};

var GrommetMarkdownDoc;

if (true) {
  // eslint-disable-next-line global-require
  GrommetMarkdownDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Markdown/doc.js").doc(GrommetMarkdown);
}

var GrommetMarkdownWrapper = GrommetMarkdownDoc || GrommetMarkdown;


/***/ }),

/***/ "./node_modules/grommet/es6/components/Markdown/doc.js":
/*!*************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Markdown/doc.js ***!
  \*************************************************************/
/*! exports provided: doc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");


var doc = function doc(Markdown) {
  var DocumentedMarkdown = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Markdown).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('Markdown')).description('Markdown formatting using Grommet components.').usage("import { Markdown } from 'grommet';\n      <Markdown>{content}</Markdown>").intrinsicElement('div');
  DocumentedMarkdown.propTypes = {
    components: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({}).description("Custom components and props to override html elements such as 'img'\n      or 'pre'. By default 'a', 'p', 'img', and table elements are overridden\n      with grommet components")
  };
  return DocumentedMarkdown;
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/Markdown/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Markdown/index.js ***!
  \***************************************************************/
/*! exports provided: Markdown */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Markdown__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Markdown */ "./node_modules/grommet/es6/components/Markdown/Markdown.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Markdown", function() { return _Markdown__WEBPACK_IMPORTED_MODULE_0__["Markdown"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/MaskedInput/MaskedInput.js":
/*!************************************************************************!*\
  !*** ./node_modules/grommet/es6/components/MaskedInput/MaskedInput.js ***!
  \************************************************************************/
/*! exports provided: MaskedInput */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MaskedInput", function() { return MaskedInputWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var _contexts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../contexts */ "./node_modules/grommet/es6/contexts/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Button */ "./node_modules/grommet/es6/components/Button/index.js");
/* harmony import */ var _Drop__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Drop */ "./node_modules/grommet/es6/components/Drop/index.js");
/* harmony import */ var _Keyboard__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Keyboard */ "./node_modules/grommet/es6/components/Keyboard/index.js");
/* harmony import */ var _hocs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../hocs */ "./node_modules/grommet/es6/components/hocs.js");
/* harmony import */ var _StyledMaskedInput__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./StyledMaskedInput */ "./node_modules/grommet/es6/components/MaskedInput/StyledMaskedInput.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }












var parseValue = function parseValue(mask, value) {
  // break the value up into mask parts
  var valueParts = []; // { part, beginIndex, endIndex }

  var valueIndex = 0;
  var maskIndex = 0;

  while (value !== undefined && valueIndex < value.length && maskIndex < mask.length) {
    var item = mask[maskIndex];
    var found = void 0;

    if (item.fixed) {
      var length = item.fixed.length;
      valueParts.push({
        part: item.fixed,
        beginIndex: valueIndex,
        endIndex: valueIndex + length - 1
      });
      var part = value.slice(valueIndex, valueIndex + length);

      if (part === item.fixed) {
        valueIndex += length;
      }

      maskIndex += 1;
      found = true;
    } else if (item.options) {
      // reverse assuming larger is later
      found = item.options.slice(0).reverse() // eslint-disable-next-line no-loop-func
      .some(function (option) {
        var length = option.length;
        var part = value.slice(valueIndex, valueIndex + length);

        if (part === option) {
          valueParts.push({
            part: part,
            beginIndex: valueIndex,
            endIndex: valueIndex + length - 1
          });
          valueIndex += length;
          maskIndex += 1;
          return true;
        }

        return false;
      });
    }

    if (!found) {
      if (item.regexp) {
        var minLength = Array.isArray(item.length) && item.length[0] || item.length || 1;
        var maxLength = Array.isArray(item.length) && item.length[1] || item.length || value.length - valueIndex;
        var _length = maxLength;

        while (!found && _length >= minLength) {
          var _part = value.slice(valueIndex, valueIndex + _length);

          if (item.regexp.test(_part)) {
            valueParts.push({
              part: _part,
              beginIndex: valueIndex,
              endIndex: valueIndex + _length - 1
            });
            valueIndex += _length;
            maskIndex += 1;
            found = true;
          }

          _length -= 1;
        }

        if (!found) {
          valueIndex = value.length;
        }
      } else {
        var _length2 = Array.isArray(item.length) ? item.length[1] : item.length || value.length - valueIndex;

        var _part2 = value.slice(valueIndex, valueIndex + _length2);

        valueParts.push({
          part: _part2,
          beginIndex: valueIndex,
          endIndex: valueIndex + _length2 - 1
        });
        valueIndex += _length2;
        maskIndex += 1;
      }
    }
  }

  return valueParts;
};

var MaskedInput =
/*#__PURE__*/
function (_Component) {
  _inheritsLoose(MaskedInput, _Component);

  function MaskedInput() {
    var _this;

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _Component.call.apply(_Component, [this].concat(args)) || this;

    _defineProperty(_assertThisInitialized(_this), "state", {});

    _defineProperty(_assertThisInitialized(_this), "inputRef", react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef());

    _defineProperty(_assertThisInitialized(_this), "dropRef", react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef());

    _defineProperty(_assertThisInitialized(_this), "locateCaret", function () {
      // leave time for caret to be placed after receiving focus
      clearTimeout(_this.caretTimeout);
      _this.caretTimeout = setTimeout(function () {
        var mask = _this.props.mask;
        var _this$state = _this.state,
            activeMaskIndex = _this$state.activeMaskIndex,
            valueParts = _this$state.valueParts;

        if (_this.inputRef.current) {
          // determine which mask element the caret is at
          var caretIndex = _this.inputRef.current.selectionStart;
          var maskIndex;
          valueParts.some(function (part, index) {
            if (part.beginIndex <= caretIndex && part.endIndex >= caretIndex) {
              maskIndex = index;
              return true;
            }

            return false;
          });

          if (maskIndex === undefined && valueParts.length < mask.length) {
            maskIndex = valueParts.length; // first unused one
          }

          if (maskIndex && mask[maskIndex].fixed) {
            maskIndex -= 1; // fixed mask parts are never "active"
          }

          if (maskIndex !== activeMaskIndex) {
            // eslint-disable-next-line react/no-did-update-set-state
            _this.setState({
              activeMaskIndex: maskIndex,
              activeOptionIndex: -1,
              showDrop: maskIndex >= 0 && mask[maskIndex].options && true
            });
          }
        }
      }, 10); // 10ms empirically chosen
    });

    _defineProperty(_assertThisInitialized(_this), "onFocus", function (event) {
      var onFocus = _this.props.onFocus;

      _this.locateCaret();

      if (onFocus) {
        onFocus(event);
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onBlur", function (event) {
      // delay so we don't remove the drop before Button events can be processed
      var onBlur = _this.props.onBlur;
      clearTimeout(_this.blurTimeout);
      _this.blurTimeout = setTimeout(function () {
        var showDrop = _this.state.showDrop;

        if (showDrop && _this.dropRef.current && document.activeElement !== _this.inputRef.current && !_this.dropRef.current.parentNode.contains(document.activeElement)) {
          _this.setState({
            activeMaskIndex: undefined,
            showDrop: false
          });
        }
      }, 10); // 10ms empirically chosen

      if (onBlur) {
        onBlur(event);
      }
    });

    _defineProperty(_assertThisInitialized(_this), "setValue", function (nextValue) {
      // Calling set value function directly on input because React library
      // overrides setter `event.target.value =` and loses original event
      // target fidelity.
      // https://stackoverflow.com/a/46012210 &&
      // https://github.com/grommet/grommet/pull/3171#discussion_r296415239
      var nativeInputValueSetter = Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype, 'value').set;
      nativeInputValueSetter.call(_this.inputRef.current, nextValue);
      var event = new Event('input', {
        bubbles: true
      });

      _this.inputRef.current.dispatchEvent(event);
    });

    _defineProperty(_assertThisInitialized(_this), "onChange", function (event) {
      var _this$props = _this.props,
          onChange = _this$props.onChange,
          mask = _this$props.mask;
      var value = event.target.value; // Align with the mask.

      var valueParts = parseValue(mask, value);
      var nextValue = valueParts.map(function (part) {
        return part.part;
      }).join('');

      if (value === nextValue) {
        if (onChange) {
          onChange(event);
        }
      } else {
        _this.setValue(nextValue);
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onOption", function (option) {
      return function () {
        var mask = _this.props.mask;
        var _this$state2 = _this.state,
            activeMaskIndex = _this$state2.activeMaskIndex,
            valueParts = _this$state2.valueParts;
        var nextValueParts = [].concat(valueParts);
        nextValueParts[activeMaskIndex] = {
          part: option
        }; // add any fixed parts that follow

        var index = activeMaskIndex + 1;

        while (index < mask.length && !nextValueParts[index] && mask[index].fixed) {
          nextValueParts[index] = {
            part: mask[index].fixed
          };
          index += 1;
        }

        var nextValue = nextValueParts.map(function (part) {
          return part.part;
        }).join('');

        _this.setValue(nextValue); // restore focus to input


        _this.inputRef.current.focus();
      };
    });

    _defineProperty(_assertThisInitialized(_this), "onNextOption", function (event) {
      var mask = _this.props.mask;
      var _this$state3 = _this.state,
          activeMaskIndex = _this$state3.activeMaskIndex,
          activeOptionIndex = _this$state3.activeOptionIndex;
      var item = mask[activeMaskIndex];

      if (item && item.options) {
        event.preventDefault();
        var index = Math.min(activeOptionIndex + 1, item.options.length - 1);

        _this.setState({
          activeOptionIndex: index
        });
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onPreviousOption", function (event) {
      var mask = _this.props.mask;
      var _this$state4 = _this.state,
          activeMaskIndex = _this$state4.activeMaskIndex,
          activeOptionIndex = _this$state4.activeOptionIndex;

      if (activeMaskIndex >= 0 && mask[activeMaskIndex].options) {
        event.preventDefault();
        var index = Math.max(activeOptionIndex - 1, 0);

        _this.setState({
          activeOptionIndex: index
        });
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onSelectOption", function (event) {
      var mask = _this.props.mask;
      var _this$state5 = _this.state,
          activeMaskIndex = _this$state5.activeMaskIndex,
          activeOptionIndex = _this$state5.activeOptionIndex;

      if (activeMaskIndex >= 0 && activeOptionIndex >= 0) {
        event.preventDefault();
        var option = mask[activeMaskIndex].options[activeOptionIndex];

        _this.onOption(option)();
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onEsc", function (event) {
      var showDrop = _this.state.showDrop;

      if (showDrop) {
        // we have to stop both synthetic events and native events
        // drop and layer should not close by pressing esc on this input
        event.stopPropagation();
        event.nativeEvent.stopImmediatePropagation();

        _this.setState({
          showDrop: false
        });
      }
    });

    _defineProperty(_assertThisInitialized(_this), "renderPlaceholder", function () {
      var mask = _this.props.mask;
      return mask.map(function (item) {
        return item.placeholder || item.fixed;
      }).join('');
    });

    return _this;
  }

  MaskedInput.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {
    var mask = nextProps.mask,
        value = nextProps.value;
    var priorMask = prevState.priorMask,
        priorValue = prevState.priorValue;

    if (priorMask !== mask || priorValue !== value) {
      var valueParts = parseValue(mask, value);
      return {
        priorMask: mask,
        priorValue: value,
        valueParts: valueParts
      };
    }

    return null;
  };

  var _proto = MaskedInput.prototype;

  _proto.componentDidUpdate = function componentDidUpdate() {
    var focus = this.props.focus;

    if (focus) {
      this.locateCaret();
    }
  };

  _proto.componentWillUnmount = function componentWillUnmount() {
    clearTimeout(this.caretTimeout);
    clearTimeout(this.blurTimeout);
  };

  _proto.render = function render() {
    var _this2 = this;

    var _this$props2 = this.props,
        defaultValue = _this$props2.defaultValue,
        forwardRef = _this$props2.forwardRef,
        id = _this$props2.id,
        placeholder = _this$props2.placeholder,
        plain = _this$props2.plain,
        mask = _this$props2.mask,
        value = _this$props2.value,
        onChange = _this$props2.onChange,
        onKeyDown = _this$props2.onKeyDown,
        propsTheme = _this$props2.theme,
        rest = _objectWithoutPropertiesLoose(_this$props2, ["defaultValue", "forwardRef", "id", "placeholder", "plain", "mask", "value", "onChange", "onKeyDown", "theme"]);

    var theme = this.context || propsTheme;
    var _this$state6 = this.state,
        activeMaskIndex = _this$state6.activeMaskIndex,
        activeOptionIndex = _this$state6.activeOptionIndex,
        showDrop = _this$state6.showDrop;
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledMaskedInput__WEBPACK_IMPORTED_MODULE_9__["StyledMaskedInputContainer"], {
      plain: plain
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Keyboard__WEBPACK_IMPORTED_MODULE_7__["Keyboard"], {
      onEsc: this.onEsc,
      onTab: this.onTab,
      onLeft: this.locateCaret,
      onRight: this.locateCaret,
      onUp: this.onPreviousOption,
      onDown: this.onNextOption,
      onEnter: this.onSelectOption,
      onKeyDown: onKeyDown
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledMaskedInput__WEBPACK_IMPORTED_MODULE_9__["StyledMaskedInput"], _extends({
      id: id,
      ref: function ref(node) {
        _this2.inputRef.current = node;

        if (forwardRef) {
          if (typeof forwardRef === 'object') {
            forwardRef.current = node;
          } else {
            forwardRef(node);
          }
        }
      },
      autoComplete: "off",
      plain: plain,
      placeholder: placeholder || this.renderPlaceholder()
    }, rest, {
      defaultValue: defaultValue,
      value: value,
      theme: theme,
      onFocus: this.onFocus,
      onBlur: this.onBlur,
      onChange: this.onChange
    }))), showDrop && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Drop__WEBPACK_IMPORTED_MODULE_6__["Drop"], {
      id: id ? "masked-input-drop__" + id : undefined,
      align: {
        top: 'bottom',
        left: 'left'
      },
      responsive: false,
      target: this.inputRef.current
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"], {
      ref: this.dropRef
    }, mask[activeMaskIndex].options.map(function (option, index) {
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"], {
        key: option,
        flex: false
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_5__["Button"], {
        tabIndex: "-1",
        onClick: _this2.onOption(option),
        onMouseOver: function onMouseOver() {
          return _this2.setState({
            activeOptionIndex: index
          });
        },
        onFocus: function onFocus() {},
        active: index === activeOptionIndex,
        hoverIndicator: "background"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"], {
        pad: {
          horizontal: 'small',
          vertical: 'xsmall'
        }
      }, option)));
    }))));
  };

  return MaskedInput;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

_defineProperty(MaskedInput, "contextType", _contexts__WEBPACK_IMPORTED_MODULE_2__["ThemeContext"]);

_defineProperty(MaskedInput, "defaultProps", {
  mask: []
});

Object.setPrototypeOf(MaskedInput.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_3__["defaultProps"]);
var MaskedInputDoc;

if (true) {
  // eslint-disable-next-line global-require
  MaskedInputDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/MaskedInput/doc.js").doc(MaskedInput);
}

var MaskedInputWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(Object(_hocs__WEBPACK_IMPORTED_MODULE_8__["withFocus"])({
  focusWithMouse: true
}), _hocs__WEBPACK_IMPORTED_MODULE_8__["withForwardRef"])(MaskedInputDoc || MaskedInput);


/***/ }),

/***/ "./node_modules/grommet/es6/components/MaskedInput/StyledMaskedInput.js":
/*!******************************************************************************!*\
  !*** ./node_modules/grommet/es6/components/MaskedInput/StyledMaskedInput.js ***!
  \******************************************************************************/
/*! exports provided: StyledMaskedInput, StyledMaskedInputContainer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledMaskedInput", function() { return StyledMaskedInput; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledMaskedInputContainer", function() { return StyledMaskedInputContainer; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");



var sizeStyle = function sizeStyle(props) {
  var data = props.theme.text[props.size];
  return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["font-size:", ";line-height:", ";"], data.size, data.height);
};

var plainStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["border:none;"]);
var StyledMaskedInput = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].input.withConfig({
  displayName: "StyledMaskedInput",
  componentId: "sc-99vkfa-0"
})(["", " width:100%;", " ", " ", " &::-moz-focus-inner{border:none;outline:none;}", ";", ";"], _utils__WEBPACK_IMPORTED_MODULE_1__["inputStyle"], function (props) {
  return props.size && sizeStyle(props);
}, function (props) {
  return props.plain && plainStyle;
}, _utils__WEBPACK_IMPORTED_MODULE_1__["placeholderStyle"], function (props) {
  return props.focus && !props.plain && _utils__WEBPACK_IMPORTED_MODULE_1__["focusStyle"];
}, function (props) {
  return props.theme.maskedInput && props.theme.maskedInput.extend;
});
var StyledMaskedInputContainer = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledMaskedInput__StyledMaskedInputContainer",
  componentId: "sc-99vkfa-1"
})(["position:relative;width:100%;"]);

/***/ }),

/***/ "./node_modules/grommet/es6/components/MaskedInput/doc.js":
/*!****************************************************************!*\
  !*** ./node_modules/grommet/es6/components/MaskedInput/doc.js ***!
  \****************************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var doc = function doc(MaskedInput) {
  var DocumentedMaskedInput = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(MaskedInput).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('MaskedInput')).description('An input field with formalized syntax.').usage("import { MaskedInput } from 'grommet';\n<MaskedInput id='item' name='item' />").intrinsicElement('input');
  DocumentedMaskedInput.propTypes = {
    id: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description('The id attribute of the input.'),
    name: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description('The name attribute of the input.'),
    onChange: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Function that will be called when the user types or pastes text."),
    onBlur: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Function that will be called when the user leaves the field."),
    mask: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      length: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number)]),
      fixed: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
      options: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number])),
      regexp: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({}) // RegExp

    })).description("Describes the structure of the mask. If a regexp is provided, it should\n      allow both the final full string element as well as partial strings\n      as the user types characters one by one."),
    size: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['small', 'medium', 'large', 'xlarge']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description('The size of the text.'),
    value: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number]).description("What text to put in the input. The caller should ensure that it\n      is initially valid with respect to the mask.")
  };
  return DocumentedMaskedInput;
};
var themeDoc = _extends({
  'global.hover.background': {
    description: 'The background style when hovering.',
    type: 'string | { color: string, opacity: string }',
    defaultValue: "{ color: 'active', opacity: 'medium' }"
  },
  'global.hover.color': {
    description: 'The text color when hovering.',
    type: 'string | { dark: string, light: string }',
    defaultValue: "{ dark: 'white', light: 'black' }"
  },
  'maskedInput.extend': {
    description: 'Any additional style for MaskedInput.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'text.medium': {
    description: 'The size of the text for MaskedInput.',
    type: 'string',
    defaultValue: '18px'
  }
}, _utils__WEBPACK_IMPORTED_MODULE_1__["themeDocUtils"].focusStyle, {}, _utils__WEBPACK_IMPORTED_MODULE_1__["themeDocUtils"].placeholderStyle, {}, _utils__WEBPACK_IMPORTED_MODULE_1__["themeDocUtils"].inputStyle);

/***/ }),

/***/ "./node_modules/grommet/es6/components/MaskedInput/index.js":
/*!******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/MaskedInput/index.js ***!
  \******************************************************************/
/*! exports provided: MaskedInput */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _MaskedInput__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MaskedInput */ "./node_modules/grommet/es6/components/MaskedInput/MaskedInput.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MaskedInput", function() { return _MaskedInput__WEBPACK_IMPORTED_MODULE_0__["MaskedInput"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Menu/Menu.js":
/*!**********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Menu/Menu.js ***!
  \**********************************************************/
/*! exports provided: Menu */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Menu", function() { return MenuWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var react_desc_lib_PropTypes__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-desc/lib/PropTypes */ "./node_modules/react-desc/lib/PropTypes.js");
/* harmony import */ var react_desc_lib_PropTypes__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_desc_lib_PropTypes__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Button */ "./node_modules/grommet/es6/components/Button/index.js");
/* harmony import */ var _DropButton__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../DropButton */ "./node_modules/grommet/es6/components/DropButton/index.js");
/* harmony import */ var _Keyboard__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../Keyboard */ "./node_modules/grommet/es6/components/Keyboard/index.js");
/* harmony import */ var _Text__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../Text */ "./node_modules/grommet/es6/components/Text/index.js");
/* harmony import */ var _hocs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../hocs */ "./node_modules/grommet/es6/components/hocs.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }













var ContainerBox = Object(styled_components__WEBPACK_IMPORTED_MODULE_2__["default"])(_Box__WEBPACK_IMPORTED_MODULE_5__["Box"]).withConfig({
  displayName: "Menu__ContainerBox",
  componentId: "sc-17fcys9-0"
})(["max-height:inherit;@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){width:100%;}", ";"], function (props) {
  return props.theme.menu.extend;
});
/* Notes on keyboard interactivity (based on W3) // For details reference: https://www.w3.org/TR/wai-aria-practices/#menu

To open menu when menu button is focused:
- Space/Enter/Up arrow/Down arrow will open menu

To navigate within menu:
- Up/down arrow keys can be used and will loop through options
(keeping focus within the Menu)
- Tab can be used, but once the last menu item is reached, Tab will close the 
Menu and continue through page content.

To close the menu:
- Tabbing beyond the first or last menu item.
- Esc will close the menu
- Select a menu item

To make a selection:
- Enter key is pressed.
- Space is pressed.
*/

var Menu = function Menu(props) {
  var a11yTitle = props.a11yTitle,
      children = props.children,
      disabled = props.disabled,
      dropAlign = props.dropAlign,
      dropBackground = props.dropBackground,
      dropProps = props.dropProps,
      dropTarget = props.dropTarget,
      forwardRef = props.forwardRef,
      justifyContent = props.justifyContent,
      icon = props.icon,
      items = props.items,
      label = props.label,
      messages = props.messages,
      onKeyDown = props.onKeyDown,
      open = props.open,
      plain = props.plain,
      size = props.size,
      theme = props.theme,
      rest = _objectWithoutPropertiesLoose(props, ["a11yTitle", "children", "disabled", "dropAlign", "dropBackground", "dropProps", "dropTarget", "forwardRef", "justifyContent", "icon", "items", "label", "messages", "onKeyDown", "open", "plain", "size", "theme"]);

  var MenuIcon = theme.menu.icons.down;
  var iconColor = Object(_utils__WEBPACK_IMPORTED_MODULE_11__["normalizeColor"])('control', theme);
  var align = dropProps.align || dropAlign;
  var controlButtonIndex;

  if (align.top === 'top') {
    controlButtonIndex = -1;
  } else if (align.bottom === 'bottom') {
    controlButtonIndex = items.length;
  } else {
    controlButtonIndex = undefined;
  }

  var buttonRefs = {};
  var constants = {
    none: 'none',
    tab: 9,
    // Menu control button included on top of menu items
    controlTop: align.top === 'top' || undefined,
    // Menu control button included on the bottom of menu items
    controlBottom: align.bottom === 'bottom' || undefined,
    controlButtonIndex: controlButtonIndex
  };

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(constants.none),
      activeItemIndex = _useState[0],
      setActiveItemIndex = _useState[1];

  var _useState2 = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(open || false),
      isOpen = _useState2[0],
      setOpen = _useState2[1];

  var onDropClose = function onDropClose() {
    setActiveItemIndex(constants.none);
    setOpen(false);
  };

  var onDropOpen = function onDropOpen() {
    setOpen(true);
  };

  var onSelectMenuItem = function onSelectMenuItem(event) {
    if (isOpen) {
      if (activeItemIndex >= 0) {
        event.preventDefault();
        event.stopPropagation();
        buttonRefs[activeItemIndex].click();
      }
    } else {
      onDropOpen();
    }
  };

  var isTab = function isTab(event) {
    return event.keyCode === constants.tab || event.which === constants.tab;
  };

  var onNextMenuItem = function onNextMenuItem(event) {
    event.preventDefault();

    if (!isOpen) {
      onDropOpen();
    } else if (isTab(event) && (!constants.controlBottom && activeItemIndex === items.length - 1 || constants.controlBottom && activeItemIndex === controlButtonIndex)) {
      // User has reached end of the menu, this tab will close
      // the menu drop because there are no more "next items" to access
      onDropClose();
    } else {
      var index;

      if ( // This checks if the user has reached the end of the menu.
      // In the case the the menu control button is located at the
      // bottom of the menu, it checks if the user has reached the button.
      // Otherwise, it checks if the user is at the last menu item.
      constants.controlBottom && activeItemIndex === controlButtonIndex || !constants.controlBottom && activeItemIndex === items.length - 1 || activeItemIndex === constants.none) {
        // place focus on the first menu item
        index = 0;
      } else {
        index = activeItemIndex + 1;
      }

      setActiveItemIndex(index);
      buttonRefs[index].focus();
    }
  };

  var onPreviousMenuItem = function onPreviousMenuItem(event) {
    event.preventDefault();

    if (!isOpen) {
      onDropOpen();
    } else if (isTab(event) && (constants.controlTop && activeItemIndex === controlButtonIndex || !constants.controlTop && activeItemIndex - 1 < 0)) {
      // User has reached beginning of the menu, this tab will close
      // the menu drop because there are no more "previous items" to access
      onDropClose();
    } else {
      var index;

      if (activeItemIndex - 1 < 0) {
        if (constants.controlTop && activeItemIndex - 1 === controlButtonIndex) {
          index = items.length;
        } else {
          index = items.length - 1;
        }
      } else {
        index = activeItemIndex - 1;
      }

      setActiveItemIndex(index);
      buttonRefs[index].focus();
    }
  };

  var content = children || react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_5__["Box"], {
    direction: "row",
    justify: justifyContent,
    align: "center",
    pad: "small",
    gap: label && icon !== false ? 'small' : undefined
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Text__WEBPACK_IMPORTED_MODULE_9__["Text"], {
    size: size
  }, label), icon !== false ? icon !== true && icon || react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(MenuIcon, {
    color: iconColor,
    size: size
  }) : null);
  var controlMirror = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_5__["Box"], {
    flex: false
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_6__["Button"], {
    ref: function ref(r) {
      // make it accessible at the end of all menu items
      buttonRefs[items.length] = r;
    },
    a11yTitle: a11yTitle || messages.closeMenu || 'Close Menu',
    active: activeItemIndex === controlButtonIndex,
    focusIndicator: false,
    hoverIndicator: "background",
    plain: plain,
    onClick: onDropClose,
    onFocus: function onFocus() {
      return setActiveItemIndex(controlButtonIndex);
    } // On first tab into menu, the control button should not
    // be able to receive tab focus because the focus should
    // go to the first menu item instead.
    ,
    tabIndex: activeItemIndex === constants.none ? '-1' : undefined
  }, typeof content === 'function' ? function () {
    return content(_extends({}, props, {
      drop: true
    }));
  } : content));
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Keyboard__WEBPACK_IMPORTED_MODULE_8__["Keyboard"], {
    onDown: onNextMenuItem,
    onUp: onPreviousMenuItem,
    onEnter: onSelectMenuItem,
    onSpace: onSelectMenuItem,
    onEsc: onDropClose,
    onTab: onDropClose,
    onKeyDown: onKeyDown
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_DropButton__WEBPACK_IMPORTED_MODULE_7__["DropButton"], _extends({
    ref: forwardRef
  }, rest, {
    a11yTitle: a11yTitle || messages.openMenu || 'Open Menu',
    disabled: disabled,
    dropAlign: align,
    dropTarget: dropTarget,
    plain: plain,
    open: isOpen,
    onOpen: onDropOpen,
    onClose: onDropClose,
    dropContent: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Keyboard__WEBPACK_IMPORTED_MODULE_8__["Keyboard"], {
      onTab: function onTab(event) {
        return event.shiftKey ? onPreviousMenuItem(event) : onNextMenuItem(event);
      },
      onEnter: onSelectMenuItem
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ContainerBox, {
      background: dropBackground || theme.menu.background
    }, align.top === 'top' ? controlMirror : undefined, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_5__["Box"], {
      overflow: "auto"
    }, items.map(function (item, index) {
      return (// eslint-disable-next-line react/no-array-index-key
        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_5__["Box"], {
          key: index,
          flex: false
        }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_6__["Button"], _extends({
          ref: function ref(r) {
            buttonRefs[index] = r;
          },
          onFocus: function onFocus() {
            return setActiveItemIndex(index);
          },
          active: activeItemIndex === index,
          hoverIndicator: "background",
          focusIndicator: false
        }, _extends({}, item, {
          icon: undefined,
          label: undefined
        }), {
          onClick: function onClick() {
            if (item.onClick) {
              item.onClick.apply(item, arguments);
            }

            if (item.close !== false) {
              onDropClose();
            }
          }
        }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_5__["Box"], {
          align: "start",
          pad: "small",
          direction: "row",
          gap: item.gap
        }, item.reverse && item.label, item.icon, !item.reverse && item.label)))
      );
    })), align.bottom === 'bottom' ? controlMirror : undefined))
  }), content));
};

Menu.propTypes = {
  dropAlign: react_desc_lib_PropTypes__WEBPACK_IMPORTED_MODULE_3___default.a.shape({
    top: react_desc_lib_PropTypes__WEBPACK_IMPORTED_MODULE_3___default.a.string,
    left: react_desc_lib_PropTypes__WEBPACK_IMPORTED_MODULE_3___default.a.string
  }),
  dropProps: react_desc_lib_PropTypes__WEBPACK_IMPORTED_MODULE_3___default.a.shape({}),
  items: react_desc_lib_PropTypes__WEBPACK_IMPORTED_MODULE_3___default.a.arrayOf({}),
  messages: react_desc_lib_PropTypes__WEBPACK_IMPORTED_MODULE_3___default.a.shape({
    openMenu: react_desc_lib_PropTypes__WEBPACK_IMPORTED_MODULE_3___default.a.string,
    closeMenu: react_desc_lib_PropTypes__WEBPACK_IMPORTED_MODULE_3___default.a.string
  }),
  justifyContent: react_desc_lib_PropTypes__WEBPACK_IMPORTED_MODULE_3___default.a.string
};
Menu.defaultProps = {
  dropAlign: {
    top: 'top',
    left: 'left'
  },
  dropProps: {},
  items: [],
  messages: {
    openMenu: 'Open Menu',
    closeMenu: 'Close Menu'
  },
  justifyContent: 'start'
};
Menu.displayName = 'Menu';
Object.setPrototypeOf(Menu.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_4__["defaultProps"]);
var MenuDoc;

if (true) {
  MenuDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Menu/doc.js").doc(Menu); // eslint-disable-line global-require
}

var MenuWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(styled_components__WEBPACK_IMPORTED_MODULE_2__["withTheme"], _hocs__WEBPACK_IMPORTED_MODULE_10__["withForwardRef"])(MenuDoc || Menu);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Menu/doc.js":
/*!*********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Menu/doc.js ***!
  \*********************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var VERTICAL_ALIGN_OPTIONS = ['top', 'bottom'];
var HORIZONTAL_ALIGN_OPTIONS = ['right', 'left'];
var doc = function doc(Menu) {
  var DocumentedMenu = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Menu).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('Menu')).description("A control that opens a Drop containing plain Buttons.").details("The labels and behavior of the contained Buttons are described\n      via the `items` property.\n      You can provide a single function child that will be called with\n      'hover', 'focus', and 'drop' keys. This allows you to customize\n      the rendering of the Menu button in those cases.").usage("import { Menu } from 'grommet';\n<Menu />").intrinsicElement('button');
  DocumentedMenu.propTypes = _extends({}, _utils__WEBPACK_IMPORTED_MODULE_1__["genericProps"], {
    disabled: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Whether the menu should be disabled.').defaultValue(false),
    dropAlign: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      top: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(VERTICAL_ALIGN_OPTIONS),
      bottom: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(VERTICAL_ALIGN_OPTIONS),
      left: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(HORIZONTAL_ALIGN_OPTIONS),
      right: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(HORIZONTAL_ALIGN_OPTIONS)
    }).description("Where to place the drop down.\nThe keys correspond to a side of the drop down.\nThe values correspond to a side of the control. For instance,\n{left: 'left', top: 'bottom'} would align the left edges and the top of\nthe drop down to the bottom of the control. At most one of left or right and\none of top or bottom should be specified.").defaultValue({
      top: 'top',
      left: 'left'
    }),
    dropBackground: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      color: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
      opacity: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['weak', 'medium', 'strong'])])
    })]).description('Background color when drop is active'),
    dropTarget: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object.description("Target where the drop will be aligned to. This should be\n      a React reference. Typically, this is not required as the drop will be\n      aligned to the Menu itself by default."),
    dropProps: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object.description('Any valid Drop prop.'),
    justifyContent: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['start', 'center', 'end', 'between', 'around', 'stretch']).description('How to align the contents along the row axis.').defaultValue('start'),
    icon: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].node]).description('Indicates the icon shown as a control to open it.'),
    items: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object).description("Menu items to be placed inside the drop down.\nThe object values can be any Button prop, for example: label and onClick.").isRequired,
    label: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].node]).description('Indicates the label shown as a control to open it.'),
    messages: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      closeMenu: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
      openMenu: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string
    }).description("Custom messages. Used for accessibility by screen readers. \n      These values will be overridden if an a11yTitle is provided.").defaultValue({
      openMenu: 'Open Menu',
      closeMenu: 'Close Menu'
    }),
    open: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Whether the state of the component should be open').defaultValue(false),
    size: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['small', 'medium', 'large', 'xlarge']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description('The size of the menu.').defaultValue('medium')
  });
  return DocumentedMenu;
};
var themeDoc = {
  'global.colors.control': {
    description: 'The color to use for the icon.',
    type: 'string | { dark: string, light: string }',
    defaultValue: undefined
  },
  'menu.background': {
    description: 'The color for the background of the menu Drop when it is open.',
    type: 'string',
    defaultValue: undefined
  },
  'menu.extend': {
    description: 'Any additional style for the Menu.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'menu.icons.down': {
    description: 'The icon to show to the right of the label.',
    type: 'React.Element',
    defaultValue: '<FormDown />'
  }
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/Menu/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Menu/index.js ***!
  \***********************************************************/
/*! exports provided: Menu */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Menu__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Menu */ "./node_modules/grommet/es6/components/Menu/Menu.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Menu", function() { return _Menu__WEBPACK_IMPORTED_MODULE_0__["Menu"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Meter/Bar.js":
/*!**********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Meter/Bar.js ***!
  \**********************************************************/
/*! exports provided: Bar */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Bar", function() { return BarWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _StyledMeter__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./StyledMeter */ "./node_modules/grommet/es6/components/Meter/StyledMeter.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./utils */ "./node_modules/grommet/es6/components/Meter/utils.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }









var Bar = function Bar(props) {
  var background = props.background,
      max = props.max,
      round = props.round,
      size = props.size,
      theme = props.theme,
      thickness = props.thickness,
      values = props.values,
      rest = _objectWithoutPropertiesLoose(props, ["background", "max", "round", "size", "theme", "thickness", "values"]);

  var width = size === 'full' ? 288 : Object(_utils__WEBPACK_IMPORTED_MODULE_4__["parseMetricToNum"])(theme.global.size[size] || size);
  var height = Object(_utils__WEBPACK_IMPORTED_MODULE_4__["parseMetricToNum"])(theme.global.edgeSize[thickness] || thickness); // account for the round cap, if any

  var capOffset = round ? height / 2 : 0;
  var mid = height / 2;
  var someHighlight = (values || []).some(function (v) {
    return v.highlight;
  });
  var start = capOffset;
  var paths = (values || []).filter(function (v) {
    return v.value > 0;
  }).map(function (valueArg, index) {
    var color = valueArg.color,
        highlight = valueArg.highlight,
        label = valueArg.label,
        onHover = valueArg.onHover,
        value = valueArg.value,
        pathRest = _objectWithoutPropertiesLoose(valueArg, ["color", "highlight", "label", "onHover", "value"]);

    var key = "p-" + index;
    var delta = value * (width - 2 * capOffset) / max;
    var d = "M " + start + "," + mid + " L " + (start + delta) + "," + mid;
    var colorName = color || Object(_utils__WEBPACK_IMPORTED_MODULE_6__["defaultColor"])(index, theme, values ? values.length : 0);
    var hoverProps;

    if (onHover) {
      hoverProps = {
        onMouseOver: function onMouseOver() {
          return onHover(true);
        },
        onMouseLeave: function onMouseLeave() {
          return onHover(false);
        }
      };
    }

    start += delta;
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path", _extends({
      key: key,
      d: d,
      fill: "none"
    }, Object(_utils__WEBPACK_IMPORTED_MODULE_6__["strokeProps"])(someHighlight && !highlight ? background : colorName, theme), {
      strokeWidth: height,
      strokeLinecap: round ? 'round' : 'butt'
    }, hoverProps, pathRest));
  }).reverse(); // reverse so the caps looks right

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledMeter__WEBPACK_IMPORTED_MODULE_5__["StyledMeter"], _extends({
    viewBox: "0 0 " + width + " " + height,
    preserveAspectRatio: "none",
    width: size === 'full' ? '100%' : width,
    height: height,
    round: round ? {
      size: thickness
    } : undefined
  }, rest), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path", _extends({
    d: "M " + capOffset + "," + mid + " L " + (width - capOffset) + "," + mid,
    fill: "none"
  }, Object(_utils__WEBPACK_IMPORTED_MODULE_6__["strokeProps"])(background, theme), {
    strokeWidth: height,
    strokeLinecap: round ? 'round' : 'square'
  })), paths);
};

Bar.defaultProps = {
  background: 'light-1'
};
Object.setPrototypeOf(Bar.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_3__["defaultProps"]);
var BarWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(styled_components__WEBPACK_IMPORTED_MODULE_2__["withTheme"])(Bar);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Meter/Circle.js":
/*!*************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Meter/Circle.js ***!
  \*************************************************************/
/*! exports provided: Circle */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Circle", function() { return CircleWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _StyledMeter__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./StyledMeter */ "./node_modules/grommet/es6/components/Meter/StyledMeter.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./utils */ "./node_modules/grommet/es6/components/Meter/utils.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }









var Circle = function Circle(props) {
  var background = props.background,
      max = props.max,
      round = props.round,
      size = props.size,
      theme = props.theme,
      thickness = props.thickness,
      values = props.values,
      rest = _objectWithoutPropertiesLoose(props, ["background", "max", "round", "size", "theme", "thickness", "values"]);

  var width = size === 'full' ? 288 : Object(_utils__WEBPACK_IMPORTED_MODULE_4__["parseMetricToNum"])(theme.global.size[size] || size);
  var height = Object(_utils__WEBPACK_IMPORTED_MODULE_4__["parseMetricToNum"])(theme.global.edgeSize[thickness] || thickness);
  var mid = width / 2;
  var radius = width / 2 - height / 2;
  var anglePer = 360 / max;
  var someHighlight = (values || []).some(function (v) {
    return v.highlight;
  });
  var startValue = 0;
  var startAngle = 0;
  var paths = [];
  var pathCaps = [];
  (values || []).filter(function (v) {
    return v.value > 0;
  }).forEach(function (valueArg, index) {
    var color = valueArg.color,
        highlight = valueArg.highlight,
        label = valueArg.label,
        onHover = valueArg.onHover,
        value = valueArg.value,
        pathRest = _objectWithoutPropertiesLoose(valueArg, ["color", "highlight", "label", "onHover", "value"]);

    var key = "p-" + index;
    var colorName = color || Object(_utils__WEBPACK_IMPORTED_MODULE_6__["defaultColor"])(index, theme, values ? values.length : 0);
    var endAngle;

    if (startValue + value >= max) {
      endAngle = 360;
    } else {
      endAngle = Math.min(360, Object(_utils__WEBPACK_IMPORTED_MODULE_4__["translateEndAngle"])(startAngle, anglePer, value));
    }

    var hoverProps;

    if (onHover) {
      hoverProps = {
        onMouseOver: function onMouseOver() {
          return onHover(true);
        },
        onMouseLeave: function onMouseLeave() {
          return onHover(false);
        }
      };
    }

    var stroke = Object(_utils__WEBPACK_IMPORTED_MODULE_6__["strokeProps"])(someHighlight && !highlight ? background : colorName, theme);

    if (round) {
      var d1 = Object(_utils__WEBPACK_IMPORTED_MODULE_4__["arcCommands"])(width / 2, width / 2, radius, startAngle, endAngle);
      paths.unshift(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path", _extends({
        key: key,
        d: d1,
        fill: "none"
      }, stroke, {
        strokeWidth: height,
        strokeLinecap: "round"
      }, hoverProps, pathRest))); // To handle situations where the last values are small, redraw
      // a dot at the end. Give just a bit of angle to avoid anti-aliasing
      // leakage around the edge.

      var d2 = Object(_utils__WEBPACK_IMPORTED_MODULE_4__["arcCommands"])(width / 2, width / 2, radius, endAngle - 0.5, endAngle);
      var pathCap = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path", _extends({
        key: key + "-",
        d: d2,
        fill: "none"
      }, stroke, {
        strokeWidth: height,
        strokeLinecap: "round"
      }, hoverProps, pathRest)); // If we are on a large enough path to not need re-drawing previous
      // ones, clear the pathCaps we've collected already.

      if (endAngle - startAngle > 2 * anglePer) {
        pathCaps = [];
      }

      pathCaps.unshift(pathCap);
    } else {
      var d = Object(_utils__WEBPACK_IMPORTED_MODULE_4__["arcCommands"])(width / 2, width / 2, radius, startAngle, endAngle);
      paths.push(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path", _extends({
        key: key,
        d: d,
        fill: "none"
      }, stroke, {
        strokeWidth: height,
        strokeLinecap: "butt"
      }, hoverProps, pathRest)));
    }

    startValue += value;
    startAngle = endAngle;
  });
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledMeter__WEBPACK_IMPORTED_MODULE_5__["StyledMeter"], _extends({
    viewBox: "0 0 " + width + " " + width,
    width: size === 'full' ? '100%' : width,
    height: size === 'full' ? '100%' : width
  }, rest), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("circle", _extends({
    cx: mid,
    cy: mid,
    r: radius
  }, Object(_utils__WEBPACK_IMPORTED_MODULE_6__["strokeProps"])(background, theme), {
    strokeWidth: height,
    strokeLinecap: round ? 'round' : 'square',
    fill: "none"
  })), paths, pathCaps);
};

Circle.defaultProps = {};
Object.setPrototypeOf(Circle.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_3__["defaultProps"]);
var CircleWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(styled_components__WEBPACK_IMPORTED_MODULE_2__["withTheme"])(Circle);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Meter/Meter.js":
/*!************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Meter/Meter.js ***!
  \************************************************************/
/*! exports provided: Meter */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Meter", function() { return MeterWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Bar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Bar */ "./node_modules/grommet/es6/components/Meter/Bar.js");
/* harmony import */ var _Circle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Circle */ "./node_modules/grommet/es6/components/Meter/Circle.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }





var deriveMax = function deriveMax(values) {
  var max = 100;

  if (values && values.length > 1) {
    max = 0;
    values.forEach(function (v) {
      max += v.value;
    });
  }

  return max;
};

var Meter = function Meter(_ref) {
  var _ref$background = _ref.background,
      background = _ref$background === void 0 ? {
    color: 'light-2',
    opacity: 'medium'
  } : _ref$background,
      _ref$size = _ref.size,
      size = _ref$size === void 0 ? 'medium' : _ref$size,
      _ref$thickness = _ref.thickness,
      thickness = _ref$thickness === void 0 ? 'medium' : _ref$thickness,
      _ref$type = _ref.type,
      type = _ref$type === void 0 ? 'bar' : _ref$type,
      values = _ref.values,
      rest = _objectWithoutPropertiesLoose(_ref, ["background", "size", "thickness", "type", "values"]);

  var memoizedMax = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
    return deriveMax(values);
  }, [values]);
  var content;

  if (type === 'bar') {
    content = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Bar__WEBPACK_IMPORTED_MODULE_1__["Bar"], _extends({
      max: memoizedMax,
      values: values,
      size: size,
      thickness: thickness,
      background: background
    }, rest));
  } else if (type === 'circle') {
    content = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Circle__WEBPACK_IMPORTED_MODULE_2__["Circle"], _extends({
      max: memoizedMax,
      values: values,
      size: size,
      thickness: thickness,
      background: background
    }, rest));
  }

  return content;
};

var MeterDoc;

if (true) {
  MeterDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Meter/doc.js").doc(Meter); // eslint-disable-line global-require
}

var MeterWrapper = MeterDoc || Meter;


/***/ }),

/***/ "./node_modules/grommet/es6/components/Meter/StyledMeter.js":
/*!******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Meter/StyledMeter.js ***!
  \******************************************************************/
/*! exports provided: StyledMeter */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledMeter", function() { return StyledMeter; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");



var roundStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["border-radius:", ";"], function (props) {
  return props.theme.global.edgeSize[props.round.size];
}); // overflow: hidden is needed for ie11

var StyledMeter = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].svg.withConfig({
  displayName: "StyledMeter",
  componentId: "nsxarx-0"
})(["max-width:100%;overflow:hidden;", " ", " path{transition:stroke 0.3s,stroke-width 0.3s;}", ";"], _utils__WEBPACK_IMPORTED_MODULE_1__["genericStyles"], function (props) {
  return props.round && roundStyle;
}, function (props) {
  return props.theme.meter && props.theme.meter.extend;
});
StyledMeter.defaultProps = {};
Object.setPrototypeOf(StyledMeter.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Meter/doc.js":
/*!**********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Meter/doc.js ***!
  \**********************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var doc = function doc(Meter) {
  var DocumentedMeter = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Meter).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('Meter')).description('A graphical meter.').usage("import { Meter } from 'grommet';\n<Meter />"); // We don't include svg due to a collision on the values property
  // .intrinsicElement('svg');

  DocumentedMeter.propTypes = _extends({}, _utils__WEBPACK_IMPORTED_MODULE_1__["genericProps"], {
    background: _utils__WEBPACK_IMPORTED_MODULE_1__["backgroundPropType"].defaultValue({
      color: 'light-2',
      opacity: 'medium'
    }),
    max: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description('The maximum value for the Meter.'),
    round: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Whether to round the line ends').defaultValue(false),
    size: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['xsmall', 'small', 'medium', 'large', 'xlarge', 'full']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description('The size of the Meter.').defaultValue('medium'),
    thickness: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['xsmall', 'small', 'medium', 'large', 'xlarge']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description('The size of the Meter.').defaultValue('medium'),
    type: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['bar', 'circle']).description('The visual type of meter.').defaultValue('bar'),
    values: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      color: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
      highlight: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool,
      label: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.isRequired,
      // for accessibility
      onClick: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func,
      onHover: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func,
      value: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number.isRequired
    })).description("Array of value objects describing the data.\n      'value' is the actual numeric value.\n      'label' is a text string describing it.\n      'color' indicates the color name to use. If not specified a default one\n      will be chosen.\n      'onClick' will be called when the user clicks on it.\n      Set 'highlight' to call attention to it.\n      'onHover' will be called with a boolean argument indicating when the\n      user hovers onto or away from it.")
  });
  return DocumentedMeter;
};
var themeDoc = {
  'global.colors': {
    description: 'Color options.',
    type: 'object',
    defaultValue: "{\n      \"accent-1\": \"#6FFFB0\",\n      \"graph-0\": \"accent-1\",\n      ...\n    }"
  },
  'global.edgeSize': {
    description: "The border-radius of the styled Meter. thickness, height and \n    width of the Bar Meter, height of the Circle Meter.",
    type: 'object',
    defaultValue: "{\n        none: '0px',\n        hair: '1px',\n        xxsmall: '3px',\n        xsmall: '6px',\n        small: '12px',\n        medium: '24px',\n        large: '48px',\n        xlarge: '96px',\n        responsiveBreakpoint: 'small',\n    }"
  },
  'global.opacity.medium': {
    description: 'The opacity value used on the Meter color.',
    type: 'number',
    defaultValue: '0.4'
  },
  'global.size': {
    description: 'The possible sizes for Circle Meter width.',
    type: 'object',
    defaultValue: "{\n      xxsmall: '48px',\n      xsmall: '96px',\n      small: '192px',\n      medium: '384px',\n      large: '768px',\n      xlarge: '1152px',\n      xxlarge: '1536px',\n      full: '100%',\n    }"
  },
  'meter.color': {
    description: 'The color used for the Meter.',
    type: 'string',
    defaultValue: 'accent-1'
  },
  'meter.extend': {
    description: 'Any additional style for Meter.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  }
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/Meter/index.js":
/*!************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Meter/index.js ***!
  \************************************************************/
/*! exports provided: Meter */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Meter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Meter */ "./node_modules/grommet/es6/components/Meter/Meter.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Meter", function() { return _Meter__WEBPACK_IMPORTED_MODULE_0__["Meter"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Meter/utils.js":
/*!************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Meter/utils.js ***!
  \************************************************************/
/*! exports provided: strokeProps, defaultColor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "strokeProps", function() { return strokeProps; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "defaultColor", function() { return defaultColor; });
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");

var strokeProps = function strokeProps(color, theme) {
  var result = {};

  if (color) {
    if (typeof color === 'object') {
      result.stroke = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["normalizeColor"])(color.color, theme);

      if (color.opacity) {
        result.strokeOpacity = "" + (color.opacity === true ? theme.global.opacity.medium : theme.global.opacity[color.opacity]);
      }
    } else {
      result.stroke = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["normalizeColor"])(color, theme);
    }
  }

  return result;
};
var neutralExp = /^neutral-\d+/;
var defaultColor = function defaultColor(index, theme, valuesLength) {
  if (index === valuesLength - 1 && theme.meter.color) {
    return theme.meter.color;
  }

  if (theme.meter && theme.meter.colors) {
    var _colors = theme.meter.colors[theme.dark ? 'dark' : 'light'] || theme.meter.colors;

    return _colors[index % _colors.length];
  }

  var colors = Object.keys(theme.global.colors).filter(function (n) {
    return n.match(/^graph-[0-9]$/);
  });

  if (colors.length > 0) {
    return colors[index % colors.length];
  } // Deprecate using "neutral-*" color names. Remove eventually.


  var neutralColors = Object.keys(theme.global.colors).filter(function (k) {
    return neutralExp.test(k);
  });
  return neutralColors[index % neutralColors.length];
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/Paragraph/Paragraph.js":
/*!********************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Paragraph/Paragraph.js ***!
  \********************************************************************/
/*! exports provided: Paragraph */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Paragraph", function() { return ParagraphWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _StyledParagraph__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./StyledParagraph */ "./node_modules/grommet/es6/components/Paragraph/StyledParagraph.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }




var Paragraph = function Paragraph(_ref) {
  var color = _ref.color,
      fill = _ref.fill,
      rest = _objectWithoutPropertiesLoose(_ref, ["color", "fill"]);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledParagraph__WEBPACK_IMPORTED_MODULE_1__["StyledParagraph"], _extends({
    colorProp: color,
    fillProp: fill
  }, rest));
};

var ParagraphDoc;

if (true) {
  // eslint-disable-next-line global-require
  ParagraphDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Paragraph/doc.js").doc(Paragraph);
}

var ParagraphWrapper = ParagraphDoc || Paragraph;


/***/ }),

/***/ "./node_modules/grommet/es6/components/Paragraph/StyledParagraph.js":
/*!**************************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Paragraph/StyledParagraph.js ***!
  \**************************************************************************/
/*! exports provided: StyledParagraph */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledParagraph", function() { return StyledParagraph; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");



var colorStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["color:", ";"], function (props) {
  return Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.colorProp, props.theme);
});

var sizeStyle = function sizeStyle(props) {
  var size = props.size || 'medium';
  var data = props.theme.paragraph[size];
  return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["font-size:", ";line-height:", ";max-width:", ";"], data.size, data.height, props.fillProp ? 'none' : data.maxWidth);
};

var TEXT_ALIGN_MAP = {
  center: 'center',
  end: 'right',
  start: 'left'
};
var textAlignStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["text-align:", ";"], function (props) {
  return TEXT_ALIGN_MAP[props.textAlign];
});
var StyledParagraph = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].p.withConfig({
  displayName: "StyledParagraph",
  componentId: "tbetod-0"
})(["", " ", " ", " ", " ", ""], _utils__WEBPACK_IMPORTED_MODULE_1__["genericStyles"], function (props) {
  return sizeStyle(props);
}, function (props) {
  return props.textAlign && textAlignStyle;
}, function (props) {
  return props.colorProp && colorStyle;
}, function (props) {
  return props.theme.paragraph && props.theme.paragraph.extend;
});
StyledParagraph.defaultProps = {};
Object.setPrototypeOf(StyledParagraph.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Paragraph/doc.js":
/*!**************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Paragraph/doc.js ***!
  \**************************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var doc = function doc(Paragraph) {
  var DocumentedParagraph = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Paragraph).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('Paragraph')).description('A paragraph of text.').usage("import { Paragraph } from 'grommet';\n<Paragraph />").intrinsicElement('p');
  DocumentedParagraph.propTypes = _extends({}, _utils__WEBPACK_IMPORTED_MODULE_1__["genericProps"], {
    color: _utils__WEBPACK_IMPORTED_MODULE_1__["colorPropType"].description('A color identifier to use for the text color.'),
    fill: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Whether the width should fill the container.').defaultValue(false),
    responsive: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Whether margin should be scaled for mobile environments.").defaultValue(true),
    size: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['small', 'medium', 'large', 'xlarge', 'xxlarge']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description('The size of the Paragraph text.').defaultValue('medium'),
    textAlign: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['start', 'center', 'end']).description('How to align the text inside the paragraph.').defaultValue('start')
  });
  return DocumentedParagraph;
};
var themeDoc = _extends({
  paragraph: {
    description: "The possible sizes of the paragraph in terms of its max-width,\n     font-size and line-height.",
    type: 'object',
    defaultValue: "{\n      small: {\n        size: '14px',\n        height: '20px',\n        maxWidth: '336px',\n       },\n      medium: {\n        size: '18px',\n        height: '24px',\n        maxWidth: '432px',\n      },\n      large: {\n        size: '22px',\n        height: '28px',\n        maxWidth: '528px',\n      },\n      xlarge: {\n        size: '26px',\n        height: '32px',\n        maxWidth: '624px',\n      },\n      xxlarge: {\n        size: '34px',\n        height: '40px',\n        maxWidth: '816px',\n      },\n    }"
  },
  'paragraph.textAlign': {
    description: "How to align the text inside the Paragraph.",
    type: 'string',
    defaultValue: 'start'
  },
  'paragraph.extend': {
    description: 'Any additional style for the Paragraph.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  }
}, _utils__WEBPACK_IMPORTED_MODULE_1__["themeDocUtils"].edgeStyle('The possible sizes for margin.'));

/***/ }),

/***/ "./node_modules/grommet/es6/components/Paragraph/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Paragraph/index.js ***!
  \****************************************************************/
/*! exports provided: Paragraph */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Paragraph__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Paragraph */ "./node_modules/grommet/es6/components/Paragraph/Paragraph.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Paragraph", function() { return _Paragraph__WEBPACK_IMPORTED_MODULE_0__["Paragraph"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/RadioButton/RadioButton.js":
/*!************************************************************************!*\
  !*** ./node_modules/grommet/es6/components/RadioButton/RadioButton.js ***!
  \************************************************************************/
/*! exports provided: RadioButton */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RadioButton", function() { return RadioButtonWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
/* harmony import */ var _hocs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../hocs */ "./node_modules/grommet/es6/components/hocs.js");
/* harmony import */ var _StyledRadioButton__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./StyledRadioButton */ "./node_modules/grommet/es6/components/RadioButton/StyledRadioButton.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }










var RadioButton = function RadioButton(_ref) {
  var checked = _ref.checked,
      children = _ref.children,
      disabled = _ref.disabled,
      focus = _ref.focus,
      forwardRef = _ref.forwardRef,
      id = _ref.id,
      label = _ref.label,
      name = _ref.name,
      onChange = _ref.onChange,
      theme = _ref.theme,
      rest = _objectWithoutPropertiesLoose(_ref, ["checked", "children", "disabled", "focus", "forwardRef", "id", "label", "name", "onChange", "theme"]);

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(),
      hover = _useState[0],
      setHover = _useState[1];

  var normalizedLabel = typeof label === 'string' ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, label) : label;
  var Icon = theme.radioButton.icons.circle;
  var borderColor = Object(_utils__WEBPACK_IMPORTED_MODULE_4__["normalizeColor"])(theme.radioButton.border.color, theme);

  if (checked) {
    borderColor = Object(_utils__WEBPACK_IMPORTED_MODULE_4__["normalizeColor"])(theme.radioButton.color || 'control', theme);
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledRadioButton__WEBPACK_IMPORTED_MODULE_7__["StyledRadioButtonContainer"], _extends({}, Object(_utils__WEBPACK_IMPORTED_MODULE_4__["removeUndefined"])({
    htmlFor: id,
    disabled: disabled
  }), {
    onClick: function onClick(event) {
      // prevents clicking on the label trigging the event twice
      // https://stackoverflow.com/questions/24501497/why-the-onclick-element-will-trigger-twice-for-label-element
      if (event.target.type !== 'radio') {
        event.stopPropagation();
      }
    },
    onMouseEnter: function onMouseEnter() {
      return setHover(true);
    },
    onMouseLeave: function onMouseLeave() {
      return setHover(false);
    }
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledRadioButton__WEBPACK_IMPORTED_MODULE_7__["StyledRadioButton"], {
    as: _Box__WEBPACK_IMPORTED_MODULE_5__["Box"],
    margin: label ? {
      right: theme.radioButton.gap || 'small'
    } : undefined
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledRadioButton__WEBPACK_IMPORTED_MODULE_7__["StyledRadioButtonInput"], _extends({}, rest, {
    ref: forwardRef,
    type: "radio"
  }, Object(_utils__WEBPACK_IMPORTED_MODULE_4__["removeUndefined"])({
    id: id,
    name: name,
    checked: checked,
    disabled: disabled,
    onChange: onChange
  }))), children ? children({
    checked: checked,
    hover: hover
  }) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledRadioButton__WEBPACK_IMPORTED_MODULE_7__["StyledRadioButtonBox"], {
    focus: focus,
    as: _Box__WEBPACK_IMPORTED_MODULE_5__["Box"],
    align: "center",
    justify: "center",
    width: theme.radioButton.size,
    height: theme.radioButton.size,
    border: {
      size: theme.radioButton.border.width,
      color: borderColor
    },
    round: theme.radioButton.check.radius
  }, checked && (Icon ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Icon, {
    as: _StyledRadioButton__WEBPACK_IMPORTED_MODULE_7__["StyledRadioButtonIcon"]
  }) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledRadioButton__WEBPACK_IMPORTED_MODULE_7__["StyledRadioButtonIcon"], {
    viewBox: "0 0 24 24",
    preserveAspectRatio: "xMidYMid meet"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("circle", {
    cx: 12,
    cy: 12,
    r: 6
  }))))), normalizedLabel);
};

RadioButton.defaultProps = {};
Object.setPrototypeOf(RadioButton.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_3__["defaultProps"]);
var RadioButtonDoc;

if (true) {
  // eslint-disable-next-line global-require
  RadioButtonDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/RadioButton/doc.js").doc(RadioButton);
}

var RadioButtonWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(styled_components__WEBPACK_IMPORTED_MODULE_2__["withTheme"], _hocs__WEBPACK_IMPORTED_MODULE_6__["withForwardRef"])(RadioButtonDoc || RadioButton);


/***/ }),

/***/ "./node_modules/grommet/es6/components/RadioButton/StyledRadioButton.js":
/*!******************************************************************************!*\
  !*** ./node_modules/grommet/es6/components/RadioButton/StyledRadioButton.js ***!
  \******************************************************************************/
/*! exports provided: StyledRadioButtonContainer, StyledRadioButtonInput, StyledRadioButtonIcon, StyledRadioButtonBox, StyledRadioButton */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledRadioButtonContainer", function() { return StyledRadioButtonContainer; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledRadioButtonInput", function() { return StyledRadioButtonInput; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledRadioButtonIcon", function() { return StyledRadioButtonIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledRadioButtonBox", function() { return StyledRadioButtonBox; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledRadioButton", function() { return StyledRadioButton; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");



var disabledStyle = "\n  opacity: 0.5;\n  cursor: default;\n";
var StyledRadioButtonContainer = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].label.withConfig({
  displayName: "StyledRadioButton__StyledRadioButtonContainer",
  componentId: "g1f6ld-0"
})(["display:flex;flex-direction:row;align-items:center;user-select:none;", " ", ":hover input:not([disabled]) + div,:hover input:not([disabled]) + span{border-color:", ";}", ";"], function (props) {
  return props.disabled && disabledStyle;
}, function (props) {
  return !props.disabled && 'cursor: pointer;';
}, function (props) {
  return Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.radioButton.hover.border.color, props.theme);
}, function (props) {
  return props.theme.radioButton.extend;
});
StyledRadioButtonContainer.defaultProps = {};
Object.setPrototypeOf(StyledRadioButtonContainer.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var StyledRadioButtonInput = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].input.withConfig({
  displayName: "StyledRadioButton__StyledRadioButtonInput",
  componentId: "g1f6ld-1"
})(["opacity:0;-moz-appearance:none;width:0;height:0;margin:0;", ";"], function (props) {
  return !props.disabled && 'cursor: pointer;';
});
StyledRadioButtonInput.defaultProps = {};
Object.setPrototypeOf(StyledRadioButtonInput.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var StyledRadioButtonIcon = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].svg.withConfig({
  displayName: "StyledRadioButton__StyledRadioButtonIcon",
  componentId: "g1f6ld-2"
})(["box-sizing:border-box;width:", ";height:", ";fill:", ";", ";"], function (props) {
  return props.theme.radioButton.icon.size || props.theme.radioButton.size;
}, function (props) {
  return props.theme.radioButton.icon.size || props.theme.radioButton.size;
}, function (props) {
  return Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.radioButton.check.color || 'control', props.theme);
}, function (props) {
  return props.theme.radioButton.icon.extend;
});
StyledRadioButtonIcon.defaultProps = {};
Object.setPrototypeOf(StyledRadioButtonIcon.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var StyledRadioButtonBox = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledRadioButton__StyledRadioButtonBox",
  componentId: "g1f6ld-3"
})(["", ";", ";"], function (props) {
  return props.focus && _utils__WEBPACK_IMPORTED_MODULE_1__["focusStyle"];
}, function (props) {
  return props.theme.radioButton.check.extend;
});
StyledRadioButtonBox.defaultProps = {};
Object.setPrototypeOf(StyledRadioButtonBox.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var StyledRadioButton = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledRadioButton",
  componentId: "g1f6ld-4"
})(["", ";"], function (props) {
  return props.theme.radioButton && props.theme.radioButton.extend;
});
StyledRadioButton.defaultProps = {};
Object.setPrototypeOf(StyledRadioButton.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);


/***/ }),

/***/ "./node_modules/grommet/es6/components/RadioButton/doc.js":
/*!****************************************************************!*\
  !*** ./node_modules/grommet/es6/components/RadioButton/doc.js ***!
  \****************************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");


var doc = function doc(RadioButton) {
  var DocumentedRadioButton = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(RadioButton).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('RadioButton')).description('A radio button control.').details("RadioButton should typically not be used directly.\n      Instead, use RadioButtonGroup.").usage("import { RadioButton } from 'grommet';\n<RadioButton />").intrinsicElement('input');
  DocumentedRadioButton.propTypes = {
    checked: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Same as React <input checked={} />'),
    children: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Function that will be called to render the visual representation.\n      It will be passed an object indicating whether the button is checked. It\n      should return a react element.\n      For example:\n      `children={({ checked }) => <Box ...>{...}</Box>}`\n      "),
    disabled: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Same as React <input disabled={} />. Also adds a hidden input element\nwith the same name so form submissions work."),
    id: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description('The DOM id attribute value to use for the underlying <input/> element.'),
    label: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].node.description('Label text to place next to the control.'),
    name: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description("The DOM name attribute value to use for the underlying <input/>\n       element.").isRequired,
    onChange: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Function that will be called when the user clicks the radio button. It\n      will be passed a React event object. The current state can be accessed\n      via event.target.checked. Same as React <input onChange={} />.")
  };
  return DocumentedRadioButton;
};
var themeDoc = {
  'radioButton.border.color': {
    description: 'The color of the border of the Radio Button.',
    type: 'string | { dark: string, light: string }',
    defaultValue: "{dark: 'rgba(255, 255, 255, 0.5), light: 'rgba(0, 0, 0, 0.15)}"
  },
  'radioButton.border.width': {
    description: 'The width size of the border of the RadioButton.',
    type: 'string',
    defaultValue: '2px'
  },
  'radioButton.check.color': {
    description: 'The color of the checked icon in the RadioButton.',
    type: 'string | { dark: string, light: string }',
    defaultValue: 'undefined'
  },
  'radioButton.check.extend': {
    description: 'Any additional style for the checked RadioButton.',
    type: 'string | (props) => {}'
  },
  'radioButton.check.radius': {
    description: 'The border-radius of the RadioButton.',
    type: 'string',
    defaultValue: '100%'
  },
  'radioButton.extend': {
    description: 'Any additional style for the RadioButton.',
    type: 'string | (props) => {}'
  },
  'radioButton.gap': {
    description: 'The gap between the label and the RadioButton itself.',
    type: 'string',
    defaultValue: 'small'
  },
  'radioButton.size': {
    description: 'The size of the RadioButton.',
    type: 'string',
    defaultValue: '24px'
  },
  'radioButton.hover.border.color': {
    description: "The color of the RadioButton border when hovered over.",
    type: 'string | { dark: string, light: string }',
    defaultValue: '{dark: white, light: black}'
  },
  'radioButton.icon.extend': {
    description: 'Any additional style for the RadioButton icon.',
    type: 'string | (props) => {}'
  },
  'radioButton.icon.size': {
    description: 'The size of the icon in the RadioButton.',
    type: 'string'
  }
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/RadioButton/index.js":
/*!******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/RadioButton/index.js ***!
  \******************************************************************/
/*! exports provided: RadioButton */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _RadioButton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RadioButton */ "./node_modules/grommet/es6/components/RadioButton/RadioButton.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RadioButton", function() { return _RadioButton__WEBPACK_IMPORTED_MODULE_0__["RadioButton"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/RadioButtonGroup/RadioButtonGroup.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/grommet/es6/components/RadioButtonGroup/RadioButtonGroup.js ***!
  \**********************************************************************************/
/*! exports provided: RadioButtonGroup */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RadioButtonGroup", function() { return RadioButtonGroupWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
/* harmony import */ var _Keyboard__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Keyboard */ "./node_modules/grommet/es6/components/Keyboard/index.js");
/* harmony import */ var _RadioButton__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../RadioButton */ "./node_modules/grommet/es6/components/RadioButton/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }





var RadioButtonGroup = Object(react__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function (_ref, ref) {
  var children = _ref.children,
      _ref$gap = _ref.gap,
      gap = _ref$gap === void 0 ? 'small' : _ref$gap,
      name = _ref.name,
      onChange = _ref.onChange,
      optionsProp = _ref.options,
      valueProp = _ref.value,
      rest = _objectWithoutPropertiesLoose(_ref, ["children", "gap", "name", "onChange", "options", "value"]);

  // normalize options to always use an object
  var options = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
    return optionsProp.map(function (o) {
      return typeof o === 'string' ? {
        id: o,
        label: o,
        value: o
      } : o;
    });
  }, [optionsProp]);

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(valueProp),
      value = _useState[0],
      setValue = _useState[1];

  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    return setValue(valueProp);
  }, [valueProp]);

  var _useState2 = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(),
      focus = _useState2[0],
      setFocus = _useState2[1];

  var optionRefs = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])([]);
  var valueIndex = react__WEBPACK_IMPORTED_MODULE_0___default.a.useMemo(function () {
    var result;
    options.some(function (option, index) {
      if (option.value === value) {
        result = index;
        return true;
      }

      return false;
    });
    return result;
  }, [options, value]);
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    if (focus && valueIndex >= 0) optionRefs.current[valueIndex].focus();
  }, [focus, valueIndex]);

  var onNext = function onNext() {
    if (valueIndex !== undefined && valueIndex < options.length - 1) {
      var nextIndex = valueIndex + 1;
      var nextValue = options[nextIndex].value;
      setValue(nextValue);

      if (onChange) {
        onChange({
          target: {
            value: nextValue
          }
        });
      }
    }
  };

  var onPrevious = function onPrevious() {
    if (valueIndex > 0) {
      var nextIndex = valueIndex - 1;
      var nextValue = options[nextIndex].value;
      setValue(nextValue);

      if (onChange) {
        onChange({
          target: {
            value: nextValue
          }
        });
      }
    }
  };

  var onFocus = function onFocus() {
    // Delay just a wee bit so Chrome doesn't missing turning the button on.
    // Chrome behaves differently in that focus is given to radio buttons
    // when the user selects one, unlike Safari and Firefox.
    setTimeout(function () {
      return !focus && setFocus(true);
    }, 1);
  };

  var onBlur = function onBlur() {
    return focus && setFocus(false);
  };

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Keyboard__WEBPACK_IMPORTED_MODULE_2__["Keyboard"], {
    target: "document",
    onUp: focus ? onPrevious : undefined,
    onDown: focus ? onNext : undefined,
    onLeft: focus ? onPrevious : undefined,
    onRight: focus ? onNext : undefined
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_1__["Box"], _extends({
    ref: ref,
    gap: gap
  }, rest), options.map(function (_ref2, index) {
    var disabled = _ref2.disabled,
        id = _ref2.id,
        label = _ref2.label,
        optionValue = _ref2.value;
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_RadioButton__WEBPACK_IMPORTED_MODULE_3__["RadioButton"], {
      ref: function ref(aRef) {
        optionRefs.current[index] = aRef;
      },
      key: optionValue,
      name: name,
      label: !children ? label : undefined,
      disabled: disabled,
      checked: optionValue === value,
      focus: focus && (optionValue === value || value === undefined && !index),
      id: id,
      value: optionValue,
      onChange: onChange,
      onFocus: onFocus,
      onBlur: onBlur
    }, children ? function (state) {
      return children(optionsProp[index], state);
    } : null);
  })));
});
RadioButtonGroup.displayName = 'RadioButtonGroup';
var RadioButtonGroupDoc;

if (true) {
  // eslint-disable-next-line global-require
  RadioButtonGroupDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/RadioButtonGroup/doc.js").doc(RadioButtonGroup);
}

var RadioButtonGroupWrapper = RadioButtonGroupDoc || RadioButtonGroup;


/***/ }),

/***/ "./node_modules/grommet/es6/components/RadioButtonGroup/doc.js":
/*!*********************************************************************!*\
  !*** ./node_modules/grommet/es6/components/RadioButtonGroup/doc.js ***!
  \*********************************************************************/
/*! exports provided: doc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");


var doc = function doc(RadioButtonGroup) {
  var DocumentedRadioButtonGroup = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(RadioButtonGroup).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('RadioButtonGroup')).description('A group of radio buttons.').usage("import { RadioButtonGroup } from 'grommet';\n<RadioButtonGroup />").intrinsicElement('div');
  DocumentedRadioButtonGroup.propTypes = {
    children: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Function that will be called to render the visual representation.\n      It will be passed an object indicating whether the button is checked. It\n      should return a react element.\n      For example:\n      `children={(option, { checked }) => <Box ...>{...}</Box>}`\n      "),
    name: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description("The DOM name attribute value to use for the underlying <input/> \n      elements.").isRequired,
    onChange: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Function that will be called when the user clicks on of the radio\n      buttons. It will be passed a React event object."),
    options: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      disabled: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool,
      id: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
      label: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].element]),
      value: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.isRequired
    }))]).description("Options can be either a string or an object.").isRequired,
    value: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description("Currently selected option value.")
  };
  return DocumentedRadioButtonGroup;
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/RadioButtonGroup/index.js":
/*!***********************************************************************!*\
  !*** ./node_modules/grommet/es6/components/RadioButtonGroup/index.js ***!
  \***********************************************************************/
/*! exports provided: RadioButtonGroup */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _RadioButtonGroup__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RadioButtonGroup */ "./node_modules/grommet/es6/components/RadioButtonGroup/RadioButtonGroup.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RadioButtonGroup", function() { return _RadioButtonGroup__WEBPACK_IMPORTED_MODULE_0__["RadioButtonGroup"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/RangeInput/RangeInput.js":
/*!**********************************************************************!*\
  !*** ./node_modules/grommet/es6/components/RangeInput/RangeInput.js ***!
  \**********************************************************************/
/*! exports provided: RangeInput */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RangeInput", function() { return RangeInputWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var _hocs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../hocs */ "./node_modules/grommet/es6/components/hocs.js");
/* harmony import */ var _StyledRangeInput__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./StyledRangeInput */ "./node_modules/grommet/es6/components/RangeInput/StyledRangeInput.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }






var RangeInput = function RangeInput(_ref) {
  var forwardRef = _ref.forwardRef,
      rest = _objectWithoutPropertiesLoose(_ref, ["forwardRef"]);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledRangeInput__WEBPACK_IMPORTED_MODULE_3__["StyledRangeInput"], _extends({}, rest, {
    ref: forwardRef,
    type: "range"
  }));
};

var RangeInputDoc;

if (true) {
  // eslint-disable-next-line global-require
  RangeInputDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/RangeInput/doc.js").doc(RangeInput);
}

var RangeInputWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(Object(_hocs__WEBPACK_IMPORTED_MODULE_2__["withFocus"])(), _hocs__WEBPACK_IMPORTED_MODULE_2__["withForwardRef"])(RangeInputDoc || RangeInput);


/***/ }),

/***/ "./node_modules/grommet/es6/components/RangeInput/StyledRangeInput.js":
/*!****************************************************************************!*\
  !*** ./node_modules/grommet/es6/components/RangeInput/StyledRangeInput.js ***!
  \****************************************************************************/
/*! exports provided: StyledRangeInput */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledRangeInput", function() { return StyledRangeInput; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");



var rangeTrackStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["box-sizing:border-box;width:100%;height:", ";background:", ";", ""], function (props) {
  return props.theme.rangeInput.track.height;
}, function (props) {
  return Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.rangeInput.track.color, props.theme);
}, function (props) {
  return props.theme.rangeInput && props.theme.rangeInput.track && props.theme.rangeInput.track.extend;
});
var rangeThumbStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["box-sizing:border-box;position:relative;border-radius:", ";height:", ";width:", ";overflow:visible;background:", ";-webkit-appearance:none;cursor:pointer;", ""], function (props) {
  return props.theme.global.spacing;
}, function (props) {
  return props.theme.global.spacing;
}, function (props) {
  return props.theme.global.spacing;
}, function (props) {
  return Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.rangeInput.thumb.color || 'control', props.theme);
}, function (props) {
  return props.theme.rangeInput && props.theme.rangeInput.thumb && props.theme.rangeInput.thumb.extend;
});
var firefoxMicrosoftThumbStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["", " margin-top:0px;height:", ";width:", ";", ""], rangeThumbStyle, function (props) {
  return props.theme.global.spacing;
}, function (props) {
  return props.theme.global.spacing;
}, function (props) {
  return props.theme.rangeInput && props.theme.rangeInput.thumb && props.theme.rangeInput.thumb.extend;
});
/* eslint-disable max-len */

var StyledRangeInput = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].input.withConfig({
  displayName: "StyledRangeInput",
  componentId: "sc-15st9ck-0"
})(["box-sizing:border-box;position:relative;-webkit-appearance:none;border-color:transparent;height:", ";width:100%;padding:0px;cursor:pointer;background:transparent;&:focus{outline:none;}&::-moz-focus-inner{border:none;}&::-moz-focus-outer{border:none;}&::-webkit-slider-runnable-track{", "}&::-webkit-slider-thumb{margin-top:-", "px;", " ", "}&::-moz-range-track{", "}&::-moz-range-thumb{", "}&::-ms-thumb{", "}", " &::-ms-track{", " border-color:transparent;color:transparent;}&::-ms-fill-lower{background:", ";border-color:transparent;}&::-ms-fill-upper{background:", ";border-color:transparent;}", " ", ""], function (props) {
  return props.theme.global.spacing;
}, rangeTrackStyle, function (props) {
  return (Object(_utils__WEBPACK_IMPORTED_MODULE_1__["parseMetricToNum"])(props.theme.global.spacing) - Object(_utils__WEBPACK_IMPORTED_MODULE_1__["parseMetricToNum"])(props.theme.rangeInput.track.height || 0)) * 0.5;
}, rangeThumbStyle, function (props) {
  return !props.disabled && Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["&:hover{box-shadow:0px 0px 0px 2px ", ";}"], Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.rangeInput.thumb.color || 'control', props.theme));
}, rangeTrackStyle, firefoxMicrosoftThumbStyle, firefoxMicrosoftThumbStyle, function (props) {
  return !props.disabled && Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["&:hover::-moz-range-thumb{box-shadow:0px 0px 0px 2px ", ";}&:hover::-ms-thumb{box-shadow:0px 0px 0px 2px ", ";}"], Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.rangeInput.thumb.color || 'control', props.theme), Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.rangeInput.thumb.color || 'control', props.theme));
}, rangeTrackStyle, function (props) {
  return Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.rangeInput.track.color, props.theme);
}, function (props) {
  return Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.rangeInput.track.color, props.theme);
}, function (props) {
  return props.focus && _utils__WEBPACK_IMPORTED_MODULE_1__["focusStyle"];
}, function (props) {
  return props.theme.rangeInput && props.theme.rangeInput.extend;
});
/* eslint-enable max-len */

StyledRangeInput.defaultProps = {};
Object.setPrototypeOf(StyledRangeInput.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);


/***/ }),

/***/ "./node_modules/grommet/es6/components/RangeInput/doc.js":
/*!***************************************************************!*\
  !*** ./node_modules/grommet/es6/components/RangeInput/doc.js ***!
  \***************************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var doc = function doc(RangeInput) {
  var DocumentedRangeInput = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(RangeInput).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('RangeInput')).description('A slider control to input a value within a fixed range.').usage("import { RangeInput } from 'grommet';\n<RangeInput />").intrinsicElement('input');
  DocumentedRangeInput.propTypes = {
    id: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description('The id attribute of the range input.'),
    min: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description('The minimum value permitted.'),
    max: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description('The maximum value permitted.'),
    name: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description('The name attribute of the range input.'),
    onChange: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Function that will be called when the user changes the value. It will\n      be passed an event object. The new input value will be available\n      via 'event.target.value'."),
    step: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number.description('The step interval between values.'),
    value: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description('The current value.')
  };
  return DocumentedRangeInput;
};
var themeDoc = _extends({}, _utils__WEBPACK_IMPORTED_MODULE_1__["themeDocUtils"].focusStyle, {
  'global.spacing': {
    description: 'The height, width and border-radius of the range thumb.',
    type: 'string',
    defaultValue: '24px'
  },
  'rangeInput.extend': {
    description: 'Any additional style for the RangeInput.',
    type: "string | (props) => `\n      any CSS styling;\n    `",
    defaultValue: undefined
  },
  'rangeInput.thumb.color': {
    description: 'The color of the thumb.',
    type: 'string | { dark: undefined, light: undefined }',
    defaultValue: undefined
  },
  'rangeInput.thumb.extend': {
    description: 'Any additional style for the thumb.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'rangeInput.track.color': {
    description: 'The color of the track.',
    type: 'string',
    defaultValue: '{ dark: rgba(255, 255, 255, 0.33), light: rgba(0, 0, 0, 0.33) }'
  },
  'rangeInput.track.extend': {
    description: 'Any additional style for the track.',
    type: "string | (props) => `\n      any CSS styling;\n    `",
    defaultValue: undefined
  },
  'rangeInput.track.height': {
    description: 'The height of the track.',
    type: 'string',
    defaultValue: '4px'
  }
});

/***/ }),

/***/ "./node_modules/grommet/es6/components/RangeInput/index.js":
/*!*****************************************************************!*\
  !*** ./node_modules/grommet/es6/components/RangeInput/index.js ***!
  \*****************************************************************/
/*! exports provided: RangeInput */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _RangeInput__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RangeInput */ "./node_modules/grommet/es6/components/RangeInput/RangeInput.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RangeInput", function() { return _RangeInput__WEBPACK_IMPORTED_MODULE_0__["RangeInput"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/RangeSelector/EdgeControl.js":
/*!**************************************************************************!*\
  !*** ./node_modules/grommet/es6/components/RangeSelector/EdgeControl.js ***!
  \**************************************************************************/
/*! exports provided: EdgeControl */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EdgeControl", function() { return EdgeControlWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
/* harmony import */ var _Keyboard__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Keyboard */ "./node_modules/grommet/es6/components/Keyboard/index.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _hocs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../hocs */ "./node_modules/grommet/es6/components/hocs.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }









var DIRECTION_PROPS = {
  horizontal: {
    cursor: 'col-resize',
    fill: 'vertical'
  },
  vertical: {
    cursor: 'row-resize',
    fill: 'horizontal'
  }
};

var EdgeControl = function EdgeControl(_ref) {
  var color = _ref.color,
      direction = _ref.direction,
      edge = _ref.edge,
      forwardRef = _ref.forwardRef,
      onDecrease = _ref.onDecrease,
      onIncrease = _ref.onIncrease,
      theme = _ref.theme,
      rest = _objectWithoutPropertiesLoose(_ref, ["color", "direction", "edge", "forwardRef", "onDecrease", "onIncrease", "theme"]);

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(false),
      focused = _useState[0],
      setFocused = _useState[1];

  var _DIRECTION_PROPS$dire = DIRECTION_PROPS[direction],
      cursor = _DIRECTION_PROPS$dire.cursor,
      fill = _DIRECTION_PROPS$dire.fill;
  var size = Object(_utils__WEBPACK_IMPORTED_MODULE_6__["parseMetricToNum"])(theme.global.spacing) / 2;
  var keyboardProps = direction === 'vertical' ? {
    onUp: onDecrease,
    onDown: onIncrease
  } : {
    onLeft: onDecrease,
    onRight: onIncrease
  };
  var boxDirection = direction === 'vertical' ? 'row' : 'column';
  var type = theme.rangeSelector && theme.rangeSelector.edge && theme.rangeSelector.edge.type || 'disc';
  var node;

  if (type === 'bar') {
    node = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"], {
      flex: true,
      justifySelf: "stretch",
      width: size + "px",
      background: Object(_utils__WEBPACK_IMPORTED_MODULE_6__["normalizeColor"])(color || 'control', theme),
      border: focused ? {
        color: Object(_utils__WEBPACK_IMPORTED_MODULE_6__["normalizeColor"])('focus', theme)
      } : undefined
    });
  } else if (type === 'disc') {
    node = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"], {
      width: size + (focused ? 2 : 0) + "px",
      height: size + (focused ? 2 : 0) + "px",
      round: "full",
      background: Object(_utils__WEBPACK_IMPORTED_MODULE_6__["normalizeColor"])(color || 'control', theme),
      border: focused ? {
        color: Object(_utils__WEBPACK_IMPORTED_MODULE_6__["normalizeColor"])('focus', theme)
      } : undefined
    });
  } else {
    node = type;
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Keyboard__WEBPACK_IMPORTED_MODULE_5__["Keyboard"], keyboardProps, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"], {
    direction: boxDirection,
    style: {
      flex: '0 0 1px'
    },
    overflow: "visible",
    align: "center",
    justify: "center"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"], _extends({
    ref: forwardRef,
    direction: boxDirection,
    justify: "center",
    align: "center",
    basis: "full",
    fill: fill,
    style: {
      cursor: cursor,
      minWidth: size,
      minHeight: size,
      zIndex: 10
    },
    tabIndex: 0,
    onFocus: function onFocus() {
      return setFocused(true);
    },
    onBlur: function onBlur() {
      return setFocused(false);
    }
  }, rest), node)));
};

EdgeControl.defaultProps = {};
Object.setPrototypeOf(EdgeControl.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_3__["defaultProps"]);
var EdgeControlWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(_hocs__WEBPACK_IMPORTED_MODULE_7__["withForwardRef"], styled_components__WEBPACK_IMPORTED_MODULE_2__["withTheme"])(EdgeControl);


/***/ }),

/***/ "./node_modules/grommet/es6/components/RangeSelector/RangeSelector.js":
/*!****************************************************************************!*\
  !*** ./node_modules/grommet/es6/components/RangeSelector/RangeSelector.js ***!
  \****************************************************************************/
/*! exports provided: RangeSelector */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RangeSelector", function() { return RangeSelectorWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _contexts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../contexts */ "./node_modules/grommet/es6/contexts/index.js");
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
/* harmony import */ var _hocs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../hocs */ "./node_modules/grommet/es6/components/hocs.js");
/* harmony import */ var _EdgeControl__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./EdgeControl */ "./node_modules/grommet/es6/components/RangeSelector/EdgeControl.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }








var Container = Object(styled_components__WEBPACK_IMPORTED_MODULE_2__["default"])(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"]).withConfig({
  displayName: "RangeSelector__Container",
  componentId: "siof5p-0"
})(["user-select:none;"]);

var RangeSelector =
/*#__PURE__*/
function (_Component) {
  _inheritsLoose(RangeSelector, _Component);

  function RangeSelector() {
    var _this;

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _Component.call.apply(_Component, [this].concat(args)) || this;

    _defineProperty(_assertThisInitialized(_this), "state", {});

    _defineProperty(_assertThisInitialized(_this), "containerRef", react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef());

    _defineProperty(_assertThisInitialized(_this), "valueForMouseCoord", function (event) {
      var _this$props = _this.props,
          direction = _this$props.direction,
          max = _this$props.max,
          min = _this$props.min,
          step = _this$props.step;

      var rect = _this.containerRef.current.getBoundingClientRect();

      var value;

      if (direction === 'vertical') {
        // there is no x and y in unit testing
        var y = event.clientY - (rect.top || 0); // unit test resilience

        var scaleY = rect.height / (max - min + 1) || 1; // unit test resilience

        value = Math.floor(y / scaleY) + min;
      } else {
        var x = event.clientX - (rect.left || 0); // unit test resilience

        var scaleX = rect.width / (max - min + 1) || 1; // unit test resilience

        value = Math.floor(x / scaleX) + min;
      } // align with closest step within [min, max]


      var result = Math.ceil(value / step) * step;

      if (result < min) {
        return min;
      }

      if (result > max) {
        return max;
      }

      return result;
    });

    _defineProperty(_assertThisInitialized(_this), "onClick", function (event) {
      var _this$props2 = _this.props,
          onChange = _this$props2.onChange,
          values = _this$props2.values;
      var lastChange = _this.state.lastChange;

      var value = _this.valueForMouseCoord(event);

      if (value <= values[0] || value < values[1] && lastChange === 'lower') {
        _this.setState({
          lastChange: 'lower'
        }, function () {
          return onChange([value, values[1]]);
        });
      } else if (value >= values[1] || value > values[0] && lastChange === 'upper') {
        _this.setState({
          lastChange: 'upper'
        }, function () {
          return onChange([values[0], value]);
        });
      }
    });

    _defineProperty(_assertThisInitialized(_this), "lowerMouseDown", function () {
      _this.setState({
        changing: 'lower'
      });

      window.addEventListener('mousemove', _this.mouseMove);
      window.addEventListener('mouseup', _this.mouseUp);
    });

    _defineProperty(_assertThisInitialized(_this), "upperMouseDown", function () {
      _this.setState({
        changing: 'upper'
      });

      window.addEventListener('mousemove', _this.mouseMove);
      window.addEventListener('mouseup', _this.mouseUp);
    });

    _defineProperty(_assertThisInitialized(_this), "selectionMouseDown", function (event) {
      var moveValue = _this.valueForMouseCoord(event);

      _this.setState({
        changing: 'selection',
        moveValue: moveValue
      });

      window.addEventListener('mousemove', _this.mouseMove);
      window.addEventListener('mouseup', _this.mouseUp);
    });

    _defineProperty(_assertThisInitialized(_this), "mouseMove", function (event) {
      var _this$props3 = _this.props,
          max = _this$props3.max,
          min = _this$props3.min,
          onChange = _this$props3.onChange,
          values = _this$props3.values;
      var _this$state = _this.state,
          changing = _this$state.changing,
          moveValue = _this$state.moveValue;

      var value = _this.valueForMouseCoord(event);

      var nextValues;

      if (changing === 'lower' && value <= values[1] && value !== moveValue) {
        nextValues = [value, values[1]];
      } else if (changing === 'upper' && value >= values[0] && value !== moveValue) {
        nextValues = [values[0], value];
      } else if (changing === 'selection' && value !== moveValue) {
        var delta = value - moveValue;

        if (values[0] + delta >= min && values[1] + delta <= max) {
          nextValues = [values[0] + delta, values[1] + delta];
        }
      }

      if (nextValues) {
        _this.setState({
          lastChange: changing,
          moveValue: value
        }, function () {
          onChange(nextValues);
        });
      }
    });

    _defineProperty(_assertThisInitialized(_this), "mouseUp", function () {
      _this.setState({
        changing: undefined
      });

      window.removeEventListener('mousemove', _this.mouseMove);
      window.removeEventListener('mouseup', _this.mouseUp);
    });

    return _this;
  }

  var _proto = RangeSelector.prototype;

  _proto.componentWillUnmount = function componentWillUnmount() {
    window.removeEventListener('mousemove', this.mouseMove);
    window.removeEventListener('mouseup', this.mouseUp);
  };

  _proto.render = function render() {
    var _this$props4 = this.props,
        color = _this$props4.color,
        direction = _this$props4.direction,
        forwardRef = _this$props4.forwardRef,
        invert = _this$props4.invert,
        max = _this$props4.max,
        messages = _this$props4.messages,
        min = _this$props4.min,
        onChange = _this$props4.onChange,
        opacity = _this$props4.opacity,
        round = _this$props4.round,
        size = _this$props4.size,
        step = _this$props4.step,
        values = _this$props4.values,
        propsTheme = _this$props4.theme,
        rest = _objectWithoutPropertiesLoose(_this$props4, ["color", "direction", "forwardRef", "invert", "max", "messages", "min", "onChange", "opacity", "round", "size", "step", "values", "theme"]);

    var theme = this.context || propsTheme;
    var _this$state2 = this.state,
        nextLower = _this$state2.nextLower,
        nextUpper = _this$state2.nextUpper;
    var lower = nextLower !== undefined ? nextLower : values[0];
    var upper = nextUpper !== undefined ? nextUpper : values[1]; // It needs to be true when vertical, due to how browsers manage height

    var fill = direction === 'vertical' ? true : 'vertical';
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Container, _extends({
      ref: this.containerRef,
      direction: direction === 'vertical' ? 'column' : 'row',
      fill: fill
    }, rest, {
      tabIndex: "-1",
      onClick: onChange ? this.onClick : undefined
    }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"], {
      style: {
        flex: lower - min + " 0 0"
      },
      background: invert ? // preserve existing dark, instead of using darknes
      // of this color
      {
        color: color || theme.rangeSelector.background.invert.color,
        opacity: opacity,
        dark: theme.dark
      } : undefined,
      fill: fill,
      round: round
    }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_EdgeControl__WEBPACK_IMPORTED_MODULE_6__["EdgeControl"], {
      a11yTitle: messages.lower,
      tabIndex: 0,
      ref: forwardRef,
      color: color,
      direction: direction,
      edge: "lower",
      onMouseDown: onChange ? this.lowerMouseDown : undefined,
      onDecrease: onChange && lower - step >= min ? function () {
        return onChange([lower - step, upper]);
      } : undefined,
      onIncrease: onChange && lower + step <= upper ? function () {
        return onChange([lower + step, upper]);
      } : undefined
    }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"], {
      style: {
        flex: upper - lower + 1 + " 0 0",
        cursor: direction === 'vertical' ? 'ns-resize' : 'ew-resize'
      },
      background: invert ? undefined : // preserve existing dark, instead of using darknes of
      // this color
      {
        color: color || 'control',
        opacity: opacity,
        dark: theme.dark
      },
      fill: fill,
      round: round,
      onMouseDown: onChange ? this.selectionMouseDown : undefined
    }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_EdgeControl__WEBPACK_IMPORTED_MODULE_6__["EdgeControl"], {
      a11yTitle: messages.upper,
      tabIndex: 0,
      color: color,
      direction: direction,
      edge: "upper",
      onMouseDown: onChange ? this.upperMouseDown : undefined,
      onDecrease: onChange && upper - step >= lower ? function () {
        return onChange([lower, upper - step]);
      } : undefined,
      onIncrease: onChange && upper + step <= max ? function () {
        return onChange([lower, upper + step]);
      } : undefined
    }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"], {
      style: {
        flex: max - upper + " 0 0"
      },
      background: invert ? // preserve existing dark, instead of using darknes of this
      // color
      {
        color: color || theme.rangeSelector.background.invert.color,
        opacity: opacity,
        dark: theme.dark
      } : undefined,
      fill: fill,
      round: round
    }));
  };

  return RangeSelector;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

_defineProperty(RangeSelector, "contextType", _contexts__WEBPACK_IMPORTED_MODULE_3__["ThemeContext"]);

_defineProperty(RangeSelector, "defaultProps", {
  direction: 'horizontal',
  max: 100,
  messages: {
    lower: 'Lower Bounds',
    upper: 'Upper Bounds'
  },
  min: 0,
  opacity: 'medium',
  size: 'medium',
  step: 1,
  values: []
});

var RangeSelectorDoc;

if (true) {
  // eslint-disable-next-line global-require
  RangeSelectorDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/RangeSelector/doc.js").doc(RangeSelector);
}

var RangeSelectorWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(_hocs__WEBPACK_IMPORTED_MODULE_5__["withForwardRef"])(RangeSelectorDoc || RangeSelector);


/***/ }),

/***/ "./node_modules/grommet/es6/components/RangeSelector/doc.js":
/*!******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/RangeSelector/doc.js ***!
  \******************************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");


var doc = function doc(RangeSelector) {
  var DocumentedRangeSelector = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(RangeSelector).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('RangeSelector')).description('A control to input a range of values.').usage("import { RangeSelector } from 'grommet';\n<RangeSelector />").intrinsicElement('div');
  DocumentedRangeSelector.propTypes = {
    color: _utils__WEBPACK_IMPORTED_MODULE_1__["colorPropType"].description('What color to use to indicate the selection.'),
    direction: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['horizontal', 'vertical']).description('').defaultValue('horizontal'),
    invert: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Whether to indicate what has not been selected.'),
    max: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number.description('The maximum value permitted.').defaultValue(100),
    messages: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      lower: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
      upper: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string
    }).description('Custom messages used by screen readers for accessibility.'),
    min: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number.description('The minimum value permitted.').defaultValue(0),
    onChange: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Function that will be called when the user changes one of the\n      values. It will be passed an array of two numbers indicating\n      the new values selected."),
    opacity: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['weak', 'medium', 'strong']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool]).description('Transparency of the selection indicator.').defaultValue('medium'),
    round: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['xsmall', 'small', 'medium', 'large', 'full']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description('How much to round the corners.'),
    size: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['xxsmall', 'xsmall', 'small', 'medium', 'large', 'xlarge', 'full']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description('How thick to make the selection indicator.').defaultValue('medium'),
    step: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number.description('The step interval between values.').defaultValue(1),
    values: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number).description('The current values.').isRequired
  };
  return DocumentedRangeSelector;
};
var themeDoc = {
  'global.borderSize': {
    description: 'The size of the border.',
    type: 'string',
    defaultValue: "{\n      xsmall: '1px',\n      small: '2px',\n      medium: '4px',\n      large: '12px',\n      xlarge: '24px,\n    }"
  },
  'global.colors.border': {
    description: 'The color for the border.',
    type: 'string | { dark: string, light: string }',
    defaultValue: {
      dark: 'rgba(255, 255, 255, 0.33)',
      light: 'rgba(0, 0, 0, 0.33)'
    }
  },
  'global.colors.control': {
    description: 'The color for the edge controls.',
    type: 'string | { dark: string, light: string }',
    defaultValue: '{dark: accent-1, light: brand}'
  },
  'global.colors.focus': {
    description: 'The color of the focus.',
    type: 'string',
    defaultValue: 'accent-1'
  },
  'global.edgeSize.small': {
    description: 'The possible sizes for the margin, padding and gap.',
    type: 'string',
    defaultValue: '6px'
  },
  'rangeSelector.background.invert.color': {
    description: 'The background color on an invert display.',
    type: 'string',
    defaultValue: 'light-4'
  },
  'rangeSelector.edge.type': {
    description: 'The edge control type.',
    type: "'bar' | 'disc' | node",
    defaultValue: undefined
  },
  'global.spacing': {
    description: 'The size of the edge controls thumb.',
    type: 'string',
    defaultValue: '24px'
  }
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/RangeSelector/index.js":
/*!********************************************************************!*\
  !*** ./node_modules/grommet/es6/components/RangeSelector/index.js ***!
  \********************************************************************/
/*! exports provided: RangeSelector */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _RangeSelector__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RangeSelector */ "./node_modules/grommet/es6/components/RangeSelector/RangeSelector.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RangeSelector", function() { return _RangeSelector__WEBPACK_IMPORTED_MODULE_0__["RangeSelector"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/RoutedAnchor/RoutedAnchor.js":
/*!**************************************************************************!*\
  !*** ./node_modules/grommet/es6/components/RoutedAnchor/RoutedAnchor.js ***!
  \**************************************************************************/
/*! exports provided: RoutedAnchor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoutedAnchor", function() { return RoutedAnchorWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _Anchor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Anchor */ "./node_modules/grommet/es6/components/Anchor/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }





var RoutedAnchor =
/*#__PURE__*/
function (_Component) {
  _inheritsLoose(RoutedAnchor, _Component);

  function RoutedAnchor() {
    return _Component.apply(this, arguments) || this;
  }

  var _proto = RoutedAnchor.prototype;

  _proto.render = function render() {
    var _this = this;

    var _this$props = this.props,
        path = _this$props.path,
        method = _this$props.method,
        rest = _objectWithoutPropertiesLoose(_this$props, ["path", "method"]);

    if (true) {
      console.warn("This component will be deprecated in the upcoming releases. \n        Please refer to https://github.com/grommet/grommet/issues/2855 \n        for more information.");
    }

    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Anchor__WEBPACK_IMPORTED_MODULE_2__["Anchor"], _extends({}, rest, {
      href: path,
      onClick: function onClick(event) {
        var onClick = _this.props.onClick;
        var router = _this.context.router;

        if (event) {
          var modifierKey = event.ctrlKey || event.metaKey; // if the user right-clicked in the Anchor we should let it go

          if (modifierKey) {
            return;
          }
        }

        if (router) {
          event.preventDefault();
          (router.history || router)[method](path);
        }

        if (onClick) {
          for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
            args[_key - 1] = arguments[_key];
          }

          onClick.apply(void 0, [event].concat(args));
        }
      }
    }));
  };

  return RoutedAnchor;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

_defineProperty(RoutedAnchor, "contextTypes", {
  router: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({}).isRequired
});

_defineProperty(RoutedAnchor, "defaultProps", {
  method: 'push'
});

var RoutedAnchorDoc;

if (true) {
  // eslint-disable-next-line global-require
  RoutedAnchorDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/RoutedAnchor/doc.js").doc(RoutedAnchor);
}

var RoutedAnchorWrapper = RoutedAnchorDoc || RoutedAnchor;


/***/ }),

/***/ "./node_modules/grommet/es6/components/RoutedAnchor/doc.js":
/*!*****************************************************************!*\
  !*** ./node_modules/grommet/es6/components/RoutedAnchor/doc.js ***!
  \*****************************************************************/
/*! exports provided: doc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var doc = function doc(RoutedAnchor) {
  var DocumentedRoutedAnchor = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(RoutedAnchor).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('RoutedAnchor')).description('An Anchor with support for React Router.').usage("import { RoutedAnchor } from 'grommet';\n" + "<RoutedAnchor primary path='/documentation' />").intrinsicElement('a');
  DocumentedRoutedAnchor.propTypes = _extends({}, _utils__WEBPACK_IMPORTED_MODULE_1__["ROUTER_PROPS"]);
  return DocumentedRoutedAnchor;
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/RoutedAnchor/index.js":
/*!*******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/RoutedAnchor/index.js ***!
  \*******************************************************************/
/*! exports provided: RoutedAnchor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _RoutedAnchor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RoutedAnchor */ "./node_modules/grommet/es6/components/RoutedAnchor/RoutedAnchor.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RoutedAnchor", function() { return _RoutedAnchor__WEBPACK_IMPORTED_MODULE_0__["RoutedAnchor"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/RoutedButton/RoutedButton.js":
/*!**************************************************************************!*\
  !*** ./node_modules/grommet/es6/components/RoutedButton/RoutedButton.js ***!
  \**************************************************************************/
/*! exports provided: RoutedButton */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoutedButton", function() { return RoutedButtonWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Button */ "./node_modules/grommet/es6/components/Button/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }





var RoutedButton =
/*#__PURE__*/
function (_Component) {
  _inheritsLoose(RoutedButton, _Component);

  function RoutedButton() {
    var _this;

    for (var _len = arguments.length, _args = new Array(_len), _key = 0; _key < _len; _key++) {
      _args[_key] = arguments[_key];
    }

    _this = _Component.call.apply(_Component, [this].concat(_args)) || this;

    _defineProperty(_assertThisInitialized(_this), "onClick", function (event) {
      var _this$props = _this.props,
          method = _this$props.method,
          onClick = _this$props.onClick,
          path = _this$props.path;
      var router = _this.context.router;

      if (event) {
        var modifierKey = event.ctrlKey || event.metaKey; // if the user right-clicked in the button we should let it go

        if (modifierKey) {
          return;
        }
      }

      if (router) {
        event.preventDefault();
        (router.history || router)[method](path);
      }

      if (onClick) {
        for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
          args[_key2 - 1] = arguments[_key2];
        }

        onClick.apply(void 0, [event].concat(args));
      }
    });

    return _this;
  }

  var _proto = RoutedButton.prototype;

  _proto.render = function render() {
    var _this$props2 = this.props,
        href = _this$props2.href,
        path = _this$props2.path,
        method = _this$props2.method,
        onClick = _this$props2.onClick,
        rest = _objectWithoutPropertiesLoose(_this$props2, ["href", "path", "method", "onClick"]);

    if (true) {
      console.warn("This component will be deprecated in the upcoming releases.\n         Please refer to https://github.com/grommet/grommet/issues/2855 \n         for more information.");
    }

    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_2__["Button"], _extends({}, rest, {
      href: path || href,
      disabled: !path && !onClick,
      onClick: this.onClick
    }));
  };

  return RoutedButton;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

_defineProperty(RoutedButton, "contextTypes", {
  router: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({}).isRequired
});

_defineProperty(RoutedButton, "defaultProps", {
  method: 'push'
});

var RoutedButtonDoc;

if (true) {
  // eslint-disable-next-line global-require
  RoutedButtonDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/RoutedButton/doc.js").doc(RoutedButton);
}

var RoutedButtonWrapper = RoutedButtonDoc || RoutedButton;


/***/ }),

/***/ "./node_modules/grommet/es6/components/RoutedButton/doc.js":
/*!*****************************************************************!*\
  !*** ./node_modules/grommet/es6/components/RoutedButton/doc.js ***!
  \*****************************************************************/
/*! exports provided: doc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var doc = function doc(RoutedButton) {
  var DocumentedRoutedButton = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(RoutedButton).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('RoutedButton')).description('A button with support for React Router.').usage("import { RoutedButton } from 'grommet';\n<RoutedButton primary path='/documentation' />").intrinsicElement('button');
  DocumentedRoutedButton.propTypes = _extends({}, _utils__WEBPACK_IMPORTED_MODULE_1__["ROUTER_PROPS"]);
  return DocumentedRoutedButton;
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/RoutedButton/index.js":
/*!*******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/RoutedButton/index.js ***!
  \*******************************************************************/
/*! exports provided: RoutedButton */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _RoutedButton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RoutedButton */ "./node_modules/grommet/es6/components/RoutedButton/RoutedButton.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RoutedButton", function() { return _RoutedButton__WEBPACK_IMPORTED_MODULE_0__["RoutedButton"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Select/Select.js":
/*!**************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Select/Select.js ***!
  \**************************************************************/
/*! exports provided: Select */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Select", function() { return SelectWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
/* harmony import */ var _DropButton__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../DropButton */ "./node_modules/grommet/es6/components/DropButton/index.js");
/* harmony import */ var _Keyboard__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Keyboard */ "./node_modules/grommet/es6/components/Keyboard/index.js");
/* harmony import */ var _TextInput__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../TextInput */ "./node_modules/grommet/es6/components/TextInput/index.js");
/* harmony import */ var _hocs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../hocs */ "./node_modules/grommet/es6/components/hocs.js");
/* harmony import */ var _SelectContainer__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./SelectContainer */ "./node_modules/grommet/es6/components/Select/SelectContainer.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }












var SelectTextInput = Object(styled_components__WEBPACK_IMPORTED_MODULE_2__["default"])(_TextInput__WEBPACK_IMPORTED_MODULE_8__["TextInput"]).withConfig({
  displayName: "Select__SelectTextInput",
  componentId: "sc-17idtfo-0"
})(["cursor:pointer;"]);
var StyledSelectDropButton = Object(styled_components__WEBPACK_IMPORTED_MODULE_2__["default"])(_DropButton__WEBPACK_IMPORTED_MODULE_6__["DropButton"]).withConfig({
  displayName: "Select__StyledSelectDropButton",
  componentId: "sc-17idtfo-1"
})(["", ";", ";", ";"], function (props) {
  return !props.plain && _utils__WEBPACK_IMPORTED_MODULE_3__["controlBorderStyle"];
}, function (props) {
  return props.theme.select && props.theme.select.control && props.theme.select.control.extend;
}, function (props) {
  return props.open && props.theme.select.control.open;
});
StyledSelectDropButton.defaultProps = {};
Object.setPrototypeOf(StyledSelectDropButton.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_4__["defaultProps"]);

var Select = function Select(props) {
  var a11yTitle = props.a11yTitle,
      alignSelf = props.alignSelf,
      children = props.children,
      closeOnChange = props.closeOnChange,
      disabled = props.disabled,
      dropAlign = props.dropAlign,
      dropProps = props.dropProps,
      dropTarget = props.dropTarget,
      forwardRef = props.forwardRef,
      gridArea = props.gridArea,
      id = props.id,
      icon = props.icon,
      labelKey = props.labelKey,
      margin = props.margin,
      messages = props.messages,
      onChange = props.onChange,
      onClose = props.onClose,
      onMore = props.onMore,
      onOpen = props.onOpen,
      propOpen = props.open,
      options = props.options,
      placeholder = props.placeholder,
      plain = props.plain,
      selected = props.selected,
      size = props.size,
      theme = props.theme,
      value = props.value,
      valueLabel = props.valueLabel,
      rest = _objectWithoutPropertiesLoose(props, ["a11yTitle", "alignSelf", "children", "closeOnChange", "disabled", "dropAlign", "dropProps", "dropTarget", "forwardRef", "gridArea", "id", "icon", "labelKey", "margin", "messages", "onChange", "onClose", "onMore", "onOpen", "open", "options", "placeholder", "plain", "selected", "size", "theme", "value", "valueLabel"]);

  var inputRef = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])();

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(propOpen),
      open = _useState[0],
      setOpen = _useState[1];

  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    setOpen(propOpen);
  }, [propOpen]);

  var onRequestOpen = function onRequestOpen() {
    setOpen(true);

    if (onOpen) {
      onOpen();
    }
  };

  var onRequestClose = function onRequestClose() {
    setOpen(false);

    if (onClose) {
      onClose();
    }
  };

  var onSelectChange = function onSelectChange(event) {
    if (closeOnChange) {
      onRequestClose();
    }

    if (onChange) {
      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
        args[_key - 1] = arguments[_key];
      }

      onChange.apply(void 0, [_extends({}, event, {
        target: inputRef.current
      })].concat(args));
    }
  };

  var SelectIcon;

  switch (icon) {
    case false:
      break;

    case true:
    case undefined:
      SelectIcon = theme.select.icons.down;
      break;

    default:
      SelectIcon = icon;
  }

  var selectValue;
  var inputValue = '';

  if (valueLabel) {
    selectValue = valueLabel;
  } else if (Array.isArray(value)) {
    if (value.length > 1) {
      if (react__WEBPACK_IMPORTED_MODULE_0___default.a.isValidElement(value[0])) {
        selectValue = value;
      } else {
        inputValue = messages.multiple;
      }
    } else if (value.length === 1) {
      if (react__WEBPACK_IMPORTED_MODULE_0___default.a.isValidElement(value[0])) {
        selectValue = value[0];
      } else if (labelKey && typeof value[0] === 'object') {
        if (typeof labelKey === 'function') {
          inputValue = labelKey(value[0]);
        } else {
          inputValue = value[0][labelKey];
        }
      } else {
        inputValue = value[0];
      }
    } else {
      inputValue = '';
    }
  } else if (labelKey && typeof value === 'object') {
    if (typeof labelKey === 'function') {
      inputValue = labelKey(value);
    } else {
      inputValue = value[labelKey];
    }
  } else if (react__WEBPACK_IMPORTED_MODULE_0___default.a.isValidElement(value)) {
    selectValue = value; // deprecated in favor of valueLabel
  } else if (selected !== undefined) {
    if (Array.isArray(selected)) {
      if (selected.length > 1) {
        inputValue = messages.multiple;
      } else if (selected.length === 1) {
        inputValue = options[selected[0]];
      }
    } else {
      inputValue = options[selected];
    }
  } else {
    inputValue = value;
  } // const dark = theme.select.background
  // ? colorIsDark(theme.select.background)
  // : theme.dark;


  var iconColor = Object(_utils__WEBPACK_IMPORTED_MODULE_3__["normalizeColor"])(theme.select.icons.color || 'control', theme);
  delete rest.onSearch;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Keyboard__WEBPACK_IMPORTED_MODULE_7__["Keyboard"], {
    onDown: onRequestOpen,
    onUp: onRequestOpen
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StyledSelectDropButton, {
    ref: forwardRef,
    id: id,
    disabled: disabled === true || undefined,
    dropAlign: dropAlign,
    dropTarget: dropTarget,
    open: open,
    alignSelf: alignSelf,
    gridArea: gridArea,
    margin: margin,
    onOpen: onRequestOpen,
    onClose: onRequestClose,
    dropContent: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_SelectContainer__WEBPACK_IMPORTED_MODULE_10__["SelectContainer"], _extends({}, props, {
      onChange: onSelectChange,
      onMore: onMore
    })),
    plain: plain,
    dropProps: _extends({}, dropProps)
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_5__["Box"], {
    align: "center",
    direction: "row",
    justify: "between",
    background: theme.select.background
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_5__["Box"], {
    direction: "row",
    flex: true,
    basis: "auto"
  }, selectValue || react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(SelectTextInput, _extends({
    a11yTitle: a11yTitle && "" + a11yTitle + (typeof value === 'string' ? ", " + value : ''),
    id: id ? id + "__input" : undefined,
    ref: inputRef
  }, rest, {
    tabIndex: "-1",
    type: "text",
    placeholder: placeholder,
    plain: true,
    readOnly: true,
    value: inputValue,
    size: size,
    onClick: disabled === true ? undefined : onRequestOpen
  }))), SelectIcon && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_5__["Box"], {
    margin: theme.select.icons.margin,
    flex: false,
    style: {
      minWidth: 'auto'
    }
  }, Object(react__WEBPACK_IMPORTED_MODULE_0__["isValidElement"])(SelectIcon) ? SelectIcon : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(SelectIcon, {
    color: iconColor,
    size: size
  })))));
};

Select.defaultProps = _extends({
  closeOnChange: true,
  dropAlign: {
    top: 'bottom',
    left: 'left'
  },
  messages: {
    multiple: 'multiple'
  }
}, _default_props__WEBPACK_IMPORTED_MODULE_4__["defaultProps"]);
var SelectDoc;

if (true) {
  // eslint-disable-next-line global-require
  SelectDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Select/doc.js").doc(Select);
}

var SelectWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(styled_components__WEBPACK_IMPORTED_MODULE_2__["withTheme"], _hocs__WEBPACK_IMPORTED_MODULE_9__["withForwardRef"])(SelectDoc || Select);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Select/SelectContainer.js":
/*!***********************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Select/SelectContainer.js ***!
  \***********************************************************************/
/*! exports provided: SelectContainer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SelectContainer", function() { return SelectContainerWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
/* harmony import */ var _InfiniteScroll__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../InfiniteScroll */ "./node_modules/grommet/es6/components/InfiniteScroll/index.js");
/* harmony import */ var _Keyboard__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Keyboard */ "./node_modules/grommet/es6/components/Keyboard/index.js");
/* harmony import */ var _Text__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Text */ "./node_modules/grommet/es6/components/Text/index.js");
/* harmony import */ var _TextInput__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../TextInput */ "./node_modules/grommet/es6/components/TextInput/index.js");
/* harmony import */ var _SelectOption__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./SelectOption */ "./node_modules/grommet/es6/components/Select/SelectOption.js");
/* harmony import */ var _StyledSelect__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./StyledSelect */ "./node_modules/grommet/es6/components/Select/StyledSelect.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }











 // position relative is so scroll can be managed correctly

var OptionsBox = Object(styled_components__WEBPACK_IMPORTED_MODULE_1__["default"])(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"]).withConfig({
  displayName: "SelectContainer__OptionsBox",
  componentId: "sc-1wi0ul8-0"
})(["position:relative;scroll-behavior:smooth;"]);
var OptionBox = Object(styled_components__WEBPACK_IMPORTED_MODULE_1__["default"])(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"]).withConfig({
  displayName: "SelectContainer__OptionBox",
  componentId: "sc-1wi0ul8-1"
})(["", ""], function (props) {
  return props.selected && _utils__WEBPACK_IMPORTED_MODULE_2__["selectedStyle"];
});

var SelectContainer =
/*#__PURE__*/
function (_Component) {
  _inheritsLoose(SelectContainer, _Component);

  function SelectContainer(props) {
    var _this;

    _this = _Component.call(this, props) || this;

    _defineProperty(_assertThisInitialized(_this), "optionRefs", {});

    _defineProperty(_assertThisInitialized(_this), "searchRef", Object(react__WEBPACK_IMPORTED_MODULE_0__["createRef"])());

    _defineProperty(_assertThisInitialized(_this), "optionsRef", Object(react__WEBPACK_IMPORTED_MODULE_0__["createRef"])());

    _defineProperty(_assertThisInitialized(_this), "onSearchChange", function (event) {
      _this.setState({
        search: event.target.value,
        activeIndex: -1
      }, function () {
        var search = _this.state.search;

        _this.onSearch(search);
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onSearch", Object(_utils__WEBPACK_IMPORTED_MODULE_2__["debounce"])(function (search) {
      var onSearch = _this.props.onSearch;
      onSearch(search);
    }, Object(_utils__WEBPACK_IMPORTED_MODULE_2__["debounceDelay"])(_this.props)));

    _defineProperty(_assertThisInitialized(_this), "selectOption", function (option) {
      return function () {
        var _this$props = _this.props,
            multiple = _this$props.multiple,
            onChange = _this$props.onChange,
            value = _this$props.value,
            selected = _this$props.selected;
        var initialOptions = _this.state.initialOptions;

        if (onChange) {
          var nextValue = Array.isArray(value) ? value.slice() : []; // preserve compatibility until selected is deprecated

          if (selected) {
            nextValue = selected.map(function (s) {
              return initialOptions[s];
            });
          }

          if (multiple) {
            if (nextValue.indexOf(option) !== -1) {
              nextValue = nextValue.filter(function (v) {
                return v !== option;
              });
            } else {
              nextValue.push(option);
            }
          } else {
            nextValue = option;
          }

          var nextSelected = Array.isArray(nextValue) ? nextValue.map(function (v) {
            return initialOptions.indexOf(v);
          }) : initialOptions.indexOf(nextValue);
          onChange({
            option: option,
            value: nextValue,
            selected: nextSelected
          });
        }
      };
    });

    _defineProperty(_assertThisInitialized(_this), "clearKeyboardNavigation", function () {
      clearTimeout(_this.keyboardNavTimer);
      _this.keyboardNavTimer = setTimeout(function () {
        _this.setState({
          keyboardNavigating: false
        });
      }, 100); // 100ms was empirically determined
    });

    _defineProperty(_assertThisInitialized(_this), "onNextOption", function (event) {
      var options = _this.props.options;
      var activeIndex = _this.state.activeIndex;
      event.preventDefault();
      var nextActiveIndex = activeIndex + 1;

      while (nextActiveIndex < options.length && _this.isDisabled(nextActiveIndex)) {
        nextActiveIndex += 1;
      }

      if (nextActiveIndex !== options.length) {
        _this.setState({
          activeIndex: nextActiveIndex,
          keyboardNavigating: true
        }, function () {
          var buttonNode = _this.optionRefs[nextActiveIndex];
          var optionsNode = _this.optionsRef.current;

          if (buttonNode && Object(_utils__WEBPACK_IMPORTED_MODULE_2__["isNodeAfterScroll"])(buttonNode, optionsNode) && optionsNode.scrollTo) {
            optionsNode.scrollTo(0, buttonNode.offsetTop - (optionsNode.getBoundingClientRect().height - buttonNode.getBoundingClientRect().height));
          }

          _this.clearKeyboardNavigation();
        });
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onPreviousOption", function (event) {
      var activeIndex = _this.state.activeIndex;
      event.preventDefault();
      var nextActiveIndex = activeIndex - 1;

      while (nextActiveIndex >= 0 && _this.isDisabled(nextActiveIndex)) {
        nextActiveIndex -= 1;
      }

      if (nextActiveIndex >= 0) {
        _this.setState({
          activeIndex: nextActiveIndex,
          keyboardNavigating: true
        }, function () {
          var buttonNode = _this.optionRefs[nextActiveIndex];
          var optionsNode = _this.optionsRef.current;

          if (buttonNode && Object(_utils__WEBPACK_IMPORTED_MODULE_2__["isNodeBeforeScroll"])(buttonNode, optionsNode) && optionsNode.scrollTo) {
            optionsNode.scrollTo(0, buttonNode.offsetTop);
          }

          _this.clearKeyboardNavigation();
        });
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onActiveOption", function (index) {
      return function () {
        var keyboardNavigating = _this.state.keyboardNavigating;

        if (!keyboardNavigating) {
          _this.setState({
            activeIndex: index
          });
        }
      };
    });

    _defineProperty(_assertThisInitialized(_this), "onSelectOption", function (event) {
      var options = _this.props.options;
      var activeIndex = _this.state.activeIndex;

      if (activeIndex >= 0) {
        event.preventDefault(); // prevent submitting forms

        _this.selectOption(options[activeIndex])();
      }
    });

    _defineProperty(_assertThisInitialized(_this), "optionLabel", function (index) {
      var _this$props2 = _this.props,
          options = _this$props2.options,
          labelKey = _this$props2.labelKey;
      var option = options[index];
      var optionLabel;

      if (labelKey) {
        if (typeof labelKey === 'function') {
          optionLabel = labelKey(option);
        } else {
          optionLabel = option[labelKey];
        }
      } else {
        optionLabel = option;
      }

      return optionLabel;
    });

    _defineProperty(_assertThisInitialized(_this), "optionValue", function (index) {
      var _this$props3 = _this.props,
          options = _this$props3.options,
          valueKey = _this$props3.valueKey;
      var option = options[index];
      var optionValue;

      if (valueKey) {
        if (typeof valueKey === 'function') {
          optionValue = valueKey(option);
        } else {
          optionValue = option[valueKey];
        }
      } else {
        optionValue = option;
      }

      return optionValue;
    });

    _defineProperty(_assertThisInitialized(_this), "isDisabled", function (index) {
      var _this$props4 = _this.props,
          disabled = _this$props4.disabled,
          disabledKey = _this$props4.disabledKey,
          options = _this$props4.options;
      var option = options[index];
      var result;

      if (disabledKey) {
        if (typeof disabledKey === 'function') {
          result = disabledKey(option, index);
        } else {
          result = option[disabledKey];
        }
      } else if (Array.isArray(disabled)) {
        if (typeof disabled[0] === 'number') {
          result = disabled.indexOf(index) !== -1;
        } else {
          var optionValue = _this.optionValue(index);

          result = disabled.indexOf(optionValue) !== -1;
        }
      }

      return result;
    });

    _defineProperty(_assertThisInitialized(_this), "isSelected", function (index) {
      var _this$props5 = _this.props,
          selected = _this$props5.selected,
          value = _this$props5.value,
          valueKey = _this$props5.valueKey;
      var result;

      if (selected) {
        // deprecated in favor of value
        result = selected.indexOf(index) !== -1;
      } else {
        var optionValue = _this.optionValue(index);

        if (Array.isArray(value)) {
          if (value.length === 0) {
            result = false;
          } else if (typeof value[0] !== 'object') {
            result = value.indexOf(optionValue) !== -1;
          } else if (valueKey) {
            result = value.some(function (valueItem) {
              var valueValue = typeof valueKey === 'function' ? valueKey(valueItem) : valueItem[valueKey];
              return valueValue === optionValue;
            });
          }
        } else if (valueKey && typeof value === 'object') {
          var valueValue = typeof valueKey === 'function' ? valueKey(value) : value[valueKey];
          result = valueValue === optionValue;
        } else {
          result = value === optionValue;
        }
      }

      return result;
    });

    _this.state = {
      initialOptions: props.options,
      search: '',
      activeIndex: -1
    };
    return _this;
  }

  SelectContainer.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {
    var options = nextProps.options,
        value = nextProps.value,
        onSearch = nextProps.onSearch;

    if (onSearch) {
      if (prevState.activeIndex === -1 && prevState.search === '' && options && value) {
        var optionValue = Array.isArray(value) && value.length ? value[0] : value;
        var activeIndex = options.indexOf(optionValue);
        return {
          activeIndex: activeIndex
        };
      }

      if (prevState.activeIndex === -1 && prevState.search !== '') {
        return {
          activeIndex: 0
        };
      }
    }

    return null;
  };

  var _proto = SelectContainer.prototype;

  _proto.componentDidMount = function componentDidMount() {
    var _this2 = this;

    var onSearch = this.props.onSearch;
    var activeIndex = this.state.activeIndex; // timeout need to send the operation through event loop and allow
    // time to the portal to be available

    setTimeout(function () {
      var optionsNode = _this2.optionsRef.current;

      if (onSearch) {
        var input = _this2.searchRef.current;

        if (input && input.focus) {
          Object(_utils__WEBPACK_IMPORTED_MODULE_2__["setFocusWithoutScroll"])(input);
        }
      } else if (optionsNode) {
        Object(_utils__WEBPACK_IMPORTED_MODULE_2__["setFocusWithoutScroll"])(optionsNode);
      } // scroll to active option if it is below the fold


      if (activeIndex >= 0 && optionsNode) {
        var optionNode = _this2.optionRefs[activeIndex];

        var _optionsNode$getBound = optionsNode.getBoundingClientRect(),
            containerBottom = _optionsNode$getBound.bottom;

        if (optionNode) {
          var _optionNode$getBoundi = optionNode.getBoundingClientRect(),
              optionTop = _optionNode$getBoundi.bottom;

          if (containerBottom < optionTop) {
            optionNode.scrollIntoView();
          }
        }
      }
    }, 0);
  };

  _proto.render = function render() {
    var _this3 = this;

    var _this$props6 = this.props,
        children = _this$props6.children,
        dropHeight = _this$props6.dropHeight,
        emptySearchMessage = _this$props6.emptySearchMessage,
        id = _this$props6.id,
        onMore = _this$props6.onMore,
        onKeyDown = _this$props6.onKeyDown,
        onSearch = _this$props6.onSearch,
        options = _this$props6.options,
        searchPlaceholder = _this$props6.searchPlaceholder,
        theme = _this$props6.theme,
        replace = _this$props6.replace;
    var _this$state = this.state,
        activeIndex = _this$state.activeIndex,
        search = _this$state.search;
    var customSearchInput = theme.select.searchInput;
    var SelectTextInput = customSearchInput || _TextInput__WEBPACK_IMPORTED_MODULE_8__["TextInput"];

    var selectOptionsStyle = _extends({}, theme.select.options.box, {}, theme.select.options.container);

    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Keyboard__WEBPACK_IMPORTED_MODULE_6__["Keyboard"], {
      onEnter: this.onSelectOption,
      onUp: this.onPreviousOption,
      onDown: this.onNextOption,
      onKeyDown: onKeyDown
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledSelect__WEBPACK_IMPORTED_MODULE_10__["StyledContainer"], {
      as: _Box__WEBPACK_IMPORTED_MODULE_4__["Box"],
      id: id ? id + "__select-drop" : undefined,
      dropHeight: dropHeight
    }, onSearch && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"], {
      pad: !customSearchInput ? 'xsmall' : undefined,
      flex: false
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(SelectTextInput, {
      focusIndicator: !customSearchInput,
      size: "small",
      ref: this.searchRef,
      type: "search",
      value: search,
      placeholder: searchPlaceholder,
      onChange: this.onSearchChange
    })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(OptionsBox, {
      flex: "shrink",
      role: "menubar",
      tabIndex: "-1",
      ref: this.optionsRef,
      overflow: "auto"
    }, options.length > 0 ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_InfiniteScroll__WEBPACK_IMPORTED_MODULE_5__["InfiniteScroll"], {
      items: options,
      step: theme.select.step,
      onMore: onMore,
      replace: replace
    }, function (option, index) {
      var isDisabled = _this3.isDisabled(index);

      var isSelected = _this3.isSelected(index);

      var isActive = activeIndex === index;
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_SelectOption__WEBPACK_IMPORTED_MODULE_9__["SelectOption"] // eslint-disable-next-line react/no-array-index-key
      , {
        key: index,
        ref: function ref(_ref) {
          _this3.optionRefs[index] = _ref;
        },
        disabled: isDisabled || undefined,
        active: isActive,
        selected: isSelected,
        option: option,
        onMouseOver: !isDisabled ? _this3.onActiveOption(index) : undefined,
        onClick: !isDisabled ? _this3.selectOption(option) : undefined
      }, children ? children(option, index, options, {
        active: isActive,
        disabled: isDisabled,
        selected: isSelected
      }) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(OptionBox, _extends({}, selectOptionsStyle, {
        selected: isSelected
      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Text__WEBPACK_IMPORTED_MODULE_7__["Text"], theme.select.options.text, _this3.optionLabel(index))));
    }) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_SelectOption__WEBPACK_IMPORTED_MODULE_9__["SelectOption"], {
      key: "search_empty",
      disabled: true,
      option: emptySearchMessage
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(OptionBox, selectOptionsStyle, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Text__WEBPACK_IMPORTED_MODULE_7__["Text"], theme.select.container.text, emptySearchMessage))))));
  };

  return SelectContainer;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

_defineProperty(SelectContainer, "defaultProps", {
  children: null,
  disabled: undefined,
  emptySearchMessage: 'No matches found',
  id: undefined,
  multiple: false,
  name: undefined,
  onKeyDown: undefined,
  onSearch: undefined,
  options: undefined,
  searchPlaceholder: undefined,
  selected: undefined,
  value: '',
  replace: true
});

Object.setPrototypeOf(SelectContainer.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_3__["defaultProps"]);
var SelectContainerWrapper = Object(styled_components__WEBPACK_IMPORTED_MODULE_1__["withTheme"])(SelectContainer);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Select/SelectOption.js":
/*!********************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Select/SelectOption.js ***!
  \********************************************************************/
/*! exports provided: SelectOption */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SelectOption", function() { return SelectOptionWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Button */ "./node_modules/grommet/es6/components/Button/index.js");
/* harmony import */ var _hocs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../hocs */ "./node_modules/grommet/es6/components/hocs.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }






function areEqual(prevProps, nextProps) {
  var active = prevProps.active,
      disabled = prevProps.disabled,
      option = prevProps.option,
      selected = prevProps.selected;
  var nextActive = nextProps.active,
      nextDisabled = nextProps.disabled,
      nextOption = nextProps.option,
      nextSelected = nextProps.selected;
  return active === nextActive && selected === nextSelected && disabled === nextDisabled && option === nextOption;
}

var SelectOption = react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(function (_ref) {
  var forwardRef = _ref.forwardRef,
      rest = _objectWithoutPropertiesLoose(_ref, ["forwardRef"]);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_1__["Box"], {
    flex: false
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_2__["Button"], _extends({
    tabIndex: "-1",
    ref: forwardRef,
    role: "menuitem",
    hoverIndicator: "background"
  }, rest)));
}, areEqual);
var SelectOptionWrapper = Object(_hocs__WEBPACK_IMPORTED_MODULE_3__["withForwardRef"])(SelectOption);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Select/StyledSelect.js":
/*!********************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Select/StyledSelect.js ***!
  \********************************************************************/
/*! exports provided: StyledContainer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledContainer", function() { return StyledContainer; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");


var StyledContainer = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledSelect__StyledContainer",
  componentId: "znp66n-0"
})(["@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){width:100%;}", ";", ";"], function (props) {
  return props.dropHeight ? Object(_utils__WEBPACK_IMPORTED_MODULE_1__["sizeStyle"])('max-height', props.dropHeight, props.theme) : 'max-height: inherit;';
}, function (props) {
  return props.theme.select.container && props.theme.select.container.extend;
});

/***/ }),

/***/ "./node_modules/grommet/es6/components/Select/doc.js":
/*!***********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Select/doc.js ***!
  \***********************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var doc = function doc(Select) {
  var DocumentedSelect = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Select).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('Select')).description('A control to select a value, with optional search.').usage("import { Select } from 'grommet';\n<Select />"); // We don't include svg due to a collision on the values property
  // .intrinsicElement('select');

  DocumentedSelect.propTypes = _extends({}, _utils__WEBPACK_IMPORTED_MODULE_1__["genericProps"], {
    children: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Function that will be called when each option is rendered.\n      It will be passed (option, index, options, state) where option\n      is the option to render, index is the index of that option in the\n      options array, and state is an object with\n      { active, disabled, selected } keys indicating the current state\n      of the option."),
    closeOnChange: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Wether to close the drop when a selection is made.').defaultValue(true),
    disabled: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object]))]).description("Whether the entire select or individual options should be disabled.\n        An array of numbers indicates the indexes into 'options' of the\n        disabled options. An array of strings or objects work the same way\n        as the 'value' to indicate which options are disabled.").defaultValue(false),
    disabledKey: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func]).description("When the options array contains objects, this property indicates how\n      to determine which options should be disabled. If a string is\n      provided, it is used as the key for each item object and if that key\n      returns truthy, the option is disabled. If a function is provided, it is\n      called with the option and the return value determines if the option\n      is disabled."),
    dropAlign: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      top: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['top', 'bottom']),
      bottom: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['top', 'bottom']),
      right: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['left', 'right']),
      left: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['left', 'right'])
    }).description('How to align the drop.').defaultValue({
      top: 'bottom',
      left: 'left'
    }),
    dropHeight: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['xsmall', 'small', 'medium', 'large', 'xlarge']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description('The height of the drop container.'),
    dropTarget: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object.description("Target where the options drop will be aligned to. This should be\n      a React reference. Typically, this is not required as the drop will be\n      aligned to the Select itself by default."),
    dropProps: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object.description('Any valid Drop prop.'),
    focusIndicator: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Whether when 'plain' it should receive a focus outline."),
    icon: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].node]).description("A custom icon to be used when rendering the select. You can use false to\n       not render an icon at all."),
    labelKey: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func]).description("When the options array contains objects, this property indicates how\n      to determine the label of each option. If a string is\n      provided, it is used as the key to retrieve each option's label.\n      If a function is provided, it is called with the option and the\n      return value indicates the label."),
    messages: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      multiple: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string
    }).description('Custom messages.'),
    multiple: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Whether to allow multiple options to be selected.'),
    onChange: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description('Function that will be called when the user selects an option.'),
    onClose: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description('Function that will be called when the Select drop closes.'),
    onOpen: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description('Function that will be called when the Select drop opens.'),
    onSearch: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Function that will be called when the user types in the search input.\n      If this property is not provided, no search field will be rendered."),
    onMore: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Use this to indicate that 'items' doesn't contain all that it could.\n      It will be called when the entire list of items has been rendered.\n      This might be used when the total number of items that could be retrieved\n      is more than you'd want to load into the browser. 'onMore' allows you\n      to lazily fetch more from the server only when needed."),
    options: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].element, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object])).description("Options can be either a string or an object. If an object is used, use\n      children callback in order to render anything based on the current item.").isRequired,
    open: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Control the state of the component."),
    placeholder: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].element, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].node]).description('Placeholder to use when no value is provided.'),
    plain: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Whether this is a plain Select input with no border or padding.'),
    replace: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Whether to replace previously rendered items with a generic spacing\n      element when they have scrolled out of view. This is more performant but\n      means that in-page searching will not find elements that have been\n      replaced.").defaultValue(true),
    searchPlaceholder: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description("Placeholder text to use in the search box when the search input is \n      empty."),
    selected: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number)]).description("Index of the currently selected option. When multiple, the set of\n      options selected. NOTE: This is deprecated in favor of indicating\n      the selected values via the 'value' property."),
    size: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['small', 'medium', 'large', 'xlarge']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description('The size of the text and icon.'),
    value: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].element, // deprecated, use valueLabel
    react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object]))]).description("Currently selected value. This can be an array\n      when multiple. Passing an element allows the caller to control how\n      the value is rendered. Passing an element is deprecated. Instead,\n      use the 'valueLabel' property."),
    valueLabel: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].node.description("Provides custom rendering of the value. If not provided, Select\n      will render the value automatically."),
    valueKey: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func]).description("When the options array contains objects, this property indicates how\n      to determine the value of each option. If a string is\n      provided, it is used as the key to retrieve each option's value.\n      If a function is provided, it is called with the option and the\n      return value indicates the value."),
    emptySearchMessage: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description("Empty option message to display when no matching results were found").defaultValue('No matches found')
  });
  return DocumentedSelect;
};
var themeDoc = {
  'global.hover.background': {
    description: 'The background style when hovering.',
    type: 'string | { color: string, opacity: string }',
    defaultValue: "{ color: 'active', opacity: 'medium' }"
  },
  'global.hover.color': {
    description: 'The text color when hovering.',
    type: 'string | { dark: string, light: string }',
    defaultValue: "{ dark: 'white', light: 'black' }"
  },
  'select.background': {
    description: 'The background color used for Select.',
    type: 'string',
    defaultValue: undefined
  },
  'select.options.container': {
    description: 'Any valid Box prop for the options container.',
    type: 'object',
    defaultValue: "{ align: 'start', pad: 'small' }"
  },
  'select.options.text': {
    description: 'Any valid Text prop for text used inside the options container.',
    type: 'object',
    defaultValue: "{ margin: 'none }"
  },
  'select.container.extend': {
    description: 'Any additional style for the container of the Select component.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'select.control.open': {
    description: "Any additional style for the control open state of the Select \ncomponent.",
    type: 'object',
    defaultValue: undefined
  },
  'select.control.extend': {
    description: 'Any additional style for the control of the Select component.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'select.icons.margin': {
    description: 'The margin used for Select icons.',
    type: 'string | object',
    defaultValue: undefined
  },
  'select.icons.color': {
    description: 'The color used for Select icons.',
    type: 'string | { dark: string, light: string }',
    defaultValue: undefined
  },
  'select.icons.down': {
    description: 'The down icon to use for opening the Select.',
    type: 'React.Element',
    defaultValue: '<FormDown />'
  },
  'select.searchInput': {
    description: "Component for the Select search input field.",
    type: 'React.Component',
    defaultValue: undefined
  },
  'select.step': {
    description: "How many items to render at a time.",
    type: 'number',
    defaultValue: 20
  }
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/Select/index.js":
/*!*************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Select/index.js ***!
  \*************************************************************/
/*! exports provided: Select */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Select__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Select */ "./node_modules/grommet/es6/components/Select/Select.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Select", function() { return _Select__WEBPACK_IMPORTED_MODULE_0__["Select"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/SkipLink/SkipLink.js":
/*!******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/SkipLink/SkipLink.js ***!
  \******************************************************************/
/*! exports provided: SkipLink */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SkipLink", function() { return SkipLink; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Anchor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Anchor */ "./node_modules/grommet/es6/components/Anchor/index.js");
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }




var SkipLink = function SkipLink(_ref) {
  var id = _ref.id,
      label = _ref.label,
      rest = _objectWithoutPropertiesLoose(_ref, ["id", "label"]);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_2__["Box"], {
    margin: "small"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Anchor__WEBPACK_IMPORTED_MODULE_1__["Anchor"], _extends({
    href: "#" + id,
    label: label
  }, rest)));
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/SkipLink/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/grommet/es6/components/SkipLink/index.js ***!
  \***************************************************************/
/*! exports provided: SkipLink */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _SkipLink__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./SkipLink */ "./node_modules/grommet/es6/components/SkipLink/SkipLink.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SkipLink", function() { return _SkipLink__WEBPACK_IMPORTED_MODULE_0__["SkipLink"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/SkipLinkTarget/SkipLinkTarget.js":
/*!******************************************************************************!*\
  !*** ./node_modules/grommet/es6/components/SkipLinkTarget/SkipLinkTarget.js ***!
  \******************************************************************************/
/*! exports provided: SkipLinkTarget */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SkipLinkTarget", function() { return SkipLinkTarget; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _Anchor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Anchor */ "./node_modules/grommet/es6/components/Anchor/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }




var HiddenAnchor = Object(styled_components__WEBPACK_IMPORTED_MODULE_1__["default"])(_Anchor__WEBPACK_IMPORTED_MODULE_2__["Anchor"]).withConfig({
  displayName: "SkipLinkTarget__HiddenAnchor",
  componentId: "sc-16wjfgk-0"
})(["width:0;height:0;overflow:hidden;position:absolute;"]);
var SkipLinkTarget = function SkipLinkTarget(_ref) {
  var label = _ref.label,
      rest = _objectWithoutPropertiesLoose(_ref, ["label"]);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(HiddenAnchor, _extends({}, rest, {
    tabIndex: "-1",
    "aria-hidden": "true"
  }), label);
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/SkipLinkTarget/index.js":
/*!*********************************************************************!*\
  !*** ./node_modules/grommet/es6/components/SkipLinkTarget/index.js ***!
  \*********************************************************************/
/*! exports provided: SkipLinkTarget */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _SkipLinkTarget__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./SkipLinkTarget */ "./node_modules/grommet/es6/components/SkipLinkTarget/SkipLinkTarget.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SkipLinkTarget", function() { return _SkipLinkTarget__WEBPACK_IMPORTED_MODULE_0__["SkipLinkTarget"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/SkipLinks/SkipLinks.js":
/*!********************************************************************!*\
  !*** ./node_modules/grommet/es6/components/SkipLinks/SkipLinks.js ***!
  \********************************************************************/
/*! exports provided: SkipLinks */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SkipLinks", function() { return SkipLinksWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
/* harmony import */ var _Heading__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Heading */ "./node_modules/grommet/es6/components/Heading/index.js");
/* harmony import */ var _Layer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Layer */ "./node_modules/grommet/es6/components/Layer/index.js");





var SkipLinks = function SkipLinks(_ref) {
  var children = _ref.children,
      id = _ref.id,
      messages = _ref.messages;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(false),
      showLayer = _useState[0],
      setShowLayer = _useState[1];

  var layerRef = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])(null);

  var onFocus = function onFocus() {
    setShowLayer(true);
  };

  var removeLayer = function removeLayer() {
    setShowLayer(false);
  };

  var onBlur = function onBlur() {
    // timeout needed so it gives enough time for activeElement to be updated
    setTimeout(function () {
      var layerNode = layerRef.current;

      if (layerNode && layerNode.layerContainer.contains && !layerNode.layerContainer.contains(document.activeElement)) {
        removeLayer();
      }
    }, 0);
  };

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Layer__WEBPACK_IMPORTED_MODULE_3__["Layer"], {
    id: id,
    position: showLayer ? 'top' : 'hidden',
    ref: layerRef,
    onFocus: onFocus,
    onBlur: onBlur
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_1__["Box"], {
    pad: {
      horizontal: 'medium'
    }
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Heading__WEBPACK_IMPORTED_MODULE_2__["Heading"], {
    level: 2
  }, messages.skipTo, ":"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_1__["Box"], {
    direction: "row",
    align: "center",
    pad: {
      bottom: 'medium'
    }
  }, children.map(function (element, index) {
    return Object(react__WEBPACK_IMPORTED_MODULE_0__["cloneElement"])(element, {
      key: "skip-link-" + index,
      onClick: removeLayer
    });
  }))));
};

SkipLinks.defaultProps = {
  messages: {
    skipTo: 'Skip To'
  }
};
var SkipLinksDoc;

if (true) {
  // eslint-disable-next-line global-require
  SkipLinksDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/SkipLinks/doc.js").doc(SkipLinks);
}

var SkipLinksWrapper = SkipLinksDoc || SkipLinks;


/***/ }),

/***/ "./node_modules/grommet/es6/components/SkipLinks/doc.js":
/*!**************************************************************!*\
  !*** ./node_modules/grommet/es6/components/SkipLinks/doc.js ***!
  \**************************************************************/
/*! exports provided: doc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");


var doc = function doc(SkipLinks) {
  var DocumentedSkipLinks = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(SkipLinks).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('SkipLinks')).description('Describe a list of elements to skip to.').usage("import { SkipLinks } from 'grommet';\n<SkipLinks elements={['main', 'footer']} />");
  DocumentedSkipLinks.propTypes = {
    children: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].node.description('Array of SkipLink').isRequired,
    messages: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      skipTo: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string
    }).description("Custom messages for SkipLinks. Used for accessibility by screen \nreaders.")
  };
  return DocumentedSkipLinks;
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/SkipLinks/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/grommet/es6/components/SkipLinks/index.js ***!
  \****************************************************************/
/*! exports provided: SkipLinks */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _SkipLinks__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./SkipLinks */ "./node_modules/grommet/es6/components/SkipLinks/SkipLinks.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SkipLinks", function() { return _SkipLinks__WEBPACK_IMPORTED_MODULE_0__["SkipLinks"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Stack/Stack.js":
/*!************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Stack/Stack.js ***!
  \************************************************************/
/*! exports provided: Stack */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Stack", function() { return StackWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _StyledStack__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./StyledStack */ "./node_modules/grommet/es6/components/Stack/StyledStack.js");
function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }




var buildStyledChildren = function buildStyledChildren(_ref) {
  var anchor = _ref.anchor,
      fill = _ref.fill,
      guidingIndex = _ref.guidingIndex,
      interactiveChild = _ref.interactiveChild,
      interactiveIndex = _ref.interactiveIndex;
  var childIndex = 0;
  return function (child) {
    if (child) {
      var interactive = interactiveChild === undefined || interactiveIndex === childIndex;
      var isGuidingIndex = childIndex === guidingIndex;
      childIndex += 1;
      var props = isGuidingIndex ? {
        guiding: true,
        fillContainer: fill
      } : {
        anchor: anchor
      };
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledStack__WEBPACK_IMPORTED_MODULE_1__["StyledStackLayer"], _extends({
        interactive: interactive
      }, props), child);
    }

    return child;
  };
};

var Stack = function Stack(_ref2) {
  var anchor = _ref2.anchor,
      children = _ref2.children,
      fill = _ref2.fill,
      guidingChild = _ref2.guidingChild,
      interactiveChild = _ref2.interactiveChild,
      rest = _objectWithoutPropertiesLoose(_ref2, ["anchor", "children", "fill", "guidingChild", "interactiveChild"]);

  var toChildIndex = function toChildIndex(child) {
    var index = child;
    if (index === 'first' || !index) index = 0;else if (index === 'last') index = react__WEBPACK_IMPORTED_MODULE_0___default.a.Children.count(children) - 1;
    return index;
  };

  var guidingIndex = toChildIndex(guidingChild);
  var interactiveIndex = interactiveChild && toChildIndex(interactiveChild);
  var styledChildren = react__WEBPACK_IMPORTED_MODULE_0__["Children"].map(children, buildStyledChildren({
    anchor: anchor,
    fill: fill,
    guidingIndex: guidingIndex,
    interactiveChild: interactiveChild,
    interactiveIndex: interactiveIndex
  }));
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledStack__WEBPACK_IMPORTED_MODULE_1__["StyledStack"], _extends({
    fillContainer: fill
  }, rest), styledChildren);
};

var StackDoc;

if (true) {
  StackDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Stack/doc.js").doc(Stack); // eslint-disable-line global-require
}

var StackWrapper = StackDoc || Stack;


/***/ }),

/***/ "./node_modules/grommet/es6/components/Stack/StyledStack.js":
/*!******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Stack/StyledStack.js ***!
  \******************************************************************/
/*! exports provided: StyledStack, StyledStackLayer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledStack", function() { return StyledStack; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledStackLayer", function() { return StyledStackLayer; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");



var fillStyle = "\n  width: 100%;\n  height: 100%;\n  max-width: none;\n  flex-grow: 1;\n  display: flex;\n";
var StyledStack = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledStack",
  componentId: "ajspsk-0"
})(["position:relative;", " ", " ", ""], _utils__WEBPACK_IMPORTED_MODULE_1__["genericStyles"], function (props) {
  return props.fillContainer && fillStyle;
}, function (props) {
  return props.theme.stack && props.theme.stack.extend;
});
StyledStack.defaultProps = {};
Object.setPrototypeOf(StyledStack.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var styleMap = {
  fill: "\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n  ",
  center: "\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n  ",
  left: "\n    top: 50%;\n    left: 0;\n    transform: translateY(-50%);\n  ",
  right: "\n    top: 50%;\n    right: 0;\n    transform: translateY(-50%);\n  ",
  top: "\n    top: 0;\n    left: 50%;\n    transform: translateX(-50%);\n  ",
  bottom: "\n    bottom: 0;\n    left: 50%;\n    transform: translateX(-50%);\n  ",
  'top-left': "\n    top: 0;\n    left: 0;\n  ",
  'bottom-left': "\n    bottom: 0;\n    left: 0;\n  ",
  'top-right': "\n    top: 0;\n    right: 0;\n  ",
  'bottom-right': "\n    bottom: 0;\n    right: 0;\n  "
};
var StyledStackLayer = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledStack__StyledStackLayer",
  componentId: "ajspsk-1"
})(["position:", ";", " ", " ", " ", ""], function (props) {
  return props.guiding ? 'relative' : 'absolute';
}, function (props) {
  return props.guiding && 'display: block;';
}, function (props) {
  return !props.guiding && styleMap[props.anchor || 'fill'] + ";";
}, function (props) {
  return props.fillContainer && "\n    width: 100%;\n    height: 100%;\n  ";
}, function (props) {
  return !props.interactive && "pointer-events: none;";
});
StyledStackLayer.defaultProps = {};
Object.setPrototypeOf(StyledStackLayer.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Stack/doc.js":
/*!**********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Stack/doc.js ***!
  \**********************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var doc = function doc(Stack) {
  var DocumentedStack = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Stack).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('Stack')).description("A container that stacks contents on top of each other. One child is\n      designated as the `guidingChild` which determines the size. All\n      other children are placed within that size, either above or below\n      based on their order. Stack is typically used to decorate Meter, Chart,\n      or icons.").usage("import { Stack } from 'grommet';\n<Stack />").intrinsicElement('div');
  DocumentedStack.propTypes = _extends({}, _utils__WEBPACK_IMPORTED_MODULE_1__["genericProps"], {
    anchor: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['center', 'left', 'right', 'top', 'bottom', 'top-left', 'bottom-left', 'top-right', 'bottom-right']).description("Where to anchor children from. If not specified, children\n      fill the guiding child's area."),
    fill: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Whether to expand to fill\n      all of the available width and height in the parent container.").defaultValue(false),
    guidingChild: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['first', 'last'])]).description("Which child to guide layout from. All other children\n      will be positioned within that area. Defaults to 'first'.").defaultValue('first'),
    interactiveChild: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['first', 'last'])]).description("Which child to restrict user interaction to. All other children\n      will have user interaction disabled.")
  });
  return DocumentedStack;
};
var themeDoc = {
  'stack.extend': {
    description: 'Any additional style for the control of the Stack component.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  }
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/Stack/index.js":
/*!************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Stack/index.js ***!
  \************************************************************/
/*! exports provided: Stack */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Stack__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Stack */ "./node_modules/grommet/es6/components/Stack/Stack.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Stack", function() { return _Stack__WEBPACK_IMPORTED_MODULE_0__["Stack"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Tab/StyledTab.js":
/*!**************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Tab/StyledTab.js ***!
  \**************************************************************/
/*! exports provided: StyledTab */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledTab", function() { return StyledTab; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");



var tabHoverStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["&:hover{", " ", " ", ";}"], function (props) {
  return props.theme.tab.hover.background && Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["background:", ";"], Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.tab.hover.background, props.theme));
}, function (props) {
  return props.theme.tab.hover.color && Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["color:", ";"], Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.tab.hover.color, props.theme));
}, function (props) {
  return props.theme.tab.hover.extend;
});
var StyledTab = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledTab",
  componentId: "sc-1nnwnsb-0"
})(["", " ", " ", ""], _utils__WEBPACK_IMPORTED_MODULE_1__["genericStyles"], function (props) {
  return !props.plain && props.theme.tab.hover && tabHoverStyle;
}, function (props) {
  return props.theme.tab.extend;
});
StyledTab.defaultProps = {};
Object.setPrototypeOf(StyledTab.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Tab/Tab.js":
/*!********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Tab/Tab.js ***!
  \********************************************************/
/*! exports provided: Tab */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Tab", function() { return TabWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Button */ "./node_modules/grommet/es6/components/Button/index.js");
/* harmony import */ var _Text__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Text */ "./node_modules/grommet/es6/components/Text/index.js");
/* harmony import */ var _hocs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../hocs */ "./node_modules/grommet/es6/components/hocs.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _StyledTab__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./StyledTab */ "./node_modules/grommet/es6/components/Tab/StyledTab.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }












var Tab = function Tab(_ref) {
  var active = _ref.active,
      forwardRef = _ref.forwardRef,
      plain = _ref.plain,
      title = _ref.title,
      onActivate = _ref.onActivate,
      onMouseOver = _ref.onMouseOver,
      onMouseOut = _ref.onMouseOut,
      theme = _ref.theme,
      rest = _objectWithoutPropertiesLoose(_ref, ["active", "forwardRef", "plain", "title", "onActivate", "onMouseOver", "onMouseOut", "theme"]);

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(undefined),
      over = _useState[0],
      setOver = _useState[1];

  var normalizedTitle = title;
  var tabStyles = {};

  var onMouseOverTab = function onMouseOverTab(event) {
    setOver(true);

    if (onMouseOver) {
      onMouseOver(event);
    }
  };

  var onMouseOutTab = function onMouseOutTab(event) {
    setOver(undefined);

    if (onMouseOut) {
      onMouseOut(event);
    }
  };

  var onClickTab = function onClickTab(event) {
    if (event) {
      event.preventDefault();
    }

    onActivate();
  };

  if (!plain) {
    if (typeof title !== 'string') {
      normalizedTitle = title;
    } else if (active) {
      normalizedTitle = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Text__WEBPACK_IMPORTED_MODULE_6__["Text"], theme.tab.active, title);
    } else {
      normalizedTitle = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Text__WEBPACK_IMPORTED_MODULE_6__["Text"], {
        color: over ? theme.tab.hover.color : theme.tab.color
      }, title);
    }

    if (theme.tab.border) {
      var borderColor = theme.tab.border.color || theme.global.control.border.color;

      if (active) {
        borderColor = theme.tab.border.active.color || borderColor;
      } else if (over) {
        borderColor = theme.tab.border.hover.color || borderColor;
      }

      borderColor = Object(_utils__WEBPACK_IMPORTED_MODULE_8__["normalizeColor"])(borderColor, theme);
      tabStyles.border = {
        side: theme.tab.border.side,
        size: theme.tab.border.size,
        color: borderColor
      };
    }

    tabStyles.background = active ? theme.tab.active.background || theme.tab.background : theme.tab.background;
    tabStyles.pad = theme.tab.pad;
    tabStyles.margin = theme.tab.margin;
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_5__["Button"], _extends({
    ref: forwardRef,
    plain: true,
    role: "tab",
    "aria-selected": active,
    "aria-expanded": active
  }, rest, {
    onClick: onClickTab,
    onMouseOver: onMouseOverTab,
    onMouseOut: onMouseOutTab,
    onFocus: onMouseOver,
    onBlur: onMouseOut
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledTab__WEBPACK_IMPORTED_MODULE_9__["StyledTab"], _extends({
    as: _Box__WEBPACK_IMPORTED_MODULE_4__["Box"],
    plain: plain
  }, tabStyles), normalizedTitle));
};

Tab.defaultProps = {};
Object.setPrototypeOf(Tab.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_3__["defaultProps"]);
var TabDoc;

if (true) {
  TabDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Tab/doc.js").doc(Tab); // eslint-disable-line global-require
}

var TabWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(styled_components__WEBPACK_IMPORTED_MODULE_2__["withTheme"], _hocs__WEBPACK_IMPORTED_MODULE_7__["withForwardRef"])(TabDoc || Tab);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Tab/doc.js":
/*!********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Tab/doc.js ***!
  \********************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);

var doc = function doc(Tab) {
  var DocumentedTab = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Tab).description('One tab within Tabs.').usage("import { Tab } from 'grommet';\n<Tab />").intrinsicElement('button');
  DocumentedTab.propTypes = {
    plain: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Whether this is a plain tab with no style.').defaultValue(false),
    title: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].node.description('The title of the tab.')
  };
  return DocumentedTab;
};
var themeDoc = {
  'tab.active': {
    description: 'styles for the active tab.',
    type: 'object',
    defaultValue: "{color: 'text', background: undefined }"
  },
  'tab.background': {
    description: 'background styling of Tab.',
    type: 'object',
    defaultValue: undefined
  },
  'tab.border': {
    description: 'border styles of the tab',
    type: 'object',
    defaultValue: "{\n      side: 'bottom',\n      size: 'small',\n      color: {\n        dark: 'accent-1',\n        light: 'brand',\n      },\n      active: {\n        color: {\n          dark: 'white',\n          light: 'black',\n        },\n      },\n      hover: {\n        color: {\n          dark: 'white',\n          light: 'black',\n        },\n        // extend: undefined,\n      },\n    }"
  },
  'tab.color': {
    description: 'text color for the Tab.',
    type: 'string',
    defaultValue: 'control'
  },
  'tab.hover.background': {
    description: 'background style of the Tab on hover.',
    type: 'string | object',
    defaultValue: undefined
  },
  'tab.hover.color': {
    description: 'text color of the tab on hover.',
    type: 'string | { dark: string, light: string }',
    defaultValue: "{ dark: 'white', light: 'black' }"
  },
  'tab.hover.extend': {
    description: 'Any additional style for Tab hover.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'tab.margin': {
    description: 'The margin of Tab.',
    type: 'string | object',
    defaultValue: "{ vertical: 'xxsmall', horizontal: 'small' }"
  },
  'tab.pad': {
    description: 'The pad of Tab.',
    type: 'string | object',
    defaultValue: "{ bottom: 'xsmall' }"
  }
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/Tab/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Tab/index.js ***!
  \**********************************************************/
/*! exports provided: Tab */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Tab__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Tab */ "./node_modules/grommet/es6/components/Tab/Tab.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Tab", function() { return _Tab__WEBPACK_IMPORTED_MODULE_0__["Tab"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Table/StyledTable.js":
/*!******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Table/StyledTable.js ***!
  \******************************************************************/
/*! exports provided: StyledTableCell, StyledTableDataCaption, StyledTableRow, StyledTableBody, StyledTableHeader, StyledTableFooter, StyledTable */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledTableCell", function() { return StyledTableCell; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledTableDataCaption", function() { return StyledTableDataCaption; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledTableRow", function() { return StyledTableRow; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledTableBody", function() { return StyledTableBody; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledTableHeader", function() { return StyledTableHeader; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledTableFooter", function() { return StyledTableFooter; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledTable", function() { return StyledTable; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");



var SIZE_MAP = {
  '1/2': '50%',
  '1/4': '25%',
  '2/4': '50%',
  '3/4': '75%',
  '1/3': '33.33%',
  '2/3': '66.66%'
};
var sizeStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["width:", ";max-width:", ";overflow:hidden;"], function (props) {
  return SIZE_MAP[props.size] || props.theme.global.size[props.size];
}, function (props) {
  return SIZE_MAP[props.size] || props.theme.global.size[props.size];
});
var StyledTableCell = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].td.withConfig({
  displayName: "StyledTable__StyledTableCell",
  componentId: "sc-1m3u5g-0"
})(["margin:0;padding:0;font-weight:inherit;text-align:inherit;height:100%;", " ", " ", " ", " ", " ", " ", ""], function (props) {
  return props.size && sizeStyle;
}, function (props) {
  return props.verticalAlign && "vertical-align: " + props.verticalAlign + ";";
}, function (props) {
  return props.align && "text-align: " + props.align + ";";
}, function (props) {
  return props.background && Object(_utils__WEBPACK_IMPORTED_MODULE_1__["backgroundStyle"])(props.background, props.theme);
}, function (props) {
  return props.border && Object(_utils__WEBPACK_IMPORTED_MODULE_1__["borderStyle"])(props.border, props.responsive, props.theme);
}, function (props) {
  return props.pad && Object(_utils__WEBPACK_IMPORTED_MODULE_1__["edgeStyle"])('padding', props.pad, props.responsive, props.theme.box.responsiveBreakpoint, props.theme);
}, function (props) {
  return props.tableContextTheme && props.tableContextTheme.extend;
});
StyledTableCell.defaultProps = {};
Object.setPrototypeOf(StyledTableCell.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var StyledTableDataCaption = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].caption.withConfig({
  displayName: "StyledTable__StyledTableDataCaption",
  componentId: "sc-1m3u5g-1"
})(["margin-bottom:", ";"], function (props) {
  return props.theme.global.edgeSize.xxsmall;
});
StyledTableDataCaption.defaultProps = {};
Object.setPrototypeOf(StyledTableDataCaption.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var StyledTableRow = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].tr.withConfig({
  displayName: "StyledTable__StyledTableRow",
  componentId: "sc-1m3u5g-2"
})(["height:100%;"]);
StyledTableRow.defaultProps = {};
Object.setPrototypeOf(StyledTableRow.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var StyledTableBody = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].tbody.withConfig({
  displayName: "StyledTable__StyledTableBody",
  componentId: "sc-1m3u5g-3"
})([""]);
StyledTableBody.defaultProps = {};
Object.setPrototypeOf(StyledTableBody.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var StyledTableHeader = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].thead.withConfig({
  displayName: "StyledTable__StyledTableHeader",
  componentId: "sc-1m3u5g-4"
})([""]);
StyledTableHeader.defaultProps = {};
Object.setPrototypeOf(StyledTableHeader.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var StyledTableFooter = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].tfoot.withConfig({
  displayName: "StyledTable__StyledTableFooter",
  componentId: "sc-1m3u5g-5"
})([""]);
StyledTableFooter.defaultProps = {};
Object.setPrototypeOf(StyledTableFooter.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var StyledTable = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].table.withConfig({
  displayName: "StyledTable",
  componentId: "sc-1m3u5g-6"
})(["border-spacing:0;border-collapse:collapse;width:inherit;@media all and (min--moz-device-pixel-ratio:0){table-layout:fixed;}", " ", ";"], _utils__WEBPACK_IMPORTED_MODULE_1__["genericStyles"], function (props) {
  return props.theme.table && props.theme.table.extend;
});
StyledTable.defaultProps = {};
Object.setPrototypeOf(StyledTable.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Table/Table.js":
/*!************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Table/Table.js ***!
  \************************************************************/
/*! exports provided: Table */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Table", function() { return TableWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _StyledTable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./StyledTable */ "./node_modules/grommet/es6/components/Table/StyledTable.js");
function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }




var Table = function Table(_ref) {
  var caption = _ref.caption,
      children = _ref.children,
      rest = _objectWithoutPropertiesLoose(_ref, ["caption", "children"]);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledTable__WEBPACK_IMPORTED_MODULE_1__["StyledTable"], rest, caption ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledTable__WEBPACK_IMPORTED_MODULE_1__["StyledTableDataCaption"], null, caption) : null, children);
};

var TableDoc;

if (true) {
  TableDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Table/doc.js").doc(Table); // eslint-disable-line global-require
}

var TableWrapper = TableDoc || Table;


/***/ }),

/***/ "./node_modules/grommet/es6/components/Table/TableContext.js":
/*!*******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Table/TableContext.js ***!
  \*******************************************************************/
/*! exports provided: TableContext */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TableContext", function() { return TableContext; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

var TableContext = react__WEBPACK_IMPORTED_MODULE_0___default.a.createContext(undefined);

/***/ }),

/***/ "./node_modules/grommet/es6/components/Table/doc.js":
/*!**********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Table/doc.js ***!
  \**********************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _utils_themeDocUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/themeDocUtils */ "./node_modules/grommet/es6/utils/themeDocUtils.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }




var doc = function doc(Table) {
  var DocumentedTable = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Table).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('Table')).description('A table of data organized in cells.').usage( // eslint-disable-next-line max-len
  "import { Table, TableHeader, TableFooter, TableBody, TableRow } from 'grommet';\n<Table />").intrinsicElement('table');
  DocumentedTable.propTypes = _extends({}, _utils__WEBPACK_IMPORTED_MODULE_1__["genericProps"], {
    caption: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description('One line description.')
  });
  return DocumentedTable;
};
var themeDoc = _extends({}, _utils_themeDocUtils__WEBPACK_IMPORTED_MODULE_2__["themeDocUtils"].responsiveBreakpoint('The actual breakpoint to trigger changes in Table.'), {
  'global.size': {
    description: 'The size that impacts max-width and width.',
    defaultValue: "{\n      xxsmall: '48px',\n      xsmall: '96px',\n      small: '192px',\n      medium: '384px',\n      large: '768px',\n      xlarge: '1152px',\n      xxlarge: '1536px',\n      full: '100%',\n      }"
  },
  'table.extend': {
    description: 'Any additional style for Table.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  }
});

/***/ }),

/***/ "./node_modules/grommet/es6/components/Table/index.js":
/*!************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Table/index.js ***!
  \************************************************************/
/*! exports provided: Table */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Table__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Table */ "./node_modules/grommet/es6/components/Table/Table.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Table", function() { return _Table__WEBPACK_IMPORTED_MODULE_0__["Table"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/TableBody/TableBody.js":
/*!********************************************************************!*\
  !*** ./node_modules/grommet/es6/components/TableBody/TableBody.js ***!
  \********************************************************************/
/*! exports provided: TableBody */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TableBody", function() { return TableBodyWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var _hocs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../hocs */ "./node_modules/grommet/es6/components/hocs.js");
/* harmony import */ var _Table_TableContext__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Table/TableContext */ "./node_modules/grommet/es6/components/Table/TableContext.js");
/* harmony import */ var _Table_StyledTable__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Table/StyledTable */ "./node_modules/grommet/es6/components/Table/StyledTable.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }







var TableBody = function TableBody(_ref) {
  var forwardRef = _ref.forwardRef,
      rest = _objectWithoutPropertiesLoose(_ref, ["forwardRef"]);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Table_TableContext__WEBPACK_IMPORTED_MODULE_3__["TableContext"].Provider, {
    value: "body"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Table_StyledTable__WEBPACK_IMPORTED_MODULE_4__["StyledTableBody"], _extends({
    ref: forwardRef
  }, rest)));
};

var TableBodyDoc;

if (true) {
  // eslint-disable-next-line global-require
  TableBodyDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/TableBody/doc.js").doc(TableBody);
}

var TableBodyWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(_hocs__WEBPACK_IMPORTED_MODULE_2__["withForwardRef"])(TableBodyDoc || TableBody);


/***/ }),

/***/ "./node_modules/grommet/es6/components/TableBody/doc.js":
/*!**************************************************************!*\
  !*** ./node_modules/grommet/es6/components/TableBody/doc.js ***!
  \**************************************************************/
/*! exports provided: doc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);

var doc = function doc(TableBody) {
  var DocumentedTableBody = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(TableBody).description('The body of a table.').usage("import { TableBody } from 'grommet';\n<TableBody />").intrinsicElement('tbody');
  return DocumentedTableBody;
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/TableBody/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/grommet/es6/components/TableBody/index.js ***!
  \****************************************************************/
/*! exports provided: TableBody */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _TableBody__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./TableBody */ "./node_modules/grommet/es6/components/TableBody/TableBody.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TableBody", function() { return _TableBody__WEBPACK_IMPORTED_MODULE_0__["TableBody"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/TableCell/TableCell.js":
/*!********************************************************************!*\
  !*** ./node_modules/grommet/es6/components/TableCell/TableCell.js ***!
  \********************************************************************/
/*! exports provided: TableCell */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TableCell", function() { return TableCellWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
/* harmony import */ var _Table_TableContext__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Table/TableContext */ "./node_modules/grommet/es6/components/Table/TableContext.js");
/* harmony import */ var _Table_StyledTable__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Table/StyledTable */ "./node_modules/grommet/es6/components/Table/StyledTable.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }









var TableCell = function TableCell(_ref) {
  var align = _ref.align,
      background = _ref.background,
      border = _ref.border,
      children = _ref.children,
      colSpan = _ref.colSpan,
      pad = _ref.pad,
      plain = _ref.plain,
      scope = _ref.scope,
      size = _ref.size,
      theme = _ref.theme,
      verticalAlign = _ref.verticalAlign,
      rest = _objectWithoutPropertiesLoose(_ref, ["align", "background", "border", "children", "colSpan", "pad", "plain", "scope", "size", "theme", "verticalAlign"]);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Table_TableContext__WEBPACK_IMPORTED_MODULE_5__["TableContext"].Consumer, null, function (tableContext) {
    var tableContextTheme;

    if (tableContext === 'header') {
      tableContextTheme = theme.table && theme.table.header;
    } else if (tableContext === 'footer') {
      tableContextTheme = theme.table && theme.table.footer;
    } else {
      tableContextTheme = theme.table && theme.table.body;
    } // merge tabelContextTheme and rest


    var mergedProps = _extends({}, tableContextTheme, {}, rest);

    Object.keys(mergedProps).forEach(function (key) {
      if (rest[key] === undefined) mergedProps[key] = tableContextTheme[key];
    }); // split out background, border, and pad

    var cellProps = {
      align: align || mergedProps.align || undefined,
      background: background || mergedProps.background || undefined,
      border: border || mergedProps.border || undefined,
      pad: pad || mergedProps.pad || undefined,
      verticalAlign: verticalAlign || mergedProps.verticalAlign || undefined
    };
    delete mergedProps.align;
    delete mergedProps.background;
    delete mergedProps.border;
    delete mergedProps.pad;
    delete mergedProps.verticalAlign;
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Table_StyledTable__WEBPACK_IMPORTED_MODULE_6__["StyledTableCell"], _extends({
      as: scope ? 'th' : undefined,
      scope: scope,
      size: size,
      colSpan: colSpan,
      tableContext: tableContext,
      tableContextTheme: tableContextTheme
    }, plain ? mergedProps : {}, cellProps), plain || !Object.keys(mergedProps).length ? children : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"], _extends({}, mergedProps, {
      align: align
    }), children));
  });
};

TableCell.defaultProps = {};
Object.setPrototypeOf(TableCell.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_3__["defaultProps"]);
var TableCellDoc;

if (true) {
  // eslint-disable-next-line global-require
  TableCellDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/TableCell/doc.js").doc(TableCell);
}

var TableCellWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(styled_components__WEBPACK_IMPORTED_MODULE_2__["withTheme"])(TableCellDoc || TableCell);


/***/ }),

/***/ "./node_modules/grommet/es6/components/TableCell/doc.js":
/*!**************************************************************!*\
  !*** ./node_modules/grommet/es6/components/TableCell/doc.js ***!
  \**************************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);

var doc = function doc(TableCell) {
  var DocumentedTableCell = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(TableCell).description('A cell of data in a table.').usage("import { TableCell } from 'grommet';\n<TableCell />").intrinsicElement('td');
  DocumentedTableCell.propTypes = {
    plain: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Whether default styling context should be removed.').defaultValue(false),
    scope: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['col', 'row']).description("For header cells, what scope the header is for.\n        Typically, the cells in a TableHeader have 'col' scope and\n        the primary cell in each row in the TableBody has 'row' scope."),
    size: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['xxsmall', 'xsmall', 'small', 'medium', 'large', 'xlarge', '1/2', '1/3', '2/3', '1/4', '2/4', '3/4']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description("What size the cell should be. Typically, this is not needed\n      unless you are trying to align multiple tables."),
    verticalAlign: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['top', 'middle', 'bottom']).description('How to align the contents vertically.')
  };
  return DocumentedTableCell;
};
var themeDoc = {
  'table.body.align': {
    description: 'How to align the body inside the Table.',
    type: 'string',
    defaultValue: 'start'
  },
  'table.body.border': {
    description: 'The border side of the body.',
    type: 'string',
    defaultValue: undefined
  },
  'table.body.extend': {
    description: 'Any additional style for Table body.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'table.body.pad': {
    description: 'The padding of the body.',
    type: 'string | object',
    defaultValue: "{ horizontal: 'small', vertical: 'xsmall' }"
  },
  'table.footer.align': {
    description: 'How to align the footer inside the Table.',
    type: 'string',
    defaultValue: 'start'
  },
  'table.footer.border': {
    description: 'The border side of the footer.',
    type: 'string',
    defaultValue: 'top'
  },
  'table.footer.extend': {
    description: 'Any additional style for Table footer.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'table.footer.fill': {
    description: 'Whether the height should fill the footer.',
    type: 'string',
    defaultValue: 'vertical'
  },
  'table.footer.pad': {
    description: 'The padding of the footer.',
    type: 'string | object',
    defaultValue: "{ horizontal: 'small', vertical: 'xsmall' }"
  },
  'table.footer.verticalAlign': {
    description: 'How to align the content vertically.',
    type: 'string',
    defaultValue: 'top'
  },
  'table.header.align': {
    description: 'How to align the header inside the Table.',
    type: 'string',
    defaultValue: 'start'
  },
  'table.header.background': {
    description: 'The background color of the header.',
    type: 'string | object',
    defaultValue: undefined
  },
  'table.header.border': {
    description: 'The border side of the header.',
    type: 'string',
    defaultValue: 'bottom'
  },
  'table.header.fill': {
    description: 'Whether the height should fill the header.',
    type: 'string',
    defaultValue: 'vertical'
  },
  'table.header.extend': {
    description: 'Any additional style for Table header.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'table.header.pad': {
    description: 'The padding of the header.',
    type: 'string | object',
    defaultValue: "{ horizontal: 'small', vertical: 'xsmall' }"
  },
  'table.header.verticalAlign': {
    description: 'How to align the content vertically.',
    type: 'string',
    defaultValue: 'bottom'
  }
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/TableCell/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/grommet/es6/components/TableCell/index.js ***!
  \****************************************************************/
/*! exports provided: TableCell */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _TableCell__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./TableCell */ "./node_modules/grommet/es6/components/TableCell/TableCell.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TableCell", function() { return _TableCell__WEBPACK_IMPORTED_MODULE_0__["TableCell"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/TableFooter/TableFooter.js":
/*!************************************************************************!*\
  !*** ./node_modules/grommet/es6/components/TableFooter/TableFooter.js ***!
  \************************************************************************/
/*! exports provided: TableFooter */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TableFooter", function() { return TableFooterWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Table_TableContext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Table/TableContext */ "./node_modules/grommet/es6/components/Table/TableContext.js");
/* harmony import */ var _Table_StyledTable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Table/StyledTable */ "./node_modules/grommet/es6/components/Table/StyledTable.js");




var TableFooter = function TableFooter(props) {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Table_TableContext__WEBPACK_IMPORTED_MODULE_1__["TableContext"].Provider, {
    value: "footer"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Table_StyledTable__WEBPACK_IMPORTED_MODULE_2__["StyledTableFooter"], props));
};

var TableFooterDoc;

if (true) {
  // eslint-disable-next-line global-require
  TableFooterDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/TableFooter/doc.js").doc(TableFooter);
}

var TableFooterWrapper = TableFooterDoc || TableFooter;


/***/ }),

/***/ "./node_modules/grommet/es6/components/TableFooter/doc.js":
/*!****************************************************************!*\
  !*** ./node_modules/grommet/es6/components/TableFooter/doc.js ***!
  \****************************************************************/
/*! exports provided: doc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);

var doc = function doc(TableFooter) {
  var DocumentedTableFooter = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(TableFooter).description('The footer of a table.').usage("import { TableFooter } from 'grommet';\n<TableFooter />").intrinsicElement('tfoot');
  return DocumentedTableFooter;
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/TableFooter/index.js":
/*!******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/TableFooter/index.js ***!
  \******************************************************************/
/*! exports provided: TableFooter */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _TableFooter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./TableFooter */ "./node_modules/grommet/es6/components/TableFooter/TableFooter.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TableFooter", function() { return _TableFooter__WEBPACK_IMPORTED_MODULE_0__["TableFooter"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/TableHeader/TableHeader.js":
/*!************************************************************************!*\
  !*** ./node_modules/grommet/es6/components/TableHeader/TableHeader.js ***!
  \************************************************************************/
/*! exports provided: TableHeader */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TableHeader", function() { return TableHeaderWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Table_TableContext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Table/TableContext */ "./node_modules/grommet/es6/components/Table/TableContext.js");
/* harmony import */ var _Table_StyledTable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Table/StyledTable */ "./node_modules/grommet/es6/components/Table/StyledTable.js");




var TableHeader = function TableHeader(props) {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Table_TableContext__WEBPACK_IMPORTED_MODULE_1__["TableContext"].Provider, {
    value: "header"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Table_StyledTable__WEBPACK_IMPORTED_MODULE_2__["StyledTableHeader"], props));
};

var TableHeaderDoc;

if (true) {
  // eslint-disable-next-line global-require
  TableHeaderDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/TableHeader/doc.js").doc(TableHeader);
}

var TableHeaderWrapper = TableHeaderDoc || TableHeader;


/***/ }),

/***/ "./node_modules/grommet/es6/components/TableHeader/doc.js":
/*!****************************************************************!*\
  !*** ./node_modules/grommet/es6/components/TableHeader/doc.js ***!
  \****************************************************************/
/*! exports provided: doc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);

var doc = function doc(TableHeader) {
  var DocumentedTableHeader = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(TableHeader).description('The header of a table.').usage("import { TableHeader } from 'grommet';\n<TableHeader />").intrinsicElement('thead');
  return DocumentedTableHeader;
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/TableHeader/index.js":
/*!******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/TableHeader/index.js ***!
  \******************************************************************/
/*! exports provided: TableHeader */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _TableHeader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./TableHeader */ "./node_modules/grommet/es6/components/TableHeader/TableHeader.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TableHeader", function() { return _TableHeader__WEBPACK_IMPORTED_MODULE_0__["TableHeader"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/TableRow/TableRow.js":
/*!******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/TableRow/TableRow.js ***!
  \******************************************************************/
/*! exports provided: TableRow */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TableRow", function() { return TableRowWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Table_StyledTable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Table/StyledTable */ "./node_modules/grommet/es6/components/Table/StyledTable.js");



var TableRow = function TableRow(props) {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Table_StyledTable__WEBPACK_IMPORTED_MODULE_1__["StyledTableRow"], props);
};

var TableRowDoc;

if (true) {
  // eslint-disable-next-line global-require
  TableRowDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/TableRow/doc.js").doc(TableRow);
}

var TableRowWrapper = TableRowDoc || TableRow;


/***/ }),

/***/ "./node_modules/grommet/es6/components/TableRow/doc.js":
/*!*************************************************************!*\
  !*** ./node_modules/grommet/es6/components/TableRow/doc.js ***!
  \*************************************************************/
/*! exports provided: doc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);

var doc = function doc(TableRow) {
  var DocumentedTableRow = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(TableRow).description('A row of cells in a table.').usage("import { TableRow } from 'grommet';\n<TableRow />").intrinsicElement('tr');
  return DocumentedTableRow;
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/TableRow/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/grommet/es6/components/TableRow/index.js ***!
  \***************************************************************/
/*! exports provided: TableRow */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _TableRow__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./TableRow */ "./node_modules/grommet/es6/components/TableRow/TableRow.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TableRow", function() { return _TableRow__WEBPACK_IMPORTED_MODULE_0__["TableRow"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Tabs/StyledTabs.js":
/*!****************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Tabs/StyledTabs.js ***!
  \****************************************************************/
/*! exports provided: StyledTabsHeader, StyledTabPanel, StyledTabs */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledTabsHeader", function() { return StyledTabsHeader; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledTabPanel", function() { return StyledTabPanel; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledTabs", function() { return StyledTabs; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
var _FLEX_MAP;




var StyledTabsHeader = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledTabs__StyledTabsHeader",
  componentId: "a4fwxl-0"
})(["", ";"], function (props) {
  return props.theme.tabs.header.extend;
});
StyledTabsHeader.defaultProps = {};
Object.setPrototypeOf(StyledTabsHeader.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var FLEX_MAP = (_FLEX_MAP = {}, _FLEX_MAP[true] = '1 1', _FLEX_MAP[false] = '0 0', _FLEX_MAP.grow = '1 0', _FLEX_MAP.shrink = '0 1', _FLEX_MAP);
var flexStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["flex:", ";"], function (props) {
  return "" + FLEX_MAP[props.flex] + (props.flex !== true ? ' auto' : '');
});
var StyledTabPanel = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledTabs__StyledTabPanel",
  componentId: "a4fwxl-1"
})(["min-height:0;", " ", ";"], function (props) {
  return props.flex && flexStyle;
}, function (props) {
  return props.theme.tabs.panel.extend;
});
StyledTabPanel.defaultProps = {};
Object.setPrototypeOf(StyledTabPanel.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var StyledTabs = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledTabs",
  componentId: "a4fwxl-2"
})(["", " ", ";"], _utils__WEBPACK_IMPORTED_MODULE_1__["genericStyles"], function (props) {
  return props.theme.tabs.extend;
});
StyledTabs.defaultProps = {};
Object.setPrototypeOf(StyledTabs.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Tabs/Tabs.js":
/*!**********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Tabs/Tabs.js ***!
  \**********************************************************/
/*! exports provided: Tabs */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Tabs", function() { return TabsWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
/* harmony import */ var _StyledTabs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./StyledTabs */ "./node_modules/grommet/es6/components/Tabs/StyledTabs.js");
var _this = undefined;

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }








var Tabs = function Tabs(_ref) {
  var children = _ref.children,
      flex = _ref.flex,
      _ref$justify = _ref.justify,
      justify = _ref$justify === void 0 ? 'center' : _ref$justify,
      _ref$messages = _ref.messages,
      messages = _ref$messages === void 0 ? {
    tabContents: 'Tab Contents'
  } : _ref$messages,
      theme = _ref.theme,
      rest = _objectWithoutPropertiesLoose(_ref, ["children", "flex", "justify", "messages", "theme"]);

  var propsActiveIndex = rest.activeIndex,
      onActive = rest.onActive;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(rest.activeIndex || 0),
      activeIndex = _useState[0],
      setActiveIndex = _useState[1];

  if (activeIndex !== propsActiveIndex && propsActiveIndex !== undefined) {
    setActiveIndex(propsActiveIndex);
  }

  var activateTab = function activateTab(index) {
    if (propsActiveIndex === undefined) {
      setActiveIndex(index);
    }

    if (onActive) {
      onActive(index);
    }
  };
  /* eslint-disable no-param-reassign */


  delete rest.activeIndex;
  delete rest.onActive;
  /* eslint-enable no-param-reassign */

  var activeContent;
  var activeTitle;
  var tabs = react__WEBPACK_IMPORTED_MODULE_0__["Children"].map(children, function (tab, index) {
    if (!tab) return undefined;
    var tabProps = tab.props || {};
    var isTabActive = index === activeIndex;

    if (isTabActive) {
      activeContent = tabProps.children;

      if (typeof tabProps.title === 'string') {
        activeTitle = tabProps.title;
      } else {
        activeTitle = index + 1;
      }
    }

    return Object(react__WEBPACK_IMPORTED_MODULE_0__["cloneElement"])(tab, {
      active: isTabActive,
      onActivate: function onActivate() {
        return activateTab(index);
      }
    });
  }, _this);
  var tabContentTitle = (activeTitle || '') + " " + messages.tabContents;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledTabs__WEBPACK_IMPORTED_MODULE_5__["StyledTabs"], _extends({
    as: _Box__WEBPACK_IMPORTED_MODULE_4__["Box"],
    role: "tablist",
    flex: flex
  }, rest, {
    background: theme.tabs.background
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledTabs__WEBPACK_IMPORTED_MODULE_5__["StyledTabsHeader"], {
    as: _Box__WEBPACK_IMPORTED_MODULE_4__["Box"],
    direction: "row",
    justify: justify,
    flex: false,
    wrap: true,
    background: theme.tabs.header.background,
    gap: theme.tabs.gap
  }, tabs), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledTabs__WEBPACK_IMPORTED_MODULE_5__["StyledTabPanel"], {
    flex: flex,
    "aria-label": tabContentTitle,
    role: "tabpanel"
  }, activeContent));
};

Tabs.defaultProps = {};
Object.setPrototypeOf(Tabs.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_3__["defaultProps"]);
var TabsDoc;

if (true) {
  TabsDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Tabs/doc.js").doc(Tabs); // eslint-disable-line global-require
}

var TabsWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(styled_components__WEBPACK_IMPORTED_MODULE_2__["withTheme"])(TabsDoc || Tabs);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Tabs/doc.js":
/*!*********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Tabs/doc.js ***!
  \*********************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var doc = function doc(Tabs) {
  var DocumentedTabs = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Tabs).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('Tabs')).description('A container with controls to show one Tab at a time.').usage("import { Tabs, Tab } from 'grommet';\n<Tabs>\n  <Tab title='Tab 1'>...</Tab>\n  <Tab title='Tab 2'>...</Tab>\n</Tabs>").intrinsicElement('div');
  DocumentedTabs.propTypes = _extends({}, _utils__WEBPACK_IMPORTED_MODULE_1__["genericProps"], {
    activeIndex: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number.description("Active tab index. If specified, Tabs will be a controlled component.\nThis means that future tab changes will not work unless you subscribe to\nonActive function and update activeIndex accordingly."),
    children: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].node.description('Array of Tab.').isRequired,
    flex: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['grow', 'shrink']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool]).description('Whether flex-grow and/or flex-shrink is true.'),
    justify: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['start', 'center', 'end']).description('How to align the tabs along the main axis.').defaultValue('center'),
    messages: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      tabContents: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string
    }).description('Custom messages for Tabs. Used for accessibility by screen readers.').defaultValue({
      tabContents: 'Tab Contents'
    }),
    onActive: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Function that will be called with the active tab index when the\ncurrently active tab changes.")
  });
  return DocumentedTabs;
};
var themeDoc = {
  'global.borderSize': {
    description: 'The size of the border.',
    type: 'string',
    defaultValue: "{\n      xsmall: '1px',\n      small: '2px',\n      medium: '4px',\n      large: '12px',\n      xlarge: '24px,\n    }"
  },
  'global.colors.border': {
    description: 'The color of tabs border.',
    type: 'string | { dark: string, light: string }',
    defaultValue: '{ dark: rgba(255, 255, 255, 0.33), light: rgba(0, 0, 0, 0.33) }'
  },
  'global.edgeSize.small': {
    description: 'The possible sizes for margin, pad and gap.',
    type: 'string',
    defaultValue: '6px'
  },
  'tabs.background': {
    description: 'background styling of Tabs.',
    type: 'string | object',
    defaultValue: undefined
  },
  'tabs.extend': {
    description: 'Any additional style for Tabs.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'tabs.gap': {
    description: 'The gap size between the Tabs.',
    type: 'string',
    defaultValue: undefined
  },
  'tabs.header.background': {
    description: 'The background styles of Tabs header.',
    type: 'string | { dark: string, light: string }',
    defaultValue: undefined
  },
  'tabs.header.extend': {
    description: 'Any additional style for Tabs header.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'tabs.panel.extend': {
    description: 'Any additional style for Tabs panel.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  }
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/Tabs/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Tabs/index.js ***!
  \***********************************************************/
/*! exports provided: Tabs */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Tabs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Tabs */ "./node_modules/grommet/es6/components/Tabs/Tabs.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Tabs", function() { return _Tabs__WEBPACK_IMPORTED_MODULE_0__["Tabs"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Text/StyledText.js":
/*!****************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Text/StyledText.js ***!
  \****************************************************************/
/*! exports provided: StyledText */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledText", function() { return StyledText; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");




var sizeStyle = function sizeStyle(props) {
  var size = props.size || 'medium';
  var data = props.theme.text[size];

  if (data) {
    return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["font-size:", ";line-height:", ";"], data.size, data.height);
  }

  return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["font-size:", ";line-height:normal;"], size);
};

var TEXT_ALIGN_MAP = {
  center: 'center',
  end: 'right',
  start: 'left'
};
var textAlignStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["text-align:", ";"], function (props) {
  return TEXT_ALIGN_MAP[props.textAlign];
});
var truncateStyle = "\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n";
var colorStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["color:", ";"], function (props) {
  return Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.colorProp, props.theme);
});
var weightStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["font-weight:", ";"], function (props) {
  return props.weight;
});
var wordBreakStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["word-break:", ";"], function (props) {
  return props.wordBreak;
});
var StyledText = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].span.withConfig({
  displayName: "StyledText",
  componentId: "sc-1sadyjn-0"
})(["", " ", " ", " ", " ", " ", " ", " ", ""], _utils__WEBPACK_IMPORTED_MODULE_1__["genericStyles"], function (props) {
  return sizeStyle(props);
}, function (props) {
  return props.textAlign && textAlignStyle;
}, function (props) {
  return props.truncate && truncateStyle;
}, function (props) {
  return props.colorProp && colorStyle;
}, function (props) {
  return props.weight && weightStyle;
}, function (props) {
  return props.wordBreak && wordBreakStyle;
}, function (props) {
  return props.theme.text && props.theme.text.extend;
});
StyledText.defaultProps = {};
Object.setPrototypeOf(StyledText.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Text/Text.js":
/*!**********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Text/Text.js ***!
  \**********************************************************/
/*! exports provided: Text */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Text", function() { return TextWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _StyledText__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./StyledText */ "./node_modules/grommet/es6/components/Text/StyledText.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }




var Text = function Text(_ref) {
  var color = _ref.color,
      tag = _ref.tag,
      as = _ref.as,
      rest = _objectWithoutPropertiesLoose(_ref, ["color", "tag", "as"]);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledText__WEBPACK_IMPORTED_MODULE_1__["StyledText"], _extends({
    as: !as && tag ? tag : as,
    colorProp: color
  }, rest));
};

Text.defaultProps = {
  level: 1
};
var TextDoc;

if (true) {
  TextDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Text/doc.js").doc(Text); // eslint-disable-line global-require
}

var TextWrapper = TextDoc || Text;


/***/ }),

/***/ "./node_modules/grommet/es6/components/Text/doc.js":
/*!*********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Text/doc.js ***!
  \*********************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var doc = function doc(Text) {
  var DocumentedText = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Text).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('Text')).description('Arbitrary text.').usage("import { Text } from 'grommet';\n<Text />").intrinsicElement('span');
  DocumentedText.propTypes = _extends({}, _utils__WEBPACK_IMPORTED_MODULE_1__["genericProps"], {
    color: _utils__WEBPACK_IMPORTED_MODULE_1__["colorPropType"].description('A color identifier to use for the text color.'),
    size: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['xsmall', 'small', 'medium', 'large', 'xlarge', 'xxlarge']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description("The font size and line height are primarily driven by the chosen tag. \nBut, it can be adjusted via this size property. The tag should be set for \nsemantic correctness and accessibility. This size property allows for stylistic\nadjustments.").defaultValue('medium'),
    tag: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func]).description("The DOM tag to use for the element. NOTE: This is deprecated in favor\n         of indicating the DOM tag via the 'as' property."),
    as: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].element]).description("The DOM tag or react component to use for the element.").defaultValue('span'),
    textAlign: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['start', 'center', 'end']).description('How to align the text inside the component.').defaultValue('start'),
    truncate: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Restrict the text to a single line and truncate with ellipsis if it\nis too long to all fit.").defaultValue(false),
    weight: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['normal', 'bold']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number]).description('Font weight'),
    wordBreak: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['normal', 'break-all', 'keep-all', 'break-word']).description('Whether words should break when reaching the end of a line.').defaultValue('normal')
  });
  return DocumentedText;
};
var themeDoc = _extends({
  'global.colors.text': {
    description: 'The text color used for Text.',
    type: 'object | { dark: string, light: string }',
    defaultValue: "{ dark: '#f8f8f8', light: '#444444' }"
  },
  text: {
    description: "The possible sizes of the text in terms of its font-size and \nline-height.",
    type: 'object',
    defaultValue: "{\n      xsmall: {\n        size: '12px',\n        height: '18px',\n       },\n      small: {\n        size: '14px',\n        height: '20px',\n       },\n      medium: {\n        size: '18px',\n        height: '24px',\n      },\n      large: {\n        size: '22px',\n        height: '28px',\n      },\n      xlarge: {\n        size: '26px',\n        height: '32px',\n      },\n      xxlarge: {\n        size: '34px',\n        height: '40px',\n      },\n    }"
  },
  'text.extend': {
    description: 'Any additional style for Text.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  }
}, _utils__WEBPACK_IMPORTED_MODULE_1__["themeDocUtils"].edgeStyle('The possible sizes for margin.'));

/***/ }),

/***/ "./node_modules/grommet/es6/components/Text/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Text/index.js ***!
  \***********************************************************/
/*! exports provided: Text */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Text__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Text */ "./node_modules/grommet/es6/components/Text/Text.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Text", function() { return _Text__WEBPACK_IMPORTED_MODULE_0__["Text"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/TextArea/StyledTextArea.js":
/*!************************************************************************!*\
  !*** ./node_modules/grommet/es6/components/TextArea/StyledTextArea.js ***!
  \************************************************************************/
/*! exports provided: StyledTextArea */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledTextArea", function() { return StyledTextArea; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");



var plainStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["border:none;width:100%;-webkit-appearance:none;"]);

var sizeStyle = function sizeStyle(props) {
  var data = props.theme.text[props.size];
  return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["font-size:", ";line-height:", ";"], data.size, data.height);
};

var resizeStyle = function resizeStyle(resize) {
  if (resize === 'horizontal') {
    return 'resize: horizontal;';
  }

  if (resize === 'vertical') {
    return 'resize: vertical;';
  }

  if (resize) {
    return 'resize: both;';
  }

  return 'resize: none;';
};

var StyledTextArea = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].textarea.withConfig({
  displayName: "StyledTextArea",
  componentId: "sc-17i3mwp-0"
})(["", " width:100%;", " ", " ", " ", " ", " ", " &::-moz-focus-inner{border:none;outline:none;}", ";", ";"], _utils__WEBPACK_IMPORTED_MODULE_1__["inputStyle"], function (props) {
  return props.resize !== undefined && resizeStyle(props.resize);
}, function (props) {
  return props.fillArg && 'height: 100%;';
}, function (props) {
  return props.size && sizeStyle(props);
}, function (props) {
  return props.plain && plainStyle;
}, function (props) {
  return props.disabled && Object(_utils__WEBPACK_IMPORTED_MODULE_1__["disabledStyle"])(props.theme.textArea.disabled && props.theme.textArea.disabled.opacity);
}, _utils__WEBPACK_IMPORTED_MODULE_1__["placeholderStyle"], function (props) {
  return props.focus && !props.plain && _utils__WEBPACK_IMPORTED_MODULE_1__["focusStyle"];
}, function (props) {
  return props.theme.textArea && props.theme.textArea.extend;
});
StyledTextArea.defaultProps = {};
Object.setPrototypeOf(StyledTextArea.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);


/***/ }),

/***/ "./node_modules/grommet/es6/components/TextArea/TextArea.js":
/*!******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/TextArea/TextArea.js ***!
  \******************************************************************/
/*! exports provided: TextArea */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TextArea", function() { return TextAreaWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var _Keyboard__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Keyboard */ "./node_modules/grommet/es6/components/Keyboard/index.js");
/* harmony import */ var _hocs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../hocs */ "./node_modules/grommet/es6/components/hocs.js");
/* harmony import */ var _StyledTextArea__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./StyledTextArea */ "./node_modules/grommet/es6/components/TextArea/StyledTextArea.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }







var TextArea = function TextArea(_ref) {
  var fill = _ref.fill,
      forwardRef = _ref.forwardRef,
      rest = _objectWithoutPropertiesLoose(_ref, ["fill", "forwardRef"]);

  var onEsc = function onEsc(event) {
    // we have to stop both synthetic events and native events
    // drop and layer should not close by pressing esc on this input
    event.stopPropagation();
    event.nativeEvent.stopImmediatePropagation();
  };

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Keyboard__WEBPACK_IMPORTED_MODULE_2__["Keyboard"], {
    onEsc: onEsc
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledTextArea__WEBPACK_IMPORTED_MODULE_4__["StyledTextArea"], _extends({
    ref: forwardRef,
    fillArg: fill
  }, rest)));
};

var TextAreaDoc;

if (true) {
  // eslint-disable-next-line global-require
  TextAreaDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/TextArea/doc.js").doc(TextArea);
}

var TextAreaWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(Object(_hocs__WEBPACK_IMPORTED_MODULE_3__["withFocus"])({
  focusWithMouse: true
}), _hocs__WEBPACK_IMPORTED_MODULE_3__["withForwardRef"])(TextAreaDoc || TextArea);


/***/ }),

/***/ "./node_modules/grommet/es6/components/TextArea/doc.js":
/*!*************************************************************!*\
  !*** ./node_modules/grommet/es6/components/TextArea/doc.js ***!
  \*************************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var doc = function doc(TextArea) {
  var DocumentedTextArea = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(TextArea).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('TextArea')).description('A control to input multiple lines of text.').usage("import { TextArea } from 'grommet';\n<TextArea id='item' name='item' />").intrinsicElement('textarea');
  DocumentedTextArea.propTypes = {
    id: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description('The id attribute of the textarea.'),
    fill: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Whether the width and height should fill the container.').defaultValue(false),
    focusIndicator: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Whether the plain textarea should receive a focus outline.'),
    name: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description('The name attribute of the textarea.'),
    onChange: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description('Function that will be called when the user types in the textarea.'),
    placeholder: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description('Placeholder text to use when no value is provided.'),
    plain: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Whether this is a plain textarea with no border or padding.\nOnly use this when the containing context provides sufficient affordance."),
    value: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description('What text to put in the textarea.'),
    resize: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['vertical', 'horizontal']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool]).description('Whether user is allowed to resize the textarea.').defaultValue(true),
    size: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['small', 'medium', 'large', 'xlarge']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description('The size of the TextArea.')
  };
  return DocumentedTextArea;
};
var themeDoc = _extends({
  'global.colors.border': {
    description: 'The color of the border.',
    type: 'string | { dark: string, light: string }',
    defaultValue: {
      dark: 'rgba(255, 255, 255, 0.33)',
      light: 'rgba(0, 0, 0, 0.33)'
    }
  },
  'global.control.border.color': {
    description: 'The border color.',
    type: 'string',
    defaultValue: 'border'
  },
  'global.control.border.radius': {
    description: 'The border radius.',
    type: 'string',
    defaultValue: '4px'
  },
  'global.control.border.width': {
    description: 'The border width.',
    type: 'string',
    defaultValue: '1px'
  },
  'textArea.extend': {
    description: 'Any additional style for Text.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'textArea.disabled.opacity': {
    description: 'The opacity when the textArea is disabled.',
    type: 'number',
    defaultValue: 0.3
  }
}, _utils__WEBPACK_IMPORTED_MODULE_1__["themeDocUtils"].focusStyle, {}, _utils__WEBPACK_IMPORTED_MODULE_1__["themeDocUtils"].placeholderStyle, {}, _utils__WEBPACK_IMPORTED_MODULE_1__["themeDocUtils"].inputStyle, {}, _utils__WEBPACK_IMPORTED_MODULE_1__["themeDocUtils"].disabledStyle);

/***/ }),

/***/ "./node_modules/grommet/es6/components/TextArea/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/grommet/es6/components/TextArea/index.js ***!
  \***************************************************************/
/*! exports provided: TextArea */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _TextArea__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./TextArea */ "./node_modules/grommet/es6/components/TextArea/TextArea.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TextArea", function() { return _TextArea__WEBPACK_IMPORTED_MODULE_0__["TextArea"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/TextInput/StyledTextInput.js":
/*!**************************************************************************!*\
  !*** ./node_modules/grommet/es6/components/TextInput/StyledTextInput.js ***!
  \**************************************************************************/
/*! exports provided: StyledTextInput, StyledTextInputContainer, StyledPlaceholder, StyledSuggestions */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledTextInput", function() { return StyledTextInput; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledTextInputContainer", function() { return StyledTextInputContainer; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledPlaceholder", function() { return StyledPlaceholder; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledSuggestions", function() { return StyledSuggestions; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");




var sizeStyle = function sizeStyle(props) {
  var data = props.theme.text[props.size];
  return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["font-size:", ";line-height:", ";"], data.size, data.height);
};

var plainStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["border:none;"]);
var StyledTextInput = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].input.withConfig({
  displayName: "StyledTextInput",
  componentId: "sc-1x30a0s-0"
})(["", " width:100%;", " ", " ", " &::-moz-focus-inner{border:none;outline:none;}", ";", " ", ";"], _utils__WEBPACK_IMPORTED_MODULE_1__["inputStyle"], function (props) {
  return props.size && sizeStyle(props);
}, function (props) {
  return props.plain && plainStyle;
}, _utils__WEBPACK_IMPORTED_MODULE_1__["placeholderStyle"], function (props) {
  return props.focus && !props.plain && _utils__WEBPACK_IMPORTED_MODULE_1__["focusStyle"];
}, function (props) {
  return props.disabled && Object(_utils__WEBPACK_IMPORTED_MODULE_1__["disabledStyle"])(props.theme.textInput.disabled && props.theme.textInput.disabled.opacity);
}, function (props) {
  return props.theme.textInput && props.theme.textInput.extend;
});
StyledTextInput.defaultProps = {};
Object.setPrototypeOf(StyledTextInput.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var StyledTextInputContainer = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledTextInput__StyledTextInputContainer",
  componentId: "sc-1x30a0s-1"
})(["position:relative;width:100%;", ";"], function (props) {
  return props.theme.textInput && props.theme.textInput.container && props.theme.textInput.container.extend;
});
StyledTextInputContainer.defaultProps = {};
Object.setPrototypeOf(StyledTextInputContainer.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var StyledPlaceholder = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledTextInput__StyledPlaceholder",
  componentId: "sc-1x30a0s-2"
})(["position:absolute;left:", "px;top:50%;transform:translateY(-50%);display:flex;justify-content:center;pointer-events:none;", ";"], function (props) {
  return Object(_utils__WEBPACK_IMPORTED_MODULE_1__["parseMetricToNum"])(props.theme.global.input.padding) - Object(_utils__WEBPACK_IMPORTED_MODULE_1__["parseMetricToNum"])(props.theme.global.control.border.width);
}, function (props) {
  return props.theme.textInput && props.theme.textInput.placeholder && props.theme.textInput.placeholder.extend;
});
StyledPlaceholder.defaultProps = {};
Object.setPrototypeOf(StyledPlaceholder.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var StyledSuggestions = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].ol.withConfig({
  displayName: "StyledTextInput__StyledSuggestions",
  componentId: "sc-1x30a0s-3"
})(["border-top-left-radius:0;border-top-right-radius:0;margin:0;padding:0;list-style-type:none;", ";"], function (props) {
  return props.theme.textInput && props.theme.textInput.suggestions && props.theme.textInput.suggestions.extend;
});
StyledSuggestions.defaultProps = {};
Object.setPrototypeOf(StyledSuggestions.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);


/***/ }),

/***/ "./node_modules/grommet/es6/components/TextInput/TextInput.js":
/*!********************************************************************!*\
  !*** ./node_modules/grommet/es6/components/TextInput/TextInput.js ***!
  \********************************************************************/
/*! exports provided: TextInput */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TextInput", function() { return TextInputWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Button */ "./node_modules/grommet/es6/components/Button/index.js");
/* harmony import */ var _Drop__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Drop */ "./node_modules/grommet/es6/components/Drop/index.js");
/* harmony import */ var _InfiniteScroll__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../InfiniteScroll */ "./node_modules/grommet/es6/components/InfiniteScroll/index.js");
/* harmony import */ var _Keyboard__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../Keyboard */ "./node_modules/grommet/es6/components/Keyboard/index.js");
/* harmony import */ var _hocs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../hocs */ "./node_modules/grommet/es6/components/hocs.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _StyledTextInput__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./StyledTextInput */ "./node_modules/grommet/es6/components/TextInput/StyledTextInput.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }














function renderLabel(suggestion) {
  if (suggestion && typeof suggestion === 'object') {
    return suggestion.label || suggestion.value;
  }

  return suggestion;
}

function stringLabel(suggestion) {
  if (suggestion && typeof suggestion === 'object') {
    if (suggestion.label && typeof suggestion.label === 'string') {
      return suggestion.label;
    }

    return suggestion.value;
  }

  return suggestion;
}

var ContainerBox = Object(styled_components__WEBPACK_IMPORTED_MODULE_2__["default"])(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"]).withConfig({
  displayName: "TextInput__ContainerBox",
  componentId: "sc-1ai0c08-0"
})(["", ";@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){width:100%;}"], function (props) {
  return props.dropHeight ? Object(_utils__WEBPACK_IMPORTED_MODULE_10__["sizeStyle"])('max-height', props.dropHeight, props.theme) : 'max-height: inherit;';
});

var TextInput =
/*#__PURE__*/
function (_Component) {
  _inheritsLoose(TextInput, _Component);

  function TextInput() {
    var _this;

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _Component.call.apply(_Component, [this].concat(args)) || this;

    _defineProperty(_assertThisInitialized(_this), "state", {
      activeSuggestionIndex: -1,
      showDrop: false
    });

    _defineProperty(_assertThisInitialized(_this), "inputRef", react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef());

    _defineProperty(_assertThisInitialized(_this), "announce", function (message, mode) {
      var _this$props = _this.props,
          announce = _this$props.announce,
          suggestions = _this$props.suggestions;

      if (suggestions && suggestions.length > 0) {
        announce(message, mode);
      }
    });

    _defineProperty(_assertThisInitialized(_this), "announceSuggestionsCount", function () {
      var _this$props2 = _this.props,
          suggestions = _this$props2.suggestions,
          suggestionsCount = _this$props2.messages.suggestionsCount;

      _this.announce(suggestions.length + " " + suggestionsCount);
    });

    _defineProperty(_assertThisInitialized(_this), "announceSuggestionsExist", function () {
      var suggestionsExist = _this.props.messages.suggestionsExist;

      _this.announce(suggestionsExist);
    });

    _defineProperty(_assertThisInitialized(_this), "announceSuggestionsIsOpen", function () {
      var suggestionIsOpen = _this.props.messages.suggestionIsOpen;

      _this.announce(suggestionIsOpen);
    });

    _defineProperty(_assertThisInitialized(_this), "announceSuggestion", function (index) {
      var _this$props3 = _this.props,
          suggestions = _this$props3.suggestions,
          enterSelect = _this$props3.messages.enterSelect;

      if (suggestions && suggestions.length > 0) {
        var labelMessage = stringLabel(suggestions[index]);

        _this.announce(labelMessage + " " + enterSelect);
      }
    });

    _defineProperty(_assertThisInitialized(_this), "resetSuggestions", function () {
      // delay this to avoid re-render interupting event delivery
      // https://github.com/grommet/grommet/issues/2154
      // 10ms was chosen empirically based on ie11 using TextInput
      // with and without a FormField.
      clearTimeout(_this.resetTimer);
      _this.resetTimer = setTimeout(function () {
        var suggestions = _this.props.suggestions;

        if (suggestions && suggestions.length) {
          _this.setState({
            activeSuggestionIndex: -1,
            showDrop: true,
            selectedSuggestionIndex: -1
          }, _this.announceSuggestionsCount);
        }
      }, 10);
    });

    _defineProperty(_assertThisInitialized(_this), "getSelectedSuggestionIndex", function () {
      var _this$props4 = _this.props,
          suggestions = _this$props4.suggestions,
          value = _this$props4.value;
      var suggestionValues = suggestions.map(function (suggestion) {
        if (typeof suggestion === 'object') {
          return suggestion.value;
        }

        return suggestion;
      });
      return suggestionValues.indexOf(value);
    });

    _defineProperty(_assertThisInitialized(_this), "onShowSuggestions", function () {
      // Get values of suggestions, so we can highlight selected suggestion
      var selectedSuggestionIndex = _this.getSelectedSuggestionIndex();

      _this.setState({
        showDrop: true,
        activeSuggestionIndex: -1,
        selectedSuggestionIndex: selectedSuggestionIndex
      }, _this.announceSuggestionsIsOpen);
    });

    _defineProperty(_assertThisInitialized(_this), "onNextSuggestion", function (event) {
      var suggestions = _this.props.suggestions;
      var _this$state = _this.state,
          activeSuggestionIndex = _this$state.activeSuggestionIndex,
          showDrop = _this$state.showDrop;

      if (suggestions && suggestions.length > 0) {
        if (!showDrop) {
          _this.onShowSuggestions();
        } else {
          event.preventDefault();
          var index = Math.min(activeSuggestionIndex + 1, suggestions.length - 1);

          _this.setState({
            activeSuggestionIndex: index
          }, function () {
            return _this.announceSuggestion(index);
          });
        }
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onPreviousSuggestion", function (event) {
      var suggestions = _this.props.suggestions;
      var _this$state2 = _this.state,
          activeSuggestionIndex = _this$state2.activeSuggestionIndex,
          showDrop = _this$state2.showDrop;

      if (suggestions && suggestions.length > 0 && showDrop) {
        event.preventDefault();
        var index = Math.max(activeSuggestionIndex - 1, 0);

        _this.setState({
          activeSuggestionIndex: index
        }, function () {
          return _this.announceSuggestion(index);
        });
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onClickSuggestion", function (suggestion, event) {
      var _this$props5 = _this.props,
          forwardRef = _this$props5.forwardRef,
          onSelect = _this$props5.onSelect;

      _this.setState({
        showDrop: false,
        activeSuggestionIndex: -1
      });

      if (onSelect) {
        // TODO: needed for backwards compatibility sake

        /* eslint-disable no-param-reassign */
        event.suggestion = suggestion;
        event.target = (forwardRef || _this.inputRef).current;
        /* eslint-enable no-param-reassign */

        onSelect(event);
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onSuggestionSelect", function (event) {
      var _this$props6 = _this.props,
          forwardRef = _this$props6.forwardRef,
          onSelect = _this$props6.onSelect,
          suggestions = _this$props6.suggestions;
      var activeSuggestionIndex = _this.state.activeSuggestionIndex;

      _this.setState({
        showDrop: false,
        activeSuggestionIndex: -1
      });

      if (activeSuggestionIndex >= 0) {
        event.preventDefault(); // prevent submitting forms
        // TODO: needed for backwards compatibility sake

        /* eslint-disable no-param-reassign */

        event.suggestion = suggestions[activeSuggestionIndex];
        event.target = (forwardRef || _this.inputRef).current;
        /* eslint-enable no-param-reassign */

        if (onSelect) {
          onSelect(event);
        }
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onFocus", function (event) {
      var _this$props7 = _this.props,
          onFocus = _this$props7.onFocus,
          suggestions = _this$props7.suggestions;

      if (suggestions && suggestions.length > 0) {
        _this.announceSuggestionsExist();
      }

      _this.resetSuggestions();

      if (onFocus) {
        onFocus(event);
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onBlur", function (event) {
      var onBlur = _this.props.onBlur;
      clearTimeout(_this.resetTimer);

      if (onBlur) {
        onBlur(event);
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onChange", function (event) {
      var onChange = _this.props.onChange;

      _this.resetSuggestions();

      if (onChange) {
        onChange(event);
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onEsc", function (event) {
      var showDrop = _this.state.showDrop;

      if (showDrop) {
        // we have to stop both synthetic events and native events
        // drop and layer should not close by pressing esc on this input
        event.stopPropagation();
        event.nativeEvent.stopImmediatePropagation();

        _this.setState({
          showDrop: false
        });
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onTab", function () {
      _this.setState({
        showDrop: false
      });
    });

    _defineProperty(_assertThisInitialized(_this), "renderSuggestions", function () {
      var _this$props8 = _this.props,
          suggestions = _this$props8.suggestions,
          theme = _this$props8.theme;
      var _this$state3 = _this.state,
          activeSuggestionIndex = _this$state3.activeSuggestionIndex,
          selectedSuggestionIndex = _this$state3.selectedSuggestionIndex;
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledTextInput__WEBPACK_IMPORTED_MODULE_11__["StyledSuggestions"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_InfiniteScroll__WEBPACK_IMPORTED_MODULE_7__["InfiniteScroll"], {
        items: suggestions,
        step: theme.select.step
      }, function (suggestion, index) {
        var plain = typeof suggestion === 'object' && typeof Object(react__WEBPACK_IMPORTED_MODULE_0__["isValidElement"])(suggestion.label);
        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
          key: stringLabel(suggestion) + "-" + index
        }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_5__["Button"], {
          active: activeSuggestionIndex === index || selectedSuggestionIndex === index,
          fill: true,
          hoverIndicator: "background",
          onClick: function onClick(event) {
            _this.onClickSuggestion(suggestion, event);
          }
        }, plain ? renderLabel(suggestion) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"], {
          align: "start",
          pad: "small"
        }, renderLabel(suggestion))));
      }));
    });

    return _this;
  }

  TextInput.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {
    var suggestions = nextProps.suggestions;
    var showDrop = prevState.showDrop;

    if (showDrop && (!suggestions || !suggestions.length)) {
      return {
        showDrop: false
      };
    }

    return null;
  };

  var _proto = TextInput.prototype;

  _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {
    var _this$props9 = this.props,
        onSuggestionsOpen = _this$props9.onSuggestionsOpen,
        onSuggestionsClose = _this$props9.onSuggestionsClose,
        suggestions = _this$props9.suggestions;
    var showDrop = this.state.showDrop;

    if (showDrop !== prevState.showDrop) {
      if (showDrop && onSuggestionsOpen) {
        onSuggestionsOpen();
      } else if (onSuggestionsClose) {
        onSuggestionsClose();
      }
    }

    if (!showDrop && suggestions && (!prevProps.suggestions || !prevProps.suggestions.length)) {
      this.resetSuggestions();
    }
  };

  _proto.componentWillUnmount = function componentWillUnmount() {
    clearTimeout(this.resetTimer);
  };

  _proto.render = function render() {
    var _this2 = this;

    var _this$props10 = this.props,
        defaultValue = _this$props10.defaultValue,
        dropAlign = _this$props10.dropAlign,
        dropHeight = _this$props10.dropHeight,
        dropTarget = _this$props10.dropTarget,
        dropProps = _this$props10.dropProps,
        forwardRef = _this$props10.forwardRef,
        id = _this$props10.id,
        placeholder = _this$props10.placeholder,
        plain = _this$props10.plain,
        theme = _this$props10.theme,
        value = _this$props10.value,
        onKeyDown = _this$props10.onKeyDown,
        rest = _objectWithoutPropertiesLoose(_this$props10, ["defaultValue", "dropAlign", "dropHeight", "dropTarget", "dropProps", "forwardRef", "id", "placeholder", "plain", "theme", "value", "onKeyDown"]);

    delete rest.onChange; // se we can manage in this.onChange()

    delete rest.onSuggestionsOpen;
    delete rest.onSuggestionsClose;
    var showDrop = this.state.showDrop; // needed so that styled components does not invoke
    // onSelect when text input is clicked

    delete rest.onSelect;
    var drop;

    if (showDrop) {
      drop = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Drop__WEBPACK_IMPORTED_MODULE_6__["Drop"], _extends({
        id: id ? "text-input-drop__" + id : undefined,
        align: dropAlign,
        responsive: false,
        target: dropTarget || (forwardRef || this.inputRef).current,
        onClickOutside: function onClickOutside() {
          return _this2.setState({
            showDrop: false
          });
        },
        onEsc: function onEsc() {
          return _this2.setState({
            showDrop: false
          });
        }
      }, dropProps), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ContainerBox, {
        overflow: "auto",
        dropHeight: dropHeight
      }, this.renderSuggestions()));
    }

    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledTextInput__WEBPACK_IMPORTED_MODULE_11__["StyledTextInputContainer"], {
      plain: plain
    }, placeholder && typeof placeholder !== 'string' && !value ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledTextInput__WEBPACK_IMPORTED_MODULE_11__["StyledPlaceholder"], null, placeholder) : null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Keyboard__WEBPACK_IMPORTED_MODULE_8__["Keyboard"], {
      onEnter: this.onSuggestionSelect,
      onEsc: this.onEsc,
      onTab: this.onTab,
      onUp: this.onPreviousSuggestion,
      onDown: this.onNextSuggestion,
      onKeyDown: onKeyDown
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledTextInput__WEBPACK_IMPORTED_MODULE_11__["StyledTextInput"], _extends({
      id: id,
      ref: forwardRef || this.inputRef,
      autoComplete: "off",
      plain: plain,
      placeholder: typeof placeholder === 'string' ? placeholder : undefined
    }, rest, {
      defaultValue: renderLabel(defaultValue),
      value: renderLabel(value),
      onFocus: this.onFocus,
      onBlur: this.onBlur,
      onChange: this.onChange
    }))), drop);
  };

  return TextInput;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

_defineProperty(TextInput, "defaultProps", {
  dropAlign: {
    top: 'bottom',
    left: 'left'
  },
  messages: {
    enterSelect: '(Press Enter to Select)',
    suggestionsCount: 'suggestions available',
    suggestionsExist: 'This input has suggestions use arrow keys to navigate',
    suggestionIsOpen: 'Suggestions drop is open, continue to use arrow keys to navigate'
  }
});

Object.setPrototypeOf(TextInput.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_3__["defaultProps"]);
var TextInputDoc;

if (true) {
  // eslint-disable-next-line global-require
  TextInputDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/TextInput/doc.js").doc(TextInput);
}

var TextInputWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(Object(_hocs__WEBPACK_IMPORTED_MODULE_9__["withFocus"])({
  focusWithMouse: true
}), styled_components__WEBPACK_IMPORTED_MODULE_2__["withTheme"], _hocs__WEBPACK_IMPORTED_MODULE_9__["withAnnounce"], _hocs__WEBPACK_IMPORTED_MODULE_9__["withForwardRef"])(TextInputDoc || TextInput);


/***/ }),

/***/ "./node_modules/grommet/es6/components/TextInput/doc.js":
/*!**************************************************************!*\
  !*** ./node_modules/grommet/es6/components/TextInput/doc.js ***!
  \**************************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var doc = function doc(TextInput) {
  var DocumentedTextInput = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(TextInput).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('TextInput')).description('A control to input a single line of text, with optional suggestions.').usage("import { TextInput } from 'grommet';\n<TextInput id='item' name='item' />").intrinsicElement('input');
  DocumentedTextInput.propTypes = {
    dropAlign: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      top: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['top', 'bottom']),
      bottom: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['top', 'bottom']),
      right: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['left', 'right']),
      left: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['left', 'right'])
    }).description('How to align the drop.').defaultValue({
      top: 'bottom',
      left: 'left'
    }),
    dropHeight: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['xsmall', 'small', 'medium', 'large', 'xlarge']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description('The height of the drop container.'),
    dropTarget: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object.description("Target where any suggestions drop will be aligned to. This should be\n      a React reference. Typically, this is not required as the drop will be\n      aligned to the TextInput itself by default."),
    dropProps: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object.description('Any valid Drop prop.'),
    id: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description('The id attribute of the input.'),
    focusIndicator: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Whether the plain text input should receive a focus outline.'),
    messages: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      enterSelect: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
      suggestionsCount: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
      suggestionsExist: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
      suggestionIsOpen: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string
    }).description("Custom messages for TextInput. Used for accessibility by screen \n        readers.").defaultValue({
      enterSelect: '(Press Enter to Select)',
      suggestionsCount: 'suggestions available',
      suggestionsExist: 'This input has suggestions use arrow keys to navigate',
      suggestionIsOpen: 'Suggestions drop is open, continue to use arrow keys to navigate'
    }),
    name: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description('The name attribute of the input.'),
    onChange: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description('Function that will be called when the user types in the input.'),
    onSelect: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Function that will be called when the user selects a suggestion.\nThe suggestion contains the object chosen from the supplied suggestions."),
    onSuggestionsOpen: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description('Function that will be called when the suggestions drop is opened.'),
    onSuggestionsClose: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description('Function that will be called when the suggestions drop is closed.'),
    placeholder: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].node.description('Placeholder to use when no value is provided.'),
    plain: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description("Whether this is a plain input with no border or padding.\nOnly use this when the containing context provides sufficient affordance"),
    size: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['small', 'medium', 'large', 'xlarge']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description('The size of the TextInput.'),
    suggestions: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      label: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].node,
      value: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].any
    }), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string])).description("Suggestions to show. It is recommended to avoid showing too many\nsuggestions and instead rely on the user to type more."),
    value: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number]).description('What text to put in the input.')
  };
  return DocumentedTextInput;
};
var themeDoc = _extends({
  'global.colors.border': {
    description: 'The color of the border.',
    type: 'object',
    defaultValue: {
      dark: 'rgba(255, 255, 255, 0.33)',
      light: 'rgba(0, 0, 0, 0.33)'
    }
  },
  'global.control.border.color': {
    description: 'The border color.',
    type: 'string',
    defaultValue: 'border'
  },
  'global.control.border.radius': {
    description: 'The border radius.',
    type: 'string',
    defaultValue: '4px'
  },
  'global.control.border.width': {
    description: 'The border width.',
    type: 'string',
    defaultValue: '1px'
  },
  'select.step': {
    description: 'How many suggestions to render at a time.',
    type: 'number',
    defaultValue: 20
  },
  text: {
    description: "The possible sizes of the text in terms of its font-size and \n    line-height.",
    type: 'object',
    defaultValue: "{\n      xsmall: {\n        size: '12px',\n        height: '18px',\n       },\n      small: {\n        size: '14px',\n        height: '20px',\n       },\n      medium: {\n        size: '18px',\n        height: '24px',\n      },\n      large: {\n        size: '22px',\n        height: '28px',\n      },\n      xlarge: {\n        size: '26px',\n        height: '32px',\n      },\n      xxlarge: {\n        size: '34px',\n        height: '40px',\n      },\n    }"
  },
  'textInput.extend': {
    description: 'Any additional style for TextInput.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'textInput.container.extend': {
    description: 'Any additional style for TextInput container.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'textInput.placeholder.extend': {
    description: 'Any additional style for non-string placeholder inside TextInput.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'textInput.suggestions.extend': {
    description: 'Any additional style for TextInput suggestions.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  },
  'textInput.disabled.opacity': {
    description: 'The opacity when the textInput is disabled.',
    type: 'number',
    defaultValue: 0.3
  }
}, _utils__WEBPACK_IMPORTED_MODULE_1__["themeDocUtils"].focusStyle, {}, _utils__WEBPACK_IMPORTED_MODULE_1__["themeDocUtils"].placeholderStyle, {}, _utils__WEBPACK_IMPORTED_MODULE_1__["themeDocUtils"].disabledStyle, {}, _utils__WEBPACK_IMPORTED_MODULE_1__["themeDocUtils"].inputStyle);

/***/ }),

/***/ "./node_modules/grommet/es6/components/TextInput/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/grommet/es6/components/TextInput/index.js ***!
  \****************************************************************/
/*! exports provided: TextInput */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _TextInput__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./TextInput */ "./node_modules/grommet/es6/components/TextInput/TextInput.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TextInput", function() { return _TextInput__WEBPACK_IMPORTED_MODULE_0__["TextInput"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/Video/StyledVideo.js":
/*!******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Video/StyledVideo.js ***!
  \******************************************************************/
/*! exports provided: StyledVideo, StyledVideoContainer, StyledVideoControls, StyledVideoScrubber */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledVideo", function() { return StyledVideo; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledVideoContainer", function() { return StyledVideoContainer; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledVideoControls", function() { return StyledVideoControls; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledVideoScrubber", function() { return StyledVideoScrubber; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");



var FIT_MAP = {
  cover: 'cover',
  contain: 'contain'
};
var fitStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["flex:1 1;min-height:0;object-fit:", ";"], function (props) {
  return FIT_MAP[props.fit];
});
var StyledVideo = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].video.withConfig({
  displayName: "StyledVideo",
  componentId: "w4v8h9-0"
})(["max-width:100%;", "::cue{background:", ";}", ";"], function (props) {
  return props.fit && fitStyle;
}, function (props) {
  return props.theme.video.captions.background;
}, function (props) {
  return props.theme.video && props.theme.video.extend;
});
StyledVideo.defaultProps = {};
Object.setPrototypeOf(StyledVideo.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var StyledVideoContainer = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledVideo__StyledVideoContainer",
  componentId: "w4v8h9-1"
})(["flex:1 1;display:flex;flex-direction:column;overflow:hidden;position:relative;", ";"], _utils__WEBPACK_IMPORTED_MODULE_1__["genericStyles"]);
StyledVideoContainer.defaultProps = {};
Object.setPrototypeOf(StyledVideoContainer.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var positionStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["position:absolute;left:0;right:0;bottom:0;"]);
var StyledVideoControls = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledVideo__StyledVideoControls",
  componentId: "w4v8h9-2"
})(["flex:0 0;", " opacity:0;transition:opacity 0.3s;", ";"], function (props) {
  return props.over && positionStyle;
}, function (props) {
  return props.active ? 'opacity: 1;' : 'pointer-events: none';
});
StyledVideoControls.defaultProps = {};
Object.setPrototypeOf(StyledVideoControls.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);
var headStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["::after{content:'';height:100%;width:", ";background:", ";position:absolute;left:", ";}"], function (props) {
  return props.theme.global.edgeSize.xsmall;
}, function (props) {
  return Object(_utils__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.video.scrubber.color, props.theme);
}, function (props) {
  return props.value + "%";
});
var StyledVideoScrubber = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].div.withConfig({
  displayName: "StyledVideo__StyledVideoScrubber",
  componentId: "w4v8h9-3"
})(["cursor:pointer;width:100%;height:100%;", ";"], function (props) {
  return props.value && headStyle;
});
StyledVideoScrubber.defaultProps = {};
Object.setPrototypeOf(StyledVideoScrubber.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Video/Video.js":
/*!************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Video/Video.js ***!
  \************************************************************/
/*! exports provided: Video */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Video", function() { return VideoWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Box */ "./node_modules/grommet/es6/components/Box/index.js");
/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Button */ "./node_modules/grommet/es6/components/Button/index.js");
/* harmony import */ var _Menu__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Menu */ "./node_modules/grommet/es6/components/Menu/index.js");
/* harmony import */ var _Meter__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Meter */ "./node_modules/grommet/es6/components/Meter/index.js");
/* harmony import */ var _Stack__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../Stack */ "./node_modules/grommet/es6/components/Stack/index.js");
/* harmony import */ var _Text__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../Text */ "./node_modules/grommet/es6/components/Text/index.js");
/* harmony import */ var _hocs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../hocs */ "./node_modules/grommet/es6/components/hocs.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _StyledVideo__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./StyledVideo */ "./node_modules/grommet/es6/components/Video/StyledVideo.js");
function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }













 // Split the volume control into 6 segments. Empirically determined.

var VOLUME_STEP = 0.166667;

var formatTime = function formatTime(time) {
  var minutes = Math.round(time / 60);

  if (minutes < 10) {
    minutes = "0" + minutes;
  }

  var seconds = Math.round(time) % 60;

  if (seconds < 10) {
    seconds = "0" + seconds;
  }

  return minutes + ":" + seconds;
};

var videoEvents = ['onAbort', 'onCanPlay', 'onCanPlayThrough', 'onDurationChange', 'onEmptied', 'onEncrypted', 'onEnded', 'onError', 'onLoadedData', 'onLoadedMetadata', 'onLoadStart', 'onPause', 'onPlay', 'onPlaying', 'onProgress', 'onRateChange', 'onSeeked', 'onSeeking', 'onStalled', 'onSuspend', 'onTimeUpdate', 'onVolumeChange', 'onWaiting'];

var Video =
/*#__PURE__*/
function (_Component) {
  _inheritsLoose(Video, _Component);

  Video.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {
    var forwardRef = nextProps.forwardRef;
    var videoRef = prevState.videoRef;
    var nextVideoRef = forwardRef || videoRef;

    if (nextVideoRef !== videoRef) {
      return {
        videoRef: nextVideoRef
      };
    }

    return null;
  };

  function Video(props) {
    var _this;

    _this = _Component.call(this, props) || this;

    _defineProperty(_assertThisInitialized(_this), "state", {
      captions: [],
      scrubberRef: react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef(),
      videoRef: react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef()
    });

    _defineProperty(_assertThisInitialized(_this), "hasPlayed", false);

    _defineProperty(_assertThisInitialized(_this), "injectUpdateVideoEvents", function () {
      return videoEvents.reduce(function (previousValue, currentValue) {
        var nextValue = _extends({}, previousValue);

        nextValue[currentValue] = function (e) {
          if (currentValue in _this.props &&
          /* eslint-disable react/destructuring-assignment */
          typeof _this.props[currentValue] === 'function') {
            _this.props[currentValue](e);
            /* eslint-enable react/destructuring-assignment */

          }

          _this.update();
        };

        return nextValue;
      }, {});
    });

    _defineProperty(_assertThisInitialized(_this), "update", function () {
      var videoRef = _this.state.videoRef;
      var video = videoRef.current; // Set flag for Video first play

      if (!_this.hasPlayed && !video.paused && !video.loading || video.currentTime) {
        _this.hasPlayed = true;
      }

      var interacting = _this.state.interacting;

      if (video.ended) {
        interacting = false;
      }

      _this.setState({
        duration: video.duration,
        currentTime: video.currentTime,
        // buffered: video.buffered,
        // paused: video.paused,
        // muted: video.muted,
        volume: video.volume,
        // ended: video.ended,
        // readyState: video.readyState,
        interacting: interacting,
        // computed values
        // hasPlayed: this.hasPlayed,
        playing: !video.paused && !video.loading,
        // percentageBuffered: video.buffered.length &&
        //   (video.buffered.end(video.buffered.length - 1) /
        //   video.duration) * 100,
        percentagePlayed: video.currentTime / video.duration * 100 // loading: video.readyState < video.HAVE_ENOUGH_DATA,

      });
    });

    _defineProperty(_assertThisInitialized(_this), "play", function () {
      var videoRef = _this.state.videoRef;
      videoRef.current.play();
    });

    _defineProperty(_assertThisInitialized(_this), "pause", function () {
      var videoRef = _this.state.videoRef;
      videoRef.current.pause();
    });

    _defineProperty(_assertThisInitialized(_this), "scrub", function (event) {
      var _this$state = _this.state,
          duration = _this$state.duration,
          scrubberRef = _this$state.scrubberRef;

      if (scrubberRef.current) {
        var scrubberRect = scrubberRef.current.getBoundingClientRect();
        var percent = (event.clientX - scrubberRect.left) / scrubberRect.width;

        _this.setState({
          scrubTime: duration * percent
        });
      }
    });

    _defineProperty(_assertThisInitialized(_this), "seek", function (event) {
      var _this$state2 = _this.state,
          duration = _this$state2.duration,
          scrubberRef = _this$state2.scrubberRef,
          videoRef = _this$state2.videoRef;

      if (scrubberRef.current) {
        var scrubberRect = scrubberRef.current.getBoundingClientRect();
        var percent = (event.clientX - scrubberRect.left) / scrubberRect.width;
        videoRef.current.currentTime = duration * percent;
      }
    });

    _defineProperty(_assertThisInitialized(_this), "unmute", function () {
      var videoRef = _this.state.videoRef;

      if (videoRef.current) {
        videoRef.current.muted = false;
      }
    });

    _defineProperty(_assertThisInitialized(_this), "mute", function () {
      var videoRef = _this.state.videoRef;

      if (videoRef.current) {
        videoRef.current.muted = true;
      }
    });

    _defineProperty(_assertThisInitialized(_this), "louder", function () {
      var videoRef = _this.state.videoRef;
      videoRef.current.volume += VOLUME_STEP;
    });

    _defineProperty(_assertThisInitialized(_this), "quieter", function () {
      var videoRef = _this.state.videoRef;
      videoRef.current.volume -= VOLUME_STEP;
    });

    _defineProperty(_assertThisInitialized(_this), "showCaptions", function (index) {
      var videoRef = _this.state.videoRef;
      var textTracks = videoRef.current.textTracks;

      for (var i = 0; i < textTracks.length; i += 1) {
        textTracks[i].mode = i === index ? 'showing' : 'hidden';
      } // Using forceUpdate to force redraw of controls when changing captions


      _this.forceUpdate();
    });

    _defineProperty(_assertThisInitialized(_this), "fullscreen", function () {
      var videoRef = _this.state.videoRef;
      var video = videoRef.current;

      if (video.requestFullscreen) {
        video.requestFullscreen();
      } else if (video.msRequestFullscreen) {
        video.msRequestFullscreen();
      } else if (video.mozRequestFullScreen) {
        video.mozRequestFullScreen();
      } else if (video.webkitRequestFullscreen) {
        video.webkitRequestFullscreen();
      } else {
        console.warn("Your browser doesn't support fullscreen.");
      }
    });

    _defineProperty(_assertThisInitialized(_this), "interactionStart", function () {
      _this.setState({
        interacting: true
      });

      clearTimeout(_this.interactionTimer);
      _this.interactionTimer = setTimeout(_this.interactionStop, 3000);
    });

    _defineProperty(_assertThisInitialized(_this), "interactionStop", function () {
      var focus = _this.state.focus;

      if (!focus && !_this.unmounted) {
        _this.setState({
          interacting: false
        });
      }
    });

    _defineProperty(_assertThisInitialized(_this), "restate", function () {
      var _this$state3 = _this.state,
          captions = _this$state3.captions,
          height = _this$state3.height,
          videoRef = _this$state3.videoRef,
          width = _this$state3.width;
      var video = videoRef.current;

      if (video) {
        if (video.videoHeight) {
          // set the size based on the video aspect ratio
          var rect = video.getBoundingClientRect();
          var ratio = rect.width / rect.height;
          var videoRatio = video.videoWidth / video.videoHeight;

          if (videoRatio > ratio) {
            var nextHeight = rect.width / videoRatio;

            if (nextHeight !== height) {
              _this.setState({
                height: nextHeight,
                width: undefined
              });
            }
          } else {
            var nextWidth = rect.height * videoRatio;

            if (nextWidth !== width) {
              _this.setState({
                height: undefined,
                width: nextWidth
              });
            }
          }
        } // remember the state of the text tracks for subsequent rendering


        var textTracks = video.textTracks;

        if (textTracks.length > 0) {
          if (textTracks.length === 1) {
            var active = textTracks[0].mode === 'showing';

            if (!captions || !captions[0] || captions[0].active !== active) {
              _this.setState({
                captions: [{
                  active: active
                }]
              });
            }
          } else {
            var nextCaptions = [];
            var set = false;

            for (var i = 0; i < textTracks.length; i += 1) {
              var track = textTracks[i];

              var _active = track.mode === 'showing';

              nextCaptions.push({
                label: track.label,
                active: _active
              });

              if (!captions || !captions[i] || captions[i].active !== _active) {
                set = true;
              }
            }

            if (set) {
              _this.setState({
                captions: nextCaptions
              });
            }
          }
        }
      }
    });

    _this.update = Object(_utils__WEBPACK_IMPORTED_MODULE_11__["throttle"])(_this.update, 100, _assertThisInitialized(_this));
    _this.mediaEventProps = _this.injectUpdateVideoEvents();
    return _this;
  }

  var _proto = Video.prototype;

  _proto.componentDidMount = function componentDidMount() {
    var mute = this.props.mute;
    var videoRef = this.state.videoRef;
    var video = videoRef.current;

    if (mute) {
      this.mute();
    }

    if (video) {
      // hide all captioning to start with
      var textTracks = video.textTracks;

      for (var i = 0; i < textTracks.length; i += 1) {
        textTracks[i].mode = 'hidden';
      }

      this.restate();
    }
  };

  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {
    var autoPlay = this.props.autoPlay;

    if (autoPlay && !prevProps.autoPlay) {
      // Caller wants the video to play now.
      this.play();
    }

    this.restate();
  };

  _proto.componentWillUnmount = function componentWillUnmount() {
    this.unmounted = true;
  };

  _proto.renderControls = function renderControls() {
    var _this2 = this;

    var _this$props = this.props,
        controls = _this$props.controls,
        theme = _this$props.theme;
    var _this$state4 = this.state,
        captions = _this$state4.captions,
        currentTime = _this$state4.currentTime,
        duration = _this$state4.duration,
        interacting = _this$state4.interacting,
        percentagePlayed = _this$state4.percentagePlayed,
        playing = _this$state4.playing,
        scrubberRef = _this$state4.scrubberRef,
        scrubTime = _this$state4.scrubTime,
        volume = _this$state4.volume;
    var over = controls === 'over';
    var background = over ? theme.video.controls && theme.video.controls.background || {
      color: 'dark-1',
      opacity: 'strong'
    } : undefined;
    var iconColor = over && (theme.video.icons.color || 'light-1');
    var formattedTime = formatTime(scrubTime || currentTime || duration);
    var Icons = {
      ClosedCaption: theme.video.icons.closedCaption,
      Configure: theme.video.icons.configure,
      FullScreen: theme.video.icons.fullScreen,
      Pause: theme.video.icons.pause,
      Play: theme.video.icons.play,
      ReduceVolume: theme.video.icons.reduceVolume,
      Volume: theme.video.icons.volume
    };
    var captionControls = captions.map(function (caption) {
      return {
        icon: caption.label ? undefined : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Icons.ClosedCaption, {
          color: iconColor
        }),
        label: caption.label,
        active: caption.active,
        onClick: function onClick() {
          return _this2.showCaptions(caption.active ? -1 : 0);
        }
      };
    });
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledVideo__WEBPACK_IMPORTED_MODULE_12__["StyledVideoControls"], {
      over: over,
      active: !this.hasPlayed || controls === 'below' || over && interacting
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"], {
      direction: "row",
      align: "center",
      justify: "between",
      background: background
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_5__["Button"], {
      icon: playing ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Icons.Pause, {
        color: iconColor
      }) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Icons.Play, {
        color: iconColor
      }),
      hoverIndicator: "background",
      onClick: playing ? this.pause : this.play
    }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"], {
      direction: "row",
      align: "center",
      flex: true
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"], {
      flex: true
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Stack__WEBPACK_IMPORTED_MODULE_8__["Stack"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Meter__WEBPACK_IMPORTED_MODULE_7__["Meter"], {
      "aria-label": "Video progress",
      background: over ? theme.video.scrubber && theme.video.scrubber.track && theme.video.scrubber.track.color || 'dark-3' : undefined,
      size: "full",
      thickness: "small",
      values: [{
        value: percentagePlayed || 0
      }]
    }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledVideo__WEBPACK_IMPORTED_MODULE_12__["StyledVideoScrubber"], {
      ref: scrubberRef,
      tabIndex: 0,
      role: "button",
      value: scrubTime ? Math.round(scrubTime / duration * 100) : undefined,
      onMouseMove: this.scrub,
      onMouseLeave: function onMouseLeave() {
        return _this2.setState({
          scrubTime: undefined
        });
      },
      onClick: this.seek
    }))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Box__WEBPACK_IMPORTED_MODULE_4__["Box"], {
      pad: {
        horizontal: 'small'
      }
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Text__WEBPACK_IMPORTED_MODULE_9__["Text"], {
      margin: "none"
    }, formattedTime))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Menu__WEBPACK_IMPORTED_MODULE_6__["Menu"], {
      icon: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Icons.Configure, {
        color: iconColor
      }),
      dropAlign: {
        bottom: 'top',
        right: 'right'
      },
      dropBackground: background,
      items: [{
        icon: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Icons.Volume, {
          color: iconColor
        }),
        onClick: volume <= 1 - VOLUME_STEP ? this.louder : undefined,
        close: false
      }, {
        icon: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Icons.ReduceVolume, {
          color: iconColor
        }),
        onClick: volume >= VOLUME_STEP ? this.quieter : undefined,
        close: false
      }].concat(captionControls, [{
        icon: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Icons.FullScreen, {
          color: iconColor
        }),
        onClick: this.fullscreen
      }])
    })));
  };

  _proto.render = function render() {
    var _this$props2 = this.props,
        alignSelf = _this$props2.alignSelf,
        autoPlay = _this$props2.autoPlay,
        children = _this$props2.children,
        controls = _this$props2.controls,
        gridArea = _this$props2.gridArea,
        loop = _this$props2.loop,
        margin = _this$props2.margin,
        theme = _this$props2.theme,
        rest = _objectWithoutPropertiesLoose(_this$props2, ["alignSelf", "autoPlay", "children", "controls", "gridArea", "loop", "margin", "theme"]);

    var _this$state5 = this.state,
        height = _this$state5.height,
        videoRef = _this$state5.videoRef,
        width = _this$state5.width;
    var controlsElement = controls ? this.renderControls() : undefined;
    var mouseEventListeners;

    if (controls === 'over') {
      mouseEventListeners = {
        onMouseEnter: this.interactionStart,
        onMouseMove: this.interactionStart,
        onTouchStart: this.interactionStart
      };
    }

    var style;

    if (rest.fit === 'contain' && controls === 'over') {
      // constrain the size to fit the aspect ratio so the controls
      // overlap correctly
      if (width) {
        style = {
          width: width
        };
      } else if (height) {
        style = {
          height: height
        };
      }
    }

    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledVideo__WEBPACK_IMPORTED_MODULE_12__["StyledVideoContainer"], _extends({}, mouseEventListeners, {
      alignSelf: alignSelf,
      gridArea: gridArea,
      margin: margin,
      style: style
    }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledVideo__WEBPACK_IMPORTED_MODULE_12__["StyledVideo"], _extends({}, rest, {
      ref: videoRef
    }, this.mediaEventProps, {
      autoPlay: autoPlay || false,
      loop: loop || false
    }), children), controlsElement);
  };

  return Video;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

Video.defaultProps = {
  controls: 'over'
};
Object.setPrototypeOf(Video.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_3__["defaultProps"]);
var VideoDoc;

if (true) {
  // eslint-disable-next-line global-require
  VideoDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/Video/doc.js").doc(Video);
}

var VideoWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(styled_components__WEBPACK_IMPORTED_MODULE_2__["withTheme"], _hocs__WEBPACK_IMPORTED_MODULE_10__["withForwardRef"])(VideoDoc || Video);


/***/ }),

/***/ "./node_modules/grommet/es6/components/Video/doc.js":
/*!**********************************************************!*\
  !*** ./node_modules/grommet/es6/components/Video/doc.js ***!
  \**********************************************************/
/*! exports provided: doc, themeDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _utils_themeDocUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/themeDocUtils */ "./node_modules/grommet/es6/utils/themeDocUtils.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }




var doc = function doc(Video) {
  var DocumentedVideo = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(Video).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('Video')).description('A video player.').usage("import { Video } from 'grommet';\n<Video />").intrinsicElement('video');
  DocumentedVideo.propTypes = _extends({}, _utils__WEBPACK_IMPORTED_MODULE_1__["genericProps"], {
    autoPlay: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Enables automatic playback of the video as soon as it is loaded.'),
    controls: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf([false, 'over', 'below']).description('Whether to show playback controls and where to place them.').defaultValue('over'),
    fit: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['cover', 'contain']).description('How the image fills its container.'),
    loop: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Enables continuous video looping.'),
    mute: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool.description('Enables video muting. This option is best used with the autoPlay flag.')
  });
  return DocumentedVideo;
};
var themeDoc = _extends({}, _utils_themeDocUtils__WEBPACK_IMPORTED_MODULE_2__["themeDocUtils"].responsiveBreakpoint('The actual breakpoint to trigger changes in the video component layout.'), {
  'global.edgeSize.xsmall': {
    description: 'The width of the video scrubber.',
    type: 'object',
    defaultValue: '6px'
  },
  'video.captions.background': {
    description: 'The caption background color of the video ',
    type: 'string',
    defaultValue: 'rgba(0, 0, 0, 0.7)'
  },
  'video.scrubber.color': {
    description: 'The background color of the video scrubber.',
    type: 'string',
    defaultValue: 'light-4'
  },
  'video.extend': {
    description: 'Any additional style for Video.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  }
});

/***/ }),

/***/ "./node_modules/grommet/es6/components/Video/index.js":
/*!************************************************************!*\
  !*** ./node_modules/grommet/es6/components/Video/index.js ***!
  \************************************************************/
/*! exports provided: Video */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Video__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Video */ "./node_modules/grommet/es6/components/Video/Video.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Video", function() { return _Video__WEBPACK_IMPORTED_MODULE_0__["Video"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/WorldMap/StyledWorldMap.js":
/*!************************************************************************!*\
  !*** ./node_modules/grommet/es6/components/WorldMap/StyledWorldMap.js ***!
  \************************************************************************/
/*! exports provided: StyledWorldMap */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyledWorldMap", function() { return StyledWorldMap; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");




var fillStyle = function fillStyle(fillProp) {
  if (fillProp === 'horizontal') {
    return "\n      width: 100%;\n      height: unset;\n    ";
  }

  if (fillProp === 'vertical') {
    return "\n      width: unset;\n      height: 100%;\n    ";
  }

  if (fillProp) {
    return "\n      width: 100%;\n      height: 100%;\n    ";
  }

  return '';
}; // undefined fillProp has width for backwards compatibility


var StyledWorldMap = styled_components__WEBPACK_IMPORTED_MODULE_0__["default"].svg.withConfig({
  displayName: "StyledWorldMap",
  componentId: "had4c3-0"
})(["", " ", " ", ";"], _utils__WEBPACK_IMPORTED_MODULE_1__["genericStyles"], function (props) {
  return props.fillProp !== undefined ? fillStyle(props.fillProp) : 'width: 100%;';
}, function (props) {
  return props.theme.worldMap && props.theme.worldMap.extend;
});
StyledWorldMap.defaultProps = {};
Object.setPrototypeOf(StyledWorldMap.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]);


/***/ }),

/***/ "./node_modules/grommet/es6/components/WorldMap/WorldMap.js":
/*!******************************************************************!*\
  !*** ./node_modules/grommet/es6/components/WorldMap/WorldMap.js ***!
  \******************************************************************/
/*! exports provided: WorldMap */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WorldMap", function() { return WorldMapWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/dist/Recompose.esm.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _StyledWorldMap__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./StyledWorldMap */ "./node_modules/grommet/es6/components/WorldMap/StyledWorldMap.js");
function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }






 // The graphic is drawn as a rectangular grid using coordinates spaced
// by FACTOR pixels. The contents have both an area boundary for interaction
// and dots described as rows where each row is described by three values:
// a starting coordinate and a length. This approach is more efficient than
// describing it via SVG elements, keeping the code/library size smaller.

var CONTINENTS = [{
  name: 'Australia',
  origin: [74, 32],
  area: [[4, 0], [7, 1], [15, 7], [13, 9], [0, 6], [0, 2]],
  dots: [[4, 0, 1], [2, 1, 6], [0, 2, 9], [0, 3, 10], [0, 4, 10], [0, 5, 3], [5, 5, 5], [5, 6, 4], [15, 7, 1], [14, 8, 1], [13, 9, 1]]
}, {
  name: 'Asia',
  origin: [52, 1],
  area: [[16, 0], [38, 5], [40, 7], [28, 17], [24, 25], [29, 29], [19, 29], [11, 24], [3, 23], [0, 20], [0, 19], [6, 13], [7, 6]],
  dots: [[16, 0, 1], [17, 1, 2], [18, 2, 2], [15, 3, 6], [28, 3, 1], [30, 3, 1], [10, 4, 2], [13, 4, 10], [24, 4, 1], [9, 5, 22], [32, 5, 1], [38, 5, 1], [7, 6, 2], [10, 6, 1], [12, 6, 27], [7, 7, 34], [7, 8, 31], [7, 9, 26], [34, 9, 3], [7, 10, 22], [31, 10, 1], [33, 10, 1], [7, 11, 21], [32, 11, 2], [7, 12, 21], [32, 12, 1], [6, 13, 22], [32, 13, 1], [6, 14, 22], [5, 15, 22], [3, 16, 2], [6, 16, 20], [2, 17, 3], [6, 17, 16], [24, 17, 1], [28, 17, 1], [1, 18, 22], [26, 18, 2], [0, 19, 24], [0, 20, 5], [6, 20, 17], [2, 21, 5], [10, 21, 14], [2, 22, 5], [11, 22, 4], [16, 22, 4], [3, 23, 3], [11, 23, 2], [17, 23, 3], [23, 23, 1], [11, 24, 2], [18, 24, 2], [23, 24, 1], [24, 25, 1], [18, 26, 1], [22, 26, 1], [18, 27, 1], [20, 27, 4], [18, 28, 1], [21, 28, 1], [23, 28, 1], [26, 28, 3], [19, 29, 1], [28, 29, 2]]
}, {
  // 21X, 40Y
  name: 'Africa',
  origin: [40, 19],
  area: [[3, 0], [6, 0], [11, 2], [16, 7], [16, 15], [11, 18], [9, 18], [0, 6], [0, 3]],
  dots: [[3, 0, 4], [2, 1, 6], [9, 1, 2], [1, 2, 11], [0, 3, 13], [0, 4, 14], [0, 5, 14], [0, 6, 16], [1, 7, 16], [2, 8, 2], [6, 8, 11], [7, 9, 9], [7, 10, 8], [7, 11, 7], [8, 12, 7], [7, 13, 8], [7, 14, 7], [16, 14, 1], [8, 15, 5], [15, 15, 2], [8, 16, 5], [9, 17, 3], [9, 18, 3]]
}, {
  name: 'Europe',
  origin: [39, 2],
  area: [[8, 0], [10, 0], [20, 2], [19, 11], [18, 13], [14, 16], [3, 16], [0, 7]],
  dots: [[8, 0, 3], [9, 1, 1], [20, 2, 1], [19, 3, 1], [12, 4, 1], [19, 4, 1], [9, 5, 6], [9, 6, 7], [17, 6, 3], [0, 7, 1], [8, 7, 12], [7, 8, 3], [11, 8, 9], [7, 9, 3], [11, 9, 9], [4, 10, 1], [7, 10, 1], [9, 10, 1], [11, 10, 9], [3, 11, 2], [7, 11, 13], [4, 12, 1], [6, 12, 13], [4, 13, 15], [5, 14, 3], [9, 14, 4], [15, 14, 2], [3, 15, 3], [8, 15, 1], [10, 15, 5], [6, 15, 2], [3, 16, 2], [10, 16, 5]]
}, {
  name: 'South America',
  origin: [22, 26],
  area: [[2, 0], [5, 0], [11, 4], [11, 8], [3, 18], [2, 17], [0, 4], [0, 3]],
  dots: [[2, 0, 4], [1, 1, 7], [1, 2, 7], [0, 3, 10], [0, 4, 12], [1, 5, 11], [2, 6, 9], [3, 7, 8], [3, 8, 8], [3, 9, 6], [3, 10, 6], [3, 11, 5], [3, 12, 3], [2, 13, 3], [2, 14, 3], [2, 15, 2], [2, 16, 2], [2, 17, 2], [3, 18, 1]]
}, {
  name: 'North America',
  origin: [0, 0],
  area: [[21, 0], [39, 0], [39, 6], [22, 26], [16, 23], [2, 12], [0, 7]],
  dots: [[22, 0, 6], [29, 0, 1], [31, 0, 1], [33, 0, 5], [20, 1, 1], [22, 1, 1], [24, 1, 2], [27, 1, 13], [17, 2, 1], [20, 2, 5], [26, 2, 13], [13, 3, 1], [19, 3, 1], [21, 3, 3], [26, 3, 14], [14, 4, 1], [16, 4, 4], [21, 4, 3], [29, 4, 11], [12, 5, 3], [16, 5, 1], [18, 5, 1], [20, 5, 3], [24, 5, 1], [30, 5, 8], [14, 6, 3], [19, 6, 1], [22, 6, 4], [31, 6, 8], [0, 7, 15], [16, 7, 1], [18, 7, 4], [24, 7, 2], [30, 7, 7], [2, 8, 20], [24, 8, 3], [29, 8, 5], [2, 9, 20], [24, 9, 2], [30, 9, 3], [1, 10, 18], [23, 10, 2], [31, 10, 1], [2, 11, 2], [8, 11, 11], [23, 11, 2], [26, 11, 1], [2, 12, 1], [8, 12, 13], [24, 12, 3], [10, 13, 12], [23, 13, 5], [11, 14, 17], [11, 15, 9], [21, 15, 6], [28, 15, 2], [11, 16, 11], [23, 16, 4], [11, 17, 14], [12, 18, 11], [12, 19, 12], [13, 20, 9], [15, 21, 3], [22, 21, 1], [16, 22, 2], [16, 23, 2], [20, 23, 1], [23, 23, 1], [18, 24, 3], [21, 25, 1], [22, 26, 1]]
}]; // FACTOR is the distance in pixels between coordinates

var FACTOR = 10;

var maxCoordinate = function maxCoordinate(a, b) {
  return [Math.max(a[0], b[0]), Math.max(a[1], b[1])];
}; // const minCoordinate = (a, b) =>
//   [Math.min(a[0], b[0]), Math.min(a[1], b[1])];
// Based on https://stackoverflow.com/a/43861247


var MAP_LAT_BOTTOM = -50.0; // empirically determined

var MAP_LAT_BOTTOM_RAD = MAP_LAT_BOTTOM * Math.PI / 180;
var MAP_LON_LEFT = -171.0; // empirically determined

var MAP_LON_RIGHT = 184.0; // empirically determined

var MAP_LON_DELTA = MAP_LON_RIGHT - MAP_LON_LEFT;

var mapValues = function mapValues(extent) {
  var mapRadius = extent[0] / MAP_LON_DELTA * 360 / (2 * Math.PI);
  var mapOffsetY = Math.round(mapRadius / 2 * Math.log((1 + Math.sin(MAP_LAT_BOTTOM_RAD)) / (1 - Math.sin(MAP_LAT_BOTTOM_RAD))));
  return {
    mapRadius: mapRadius,
    mapOffsetY: mapOffsetY
  };
};

var latLonToCoord = function latLonToCoord(latLon, origin, extent) {
  var _mapValues = mapValues(extent),
      mapRadius = _mapValues.mapRadius,
      mapOffsetY = _mapValues.mapOffsetY;

  var x = Math.round((latLon[1] - MAP_LON_LEFT) * extent[0] / MAP_LON_DELTA);
  var latitudeRad = latLon[0] * Math.PI / 180;
  var y = extent[1] + mapOffsetY - Math.round(mapRadius / 2 * Math.log((1 + Math.sin(latitudeRad)) / (1 - Math.sin(latitudeRad))));
  return [x, y]; // the coordinate value of this point on the map image
};

var coordToLatLon = function coordToLatLon(coord, origin, extent) {
  var _mapValues2 = mapValues(extent),
      mapRadius = _mapValues2.mapRadius,
      mapOffsetY = _mapValues2.mapOffsetY;

  var a = (extent[1] + mapOffsetY - coord[1]) / mapRadius;
  var lat = 180 / Math.PI * (2 * Math.atan(Math.exp(a)) - Math.PI / 2);
  var lon = coord[0] * MAP_LON_DELTA / extent[0] + MAP_LON_LEFT;
  return [lat, lon];
};

var buildContinentState = function buildContinentState(_ref) {
  var area = _ref.area,
      dots = _ref.dots,
      origin = _ref.origin;
  var extent = [].concat(origin);
  var stateDots = dots.map(function (segment) {
    var count = segment[2];
    var spots = [];

    for (var i = 0; i < count; i += 1) {
      spots.push('h0');
    }

    var dotCommands = spots.join(' m10,0 ');
    var x = FACTOR * (origin[0] + segment[0] + 1);
    var y = FACTOR * (origin[1] + segment[1] + 1);
    extent = maxCoordinate(extent, [origin[0] + segment[0] + segment[2], origin[1] + segment[1]]);
    return "M" + x + "," + y + " " + dotCommands;
  }).join(' ');
  var stateArea = area.map(function (point, index) {
    var x = FACTOR * (point[0] + origin[0] + 1);
    var y = FACTOR * (point[1] + origin[1] + 1);
    return "" + (index === 0 ? 'M' : 'L') + x + "," + y;
  }).join(' ') + " Z";
  var mid = [origin[0] + (extent[0] - origin[0]) / 2, origin[1] + (extent[1] - origin[1]) / 2];
  return {
    area: stateArea,
    dots: stateDots,
    origin: origin,
    extent: extent,
    mid: mid
  };
};

var buildState = function buildState() {
  var continents = {}; // Build the SVG paths describing the individual dots

  var origin = [0, 0];
  var extent = [0, 0];
  CONTINENTS.forEach(function (continent) {
    continents[continent.name] = buildContinentState(continent);
    extent = maxCoordinate(extent, continents[continent.name].extent);
  });
  return {
    continents: continents,
    extent: extent,
    origin: origin,
    x: origin[0] * FACTOR,
    y: origin[1] * FACTOR,
    width: (extent[0] - origin[0] + 1) * FACTOR,
    height: (extent[1] - origin[1] + 2) * FACTOR
  };
};

var updateState = function updateState(state, _ref2) {
  var continents = _ref2.continents,
      places = _ref2.places;

  var nextState = _extends({}, state);

  if (continents) {
    continents.forEach(function (continent) {
      nextState.continents[continent.name] = _extends({}, state.continents[continent.name], {}, continent);
    });
  }

  nextState.places = (places || []).map(function (_ref3) {
    var location = _ref3.location,
        place = _objectWithoutPropertiesLoose(_ref3, ["location"]);

    var coords = latLonToCoord(location, state.origin, state.extent);
    return _extends({
      coords: coords,
      key: location.join(',')
    }, place);
  });
  return nextState;
};

var buildInteractiveProps = function buildInteractiveProps(_ref4, activeFunc, active) {
  var name = _ref4.name,
      onClick = _ref4.onClick,
      onHover = _ref4.onHover;
  return {
    role: 'button',
    'aria-label': name,
    tabIndex: '0',
    onClick: onClick ? function () {
      return onClick(name);
    } : undefined,
    onMouseOver: function onMouseOver() {
      if (!active) {
        activeFunc(name);

        if (onHover) {
          onHover(true);
        }
      }
    },
    onMouseLeave: function onMouseLeave() {
      if (active) {
        activeFunc(undefined);

        if (onHover) {
          onHover(false);
        }
      }
    },
    onFocus: function onFocus() {
      // This moves the map unnecessarily. Instead, we should check
      // the position and scroll if it isn't already visible
      // this._worldMapRef.scrollIntoView();
      if (!active) {
        activeFunc(name);
      }
    },
    onBlur: function onBlur() {
      if (active) {
        activeFunc(undefined);
      }
    }
  };
};

var WorldMap =
/*#__PURE__*/
function (_Component) {
  _inheritsLoose(WorldMap, _Component);

  function WorldMap() {
    var _this;

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _Component.call.apply(_Component, [this].concat(args)) || this;

    _defineProperty(_assertThisInitialized(_this), "state", {});

    _defineProperty(_assertThisInitialized(_this), "onMouseOver", function () {
      // track when we're over the map to avoid dealing with mouse moves
      _this.setState({
        over: true
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onMouseMove", function (event) {
      var width = _this.state.width; // determine the map coordinates for where the mouse is
      // containerRef uses the group so we can handle aspect ratio scaling

      var rect = _this.containerRef.getBoundingClientRect();

      var scale = rect.width / width; // since the SVG viewBox might be scaled

      var coords = [Math.round((event.clientX - rect.left) / scale / FACTOR), Math.round((event.clientY - rect.top) / scale / FACTOR)];

      _this.setState({
        activeCoords: coords
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onMouseLeave", function () {
      _this.setState({
        over: false,
        activeCoords: undefined
      });
    });

    return _this;
  }

  WorldMap.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {
    if (!prevState.continents) {
      return updateState(buildState(), nextProps);
    }

    return updateState(prevState, nextProps);
  };

  var _proto = WorldMap.prototype;

  _proto.render = function render() {
    var _this2 = this;

    var _this$props = this.props,
        color = _this$props.color,
        fill = _this$props.fill,
        onSelectPlace = _this$props.onSelectPlace,
        hoverColor = _this$props.hoverColor,
        theme = _this$props.theme,
        rest = _objectWithoutPropertiesLoose(_this$props, ["color", "fill", "onSelectPlace", "hoverColor", "theme"]);

    delete rest.places;
    delete rest.continents;
    var _this$state = this.state,
        activeContinent = _this$state.activeContinent,
        activeCoords = _this$state.activeCoords,
        activePlace = _this$state.activePlace,
        continentStates = _this$state.continents,
        extent = _this$state.extent,
        origin = _this$state.origin,
        over = _this$state.over,
        placeStates = _this$state.places,
        x = _this$state.x,
        y = _this$state.y,
        width = _this$state.width,
        height = _this$state.height;
    var continents = Object.keys(continentStates).map(function (name) {
      var _continentStates$name = continentStates[name],
          area = _continentStates$name.area,
          continentColor = _continentStates$name.color,
          dots = _continentStates$name.dots,
          onClick = _continentStates$name.onClick,
          onHover = _continentStates$name.onHover;
      var active = activeContinent && activeContinent === name;
      var interactiveProps = {};

      if (onClick || onHover) {
        interactiveProps = buildInteractiveProps(continentStates[name], function (activate) {
          return _this2.setState({
            activeContinent: activate
          });
        }, active);
      }

      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("g", _extends({
        key: name
      }, interactiveProps), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path", {
        stroke: "none",
        fill: "#fff",
        fillOpacity: "0.01",
        d: area
      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path", {
        d: dots,
        strokeLinecap: "round",
        strokeWidth: Object(_utils__WEBPACK_IMPORTED_MODULE_4__["parseMetricToNum"])(theme.worldMap.continent[active ? 'active' : 'base']),
        stroke: Object(_utils__WEBPACK_IMPORTED_MODULE_4__["normalizeColor"])(continentColor || color || theme.worldMap.color, theme)
      }));
    });
    var places = placeStates.map(function (place) {
      var placeColor = place.color,
          coords = place.coords,
          key = place.key,
          name = place.name,
          onClick = place.onClick,
          onHover = place.onHover,
          restPlace = _objectWithoutPropertiesLoose(place, ["color", "coords", "key", "name", "onClick", "onHover"]);

      var d = "M" + FACTOR * coords[0] + ", " + FACTOR * coords[1] + " h0";
      var active = activePlace && activePlace === name;
      var interactiveProps = {};

      if (onClick || onHover) {
        interactiveProps = buildInteractiveProps(place, function (activate) {
          return _this2.setState({
            activePlace: activate
          });
        }, active);
      }

      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path", _extends({
        key: key,
        strokeLinecap: "round",
        strokeWidth: Object(_utils__WEBPACK_IMPORTED_MODULE_4__["parseMetricToNum"])(theme.worldMap.place[active ? 'active' : 'base']),
        stroke: Object(_utils__WEBPACK_IMPORTED_MODULE_4__["normalizeColor"])(placeColor || color || theme.worldMap.color, theme)
      }, interactiveProps, restPlace, {
        d: d
      }));
    }); // If the caller is interested in onSelectPlace changes, track where the

    var interactiveProps = {};

    if (onSelectPlace) {
      interactiveProps = {
        onMouseOver: this.onMouseOver,
        onMouseMove: over ? this.onMouseMove : undefined,
        onMouseLeave: this.onMouseLeave
      };
    }

    var active;

    if (activeCoords) {
      var d = "M" + FACTOR * activeCoords[0] + ", " + FACTOR * activeCoords[1] + " h0";
      active = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("g", {
        stroke: "none",
        fill: "none",
        fillRule: "evenodd",
        onClick: function onClick() {
          return onSelectPlace(coordToLatLon(activeCoords, origin, extent));
        }
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path", {
        strokeLinecap: "round",
        strokeWidth: Object(_utils__WEBPACK_IMPORTED_MODULE_4__["parseMetricToNum"])(theme.worldMap.place.active),
        stroke: Object(_utils__WEBPACK_IMPORTED_MODULE_4__["normalizeColor"])(hoverColor || color || theme.worldMap.hover.color, theme),
        d: d
      }));
    }

    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StyledWorldMap__WEBPACK_IMPORTED_MODULE_5__["StyledWorldMap"], _extends({
      viewBox: x + " " + y + " " + width + " " + height,
      preserveAspectRatio: "xMinYMin meet",
      fillProp: fill,
      width: width,
      height: height
    }, interactiveProps, rest), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("g", {
      ref: function ref(_ref5) {
        _this2.containerRef = _ref5;
      },
      stroke: "none",
      fill: "none",
      fillRule: "evenodd"
    }, continents), places, active);
  };

  return WorldMap;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

WorldMap.defaultProps = {};
Object.setPrototypeOf(WorldMap.defaultProps, _default_props__WEBPACK_IMPORTED_MODULE_3__["defaultProps"]);
var WorldMapDoc;

if (true) {
  // eslint-disable-next-line global-require
  WorldMapDoc = __webpack_require__(/*! ./doc */ "./node_modules/grommet/es6/components/WorldMap/doc.js").doc(WorldMap);
}

var WorldMapWrapper = Object(recompose__WEBPACK_IMPORTED_MODULE_1__["compose"])(styled_components__WEBPACK_IMPORTED_MODULE_2__["withTheme"])(WorldMapDoc || WorldMap);


/***/ }),

/***/ "./node_modules/grommet/es6/components/WorldMap/doc.js":
/*!*************************************************************!*\
  !*** ./node_modules/grommet/es6/components/WorldMap/doc.js ***!
  \*************************************************************/
/*! exports provided: themeDoc, doc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDoc", function() { return themeDoc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "doc", function() { return doc; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var themeDoc = {
  'worldMap.color': {
    description: 'The color for each individual dot when a color is not passed as a prop',
    type: 'string',
    defaultValue: 'light-3'
  },
  'worldMap.continent.active': {
    description: "The size of the visual dots belonging to a continent when the\ncontinent is being hovered.",
    type: 'string',
    defaultValue: '8px'
  },
  'worldMap.continent.base': {
    description: "The size of the visual dots belonging to a continent that is\nnot being hovered.",
    type: 'string',
    defaultValue: '6px'
  },
  'worldMap.hover.color': {
    description: 'The color for an individual dot when it is being hovered',
    type: 'string',
    defaultValue: 'light-4'
  },
  'worldMap.place.active': {
    description: "The size of a visual dot for an individual place in the map \nwhen it is being hovered.",
    type: 'string',
    defaultValue: '20px'
  },
  'worldMap.place.base': {
    description: "The size of the visual dot representing an individual place \nin the map when it is not being hovered.",
    type: 'string',
    defaultValue: '8px'
  },
  'worldMap.extend': {
    description: 'Any additional style for the WorldMap.',
    type: 'string | (props) => {}',
    defaultValue: undefined
  }
};
var doc = function doc(WorldMap) {
  var DocumentedWorldMap = Object(react_desc__WEBPACK_IMPORTED_MODULE_0__["describe"])(WorldMap).availableAt(Object(_utils__WEBPACK_IMPORTED_MODULE_1__["getAvailableAtBadge"])('WorldMap')).description('A map of the world, or a continent.').usage("import { WorldMap } from 'grommet';\n<WorldMap />").intrinsicElement('svg');
  DocumentedWorldMap.propTypes = _extends({}, _utils__WEBPACK_IMPORTED_MODULE_1__["genericProps"], {
    color: _utils__WEBPACK_IMPORTED_MODULE_1__["colorPropType"].description('Default color'),
    continents: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      color: _utils__WEBPACK_IMPORTED_MODULE_1__["colorPropType"],
      name: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['Africa', 'Asia', 'Australia', 'Europe', 'North America', 'South America']).isRequired,
      onClick: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func,
      onHover: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func
    })).description('Continent details.'),
    fill: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['horizontal', 'vertical']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool]).description('Whether the width and/or height should fill the container.'),
    onSelectPlace: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.description("Called when the user clicks on a place.\n        It is passed the location."),
    places: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      color: _utils__WEBPACK_IMPORTED_MODULE_1__["colorPropType"],
      name: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
      // for a11y aria-label
      location: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number).isRequired,
      onClick: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func,
      onHover: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func
    })).description('Place details.'),
    hoverColor: _utils__WEBPACK_IMPORTED_MODULE_1__["colorPropType"].description('Color when hovering over places while selecting.')
  });
  return DocumentedWorldMap;
};

/***/ }),

/***/ "./node_modules/grommet/es6/components/WorldMap/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/grommet/es6/components/WorldMap/index.js ***!
  \***************************************************************/
/*! exports provided: WorldMap */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _WorldMap__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./WorldMap */ "./node_modules/grommet/es6/components/WorldMap/WorldMap.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "WorldMap", function() { return _WorldMap__WEBPACK_IMPORTED_MODULE_0__["WorldMap"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/components/hocs.js":
/*!*****************************************************!*\
  !*** ./node_modules/grommet/es6/components/hocs.js ***!
  \*****************************************************/
/*! exports provided: withFocus, withForwardRef, withAnnounce, withTheme */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "withFocus", function() { return withFocus; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "withForwardRef", function() { return withForwardRef; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "withAnnounce", function() { return withAnnounce; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recompose_getDisplayName__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recompose/getDisplayName */ "./node_modules/recompose/getDisplayName.js");
/* harmony import */ var recompose_getDisplayName__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(recompose_getDisplayName__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var hoist_non_react_statics__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! hoist-non-react-statics */ "./node_modules/grommet/node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js");
/* harmony import */ var hoist_non_react_statics__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(hoist_non_react_statics__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "withTheme", function() { return styled_components__WEBPACK_IMPORTED_MODULE_3__["withTheme"]; });

/* harmony import */ var _contexts__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../contexts */ "./node_modules/grommet/es6/contexts/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

/* eslint-disable react/no-multi-comp */





var withFocus = function withFocus(_temp) {
  var _ref = _temp === void 0 ? {} : _temp,
      focusWithMouse = _ref.focusWithMouse;

  return function (WrappedComponent) {
    var FocusableComponent =
    /*#__PURE__*/
    function (_Component) {
      _inheritsLoose(FocusableComponent, _Component);

      FocusableComponent.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {
        var withFocusRef = nextProps.withFocusRef;
        var wrappedRef = prevState.wrappedRef;
        var nextWrappedRef = withFocusRef || wrappedRef;

        if (nextWrappedRef !== wrappedRef) {
          return {
            wrappedRef: nextWrappedRef
          };
        }

        return null;
      };

      // not in state because it doesn't affect rendering
      function FocusableComponent(props) {
        var _this;

        _this = _Component.call(this, props) || this;

        _defineProperty(_assertThisInitialized(_this), "mouseActive", false);

        _defineProperty(_assertThisInitialized(_this), "componentDidMount", function () {
          var wrappedRef = _this.state.wrappedRef; // components such as anchors and buttons should not retain focus after
          // being clicked while text-based components should

          if (!focusWithMouse) {
            window.addEventListener('mousedown', _this.handleActiveMouse);
          } // we could be using onFocus in the wrapper node itself
          // but react does not invoke it if you programically
          // call wrapperNode.focus() inside componentWillUnmount
          // see Drop "this.originalFocusedElement.focus();" for reference


          var wrapperNode = wrappedRef.current;

          if (wrapperNode && wrapperNode.addEventListener) {
            wrapperNode.addEventListener('focus', _this.setFocus);
          }
        });

        _defineProperty(_assertThisInitialized(_this), "componentWillUnmount", function () {
          var wrappedRef = _this.state.wrappedRef;
          window.removeEventListener('mousedown', _this.handleActiveMouse);
          var wrapperNode = wrappedRef.current;

          if (wrapperNode && wrapperNode.addEventListener) {
            wrapperNode.removeEventListener('focus', _this.setFocus);
          }

          clearTimeout(_this.focusTimer);
          clearTimeout(_this.mouseTimer);
        });

        _defineProperty(_assertThisInitialized(_this), "handleActiveMouse", function () {
          // from https://marcysutton.com/button-focus-hell/
          _this.mouseActive = true; // this avoids showing focus when clicking around

          clearTimeout(_this.mouseTimer); // empirical number to reset mouseActive after
          // some time has passed without mousedown

          _this.mouseTimer = setTimeout(function () {
            _this.mouseActive = false;
          }, 150);
        });

        _defineProperty(_assertThisInitialized(_this), "setFocus", function () {
          // delay setting focus to avoid interupting events,
          // 1ms was chosen empirically based on ie11 using Select and TextInput
          // with and without a FormField.
          clearTimeout(_this.focusTimer);
          _this.focusTimer = setTimeout(function () {
            var focus = _this.state.focus;

            if (!focus && !_this.mouseActive) {
              _this.setState({
                focus: true
              });
            }
          }, 1);
        });

        _defineProperty(_assertThisInitialized(_this), "resetFocus", function () {
          clearTimeout(_this.focusTimer);
          _this.focusTimer = setTimeout(function () {
            var focus = _this.state.focus;

            if (focus) {
              _this.setState({
                focus: false
              });
            }
          }, 1);
        });

        _this.state = {
          focus: false,
          wrappedRef: react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef()
        };
        return _this;
      }

      var _proto = FocusableComponent.prototype;

      _proto.render = function render() {
        var _this2 = this;

        var _this$props = this.props,
            _onFocus = _this$props.onFocus,
            _onBlur = _this$props.onBlur,
            withFocusRef = _this$props.withFocusRef,
            rest = _objectWithoutPropertiesLoose(_this$props, ["onFocus", "onBlur", "withFocusRef"]);

        var _this$state = this.state,
            focus = _this$state.focus,
            wrappedRef = _this$state.wrappedRef;
        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(WrappedComponent, _extends({
          ref: wrappedRef,
          focus: focus
        }, rest, {
          onFocus: function onFocus(event) {
            _this2.setFocus();

            if (_onFocus) {
              _onFocus(event);
            }
          },
          onBlur: function onBlur(event) {
            _this2.resetFocus();

            if (_onBlur) {
              _onBlur(event);
            }
          }
        }));
      };

      return FocusableComponent;
    }(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

    var ForwardRef = react__WEBPACK_IMPORTED_MODULE_0___default.a.forwardRef(function (props, ref) {
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(FocusableComponent, _extends({}, props, {
        withFocusRef: ref
      }));
    });
    ForwardRef.displayName = recompose_getDisplayName__WEBPACK_IMPORTED_MODULE_1___default()(WrappedComponent);
    ForwardRef.name = ForwardRef.displayName;
    ForwardRef.defaultProps = WrappedComponent.defaultProps;
    hoist_non_react_statics__WEBPACK_IMPORTED_MODULE_2___default()(ForwardRef, WrappedComponent);
    return ForwardRef;
  };
};
var withForwardRef = function withForwardRef(WrappedComponent) {
  var ForwardRefComponent = react__WEBPACK_IMPORTED_MODULE_0___default.a.forwardRef(function (props, ref) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(WrappedComponent, _extends({
      forwardRef: ref
    }, props));
  });
  ForwardRefComponent.displayName = recompose_getDisplayName__WEBPACK_IMPORTED_MODULE_1___default()(WrappedComponent);
  ForwardRefComponent.name = ForwardRefComponent.displayName;
  ForwardRefComponent.defaultProps = WrappedComponent.defaultProps;
  hoist_non_react_statics__WEBPACK_IMPORTED_MODULE_2___default()(ForwardRefComponent, WrappedComponent);
  return ForwardRefComponent;
};
var withAnnounce = function withAnnounce(WrappedComponent) {
  var ForwardRef = react__WEBPACK_IMPORTED_MODULE_0___default.a.forwardRef(function (props, ref) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_contexts__WEBPACK_IMPORTED_MODULE_4__["AnnounceContext"].Consumer, null, function (announce) {
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(WrappedComponent, _extends({}, props, {
        announce: announce,
        ref: ref
      }));
    });
  });
  ForwardRef.displayName = recompose_getDisplayName__WEBPACK_IMPORTED_MODULE_1___default()(WrappedComponent);
  ForwardRef.name = ForwardRef.displayName;
  ForwardRef.defaultProps = WrappedComponent.defaultProps;
  hoist_non_react_statics__WEBPACK_IMPORTED_MODULE_2___default()(ForwardRef, WrappedComponent);
  return ForwardRef;
};


/***/ }),

/***/ "./node_modules/grommet/es6/components/index.js":
/*!******************************************************!*\
  !*** ./node_modules/grommet/es6/components/index.js ***!
  \******************************************************/
/*! exports provided: Accordion, AccordionPanel, Anchor, Box, Button, Calendar, Carousel, Chart, calcs, CheckBox, Clock, Collapsible, DataTable, Diagram, Distribution, Drop, DropButton, Footer, Form, FormContext, FormField, Grid, Grommet, Header, Heading, Image, InfiniteScroll, Keyboard, Layer, List, Main, Markdown, MaskedInput, Menu, Meter, Paragraph, RadioButton, RadioButtonGroup, RangeInput, RangeSelector, RoutedAnchor, RoutedButton, Select, SkipLink, SkipLinks, SkipLinkTarget, Stack, Table, TableBody, TableCell, TableFooter, TableHeader, TableRow, Tab, Tabs, Text, TextArea, TextInput, Video, WorldMap */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Accordion__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Accordion */ "./node_modules/grommet/es6/components/Accordion/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Accordion", function() { return _Accordion__WEBPACK_IMPORTED_MODULE_0__["Accordion"]; });

/* harmony import */ var _AccordionPanel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AccordionPanel */ "./node_modules/grommet/es6/components/AccordionPanel/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AccordionPanel", function() { return _AccordionPanel__WEBPACK_IMPORTED_MODULE_1__["AccordionPanel"]; });

/* harmony import */ var _Anchor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Anchor */ "./node_modules/grommet/es6/components/Anchor/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Anchor", function() { return _Anchor__WEBPACK_IMPORTED_MODULE_2__["Anchor"]; });

/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Box */ "./node_modules/grommet/es6/components/Box/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Box", function() { return _Box__WEBPACK_IMPORTED_MODULE_3__["Box"]; });

/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Button */ "./node_modules/grommet/es6/components/Button/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Button", function() { return _Button__WEBPACK_IMPORTED_MODULE_4__["Button"]; });

/* harmony import */ var _Calendar__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Calendar */ "./node_modules/grommet/es6/components/Calendar/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Calendar", function() { return _Calendar__WEBPACK_IMPORTED_MODULE_5__["Calendar"]; });

/* harmony import */ var _Carousel__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Carousel */ "./node_modules/grommet/es6/components/Carousel/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Carousel", function() { return _Carousel__WEBPACK_IMPORTED_MODULE_6__["Carousel"]; });

/* harmony import */ var _Chart__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Chart */ "./node_modules/grommet/es6/components/Chart/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Chart", function() { return _Chart__WEBPACK_IMPORTED_MODULE_7__["Chart"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "calcs", function() { return _Chart__WEBPACK_IMPORTED_MODULE_7__["calcs"]; });

/* harmony import */ var _CheckBox__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./CheckBox */ "./node_modules/grommet/es6/components/CheckBox/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "CheckBox", function() { return _CheckBox__WEBPACK_IMPORTED_MODULE_8__["CheckBox"]; });

/* harmony import */ var _Clock__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Clock */ "./node_modules/grommet/es6/components/Clock/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Clock", function() { return _Clock__WEBPACK_IMPORTED_MODULE_9__["Clock"]; });

/* harmony import */ var _Collapsible__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Collapsible */ "./node_modules/grommet/es6/components/Collapsible/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Collapsible", function() { return _Collapsible__WEBPACK_IMPORTED_MODULE_10__["Collapsible"]; });

/* harmony import */ var _DataTable__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./DataTable */ "./node_modules/grommet/es6/components/DataTable/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "DataTable", function() { return _DataTable__WEBPACK_IMPORTED_MODULE_11__["DataTable"]; });

/* harmony import */ var _Diagram__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./Diagram */ "./node_modules/grommet/es6/components/Diagram/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Diagram", function() { return _Diagram__WEBPACK_IMPORTED_MODULE_12__["Diagram"]; });

/* harmony import */ var _Distribution__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./Distribution */ "./node_modules/grommet/es6/components/Distribution/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Distribution", function() { return _Distribution__WEBPACK_IMPORTED_MODULE_13__["Distribution"]; });

/* harmony import */ var _Drop__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./Drop */ "./node_modules/grommet/es6/components/Drop/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Drop", function() { return _Drop__WEBPACK_IMPORTED_MODULE_14__["Drop"]; });

/* harmony import */ var _DropButton__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./DropButton */ "./node_modules/grommet/es6/components/DropButton/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "DropButton", function() { return _DropButton__WEBPACK_IMPORTED_MODULE_15__["DropButton"]; });

/* harmony import */ var _Footer__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./Footer */ "./node_modules/grommet/es6/components/Footer/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Footer", function() { return _Footer__WEBPACK_IMPORTED_MODULE_16__["Footer"]; });

/* harmony import */ var _Form__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./Form */ "./node_modules/grommet/es6/components/Form/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Form", function() { return _Form__WEBPACK_IMPORTED_MODULE_17__["Form"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "FormContext", function() { return _Form__WEBPACK_IMPORTED_MODULE_17__["FormContext"]; });

/* harmony import */ var _FormField__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./FormField */ "./node_modules/grommet/es6/components/FormField/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "FormField", function() { return _FormField__WEBPACK_IMPORTED_MODULE_18__["FormField"]; });

/* harmony import */ var _Grid__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./Grid */ "./node_modules/grommet/es6/components/Grid/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Grid", function() { return _Grid__WEBPACK_IMPORTED_MODULE_19__["Grid"]; });

/* harmony import */ var _Grommet__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./Grommet */ "./node_modules/grommet/es6/components/Grommet/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Grommet", function() { return _Grommet__WEBPACK_IMPORTED_MODULE_20__["Grommet"]; });

/* harmony import */ var _Header__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./Header */ "./node_modules/grommet/es6/components/Header/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Header", function() { return _Header__WEBPACK_IMPORTED_MODULE_21__["Header"]; });

/* harmony import */ var _Heading__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./Heading */ "./node_modules/grommet/es6/components/Heading/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Heading", function() { return _Heading__WEBPACK_IMPORTED_MODULE_22__["Heading"]; });

/* harmony import */ var _Image__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./Image */ "./node_modules/grommet/es6/components/Image/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Image", function() { return _Image__WEBPACK_IMPORTED_MODULE_23__["Image"]; });

/* harmony import */ var _InfiniteScroll__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./InfiniteScroll */ "./node_modules/grommet/es6/components/InfiniteScroll/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "InfiniteScroll", function() { return _InfiniteScroll__WEBPACK_IMPORTED_MODULE_24__["InfiniteScroll"]; });

/* harmony import */ var _Keyboard__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./Keyboard */ "./node_modules/grommet/es6/components/Keyboard/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Keyboard", function() { return _Keyboard__WEBPACK_IMPORTED_MODULE_25__["Keyboard"]; });

/* harmony import */ var _Layer__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./Layer */ "./node_modules/grommet/es6/components/Layer/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Layer", function() { return _Layer__WEBPACK_IMPORTED_MODULE_26__["Layer"]; });

/* harmony import */ var _List__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./List */ "./node_modules/grommet/es6/components/List/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "List", function() { return _List__WEBPACK_IMPORTED_MODULE_27__["List"]; });

/* harmony import */ var _Main__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./Main */ "./node_modules/grommet/es6/components/Main/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Main", function() { return _Main__WEBPACK_IMPORTED_MODULE_28__["Main"]; });

/* harmony import */ var _Markdown__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./Markdown */ "./node_modules/grommet/es6/components/Markdown/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Markdown", function() { return _Markdown__WEBPACK_IMPORTED_MODULE_29__["Markdown"]; });

/* harmony import */ var _MaskedInput__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./MaskedInput */ "./node_modules/grommet/es6/components/MaskedInput/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MaskedInput", function() { return _MaskedInput__WEBPACK_IMPORTED_MODULE_30__["MaskedInput"]; });

/* harmony import */ var _Menu__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./Menu */ "./node_modules/grommet/es6/components/Menu/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Menu", function() { return _Menu__WEBPACK_IMPORTED_MODULE_31__["Menu"]; });

/* harmony import */ var _Meter__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./Meter */ "./node_modules/grommet/es6/components/Meter/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Meter", function() { return _Meter__WEBPACK_IMPORTED_MODULE_32__["Meter"]; });

/* harmony import */ var _Paragraph__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./Paragraph */ "./node_modules/grommet/es6/components/Paragraph/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Paragraph", function() { return _Paragraph__WEBPACK_IMPORTED_MODULE_33__["Paragraph"]; });

/* harmony import */ var _RadioButton__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./RadioButton */ "./node_modules/grommet/es6/components/RadioButton/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RadioButton", function() { return _RadioButton__WEBPACK_IMPORTED_MODULE_34__["RadioButton"]; });

/* harmony import */ var _RadioButtonGroup__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./RadioButtonGroup */ "./node_modules/grommet/es6/components/RadioButtonGroup/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RadioButtonGroup", function() { return _RadioButtonGroup__WEBPACK_IMPORTED_MODULE_35__["RadioButtonGroup"]; });

/* harmony import */ var _RangeInput__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./RangeInput */ "./node_modules/grommet/es6/components/RangeInput/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RangeInput", function() { return _RangeInput__WEBPACK_IMPORTED_MODULE_36__["RangeInput"]; });

/* harmony import */ var _RangeSelector__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./RangeSelector */ "./node_modules/grommet/es6/components/RangeSelector/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RangeSelector", function() { return _RangeSelector__WEBPACK_IMPORTED_MODULE_37__["RangeSelector"]; });

/* harmony import */ var _RoutedAnchor__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./RoutedAnchor */ "./node_modules/grommet/es6/components/RoutedAnchor/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RoutedAnchor", function() { return _RoutedAnchor__WEBPACK_IMPORTED_MODULE_38__["RoutedAnchor"]; });

/* harmony import */ var _RoutedButton__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./RoutedButton */ "./node_modules/grommet/es6/components/RoutedButton/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RoutedButton", function() { return _RoutedButton__WEBPACK_IMPORTED_MODULE_39__["RoutedButton"]; });

/* harmony import */ var _Select__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./Select */ "./node_modules/grommet/es6/components/Select/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Select", function() { return _Select__WEBPACK_IMPORTED_MODULE_40__["Select"]; });

/* harmony import */ var _SkipLink__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./SkipLink */ "./node_modules/grommet/es6/components/SkipLink/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SkipLink", function() { return _SkipLink__WEBPACK_IMPORTED_MODULE_41__["SkipLink"]; });

/* harmony import */ var _SkipLinks__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ./SkipLinks */ "./node_modules/grommet/es6/components/SkipLinks/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SkipLinks", function() { return _SkipLinks__WEBPACK_IMPORTED_MODULE_42__["SkipLinks"]; });

/* harmony import */ var _SkipLinkTarget__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ./SkipLinkTarget */ "./node_modules/grommet/es6/components/SkipLinkTarget/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SkipLinkTarget", function() { return _SkipLinkTarget__WEBPACK_IMPORTED_MODULE_43__["SkipLinkTarget"]; });

/* harmony import */ var _Stack__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ./Stack */ "./node_modules/grommet/es6/components/Stack/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Stack", function() { return _Stack__WEBPACK_IMPORTED_MODULE_44__["Stack"]; });

/* harmony import */ var _Table__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ./Table */ "./node_modules/grommet/es6/components/Table/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Table", function() { return _Table__WEBPACK_IMPORTED_MODULE_45__["Table"]; });

/* harmony import */ var _TableBody__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ./TableBody */ "./node_modules/grommet/es6/components/TableBody/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TableBody", function() { return _TableBody__WEBPACK_IMPORTED_MODULE_46__["TableBody"]; });

/* harmony import */ var _TableCell__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ./TableCell */ "./node_modules/grommet/es6/components/TableCell/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TableCell", function() { return _TableCell__WEBPACK_IMPORTED_MODULE_47__["TableCell"]; });

/* harmony import */ var _TableFooter__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ./TableFooter */ "./node_modules/grommet/es6/components/TableFooter/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TableFooter", function() { return _TableFooter__WEBPACK_IMPORTED_MODULE_48__["TableFooter"]; });

/* harmony import */ var _TableHeader__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! ./TableHeader */ "./node_modules/grommet/es6/components/TableHeader/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TableHeader", function() { return _TableHeader__WEBPACK_IMPORTED_MODULE_49__["TableHeader"]; });

/* harmony import */ var _TableRow__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! ./TableRow */ "./node_modules/grommet/es6/components/TableRow/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TableRow", function() { return _TableRow__WEBPACK_IMPORTED_MODULE_50__["TableRow"]; });

/* harmony import */ var _Tab__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! ./Tab */ "./node_modules/grommet/es6/components/Tab/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Tab", function() { return _Tab__WEBPACK_IMPORTED_MODULE_51__["Tab"]; });

/* harmony import */ var _Tabs__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! ./Tabs */ "./node_modules/grommet/es6/components/Tabs/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Tabs", function() { return _Tabs__WEBPACK_IMPORTED_MODULE_52__["Tabs"]; });

/* harmony import */ var _Text__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! ./Text */ "./node_modules/grommet/es6/components/Text/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Text", function() { return _Text__WEBPACK_IMPORTED_MODULE_53__["Text"]; });

/* harmony import */ var _TextArea__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! ./TextArea */ "./node_modules/grommet/es6/components/TextArea/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TextArea", function() { return _TextArea__WEBPACK_IMPORTED_MODULE_54__["TextArea"]; });

/* harmony import */ var _TextInput__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! ./TextInput */ "./node_modules/grommet/es6/components/TextInput/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TextInput", function() { return _TextInput__WEBPACK_IMPORTED_MODULE_55__["TextInput"]; });

/* harmony import */ var _Video__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__(/*! ./Video */ "./node_modules/grommet/es6/components/Video/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Video", function() { return _Video__WEBPACK_IMPORTED_MODULE_56__["Video"]; });

/* harmony import */ var _WorldMap__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__(/*! ./WorldMap */ "./node_modules/grommet/es6/components/WorldMap/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "WorldMap", function() { return _WorldMap__WEBPACK_IMPORTED_MODULE_57__["WorldMap"]; });




























































/***/ }),

/***/ "./node_modules/grommet/es6/contexts/AnnounceContext/AnnounceContext.js":
/*!******************************************************************************!*\
  !*** ./node_modules/grommet/es6/contexts/AnnounceContext/AnnounceContext.js ***!
  \******************************************************************************/
/*! exports provided: AnnounceContext */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnounceContext", function() { return AnnounceContext; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);


var createAnnouncer = function createAnnouncer() {
  var announcer = document.createElement('div');
  announcer.style.left = '-100%';
  announcer.style.right = '100%';
  announcer.style.position = 'fixed';
  announcer.style['z-index'] = '-1';
  document.body.insertBefore(announcer, document.body.firstChild);
  return announcer;
};

var AnnounceContext = react__WEBPACK_IMPORTED_MODULE_0___default.a.createContext(function (message, mode, timeout) {
  if (mode === void 0) {
    mode = 'polite';
  }

  if (timeout === void 0) {
    timeout = 500;
  }

  // we only create a new container if we don't have one already
  // we create a separate node so that grommet does not set aria-hidden to it
  var announcer = document.body.querySelector('[aria-live]') || createAnnouncer();
  announcer.setAttribute('aria-live', 'off');
  announcer.innerHTML = message;
  announcer.setAttribute('aria-live', mode);
  setTimeout(function () {
    announcer.innerHTML = '';
  }, timeout);
});

/***/ }),

/***/ "./node_modules/grommet/es6/contexts/AnnounceContext/index.js":
/*!********************************************************************!*\
  !*** ./node_modules/grommet/es6/contexts/AnnounceContext/index.js ***!
  \********************************************************************/
/*! exports provided: AnnounceContext */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _AnnounceContext__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AnnounceContext */ "./node_modules/grommet/es6/contexts/AnnounceContext/AnnounceContext.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AnnounceContext", function() { return _AnnounceContext__WEBPACK_IMPORTED_MODULE_0__["AnnounceContext"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/contexts/ResponsiveContext/ResponsiveContext.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/grommet/es6/contexts/ResponsiveContext/ResponsiveContext.js ***!
  \**********************************************************************************/
/*! exports provided: ResponsiveContext */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ResponsiveContext", function() { return ResponsiveContext; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

var ResponsiveContext = react__WEBPACK_IMPORTED_MODULE_0___default.a.createContext(undefined);

/***/ }),

/***/ "./node_modules/grommet/es6/contexts/ResponsiveContext/index.js":
/*!**********************************************************************!*\
  !*** ./node_modules/grommet/es6/contexts/ResponsiveContext/index.js ***!
  \**********************************************************************/
/*! exports provided: ResponsiveContext */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _ResponsiveContext__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ResponsiveContext */ "./node_modules/grommet/es6/contexts/ResponsiveContext/ResponsiveContext.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ResponsiveContext", function() { return _ResponsiveContext__WEBPACK_IMPORTED_MODULE_0__["ResponsiveContext"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/contexts/ThemeContext/ThemeContext.js":
/*!************************************************************************!*\
  !*** ./node_modules/grommet/es6/contexts/ThemeContext/ThemeContext.js ***!
  \************************************************************************/
/*! exports provided: ThemeContext */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ThemeContext", function() { return styled_components__WEBPACK_IMPORTED_MODULE_2__["ThemeContext"]; });

/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils */ "./node_modules/grommet/es6/utils/index.js");





styled_components__WEBPACK_IMPORTED_MODULE_2__["ThemeContext"].Extend = function (_ref) {
  var children = _ref.children,
      value = _ref.value;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(styled_components__WEBPACK_IMPORTED_MODULE_2__["ThemeContext"].Consumer, null, function (theme) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(styled_components__WEBPACK_IMPORTED_MODULE_2__["ThemeContext"].Provider, {
      value: Object(_utils__WEBPACK_IMPORTED_MODULE_3__["deepMerge"])(theme, value)
    }, children);
  });
};

styled_components__WEBPACK_IMPORTED_MODULE_2__["ThemeContext"].Extend.propTypes = {
  children: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.node.isRequired,
  value: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({}).isRequired
};


/***/ }),

/***/ "./node_modules/grommet/es6/contexts/ThemeContext/index.js":
/*!*****************************************************************!*\
  !*** ./node_modules/grommet/es6/contexts/ThemeContext/index.js ***!
  \*****************************************************************/
/*! exports provided: ThemeContext */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _ThemeContext__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ThemeContext */ "./node_modules/grommet/es6/contexts/ThemeContext/ThemeContext.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ThemeContext", function() { return _ThemeContext__WEBPACK_IMPORTED_MODULE_0__["ThemeContext"]; });



/***/ }),

/***/ "./node_modules/grommet/es6/contexts/index.js":
/*!****************************************************!*\
  !*** ./node_modules/grommet/es6/contexts/index.js ***!
  \****************************************************/
/*! exports provided: AnnounceContext, ResponsiveContext, ThemeContext */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _AnnounceContext__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AnnounceContext */ "./node_modules/grommet/es6/contexts/AnnounceContext/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AnnounceContext", function() { return _AnnounceContext__WEBPACK_IMPORTED_MODULE_0__["AnnounceContext"]; });

/* harmony import */ var _ResponsiveContext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ResponsiveContext */ "./node_modules/grommet/es6/contexts/ResponsiveContext/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ResponsiveContext", function() { return _ResponsiveContext__WEBPACK_IMPORTED_MODULE_1__["ResponsiveContext"]; });

/* harmony import */ var _ThemeContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ThemeContext */ "./node_modules/grommet/es6/contexts/ThemeContext/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ThemeContext", function() { return _ThemeContext__WEBPACK_IMPORTED_MODULE_2__["ThemeContext"]; });





/***/ }),

/***/ "./node_modules/grommet/es6/default-props.js":
/*!***************************************************!*\
  !*** ./node_modules/grommet/es6/default-props.js ***!
  \***************************************************/
/*! exports provided: defaultProps, extendDefaultTheme */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "defaultProps", function() { return defaultProps; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "extendDefaultTheme", function() { return extendDefaultTheme; });
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ "./node_modules/grommet/es6/utils/index.js");
/* harmony import */ var _themes_base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./themes/base */ "./node_modules/grommet/es6/themes/base.js");


var defaultProps = {
  theme: _themes_base__WEBPACK_IMPORTED_MODULE_1__["base"]
};
var extendDefaultTheme = function extendDefaultTheme(theme) {
  defaultProps.theme = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["deepMerge"])(_themes_base__WEBPACK_IMPORTED_MODULE_1__["base"], theme);
};

/***/ }),

/***/ "./node_modules/grommet/es6/index.js":
/*!*******************************************!*\
  !*** ./node_modules/grommet/es6/index.js ***!
  \*******************************************/
/*! exports provided: Accordion, AccordionPanel, Anchor, Box, Button, Calendar, Carousel, Chart, calcs, CheckBox, Clock, Collapsible, DataTable, Diagram, Distribution, Drop, DropButton, Footer, Form, FormContext, FormField, Grid, Grommet, Header, Heading, Image, InfiniteScroll, Keyboard, Layer, List, Main, Markdown, MaskedInput, Menu, Meter, Paragraph, RadioButton, RadioButtonGroup, RangeInput, RangeSelector, RoutedAnchor, RoutedButton, Select, SkipLink, SkipLinks, SkipLinkTarget, Stack, Table, TableBody, TableCell, TableFooter, TableHeader, TableRow, Tab, Tabs, Text, TextArea, TextInput, Video, WorldMap, AnnounceContext, ResponsiveContext, ThemeContext, defaultProps, extendDefaultTheme, base, generate, grommet, dark */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./components */ "./node_modules/grommet/es6/components/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Accordion", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Accordion"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AccordionPanel", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["AccordionPanel"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Anchor", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Anchor"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Box", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Box"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Button", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Button"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Calendar", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Calendar"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Carousel", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Carousel"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Chart", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Chart"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "calcs", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["calcs"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "CheckBox", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["CheckBox"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Clock", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Clock"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Collapsible", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Collapsible"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "DataTable", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["DataTable"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Diagram", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Diagram"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Distribution", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Distribution"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Drop", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Drop"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "DropButton", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["DropButton"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Footer", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Footer"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Form", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Form"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "FormContext", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["FormContext"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "FormField", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["FormField"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Grid", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Grid"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Grommet", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Grommet"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Header", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Header"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Heading", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Heading"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Image", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Image"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "InfiniteScroll", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["InfiniteScroll"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Keyboard", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Keyboard"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Layer", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Layer"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "List", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["List"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Main", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Main"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Markdown", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Markdown"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MaskedInput", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["MaskedInput"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Menu", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Menu"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Meter", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Meter"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Paragraph", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Paragraph"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RadioButton", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["RadioButton"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RadioButtonGroup", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["RadioButtonGroup"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RangeInput", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["RangeInput"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RangeSelector", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["RangeSelector"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RoutedAnchor", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["RoutedAnchor"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RoutedButton", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["RoutedButton"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Select", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Select"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SkipLink", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["SkipLink"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SkipLinks", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["SkipLinks"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SkipLinkTarget", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["SkipLinkTarget"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Stack", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Stack"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Table", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Table"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TableBody", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["TableBody"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TableCell", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["TableCell"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TableFooter", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["TableFooter"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TableHeader", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["TableHeader"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TableRow", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["TableRow"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Tab", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Tab"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Tabs", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Tabs"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Text", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Text"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TextArea", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["TextArea"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TextInput", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["TextInput"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Video", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Video"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "WorldMap", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["WorldMap"]; });

/* harmony import */ var _contexts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./contexts */ "./node_modules/grommet/es6/contexts/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AnnounceContext", function() { return _contexts__WEBPACK_IMPORTED_MODULE_1__["AnnounceContext"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ResponsiveContext", function() { return _contexts__WEBPACK_IMPORTED_MODULE_1__["ResponsiveContext"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ThemeContext", function() { return _contexts__WEBPACK_IMPORTED_MODULE_1__["ThemeContext"]; });

/* harmony import */ var _default_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./default-props */ "./node_modules/grommet/es6/default-props.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "defaultProps", function() { return _default_props__WEBPACK_IMPORTED_MODULE_2__["defaultProps"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "extendDefaultTheme", function() { return _default_props__WEBPACK_IMPORTED_MODULE_2__["extendDefaultTheme"]; });

/* harmony import */ var _themes__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./themes */ "./node_modules/grommet/es6/themes/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "base", function() { return _themes__WEBPACK_IMPORTED_MODULE_3__["base"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "generate", function() { return _themes__WEBPACK_IMPORTED_MODULE_3__["generate"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "grommet", function() { return _themes__WEBPACK_IMPORTED_MODULE_3__["grommet"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "dark", function() { return _themes__WEBPACK_IMPORTED_MODULE_3__["dark"]; });






/***/ }),

/***/ "./node_modules/grommet/es6/themes/base.js":
/*!*************************************************!*\
  !*** ./node_modules/grommet/es6/themes/base.js ***!
  \*************************************************/
/*! exports provided: generate, base */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "generate", function() { return generate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "base", function() { return base; });
/* harmony import */ var polished__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! polished */ "./node_modules/polished/dist/polished.es.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var grommet_icons_icons_Actions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! grommet-icons/icons/Actions */ "./node_modules/grommet-icons/icons/Actions.js");
/* harmony import */ var grommet_icons_icons_Actions__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(grommet_icons_icons_Actions__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var grommet_icons_icons_ClosedCaption__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! grommet-icons/icons/ClosedCaption */ "./node_modules/grommet-icons/icons/ClosedCaption.js");
/* harmony import */ var grommet_icons_icons_ClosedCaption__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(grommet_icons_icons_ClosedCaption__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var grommet_icons_icons_Expand__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! grommet-icons/icons/Expand */ "./node_modules/grommet-icons/icons/Expand.js");
/* harmony import */ var grommet_icons_icons_Expand__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(grommet_icons_icons_Expand__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var grommet_icons_icons_FormDown__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! grommet-icons/icons/FormDown */ "./node_modules/grommet-icons/icons/FormDown.js");
/* harmony import */ var grommet_icons_icons_FormDown__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(grommet_icons_icons_FormDown__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var grommet_icons_icons_FormNext__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! grommet-icons/icons/FormNext */ "./node_modules/grommet-icons/icons/FormNext.js");
/* harmony import */ var grommet_icons_icons_FormNext__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(grommet_icons_icons_FormNext__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var grommet_icons_icons_FormPrevious__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! grommet-icons/icons/FormPrevious */ "./node_modules/grommet-icons/icons/FormPrevious.js");
/* harmony import */ var grommet_icons_icons_FormPrevious__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(grommet_icons_icons_FormPrevious__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var grommet_icons_icons_FormUp__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! grommet-icons/icons/FormUp */ "./node_modules/grommet-icons/icons/FormUp.js");
/* harmony import */ var grommet_icons_icons_FormUp__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(grommet_icons_icons_FormUp__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var grommet_icons_icons_Next__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! grommet-icons/icons/Next */ "./node_modules/grommet-icons/icons/Next.js");
/* harmony import */ var grommet_icons_icons_Next__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(grommet_icons_icons_Next__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var grommet_icons_icons_Pause__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! grommet-icons/icons/Pause */ "./node_modules/grommet-icons/icons/Pause.js");
/* harmony import */ var grommet_icons_icons_Pause__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(grommet_icons_icons_Pause__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var grommet_icons_icons_Play__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! grommet-icons/icons/Play */ "./node_modules/grommet-icons/icons/Play.js");
/* harmony import */ var grommet_icons_icons_Play__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(grommet_icons_icons_Play__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var grommet_icons_icons_Previous__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! grommet-icons/icons/Previous */ "./node_modules/grommet-icons/icons/Previous.js");
/* harmony import */ var grommet_icons_icons_Previous__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(grommet_icons_icons_Previous__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var grommet_icons_icons_Subtract__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! grommet-icons/icons/Subtract */ "./node_modules/grommet-icons/icons/Subtract.js");
/* harmony import */ var grommet_icons_icons_Subtract__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(grommet_icons_icons_Subtract__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var grommet_icons_icons_Volume__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! grommet-icons/icons/Volume */ "./node_modules/grommet-icons/icons/Volume.js");
/* harmony import */ var grommet_icons_icons_Volume__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(grommet_icons_icons_Volume__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var grommet_icons_icons_VolumeLow__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! grommet-icons/icons/VolumeLow */ "./node_modules/grommet-icons/icons/VolumeLow.js");
/* harmony import */ var grommet_icons_icons_VolumeLow__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(grommet_icons_icons_VolumeLow__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var grommet_icons_themes_base__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! grommet-icons/themes/base */ "./node_modules/grommet-icons/themes/base.js");
/* harmony import */ var grommet_icons_themes_base__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(grommet_icons_themes_base__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var _utils_object__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../utils/object */ "./node_modules/grommet/es6/utils/object.js");
/* harmony import */ var _utils_colors__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../utils/colors */ "./node_modules/grommet/es6/utils/colors.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }




















var brandColor = '#7D4CDB';
var accentColors = ['#6FFFB0', '#FD6FFF', '#81FCED', '#FFCA58'];
var neutralColors = ['#00873D', '#3D138D', '#00739D', '#A2423D'];
var statusColors = {
  critical: '#FF4040',
  error: '#FF4040',
  warning: '#FFAA15',
  ok: '#00C781',
  unknown: '#CCCCCC',
  disabled: '#CCCCCC'
};
var darkColors = ['#333333', '#555555', '#777777', '#999999', '#999999', '#999999'];
var lightColors = ['#F8F8F8', '#F2F2F2', '#EDEDED', '#DADADA', '#DADADA', '#DADADA'];
var focusColor = accentColors[0];
var colors = {
  active: Object(polished__WEBPACK_IMPORTED_MODULE_0__["rgba"])(221, 221, 221, 0.5),
  black: '#000000',
  border: {
    dark: Object(polished__WEBPACK_IMPORTED_MODULE_0__["rgba"])(255, 255, 255, 0.33),
    light: Object(polished__WEBPACK_IMPORTED_MODULE_0__["rgba"])(0, 0, 0, 0.33)
  },
  brand: brandColor,
  control: {
    dark: 'accent-1',
    light: 'brand'
  },
  focus: focusColor,
  // "graph-0": 'accent-1',
  // "graph-1": 'neutral-1',
  // "graph-2": 'accent-2',
  // "graph-3": 'neutral-2',
  placeholder: '#AAAAAA',
  selected: 'brand',
  text: {
    dark: '#f8f8f8',
    light: '#444444'
  },
  icon: {
    dark: '#f8f8f8',
    light: '#666666'
  },
  white: '#FFFFFF'
};

var colorArray = function colorArray(array, prefix) {
  return array.forEach(function (color, index) {
    colors[prefix + "-" + (index + 1)] = color;
  });
};

colorArray(accentColors, 'accent');
colorArray(darkColors, 'dark');
colorArray(lightColors, 'light');
colorArray(neutralColors, 'neutral');
Object.keys(statusColors).forEach(function (color) {
  colors["status-" + color] = statusColors[color];
});
var generate = function generate(baseSpacing, scale) {
  if (baseSpacing === void 0) {
    baseSpacing = 24;
  }

  if (scale === void 0) {
    scale = 6;
  }

  // 24
  var baseFontSize = baseSpacing * 0.75; // 18

  var fontScale = baseSpacing / scale; // 4

  var fontSizing = function fontSizing(factor) {
    return {
      size: baseFontSize + factor * fontScale + "px",
      height: baseSpacing + factor * fontScale + "px",
      // maxWidth chosen to be ~50 characters wide
      // see: https://ux.stackexchange.com/a/34125
      maxWidth: baseSpacing * (baseFontSize + factor * fontScale) + "px"
    };
  };

  var borderWidth = 2;
  var result = Object(_utils_object__WEBPACK_IMPORTED_MODULE_17__["deepMerge"])(grommet_icons_themes_base__WEBPACK_IMPORTED_MODULE_16__["base"], {
    global: {
      active: {
        background: {
          color: 'active',
          opacity: 'medium'
        },
        color: {
          dark: 'white',
          light: 'black'
        }
      },
      animation: {
        duration: '1s',
        jiggle: {
          duration: '0.1s'
        }
      },
      borderSize: {
        xsmall: '1px',
        small: '2px',
        medium: baseSpacing / 6 + "px",
        // 4
        large: baseSpacing / 2 + "px",
        // 12
        xlarge: baseSpacing + "px" // 24

      },
      breakpoints: {
        small: {
          value: baseSpacing * 32,
          // 768
          borderSize: {
            xsmall: '1px',
            small: '2px',
            medium: baseSpacing / 6 + "px",
            // 4
            large: baseSpacing / 4 + "px",
            // 6
            xlarge: baseSpacing / 2 + "px" // 12

          },
          edgeSize: {
            none: '0px',
            hair: '1px',
            // for Chart
            xxsmall: '2px',
            xsmall: baseSpacing / 8 + "px",
            // 3
            small: baseSpacing / 4 + "px",
            // 6
            medium: baseSpacing / 2 + "px",
            // 12
            large: baseSpacing + "px",
            // 24
            xlarge: baseSpacing * 2 + "px" // 48

          },
          size: {
            xxsmall: baseSpacing + "px",
            // 24
            xsmall: baseSpacing * 2 + "px",
            // 48
            small: baseSpacing * 4 + "px",
            // 96
            medium: baseSpacing * 8 + "px",
            // 192
            large: baseSpacing * 16 + "px",
            // 384
            xlarge: baseSpacing * 32 + "px",
            // 768
            full: '100%'
          }
        },
        medium: {
          value: baseSpacing * 64 // 1536

        },
        large: {} // anything above 'medium'

      },
      // Breakpoints used at Server Side Rendering for the initial rendering
      // These values correspond to the theme breakpoints
      deviceBreakpoints: {
        phone: 'small',
        tablet: 'medium',
        computer: 'large'
      },
      colors: colors,
      control: {
        border: {
          width: '1px',
          radius: '4px',
          color: 'border'
        },
        disabled: {
          opacity: 0.3
        }
      },
      // The time to wait after the user stopped typing, measured in ms.
      debounceDelay: 300,
      drop: {
        background: '#ffffff',
        border: {
          radius: '0px'
        },
        shadowSize: 'small',
        zIndex: '20'
      },
      edgeSize: {
        none: '0px',
        hair: '1px',
        // for Chart
        xxsmall: baseSpacing / 8 + "px",
        // 3
        xsmall: baseSpacing / 4 + "px",
        // 6
        small: baseSpacing / 2 + "px",
        // 12
        medium: baseSpacing + "px",
        // 24
        large: baseSpacing * 2 + "px",
        // 48
        xlarge: baseSpacing * 4 + "px",
        // 96
        responsiveBreakpoint: 'small'
      },
      elevation: {
        light: {
          none: 'none',
          xsmall: '0px 1px 2px rgba(0, 0, 0, 0.20)',
          small: '0px 2px 4px rgba(0, 0, 0, 0.20)',
          medium: '0px 4px 8px rgba(0, 0, 0, 0.20)',
          large: '0px 8px 16px rgba(0, 0, 0, 0.20)',
          xlarge: '0px 12px 24px rgba(0, 0, 0, 0.20)'
        },
        dark: {
          none: 'none',
          xsmall: '0px 2px 2px rgba(255, 255, 255, 0.40)',
          small: '0px 4px 4px rgba(255, 255, 255, 0.40)',
          medium: '0px 6px 8px rgba(255, 255, 255, 0.40)',
          large: '0px 8px 16px rgba(255, 255, 255, 0.40)',
          xlarge: '0px 12px 24px rgba(255, 255, 255, 0.40)'
        }
      },
      focus: {
        border: {
          color: 'focus'
        }
      },
      font: _extends({}, fontSizing(0)),
      hover: {
        background: {
          color: 'active',
          opacity: 'medium'
        },
        color: {
          dark: 'white',
          light: 'black'
        }
      },
      input: {
        padding: baseSpacing / 2 + "px",
        weight: 600
      },
      opacity: {
        strong: 0.8,
        medium: 0.4,
        weak: 0.1
      },
      selected: {
        background: 'selected',
        color: 'white'
      },
      spacing: baseSpacing + "px",
      size: {
        xxsmall: baseSpacing * 2 + "px",
        // 48
        xsmall: baseSpacing * 4 + "px",
        // 96
        small: baseSpacing * 8 + "px",
        // 192
        medium: baseSpacing * 16 + "px",
        // 384
        large: baseSpacing * 32 + "px",
        // 768
        xlarge: baseSpacing * 48 + "px",
        // 1152
        xxlarge: baseSpacing * 64 + "px",
        // 1536
        full: '100%'
      }
    },
    accordion: {
      border: {
        side: 'bottom',
        color: 'border'
      },
      heading: {
        level: '4'
      },
      // level ranges from 1-6
      icons: {
        collapse: grommet_icons_icons_FormUp__WEBPACK_IMPORTED_MODULE_8__["FormUp"],
        expand: grommet_icons_icons_FormDown__WEBPACK_IMPORTED_MODULE_5__["FormDown"] // color: { dark: undefined, light: undefined },

      }
    },
    anchor: {
      textDecoration: 'none',
      fontWeight: 600,
      color: {
        dark: 'accent-1',
        light: 'brand'
      },
      hover: {
        textDecoration: 'underline' // fontWeight: undefined,
        // extend: undefined,

      } // extend: undefined,

    },
    box: {
      responsiveBreakpoint: 'small' // when we switch rows to columns
      // extend: undefined,

    },
    button: {
      border: {
        // color: { dark: undefined, light: undefined }
        width: borderWidth + "px",
        radius: baseSpacing * 0.75 + "px"
      },
      // color: { dark: undefined, light: undefined }
      primary: {// color: { dark: undefined, light: undefined }
      },
      // disabled: { opacity: undefined },
      padding: {
        vertical: baseSpacing / 4 - borderWidth + "px",
        horizontal: baseSpacing - borderWidth + "px"
      }
    },
    calendar: {
      // daySize must align with global.size
      small: {
        fontSize: baseFontSize - fontScale + "px",
        lineHeight: 1.375,
        daySize: baseSpacing * 8 / 7 + "px",
        slideDuration: '0.2s'
      },
      medium: {
        fontSize: baseFontSize + "px",
        lineHeight: 1.45,
        daySize: baseSpacing * 16 / 7 + "px",
        slideDuration: '0.5s'
      },
      large: {
        fontSize: baseFontSize + 3 * fontScale + "px",
        lineHeight: 1.11,
        daySize: baseSpacing * 32 / 7 + "px",
        slideDuration: '0.8s'
      },
      icons: {
        previous: grommet_icons_icons_Previous__WEBPACK_IMPORTED_MODULE_12__["Previous"],
        next: grommet_icons_icons_Next__WEBPACK_IMPORTED_MODULE_9__["Next"],
        small: {
          previous: grommet_icons_icons_FormPrevious__WEBPACK_IMPORTED_MODULE_7__["FormPrevious"],
          next: grommet_icons_icons_FormNext__WEBPACK_IMPORTED_MODULE_6__["FormNext"]
        }
      },
      heading: {
        level: '4'
      } // level ranges from 1-6

    },
    carousel: {
      icons: {
        current: grommet_icons_icons_Subtract__WEBPACK_IMPORTED_MODULE_13__["Subtract"],
        next: grommet_icons_icons_Next__WEBPACK_IMPORTED_MODULE_9__["Next"],
        previous: grommet_icons_icons_Previous__WEBPACK_IMPORTED_MODULE_12__["Previous"] // color: { dark: undefined, light: undefined },

      },
      animation: {
        duration: 1000
      },
      disabled: {
        icons: {// color: { dark: undefined, light: undefined },
        }
      }
    },
    chart: {
      color: 'accent-1' // extend: undefined,

    },
    checkBox: {
      border: {
        color: {
          dark: 'rgba(255, 255, 255, 0.5)',
          light: 'rgba(0, 0, 0, 0.15)'
        },
        width: '2px'
      },
      check: {
        // extend: undefined,
        radius: '4px',
        thickness: '4px'
      },
      // color: { dark: undefined, light: undefined },
      // extend: undefined,
      // gap: undefined
      hover: {
        border: {
          color: {
            dark: 'white',
            light: 'black'
          }
        }
      },
      icon: {// size: undefined,
        // extend: undefined,
      },
      icons: {// checked: undefined,
        // indeterminate: undefined,
      },
      size: baseSpacing + "px",
      toggle: {
        // background: undefined
        color: {
          dark: '#d9d9d9',
          light: '#d9d9d9'
        },
        knob: {// extend: undefined,
        },
        radius: baseSpacing + "px",
        size: baseSpacing * 2 + "px" // extend: undefined,

      }
    },
    clock: {
      analog: {
        // extend: undefined,
        hour: {
          color: {
            dark: 'light-2',
            light: 'dark-3'
          },
          width: baseSpacing / 3 + "px",
          size: baseSpacing + "px",
          shape: 'round'
        },
        minute: {
          color: {
            dark: 'light-4',
            light: 'dark-3'
          },
          width: baseSpacing / 6 + "px",
          size: Math.round(baseSpacing / 2) + "px",
          shape: 'round'
        },
        second: {
          color: {
            dark: 'accent-1',
            light: 'accent-1'
          },
          width: baseSpacing / 8 + "px",
          size: Math.round(baseSpacing / 2.666) + "px",
          shape: 'round'
        },
        size: {
          small: baseSpacing * 3 + "px",
          medium: baseSpacing * 4 + "px",
          large: baseSpacing * 6 + "px",
          xlarge: baseSpacing * 9 + "px",
          huge: baseSpacing * 12 + "px"
        }
      },
      digital: {
        text: {
          xsmall: {
            size: baseFontSize - 2 * fontScale + "px",
            height: 1.5
          },
          small: {
            size: baseFontSize - fontScale + "px",
            height: 1.43
          },
          medium: {
            size: baseFontSize + "px",
            height: 1.375
          },
          large: {
            size: baseFontSize + fontScale + "px",
            height: 1.167
          },
          xlarge: {
            size: baseFontSize + 2 * fontScale + "px",
            height: 1.1875
          },
          xxlarge: {
            size: baseFontSize + 4 * fontScale + "px",
            height: 1.125
          }
        }
      }
    },
    collapsible: {
      minSpeed: 200,
      baseline: 500
    },
    dataTable: {
      groupHeader: {
        background: {
          dark: 'dark-2',
          light: 'light-2'
        },
        border: {
          side: 'bottom',
          size: 'xsmall'
        },
        pad: {
          horizontal: 'small',
          vertical: 'xsmall'
        }
      },
      groupEnd: {
        border: {
          side: 'bottom',
          size: 'xsmall'
        }
      },
      header: {},
      icons: {
        ascending: grommet_icons_icons_FormDown__WEBPACK_IMPORTED_MODULE_5__["FormDown"],
        contract: grommet_icons_icons_FormUp__WEBPACK_IMPORTED_MODULE_8__["FormUp"],
        descending: grommet_icons_icons_FormUp__WEBPACK_IMPORTED_MODULE_8__["FormUp"],
        expand: grommet_icons_icons_FormDown__WEBPACK_IMPORTED_MODULE_5__["FormDown"]
      },
      primary: {
        weight: 'bold'
      },
      resize: {
        border: {
          color: 'border',
          side: 'right'
        }
      }
    },
    diagram: {
      // extend: undefined,
      line: {
        color: 'accent-1'
      }
    },
    // drop: {
    //   extend: undefined,
    //   maxHeight: undefined,
    // },
    formField: {
      border: {
        color: 'border',
        error: {
          color: {
            dark: 'white',
            light: 'status-critical'
          }
        },
        position: 'inner',
        side: 'bottom'
      },
      content: {
        pad: {
          horizontal: 'small',
          bottom: 'small'
        }
      },
      error: {
        color: {
          dark: 'status-critical',
          light: 'status-critical'
        },
        margin: {
          vertical: 'xsmall',
          horizontal: 'small'
        }
      },
      // extend: undefined,
      help: {
        color: {
          dark: 'dark-3',
          light: 'dark-3'
        },
        margin: {
          left: 'small'
        }
      },
      label: {
        margin: {
          vertical: 'xsmall',
          horizontal: 'small'
        }
      },
      margin: {
        bottom: 'small'
      }
    },
    grommet: {// extend: undefined
    },
    heading: {
      font: {// family: undefined
      },
      level: {
        1: {
          font: {// family: undefined,
            // weight: undefined,
          },
          small: _extends({}, fontSizing(4)),
          medium: _extends({}, fontSizing(8)),
          large: _extends({}, fontSizing(16)),
          xlarge: _extends({}, fontSizing(24))
        },
        2: {
          font: {// family: undefined,
            // weight: undefined,
          },
          small: _extends({}, fontSizing(2)),
          medium: _extends({}, fontSizing(4)),
          large: _extends({}, fontSizing(8)),
          xlarge: _extends({}, fontSizing(12))
        },
        3: {
          font: {// family: undefined,
            // weight: undefined,
          },
          small: _extends({}, fontSizing(1)),
          medium: _extends({}, fontSizing(2)),
          large: _extends({}, fontSizing(4)),
          xlarge: _extends({}, fontSizing(6))
        },
        4: {
          font: {// family: undefined,
            // weight: undefined,
          },
          small: _extends({}, fontSizing(0)),
          medium: _extends({}, fontSizing(0)),
          large: _extends({}, fontSizing(0)),
          xlarge: _extends({}, fontSizing(0))
        },
        5: {
          font: {// family: undefined,
            // weight: undefined,
          },
          small: _extends({}, fontSizing(-0.5)),
          medium: _extends({}, fontSizing(-0.5)),
          large: _extends({}, fontSizing(-0.5)),
          xlarge: _extends({}, fontSizing(-0.5))
        },
        6: {
          font: {// family: undefined,
            // weight: undefined,
          },
          small: _extends({}, fontSizing(-1)),
          medium: _extends({}, fontSizing(-1)),
          large: _extends({}, fontSizing(-1)),
          xlarge: _extends({}, fontSizing(-1))
        }
      },
      responsiveBreakpoint: 'small',
      // when we scale the font size down
      weight: 600
    },
    layer: {
      background: 'white',
      border: {
        radius: '4px'
      },
      container: {
        zIndex: '15'
      },
      // extend: undefined,
      overlay: {
        background: 'rgba(0, 0, 0, 0.5)'
      },
      responsiveBreakpoint: 'small',
      // when Layer takes over the full screen
      zIndex: '10'
    },
    list: {
      item: {
        // background: undefined,
        border: 'horizontal',
        pad: {
          horizontal: 'medium',
          vertical: 'small'
        } // extend: undefined,

      } // extend: undefined,

    },
    maskedInput: {// extend: undefined,
    },
    menu: {
      // background: undefined,
      // extend: undefined,
      icons: {
        down: grommet_icons_icons_FormDown__WEBPACK_IMPORTED_MODULE_5__["FormDown"]
      }
    },
    meter: {
      color: 'accent-1' // colors: [],
      // extend: undefined,

    },
    paragraph: {
      small: _extends({}, fontSizing(-1)),
      medium: _extends({}, fontSizing(0)),
      large: _extends({}, fontSizing(1)),
      xlarge: _extends({}, fontSizing(2)),
      xxlarge: _extends({}, fontSizing(4))
    },
    radioButton: {
      border: {
        color: {
          dark: 'rgba(255, 255, 255, 0.5)',
          light: 'rgba(0, 0, 0, 0.15)'
        },
        width: '2px'
      },
      check: {
        radius: '100%' // color: { dark: undefined, light: undefined },
        // extend: undefined,

      },
      hover: {
        border: {
          color: {
            dark: 'white',
            light: 'black'
          }
        }
      },
      icon: {// size: undefined,
        // extend: undefined,
      },
      icons: {// circle: undefined,
      },
      gap: 'small',
      size: baseSpacing + "px"
    },
    rangeInput: {
      track: {
        height: '4px',
        color: Object(styled_components__WEBPACK_IMPORTED_MODULE_1__["css"])(["", ";"], function (props) {
          return Object(polished__WEBPACK_IMPORTED_MODULE_0__["rgba"])(Object(_utils_colors__WEBPACK_IMPORTED_MODULE_18__["normalizeColor"])('border', props.theme), 0.2);
        })
      },
      thumb: {// color: { dark: undefined, light: undefined },
      }
    },
    rangeSelector: {
      background: {
        invert: {
          color: 'light-4'
        }
      } // edge: {
      //   type: undefined,
      // },

    },
    select: {
      // background: undefined,
      container: {// extend: undefined,
      },
      control: {// extend: undefined,
        // open: undefined,
      },
      icons: {
        // color: { dark: undefined, light: undefined },
        margin: {
          horizontal: 'small'
        },
        down: grommet_icons_icons_FormDown__WEBPACK_IMPORTED_MODULE_5__["FormDown"]
      },
      options: {
        container: {
          align: 'start',
          pad: 'small'
        },
        text: {
          margin: 'none'
        }
      },
      // searchInput: undefined,
      step: 20
    },
    tab: {
      active: {
        color: 'text' // background: undefined,

      },
      // background: undefined,
      border: {
        side: 'bottom',
        size: 'small',
        color: {
          dark: 'accent-1',
          light: 'brand'
        },
        active: {
          color: {
            dark: 'white',
            light: 'black'
          }
        },
        hover: {
          color: {
            dark: 'white',
            light: 'black'
          } // extend: undefined,

        }
      },
      color: 'control',
      // extend: undefined,
      hover: {
        // background: undefined,
        // extend: undefined,
        color: {
          dark: 'white',
          light: 'black'
        }
      },
      margin: {
        vertical: 'xxsmall',
        horizontal: 'small'
      },
      pad: {
        bottom: 'xsmall'
      }
    },
    tabs: {
      // background: undefined,
      // extend: undefined,
      // gap: undefined,
      header: {// background: undefined,
        // extend: undefined,
      },
      panel: {// extend: undefined,
      }
    },
    table: {
      header: {
        align: 'start',
        pad: {
          horizontal: 'small',
          vertical: 'xsmall'
        },
        border: 'bottom' // verticalAlign: undefined,
        // background: undefined,
        // extend: undefined,

      },
      body: {
        align: 'start',
        pad: {
          horizontal: 'small',
          vertical: 'xsmall'
        } // background: undefined,
        // border: undefined,
        // extend: undefined,

      },
      // row: {
      //   hover: {
      //     background: undefined,
      //     color: undefined,
      //   },
      // },
      footer: {
        align: 'start',
        pad: {
          horizontal: 'small',
          vertical: 'xsmall'
        },
        border: 'top' // verticalAlign: undefined,
        // background: undefined,
        // extend: undefined,

      }
    },
    text: {
      xsmall: _extends({}, fontSizing(-1.5)),
      small: _extends({}, fontSizing(-1)),
      medium: _extends({}, fontSizing(0)),
      // 18px
      large: _extends({}, fontSizing(1)),
      // 22px
      xlarge: _extends({}, fontSizing(2)),
      xxlarge: _extends({}, fontSizing(4))
    },
    textArea: {// extend: undefined,
      // disabled: { opacity: undefined },
    },
    textInput: {// extend: undefined,
      // disabled: { opacity: undefined },
    },
    video: {
      captions: {
        background: 'rgba(0, 0, 0, 0.7)'
      },
      // controls: { background: undefined },
      icons: {
        closedCaption: grommet_icons_icons_ClosedCaption__WEBPACK_IMPORTED_MODULE_3__["ClosedCaption"],
        configure: grommet_icons_icons_Actions__WEBPACK_IMPORTED_MODULE_2__["Actions"],
        fullScreen: grommet_icons_icons_Expand__WEBPACK_IMPORTED_MODULE_4__["Expand"],
        pause: grommet_icons_icons_Pause__WEBPACK_IMPORTED_MODULE_10__["Pause"],
        play: grommet_icons_icons_Play__WEBPACK_IMPORTED_MODULE_11__["Play"],
        reduceVolume: grommet_icons_icons_VolumeLow__WEBPACK_IMPORTED_MODULE_15__["VolumeLow"],
        volume: grommet_icons_icons_Volume__WEBPACK_IMPORTED_MODULE_14__["Volume"] // color: { dark: undefined, light: undefined },

      },
      // scrubber: { track: { color: undefined } },
      scrubber: {
        color: 'light-4'
      }
    },
    worldMap: {
      color: 'light-3',
      continent: {
        active: '8px',
        base: '6px'
      },
      hover: {
        color: 'light-4'
      },
      place: {
        active: '20px',
        base: '8px'
      }
    }
  });
  return Object(_utils_object__WEBPACK_IMPORTED_MODULE_17__["deepFreeze"])(result);
};
var base = generate(24);

/***/ }),

/***/ "./node_modules/grommet/es6/themes/dark.js":
/*!*************************************************!*\
  !*** ./node_modules/grommet/es6/themes/dark.js ***!
  \*************************************************/
/*! exports provided: dark */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "dark", function() { return dark; });
/* harmony import */ var polished__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! polished */ "./node_modules/polished/dist/polished.es.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils_object__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/object */ "./node_modules/grommet/es6/utils/object.js");
/* harmony import */ var _utils_colors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/colors */ "./node_modules/grommet/es6/utils/colors.js");




var accentColors = ['#FD6FFF', '#60EB9F', '#60EBE1', '#FFCA58'];
var neutralColors = ['#EB6060', '#01C781', '#6095EB', '#FFB200'];
var statusColors = {
  critical: '#FF3333',
  error: '#FF3333',
  warning: '#F7E464',
  ok: '#7DD892',
  unknown: '#a8a8a8',
  disabled: '#a8a8a8'
};
var backgroundColor = '#111111';
var colors = {
  active: Object(polished__WEBPACK_IMPORTED_MODULE_0__["rgba"])(102, 102, 102, 0.5),
  background: backgroundColor,
  black: '#000000',
  brand: '#FD6FFF',
  control: {
    dark: '#FFCA58',
    light: '#403216'
  },
  focus: '#FFCA58',
  icon: {
    dark: '#f8f8f8',
    light: '#666666'
  },
  placeholder: '#AAAAAA',
  text: {
    dark: '#eeeeee',
    light: '#444444'
  },
  white: '#FFFFFF'
};

var colorArray = function colorArray(array, prefix) {
  return array.forEach(function (color, index) {
    colors[prefix + "-" + (index + 1)] = color;
  });
};

colorArray(accentColors, 'accent');
colorArray(neutralColors, 'neutral');
Object.keys(statusColors).forEach(function (color) {
  colors["status-" + color] = statusColors[color];
});
var dark = Object(_utils_object__WEBPACK_IMPORTED_MODULE_2__["deepFreeze"])({
  global: {
    colors: colors,
    drop: {
      background: '#333333'
    },
    focus: {
      border: {
        color: Object(styled_components__WEBPACK_IMPORTED_MODULE_1__["css"])(["", ";"], function (props) {
          return Object(_utils_colors__WEBPACK_IMPORTED_MODULE_3__["normalizeColor"])('focus', props.theme);
        }),
        width: '2px'
      }
    },
    font: {
      family: 'Arial'
    },
    input: {
      weight: 700
    }
  },
  anchor: {
    color: 'control'
  },
  layer: {
    background: backgroundColor,
    overlay: {
      background: Object(polished__WEBPACK_IMPORTED_MODULE_0__["rgba"])(48, 48, 48, 0.5)
    }
  }
});

/***/ }),

/***/ "./node_modules/grommet/es6/themes/grommet.js":
/*!****************************************************!*\
  !*** ./node_modules/grommet/es6/themes/grommet.js ***!
  \****************************************************/
/*! exports provided: grommet */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "grommet", function() { return grommet; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _utils_object__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/object */ "./node_modules/grommet/es6/utils/object.js");


var grommet = Object(_utils_object__WEBPACK_IMPORTED_MODULE_1__["deepFreeze"])({
  global: {
    colors: {
      background: {
        light: '#ffffff',
        dark: '#000000'
      }
    },
    font: {
      family: "-apple-system,\n         BlinkMacSystemFont, \n         \"Segoe UI\", \n         Roboto, \n         Oxygen, \n         Ubuntu, \n         Cantarell, \n         \"Fira Sans\", \n         \"Droid Sans\",  \n         \"Helvetica Neue\", \n         Arial, sans-serif,  \n         \"Apple Color Emoji\", \n         \"Segoe UI Emoji\", \n         \"Segoe UI Symbol\""
    }
  },
  button: {
    extend: Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["", ""], function (props) {
      return !props.plain && 'font-weight: bold;';
    })
  }
});

/***/ }),

/***/ "./node_modules/grommet/es6/themes/index.js":
/*!**************************************************!*\
  !*** ./node_modules/grommet/es6/themes/index.js ***!
  \**************************************************/
/*! exports provided: base, generate, grommet, dark */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base */ "./node_modules/grommet/es6/themes/base.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "base", function() { return _base__WEBPACK_IMPORTED_MODULE_0__["base"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "generate", function() { return _base__WEBPACK_IMPORTED_MODULE_0__["generate"]; });

/* harmony import */ var _grommet__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./grommet */ "./node_modules/grommet/es6/themes/grommet.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "grommet", function() { return _grommet__WEBPACK_IMPORTED_MODULE_1__["grommet"]; });

/* harmony import */ var _dark__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./dark */ "./node_modules/grommet/es6/themes/dark.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "dark", function() { return _dark__WEBPACK_IMPORTED_MODULE_2__["dark"]; });





/***/ }),

/***/ "./node_modules/grommet/es6/utils/DOM.js":
/*!***********************************************!*\
  !*** ./node_modules/grommet/es6/utils/DOM.js ***!
  \***********************************************/
/*! exports provided: filterByFocusable, findScrollParents, getFirstFocusableDescendant, getBodyChildElements, getNewContainer, setFocusWithoutScroll, setTabIndex, copyAttribute, makeNodeFocusable, makeNodeUnfocusable, findVisibleParent, isNodeAfterScroll, isNodeBeforeScroll */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "filterByFocusable", function() { return filterByFocusable; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "findScrollParents", function() { return findScrollParents; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getFirstFocusableDescendant", function() { return getFirstFocusableDescendant; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getBodyChildElements", function() { return getBodyChildElements; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getNewContainer", function() { return getNewContainer; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setFocusWithoutScroll", function() { return setFocusWithoutScroll; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setTabIndex", function() { return setTabIndex; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "copyAttribute", function() { return copyAttribute; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "makeNodeFocusable", function() { return makeNodeFocusable; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "makeNodeUnfocusable", function() { return makeNodeUnfocusable; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "findVisibleParent", function() { return findVisibleParent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isNodeAfterScroll", function() { return isNodeAfterScroll; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isNodeBeforeScroll", function() { return isNodeBeforeScroll; });
var filterByFocusable = function filterByFocusable(elements) {
  return Array.prototype.filter.call(elements || [], function (element) {
    var currentTag = element.tagName.toLowerCase();
    var validTags = /(svg|a|area|input|select|textarea|button|iframe|div)$/;
    var isValidTag = currentTag.match(validTags) && element.focus;

    if (currentTag === 'a') {
      return isValidTag && element.childNodes.length > 0 && element.getAttribute('href');
    }

    if (currentTag === 'svg' || currentTag === 'div') {
      return isValidTag && element.hasAttribute('tabindex') && element.getAttribute('tabindex') !== '-1';
    }

    return isValidTag;
  });
};
var findScrollParents = function findScrollParents(element, horizontal) {
  var result = [];

  if (element) {
    var parent = element.parentNode;

    while (parent && parent.getBoundingClientRect) {
      var rect = parent.getBoundingClientRect(); // 10px is to account for borders and scrollbars in a lazy way

      if (horizontal) {
        if (rect.width && parent.scrollWidth > rect.width + 10) {
          result.push(parent);
        }
      } else if (rect.height && parent.scrollHeight > rect.height + 10) {
        result.push(parent);
      }

      parent = parent.parentNode;
    } // last scrollable element will be the document
    // if nothing else is scrollable in the page


    if (result.length === 0) {
      result.push(document);
    } else if (result[0].tagName.toLowerCase() === 'body') {
      result.length = 0;
      result.push(document);
    }
  }

  return result;
};
var getFirstFocusableDescendant = function getFirstFocusableDescendant(element) {
  var children = element.getElementsByTagName('*');

  for (var i = 0; i < children.length; i += 1) {
    var child = children[i];
    var tagName = child.tagName.toLowerCase();

    if (tagName === 'input' || tagName === 'select') {
      return child;
    }
  }

  return undefined;
};
var getBodyChildElements = function getBodyChildElements() {
  var excludeMatch = /^(script|link)$/i;
  var children = [];
  [].forEach.call(document.body.children, function (node) {
    if (!excludeMatch.test(node.tagName)) {
      children.push(node);
    }
  });
  return children;
};
var getNewContainer = function getNewContainer() {
  // setup DOM
  var container = document.createElement('div');
  document.body.appendChild(container);
  return container;
};
var setFocusWithoutScroll = function setFocusWithoutScroll(element) {
  var x = window.scrollX;
  var y = window.scrollY;
  element.focus();
  window.scrollTo(x, y);
};
var setTabIndex = function setTabIndex(tabIndex) {
  return function (element) {
    element.setAttribute('tabindex', tabIndex);
  };
};
var copyAttribute = function copyAttribute(source) {
  return function (target) {
    return function (element) {
      element.setAttribute(target, element.getAttribute(source));
    };
  };
};

var deleteAttribute = function deleteAttribute(attribute) {
  return function (element) {
    return element.removeAttribute(attribute);
  };
};

var unsetTabIndex = setTabIndex(-1);
var saveTabIndex = copyAttribute('tabindex')('data-g-tabindex');
var restoreTabIndex = copyAttribute('data-g-tabindex')('tabindex');
var deleteTabIndex = deleteAttribute('tabindex');
var deleteTabIndexCopy = deleteAttribute('data-g-tabindex');
var makeNodeFocusable = function makeNodeFocusable(node) {
  // do not touch aria live containers so that announcements work
  if (!node.hasAttribute('aria-live')) {
    node.setAttribute('aria-hidden', false); // allow children to receive focus again

    filterByFocusable(node.getElementsByTagName('*')).forEach(function (child) {
      if (child.hasAttribute('data-g-tabindex')) {
        restoreTabIndex(child);
      } else {
        deleteTabIndex(child);
      }

      deleteTabIndexCopy(child);
    });
  }
};
var makeNodeUnfocusable = function makeNodeUnfocusable(node) {
  // do not touch aria live containers so that announcements work
  if (!node.hasAttribute('aria-live')) {
    node.setAttribute('aria-hidden', true); // prevent children to receive focus

    filterByFocusable(node.getElementsByTagName('*')).forEach(function (child) {
      if (child.hasAttribute('tabindex')) {
        saveTabIndex(child);
      }

      unsetTabIndex(child);
    });
  }
};
var findVisibleParent = function findVisibleParent(element) {
  if (element) {
    return element.offsetParent ? element : findVisibleParent(element.parentElement) || element;
  }

  return undefined;
};
var isNodeAfterScroll = function isNodeAfterScroll(node, target) {
  if (target === void 0) {
    target = window;
  }

  var _node$getBoundingClie = node.getBoundingClientRect(),
      bottom = _node$getBoundingClie.bottom;

  var _target$getBoundingCl = target.getBoundingClientRect(),
      height = _target$getBoundingCl.height,
      top = _target$getBoundingCl.top;

  return bottom >= top + height;
};
var isNodeBeforeScroll = function isNodeBeforeScroll(node, target) {
  if (target === void 0) {
    target = window;
  }

  var _node$getBoundingClie2 = node.getBoundingClientRect(),
      top = _node$getBoundingClie2.top;

  var _target$getBoundingCl2 = target.getBoundingClientRect(),
      targetTop = _target$getBoundingCl2.top;

  return top <= targetTop;
};

/***/ }),

/***/ "./node_modules/grommet/es6/utils/background.js":
/*!******************************************************!*\
  !*** ./node_modules/grommet/es6/utils/background.js ***!
  \******************************************************/
/*! exports provided: normalizeBackground, backgroundIsDark, backgroundStyle, activeStyle, selectedStyle, getHoverIndicatorStyle */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "normalizeBackground", function() { return normalizeBackground; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "backgroundIsDark", function() { return backgroundIsDark; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "backgroundStyle", function() { return backgroundStyle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "activeStyle", function() { return activeStyle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectedStyle", function() { return selectedStyle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getHoverIndicatorStyle", function() { return getHoverIndicatorStyle; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _colors__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./colors */ "./node_modules/grommet/es6/utils/colors.js");
/* harmony import */ var _styles__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./styles */ "./node_modules/grommet/es6/utils/styles.js");



var normalizeBackground = function normalizeBackground(background, theme) {
  // If the background has a light or dark object, use that
  var result = background;

  if (background) {
    if (theme.dark && background.dark && typeof background.dark !== 'boolean') {
      result = background.dark;
    } else if (!theme.dark && background.light && typeof background.light !== 'boolean') {
      result = background.light;
    }

    result = Object(_styles__WEBPACK_IMPORTED_MODULE_2__["evalStyle"])(result, theme);
  }

  return result;
};
var backgroundIsDark = function backgroundIsDark(backgroundArg, theme) {
  var background = normalizeBackground(backgroundArg, theme);
  var result;

  if (background) {
    if (typeof background === 'object') {
      var color = background.color,
          dark = background.dark,
          opacity = background.opacity;

      if (typeof dark === 'boolean') {
        result = dark;
      } else if (color && ( // weak opacity means we keep the existing darkness
      !opacity || opacity !== 'weak')) {
        var backgroundColor = Object(_colors__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(background.color, theme);

        if (backgroundColor) {
          result = Object(_colors__WEBPACK_IMPORTED_MODULE_1__["colorIsDark"])(backgroundColor);
        }
      }
    } else {
      var _color = Object(_colors__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(background, theme);

      if (_color) {
        result = Object(_colors__WEBPACK_IMPORTED_MODULE_1__["colorIsDark"])(_color);
      }
    }
  }

  return result;
};
var backgroundStyle = function backgroundStyle(backgroundArg, theme, textColorArg) {
  // If the background has a light or dark object, use that
  var background = normalizeBackground(backgroundArg, theme);
  var textColor = textColorArg || theme.global.colors.text;

  if (typeof background === 'object') {
    var styles = [];

    if (background.image) {
      var color;

      if (background.dark === false) {
        color = Object(_colors__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(textColor.light || textColor, theme);
      } else if (background.dark) {
        color = Object(_colors__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(textColor.dark || textColor, theme);
      } else if (!textColorArg) {
        color = 'inherit';
      }

      styles.push(Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["background-image:", ";background-repeat:", ";background-position:", ";background-size:", ";color:", ";"], background.image, background.repeat || 'no-repeat', background.position || 'center center', background.size || 'cover', color));
    }

    if (background.color) {
      var _color2 = Object(_colors__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(background.color, theme);

      var backgroundColor = Object(_colors__WEBPACK_IMPORTED_MODULE_1__["getRGBA"])(_color2, background.opacity === true ? theme.global.opacity.medium : theme.global.opacity[background.opacity] || background.opacity) || _color2;

      styles.push(Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["background-color:", ";", ""], backgroundColor, (!background.opacity || background.opacity !== 'weak') && "color: " + Object(_colors__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(textColor[background.dark || Object(_colors__WEBPACK_IMPORTED_MODULE_1__["colorIsDark"])(backgroundColor) ? 'dark' : 'light'] || textColor, theme) + ";"));
    }

    if (background.dark === false) {
      styles.push(Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["color:", ";"], textColor.light || textColor));
    } else if (background.dark) {
      styles.push(Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["color:", ";"], textColor.dark || textColor));
    }

    return styles;
  }

  if (background) {
    if (background.lastIndexOf('url', 0) === 0) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["background:", " no-repeat center center;background-size:cover;"], background);
    }

    var _backgroundColor = Object(_colors__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(background, theme);

    if (_backgroundColor) {
      return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["background:", ";color:", ";"], _backgroundColor, Object(_colors__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(textColor[Object(_colors__WEBPACK_IMPORTED_MODULE_1__["colorIsDark"])(_backgroundColor) ? 'dark' : 'light'] || textColor, theme));
    }
  }

  return undefined;
};
var activeStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["", ""], function (props) {
  return backgroundStyle(Object(_colors__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.global.active.background, props.theme), props.theme, props.theme.global.active.color);
});
var selectedStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["", ""], function (props) {
  return backgroundStyle(Object(_colors__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.global.selected.background, props.theme), props.theme, props.theme.global.selected.color);
});
var getHoverIndicatorStyle = function getHoverIndicatorStyle(hoverIndicator, theme) {
  var background;

  if (hoverIndicator === true || hoverIndicator === 'background') {
    background = theme.global.hover.background;
  } else {
    background = hoverIndicator;
  }

  return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["", ""], backgroundStyle(background, theme, theme.global.hover.color));
};

/***/ }),

/***/ "./node_modules/grommet/es6/utils/border.js":
/*!**************************************************!*\
  !*** ./node_modules/grommet/es6/utils/border.js ***!
  \**************************************************/
/*! exports provided: borderStyle */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "borderStyle", function() { return borderStyle; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _colors__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./colors */ "./node_modules/grommet/es6/utils/colors.js");
/* harmony import */ var _mixins__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./mixins */ "./node_modules/grommet/es6/utils/mixins.js");



var borderStyle = function borderStyle(data, responsive, theme) {
  var styles = [];
  var color = Object(_colors__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(data.color || 'border', theme);
  var borderSize = data.size || 'xsmall';
  var style = data.style || 'solid';
  var side = typeof data === 'string' ? data : data.side || 'all';
  var value = style + " " + (theme.global.borderSize[borderSize] || borderSize) + " " + color;
  var breakpoint = theme.box.responsiveBreakpoint && theme.global.breakpoints[theme.box.responsiveBreakpoint];
  var responsiveValue = responsive && breakpoint && (breakpoint.borderSize[borderSize] || borderSize) && style + " " + (breakpoint.borderSize[borderSize] || borderSize) + " " + color;

  if (side === 'top' || side === 'bottom' || side === 'left' || side === 'right') {
    styles.push(Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["border-", ":", ";"], side, value));

    if (responsiveValue) {
      styles.push(Object(_mixins__WEBPACK_IMPORTED_MODULE_2__["breakpointStyle"])(breakpoint, "\n        border-" + side + ": " + responsiveValue + ";\n      "));
    }
  } else if (side === 'vertical') {
    styles.push(Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["border-left:", ";border-right:", ";"], value, value));

    if (responsiveValue) {
      styles.push(Object(_mixins__WEBPACK_IMPORTED_MODULE_2__["breakpointStyle"])(breakpoint, "\n        border-left: " + responsiveValue + ";\n        border-right: " + responsiveValue + ";\n      "));
    }
  } else if (side === 'horizontal') {
    styles.push(Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["border-top:", ";border-bottom:", ";"], value, value));

    if (responsiveValue) {
      styles.push(Object(_mixins__WEBPACK_IMPORTED_MODULE_2__["breakpointStyle"])(breakpoint, "\n        border-top: " + responsiveValue + ";\n        border-bottom: " + responsiveValue + ";\n      "));
    }
  } else {
    styles.push(Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["border:", ";"], value));

    if (responsiveValue) {
      styles.push(Object(_mixins__WEBPACK_IMPORTED_MODULE_2__["breakpointStyle"])(breakpoint, "border: " + responsiveValue + ";"));
    }
  }

  return styles;
};

/***/ }),

/***/ "./node_modules/grommet/es6/utils/colors.js":
/*!**************************************************!*\
  !*** ./node_modules/grommet/es6/utils/colors.js ***!
  \**************************************************/
/*! exports provided: normalizeColor, colorIsDark, getRGBA */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "normalizeColor", function() { return normalizeColor; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "colorIsDark", function() { return colorIsDark; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getRGBA", function() { return getRGBA; });
var normalizeColor = function normalizeColor(color, theme, required) {
  var colorSpec = theme.global.colors[color] !== undefined ? theme.global.colors[color] : color; // If the color has a light or dark object, use that

  var result = colorSpec;

  if (colorSpec) {
    if (theme.dark && colorSpec.dark !== undefined) {
      result = colorSpec.dark;
    } else if (!theme.dark && colorSpec.light !== undefined) {
      result = colorSpec.light;
    }
  } // allow one level of indirection in color names


  if (result && theme.global.colors[result] !== undefined) {
    result = normalizeColor(result, theme);
  }

  return required && result === color ? 'inherit' : result;
};

var parseHexToRGB = function parseHexToRGB(color) {
  return color.length < 7 // 7 is what's needed for '#RRGGBB'
  ? color.match(/[A-Za-z0-9]{1}/g).map(function (v) {
    return parseInt("" + v + v, 16);
  }) : // https://stackoverflow.com/a/42429333
  color.match(/[A-Za-z0-9]{2}/g).map(function (v) {
    return parseInt(v, 16);
  });
}; // From: https://stackoverflow.com/a/9493060/8513067
// Converts an HSL color value to RGB. Conversion formula
// adapted from http://en.wikipedia.org/wiki/HSL_color_space.
// Assumes h, s, and l are contained in the set [0, 1] and
// returns r, g, and b in the set [0, 255].


var hslToRGB = function hslToRGB(h, s, l) {
  var r;
  var g;
  var b;

  if (s === 0 || s === '0') {
    // achromatic
    r = l;
    g = l;
    b = l;
  } else {
    var hue2rgb = function hue2rgb(p, q, inT) {
      var t = inT;
      if (t < 0) t += 1;
      if (t > 1) t -= 1;
      if (t < 0.16666667) return p + (q - p) * 6 * t;
      if (t < 1 / 2) return q;
      if (t < 0.66666667) return p + (q - p) * (0.66666667 - t) * 6;
      return p;
    };

    var q = l < 0.5 ? l * (1 + s) : l + s - l * s;
    var p = 2 * l - q;
    r = hue2rgb(p, q, h + 0.33333333);
    g = hue2rgb(p, q, h);
    b = hue2rgb(p, q, h - 0.33333333);
  }

  return [Math.round(r * 255), Math.round(g * 255), Math.round(b * 255)];
}; // allow for alpha: #RGB, #RGBA, #RRGGBB, or #RRGGBBAA


var hexExp = /^#[A-Za-z0-9]{3,4}$|^#[A-Za-z0-9]{6,8}$/;
var rgbExp = /rgba?\(\s?([0-9]*)\s?,\s?([0-9]*)\s?,\s?([0-9]*)\s?\)/;
var rgbaExp = /rgba?\(\s?([0-9]*)\s?,\s?([0-9]*)\s?,\s?([0-9]*)\s?,\s?([.0-9]*)\s?\)/; // e.g. hsl(240, 60%, 50%)

var hslExp = /hsla?\(\s?([0-9]*)\s?,\s?([0-9]*)%?\s?,\s?([0-9]*)%?\s?.*?\)/;

var canExtractRGBArray = function canExtractRGBArray(color) {
  return hexExp.test(color) || rgbExp.test(color) || rgbaExp.test(color) || hslExp.test(color);
};

var getRGBArray = function getRGBArray(color) {
  if (hexExp.test(color)) {
    var _parseHexToRGB = parseHexToRGB(color),
        red = _parseHexToRGB[0],
        green = _parseHexToRGB[1],
        blue = _parseHexToRGB[2],
        alpha = _parseHexToRGB[3];

    return [red, green, blue, alpha !== undefined ? alpha / 255.0 : undefined];
  }

  var match = color.match(rgbExp);

  if (match) {
    return match.splice(1).map(function (v) {
      return parseInt(v, 10);
    });
  }

  match = color.match(rgbaExp);

  if (match) {
    return match.splice(1).map(function (v) {
      return parseFloat(v, 10);
    });
  }

  match = color.match(hslExp);

  if (match) {
    var _match$splice$map = match.splice(1).map(function (v) {
      return parseInt(v, 10);
    }),
        h = _match$splice$map[0],
        s = _match$splice$map[1],
        l = _match$splice$map[2];

    return hslToRGB(h / 360.0, s / 100.0, l / 100.0);
  }

  return color;
};

var colorIsDark = function colorIsDark(color) {
  var _getRGBArray = getRGBArray(color),
      red = _getRGBArray[0],
      green = _getRGBArray[1],
      blue = _getRGBArray[2],
      alpha = _getRGBArray[3]; // if there is an alpha and it's greater than 50%, we can't really tell


  if (alpha < 0.5) return undefined;
  var brightness = (299 * red + 587 * green + 114 * blue) / 1000; // From: http://www.had2know.com/technology/color-contrast-calculator-web-design.html
  // Above domain is no longer registered.

  return brightness < 125;
};
var getRGBA = function getRGBA(color, opacity) {
  if (color && canExtractRGBArray(color)) {
    var _getRGBArray2 = getRGBArray(color),
        red = _getRGBArray2[0],
        green = _getRGBArray2[1],
        blue = _getRGBArray2[2],
        alpha = _getRGBArray2[3];

    var normalizedAlpha;

    if (opacity !== undefined) {
      normalizedAlpha = opacity;
    } else if (alpha !== undefined) {
      normalizedAlpha = alpha;
    } else {
      normalizedAlpha = 1;
    }

    return "rgba(" + red + ", " + green + ", " + blue + ", " + normalizedAlpha + ")";
  }

  return undefined;
};

/***/ }),

/***/ "./node_modules/grommet/es6/utils/debounce.js":
/*!****************************************************!*\
  !*** ./node_modules/grommet/es6/utils/debounce.js ***!
  \****************************************************/
/*! exports provided: debounce, debounceDelay */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "debounce", function() { return debounce; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "debounceDelay", function() { return debounceDelay; });
var _this = undefined;

var debounce = function debounce(cb, timer) {
  var timeout;
  return function () {
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var context = _this;
    clearTimeout(timeout);
    timeout = setTimeout(function () {
      return cb.apply(context, args);
    }, timer);
  };
};
var debounceDelay = function debounceDelay(_ref) {
  var theme = _ref.theme;
  return theme.global.debounceDelay;
};

/***/ }),

/***/ "./node_modules/grommet/es6/utils/graphics.js":
/*!****************************************************!*\
  !*** ./node_modules/grommet/es6/utils/graphics.js ***!
  \****************************************************/
/*! exports provided: baseUnit, polarToCartesian, arcCommands, translateEndAngle */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "baseUnit", function() { return baseUnit; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "polarToCartesian", function() { return polarToCartesian; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "arcCommands", function() { return arcCommands; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "translateEndAngle", function() { return translateEndAngle; });
var POST_DECIMAL_DIGITS = 10;
var baseUnit = 24;
var polarToCartesian = function polarToCartesian(centerX, centerY, radius, angleInDegrees) {
  var angleInRadians = (angleInDegrees - 90) * Math.PI / 180.0;
  return {
    x: centerX + radius * Math.cos(angleInRadians),
    y: centerY + radius * Math.sin(angleInRadians)
  };
};
var arcCommands = function arcCommands(centerX, centerY, radius, startAngle, endAngle) {
  // handle that we can't draw a complete circle
  var normalizedEndAngle = endAngle;

  if (endAngle - startAngle >= 360) {
    normalizedEndAngle = startAngle + 359.99;
  }

  var start = polarToCartesian(centerX, centerY, radius, normalizedEndAngle);
  var end = polarToCartesian(centerX, centerY, radius, startAngle);
  var arcSweep = normalizedEndAngle - startAngle <= 180 ? '0' : '1';
  var d = ['M', start.x.toFixed(POST_DECIMAL_DIGITS), start.y.toFixed(POST_DECIMAL_DIGITS), 'A', radius.toFixed(POST_DECIMAL_DIGITS), radius.toFixed(POST_DECIMAL_DIGITS), 0, arcSweep, 0, end.x.toFixed(POST_DECIMAL_DIGITS), end.y.toFixed(POST_DECIMAL_DIGITS)].join(' ');
  return d;
};
var translateEndAngle = function translateEndAngle(startAngle, anglePer, value) {
  return Math.min(360, Math.max(0, startAngle + anglePer * value));
};

/***/ }),

/***/ "./node_modules/grommet/es6/utils/index.js":
/*!*************************************************!*\
  !*** ./node_modules/grommet/es6/utils/index.js ***!
  \*************************************************/
/*! exports provided: parseMetricToNum, fontSize, breakpointStyle, findAllByType, getAvailableAtBadge, normalizeBackground, backgroundIsDark, backgroundStyle, activeStyle, selectedStyle, getHoverIndicatorStyle, borderStyle, normalizeColor, colorIsDark, getRGBA, debounce, debounceDelay, filterByFocusable, findScrollParents, getFirstFocusableDescendant, getBodyChildElements, getNewContainer, setFocusWithoutScroll, setTabIndex, copyAttribute, makeNodeFocusable, makeNodeUnfocusable, findVisibleParent, isNodeAfterScroll, isNodeBeforeScroll, baseUnit, polarToCartesian, arcCommands, translateEndAngle, a11yTitlePropType, backgroundPropType, colorPropType, marginProp, genericProps, hoverIndicatorPropType, baseStyle, controlBorderStyle, edgeStyle, focusStyle, inputStyle, overflowStyle, placeholderStyle, evalStyle, genericStyles, disabledStyle, sizeStyle, isObject, deepFreeze, deepMerge, removeUndefined, getBreakpoint, getDeviceBreakpoint, ROUTER_PROPS, throttle, themeDocUtils */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _mixins__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mixins */ "./node_modules/grommet/es6/utils/mixins.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "parseMetricToNum", function() { return _mixins__WEBPACK_IMPORTED_MODULE_0__["parseMetricToNum"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "fontSize", function() { return _mixins__WEBPACK_IMPORTED_MODULE_0__["fontSize"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "breakpointStyle", function() { return _mixins__WEBPACK_IMPORTED_MODULE_0__["breakpointStyle"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "findAllByType", function() { return _mixins__WEBPACK_IMPORTED_MODULE_0__["findAllByType"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getAvailableAtBadge", function() { return _mixins__WEBPACK_IMPORTED_MODULE_0__["getAvailableAtBadge"]; });

/* harmony import */ var _background__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./background */ "./node_modules/grommet/es6/utils/background.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "normalizeBackground", function() { return _background__WEBPACK_IMPORTED_MODULE_1__["normalizeBackground"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "backgroundIsDark", function() { return _background__WEBPACK_IMPORTED_MODULE_1__["backgroundIsDark"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "backgroundStyle", function() { return _background__WEBPACK_IMPORTED_MODULE_1__["backgroundStyle"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "activeStyle", function() { return _background__WEBPACK_IMPORTED_MODULE_1__["activeStyle"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "selectedStyle", function() { return _background__WEBPACK_IMPORTED_MODULE_1__["selectedStyle"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getHoverIndicatorStyle", function() { return _background__WEBPACK_IMPORTED_MODULE_1__["getHoverIndicatorStyle"]; });

/* harmony import */ var _border__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./border */ "./node_modules/grommet/es6/utils/border.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "borderStyle", function() { return _border__WEBPACK_IMPORTED_MODULE_2__["borderStyle"]; });

/* harmony import */ var _colors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./colors */ "./node_modules/grommet/es6/utils/colors.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "normalizeColor", function() { return _colors__WEBPACK_IMPORTED_MODULE_3__["normalizeColor"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "colorIsDark", function() { return _colors__WEBPACK_IMPORTED_MODULE_3__["colorIsDark"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getRGBA", function() { return _colors__WEBPACK_IMPORTED_MODULE_3__["getRGBA"]; });

/* harmony import */ var _debounce__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./debounce */ "./node_modules/grommet/es6/utils/debounce.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "debounce", function() { return _debounce__WEBPACK_IMPORTED_MODULE_4__["debounce"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "debounceDelay", function() { return _debounce__WEBPACK_IMPORTED_MODULE_4__["debounceDelay"]; });

/* harmony import */ var _DOM__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./DOM */ "./node_modules/grommet/es6/utils/DOM.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "filterByFocusable", function() { return _DOM__WEBPACK_IMPORTED_MODULE_5__["filterByFocusable"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "findScrollParents", function() { return _DOM__WEBPACK_IMPORTED_MODULE_5__["findScrollParents"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getFirstFocusableDescendant", function() { return _DOM__WEBPACK_IMPORTED_MODULE_5__["getFirstFocusableDescendant"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getBodyChildElements", function() { return _DOM__WEBPACK_IMPORTED_MODULE_5__["getBodyChildElements"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getNewContainer", function() { return _DOM__WEBPACK_IMPORTED_MODULE_5__["getNewContainer"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "setFocusWithoutScroll", function() { return _DOM__WEBPACK_IMPORTED_MODULE_5__["setFocusWithoutScroll"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "setTabIndex", function() { return _DOM__WEBPACK_IMPORTED_MODULE_5__["setTabIndex"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "copyAttribute", function() { return _DOM__WEBPACK_IMPORTED_MODULE_5__["copyAttribute"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "makeNodeFocusable", function() { return _DOM__WEBPACK_IMPORTED_MODULE_5__["makeNodeFocusable"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "makeNodeUnfocusable", function() { return _DOM__WEBPACK_IMPORTED_MODULE_5__["makeNodeUnfocusable"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "findVisibleParent", function() { return _DOM__WEBPACK_IMPORTED_MODULE_5__["findVisibleParent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "isNodeAfterScroll", function() { return _DOM__WEBPACK_IMPORTED_MODULE_5__["isNodeAfterScroll"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "isNodeBeforeScroll", function() { return _DOM__WEBPACK_IMPORTED_MODULE_5__["isNodeBeforeScroll"]; });

/* harmony import */ var _graphics__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./graphics */ "./node_modules/grommet/es6/utils/graphics.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "baseUnit", function() { return _graphics__WEBPACK_IMPORTED_MODULE_6__["baseUnit"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "polarToCartesian", function() { return _graphics__WEBPACK_IMPORTED_MODULE_6__["polarToCartesian"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "arcCommands", function() { return _graphics__WEBPACK_IMPORTED_MODULE_6__["arcCommands"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "translateEndAngle", function() { return _graphics__WEBPACK_IMPORTED_MODULE_6__["translateEndAngle"]; });

/* harmony import */ var _prop_types__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./prop-types */ "./node_modules/grommet/es6/utils/prop-types.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "a11yTitlePropType", function() { return _prop_types__WEBPACK_IMPORTED_MODULE_7__["a11yTitlePropType"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "backgroundPropType", function() { return _prop_types__WEBPACK_IMPORTED_MODULE_7__["backgroundPropType"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "colorPropType", function() { return _prop_types__WEBPACK_IMPORTED_MODULE_7__["colorPropType"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "marginProp", function() { return _prop_types__WEBPACK_IMPORTED_MODULE_7__["marginProp"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "genericProps", function() { return _prop_types__WEBPACK_IMPORTED_MODULE_7__["genericProps"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "hoverIndicatorPropType", function() { return _prop_types__WEBPACK_IMPORTED_MODULE_7__["hoverIndicatorPropType"]; });

/* harmony import */ var _styles__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./styles */ "./node_modules/grommet/es6/utils/styles.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "baseStyle", function() { return _styles__WEBPACK_IMPORTED_MODULE_8__["baseStyle"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "controlBorderStyle", function() { return _styles__WEBPACK_IMPORTED_MODULE_8__["controlBorderStyle"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "edgeStyle", function() { return _styles__WEBPACK_IMPORTED_MODULE_8__["edgeStyle"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "focusStyle", function() { return _styles__WEBPACK_IMPORTED_MODULE_8__["focusStyle"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "inputStyle", function() { return _styles__WEBPACK_IMPORTED_MODULE_8__["inputStyle"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "overflowStyle", function() { return _styles__WEBPACK_IMPORTED_MODULE_8__["overflowStyle"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "placeholderStyle", function() { return _styles__WEBPACK_IMPORTED_MODULE_8__["placeholderStyle"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "evalStyle", function() { return _styles__WEBPACK_IMPORTED_MODULE_8__["evalStyle"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "genericStyles", function() { return _styles__WEBPACK_IMPORTED_MODULE_8__["genericStyles"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "disabledStyle", function() { return _styles__WEBPACK_IMPORTED_MODULE_8__["disabledStyle"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "sizeStyle", function() { return _styles__WEBPACK_IMPORTED_MODULE_8__["sizeStyle"]; });

/* harmony import */ var _object__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./object */ "./node_modules/grommet/es6/utils/object.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "isObject", function() { return _object__WEBPACK_IMPORTED_MODULE_9__["isObject"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "deepFreeze", function() { return _object__WEBPACK_IMPORTED_MODULE_9__["deepFreeze"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "deepMerge", function() { return _object__WEBPACK_IMPORTED_MODULE_9__["deepMerge"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "removeUndefined", function() { return _object__WEBPACK_IMPORTED_MODULE_9__["removeUndefined"]; });

/* harmony import */ var _responsive__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./responsive */ "./node_modules/grommet/es6/utils/responsive.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getBreakpoint", function() { return _responsive__WEBPACK_IMPORTED_MODULE_10__["getBreakpoint"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getDeviceBreakpoint", function() { return _responsive__WEBPACK_IMPORTED_MODULE_10__["getDeviceBreakpoint"]; });

/* harmony import */ var _router__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./router */ "./node_modules/grommet/es6/utils/router.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ROUTER_PROPS", function() { return _router__WEBPACK_IMPORTED_MODULE_11__["ROUTER_PROPS"]; });

/* harmony import */ var _throttle__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./throttle */ "./node_modules/grommet/es6/utils/throttle.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "throttle", function() { return _throttle__WEBPACK_IMPORTED_MODULE_12__["throttle"]; });

/* harmony import */ var _themeDocUtils__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./themeDocUtils */ "./node_modules/grommet/es6/utils/themeDocUtils.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "themeDocUtils", function() { return _themeDocUtils__WEBPACK_IMPORTED_MODULE_13__["themeDocUtils"]; });
















/***/ }),

/***/ "./node_modules/grommet/es6/utils/mixins.js":
/*!**************************************************!*\
  !*** ./node_modules/grommet/es6/utils/mixins.js ***!
  \**************************************************/
/*! exports provided: parseMetricToNum, fontSize, breakpointStyle, findAllByType, getAvailableAtBadge */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "parseMetricToNum", function() { return parseMetricToNum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fontSize", function() { return fontSize; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "breakpointStyle", function() { return breakpointStyle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "findAllByType", function() { return findAllByType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getAvailableAtBadge", function() { return getAvailableAtBadge; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");

var parseMetricToNum = function parseMetricToNum(fontAsString) {
  if (fontAsString.match(/\s/) && "development" !== 'production') {
    console.warn("Invalid single measurement value: \"" + fontAsString + "\"");
  }

  return parseFloat(fontAsString.match(/\d+(\.\d+)?/), 10);
};
var fontSize = function fontSize(size, lineHeight) {
  return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["font-size:", ";line-height:", ";"], function (props) {
    return parseMetricToNum(size) / parseMetricToNum(props.theme.global.font.size) * 1 + "rem";
  }, function (props) {
    return lineHeight || Math.ceil(parseMetricToNum(size) / parseMetricToNum(props.theme.global.lineHeight)) * (parseMetricToNum(props.theme.global.lineHeight) / parseMetricToNum(size)) + "px";
  });
};
var breakpointStyle = function breakpointStyle(breakpoint, content) {
  return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["@media only screen ", "{", ";}"], breakpoint.value && "and (max-width: " + breakpoint.value + "px)", content);
};
var findAllByType = function findAllByType(component, type) {
  var matches = [];

  if (component.type === type) {
    matches.push(component);
  }

  if (component.children) {
    component.children.forEach(function (child) {
      matches = matches.concat(findAllByType(child, type));
    });
  }

  return matches;
};
var getAvailableAtBadge = function getAvailableAtBadge(availableAt) {
  return [{
    url: "https://storybook.grommet.io/?selectedKind=" + availableAt + "&full=0&addons=0&stories=1&panelRight=0",
    badge: 'https://cdn-images-1.medium.com/fit/c/120/120/1*TD1P0HtIH9zF0UEH28zYtw.png',
    label: 'Storybook'
  }, {
    url: "https://codesandbox.io/s/github/grommet/grommet-sandbox?initialpath=" + availableAt.toLowerCase() + "&module=%2Fsrc%2F" + availableAt + ".js",
    badge: 'https://codesandbox.io/static/img/play-codesandbox.svg',
    label: 'CodeSandbox'
  }];
};

/***/ }),

/***/ "./node_modules/grommet/es6/utils/object.js":
/*!**************************************************!*\
  !*** ./node_modules/grommet/es6/utils/object.js ***!
  \**************************************************/
/*! exports provided: isObject, deepFreeze, deepMerge, removeUndefined */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isObject", function() { return isObject; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "deepFreeze", function() { return deepFreeze; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "deepMerge", function() { return deepMerge; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "removeUndefined", function() { return removeUndefined; });
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var isObject = function isObject(item) {
  return item && typeof item === 'object' && !Array.isArray(item);
};
var deepFreeze = function deepFreeze(obj) {
  Object.keys(obj).forEach(function (key) {
    return key && isObject(obj[key]) && Object.freeze(obj[key]);
  });
  return Object.freeze(obj);
};
var deepMerge = function deepMerge(target) {
  for (var _len = arguments.length, sources = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
    sources[_key - 1] = arguments[_key];
  }

  if (!sources.length) {
    return target;
  } // making sure to not change target (immutable)


  var output = _extends({}, target);

  sources.forEach(function (source) {
    if (isObject(source)) {
      Object.keys(source).forEach(function (key) {
        if (isObject(source[key])) {
          if (!output[key]) {
            output[key] = _extends({}, source[key]);
          } else {
            output[key] = deepMerge(output[key], source[key]);
          }
        } else {
          output[key] = source[key];
        }
      });
    }
  });
  return output;
};
var removeUndefined = function removeUndefined(obj) {
  var result = {};
  Object.keys(obj).forEach(function (key) {
    if (obj[key] !== undefined) {
      result[key] = obj[key];
    }
  });
  return result;
};

/***/ }),

/***/ "./node_modules/grommet/es6/utils/prop-types.js":
/*!******************************************************!*\
  !*** ./node_modules/grommet/es6/utils/prop-types.js ***!
  \******************************************************/
/*! exports provided: a11yTitlePropType, backgroundPropType, colorPropType, marginProp, genericProps, hoverIndicatorPropType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a11yTitlePropType", function() { return a11yTitlePropType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "backgroundPropType", function() { return backgroundPropType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "colorPropType", function() { return colorPropType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "marginProp", function() { return marginProp; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "genericProps", function() { return genericProps; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hoverIndicatorPropType", function() { return hoverIndicatorPropType; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);

var a11yTitlePropType = react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description("Custom label to be used by screen readers. When provided, an aria-label will\n   be added to the element.");
var backgroundPropType = react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
  color: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
  opacity: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['weak', 'medium', 'strong']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool])
})]).description('Background color');
var colorPropType = react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
  dark: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
  light: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string
})]);
var MARGIN_SIZES = ['xxsmall', 'xsmall', 'small', 'medium', 'large', 'xlarge'];
var marginProp = react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['none'].concat(MARGIN_SIZES)), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
  bottom: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(MARGIN_SIZES), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
  horizontal: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(MARGIN_SIZES), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
  left: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(MARGIN_SIZES), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
  right: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(MARGIN_SIZES), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
  top: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(MARGIN_SIZES), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
  vertical: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(MARGIN_SIZES), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string])
}), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).description("The amount of margin around the component. An object can\n    be specified to distinguish horizontal margin, vertical margin, and\n    margin on a particular side.");
var genericProps = {
  a11yTitle: a11yTitlePropType,
  alignSelf: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['start', 'center', 'end', 'stretch']).description("How to align along the cross axis when contained in\n      a Box or along the column axis when contained in a Grid."),
  gridArea: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description("The name of the area to place\n    this inside a parent Grid."),
  margin: marginProp
};
var hoverIndicatorPropType = react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['background']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
  color: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
  dark: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
  image: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
  light: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
  position: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
  opacity: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number, react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['weak', 'medium', 'strong'])]),
  repeat: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['no-repeat', 'repeat']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
  size: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['cover', 'contain']), react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string])
})]);

/***/ }),

/***/ "./node_modules/grommet/es6/utils/responsive.js":
/*!******************************************************!*\
  !*** ./node_modules/grommet/es6/utils/responsive.js ***!
  \******************************************************/
/*! exports provided: getBreakpoint, getDeviceBreakpoint */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getBreakpoint", function() { return getBreakpoint; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getDeviceBreakpoint", function() { return getDeviceBreakpoint; });
var getBreakpoint = function getBreakpoint(windowWidth, theme) {
  var result;
  Object.keys(theme.global.breakpoints).sort(function (a, b) {
    var first = theme.global.breakpoints[a];
    var second = theme.global.breakpoints[b];
    if (!first) return 1;
    if (!second) return -1;
    if (!first.value) return 1;
    if (!second.value) return -1;
    return first.value - second.value;
  }).some(function (name) {
    var breakpoint = theme.global.breakpoints[name];

    if (breakpoint) {
      if (!breakpoint.value || breakpoint.value >= windowWidth) {
        result = name;
        return true;
      }
    }

    return false;
  });
  return result;
};
var getDeviceBreakpoint = function getDeviceBreakpoint(type, theme) {
  return theme.global.deviceBreakpoints[type];
};

/***/ }),

/***/ "./node_modules/grommet/es6/utils/router.js":
/*!**************************************************!*\
  !*** ./node_modules/grommet/es6/utils/router.js ***!
  \**************************************************/
/*! exports provided: ROUTER_PROPS */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ROUTER_PROPS", function() { return ROUTER_PROPS; });
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-desc */ "./node_modules/react-desc/lib/index.js");
/* harmony import */ var react_desc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_desc__WEBPACK_IMPORTED_MODULE_0__);

var ROUTER_PROPS = {
  path: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string.description('Indicates the path to be used for react-router link.').isRequired,
  method: react_desc__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(['push', 'replace']).description("Indicates whether the browser history should be appended to or \n      replaced.").defaultValue('push')
};

/***/ }),

/***/ "./node_modules/grommet/es6/utils/styles.js":
/*!**************************************************!*\
  !*** ./node_modules/grommet/es6/utils/styles.js ***!
  \**************************************************/
/*! exports provided: baseStyle, controlBorderStyle, edgeStyle, focusStyle, inputStyle, overflowStyle, placeholderStyle, evalStyle, genericStyles, disabledStyle, sizeStyle */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "baseStyle", function() { return baseStyle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "controlBorderStyle", function() { return controlBorderStyle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "edgeStyle", function() { return edgeStyle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "focusStyle", function() { return focusStyle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "inputStyle", function() { return inputStyle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "overflowStyle", function() { return overflowStyle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "placeholderStyle", function() { return placeholderStyle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "evalStyle", function() { return evalStyle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "genericStyles", function() { return genericStyles; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "disabledStyle", function() { return disabledStyle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "sizeStyle", function() { return sizeStyle; });
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _colors__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./colors */ "./node_modules/grommet/es6/utils/colors.js");
/* harmony import */ var _mixins__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./mixins */ "./node_modules/grommet/es6/utils/mixins.js");



var baseStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["font-family:", ";font-size:", ";line-height:", ";font-weight:", ";", " box-sizing:border-box;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;"], function (props) {
  return props.theme.global.font.family;
}, function (props) {
  return props.theme.global.font.size;
}, function (props) {
  return props.theme.global.font.height;
}, function (props) {
  return props.theme.global.font.weight;
}, function (props) {
  return !props.plain && props.theme.global.colors.background && Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["background:", ";color:", ";"], Object(_colors__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])('background', props.theme, true), Object(_colors__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])('text', props.theme, true));
});
var controlBorderStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["border:", " solid ", ";border-radius:", ";"], function (props) {
  return props.theme.global.control.border.width;
}, function (props) {
  return Object(_colors__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.global.control.border.color || 'border', props.theme);
}, function (props) {
  return props.theme.global.control.border.radius;
});
var edgeStyle = function edgeStyle(kind, data, responsive, responsiveBreakpoint, theme) {
  var breakpoint = responsiveBreakpoint && theme.global.breakpoints[responsiveBreakpoint];

  if (typeof data === 'string') {
    return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["", ":", ";", ";"], kind, theme.global.edgeSize[data] || data, responsive && breakpoint ? Object(_mixins__WEBPACK_IMPORTED_MODULE_2__["breakpointStyle"])(breakpoint, "\n        " + kind + ": " + (breakpoint.edgeSize[data] || data) + ";\n      ") : '');
  }

  var result = [];

  if (data.horizontal) {
    result.push(Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["", "-left:", ";", "-right:", ";", ";"], kind, theme.global.edgeSize[data.horizontal] || data.horizontal, kind, theme.global.edgeSize[data.horizontal] || data.horizontal, responsive && breakpoint ? Object(_mixins__WEBPACK_IMPORTED_MODULE_2__["breakpointStyle"])(breakpoint, "\n        " + kind + "-left: " + (breakpoint.edgeSize[data.horizontal] || data.horizontal) + ";\n        " + kind + "-right: " + (breakpoint.edgeSize[data.horizontal] || data.horizontal) + ";\n      ") : ''));
  }

  if (data.vertical) {
    result.push(Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["", "-top:", ";", "-bottom:", ";", ";"], kind, theme.global.edgeSize[data.vertical] || data.vertical, kind, theme.global.edgeSize[data.vertical] || data.vertical, responsive && breakpoint ? Object(_mixins__WEBPACK_IMPORTED_MODULE_2__["breakpointStyle"])(breakpoint, "\n        " + kind + "-top: " + (breakpoint.edgeSize[data.vertical] || data.vertical) + ";\n        " + kind + "-bottom: " + (breakpoint.edgeSize[data.vertical] || data.vertical) + ";\n      ") : ''));
  }

  if (data.top) {
    result.push(Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["", "-top:", ";", ";"], kind, theme.global.edgeSize[data.top] || data.top, responsive && breakpoint ? Object(_mixins__WEBPACK_IMPORTED_MODULE_2__["breakpointStyle"])(breakpoint, "\n        " + kind + "-top: " + (breakpoint.edgeSize[data.top] || data.top) + ";\n      ") : ''));
  }

  if (data.bottom) {
    result.push(Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["", "-bottom:", ";", ";"], kind, theme.global.edgeSize[data.bottom] || data.bottom, responsive && breakpoint ? Object(_mixins__WEBPACK_IMPORTED_MODULE_2__["breakpointStyle"])(breakpoint, "\n        " + kind + "-bottom: " + (breakpoint.edgeSize[data.bottom] || data.bottom) + ";\n      ") : ''));
  }

  if (data.left) {
    result.push(Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["", "-left:", ";", ";"], kind, theme.global.edgeSize[data.left] || data.left, responsive && breakpoint ? Object(_mixins__WEBPACK_IMPORTED_MODULE_2__["breakpointStyle"])(breakpoint, "\n        " + kind + "-left: " + (breakpoint.edgeSize[data.left] || data.left) + ";\n      ") : ''));
  }

  if (data.right) {
    result.push(Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["", "-right:", ";", ";"], kind, theme.global.edgeSize[data.right] || data.right, responsive && breakpoint ? Object(_mixins__WEBPACK_IMPORTED_MODULE_2__["breakpointStyle"])(breakpoint, "\n        " + kind + "-right: " + (breakpoint.edgeSize[data.right] || data.right) + ";\n      ") : ''));
  }

  return result;
}; // focus also supports clickable elements inside svg

var focusStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["> circle,> ellipse,> line,> path,> polygon,> polyline,> rect{outline:", " solid 2px;}outline-color:", ";border-color:", ";box-shadow:0 0 2px 2px ", ";::-moz-focus-inner{border:0;}"], function (props) {
  return Object(_colors__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.global.focus.border.color, props.theme);
}, function (props) {
  return Object(_colors__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.global.focus.border.color, props.theme);
}, function (props) {
  return Object(_colors__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.global.focus.border.color, props.theme);
}, function (props) {
  return Object(_colors__WEBPACK_IMPORTED_MODULE_1__["normalizeColor"])(props.theme.global.focus.border.color, props.theme);
});
var inputStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["box-sizing:border-box;font-size:inherit;font-family:inherit;border:none;-webkit-appearance:none;padding:", "px;outline:none;background:transparent;color:inherit;", " margin:0;", " ", "::-webkit-search-decoration{-webkit-appearance:none;}"], function (props) {
  return Object(_mixins__WEBPACK_IMPORTED_MODULE_2__["parseMetricToNum"])(props.theme.global.input.padding) - Object(_mixins__WEBPACK_IMPORTED_MODULE_2__["parseMetricToNum"])(props.theme.global.control.border.width);
}, function (props) {
  return props.theme.global.input.weight && Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["font-weight:", ";"], props.theme.global.input.weight);
}, function (props) {
  return props.focus && (!props.plain || props.focusIndicator) && focusStyle;
}, controlBorderStyle);
var overflowStyle = function overflowStyle(overflowProp) {
  if (typeof overflowProp === 'string') {
    return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["overflow:", ";"], overflowProp);
  }

  return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["", " ", ";"], overflowProp.horizontal && "overflow-x: " + overflowProp.horizontal + ";", overflowProp.vertical && "overflow-y: " + overflowProp.vertical + ";");
};
var placeholderColor = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["color:", ";"], function (props) {
  return props.theme.global.colors.placeholder;
});
var placeholderStyle = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["&::-webkit-input-placeholder{", ";}&::-moz-placeholder{", ";}&:-ms-input-placeholder{", ";}"], placeholderColor, placeholderColor, placeholderColor); // evalStyle() converts a styled-components item into a string

var evalStyle = function evalStyle(arg, theme) {
  if (arg && Array.isArray(arg) && typeof arg[0] === 'function') {
    return arg[0]({
      theme: theme
    });
  }

  return arg;
};
var ALIGN_SELF_MAP = {
  center: 'center',
  end: 'flex-end',
  start: 'flex-start',
  stretch: 'stretch'
};
var genericStyles = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["", " ", " ", ""], function (props) {
  return props.alignSelf && "align-self: " + ALIGN_SELF_MAP[props.alignSelf] + ";";
}, function (props) {
  return props.gridArea && "grid-area: " + props.gridArea + ";";
}, function (props) {
  return props.margin && edgeStyle('margin', props.margin, props.responsive, props.theme.global.edgeSize.responsiveBreakpoint, props.theme);
});
var disabledStyle = function disabledStyle(componentStyle) {
  return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["opacity:", ";cursor:default;"], function (props) {
    return componentStyle || props.theme.global.control.disabled.opacity;
  });
};
var sizeStyle = function sizeStyle(name, value, theme) {
  return Object(styled_components__WEBPACK_IMPORTED_MODULE_0__["css"])(["", ":", ";"], name, theme.global.size[value] || value);
};

/***/ }),

/***/ "./node_modules/grommet/es6/utils/themeDocUtils.js":
/*!*********************************************************!*\
  !*** ./node_modules/grommet/es6/utils/themeDocUtils.js ***!
  \*********************************************************/
/*! exports provided: themeDocUtils */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themeDocUtils", function() { return themeDocUtils; });
var themeDocUtils = {
  // 'The possible breakpoints that could affect border, direction, gap,
  // margin, pad, and round.',
  breakpointStyle: function breakpointStyle(description) {
    return {
      'global.breakpoints': {
        description: description,
        type: 'object',
        defaultValue: "{\n    small: {\n      value: '768px',\n      borderSize: {\n        xsmall: '1px',\n        small: '2px',\n        medium: '4px',\n        large: '6px',\n        xlarge: '12px',\n      },\n      edgeSize: {\n        none: '0px',\n        hair: '1px',\n        xxsmall: '2px',\n        xsmall: '3px',\n        small: '6px',\n        medium: '12px',\n        large: '24px',\n        xlarge: '48px',\n      },\n      size: {\n        xxsmall: '24px',\n        xsmall: '48px',\n        small: '96px',\n        medium: '192px',\n        large: '384px',\n        xlarge: '768px',\n        full: '100%',\n      },\n    },\n    medium: {\n      value: '1536px',\n    },\n    large: {},\n  }"
      }
    };
  },
  disabledStyle: {
    'global.control.disabled.opacity': {
      description: 'The opacity when a component is disabled.',
      type: 'number',
      defaultValue: 0.3
    }
  },
  edgeStyle: function edgeStyle(description) {
    return {
      'global.edgeSize': {
        description: description,
        type: 'object',
        defaultValue: "{\n    edgeSize: {\n      none: '0px',\n      hair: '1px',\n      xxsmall: '3px',\n      xsmall: '6px',\n      small: '12px',\n      medium: '24px',\n      large: '48px',\n      xlarge: '96px',\n      responsiveBreakpoint: 'small',\n    },\n  }"
      }
    };
  },
  focusStyle: {
    'global.focus.border.color': {
      description: 'The color around the component when in focus.',
      type: 'string | { dark: string, light: string }',
      defaultValue: 'focus'
    }
  },
  iconColor: {
    'global.colors.icon': {
      description: 'The color of a given icon.',
      type: 'string | { dark: string, light: string }',
      defaultValue: '{ dark: #f8f8f8, light: #666666 }'
    }
  },
  inputStyle: {
    'global.input.weight': {
      description: 'The font weight of the text entered.',
      type: 'number',
      defaultValue: 600
    },
    'global.input.padding': {
      description: 'The padding of the text.',
      type: 'string',
      defaultValue: '12px'
    }
  },
  placeholderStyle: {
    'global.colors.placeholder': {
      description: 'The placeholder color used for the component.',
      type: 'string',
      defaultValue: '#AAAAAA'
    }
  },
  responsiveBreakpoint: function responsiveBreakpoint(description) {
    return {
      'global.edgeSize.responsiveBreakpoint': {
        description: description,
        type: 'string',
        defaultValue: 'small'
      }
    };
  }
};

/***/ }),

/***/ "./node_modules/grommet/es6/utils/throttle.js":
/*!****************************************************!*\
  !*** ./node_modules/grommet/es6/utils/throttle.js ***!
  \****************************************************/
/*! exports provided: throttle */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "throttle", function() { return throttle; });
var _this = undefined;

// (C) Copyright 2014-2016 Hewlett Packard Enterprise Development LP
var throttle = function throttle(fn, threshhold, scope) {
  if (threshhold === void 0) {
    threshhold = 250;
  }

  if (scope === void 0) {
    scope = _this;
  }

  var last;
  var deferTimer;
  return function () {
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var now = Date.now();

    if (last && now < last + threshhold) {
      clearTimeout(deferTimer);
      deferTimer = setTimeout(function () {
        last = now;
        fn.apply(scope, args);
      }, threshhold);
    } else {
      last = now;
      fn.apply(scope, args);
    }
  };
};

/***/ }),

/***/ "./node_modules/grommet/node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/grommet/node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js ***!
  \*******************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var reactIs = __webpack_require__(/*! react-is */ "./node_modules/react-is/index.js");

/**
 * Copyright 2015, Yahoo! Inc.
 * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.
 */
var REACT_STATICS = {
  childContextTypes: true,
  contextType: true,
  contextTypes: true,
  defaultProps: true,
  displayName: true,
  getDefaultProps: true,
  getDerivedStateFromError: true,
  getDerivedStateFromProps: true,
  mixins: true,
  propTypes: true,
  type: true
};
var KNOWN_STATICS = {
  name: true,
  length: true,
  prototype: true,
  caller: true,
  callee: true,
  arguments: true,
  arity: true
};
var FORWARD_REF_STATICS = {
  '$$typeof': true,
  render: true,
  defaultProps: true,
  displayName: true,
  propTypes: true
};
var MEMO_STATICS = {
  '$$typeof': true,
  compare: true,
  defaultProps: true,
  displayName: true,
  propTypes: true,
  type: true
};
var TYPE_STATICS = {};
TYPE_STATICS[reactIs.ForwardRef] = FORWARD_REF_STATICS;

function getStatics(component) {
  if (reactIs.isMemo(component)) {
    return MEMO_STATICS;
  }

  return TYPE_STATICS[component['$$typeof']] || REACT_STATICS;
}

var defineProperty = Object.defineProperty;
var getOwnPropertyNames = Object.getOwnPropertyNames;
var getOwnPropertySymbols = Object.getOwnPropertySymbols;
var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;
var getPrototypeOf = Object.getPrototypeOf;
var objectPrototype = Object.prototype;
function hoistNonReactStatics(targetComponent, sourceComponent, blacklist) {
  if (typeof sourceComponent !== 'string') {
    // don't hoist over string (html) components
    if (objectPrototype) {
      var inheritedComponent = getPrototypeOf(sourceComponent);

      if (inheritedComponent && inheritedComponent !== objectPrototype) {
        hoistNonReactStatics(targetComponent, inheritedComponent, blacklist);
      }
    }

    var keys = getOwnPropertyNames(sourceComponent);

    if (getOwnPropertySymbols) {
      keys = keys.concat(getOwnPropertySymbols(sourceComponent));
    }

    var targetStatics = getStatics(targetComponent);
    var sourceStatics = getStatics(sourceComponent);

    for (var i = 0; i < keys.length; ++i) {
      var key = keys[i];

      if (!KNOWN_STATICS[key] && !(blacklist && blacklist[key]) && !(sourceStatics && sourceStatics[key]) && !(targetStatics && targetStatics[key])) {
        var descriptor = getOwnPropertyDescriptor(sourceComponent, key);

        try {
          // Avoid failures from read-only properties
          defineProperty(targetComponent, key, descriptor);
        } catch (e) {}
      }
    }
  }

  return targetComponent;
}

module.exports = hoistNonReactStatics;


/***/ }),

/***/ "./node_modules/is-what/dist/index.esm.js":
/*!************************************************!*\
  !*** ./node_modules/is-what/dist/index.esm.js ***!
  \************************************************/
/*! exports provided: getType, isAnyObject, isArray, isBlob, isBoolean, isDate, isEmptyString, isFile, isFullString, isFunction, isNull, isNullOrUndefined, isNumber, isObject, isObjectLike, isPlainObject, isPrimitive, isRegExp, isString, isSymbol, isType, isUndefined */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getType", function() { return getType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isAnyObject", function() { return isAnyObject; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isArray", function() { return isArray; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isBlob", function() { return isBlob; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isBoolean", function() { return isBoolean; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isDate", function() { return isDate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isEmptyString", function() { return isEmptyString; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isFile", function() { return isFile; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isFullString", function() { return isFullString; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isFunction", function() { return isFunction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isNull", function() { return isNull; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isNullOrUndefined", function() { return isNullOrUndefined; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isNumber", function() { return isNumber; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isObject", function() { return isObject; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isObjectLike", function() { return isObjectLike; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isPlainObject", function() { return isPlainObject; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isPrimitive", function() { return isPrimitive; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isRegExp", function() { return isRegExp; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isString", function() { return isString; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isSymbol", function() { return isSymbol; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isType", function() { return isType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isUndefined", function() { return isUndefined; });
/**
 * Returns the object type of the given payload
 *
 * @param {*} payload
 * @returns {string}
 */
function getType(payload) {
    return Object.prototype.toString.call(payload).slice(8, -1);
}
/**
 * Returns whether the payload is undefined
 *
 * @param {*} payload
 * @returns {payload is undefined}
 */
function isUndefined(payload) {
    return getType(payload) === 'Undefined';
}
/**
 * Returns whether the payload is null
 *
 * @param {*} payload
 * @returns {payload is null}
 */
function isNull(payload) {
    return getType(payload) === 'Null';
}
/**
 * Returns whether the payload is a plain JavaScript object (excluding special classes or objects with other prototypes)
 *
 * @param {*} payload
 * @returns {payload is {[key: string]: any}}
 */
function isPlainObject(payload) {
    if (getType(payload) !== 'Object')
        return false;
    return payload.constructor === Object && Object.getPrototypeOf(payload) === Object.prototype;
}
/**
 * Returns whether the payload is a plain JavaScript object (excluding special classes or objects with other prototypes)
 *
 * @param {*} payload
 * @returns {payload is {[key: string]: any}}
 */
function isObject(payload) {
    return isPlainObject(payload);
}
/**
 * Returns whether the payload is an any kind of object (including special classes or objects with different prototypes)
 *
 * @param {*} payload
 * @returns {payload is {[key: string]: any}}
 */
function isAnyObject(payload) {
    return getType(payload) === 'Object';
}
/**
 * Returns whether the payload is an object like a type passed in < >
 *
 * Usage: isObjectLike<{id: any}>(payload) // will make sure it's an object and has an `id` prop.
 *
 * @template T this must be passed in < >
 * @param {*} payload
 * @returns {payload is T}
 */
function isObjectLike(payload) {
    return isAnyObject(payload);
}
/**
 * Returns whether the payload is a function
 *
 * @param {*} payload
 * @returns {payload is Function}
 */
function isFunction(payload) {
    return getType(payload) === 'Function';
}
/**
 * Returns whether the payload is an array
 *
 * @param {*} payload
 * @returns {payload is undefined}
 */
function isArray(payload) {
    return getType(payload) === 'Array';
}
/**
 * Returns whether the payload is a string
 *
 * @param {*} payload
 * @returns {payload is string}
 */
function isString(payload) {
    return getType(payload) === 'String';
}
/**
 * Returns whether the payload is a string, BUT returns false for ''
 *
 * @param {*} payload
 * @returns {payload is string}
 */
function isFullString(payload) {
    return isString(payload) && payload !== '';
}
/**
 * Returns whether the payload is ''
 *
 * @param {*} payload
 * @returns {payload is string}
 */
function isEmptyString(payload) {
    return payload === '';
}
/**
 * Returns whether the payload is a number
 *
 * This will return false for NaN
 *
 * @param {*} payload
 * @returns {payload is number}
 */
function isNumber(payload) {
    return getType(payload) === 'Number' && !isNaN(payload);
}
/**
 * Returns whether the payload is a boolean
 *
 * @param {*} payload
 * @returns {payload is boolean}
 */
function isBoolean(payload) {
    return getType(payload) === 'Boolean';
}
/**
 * Returns whether the payload is a regular expression
 *
 * @param {*} payload
 * @returns {payload is RegExp}
 */
function isRegExp(payload) {
    return getType(payload) === 'RegExp';
}
/**
 * Returns whether the payload is a Symbol
 *
 * @param {*} payload
 * @returns {payload is symbol}
 */
function isSymbol(payload) {
    return getType(payload) === 'Symbol';
}
/**
 * Returns whether the payload is a date, and that the date is Valid
 *
 * @param {*} payload
 * @returns {payload is Date}
 */
function isDate(payload) {
    return getType(payload) === 'Date' && !isNaN(payload);
}
/**
 * Returns whether the payload is a blob
 *
 * @param {*} payload
 * @returns {payload is Blob}
 */
function isBlob(payload) {
    return getType(payload) === 'Blob';
}
/**
 * Returns whether the payload is a file
 *
 * @param {*} payload
 * @returns {payload is File}
 */
function isFile(payload) {
    return getType(payload) === 'File';
}
/**
 * Returns whether the payload is a primitive type (eg. Boolean | Null | Undefined | Number | String | Symbol)
 *
 * @param {*} payload
 * @returns {(payload is boolean | null | undefined | number | string | symbol)}
 */
function isPrimitive(payload) {
    return (isBoolean(payload) ||
        isNull(payload) ||
        isUndefined(payload) ||
        isNumber(payload) ||
        isString(payload) ||
        isSymbol(payload));
}
/**
 * Returns true whether the payload is null or undefined
 *
 * @param {*} payload
 * @returns {(payload is null | undefined)}
 */
function isNullOrUndefined(payload) {
    return isNull(payload) || isUndefined(payload);
}
/**
 * Does a generic check to check that the given payload is of a given type.
 * In cases like Number, it will return true for NaN as NaN is a Number (thanks javascript!);
 * It will, however, differentiate between object and null
 *
 * @template T
 * @param {*} payload
 * @param {T} type
 * @throws {TypeError} Will throw type error if type is an invalid type
 * @returns {payload is T}
 */
function isType(payload, type) {
    if (!(type instanceof Function)) {
        throw new TypeError('Type must be a function');
    }
    if (!type.hasOwnProperty('prototype')) {
        throw new TypeError('Type is not a class');
    }
    // Classes usually have names (as functions usually have names)
    var name = type.name;
    return getType(payload) === name || Boolean(payload && payload.constructor === type);
}




/***/ }),

/***/ "./node_modules/markdown-to-jsx/dist/esm.js":
/*!**************************************************!*\
  !*** ./node_modules/markdown-to-jsx/dist/esm.js ***!
  \**************************************************/
/*! exports provided: compiler, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "compiler", function() { return compiler; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Markdown; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var unquote__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! unquote */ "./node_modules/unquote/index.js");
/* harmony import */ var unquote__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(unquote__WEBPACK_IMPORTED_MODULE_1__);
var _extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},_typeof=typeof Symbol=='function'&&typeof Symbol.iterator=='symbol'?function(a){return typeof a}:function(a){return a&&typeof Symbol=='function'&&a.constructor===Symbol&&a!==Symbol.prototype?'symbol':typeof a};function _objectWithoutProperties(a,b){var c={};for(var d in a)b.indexOf(d)>=0||Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);return c}var ATTRIBUTE_TO_JSX_PROP_MAP={accesskey:'accessKey',allowfullscreen:'allowFullScreen',allowtransparency:'allowTransparency',autocomplete:'autoComplete',autofocus:'autoFocus',autoplay:'autoPlay',cellpadding:'cellPadding',cellspacing:'cellSpacing',charset:'charSet',class:'className',classid:'classId',colspan:'colSpan',contenteditable:'contentEditable',contextmenu:'contextMenu',crossorigin:'crossOrigin',enctype:'encType',for:'htmlFor',formaction:'formAction',formenctype:'formEncType',formmethod:'formMethod',formnovalidate:'formNoValidate',formtarget:'formTarget',frameborder:'frameBorder',hreflang:'hrefLang',inputmode:'inputMode',keyparams:'keyParams',keytype:'keyType',marginheight:'marginHeight',marginwidth:'marginWidth',maxlength:'maxLength',mediagroup:'mediaGroup',minlength:'minLength',novalidate:'noValidate',radiogroup:'radioGroup',readonly:'readOnly',rowspan:'rowSpan',spellcheck:'spellCheck',srcdoc:'srcDoc',srclang:'srcLang',srcset:'srcSet',tabindex:'tabIndex',usemap:'useMap'},namedCodesToUnicode={amp:'&',apos:'\'',gt:'>',lt:'<',nbsp:'\xA0',quot:'\u201C'},DO_NOT_PROCESS_HTML_ELEMENTS=['style','script'],ATTR_EXTRACTOR_R=/([-A-Z0-9_:]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|(?:\{((?:\\.|{[^}]*?}|[^}])*)\})))?/gi,AUTOLINK_MAILTO_CHECK_R=/mailto:/i,BLOCK_END_R=/\n{2,}$/,BLOCKQUOTE_R=/^( *>[^\n]+(\n[^\n]+)*\n*)+\n{2,}/,BLOCKQUOTE_TRIM_LEFT_MULTILINE_R=/^ *> ?/gm,BREAK_LINE_R=/^ {2,}\n/,BREAK_THEMATIC_R=/^(?:( *[-*_]) *){3,}(?:\n *)+\n/,CODE_BLOCK_FENCED_R=/^\s*(`{3,}|~{3,}) *(\S+)? *\n([\s\S]+?)\s*\1 *(?:\n *)+\n?/,CODE_BLOCK_R=/^(?: {4}[^\n]+\n*)+(?:\n *)+\n?/,CODE_INLINE_R=/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,CONSECUTIVE_NEWLINE_R=/^(?:\n *)*\n/,CR_NEWLINE_R=/\r\n?/g,FOOTNOTE_R=/^\[\^(.*)\](:.*)\n/,FOOTNOTE_REFERENCE_R=/^\[\^(.*)\]/,FORMFEED_R=/\f/g,GFM_TASK_R=/^\s*?\[(x|\s)\]/,HEADING_R=/^ *(#{1,6}) *([^\n]+)\n{0,2}/,HEADING_SETEXT_R=/^([^\n]+)\n *(=|-){3,} *(?:\n *)+\n/,HTML_BLOCK_ELEMENT_R=/^ *(?!<[a-z][^ >/]* ?\/>)<([a-z][^ >/]*) ?([^>]*)\/{0}>\n?(\s*(?:<\1[^>]*?>[\s\S]*?<\/\1>|(?!<\1)[\s\S])*?)<\/\1>\n*/i,HTML_CHAR_CODE_R=/&([a-z]+);/g,HTML_COMMENT_R=/^<!--.*?-->/,HTML_CUSTOM_ATTR_R=/^(data|aria|x)-[a-z_][a-z\d_.-]*$/,HTML_SELF_CLOSING_ELEMENT_R=/^ *<([a-z][a-z0-9:]*)(?:\s+((?:<.*?>|[^>])*))?\/?>(?!<\/\1>)(\s*\n)?/i,INTERPOLATION_R=/^\{.*\}$/,LINK_AUTOLINK_BARE_URL_R=/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,LINK_AUTOLINK_MAILTO_R=/^<([^ >]+@[^ >]+)>/,LINK_AUTOLINK_R=/^<([^ >]+:\/[^ >]+)>/,LIST_ITEM_END_R=/ *\n+$/,LIST_LOOKBEHIND_R=/(?:^|\n)( *)$/,CAPTURE_LETTER_AFTER_HYPHEN=/-([a-z])?/gi,NP_TABLE_R=/^(.*\|?.*)\n *(\|? *[-:]+ *\|[-| :]*)\n((?:.*\|.*\n)*)\n?/,PARAGRAPH_R=/^((?:[^\n]|\n(?! *\n))+)(?:\n *)+\n/,REFERENCE_IMAGE_OR_LINK=/^\[([^\]]*)\]:\s*(\S+)\s*("([^"]*)")?/,REFERENCE_IMAGE_R=/^!\[([^\]]*)\] ?\[([^\]]*)\]/,REFERENCE_LINK_R=/^\[([^\]]*)\] ?\[([^\]]*)\]/,SQUARE_BRACKETS_R=/(\[|\])/g,SHOULD_RENDER_AS_BLOCK_R=/(\n|^[-*]\s|^#|^ {2,}|^-{2,}|^>\s)/,TAB_R=/\t/g,TABLE_SEPARATOR_R=/^ *\| */,TABLE_TRIM_PIPES=/(^ *\||\| *$)/g,TABLE_CELL_END_TRIM=/ *$/,TABLE_CENTER_ALIGN=/^ *:-+: *$/,TABLE_LEFT_ALIGN=/^ *:-+ *$/,TABLE_RIGHT_ALIGN=/^ *-+: *$/,TEXT_BOLD_R=/^([*_])\1((?:\[.*?\][([].*?[)\]]|<.*?>(?:.*?<.*?>)?|`.*?`|~+.*?~+|.)*?)\1\1(?!\1)/,TEXT_EMPHASIZED_R=/^([*_])((?:\[.*?\][([].*?[)\]]|<.*?>(?:.*?<.*?>)?|`.*?`|~+.*?~+|.)*?)\1(?!\1)/,TEXT_STRIKETHROUGHED_R=/^~~((?:\[.*?\]|<.*?>(?:.*?<.*?>)?|`.*?`|.)*?)~~/,TEXT_ESCAPED_R=/^\\([^0-9A-Za-z\s])/,TEXT_PLAIN_R=/^[\s\S]+?(?=[^0-9A-Z\s\u00c0-\uffff&;.()'"]|\d+\.|\n\n| {2,}\n|\w+:\S|$)/i,TRIM_NEWLINES_AND_TRAILING_WHITESPACE_R=/(^\n+|\n+$|\s+$)/g,HTML_LEFT_TRIM_AMOUNT_R=/^([ \t]*)/,UNESCAPE_URL_R=/\\([^0-9A-Z\s])/gi,LIST_BULLET='(?:[*+-]|\\d+\\.)',LIST_ITEM_PREFIX='( *)((?:[*+-]|\\d+\\.)) +',LIST_ITEM_PREFIX_R=/^( *)((?:[*+-]|\d+\.)) +/,LIST_ITEM_R=/( *)((?:[*+-]|\d+\.)) +[^\n]*(?:\n(?!\1(?:[*+-]|\d+\.) )[^\n]*)*(\n|$)/gm,LIST_R=/^( *)((?:[*+-]|\d+\.)) [\s\S]+?(?:\n{2,}(?! )(?!\1(?:[*+-]|\d+\.) (?!(?:[*+-]|\d+\.) ))\n*|\s*\n*$)/,LINK_INSIDE='(?:\\[[^\\]]*\\]|[^\\[\\]]|\\](?=[^\\[]*\\]))*',LINK_HREF_AND_TITLE='\\s*<?((?:[^\\s\\\\]|\\\\.)*?)>?(?:\\s+[\'"]([\\s\\S]*?)[\'"])?\\s*',LINK_R=/^\[((?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*)\]\(\s*<?((?:[^\s\\]|\\.)*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*\)/,IMAGE_R=/^!\[((?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*)\]\(\s*<?((?:[^\s\\]|\\.)*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*\)/,BLOCK_SYNTAXES=[BLOCKQUOTE_R,CODE_BLOCK_R,CODE_BLOCK_FENCED_R,HEADING_R,HEADING_SETEXT_R,HTML_BLOCK_ELEMENT_R,HTML_COMMENT_R,HTML_SELF_CLOSING_ELEMENT_R,LIST_ITEM_R,LIST_R,NP_TABLE_R,PARAGRAPH_R];function containsBlockSyntax(a){return BLOCK_SYNTAXES.some(function(b){return b.test(a)})}function slugify(a){return a.replace(/[]/g,'a').replace(/[]/g,'c').replace(/[]/g,'d').replace(/[]/g,'e').replace(/[]/g,'i').replace(/[]/g,'n').replace(/[]/g,'o').replace(/[]/g,'u').replace(/[]/g,'y').replace(/[^a-z0-9- ]/gi,'').replace(/ /gi,'-').toLowerCase()}function parseTableAlignCapture(a){if(TABLE_RIGHT_ALIGN.test(a))return'right';return TABLE_CENTER_ALIGN.test(a)?'center':TABLE_LEFT_ALIGN.test(a)?'left':null}function parseTableRow(a,b,c){var d=c.inTable;c.inTable=!0;var e=b(a.trim(),c);c.inTable=d;var f=[[]];return e.forEach(function(a,b){a.type==='tableSeparator'?b!==0&&b!==e.length-1&&f.push([]):(a.type==='text'&&(e[b+1]==null||e[b+1].type==='tableSeparator')&&(a.content=a.content.replace(TABLE_CELL_END_TRIM,'')),f[f.length-1].push(a))}),f}function parseTableAlign(a){var b=a.replace(TABLE_TRIM_PIPES,'').split('|');return b.map(parseTableAlignCapture)}function parseTableCells(a,b,c){var d=a.trim().split('\n');return d.map(function(a){return parseTableRow(a,b,c)})}function parseTable(a,b,c){c.inline=!0;var d=parseTableRow(a[1],b,c),e=parseTableAlign(a[2],b,c),f=parseTableCells(a[3],b,c);return c.inline=!1,{align:e,cells:f,header:d,type:'table'}}function getTableStyle(a,b){return a.align[b]==null?{}:{textAlign:a.align[b]}}function normalizeAttributeKey(a){var b=a.indexOf('-');return b!==-1&&a.match(HTML_CUSTOM_ATTR_R)===null&&(a=a.replace(CAPTURE_LETTER_AFTER_HYPHEN,function(a,b){return b.toUpperCase()})),a}function attributeValueToJSXPropValue(a,b){return a==='style'?b.split(/;\s?/).reduce(function(a,b){var c=b.slice(0,b.indexOf(':')),d=c.replace(/(-[a-z])/g,function(a){return a[1].toUpperCase()});return a[d]=b.slice(c.length+1).trim(),a},{}):a==='href'?sanitizeUrl(b):(b.match(INTERPOLATION_R)&&(b=b.slice(1,b.length-1)),b==='true'||b!=='false'&&b)}function normalizeWhitespace(a){return a.replace(CR_NEWLINE_R,'\n').replace(FORMFEED_R,'').replace(TAB_R,'    ')}function parserFor(a){function b(d,e){for(var f=[],g='';d;)for(var l=0;l<c.length;){var h=c[l],j=a[h],k=j.match(d,e,g);if(k){var i=k[0];d=d.substring(i.length);var m=j.parse(k,b,e);m.type==null&&(m.type=h),f.push(m),g=i;break}l++}return f}var c=Object.keys(a);return  true&&c.forEach(function(b){var c=a[b].order; false||typeof c=='number'&&isFinite(c)||console.warn('markdown-to-jsx: Invalid order for rule `'+b+'`: '+c)}),c.sort(function(b,c){var d=a[b].order,e=a[c].order;return d===e?b<c?-1:1:d-e}),function(a,c){return b(normalizeWhitespace(a),c)}}function inlineRegex(a){return function(b,c){return c.inline?a.exec(b):null}}function simpleInlineRegex(a){return function(b,c){return c.inline||c.simple?a.exec(b):null}}function blockRegex(a){return function(b,c){return c.inline||c.simple?null:a.exec(b)}}function anyScopeRegex(a){return function(b){return a.exec(b)}}function reactFor(a){return function b(c,d){if(d=d||{},Array.isArray(c)){for(var e=d.key,f=[],g=!1,h=0;h<c.length;h++){d.key=h;var j=b(c[h],d),k=typeof j=='string';k&&g?f[f.length-1]+=j:f.push(j),g=k}return d.key=e,f}return a(c,b,d)}}function sanitizeUrl(a){try{var b=decodeURIComponent(a);if(b.match(/^\s*javascript:/i))return  true&&console.warn('Anchor URL contains an unsafe JavaScript expression, it will not be rendered.',b),null}catch(b){return  true&&console.warn('Anchor URL could not be decoded due to malformed syntax or characters, it will not be rendered.',a),null}return a}function unescapeUrl(a){return a.replace(UNESCAPE_URL_R,'$1')}function parseInline(a,b,c){var d=c.inline||!1,e=c.simple||!1;c.inline=!0,c.simple=!0;var f=a(b,c);return c.inline=d,c.simple=e,f}function parseSimpleInline(a,b,c){var d=c.inline||!1,e=c.simple||!1;c.inline=!1,c.simple=!0;var f=a(b,c);return c.inline=d,c.simple=e,f}function parseBlock(a,b,c){return c.inline=!1,a(b+'\n\n',c)}function parseCaptureInline(a,b,c){return{content:parseInline(b,a[1],c)}}function captureNothing(){return{}}function renderNothing(){return null}function ruleOutput(a){return function(b,c,d){return a[b.type].react(b,c,d)}}function cx(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return b.filter(Boolean).join(' ')}function get(a,b,c){for(var d=a,e=b.split('.');e.length&&(d=d[e[0]],d!==void 0);)e.shift();return d||c}function getTag(a,b){var c=get(b,a);return c?typeof c=='function'||(typeof c=='undefined'?'undefined':_typeof(c))==='object'&&'render'in c?c:get(b,a+'.component',a):a}var PARSE_PRIORITY_MAX=1,PARSE_PRIORITY_HIGH=2,PARSE_PRIORITY_MED=3,PARSE_PRIORITY_LOW=4,PARSE_PRIORITY_MIN=5;function compiler(a,b){function d(a,c){for(var d=get(b.overrides,a+'.props',{}),e=arguments.length,g=Array(e>2?e-2:0),h=2;h<e;h++)g[h-2]=arguments[h];return f.apply(void 0,[getTag(a,b.overrides),_extends({},c,d,{className:cx(c&&c.className,d.className)||void 0})].concat(g))}function c(a){var c=!1;b.forceInline?c=!0:!b.forceBlock&&(c=SHOULD_RENDER_AS_BLOCK_R.test(a)===!1);var e=k(j(c?a:a.replace(TRIM_NEWLINES_AND_TRAILING_WHITESPACE_R,'')+'\n\n',{inline:c})),f=void 0;return e.length>1?f=c?d('span',{key:'outer'},e):d('div',{key:'outer'},e):e.length===1?(f=e[0],typeof f=='string'&&(f=d('span',{key:'outer'},f))):f=d('span',{key:'outer'}),f}function e(a){var b=a.match(ATTR_EXTRACTOR_R);return b?b.reduce(function(a,b,d){var e=b.indexOf('=');if(e!==-1){var f=normalizeAttributeKey(b.slice(0,e)).trim(),g=unquote__WEBPACK_IMPORTED_MODULE_1___default()(b.slice(e+1).trim()),h=ATTRIBUTE_TO_JSX_PROP_MAP[f]||f,i=a[h]=attributeValueToJSXPropValue(f,g);(HTML_BLOCK_ELEMENT_R.test(i)||HTML_SELF_CLOSING_ELEMENT_R.test(i))&&(a[h]=react__WEBPACK_IMPORTED_MODULE_0___default.a.cloneElement(c(i.trim()),{key:d}))}else a[ATTRIBUTE_TO_JSX_PROP_MAP[b]||b]=!0;return a},{}):void 0}b=b||{},b.overrides=b.overrides||{},b.slugify=b.slugify||slugify,b.namedCodesToUnicode=b.namedCodesToUnicode?_extends({},namedCodesToUnicode,b.namedCodesToUnicode):namedCodesToUnicode;var f=b.createElement||react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement;if(true){if(typeof a!='string')throw new Error('markdown-to-jsx: the first argument must be\n                             a string');if(Object.prototype.toString.call(b.overrides)!=='[object Object]')throw new Error('markdown-to-jsx: options.overrides (second argument property) must be\n                             undefined or an object literal with shape:\n                             {\n                                htmltagname: {\n                                    component: string|ReactComponent(optional),\n                                    props: object(optional)\n                                }\n                             }')}var g=[],h={},i={blockQuote:{match:blockRegex(BLOCKQUOTE_R),order:PARSE_PRIORITY_HIGH,parse:function d(a,b,c){return{content:b(a[0].replace(BLOCKQUOTE_TRIM_LEFT_MULTILINE_R,''),c)}},react:function e(a,b,c){return d('blockquote',{key:c.key},b(a.content,c))}},breakLine:{match:anyScopeRegex(BREAK_LINE_R),order:PARSE_PRIORITY_HIGH,parse:captureNothing,react:function e(a,b,c){return d('br',{key:c.key})}},breakThematic:{match:blockRegex(BREAK_THEMATIC_R),order:PARSE_PRIORITY_HIGH,parse:captureNothing,react:function e(a,b,c){return d('hr',{key:c.key})}},codeBlock:{match:blockRegex(CODE_BLOCK_R),order:PARSE_PRIORITY_MAX,parse:function c(a){var b=a[0].replace(/^ {4}/gm,'').replace(/\n+$/,'');return{content:b,lang:void 0}},react:function e(a,b,c){return d('pre',{key:c.key},d('code',{className:a.lang?'lang-'+a.lang:''},a.content))}},codeFenced:{match:blockRegex(CODE_BLOCK_FENCED_R),order:PARSE_PRIORITY_MAX,parse:function b(a){return{content:a[3],lang:a[2]||void 0,type:'codeBlock'}}},codeInline:{match:simpleInlineRegex(CODE_INLINE_R),order:PARSE_PRIORITY_LOW,parse:function b(a){return{content:a[2]}},react:function e(a,b,c){return d('code',{key:c.key},a.content)}},footnote:{match:blockRegex(FOOTNOTE_R),order:PARSE_PRIORITY_MAX,parse:function b(a){return g.push({footnote:a[2],identifier:a[1]}),{}},react:renderNothing},footnoteReference:{match:inlineRegex(FOOTNOTE_REFERENCE_R),order:PARSE_PRIORITY_HIGH,parse:function b(a){return{content:a[1],target:'#'+a[1]}},react:function e(a,b,c){return d('a',{key:c.key,href:sanitizeUrl(a.target)},d('sup',{key:c.key},a.content))}},gfmTask:{match:inlineRegex(GFM_TASK_R),order:PARSE_PRIORITY_HIGH,parse:function b(a){return{completed:a[1].toLowerCase()==='x'}},react:function e(a,b,c){return d('input',{checked:a.completed,key:c.key,readOnly:!0,type:'checkbox'})}},heading:{match:blockRegex(HEADING_R),order:PARSE_PRIORITY_HIGH,parse:function e(a,c,d){return{content:parseInline(c,a[2],d),id:b.slugify(a[2]),level:a[1].length}},react:function f(a,b,c){var e='h'+a.level;return d(e,{id:a.id,key:c.key},b(a.content,c))}},headingSetext:{match:blockRegex(HEADING_SETEXT_R),order:PARSE_PRIORITY_MAX,parse:function d(a,b,c){return{content:parseInline(b,a[1],c),level:a[2]==='='?1:2,type:'heading'}}},htmlBlock:{match:anyScopeRegex(HTML_BLOCK_ELEMENT_R),order:PARSE_PRIORITY_HIGH,parse:function l(a,b,c){var d=a[3].match(HTML_LEFT_TRIM_AMOUNT_R),f=d[1],g=new RegExp('^'+f,'gm'),h=a[3].replace(g,''),i=containsBlockSyntax(h)?parseBlock:parseInline,j=a[1].toLowerCase(),k=DO_NOT_PROCESS_HTML_ELEMENTS.indexOf(j)!==-1;return{attrs:e(a[2]),content:k?a[3]:i(b,h,c),noInnerParse:k,tag:k?j:a[1]}},react:function e(a,b,c){return d(a.tag,_extends({key:c.key},a.attrs),a.noInnerParse?a.content:b(a.content,c))}},htmlComment:{match:anyScopeRegex(HTML_COMMENT_R),order:PARSE_PRIORITY_HIGH,parse:function a(){return{}},react:renderNothing},htmlSelfClosing:{match:anyScopeRegex(HTML_SELF_CLOSING_ELEMENT_R),order:PARSE_PRIORITY_HIGH,parse:function b(a){return{attrs:e(a[2]||''),tag:a[1]}},react:function e(a,b,c){return d(a.tag,_extends({},a.attrs,{key:c.key}))}},image:{match:simpleInlineRegex(IMAGE_R),order:PARSE_PRIORITY_HIGH,parse:function b(a){return{alt:a[1],target:unescapeUrl(a[2]),title:a[3]}},react:function e(a,b,c){return d('img',{key:c.key,alt:a.alt||void 0,title:a.title||void 0,src:sanitizeUrl(a.target)})}},link:{match:inlineRegex(LINK_R,!1),order:PARSE_PRIORITY_LOW,parse:function d(a,b,c){return{content:parseSimpleInline(b,a[1],c),target:unescapeUrl(a[2]),title:a[3]}},react:function e(a,b,c){return d('a',{key:c.key,href:sanitizeUrl(a.target),title:a.title},b(a.content,c))}},linkAngleBraceStyleDetector:{match:inlineRegex(LINK_AUTOLINK_R),order:PARSE_PRIORITY_MAX,parse:function b(a){return{content:[{content:a[1],type:'text'}],target:a[1],type:'link'}}},linkBareUrlDetector:{match:inlineRegex(LINK_AUTOLINK_BARE_URL_R),order:PARSE_PRIORITY_MAX,parse:function b(a){return{content:[{content:a[1],type:'text'}],target:a[1],title:void 0,type:'link'}}},linkMailtoDetector:{match:inlineRegex(LINK_AUTOLINK_MAILTO_R),order:PARSE_PRIORITY_MAX,parse:function d(a){var b=a[1],c=a[1];return AUTOLINK_MAILTO_CHECK_R.test(c)||(c='mailto:'+c),{content:[{content:b.replace('mailto:',''),type:'text'}],target:c,type:'link'}}},list:{match:function f(a,b,c){var d=LIST_LOOKBEHIND_R.exec(c),e=b._list||!b.inline;return d&&e?(a=d[1]+a,LIST_R.exec(a)):null},order:PARSE_PRIORITY_HIGH,parse:function j(a,b,c){var d=a[2],e=d.length>1,f=e?+d:void 0,g=a[0].replace(BLOCK_END_R,'\n').match(LIST_ITEM_R),h=!1,i=g.map(function(a,d){var e=LIST_ITEM_PREFIX_R.exec(a)[0].length,f=new RegExp('^ {1,'+e+'}','gm'),i=a.replace(f,'').replace(LIST_ITEM_PREFIX_R,''),j=d===g.length-1,k=i.indexOf('\n\n')!==-1,l=k||j&&h;h=l;var m=c.inline,n=c._list;c._list=!0;var o;l?(c.inline=!1,o=i.replace(LIST_ITEM_END_R,'\n\n')):(c.inline=!0,o=i.replace(LIST_ITEM_END_R,''));var p=b(o,c);return c.inline=m,c._list=n,p});return{items:i,ordered:e,start:f}},react:function f(a,b,c){var e=a.ordered?'ol':'ul';return d(e,{key:c.key,start:a.start},a.items.map(function(a,e){return d('li',{key:e},b(a,c))}))}},newlineCoalescer:{match:blockRegex(CONSECUTIVE_NEWLINE_R),order:PARSE_PRIORITY_LOW,parse:captureNothing,react:function a(){return'\n'}},paragraph:{match:blockRegex(PARAGRAPH_R),order:PARSE_PRIORITY_LOW,parse:parseCaptureInline,react:function e(a,b,c){return d('p',{key:c.key},b(a.content,c))}},ref:{match:inlineRegex(REFERENCE_IMAGE_OR_LINK),order:PARSE_PRIORITY_MAX,parse:function b(a){return h[a[1]]={target:a[2],title:a[4]},{}},react:renderNothing},refImage:{match:simpleInlineRegex(REFERENCE_IMAGE_R),order:PARSE_PRIORITY_MAX,parse:function b(a){return{alt:a[1]||void 0,ref:a[2]}},react:function e(a,b,c){return d('img',{key:c.key,alt:a.alt,src:sanitizeUrl(h[a.ref].target),title:h[a.ref].title})}},refLink:{match:inlineRegex(REFERENCE_LINK_R),order:PARSE_PRIORITY_MAX,parse:function d(a,b,c){return{content:b(a[1],c),fallbackContent:b(a[0].replace(SQUARE_BRACKETS_R,'\\$1'),c),ref:a[2]}},react:function e(a,b,c){return h[a.ref]?d('a',{key:c.key,href:sanitizeUrl(h[a.ref].target),title:h[a.ref].title},b(a.content,c)):d('span',{key:c.key},b(a.fallbackContent,c))}},table:{match:blockRegex(NP_TABLE_R),order:PARSE_PRIORITY_HIGH,parse:parseTable,react:function f(a,b,e){return d('table',{key:e.key},d('thead',null,d('tr',null,a.header.map(function(c,f){return d('th',{key:f,style:getTableStyle(a,f)},b(c,e))}))),d('tbody',null,a.cells.map(function(c,f){return d('tr',{key:f},c.map(function(f,g){return d('td',{key:g,style:getTableStyle(a,g)},b(f,e))}))})))}},tableSeparator:{match:function c(a,b){return b.inTable?TABLE_SEPARATOR_R.exec(a):null},order:PARSE_PRIORITY_HIGH,parse:function a(){return{type:'tableSeparator'}},react:function a(){return' | '}},text:{match:anyScopeRegex(TEXT_PLAIN_R),order:PARSE_PRIORITY_MIN,parse:function c(a){return{content:a[0].replace(HTML_CHAR_CODE_R,function(a,c){return b.namedCodesToUnicode[c]?b.namedCodesToUnicode[c]:a})}},react:function b(a){return a.content}},textBolded:{match:simpleInlineRegex(TEXT_BOLD_R),order:PARSE_PRIORITY_MED,parse:function d(a,b,c){return{content:b(a[2],c)}},react:function e(a,b,c){return d('strong',{key:c.key},b(a.content,c))}},textEmphasized:{match:simpleInlineRegex(TEXT_EMPHASIZED_R),order:PARSE_PRIORITY_LOW,parse:function d(a,b,c){return{content:b(a[2],c)}},react:function e(a,b,c){return d('em',{key:c.key},b(a.content,c))}},textEscaped:{match:simpleInlineRegex(TEXT_ESCAPED_R),order:PARSE_PRIORITY_HIGH,parse:function b(a){return{content:a[1],type:'text'}}},textStrikethroughed:{match:simpleInlineRegex(TEXT_STRIKETHROUGHED_R),order:PARSE_PRIORITY_LOW,parse:parseCaptureInline,react:function e(a,b,c){return d('del',{key:c.key},b(a.content,c))}}},j=parserFor(i),k=reactFor(ruleOutput(i)),l=c(a);return g.length&&l.props.children.push(d('footer',{key:'footer'},g.map(function(a){return d('div',{id:a.identifier,key:a.identifier},a.identifier,k(j(a.footnote,{inline:!0})))}))),l}function Markdown(a){var b=a.children,c=a.options,d=_objectWithoutProperties(a,['children','options']);return react__WEBPACK_IMPORTED_MODULE_0___default.a.cloneElement(compiler(b,c),d)}if(true){var PropTypes=__webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");Markdown.propTypes={children:PropTypes.string.isRequired,options:PropTypes.object}}

//# sourceMappingURL=esm.js.map

/***/ }),

/***/ "./node_modules/memoize-one/dist/memoize-one.esm.js":
/*!**********************************************************!*\
  !*** ./node_modules/memoize-one/dist/memoize-one.esm.js ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
function areInputsEqual(newInputs, lastInputs) {
    if (newInputs.length !== lastInputs.length) {
        return false;
    }
    for (var i = 0; i < newInputs.length; i++) {
        if (newInputs[i] !== lastInputs[i]) {
            return false;
        }
    }
    return true;
}

function memoizeOne(resultFn, isEqual) {
    if (isEqual === void 0) { isEqual = areInputsEqual; }
    var lastThis;
    var lastArgs = [];
    var lastResult;
    var calledOnce = false;
    function memoized() {
        var newArgs = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            newArgs[_i] = arguments[_i];
        }
        if (calledOnce && lastThis === this && isEqual(newArgs, lastArgs)) {
            return lastResult;
        }
        lastResult = resultFn.apply(this, newArgs);
        calledOnce = true;
        lastThis = this;
        lastArgs = newArgs;
        return lastResult;
    }
    return memoized;
}

/* harmony default export */ __webpack_exports__["default"] = (memoizeOne);


/***/ }),

/***/ "./node_modules/merge-anything/dist/index.esm.js":
/*!*******************************************************!*\
  !*** ./node_modules/merge-anything/dist/index.esm.js ***!
  \*******************************************************/
/*! exports provided: default, concatArrays, merge */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "concatArrays", function() { return concatArrays; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "merge", function() { return merge; });
/* harmony import */ var is_what__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! is-what */ "./node_modules/is-what/dist/index.esm.js");


/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */

function __spreadArrays() {
    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
    for (var r = Array(s), k = 0, i = 0; i < il; i++)
        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
            r[k] = a[j];
    return r;
}

function assignProp(carry, key, newVal, originalObject) {
    var propType = originalObject.propertyIsEnumerable(key)
        ? 'enumerable'
        : 'nonenumerable';
    if (propType === 'enumerable')
        carry[key] = newVal;
    if (propType === 'nonenumerable') {
        Object.defineProperty(carry, key, {
            value: newVal,
            enumerable: false,
            writable: true,
            configurable: true
        });
    }
}
function mergeRecursively(origin, newComer, extensions) {
    // work directly on newComer if its not an object
    if (!Object(is_what__WEBPACK_IMPORTED_MODULE_0__["isPlainObject"])(newComer)) {
        // extend merge rules
        if (extensions && Object(is_what__WEBPACK_IMPORTED_MODULE_0__["isArray"])(extensions)) {
            extensions.forEach(function (extend) {
                newComer = extend(origin, newComer);
            });
        }
        return newComer;
    }
    // define newObject to merge all values upon
    var newObject = {};
    if (Object(is_what__WEBPACK_IMPORTED_MODULE_0__["isPlainObject"])(origin)) {
        var props_1 = Object.getOwnPropertyNames(origin);
        var symbols_1 = Object.getOwnPropertySymbols(origin);
        newObject = __spreadArrays(props_1, symbols_1).reduce(function (carry, key) {
            // @ts-ignore
            var targetVal = origin[key];
            if ((!Object(is_what__WEBPACK_IMPORTED_MODULE_0__["isSymbol"])(key) && !Object.getOwnPropertyNames(newComer).includes(key)) ||
                (Object(is_what__WEBPACK_IMPORTED_MODULE_0__["isSymbol"])(key) && !Object.getOwnPropertySymbols(newComer).includes(key))) {
                assignProp(carry, key, targetVal, origin);
            }
            return carry;
        }, {});
    }
    var props = Object.getOwnPropertyNames(newComer);
    var symbols = Object.getOwnPropertySymbols(newComer);
    var result = __spreadArrays(props, symbols).reduce(function (carry, key) {
        // re-define the origin and newComer as targetVal and newVal
        var newVal = newComer[key];
        var targetVal = (Object(is_what__WEBPACK_IMPORTED_MODULE_0__["isPlainObject"])(origin))
            // @ts-ignore
            ? origin[key]
            : undefined;
        // extend merge rules
        if (extensions && Object(is_what__WEBPACK_IMPORTED_MODULE_0__["isArray"])(extensions)) {
            extensions.forEach(function (extend) {
                newVal = extend(targetVal, newVal);
            });
        }
        // When newVal is an object do the merge recursively
        if (targetVal !== undefined && Object(is_what__WEBPACK_IMPORTED_MODULE_0__["isPlainObject"])(newVal)) {
            newVal = mergeRecursively(targetVal, newVal, extensions);
        }
        assignProp(carry, key, newVal, newComer);
        return carry;
    }, newObject);
    return result;
}
/**
 * Merge anything recursively.
 * Objects get merged, special objects (classes etc.) are re-assigned "as is".
 * Basic types overwrite objects or other basic types.
 *
 * @param {(IConfig | any)} origin
 * @param {...any[]} newComers
 * @returns the result
 */
function merge(origin) {
    var newComers = [];
    for (var _i = 1; _i < arguments.length; _i++) {
        newComers[_i - 1] = arguments[_i];
    }
    var extensions = null;
    var base = origin;
    if (Object(is_what__WEBPACK_IMPORTED_MODULE_0__["isPlainObject"])(origin) && origin.extensions && Object.keys(origin).length === 1) {
        base = {};
        extensions = origin.extensions;
    }
    return newComers.reduce(function (result, newComer) {
        return mergeRecursively(result, newComer, extensions);
    }, base);
}

function concatArrays(originVal, newVal) {
    if (Object(is_what__WEBPACK_IMPORTED_MODULE_0__["isArray"])(originVal) && Object(is_what__WEBPACK_IMPORTED_MODULE_0__["isArray"])(newVal)) {
        // concat logic
        return originVal.concat(newVal);
    }
    return newVal; // always return newVal as fallback!!
}

/* harmony default export */ __webpack_exports__["default"] = (merge);



/***/ }),

/***/ "./node_modules/polished/dist/polished.es.js":
/*!***************************************************!*\
  !*** ./node_modules/polished/dist/polished.es.js ***!
  \***************************************************/
/*! exports provided: adjustHue, animation, backgroundImages, backgrounds, between, border, borderColor, borderRadius, borderStyle, borderWidth, buttons, clearFix, complement, cover, darken, desaturate, directionalProperty, ellipsis, em, fluidRange, fontFace, getContrast, getLuminance, getValueAndUnit, grayscale, hiDPI, hideText, hideVisually, hsl, hslToColorString, hsla, invert, lighten, linearGradient, margin, math, meetsContrastGuidelines, mix, modularScale, normalize, opacify, padding, parseToHsl, parseToRgb, position, radialGradient, readableColor, rem, retinaImage, rgb, rgbToColorString, rgba, saturate, setHue, setLightness, setSaturation, shade, size, stripUnit, textInputs, timingFunctions, tint, toColorString, transitions, transparentize, triangle, wordWrap */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "adjustHue", function() { return curriedAdjustHue; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "animation", function() { return animation; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "backgroundImages", function() { return backgroundImages; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "backgrounds", function() { return backgrounds; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "between", function() { return between; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "border", function() { return border; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "borderColor", function() { return borderColor; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "borderRadius", function() { return borderRadius; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "borderStyle", function() { return borderStyle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "borderWidth", function() { return borderWidth; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "buttons", function() { return buttons; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "clearFix", function() { return clearFix; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "complement", function() { return complement; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "cover", function() { return cover; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "darken", function() { return curriedDarken; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "desaturate", function() { return curriedDesaturate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "directionalProperty", function() { return directionalProperty; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ellipsis", function() { return ellipsis; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "em", function() { return em; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fluidRange", function() { return fluidRange; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fontFace", function() { return fontFace; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getContrast", function() { return getContrast; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getLuminance", function() { return getLuminance; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getValueAndUnit", function() { return getValueAndUnit; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "grayscale", function() { return grayscale; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hiDPI", function() { return hiDPI; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hideText", function() { return hideText; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hideVisually", function() { return hideVisually; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hsl", function() { return hsl; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hslToColorString", function() { return hslToColorString; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hsla", function() { return hsla; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "invert", function() { return invert; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "lighten", function() { return curriedLighten; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "linearGradient", function() { return linearGradient; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "margin", function() { return margin; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "math", function() { return math; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "meetsContrastGuidelines", function() { return meetsContrastGuidelines; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "mix", function() { return curriedMix; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "modularScale", function() { return modularScale; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "normalize", function() { return normalize; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "opacify", function() { return curriedOpacify; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "padding", function() { return padding; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "parseToHsl", function() { return parseToHsl; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "parseToRgb", function() { return parseToRgb; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "position", function() { return position; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "radialGradient", function() { return radialGradient; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "readableColor", function() { return readableColor; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "rem", function() { return rem; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "retinaImage", function() { return retinaImage; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "rgb", function() { return rgb; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "rgbToColorString", function() { return rgbToColorString; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "rgba", function() { return rgba; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "saturate", function() { return curriedSaturate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setHue", function() { return curriedSetHue; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setLightness", function() { return curriedSetLightness; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setSaturation", function() { return curriedSetSaturation; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "shade", function() { return curriedShade; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "size", function() { return size; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "stripUnit", function() { return stripUnit; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "textInputs", function() { return textInputs; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "timingFunctions", function() { return timingFunctions; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "tint", function() { return curriedTint; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "toColorString", function() { return toColorString; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "transitions", function() { return transitions; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "transparentize", function() { return curriedTransparentize; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "triangle", function() { return triangle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "wordWrap", function() { return wordWrap; });
/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/extends */ "./node_modules/polished/node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var _babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/esm/assertThisInitialized */ "./node_modules/polished/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/esm/inheritsLoose */ "./node_modules/polished/node_modules/@babel/runtime/helpers/esm/inheritsLoose.js");
/* harmony import */ var _babel_runtime_helpers_esm_wrapNativeSuper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/esm/wrapNativeSuper */ "./node_modules/polished/node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js");
/* harmony import */ var _babel_runtime_helpers_esm_taggedTemplateLiteralLoose__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/esm/taggedTemplateLiteralLoose */ "./node_modules/polished/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteralLoose.js");






function last() {
  var _ref;

  return _ref = arguments.length - 1, _ref < 0 || arguments.length <= _ref ? undefined : arguments[_ref];
}

function negation(a) {
  return -a;
}

function addition(a, b) {
  return a + b;
}

function subtraction(a, b) {
  return a - b;
}

function multiplication(a, b) {
  return a * b;
}

function division(a, b) {
  return a / b;
}

function factorial(a) {
  if (a % 1 || !(+a >= 0)) return NaN;
  if (a > 170) return Infinity;else if (a === 0) return 1;else {
    return a * factorial(a - 1);
  }
}

function power(a, b) {
  return Math.pow(a, b);
}

function sqrt(a) {
  return Math.sqrt(a);
}

function max() {
  return Math.max.apply(Math, arguments);
}

function min() {
  return Math.min.apply(Math, arguments);
}

function comma() {
  return Array.of.apply(Array, arguments);
}

var defaultMathSymbols = {
  symbols: {
    '!': {
      postfix: {
        symbol: '!',
        f: factorial,
        notation: 'postfix',
        precedence: 6,
        rightToLeft: 0,
        argCount: 1
      },
      symbol: '!',
      regSymbol: '!'
    },
    '^': {
      infix: {
        symbol: '^',
        f: power,
        notation: 'infix',
        precedence: 5,
        rightToLeft: 1,
        argCount: 2
      },
      symbol: '^',
      regSymbol: '\\^'
    },
    '*': {
      infix: {
        symbol: '*',
        f: multiplication,
        notation: 'infix',
        precedence: 4,
        rightToLeft: 0,
        argCount: 2
      },
      symbol: '*',
      regSymbol: '\\*'
    },
    '/': {
      infix: {
        symbol: '/',
        f: division,
        notation: 'infix',
        precedence: 4,
        rightToLeft: 0,
        argCount: 2
      },
      symbol: '/',
      regSymbol: '/'
    },
    '+': {
      infix: {
        symbol: '+',
        f: addition,
        notation: 'infix',
        precedence: 2,
        rightToLeft: 0,
        argCount: 2
      },
      prefix: {
        symbol: '+',
        f: last,
        notation: 'prefix',
        precedence: 3,
        rightToLeft: 0,
        argCount: 1
      },
      symbol: '+',
      regSymbol: '\\+'
    },
    '-': {
      infix: {
        symbol: '-',
        f: subtraction,
        notation: 'infix',
        precedence: 2,
        rightToLeft: 0,
        argCount: 2
      },
      prefix: {
        symbol: '-',
        f: negation,
        notation: 'prefix',
        precedence: 3,
        rightToLeft: 0,
        argCount: 1
      },
      symbol: '-',
      regSymbol: '-'
    },
    ',': {
      infix: {
        symbol: ',',
        f: comma,
        notation: 'infix',
        precedence: 1,
        rightToLeft: 0,
        argCount: 2
      },
      symbol: ',',
      regSymbol: ','
    },
    '(': {
      prefix: {
        symbol: '(',
        f: last,
        notation: 'prefix',
        precedence: 0,
        rightToLeft: 0,
        argCount: 1
      },
      symbol: '(',
      regSymbol: '\\('
    },
    ')': {
      postfix: {
        symbol: ')',
        f: undefined,
        notation: 'postfix',
        precedence: 0,
        rightToLeft: 0,
        argCount: 1
      },
      symbol: ')',
      regSymbol: '\\)'
    },
    min: {
      func: {
        symbol: 'min',
        f: min,
        notation: 'func',
        precedence: 0,
        rightToLeft: 0,
        argCount: 1
      },
      symbol: 'min',
      regSymbol: 'min\\b'
    },
    max: {
      func: {
        symbol: 'max',
        f: max,
        notation: 'func',
        precedence: 0,
        rightToLeft: 0,
        argCount: 1
      },
      symbol: 'max',
      regSymbol: 'max\\b'
    },
    sqrt: {
      func: {
        symbol: 'sqrt',
        f: sqrt,
        notation: 'func',
        precedence: 0,
        rightToLeft: 0,
        argCount: 1
      },
      symbol: 'sqrt',
      regSymbol: 'sqrt\\b'
    }
  }
};

// based on https://github.com/styled-components/styled-components/blob/fcf6f3804c57a14dd7984dfab7bc06ee2edca044/src/utils/error.js

/**
 * Parse errors.md and turn it into a simple hash of code: message
 * @private
 */
var ERRORS = {
  "1": "Passed invalid arguments to hsl, please pass multiple numbers e.g. hsl(360, 0.75, 0.4) or an object e.g. rgb({ hue: 255, saturation: 0.4, lightness: 0.75 }).\n\n",
  "2": "Passed invalid arguments to hsla, please pass multiple numbers e.g. hsla(360, 0.75, 0.4, 0.7) or an object e.g. rgb({ hue: 255, saturation: 0.4, lightness: 0.75, alpha: 0.7 }).\n\n",
  "3": "Passed an incorrect argument to a color function, please pass a string representation of a color.\n\n",
  "4": "Couldn't generate valid rgb string from %s, it returned %s.\n\n",
  "5": "Couldn't parse the color string. Please provide the color as a string in hex, rgb, rgba, hsl or hsla notation.\n\n",
  "6": "Passed invalid arguments to rgb, please pass multiple numbers e.g. rgb(255, 205, 100) or an object e.g. rgb({ red: 255, green: 205, blue: 100 }).\n\n",
  "7": "Passed invalid arguments to rgba, please pass multiple numbers e.g. rgb(255, 205, 100, 0.75) or an object e.g. rgb({ red: 255, green: 205, blue: 100, alpha: 0.75 }).\n\n",
  "8": "Passed invalid argument to toColorString, please pass a RgbColor, RgbaColor, HslColor or HslaColor object.\n\n",
  "9": "Please provide a number of steps to the modularScale helper.\n\n",
  "10": "Please pass a number or one of the predefined scales to the modularScale helper as the ratio.\n\n",
  "11": "Invalid value passed as base to modularScale, expected number or em string but got \"%s\"\n\n",
  "12": "Expected a string ending in \"px\" or a number passed as the first argument to %s(), got \"%s\" instead.\n\n",
  "13": "Expected a string ending in \"px\" or a number passed as the second argument to %s(), got \"%s\" instead.\n\n",
  "14": "Passed invalid pixel value (\"%s\") to %s(), please pass a value like \"12px\" or 12.\n\n",
  "15": "Passed invalid base value (\"%s\") to %s(), please pass a value like \"12px\" or 12.\n\n",
  "16": "You must provide a template to this method.\n\n",
  "17": "You passed an unsupported selector state to this method.\n\n",
  "18": "minScreen and maxScreen must be provided as stringified numbers with the same units.\n\n",
  "19": "fromSize and toSize must be provided as stringified numbers with the same units.\n\n",
  "20": "expects either an array of objects or a single object with the properties prop, fromSize, and toSize.\n\n",
  "21": "expects the objects in the first argument array to have the properties `prop`, `fromSize`, and `toSize`.\n\n",
  "22": "expects the first argument object to have the properties `prop`, `fromSize`, and `toSize`.\n\n",
  "23": "fontFace expects a name of a font-family.\n\n",
  "24": "fontFace expects either the path to the font file(s) or a name of a local copy.\n\n",
  "25": "fontFace expects localFonts to be an array.\n\n",
  "26": "fontFace expects fileFormats to be an array.\n\n",
  "27": "radialGradient requries at least 2 color-stops to properly render.\n\n",
  "28": "Please supply a filename to retinaImage() as the first argument.\n\n",
  "29": "Passed invalid argument to triangle, please pass correct pointingDirection e.g. 'right'.\n\n",
  "30": "Passed an invalid value to `height` or `width`. Please provide a pixel based unit.\n\n",
  "31": "The animation shorthand only takes 8 arguments. See the specification for more information: http://mdn.io/animation\n\n",
  "32": "To pass multiple animations please supply them in arrays, e.g. animation(['rotate', '2s'], ['move', '1s'])\nTo pass a single animation please supply them in simple values, e.g. animation('rotate', '2s')\n\n",
  "33": "The animation shorthand arrays can only have 8 elements. See the specification for more information: http://mdn.io/animation\n\n",
  "34": "borderRadius expects a radius value as a string or number as the second argument.\n\n",
  "35": "borderRadius expects one of \"top\", \"bottom\", \"left\" or \"right\" as the first argument.\n\n",
  "36": "Property must be a string value.\n\n",
  "37": "Syntax Error at %s.\n\n",
  "38": "Formula contains a function that needs parentheses at %s.\n\n",
  "39": "Formula is missing closing parenthesis at %s.\n\n",
  "40": "Formula has too many closing parentheses at %s.\n\n",
  "41": "All values in a formula must have the same unit or be unitless.\n\n",
  "42": "Please provide a number of steps to the modularScale helper.\n\n",
  "43": "Please pass a number or one of the predefined scales to the modularScale helper as the ratio.\n\n",
  "44": "Invalid value passed as base to modularScale, expected number or em/rem string but got %s.\n\n",
  "45": "Passed invalid argument to hslToColorString, please pass a HslColor or HslaColor object.\n\n",
  "46": "Passed invalid argument to rgbToColorString, please pass a RgbColor or RgbaColor object.\n\n",
  "47": "minScreen and maxScreen must be provided as stringified numbers with the same units.\n\n",
  "48": "fromSize and toSize must be provided as stringified numbers with the same units.\n\n",
  "49": "Expects either an array of objects or a single object with the properties prop, fromSize, and toSize.\n\n",
  "50": "Expects the objects in the first argument array to have the properties prop, fromSize, and toSize.\n\n",
  "51": "Expects the first argument object to have the properties prop, fromSize, and toSize.\n\n",
  "52": "fontFace expects either the path to the font file(s) or a name of a local copy.\n\n",
  "53": "fontFace expects localFonts to be an array.\n\n",
  "54": "fontFace expects fileFormats to be an array.\n\n",
  "55": "fontFace expects a name of a font-family.\n\n",
  "56": "linearGradient requries at least 2 color-stops to properly render.\n\n",
  "57": "radialGradient requries at least 2 color-stops to properly render.\n\n",
  "58": "Please supply a filename to retinaImage() as the first argument.\n\n",
  "59": "Passed invalid argument to triangle, please pass correct pointingDirection e.g. 'right'.\n\n",
  "60": "Passed an invalid value to `height` or `width`. Please provide a pixel based unit.\n\n",
  "61": "Property must be a string value.\n\n",
  "62": "borderRadius expects a radius value as a string or number as the second argument.\n\n",
  "63": "borderRadius expects one of \"top\", \"bottom\", \"left\" or \"right\" as the first argument.\n\n",
  "64": "The animation shorthand only takes 8 arguments. See the specification for more information: http://mdn.io/animation.\n\n",
  "65": "To pass multiple animations please supply them in arrays, e.g. animation(['rotate', '2s'], ['move', '1s'])\\nTo pass a single animation please supply them in simple values, e.g. animation('rotate', '2s').\n\n",
  "66": "The animation shorthand arrays can only have 8 elements. See the specification for more information: http://mdn.io/animation.\n\n",
  "67": "You must provide a template to this method.\n\n",
  "68": "You passed an unsupported selector state to this method.\n\n",
  "69": "Expected a string ending in \"px\" or a number passed as the first argument to %s(), got %s instead.\n\n",
  "70": "Expected a string ending in \"px\" or a number passed as the second argument to %s(), got %s instead.\n\n",
  "71": "Passed invalid pixel value %s to %s(), please pass a value like \"12px\" or 12.\n\n",
  "72": "Passed invalid base value %s to %s(), please pass a value like \"12px\" or 12.\n"
};
/**
 * super basic version of sprintf
 * @private
 */

function format() {
  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }

  var a = args[0];
  var b = [];
  var c;

  for (c = 1; c < args.length; c += 1) {
    b.push(args[c]);
  }

  b.forEach(function (d) {
    a = a.replace(/%[a-z]/, d);
  });
  return a;
}
/**
 * Create an error file out of errors.md for development and a simple web link to the full errors
 * in production mode.
 * @private
 */


var PolishedError =
/*#__PURE__*/
function (_Error) {
  Object(_babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_2__["default"])(PolishedError, _Error);

  function PolishedError(code) {
    var _this;

    if (false) {} else {
      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
        args[_key2 - 1] = arguments[_key2];
      }

      _this = _Error.call(this, format.apply(void 0, [ERRORS[code]].concat(args))) || this;
    }

    return Object(_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_1__["default"])(_this);
  }

  return PolishedError;
}(
/*#__PURE__*/
Object(_babel_runtime_helpers_esm_wrapNativeSuper__WEBPACK_IMPORTED_MODULE_3__["default"])(Error));

var unitRegExp = /((?!\w)a|na|hc|mc|dg|me[r]?|xe|ni(?![a-zA-Z])|mm|cp|tp|xp|q(?!s)|hv|xamv|nimv|wv|sm|s(?!\D|$)|ged|darg?|nrut)/g; // Merges additional math functionality into the defaults.

function mergeSymbolMaps(additionalSymbols) {
  var symbolMap = {};
  symbolMap.symbols = additionalSymbols ? Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, defaultMathSymbols.symbols, {}, additionalSymbols.symbols) : Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, defaultMathSymbols.symbols);
  return symbolMap;
}

function exec(operators, values) {
  var _ref;

  var op = operators.pop();
  values.push(op.f.apply(op, (_ref = []).concat.apply(_ref, values.splice(-op.argCount))));
  return op.precedence;
}

function calculate(expression, additionalSymbols) {
  var symbolMap = mergeSymbolMaps(additionalSymbols);
  var match;
  var operators = [symbolMap.symbols['('].prefix];
  var values = [];
  var pattern = new RegExp( // Pattern for numbers
  "\\d+(?:\\.\\d+)?|" + // ...and patterns for individual operators/function names
  Object.keys(symbolMap.symbols).map(function (key) {
    return symbolMap.symbols[key];
  }) // longer symbols should be listed first
  // $FlowFixMe
  .sort(function (a, b) {
    return b.symbol.length - a.symbol.length;
  }) // $FlowFixMe
  .map(function (val) {
    return val.regSymbol;
  }).join('|') + "|(\\S)", 'g');
  pattern.lastIndex = 0; // Reset regular expression object

  var afterValue = false;

  do {
    match = pattern.exec(expression);

    var _ref2 = match || [')', undefined],
        token = _ref2[0],
        bad = _ref2[1];

    var notNumber = symbolMap.symbols[token];
    var notNewValue = notNumber && !notNumber.prefix && !notNumber.func;
    var notAfterValue = !notNumber || !notNumber.postfix && !notNumber.infix; // Check for syntax errors:

    if (bad || (afterValue ? notAfterValue : notNewValue)) {
      throw new PolishedError(37, match ? match.index : expression.length, expression);
    }

    if (afterValue) {
      // We either have an infix or postfix operator (they should be mutually exclusive)
      var curr = notNumber.postfix || notNumber.infix;

      do {
        var prev = operators[operators.length - 1];
        if ((curr.precedence - prev.precedence || prev.rightToLeft) > 0) break; // Apply previous operator, since it has precedence over current one
      } while (exec(operators, values)); // Exit loop after executing an opening parenthesis or function


      afterValue = curr.notation === 'postfix';

      if (curr.symbol !== ')') {
        operators.push(curr); // Postfix always has precedence over any operator that follows after it

        if (afterValue) exec(operators, values);
      }
    } else if (notNumber) {
      // prefix operator or function
      operators.push(notNumber.prefix || notNumber.func);

      if (notNumber.func) {
        // Require an opening parenthesis
        match = pattern.exec(expression);

        if (!match || match[0] !== '(') {
          throw new PolishedError(38, match ? match.index : expression.length, expression);
        }
      }
    } else {
      // number
      values.push(+token);
      afterValue = true;
    }
  } while (match && operators.length);

  if (operators.length) {
    throw new PolishedError(39, match ? match.index : expression.length, expression);
  } else if (match) {
    throw new PolishedError(40, match ? match.index : expression.length, expression);
  } else {
    return values.pop();
  }
}

function reverseString(str) {
  return str.split('').reverse().join('');
}
/**
 * Helper for doing math with CSS Units. Accepts a formula as a string. All values in the formula must have the same unit (or be unitless). Supports complex formulas utliziing addition, subtraction, multiplication, division, square root, powers, factorial, min, max, as well as parentheses for order of operation.
 *
 *In cases where you need to do calculations with mixed units where one unit is a [relative length unit](https://developer.mozilla.org/en-US/docs/Web/CSS/length#Relative_length_units), you will want to use [CSS Calc](https://developer.mozilla.org/en-US/docs/Web/CSS/calc).
 *
 * *warning* While we've done everything possible to ensure math safely evalutes formulas expressed as strings, you should always use extreme caution when passing `math` user provided values.
 * @example
 * // Styles as object usage
 * const styles = {
 *   fontSize: math('12rem + 8rem'),
 *   fontSize: math('(12px + 2px) * 3'),
 *   fontSize: math('3px^2 + sqrt(4)'),
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   fontSize: ${math('12rem + 8rem')};
 *   fontSize: ${math('(12px + 2px) * 3')};
 *   fontSize: ${math('3px^2 + sqrt(4)')};
 * `
 *
 * // CSS as JS Output
 *
 * div: {
 *   fontSize: '20rem',
 *   fontSize: '42px',
 *   fontSize: '11px',
 * }
 */


function math(formula, additionalSymbols) {
  var reversedFormula = reverseString(formula);
  var formulaMatch = reversedFormula.match(unitRegExp); // Check that all units are the same

  if (formulaMatch && !formulaMatch.every(function (unit) {
    return unit === formulaMatch[0];
  })) {
    throw new PolishedError(41);
  }

  var cleanFormula = reverseString(reversedFormula.replace(unitRegExp, ''));
  return "" + calculate(cleanFormula, additionalSymbols) + (formulaMatch ? reverseString(formulaMatch[0]) : '');
}

// @private
function capitalizeString(string) {
  return string.charAt(0).toUpperCase() + string.slice(1);
}

var positionMap = ['Top', 'Right', 'Bottom', 'Left'];

function generateProperty(property, position) {
  if (!property) return position.toLowerCase();
  var splitProperty = property.split('-');

  if (splitProperty.length > 1) {
    splitProperty.splice(1, 0, position);
    return splitProperty.reduce(function (acc, val) {
      return "" + acc + capitalizeString(val);
    });
  }

  var joinedProperty = property.replace(/([a-z])([A-Z])/g, "$1" + position + "$2");
  return property === joinedProperty ? "" + property + position : joinedProperty;
}

function generateStyles(property, valuesWithDefaults) {
  var styles = {};

  for (var i = 0; i < valuesWithDefaults.length; i += 1) {
    if (valuesWithDefaults[i] || valuesWithDefaults[i] === 0) {
      styles[generateProperty(property, positionMap[i])] = valuesWithDefaults[i];
    }
  }

  return styles;
}
/**
 * Enables shorthand for direction-based properties. It accepts a property (hyphenated or camelCased) and up to four values that map to top, right, bottom, and left, respectively. You can optionally pass an empty string to get only the directional values as properties. You can also optionally pass a null argument for a directional value to ignore it.
 * @example
 * // Styles as object usage
 * const styles = {
 *   ...directionalProperty('padding', '12px', '24px', '36px', '48px')
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   ${directionalProperty('padding', '12px', '24px', '36px', '48px')}
 * `
 *
 * // CSS as JS Output
 *
 * div {
 *   'paddingTop': '12px',
 *   'paddingRight': '24px',
 *   'paddingBottom': '36px',
 *   'paddingLeft': '48px'
 * }
 */


function directionalProperty(property) {
  for (var _len = arguments.length, values = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
    values[_key - 1] = arguments[_key];
  }

  //  prettier-ignore
  var firstValue = values[0],
      _values$ = values[1],
      secondValue = _values$ === void 0 ? firstValue : _values$,
      _values$2 = values[2],
      thirdValue = _values$2 === void 0 ? firstValue : _values$2,
      _values$3 = values[3],
      fourthValue = _values$3 === void 0 ? secondValue : _values$3;
  var valuesWithDefaults = [firstValue, secondValue, thirdValue, fourthValue];
  return generateStyles(property, valuesWithDefaults);
}

/**
 * Check if a string ends with something
 * @private
 */
function endsWith (string, suffix) {
  return string.substr(-suffix.length) === suffix;
}

var cssRegex = /^([+-]?(?:\d+|\d*\.\d+))([a-z]*|%)$/;
/**
 * Returns a given CSS value minus its unit (or the original value if an invalid string is passed). Optionally returns an array containing the stripped value and the original unit of measure.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   '--dimension': stripUnit('100px'),
 *   '--unit': stripUnit('100px')[1],
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   --dimension: ${stripUnit('100px')};
 *   --unit: ${stripUnit('100px')[1]};
 * `
 *
 * // CSS in JS Output
 *
 * element {
 *   '--dimension': 100,
 *   '--unit': 'px',
 * }
 */

function stripUnit(value, unitReturn) {
  if (typeof value !== 'string') return unitReturn ? [value, undefined] : value;
  var matchedValue = value.match(cssRegex);

  if (unitReturn) {
    if (matchedValue) return [parseFloat(value), matchedValue[2]];
    return [value, undefined];
  }

  if (matchedValue) return parseFloat(value);
  return value;
}

/**
 * Factory function that creates pixel-to-x converters
 * @private
 */

var pxtoFactory = function pxtoFactory(to) {
  return function (pxval, base) {
    if (base === void 0) {
      base = '16px';
    }

    var newPxval = pxval;
    var newBase = base;

    if (typeof pxval === 'string') {
      if (!endsWith(pxval, 'px')) {
        throw new PolishedError(69, to, pxval);
      }

      newPxval = stripUnit(pxval);
    }

    if (typeof base === 'string') {
      if (!endsWith(base, 'px')) {
        throw new PolishedError(70, to, base);
      }

      newBase = stripUnit(base);
    }

    if (typeof newPxval === 'string') {
      throw new PolishedError(71, pxval, to);
    }

    if (typeof newBase === 'string') {
      throw new PolishedError(72, base, to);
    }

    return "" + newPxval / newBase + to;
  };
};

/**
 * Convert pixel value to ems. The default base value is 16px, but can be changed by passing a
 * second argument to the function.
 * @function
 * @param {string|number} pxval
 * @param {string|number} [base='16px']
 * @example
 * // Styles as object usage
 * const styles = {
 *   'height': em('16px')
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   height: ${em('16px')}
 * `
 *
 * // CSS in JS Output
 *
 * element {
 *   'height': '1em'
 * }
 */

var em =
/*#__PURE__*/
pxtoFactory('em');

var cssRegex$1 = /^([+-]?(?:\d+|\d*\.\d+))([a-z]*|%)$/;
/**
 * Returns a given CSS value and its unit as elements of an array.
 *
 * @deprecated - getValueAndUnit has been marked for deprecation in polished 3.0 and will be fully deprecated in 4.0. It's functionality has been been moved to stripUnit as an optional return.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   '--dimension': getValueAndUnit('100px')[0],
 *   '--unit': getValueAndUnit('100px')[1],
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   --dimension: ${getValueAndUnit('100px')[0]};
 *   --unit: ${getValueAndUnit('100px')[1]};
 * `
 *
 * // CSS in JS Output
 *
 * element {
 *   '--dimension': 100,
 *   '--unit': 'px',
 * }
 */

function getValueAndUnit(value) {
  // eslint-disable-next-line no-console
  console.warn("getValueAndUnit has been marked for deprecation in polished 3.0 and will be fully deprecated in 4.0. It's functionality has been been moved to stripUnit as an optional return.");
  if (typeof value !== 'string') return [value, ''];
  var matchedValue = value.match(cssRegex$1);
  if (matchedValue) return [parseFloat(value), matchedValue[2]];
  return [value, undefined];
}

var ratioNames = {
  minorSecond: 1.067,
  majorSecond: 1.125,
  minorThird: 1.2,
  majorThird: 1.25,
  perfectFourth: 1.333,
  augFourth: 1.414,
  perfectFifth: 1.5,
  minorSixth: 1.6,
  goldenSection: 1.618,
  majorSixth: 1.667,
  minorSeventh: 1.778,
  majorSeventh: 1.875,
  octave: 2,
  majorTenth: 2.5,
  majorEleventh: 2.667,
  majorTwelfth: 3,
  doubleOctave: 4
};

function getRatio(ratioName) {
  return ratioNames[ratioName];
}
/**
 * Establish consistent measurements and spacial relationships throughout your projects by incrementing an em or rem value up or down a defined scale. We provide a list of commonly used scales as pre-defined variables.
 * @example
 * // Styles as object usage
 * const styles = {
 *    // Increment two steps up the default scale
 *   'fontSize': modularScale(2)
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *    // Increment two steps up the default scale
 *   fontSize: ${modularScale(2)}
 * `
 *
 * // CSS in JS Output
 *
 * element {
 *   'fontSize': '1.77689em'
 * }
 */


function modularScale(steps, base, ratio) {
  if (base === void 0) {
    base = '1em';
  }

  if (ratio === void 0) {
    ratio = 1.333;
  }

  if (typeof steps !== 'number') {
    throw new PolishedError(42);
  }

  if (typeof ratio === 'string' && !ratioNames[ratio]) {
    throw new PolishedError(43);
  }

  var _ref = typeof base === 'string' ? stripUnit(base, true) : [base, ''],
      realBase = _ref[0],
      unit = _ref[1];

  var realRatio = typeof ratio === 'string' ? getRatio(ratio) : ratio;

  if (typeof realBase === 'string') {
    throw new PolishedError(44, base);
  }

  return "" + realBase * Math.pow(realRatio, steps) + unit;
}

/**
 * Convert pixel value to rems. The default base value is 16px, but can be changed by passing a
 * second argument to the function.
 * @function
 * @param {string|number} pxval
 * @param {string|number} [base='16px']
 * @example
 * // Styles as object usage
 * const styles = {
 *   'height': rem('16px')
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   height: ${rem('16px')}
 * `
 *
 * // CSS in JS Output
 *
 * element {
 *   'height': '1rem'
 * }
 */

var rem =
/*#__PURE__*/
pxtoFactory('rem');

/**
 * Returns a CSS calc formula for linear interpolation of a property between two values. Accepts optional minScreen (defaults to '320px') and maxScreen (defaults to '1200px').
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   fontSize: between('20px', '100px', '400px', '1000px'),
 *   fontSize: between('20px', '100px')
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   fontSize: ${between('20px', '100px', '400px', '1000px')};
 *   fontSize: ${between('20px', '100px')}
 * `
 *
 * // CSS as JS Output
 *
 * h1: {
 *   'fontSize': 'calc(-33.33333333333334px + 13.333333333333334vw)',
 *   'fontSize': 'calc(-9.090909090909093px + 9.090909090909092vw)'
 * }
 */

function between(fromSize, toSize, minScreen, maxScreen) {
  if (minScreen === void 0) {
    minScreen = '320px';
  }

  if (maxScreen === void 0) {
    maxScreen = '1200px';
  }

  var _stripUnit = stripUnit(fromSize, true),
      unitlessFromSize = _stripUnit[0],
      fromSizeUnit = _stripUnit[1];

  var _stripUnit2 = stripUnit(toSize, true),
      unitlessToSize = _stripUnit2[0],
      toSizeUnit = _stripUnit2[1];

  var _stripUnit3 = stripUnit(minScreen, true),
      unitlessMinScreen = _stripUnit3[0],
      minScreenUnit = _stripUnit3[1];

  var _stripUnit4 = stripUnit(maxScreen, true),
      unitlessMaxScreen = _stripUnit4[0],
      maxScreenUnit = _stripUnit4[1];

  if (typeof unitlessMinScreen !== 'number' || typeof unitlessMaxScreen !== 'number' || !minScreenUnit || !maxScreenUnit || minScreenUnit !== maxScreenUnit) {
    throw new PolishedError(47);
  }

  if (typeof unitlessFromSize !== 'number' || typeof unitlessToSize !== 'number' || fromSizeUnit !== toSizeUnit) {
    throw new PolishedError(48);
  }

  var slope = (unitlessFromSize - unitlessToSize) / (unitlessMinScreen - unitlessMaxScreen);
  var base = unitlessToSize - slope * unitlessMaxScreen;
  return "calc(" + base.toFixed(2) + (fromSizeUnit || '') + " + " + (100 * slope).toFixed(2) + "vw)";
}

function clearFix(parent) {
  var _ref;

  if (parent === void 0) {
    parent = '&';
  }

  var pseudoSelector = parent + "::after";
  return _ref = {}, _ref[pseudoSelector] = {
    clear: 'both',
    content: '""',
    display: 'table'
  }, _ref;
}

function cover(offset) {
  if (offset === void 0) {
    offset = 0;
  }

  return {
    position: 'absolute',
    top: offset,
    right: offset,
    bottom: offset,
    left: offset
  };
}

function ellipsis(width) {
  if (width === void 0) {
    width = '100%';
  }

  return {
    display: 'inline-block',
    maxWidth: width,
    overflow: 'hidden',
    textOverflow: 'ellipsis',
    whiteSpace: 'nowrap',
    wordWrap: 'normal'
  };
}

function fluidRange(cssProp, minScreen, maxScreen) {
  if (minScreen === void 0) {
    minScreen = '320px';
  }

  if (maxScreen === void 0) {
    maxScreen = '1200px';
  }

  if (!Array.isArray(cssProp) && typeof cssProp !== 'object' || cssProp === null) {
    throw new PolishedError(49);
  }

  if (Array.isArray(cssProp)) {
    var mediaQueries = {};
    var fallbacks = {};

    for (var _iterator = cssProp, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {
      var _extends2, _extends3;

      var _ref;

      if (_isArray) {
        if (_i >= _iterator.length) break;
        _ref = _iterator[_i++];
      } else {
        _i = _iterator.next();
        if (_i.done) break;
        _ref = _i.value;
      }

      var obj = _ref;

      if (!obj.prop || !obj.fromSize || !obj.toSize) {
        throw new PolishedError(50);
      }

      fallbacks[obj.prop] = obj.fromSize;
      mediaQueries["@media (min-width: " + minScreen + ")"] = Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, mediaQueries["@media (min-width: " + minScreen + ")"], (_extends2 = {}, _extends2[obj.prop] = between(obj.fromSize, obj.toSize, minScreen, maxScreen), _extends2));
      mediaQueries["@media (min-width: " + maxScreen + ")"] = Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, mediaQueries["@media (min-width: " + maxScreen + ")"], (_extends3 = {}, _extends3[obj.prop] = obj.toSize, _extends3));
    }

    return Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, fallbacks, {}, mediaQueries);
  } else {
    var _ref2, _ref3, _ref4;

    if (!cssProp.prop || !cssProp.fromSize || !cssProp.toSize) {
      throw new PolishedError(51);
    }

    return _ref4 = {}, _ref4[cssProp.prop] = cssProp.fromSize, _ref4["@media (min-width: " + minScreen + ")"] = (_ref2 = {}, _ref2[cssProp.prop] = between(cssProp.fromSize, cssProp.toSize, minScreen, maxScreen), _ref2), _ref4["@media (min-width: " + maxScreen + ")"] = (_ref3 = {}, _ref3[cssProp.prop] = cssProp.toSize, _ref3), _ref4;
  }
}

var dataURIRegex = /^\s*data:([a-z]+\/[a-z-]+(;[a-z-]+=[a-z-]+)?)?(;charset=[a-z0-9-]+)?(;base64)?,[a-z0-9!$&',()*+,;=\-._~:@/?%\s]*\s*$/i;
var formatHintMap = {
  woff: 'woff',
  woff2: 'woff2',
  ttf: 'truetype',
  otf: 'opentype',
  eot: 'embedded-opentype',
  svg: 'svg',
  svgz: 'svg'
};

function generateFormatHint(format, formatHint) {
  if (!formatHint) return '';
  return " format(\"" + formatHintMap[format] + "\")";
}

function isDataURI(fontFilePath) {
  return !!fontFilePath.match(dataURIRegex);
}

function generateFileReferences(fontFilePath, fileFormats, formatHint) {
  if (isDataURI(fontFilePath)) {
    return "url(\"" + fontFilePath + "\")" + generateFormatHint(fileFormats[0], formatHint);
  }

  var fileFontReferences = fileFormats.map(function (format) {
    return "url(\"" + fontFilePath + "." + format + "\")" + generateFormatHint(format, formatHint);
  });
  return fileFontReferences.join(', ');
}

function generateLocalReferences(localFonts) {
  var localFontReferences = localFonts.map(function (font) {
    return "local(\"" + font + "\")";
  });
  return localFontReferences.join(', ');
}

function generateSources(fontFilePath, localFonts, fileFormats, formatHint) {
  var fontReferences = [];
  if (localFonts) fontReferences.push(generateLocalReferences(localFonts));

  if (fontFilePath) {
    fontReferences.push(generateFileReferences(fontFilePath, fileFormats, formatHint));
  }

  return fontReferences.join(', ');
}
/**
 * CSS for a @font-face declaration.
 *
 * @example
 * // Styles as object basic usage
 * const styles = {
 *    ...fontFace({
 *      'fontFamily': 'Sans-Pro',
 *      'fontFilePath': 'path/to/file'
 *    })
 * }
 *
 * // styled-components basic usage
 * const GlobalStyle = createGlobalStyle`${
 *   fontFace({
 *     'fontFamily': 'Sans-Pro',
 *     'fontFilePath': 'path/to/file'
 *   }
 * )}`
 *
 * // CSS as JS Output
 *
 * '@font-face': {
 *   'fontFamily': 'Sans-Pro',
 *   'src': 'url("path/to/file.eot"), url("path/to/file.woff2"), url("path/to/file.woff"), url("path/to/file.ttf"), url("path/to/file.svg")',
 * }
 */


function fontFace(_ref) {
  var fontFamily = _ref.fontFamily,
      fontFilePath = _ref.fontFilePath,
      fontStretch = _ref.fontStretch,
      fontStyle = _ref.fontStyle,
      fontVariant = _ref.fontVariant,
      fontWeight = _ref.fontWeight,
      _ref$fileFormats = _ref.fileFormats,
      fileFormats = _ref$fileFormats === void 0 ? ['eot', 'woff2', 'woff', 'ttf', 'svg'] : _ref$fileFormats,
      _ref$formatHint = _ref.formatHint,
      formatHint = _ref$formatHint === void 0 ? false : _ref$formatHint,
      localFonts = _ref.localFonts,
      unicodeRange = _ref.unicodeRange,
      fontDisplay = _ref.fontDisplay,
      fontVariationSettings = _ref.fontVariationSettings,
      fontFeatureSettings = _ref.fontFeatureSettings;
  // Error Handling
  if (!fontFamily) throw new PolishedError(55);

  if (!fontFilePath && !localFonts) {
    throw new PolishedError(52);
  }

  if (localFonts && !Array.isArray(localFonts)) {
    throw new PolishedError(53);
  }

  if (!Array.isArray(fileFormats)) {
    throw new PolishedError(54);
  }

  var fontFaceDeclaration = {
    '@font-face': {
      fontFamily: fontFamily,
      src: generateSources(fontFilePath, localFonts, fileFormats, formatHint),
      unicodeRange: unicodeRange,
      fontStretch: fontStretch,
      fontStyle: fontStyle,
      fontVariant: fontVariant,
      fontWeight: fontWeight,
      fontDisplay: fontDisplay,
      fontVariationSettings: fontVariationSettings,
      fontFeatureSettings: fontFeatureSettings
    }
  }; // Removes undefined fields for cleaner css object.

  return JSON.parse(JSON.stringify(fontFaceDeclaration));
}

function hideText() {
  return {
    textIndent: '101%',
    overflow: 'hidden',
    whiteSpace: 'nowrap'
  };
}

function hideVisually() {
  return {
    border: '0',
    clip: 'rect(0 0 0 0)',
    clipPath: 'inset(50%)',
    height: '1px',
    margin: '-1px',
    overflow: 'hidden',
    padding: '0',
    position: 'absolute',
    whiteSpace: 'nowrap',
    width: '1px'
  };
}

/**
 * Generates a media query to target HiDPI devices.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *  [hiDPI(1.5)]: {
 *    width: 200px;
 *  }
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   ${hiDPI(1.5)} {
 *     width: 200px;
 *   }
 * `
 *
 * // CSS as JS Output
 *
 * '@media only screen and (-webkit-min-device-pixel-ratio: 1.5),
 *  only screen and (min--moz-device-pixel-ratio: 1.5),
 *  only screen and (-o-min-device-pixel-ratio: 1.5/1),
 *  only screen and (min-resolution: 144dpi),
 *  only screen and (min-resolution: 1.5dppx)': {
 *   'width': '200px',
 * }
 */
function hiDPI(ratio) {
  if (ratio === void 0) {
    ratio = 1.3;
  }

  return "\n    @media only screen and (-webkit-min-device-pixel-ratio: " + ratio + "),\n    only screen and (min--moz-device-pixel-ratio: " + ratio + "),\n    only screen and (-o-min-device-pixel-ratio: " + ratio + "/1),\n    only screen and (min-resolution: " + Math.round(ratio * 96) + "dpi),\n    only screen and (min-resolution: " + ratio + "dppx)\n  ";
}

function constructGradientValue(literals) {
  var template = '';

  for (var _len = arguments.length, substitutions = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
    substitutions[_key - 1] = arguments[_key];
  }

  for (var i = 0; i < literals.length; i += 1) {
    template += literals[i];

    if (i === substitutions.length - 1 && substitutions[i]) {
      var definedValues = substitutions.filter(function (substitute) {
        return !!substitute;
      }); // Adds leading coma if properties preceed color-stops

      if (definedValues.length > 1) {
        template = template.slice(0, -1);
        template += ", " + substitutions[i]; // No trailing space if color-stops is the only param provided
      } else if (definedValues.length === 1) {
        template += "" + substitutions[i];
      }
    } else if (substitutions[i]) {
      template += substitutions[i] + " ";
    }
  }

  return template.trim();
}

function _templateObject() {
  var data = Object(_babel_runtime_helpers_esm_taggedTemplateLiteralLoose__WEBPACK_IMPORTED_MODULE_4__["default"])(["linear-gradient(", "", ")"]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}
function linearGradient(_ref) {
  var colorStops = _ref.colorStops,
      fallback = _ref.fallback,
      _ref$toDirection = _ref.toDirection,
      toDirection = _ref$toDirection === void 0 ? '' : _ref$toDirection;

  if (!colorStops || colorStops.length < 2) {
    throw new PolishedError(56);
  }

  return {
    backgroundColor: fallback || colorStops[0].split(' ')[0],
    backgroundImage: constructGradientValue(_templateObject(), toDirection, colorStops.join(', '))
  };
}

function normalize() {
  var _ref;

  return [(_ref = {
    html: {
      lineHeight: '1.15',
      textSizeAdjust: '100%'
    },
    body: {
      margin: '0'
    },
    h1: {
      fontSize: '2em',
      margin: '0.67em 0'
    },
    hr: {
      boxSizing: 'content-box',
      height: '0',
      overflow: 'visible'
    },
    pre: {
      fontFamily: 'monospace, monospace',
      fontSize: '1em'
    },
    a: {
      backgroundColor: 'transparent'
    },
    'abbr[title]': {
      borderBottom: 'none',
      textDecoration: 'underline'
    }
  }, _ref["b,\n    strong"] = {
    fontWeight: 'bolder'
  }, _ref["code,\n    kbd,\n    samp"] = {
    fontFamily: 'monospace, monospace',
    fontSize: '1em'
  }, _ref.small = {
    fontSize: '80%'
  }, _ref["sub,\n    sup"] = {
    fontSize: '75%',
    lineHeight: '0',
    position: 'relative',
    verticalAlign: 'baseline'
  }, _ref.sub = {
    bottom: '-0.25em'
  }, _ref.sup = {
    top: '-0.5em'
  }, _ref.img = {
    borderStyle: 'none'
  }, _ref["button,\n    input,\n    optgroup,\n    select,\n    textarea"] = {
    fontFamily: 'inherit',
    fontSize: '100%',
    lineHeight: '1.15',
    margin: '0'
  }, _ref["button,\n    input"] = {
    overflow: 'visible'
  }, _ref["button,\n    select"] = {
    textTransform: 'none'
  }, _ref["button,\n    html [type=\"button\"],\n    [type=\"reset\"],\n    [type=\"submit\"]"] = {
    WebkitAppearance: 'button'
  }, _ref["button::-moz-focus-inner,\n    [type=\"button\"]::-moz-focus-inner,\n    [type=\"reset\"]::-moz-focus-inner,\n    [type=\"submit\"]::-moz-focus-inner"] = {
    borderStyle: 'none',
    padding: '0'
  }, _ref["button:-moz-focusring,\n    [type=\"button\"]:-moz-focusring,\n    [type=\"reset\"]:-moz-focusring,\n    [type=\"submit\"]:-moz-focusring"] = {
    outline: '1px dotted ButtonText'
  }, _ref.fieldset = {
    padding: '0.35em 0.625em 0.75em'
  }, _ref.legend = {
    boxSizing: 'border-box',
    color: 'inherit',
    display: 'table',
    maxWidth: '100%',
    padding: '0',
    whiteSpace: 'normal'
  }, _ref.progress = {
    verticalAlign: 'baseline'
  }, _ref.textarea = {
    overflow: 'auto'
  }, _ref["[type=\"checkbox\"],\n    [type=\"radio\"]"] = {
    boxSizing: 'border-box',
    padding: '0'
  }, _ref["[type=\"number\"]::-webkit-inner-spin-button,\n    [type=\"number\"]::-webkit-outer-spin-button"] = {
    height: 'auto'
  }, _ref['[type="search"]'] = {
    WebkitAppearance: 'textfield',
    outlineOffset: '-2px'
  }, _ref['[type="search"]::-webkit-search-decoration'] = {
    WebkitAppearance: 'none'
  }, _ref['::-webkit-file-upload-button'] = {
    WebkitAppearance: 'button',
    font: 'inherit'
  }, _ref.details = {
    display: 'block'
  }, _ref.summary = {
    display: 'list-item'
  }, _ref.template = {
    display: 'none'
  }, _ref['[hidden]'] = {
    display: 'none'
  }, _ref), {
    'abbr[title]': {
      textDecoration: 'underline dotted'
    }
  }];
}

function _templateObject$1() {
  var data = Object(_babel_runtime_helpers_esm_taggedTemplateLiteralLoose__WEBPACK_IMPORTED_MODULE_4__["default"])(["radial-gradient(", "", "", "", ")"]);

  _templateObject$1 = function _templateObject() {
    return data;
  };

  return data;
}
function radialGradient(_ref) {
  var colorStops = _ref.colorStops,
      _ref$extent = _ref.extent,
      extent = _ref$extent === void 0 ? '' : _ref$extent,
      fallback = _ref.fallback,
      _ref$position = _ref.position,
      position = _ref$position === void 0 ? '' : _ref$position,
      _ref$shape = _ref.shape,
      shape = _ref$shape === void 0 ? '' : _ref$shape;

  if (!colorStops || colorStops.length < 2) {
    throw new PolishedError(57);
  }

  return {
    backgroundColor: fallback || colorStops[0].split(' ')[0],
    backgroundImage: constructGradientValue(_templateObject$1(), position, shape, extent, colorStops.join(', '))
  };
}

function retinaImage(filename, backgroundSize, extension, retinaFilename, retinaSuffix) {
  var _ref;

  if (extension === void 0) {
    extension = 'png';
  }

  if (retinaSuffix === void 0) {
    retinaSuffix = '_2x';
  }

  if (!filename) {
    throw new PolishedError(58);
  } // Replace the dot at the beginning of the passed extension if one exists


  var ext = extension.replace(/^\./, '');
  var rFilename = retinaFilename ? retinaFilename + "." + ext : "" + filename + retinaSuffix + "." + ext;
  return _ref = {
    backgroundImage: "url(" + filename + "." + ext + ")"
  }, _ref[hiDPI()] = Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({
    backgroundImage: "url(" + rFilename + ")"
  }, backgroundSize ? {
    backgroundSize: backgroundSize
  } : {}), _ref;
}

var functionsMap = {
  easeInBack: 'cubic-bezier(0.600, -0.280, 0.735, 0.045)',
  easeInCirc: 'cubic-bezier(0.600,  0.040, 0.980, 0.335)',
  easeInCubic: 'cubic-bezier(0.550,  0.055, 0.675, 0.190)',
  easeInExpo: 'cubic-bezier(0.950,  0.050, 0.795, 0.035)',
  easeInQuad: 'cubic-bezier(0.550,  0.085, 0.680, 0.530)',
  easeInQuart: 'cubic-bezier(0.895,  0.030, 0.685, 0.220)',
  easeInQuint: 'cubic-bezier(0.755,  0.050, 0.855, 0.060)',
  easeInSine: 'cubic-bezier(0.470,  0.000, 0.745, 0.715)',
  easeOutBack: 'cubic-bezier(0.175,  0.885, 0.320, 1.275)',
  easeOutCubic: 'cubic-bezier(0.215,  0.610, 0.355, 1.000)',
  easeOutCirc: 'cubic-bezier(0.075,  0.820, 0.165, 1.000)',
  easeOutExpo: 'cubic-bezier(0.190,  1.000, 0.220, 1.000)',
  easeOutQuad: 'cubic-bezier(0.250,  0.460, 0.450, 0.940)',
  easeOutQuart: 'cubic-bezier(0.165,  0.840, 0.440, 1.000)',
  easeOutQuint: 'cubic-bezier(0.230,  1.000, 0.320, 1.000)',
  easeOutSine: 'cubic-bezier(0.390,  0.575, 0.565, 1.000)',
  easeInOutBack: 'cubic-bezier(0.680, -0.550, 0.265, 1.550)',
  easeInOutCirc: 'cubic-bezier(0.785,  0.135, 0.150, 0.860)',
  easeInOutCubic: 'cubic-bezier(0.645,  0.045, 0.355, 1.000)',
  easeInOutExpo: 'cubic-bezier(1.000,  0.000, 0.000, 1.000)',
  easeInOutQuad: 'cubic-bezier(0.455,  0.030, 0.515, 0.955)',
  easeInOutQuart: 'cubic-bezier(0.770,  0.000, 0.175, 1.000)',
  easeInOutQuint: 'cubic-bezier(0.860,  0.000, 0.070, 1.000)',
  easeInOutSine: 'cubic-bezier(0.445,  0.050, 0.550, 0.950)'
};
/* eslint-enable key-spacing */

function getTimingFunction(functionName) {
  return functionsMap[functionName];
}
/**
 * String to represent common easing functions as demonstrated here: (github.com/jaukia/easie).
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   'transitionTimingFunction': timingFunctions('easeInQuad')
 * }
 *
 * // styled-components usage
 *  const div = styled.div`
 *   transitionTimingFunction: ${timingFunctions('easeInQuad')};
 * `
 *
 * // CSS as JS Output
 *
 * 'div': {
 *   'transitionTimingFunction': 'cubic-bezier(0.550,  0.085, 0.680, 0.530)',
 * }
 */


function timingFunctions(timingFunction) {
  return getTimingFunction(timingFunction);
}

var getBorderWidth = function getBorderWidth(pointingDirection, height, width) {
  var fullWidth = "" + width[0] + (width[1] || '');
  var halfWidth = "" + width[0] / 2 + (width[1] || '');
  var fullHeight = "" + height[0] + (height[1] || '');
  var halfHeight = "" + height[0] / 2 + (height[1] || '');

  switch (pointingDirection) {
    case 'top':
      return "0 " + halfWidth + " " + fullHeight + " " + halfWidth;

    case 'topLeft':
      return fullWidth + " " + fullHeight + " 0 0";

    case 'left':
      return halfHeight + " " + fullWidth + " " + halfHeight + " 0";

    case 'bottomLeft':
      return fullWidth + " 0 0 " + fullHeight;

    case 'bottom':
      return fullHeight + " " + halfWidth + " 0 " + halfWidth;

    case 'bottomRight':
      return "0 0 " + fullWidth + " " + fullHeight;

    case 'right':
      return halfHeight + " 0 " + halfHeight + " " + fullWidth;

    case 'topRight':
    default:
      return "0 " + fullWidth + " " + fullHeight + " 0";
  }
};

var getBorderColor = function getBorderColor(pointingDirection, foregroundColor, backgroundColor) {
  switch (pointingDirection) {
    case 'top':
    case 'bottomRight':
      return backgroundColor + " " + backgroundColor + " " + foregroundColor + " " + backgroundColor;

    case 'right':
    case 'bottomLeft':
      return backgroundColor + " " + backgroundColor + " " + backgroundColor + " " + foregroundColor;

    case 'bottom':
    case 'topLeft':
      return foregroundColor + " " + backgroundColor + " " + backgroundColor + " " + backgroundColor;

    case 'left':
    case 'topRight':
      return backgroundColor + " " + foregroundColor + " " + backgroundColor + " " + backgroundColor;

    default:
      throw new PolishedError(59);
  }
};
/**
 * CSS to represent triangle with any pointing direction with an optional background color.
 *
 * @example
 * // Styles as object usage
 *
 * const styles = {
 *   ...triangle({ pointingDirection: 'right', width: '100px', height: '100px', foregroundColor: 'red' })
 * }
 *
 *
 * // styled-components usage
 * const div = styled.div`
 *   ${triangle({ pointingDirection: 'right', width: '100px', height: '100px', foregroundColor: 'red' })}
 *
 *
 * // CSS as JS Output
 *
 * div: {
 *  'borderColor': 'transparent transparent transparent red',
 *  'borderStyle': 'solid',
 *  'borderWidth': '50px 0 50px 100px',
 *  'height': '0',
 *  'width': '0',
 * }
 */


function triangle(_ref) {
  var pointingDirection = _ref.pointingDirection,
      height = _ref.height,
      width = _ref.width,
      foregroundColor = _ref.foregroundColor,
      _ref$backgroundColor = _ref.backgroundColor,
      backgroundColor = _ref$backgroundColor === void 0 ? 'transparent' : _ref$backgroundColor;
  var widthAndUnit = stripUnit(width, true);
  var heightAndUnit = stripUnit(height, true);

  if (isNaN(heightAndUnit[0]) || isNaN(widthAndUnit[0])) {
    throw new PolishedError(60);
  }

  return {
    width: '0',
    height: '0',
    borderColor: getBorderColor(pointingDirection, foregroundColor, backgroundColor),
    borderStyle: 'solid',
    borderWidth: getBorderWidth(pointingDirection, heightAndUnit, widthAndUnit)
  };
}

function wordWrap(wrap) {
  if (wrap === void 0) {
    wrap = 'break-word';
  }

  var wordBreak = wrap === 'break-word' ? 'break-all' : wrap;
  return {
    overflowWrap: wrap,
    wordWrap: wrap,
    wordBreak: wordBreak
  };
}

function colorToInt(color) {
  return Math.round(color * 255);
}

function convertToInt(red, green, blue) {
  return colorToInt(red) + "," + colorToInt(green) + "," + colorToInt(blue);
}

function hslToRgb(hue, saturation, lightness, convert) {
  if (convert === void 0) {
    convert = convertToInt;
  }

  if (saturation === 0) {
    // achromatic
    return convert(lightness, lightness, lightness);
  } // formulae from https://en.wikipedia.org/wiki/HSL_and_HSV


  var huePrime = (hue % 360 + 360) % 360 / 60;
  var chroma = (1 - Math.abs(2 * lightness - 1)) * saturation;
  var secondComponent = chroma * (1 - Math.abs(huePrime % 2 - 1));
  var red = 0;
  var green = 0;
  var blue = 0;

  if (huePrime >= 0 && huePrime < 1) {
    red = chroma;
    green = secondComponent;
  } else if (huePrime >= 1 && huePrime < 2) {
    red = secondComponent;
    green = chroma;
  } else if (huePrime >= 2 && huePrime < 3) {
    green = chroma;
    blue = secondComponent;
  } else if (huePrime >= 3 && huePrime < 4) {
    green = secondComponent;
    blue = chroma;
  } else if (huePrime >= 4 && huePrime < 5) {
    red = secondComponent;
    blue = chroma;
  } else if (huePrime >= 5 && huePrime < 6) {
    red = chroma;
    blue = secondComponent;
  }

  var lightnessModification = lightness - chroma / 2;
  var finalRed = red + lightnessModification;
  var finalGreen = green + lightnessModification;
  var finalBlue = blue + lightnessModification;
  return convert(finalRed, finalGreen, finalBlue);
}

var namedColorMap = {
  aliceblue: 'f0f8ff',
  antiquewhite: 'faebd7',
  aqua: '00ffff',
  aquamarine: '7fffd4',
  azure: 'f0ffff',
  beige: 'f5f5dc',
  bisque: 'ffe4c4',
  black: '000',
  blanchedalmond: 'ffebcd',
  blue: '0000ff',
  blueviolet: '8a2be2',
  brown: 'a52a2a',
  burlywood: 'deb887',
  cadetblue: '5f9ea0',
  chartreuse: '7fff00',
  chocolate: 'd2691e',
  coral: 'ff7f50',
  cornflowerblue: '6495ed',
  cornsilk: 'fff8dc',
  crimson: 'dc143c',
  cyan: '00ffff',
  darkblue: '00008b',
  darkcyan: '008b8b',
  darkgoldenrod: 'b8860b',
  darkgray: 'a9a9a9',
  darkgreen: '006400',
  darkgrey: 'a9a9a9',
  darkkhaki: 'bdb76b',
  darkmagenta: '8b008b',
  darkolivegreen: '556b2f',
  darkorange: 'ff8c00',
  darkorchid: '9932cc',
  darkred: '8b0000',
  darksalmon: 'e9967a',
  darkseagreen: '8fbc8f',
  darkslateblue: '483d8b',
  darkslategray: '2f4f4f',
  darkslategrey: '2f4f4f',
  darkturquoise: '00ced1',
  darkviolet: '9400d3',
  deeppink: 'ff1493',
  deepskyblue: '00bfff',
  dimgray: '696969',
  dimgrey: '696969',
  dodgerblue: '1e90ff',
  firebrick: 'b22222',
  floralwhite: 'fffaf0',
  forestgreen: '228b22',
  fuchsia: 'ff00ff',
  gainsboro: 'dcdcdc',
  ghostwhite: 'f8f8ff',
  gold: 'ffd700',
  goldenrod: 'daa520',
  gray: '808080',
  green: '008000',
  greenyellow: 'adff2f',
  grey: '808080',
  honeydew: 'f0fff0',
  hotpink: 'ff69b4',
  indianred: 'cd5c5c',
  indigo: '4b0082',
  ivory: 'fffff0',
  khaki: 'f0e68c',
  lavender: 'e6e6fa',
  lavenderblush: 'fff0f5',
  lawngreen: '7cfc00',
  lemonchiffon: 'fffacd',
  lightblue: 'add8e6',
  lightcoral: 'f08080',
  lightcyan: 'e0ffff',
  lightgoldenrodyellow: 'fafad2',
  lightgray: 'd3d3d3',
  lightgreen: '90ee90',
  lightgrey: 'd3d3d3',
  lightpink: 'ffb6c1',
  lightsalmon: 'ffa07a',
  lightseagreen: '20b2aa',
  lightskyblue: '87cefa',
  lightslategray: '789',
  lightslategrey: '789',
  lightsteelblue: 'b0c4de',
  lightyellow: 'ffffe0',
  lime: '0f0',
  limegreen: '32cd32',
  linen: 'faf0e6',
  magenta: 'f0f',
  maroon: '800000',
  mediumaquamarine: '66cdaa',
  mediumblue: '0000cd',
  mediumorchid: 'ba55d3',
  mediumpurple: '9370db',
  mediumseagreen: '3cb371',
  mediumslateblue: '7b68ee',
  mediumspringgreen: '00fa9a',
  mediumturquoise: '48d1cc',
  mediumvioletred: 'c71585',
  midnightblue: '191970',
  mintcream: 'f5fffa',
  mistyrose: 'ffe4e1',
  moccasin: 'ffe4b5',
  navajowhite: 'ffdead',
  navy: '000080',
  oldlace: 'fdf5e6',
  olive: '808000',
  olivedrab: '6b8e23',
  orange: 'ffa500',
  orangered: 'ff4500',
  orchid: 'da70d6',
  palegoldenrod: 'eee8aa',
  palegreen: '98fb98',
  paleturquoise: 'afeeee',
  palevioletred: 'db7093',
  papayawhip: 'ffefd5',
  peachpuff: 'ffdab9',
  peru: 'cd853f',
  pink: 'ffc0cb',
  plum: 'dda0dd',
  powderblue: 'b0e0e6',
  purple: '800080',
  rebeccapurple: '639',
  red: 'f00',
  rosybrown: 'bc8f8f',
  royalblue: '4169e1',
  saddlebrown: '8b4513',
  salmon: 'fa8072',
  sandybrown: 'f4a460',
  seagreen: '2e8b57',
  seashell: 'fff5ee',
  sienna: 'a0522d',
  silver: 'c0c0c0',
  skyblue: '87ceeb',
  slateblue: '6a5acd',
  slategray: '708090',
  slategrey: '708090',
  snow: 'fffafa',
  springgreen: '00ff7f',
  steelblue: '4682b4',
  tan: 'd2b48c',
  teal: '008080',
  thistle: 'd8bfd8',
  tomato: 'ff6347',
  turquoise: '40e0d0',
  violet: 'ee82ee',
  wheat: 'f5deb3',
  white: 'fff',
  whitesmoke: 'f5f5f5',
  yellow: 'ff0',
  yellowgreen: '9acd32'
};
/**
 * Checks if a string is a CSS named color and returns its equivalent hex value, otherwise returns the original color.
 * @private
 */

function nameToHex(color) {
  if (typeof color !== 'string') return color;
  var normalizedColorName = color.toLowerCase();
  return namedColorMap[normalizedColorName] ? "#" + namedColorMap[normalizedColorName] : color;
}

var hexRegex = /^#[a-fA-F0-9]{6}$/;
var hexRgbaRegex = /^#[a-fA-F0-9]{8}$/;
var reducedHexRegex = /^#[a-fA-F0-9]{3}$/;
var reducedRgbaHexRegex = /^#[a-fA-F0-9]{4}$/;
var rgbRegex = /^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i;
var rgbaRegex = /^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i;
var hslRegex = /^hsl\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i;
var hslaRegex = /^hsla\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i;
/**
 * Returns an RgbColor or RgbaColor object. This utility function is only useful
 * if want to extract a color component. With the color util `toColorString` you
 * can convert a RgbColor or RgbaColor object back to a string.
 *
 * @example
 * // Assigns `{ red: 255, green: 0, blue: 0 }` to color1
 * const color1 = parseToRgb('rgb(255, 0, 0)');
 * // Assigns `{ red: 92, green: 102, blue: 112, alpha: 0.75 }` to color2
 * const color2 = parseToRgb('hsla(210, 10%, 40%, 0.75)');
 */

function parseToRgb(color) {
  if (typeof color !== 'string') {
    throw new PolishedError(3);
  }

  var normalizedColor = nameToHex(color);

  if (normalizedColor.match(hexRegex)) {
    return {
      red: parseInt("" + normalizedColor[1] + normalizedColor[2], 16),
      green: parseInt("" + normalizedColor[3] + normalizedColor[4], 16),
      blue: parseInt("" + normalizedColor[5] + normalizedColor[6], 16)
    };
  }

  if (normalizedColor.match(hexRgbaRegex)) {
    var alpha = parseFloat((parseInt("" + normalizedColor[7] + normalizedColor[8], 16) / 255).toFixed(2));
    return {
      red: parseInt("" + normalizedColor[1] + normalizedColor[2], 16),
      green: parseInt("" + normalizedColor[3] + normalizedColor[4], 16),
      blue: parseInt("" + normalizedColor[5] + normalizedColor[6], 16),
      alpha: alpha
    };
  }

  if (normalizedColor.match(reducedHexRegex)) {
    return {
      red: parseInt("" + normalizedColor[1] + normalizedColor[1], 16),
      green: parseInt("" + normalizedColor[2] + normalizedColor[2], 16),
      blue: parseInt("" + normalizedColor[3] + normalizedColor[3], 16)
    };
  }

  if (normalizedColor.match(reducedRgbaHexRegex)) {
    var _alpha = parseFloat((parseInt("" + normalizedColor[4] + normalizedColor[4], 16) / 255).toFixed(2));

    return {
      red: parseInt("" + normalizedColor[1] + normalizedColor[1], 16),
      green: parseInt("" + normalizedColor[2] + normalizedColor[2], 16),
      blue: parseInt("" + normalizedColor[3] + normalizedColor[3], 16),
      alpha: _alpha
    };
  }

  var rgbMatched = rgbRegex.exec(normalizedColor);

  if (rgbMatched) {
    return {
      red: parseInt("" + rgbMatched[1], 10),
      green: parseInt("" + rgbMatched[2], 10),
      blue: parseInt("" + rgbMatched[3], 10)
    };
  }

  var rgbaMatched = rgbaRegex.exec(normalizedColor);

  if (rgbaMatched) {
    return {
      red: parseInt("" + rgbaMatched[1], 10),
      green: parseInt("" + rgbaMatched[2], 10),
      blue: parseInt("" + rgbaMatched[3], 10),
      alpha: parseFloat("" + rgbaMatched[4])
    };
  }

  var hslMatched = hslRegex.exec(normalizedColor);

  if (hslMatched) {
    var hue = parseInt("" + hslMatched[1], 10);
    var saturation = parseInt("" + hslMatched[2], 10) / 100;
    var lightness = parseInt("" + hslMatched[3], 10) / 100;
    var rgbColorString = "rgb(" + hslToRgb(hue, saturation, lightness) + ")";
    var hslRgbMatched = rgbRegex.exec(rgbColorString);

    if (!hslRgbMatched) {
      throw new PolishedError(4, normalizedColor, rgbColorString);
    }

    return {
      red: parseInt("" + hslRgbMatched[1], 10),
      green: parseInt("" + hslRgbMatched[2], 10),
      blue: parseInt("" + hslRgbMatched[3], 10)
    };
  }

  var hslaMatched = hslaRegex.exec(normalizedColor);

  if (hslaMatched) {
    var _hue = parseInt("" + hslaMatched[1], 10);

    var _saturation = parseInt("" + hslaMatched[2], 10) / 100;

    var _lightness = parseInt("" + hslaMatched[3], 10) / 100;

    var _rgbColorString = "rgb(" + hslToRgb(_hue, _saturation, _lightness) + ")";

    var _hslRgbMatched = rgbRegex.exec(_rgbColorString);

    if (!_hslRgbMatched) {
      throw new PolishedError(4, normalizedColor, _rgbColorString);
    }

    return {
      red: parseInt("" + _hslRgbMatched[1], 10),
      green: parseInt("" + _hslRgbMatched[2], 10),
      blue: parseInt("" + _hslRgbMatched[3], 10),
      alpha: parseFloat("" + hslaMatched[4])
    };
  }

  throw new PolishedError(5);
}

function rgbToHsl(color) {
  // make sure rgb are contained in a set of [0, 255]
  var red = color.red / 255;
  var green = color.green / 255;
  var blue = color.blue / 255;
  var max = Math.max(red, green, blue);
  var min = Math.min(red, green, blue);
  var lightness = (max + min) / 2;

  if (max === min) {
    // achromatic
    if (color.alpha !== undefined) {
      return {
        hue: 0,
        saturation: 0,
        lightness: lightness,
        alpha: color.alpha
      };
    } else {
      return {
        hue: 0,
        saturation: 0,
        lightness: lightness
      };
    }
  }

  var hue;
  var delta = max - min;
  var saturation = lightness > 0.5 ? delta / (2 - max - min) : delta / (max + min);

  switch (max) {
    case red:
      hue = (green - blue) / delta + (green < blue ? 6 : 0);
      break;

    case green:
      hue = (blue - red) / delta + 2;
      break;

    default:
      // blue case
      hue = (red - green) / delta + 4;
      break;
  }

  hue *= 60;

  if (color.alpha !== undefined) {
    return {
      hue: hue,
      saturation: saturation,
      lightness: lightness,
      alpha: color.alpha
    };
  }

  return {
    hue: hue,
    saturation: saturation,
    lightness: lightness
  };
}

function parseToHsl(color) {
  // Note: At a later stage we can optimize this function as right now a hsl
  // color would be parsed converted to rgb values and converted back to hsl.
  return rgbToHsl(parseToRgb(color));
}

/**
 * Reduces hex values if possible e.g. #ff8866 to #f86
 * @private
 */
var reduceHexValue = function reduceHexValue(value) {
  if (value.length === 7 && value[1] === value[2] && value[3] === value[4] && value[5] === value[6]) {
    return "#" + value[1] + value[3] + value[5];
  }

  return value;
};

function numberToHex(value) {
  var hex = value.toString(16);
  return hex.length === 1 ? "0" + hex : hex;
}

function colorToHex(color) {
  return numberToHex(Math.round(color * 255));
}

function convertToHex(red, green, blue) {
  return reduceHexValue("#" + colorToHex(red) + colorToHex(green) + colorToHex(blue));
}

function hslToHex(hue, saturation, lightness) {
  return hslToRgb(hue, saturation, lightness, convertToHex);
}

function hsl(value, saturation, lightness) {
  if (typeof value === 'number' && typeof saturation === 'number' && typeof lightness === 'number') {
    return hslToHex(value, saturation, lightness);
  } else if (typeof value === 'object' && saturation === undefined && lightness === undefined) {
    return hslToHex(value.hue, value.saturation, value.lightness);
  }

  throw new PolishedError(1);
}

function hsla(value, saturation, lightness, alpha) {
  if (typeof value === 'number' && typeof saturation === 'number' && typeof lightness === 'number' && typeof alpha === 'number') {
    return alpha >= 1 ? hslToHex(value, saturation, lightness) : "rgba(" + hslToRgb(value, saturation, lightness) + "," + alpha + ")";
  } else if (typeof value === 'object' && saturation === undefined && lightness === undefined && alpha === undefined) {
    return value.alpha >= 1 ? hslToHex(value.hue, value.saturation, value.lightness) : "rgba(" + hslToRgb(value.hue, value.saturation, value.lightness) + "," + value.alpha + ")";
  }

  throw new PolishedError(2);
}

function rgb(value, green, blue) {
  if (typeof value === 'number' && typeof green === 'number' && typeof blue === 'number') {
    return reduceHexValue("#" + numberToHex(value) + numberToHex(green) + numberToHex(blue));
  } else if (typeof value === 'object' && green === undefined && blue === undefined) {
    return reduceHexValue("#" + numberToHex(value.red) + numberToHex(value.green) + numberToHex(value.blue));
  }

  throw new PolishedError(6);
}

function rgba(firstValue, secondValue, thirdValue, fourthValue) {
  if (typeof firstValue === 'string' && typeof secondValue === 'number') {
    var rgbValue = parseToRgb(firstValue);
    return "rgba(" + rgbValue.red + "," + rgbValue.green + "," + rgbValue.blue + "," + secondValue + ")";
  } else if (typeof firstValue === 'number' && typeof secondValue === 'number' && typeof thirdValue === 'number' && typeof fourthValue === 'number') {
    return fourthValue >= 1 ? rgb(firstValue, secondValue, thirdValue) : "rgba(" + firstValue + "," + secondValue + "," + thirdValue + "," + fourthValue + ")";
  } else if (typeof firstValue === 'object' && secondValue === undefined && thirdValue === undefined && fourthValue === undefined) {
    return firstValue.alpha >= 1 ? rgb(firstValue.red, firstValue.green, firstValue.blue) : "rgba(" + firstValue.red + "," + firstValue.green + "," + firstValue.blue + "," + firstValue.alpha + ")";
  }

  throw new PolishedError(7);
}

var isRgb = function isRgb(color) {
  return typeof color.red === 'number' && typeof color.green === 'number' && typeof color.blue === 'number' && (typeof color.alpha !== 'number' || typeof color.alpha === 'undefined');
};

var isRgba = function isRgba(color) {
  return typeof color.red === 'number' && typeof color.green === 'number' && typeof color.blue === 'number' && typeof color.alpha === 'number';
};

var isHsl = function isHsl(color) {
  return typeof color.hue === 'number' && typeof color.saturation === 'number' && typeof color.lightness === 'number' && (typeof color.alpha !== 'number' || typeof color.alpha === 'undefined');
};

var isHsla = function isHsla(color) {
  return typeof color.hue === 'number' && typeof color.saturation === 'number' && typeof color.lightness === 'number' && typeof color.alpha === 'number';
};
/**
 * Converts a RgbColor, RgbaColor, HslColor or HslaColor object to a color string.
 * This util is useful in case you only know on runtime which color object is
 * used. Otherwise we recommend to rely on `rgb`, `rgba`, `hsl` or `hsla`.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   background: toColorString({ red: 255, green: 205, blue: 100 }),
 *   background: toColorString({ red: 255, green: 205, blue: 100, alpha: 0.72 }),
 *   background: toColorString({ hue: 240, saturation: 1, lightness: 0.5 }),
 *   background: toColorString({ hue: 360, saturation: 0.75, lightness: 0.4, alpha: 0.72 }),
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   background: ${toColorString({ red: 255, green: 205, blue: 100 })};
 *   background: ${toColorString({ red: 255, green: 205, blue: 100, alpha: 0.72 })};
 *   background: ${toColorString({ hue: 240, saturation: 1, lightness: 0.5 })};
 *   background: ${toColorString({ hue: 360, saturation: 0.75, lightness: 0.4, alpha: 0.72 })};
 * `
 *
 * // CSS in JS Output
 * element {
 *   background: "#ffcd64";
 *   background: "rgba(255,205,100,0.72)";
 *   background: "#00f";
 *   background: "rgba(179,25,25,0.72)";
 * }
 */


function toColorString(color) {
  if (typeof color !== 'object') throw new PolishedError(8);
  if (isRgba(color)) return rgba(color);
  if (isRgb(color)) return rgb(color);
  if (isHsla(color)) return hsla(color);
  if (isHsl(color)) return hsl(color);
  throw new PolishedError(8);
}

// Type definitions taken from https://github.com/gcanti/flow-static-land/blob/master/src/Fun.js
// eslint-disable-next-line no-unused-vars
// eslint-disable-next-line no-unused-vars
// eslint-disable-next-line no-redeclare
function curried(f, length, acc) {
  return function fn() {
    // eslint-disable-next-line prefer-rest-params
    var combined = acc.concat(Array.prototype.slice.call(arguments));
    return combined.length >= length ? f.apply(this, combined) : curried(f, length, combined);
  };
} // eslint-disable-next-line no-redeclare


function curry(f) {
  // eslint-disable-line no-redeclare
  return curried(f, f.length, []);
}

/**
 * Changes the hue of the color. Hue is a number between 0 to 360. The first
 * argument for adjustHue is the amount of degrees the color is rotated around
 * the color wheel, always producing a positive hue value.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   background: adjustHue(180, '#448'),
 *   background: adjustHue('180', 'rgba(101,100,205,0.7)'),
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   background: ${adjustHue(180, '#448')};
 *   background: ${adjustHue('180', 'rgba(101,100,205,0.7)')};
 * `
 *
 * // CSS in JS Output
 * element {
 *   background: "#888844";
 *   background: "rgba(136,136,68,0.7)";
 * }
 */

function adjustHue(degree, color) {
  if (color === 'transparent') return color;
  var hslColor = parseToHsl(color);
  return toColorString(Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, hslColor, {
    hue: hslColor.hue + parseFloat(degree)
  }));
} // prettier-ignore


var curriedAdjustHue =
/*#__PURE__*/
curry
/* ::<number | string, string, string> */
(adjustHue);

/**
 * Returns the complement of the provided color. This is identical to adjustHue(180, <color>).
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   background: complement('#448'),
 *   background: complement('rgba(204,205,100,0.7)'),
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   background: ${complement('#448')};
 *   background: ${complement('rgba(204,205,100,0.7)')};
 * `
 *
 * // CSS in JS Output
 * element {
 *   background: "#884";
 *   background: "rgba(153,153,153,0.7)";
 * }
 */

function complement(color) {
  if (color === 'transparent') return color;
  var hslColor = parseToHsl(color);
  return toColorString(Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, hslColor, {
    hue: (hslColor.hue + 180) % 360
  }));
}

function guard(lowerBoundary, upperBoundary, value) {
  return Math.max(lowerBoundary, Math.min(upperBoundary, value));
}

/**
 * Returns a string value for the darkened color.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   background: darken(0.2, '#FFCD64'),
 *   background: darken('0.2', 'rgba(255,205,100,0.7)'),
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   background: ${darken(0.2, '#FFCD64')};
 *   background: ${darken('0.2', 'rgba(255,205,100,0.7)')};
 * `
 *
 * // CSS in JS Output
 *
 * element {
 *   background: "#ffbd31";
 *   background: "rgba(255,189,49,0.7)";
 * }
 */

function darken(amount, color) {
  if (color === 'transparent') return color;
  var hslColor = parseToHsl(color);
  return toColorString(Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, hslColor, {
    lightness: guard(0, 1, hslColor.lightness - parseFloat(amount))
  }));
} // prettier-ignore


var curriedDarken =
/*#__PURE__*/
curry
/* ::<number | string, string, string> */
(darken);

/**
 * Decreases the intensity of a color. Its range is between 0 to 1. The first
 * argument of the desaturate function is the amount by how much the color
 * intensity should be decreased.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   background: desaturate(0.2, '#CCCD64'),
 *   background: desaturate('0.2', 'rgba(204,205,100,0.7)'),
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   background: ${desaturate(0.2, '#CCCD64')};
 *   background: ${desaturate('0.2', 'rgba(204,205,100,0.7)')};
 * `
 *
 * // CSS in JS Output
 * element {
 *   background: "#b8b979";
 *   background: "rgba(184,185,121,0.7)";
 * }
 */

function desaturate(amount, color) {
  if (color === 'transparent') return color;
  var hslColor = parseToHsl(color);
  return toColorString(Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, hslColor, {
    saturation: guard(0, 1, hslColor.saturation - parseFloat(amount))
  }));
} // prettier-ignore


var curriedDesaturate =
/*#__PURE__*/
curry
/* ::<number | string, string, string> */
(desaturate);

/**
 * Returns a number (float) representing the luminance of a color.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   background: getLuminance('#CCCD64') >= getLuminance('#0000ff') ? '#CCCD64' : '#0000ff',
 *   background: getLuminance('rgba(58, 133, 255, 1)') >= getLuminance('rgba(255, 57, 149, 1)') ?
 *                             'rgba(58, 133, 255, 1)' :
 *                             'rgba(255, 57, 149, 1)',
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   background: ${getLuminance('#CCCD64') >= getLuminance('#0000ff') ? '#CCCD64' : '#0000ff'};
 *   background: ${getLuminance('rgba(58, 133, 255, 1)') >= getLuminance('rgba(255, 57, 149, 1)') ?
 *                             'rgba(58, 133, 255, 1)' :
 *                             'rgba(255, 57, 149, 1)'};
 *
 * // CSS in JS Output
 *
 * div {
 *   background: "#CCCD64";
 *   background: "rgba(58, 133, 255, 1)";
 * }
 */

function getLuminance(color) {
  if (color === 'transparent') return 0;
  var rgbColor = parseToRgb(color);

  var _Object$keys$map = Object.keys(rgbColor).map(function (key) {
    var channel = rgbColor[key] / 255;
    return channel <= 0.03928 ? channel / 12.92 : Math.pow((channel + 0.055) / 1.055, 2.4);
  }),
      r = _Object$keys$map[0],
      g = _Object$keys$map[1],
      b = _Object$keys$map[2];

  return parseFloat((0.2126 * r + 0.7152 * g + 0.0722 * b).toFixed(3));
}

/**
 * Returns the contrast ratio between two colors based on
 * [W3's recommended equation for calculating contrast](http://www.w3.org/TR/WCAG20/#contrast-ratiodef).
 *
 * @example
 * const contrastRatio = getContrast('#444', '#fff');
 */

function getContrast(color1, color2) {
  var luminance1 = getLuminance(color1);
  var luminance2 = getLuminance(color2);
  return parseFloat((luminance1 > luminance2 ? (luminance1 + 0.05) / (luminance2 + 0.05) : (luminance2 + 0.05) / (luminance1 + 0.05)).toFixed(2));
}

/**
 * Converts the color to a grayscale, by reducing its saturation to 0.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   background: grayscale('#CCCD64'),
 *   background: grayscale('rgba(204,205,100,0.7)'),
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   background: ${grayscale('#CCCD64')};
 *   background: ${grayscale('rgba(204,205,100,0.7)')};
 * `
 *
 * // CSS in JS Output
 * element {
 *   background: "#999";
 *   background: "rgba(153,153,153,0.7)";
 * }
 */

function grayscale(color) {
  if (color === 'transparent') return color;
  return toColorString(Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, parseToHsl(color), {
    saturation: 0
  }));
}

function hslToColorString(color) {
  if (typeof color === 'object' && typeof color.hue === 'number' && typeof color.saturation === 'number' && typeof color.lightness === 'number') {
    if (color.alpha && typeof color.alpha === 'number') {
      return hsla({
        hue: color.hue,
        saturation: color.saturation,
        lightness: color.lightness,
        alpha: color.alpha
      });
    }

    return hsl({
      hue: color.hue,
      saturation: color.saturation,
      lightness: color.lightness
    });
  }

  throw new PolishedError(45);
}

/**
 * Inverts the red, green and blue values of a color.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   background: invert('#CCCD64'),
 *   background: invert('rgba(101,100,205,0.7)'),
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   background: ${invert('#CCCD64')};
 *   background: ${invert('rgba(101,100,205,0.7)')};
 * `
 *
 * // CSS in JS Output
 *
 * element {
 *   background: "#33329b";
 *   background: "rgba(154,155,50,0.7)";
 * }
 */

function invert(color) {
  if (color === 'transparent') return color; // parse color string to rgb

  var value = parseToRgb(color);
  return toColorString(Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, value, {
    red: 255 - value.red,
    green: 255 - value.green,
    blue: 255 - value.blue
  }));
}

/**
 * Returns a string value for the lightened color.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   background: lighten(0.2, '#CCCD64'),
 *   background: lighten('0.2', 'rgba(204,205,100,0.7)'),
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   background: ${lighten(0.2, '#FFCD64')};
 *   background: ${lighten('0.2', 'rgba(204,205,100,0.7)')};
 * `
 *
 * // CSS in JS Output
 *
 * element {
 *   background: "#e5e6b1";
 *   background: "rgba(229,230,177,0.7)";
 * }
 */

function lighten(amount, color) {
  if (color === 'transparent') return color;
  var hslColor = parseToHsl(color);
  return toColorString(Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, hslColor, {
    lightness: guard(0, 1, hslColor.lightness + parseFloat(amount))
  }));
} // prettier-ignore


var curriedLighten =
/*#__PURE__*/
curry
/* ::<number | string, string, string> */
(lighten);

function meetsContrastGuidelines(color1, color2) {
  var contrastRatio = getContrast(color1, color2);
  return {
    AA: contrastRatio >= 4.5,
    AALarge: contrastRatio >= 3,
    AAA: contrastRatio >= 7,
    AAALarge: contrastRatio >= 4.5
  };
}

/**
 * Mixes the two provided colors together by calculating the average of each of the RGB components weighted to the first color by the provided weight.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   background: mix(0.5, '#f00', '#00f')
 *   background: mix(0.25, '#f00', '#00f')
 *   background: mix('0.5', 'rgba(255, 0, 0, 0.5)', '#00f')
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   background: ${mix(0.5, '#f00', '#00f')};
 *   background: ${mix(0.25, '#f00', '#00f')};
 *   background: ${mix('0.5', 'rgba(255, 0, 0, 0.5)', '#00f')};
 * `
 *
 * // CSS in JS Output
 *
 * element {
 *   background: "#7f007f";
 *   background: "#3f00bf";
 *   background: "rgba(63, 0, 191, 0.75)";
 * }
 */

function mix(weight, color, otherColor) {
  if (color === 'transparent') return otherColor;
  if (otherColor === 'transparent') return color;
  var parsedColor1 = parseToRgb(color);

  var color1 = Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, parsedColor1, {
    alpha: typeof parsedColor1.alpha === 'number' ? parsedColor1.alpha : 1
  });

  var parsedColor2 = parseToRgb(otherColor);

  var color2 = Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, parsedColor2, {
    alpha: typeof parsedColor2.alpha === 'number' ? parsedColor2.alpha : 1
  }); // The formular is copied from the original Sass implementation:
  // http://sass-lang.com/documentation/Sass/Script/Functions.html#mix-instance_method


  var alphaDelta = color1.alpha - color2.alpha;
  var x = parseFloat(weight) * 2 - 1;
  var y = x * alphaDelta === -1 ? x : x + alphaDelta;
  var z = 1 + x * alphaDelta;
  var weight1 = (y / z + 1) / 2.0;
  var weight2 = 1 - weight1;
  var mixedColor = {
    red: Math.floor(color1.red * weight1 + color2.red * weight2),
    green: Math.floor(color1.green * weight1 + color2.green * weight2),
    blue: Math.floor(color1.blue * weight1 + color2.blue * weight2),
    alpha: color1.alpha + (color2.alpha - color1.alpha) * (parseFloat(weight) / 1.0)
  };
  return rgba(mixedColor);
} // prettier-ignore


var curriedMix =
/*#__PURE__*/
curry
/* ::<number | string, string, string, string> */
(mix);

/**
 * Increases the opacity of a color. Its range for the amount is between 0 to 1.
 *
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   background: opacify(0.1, 'rgba(255, 255, 255, 0.9)');
 *   background: opacify(0.2, 'hsla(0, 0%, 100%, 0.5)'),
 *   background: opacify('0.5', 'rgba(255, 0, 0, 0.2)'),
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   background: ${opacify(0.1, 'rgba(255, 255, 255, 0.9)')};
 *   background: ${opacify(0.2, 'hsla(0, 0%, 100%, 0.5)')},
 *   background: ${opacify('0.5', 'rgba(255, 0, 0, 0.2)')},
 * `
 *
 * // CSS in JS Output
 *
 * element {
 *   background: "#fff";
 *   background: "rgba(255,255,255,0.7)";
 *   background: "rgba(255,0,0,0.7)";
 * }
 */

function opacify(amount, color) {
  if (color === 'transparent') return color;
  var parsedColor = parseToRgb(color);
  var alpha = typeof parsedColor.alpha === 'number' ? parsedColor.alpha : 1;

  var colorWithAlpha = Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, parsedColor, {
    alpha: guard(0, 1, (alpha * 100 + parseFloat(amount) * 100) / 100)
  });

  return rgba(colorWithAlpha);
} // prettier-ignore


var curriedOpacify =
/*#__PURE__*/
curry
/* ::<number | string, string, string> */
(opacify);

/**
 * Returns black or white (or optional light and dark return colors) for best contrast depending on the luminosity of the given color.
 * Follows [W3C specs for readability](https://www.w3.org/TR/WCAG20-TECHS/G18.html).
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   color: readableColor('#000'),
 *   color: readableColor('black', '#001', '#ff8'),
 *   color: readableColor('white', '#001', '#ff8'),
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   color: ${readableColor('#000')};
 *   color: ${readableColor('black', '#001', '#ff8')};
 *   color: ${readableColor('white', '#001', '#ff8')};
 * `
 *
 * // CSS in JS Output
 *
 * element {
 *   color: "#fff";
 *   color: "#ff8";
 *   color: "#001";
 * }
 */

function readableColor(color, lightReturnColor, darkReturnColor) {
  if (lightReturnColor === void 0) {
    lightReturnColor = '#000';
  }

  if (darkReturnColor === void 0) {
    darkReturnColor = '#fff';
  }

  return getLuminance(color) > 0.179 ? lightReturnColor : darkReturnColor;
}

function rgbToColorString(color) {
  if (typeof color === 'object' && typeof color.red === 'number' && typeof color.green === 'number' && typeof color.blue === 'number') {
    if (color.alpha && typeof color.alpha === 'number') {
      return rgba({
        red: color.red,
        green: color.green,
        blue: color.blue,
        alpha: color.alpha
      });
    }

    return rgb({
      red: color.red,
      green: color.green,
      blue: color.blue
    });
  }

  throw new PolishedError(46);
}

/**
 * Increases the intensity of a color. Its range is between 0 to 1. The first
 * argument of the saturate function is the amount by how much the color
 * intensity should be increased.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   background: saturate(0.2, '#CCCD64'),
 *   background: saturate('0.2', 'rgba(204,205,100,0.7)'),
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   background: ${saturate(0.2, '#FFCD64')};
 *   background: ${saturate('0.2', 'rgba(204,205,100,0.7)')};
 * `
 *
 * // CSS in JS Output
 *
 * element {
 *   background: "#e0e250";
 *   background: "rgba(224,226,80,0.7)";
 * }
 */

function saturate(amount, color) {
  if (color === 'transparent') return color;
  var hslColor = parseToHsl(color);
  return toColorString(Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, hslColor, {
    saturation: guard(0, 1, hslColor.saturation + parseFloat(amount))
  }));
} // prettier-ignore


var curriedSaturate =
/*#__PURE__*/
curry
/* ::<number | string, string, string> */
(saturate);

/**
 * Sets the hue of a color to the provided value. The hue range can be
 * from 0 and 359.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   background: setHue(42, '#CCCD64'),
 *   background: setHue('244', 'rgba(204,205,100,0.7)'),
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   background: ${setHue(42, '#CCCD64')};
 *   background: ${setHue('244', 'rgba(204,205,100,0.7)')};
 * `
 *
 * // CSS in JS Output
 * element {
 *   background: "#cdae64";
 *   background: "rgba(107,100,205,0.7)";
 * }
 */

function setHue(hue, color) {
  if (color === 'transparent') return color;
  return toColorString(Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, parseToHsl(color), {
    hue: parseFloat(hue)
  }));
} // prettier-ignore


var curriedSetHue =
/*#__PURE__*/
curry
/* ::<number | string, string, string> */
(setHue);

/**
 * Sets the lightness of a color to the provided value. The lightness range can be
 * from 0 and 1.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   background: setLightness(0.2, '#CCCD64'),
 *   background: setLightness('0.75', 'rgba(204,205,100,0.7)'),
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   background: ${setLightness(0.2, '#CCCD64')};
 *   background: ${setLightness('0.75', 'rgba(204,205,100,0.7)')};
 * `
 *
 * // CSS in JS Output
 * element {
 *   background: "#4d4d19";
 *   background: "rgba(223,224,159,0.7)";
 * }
 */

function setLightness(lightness, color) {
  if (color === 'transparent') return color;
  return toColorString(Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, parseToHsl(color), {
    lightness: parseFloat(lightness)
  }));
} // prettier-ignore


var curriedSetLightness =
/*#__PURE__*/
curry
/* ::<number | string, string, string> */
(setLightness);

/**
 * Sets the saturation of a color to the provided value. The saturation range can be
 * from 0 and 1.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   background: setSaturation(0.2, '#CCCD64'),
 *   background: setSaturation('0.75', 'rgba(204,205,100,0.7)'),
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   background: ${setSaturation(0.2, '#CCCD64')};
 *   background: ${setSaturation('0.75', 'rgba(204,205,100,0.7)')};
 * `
 *
 * // CSS in JS Output
 * element {
 *   background: "#adad84";
 *   background: "rgba(228,229,76,0.7)";
 * }
 */

function setSaturation(saturation, color) {
  if (color === 'transparent') return color;
  return toColorString(Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, parseToHsl(color), {
    saturation: parseFloat(saturation)
  }));
} // prettier-ignore


var curriedSetSaturation =
/*#__PURE__*/
curry
/* ::<number | string, string, string> */
(setSaturation);

/**
 * Shades a color by mixing it with black. `shade` can produce
 * hue shifts, where as `darken` manipulates the luminance channel and therefore
 * doesn't produce hue shifts.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   background: shade(0.25, '#00f')
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   background: ${shade(0.25, '#00f')};
 * `
 *
 * // CSS in JS Output
 *
 * element {
 *   background: "#00003f";
 * }
 */

function shade(percentage, color) {
  if (color === 'transparent') return color;
  return curriedMix(parseFloat(percentage), 'rgb(0, 0, 0)', color);
} // prettier-ignore


var curriedShade =
/*#__PURE__*/
curry
/* ::<number | string, string, string> */
(shade);

/**
 * Tints a color by mixing it with white. `tint` can produce
 * hue shifts, where as `lighten` manipulates the luminance channel and therefore
 * doesn't produce hue shifts.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   background: tint(0.25, '#00f')
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   background: ${tint(0.25, '#00f')};
 * `
 *
 * // CSS in JS Output
 *
 * element {
 *   background: "#bfbfff";
 * }
 */

function tint(percentage, color) {
  if (color === 'transparent') return color;
  return curriedMix(parseFloat(percentage), 'rgb(255, 255, 255)', color);
} // prettier-ignore


var curriedTint =
/*#__PURE__*/
curry
/* ::<number | string, string, string> */
(tint);

/**
 * Decreases the opacity of a color. Its range for the amount is between 0 to 1.
 *
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   background: transparentize(0.1, '#fff');
 *   background: transparentize(0.2, 'hsl(0, 0%, 100%)'),
 *   background: transparentize('0.5', 'rgba(255, 0, 0, 0.8)'),
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   background: ${transparentize(0.1, '#fff')};
 *   background: ${transparentize(0.2, 'hsl(0, 0%, 100%)')},
 *   background: ${transparentize('0.5', 'rgba(255, 0, 0, 0.8)')},
 * `
 *
 * // CSS in JS Output
 *
 * element {
 *   background: "rgba(255,255,255,0.9)";
 *   background: "rgba(255,255,255,0.8)";
 *   background: "rgba(255,0,0,0.3)";
 * }
 */

function transparentize(amount, color) {
  if (color === 'transparent') return color;
  var parsedColor = parseToRgb(color);
  var alpha = typeof parsedColor.alpha === 'number' ? parsedColor.alpha : 1;

  var colorWithAlpha = Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, parsedColor, {
    alpha: guard(0, 1, (alpha * 100 - parseFloat(amount) * 100) / 100)
  });

  return rgba(colorWithAlpha);
} // prettier-ignore


var curriedTransparentize =
/*#__PURE__*/
curry
/* ::<number | string, string, string> */
(transparentize);

function animation() {
  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }

  // Allow single or multiple animations passed
  var multiMode = Array.isArray(args[0]);

  if (!multiMode && args.length > 8) {
    throw new PolishedError(64);
  }

  var code = args.map(function (arg) {
    if (multiMode && !Array.isArray(arg) || !multiMode && Array.isArray(arg)) {
      throw new PolishedError(65);
    }

    if (Array.isArray(arg) && arg.length > 8) {
      throw new PolishedError(66);
    }

    return Array.isArray(arg) ? arg.join(' ') : arg;
  }).join(', ');
  return {
    animation: code
  };
}

function backgroundImages() {
  for (var _len = arguments.length, properties = new Array(_len), _key = 0; _key < _len; _key++) {
    properties[_key] = arguments[_key];
  }

  return {
    backgroundImage: properties.join(', ')
  };
}

function backgrounds() {
  for (var _len = arguments.length, properties = new Array(_len), _key = 0; _key < _len; _key++) {
    properties[_key] = arguments[_key];
  }

  return {
    background: properties.join(', ')
  };
}

var sideMap = ['top', 'right', 'bottom', 'left'];
/**
 * Shorthand for the border property that splits out individual properties for use with tools like Fela and Styletron. A side keyword can optionally be passed to target only one side's border properties.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   ...border('1px', 'solid', 'red')
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   ${border('1px', 'solid', 'red')}
 * `
 *
 * // CSS as JS Output
 *
 * div {
 *   'borderColor': 'red',
 *   'borderStyle': 'solid',
 *   'borderWidth': `1px`,
 * }
 *
 * // Styles as object usage
 * const styles = {
 *   ...border('top', '1px', 'solid', 'red')
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   ${border('top', '1px', 'solid', 'red')}
 * `
 *
 * // CSS as JS Output
 *
 * div {
 *   'borderTopColor': 'red',
 *   'borderTopStyle': 'solid',
 *   'borderTopWidth': `1px`,
 * }
 */

function border(sideKeyword) {
  for (var _len = arguments.length, values = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
    values[_key - 1] = arguments[_key];
  }

  if (typeof sideKeyword === 'string' && sideMap.indexOf(sideKeyword) >= 0) {
    var _ref;

    return _ref = {}, _ref["border" + capitalizeString(sideKeyword) + "Width"] = values[0], _ref["border" + capitalizeString(sideKeyword) + "Style"] = values[1], _ref["border" + capitalizeString(sideKeyword) + "Color"] = values[2], _ref;
  } else {
    values.unshift(sideKeyword);
    return {
      borderWidth: values[0],
      borderStyle: values[1],
      borderColor: values[2]
    };
  }
}

function borderColor() {
  for (var _len = arguments.length, values = new Array(_len), _key = 0; _key < _len; _key++) {
    values[_key] = arguments[_key];
  }

  return directionalProperty.apply(void 0, ['borderColor'].concat(values));
}

function borderRadius(side, radius) {
  var uppercaseSide = capitalizeString(side);

  if (!radius && radius !== 0) {
    throw new PolishedError(62);
  }

  if (uppercaseSide === 'Top' || uppercaseSide === 'Bottom') {
    var _ref;

    return _ref = {}, _ref["border" + uppercaseSide + "RightRadius"] = radius, _ref["border" + uppercaseSide + "LeftRadius"] = radius, _ref;
  }

  if (uppercaseSide === 'Left' || uppercaseSide === 'Right') {
    var _ref2;

    return _ref2 = {}, _ref2["borderTop" + uppercaseSide + "Radius"] = radius, _ref2["borderBottom" + uppercaseSide + "Radius"] = radius, _ref2;
  }

  throw new PolishedError(63);
}

function borderStyle() {
  for (var _len = arguments.length, values = new Array(_len), _key = 0; _key < _len; _key++) {
    values[_key] = arguments[_key];
  }

  return directionalProperty.apply(void 0, ['borderStyle'].concat(values));
}

function borderWidth() {
  for (var _len = arguments.length, values = new Array(_len), _key = 0; _key < _len; _key++) {
    values[_key] = arguments[_key];
  }

  return directionalProperty.apply(void 0, ['borderWidth'].concat(values));
}

function generateSelectors(template, state) {
  var stateSuffix = state ? ":" + state : '';
  return template(stateSuffix);
}
/**
 * Function helper that adds an array of states to a template of selectors. Used in textInputs and buttons.
 * @private
 */


function statefulSelectors(states, template, stateMap) {
  if (!template) throw new PolishedError(67);
  if (states.length === 0) return generateSelectors(template, null);
  var selectors = [];

  for (var i = 0; i < states.length; i += 1) {
    if (stateMap && stateMap.indexOf(states[i]) < 0) {
      throw new PolishedError(68);
    }

    selectors.push(generateSelectors(template, states[i]));
  }

  selectors = selectors.join(',');
  return selectors;
}

var stateMap = [undefined, null, 'active', 'focus', 'hover'];

function template(state) {
  return "button" + state + ",\n  input[type=\"button\"]" + state + ",\n  input[type=\"reset\"]" + state + ",\n  input[type=\"submit\"]" + state;
}
/**
 * Populates selectors that target all buttons. You can pass optional states to append to the selectors.
 * @example
 * // Styles as object usage
 * const styles = {
 *   [buttons('active')]: {
 *     'border': 'none'
 *   }
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   > ${buttons('active')} {
 *     border: none;
 *   }
 * `
 *
 * // CSS in JS Output
 *
 *  'button:active,
 *  'input[type="button"]:active,
 *  'input[type=\"reset\"]:active,
 *  'input[type=\"submit\"]:active: {
 *   'border': 'none'
 * }
 */


function buttons() {
  for (var _len = arguments.length, states = new Array(_len), _key = 0; _key < _len; _key++) {
    states[_key] = arguments[_key];
  }

  return statefulSelectors(states, template, stateMap);
}

function margin() {
  for (var _len = arguments.length, values = new Array(_len), _key = 0; _key < _len; _key++) {
    values[_key] = arguments[_key];
  }

  return directionalProperty.apply(void 0, ['margin'].concat(values));
}

function padding() {
  for (var _len = arguments.length, values = new Array(_len), _key = 0; _key < _len; _key++) {
    values[_key] = arguments[_key];
  }

  return directionalProperty.apply(void 0, ['padding'].concat(values));
}

var positionMap$1 = ['absolute', 'fixed', 'relative', 'static', 'sticky'];
/**
 * Shorthand accepts up to five values, including null to skip a value, and maps them to their respective directions. The first value can optionally be a position keyword.
 * @example
 * // Styles as object usage
 * const styles = {
 *   ...position('12px', '24px', '36px', '48px')
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   ${position('12px', '24px', '36px', '48px')}
 * `
 *
 * // CSS as JS Output
 *
 * div {
 *   'top': '12px',
 *   'right': '24px',
 *   'bottom': '36px',
 *   'left': '48px'
 * }
 *
 * // Styles as object usage
 * const styles = {
 *   ...position('absolute', '12px', '24px', '36px', '48px')
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   ${position('absolute', '12px', '24px', '36px', '48px')}
 * `
 *
 * // CSS as JS Output
 *
 * div {
 *   'position': 'absolute',
 *   'top': '12px',
 *   'right': '24px',
 *   'bottom': '36px',
 *   'left': '48px'
 * }
 */

function position(positionKeyword) {
  for (var _len = arguments.length, values = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
    values[_key - 1] = arguments[_key];
  }

  if (positionMap$1.indexOf(positionKeyword) >= 0) {
    return Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({
      position: positionKeyword
    }, directionalProperty.apply(void 0, [''].concat(values)));
  } else {
    var firstValue = positionKeyword; // in this case position is actually the first value

    return directionalProperty.apply(void 0, ['', firstValue].concat(values));
  }
}

function size(height, width) {
  if (width === void 0) {
    width = height;
  }

  return {
    height: height,
    width: width
  };
}

var stateMap$1 = [undefined, null, 'active', 'focus', 'hover'];

function template$1(state) {
  return "input[type=\"color\"]" + state + ",\n    input[type=\"date\"]" + state + ",\n    input[type=\"datetime\"]" + state + ",\n    input[type=\"datetime-local\"]" + state + ",\n    input[type=\"email\"]" + state + ",\n    input[type=\"month\"]" + state + ",\n    input[type=\"number\"]" + state + ",\n    input[type=\"password\"]" + state + ",\n    input[type=\"search\"]" + state + ",\n    input[type=\"tel\"]" + state + ",\n    input[type=\"text\"]" + state + ",\n    input[type=\"time\"]" + state + ",\n    input[type=\"url\"]" + state + ",\n    input[type=\"week\"]" + state + ",\n    input:not([type])" + state + ",\n    textarea" + state;
}
/**
 * Populates selectors that target all text inputs. You can pass optional states to append to the selectors.
 * @example
 * // Styles as object usage
 * const styles = {
 *   [textInputs('active')]: {
 *     'border': 'none'
 *   }
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   > ${textInputs('active')} {
 *     border: none;
 *   }
 * `
 *
 * // CSS in JS Output
 *
 *  'input[type="color"]:active,
 *  input[type="date"]:active,
 *  input[type="datetime"]:active,
 *  input[type="datetime-local"]:active,
 *  input[type="email"]:active,
 *  input[type="month"]:active,
 *  input[type="number"]:active,
 *  input[type="password"]:active,
 *  input[type="search"]:active,
 *  input[type="tel"]:active,
 *  input[type="text"]:active,
 *  input[type="time"]:active,
 *  input[type="url"]:active,
 *  input[type="week"]:active,
 *  input:not([type]):active,
 *  textarea:active': {
 *   'border': 'none'
 * }
 */


function textInputs() {
  for (var _len = arguments.length, states = new Array(_len), _key = 0; _key < _len; _key++) {
    states[_key] = arguments[_key];
  }

  return statefulSelectors(states, template$1, stateMap$1);
}

/**
 * Accepts any number of transition values as parameters for creating a single transition statement. You may also pass an array of properties as the first parameter that you would like to apply the same transition values to (second parameter).
 * @example
 * // Styles as object usage
 * const styles = {
 *   ...transitions('opacity 1.0s ease-in 0s', 'width 2.0s ease-in 2s'),
 *   ...transitions(['color', 'background-color'], '2.0s ease-in 2s')
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   ${transitions('opacity 1.0s ease-in 0s', 'width 2.0s ease-in 2s')};
 *   ${transitions(['color', 'background-color'], '2.0s ease-in 2s'),};
 * `
 *
 * // CSS as JS Output
 *
 * div {
 *   'transition': 'opacity 1.0s ease-in 0s, width 2.0s ease-in 2s'
 *   'transition': 'color 2.0s ease-in 2s, background-color 2.0s ease-in 2s',
 * }
 */

function transitions() {
  for (var _len = arguments.length, properties = new Array(_len), _key = 0; _key < _len; _key++) {
    properties[_key] = arguments[_key];
  }

  if (Array.isArray(properties[0]) && properties.length === 2) {
    var value = properties[1];

    if (typeof value !== 'string') {
      throw new PolishedError(61);
    }

    var transitionsString = properties[0].map(function (property) {
      return property + " " + value;
    }).join(', ');
    return {
      transition: transitionsString
    };
  } else {
    return {
      transition: properties.join(', ')
    };
  }
}




/***/ }),

/***/ "./node_modules/polished/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/polished/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js ***!
  \************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _assertThisInitialized; });
function _assertThisInitialized(self) {
  if (self === void 0) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }

  return self;
}

/***/ }),

/***/ "./node_modules/polished/node_modules/@babel/runtime/helpers/esm/construct.js":
/*!************************************************************************************!*\
  !*** ./node_modules/polished/node_modules/@babel/runtime/helpers/esm/construct.js ***!
  \************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _construct; });
/* harmony import */ var _setPrototypeOf__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./setPrototypeOf */ "./node_modules/polished/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js");


function isNativeReflectConstruct() {
  if (typeof Reflect === "undefined" || !Reflect.construct) return false;
  if (Reflect.construct.sham) return false;
  if (typeof Proxy === "function") return true;

  try {
    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));
    return true;
  } catch (e) {
    return false;
  }
}

function _construct(Parent, args, Class) {
  if (isNativeReflectConstruct()) {
    _construct = Reflect.construct;
  } else {
    _construct = function _construct(Parent, args, Class) {
      var a = [null];
      a.push.apply(a, args);
      var Constructor = Function.bind.apply(Parent, a);
      var instance = new Constructor();
      if (Class) Object(_setPrototypeOf__WEBPACK_IMPORTED_MODULE_0__["default"])(instance, Class.prototype);
      return instance;
    };
  }

  return _construct.apply(null, arguments);
}

/***/ }),

/***/ "./node_modules/polished/node_modules/@babel/runtime/helpers/esm/extends.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/polished/node_modules/@babel/runtime/helpers/esm/extends.js ***!
  \**********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _extends; });
function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

/***/ }),

/***/ "./node_modules/polished/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/polished/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js ***!
  \*****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _getPrototypeOf; });
function _getPrototypeOf(o) {
  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
    return o.__proto__ || Object.getPrototypeOf(o);
  };
  return _getPrototypeOf(o);
}

/***/ }),

/***/ "./node_modules/polished/node_modules/@babel/runtime/helpers/esm/inheritsLoose.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/polished/node_modules/@babel/runtime/helpers/esm/inheritsLoose.js ***!
  \****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _inheritsLoose; });
function _inheritsLoose(subClass, superClass) {
  subClass.prototype = Object.create(superClass.prototype);
  subClass.prototype.constructor = subClass;
  subClass.__proto__ = superClass;
}

/***/ }),

/***/ "./node_modules/polished/node_modules/@babel/runtime/helpers/esm/isNativeFunction.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/polished/node_modules/@babel/runtime/helpers/esm/isNativeFunction.js ***!
  \*******************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _isNativeFunction; });
function _isNativeFunction(fn) {
  return Function.toString.call(fn).indexOf("[native code]") !== -1;
}

/***/ }),

/***/ "./node_modules/polished/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/polished/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js ***!
  \*****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _setPrototypeOf; });
function _setPrototypeOf(o, p) {
  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
    o.__proto__ = p;
    return o;
  };

  return _setPrototypeOf(o, p);
}

/***/ }),

/***/ "./node_modules/polished/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteralLoose.js":
/*!*****************************************************************************************************!*\
  !*** ./node_modules/polished/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteralLoose.js ***!
  \*****************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _taggedTemplateLiteralLoose; });
function _taggedTemplateLiteralLoose(strings, raw) {
  if (!raw) {
    raw = strings.slice(0);
  }

  strings.raw = raw;
  return strings;
}

/***/ }),

/***/ "./node_modules/polished/node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/polished/node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js ***!
  \******************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _wrapNativeSuper; });
/* harmony import */ var _getPrototypeOf__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getPrototypeOf */ "./node_modules/polished/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _setPrototypeOf__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./setPrototypeOf */ "./node_modules/polished/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js");
/* harmony import */ var _isNativeFunction__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./isNativeFunction */ "./node_modules/polished/node_modules/@babel/runtime/helpers/esm/isNativeFunction.js");
/* harmony import */ var _construct__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./construct */ "./node_modules/polished/node_modules/@babel/runtime/helpers/esm/construct.js");




function _wrapNativeSuper(Class) {
  var _cache = typeof Map === "function" ? new Map() : undefined;

  _wrapNativeSuper = function _wrapNativeSuper(Class) {
    if (Class === null || !Object(_isNativeFunction__WEBPACK_IMPORTED_MODULE_2__["default"])(Class)) return Class;

    if (typeof Class !== "function") {
      throw new TypeError("Super expression must either be null or a function");
    }

    if (typeof _cache !== "undefined") {
      if (_cache.has(Class)) return _cache.get(Class);

      _cache.set(Class, Wrapper);
    }

    function Wrapper() {
      return Object(_construct__WEBPACK_IMPORTED_MODULE_3__["default"])(Class, arguments, Object(_getPrototypeOf__WEBPACK_IMPORTED_MODULE_0__["default"])(this).constructor);
    }

    Wrapper.prototype = Object.create(Class.prototype, {
      constructor: {
        value: Wrapper,
        enumerable: false,
        writable: true,
        configurable: true
      }
    });
    return Object(_setPrototypeOf__WEBPACK_IMPORTED_MODULE_1__["default"])(Wrapper, Class);
  };

  return _wrapNativeSuper(Class);
}

/***/ }),

/***/ "./node_modules/react-desc/lib/PropTypes.js":
/*!**************************************************!*\
  !*** ./node_modules/react-desc/lib/PropTypes.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

// array function should not be used here so that we can the local this
var addPropTypeDocumentationField = function addPropTypeDocumentationField(fieldName) {
  return function addFieldToReactDesc(value) {
    if (!this.reactDesc) {
      this.reactDesc = {};
    }
    this.reactDesc[fieldName] = value;
    return this;
  };
};

var documentedPropType = {
  defaultValue: addPropTypeDocumentationField('defaultValue'),
  description: addPropTypeDocumentationField('description'),
  deprecated: addPropTypeDocumentationField('deprecated'),
  format: addPropTypeDocumentationField('format')
};

var createPropType = function createPropType(type) {
  var propTypeObj = _extends({
    type: type
  }, documentedPropType);
  Object.defineProperty(propTypeObj, 'isRequired', {
    get: function getRequired() {
      if (!this.reactDesc) {
        this.reactDesc = {};
      }
      this.reactDesc.required = true;
      return this;
    },
    enumerable: true,
    configurable: true
  });
  return propTypeObj;
};

var createPropTypeWithArgs = function createPropTypeWithArgs(type) {
  return function (args) {
    var propTypeObj = _extends({
      args: args,
      type: type
    }, documentedPropType);
    Object.defineProperty(propTypeObj, 'isRequired', {
      get: function getRequired() {
        if (!this.reactDesc) {
          this.reactDesc = {};
        }
        this.reactDesc.required = true;
        return this;
      },
      enumerable: true,
      configurable: true
    });
    return propTypeObj;
  };
};

var PropTypes = {
  custom: function custom(callback) {
    var target = callback.bind(null);
    target.type = 'func';
    Object.keys(documentedPropType).forEach(function (fieldName) {
      target[fieldName] = documentedPropType[fieldName];
    });
    return target;
  }
};

function definePropType(type) {
  Object.defineProperty(PropTypes, type, {
    get: function getPropType() {
      return createPropType(type);
    },
    enumerable: true,
    configurable: true
  });
}

function definePropTypeWithArgs(type) {
  Object.defineProperty(PropTypes, type, {
    get: function getPropType() {
      return createPropTypeWithArgs(type);
    },
    enumerable: true,
    configurable: true
  });
}

definePropType('any');
definePropType('array');
definePropType('bool');
definePropType('element');
definePropType('func');
definePropType('node');
definePropType('number');
definePropType('object');
definePropType('symbol');
definePropType('string');

definePropTypeWithArgs('arrayOf');
definePropTypeWithArgs('instanceOf');
definePropTypeWithArgs('objectOf');
definePropTypeWithArgs('oneOfType');
definePropTypeWithArgs('oneOf');
definePropTypeWithArgs('shape');

exports.default = PropTypes;

/***/ }),

/***/ "./node_modules/react-desc/lib/descToJSON.js":
/*!***************************************************!*\
  !*** ./node_modules/react-desc/lib/descToJSON.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.default = descToJSON;

var arrayFormat = function arrayFormat(array, prefix) {
  return array.map(function (propType) {
    return propTypeFormat(propType, prefix);
  });
};

var shapeFormat = function shapeFormat(shape, prefix) {
  var props = Object.keys(shape).map(function (key) {
    var value = shape[key];
    var valueFormat = void 0;
    if (value.type && (value.type === 'arrayOf' || value.type === 'oneOfType' || value.type === 'oneOf') && Array.isArray(value.args)) {
      valueFormat = '\n' + propTypeFormat(value, prefix + '    ');
    } else if (value.type === 'shape') {
      valueFormat = '\n' + propTypeFormat(value, prefix + '    ');
    } else {
      valueFormat = propTypeFormat(value);
    }
    return prefix + '  ' + key + ': ' + valueFormat;
  });
  return prefix + '{\n' + props.join(',\n') + '\n' + prefix + '}';
};

var propTypeFormat = function propTypeFormat(propType) {
  var prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';

  var result = void 0;
  if (propType.type) {
    switch (propType.type) {
      case 'arrayOf':
        if (Array.isArray(propType.args)) {
          result = prefix + '[\n' + arrayFormat(propType.args, prefix + '  ').join('\n') + '\n' + prefix + ']';
        } else if (propType.args.type === 'oneOfType') {
          result = prefix + '[\n' + propTypeFormat(propType.args, prefix + '  ') + '\n' + prefix + ']';
        } else {
          result = prefix + '[' + propTypeFormat(propType.args) + ']';
        }
        break;
      case 'bool':
        result = prefix + 'boolean';
        break;
      case 'func':
        result = prefix + 'function';
        break;
      case 'instanceOf':
        result = prefix + 'new ' + propType.args.name + '(...)';
        break;
      case 'objectOf':
        result = prefix + '{ test: ' + propType.args.type + ', ... }';
        break;
      case 'oneOf':
        result = propType.args.map(function (a) {
          return '' + prefix + a;
        }).join('\n');
        break;
      case 'oneOfType':
        if (Array.isArray(propType.args)) {
          result = arrayFormat(propType.args, prefix).join('\n');
        } else {
          result = '' + prefix + propTypeFormat(propType.args);
        }
        break;
      case 'shape':
        result = '' + shapeFormat(propType.args, prefix);
        break;
      default:
        result = '' + prefix + propType.type;
        break;
    }
  } else {
    result = prefix + 'custom';
  }
  return result;
};

var propTypeAsJson = function propTypeAsJson(propType, propName, defaultValue) {
  var documentation = _extends({}, propType.reactDesc, {
    name: propName
  });

  if (defaultValue) {
    documentation.defaultValue = defaultValue;
  }

  documentation.format = documentation.format || propTypeFormat(propType);

  return documentation;
};

function descToJSON(component) {
  var reactDesc = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

  if (!component) {
    throw new Error('react-desc: component is required');
  }

  var documentation = _extends({
    name: component.displayName || component.name
  }, reactDesc);
  if (reactDesc) {
    delete documentation.propTypes;

    if (reactDesc.propTypes) {
      var propTypes = [];
      Object.keys(reactDesc.propTypes).forEach(function (propName) {
        var propType = reactDesc.propTypes[propName];
        propTypes.push(propTypeAsJson(propType, propName, (component.defaultProps || {})[propName]));
      });
      if (propTypes.length > 0) {
        documentation.properties = propTypes;
      }
    }
  }
  return documentation;
}

/***/ }),

/***/ "./node_modules/react-desc/lib/descToMarkdown.js":
/*!*******************************************************!*\
  !*** ./node_modules/react-desc/lib/descToMarkdown.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

exports.default = descToMarkdown;

var _descToJSON = __webpack_require__(/*! ./descToJSON */ "./node_modules/react-desc/lib/descToJSON.js");

var _descToJSON2 = _interopRequireDefault(_descToJSON);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var code = '```';

function parseAvailableAt(_ref) {
  var badge = _ref.badge,
      url = _ref.url;

  return '[![](' + badge + ')](' + url + ')';
}

function getAvailableAt(_ref2) {
  var availableAt = _ref2.availableAt;

  if (!availableAt) {
    return '';
  }
  var availableAtStr = void 0;
  if (Array.isArray(availableAt)) {
    availableAtStr = availableAt.map(function (currentAvailable) {
      return parseAvailableAt(currentAvailable);
    }).join(' ');
  } else {
    availableAtStr = parseAvailableAt(availableAt);
  }
  return '\n' + availableAtStr;
}

function getHeader(_ref3) {
  var description = _ref3.description,
      details = _ref3.details,
      deprecated = _ref3.deprecated,
      name = _ref3.name;

  return '## ' + (deprecated ? '~~' + name + '~~' : name) + (deprecated ? ' (' + deprecated + ')' : '') + '\n' + description + (details ? '\n\n' + details : '') + '\n';
}

function getUsage(_ref4) {
  var usage = _ref4.usage;

  return usage ? '\n## Usage\n\n' + code + 'javascript\n' + usage + '\n' + code : '';
}

function getDefaultValue(defaultValue) {
  var defaultValueString = (typeof defaultValue === 'undefined' ? 'undefined' : _typeof(defaultValue)) === 'object' ? JSON.stringify(defaultValue, undefined, 2) : defaultValue;

  return ' Defaults to `' + defaultValueString + '`.';
}

function getProperties(_ref5) {
  var _ref5$properties = _ref5.properties,
      properties = _ref5$properties === undefined ? [] : _ref5$properties;

  var props = properties.map(function (_ref6) {
    var defaultValue = _ref6.defaultValue,
        deprecated = _ref6.deprecated,
        description = _ref6.description,
        format = _ref6.format,
        name = _ref6.name,
        required = _ref6.required;
    return '\n' + (deprecated ? '**~~' + name + '~~**' : '**' + name + '**') + (deprecated ? ' (' + deprecated + ')' : '') + '\n\n' + (required ? 'Required. ' : '') + description + (defaultValue ? getDefaultValue(defaultValue) : '') + '\n\n' + code + '\n' + format + '\n' + code;
  });
  return '\n\n## Properties\n' + props.join('\n') + '\n  ';
}

function getIntrinsicElement(_ref7) {
  var intrinsicElement = _ref7.intrinsicElement;

  return intrinsicElement ? '\n## Intrinsic element\n\n' + code + '\n' + intrinsicElement + '\n' + code : '';
}

function descToMarkdown(component, reactDesc) {
  if (!component) {
    throw new Error('react-desc: component is required');
  }

  var documentation = (0, _descToJSON2.default)(component, reactDesc);
  var availableAt = getAvailableAt(documentation);
  var header = getHeader(documentation);
  var usage = getUsage(documentation);
  var properties = getProperties(documentation);
  var intrinsicElement = getIntrinsicElement(documentation);
  return '' + header + availableAt + usage + properties + intrinsicElement;
}

/***/ }),

/***/ "./node_modules/react-desc/lib/descToTypescript.js":
/*!*********************************************************!*\
  !*** ./node_modules/react-desc/lib/descToTypescript.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.default = descToTypescript;

var arrayFormat = function arrayFormat(array) {
  return array.map(function (propType) {
    return propTypeFormat(propType);
  });
};

var shapeFormat = function shapeFormat(shape) {
  var props = Object.keys(shape).map(function (key) {
    var value = shape[key];
    var valueFormat = void 0;
    if (value.type && (value.type === 'arrayOf' || value.type === 'oneOfType' || value.type === 'oneOf') && Array.isArray(value.args)) {
      valueFormat = '' + propTypeFormat(value);
    } else if (value.type === 'shape') {
      valueFormat = '' + propTypeFormat(value);
    } else {
      valueFormat = propTypeFormat(value);
    }
    return '' + key + (value.reactDesc && value.reactDesc.required ? '' : '?') + ': ' + valueFormat;
  });
  return '{' + props.join(',') + '}';
};

var propTypeFormat = function propTypeFormat(propType, joinWith) {
  var result = void 0;
  if (Array.isArray(propType)) {
    result = arrayFormat(propType).join(joinWith);
  } else if (typeof propType !== 'function' && propType.type) {
    switch (propType.type) {
      case 'array':
        result = 'any[]';
        break;
      case 'arrayOf':
        if (propType.args.type === 'oneOfType') {
          result = '(' + propTypeFormat(propType.args, ' | ') + ')[]';
        } else {
          result = propTypeFormat(propType.args, '\n') + '[]';
        }
        break;
      case 'bool':
        result = 'boolean';
        break;
      case 'func':
        result = '((...args: any[]) => any)';
        break;
      case 'node':
        result = 'React.ReactNode';
        break;
      case 'element':
        result = 'JSX.Element';
        break;
      case 'instanceOf':
        result = 'any';
        break;
      case 'symbol':
        result = 'any';
        break;
      case 'objectOf':
        result = '{ [key: string]: ' + propTypeFormat(propType.args) + ' }';
        break;
      case 'oneOf':
        result = propType.args.map(function (a) {
          return '"' + a + '"';
        }).join(' | ');
        break;
      case 'oneOfType':
        result = '' + propTypeFormat(propType.args, ' | ');
        break;
      case 'shape':
        result = '' + shapeFormat(propType.args);
        break;
      default:
        result = '' + propType.type;
        break;
    }
  } else {
    result = 'any';
  }
  return result;
};

var propTypeAsTypescript = function propTypeAsTypescript(propType, propName) {
  var documentation = _extends({}, propType.reactDesc, {
    name: propName
  });

  documentation.format = propTypeFormat(propType);

  return documentation;
};

function descToTypescript(component) {
  var reactDesc = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

  if (!component) {
    throw new Error('react-desc: component is required');
  }

  var documentation = _extends({
    name: component.displayName || component.name
  }, reactDesc);
  if (reactDesc) {
    delete documentation.propTypes;

    if (reactDesc.propTypes) {
      var propTypes = [];
      Object.keys(reactDesc.propTypes).forEach(function (propName) {
        var propType = reactDesc.propTypes[propName];
        propTypes.push(propTypeAsTypescript(propType, propName));
      });
      if (propTypes.length > 0) {
        documentation.properties = propTypes;
      }
    }
  }
  return documentation;
}

/***/ }),

/***/ "./node_modules/react-desc/lib/describe.js":
/*!*************************************************!*\
  !*** ./node_modules/react-desc/lib/describe.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = describe;

var _propTypes = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");

var _propTypes2 = _interopRequireDefault(_propTypes);

var _descToJSON = __webpack_require__(/*! ./descToJSON */ "./node_modules/react-desc/lib/descToJSON.js");

var _descToJSON2 = _interopRequireDefault(_descToJSON);

var _descToMarkdown = __webpack_require__(/*! ./descToMarkdown */ "./node_modules/react-desc/lib/descToMarkdown.js");

var _descToMarkdown2 = _interopRequireDefault(_descToMarkdown);

var _descToTypescript = __webpack_require__(/*! ./descToTypescript */ "./node_modules/react-desc/lib/descToTypescript.js");

var _descToTypescript2 = _interopRequireDefault(_descToTypescript);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var convertArray = function convertArray(array) {
  return array.map(function (type) {
    return convertPropType(type);
  });
};

var convertShape = function convertShape(shape) {
  var result = {};
  Object.keys(shape).forEach(function (key) {
    result[key] = convertPropType(shape[key]);
  });
  return result;
};

var convertPropType = function convertPropType(propType) {
  var result = void 0;
  if (propType && propType.type) {
    if (!_propTypes2.default[propType.type]) {
      throw new Error('react-desc: unknown type ' + propType.type);
    }
    if (propType.args) {
      if (propType.type === 'oneOfType' || propType.type === 'arrayOf') {
        if (Array.isArray(propType.args)) {
          result = _propTypes2.default[propType.type](convertArray(propType.args));
        } else {
          result = _propTypes2.default[propType.type](convertPropType(propType.args));
        }
      } else if (propType.type === 'shape') {
        result = _propTypes2.default[propType.type](convertShape(propType.args));
      } else {
        result = _propTypes2.default[propType.type](propType.args);
      }
    } else {
      result = _propTypes2.default[propType.type];
    }
  } else {
    result = propType;
  }
  return result;
};

function describe(ComponentInstance) {
  if (!ComponentInstance) {
    throw new Error('react-desc: component is required');
  }

  var documentation = {
    propTypes: {}
  };

  var DocumentedComponent = ComponentInstance;

  var addDocumentationProp = function addDocumentationProp(propName) {
    return function (value) {
      documentation[propName] = value;
      return DocumentedComponent;
    };
  };

  DocumentedComponent.availableAt = addDocumentationProp('availableAt');
  DocumentedComponent.description = addDocumentationProp('description');
  DocumentedComponent.details = addDocumentationProp('details');
  DocumentedComponent.deprecated = addDocumentationProp('deprecated');
  DocumentedComponent.usage = addDocumentationProp('usage');
  DocumentedComponent.intrinsicElement = addDocumentationProp('intrinsicElement');

  DocumentedComponent.toJSON = _descToJSON2.default.bind(null, ComponentInstance, documentation);
  DocumentedComponent.toTypescript = _descToTypescript2.default.bind(null, ComponentInstance, documentation);
  DocumentedComponent.toMarkdown = _descToMarkdown2.default.bind(null, ComponentInstance, documentation);

  Object.defineProperty(DocumentedComponent, 'propTypes', {
    get: function get() {
      return DocumentedComponent.propTypesValue;
    },
    set: function set(value) {
      if (!DocumentedComponent.propTypesValue) {
        DocumentedComponent.propTypesValue = {};
      }
      Object.keys(value).forEach(function (name) {
        var propType = value[name];
        if (propType.type) {
          documentation.propTypes[name] = propType;
          propType = convertPropType(propType);
          if (value[name].reactDesc.required) {
            propType = propType.isRequired;
          }
        }
        DocumentedComponent.propTypesValue[name] = propType;
        return propType;
      });
    },
    enumerable: true,
    configurable: true
  });

  return DocumentedComponent;
}

/***/ }),

/***/ "./node_modules/react-desc/lib/index.js":
/*!**********************************************!*\
  !*** ./node_modules/react-desc/lib/index.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _PropTypes = __webpack_require__(/*! ./PropTypes */ "./node_modules/react-desc/lib/PropTypes.js");

var _PropTypes2 = _interopRequireDefault(_PropTypes);

var _describe = __webpack_require__(/*! ./describe */ "./node_modules/react-desc/lib/describe.js");

var _describe2 = _interopRequireDefault(_describe);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.PropTypes = _PropTypes2.default;
exports.describe = _describe2.default;

exports.default = {
  describe: _describe2.default,
  PropTypes: _PropTypes2.default
};

/***/ }),

/***/ "./node_modules/react-viewport-utils/dist/index.es.js":
/*!************************************************************!*\
  !*** ./node_modules/react-viewport-utils/dist/index.es.js ***!
  \************************************************************/
/*! exports provided: ObserveBoundingClientRect, ObserveViewport, VERSION, ViewportProvider, cancelAnimationFrame, connectViewport, requestAnimationFrame, useDimensions, useDimensionsEffect, useLayoutSnapshot, useRect, useRectEffect, useScroll, useScrollEffect, useViewport, useViewportEffect */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObserveBoundingClientRect", function() { return ObserveBoundingClientRect; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObserveViewport", function() { return ObserveViewport; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "VERSION", function() { return VERSION; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewportProvider", function() { return ViewportProvider; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "cancelAnimationFrame", function() { return cancelAnimationFrame; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "connectViewport", function() { return connect; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "requestAnimationFrame", function() { return requestAnimationFrame; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useDimensions", function() { return useDimensions; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useDimensionsEffect", function() { return useDimensionsEffect; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useLayoutSnapshot", function() { return useLayoutSnapshot; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useRect", function() { return useRect; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useRectEffect", function() { return useRectEffect; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useScroll", function() { return useScroll; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useScrollEffect", function() { return useScrollEffect; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useViewport", function() { return useViewport; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useViewportEffect", function() { return useViewportEffect; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var memoize_one__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! memoize-one */ "./node_modules/memoize-one/dist/memoize-one.esm.js");



/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
/* global Reflect, Promise */

var extendStatics = function(d, b) {
    extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return extendStatics(d, b);
};

function __extends(d, b) {
    extendStatics(d, b);
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
}

var __assign = function() {
    __assign = Object.assign || function __assign(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};

function __spreadArrays() {
    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
    for (var r = Array(s), k = 0, i = 0; i < il; i++)
        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
            r[k] = a[j];
    return r;
}

var shallowEqualScroll = function (a, b) {
    if (a === b) {
        return true;
    }
    return (a.x === b.x &&
        a.y === b.y &&
        a.xTurn === b.xTurn &&
        a.yTurn === b.yTurn &&
        a.xDTurn === b.xDTurn &&
        a.yDTurn === b.yDTurn &&
        a.isScrollingUp === b.isScrollingUp &&
        a.isScrollingDown === b.isScrollingDown &&
        a.isScrollingLeft === b.isScrollingLeft &&
        a.isScrollingRight === b.isScrollingRight);
};
var shallowEqualRect = function (a, b) {
    if (a === b) {
        return true;
    }
    return (a.top === b.top &&
        a.right === b.right &&
        a.bottom === b.bottom &&
        a.left === b.left &&
        a.height === b.height &&
        a.width === b.width);
};
var shallowEqualDimensions = function (a, b) {
    if (a === b) {
        return true;
    }
    return (a.width === b.width &&
        a.height === b.height &&
        a.clientWidth === b.clientWidth &&
        a.clientHeight === b.clientHeight &&
        a.outerWidth === b.outerWidth &&
        a.outerHeight === b.outerHeight &&
        a.documentWidth === b.documentWidth &&
        a.documentHeight === b.documentHeight);
};
// implementation based on https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md
var browserSupportsPassiveEvents = (function () {
    if (typeof window === 'undefined') {
        return false;
    }
    var supportsPassive = false;
    try {
        var opts = Object.defineProperty({}, 'passive', {
            get: function () {
                supportsPassive = true;
            },
        });
        window.addEventListener('testPassive', null, opts);
        window.removeEventListener('testPassive', null, opts);
    }
    catch (e) {
        return false;
    }
    return supportsPassive;
})();
var simpleDebounce = function (fn, delay) {
    var timeout;
    return (function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        clearTimeout(timeout);
        timeout = setTimeout.apply(void 0, __spreadArrays([fn, delay], args));
    });
};
var debounceOnUpdate = function (fn, delay) {
    var timeout;
    var scrollDidUpdate = false;
    var dimensionsDidUpdate = false;
    return function (viewport, options) {
        clearTimeout(timeout);
        scrollDidUpdate = scrollDidUpdate || options.scrollDidUpdate;
        dimensionsDidUpdate = dimensionsDidUpdate || options.dimensionsDidUpdate;
        timeout = setTimeout(function () {
            fn(viewport, {
                scrollDidUpdate: scrollDidUpdate,
                dimensionsDidUpdate: dimensionsDidUpdate,
            });
            scrollDidUpdate = false;
            dimensionsDidUpdate = false;
        }, delay);
    };
};
var warnNoContextAvailable = function (location) {
    if (false) {}
    var fromHook = location.startsWith('use');
    if (fromHook) {
        console.warn("react-viewport-utils: " + location + " hook is not able to connect to a <ViewportProvider>. Therefore it cannot detect updates from the viewport and will not work as expected. To resolve this issue please add a <ViewportProvider> as a parent of the component using the hook, e.g. directly in the ReactDOM.render call:\n\nimport * as ReactDOM from 'react-dom';\nimport { ViewportProvider, " + location + " } from 'react-viewport-utils';\n\nconst MyComponent = () => {\n  " + location + "()\n  ...\n}\n\nReactDOM.render(\n  <ViewportProvider>\n    <main role=\"main\">\n      <MyComponent />\n    </main>\n  </ViewportProvider>,\n  document.getElementById('root')\n);");
        return;
    }
    console.warn("react-viewport-utils: " + location + " component is not able to connect to a <ViewportProvider>. Therefore it cannot detect updates from the viewport and will not work as expected. To resolve this issue please add a <ViewportProvider> as a parent of the <ObserveViewport> component, e.g. directly in the ReactDOM.render call:\n\nimport * as ReactDOM from 'react-dom';\nimport { ViewportProvider, ObserveViewport } from 'react-viewport-utils';\nReactDOM.render(\n  <ViewportProvider>\n    <main role=\"main\">\n      <ObserveViewport>\n        {({ scroll, dimensions }) => ...}\n      </ObserveViewport>\n    </main>\n  </ViewportProvider>,\n  document.getElementById('root')\n);");
};
var warnNoResizeObserver = function () {
    if (false) {}
    console.warn('react-viewport-utils: This browser does not support the ResizeObserver API, therefore not all possible resize events will be detected. In most of the cases this is not an issue and can be ignored. If its relevant to your application please consider adding a polyfill, e.g. https://www.npmjs.com/package/resize-observer-polyfill .');
};
var requestAnimationFrame = (function () {
    var fallback = function (callback) {
        return setTimeout(callback, 1000 / 60);
    };
    if (typeof window !== 'undefined') {
        return (window.requestAnimationFrame ||
            window.webkitRequestAnimationFrame ||
            window.mozRequestAnimationFrame ||
            fallback);
    }
    return fallback;
})();
var cancelAnimationFrame = (function () {
    if (typeof window !== 'undefined') {
        return (window.cancelAnimationFrame ||
            window.webkitCancelAnimationFrame ||
            window.webkitCancelRequestAnimationFrame ||
            clearTimeout);
    }
    return clearTimeout;
})();
var now = typeof performance !== 'undefined' && performance.now
    ? performance.now.bind(performance)
    : Date.now;
var createPerformanceMarker = function () {
    var start = now();
    return function () { return now() - start; };
};

var getClientDimensions = function () {
    if (typeof document === 'undefined' || !document.documentElement) {
        return createEmptyDimensionState();
    }
    var innerWidth = window.innerWidth, innerHeight = window.innerHeight, outerWidth = window.outerWidth, outerHeight = window.outerHeight;
    var _a = document.documentElement, clientWidth = _a.clientWidth, clientHeight = _a.clientHeight, scrollHeight = _a.scrollHeight, scrollWidth = _a.scrollWidth, offsetHeight = _a.offsetHeight, offsetWidth = _a.offsetWidth;
    return {
        width: innerWidth,
        height: innerHeight,
        clientWidth: clientWidth,
        clientHeight: clientHeight,
        outerWidth: outerWidth,
        outerHeight: outerHeight,
        documentWidth: Math.max(scrollWidth, offsetWidth, clientWidth),
        documentHeight: Math.max(scrollHeight, offsetHeight, clientHeight),
    };
};
var getNodeScroll = function (elem) {
    if (elem === void 0) { elem = window; }
    var scrollX = elem.scrollX, scrollY = elem.scrollY;
    if (scrollX === undefined) {
        scrollX = elem.pageXOffset;
    }
    if (scrollY === undefined) {
        scrollY = elem.pageYOffset;
    }
    return {
        x: scrollX,
        y: scrollY,
    };
};
var getClientScroll = function (prevScrollState) {
    if (prevScrollState === void 0) { prevScrollState = createEmptyScrollState(); }
    if (typeof window === 'undefined') {
        return createEmptyScrollState();
    }
    var _a = getNodeScroll(), x = _a.x, y = _a.y;
    var nextScrollState = __assign({}, prevScrollState);
    var prevIsScrollingLeft = prevScrollState.isScrollingLeft, prevIsScrollingUp = prevScrollState.isScrollingUp, prevXTurn = prevScrollState.xTurn, prevYTurn = prevScrollState.yTurn;
    nextScrollState.isScrollingLeft = isScrollingLeft(x, nextScrollState);
    nextScrollState.isScrollingRight = isScrollingRight(x, nextScrollState);
    nextScrollState.isScrollingUp = isScrollingUp(y, nextScrollState);
    nextScrollState.isScrollingDown = isScrollingDown(y, nextScrollState);
    nextScrollState.xTurn =
        nextScrollState.isScrollingLeft === prevIsScrollingLeft ? prevXTurn : x;
    nextScrollState.yTurn =
        nextScrollState.isScrollingUp === prevIsScrollingUp ? prevYTurn : y;
    nextScrollState.xDTurn = x - nextScrollState.xTurn;
    nextScrollState.yDTurn = y - nextScrollState.yTurn;
    nextScrollState.x = x;
    nextScrollState.y = y;
    return nextScrollState;
};
var isScrollingLeft = function (x, prev) {
    switch (true) {
        case x < prev.x:
            return true;
        case x > prev.x:
            return false;
        case x === prev.x:
            return prev.isScrollingLeft;
        default:
            throw new Error('Could not calculate isScrollingLeft');
    }
};
var isScrollingRight = function (x, prev) {
    switch (true) {
        case x > prev.x:
            return true;
        case x < prev.x:
            return false;
        case x === prev.x:
            return prev.isScrollingRight;
        default:
            throw new Error('Could not calculate isScrollingRight');
    }
};
var isScrollingUp = function (y, prev) {
    switch (true) {
        case y < prev.y:
            return true;
        case y > prev.y:
            return false;
        case y === prev.y:
            return prev.isScrollingUp;
        default:
            throw new Error('Could not calculate isScrollingUp');
    }
};
var isScrollingDown = function (y, prev) {
    switch (true) {
        case y > prev.y:
            return true;
        case y < prev.y:
            return false;
        case y === prev.y:
            return prev.isScrollingDown;
        default:
            throw new Error('Could not calculate isScrollingDown');
    }
};
var createEmptyScrollState = function () { return ({
    x: 0,
    y: 0,
    isScrollingUp: false,
    isScrollingDown: false,
    isScrollingLeft: false,
    isScrollingRight: false,
    xTurn: 0,
    yTurn: 0,
    xDTurn: 0,
    yDTurn: 0,
}); };
var createEmptyDimensionState = function () { return ({
    width: 0,
    height: 0,
    clientWidth: 0,
    clientHeight: 0,
    outerWidth: 0,
    outerHeight: 0,
    documentWidth: 0,
    documentHeight: 0,
}); };
var ViewportCollector = /** @class */ (function (_super) {
    __extends(ViewportCollector, _super);
    function ViewportCollector(props) {
        var _this = _super.call(this, props) || this;
        _this.tick = function () {
            if (_this) {
                if (_this.scrollMightHaveUpdated || _this.resizeMightHaveUpdated) {
                    _this.syncState();
                    _this.scrollMightHaveUpdated = false;
                    _this.resizeMightHaveUpdated = false;
                }
                _this.tickId = undefined;
            }
        };
        _this.handleScroll = function () {
            _this.scrollMightHaveUpdated = true;
            if (!_this.tickId) {
                _this.tickId = requestAnimationFrame(_this.tick);
            }
        };
        _this.handleResize = function () {
            _this.resizeMightHaveUpdated = true;
            if (!_this.tickId) {
                _this.tickId = requestAnimationFrame(_this.tick);
            }
        };
        _this.handleResizeDebounce = simpleDebounce(_this.handleResize, 88);
        _this.getPublicScroll = Object(memoize_one__WEBPACK_IMPORTED_MODULE_1__["default"])(function (scroll) { return (__assign({}, scroll)); }, function (_a, _b) {
            var a = _a[0];
            var b = _b[0];
            return shallowEqualScroll(a, b);
        });
        _this.getPublicDimensions = Object(memoize_one__WEBPACK_IMPORTED_MODULE_1__["default"])(function (dimensions) { return (__assign({}, dimensions)); }, function (_a, _b) {
            var a = _a[0];
            var b = _b[0];
            return shallowEqualDimensions(a, b);
        });
        _this.syncState = function () {
            if (_this.scrollMightHaveUpdated) {
                Object.assign(_this.scrollState, getClientScroll(_this.scrollState));
            }
            if (_this.resizeMightHaveUpdated) {
                Object.assign(_this.dimensionsState, getClientDimensions());
            }
            var scrollDidUpdate = _this.scrollMightHaveUpdated &&
                !shallowEqualScroll(_this.lastSyncedScrollState, _this.scrollState);
            var dimensionsDidUpdate = _this.resizeMightHaveUpdated &&
                !shallowEqualDimensions(_this.lastSyncedDimensionsState, _this.dimensionsState);
            if (scrollDidUpdate) {
                _this.lastSyncedScrollState = __assign({}, _this.scrollState);
            }
            if (dimensionsDidUpdate) {
                _this.lastSyncedDimensionsState = __assign({}, _this.dimensionsState);
            }
            if (scrollDidUpdate || dimensionsDidUpdate) {
                var publicState = _this.getPropsFromState();
                _this.props.onUpdate(publicState, {
                    scrollDidUpdate: scrollDidUpdate,
                    dimensionsDidUpdate: dimensionsDidUpdate,
                });
                _this.updateOnIdle(publicState, {
                    scrollDidUpdate: scrollDidUpdate,
                    dimensionsDidUpdate: dimensionsDidUpdate,
                });
            }
        };
        _this.updateOnIdle = debounceOnUpdate(function () {
            var _a;
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i] = arguments[_i];
            }
            if (typeof _this.props.onIdledUpdate === 'function') {
                (_a = _this.props).onIdledUpdate.apply(_a, args);
            }
        }, 166);
        _this.state = {
            parentProviderExists: false,
        };
        _this.scrollMightHaveUpdated = false;
        _this.resizeMightHaveUpdated = false;
        _this.scrollState = createEmptyScrollState();
        _this.dimensionsState = createEmptyDimensionState();
        _this.lastSyncedDimensionsState = __assign({}, _this.dimensionsState);
        _this.lastSyncedScrollState = __assign({}, _this.scrollState);
        _this.resizeObserver = null;
        return _this;
    }
    ViewportCollector.prototype.componentDidMount = function () {
        var options = browserSupportsPassiveEvents ? { passive: true } : false;
        window.addEventListener('scroll', this.handleScroll, options);
        window.addEventListener('resize', this.handleResizeDebounce, options);
        window.addEventListener('orientationchange', this.handleResizeDebounce, options);
        if (typeof window.ResizeObserver !== 'undefined') {
            this.resizeObserver = new window.ResizeObserver(this.handleResizeDebounce);
            this.resizeObserver.observe(document.body);
        }
        else {
            warnNoResizeObserver();
        }
        this.handleScroll();
        this.handleResize();
    };
    ViewportCollector.prototype.componentWillUnmount = function () {
        window.removeEventListener('scroll', this.handleScroll, false);
        window.removeEventListener('resize', this.handleResizeDebounce, false);
        window.removeEventListener('orientationchange', this.handleResizeDebounce, false);
        if (this.resizeObserver) {
            this.resizeObserver.disconnect();
            this.resizeObserver = null;
        }
        if (typeof this.tickId === 'number') {
            cancelAnimationFrame(this.tickId);
        }
    };
    ViewportCollector.prototype.getPropsFromState = function () {
        return {
            scroll: this.getPublicScroll(this.lastSyncedScrollState),
            dimensions: this.getPublicDimensions(this.lastSyncedDimensionsState),
        };
    };
    ViewportCollector.prototype.render = function () {
        return null;
    };
    return ViewportCollector;
}(react__WEBPACK_IMPORTED_MODULE_0__["PureComponent"]));

var createFallbackViewportRequester = function () {
    var defaultValue;
    var lastAccess = 0;
    return function () {
        if (!defaultValue || now() - lastAccess > 1000) {
            defaultValue = {
                scroll: getClientScroll(),
                dimensions: getClientDimensions(),
            };
            lastAccess = now();
        }
        return defaultValue;
    };
};
var ViewportContext = Object(react__WEBPACK_IMPORTED_MODULE_0__["createContext"])({
    removeViewportChangeListener: function (handler) { },
    scheduleReinitializeChangeHandler: function (handler) { },
    addViewportChangeListener: function (handler, options) { },
    getCurrentViewport: createFallbackViewportRequester(),
    hasRootProviderAsParent: false,
    version: '1.11.0',
});
var maxIterations = function (priority) {
    switch (priority) {
        case 'highest':
            return 0;
        case 'high':
            return 4;
        case 'normal':
            return 16;
        case 'low':
            return 64;
    }
};
var shouldSkipIteration = function (_a, budget) {
    var getPriority = _a.priority, averageExecutionCost = _a.averageExecutionCost, skippedIterations = _a.skippedIterations;
    var priority = getPriority();
    if (priority === 'highest') {
        return false;
    }
    if (priority !== 'low' && averageExecutionCost <= budget) {
        return false;
    }
    if (averageExecutionCost <= budget / 10) {
        return false;
    }
    var probability = skippedIterations / maxIterations(priority);
    if (probability >= 1) {
        return false;
    }
    return Math.random() > probability;
};
var ViewportProvider = /** @class */ (function (_super) {
    __extends(ViewportProvider, _super);
    function ViewportProvider(props) {
        var _this = _super.call(this, props) || this;
        _this.listeners = [];
        _this.triggerUpdateToListeners = function (state, _a, options) {
            var scrollDidUpdate = _a.scrollDidUpdate, dimensionsDidUpdate = _a.dimensionsDidUpdate;
            var getOverallDuration = createPerformanceMarker();
            var _b = Object.assign({ isIdle: false, shouldInitialize: false }, options), isIdle = _b.isIdle, shouldInitialize = _b.shouldInitialize;
            var updatableListeners = _this.listeners.filter(function (_a) {
                var notifyScroll = _a.notifyScroll, notifyDimensions = _a.notifyDimensions, notifyOnlyWhenIdle = _a.notifyOnlyWhenIdle, skippedIterations = _a.skippedIterations, initialized = _a.initialized;
                var needsUpdate = skippedIterations > 0;
                if (notifyOnlyWhenIdle() !== isIdle && !needsUpdate) {
                    return false;
                }
                if (shouldInitialize && !initialized) {
                    return true;
                }
                var updateForScroll = notifyScroll() && scrollDidUpdate;
                var updateForDimensions = notifyDimensions() && dimensionsDidUpdate;
                return updateForScroll || updateForDimensions;
            });
            if (_this.props.experimentalSchedulerEnabled) {
                if (!isIdle) {
                    var budget_1 = 16 / updatableListeners.length;
                    updatableListeners = updatableListeners.filter(function (listener) {
                        var skip = listener.initialized
                            ? shouldSkipIteration(listener, budget_1)
                            : false;
                        if (skip) {
                            listener.skippedIterations++;
                            return false;
                        }
                        listener.skippedIterations = 0;
                        return true;
                    });
                }
            }
            var layouts = updatableListeners.map(function (_a) {
                var recalculateLayoutBeforeUpdate = _a.recalculateLayoutBeforeUpdate;
                if (recalculateLayoutBeforeUpdate) {
                    var getDuration = createPerformanceMarker();
                    var layoutState = recalculateLayoutBeforeUpdate(state);
                    return [layoutState, getDuration()];
                }
                return null;
            });
            var overallJSHandlerTotalCost = 0;
            updatableListeners.forEach(function (listener, index) {
                var handler = listener.handler, averageExecutionCost = listener.averageExecutionCost, iterations = listener.iterations;
                var _a = layouts[index] || [null, 0], layout = _a[0], layoutCost = _a[1];
                var getDuration = createPerformanceMarker();
                handler(state, layout);
                var totalCost = layoutCost + getDuration();
                var diff = totalCost - averageExecutionCost;
                var i = iterations + 1;
                listener.averageExecutionCost = averageExecutionCost + diff / i;
                listener.iterations = i;
                listener.initialized = true;
                overallJSHandlerTotalCost += totalCost;
            });
            if (_this.props.experimentalSchedulerLayoutCalculatorEnabled &&
                updatableListeners.length) {
                setTimeout(function () {
                    var diffPerHandler = (getOverallDuration() - overallJSHandlerTotalCost) /
                        updatableListeners.length;
                    updatableListeners.forEach(function (listener) {
                        listener.averageExecutionCost =
                            listener.averageExecutionCost +
                                diffPerHandler / listener.iterations;
                    });
                }, 0);
            }
        };
        _this.addViewportChangeListener = function (handler, options) {
            _this.listeners.push(__assign({ handler: handler, iterations: 0, averageExecutionCost: 0, skippedIterations: 0, initialized: false }, options));
            _this.handleListenerUpdate();
        };
        _this.scheduleReinitializeChangeHandler = function (h) {
            var listener = _this.listeners.find(function (_a) {
                var handler = _a.handler;
                return handler === h;
            });
            if (listener && listener.initialized) {
                listener.initialized = false;
                _this.handleListenerUpdate();
            }
        };
        _this.removeViewportChangeListener = function (h) {
            _this.listeners = _this.listeners.filter(function (_a) {
                var handler = _a.handler;
                return handler !== h;
            });
            _this.handleListenerUpdate();
        };
        _this.collector = Object(react__WEBPACK_IMPORTED_MODULE_0__["createRef"])();
        _this.getCurrentDefaultViewport = createFallbackViewportRequester();
        _this.contextValue = {
            addViewportChangeListener: _this.addViewportChangeListener,
            removeViewportChangeListener: _this.removeViewportChangeListener,
            scheduleReinitializeChangeHandler: _this.scheduleReinitializeChangeHandler,
            getCurrentViewport: function () {
                if (!_this.collector.current) {
                    return _this.getCurrentDefaultViewport();
                }
                return _this.collector.current.getPropsFromState();
            },
            hasRootProviderAsParent: true,
            version: '1.11.0',
        };
        _this.renderChildren = function (props) {
            if (props.hasRootProviderAsParent) {
                if ( true &&
                    props.version !== '1.11.0') {
                    console.warn("react-viewport-utils: Two different versions of the react-viewport-utils library are used in the same react tree. This can lead to unexpected results as the versions might not be compatible.\nThe <ViewportProvider> of version " + props.version + " is currently used, another <ViewportProvider> of version 1.11.0 was detected but is ignored.\nThis is most probably due to some dependencies that use different versions of the react-viewport-utils library. You can check if an update is possible.");
                }
                return _this.props.children;
            }
            return (Object(react__WEBPACK_IMPORTED_MODULE_0__["createElement"])(react__WEBPACK_IMPORTED_MODULE_0__["Fragment"], null,
                _this.state.hasListeners && (Object(react__WEBPACK_IMPORTED_MODULE_0__["createElement"])(ViewportCollector, { ref: _this.collector, onUpdate: _this.triggerUpdateToListeners, onIdledUpdate: function (state, updates) {
                        return _this.triggerUpdateToListeners(state, updates, { isIdle: true });
                    } })),
                Object(react__WEBPACK_IMPORTED_MODULE_0__["createElement"])(ViewportContext.Provider, { value: _this.contextValue }, _this.props.children)));
        };
        _this.state = {
            hasListeners: false,
        };
        return _this;
    }
    ViewportProvider.prototype.componentWillUnmount = function () {
        if (typeof this.updateListenersTick === 'number') {
            clearTimeout(this.updateListenersTick);
        }
        if (typeof this.initializeListenersTick === 'number') {
            cancelAnimationFrame(this.initializeListenersTick);
        }
    };
    ViewportProvider.prototype.handleListenerUpdate = function () {
        var _this = this;
        if (this.updateListenersTick === undefined) {
            this.updateListenersTick = setTimeout(function () {
                var nextState = _this.listeners.length !== 0;
                if (_this.state.hasListeners !== nextState) {
                    _this.setState({
                        hasListeners: _this.listeners.length !== 0,
                    });
                }
                _this.updateListenersTick = undefined;
            }, 1);
        }
        if (this.initializeListenersTick === undefined) {
            this.initializeListenersTick = requestAnimationFrame(function () {
                if (_this.collector.current &&
                    _this.listeners.some(function (l) { return !l.initialized; })) {
                    _this.triggerUpdateToListeners(_this.collector.current.getPropsFromState(), {
                        dimensionsDidUpdate: false,
                        scrollDidUpdate: false,
                    }, {
                        isIdle: false,
                        shouldInitialize: true,
                    });
                }
                _this.initializeListenersTick = undefined;
            });
        }
    };
    ViewportProvider.prototype.render = function () {
        return (Object(react__WEBPACK_IMPORTED_MODULE_0__["createElement"])(ViewportContext.Consumer, null, this.renderChildren));
    };
    return ViewportProvider;
}(react__WEBPACK_IMPORTED_MODULE_0__["PureComponent"]));

var ObserveViewport = /** @class */ (function (_super) {
    __extends(ObserveViewport, _super);
    function ObserveViewport(props) {
        var _this = _super.call(this, props) || this;
        _this.handleViewportUpdate = function (viewport, layoutSnapshot) {
            if (_this.props.onUpdate) {
                _this.props.onUpdate(viewport, layoutSnapshot);
            }
            if (_this.props.children) {
                _this.syncState(viewport);
            }
        };
        _this.registerViewportListeners = function (_a) {
            var addViewportChangeListener = _a.addViewportChangeListener, removeViewportChangeListener = _a.removeViewportChangeListener, scheduleReinitializeChangeHandler = _a.scheduleReinitializeChangeHandler, hasRootProviderAsParent = _a.hasRootProviderAsParent, getCurrentViewport = _a.getCurrentViewport;
            if (!hasRootProviderAsParent) {
                warnNoContextAvailable('ObserveViewport');
                return null;
            }
            var shouldRegister = _this.removeViewportChangeListener !== removeViewportChangeListener;
            if (!shouldRegister) {
                return null;
            }
            if (_this.removeViewportChangeListener) {
                _this.removeViewportChangeListener(_this.handleViewportUpdate);
            }
            _this.removeViewportChangeListener = removeViewportChangeListener;
            _this.getCurrentViewport = getCurrentViewport;
            _this.scheduleReinitializeChangeHandler = scheduleReinitializeChangeHandler;
            addViewportChangeListener(_this.handleViewportUpdate, {
                notifyScroll: function () { return !_this.props.disableScrollUpdates; },
                notifyDimensions: function () { return !_this.props.disableDimensionsUpdates; },
                notifyOnlyWhenIdle: function () { return _this.props.deferUpdateUntilIdle; },
                priority: function () { return _this.props.priority; },
                recalculateLayoutBeforeUpdate: function (viewport) {
                    if (_this.props.recalculateLayoutBeforeUpdate) {
                        return _this.props.recalculateLayoutBeforeUpdate(viewport);
                    }
                    return null;
                },
            });
            if (_this.props.children) {
                _this.syncState(getCurrentViewport());
            }
            return null;
        };
        _this.state = {
            scroll: createEmptyScrollState(),
            dimensions: createEmptyDimensionState(),
        };
        return _this;
    }
    ObserveViewport.prototype.componentDidUpdate = function (prevProps) {
        var dimensionsBecameActive = !this.props.disableDimensionsUpdates &&
            prevProps.disableDimensionsUpdates;
        var scrollBecameActive = !this.props.disableScrollUpdates && prevProps.disableScrollUpdates;
        if (typeof this.scheduleReinitializeChangeHandler === 'function' &&
            (dimensionsBecameActive || scrollBecameActive)) {
            this.scheduleReinitializeChangeHandler(this.handleViewportUpdate);
        }
    };
    ObserveViewport.prototype.componentWillUnmount = function () {
        if (this.removeViewportChangeListener) {
            this.removeViewportChangeListener(this.handleViewportUpdate);
        }
        this.removeViewportChangeListener = undefined;
        this.scheduleReinitializeChangeHandler = undefined;
        if (typeof this.tickId === 'number') {
            cancelAnimationFrame(this.tickId);
        }
    };
    ObserveViewport.prototype.syncState = function (nextViewport) {
        var _this = this;
        if (this.tickId === undefined) {
            this.tickId = requestAnimationFrame(function () {
                _this.setState(nextViewport);
                _this.tickId = undefined;
            });
        }
    };
    Object.defineProperty(ObserveViewport.prototype, "optionNotifyScroll", {
        get: function () {
            return !this.props.disableScrollUpdates;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ObserveViewport.prototype, "optionNotifyDimensions", {
        get: function () {
            return !this.props.disableDimensionsUpdates;
        },
        enumerable: true,
        configurable: true
    });
    ObserveViewport.prototype.render = function () {
        var children = this.props.children;
        return (Object(react__WEBPACK_IMPORTED_MODULE_0__["createElement"])(react__WEBPACK_IMPORTED_MODULE_0__["Fragment"], null,
            Object(react__WEBPACK_IMPORTED_MODULE_0__["createElement"])(ViewportContext.Consumer, null, this.registerViewportListeners),
            children ? children(this.state) : null));
    };
    ObserveViewport.defaultProps = {
        disableScrollUpdates: false,
        disableDimensionsUpdates: false,
        deferUpdateUntilIdle: false,
        priority: 'normal',
    };
    return ObserveViewport;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]));

function connect(options) {
    if (options === void 0) { options = {}; }
    var deferUpdateUntilIdle = Boolean(options.deferUpdateUntilIdle);
    var omit = options.omit || [];
    var shouldOmitScroll = omit.indexOf('scroll') !== -1;
    var shouldOmitDimensions = omit.indexOf('dimensions') !== -1;
    return function (WrappedComponent) {
        var _a;
        var displayName = WrappedComponent.displayName || WrappedComponent.name || 'Component';
        return _a = /** @class */ (function (_super) {
                __extends(ConnectViewport, _super);
                function ConnectViewport() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                ConnectViewport.prototype.render = function () {
                    var _this = this;
                    return (Object(react__WEBPACK_IMPORTED_MODULE_0__["createElement"])(ObserveViewport, { disableScrollUpdates: shouldOmitScroll, disableDimensionsUpdates: shouldOmitDimensions, deferUpdateUntilIdle: deferUpdateUntilIdle }, function (_a) {
                        var scroll = _a.scroll, dimensions = _a.dimensions;
                        return (Object(react__WEBPACK_IMPORTED_MODULE_0__["createElement"])(WrappedComponent, __assign({ scroll: scroll, dimensions: dimensions }, _this.props)));
                    }));
                };
                return ConnectViewport;
            }(react__WEBPACK_IMPORTED_MODULE_0__["Component"])),
            _a.displayName = "connectViewport(" + displayName + ")",
            _a;
    };
}

/**
 * @deprecated Use useRect or useRectEffect instead as it provides better performance.
 */
var ObserveBoundingClientRect = /** @class */ (function (_super) {
    __extends(ObserveBoundingClientRect, _super);
    function ObserveBoundingClientRect(props) {
        var _this = _super.call(this, props) || this;
        _this.syncState = function () {
            var node = _this.props.node;
            if (!node || !node.current) {
                return;
            }
            var rect = _this.getRectFromNode();
            if (rect && !_this.state.isInitialized) {
                _this.setState(__assign(__assign({}, rect), { isInitialized: true }));
                return;
            }
            _this.setState(rect);
        };
        _this.state = {
            top: 0,
            right: 0,
            bottom: 0,
            left: 0,
            height: 0,
            width: 0,
            isInitialized: false,
        };
        return _this;
    }
    ObserveBoundingClientRect.prototype.componentDidMount = function () {
        this.tick(this.syncState);
    };
    ObserveBoundingClientRect.prototype.componentDidUpdate = function (prevProps, prevState) {
        var rect = this.getRectFromState();
        var prevRect = this.getRectFromState(prevState);
        if (!rect) {
            return;
        }
        if (this.props.onInit) {
            if (!prevState.isInitialized && this.state.isInitialized) {
                this.props.onInit(rect);
            }
        }
        if (this.props.onUpdate) {
            if (prevRect === null || !shallowEqualRect(rect, prevRect)) {
                this.props.onUpdate(rect);
            }
        }
    };
    ObserveBoundingClientRect.prototype.componentWillUnmount = function () {
        if (typeof this.tickId === 'number') {
            cancelAnimationFrame(this.tickId);
        }
    };
    ObserveBoundingClientRect.prototype.tick = function (updater) {
        var _this = this;
        this.tickId = requestAnimationFrame(function () {
            updater();
            _this.tick(updater);
        });
    };
    ObserveBoundingClientRect.prototype.getRectFromState = function (state) {
        if (state === void 0) { state = this.state; }
        if (!state.isInitialized) {
            return null;
        }
        return {
            height: state.height,
            width: state.width,
            top: state.top,
            bottom: state.bottom,
            left: state.left,
            right: state.right,
        };
    };
    ObserveBoundingClientRect.prototype.getRectFromNode = function () {
        var node = this.props.node;
        if (!node || !node.current) {
            return null;
        }
        var rect = node.current.getBoundingClientRect();
        return {
            height: rect.height,
            width: rect.width,
            top: rect.top,
            bottom: rect.bottom,
            left: rect.left,
            right: rect.right,
        };
    };
    ObserveBoundingClientRect.prototype.render = function () {
        var children = this.props.children;
        return typeof children === 'function'
            ? children(this.getRectFromState())
            : null;
    };
    return ObserveBoundingClientRect;
}(react__WEBPACK_IMPORTED_MODULE_0__["PureComponent"]));

function useViewportEffect(handleViewportChange, second, third) {
    var _a = Object(react__WEBPACK_IMPORTED_MODULE_0__["useContext"])(ViewportContext), addViewportChangeListener = _a.addViewportChangeListener, removeViewportChangeListener = _a.removeViewportChangeListener, hasRootProviderAsParent = _a.hasRootProviderAsParent;
    var _b = sortArgs(second, third), options = _b.options, deps = _b.deps;
    var memoOptions = useOptions(options);
    Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
        if (!hasRootProviderAsParent) {
            warnNoContextAvailable('useViewport');
            return;
        }
        addViewportChangeListener(handleViewportChange, {
            notifyScroll: function () { return !memoOptions.disableScrollUpdates; },
            notifyDimensions: function () { return !memoOptions.disableDimensionsUpdates; },
            notifyOnlyWhenIdle: function () { return Boolean(memoOptions.deferUpdateUntilIdle); },
            priority: function () { return memoOptions.priority || 'normal'; },
            recalculateLayoutBeforeUpdate: memoOptions.recalculateLayoutBeforeUpdate,
        });
        return function () { return removeViewportChangeListener(handleViewportChange); };
    }, __spreadArrays([
        addViewportChangeListener || null,
        removeViewportChangeListener || null
    ], deps));
}
var useViewport = function (options) {
    if (options === void 0) { options = {}; }
    var getCurrentViewport = Object(react__WEBPACK_IMPORTED_MODULE_0__["useContext"])(ViewportContext).getCurrentViewport;
    var _a = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(getCurrentViewport()), state = _a[0], setViewport = _a[1];
    useViewportEffect(function (viewport) { return setViewport(viewport); }, options);
    return state;
};
function useScrollEffect(effect, second, third) {
    var _a = sortArgs(second, third), options = _a.options, deps = _a.deps;
    useViewportEffect(function (viewport, snapshot) { return effect(viewport.scroll, snapshot); }, __assign({ disableDimensionsUpdates: true }, options), deps);
}
var useScroll = function (options) {
    if (options === void 0) { options = {}; }
    var scroll = useViewport(__assign({ disableDimensionsUpdates: true }, options)).scroll;
    return scroll;
};
function useDimensionsEffect(effect, second, third) {
    var _a = sortArgs(second, third), options = _a.options, deps = _a.deps;
    useViewportEffect(function (viewport, snapshot) { return effect(viewport.dimensions, snapshot); }, __assign({ disableScrollUpdates: true }, options), deps);
}
var useDimensions = function (options) {
    if (options === void 0) { options = {}; }
    var dimensions = useViewport(__assign({ disableScrollUpdates: true }, options)).dimensions;
    return dimensions;
};
var useRectEffect = function (effect, ref, options) {
    useViewportEffect(function (_, snapshot) { return effect(snapshot); }, __assign(__assign({}, options), { recalculateLayoutBeforeUpdate: function () {
            return ref.current ? ref.current.getBoundingClientRect() : null;
        } }), [ref.current]);
};
var useRect = function (ref, options) {
    return useLayoutSnapshot(function () { return (ref.current ? ref.current.getBoundingClientRect() : null); }, options, [ref.current]);
};
function useLayoutSnapshot(recalculateLayoutBeforeUpdate, second, third) {
    var _a = sortArgs(second, third), options = _a.options, deps = _a.deps;
    var _b = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(null), state = _b[0], setSnapshot = _b[1];
    useViewportEffect(function (_, snapshot) { return setSnapshot(snapshot); }, __assign(__assign({}, options), { recalculateLayoutBeforeUpdate: recalculateLayoutBeforeUpdate }), deps);
    return state;
}
var useOptions = function (o) {
    var optionsRef = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])(Object.create(null));
    for (var _i = 0, _a = Object.keys(optionsRef.current); _i < _a.length; _i++) {
        var key = _a[_i];
        delete optionsRef.current[key];
    }
    Object.assign(optionsRef.current, o);
    return optionsRef.current;
};
var sortArgs = function (first, second) {
    var options = {};
    if (first && !Array.isArray(first)) {
        options = first;
    }
    var deps = second || [];
    if (first && Array.isArray(first)) {
        deps = first;
    }
    return { deps: deps, options: options };
};

var VERSION = '1.11.0';


//# sourceMappingURL=index.es.js.map


/***/ }),

/***/ "./node_modules/recompose/dist/Recompose.esm.js":
/*!******************************************************!*\
  !*** ./node_modules/recompose/dist/Recompose.esm.js ***!
  \******************************************************/
/*! exports provided: mapProps, withProps, withPropsOnChange, withHandlers, defaultProps, renameProp, renameProps, flattenProp, withState, withStateHandlers, withReducer, branch, renderComponent, renderNothing, shouldUpdate, pure, onlyUpdateForKeys, onlyUpdateForPropTypes, withContext, getContext, lifecycle, toClass, toRenderProps, fromRenderProps, setStatic, setPropTypes, setDisplayName, compose, getDisplayName, wrapDisplayName, shallowEqual, isClassComponent, createSink, componentFromProp, nest, hoistStatics, componentFromStream, componentFromStreamWithConfig, mapPropsStream, mapPropsStreamWithConfig, createEventHandler, createEventHandlerWithConfig, setObservableConfig */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "mapProps", function() { return mapProps; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "withProps", function() { return withProps; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "withPropsOnChange", function() { return withPropsOnChange; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "withHandlers", function() { return withHandlers; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "defaultProps", function() { return defaultProps; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "renameProp", function() { return renameProp; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "renameProps", function() { return renameProps; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "flattenProp", function() { return flattenProp; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "withState", function() { return withState; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "withStateHandlers", function() { return withStateHandlers; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "withReducer", function() { return withReducer; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "branch", function() { return branch; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "renderComponent", function() { return renderComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "renderNothing", function() { return renderNothing; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "shouldUpdate", function() { return shouldUpdate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "pure", function() { return pure; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "onlyUpdateForKeys", function() { return onlyUpdateForKeys; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "onlyUpdateForPropTypes", function() { return onlyUpdateForPropTypes; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "withContext", function() { return withContext; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getContext", function() { return getContext; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "lifecycle", function() { return lifecycle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "toClass", function() { return toClass; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "toRenderProps", function() { return toRenderProps; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fromRenderProps", function() { return fromRenderProps; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setStatic", function() { return setStatic; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setPropTypes", function() { return setPropTypes; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setDisplayName", function() { return setDisplayName; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "compose", function() { return compose; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getDisplayName", function() { return getDisplayName; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "wrapDisplayName", function() { return wrapDisplayName; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isClassComponent", function() { return isClassComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createSink", function() { return createSink; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "componentFromProp", function() { return componentFromProp; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "nest", function() { return nest; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hoistStatics", function() { return hoistStatics; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "componentFromStream", function() { return componentFromStream; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "componentFromStreamWithConfig", function() { return componentFromStreamWithConfig; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "mapPropsStream", function() { return mapPropsStream; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "mapPropsStreamWithConfig", function() { return mapPropsStreamWithConfig; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createEventHandler", function() { return createEventHandler; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createEventHandlerWithConfig", function() { return createEventHandlerWithConfig; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setObservableConfig", function() { return configureObservable; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/esm/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var fbjs_lib_shallowEqual__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! fbjs/lib/shallowEqual */ "./node_modules/fbjs/lib/shallowEqual.js");
/* harmony import */ var fbjs_lib_shallowEqual__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(fbjs_lib_shallowEqual__WEBPACK_IMPORTED_MODULE_2__);
/* harmony reexport (default from non-harmony) */ __webpack_require__.d(__webpack_exports__, "shallowEqual", function() { return fbjs_lib_shallowEqual__WEBPACK_IMPORTED_MODULE_2___default.a; });
/* harmony import */ var _babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/esm/inheritsLoose */ "./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js");
/* harmony import */ var react_lifecycles_compat__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-lifecycles-compat */ "./node_modules/react-lifecycles-compat/react-lifecycles-compat.es.js");
/* harmony import */ var _babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectWithoutPropertiesLoose */ "./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js");
/* harmony import */ var hoist_non_react_statics__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! hoist-non-react-statics */ "./node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js");
/* harmony import */ var hoist_non_react_statics__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(hoist_non_react_statics__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var change_emitter__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! change-emitter */ "./node_modules/change-emitter/lib/index.js");
/* harmony import */ var change_emitter__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(change_emitter__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var symbol_observable__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! symbol-observable */ "./node_modules/symbol-observable/es/index.js");










var setStatic = function setStatic(key, value) {
  return function (BaseComponent) {
    /* eslint-disable no-param-reassign */
    BaseComponent[key] = value;
    /* eslint-enable no-param-reassign */

    return BaseComponent;
  };
};

var setDisplayName = function setDisplayName(displayName) {
  return setStatic('displayName', displayName);
};

var getDisplayName = function getDisplayName(Component$$1) {
  if (typeof Component$$1 === 'string') {
    return Component$$1;
  }

  if (!Component$$1) {
    return undefined;
  }

  return Component$$1.displayName || Component$$1.name || 'Component';
};

var wrapDisplayName = function wrapDisplayName(BaseComponent, hocName) {
  return hocName + "(" + getDisplayName(BaseComponent) + ")";
};

var mapProps = function mapProps(propsMapper) {
  return function (BaseComponent) {
    var factory = Object(react__WEBPACK_IMPORTED_MODULE_0__["createFactory"])(BaseComponent);

    var MapProps = function MapProps(props) {
      return factory(propsMapper(props));
    };

    if (true) {
      return setDisplayName(wrapDisplayName(BaseComponent, 'mapProps'))(MapProps);
    }

    return MapProps;
  };
};

var withProps = function withProps(input) {
  var hoc = mapProps(function (props) {
    return Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__["default"])({}, props, typeof input === 'function' ? input(props) : input);
  });

  if (true) {
    return function (BaseComponent) {
      return setDisplayName(wrapDisplayName(BaseComponent, 'withProps'))(hoc(BaseComponent));
    };
  }

  return hoc;
};

var pick = function pick(obj, keys) {
  var result = {};

  for (var i = 0; i < keys.length; i++) {
    var key = keys[i];

    if (obj.hasOwnProperty(key)) {
      result[key] = obj[key];
    }
  }

  return result;
};

var withPropsOnChange = function withPropsOnChange(shouldMapOrKeys, propsMapper) {
  return function (BaseComponent) {
    var factory = Object(react__WEBPACK_IMPORTED_MODULE_0__["createFactory"])(BaseComponent);
    var shouldMap = typeof shouldMapOrKeys === 'function' ? shouldMapOrKeys : function (props, nextProps) {
      return !fbjs_lib_shallowEqual__WEBPACK_IMPORTED_MODULE_2___default()(pick(props, shouldMapOrKeys), pick(nextProps, shouldMapOrKeys));
    };

    var WithPropsOnChange =
    /*#__PURE__*/
    function (_Component) {
      Object(_babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_3__["default"])(WithPropsOnChange, _Component);

      function WithPropsOnChange() {
        var _this;

        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }

        _this = _Component.call.apply(_Component, [this].concat(args)) || this;
        _this.state = {
          computedProps: propsMapper(_this.props),
          prevProps: _this.props
        };
        return _this;
      }

      WithPropsOnChange.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {
        if (shouldMap(prevState.prevProps, nextProps)) {
          return {
            computedProps: propsMapper(nextProps),
            prevProps: nextProps
          };
        }

        return {
          prevProps: nextProps
        };
      };

      var _proto = WithPropsOnChange.prototype;

      _proto.render = function render() {
        return factory(Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__["default"])({}, this.props, this.state.computedProps));
      };

      return WithPropsOnChange;
    }(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

    Object(react_lifecycles_compat__WEBPACK_IMPORTED_MODULE_4__["polyfill"])(WithPropsOnChange);

    if (true) {
      return setDisplayName(wrapDisplayName(BaseComponent, 'withPropsOnChange'))(WithPropsOnChange);
    }

    return WithPropsOnChange;
  };
};

var mapValues = function mapValues(obj, func) {
  var result = {};
  /* eslint-disable no-restricted-syntax */

  for (var key in obj) {
    if (obj.hasOwnProperty(key)) {
      result[key] = func(obj[key], key);
    }
  }
  /* eslint-enable no-restricted-syntax */


  return result;
};

var withHandlers = function withHandlers(handlers) {
  return function (BaseComponent) {
    var factory = Object(react__WEBPACK_IMPORTED_MODULE_0__["createFactory"])(BaseComponent);

    var WithHandlers =
    /*#__PURE__*/
    function (_Component) {
      Object(_babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_3__["default"])(WithHandlers, _Component);

      function WithHandlers() {
        var _this;

        for (var _len = arguments.length, _args = new Array(_len), _key = 0; _key < _len; _key++) {
          _args[_key] = arguments[_key];
        }

        _this = _Component.call.apply(_Component, [this].concat(_args)) || this;
        _this.handlers = mapValues(typeof handlers === 'function' ? handlers(_this.props) : handlers, function (createHandler) {
          return function () {
            var handler = createHandler(_this.props);

            if ( true && typeof handler !== 'function') {
              console.error( // eslint-disable-line no-console
              'withHandlers(): Expected a map of higher-order functions. ' + 'Refer to the docs for more info.');
            }

            return handler.apply(void 0, arguments);
          };
        });
        return _this;
      }

      var _proto = WithHandlers.prototype;

      _proto.render = function render() {
        return factory(Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__["default"])({}, this.props, this.handlers));
      };

      return WithHandlers;
    }(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

    if (true) {
      return setDisplayName(wrapDisplayName(BaseComponent, 'withHandlers'))(WithHandlers);
    }

    return WithHandlers;
  };
};

var defaultProps = function defaultProps(props) {
  return function (BaseComponent) {
    var factory = Object(react__WEBPACK_IMPORTED_MODULE_0__["createFactory"])(BaseComponent);

    var DefaultProps = function DefaultProps(ownerProps) {
      return factory(ownerProps);
    };

    DefaultProps.defaultProps = props;

    if (true) {
      return setDisplayName(wrapDisplayName(BaseComponent, 'defaultProps'))(DefaultProps);
    }

    return DefaultProps;
  };
};

var omit = function omit(obj, keys) {
  var rest = Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__["default"])({}, obj);

  for (var i = 0; i < keys.length; i++) {
    var key = keys[i];

    if (rest.hasOwnProperty(key)) {
      delete rest[key];
    }
  }

  return rest;
};

var renameProp = function renameProp(oldName, newName) {
  var hoc = mapProps(function (props) {
    var _extends2;

    return Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__["default"])({}, omit(props, [oldName]), (_extends2 = {}, _extends2[newName] = props[oldName], _extends2));
  });

  if (true) {
    return function (BaseComponent) {
      return setDisplayName(wrapDisplayName(BaseComponent, 'renameProp'))(hoc(BaseComponent));
    };
  }

  return hoc;
};

var keys = Object.keys;

var mapKeys = function mapKeys(obj, func) {
  return keys(obj).reduce(function (result, key) {
    var val = obj[key];
    /* eslint-disable no-param-reassign */

    result[func(val, key)] = val;
    /* eslint-enable no-param-reassign */

    return result;
  }, {});
};

var renameProps = function renameProps(nameMap) {
  var hoc = mapProps(function (props) {
    return Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__["default"])({}, omit(props, keys(nameMap)), mapKeys(pick(props, keys(nameMap)), function (_, oldName) {
      return nameMap[oldName];
    }));
  });

  if (true) {
    return function (BaseComponent) {
      return setDisplayName(wrapDisplayName(BaseComponent, 'renameProps'))(hoc(BaseComponent));
    };
  }

  return hoc;
};

var flattenProp = function flattenProp(propName) {
  return function (BaseComponent) {
    var factory = Object(react__WEBPACK_IMPORTED_MODULE_0__["createFactory"])(BaseComponent);

    var FlattenProp = function FlattenProp(props) {
      return factory(Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__["default"])({}, props, props[propName]));
    };

    if (true) {
      return setDisplayName(wrapDisplayName(BaseComponent, 'flattenProp'))(FlattenProp);
    }

    return FlattenProp;
  };
};

var withState = function withState(stateName, stateUpdaterName, initialState) {
  return function (BaseComponent) {
    var factory = Object(react__WEBPACK_IMPORTED_MODULE_0__["createFactory"])(BaseComponent);

    var WithState =
    /*#__PURE__*/
    function (_Component) {
      Object(_babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_3__["default"])(WithState, _Component);

      function WithState() {
        var _this;

        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }

        _this = _Component.call.apply(_Component, [this].concat(args)) || this;
        _this.state = {
          stateValue: typeof initialState === 'function' ? initialState(_this.props) : initialState
        };

        _this.updateStateValue = function (updateFn, callback) {
          return _this.setState(function (_ref) {
            var stateValue = _ref.stateValue;
            return {
              stateValue: typeof updateFn === 'function' ? updateFn(stateValue) : updateFn
            };
          }, callback);
        };

        return _this;
      }

      var _proto = WithState.prototype;

      _proto.render = function render() {
        var _extends2;

        return factory(Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__["default"])({}, this.props, (_extends2 = {}, _extends2[stateName] = this.state.stateValue, _extends2[stateUpdaterName] = this.updateStateValue, _extends2)));
      };

      return WithState;
    }(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

    if (true) {
      return setDisplayName(wrapDisplayName(BaseComponent, 'withState'))(WithState);
    }

    return WithState;
  };
};

var withStateHandlers = function withStateHandlers(initialState, stateUpdaters) {
  return function (BaseComponent) {
    var factory = Object(react__WEBPACK_IMPORTED_MODULE_0__["createFactory"])(BaseComponent);

    var WithStateHandlers =
    /*#__PURE__*/
    function (_Component) {
      Object(_babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_3__["default"])(WithStateHandlers, _Component);

      function WithStateHandlers() {
        var _this;

        for (var _len = arguments.length, _args = new Array(_len), _key = 0; _key < _len; _key++) {
          _args[_key] = arguments[_key];
        }

        _this = _Component.call.apply(_Component, [this].concat(_args)) || this;
        _this.state = typeof initialState === 'function' ? initialState(_this.props) : initialState;
        _this.stateUpdaters = mapValues(stateUpdaters, function (handler) {
          return function (mayBeEvent) {
            for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
              args[_key2 - 1] = arguments[_key2];
            }

            // Having that functional form of setState can be called async
            // we need to persist SyntheticEvent
            if (mayBeEvent && typeof mayBeEvent.persist === 'function') {
              mayBeEvent.persist();
            }

            _this.setState(function (state, props) {
              return handler(state, props).apply(void 0, [mayBeEvent].concat(args));
            });
          };
        });
        return _this;
      }

      var _proto = WithStateHandlers.prototype;

      _proto.render = function render() {
        return factory(Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__["default"])({}, this.props, this.state, this.stateUpdaters));
      };

      return WithStateHandlers;
    }(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

    if (true) {
      return setDisplayName(wrapDisplayName(BaseComponent, 'withStateHandlers'))(WithStateHandlers);
    }

    return WithStateHandlers;
  };
};

var noop = function noop() {};

var withReducer = function withReducer(stateName, dispatchName, reducer, initialState) {
  return function (BaseComponent) {
    var factory = Object(react__WEBPACK_IMPORTED_MODULE_0__["createFactory"])(BaseComponent);

    var WithReducer =
    /*#__PURE__*/
    function (_Component) {
      Object(_babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_3__["default"])(WithReducer, _Component);

      function WithReducer() {
        var _this;

        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }

        _this = _Component.call.apply(_Component, [this].concat(args)) || this;
        _this.state = {
          stateValue: _this.initializeStateValue()
        };

        _this.dispatch = function (action, callback) {
          if (callback === void 0) {
            callback = noop;
          }

          return _this.setState(function (_ref) {
            var stateValue = _ref.stateValue;
            return {
              stateValue: reducer(stateValue, action)
            };
          }, function () {
            return callback(_this.state.stateValue);
          });
        };

        return _this;
      }

      var _proto = WithReducer.prototype;

      _proto.initializeStateValue = function initializeStateValue() {
        if (initialState !== undefined) {
          return typeof initialState === 'function' ? initialState(this.props) : initialState;
        }

        return reducer(undefined, {
          type: '@@recompose/INIT'
        });
      };

      _proto.render = function render() {
        var _extends2;

        return factory(Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__["default"])({}, this.props, (_extends2 = {}, _extends2[stateName] = this.state.stateValue, _extends2[dispatchName] = this.dispatch, _extends2)));
      };

      return WithReducer;
    }(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

    if (true) {
      return setDisplayName(wrapDisplayName(BaseComponent, 'withReducer'))(WithReducer);
    }

    return WithReducer;
  };
};

var identity = function identity(Component$$1) {
  return Component$$1;
};

var branch = function branch(test, left, right) {
  if (right === void 0) {
    right = identity;
  }

  return function (BaseComponent) {
    var leftFactory;
    var rightFactory;

    var Branch = function Branch(props) {
      if (test(props)) {
        leftFactory = leftFactory || Object(react__WEBPACK_IMPORTED_MODULE_0__["createFactory"])(left(BaseComponent));
        return leftFactory(props);
      }

      rightFactory = rightFactory || Object(react__WEBPACK_IMPORTED_MODULE_0__["createFactory"])(right(BaseComponent));
      return rightFactory(props);
    };

    if (true) {
      return setDisplayName(wrapDisplayName(BaseComponent, 'branch'))(Branch);
    }

    return Branch;
  };
};

var renderComponent = function renderComponent(Component$$1) {
  return function (_) {
    var factory = Object(react__WEBPACK_IMPORTED_MODULE_0__["createFactory"])(Component$$1);

    var RenderComponent = function RenderComponent(props) {
      return factory(props);
    };

    if (true) {
      RenderComponent.displayName = wrapDisplayName(Component$$1, 'renderComponent');
    }

    return RenderComponent;
  };
};

var Nothing =
/*#__PURE__*/
function (_Component) {
  Object(_babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_3__["default"])(Nothing, _Component);

  function Nothing() {
    return _Component.apply(this, arguments) || this;
  }

  var _proto = Nothing.prototype;

  _proto.render = function render() {
    return null;
  };

  return Nothing;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

var renderNothing = function renderNothing(_) {
  return Nothing;
};

var shouldUpdate = function shouldUpdate(test) {
  return function (BaseComponent) {
    var factory = Object(react__WEBPACK_IMPORTED_MODULE_0__["createFactory"])(BaseComponent);

    var ShouldUpdate =
    /*#__PURE__*/
    function (_Component) {
      Object(_babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_3__["default"])(ShouldUpdate, _Component);

      function ShouldUpdate() {
        return _Component.apply(this, arguments) || this;
      }

      var _proto = ShouldUpdate.prototype;

      _proto.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {
        return test(this.props, nextProps);
      };

      _proto.render = function render() {
        return factory(this.props);
      };

      return ShouldUpdate;
    }(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

    if (true) {
      return setDisplayName(wrapDisplayName(BaseComponent, 'shouldUpdate'))(ShouldUpdate);
    }

    return ShouldUpdate;
  };
};

var pure = function pure(BaseComponent) {
  var hoc = shouldUpdate(function (props, nextProps) {
    return !fbjs_lib_shallowEqual__WEBPACK_IMPORTED_MODULE_2___default()(props, nextProps);
  });

  if (true) {
    return setDisplayName(wrapDisplayName(BaseComponent, 'pure'))(hoc(BaseComponent));
  }

  return hoc(BaseComponent);
};

var onlyUpdateForKeys = function onlyUpdateForKeys(propKeys) {
  var hoc = shouldUpdate(function (props, nextProps) {
    return !fbjs_lib_shallowEqual__WEBPACK_IMPORTED_MODULE_2___default()(pick(nextProps, propKeys), pick(props, propKeys));
  });

  if (true) {
    return function (BaseComponent) {
      return setDisplayName(wrapDisplayName(BaseComponent, 'onlyUpdateForKeys'))(hoc(BaseComponent));
    };
  }

  return hoc;
};

var onlyUpdateForPropTypes = function onlyUpdateForPropTypes(BaseComponent) {
  var propTypes = BaseComponent.propTypes;

  if (true) {
    if (!propTypes) {
      /* eslint-disable */
      console.error('A component without any `propTypes` was passed to ' + '`onlyUpdateForPropTypes()`. Check the implementation of the ' + ("component with display name \"" + getDisplayName(BaseComponent) + "\"."));
      /* eslint-enable */
    }
  }

  var propKeys = Object.keys(propTypes || {});
  var OnlyUpdateForPropTypes = onlyUpdateForKeys(propKeys)(BaseComponent);

  if (true) {
    return setDisplayName(wrapDisplayName(BaseComponent, 'onlyUpdateForPropTypes'))(OnlyUpdateForPropTypes);
  }

  return OnlyUpdateForPropTypes;
};

var withContext = function withContext(childContextTypes, getChildContext) {
  return function (BaseComponent) {
    var factory = Object(react__WEBPACK_IMPORTED_MODULE_0__["createFactory"])(BaseComponent);

    var WithContext =
    /*#__PURE__*/
    function (_Component) {
      Object(_babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_3__["default"])(WithContext, _Component);

      function WithContext() {
        var _this;

        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }

        _this = _Component.call.apply(_Component, [this].concat(args)) || this;

        _this.getChildContext = function () {
          return getChildContext(_this.props);
        };

        return _this;
      }

      var _proto = WithContext.prototype;

      _proto.render = function render() {
        return factory(this.props);
      };

      return WithContext;
    }(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

    WithContext.childContextTypes = childContextTypes;

    if (true) {
      return setDisplayName(wrapDisplayName(BaseComponent, 'withContext'))(WithContext);
    }

    return WithContext;
  };
};

var getContext = function getContext(contextTypes) {
  return function (BaseComponent) {
    var factory = Object(react__WEBPACK_IMPORTED_MODULE_0__["createFactory"])(BaseComponent);

    var GetContext = function GetContext(ownerProps, context) {
      return factory(Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__["default"])({}, ownerProps, context));
    };

    GetContext.contextTypes = contextTypes;

    if (true) {
      return setDisplayName(wrapDisplayName(BaseComponent, 'getContext'))(GetContext);
    }

    return GetContext;
  };
};

var lifecycle = function lifecycle(spec) {
  return function (BaseComponent) {
    var factory = Object(react__WEBPACK_IMPORTED_MODULE_0__["createFactory"])(BaseComponent);

    if ( true && spec.hasOwnProperty('render')) {
      console.error('lifecycle() does not support the render method; its behavior is to ' + 'pass all props and state to the base component.');
    }

    var Lifecycle =
    /*#__PURE__*/
    function (_Component) {
      Object(_babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_3__["default"])(Lifecycle, _Component);

      function Lifecycle() {
        return _Component.apply(this, arguments) || this;
      }

      var _proto = Lifecycle.prototype;

      _proto.render = function render() {
        return factory(Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__["default"])({}, this.props, this.state));
      };

      return Lifecycle;
    }(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

    Object.keys(spec).forEach(function (hook) {
      return Lifecycle.prototype[hook] = spec[hook];
    });

    if (true) {
      return setDisplayName(wrapDisplayName(BaseComponent, 'lifecycle'))(Lifecycle);
    }

    return Lifecycle;
  };
};

var isClassComponent = function isClassComponent(Component$$1) {
  return Boolean(Component$$1 && Component$$1.prototype && typeof Component$$1.prototype.render === 'function');
};

var toClass = function toClass(baseComponent) {
  var _class, _temp;

  return isClassComponent(baseComponent) ? baseComponent : (_temp = _class =
  /*#__PURE__*/
  function (_Component) {
    Object(_babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_3__["default"])(ToClass, _Component);

    function ToClass() {
      return _Component.apply(this, arguments) || this;
    }

    var _proto = ToClass.prototype;

    _proto.render = function render() {
      if (typeof baseComponent === 'string') {
        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(baseComponent, this.props);
      }

      return baseComponent(this.props, this.context);
    };

    return ToClass;
  }(react__WEBPACK_IMPORTED_MODULE_0__["Component"]), _class.displayName = getDisplayName(baseComponent), _class.propTypes = baseComponent.propTypes, _class.contextTypes = baseComponent.contextTypes, _class.defaultProps = baseComponent.defaultProps, _temp);
};

function toRenderProps(hoc) {
  var RenderPropsComponent = function RenderPropsComponent(props) {
    return props.children(props);
  };

  return hoc(RenderPropsComponent);
}

var fromRenderProps = function fromRenderProps(RenderPropsComponent, propsMapper, renderPropName) {
  if (renderPropName === void 0) {
    renderPropName = 'children';
  }

  return function (BaseComponent) {
    var baseFactory = react__WEBPACK_IMPORTED_MODULE_0___default.a.createFactory(BaseComponent);
    var renderPropsFactory = react__WEBPACK_IMPORTED_MODULE_0___default.a.createFactory(RenderPropsComponent);

    var FromRenderProps = function FromRenderProps(ownerProps) {
      var _renderPropsFactory;

      return renderPropsFactory((_renderPropsFactory = {}, _renderPropsFactory[renderPropName] = function () {
        return baseFactory(Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__["default"])({}, ownerProps, propsMapper.apply(void 0, arguments)));
      }, _renderPropsFactory));
    };

    if (true) {
      return setDisplayName(wrapDisplayName(BaseComponent, 'fromRenderProps'))(FromRenderProps);
    }

    return FromRenderProps;
  };
};

var setPropTypes = function setPropTypes(propTypes) {
  return setStatic('propTypes', propTypes);
};

var compose = function compose() {
  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {
    funcs[_key] = arguments[_key];
  }

  return funcs.reduce(function (a, b) {
    return function () {
      return a(b.apply(void 0, arguments));
    };
  }, function (arg) {
    return arg;
  });
};

var createSink = function createSink(callback) {
  var Sink =
  /*#__PURE__*/
  function (_Component) {
    Object(_babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_3__["default"])(Sink, _Component);

    function Sink() {
      var _this;

      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
        args[_key] = arguments[_key];
      }

      _this = _Component.call.apply(_Component, [this].concat(args)) || this;
      _this.state = {};
      return _this;
    }

    Sink.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps) {
      callback(nextProps);
      return null;
    };

    var _proto = Sink.prototype;

    _proto.render = function render() {
      return null;
    };

    return Sink;
  }(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

  Object(react_lifecycles_compat__WEBPACK_IMPORTED_MODULE_4__["polyfill"])(Sink);
  return Sink;
};

var componentFromProp = function componentFromProp(propName) {
  var Component$$1 = function Component$$1(props) {
    return Object(react__WEBPACK_IMPORTED_MODULE_0__["createElement"])(props[propName], omit(props, [propName]));
  };

  Component$$1.displayName = "componentFromProp(" + propName + ")";
  return Component$$1;
};

var nest = function nest() {
  for (var _len = arguments.length, Components = new Array(_len), _key = 0; _key < _len; _key++) {
    Components[_key] = arguments[_key];
  }

  var factories = Components.map(react__WEBPACK_IMPORTED_MODULE_0__["createFactory"]);

  var Nest = function Nest(_ref) {
    var children = _ref.children,
        props = Object(_babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_5__["default"])(_ref, ["children"]);

    return factories.reduceRight(function (child, factory) {
      return factory(props, child);
    }, children);
  };

  if (true) {
    var displayNames = Components.map(getDisplayName);
    Nest.displayName = "nest(" + displayNames.join(', ') + ")";
  }

  return Nest;
};

var hoistStatics = function hoistStatics(higherOrderComponent, blacklist) {
  return function (BaseComponent) {
    var NewComponent = higherOrderComponent(BaseComponent);
    hoist_non_react_statics__WEBPACK_IMPORTED_MODULE_6___default()(NewComponent, BaseComponent, blacklist);
    return NewComponent;
  };
};

var _config = {
  fromESObservable: null,
  toESObservable: null
};

var configureObservable = function configureObservable(c) {
  _config = c;
};

var config = {
  fromESObservable: function fromESObservable(observable) {
    return typeof _config.fromESObservable === 'function' ? _config.fromESObservable(observable) : observable;
  },
  toESObservable: function toESObservable(stream) {
    return typeof _config.toESObservable === 'function' ? _config.toESObservable(stream) : stream;
  }
};

var componentFromStreamWithConfig = function componentFromStreamWithConfig(config$$1) {
  return function (propsToVdom) {
    return (
      /*#__PURE__*/
      function (_Component) {
        Object(_babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_3__["default"])(ComponentFromStream, _Component);

        function ComponentFromStream() {
          var _config$fromESObserva;

          var _this;

          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }

          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _this.state = {
            vdom: null
          };
          _this.propsEmitter = Object(change_emitter__WEBPACK_IMPORTED_MODULE_7__["createChangeEmitter"])();
          _this.props$ = config$$1.fromESObservable((_config$fromESObserva = {
            subscribe: function subscribe(observer) {
              var unsubscribe = _this.propsEmitter.listen(function (props) {
                if (props) {
                  observer.next(props);
                } else {
                  observer.complete();
                }
              });

              return {
                unsubscribe: unsubscribe
              };
            }
          }, _config$fromESObserva[symbol_observable__WEBPACK_IMPORTED_MODULE_8__["default"]] = function () {
            return this;
          }, _config$fromESObserva));
          _this.vdom$ = config$$1.toESObservable(propsToVdom(_this.props$));
          return _this;
        }

        var _proto = ComponentFromStream.prototype;

        _proto.componentWillMount = function componentWillMount() {
          var _this2 = this;

          // Subscribe to child prop changes so we know when to re-render
          this.subscription = this.vdom$.subscribe({
            next: function next(vdom) {
              _this2.setState({
                vdom: vdom
              });
            }
          });
          this.propsEmitter.emit(this.props);
        };

        _proto.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {
          // Receive new props from the owner
          this.propsEmitter.emit(nextProps);
        };

        _proto.shouldComponentUpdate = function shouldComponentUpdate(nextProps, nextState) {
          return nextState.vdom !== this.state.vdom;
        };

        _proto.componentWillUnmount = function componentWillUnmount() {
          // Call without arguments to complete stream
          this.propsEmitter.emit(); // Clean-up subscription before un-mounting

          this.subscription.unsubscribe();
        };

        _proto.render = function render() {
          return this.state.vdom;
        };

        return ComponentFromStream;
      }(react__WEBPACK_IMPORTED_MODULE_0__["Component"])
    );
  };
};

var componentFromStream = function componentFromStream(propsToVdom) {
  return componentFromStreamWithConfig(config)(propsToVdom);
};

var identity$1 = function identity(t) {
  return t;
};

var mapPropsStreamWithConfig = function mapPropsStreamWithConfig(config$$1) {
  var componentFromStream$$1 = componentFromStreamWithConfig({
    fromESObservable: identity$1,
    toESObservable: identity$1
  });
  return function (transform) {
    return function (BaseComponent) {
      var factory = Object(react__WEBPACK_IMPORTED_MODULE_0__["createFactory"])(BaseComponent);
      var fromESObservable = config$$1.fromESObservable,
          toESObservable = config$$1.toESObservable;
      return componentFromStream$$1(function (props$) {
        var _ref;

        return _ref = {
          subscribe: function subscribe(observer) {
            var subscription = toESObservable(transform(fromESObservable(props$))).subscribe({
              next: function next(childProps) {
                return observer.next(factory(childProps));
              }
            });
            return {
              unsubscribe: function unsubscribe() {
                return subscription.unsubscribe();
              }
            };
          }
        }, _ref[symbol_observable__WEBPACK_IMPORTED_MODULE_8__["default"]] = function () {
          return this;
        }, _ref;
      });
    };
  };
};

var mapPropsStream = function mapPropsStream(transform) {
  var hoc = mapPropsStreamWithConfig(config)(transform);

  if (true) {
    return function (BaseComponent) {
      return setDisplayName(wrapDisplayName(BaseComponent, 'mapPropsStream'))(hoc(BaseComponent));
    };
  }

  return hoc;
};

var createEventHandlerWithConfig = function createEventHandlerWithConfig(config$$1) {
  return function () {
    var _config$fromESObserva;

    var emitter = Object(change_emitter__WEBPACK_IMPORTED_MODULE_7__["createChangeEmitter"])();
    var stream = config$$1.fromESObservable((_config$fromESObserva = {
      subscribe: function subscribe(observer) {
        var unsubscribe = emitter.listen(function (value) {
          return observer.next(value);
        });
        return {
          unsubscribe: unsubscribe
        };
      }
    }, _config$fromESObserva[symbol_observable__WEBPACK_IMPORTED_MODULE_8__["default"]] = function () {
      return this;
    }, _config$fromESObserva));
    return {
      handler: emitter.emit,
      stream: stream
    };
  };
};
var createEventHandler = createEventHandlerWithConfig(config);

// Higher-order component helpers




/***/ }),

/***/ "./node_modules/recompose/getDisplayName.js":
/*!**************************************************!*\
  !*** ./node_modules/recompose/getDisplayName.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
exports.default = void 0;

var getDisplayName = function getDisplayName(Component) {
  if (typeof Component === 'string') {
    return Component;
  }

  if (!Component) {
    return undefined;
  }

  return Component.displayName || Component.name || 'Component';
};

var _default = getDisplayName;
exports.default = _default;

/***/ }),

/***/ "./node_modules/styled-components/dist/styled-components.browser.esm.js":
/*!******************************************************************************!*\
  !*** ./node_modules/styled-components/dist/styled-components.browser.esm.js ***!
  \******************************************************************************/
/*! exports provided: default, createGlobalStyle, css, isStyledComponent, keyframes, ServerStyleSheet, StyleSheetConsumer, StyleSheetContext, StyleSheetManager, ThemeConsumer, ThemeContext, ThemeProvider, withTheme, __DO_NOT_USE_OR_YOU_WILL_BE_HAUNTED_BY_SPOOKY_GHOSTS */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(process) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createGlobalStyle", function() { return createGlobalStyle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "css", function() { return css; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isStyledComponent", function() { return isStyledComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "keyframes", function() { return keyframes; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ServerStyleSheet", function() { return ServerStyleSheet; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyleSheetConsumer", function() { return StyleSheetConsumer; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyleSheetContext", function() { return StyleSheetContext; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StyleSheetManager", function() { return StyleSheetManager; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ThemeConsumer", function() { return ThemeConsumer; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ThemeContext", function() { return ThemeContext; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ThemeProvider", function() { return ThemeProvider; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "withTheme", function() { return withTheme; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__DO_NOT_USE_OR_YOU_WILL_BE_HAUNTED_BY_SPOOKY_GHOSTS", function() { return __DO_NOT_USE_OR_YOU_WILL_BE_HAUNTED_BY_SPOOKY_GHOSTS; });
/* harmony import */ var stylis_stylis_min__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! stylis/stylis.min */ "./node_modules/stylis/stylis.min.js");
/* harmony import */ var stylis_stylis_min__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(stylis_stylis_min__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var stylis_rule_sheet__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! stylis-rule-sheet */ "./node_modules/stylis-rule-sheet/index.js");
/* harmony import */ var stylis_rule_sheet__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(stylis_rule_sheet__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _emotion_unitless__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @emotion/unitless */ "./node_modules/@emotion/unitless/dist/unitless.browser.esm.js");
/* harmony import */ var react_is__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-is */ "./node_modules/react-is/index.js");
/* harmony import */ var react_is__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_is__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var memoize_one__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! memoize-one */ "./node_modules/memoize-one/dist/memoize-one.esm.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _emotion_is_prop_valid__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @emotion/is-prop-valid */ "./node_modules/@emotion/is-prop-valid/dist/is-prop-valid.browser.esm.js");
/* harmony import */ var merge_anything__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! merge-anything */ "./node_modules/merge-anything/dist/index.esm.js");










// 

var interleave = (function (strings, interpolations) {
  var result = [strings[0]];

  for (var i = 0, len = interpolations.length; i < len; i += 1) {
    result.push(interpolations[i], strings[i + 1]);
  }

  return result;
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) {
  return typeof obj;
} : function (obj) {
  return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
};

var classCallCheck = function (instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
};

var createClass = function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;
      Object.defineProperty(target, descriptor.key, descriptor);
    }
  }

  return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);
    if (staticProps) defineProperties(Constructor, staticProps);
    return Constructor;
  };
}();

var _extends = Object.assign || function (target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i];

    for (var key in source) {
      if (Object.prototype.hasOwnProperty.call(source, key)) {
        target[key] = source[key];
      }
    }
  }

  return target;
};

var inherits = function (subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
  }

  subClass.prototype = Object.create(superClass && superClass.prototype, {
    constructor: {
      value: subClass,
      enumerable: false,
      writable: true,
      configurable: true
    }
  });
  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
};

var objectWithoutProperties = function (obj, keys) {
  var target = {};

  for (var i in obj) {
    if (keys.indexOf(i) >= 0) continue;
    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;
    target[i] = obj[i];
  }

  return target;
};

var possibleConstructorReturn = function (self, call) {
  if (!self) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }

  return call && (typeof call === "object" || typeof call === "function") ? call : self;
};

// 
var isPlainObject = (function (x) {
  return (typeof x === 'undefined' ? 'undefined' : _typeof(x)) === 'object' && x.constructor === Object;
});

// 
var EMPTY_ARRAY = Object.freeze([]);
var EMPTY_OBJECT = Object.freeze({});

// 
function isFunction(test) {
  return typeof test === 'function';
}

// 

function getComponentName(target) {
  return ( true ? typeof target === 'string' && target : undefined) || target.displayName || target.name || 'Component';
}

// 
function isStatelessFunction(test) {
  return typeof test === 'function' && !(test.prototype && test.prototype.isReactComponent);
}

// 
function isStyledComponent(target) {
  return target && typeof target.styledComponentId === 'string';
}

// 

var SC_ATTR = typeof process !== 'undefined' && (Object({"NODE_ENV":"development"}).REACT_APP_SC_ATTR || Object({"NODE_ENV":"development"}).SC_ATTR) || 'data-styled';

var SC_VERSION_ATTR = 'data-styled-version';

var SC_STREAM_ATTR = 'data-styled-streamed';

var IS_BROWSER = typeof window !== 'undefined' && 'HTMLElement' in window;

var DISABLE_SPEEDY = typeof SC_DISABLE_SPEEDY === 'boolean' && SC_DISABLE_SPEEDY || typeof process !== 'undefined' && (Object({"NODE_ENV":"development"}).REACT_APP_SC_DISABLE_SPEEDY || Object({"NODE_ENV":"development"}).SC_DISABLE_SPEEDY) || "development" !== 'production';

// Shared empty execution context when generating static styles
var STATIC_EXECUTION_CONTEXT = {};

// 


/**
 * Parse errors.md and turn it into a simple hash of code: message
 */
var ERRORS =  true ? {
  "1": "Cannot create styled-component for component: %s.\n\n",
  "2": "Can't collect styles once you've consumed a `ServerStyleSheet`'s styles! `ServerStyleSheet` is a one off instance for each server-side render cycle.\n\n- Are you trying to reuse it across renders?\n- Are you accidentally calling collectStyles twice?\n\n",
  "3": "Streaming SSR is only supported in a Node.js environment; Please do not try to call this method in the browser.\n\n",
  "4": "The `StyleSheetManager` expects a valid target or sheet prop!\n\n- Does this error occur on the client and is your target falsy?\n- Does this error occur on the server and is the sheet falsy?\n\n",
  "5": "The clone method cannot be used on the client!\n\n- Are you running in a client-like environment on the server?\n- Are you trying to run SSR on the client?\n\n",
  "6": "Trying to insert a new style tag, but the given Node is unmounted!\n\n- Are you using a custom target that isn't mounted?\n- Does your document not have a valid head element?\n- Have you accidentally removed a style tag manually?\n\n",
  "7": "ThemeProvider: Please return an object from your \"theme\" prop function, e.g.\n\n```js\ntheme={() => ({})}\n```\n\n",
  "8": "ThemeProvider: Please make your \"theme\" prop an object.\n\n",
  "9": "Missing document `<head>`\n\n",
  "10": "Cannot find a StyleSheet instance. Usually this happens if there are multiple copies of styled-components loaded at once. Check out this issue for how to troubleshoot and fix the common cases where this situation can happen: https://github.com/styled-components/styled-components/issues/1941#issuecomment-417862021\n\n",
  "11": "_This error was replaced with a dev-time warning, it will be deleted for v4 final._ [createGlobalStyle] received children which will not be rendered. Please use the component without passing children elements.\n\n",
  "12": "It seems you are interpolating a keyframe declaration (%s) into an untagged string. This was supported in styled-components v3, but is not longer supported in v4 as keyframes are now injected on-demand. Please wrap your string in the css\\`\\` helper which ensures the styles are injected correctly. See https://www.styled-components.com/docs/api#css\n\n",
  "13": "%s is not a styled component and cannot be referred to via component selector. See https://www.styled-components.com/docs/advanced#referring-to-other-components for more details.\n"
} : undefined;

/**
 * super basic version of sprintf
 */
function format() {
  var a = arguments.length <= 0 ? undefined : arguments[0];
  var b = [];

  for (var c = 1, len = arguments.length; c < len; c += 1) {
    b.push(arguments.length <= c ? undefined : arguments[c]);
  }

  b.forEach(function (d) {
    a = a.replace(/%[a-z]/, d);
  });

  return a;
}

/**
 * Create an error file out of errors.md for development and a simple web link to the full errors
 * in production mode.
 */

var StyledComponentsError = function (_Error) {
  inherits(StyledComponentsError, _Error);

  function StyledComponentsError(code) {
    classCallCheck(this, StyledComponentsError);

    for (var _len = arguments.length, interpolations = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
      interpolations[_key - 1] = arguments[_key];
    }

    if (false) { var _this; } else {
      var _this = possibleConstructorReturn(this, _Error.call(this, format.apply(undefined, [ERRORS[code]].concat(interpolations)).trim()));
    }
    return possibleConstructorReturn(_this);
  }

  return StyledComponentsError;
}(Error);

// 
var SC_COMPONENT_ID = /^[^\S\n]*?\/\* sc-component-id:\s*(\S+)\s+\*\//gm;

var extractComps = (function (maybeCSS) {
  var css = '' + (maybeCSS || ''); // Definitely a string, and a clone
  var existingComponents = [];
  css.replace(SC_COMPONENT_ID, function (match, componentId, matchIndex) {
    existingComponents.push({ componentId: componentId, matchIndex: matchIndex });
    return match;
  });
  return existingComponents.map(function (_ref, i) {
    var componentId = _ref.componentId,
        matchIndex = _ref.matchIndex;

    var nextComp = existingComponents[i + 1];
    var cssFromDOM = nextComp ? css.slice(matchIndex, nextComp.matchIndex) : css.slice(matchIndex);
    return { componentId: componentId, cssFromDOM: cssFromDOM };
  });
});

// 

var COMMENT_REGEX = /^\s*\/\/.*$/gm;

// NOTE: This stylis instance is only used to split rules from SSR'd style tags
var stylisSplitter = new stylis_stylis_min__WEBPACK_IMPORTED_MODULE_0___default.a({
  global: false,
  cascade: true,
  keyframe: false,
  prefix: false,
  compress: false,
  semicolon: true
});

var stylis = new stylis_stylis_min__WEBPACK_IMPORTED_MODULE_0___default.a({
  global: false,
  cascade: true,
  keyframe: false,
  prefix: true,
  compress: false,
  semicolon: false // NOTE: This means "autocomplete missing semicolons"
});

// Wrap `insertRulePlugin to build a list of rules,
// and then make our own plugin to return the rules. This
// makes it easier to hook into the existing SSR architecture

var parsingRules = [];

// eslint-disable-next-line consistent-return
var returnRulesPlugin = function returnRulesPlugin(context) {
  if (context === -2) {
    var parsedRules = parsingRules;
    parsingRules = [];
    return parsedRules;
  }
};

var parseRulesPlugin = stylis_rule_sheet__WEBPACK_IMPORTED_MODULE_1___default()(function (rule) {
  parsingRules.push(rule);
});

var _componentId = void 0;
var _selector = void 0;
var _selectorRegexp = void 0;

var selfReferenceReplacer = function selfReferenceReplacer(match, offset, string) {
  if (
  // the first self-ref is always untouched
  offset > 0 &&
  // there should be at least two self-refs to do a replacement (.b > .b)
  string.slice(0, offset).indexOf(_selector) !== -1 &&
  // no consecutive self refs (.b.b); that is a precedence boost and treated differently
  string.slice(offset - _selector.length, offset) !== _selector) {
    return '.' + _componentId;
  }

  return match;
};

/**
 * When writing a style like
 *
 * & + & {
 *   color: red;
 * }
 *
 * The second ampersand should be a reference to the static component class. stylis
 * has no knowledge of static class so we have to intelligently replace the base selector.
 */
var selfReferenceReplacementPlugin = function selfReferenceReplacementPlugin(context, _, selectors) {
  if (context === 2 && selectors.length && selectors[0].lastIndexOf(_selector) > 0) {
    // eslint-disable-next-line no-param-reassign
    selectors[0] = selectors[0].replace(_selectorRegexp, selfReferenceReplacer);
  }
};

stylis.use([selfReferenceReplacementPlugin, parseRulesPlugin, returnRulesPlugin]);
stylisSplitter.use([parseRulesPlugin, returnRulesPlugin]);

var splitByRules = function splitByRules(css) {
  return stylisSplitter('', css);
};

function stringifyRules(rules, selector, prefix) {
  var componentId = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '&';

  var flatCSS = rules.join('').replace(COMMENT_REGEX, ''); // replace JS comments

  var cssStr = selector && prefix ? prefix + ' ' + selector + ' { ' + flatCSS + ' }' : flatCSS;

  // stylis has no concept of state to be passed to plugins
  // but since JS is single=threaded, we can rely on that to ensure
  // these properties stay in sync with the current stylis run
  _componentId = componentId;
  _selector = selector;
  _selectorRegexp = new RegExp('\\' + _selector + '\\b', 'g');

  return stylis(prefix || !selector ? '' : selector, cssStr);
}

// 
/* eslint-disable camelcase, no-undef */

var getNonce = (function () {
  return  true ? __webpack_require__.nc : undefined;
});

// 
/* These are helpers for the StyleTags to keep track of the injected
 * rule names for each (component) ID that they're keeping track of.
 * They're crucial for detecting whether a name has already been
 * injected.
 * (This excludes rehydrated names) */

/* adds a new ID:name pairing to a names dictionary */
var addNameForId = function addNameForId(names, id, name) {
  if (name) {
    // eslint-disable-next-line no-param-reassign
    var namesForId = names[id] || (names[id] = Object.create(null));
    namesForId[name] = true;
  }
};

/* resets an ID entirely by overwriting it in the dictionary */
var resetIdNames = function resetIdNames(names, id) {
  // eslint-disable-next-line no-param-reassign
  names[id] = Object.create(null);
};

/* factory for a names dictionary checking the existance of an ID:name pairing */
var hasNameForId = function hasNameForId(names) {
  return function (id, name) {
    return names[id] !== undefined && names[id][name];
  };
};

/* stringifies names for the html/element output */
var stringifyNames = function stringifyNames(names) {
  var str = '';
  // eslint-disable-next-line guard-for-in
  for (var id in names) {
    str += Object.keys(names[id]).join(' ') + ' ';
  }
  return str.trim();
};

/* clones the nested names dictionary */
var cloneNames = function cloneNames(names) {
  var clone = Object.create(null);
  // eslint-disable-next-line guard-for-in
  for (var id in names) {
    clone[id] = _extends({}, names[id]);
  }
  return clone;
};

// 

/* These are helpers that deal with the insertRule (aka speedy) API
 * They are used in the StyleTags and specifically the speedy tag
 */

/* retrieve a sheet for a given style tag */
var sheetForTag = function sheetForTag(tag) {
  // $FlowFixMe
  if (tag.sheet) return tag.sheet;

  /* Firefox quirk requires us to step through all stylesheets to find one owned by the given tag */
  var size = tag.ownerDocument.styleSheets.length;
  for (var i = 0; i < size; i += 1) {
    var sheet = tag.ownerDocument.styleSheets[i];
    // $FlowFixMe
    if (sheet.ownerNode === tag) return sheet;
  }

  /* we should always be able to find a tag */
  throw new StyledComponentsError(10);
};

/* insert a rule safely and return whether it was actually injected */
var safeInsertRule = function safeInsertRule(sheet, cssRule, index) {
  /* abort early if cssRule string is falsy */
  if (!cssRule) return false;

  var maxIndex = sheet.cssRules.length;

  try {
    /* use insertRule and cap passed index with maxIndex (no of cssRules) */
    sheet.insertRule(cssRule, index <= maxIndex ? index : maxIndex);
  } catch (err) {
    /* any error indicates an invalid rule */
    return false;
  }

  return true;
};

/* deletes `size` rules starting from `removalIndex` */
var deleteRules = function deleteRules(sheet, removalIndex, size) {
  var lowerBound = removalIndex - size;
  for (var i = removalIndex; i > lowerBound; i -= 1) {
    sheet.deleteRule(i);
  }
};

// 

/* this marker separates component styles and is important for rehydration */
var makeTextMarker = function makeTextMarker(id) {
  return '\n/* sc-component-id: ' + id + ' */\n';
};

/* add up all numbers in array up until and including the index */
var addUpUntilIndex = function addUpUntilIndex(sizes, index) {
  var totalUpToIndex = 0;
  for (var i = 0; i <= index; i += 1) {
    totalUpToIndex += sizes[i];
  }

  return totalUpToIndex;
};

/* create a new style tag after lastEl */
var makeStyleTag = function makeStyleTag(target, tagEl, insertBefore) {
  var targetDocument = document;
  if (target) targetDocument = target.ownerDocument;else if (tagEl) targetDocument = tagEl.ownerDocument;

  var el = targetDocument.createElement('style');
  el.setAttribute(SC_ATTR, '');
  el.setAttribute(SC_VERSION_ATTR, "4.4.1");

  var nonce = getNonce();
  if (nonce) {
    el.setAttribute('nonce', nonce);
  }

  /* Work around insertRule quirk in EdgeHTML */
  el.appendChild(targetDocument.createTextNode(''));

  if (target && !tagEl) {
    /* Append to target when no previous element was passed */
    target.appendChild(el);
  } else {
    if (!tagEl || !target || !tagEl.parentNode) {
      throw new StyledComponentsError(6);
    }

    /* Insert new style tag after the previous one */
    tagEl.parentNode.insertBefore(el, insertBefore ? tagEl : tagEl.nextSibling);
  }

  return el;
};

/* takes a css factory function and outputs an html styled tag factory */
var wrapAsHtmlTag = function wrapAsHtmlTag(css, names) {
  return function (additionalAttrs) {
    var nonce = getNonce();
    var attrs = [nonce && 'nonce="' + nonce + '"', SC_ATTR + '="' + stringifyNames(names) + '"', SC_VERSION_ATTR + '="' + "4.4.1" + '"', additionalAttrs];

    var htmlAttr = attrs.filter(Boolean).join(' ');
    return '<style ' + htmlAttr + '>' + css() + '</style>';
  };
};

/* takes a css factory function and outputs an element factory */
var wrapAsElement = function wrapAsElement(css, names) {
  return function () {
    var _props;

    var props = (_props = {}, _props[SC_ATTR] = stringifyNames(names), _props[SC_VERSION_ATTR] = "4.4.1", _props);

    var nonce = getNonce();
    if (nonce) {
      // $FlowFixMe
      props.nonce = nonce;
    }

    // eslint-disable-next-line react/no-danger
    return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement('style', _extends({}, props, { dangerouslySetInnerHTML: { __html: css() } }));
  };
};

var getIdsFromMarkersFactory = function getIdsFromMarkersFactory(markers) {
  return function () {
    return Object.keys(markers);
  };
};

/* speedy tags utilise insertRule */
var makeSpeedyTag = function makeSpeedyTag(el, getImportRuleTag) {
  var names = Object.create(null);
  var markers = Object.create(null);
  var sizes = [];

  var extractImport = getImportRuleTag !== undefined;
  /* indicates whether getImportRuleTag was called */
  var usedImportRuleTag = false;

  var insertMarker = function insertMarker(id) {
    var prev = markers[id];
    if (prev !== undefined) {
      return prev;
    }

    markers[id] = sizes.length;
    sizes.push(0);
    resetIdNames(names, id);

    return markers[id];
  };

  var insertRules = function insertRules(id, cssRules, name) {
    var marker = insertMarker(id);
    var sheet = sheetForTag(el);
    var insertIndex = addUpUntilIndex(sizes, marker);

    var injectedRules = 0;
    var importRules = [];
    var cssRulesSize = cssRules.length;

    for (var i = 0; i < cssRulesSize; i += 1) {
      var cssRule = cssRules[i];
      var mayHaveImport = extractImport; /* @import rules are reordered to appear first */
      if (mayHaveImport && cssRule.indexOf('@import') !== -1) {
        importRules.push(cssRule);
      } else if (safeInsertRule(sheet, cssRule, insertIndex + injectedRules)) {
        mayHaveImport = false;
        injectedRules += 1;
      }
    }

    if (extractImport && importRules.length > 0) {
      usedImportRuleTag = true;
      // $FlowFixMe
      getImportRuleTag().insertRules(id + '-import', importRules);
    }

    sizes[marker] += injectedRules; /* add up no of injected rules */
    addNameForId(names, id, name);
  };

  var removeRules = function removeRules(id) {
    var marker = markers[id];
    if (marker === undefined) return;
    // $FlowFixMe
    if (el.isConnected === false) return;

    var size = sizes[marker];
    var sheet = sheetForTag(el);
    var removalIndex = addUpUntilIndex(sizes, marker) - 1;
    deleteRules(sheet, removalIndex, size);
    sizes[marker] = 0;
    resetIdNames(names, id);

    if (extractImport && usedImportRuleTag) {
      // $FlowFixMe
      getImportRuleTag().removeRules(id + '-import');
    }
  };

  var css = function css() {
    var _sheetForTag = sheetForTag(el),
        cssRules = _sheetForTag.cssRules;

    var str = '';

    // eslint-disable-next-line guard-for-in
    for (var id in markers) {
      str += makeTextMarker(id);
      var marker = markers[id];
      var end = addUpUntilIndex(sizes, marker);
      var size = sizes[marker];
      for (var i = end - size; i < end; i += 1) {
        var rule = cssRules[i];
        if (rule !== undefined) {
          str += rule.cssText;
        }
      }
    }

    return str;
  };

  return {
    clone: function clone() {
      throw new StyledComponentsError(5);
    },

    css: css,
    getIds: getIdsFromMarkersFactory(markers),
    hasNameForId: hasNameForId(names),
    insertMarker: insertMarker,
    insertRules: insertRules,
    removeRules: removeRules,
    sealed: false,
    styleTag: el,
    toElement: wrapAsElement(css, names),
    toHTML: wrapAsHtmlTag(css, names)
  };
};

var makeTextNode = function makeTextNode(targetDocument, id) {
  return targetDocument.createTextNode(makeTextMarker(id));
};

var makeBrowserTag = function makeBrowserTag(el, getImportRuleTag) {
  var names = Object.create(null);
  var markers = Object.create(null);

  var extractImport = getImportRuleTag !== undefined;

  /* indicates whether getImportRuleTag was called */
  var usedImportRuleTag = false;

  var insertMarker = function insertMarker(id) {
    var prev = markers[id];
    if (prev !== undefined) {
      return prev;
    }

    markers[id] = makeTextNode(el.ownerDocument, id);
    el.appendChild(markers[id]);
    names[id] = Object.create(null);

    return markers[id];
  };

  var insertRules = function insertRules(id, cssRules, name) {
    var marker = insertMarker(id);
    var importRules = [];
    var cssRulesSize = cssRules.length;

    for (var i = 0; i < cssRulesSize; i += 1) {
      var rule = cssRules[i];
      var mayHaveImport = extractImport;
      if (mayHaveImport && rule.indexOf('@import') !== -1) {
        importRules.push(rule);
      } else {
        mayHaveImport = false;
        var separator = i === cssRulesSize - 1 ? '' : ' ';
        marker.appendData('' + rule + separator);
      }
    }

    addNameForId(names, id, name);

    if (extractImport && importRules.length > 0) {
      usedImportRuleTag = true;
      // $FlowFixMe
      getImportRuleTag().insertRules(id + '-import', importRules);
    }
  };

  var removeRules = function removeRules(id) {
    var marker = markers[id];
    if (marker === undefined) return;

    /* create new empty text node and replace the current one */
    var newMarker = makeTextNode(el.ownerDocument, id);
    el.replaceChild(newMarker, marker);
    markers[id] = newMarker;
    resetIdNames(names, id);

    if (extractImport && usedImportRuleTag) {
      // $FlowFixMe
      getImportRuleTag().removeRules(id + '-import');
    }
  };

  var css = function css() {
    var str = '';

    // eslint-disable-next-line guard-for-in
    for (var id in markers) {
      str += markers[id].data;
    }

    return str;
  };

  return {
    clone: function clone() {
      throw new StyledComponentsError(5);
    },

    css: css,
    getIds: getIdsFromMarkersFactory(markers),
    hasNameForId: hasNameForId(names),
    insertMarker: insertMarker,
    insertRules: insertRules,
    removeRules: removeRules,
    sealed: false,
    styleTag: el,
    toElement: wrapAsElement(css, names),
    toHTML: wrapAsHtmlTag(css, names)
  };
};

var makeServerTag = function makeServerTag(namesArg, markersArg) {
  var names = namesArg === undefined ? Object.create(null) : namesArg;
  var markers = markersArg === undefined ? Object.create(null) : markersArg;

  var insertMarker = function insertMarker(id) {
    var prev = markers[id];
    if (prev !== undefined) {
      return prev;
    }

    return markers[id] = [''];
  };

  var insertRules = function insertRules(id, cssRules, name) {
    var marker = insertMarker(id);
    marker[0] += cssRules.join(' ');
    addNameForId(names, id, name);
  };

  var removeRules = function removeRules(id) {
    var marker = markers[id];
    if (marker === undefined) return;
    marker[0] = '';
    resetIdNames(names, id);
  };

  var css = function css() {
    var str = '';
    // eslint-disable-next-line guard-for-in
    for (var id in markers) {
      var cssForId = markers[id][0];
      if (cssForId) {
        str += makeTextMarker(id) + cssForId;
      }
    }
    return str;
  };

  var clone = function clone() {
    var namesClone = cloneNames(names);
    var markersClone = Object.create(null);

    // eslint-disable-next-line guard-for-in
    for (var id in markers) {
      markersClone[id] = [markers[id][0]];
    }

    return makeServerTag(namesClone, markersClone);
  };

  var tag = {
    clone: clone,
    css: css,
    getIds: getIdsFromMarkersFactory(markers),
    hasNameForId: hasNameForId(names),
    insertMarker: insertMarker,
    insertRules: insertRules,
    removeRules: removeRules,
    sealed: false,
    styleTag: null,
    toElement: wrapAsElement(css, names),
    toHTML: wrapAsHtmlTag(css, names)
  };

  return tag;
};

var makeTag = function makeTag(target, tagEl, forceServer, insertBefore, getImportRuleTag) {
  if (IS_BROWSER && !forceServer) {
    var el = makeStyleTag(target, tagEl, insertBefore);

    if (DISABLE_SPEEDY) {
      return makeBrowserTag(el, getImportRuleTag);
    } else {
      return makeSpeedyTag(el, getImportRuleTag);
    }
  }

  return makeServerTag();
};

var rehydrate = function rehydrate(tag, els, extracted) {
  /* add all extracted components to the new tag */
  for (var i = 0, len = extracted.length; i < len; i += 1) {
    var _extracted$i = extracted[i],
        componentId = _extracted$i.componentId,
        cssFromDOM = _extracted$i.cssFromDOM;

    var cssRules = splitByRules(cssFromDOM);
    tag.insertRules(componentId, cssRules);
  }

  /* remove old HTMLStyleElements, since they have been rehydrated */
  for (var _i = 0, _len = els.length; _i < _len; _i += 1) {
    var el = els[_i];
    if (el.parentNode) {
      el.parentNode.removeChild(el);
    }
  }
};

// 

var SPLIT_REGEX = /\s+/;

/* determine the maximum number of components before tags are sharded */
var MAX_SIZE = void 0;
if (IS_BROWSER) {
  /* in speedy mode we can keep a lot more rules in a sheet before a slowdown can be expected */
  MAX_SIZE = DISABLE_SPEEDY ? 40 : 1000;
} else {
  /* for servers we do not need to shard at all */
  MAX_SIZE = -1;
}

var sheetRunningId = 0;
var master = void 0;

var StyleSheet = function () {

  /* a map from ids to tags */

  /* deferred rules for a given id */

  /* this is used for not reinjecting rules via hasNameForId() */

  /* when rules for an id are removed using remove() we have to ignore rehydratedNames for it */

  /* a list of tags belonging to this StyleSheet */

  /* a tag for import rules */

  /* current capacity until a new tag must be created */

  /* children (aka clones) of this StyleSheet inheriting all and future injections */

  function StyleSheet() {
    var _this = this;

    var target = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : IS_BROWSER ? document.head : null;
    var forceServer = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
    classCallCheck(this, StyleSheet);

    this.getImportRuleTag = function () {
      var importRuleTag = _this.importRuleTag;

      if (importRuleTag !== undefined) {
        return importRuleTag;
      }

      var firstTag = _this.tags[0];
      var insertBefore = true;

      return _this.importRuleTag = makeTag(_this.target, firstTag ? firstTag.styleTag : null, _this.forceServer, insertBefore);
    };

    sheetRunningId += 1;
    this.id = sheetRunningId;
    this.forceServer = forceServer;
    this.target = forceServer ? null : target;
    this.tagMap = {};
    this.deferred = {};
    this.rehydratedNames = {};
    this.ignoreRehydratedNames = {};
    this.tags = [];
    this.capacity = 1;
    this.clones = [];
  }

  /* rehydrate all SSR'd style tags */


  StyleSheet.prototype.rehydrate = function rehydrate$$1() {
    if (!IS_BROWSER || this.forceServer) return this;

    var els = [];
    var extracted = [];
    var isStreamed = false;

    /* retrieve all of our SSR style elements from the DOM */
    var nodes = document.querySelectorAll('style[' + SC_ATTR + '][' + SC_VERSION_ATTR + '="' + "4.4.1" + '"]');

    var nodesSize = nodes.length;

    /* abort rehydration if no previous style tags were found */
    if (!nodesSize) return this;

    for (var i = 0; i < nodesSize; i += 1) {
      var el = nodes[i];

      /* check if style tag is a streamed tag */
      if (!isStreamed) isStreamed = !!el.getAttribute(SC_STREAM_ATTR);

      /* retrieve all component names */
      var elNames = (el.getAttribute(SC_ATTR) || '').trim().split(SPLIT_REGEX);
      var elNamesSize = elNames.length;
      for (var j = 0, name; j < elNamesSize; j += 1) {
        name = elNames[j];
        /* add rehydrated name to sheet to avoid re-adding styles */
        this.rehydratedNames[name] = true;
      }

      /* extract all components and their CSS */
      extracted.push.apply(extracted, extractComps(el.textContent));

      /* store original HTMLStyleElement */
      els.push(el);
    }

    /* abort rehydration if nothing was extracted */
    var extractedSize = extracted.length;
    if (!extractedSize) return this;

    /* create a tag to be used for rehydration */
    var tag = this.makeTag(null);

    rehydrate(tag, els, extracted);

    /* reset capacity and adjust MAX_SIZE by the initial size of the rehydration */
    this.capacity = Math.max(1, MAX_SIZE - extractedSize);
    this.tags.push(tag);

    /* retrieve all component ids */
    for (var _j = 0; _j < extractedSize; _j += 1) {
      this.tagMap[extracted[_j].componentId] = tag;
    }

    return this;
  };

  /* retrieve a "master" instance of StyleSheet which is typically used when no other is available
   * The master StyleSheet is targeted by createGlobalStyle, keyframes, and components outside of any
    * StyleSheetManager's context */


  /* reset the internal "master" instance */
  StyleSheet.reset = function reset() {
    var forceServer = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;

    master = new StyleSheet(undefined, forceServer).rehydrate();
  };

  /* adds "children" to the StyleSheet that inherit all of the parents' rules
   * while their own rules do not affect the parent */


  StyleSheet.prototype.clone = function clone() {
    var sheet = new StyleSheet(this.target, this.forceServer);

    /* add to clone array */
    this.clones.push(sheet);

    /* clone all tags */
    sheet.tags = this.tags.map(function (tag) {
      var ids = tag.getIds();
      var newTag = tag.clone();

      /* reconstruct tagMap */
      for (var i = 0; i < ids.length; i += 1) {
        sheet.tagMap[ids[i]] = newTag;
      }

      return newTag;
    });

    /* clone other maps */
    sheet.rehydratedNames = _extends({}, this.rehydratedNames);
    sheet.deferred = _extends({}, this.deferred);

    return sheet;
  };

  /* force StyleSheet to create a new tag on the next injection */


  StyleSheet.prototype.sealAllTags = function sealAllTags() {
    this.capacity = 1;

    this.tags.forEach(function (tag) {
      // eslint-disable-next-line no-param-reassign
      tag.sealed = true;
    });
  };

  StyleSheet.prototype.makeTag = function makeTag$$1(tag) {
    var lastEl = tag ? tag.styleTag : null;
    var insertBefore = false;

    return makeTag(this.target, lastEl, this.forceServer, insertBefore, this.getImportRuleTag);
  };

  /* get a tag for a given componentId, assign the componentId to one, or shard */
  StyleSheet.prototype.getTagForId = function getTagForId(id) {
    /* simply return a tag, when the componentId was already assigned one */
    var prev = this.tagMap[id];
    if (prev !== undefined && !prev.sealed) {
      return prev;
    }

    var tag = this.tags[this.tags.length - 1];

    /* shard (create a new tag) if the tag is exhausted (See MAX_SIZE) */
    this.capacity -= 1;

    if (this.capacity === 0) {
      this.capacity = MAX_SIZE;
      tag = this.makeTag(tag);
      this.tags.push(tag);
    }

    return this.tagMap[id] = tag;
  };

  /* mainly for createGlobalStyle to check for its id */


  StyleSheet.prototype.hasId = function hasId(id) {
    return this.tagMap[id] !== undefined;
  };

  /* caching layer checking id+name to already have a corresponding tag and injected rules */


  StyleSheet.prototype.hasNameForId = function hasNameForId(id, name) {
    /* exception for rehydrated names which are checked separately */
    if (this.ignoreRehydratedNames[id] === undefined && this.rehydratedNames[name]) {
      return true;
    }

    var tag = this.tagMap[id];
    return tag !== undefined && tag.hasNameForId(id, name);
  };

  /* registers a componentId and registers it on its tag */


  StyleSheet.prototype.deferredInject = function deferredInject(id, cssRules) {
    /* don't inject when the id is already registered */
    if (this.tagMap[id] !== undefined) return;

    var clones = this.clones;

    for (var i = 0; i < clones.length; i += 1) {
      clones[i].deferredInject(id, cssRules);
    }

    this.getTagForId(id).insertMarker(id);
    this.deferred[id] = cssRules;
  };

  /* injects rules for a given id with a name that will need to be cached */


  StyleSheet.prototype.inject = function inject(id, cssRules, name) {
    var clones = this.clones;


    for (var i = 0; i < clones.length; i += 1) {
      clones[i].inject(id, cssRules, name);
    }

    var tag = this.getTagForId(id);

    /* add deferred rules for component */
    if (this.deferred[id] !== undefined) {
      // Combine passed cssRules with previously deferred CSS rules
      // NOTE: We cannot mutate the deferred array itself as all clones
      // do the same (see clones[i].inject)
      var rules = this.deferred[id].concat(cssRules);
      tag.insertRules(id, rules, name);

      this.deferred[id] = undefined;
    } else {
      tag.insertRules(id, cssRules, name);
    }
  };

  /* removes all rules for a given id, which doesn't remove its marker but resets it */


  StyleSheet.prototype.remove = function remove(id) {
    var tag = this.tagMap[id];
    if (tag === undefined) return;

    var clones = this.clones;

    for (var i = 0; i < clones.length; i += 1) {
      clones[i].remove(id);
    }

    /* remove all rules from the tag */
    tag.removeRules(id);

    /* ignore possible rehydrated names */
    this.ignoreRehydratedNames[id] = true;

    /* delete possible deferred rules */
    this.deferred[id] = undefined;
  };

  StyleSheet.prototype.toHTML = function toHTML() {
    return this.tags.map(function (tag) {
      return tag.toHTML();
    }).join('');
  };

  StyleSheet.prototype.toReactElements = function toReactElements() {
    var id = this.id;


    return this.tags.map(function (tag, i) {
      var key = 'sc-' + id + '-' + i;
      return Object(react__WEBPACK_IMPORTED_MODULE_2__["cloneElement"])(tag.toElement(), { key: key });
    });
  };

  createClass(StyleSheet, null, [{
    key: 'master',
    get: function get$$1() {
      return master || (master = new StyleSheet().rehydrate());
    }

    /* NOTE: This is just for backwards-compatibility with jest-styled-components */

  }, {
    key: 'instance',
    get: function get$$1() {
      return StyleSheet.master;
    }
  }]);
  return StyleSheet;
}();

// 

var Keyframes = function () {
  function Keyframes(name, rules) {
    var _this = this;

    classCallCheck(this, Keyframes);

    this.inject = function (styleSheet) {
      if (!styleSheet.hasNameForId(_this.id, _this.name)) {
        styleSheet.inject(_this.id, _this.rules, _this.name);
      }
    };

    this.toString = function () {
      throw new StyledComponentsError(12, String(_this.name));
    };

    this.name = name;
    this.rules = rules;

    this.id = 'sc-keyframes-' + name;
  }

  Keyframes.prototype.getName = function getName() {
    return this.name;
  };

  return Keyframes;
}();

// 

/**
 * inlined version of
 * https://github.com/facebook/fbjs/blob/master/packages/fbjs/src/core/hyphenateStyleName.js
 */

var uppercasePattern = /([A-Z])/g;
var msPattern = /^ms-/;

/**
 * Hyphenates a camelcased CSS property name, for example:
 *
 *   > hyphenateStyleName('backgroundColor')
 *   < "background-color"
 *   > hyphenateStyleName('MozTransition')
 *   < "-moz-transition"
 *   > hyphenateStyleName('msTransition')
 *   < "-ms-transition"
 *
 * As Modernizr suggests (http://modernizr.com/docs/#prefixed), an `ms` prefix
 * is converted to `-ms-`.
 *
 * @param {string} string
 * @return {string}
 */
function hyphenateStyleName(string) {
  return string.replace(uppercasePattern, '-$1').toLowerCase().replace(msPattern, '-ms-');
}

// 

// Taken from https://github.com/facebook/react/blob/b87aabdfe1b7461e7331abb3601d9e6bb27544bc/packages/react-dom/src/shared/dangerousStyleValue.js
function addUnitIfNeeded(name, value) {
  // https://github.com/amilajack/eslint-plugin-flowtype-errors/issues/133
  // $FlowFixMe
  if (value == null || typeof value === 'boolean' || value === '') {
    return '';
  }

  if (typeof value === 'number' && value !== 0 && !(name in _emotion_unitless__WEBPACK_IMPORTED_MODULE_3__["default"])) {
    return value + 'px'; // Presumes implicit 'px' suffix for unitless numbers
  }

  return String(value).trim();
}

// 

/**
 * It's falsish not falsy because 0 is allowed.
 */
var isFalsish = function isFalsish(chunk) {
  return chunk === undefined || chunk === null || chunk === false || chunk === '';
};

var objToCssArray = function objToCssArray(obj, prevKey) {
  var rules = [];
  var keys = Object.keys(obj);

  keys.forEach(function (key) {
    if (!isFalsish(obj[key])) {
      if (isPlainObject(obj[key])) {
        rules.push.apply(rules, objToCssArray(obj[key], key));

        return rules;
      } else if (isFunction(obj[key])) {
        rules.push(hyphenateStyleName(key) + ':', obj[key], ';');

        return rules;
      }
      rules.push(hyphenateStyleName(key) + ': ' + addUnitIfNeeded(key, obj[key]) + ';');
    }
    return rules;
  });

  return prevKey ? [prevKey + ' {'].concat(rules, ['}']) : rules;
};

function flatten(chunk, executionContext, styleSheet) {
  if (Array.isArray(chunk)) {
    var ruleSet = [];

    for (var i = 0, len = chunk.length, result; i < len; i += 1) {
      result = flatten(chunk[i], executionContext, styleSheet);

      if (result === null) continue;else if (Array.isArray(result)) ruleSet.push.apply(ruleSet, result);else ruleSet.push(result);
    }

    return ruleSet;
  }

  if (isFalsish(chunk)) {
    return null;
  }

  /* Handle other components */
  if (isStyledComponent(chunk)) {
    return '.' + chunk.styledComponentId;
  }

  /* Either execute or defer the function */
  if (isFunction(chunk)) {
    if (isStatelessFunction(chunk) && executionContext) {
      var _result = chunk(executionContext);

      if ( true && Object(react_is__WEBPACK_IMPORTED_MODULE_4__["isElement"])(_result)) {
        // eslint-disable-next-line no-console
        console.warn(getComponentName(chunk) + ' is not a styled component and cannot be referred to via component selector. See https://www.styled-components.com/docs/advanced#referring-to-other-components for more details.');
      }

      return flatten(_result, executionContext, styleSheet);
    } else return chunk;
  }

  if (chunk instanceof Keyframes) {
    if (styleSheet) {
      chunk.inject(styleSheet);
      return chunk.getName();
    } else return chunk;
  }

  /* Handle objects */
  return isPlainObject(chunk) ? objToCssArray(chunk) : chunk.toString();
}

// 

function css(styles) {
  for (var _len = arguments.length, interpolations = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
    interpolations[_key - 1] = arguments[_key];
  }

  if (isFunction(styles) || isPlainObject(styles)) {
    // $FlowFixMe
    return flatten(interleave(EMPTY_ARRAY, [styles].concat(interpolations)));
  }

  // $FlowFixMe
  return flatten(interleave(styles, interpolations));
}

// 

function constructWithOptions(componentConstructor, tag) {
  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : EMPTY_OBJECT;

  if (!Object(react_is__WEBPACK_IMPORTED_MODULE_4__["isValidElementType"])(tag)) {
    throw new StyledComponentsError(1, String(tag));
  }

  /* This is callable directly as a template function */
  // $FlowFixMe: Not typed to avoid destructuring arguments
  var templateFunction = function templateFunction() {
    return componentConstructor(tag, options, css.apply(undefined, arguments));
  };

  /* If config methods are called, wrap up a new template function and merge options */
  templateFunction.withConfig = function (config) {
    return constructWithOptions(componentConstructor, tag, _extends({}, options, config));
  };

  /* Modify/inject new props at runtime */
  templateFunction.attrs = function (attrs) {
    return constructWithOptions(componentConstructor, tag, _extends({}, options, {
      attrs: Array.prototype.concat(options.attrs, attrs).filter(Boolean)
    }));
  };

  return templateFunction;
}

// 
// Source: https://github.com/garycourt/murmurhash-js/blob/master/murmurhash2_gc.js
function murmurhash(c) {
  for (var e = c.length | 0, a = e | 0, d = 0, b; e >= 4;) {
    b = c.charCodeAt(d) & 255 | (c.charCodeAt(++d) & 255) << 8 | (c.charCodeAt(++d) & 255) << 16 | (c.charCodeAt(++d) & 255) << 24, b = 1540483477 * (b & 65535) + ((1540483477 * (b >>> 16) & 65535) << 16), b ^= b >>> 24, b = 1540483477 * (b & 65535) + ((1540483477 * (b >>> 16) & 65535) << 16), a = 1540483477 * (a & 65535) + ((1540483477 * (a >>> 16) & 65535) << 16) ^ b, e -= 4, ++d;
  }
  switch (e) {
    case 3:
      a ^= (c.charCodeAt(d + 2) & 255) << 16;
    case 2:
      a ^= (c.charCodeAt(d + 1) & 255) << 8;
    case 1:
      a ^= c.charCodeAt(d) & 255, a = 1540483477 * (a & 65535) + ((1540483477 * (a >>> 16) & 65535) << 16);
  }
  a ^= a >>> 13;
  a = 1540483477 * (a & 65535) + ((1540483477 * (a >>> 16) & 65535) << 16);
  return (a ^ a >>> 15) >>> 0;
}

// 
/* eslint-disable no-bitwise */

/* This is the "capacity" of our alphabet i.e. 2x26 for all letters plus their capitalised
 * counterparts */
var charsLength = 52;

/* start at 75 for 'a' until 'z' (25) and then start at 65 for capitalised letters */
var getAlphabeticChar = function getAlphabeticChar(code) {
  return String.fromCharCode(code + (code > 25 ? 39 : 97));
};

/* input a number, usually a hash and convert it to base-52 */
function generateAlphabeticName(code) {
  var name = '';
  var x = void 0;

  /* get a char and divide by alphabet-length */
  for (x = code; x > charsLength; x = Math.floor(x / charsLength)) {
    name = getAlphabeticChar(x % charsLength) + name;
  }

  return getAlphabeticChar(x % charsLength) + name;
}

// 

function hasFunctionObjectKey(obj) {
  // eslint-disable-next-line guard-for-in, no-restricted-syntax
  for (var key in obj) {
    if (isFunction(obj[key])) {
      return true;
    }
  }

  return false;
}

function isStaticRules(rules, attrs) {
  for (var i = 0; i < rules.length; i += 1) {
    var rule = rules[i];

    // recursive case
    if (Array.isArray(rule) && !isStaticRules(rule, attrs)) {
      return false;
    } else if (isFunction(rule) && !isStyledComponent(rule)) {
      // functions are allowed to be static if they're just being
      // used to get the classname of a nested styled component
      return false;
    }
  }

  if (attrs.some(function (x) {
    return isFunction(x) || hasFunctionObjectKey(x);
  })) return false;

  return true;
}

// 

/* combines hashStr (murmurhash) and nameGenerator for convenience */
var hasher = function hasher(str) {
  return generateAlphabeticName(murmurhash(str));
};

/*
 ComponentStyle is all the CSS-specific stuff, not
 the React-specific stuff.
 */

var ComponentStyle = function () {
  function ComponentStyle(rules, attrs, componentId) {
    classCallCheck(this, ComponentStyle);

    this.rules = rules;
    this.isStatic =  false && false;
    this.componentId = componentId;

    if (!StyleSheet.master.hasId(componentId)) {
      StyleSheet.master.deferredInject(componentId, []);
    }
  }

  /*
   * Flattens a rule set into valid CSS
   * Hashes it, wraps the whole chunk in a .hash1234 {}
   * Returns the hash to be injected on render()
   * */


  ComponentStyle.prototype.generateAndInjectStyles = function generateAndInjectStyles(executionContext, styleSheet) {
    var isStatic = this.isStatic,
        componentId = this.componentId,
        lastClassName = this.lastClassName;

    if (IS_BROWSER && isStatic && typeof lastClassName === 'string' && styleSheet.hasNameForId(componentId, lastClassName)) {
      return lastClassName;
    }

    var flatCSS = flatten(this.rules, executionContext, styleSheet);
    var name = hasher(this.componentId + flatCSS.join(''));
    if (!styleSheet.hasNameForId(componentId, name)) {
      styleSheet.inject(this.componentId, stringifyRules(flatCSS, '.' + name, undefined, componentId), name);
    }

    this.lastClassName = name;
    return name;
  };

  ComponentStyle.generateName = function generateName(str) {
    return hasher(str);
  };

  return ComponentStyle;
}();

// 

var LIMIT = 200;

var createWarnTooManyClasses = (function (displayName) {
  var generatedClasses = {};
  var warningSeen = false;

  return function (className) {
    if (!warningSeen) {
      generatedClasses[className] = true;
      if (Object.keys(generatedClasses).length >= LIMIT) {
        // Unable to find latestRule in test environment.
        /* eslint-disable no-console, prefer-template */
        console.warn('Over ' + LIMIT + ' classes were generated for component ' + displayName + '. \n' + 'Consider using the attrs method, together with a style object for frequently changed styles.\n' + 'Example:\n' + '  const Component = styled.div.attrs(props => ({\n' + '    style: {\n' + '      background: props.background,\n' + '    },\n' + '  }))`width: 100%;`\n\n' + '  <Component />');
        warningSeen = true;
        generatedClasses = {};
      }
    }
  };
});

// 

var determineTheme = (function (props, fallbackTheme) {
  var defaultProps = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : EMPTY_OBJECT;

  // Props should take precedence over ThemeProvider, which should take precedence over
  // defaultProps, but React automatically puts defaultProps on props.

  /* eslint-disable react/prop-types, flowtype-errors/show-errors */
  var isDefaultTheme = defaultProps ? props.theme === defaultProps.theme : false;
  var theme = props.theme && !isDefaultTheme ? props.theme : fallbackTheme || defaultProps.theme;
  /* eslint-enable */

  return theme;
});

// 
var escapeRegex = /[[\].#*$><+~=|^:(),"'`-]+/g;
var dashesAtEnds = /(^-|-$)/g;

/**
 * TODO: Explore using CSS.escape when it becomes more available
 * in evergreen browsers.
 */
function escape(str) {
  return str
  // Replace all possible CSS selectors
  .replace(escapeRegex, '-')

  // Remove extraneous hyphens at the start and end
  .replace(dashesAtEnds, '');
}

// 

function isTag(target) {
  return typeof target === 'string' && ( true ? target.charAt(0) === target.charAt(0).toLowerCase() : undefined);
}

// 

function generateDisplayName(target) {
  // $FlowFixMe
  return isTag(target) ? 'styled.' + target : 'Styled(' + getComponentName(target) + ')';
}

var _TYPE_STATICS;

var REACT_STATICS = {
  childContextTypes: true,
  contextTypes: true,
  defaultProps: true,
  displayName: true,
  getDerivedStateFromProps: true,
  propTypes: true,
  type: true
};

var KNOWN_STATICS = {
  name: true,
  length: true,
  prototype: true,
  caller: true,
  callee: true,
  arguments: true,
  arity: true
};

var TYPE_STATICS = (_TYPE_STATICS = {}, _TYPE_STATICS[react_is__WEBPACK_IMPORTED_MODULE_4__["ForwardRef"]] = {
  $$typeof: true,
  render: true
}, _TYPE_STATICS);

var defineProperty$1 = Object.defineProperty,
    getOwnPropertyNames = Object.getOwnPropertyNames,
    _Object$getOwnPropert = Object.getOwnPropertySymbols,
    getOwnPropertySymbols = _Object$getOwnPropert === undefined ? function () {
  return [];
} : _Object$getOwnPropert,
    getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor,
    getPrototypeOf = Object.getPrototypeOf,
    objectPrototype = Object.prototype;
var arrayPrototype = Array.prototype;


function hoistNonReactStatics(targetComponent, sourceComponent, blacklist) {
  if (typeof sourceComponent !== 'string') {
    // don't hoist over string (html) components

    var inheritedComponent = getPrototypeOf(sourceComponent);

    if (inheritedComponent && inheritedComponent !== objectPrototype) {
      hoistNonReactStatics(targetComponent, inheritedComponent, blacklist);
    }

    var keys = arrayPrototype.concat(getOwnPropertyNames(sourceComponent),
    // $FlowFixMe
    getOwnPropertySymbols(sourceComponent));

    var targetStatics = TYPE_STATICS[targetComponent.$$typeof] || REACT_STATICS;

    var sourceStatics = TYPE_STATICS[sourceComponent.$$typeof] || REACT_STATICS;

    var i = keys.length;
    var descriptor = void 0;
    var key = void 0;

    // eslint-disable-next-line no-plusplus
    while (i--) {
      key = keys[i];

      if (
      // $FlowFixMe
      !KNOWN_STATICS[key] && !(blacklist && blacklist[key]) && !(sourceStatics && sourceStatics[key]) &&
      // $FlowFixMe
      !(targetStatics && targetStatics[key])) {
        descriptor = getOwnPropertyDescriptor(sourceComponent, key);

        if (descriptor) {
          try {
            // Avoid failures from read-only properties
            defineProperty$1(targetComponent, key, descriptor);
          } catch (e) {
            /* fail silently */
          }
        }
      }
    }

    return targetComponent;
  }

  return targetComponent;
}

// 
function isDerivedReactComponent(fn) {
  return !!(fn && fn.prototype && fn.prototype.isReactComponent);
}

// 
// Helper to call a given function, only once
var once = (function (cb) {
  var called = false;

  return function () {
    if (!called) {
      called = true;
      cb.apply(undefined, arguments);
    }
  };
});

// 

var ThemeContext = Object(react__WEBPACK_IMPORTED_MODULE_2__["createContext"])();

var ThemeConsumer = ThemeContext.Consumer;

/**
 * Provide a theme to an entire react component tree via context
 */

var ThemeProvider = function (_Component) {
  inherits(ThemeProvider, _Component);

  function ThemeProvider(props) {
    classCallCheck(this, ThemeProvider);

    var _this = possibleConstructorReturn(this, _Component.call(this, props));

    _this.getContext = Object(memoize_one__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.getContext.bind(_this));
    _this.renderInner = _this.renderInner.bind(_this);
    return _this;
  }

  ThemeProvider.prototype.render = function render() {
    if (!this.props.children) return null;

    return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(
      ThemeContext.Consumer,
      null,
      this.renderInner
    );
  };

  ThemeProvider.prototype.renderInner = function renderInner(outerTheme) {
    var context = this.getContext(this.props.theme, outerTheme);

    return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(
      ThemeContext.Provider,
      { value: context },
      this.props.children
    );
  };

  /**
   * Get the theme from the props, supporting both (outerTheme) => {}
   * as well as object notation
   */


  ThemeProvider.prototype.getTheme = function getTheme(theme, outerTheme) {
    if (isFunction(theme)) {
      var mergedTheme = theme(outerTheme);

      if ( true && (mergedTheme === null || Array.isArray(mergedTheme) || (typeof mergedTheme === 'undefined' ? 'undefined' : _typeof(mergedTheme)) !== 'object')) {
        throw new StyledComponentsError(7);
      }

      return mergedTheme;
    }

    if (theme === null || Array.isArray(theme) || (typeof theme === 'undefined' ? 'undefined' : _typeof(theme)) !== 'object') {
      throw new StyledComponentsError(8);
    }

    return _extends({}, outerTheme, theme);
  };

  ThemeProvider.prototype.getContext = function getContext(theme, outerTheme) {
    return this.getTheme(theme, outerTheme);
  };

  return ThemeProvider;
}(react__WEBPACK_IMPORTED_MODULE_2__["Component"]);

// 

var CLOSING_TAG_R = /^\s*<\/[a-z]/i;

var ServerStyleSheet = function () {
  function ServerStyleSheet() {
    classCallCheck(this, ServerStyleSheet);

    /* The master sheet might be reset, so keep a reference here */
    this.masterSheet = StyleSheet.master;
    this.instance = this.masterSheet.clone();
    this.sealed = false;
  }

  /**
   * Mark the ServerStyleSheet as being fully emitted and manually GC it from the
   * StyleSheet singleton.
   */


  ServerStyleSheet.prototype.seal = function seal() {
    if (!this.sealed) {
      /* Remove sealed StyleSheets from the master sheet */
      var index = this.masterSheet.clones.indexOf(this.instance);
      this.masterSheet.clones.splice(index, 1);
      this.sealed = true;
    }
  };

  ServerStyleSheet.prototype.collectStyles = function collectStyles(children) {
    if (this.sealed) {
      throw new StyledComponentsError(2);
    }

    return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(
      StyleSheetManager,
      { sheet: this.instance },
      children
    );
  };

  ServerStyleSheet.prototype.getStyleTags = function getStyleTags() {
    this.seal();
    return this.instance.toHTML();
  };

  ServerStyleSheet.prototype.getStyleElement = function getStyleElement() {
    this.seal();
    return this.instance.toReactElements();
  };

  ServerStyleSheet.prototype.interleaveWithNodeStream = function interleaveWithNodeStream(readableStream) {
    var _this = this;

    {
      throw new StyledComponentsError(3);
    }

    /* the tag index keeps track of which tags have already been emitted */
    var instance = this.instance;

    var instanceTagIndex = 0;

    var streamAttr = SC_STREAM_ATTR + '="true"';

    var transformer = new stream.Transform({
      transform: function appendStyleChunks(chunk, /* encoding */_, callback) {
        var tags = instance.tags;

        var html = '';

        /* retrieve html for each new style tag */
        for (; instanceTagIndex < tags.length; instanceTagIndex += 1) {
          var tag = tags[instanceTagIndex];
          html += tag.toHTML(streamAttr);
        }

        /* force our StyleSheets to emit entirely new tags */
        instance.sealAllTags();

        var renderedHtml = chunk.toString();

        /* prepend style html to chunk, unless the start of the chunk is a closing tag in which case append right after that */
        if (CLOSING_TAG_R.test(renderedHtml)) {
          var endOfClosingTag = renderedHtml.indexOf('>');

          this.push(renderedHtml.slice(0, endOfClosingTag + 1) + html + renderedHtml.slice(endOfClosingTag + 1));
        } else this.push(html + renderedHtml);

        callback();
      }
    });

    readableStream.on('end', function () {
      return _this.seal();
    });

    readableStream.on('error', function (err) {
      _this.seal();

      // forward the error to the transform stream
      transformer.emit('error', err);
    });

    return readableStream.pipe(transformer);
  };

  return ServerStyleSheet;
}();

// 

var StyleSheetContext = Object(react__WEBPACK_IMPORTED_MODULE_2__["createContext"])();
var StyleSheetConsumer = StyleSheetContext.Consumer;

var StyleSheetManager = function (_Component) {
  inherits(StyleSheetManager, _Component);

  function StyleSheetManager(props) {
    classCallCheck(this, StyleSheetManager);

    var _this = possibleConstructorReturn(this, _Component.call(this, props));

    _this.getContext = Object(memoize_one__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.getContext);
    return _this;
  }

  StyleSheetManager.prototype.getContext = function getContext(sheet, target) {
    if (sheet) {
      return sheet;
    } else if (target) {
      return new StyleSheet(target);
    } else {
      throw new StyledComponentsError(4);
    }
  };

  StyleSheetManager.prototype.render = function render() {
    var _props = this.props,
        children = _props.children,
        sheet = _props.sheet,
        target = _props.target;


    return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(
      StyleSheetContext.Provider,
      { value: this.getContext(sheet, target) },
       true ? react__WEBPACK_IMPORTED_MODULE_2___default.a.Children.only(children) : undefined
    );
  };

  return StyleSheetManager;
}(react__WEBPACK_IMPORTED_MODULE_2__["Component"]);
 true ? StyleSheetManager.propTypes = {
  sheet: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.instanceOf(StyleSheet), prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.instanceOf(ServerStyleSheet)]),

  target: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.shape({
    appendChild: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.func.isRequired
  })
} : undefined;

// 

var identifiers = {};

/* We depend on components having unique IDs */
function generateId(_ComponentStyle, _displayName, parentComponentId) {
  var displayName = typeof _displayName !== 'string' ? 'sc' : escape(_displayName);

  /**
   * This ensures uniqueness if two components happen to share
   * the same displayName.
   */
  var nr = (identifiers[displayName] || 0) + 1;
  identifiers[displayName] = nr;

  var componentId = displayName + '-' + _ComponentStyle.generateName(displayName + nr);

  return parentComponentId ? parentComponentId + '-' + componentId : componentId;
}

// $FlowFixMe

var StyledComponent = function (_Component) {
  inherits(StyledComponent, _Component);

  function StyledComponent() {
    classCallCheck(this, StyledComponent);

    var _this = possibleConstructorReturn(this, _Component.call(this));

    _this.attrs = {};

    _this.renderOuter = _this.renderOuter.bind(_this);
    _this.renderInner = _this.renderInner.bind(_this);

    if (true) {
      _this.warnInnerRef = once(function (displayName) {
        return (
          // eslint-disable-next-line no-console
          console.warn('The "innerRef" API has been removed in styled-components v4 in favor of React 16 ref forwarding, use "ref" instead like a typical component. "innerRef" was detected on component "' + displayName + '".')
        );
      });

      _this.warnAttrsFnObjectKeyDeprecated = once(function (key, displayName) {
        return (
          // eslint-disable-next-line no-console
          console.warn('Functions as object-form attrs({}) keys are now deprecated and will be removed in a future version of styled-components. Switch to the new attrs(props => ({})) syntax instead for easier and more powerful composition. The attrs key in question is "' + key + '" on component "' + displayName + '".', '\n ' + new Error().stack)
        );
      });

      _this.warnNonStyledComponentAttrsObjectKey = once(function (key, displayName) {
        return (
          // eslint-disable-next-line no-console
          console.warn('It looks like you\'ve used a non styled-component as the value for the "' + key + '" prop in an object-form attrs constructor of "' + displayName + '".\n' + 'You should use the new function-form attrs constructor which avoids this issue: attrs(props => ({ yourStuff }))\n' + "To continue using the deprecated object syntax, you'll need to wrap your component prop in a function to make it available inside the styled component (you'll still get the deprecation warning though.)\n" + ('For example, { ' + key + ': () => InnerComponent } instead of { ' + key + ': InnerComponent }'))
        );
      });
    }
    return _this;
  }

  StyledComponent.prototype.render = function render() {
    return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(
      StyleSheetConsumer,
      null,
      this.renderOuter
    );
  };

  StyledComponent.prototype.renderOuter = function renderOuter() {
    var styleSheet = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : StyleSheet.master;

    this.styleSheet = styleSheet;

    // No need to subscribe a static component to theme changes, it won't change anything
    if (this.props.forwardedComponent.componentStyle.isStatic) return this.renderInner();

    return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(
      ThemeConsumer,
      null,
      this.renderInner
    );
  };

  StyledComponent.prototype.renderInner = function renderInner(theme) {
    var _props$forwardedCompo = this.props.forwardedComponent,
        componentStyle = _props$forwardedCompo.componentStyle,
        defaultProps = _props$forwardedCompo.defaultProps,
        displayName = _props$forwardedCompo.displayName,
        foldedComponentIds = _props$forwardedCompo.foldedComponentIds,
        styledComponentId = _props$forwardedCompo.styledComponentId,
        target = _props$forwardedCompo.target;


    var generatedClassName = void 0;
    if (componentStyle.isStatic) {
      generatedClassName = this.generateAndInjectStyles(EMPTY_OBJECT, this.props);
    } else {
      generatedClassName = this.generateAndInjectStyles(determineTheme(this.props, theme, defaultProps) || EMPTY_OBJECT, this.props);
    }

    var elementToBeCreated = this.props.as || this.attrs.as || target;
    var isTargetTag = isTag(elementToBeCreated);

    var propsForElement = {};
    var computedProps = _extends({}, this.props, this.attrs);

    var key = void 0;
    // eslint-disable-next-line guard-for-in
    for (key in computedProps) {
      if ( true && key === 'innerRef' && isTargetTag) {
        this.warnInnerRef(displayName);
      }

      if (key === 'forwardedComponent' || key === 'as') {
        continue;
      } else if (key === 'forwardedRef') propsForElement.ref = computedProps[key];else if (key === 'forwardedAs') propsForElement.as = computedProps[key];else if (!isTargetTag || Object(_emotion_is_prop_valid__WEBPACK_IMPORTED_MODULE_7__["default"])(key)) {
        // Don't pass through non HTML tags through to HTML elements
        propsForElement[key] = computedProps[key];
      }
    }

    if (this.props.style && this.attrs.style) {
      propsForElement.style = _extends({}, this.attrs.style, this.props.style);
    }

    propsForElement.className = Array.prototype.concat(foldedComponentIds, styledComponentId, generatedClassName !== styledComponentId ? generatedClassName : null, this.props.className, this.attrs.className).filter(Boolean).join(' ');

    return Object(react__WEBPACK_IMPORTED_MODULE_2__["createElement"])(elementToBeCreated, propsForElement);
  };

  StyledComponent.prototype.buildExecutionContext = function buildExecutionContext(theme, props, attrs) {
    var _this2 = this;

    var context = _extends({}, props, { theme: theme });

    if (!attrs.length) return context;

    this.attrs = {};

    attrs.forEach(function (attrDef) {
      var resolvedAttrDef = attrDef;
      var attrDefWasFn = false;
      var attr = void 0;
      var key = void 0;

      if (isFunction(resolvedAttrDef)) {
        // $FlowFixMe
        resolvedAttrDef = resolvedAttrDef(context);
        attrDefWasFn = true;
      }

      /* eslint-disable guard-for-in */
      // $FlowFixMe
      for (key in resolvedAttrDef) {
        attr = resolvedAttrDef[key];

        if (!attrDefWasFn) {
          if (isFunction(attr) && !isDerivedReactComponent(attr) && !isStyledComponent(attr)) {
            if (true) {
              _this2.warnAttrsFnObjectKeyDeprecated(key, props.forwardedComponent.displayName);
            }

            attr = attr(context);

            if ( true && react__WEBPACK_IMPORTED_MODULE_2___default.a.isValidElement(attr)) {
              _this2.warnNonStyledComponentAttrsObjectKey(key, props.forwardedComponent.displayName);
            }
          }
        }

        _this2.attrs[key] = attr;
        context[key] = attr;
      }
      /* eslint-enable */
    });

    return context;
  };

  StyledComponent.prototype.generateAndInjectStyles = function generateAndInjectStyles(theme, props) {
    var _props$forwardedCompo2 = props.forwardedComponent,
        attrs = _props$forwardedCompo2.attrs,
        componentStyle = _props$forwardedCompo2.componentStyle,
        warnTooManyClasses = _props$forwardedCompo2.warnTooManyClasses;

    // statically styled-components don't need to build an execution context object,
    // and shouldn't be increasing the number of class names

    if (componentStyle.isStatic && !attrs.length) {
      return componentStyle.generateAndInjectStyles(EMPTY_OBJECT, this.styleSheet);
    }

    var className = componentStyle.generateAndInjectStyles(this.buildExecutionContext(theme, props, attrs), this.styleSheet);

    if ( true && warnTooManyClasses) warnTooManyClasses(className);

    return className;
  };

  return StyledComponent;
}(react__WEBPACK_IMPORTED_MODULE_2__["Component"]);

function createStyledComponent(target, options, rules) {
  var isTargetStyledComp = isStyledComponent(target);
  var isClass = !isTag(target);

  var _options$displayName = options.displayName,
      displayName = _options$displayName === undefined ? generateDisplayName(target) : _options$displayName,
      _options$componentId = options.componentId,
      componentId = _options$componentId === undefined ? generateId(ComponentStyle, options.displayName, options.parentComponentId) : _options$componentId,
      _options$ParentCompon = options.ParentComponent,
      ParentComponent = _options$ParentCompon === undefined ? StyledComponent : _options$ParentCompon,
      _options$attrs = options.attrs,
      attrs = _options$attrs === undefined ? EMPTY_ARRAY : _options$attrs;


  var styledComponentId = options.displayName && options.componentId ? escape(options.displayName) + '-' + options.componentId : options.componentId || componentId;

  // fold the underlying StyledComponent attrs up (implicit extend)
  var finalAttrs =
  // $FlowFixMe
  isTargetStyledComp && target.attrs ? Array.prototype.concat(target.attrs, attrs).filter(Boolean) : attrs;

  var componentStyle = new ComponentStyle(isTargetStyledComp ? // fold the underlying StyledComponent rules up (implicit extend)
  // $FlowFixMe
  target.componentStyle.rules.concat(rules) : rules, finalAttrs, styledComponentId);

  /**
   * forwardRef creates a new interim component, which we'll take advantage of
   * instead of extending ParentComponent to create _another_ interim class
   */
  var WrappedStyledComponent = void 0;
  var forwardRef = function forwardRef(props, ref) {
    return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(ParentComponent, _extends({}, props, { forwardedComponent: WrappedStyledComponent, forwardedRef: ref }));
  };
  forwardRef.displayName = displayName;
  WrappedStyledComponent = react__WEBPACK_IMPORTED_MODULE_2___default.a.forwardRef(forwardRef);
  WrappedStyledComponent.displayName = displayName;

  // $FlowFixMe
  WrappedStyledComponent.attrs = finalAttrs;
  // $FlowFixMe
  WrappedStyledComponent.componentStyle = componentStyle;

  // $FlowFixMe
  WrappedStyledComponent.foldedComponentIds = isTargetStyledComp ? // $FlowFixMe
  Array.prototype.concat(target.foldedComponentIds, target.styledComponentId) : EMPTY_ARRAY;

  // $FlowFixMe
  WrappedStyledComponent.styledComponentId = styledComponentId;

  // fold the underlying StyledComponent target up since we folded the styles
  // $FlowFixMe
  WrappedStyledComponent.target = isTargetStyledComp ? target.target : target;

  // $FlowFixMe
  WrappedStyledComponent.withComponent = function withComponent(tag) {
    var previousComponentId = options.componentId,
        optionsToCopy = objectWithoutProperties(options, ['componentId']);


    var newComponentId = previousComponentId && previousComponentId + '-' + (isTag(tag) ? tag : escape(getComponentName(tag)));

    var newOptions = _extends({}, optionsToCopy, {
      attrs: finalAttrs,
      componentId: newComponentId,
      ParentComponent: ParentComponent
    });

    return createStyledComponent(tag, newOptions, rules);
  };

  // $FlowFixMe
  Object.defineProperty(WrappedStyledComponent, 'defaultProps', {
    get: function get$$1() {
      return this._foldedDefaultProps;
    },
    set: function set$$1(obj) {
      // $FlowFixMe
      this._foldedDefaultProps = isTargetStyledComp ? Object(merge_anything__WEBPACK_IMPORTED_MODULE_8__["default"])(target.defaultProps, obj) : obj;
    }
  });

  if (true) {
    // $FlowFixMe
    WrappedStyledComponent.warnTooManyClasses = createWarnTooManyClasses(displayName);
  }

  // $FlowFixMe
  WrappedStyledComponent.toString = function () {
    return '.' + WrappedStyledComponent.styledComponentId;
  };

  if (isClass) {
    hoistNonReactStatics(WrappedStyledComponent, target, {
      // all SC-specific things should not be hoisted
      attrs: true,
      componentStyle: true,
      displayName: true,
      foldedComponentIds: true,
      styledComponentId: true,
      target: true,
      withComponent: true
    });
  }

  return WrappedStyledComponent;
}

// 
// Thanks to ReactDOMFactories for this handy list!

var domElements = ['a', 'abbr', 'address', 'area', 'article', 'aside', 'audio', 'b', 'base', 'bdi', 'bdo', 'big', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'cite', 'code', 'col', 'colgroup', 'data', 'datalist', 'dd', 'del', 'details', 'dfn', 'dialog', 'div', 'dl', 'dt', 'em', 'embed', 'fieldset', 'figcaption', 'figure', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'iframe', 'img', 'input', 'ins', 'kbd', 'keygen', 'label', 'legend', 'li', 'link', 'main', 'map', 'mark', 'marquee', 'menu', 'menuitem', 'meta', 'meter', 'nav', 'noscript', 'object', 'ol', 'optgroup', 'option', 'output', 'p', 'param', 'picture', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'script', 'section', 'select', 'small', 'source', 'span', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'textarea', 'tfoot', 'th', 'thead', 'time', 'title', 'tr', 'track', 'u', 'ul', 'var', 'video', 'wbr',

// SVG
'circle', 'clipPath', 'defs', 'ellipse', 'foreignObject', 'g', 'image', 'line', 'linearGradient', 'marker', 'mask', 'path', 'pattern', 'polygon', 'polyline', 'radialGradient', 'rect', 'stop', 'svg', 'text', 'tspan'];

// 

var styled = function styled(tag) {
  return constructWithOptions(createStyledComponent, tag);
};

// Shorthands for all valid HTML Elements
domElements.forEach(function (domElement) {
  styled[domElement] = styled(domElement);
});

// 

var GlobalStyle = function () {
  function GlobalStyle(rules, componentId) {
    classCallCheck(this, GlobalStyle);

    this.rules = rules;
    this.componentId = componentId;
    this.isStatic = isStaticRules(rules, EMPTY_ARRAY);

    if (!StyleSheet.master.hasId(componentId)) {
      StyleSheet.master.deferredInject(componentId, []);
    }
  }

  GlobalStyle.prototype.createStyles = function createStyles(executionContext, styleSheet) {
    var flatCSS = flatten(this.rules, executionContext, styleSheet);
    var css = stringifyRules(flatCSS, '');

    styleSheet.inject(this.componentId, css);
  };

  GlobalStyle.prototype.removeStyles = function removeStyles(styleSheet) {
    var componentId = this.componentId;

    if (styleSheet.hasId(componentId)) {
      styleSheet.remove(componentId);
    }
  };

  // TODO: overwrite in-place instead of remove+create?


  GlobalStyle.prototype.renderStyles = function renderStyles(executionContext, styleSheet) {
    this.removeStyles(styleSheet);
    this.createStyles(executionContext, styleSheet);
  };

  return GlobalStyle;
}();

// 

// place our cache into shared context so it'll persist between HMRs
if (IS_BROWSER) {
  window.scCGSHMRCache = {};
}

function createGlobalStyle(strings) {
  for (var _len = arguments.length, interpolations = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
    interpolations[_key - 1] = arguments[_key];
  }

  var rules = css.apply(undefined, [strings].concat(interpolations));
  var id = 'sc-global-' + murmurhash(JSON.stringify(rules));
  var style = new GlobalStyle(rules, id);

  var GlobalStyleComponent = function (_React$Component) {
    inherits(GlobalStyleComponent, _React$Component);

    function GlobalStyleComponent(props) {
      classCallCheck(this, GlobalStyleComponent);

      var _this = possibleConstructorReturn(this, _React$Component.call(this, props));

      var _this$constructor = _this.constructor,
          globalStyle = _this$constructor.globalStyle,
          styledComponentId = _this$constructor.styledComponentId;


      if (IS_BROWSER) {
        window.scCGSHMRCache[styledComponentId] = (window.scCGSHMRCache[styledComponentId] || 0) + 1;
      }

      /**
       * This fixes HMR compatibility. Don't ask me why, but this combination of
       * caching the closure variables via statics and then persisting the statics in
       * state works across HMR where no other combination did. \_()_/
       */
      _this.state = {
        globalStyle: globalStyle,
        styledComponentId: styledComponentId
      };
      return _this;
    }

    GlobalStyleComponent.prototype.componentWillUnmount = function componentWillUnmount() {
      if (window.scCGSHMRCache[this.state.styledComponentId]) {
        window.scCGSHMRCache[this.state.styledComponentId] -= 1;
      }
      /**
       * Depending on the order "render" is called this can cause the styles to be lost
       * until the next render pass of the remaining instance, which may
       * not be immediate.
       */
      if (window.scCGSHMRCache[this.state.styledComponentId] === 0) {
        this.state.globalStyle.removeStyles(this.styleSheet);
      }
    };

    GlobalStyleComponent.prototype.render = function render() {
      var _this2 = this;

      if ( true && react__WEBPACK_IMPORTED_MODULE_2___default.a.Children.count(this.props.children)) {
        // eslint-disable-next-line no-console
        console.warn('The global style component ' + this.state.styledComponentId + ' was given child JSX. createGlobalStyle does not render children.');
      }

      return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(
        StyleSheetConsumer,
        null,
        function (styleSheet) {
          _this2.styleSheet = styleSheet || StyleSheet.master;

          var globalStyle = _this2.state.globalStyle;


          if (globalStyle.isStatic) {
            globalStyle.renderStyles(STATIC_EXECUTION_CONTEXT, _this2.styleSheet);

            return null;
          } else {
            return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(
              ThemeConsumer,
              null,
              function (theme) {
                // $FlowFixMe
                var defaultProps = _this2.constructor.defaultProps;


                var context = _extends({}, _this2.props);

                if (typeof theme !== 'undefined') {
                  context.theme = determineTheme(_this2.props, theme, defaultProps);
                }

                globalStyle.renderStyles(context, _this2.styleSheet);

                return null;
              }
            );
          }
        }
      );
    };

    return GlobalStyleComponent;
  }(react__WEBPACK_IMPORTED_MODULE_2___default.a.Component);

  GlobalStyleComponent.globalStyle = style;
  GlobalStyleComponent.styledComponentId = id;


  return GlobalStyleComponent;
}

// 

var replaceWhitespace = function replaceWhitespace(str) {
  return str.replace(/\s|\\n/g, '');
};

function keyframes(strings) {
  /* Warning if you've used keyframes on React Native */
  if ( true && typeof navigator !== 'undefined' && navigator.product === 'ReactNative') {
    // eslint-disable-next-line no-console
    console.warn('`keyframes` cannot be used on ReactNative, only on the web. To do animation in ReactNative please use Animated.');
  }

  for (var _len = arguments.length, interpolations = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
    interpolations[_key - 1] = arguments[_key];
  }

  var rules = css.apply(undefined, [strings].concat(interpolations));

  var name = generateAlphabeticName(murmurhash(replaceWhitespace(JSON.stringify(rules))));

  return new Keyframes(name, stringifyRules(rules, name, '@keyframes'));
}

// 

var withTheme = (function (Component$$1) {
  var WithTheme = react__WEBPACK_IMPORTED_MODULE_2___default.a.forwardRef(function (props, ref) {
    return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(
      ThemeConsumer,
      null,
      function (theme) {
        // $FlowFixMe
        var defaultProps = Component$$1.defaultProps;

        var themeProp = determineTheme(props, theme, defaultProps);

        if ( true && themeProp === undefined) {
          // eslint-disable-next-line no-console
          console.warn('[withTheme] You are not using a ThemeProvider nor passing a theme prop or a theme in defaultProps in component class "' + getComponentName(Component$$1) + '"');
        }

        return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Component$$1, _extends({}, props, { theme: themeProp, ref: ref }));
      }
    );
  });

  hoistNonReactStatics(WithTheme, Component$$1);

  WithTheme.displayName = 'WithTheme(' + getComponentName(Component$$1) + ')';

  return WithTheme;
});

// 

/* eslint-disable */
var __DO_NOT_USE_OR_YOU_WILL_BE_HAUNTED_BY_SPOOKY_GHOSTS = {
  StyleSheet: StyleSheet
};

// 

/* Warning if you've imported this file on React Native */
if ( true && typeof navigator !== 'undefined' && navigator.product === 'ReactNative') {
  // eslint-disable-next-line no-console
  console.warn("It looks like you've imported 'styled-components' on React Native.\n" + "Perhaps you're looking to import 'styled-components/native'?\n" + 'Read more about this at https://www.styled-components.com/docs/basics#react-native');
}

/* Warning if there are several instances of styled-components */
if ( true && typeof window !== 'undefined' && typeof navigator !== 'undefined' && typeof navigator.userAgent === 'string' && navigator.userAgent.indexOf('Node.js') === -1 && navigator.userAgent.indexOf('jsdom') === -1) {
  window['__styled-components-init__'] = window['__styled-components-init__'] || 0;

  if (window['__styled-components-init__'] === 1) {
    // eslint-disable-next-line no-console
    console.warn("It looks like there are several instances of 'styled-components' initialized in this application. " + 'This may cause dynamic styles not rendering properly, errors happening during rehydration process ' + 'and makes your application bigger without a good reason.\n\n' + 'See https://s-c.sh/2BAXzed for more info.');
  }

  window['__styled-components-init__'] += 1;
}

//

/* harmony default export */ __webpack_exports__["default"] = (styled);

//# sourceMappingURL=styled-components.browser.esm.js.map

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../process/browser.js */ "./node_modules/process/browser.js")))

/***/ }),

/***/ "./node_modules/stylis-rule-sheet/index.js":
/*!*************************************************!*\
  !*** ./node_modules/stylis-rule-sheet/index.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

(function (factory) {
	 true ? (module['exports'] = factory()) :
		undefined
}(function () {

	'use strict'

	return function (insertRule) {
		var delimiter = '/*|*/'
		var needle = delimiter+'}'

		function toSheet (block) {
			if (block)
				try {
					insertRule(block + '}')
				} catch (e) {}
		}

		return function ruleSheet (context, content, selectors, parents, line, column, length, ns, depth, at) {
			switch (context) {
				// property
				case 1:
					// @import
					if (depth === 0 && content.charCodeAt(0) === 64)
						return insertRule(content+';'), ''
					break
				// selector
				case 2:
					if (ns === 0)
						return content + delimiter
					break
				// at-rule
				case 3:
					switch (ns) {
						// @font-face, @page
						case 102:
						case 112:
							return insertRule(selectors[0]+content), ''
						default:
							return content + (at === 0 ? delimiter : '')
					}
				case -2:
					content.split(needle).forEach(toSheet)
			}
		}
	}
}))


/***/ }),

/***/ "./node_modules/stylis/stylis.min.js":
/*!*******************************************!*\
  !*** ./node_modules/stylis/stylis.min.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

!function(e){ true?module.exports=e(null):undefined}(function e(a){"use strict";var r=/^\0+/g,c=/[\0\r\f]/g,s=/: */g,t=/zoo|gra/,i=/([,: ])(transform)/g,f=/,+\s*(?![^(]*[)])/g,n=/ +\s*(?![^(]*[)])/g,l=/ *[\0] */g,o=/,\r+?/g,h=/([\t\r\n ])*\f?&/g,u=/:global\(((?:[^\(\)\[\]]*|\[.*\]|\([^\(\)]*\))*)\)/g,d=/\W+/g,b=/@(k\w+)\s*(\S*)\s*/,p=/::(place)/g,k=/:(read-only)/g,g=/\s+(?=[{\];=:>])/g,A=/([[}=:>])\s+/g,C=/(\{[^{]+?);(?=\})/g,w=/\s{2,}/g,v=/([^\(])(:+) */g,m=/[svh]\w+-[tblr]{2}/,x=/\(\s*(.*)\s*\)/g,$=/([\s\S]*?);/g,y=/-self|flex-/g,O=/[^]*?(:[rp][el]a[\w-]+)[^]*/,j=/stretch|:\s*\w+\-(?:conte|avail)/,z=/([^-])(image-set\()/,N="-webkit-",S="-moz-",F="-ms-",W=59,q=125,B=123,D=40,E=41,G=91,H=93,I=10,J=13,K=9,L=64,M=32,P=38,Q=45,R=95,T=42,U=44,V=58,X=39,Y=34,Z=47,_=62,ee=43,ae=126,re=0,ce=12,se=11,te=107,ie=109,fe=115,ne=112,le=111,oe=105,he=99,ue=100,de=112,be=1,pe=1,ke=0,ge=1,Ae=1,Ce=1,we=0,ve=0,me=0,xe=[],$e=[],ye=0,Oe=null,je=-2,ze=-1,Ne=0,Se=1,Fe=2,We=3,qe=0,Be=1,De="",Ee="",Ge="";function He(e,a,s,t,i){for(var f,n,o=0,h=0,u=0,d=0,g=0,A=0,C=0,w=0,m=0,$=0,y=0,O=0,j=0,z=0,R=0,we=0,$e=0,Oe=0,je=0,ze=s.length,Je=ze-1,Re="",Te="",Ue="",Ve="",Xe="",Ye="";R<ze;){if(C=s.charCodeAt(R),R===Je)if(h+d+u+o!==0){if(0!==h)C=h===Z?I:Z;d=u=o=0,ze++,Je++}if(h+d+u+o===0){if(R===Je){if(we>0)Te=Te.replace(c,"");if(Te.trim().length>0){switch(C){case M:case K:case W:case J:case I:break;default:Te+=s.charAt(R)}C=W}}if(1===$e)switch(C){case B:case q:case W:case Y:case X:case D:case E:case U:$e=0;case K:case J:case I:case M:break;default:for($e=0,je=R,g=C,R--,C=W;je<ze;)switch(s.charCodeAt(je++)){case I:case J:case W:++R,C=g,je=ze;break;case V:if(we>0)++R,C=g;case B:je=ze}}switch(C){case B:for(g=(Te=Te.trim()).charCodeAt(0),y=1,je=++R;R<ze;){switch(C=s.charCodeAt(R)){case B:y++;break;case q:y--;break;case Z:switch(A=s.charCodeAt(R+1)){case T:case Z:R=Qe(A,R,Je,s)}break;case G:C++;case D:C++;case Y:case X:for(;R++<Je&&s.charCodeAt(R)!==C;);}if(0===y)break;R++}if(Ue=s.substring(je,R),g===re)g=(Te=Te.replace(r,"").trim()).charCodeAt(0);switch(g){case L:if(we>0)Te=Te.replace(c,"");switch(A=Te.charCodeAt(1)){case ue:case ie:case fe:case Q:f=a;break;default:f=xe}if(je=(Ue=He(a,f,Ue,A,i+1)).length,me>0&&0===je)je=Te.length;if(ye>0)if(f=Ie(xe,Te,Oe),n=Pe(We,Ue,f,a,pe,be,je,A,i,t),Te=f.join(""),void 0!==n)if(0===(je=(Ue=n.trim()).length))A=0,Ue="";if(je>0)switch(A){case fe:Te=Te.replace(x,Me);case ue:case ie:case Q:Ue=Te+"{"+Ue+"}";break;case te:if(Ue=(Te=Te.replace(b,"$1 $2"+(Be>0?De:"")))+"{"+Ue+"}",1===Ae||2===Ae&&Le("@"+Ue,3))Ue="@"+N+Ue+"@"+Ue;else Ue="@"+Ue;break;default:if(Ue=Te+Ue,t===de)Ve+=Ue,Ue=""}else Ue="";break;default:Ue=He(a,Ie(a,Te,Oe),Ue,t,i+1)}Xe+=Ue,O=0,$e=0,z=0,we=0,Oe=0,j=0,Te="",Ue="",C=s.charCodeAt(++R);break;case q:case W:if((je=(Te=(we>0?Te.replace(c,""):Te).trim()).length)>1){if(0===z)if((g=Te.charCodeAt(0))===Q||g>96&&g<123)je=(Te=Te.replace(" ",":")).length;if(ye>0)if(void 0!==(n=Pe(Se,Te,a,e,pe,be,Ve.length,t,i,t)))if(0===(je=(Te=n.trim()).length))Te="\0\0";switch(g=Te.charCodeAt(0),A=Te.charCodeAt(1),g){case re:break;case L:if(A===oe||A===he){Ye+=Te+s.charAt(R);break}default:if(Te.charCodeAt(je-1)===V)break;Ve+=Ke(Te,g,A,Te.charCodeAt(2))}}O=0,$e=0,z=0,we=0,Oe=0,Te="",C=s.charCodeAt(++R)}}switch(C){case J:case I:if(h+d+u+o+ve===0)switch($){case E:case X:case Y:case L:case ae:case _:case T:case ee:case Z:case Q:case V:case U:case W:case B:case q:break;default:if(z>0)$e=1}if(h===Z)h=0;else if(ge+O===0&&t!==te&&Te.length>0)we=1,Te+="\0";if(ye*qe>0)Pe(Ne,Te,a,e,pe,be,Ve.length,t,i,t);be=1,pe++;break;case W:case q:if(h+d+u+o===0){be++;break}default:switch(be++,Re=s.charAt(R),C){case K:case M:if(d+o+h===0)switch(w){case U:case V:case K:case M:Re="";break;default:if(C!==M)Re=" "}break;case re:Re="\\0";break;case ce:Re="\\f";break;case se:Re="\\v";break;case P:if(d+h+o===0&&ge>0)Oe=1,we=1,Re="\f"+Re;break;case 108:if(d+h+o+ke===0&&z>0)switch(R-z){case 2:if(w===ne&&s.charCodeAt(R-3)===V)ke=w;case 8:if(m===le)ke=m}break;case V:if(d+h+o===0)z=R;break;case U:if(h+u+d+o===0)we=1,Re+="\r";break;case Y:case X:if(0===h)d=d===C?0:0===d?C:d;break;case G:if(d+h+u===0)o++;break;case H:if(d+h+u===0)o--;break;case E:if(d+h+o===0)u--;break;case D:if(d+h+o===0){if(0===O)switch(2*w+3*m){case 533:break;default:y=0,O=1}u++}break;case L:if(h+u+d+o+z+j===0)j=1;break;case T:case Z:if(d+o+u>0)break;switch(h){case 0:switch(2*C+3*s.charCodeAt(R+1)){case 235:h=Z;break;case 220:je=R,h=T}break;case T:if(C===Z&&w===T&&je+2!==R){if(33===s.charCodeAt(je+2))Ve+=s.substring(je,R+1);Re="",h=0}}}if(0===h){if(ge+d+o+j===0&&t!==te&&C!==W)switch(C){case U:case ae:case _:case ee:case E:case D:if(0===O){switch(w){case K:case M:case I:case J:Re+="\0";break;default:Re="\0"+Re+(C===U?"":"\0")}we=1}else switch(C){case D:if(z+7===R&&108===w)z=0;O=++y;break;case E:if(0==(O=--y))we=1,Re+="\0"}break;case K:case M:switch(w){case re:case B:case q:case W:case U:case ce:case K:case M:case I:case J:break;default:if(0===O)we=1,Re+="\0"}}if(Te+=Re,C!==M&&C!==K)$=C}}m=w,w=C,R++}if(je=Ve.length,me>0)if(0===je&&0===Xe.length&&0===a[0].length==false)if(t!==ie||1===a.length&&(ge>0?Ee:Ge)===a[0])je=a.join(",").length+2;if(je>0){if(f=0===ge&&t!==te?function(e){for(var a,r,s=0,t=e.length,i=Array(t);s<t;++s){for(var f=e[s].split(l),n="",o=0,h=0,u=0,d=0,b=f.length;o<b;++o){if(0===(h=(r=f[o]).length)&&b>1)continue;if(u=n.charCodeAt(n.length-1),d=r.charCodeAt(0),a="",0!==o)switch(u){case T:case ae:case _:case ee:case M:case D:break;default:a=" "}switch(d){case P:r=a+Ee;case ae:case _:case ee:case M:case E:case D:break;case G:r=a+r+Ee;break;case V:switch(2*r.charCodeAt(1)+3*r.charCodeAt(2)){case 530:if(Ce>0){r=a+r.substring(8,h-1);break}default:if(o<1||f[o-1].length<1)r=a+Ee+r}break;case U:a="";default:if(h>1&&r.indexOf(":")>0)r=a+r.replace(v,"$1"+Ee+"$2");else r=a+r+Ee}n+=r}i[s]=n.replace(c,"").trim()}return i}(a):a,ye>0)if(void 0!==(n=Pe(Fe,Ve,f,e,pe,be,je,t,i,t))&&0===(Ve=n).length)return Ye+Ve+Xe;if(Ve=f.join(",")+"{"+Ve+"}",Ae*ke!=0){if(2===Ae&&!Le(Ve,2))ke=0;switch(ke){case le:Ve=Ve.replace(k,":"+S+"$1")+Ve;break;case ne:Ve=Ve.replace(p,"::"+N+"input-$1")+Ve.replace(p,"::"+S+"$1")+Ve.replace(p,":"+F+"input-$1")+Ve}ke=0}}return Ye+Ve+Xe}function Ie(e,a,r){var c=a.trim().split(o),s=c,t=c.length,i=e.length;switch(i){case 0:case 1:for(var f=0,n=0===i?"":e[0]+" ";f<t;++f)s[f]=Je(n,s[f],r,i).trim();break;default:f=0;var l=0;for(s=[];f<t;++f)for(var h=0;h<i;++h)s[l++]=Je(e[h]+" ",c[f],r,i).trim()}return s}function Je(e,a,r,c){var s=a,t=s.charCodeAt(0);if(t<33)t=(s=s.trim()).charCodeAt(0);switch(t){case P:switch(ge+c){case 0:case 1:if(0===e.trim().length)break;default:return s.replace(h,"$1"+e.trim())}break;case V:switch(s.charCodeAt(1)){case 103:if(Ce>0&&ge>0)return s.replace(u,"$1").replace(h,"$1"+Ge);break;default:return e.trim()+s.replace(h,"$1"+e.trim())}default:if(r*ge>0&&s.indexOf("\f")>0)return s.replace(h,(e.charCodeAt(0)===V?"":"$1")+e.trim())}return e+s}function Ke(e,a,r,c){var l,o=0,h=e+";",u=2*a+3*r+4*c;if(944===u)return function(e){var a=e.length,r=e.indexOf(":",9)+1,c=e.substring(0,r).trim(),s=e.substring(r,a-1).trim();switch(e.charCodeAt(9)*Be){case 0:break;case Q:if(110!==e.charCodeAt(10))break;default:for(var t=s.split((s="",f)),i=0,r=0,a=t.length;i<a;r=0,++i){for(var l=t[i],o=l.split(n);l=o[r];){var h=l.charCodeAt(0);if(1===Be&&(h>L&&h<90||h>96&&h<123||h===R||h===Q&&l.charCodeAt(1)!==Q))switch(isNaN(parseFloat(l))+(-1!==l.indexOf("("))){case 1:switch(l){case"infinite":case"alternate":case"backwards":case"running":case"normal":case"forwards":case"both":case"none":case"linear":case"ease":case"ease-in":case"ease-out":case"ease-in-out":case"paused":case"reverse":case"alternate-reverse":case"inherit":case"initial":case"unset":case"step-start":case"step-end":break;default:l+=De}}o[r++]=l}s+=(0===i?"":",")+o.join(" ")}}if(s=c+s+";",1===Ae||2===Ae&&Le(s,1))return N+s+s;return s}(h);else if(0===Ae||2===Ae&&!Le(h,1))return h;switch(u){case 1015:return 97===h.charCodeAt(10)?N+h+h:h;case 951:return 116===h.charCodeAt(3)?N+h+h:h;case 963:return 110===h.charCodeAt(5)?N+h+h:h;case 1009:if(100!==h.charCodeAt(4))break;case 969:case 942:return N+h+h;case 978:return N+h+S+h+h;case 1019:case 983:return N+h+S+h+F+h+h;case 883:if(h.charCodeAt(8)===Q)return N+h+h;if(h.indexOf("image-set(",11)>0)return h.replace(z,"$1"+N+"$2")+h;return h;case 932:if(h.charCodeAt(4)===Q)switch(h.charCodeAt(5)){case 103:return N+"box-"+h.replace("-grow","")+N+h+F+h.replace("grow","positive")+h;case 115:return N+h+F+h.replace("shrink","negative")+h;case 98:return N+h+F+h.replace("basis","preferred-size")+h}return N+h+F+h+h;case 964:return N+h+F+"flex-"+h+h;case 1023:if(99!==h.charCodeAt(8))break;return l=h.substring(h.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),N+"box-pack"+l+N+h+F+"flex-pack"+l+h;case 1005:return t.test(h)?h.replace(s,":"+N)+h.replace(s,":"+S)+h:h;case 1e3:switch(o=(l=h.substring(13).trim()).indexOf("-")+1,l.charCodeAt(0)+l.charCodeAt(o)){case 226:l=h.replace(m,"tb");break;case 232:l=h.replace(m,"tb-rl");break;case 220:l=h.replace(m,"lr");break;default:return h}return N+h+F+l+h;case 1017:if(-1===h.indexOf("sticky",9))return h;case 975:switch(o=(h=e).length-10,u=(l=(33===h.charCodeAt(o)?h.substring(0,o):h).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|l.charCodeAt(7))){case 203:if(l.charCodeAt(8)<111)break;case 115:h=h.replace(l,N+l)+";"+h;break;case 207:case 102:h=h.replace(l,N+(u>102?"inline-":"")+"box")+";"+h.replace(l,N+l)+";"+h.replace(l,F+l+"box")+";"+h}return h+";";case 938:if(h.charCodeAt(5)===Q)switch(h.charCodeAt(6)){case 105:return l=h.replace("-items",""),N+h+N+"box-"+l+F+"flex-"+l+h;case 115:return N+h+F+"flex-item-"+h.replace(y,"")+h;default:return N+h+F+"flex-line-pack"+h.replace("align-content","").replace(y,"")+h}break;case 973:case 989:if(h.charCodeAt(3)!==Q||122===h.charCodeAt(4))break;case 931:case 953:if(true===j.test(e))if(115===(l=e.substring(e.indexOf(":")+1)).charCodeAt(0))return Ke(e.replace("stretch","fill-available"),a,r,c).replace(":fill-available",":stretch");else return h.replace(l,N+l)+h.replace(l,S+l.replace("fill-",""))+h;break;case 962:if(h=N+h+(102===h.charCodeAt(5)?F+h:"")+h,r+c===211&&105===h.charCodeAt(13)&&h.indexOf("transform",10)>0)return h.substring(0,h.indexOf(";",27)+1).replace(i,"$1"+N+"$2")+h}return h}function Le(e,a){var r=e.indexOf(1===a?":":"{"),c=e.substring(0,3!==a?r:10),s=e.substring(r+1,e.length-1);return Oe(2!==a?c:c.replace(O,"$1"),s,a)}function Me(e,a){var r=Ke(a,a.charCodeAt(0),a.charCodeAt(1),a.charCodeAt(2));return r!==a+";"?r.replace($," or ($1)").substring(4):"("+a+")"}function Pe(e,a,r,c,s,t,i,f,n,l){for(var o,h=0,u=a;h<ye;++h)switch(o=$e[h].call(Te,e,u,r,c,s,t,i,f,n,l)){case void 0:case false:case true:case null:break;default:u=o}if(u!==a)return u}function Qe(e,a,r,c){for(var s=a+1;s<r;++s)switch(c.charCodeAt(s)){case Z:if(e===T)if(c.charCodeAt(s-1)===T&&a+2!==s)return s+1;break;case I:if(e===Z)return s+1}return s}function Re(e){for(var a in e){var r=e[a];switch(a){case"keyframe":Be=0|r;break;case"global":Ce=0|r;break;case"cascade":ge=0|r;break;case"compress":we=0|r;break;case"semicolon":ve=0|r;break;case"preserve":me=0|r;break;case"prefix":if(Oe=null,!r)Ae=0;else if("function"!=typeof r)Ae=1;else Ae=2,Oe=r}}return Re}function Te(a,r){if(void 0!==this&&this.constructor===Te)return e(a);var s=a,t=s.charCodeAt(0);if(t<33)t=(s=s.trim()).charCodeAt(0);if(Be>0)De=s.replace(d,t===G?"":"-");if(t=1,1===ge)Ge=s;else Ee=s;var i,f=[Ge];if(ye>0)if(void 0!==(i=Pe(ze,r,f,f,pe,be,0,0,0,0))&&"string"==typeof i)r=i;var n=He(xe,f,r,0,0);if(ye>0)if(void 0!==(i=Pe(je,n,f,f,pe,be,n.length,0,0,0))&&"string"!=typeof(n=i))t=0;return De="",Ge="",Ee="",ke=0,pe=1,be=1,we*t==0?n:n.replace(c,"").replace(g,"").replace(A,"$1").replace(C,"$1").replace(w," ")}if(Te.use=function e(a){switch(a){case void 0:case null:ye=$e.length=0;break;default:if("function"==typeof a)$e[ye++]=a;else if("object"==typeof a)for(var r=0,c=a.length;r<c;++r)e(a[r]);else qe=0|!!a}return e},Te.set=Re,void 0!==a)Re(a);return Te});
//# sourceMappingURL=stylis.min.js.map

/***/ }),

/***/ "./node_modules/symbol-observable/es/index.js":
/*!****************************************************!*\
  !*** ./node_modules/symbol-observable/es/index.js ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global, module) {/* harmony import */ var _ponyfill_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ponyfill.js */ "./node_modules/symbol-observable/es/ponyfill.js");
/* global window */


var root;

if (typeof self !== 'undefined') {
  root = self;
} else if (typeof window !== 'undefined') {
  root = window;
} else if (typeof global !== 'undefined') {
  root = global;
} else if (true) {
  root = module;
} else {}

var result = Object(_ponyfill_js__WEBPACK_IMPORTED_MODULE_0__["default"])(root);
/* harmony default export */ __webpack_exports__["default"] = (result);

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js"), __webpack_require__(/*! ./../../webpack/buildin/harmony-module.js */ "./node_modules/webpack/buildin/harmony-module.js")(module)))

/***/ }),

/***/ "./node_modules/symbol-observable/es/ponyfill.js":
/*!*******************************************************!*\
  !*** ./node_modules/symbol-observable/es/ponyfill.js ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return symbolObservablePonyfill; });
function symbolObservablePonyfill(root) {
	var result;
	var Symbol = root.Symbol;

	if (typeof Symbol === 'function') {
		if (Symbol.observable) {
			result = Symbol.observable;
		} else {
			result = Symbol('observable');
			Symbol.observable = result;
		}
	} else {
		result = '@@observable';
	}

	return result;
};


/***/ }),

/***/ "./node_modules/unquote/index.js":
/*!***************************************!*\
  !*** ./node_modules/unquote/index.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

var reg = /[\'\"]/

module.exports = function unquote(str) {
  if (!str) {
    return ''
  }
  if (reg.test(str.charAt(0))) {
    str = str.substr(1)
  }
  if (reg.test(str.charAt(str.length - 1))) {
    str = str.substr(0, str.length - 1)
  }
  return str
}


/***/ }),

/***/ "./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

var g;

// This works in non-strict mode
g = (function() {
	return this;
})();

try {
	// This works if eval is allowed (see CSP)
	g = g || new Function("return this")();
} catch (e) {
	// This works if the window reference is available
	if (typeof window === "object") g = window;
}

// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}

module.exports = g;


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHNMb29zZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGVtb3Rpb24vaXMtcHJvcC12YWxpZC9kaXN0L2lzLXByb3AtdmFsaWQuYnJvd3Nlci5lc20uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BlbW90aW9uL21lbW9pemUvZGlzdC9tZW1vaXplLmJyb3dzZXIuZXNtLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AZW1vdGlvbi91bml0bGVzcy9kaXN0L3VuaXRsZXNzLmJyb3dzZXIuZXNtLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jaGFuZ2UtZW1pdHRlci9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ZianMvbGliL3NoYWxsb3dFcXVhbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC1pY29ucy9TdHlsZWRJY29uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0LWljb25zL2RlZmF1bHQtcHJvcHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQtaWNvbnMvaWNvbnMvQWN0aW9ucy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC1pY29ucy9pY29ucy9DbG9zZWRDYXB0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0LWljb25zL2ljb25zL0V4cGFuZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC1pY29ucy9pY29ucy9Gb3JtRG93bi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC1pY29ucy9pY29ucy9Gb3JtTmV4dC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC1pY29ucy9pY29ucy9Gb3JtUHJldmlvdXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQtaWNvbnMvaWNvbnMvRm9ybVNlYXJjaC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC1pY29ucy9pY29ucy9Gb3JtVXAuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQtaWNvbnMvaWNvbnMvTmV4dC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC1pY29ucy9pY29ucy9QYXVzZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC1pY29ucy9pY29ucy9QbGF5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0LWljb25zL2ljb25zL1ByZXZpb3VzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0LWljb25zL2ljb25zL1N1YnRyYWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0LWljb25zL2ljb25zL1ZvbHVtZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC1pY29ucy9pY29ucy9Wb2x1bWVMb3cuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQtaWNvbnMvdGhlbWVzL2Jhc2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQtaWNvbnMvdGhlbWVzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0LWljb25zL3V0aWxzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0LXN0eWxlcy9lczYvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQtc3R5bGVzL2VzNi9zdHlsZXMvY29sb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQtc3R5bGVzL2VzNi9zdHlsZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQtc3R5bGVzL2VzNi9zdHlsZXMvc2l6ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC1zdHlsZXMvZXM2L3V0aWxzL2NvbG9ycy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC1zdHlsZXMvZXM2L3V0aWxzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0FjY29yZGlvbi9BY2NvcmRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvQWNjb3JkaW9uL0FjY29yZGlvbkNvbnRleHQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvQWNjb3JkaW9uL2RvYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9BY2NvcmRpb24vaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvQWNjb3JkaW9uUGFuZWwvQWNjb3JkaW9uUGFuZWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvQWNjb3JkaW9uUGFuZWwvZG9jLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0FjY29yZGlvblBhbmVsL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0FuY2hvci9BbmNob3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvQW5jaG9yL1N0eWxlZEFuY2hvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9BbmNob3IvZG9jLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0FuY2hvci9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9Cb3gvQm94LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0JveC9TdHlsZWRCb3guanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvQm94L2RvYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9Cb3gvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvQnV0dG9uL0J1dHRvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9CdXR0b24vU3R5bGVkQnV0dG9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0J1dHRvbi9kb2MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvQnV0dG9uL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0NhbGVuZGFyL0NhbGVuZGFyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0NhbGVuZGFyL1N0eWxlZENhbGVuZGFyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0NhbGVuZGFyL2RvYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9DYWxlbmRhci9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9DYWxlbmRhci91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9DYXJvdXNlbC9DYXJvdXNlbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9DYXJvdXNlbC9kb2MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvQ2Fyb3VzZWwvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvQ2hhcnQvQ2hhcnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvQ2hhcnQvU3R5bGVkQ2hhcnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvQ2hhcnQvY2FsY3MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvQ2hhcnQvZG9jLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0NoYXJ0L2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0NoYXJ0L3V0aWxzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0NoZWNrQm94L0NoZWNrQm94LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0NoZWNrQm94L1N0eWxlZENoZWNrQm94LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0NoZWNrQm94L2RvYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9DaGVja0JveC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9DbG9jay9BbmFsb2cuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvQ2xvY2svQ2xvY2suanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvQ2xvY2svRGlnaXRhbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9DbG9jay9TdHlsZWRDbG9jay5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9DbG9jay9kb2MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvQ2xvY2svaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvQ29sbGFwc2libGUvQ29sbGFwc2libGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvQ29sbGFwc2libGUvZG9jLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0NvbGxhcHNpYmxlL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0RhdGFUYWJsZS9Cb2R5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0RhdGFUYWJsZS9DZWxsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0RhdGFUYWJsZS9EYXRhVGFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvRGF0YVRhYmxlL0V4cGFuZGVyQ2VsbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9EYXRhVGFibGUvRm9vdGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0RhdGFUYWJsZS9Hcm91cGVkQm9keS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9EYXRhVGFibGUvSGVhZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0RhdGFUYWJsZS9SZXNpemVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0RhdGFUYWJsZS9TZWFyY2hlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9EYXRhVGFibGUvU3R5bGVkRGF0YVRhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0RhdGFUYWJsZS9idWlsZFN0YXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0RhdGFUYWJsZS9kb2MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvRGF0YVRhYmxlL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0RpYWdyYW0vRGlhZ3JhbS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9EaWFncmFtL1N0eWxlZERpYWdyYW0uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvRGlhZ3JhbS9kb2MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvRGlhZ3JhbS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9EaXN0cmlidXRpb24vRGlzdHJpYnV0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0Rpc3RyaWJ1dGlvbi9kb2MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvRGlzdHJpYnV0aW9uL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0Ryb3AvRHJvcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9Ecm9wL0Ryb3BDb250YWluZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvRHJvcC9TdHlsZWREcm9wLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0Ryb3AvZG9jLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0Ryb3AvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvRHJvcEJ1dHRvbi9Ecm9wQnV0dG9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0Ryb3BCdXR0b24vZG9jLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0Ryb3BCdXR0b24vaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvRm9jdXNlZENvbnRhaW5lci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9Gb290ZXIvRm9vdGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0Zvb3Rlci9kb2MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvRm9vdGVyL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0Zvcm0vRm9ybS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9Gb3JtL0Zvcm1Db250ZXh0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0Zvcm0vZG9jLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0Zvcm0vaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvRm9ybUZpZWxkL0Zvcm1GaWVsZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9Gb3JtRmllbGQvZG9jLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0Zvcm1GaWVsZC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9HcmlkL0dyaWQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvR3JpZC9TdHlsZWRHcmlkLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0dyaWQvZG9jLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0dyaWQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvR3JvbW1ldC9Hcm9tbWV0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0dyb21tZXQvU3R5bGVkR3JvbW1ldC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9Hcm9tbWV0L2RvYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9Hcm9tbWV0L2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0hlYWRlci9IZWFkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvSGVhZGVyL2RvYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9IZWFkZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvSGVhZGluZy9IZWFkaW5nLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0hlYWRpbmcvU3R5bGVkSGVhZGluZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9IZWFkaW5nL2RvYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9IZWFkaW5nL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0ltYWdlL0ltYWdlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0ltYWdlL1N0eWxlZEltYWdlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0ltYWdlL2RvYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9JbWFnZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9JbmZpbml0ZVNjcm9sbC9JbmZpbml0ZVNjcm9sbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9JbmZpbml0ZVNjcm9sbC9kb2MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvSW5maW5pdGVTY3JvbGwvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvS2V5Ym9hcmQvS2V5Ym9hcmQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvS2V5Ym9hcmQvZG9jLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0tleWJvYXJkL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0xheWVyL0xheWVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0xheWVyL0xheWVyQ29udGFpbmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0xheWVyL1N0eWxlZExheWVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL0xheWVyL2RvYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9MYXllci9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9MaXN0L0xpc3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvTGlzdC9kb2MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvTGlzdC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9NYWluL01haW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvTWFpbi9kb2MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvTWFpbi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9NYXJrZG93bi9NYXJrZG93bi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9NYXJrZG93bi9kb2MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvTWFya2Rvd24vaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvTWFza2VkSW5wdXQvTWFza2VkSW5wdXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvTWFza2VkSW5wdXQvU3R5bGVkTWFza2VkSW5wdXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvTWFza2VkSW5wdXQvZG9jLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL01hc2tlZElucHV0L2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL01lbnUvTWVudS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9NZW51L2RvYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9NZW51L2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL01ldGVyL0Jhci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9NZXRlci9DaXJjbGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvTWV0ZXIvTWV0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvTWV0ZXIvU3R5bGVkTWV0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvTWV0ZXIvZG9jLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL01ldGVyL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL01ldGVyL3V0aWxzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1BhcmFncmFwaC9QYXJhZ3JhcGguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvUGFyYWdyYXBoL1N0eWxlZFBhcmFncmFwaC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9QYXJhZ3JhcGgvZG9jLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1BhcmFncmFwaC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9SYWRpb0J1dHRvbi9SYWRpb0J1dHRvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9SYWRpb0J1dHRvbi9TdHlsZWRSYWRpb0J1dHRvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9SYWRpb0J1dHRvbi9kb2MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvUmFkaW9CdXR0b24vaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvUmFkaW9CdXR0b25Hcm91cC9SYWRpb0J1dHRvbkdyb3VwLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1JhZGlvQnV0dG9uR3JvdXAvZG9jLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1JhZGlvQnV0dG9uR3JvdXAvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvUmFuZ2VJbnB1dC9SYW5nZUlucHV0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1JhbmdlSW5wdXQvU3R5bGVkUmFuZ2VJbnB1dC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9SYW5nZUlucHV0L2RvYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9SYW5nZUlucHV0L2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1JhbmdlU2VsZWN0b3IvRWRnZUNvbnRyb2wuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvUmFuZ2VTZWxlY3Rvci9SYW5nZVNlbGVjdG9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1JhbmdlU2VsZWN0b3IvZG9jLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1JhbmdlU2VsZWN0b3IvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvUm91dGVkQW5jaG9yL1JvdXRlZEFuY2hvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9Sb3V0ZWRBbmNob3IvZG9jLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1JvdXRlZEFuY2hvci9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9Sb3V0ZWRCdXR0b24vUm91dGVkQnV0dG9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1JvdXRlZEJ1dHRvbi9kb2MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvUm91dGVkQnV0dG9uL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1NlbGVjdC9TZWxlY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvU2VsZWN0L1NlbGVjdENvbnRhaW5lci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9TZWxlY3QvU2VsZWN0T3B0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1NlbGVjdC9TdHlsZWRTZWxlY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvU2VsZWN0L2RvYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9TZWxlY3QvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvU2tpcExpbmsvU2tpcExpbmsuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvU2tpcExpbmsvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvU2tpcExpbmtUYXJnZXQvU2tpcExpbmtUYXJnZXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvU2tpcExpbmtUYXJnZXQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvU2tpcExpbmtzL1NraXBMaW5rcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9Ta2lwTGlua3MvZG9jLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1NraXBMaW5rcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9TdGFjay9TdGFjay5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9TdGFjay9TdHlsZWRTdGFjay5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9TdGFjay9kb2MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvU3RhY2svaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvVGFiL1N0eWxlZFRhYi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9UYWIvVGFiLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1RhYi9kb2MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvVGFiL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1RhYmxlL1N0eWxlZFRhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1RhYmxlL1RhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1RhYmxlL1RhYmxlQ29udGV4dC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9UYWJsZS9kb2MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvVGFibGUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvVGFibGVCb2R5L1RhYmxlQm9keS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9UYWJsZUJvZHkvZG9jLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1RhYmxlQm9keS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9UYWJsZUNlbGwvVGFibGVDZWxsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1RhYmxlQ2VsbC9kb2MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvVGFibGVDZWxsL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1RhYmxlRm9vdGVyL1RhYmxlRm9vdGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1RhYmxlRm9vdGVyL2RvYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9UYWJsZUZvb3Rlci9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9UYWJsZUhlYWRlci9UYWJsZUhlYWRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9UYWJsZUhlYWRlci9kb2MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvVGFibGVIZWFkZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvVGFibGVSb3cvVGFibGVSb3cuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvVGFibGVSb3cvZG9jLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1RhYmxlUm93L2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1RhYnMvU3R5bGVkVGFicy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9UYWJzL1RhYnMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvVGFicy9kb2MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvVGFicy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9UZXh0L1N0eWxlZFRleHQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvVGV4dC9UZXh0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1RleHQvZG9jLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1RleHQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvVGV4dEFyZWEvU3R5bGVkVGV4dEFyZWEuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvVGV4dEFyZWEvVGV4dEFyZWEuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvVGV4dEFyZWEvZG9jLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1RleHRBcmVhL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1RleHRJbnB1dC9TdHlsZWRUZXh0SW5wdXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvVGV4dElucHV0L1RleHRJbnB1dC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9UZXh0SW5wdXQvZG9jLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1RleHRJbnB1dC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9WaWRlby9TdHlsZWRWaWRlby5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9WaWRlby9WaWRlby5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29tcG9uZW50cy9WaWRlby9kb2MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvVmlkZW8vaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvV29ybGRNYXAvU3R5bGVkV29ybGRNYXAuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvV29ybGRNYXAvV29ybGRNYXAuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvV29ybGRNYXAvZG9jLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL1dvcmxkTWFwL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb21wb25lbnRzL2hvY3MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbXBvbmVudHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbnRleHRzL0Fubm91bmNlQ29udGV4dC9Bbm5vdW5jZUNvbnRleHQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbnRleHRzL0Fubm91bmNlQ29udGV4dC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvY29udGV4dHMvUmVzcG9uc2l2ZUNvbnRleHQvUmVzcG9uc2l2ZUNvbnRleHQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbnRleHRzL1Jlc3BvbnNpdmVDb250ZXh0L2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb250ZXh0cy9UaGVtZUNvbnRleHQvVGhlbWVDb250ZXh0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9jb250ZXh0cy9UaGVtZUNvbnRleHQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L2NvbnRleHRzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9kZWZhdWx0LXByb3BzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvdGhlbWVzL2Jhc2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L3RoZW1lcy9kYXJrLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi90aGVtZXMvZ3JvbW1ldC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvdGhlbWVzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi91dGlscy9ET00uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L3V0aWxzL2JhY2tncm91bmQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L3V0aWxzL2JvcmRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvdXRpbHMvY29sb3JzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi91dGlscy9kZWJvdW5jZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvdXRpbHMvZ3JhcGhpY3MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L3V0aWxzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi91dGlscy9taXhpbnMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L3V0aWxzL29iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvdXRpbHMvcHJvcC10eXBlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvdXRpbHMvcmVzcG9uc2l2ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JvbW1ldC9lczYvdXRpbHMvcm91dGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L2VzNi91dGlscy9zdHlsZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L3V0aWxzL3RoZW1lRG9jVXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyb21tZXQvZXM2L3V0aWxzL3Rocm90dGxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncm9tbWV0L25vZGVfbW9kdWxlcy9ob2lzdC1ub24tcmVhY3Qtc3RhdGljcy9kaXN0L2hvaXN0LW5vbi1yZWFjdC1zdGF0aWNzLmNqcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaXMtd2hhdC9kaXN0L2luZGV4LmVzbS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbWFya2Rvd24tdG8tanN4L2Rpc3QvZXNtLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tZW1vaXplLW9uZS9kaXN0L21lbW9pemUtb25lLmVzbS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbWVyZ2UtYW55dGhpbmcvZGlzdC9pbmRleC5lc20uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BvbGlzaGVkL2Rpc3QvcG9saXNoZWQuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BvbGlzaGVkL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BvbGlzaGVkL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jb25zdHJ1Y3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BvbGlzaGVkL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9leHRlbmRzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wb2xpc2hlZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZ2V0UHJvdG90eXBlT2YuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BvbGlzaGVkL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pbmhlcml0c0xvb3NlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wb2xpc2hlZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaXNOYXRpdmVGdW5jdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcG9saXNoZWQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3NldFByb3RvdHlwZU9mLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wb2xpc2hlZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdGFnZ2VkVGVtcGxhdGVMaXRlcmFsTG9vc2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BvbGlzaGVkL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS93cmFwTmF0aXZlU3VwZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRlc2MvbGliL1Byb3BUeXBlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZGVzYy9saWIvZGVzY1RvSlNPTi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZGVzYy9saWIvZGVzY1RvTWFya2Rvd24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRlc2MvbGliL2Rlc2NUb1R5cGVzY3JpcHQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRlc2MvbGliL2Rlc2NyaWJlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1kZXNjL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3Qtdmlld3BvcnQtdXRpbHMvZGlzdC9pbmRleC5lcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVjb21wb3NlL2Rpc3QvUmVjb21wb3NlLmVzbS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVjb21wb3NlL2dldERpc3BsYXlOYW1lLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zdHlsZWQtY29tcG9uZW50cy9kaXN0L3N0eWxlZC1jb21wb25lbnRzLmJyb3dzZXIuZXNtLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zdHlsaXMtcnVsZS1zaGVldC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGlzL3N0eWxpcy5taW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N5bWJvbC1vYnNlcnZhYmxlL2VzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zeW1ib2wtb2JzZXJ2YWJsZS9lcy9wb255ZmlsbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdW5xdW90ZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQWU7QUFDZjtBQUNBLG1CQUFtQixzQkFBc0I7QUFDekM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxDOzs7Ozs7Ozs7Ozs7QUNoQkE7QUFBQTtBQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0EsQzs7Ozs7Ozs7Ozs7O0FDSkE7QUFBQTtBQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsYUFBYSx1QkFBdUI7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxDOzs7Ozs7Ozs7Ozs7QUNiQTtBQUFBO0FBQXVDOztBQUV2QyxvNUhBQW81SDs7QUFFcDVILFlBQVksZ0VBQU87QUFDbkI7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O0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLEVBQUUsb0RBQWEsY0FBYyxFQUFFLG9EQUFhLDhDOzs7Ozs7Ozs7Ozs7QUN0STdDO0FBQUE7QUFBQTtBQUFBOzs7Ozs7Ozs7Ozs7O0FDQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNPO0FBQ1Asa0VBQWtFO0FBQ2xFO0FBQ0E7O0FBRUEsc0RBQXNEO0FBQ3REO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUM7O0FBRXJDO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTs7QUFFVjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7O0FBRVQsa0NBQWtDOzs7QUFHbEM7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdB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QTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQTRCO0FBQ0s7QUFDUjtBQUNIO0FBQ0c7QUFDRTtBQUNBO0FBQ0g7QUFDRztBQUNIO0FBQ007QUFDRjtBQUNGO0FBQ0s7QUFDUjtBQUNNO0FBQ0o7QUFDRjtBQUNLO0FBQ0w7QUFDRztBQUNEO0FBQ0M7QUFDRjtBQUNTO0FBQ047QUFDSDtBQUNEO0FBQ0E7QUFDSTtBQUNHO0FBQ1A7QUFDQztBQUNJO0FBQ0U7QUFDSztBQUNOO0FBQ0c7QUFDRDtBQUNBO0FBQ047QUFDRTtBQUNDO0FBQ0s7QUFDVDtBQUNBO0FBQ0k7QUFDQTtBQUNFO0FBQ0E7QUFDSDtBQUNMO0FBQ0M7QUFDQTtBQUNJO0FBQ0M7QUFDSjs7Ozs7Ozs7Ozs7OztBQ3hEeEI7QUFBQTtBQUFBO0FBQUE7QUFBMEI7O0FBRTFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFTyxzQkFBc0IsNENBQUs7QUFDbEM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUMsRTs7Ozs7Ozs7Ozs7O0FDOUJEO0FBQUE7QUFBQTtBQUFBOzs7Ozs7Ozs7Ozs7O0FDQUE7QUFBQTtBQUFBO0FBQUE7QUFBMEI7QUFDbkIsd0JBQXdCLDRDQUFLLDBCOzs7Ozs7Ozs7Ozs7QUNEcEM7QUFBQTtBQUFBO0FBQUE7Ozs7Ozs7Ozs7Ozs7QUNBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBMEI7QUFDUztBQUNjO0FBQ1Q7O0FBRXhDLDhEQUFZO0FBQ1o7QUFDQTtBQUNBLFNBQVMsNENBQUssZUFBZSw4REFBWTtBQUN6QyxXQUFXLDRDQUFLLGVBQWUsOERBQVk7QUFDM0MsYUFBYSx3REFBUztBQUN0QixLQUFLO0FBQ0wsR0FBRztBQUNIOztBQUVBLDhEQUFZO0FBQ1osWUFBWSxpREFBUztBQUNyQixTQUFTLGlEQUFTLFNBQVM7QUFDM0I7Ozs7Ozs7Ozs7Ozs7QUNsQkE7QUFBQTtBQUFBO0FBQUE7Ozs7Ozs7Ozs7Ozs7QUNBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFrQztBQUNFOzs7Ozs7Ozs7Ozs7O0FDRHBDO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBb0M7QUFDQztBQUM5QjtBQUNQLFNBQVMsaURBQUk7QUFDYjtBQUNPO0FBQ1AsdUJBQXVCLHdEQUFTLENBQUMsaURBQUk7QUFDckMsRTs7Ozs7Ozs7Ozs7O0FDUEE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUE2QjtBQUNGO0FBQ0s7Ozs7Ozs7Ozs7Ozs7QUNGaEM7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxxQkFBcUIsZ0RBQWdELGdCQUFnQixzQkFBc0IsT0FBTywyQkFBMkIsMEJBQTBCLHlEQUF5RCwyQkFBMkIsRUFBRSxFQUFFLEVBQUUsZUFBZSxHQUFHLHdDQUF3Qzs7QUFFM1I7QUFDUTtBQUNjO0FBQ1k7QUFDZDtBQUNJO0FBQ0E7QUFDUTtBQUNaO0FBQ0o7QUFDRTtBQUNGO0FBQ1E7QUFDQTtBQUNKO0FBQ007QUFDRztBQUNMO0FBQ1A7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxxREFBSTtBQUNkO0FBQ0E7QUFDQSxVQUFVLHFEQUFJO0FBQ2QsV0FBVyxxREFBSTtBQUNmLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNNO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHdDQUF3Qzs7QUFFeEMsc0NBQXNDOztBQUV0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxlQUFlLGdFQUFTLENBQUMsK0RBQVE7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUEsU0FBUztBQUNULGlCQUFpQjs7QUFFakIsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FB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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsRTs7Ozs7Ozs7Ozs7O0FDbkJBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNPO0FBQ0E7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxFOzs7Ozs7Ozs7Ozs7QUN6QkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFB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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsRUFBRTtBQUNiLGFBQWEsWUFBWTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsRUFBRTtBQUNiLGFBQWEsWUFBWTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixRQUFRO0FBQ2hDO0FBQ0E7QUFDQSxXQUFXLEVBQUU7QUFDYixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEVBQUU7QUFDYixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEVBQUU7QUFDYixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEVBQUU7QUFDYixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEVBQUU7QUFDYixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEVBQUU7QUFDYixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxFQUFFO0FBQ2IsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxFQUFFO0FBQ2IsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxFQUFFO0FBQ2IsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxFQUFFO0FBQ2IsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxFQUFFO0FBQ2IsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxFQUFFO0FBQ2IsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QUFDSTtBQUNzQjs7QUFFaEc7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLCtCQUErQiwyQkFBMkI7QUFDMUQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFL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Q0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLFdBQVc7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxpR0FBaUcsYUFBYTtBQUM5RztBQUNBOztBQUVBLGlCQUFpQixxQkFBcUI7QUFDdEM7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTyxFQUFFOztBQUVUO0FBQ0E7QUFDQSw0Q0FBNEM7QUFDNUMsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxhQUFhLHFHQUEyQjs7QUFFeEM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQSxhQUFhLHFHQUEyQjs7QUFFeEM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOzs7QUFHSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsa0JBQWtCLGtGQUFRO0FBQzdCO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRyxLQUFLO0FBQ1I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHNGQUFzRjtBQUN4RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTyxVQUFVLHNGQUFzRjtBQUN2RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7OztBQUdIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsOEJBQThCLEVBQUU7QUFDaEMsa0NBQWtDLEVBQUU7QUFDcEMscUNBQXFDLEVBQUU7QUFDdkMseUNBQXlDLEVBQUU7QUFDM0MsNkJBQTZCLElBQUksWUFBWSxJQUFJLFlBQVksSUFBSTtBQUNqRSwrQkFBK0IsSUFBSSxZQUFZLElBQUksWUFBWSxJQUFJO0FBQ25FLDZCQUE2QixJQUFJLHNCQUFzQixJQUFJLHVCQUF1QixJQUFJO0FBQ3RGLCtCQUErQixJQUFJLHNCQUFzQixJQUFJLHVCQUF1QixJQUFJO0FBQ3hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiw4QkFBOEI7QUFDOUM7QUFDQSxnQkFBZ0IsOENBQThDO0FBQzlEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxrQ0FBa0M7QUFDbEUsZ0NBQWdDLCtDQUErQztBQUMvRSxnQ0FBZ0MsMENBQTBDO0FBQzFFLGdDQUFnQywwREFBMEQ7QUFDMUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsZUFBZSxrQ0FBa0M7QUFDcEUsbUJBQW1CLGVBQWUsK0NBQStDO0FBQ2pGLG1CQUFtQixlQUFlLDBDQUEwQztBQUM1RSxtQkFBbUIsZUFBZSwwREFBMEQ7QUFDNUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7QUFHRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixrRkFBUSxHQUFHO0FBQ2xDO0FBQ0EsR0FBRztBQUNILENBQUM7OztBQUdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixrRkFBUSxHQUFHO0FBQ2xDO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkIsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsa0ZBQVEsR0FBRztBQUNsQztBQUNBLEdBQUc7QUFDSCxDQUFDOzs7QUFHRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkIsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLGtGQUFRLEdBQUc7QUFDbEM7QUFDQSxHQUFHO0FBQ0gsQ0FBQzs7O0FBR0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx1QkFBdUIsa0ZBQVEsR0FBRztBQUNsQztBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtB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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsdUJBQXVCLGtGQUFRLEdBQUc7QUFDbEM7QUFDQSxHQUFHO0FBQ0gsQ0FBQzs7O0FBR0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQixtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsdUJBQXVCLGtGQUFRLEdBQUc7QUFDbEM7QUFDQSxHQUFHO0FBQ0gsQ0FBQzs7O0FBR0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQixtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsdUJBQXVCLGtGQUFRLEdBQUc7QUFDbEM7QUFDQSxHQUFHO0FBQ0gsQ0FBQzs7O0FBR0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLENBQUM7OztBQUdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7QUFHRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixzQkFBc0I7QUFDOUM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLGVBQWU7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsNENBQTRDO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsRUFBRTtBQUNILDZDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxFQUFFO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRCxpQkFBaUIsd0RBQU07QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx1QkFBdUIsd0RBQWlCO0FBQ3hDO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsMERBQTBEOztBQUUxRCxpRUFBaUUsa0JBQWtCOztBQUVuRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsU0FBUyxLQUF3QyxHQUFHLHNCQUFpQixHQUFHLFNBQUk7QUFDNUUsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUIsVUFBVTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixnQkFBZ0I7QUFDNUM7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixZQUFZO0FBQzdCO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0Q7O0FBRXBEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw0QkFBNEI7O0FBRTVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLDRDQUFLLG1DQUFtQyxVQUFVLDJCQUEyQixnQkFBZ0IsRUFBRTtBQUMxRztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsbUJBQW1CLGtCQUFrQjtBQUNyQztBQUNBLHdDQUF3QztBQUN4QztBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsbUNBQW1DO0FBQ25DO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLFNBQVM7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsbUJBQW1CLGtCQUFrQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EseUNBQXlDLFNBQVM7QUFDbEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHFDQUFxQyxXQUFXO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQSxtQkFBbUIsZUFBZTtBQUNsQzs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixpQkFBaUI7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0Esb0JBQW9CLG9CQUFvQjtBQUN4QztBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxxQkFBcUIsZ0JBQWdCO0FBQ3JDO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0EsdUNBQXVDO0FBQ3ZDLGdDQUFnQzs7QUFFaEM7QUFDQTs7QUFFQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxtQkFBbUIsbUJBQW1CO0FBQ3RDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOzs7QUFHQTtBQUNBOzs7QUFHQSxtQkFBbUIsbUJBQW1CO0FBQ3RDO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsbUJBQW1CLG1CQUFtQjtBQUN0QztBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQSxhQUFhLDBEQUFZLG1CQUFtQixXQUFXO0FBQ3ZELEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUM7O0FBRUQ7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxDQUFDOztBQUVEOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtB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QUNBOztBQUVBOztBQUVBLGdCQUFnQixLQUFxQyxJQUFJLDRDQUFLO0FBQzlEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsUUFBUSxLQUFxQzs7QUFFN0M7QUFDQTs7QUFFQTtBQUNBLENBQUMsQ0FBQywrQ0FBUzs7QUFFWDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsNENBQUssMkNBQTJDLFVBQVUsZ0VBQWdFO0FBQ3JJO0FBQ0E7QUFDQSwyQkFBMkIsNENBQUs7QUFDaEM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTs7QUFFQSxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxzREFBc0QsOERBQUs7QUFDM0Q7QUFDQSxHQUFHOztBQUVILE1BQU0sSUFBcUM7QUFDM0M7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FB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QTZELE1BQU0sMkJBQTJCLFNBQVMsZUFBZSxnQkFBZ0IsV0FBVyxVQUFVLHNCQUFzQixNQUFNLG9CQUFvQixNQUFNLHFCQUFxQixNQUFNLHNCQUFzQixNQUFNLHVCQUF1QixNQUFNLHNCQUFzQixNQUFNLGdDQUFnQyxrQ0FBa0MsZ0JBQWdCLFVBQVUsaUJBQWlCLG9EQUFvRCwwQkFBMEIscUNBQXFDLHFDQUFxQyxtQkFBbUIsVUFBVSxhQUFhLDJFQUEyRSxxQkFBcUIscUZBQXFGLCtIQUErSCx3QkFBd0IsVUFBVSxxQ0FBcUMsTUFBTSwyQ0FBMkMsa0RBQWtELElBQUksWUFBWSxjQUFjLFNBQVMsNEJBQTRCLFVBQVU7QUFDNTFYLHNDOzs7Ozs7Ozs7Ozs7QUNEQTtBQUFBO0FBQUE7QUFDcUM7O0FBRXJDOztBQUVBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSxDQUFDO0FBQ0Q7QUFDQSxDQUFDLFVBQVUsSUFBNkI7QUFDeEM7QUFDQSxDQUFDLE1BQU0sRUFFTjs7QUFFRCxhQUFhLDREQUFRO0FBQ04scUVBQU0sRUFBQzs7Ozs7Ozs7Ozs7Ozs7QUNsQnRCO0FBQUE7QUFBZTtBQUNmO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBOztBQUVBO0FBQ0E7Ozs7Ozs7Ozs7OztBQ2hCQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7OztBQ2JBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsNENBQTRDOztBQUU1QyIsImZpbGUiOiJ2ZW5kb3JzfmluZGV4fnV0aWxzLmNodW5rLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2V4dGVuZHMoKSB7XG4gIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfTtcblxuICByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfaW5oZXJpdHNMb29zZShzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MucHJvdG90eXBlKTtcbiAgc3ViQ2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gc3ViQ2xhc3M7XG4gIHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkge1xuICBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTtcbiAgdmFyIHRhcmdldCA9IHt9O1xuICB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7XG4gIHZhciBrZXksIGk7XG5cbiAgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHtcbiAgICBrZXkgPSBzb3VyY2VLZXlzW2ldO1xuICAgIGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7XG4gICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59IiwiaW1wb3J0IG1lbW9pemUgZnJvbSAnQGVtb3Rpb24vbWVtb2l6ZSc7XG5cbnZhciByZWFjdFByb3BzUmVnZXggPSAvXigoY2hpbGRyZW58ZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUx8a2V5fHJlZnxhdXRvRm9jdXN8ZGVmYXVsdFZhbHVlfGRlZmF1bHRDaGVja2VkfGlubmVySFRNTHxzdXBwcmVzc0NvbnRlbnRFZGl0YWJsZVdhcm5pbmd8c3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nfHZhbHVlTGlua3xhY2NlcHR8YWNjZXB0Q2hhcnNldHxhY2Nlc3NLZXl8YWN0aW9ufGFsbG93fGFsbG93VXNlck1lZGlhfGFsbG93UGF5bWVudFJlcXVlc3R8YWxsb3dGdWxsU2NyZWVufGFsbG93VHJhbnNwYXJlbmN5fGFsdHxhc3luY3xhdXRvQ29tcGxldGV8YXV0b1BsYXl8Y2FwdHVyZXxjZWxsUGFkZGluZ3xjZWxsU3BhY2luZ3xjaGFsbGVuZ2V8Y2hhclNldHxjaGVja2VkfGNpdGV8Y2xhc3NJRHxjbGFzc05hbWV8Y29sc3xjb2xTcGFufGNvbnRlbnR8Y29udGVudEVkaXRhYmxlfGNvbnRleHRNZW51fGNvbnRyb2xzfGNvbnRyb2xzTGlzdHxjb29yZHN8Y3Jvc3NPcmlnaW58ZGF0YXxkYXRlVGltZXxkZWNvZGluZ3xkZWZhdWx0fGRlZmVyfGRpcnxkaXNhYmxlZHxkb3dubG9hZHxkcmFnZ2FibGV8ZW5jVHlwZXxmb3JtfGZvcm1BY3Rpb258Zm9ybUVuY1R5cGV8Zm9ybU1ldGhvZHxmb3JtTm9WYWxpZGF0ZXxmb3JtVGFyZ2V0fGZyYW1lQm9yZGVyfGhlYWRlcnN8aGVpZ2h0fGhpZGRlbnxoaWdofGhyZWZ8aHJlZkxhbmd8aHRtbEZvcnxodHRwRXF1aXZ8aWR8aW5wdXRNb2RlfGludGVncml0eXxpc3xrZXlQYXJhbXN8a2V5VHlwZXxraW5kfGxhYmVsfGxhbmd8bGlzdHxsb2FkaW5nfGxvb3B8bG93fG1hcmdpbkhlaWdodHxtYXJnaW5XaWR0aHxtYXh8bWF4TGVuZ3RofG1lZGlhfG1lZGlhR3JvdXB8bWV0aG9kfG1pbnxtaW5MZW5ndGh8bXVsdGlwbGV8bXV0ZWR8bmFtZXxub25jZXxub1ZhbGlkYXRlfG9wZW58b3B0aW11bXxwYXR0ZXJufHBsYWNlaG9sZGVyfHBsYXlzSW5saW5lfHBvc3RlcnxwcmVsb2FkfHByb2ZpbGV8cmFkaW9Hcm91cHxyZWFkT25seXxyZWZlcnJlclBvbGljeXxyZWx8cmVxdWlyZWR8cmV2ZXJzZWR8cm9sZXxyb3dzfHJvd1NwYW58c2FuZGJveHxzY29wZXxzY29wZWR8c2Nyb2xsaW5nfHNlYW1sZXNzfHNlbGVjdGVkfHNoYXBlfHNpemV8c2l6ZXN8c2xvdHxzcGFufHNwZWxsQ2hlY2t8c3JjfHNyY0RvY3xzcmNMYW5nfHNyY1NldHxzdGFydHxzdGVwfHN0eWxlfHN1bW1hcnl8dGFiSW5kZXh8dGFyZ2V0fHRpdGxlfHR5cGV8dXNlTWFwfHZhbHVlfHdpZHRofHdtb2RlfHdyYXB8YWJvdXR8ZGF0YXR5cGV8aW5saXN0fHByZWZpeHxwcm9wZXJ0eXxyZXNvdXJjZXx0eXBlb2Z8dm9jYWJ8YXV0b0NhcGl0YWxpemV8YXV0b0NvcnJlY3R8YXV0b1NhdmV8Y29sb3J8aXRlbVByb3B8aXRlbVNjb3BlfGl0ZW1UeXBlfGl0ZW1JRHxpdGVtUmVmfG9ufHJlc3VsdHN8c2VjdXJpdHl8dW5zZWxlY3RhYmxlfGFjY2VudEhlaWdodHxhY2N1bXVsYXRlfGFkZGl0aXZlfGFsaWdubWVudEJhc2VsaW5lfGFsbG93UmVvcmRlcnxhbHBoYWJldGljfGFtcGxpdHVkZXxhcmFiaWNGb3JtfGFzY2VudHxhdHRyaWJ1dGVOYW1lfGF0dHJpYnV0ZVR5cGV8YXV0b1JldmVyc2V8YXppbXV0aHxiYXNlRnJlcXVlbmN5fGJhc2VsaW5lU2hpZnR8YmFzZVByb2ZpbGV8YmJveHxiZWdpbnxiaWFzfGJ5fGNhbGNNb2RlfGNhcEhlaWdodHxjbGlwfGNsaXBQYXRoVW5pdHN8Y2xpcFBhdGh8Y2xpcFJ1bGV8Y29sb3JJbnRlcnBvbGF0aW9ufGNvbG9ySW50ZXJwb2xhdGlvbkZpbHRlcnN8Y29sb3JQcm9maWxlfGNvbG9yUmVuZGVyaW5nfGNvbnRlbnRTY3JpcHRUeXBlfGNvbnRlbnRTdHlsZVR5cGV8Y3Vyc29yfGN4fGN5fGR8ZGVjZWxlcmF0ZXxkZXNjZW50fGRpZmZ1c2VDb25zdGFudHxkaXJlY3Rpb258ZGlzcGxheXxkaXZpc29yfGRvbWluYW50QmFzZWxpbmV8ZHVyfGR4fGR5fGVkZ2VNb2RlfGVsZXZhdGlvbnxlbmFibGVCYWNrZ3JvdW5kfGVuZHxleHBvbmVudHxleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkfGZpbGx8ZmlsbE9wYWNpdHl8ZmlsbFJ1bGV8ZmlsdGVyfGZpbHRlclJlc3xmaWx0ZXJVbml0c3xmbG9vZENvbG9yfGZsb29kT3BhY2l0eXxmb2N1c2FibGV8Zm9udEZhbWlseXxmb250U2l6ZXxmb250U2l6ZUFkanVzdHxmb250U3RyZXRjaHxmb250U3R5bGV8Zm9udFZhcmlhbnR8Zm9udFdlaWdodHxmb3JtYXR8ZnJvbXxmcnxmeHxmeXxnMXxnMnxnbHlwaE5hbWV8Z2x5cGhPcmllbnRhdGlvbkhvcml6b250YWx8Z2x5cGhPcmllbnRhdGlvblZlcnRpY2FsfGdseXBoUmVmfGdyYWRpZW50VHJhbnNmb3JtfGdyYWRpZW50VW5pdHN8aGFuZ2luZ3xob3JpekFkdlh8aG9yaXpPcmlnaW5YfGlkZW9ncmFwaGljfGltYWdlUmVuZGVyaW5nfGlufGluMnxpbnRlcmNlcHR8a3xrMXxrMnxrM3xrNHxrZXJuZWxNYXRyaXh8a2VybmVsVW5pdExlbmd0aHxrZXJuaW5nfGtleVBvaW50c3xrZXlTcGxpbmVzfGtleVRpbWVzfGxlbmd0aEFkanVzdHxsZXR0ZXJTcGFjaW5nfGxpZ2h0aW5nQ29sb3J8bGltaXRpbmdDb25lQW5nbGV8bG9jYWx8bWFya2VyRW5kfG1hcmtlck1pZHxtYXJrZXJTdGFydHxtYXJrZXJIZWlnaHR8bWFya2VyVW5pdHN8bWFya2VyV2lkdGh8bWFza3xtYXNrQ29udGVudFVuaXRzfG1hc2tVbml0c3xtYXRoZW1hdGljYWx8bW9kZXxudW1PY3RhdmVzfG9mZnNldHxvcGFjaXR5fG9wZXJhdG9yfG9yZGVyfG9yaWVudHxvcmllbnRhdGlvbnxvcmlnaW58b3ZlcmZsb3d8b3ZlcmxpbmVQb3NpdGlvbnxvdmVybGluZVRoaWNrbmVzc3xwYW5vc2UxfHBhaW50T3JkZXJ8cGF0aExlbmd0aHxwYXR0ZXJuQ29udGVudFVuaXRzfHBhdHRlcm5UcmFuc2Zvcm18cGF0dGVyblVuaXRzfHBvaW50ZXJFdmVudHN8cG9pbnRzfHBvaW50c0F0WHxwb2ludHNBdFl8cG9pbnRzQXRafHByZXNlcnZlQWxwaGF8cHJlc2VydmVBc3BlY3RSYXRpb3xwcmltaXRpdmVVbml0c3xyfHJhZGl1c3xyZWZYfHJlZll8cmVuZGVyaW5nSW50ZW50fHJlcGVhdENvdW50fHJlcGVhdER1cnxyZXF1aXJlZEV4dGVuc2lvbnN8cmVxdWlyZWRGZWF0dXJlc3xyZXN0YXJ0fHJlc3VsdHxyb3RhdGV8cnh8cnl8c2NhbGV8c2VlZHxzaGFwZVJlbmRlcmluZ3xzbG9wZXxzcGFjaW5nfHNwZWN1bGFyQ29uc3RhbnR8c3BlY3VsYXJFeHBvbmVudHxzcGVlZHxzcHJlYWRNZXRob2R8c3RhcnRPZmZzZXR8c3RkRGV2aWF0aW9ufHN0ZW1ofHN0ZW12fHN0aXRjaFRpbGVzfHN0b3BDb2xvcnxzdG9wT3BhY2l0eXxzdHJpa2V0aHJvdWdoUG9zaXRpb258c3RyaWtldGhyb3VnaFRoaWNrbmVzc3xzdHJpbmd8c3Ryb2tlfHN0cm9rZURhc2hhcnJheXxzdHJva2VEYXNob2Zmc2V0fHN0cm9rZUxpbmVjYXB8c3Ryb2tlTGluZWpvaW58c3Ryb2tlTWl0ZXJsaW1pdHxzdHJva2VPcGFjaXR5fHN0cm9rZVdpZHRofHN1cmZhY2VTY2FsZXxzeXN0ZW1MYW5ndWFnZXx0YWJsZVZhbHVlc3x0YXJnZXRYfHRhcmdldFl8dGV4dEFuY2hvcnx0ZXh0RGVjb3JhdGlvbnx0ZXh0UmVuZGVyaW5nfHRleHRMZW5ndGh8dG98dHJhbnNmb3JtfHUxfHUyfHVuZGVybGluZVBvc2l0aW9ufHVuZGVybGluZVRoaWNrbmVzc3x1bmljb2RlfHVuaWNvZGVCaWRpfHVuaWNvZGVSYW5nZXx1bml0c1BlckVtfHZBbHBoYWJldGljfHZIYW5naW5nfHZJZGVvZ3JhcGhpY3x2TWF0aGVtYXRpY2FsfHZhbHVlc3x2ZWN0b3JFZmZlY3R8dmVyc2lvbnx2ZXJ0QWR2WXx2ZXJ0T3JpZ2luWHx2ZXJ0T3JpZ2luWXx2aWV3Qm94fHZpZXdUYXJnZXR8dmlzaWJpbGl0eXx3aWR0aHN8d29yZFNwYWNpbmd8d3JpdGluZ01vZGV8eHx4SGVpZ2h0fHgxfHgyfHhDaGFubmVsU2VsZWN0b3J8eGxpbmtBY3R1YXRlfHhsaW5rQXJjcm9sZXx4bGlua0hyZWZ8eGxpbmtSb2xlfHhsaW5rU2hvd3x4bGlua1RpdGxlfHhsaW5rVHlwZXx4bWxCYXNlfHhtbG5zfHhtbG5zWGxpbmt8eG1sTGFuZ3x4bWxTcGFjZXx5fHkxfHkyfHlDaGFubmVsU2VsZWN0b3J8enx6b29tQW5kUGFufGZvcnxjbGFzc3xhdXRvZm9jdXMpfCgoW0RkXVtBYV1bVHRdW0FhXXxbQWFdW1JyXVtJaV1bQWFdfHgpLS4qKSkkLzsgLy8gaHR0cHM6Ly9lc2JlbmNoLmNvbS9iZW5jaC81YmZlZTY4YTRjZDdlNjAwOWVmNjFkMjNcblxudmFyIGluZGV4ID0gbWVtb2l6ZShmdW5jdGlvbiAocHJvcCkge1xuICByZXR1cm4gcmVhY3RQcm9wc1JlZ2V4LnRlc3QocHJvcCkgfHwgcHJvcC5jaGFyQ29kZUF0KDApID09PSAxMTFcbiAgLyogbyAqL1xuICAmJiBwcm9wLmNoYXJDb2RlQXQoMSkgPT09IDExMFxuICAvKiBuICovXG4gICYmIHByb3AuY2hhckNvZGVBdCgyKSA8IDkxO1xufVxuLyogWisxICovXG4pO1xuXG5leHBvcnQgZGVmYXVsdCBpbmRleDtcbiIsImZ1bmN0aW9uIG1lbW9pemUoZm4pIHtcbiAgdmFyIGNhY2hlID0ge307XG4gIHJldHVybiBmdW5jdGlvbiAoYXJnKSB7XG4gICAgaWYgKGNhY2hlW2FyZ10gPT09IHVuZGVmaW5lZCkgY2FjaGVbYXJnXSA9IGZuKGFyZyk7XG4gICAgcmV0dXJuIGNhY2hlW2FyZ107XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IG1lbW9pemU7XG4iLCJ2YXIgdW5pdGxlc3NLZXlzID0ge1xuICBhbmltYXRpb25JdGVyYXRpb25Db3VudDogMSxcbiAgYm9yZGVySW1hZ2VPdXRzZXQ6IDEsXG4gIGJvcmRlckltYWdlU2xpY2U6IDEsXG4gIGJvcmRlckltYWdlV2lkdGg6IDEsXG4gIGJveEZsZXg6IDEsXG4gIGJveEZsZXhHcm91cDogMSxcbiAgYm94T3JkaW5hbEdyb3VwOiAxLFxuICBjb2x1bW5Db3VudDogMSxcbiAgY29sdW1uczogMSxcbiAgZmxleDogMSxcbiAgZmxleEdyb3c6IDEsXG4gIGZsZXhQb3NpdGl2ZTogMSxcbiAgZmxleFNocmluazogMSxcbiAgZmxleE5lZ2F0aXZlOiAxLFxuICBmbGV4T3JkZXI6IDEsXG4gIGdyaWRSb3c6IDEsXG4gIGdyaWRSb3dFbmQ6IDEsXG4gIGdyaWRSb3dTcGFuOiAxLFxuICBncmlkUm93U3RhcnQ6IDEsXG4gIGdyaWRDb2x1bW46IDEsXG4gIGdyaWRDb2x1bW5FbmQ6IDEsXG4gIGdyaWRDb2x1bW5TcGFuOiAxLFxuICBncmlkQ29sdW1uU3RhcnQ6IDEsXG4gIG1zR3JpZFJvdzogMSxcbiAgbXNHcmlkUm93U3BhbjogMSxcbiAgbXNHcmlkQ29sdW1uOiAxLFxuICBtc0dyaWRDb2x1bW5TcGFuOiAxLFxuICBmb250V2VpZ2h0OiAxLFxuICBsaW5lSGVpZ2h0OiAxLFxuICBvcGFjaXR5OiAxLFxuICBvcmRlcjogMSxcbiAgb3JwaGFuczogMSxcbiAgdGFiU2l6ZTogMSxcbiAgd2lkb3dzOiAxLFxuICB6SW5kZXg6IDEsXG4gIHpvb206IDEsXG4gIFdlYmtpdExpbmVDbGFtcDogMSxcbiAgLy8gU1ZHLXJlbGF0ZWQgcHJvcGVydGllc1xuICBmaWxsT3BhY2l0eTogMSxcbiAgZmxvb2RPcGFjaXR5OiAxLFxuICBzdG9wT3BhY2l0eTogMSxcbiAgc3Ryb2tlRGFzaGFycmF5OiAxLFxuICBzdHJva2VEYXNob2Zmc2V0OiAxLFxuICBzdHJva2VNaXRlcmxpbWl0OiAxLFxuICBzdHJva2VPcGFjaXR5OiAxLFxuICBzdHJva2VXaWR0aDogMVxufTtcblxuZXhwb3J0IGRlZmF1bHQgdW5pdGxlc3NLZXlzO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xudmFyIGNyZWF0ZUNoYW5nZUVtaXR0ZXIgPSBleHBvcnRzLmNyZWF0ZUNoYW5nZUVtaXR0ZXIgPSBmdW5jdGlvbiBjcmVhdGVDaGFuZ2VFbWl0dGVyKCkge1xuICB2YXIgY3VycmVudExpc3RlbmVycyA9IFtdO1xuICB2YXIgbmV4dExpc3RlbmVycyA9IGN1cnJlbnRMaXN0ZW5lcnM7XG5cbiAgZnVuY3Rpb24gZW5zdXJlQ2FuTXV0YXRlTmV4dExpc3RlbmVycygpIHtcbiAgICBpZiAobmV4dExpc3RlbmVycyA9PT0gY3VycmVudExpc3RlbmVycykge1xuICAgICAgbmV4dExpc3RlbmVycyA9IGN1cnJlbnRMaXN0ZW5lcnMuc2xpY2UoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBsaXN0ZW4obGlzdGVuZXIpIHtcbiAgICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIGxpc3RlbmVyIHRvIGJlIGEgZnVuY3Rpb24uJyk7XG4gICAgfVxuXG4gICAgdmFyIGlzU3Vic2NyaWJlZCA9IHRydWU7XG5cbiAgICBlbnN1cmVDYW5NdXRhdGVOZXh0TGlzdGVuZXJzKCk7XG4gICAgbmV4dExpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcblxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIWlzU3Vic2NyaWJlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlzU3Vic2NyaWJlZCA9IGZhbHNlO1xuXG4gICAgICBlbnN1cmVDYW5NdXRhdGVOZXh0TGlzdGVuZXJzKCk7XG4gICAgICB2YXIgaW5kZXggPSBuZXh0TGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpO1xuICAgICAgbmV4dExpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBlbWl0KCkge1xuICAgIGN1cnJlbnRMaXN0ZW5lcnMgPSBuZXh0TGlzdGVuZXJzO1xuICAgIHZhciBsaXN0ZW5lcnMgPSBjdXJyZW50TGlzdGVuZXJzO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsaXN0ZW5lcnNbaV0uYXBwbHkobGlzdGVuZXJzLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgbGlzdGVuOiBsaXN0ZW4sXG4gICAgZW1pdDogZW1pdFxuICB9O1xufTsiLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIEB0eXBlY2hlY2tzXG4gKiBcbiAqL1xuXG4vKmVzbGludC1kaXNhYmxlIG5vLXNlbGYtY29tcGFyZSAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogaW5saW5lZCBPYmplY3QuaXMgcG9seWZpbGwgdG8gYXZvaWQgcmVxdWlyaW5nIGNvbnN1bWVycyBzaGlwIHRoZWlyIG93blxuICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2lzXG4gKi9cbmZ1bmN0aW9uIGlzKHgsIHkpIHtcbiAgLy8gU2FtZVZhbHVlIGFsZ29yaXRobVxuICBpZiAoeCA9PT0geSkge1xuICAgIC8vIFN0ZXBzIDEtNSwgNy0xMFxuICAgIC8vIFN0ZXBzIDYuYi02LmU6ICswICE9IC0wXG4gICAgLy8gQWRkZWQgdGhlIG5vbnplcm8geSBjaGVjayB0byBtYWtlIEZsb3cgaGFwcHksIGJ1dCBpdCBpcyByZWR1bmRhbnRcbiAgICByZXR1cm4geCAhPT0gMCB8fCB5ICE9PSAwIHx8IDEgLyB4ID09PSAxIC8geTtcbiAgfSBlbHNlIHtcbiAgICAvLyBTdGVwIDYuYTogTmFOID09IE5hTlxuICAgIHJldHVybiB4ICE9PSB4ICYmIHkgIT09IHk7XG4gIH1cbn1cblxuLyoqXG4gKiBQZXJmb3JtcyBlcXVhbGl0eSBieSBpdGVyYXRpbmcgdGhyb3VnaCBrZXlzIG9uIGFuIG9iamVjdCBhbmQgcmV0dXJuaW5nIGZhbHNlXG4gKiB3aGVuIGFueSBrZXkgaGFzIHZhbHVlcyB3aGljaCBhcmUgbm90IHN0cmljdGx5IGVxdWFsIGJldHdlZW4gdGhlIGFyZ3VtZW50cy5cbiAqIFJldHVybnMgdHJ1ZSB3aGVuIHRoZSB2YWx1ZXMgb2YgYWxsIGtleXMgYXJlIHN0cmljdGx5IGVxdWFsLlxuICovXG5mdW5jdGlvbiBzaGFsbG93RXF1YWwob2JqQSwgb2JqQikge1xuICBpZiAoaXMob2JqQSwgb2JqQikpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygb2JqQSAhPT0gJ29iamVjdCcgfHwgb2JqQSA9PT0gbnVsbCB8fCB0eXBlb2Ygb2JqQiAhPT0gJ29iamVjdCcgfHwgb2JqQiA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBrZXlzQSA9IE9iamVjdC5rZXlzKG9iakEpO1xuICB2YXIga2V5c0IgPSBPYmplY3Qua2V5cyhvYmpCKTtcblxuICBpZiAoa2V5c0EubGVuZ3RoICE9PSBrZXlzQi5sZW5ndGgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvLyBUZXN0IGZvciBBJ3Mga2V5cyBkaWZmZXJlbnQgZnJvbSBCLlxuICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXNBLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iakIsIGtleXNBW2ldKSB8fCAhaXMob2JqQVtrZXlzQVtpXV0sIG9iakJba2V5c0FbaV1dKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNoYWxsb3dFcXVhbDsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuU3R5bGVkSWNvbiA9IHZvaWQgMDtcblxudmFyIF9yZWFjdCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcInJlYWN0XCIpKTtcblxudmFyIF9zdHlsZWRDb21wb25lbnRzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocmVxdWlyZShcInN0eWxlZC1jb21wb25lbnRzXCIpKTtcblxudmFyIF9ncm9tbWV0U3R5bGVzID0gcmVxdWlyZShcImdyb21tZXQtc3R5bGVzXCIpO1xuXG52YXIgX2RlZmF1bHRQcm9wcyA9IHJlcXVpcmUoXCIuL2RlZmF1bHQtcHJvcHNcIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHsgdmFyIGRlc2MgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpIDoge307IGlmIChkZXNjLmdldCB8fCBkZXNjLnNldCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3T2JqLCBrZXksIGRlc2MpOyB9IGVsc2UgeyBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gfSB9IG5ld09ialtcImRlZmF1bHRcIl0gPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG52YXIgY29sb3JDc3MgPSAoMCwgX3N0eWxlZENvbXBvbmVudHMuY3NzKShbXCJcIiwgXCIgXCIsIFwiIGd7ZmlsbDppbmhlcml0O3N0cm9rZTppbmhlcml0O30qOm5vdChbc3Ryb2tlXSl7JltmaWxsPVxcXCJub25lXFxcIl17c3Ryb2tlLXdpZHRoOjA7fX0qW3N0cm9rZSo9XFxcIiNcXFwiXSwqW1NUUk9LRSo9XFxcIiNcXFwiXXtzdHJva2U6aW5oZXJpdDtmaWxsOm5vbmU7fSpbZmlsbC1ydWxlXSwqW0ZJTEwtUlVMRV0sKltmaWxsKj1cXFwiI1xcXCJdLCpbRklMTCo9XFxcIiNcXFwiXXtmaWxsOmluaGVyaXQ7c3Ryb2tlOm5vbmU7fVwiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiAoMCwgX2dyb21tZXRTdHlsZXMuY29sb3JTdHlsZSkoJ2ZpbGwnLCBwcm9wcy5jb2xvciB8fCBwcm9wcy50aGVtZS5nbG9iYWwuY29sb3JzLmljb24sIHByb3BzLnRoZW1lKTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gKDAsIF9ncm9tbWV0U3R5bGVzLmNvbG9yU3R5bGUpKCdzdHJva2UnLCBwcm9wcy5jb2xvciB8fCBwcm9wcy50aGVtZS5nbG9iYWwuY29sb3JzLmljb24sIHByb3BzLnRoZW1lKTtcbn0pO1xuXG52YXIgSWNvbklubmVyID0gZnVuY3Rpb24gSWNvbklubmVyKF9yZWYpIHtcbiAgdmFyIGExMXlUaXRsZSA9IF9yZWYuYTExeVRpdGxlLFxuICAgICAgY29sb3IgPSBfcmVmLmNvbG9yLFxuICAgICAgc2l6ZSA9IF9yZWYuc2l6ZSxcbiAgICAgIHRoZW1lID0gX3JlZi50aGVtZSxcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfcmVmLCBbXCJhMTF5VGl0bGVcIiwgXCJjb2xvclwiLCBcInNpemVcIiwgXCJ0aGVtZVwiXSk7XG5cbiAgcmV0dXJuIF9yZWFjdFtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcInN2Z1wiLCBfZXh0ZW5kcyh7XG4gICAgXCJhcmlhLWxhYmVsXCI6IGExMXlUaXRsZVxuICB9LCByZXN0KSk7XG59O1xuXG5JY29uSW5uZXIuZGlzcGxheU5hbWUgPSAnSWNvbic7XG52YXIgU3R5bGVkSWNvbiA9ICgwLCBfc3R5bGVkQ29tcG9uZW50c1tcImRlZmF1bHRcIl0pKEljb25Jbm5lcikud2l0aENvbmZpZyh7XG4gIGRpc3BsYXlOYW1lOiBcIlN0eWxlZEljb25cIixcbiAgY29tcG9uZW50SWQ6IFwib2ZhN2tkLTBcIlxufSkoW1wiZGlzcGxheTppbmxpbmUtYmxvY2s7ZmxleDowIDAgYXV0bztcIiwgXCIgXCIsIFwiIFwiLCBcIlwiXSwgZnVuY3Rpb24gKF9yZWYyKSB7XG4gIHZhciBfcmVmMiRzaXplID0gX3JlZjIuc2l6ZSxcbiAgICAgIHNpemUgPSBfcmVmMiRzaXplID09PSB2b2lkIDAgPyAnbWVkaXVtJyA6IF9yZWYyJHNpemUsXG4gICAgICB0aGVtZSA9IF9yZWYyLnRoZW1lO1xuICByZXR1cm4gXCJcXG4gICAgd2lkdGg6IFwiICsgKHRoZW1lLmljb24uc2l6ZVtzaXplXSB8fCBzaXplKSArIFwiO1xcbiAgICBoZWlnaHQ6IFwiICsgKHRoZW1lLmljb24uc2l6ZVtzaXplXSB8fCBzaXplKSArIFwiO1xcbiAgXCI7XG59LCBmdW5jdGlvbiAoX3JlZjMpIHtcbiAgdmFyIGNvbG9yID0gX3JlZjMuY29sb3I7XG4gIHJldHVybiBjb2xvciAhPT0gJ3BsYWluJyAmJiBjb2xvckNzcztcbn0sIGZ1bmN0aW9uIChfcmVmNCkge1xuICB2YXIgdGhlbWUgPSBfcmVmNC50aGVtZTtcbiAgcmV0dXJuIHRoZW1lICYmIHRoZW1lLmljb24uZXh0ZW5kO1xufSk7XG5leHBvcnRzLlN0eWxlZEljb24gPSBTdHlsZWRJY29uO1xuU3R5bGVkSWNvbi5kZWZhdWx0UHJvcHMgPSB7fTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihTdHlsZWRJY29uLmRlZmF1bHRQcm9wcywgX2RlZmF1bHRQcm9wcy5kZWZhdWx0UHJvcHMpOyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5leHRlbmREZWZhdWx0VGhlbWUgPSBleHBvcnRzLmRlZmF1bHRQcm9wcyA9IHZvaWQgMDtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xuXG52YXIgX3RoZW1lcyA9IHJlcXVpcmUoXCIuL3RoZW1lc1wiKTtcblxudmFyIGRlZmF1bHRQcm9wcyA9IHtcbiAgdGhlbWU6IF90aGVtZXMuYmFzZVxufTtcbmV4cG9ydHMuZGVmYXVsdFByb3BzID0gZGVmYXVsdFByb3BzO1xuXG52YXIgZXh0ZW5kRGVmYXVsdFRoZW1lID0gZnVuY3Rpb24gZXh0ZW5kRGVmYXVsdFRoZW1lKHRoZW1lKSB7XG4gIGRlZmF1bHRQcm9wcy50aGVtZSA9ICgwLCBfdXRpbHMuZGVlcE1lcmdlKShfdGhlbWVzLmJhc2UsIHRoZW1lKTtcbn07XG5cbmV4cG9ydHMuZXh0ZW5kRGVmYXVsdFRoZW1lID0gZXh0ZW5kRGVmYXVsdFRoZW1lOyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5BY3Rpb25zID0gdm9pZCAwO1xuXG52YXIgX3JlYWN0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwicmVhY3RcIikpO1xuXG52YXIgX1N0eWxlZEljb24gPSByZXF1aXJlKFwiLi4vU3R5bGVkSWNvblwiKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbnZhciBBY3Rpb25zID0gZnVuY3Rpb24gQWN0aW9ucyhwcm9wcykge1xuICByZXR1cm4gX3JlYWN0W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9TdHlsZWRJY29uLlN0eWxlZEljb24sIF9leHRlbmRzKHtcbiAgICB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLFxuICAgIGExMXlUaXRsZTogXCJBY3Rpb25zXCJcbiAgfSwgcHJvcHMpLCBfcmVhY3RbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBmaWxsOiBcIm5vbmVcIixcbiAgICBzdHJva2U6IFwiIzAwMFwiLFxuICAgIHN0cm9rZVdpZHRoOiBcIjJcIixcbiAgICBkOiBcIk0xMiwxNy41IEMxNS4wMzc1NjYxLDE3LjUgMTcuNSwxNS4wMzc1NjYxIDE3LjUsMTIgQzE3LjUsOC45NjI0MzM4OCAxNS4wMzc1NjYxLDYuNSAxMiw2LjUgQzguOTYyNDMzODgsNi41IDYuNSw4Ljk2MjQzMzg4IDYuNSwxMiBDNi41LDE1LjAzNzU2NjEgOC45NjI0MzM4OCwxNy41IDEyLDE3LjUgWiBNMTIsNi41IEwxMiwxIE0xMiwyMyBMMTIsMTcuNSBNMSwxMiBMNi41LDEyIE0xNy41LDEyIEwyMywxMiBNNC40Mzc1LDQuNDM3NSBMOC41NjI1LDguNTYyNSBNMTUuNDM3NSwxNS40Mzc1IEwxOS41NjI1LDE5LjU2MjUgTTE5LjU2MjUsNC40Mzc1IEwxNS40Mzc1LDguNTYyNSBNOC41NjI1LDE1LjQzNzUgTDQuNDM3NSwxOS41NjI1XCJcbiAgfSkpO1xufTtcblxuZXhwb3J0cy5BY3Rpb25zID0gQWN0aW9uczsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuQ2xvc2VkQ2FwdGlvbiA9IHZvaWQgMDtcblxudmFyIF9yZWFjdCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcInJlYWN0XCIpKTtcblxudmFyIF9TdHlsZWRJY29uID0gcmVxdWlyZShcIi4uL1N0eWxlZEljb25cIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG52YXIgQ2xvc2VkQ2FwdGlvbiA9IGZ1bmN0aW9uIENsb3NlZENhcHRpb24ocHJvcHMpIHtcbiAgcmV0dXJuIF9yZWFjdFtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfU3R5bGVkSWNvbi5TdHlsZWRJY29uLCBfZXh0ZW5kcyh7XG4gICAgdmlld0JveDogXCIwIDAgMjQgMjRcIixcbiAgICBhMTF5VGl0bGU6IFwiQ2xvc2VkQ2FwdGlvblwiXG4gIH0sIHByb3BzKSwgX3JlYWN0W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZmlsbDogXCJub25lXCIsXG4gICAgc3Ryb2tlOiBcIiMwMDBcIixcbiAgICBzdHJva2VXaWR0aDogXCIyXCIsXG4gICAgZDogXCJNMSwxMiBDMSw1IDIuNSw0IDEyLDQgQzIxLjUsNCAyMyw1IDIzLDEyIEMyMywxOSAyMS41LDIwIDEyLDIwIEMyLjUsMjAgMSwxOSAxLDEyIFogTTUuMjUsMTQgQzUuMjUsMTUuNSA2LDE2IDcuNzUsMTYgQzkuNSwxNiAxMC4yNSwxNS41IDEwLjI1LDE0IEw5Ljk3ODYxNjc5LDE0IEM5Ljk3ODYxNjcxLDE1LjI1IDguOTc5MDU1NDcsMTYgNy43NSwxNiBDNi41MjA5NDQ1MywxNiA1LjUyMTM4MzI5LDE1LjI1IDUuNTIxMzgzMjEsMTQgTDUuNTIxMzgzMjEsMTAgQzUuNSw4Ljc1IDYuNSw4IDcuNzUsOCBDOSw4IDEwLDguNzUgOS45Nzg2MTY3OSwxMCBMMTAuMjUsMTAgQzEwLjI1LDguNzUgOS4yMjg2OTk4LDggNy43NSw4IEM2LjI3MTMwMDIsOCA1LjI1LDguNzUgNS4yNSwxMCBMNS4yNSwxNCBaIE0xMy4yNSwxNCBDMTMuMjUsMTUuNSAxNCwxNiAxNS43NSwxNiBDMTcuNSwxNiAxOC4yNSwxNS41IDE4LjI1LDE0IEwxNy45Nzg2MTY4LDE0IEMxNy45Nzg2MTY3LDE1LjI1IDE2Ljk3OTA1NTUsMTYgMTUuNzUsMTYgQzE0LjUyMDk0NDUsMTYgMTMuNTIxMzgzMywxNS4yNSAxMy41MjEzODMyLDE0IEwxMy41MjEzODMyLDEwIEMxMy41LDguNzUgMTQuNSw4IDE1Ljc1LDggQzE3LDggMTgsOC43NSAxNy45Nzg2MTY4LDEwIEwxOC4yNSwxMCBDMTguMjUsOC43NSAxNy4yMjg2OTk4LDggMTUuNzUsOCBDMTQuMjcxMzAwMiw4IDEzLjI1LDguNzUgMTMuMjUsMTAgTDEzLjI1LDE0IFpcIlxuICB9KSk7XG59O1xuXG5leHBvcnRzLkNsb3NlZENhcHRpb24gPSBDbG9zZWRDYXB0aW9uOyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5FeHBhbmQgPSB2b2lkIDA7XG5cbnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJyZWFjdFwiKSk7XG5cbnZhciBfU3R5bGVkSWNvbiA9IHJlcXVpcmUoXCIuLi9TdHlsZWRJY29uXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxudmFyIEV4cGFuZCA9IGZ1bmN0aW9uIEV4cGFuZChwcm9wcykge1xuICByZXR1cm4gX3JlYWN0W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9TdHlsZWRJY29uLlN0eWxlZEljb24sIF9leHRlbmRzKHtcbiAgICB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLFxuICAgIGExMXlUaXRsZTogXCJFeHBhbmRcIlxuICB9LCBwcm9wcyksIF9yZWFjdFtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGZpbGw6IFwibm9uZVwiLFxuICAgIHN0cm9rZTogXCIjMDAwXCIsXG4gICAgc3Ryb2tlV2lkdGg6IFwiMlwiLFxuICAgIGQ6IFwiTTEwLDE0IEwyLDIyIE0xLDE1IEwxLDIzIEw5LDIzIE0yMiwyIEwxNCwxMCBNMTUsMSBMMjMsMSBMMjMsOVwiXG4gIH0pKTtcbn07XG5cbmV4cG9ydHMuRXhwYW5kID0gRXhwYW5kOyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5Gb3JtRG93biA9IHZvaWQgMDtcblxudmFyIF9yZWFjdCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcInJlYWN0XCIpKTtcblxudmFyIF9TdHlsZWRJY29uID0gcmVxdWlyZShcIi4uL1N0eWxlZEljb25cIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG52YXIgRm9ybURvd24gPSBmdW5jdGlvbiBGb3JtRG93bihwcm9wcykge1xuICByZXR1cm4gX3JlYWN0W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9TdHlsZWRJY29uLlN0eWxlZEljb24sIF9leHRlbmRzKHtcbiAgICB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLFxuICAgIGExMXlUaXRsZTogXCJGb3JtRG93blwiXG4gIH0sIHByb3BzKSwgX3JlYWN0W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwicG9seWxpbmVcIiwge1xuICAgIGZpbGw6IFwibm9uZVwiLFxuICAgIHN0cm9rZTogXCIjMDAwXCIsXG4gICAgc3Ryb2tlV2lkdGg6IFwiMlwiLFxuICAgIHBvaW50czogXCIxOCA5IDEyIDE1IDYgOVwiXG4gIH0pKTtcbn07XG5cbmV4cG9ydHMuRm9ybURvd24gPSBGb3JtRG93bjsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuRm9ybU5leHQgPSB2b2lkIDA7XG5cbnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJyZWFjdFwiKSk7XG5cbnZhciBfU3R5bGVkSWNvbiA9IHJlcXVpcmUoXCIuLi9TdHlsZWRJY29uXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxudmFyIEZvcm1OZXh0ID0gZnVuY3Rpb24gRm9ybU5leHQocHJvcHMpIHtcbiAgcmV0dXJuIF9yZWFjdFtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfU3R5bGVkSWNvbi5TdHlsZWRJY29uLCBfZXh0ZW5kcyh7XG4gICAgdmlld0JveDogXCIwIDAgMjQgMjRcIixcbiAgICBhMTF5VGl0bGU6IFwiRm9ybU5leHRcIlxuICB9LCBwcm9wcyksIF9yZWFjdFtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcInBvbHlsaW5lXCIsIHtcbiAgICBmaWxsOiBcIm5vbmVcIixcbiAgICBzdHJva2U6IFwiIzAwMFwiLFxuICAgIHN0cm9rZVdpZHRoOiBcIjJcIixcbiAgICBwb2ludHM6IFwiOSA2IDE1IDEyIDkgMThcIlxuICB9KSk7XG59O1xuXG5leHBvcnRzLkZvcm1OZXh0ID0gRm9ybU5leHQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLkZvcm1QcmV2aW91cyA9IHZvaWQgMDtcblxudmFyIF9yZWFjdCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcInJlYWN0XCIpKTtcblxudmFyIF9TdHlsZWRJY29uID0gcmVxdWlyZShcIi4uL1N0eWxlZEljb25cIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG52YXIgRm9ybVByZXZpb3VzID0gZnVuY3Rpb24gRm9ybVByZXZpb3VzKHByb3BzKSB7XG4gIHJldHVybiBfcmVhY3RbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX1N0eWxlZEljb24uU3R5bGVkSWNvbiwgX2V4dGVuZHMoe1xuICAgIHZpZXdCb3g6IFwiMCAwIDI0IDI0XCIsXG4gICAgYTExeVRpdGxlOiBcIkZvcm1QcmV2aW91c1wiXG4gIH0sIHByb3BzKSwgX3JlYWN0W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwicG9seWxpbmVcIiwge1xuICAgIGZpbGw6IFwibm9uZVwiLFxuICAgIHN0cm9rZTogXCIjMDAwXCIsXG4gICAgc3Ryb2tlV2lkdGg6IFwiMlwiLFxuICAgIHBvaW50czogXCI5IDYgMTUgMTIgOSAxOFwiLFxuICAgIHRyYW5zZm9ybTogXCJtYXRyaXgoLTEgMCAwIDEgMjQgMClcIlxuICB9KSk7XG59O1xuXG5leHBvcnRzLkZvcm1QcmV2aW91cyA9IEZvcm1QcmV2aW91czsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuRm9ybVNlYXJjaCA9IHZvaWQgMDtcblxudmFyIF9yZWFjdCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcInJlYWN0XCIpKTtcblxudmFyIF9TdHlsZWRJY29uID0gcmVxdWlyZShcIi4uL1N0eWxlZEljb25cIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG52YXIgRm9ybVNlYXJjaCA9IGZ1bmN0aW9uIEZvcm1TZWFyY2gocHJvcHMpIHtcbiAgcmV0dXJuIF9yZWFjdFtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfU3R5bGVkSWNvbi5TdHlsZWRJY29uLCBfZXh0ZW5kcyh7XG4gICAgdmlld0JveDogXCIwIDAgMjQgMjRcIixcbiAgICBhMTF5VGl0bGU6IFwiRm9ybVNlYXJjaFwiXG4gIH0sIHByb3BzKSwgX3JlYWN0W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZmlsbDogXCJub25lXCIsXG4gICAgc3Ryb2tlOiBcIiMwMDBcIixcbiAgICBzdHJva2VXaWR0aDogXCIyXCIsXG4gICAgZDogXCJNMTMuOCwxMy44IEwxOCwxOCBMMTMuOCwxMy44IFogTTEwLjUsMTUgQzEyLjk4NTI4MTQsMTUgMTUsMTIuOTg1MjgxNCAxNSwxMC41IEMxNSw4LjAxNDcxODYzIDEyLjk4NTI4MTQsNiAxMC41LDYgQzguMDE0NzE4NjMsNiA2LDguMDE0NzE4NjMgNiwxMC41IEM2LDEyLjk4NTI4MTQgOC4wMTQ3MTg2MywxNSAxMC41LDE1IFpcIlxuICB9KSk7XG59O1xuXG5leHBvcnRzLkZvcm1TZWFyY2ggPSBGb3JtU2VhcmNoOyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5Gb3JtVXAgPSB2b2lkIDA7XG5cbnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJyZWFjdFwiKSk7XG5cbnZhciBfU3R5bGVkSWNvbiA9IHJlcXVpcmUoXCIuLi9TdHlsZWRJY29uXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxudmFyIEZvcm1VcCA9IGZ1bmN0aW9uIEZvcm1VcChwcm9wcykge1xuICByZXR1cm4gX3JlYWN0W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9TdHlsZWRJY29uLlN0eWxlZEljb24sIF9leHRlbmRzKHtcbiAgICB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLFxuICAgIGExMXlUaXRsZTogXCJGb3JtVXBcIlxuICB9LCBwcm9wcyksIF9yZWFjdFtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcInBvbHlsaW5lXCIsIHtcbiAgICBmaWxsOiBcIm5vbmVcIixcbiAgICBzdHJva2U6IFwiIzAwMFwiLFxuICAgIHN0cm9rZVdpZHRoOiBcIjJcIixcbiAgICBwb2ludHM6IFwiMTggOSAxMiAxNSA2IDlcIixcbiAgICB0cmFuc2Zvcm06IFwibWF0cml4KDEgMCAwIC0xIDAgMjQpXCJcbiAgfSkpO1xufTtcblxuZXhwb3J0cy5Gb3JtVXAgPSBGb3JtVXA7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLk5leHQgPSB2b2lkIDA7XG5cbnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJyZWFjdFwiKSk7XG5cbnZhciBfU3R5bGVkSWNvbiA9IHJlcXVpcmUoXCIuLi9TdHlsZWRJY29uXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxudmFyIE5leHQgPSBmdW5jdGlvbiBOZXh0KHByb3BzKSB7XG4gIHJldHVybiBfcmVhY3RbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX1N0eWxlZEljb24uU3R5bGVkSWNvbiwgX2V4dGVuZHMoe1xuICAgIHZpZXdCb3g6IFwiMCAwIDI0IDI0XCIsXG4gICAgYTExeVRpdGxlOiBcIk5leHRcIlxuICB9LCBwcm9wcyksIF9yZWFjdFtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcInBvbHlsaW5lXCIsIHtcbiAgICBmaWxsOiBcIm5vbmVcIixcbiAgICBzdHJva2U6IFwiIzAwMFwiLFxuICAgIHN0cm9rZVdpZHRoOiBcIjJcIixcbiAgICBwb2ludHM6IFwiNyAyIDE3IDEyIDcgMjJcIlxuICB9KSk7XG59O1xuXG5leHBvcnRzLk5leHQgPSBOZXh0OyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5QYXVzZSA9IHZvaWQgMDtcblxudmFyIF9yZWFjdCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcInJlYWN0XCIpKTtcblxudmFyIF9TdHlsZWRJY29uID0gcmVxdWlyZShcIi4uL1N0eWxlZEljb25cIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG52YXIgUGF1c2UgPSBmdW5jdGlvbiBQYXVzZShwcm9wcykge1xuICByZXR1cm4gX3JlYWN0W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9TdHlsZWRJY29uLlN0eWxlZEljb24sIF9leHRlbmRzKHtcbiAgICB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLFxuICAgIGExMXlUaXRsZTogXCJQYXVzZVwiXG4gIH0sIHByb3BzKSwgX3JlYWN0W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZmlsbDogXCJub25lXCIsXG4gICAgc3Ryb2tlOiBcIiMwMDBcIixcbiAgICBzdHJva2VXaWR0aDogXCIyXCIsXG4gICAgZDogXCJNMywyMSBMOSwyMSBMOSwzIEwzLDMgTDMsMjEgWiBNMTUsMjEgTDIxLDIxIEwyMSwzIEwxNSwzIEwxNSwyMSBaXCJcbiAgfSkpO1xufTtcblxuZXhwb3J0cy5QYXVzZSA9IFBhdXNlOyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5QbGF5ID0gdm9pZCAwO1xuXG52YXIgX3JlYWN0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwicmVhY3RcIikpO1xuXG52YXIgX1N0eWxlZEljb24gPSByZXF1aXJlKFwiLi4vU3R5bGVkSWNvblwiKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbnZhciBQbGF5ID0gZnVuY3Rpb24gUGxheShwcm9wcykge1xuICByZXR1cm4gX3JlYWN0W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9TdHlsZWRJY29uLlN0eWxlZEljb24sIF9leHRlbmRzKHtcbiAgICB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLFxuICAgIGExMXlUaXRsZTogXCJQbGF5XCJcbiAgfSwgcHJvcHMpLCBfcmVhY3RbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJwb2x5Z29uXCIsIHtcbiAgICBmaWxsOiBcIm5vbmVcIixcbiAgICBzdHJva2U6IFwiIzAwMFwiLFxuICAgIHN0cm9rZVdpZHRoOiBcIjJcIixcbiAgICBwb2ludHM6IFwiMyAyMiAyMSAxMiAzIDJcIlxuICB9KSk7XG59O1xuXG5leHBvcnRzLlBsYXkgPSBQbGF5OyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5QcmV2aW91cyA9IHZvaWQgMDtcblxudmFyIF9yZWFjdCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcInJlYWN0XCIpKTtcblxudmFyIF9TdHlsZWRJY29uID0gcmVxdWlyZShcIi4uL1N0eWxlZEljb25cIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG52YXIgUHJldmlvdXMgPSBmdW5jdGlvbiBQcmV2aW91cyhwcm9wcykge1xuICByZXR1cm4gX3JlYWN0W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9TdHlsZWRJY29uLlN0eWxlZEljb24sIF9leHRlbmRzKHtcbiAgICB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLFxuICAgIGExMXlUaXRsZTogXCJQcmV2aW91c1wiXG4gIH0sIHByb3BzKSwgX3JlYWN0W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwicG9seWxpbmVcIiwge1xuICAgIGZpbGw6IFwibm9uZVwiLFxuICAgIHN0cm9rZTogXCIjMDAwXCIsXG4gICAgc3Ryb2tlV2lkdGg6IFwiMlwiLFxuICAgIHBvaW50czogXCI3IDIgMTcgMTIgNyAyMlwiLFxuICAgIHRyYW5zZm9ybTogXCJtYXRyaXgoLTEgMCAwIDEgMjQgMClcIlxuICB9KSk7XG59O1xuXG5leHBvcnRzLlByZXZpb3VzID0gUHJldmlvdXM7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLlN1YnRyYWN0ID0gdm9pZCAwO1xuXG52YXIgX3JlYWN0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwicmVhY3RcIikpO1xuXG52YXIgX1N0eWxlZEljb24gPSByZXF1aXJlKFwiLi4vU3R5bGVkSWNvblwiKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbnZhciBTdWJ0cmFjdCA9IGZ1bmN0aW9uIFN1YnRyYWN0KHByb3BzKSB7XG4gIHJldHVybiBfcmVhY3RbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX1N0eWxlZEljb24uU3R5bGVkSWNvbiwgX2V4dGVuZHMoe1xuICAgIHZpZXdCb3g6IFwiMCAwIDI0IDI0XCIsXG4gICAgYTExeVRpdGxlOiBcIlN1YnRyYWN0XCJcbiAgfSwgcHJvcHMpLCBfcmVhY3RbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBmaWxsOiBcIm5vbmVcIixcbiAgICBzdHJva2U6IFwiIzAwMFwiLFxuICAgIHN0cm9rZVdpZHRoOiBcIjJcIixcbiAgICBkOiBcIk0yLDEyIEwyMiwxMlwiXG4gIH0pKTtcbn07XG5cbmV4cG9ydHMuU3VidHJhY3QgPSBTdWJ0cmFjdDsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuVm9sdW1lID0gdm9pZCAwO1xuXG52YXIgX3JlYWN0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwicmVhY3RcIikpO1xuXG52YXIgX1N0eWxlZEljb24gPSByZXF1aXJlKFwiLi4vU3R5bGVkSWNvblwiKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbnZhciBWb2x1bWUgPSBmdW5jdGlvbiBWb2x1bWUocHJvcHMpIHtcbiAgcmV0dXJuIF9yZWFjdFtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfU3R5bGVkSWNvbi5TdHlsZWRJY29uLCBfZXh0ZW5kcyh7XG4gICAgdmlld0JveDogXCIwIDAgMjQgMjRcIixcbiAgICBhMTF5VGl0bGU6IFwiVm9sdW1lXCJcbiAgfSwgcHJvcHMpLCBfcmVhY3RbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBmaWxsOiBcIm5vbmVcIixcbiAgICBzdHJva2U6IFwiIzAwMFwiLFxuICAgIHN0cm9rZVdpZHRoOiBcIjJcIixcbiAgICBkOiBcIk0xNSwxNiBDMTcuMjA5LDE2IDE5LDE0LjIwOSAxOSwxMiBDMTksOS43OTEgMTcuMjA5LDggMTUsOCBNMTUsMjAgQzIwLDIwIDIzLDE2LjQxMSAyMywxMiBDMjMsNy41ODkgMTkuNDExLDQgMTUsNCBNMSwxMiBMMSw4IEw2LDggTDEyLDMgTDEyLDIxIEw2LDE2IEwxLDE2IEwxLDEyXCJcbiAgfSkpO1xufTtcblxuZXhwb3J0cy5Wb2x1bWUgPSBWb2x1bWU7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLlZvbHVtZUxvdyA9IHZvaWQgMDtcblxudmFyIF9yZWFjdCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcInJlYWN0XCIpKTtcblxudmFyIF9TdHlsZWRJY29uID0gcmVxdWlyZShcIi4uL1N0eWxlZEljb25cIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG52YXIgVm9sdW1lTG93ID0gZnVuY3Rpb24gVm9sdW1lTG93KHByb3BzKSB7XG4gIHJldHVybiBfcmVhY3RbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX1N0eWxlZEljb24uU3R5bGVkSWNvbiwgX2V4dGVuZHMoe1xuICAgIHZpZXdCb3g6IFwiMCAwIDI0IDI0XCIsXG4gICAgYTExeVRpdGxlOiBcIlZvbHVtZUxvd1wiXG4gIH0sIHByb3BzKSwgX3JlYWN0W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZmlsbDogXCJub25lXCIsXG4gICAgc3Ryb2tlOiBcIiMwMDBcIixcbiAgICBzdHJva2VXaWR0aDogXCIyXCIsXG4gICAgZDogXCJNMSw4IEwxLDE2IEw2LjA5OTAxOTUxLDE2IEwxMiwyMSBMMTIsMyBMNiw4IEwxLDggWiBNMTUsMTYgTDE1LDE2IEMxNy4yMDkxMzksMTYgMTksMTQuMjA5MTM5IDE5LDEyIEMxOSw5Ljc5MDg2MSAxNy4yMDkxMzksOCAxNSw4XCJcbiAgfSkpO1xufTtcblxuZXhwb3J0cy5Wb2x1bWVMb3cgPSBWb2x1bWVMb3c7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmJhc2UgPSB2b2lkIDA7XG52YXIgYmFzZSA9IHtcbiAgZ2xvYmFsOiB7XG4gICAgY29sb3JzOiB7XG4gICAgICBpY29uOiAnIzY2NjY2NidcbiAgICB9XG4gIH0sXG4gIGljb246IHtcbiAgICBzaXplOiB7XG4gICAgICBzbWFsbDogJzEycHgnLFxuICAgICAgbWVkaXVtOiAnMjRweCcsXG4gICAgICBsYXJnZTogJzQ4cHgnLFxuICAgICAgeGxhcmdlOiAnOTZweCdcbiAgICB9XG4gIH1cbn07XG5leHBvcnRzLmJhc2UgPSBiYXNlOyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5iYXNlID0gdm9pZCAwO1xuXG52YXIgX2Jhc2UgPSByZXF1aXJlKFwiLi9iYXNlXCIpO1xuXG5leHBvcnRzLmJhc2UgPSBfYmFzZS5iYXNlOyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5pc09iamVjdCA9IGlzT2JqZWN0O1xuZXhwb3J0cy5kZWVwTWVyZ2UgPSBkZWVwTWVyZ2U7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IHZvaWQgMDtcblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gaXNPYmplY3QoaXRlbSkge1xuICByZXR1cm4gaXRlbSAmJiB0eXBlb2YgaXRlbSA9PT0gJ29iamVjdCcgJiYgIUFycmF5LmlzQXJyYXkoaXRlbSk7XG59XG5cbmZ1bmN0aW9uIGRlZXBNZXJnZSh0YXJnZXQpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHNvdXJjZXMgPSBuZXcgQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIHNvdXJjZXNbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgaWYgKCFzb3VyY2VzLmxlbmd0aCkge1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH0gLy8gbWFraW5nIHN1cmUgdG8gbm90IGNoYW5nZSB0YXJnZXQgKGltbXV0YWJsZSlcblxuXG4gIHZhciBvdXRwdXQgPSBfZXh0ZW5kcyh7fSwgdGFyZ2V0KTtcblxuICBzb3VyY2VzLmZvckVhY2goZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgIGlmIChpc09iamVjdChzb3VyY2UpKSB7XG4gICAgICBPYmplY3Qua2V5cyhzb3VyY2UpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAoaXNPYmplY3Qoc291cmNlW2tleV0pKSB7XG4gICAgICAgICAgaWYgKCFvdXRwdXRba2V5XSkge1xuICAgICAgICAgICAgb3V0cHV0W2tleV0gPSBfZXh0ZW5kcyh7fSwgc291cmNlW2tleV0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvdXRwdXRba2V5XSA9IGRlZXBNZXJnZShvdXRwdXRba2V5XSwgc291cmNlW2tleV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvdXRwdXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gb3V0cHV0O1xufVxuXG52YXIgX2RlZmF1bHQgPSB7XG4gIGRlZXBNZXJnZTogZGVlcE1lcmdlLFxuICBpc09iamVjdDogaXNPYmplY3Rcbn07XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IF9kZWZhdWx0OyIsImV4cG9ydCAqIGZyb20gJy4vc3R5bGVzJztcbmV4cG9ydCAqIGZyb20gJy4vdXRpbHMnOyIsImltcG9ydCB7IGNzcyB9IGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCB7IG5vcm1hbGl6ZUNvbG9yIH0gZnJvbSAnLi4vdXRpbHMnO1xuZXhwb3J0IHZhciBjb2xvclN0eWxlID0gZnVuY3Rpb24gY29sb3JTdHlsZShuYW1lLCB2YWx1ZSwgdGhlbWUsIHJlcXVpcmVkKSB7XG4gIHJldHVybiBjc3MoW1wiXCIsIFwiOlwiLCBcIjtcIl0sIG5hbWUsIG5vcm1hbGl6ZUNvbG9yKHZhbHVlLCB0aGVtZSwgcmVxdWlyZWQpKTtcbn07IiwiZXhwb3J0ICogZnJvbSAnLi9jb2xvcic7XG5leHBvcnQgKiBmcm9tICcuL3NpemUnOyIsImltcG9ydCB7IGNzcyB9IGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmV4cG9ydCB2YXIgc2l6ZVN0eWxlID0gZnVuY3Rpb24gc2l6ZVN0eWxlKG5hbWUsIHZhbHVlLCB0aGVtZSkge1xuICByZXR1cm4gY3NzKFtcIlwiLCBcIjpcIiwgXCI7XCJdLCBuYW1lLCB0aGVtZS5nbG9iYWwuc2l6ZVt2YWx1ZV0gfHwgdmFsdWUpO1xufTsiLCIvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy81NjIzODM4L3JnYi10by1oZXgtYW5kLWhleC10by1yZ2JcbnZhciBwYXJzZUhleFRvUkdCID0gZnVuY3Rpb24gcGFyc2VIZXhUb1JHQihjb2xvcikge1xuICByZXR1cm4gY29sb3IucmVwbGFjZSgvXiM/KFthLWZcXGRdKShbYS1mXFxkXSkoW2EtZlxcZF0pJC9pLCBmdW5jdGlvbiAobSwgciwgZywgYikge1xuICAgIHJldHVybiBcIiNcIiArIHIgKyByICsgZyArIGcgKyBiICsgYjtcbiAgfSkuc3Vic3RyaW5nKDEpLm1hdGNoKC8uezJ9L2cpLm1hcChmdW5jdGlvbiAoeCkge1xuICAgIHJldHVybiBwYXJzZUludCh4LCAxNik7XG4gIH0pO1xufTtcblxudmFyIGdldFJHQkFycmF5ID0gZnVuY3Rpb24gZ2V0UkdCQXJyYXkoY29sb3IpIHtcbiAgaWYgKC9eIy8udGVzdChjb2xvcikpIHtcbiAgICByZXR1cm4gcGFyc2VIZXhUb1JHQihjb2xvcik7XG4gIH1cblxuICBpZiAoL15yZ2IvLnRlc3QoY29sb3IpKSB7XG4gICAgcmV0dXJuIGNvbG9yLm1hdGNoKC9yZ2JhP1xcKChcXHM/WzAtOV0qXFxzPyksKFxccz9bMC05XSpcXHM/KSwoXFxzP1swLTldKlxccz8pLio/XFwpLykuc3BsaWNlKDEpO1xuICB9XG5cbiAgcmV0dXJuIGNvbG9yO1xufTtcblxuZXhwb3J0IHZhciBjb2xvcklzRGFyayA9IGZ1bmN0aW9uIGNvbG9ySXNEYXJrKGNvbG9yKSB7XG4gIHZhciBfZ2V0UkdCQXJyYXkgPSBnZXRSR0JBcnJheShjb2xvciksXG4gICAgICByZWQgPSBfZ2V0UkdCQXJyYXlbMF0sXG4gICAgICBncmVlbiA9IF9nZXRSR0JBcnJheVsxXSxcbiAgICAgIGJsdWUgPSBfZ2V0UkdCQXJyYXlbMl07IC8vIGh0dHA6Ly93d3cuaGFkMmtub3cuY29tL3RlY2hub2xvZ3kvXG4gIC8vICBjb2xvci1jb250cmFzdC1jYWxjdWxhdG9yLXdlYi1kZXNpZ24uaHRtbFxuXG5cbiAgdmFyIGJyaWdodG5lc3MgPSAoMjk5ICogcmVkICsgNTg3ICogZ3JlZW4gKyAxMTQgKiBibHVlKSAvIDEwMDA7XG4gIHJldHVybiBicmlnaHRuZXNzIDwgMTI1O1xufTtcbmV4cG9ydCB2YXIgbm9ybWFsaXplQ29sb3IgPSBmdW5jdGlvbiBub3JtYWxpemVDb2xvcihjb2xvciwgdGhlbWUpIHtcbiAgdmFyIGNvbG9yU3BlYyA9IHRoZW1lLmdsb2JhbC5jb2xvcnNbY29sb3JdIHx8IGNvbG9yOyAvLyBJZiB0aGUgY29sb3IgaGFzIGEgbGlnaHQgb3IgZGFyayBvYmplY3QsIHVzZSB0aGF0XG5cbiAgdmFyIHJlc3VsdCA9IGNvbG9yU3BlYztcblxuICBpZiAodGhlbWUuZGFyayAmJiBjb2xvclNwZWMuZGFyaykge1xuICAgIHJlc3VsdCA9IGNvbG9yU3BlYy5kYXJrO1xuICB9IGVsc2UgaWYgKCF0aGVtZS5kYXJrICYmIGNvbG9yU3BlYy5saWdodCkge1xuICAgIHJlc3VsdCA9IGNvbG9yU3BlYy5saWdodDtcbiAgfSAvLyBhbGxvdyBvbmUgbGV2ZWwgb2YgaW5kaXJlY3Rpb24gaW4gY29sb3IgbmFtZXNcblxuXG4gIGlmIChyZXN1bHQgJiYgdGhlbWUuZ2xvYmFsLmNvbG9yc1tyZXN1bHRdICYmIHRoZW1lLmdsb2JhbC5jb2xvcnNbcmVzdWx0XSAhPT0gcmVzdWx0KSB7XG4gICAgcmVzdWx0ID0gbm9ybWFsaXplQ29sb3IocmVzdWx0LCB0aGVtZSk7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufTsiLCJleHBvcnQgKiBmcm9tICcuL2NvbG9ycyc7IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIENoaWxkcmVuIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgQm94IH0gZnJvbSAnLi4vQm94JztcbmltcG9ydCB7IEFjY29yZGlvbkNvbnRleHQgfSBmcm9tICcuL0FjY29yZGlvbkNvbnRleHQnO1xuXG52YXIgYWN0aXZlQXNBcnJheSA9IGZ1bmN0aW9uIGFjdGl2ZUFzQXJyYXkoYWN0aXZlKSB7XG4gIHJldHVybiB0eXBlb2YgYWN0aXZlID09PSAnbnVtYmVyJyA/IFthY3RpdmVdIDogYWN0aXZlO1xufTtcblxudmFyIEFjY29yZGlvbiA9IGZ1bmN0aW9uIEFjY29yZGlvbihfcmVmKSB7XG4gIHZhciBhY3RpdmVJbmRleCA9IF9yZWYuYWN0aXZlSW5kZXgsXG4gICAgICBfcmVmJGFuaW1hdGUgPSBfcmVmLmFuaW1hdGUsXG4gICAgICBhbmltYXRlID0gX3JlZiRhbmltYXRlID09PSB2b2lkIDAgPyB0cnVlIDogX3JlZiRhbmltYXRlLFxuICAgICAgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuLFxuICAgICAgX3JlZiRtZXNzYWdlcyA9IF9yZWYubWVzc2FnZXMsXG4gICAgICBtZXNzYWdlcyA9IF9yZWYkbWVzc2FnZXMgPT09IHZvaWQgMCA/IHtcbiAgICB0YWJDb250ZW50czogJ1RhYiBDb250ZW50cydcbiAgfSA6IF9yZWYkbWVzc2FnZXMsXG4gICAgICBtdWx0aXBsZSA9IF9yZWYubXVsdGlwbGUsXG4gICAgICBvbkFjdGl2ZSA9IF9yZWYub25BY3RpdmUsXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZiwgW1wiYWN0aXZlSW5kZXhcIiwgXCJhbmltYXRlXCIsIFwiY2hpbGRyZW5cIiwgXCJtZXNzYWdlc1wiLCBcIm11bHRpcGxlXCIsIFwib25BY3RpdmVcIl0pO1xuXG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZShbXSksXG4gICAgICBhY3RpdmVJbmRleGVzID0gX3VzZVN0YXRlWzBdLFxuICAgICAgc2V0QWN0aXZlSW5kZXhlcyA9IF91c2VTdGF0ZVsxXTtcblxuICB2YXIgX3VzZVN0YXRlMiA9IHVzZVN0YXRlKCksXG4gICAgICBzdGF0ZUFjdGl2ZUluZGV4ID0gX3VzZVN0YXRlMlswXSxcbiAgICAgIHNldFN0YXRlQWN0aXZlSW5kZXggPSBfdXNlU3RhdGUyWzFdOyAvLyBEZXJpdmVkIHN0YXRlIGZyb20gcHJvcHNcbiAgLy8gaHR0cHM6Ly9yZWFjdGpzLm9yZy9kb2NzL2hvb2tzLWZhcS5odG1sI2hvdy1kby1pLWltcGxlbWVudC1nZXRkZXJpdmVkc3RhdGVmcm9tcHJvcHNcblxuXG4gIHZhciBkZXJpdmVkQWN0aXZlSW5kZXhlcyA9IGFjdGl2ZUFzQXJyYXkoYWN0aXZlSW5kZXgpIHx8IFtdO1xuXG4gIGlmICgodHlwZW9mIGFjdGl2ZUluZGV4ICE9PSAndW5kZWZpbmVkJyB8fCBhY3RpdmVJbmRleCAhPT0gc3RhdGVBY3RpdmVJbmRleCkgJiYgZGVyaXZlZEFjdGl2ZUluZGV4ZXMuam9pbigpICE9PSBhY3RpdmVJbmRleGVzLmpvaW4oKSkge1xuICAgIHNldEFjdGl2ZUluZGV4ZXMoZGVyaXZlZEFjdGl2ZUluZGV4ZXMpO1xuICAgIHNldFN0YXRlQWN0aXZlSW5kZXgoYWN0aXZlSW5kZXgpO1xuICB9XG5cbiAgdmFyIF9vblBhbmVsQ2hhbmdlID0gZnVuY3Rpb24gb25QYW5lbENoYW5nZShpbmRleCkge1xuICAgIHZhciBuZXh0QWN0aXZlSW5kZXhlcyA9IFtdLmNvbmNhdChhY3RpdmVJbmRleGVzIHx8IFtdKTtcbiAgICB2YXIgbmV4dEFjdGl2ZUluZGV4ID0gbmV4dEFjdGl2ZUluZGV4ZXMuaW5kZXhPZihpbmRleCk7XG5cbiAgICBpZiAobmV4dEFjdGl2ZUluZGV4ID4gLTEpIHtcbiAgICAgIG5leHRBY3RpdmVJbmRleGVzLnNwbGljZShuZXh0QWN0aXZlSW5kZXgsIDEpO1xuICAgIH0gZWxzZSBpZiAobXVsdGlwbGUpIHtcbiAgICAgIG5leHRBY3RpdmVJbmRleGVzLnB1c2goaW5kZXgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXh0QWN0aXZlSW5kZXhlcyA9IFtpbmRleF07XG4gICAgfVxuXG4gICAgc2V0QWN0aXZlSW5kZXhlcyhuZXh0QWN0aXZlSW5kZXhlcyk7XG5cbiAgICBpZiAob25BY3RpdmUpIHtcbiAgICAgIG9uQWN0aXZlKG5leHRBY3RpdmVJbmRleGVzKTtcbiAgICB9XG4gIH07IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuXG5cbiAgZGVsZXRlIHJlc3Qub25BY3RpdmU7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwgX2V4dGVuZHMoe1xuICAgIHJvbGU6IFwidGFibGlzdFwiXG4gIH0sIHJlc3QpLCBDaGlsZHJlbi50b0FycmF5KGNoaWxkcmVuKS5tYXAoZnVuY3Rpb24gKHBhbmVsLCBpbmRleCkge1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEFjY29yZGlvbkNvbnRleHQuUHJvdmlkZXIsIHtcbiAgICAgIGtleTogXCJhY2NvcmRpb24tcGFuZWxfXCIgKyAoaW5kZXggKyAwKSxcbiAgICAgIHZhbHVlOiB7XG4gICAgICAgIGFjdGl2ZTogYWN0aXZlSW5kZXhlcy5pbmRleE9mKGluZGV4KSA+IC0xLFxuICAgICAgICBhbmltYXRlOiBhbmltYXRlLFxuICAgICAgICBtZXNzYWdlczogbWVzc2FnZXMsXG4gICAgICAgIG9uUGFuZWxDaGFuZ2U6IGZ1bmN0aW9uIG9uUGFuZWxDaGFuZ2UoKSB7XG4gICAgICAgICAgcmV0dXJuIF9vblBhbmVsQ2hhbmdlKGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHBhbmVsKTtcbiAgfSkpO1xufTtcblxudmFyIEFjY29yZGlvbkRvYztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGdsb2JhbC1yZXF1aXJlXG4gIEFjY29yZGlvbkRvYyA9IHJlcXVpcmUoJy4vZG9jJykuZG9jKEFjY29yZGlvbik7XG59XG5cbnZhciBBY2NvcmRpb25XcmFwcGVyID0gQWNjb3JkaW9uRG9jIHx8IEFjY29yZGlvbjtcbmV4cG9ydCB7IEFjY29yZGlvbldyYXBwZXIgYXMgQWNjb3JkaW9uIH07IiwiaW1wb3J0IHsgY3JlYXRlQ29udGV4dCB9IGZyb20gJ3JlYWN0JztcbmV4cG9ydCB2YXIgQWNjb3JkaW9uQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQoe30pOyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmltcG9ydCB7IGRlc2NyaWJlLCBQcm9wVHlwZXMgfSBmcm9tICdyZWFjdC1kZXNjJztcbmltcG9ydCB7IGdlbmVyaWNQcm9wcywgZ2V0QXZhaWxhYmxlQXRCYWRnZSB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmV4cG9ydCB2YXIgZG9jID0gZnVuY3Rpb24gZG9jKEFjY29yZGlvbikge1xuICB2YXIgRG9jdW1lbnRlZEFjY29yZGlvbiA9IGRlc2NyaWJlKEFjY29yZGlvbikuYXZhaWxhYmxlQXQoZ2V0QXZhaWxhYmxlQXRCYWRnZSgnQWNjb3JkaW9uJykpLmRlc2NyaXB0aW9uKCdBbiBhY2NvcmRpb24gY29udGFpbmluZyBjb2xsYXBzaWJsZSBwYW5lbHMuJykudXNhZ2UoXCJpbXBvcnQgeyBBY2NvcmRpb24sIEFjY29yZGlvblBhbmVsIH0gZnJvbSAnZ3JvbW1ldCc7XFxuPEFjY29yZGlvbj5cXG4gIDxBY2NvcmRpb25QYW5lbCBsYWJlbD0nUGFuZWwgMSc+Li4uPC9BY2NvcmRpb25QYW5lbD5cXG4gIDxBY2NvcmRpb25QYW5lbCBsYWJlbD0nUGFuZWwgMic+Li4uPC9BY2NvcmRpb25QYW5lbD5cXG48L0FjY29yZGlvbj5cIikuaW50cmluc2ljRWxlbWVudCgnZGl2Jyk7XG4gIERvY3VtZW50ZWRBY2NvcmRpb24ucHJvcFR5cGVzID0gX2V4dGVuZHMoe30sIGdlbmVyaWNQcm9wcywge1xuICAgIGFjdGl2ZUluZGV4OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMubnVtYmVyLCBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMubnVtYmVyKV0pLmRlc2NyaXB0aW9uKFwiQWN0aXZlIHBhbmVsIGluZGV4LiBJZiBzcGVjaWZpZWQsIEFjY29yZGlvbiB3aWxsIGJlIGEgY29udHJvbGxlZCBcXG5jb21wb25lbnQuIFRoaXMgbWVhbnMgdGhhdCBmdXR1cmUgcGFuZWwgY2hhbmdlcyB3aWxsIG5vdCB3b3JrIHVubGVzcyB5b3VcXG5zdWJzY3JpYmUgdG8gb25BY3RpdmUgZnVuY3Rpb24gYW5kIHVwZGF0ZSBhY3RpdmVJbmRleCBhY2NvcmRpbmdseS5cIikuZGVmYXVsdFZhbHVlKDApLFxuICAgIGFuaW1hdGU6IFByb3BUeXBlcy5ib29sLmRlc2NyaXB0aW9uKCdUcmFuc2l0aW9uIGNvbnRlbnQgaW4gJiBvdXQgd2l0aCBhIHNsaWRlIGRvd24gYW5pbWF0aW9uLicpLmRlZmF1bHRWYWx1ZSh0cnVlKSxcbiAgICBjaGlsZHJlbjogUHJvcFR5cGVzLm5vZGUuZGVzY3JpcHRpb24oJ0FycmF5IG9mIEFjY29yZGlvblBhbmVscy4nKSxcbiAgICBvbkFjdGl2ZTogUHJvcFR5cGVzLmZ1bmMuZGVzY3JpcHRpb24oXCJGdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIGFjdGl2ZSBpbmRleCBjaGFuZ2VzLlxcbkl0IHdpbGwgYWx3YXlzIHNlbmQgYW4gYXJyYXkgd2l0aCBjdXJyZW50bHkgYWN0aXZlIHBhbmVsIGluZGV4ZXMuXCIpLFxuICAgIG11bHRpcGxlOiBQcm9wVHlwZXMuYm9vbC5kZXNjcmlwdGlvbignQWxsb3cgbXVsdGlwbGUgcGFuZWxzIHRvIGJlIG9wZW5lZCBhdCBvbmNlLicpLmRlZmF1bHRWYWx1ZShmYWxzZSksXG4gICAgbWVzc2FnZXM6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICB0YWJDb250ZW50czogUHJvcFR5cGVzLnN0cmluZ1xuICAgIH0pLmRlc2NyaXB0aW9uKCdDdXN0b20gbWVzc2FnZXMgZm9yIFRhYnMuIFVzZWQgZm9yIGFjY2Vzc2liaWxpdHkgYnkgc2NyZWVuIHJlYWRlcnMuJykuZGVmYXVsdFZhbHVlKHtcbiAgICAgIHRhYkNvbnRlbnRzOiAnVGFiIENvbnRlbnRzJ1xuICAgIH0pXG4gIH0pO1xuICByZXR1cm4gRG9jdW1lbnRlZEFjY29yZGlvbjtcbn07IiwiZXhwb3J0IHsgQWNjb3JkaW9uIH0gZnJvbSAnLi9BY2NvcmRpb24nOyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY29tcG9zZSB9IGZyb20gJ3JlY29tcG9zZSc7XG5pbXBvcnQgeyB3aXRoVGhlbWUgfSBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBub3JtYWxpemVDb2xvciB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmltcG9ydCB7IGRlZmF1bHRQcm9wcyB9IGZyb20gJy4uLy4uL2RlZmF1bHQtcHJvcHMnO1xuaW1wb3J0IHsgQm94IH0gZnJvbSAnLi4vQm94JztcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJy4uL0J1dHRvbic7XG5pbXBvcnQgeyBDb2xsYXBzaWJsZSB9IGZyb20gJy4uL0NvbGxhcHNpYmxlJztcbmltcG9ydCB7IEhlYWRpbmcgfSBmcm9tICcuLi9IZWFkaW5nJztcbmltcG9ydCB7IHdpdGhGb3J3YXJkUmVmIH0gZnJvbSAnLi4vaG9jcyc7XG5pbXBvcnQgeyBBY2NvcmRpb25Db250ZXh0IH0gZnJvbSAnLi4vQWNjb3JkaW9uL0FjY29yZGlvbkNvbnRleHQnO1xuXG52YXIgQWNjb3JkaW9uUGFuZWwgPSBmdW5jdGlvbiBBY2NvcmRpb25QYW5lbChfcmVmKSB7XG4gIHZhciBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW4sXG4gICAgICBoZWFkZXIgPSBfcmVmLmhlYWRlcixcbiAgICAgIGxhYmVsID0gX3JlZi5sYWJlbCxcbiAgICAgIHRoZW1lID0gX3JlZi50aGVtZSxcbiAgICAgIG9uTW91c2VPdXQgPSBfcmVmLm9uTW91c2VPdXQsXG4gICAgICBvbk1vdXNlT3ZlciA9IF9yZWYub25Nb3VzZU92ZXIsXG4gICAgICBvbkZvY3VzID0gX3JlZi5vbkZvY3VzLFxuICAgICAgb25CbHVyID0gX3JlZi5vbkJsdXIsXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZiwgW1wiY2hpbGRyZW5cIiwgXCJoZWFkZXJcIiwgXCJsYWJlbFwiLCBcInRoZW1lXCIsIFwib25Nb3VzZU91dFwiLCBcIm9uTW91c2VPdmVyXCIsIFwib25Gb2N1c1wiLCBcIm9uQmx1clwiXSk7XG5cbiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKHVuZGVmaW5lZCksXG4gICAgICBob3ZlciA9IF91c2VTdGF0ZVswXSxcbiAgICAgIHNldEhvdmVyID0gX3VzZVN0YXRlWzFdO1xuXG4gIHZhciBpY29uQ29sb3IgPSBub3JtYWxpemVDb2xvcih0aGVtZS5hY2NvcmRpb24uaWNvbnMuY29sb3IgfHwgJ2NvbnRyb2wnLCB0aGVtZSk7XG5cbiAgdmFyIG9uSGFuZGxlTW91c2VPdmVyID0gZnVuY3Rpb24gb25IYW5kbGVNb3VzZU92ZXIoKSB7XG4gICAgdmFyIGRhcmsgPSB0aGVtZS5kYXJrO1xuICAgIHNldEhvdmVyKGRhcmsgPyAnbGlnaHQtNCcgOiAnZGFyay0zJyk7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgaWYgKG9uTW91c2VPdmVyKSBvbk1vdXNlT3ZlcihhcmdzKTtcbiAgfTtcblxuICB2YXIgb25IYW5kbGVNb3VzZU91dCA9IGZ1bmN0aW9uIG9uSGFuZGxlTW91c2VPdXQoKSB7XG4gICAgc2V0SG92ZXIodW5kZWZpbmVkKTtcblxuICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMiksIF9rZXkyID0gMDsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgYXJnc1tfa2V5Ml0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgIH1cblxuICAgIGlmIChvbk1vdXNlT3V0KSBvbk1vdXNlT3V0KGFyZ3MpO1xuICB9O1xuXG4gIHZhciBvbkhhbmRsZUZvY3VzID0gZnVuY3Rpb24gb25IYW5kbGVGb2N1cygpIHtcbiAgICB2YXIgZGFyayA9IHRoZW1lLmRhcms7XG4gICAgc2V0SG92ZXIoZGFyayA/ICdsaWdodC00JyA6ICdkYXJrLTMnKTtcblxuICAgIGZvciAodmFyIF9sZW4zID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMyksIF9rZXkzID0gMDsgX2tleTMgPCBfbGVuMzsgX2tleTMrKykge1xuICAgICAgYXJnc1tfa2V5M10gPSBhcmd1bWVudHNbX2tleTNdO1xuICAgIH1cblxuICAgIGlmIChvbkZvY3VzKSBvbkZvY3VzKGFyZ3MpO1xuICB9O1xuXG4gIHZhciBvbkhhbmRsZUJsdXIgPSBmdW5jdGlvbiBvbkhhbmRsZUJsdXIoKSB7XG4gICAgc2V0SG92ZXIodW5kZWZpbmVkKTtcblxuICAgIGZvciAodmFyIF9sZW40ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuNCksIF9rZXk0ID0gMDsgX2tleTQgPCBfbGVuNDsgX2tleTQrKykge1xuICAgICAgYXJnc1tfa2V5NF0gPSBhcmd1bWVudHNbX2tleTRdO1xuICAgIH1cblxuICAgIGlmIChvbkJsdXIpIG9uQmx1cihhcmdzKTtcbiAgfTtcblxuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChBY2NvcmRpb25Db250ZXh0LkNvbnN1bWVyLCBudWxsLCBmdW5jdGlvbiAocGFuZWxDb250ZXh0KSB7XG4gICAgdmFyIGFjdGl2ZSA9IHBhbmVsQ29udGV4dC5hY3RpdmUsXG4gICAgICAgIGFuaW1hdGUgPSBwYW5lbENvbnRleHQuYW5pbWF0ZSxcbiAgICAgICAgb25QYW5lbENoYW5nZSA9IHBhbmVsQ29udGV4dC5vblBhbmVsQ2hhbmdlO1xuICAgIHZhciBBY2NvcmRpb25JY29uID0gYWN0aXZlID8gdGhlbWUuYWNjb3JkaW9uLmljb25zLmNvbGxhcHNlIDogdGhlbWUuYWNjb3JkaW9uLmljb25zLmV4cGFuZDtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChCb3gsIHtcbiAgICAgIGZsZXg6IGZhbHNlXG4gICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtcbiAgICAgIHJvbGU6IFwidGFiXCIsXG4gICAgICBcImFyaWEtc2VsZWN0ZWRcIjogYWN0aXZlLFxuICAgICAgXCJhcmlhLWV4cGFuZGVkXCI6IGFjdGl2ZSxcbiAgICAgIG9uQ2xpY2s6IG9uUGFuZWxDaGFuZ2UsXG4gICAgICBvbk1vdXNlT3Zlcjogb25IYW5kbGVNb3VzZU92ZXIsXG4gICAgICBvbk1vdXNlT3V0OiBvbkhhbmRsZU1vdXNlT3V0LFxuICAgICAgb25Gb2N1czogb25IYW5kbGVGb2N1cyxcbiAgICAgIG9uQmx1cjogb25IYW5kbGVCbHVyXG4gICAgfSwgaGVhZGVyIHx8IFJlYWN0LmNyZWF0ZUVsZW1lbnQoQm94LCBfZXh0ZW5kcyh7XG4gICAgICBhbGlnbjogXCJjZW50ZXJcIixcbiAgICAgIGRpcmVjdGlvbjogXCJyb3dcIixcbiAgICAgIGp1c3RpZnk6IFwiYmV0d2VlblwiXG4gICAgfSwgcmVzdCksIHR5cGVvZiBsYWJlbCA9PT0gJ3N0cmluZycgPyBSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwge1xuICAgICAgcGFkOiB7XG4gICAgICAgIGhvcml6b250YWw6ICd4c21hbGwnXG4gICAgICB9XG4gICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChIZWFkaW5nLCB7XG4gICAgICBsZXZlbDogdGhlbWUuYWNjb3JkaW9uLmhlYWRpbmcgJiYgdGhlbWUuYWNjb3JkaW9uLmhlYWRpbmcubGV2ZWwgfHwgNCxcbiAgICAgIGNvbG9yOiBob3ZlclxuICAgIH0sIGxhYmVsKSkgOiBsYWJlbCwgQWNjb3JkaW9uSWNvbiAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwge1xuICAgICAgcGFkOiB7XG4gICAgICAgIGhvcml6b250YWw6ICdzbWFsbCdcbiAgICAgIH1cbiAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KEFjY29yZGlvbkljb24sIHtcbiAgICAgIGNvbG9yOiBpY29uQ29sb3JcbiAgICB9KSkpKSwgUmVhY3QuY3JlYXRlRWxlbWVudChCb3gsIHtcbiAgICAgIGJvcmRlcjogdGhlbWUuYWNjb3JkaW9uLmJvcmRlclxuICAgIH0sIGFuaW1hdGUgPyBSZWFjdC5jcmVhdGVFbGVtZW50KENvbGxhcHNpYmxlLCB7XG4gICAgICBvcGVuOiBhY3RpdmVcbiAgICB9LCBjaGlsZHJlbikgOiBhY3RpdmUgJiYgY2hpbGRyZW4pKTtcbiAgfSk7XG59O1xuXG5BY2NvcmRpb25QYW5lbC5kZWZhdWx0UHJvcHMgPSB7fTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihBY2NvcmRpb25QYW5lbC5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG52YXIgQWNjb3JkaW9uUGFuZWxEb2M7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBnbG9iYWwtcmVxdWlyZVxuICBBY2NvcmRpb25QYW5lbERvYyA9IHJlcXVpcmUoJy4vZG9jJykuZG9jKEFjY29yZGlvblBhbmVsKTtcbn1cblxudmFyIEFjY29yZGlvblBhbmVsV3JhcHBlciA9IGNvbXBvc2Uod2l0aFRoZW1lLCB3aXRoRm9yd2FyZFJlZikoQWNjb3JkaW9uUGFuZWxEb2MgfHwgQWNjb3JkaW9uUGFuZWwpO1xuZXhwb3J0IHsgQWNjb3JkaW9uUGFuZWxXcmFwcGVyIGFzIEFjY29yZGlvblBhbmVsIH07IiwiaW1wb3J0IHsgZGVzY3JpYmUsIFByb3BUeXBlcyB9IGZyb20gJ3JlYWN0LWRlc2MnO1xuZXhwb3J0IGZ1bmN0aW9uIGRvYyhQYW5lbCkge1xuICB2YXIgRG9jdW1lbnRlZEFjY29yZGlvblBhbmVsID0gZGVzY3JpYmUoUGFuZWwpLmRlc2NyaXB0aW9uKCdBbiBBY2NvcmRpb24gcGFuZWwuJykuaW50cmluc2ljRWxlbWVudCgnZGl2Jyk7XG4gIERvY3VtZW50ZWRBY2NvcmRpb25QYW5lbC5wcm9wVHlwZXMgPSB7XG4gICAgbGFiZWw6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5ub2RlXSkuZGVzY3JpcHRpb24oJ1RoZSBwYW5lbCBsYWJlbC4nKSxcbiAgICBoZWFkZXI6IFByb3BUeXBlcy5ub2RlLmRlc2NyaXB0aW9uKCdJZiBzcGVjaWZpZWQsIHRoZSBlbnRpcmUgcGFuZWwgaGVhZGVyIHdpbGwgYmUgbWFuYWdlZCBieSB0aGUgY2FsbGVyLicpXG4gIH07XG4gIHJldHVybiBEb2N1bWVudGVkQWNjb3JkaW9uUGFuZWw7XG59XG5leHBvcnQgdmFyIHRoZW1lRG9jID0ge1xuICAnYWNjb3JkaW9uLmhlYWRpbmcubGV2ZWwnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgaGVhZGluZyBsZXZlbCB1c2VkIGZvciB0aGUgYWNjb3JkaW9uLicsXG4gICAgdHlwZTogJ251bWJlcicsXG4gICAgZGVmYXVsdFZhbHVlOiAnNCdcbiAgfSxcbiAgJ2FjY29yZGlvbi5pY29ucy5jb2xsYXBzZSc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBpY29uIHRvIHVzZSB3aGVuIHRoZSBwYW5lbCBpcyBleHBhbmRlZC4nLFxuICAgIHR5cGU6ICdSZWFjdC5FbGVtZW50JyxcbiAgICBkZWZhdWx0VmFsdWU6ICc8Rm9ybVVwIC8+J1xuICB9LFxuICAnYWNjb3JkaW9uLmljb25zLmNvbG9yJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGljb24gY29sb3IgdG8gdXNlIGluIHRoZSBhY2NvcmRpb24uJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgeyBkYXJrOiBzdHJpbmcsIGxpZ2h0OiBzdHJpbmcgfScsXG4gICAgZGVmYXVsdFZhbHVlOiAnY29udHJvbCdcbiAgfSxcbiAgJ2FjY29yZGlvbi5pY29ucy5leHBhbmQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgaWNvbiB0byB1c2Ugd2hlbiB0aGUgcGFuZWwgaXMgY29sbGFwc2VkLicsXG4gICAgdHlwZTogJ1JlYWN0LkVsZW1lbnQnLFxuICAgIGRlZmF1bHRWYWx1ZTogJzxGb3JtRG93biAvPidcbiAgfSxcbiAgJ2FjY29yZGlvbi5ib3JkZXIuY29sb3InOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgYm9yZGVyIGNvbG9yIHRvIHVzZSBpbiB0aGUgYWNjb3JkaW9uLicsXG4gICAgdHlwZTogJ3N0cmluZyB8IHsgZGFyazogc3RyaW5nLCBsaWdodDogc3RyaW5nIH0nLFxuICAgIGRlZmF1bHRWYWx1ZTogJ2JvcmRlcidcbiAgfSxcbiAgJ2FjY29yZGlvbi5ib3JkZXIuc2lkZSc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBib3JkZXIgc2lkZSB0byB1c2UgaW4gdGhlIGFjY29yZGlvbi4nLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogJ2JvdHRvbSdcbiAgfVxufTsiLCJleHBvcnQgeyBBY2NvcmRpb25QYW5lbCB9IGZyb20gJy4vQWNjb3JkaW9uUGFuZWwnOyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuaW1wb3J0IFJlYWN0LCB7IGNsb25lRWxlbWVudCwgZm9yd2FyZFJlZiwgdXNlQ29udGV4dCwgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFRoZW1lQ29udGV4dCB9IGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCB7IGRlZmF1bHRQcm9wcyB9IGZyb20gJy4uLy4uL2RlZmF1bHQtcHJvcHMnO1xuaW1wb3J0IHsgbm9ybWFsaXplQ29sb3IgfSBmcm9tICcuLi8uLi91dGlscyc7XG5pbXBvcnQgeyBCb3ggfSBmcm9tICcuLi9Cb3gnO1xuaW1wb3J0IHsgU3R5bGVkQW5jaG9yIH0gZnJvbSAnLi9TdHlsZWRBbmNob3InO1xudmFyIEFuY2hvciA9IGZvcndhcmRSZWYoZnVuY3Rpb24gKF9yZWYsIHJlZikge1xuICB2YXIgYTExeVRpdGxlID0gX3JlZi5hMTF5VGl0bGUsXG4gICAgICBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW4sXG4gICAgICBjb2xvciA9IF9yZWYuY29sb3IsXG4gICAgICBkaXNhYmxlZCA9IF9yZWYuZGlzYWJsZWQsXG4gICAgICBocmVmID0gX3JlZi5ocmVmLFxuICAgICAgaWNvbiA9IF9yZWYuaWNvbixcbiAgICAgIGxhYmVsID0gX3JlZi5sYWJlbCxcbiAgICAgIF9vbkJsdXIgPSBfcmVmLm9uQmx1cixcbiAgICAgIG9uQ2xpY2sgPSBfcmVmLm9uQ2xpY2ssXG4gICAgICBfb25Gb2N1cyA9IF9yZWYub25Gb2N1cyxcbiAgICAgIHJldmVyc2UgPSBfcmVmLnJldmVyc2UsXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZiwgW1wiYTExeVRpdGxlXCIsIFwiY2hpbGRyZW5cIiwgXCJjb2xvclwiLCBcImRpc2FibGVkXCIsIFwiaHJlZlwiLCBcImljb25cIiwgXCJsYWJlbFwiLCBcIm9uQmx1clwiLCBcIm9uQ2xpY2tcIiwgXCJvbkZvY3VzXCIsIFwicmV2ZXJzZVwiXSk7XG5cbiAgdmFyIHRoZW1lID0gdXNlQ29udGV4dChUaGVtZUNvbnRleHQpIHx8IGRlZmF1bHRQcm9wcy50aGVtZTtcblxuICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUoKSxcbiAgICAgIGZvY3VzID0gX3VzZVN0YXRlWzBdLFxuICAgICAgc2V0Rm9jdXMgPSBfdXNlU3RhdGVbMV07XG5cbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoKGljb24gfHwgbGFiZWwpICYmIGNoaWxkcmVuKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ0FuY2hvciBzaG91bGQgbm90IGhhdmUgY2hpbGRyZW4gaWYgaWNvbiBvciBsYWJlbCBpcyBwcm92aWRlZCcpO1xuICAgIH1cbiAgfSwgW2NoaWxkcmVuLCBpY29uLCBsYWJlbF0pO1xuICB2YXIgY29sb3JlZEljb24gPSBpY29uO1xuXG4gIGlmIChpY29uICYmICFpY29uLnByb3BzLmNvbG9yKSB7XG4gICAgY29sb3JlZEljb24gPSBjbG9uZUVsZW1lbnQoaWNvbiwge1xuICAgICAgY29sb3I6IG5vcm1hbGl6ZUNvbG9yKGNvbG9yIHx8IHRoZW1lLmFuY2hvci5jb2xvciwgdGhlbWUpXG4gICAgfSk7XG4gIH1cblxuICB2YXIgZmlyc3QgPSByZXZlcnNlID8gbGFiZWwgOiBjb2xvcmVkSWNvbjtcbiAgdmFyIHNlY29uZCA9IHJldmVyc2UgPyBjb2xvcmVkSWNvbiA6IGxhYmVsO1xuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWRBbmNob3IsIF9leHRlbmRzKHt9LCByZXN0LCB7XG4gICAgcmVmOiByZWYsXG4gICAgXCJhcmlhLWxhYmVsXCI6IGExMXlUaXRsZSxcbiAgICBjb2xvclByb3A6IGNvbG9yLFxuICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICBoYXNJY29uOiAhIWljb24sXG4gICAgZm9jdXM6IGZvY3VzLFxuICAgIGhhc0xhYmVsOiBsYWJlbCxcbiAgICByZXZlcnNlOiByZXZlcnNlLFxuICAgIGhyZWY6ICFkaXNhYmxlZCA/IGhyZWYgOiB1bmRlZmluZWQsXG4gICAgb25DbGljazogIWRpc2FibGVkID8gb25DbGljayA6IHVuZGVmaW5lZCxcbiAgICBvbkZvY3VzOiBmdW5jdGlvbiBvbkZvY3VzKGV2ZW50KSB7XG4gICAgICBzZXRGb2N1cyh0cnVlKTtcbiAgICAgIGlmIChfb25Gb2N1cykgX29uRm9jdXMoZXZlbnQpO1xuICAgIH0sXG4gICAgb25CbHVyOiBmdW5jdGlvbiBvbkJsdXIoZXZlbnQpIHtcbiAgICAgIHNldEZvY3VzKGZhbHNlKTtcbiAgICAgIGlmIChfb25CbHVyKSBfb25CbHVyKGV2ZW50KTtcbiAgICB9XG4gIH0pLCBmaXJzdCAmJiBzZWNvbmQgPyBSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwge1xuICAgIGFzOiBcInNwYW5cIixcbiAgICBkaXJlY3Rpb246IFwicm93XCIsXG4gICAgYWxpZ246IFwiY2VudGVyXCIsXG4gICAgZ2FwOiBcInNtYWxsXCIsXG4gICAgc3R5bGU6IHtcbiAgICAgIGRpc3BsYXk6ICdpbmxpbmUtZmxleCdcbiAgICB9XG4gIH0sIGZpcnN0LCBzZWNvbmQpIDogZmlyc3QgfHwgc2Vjb25kIHx8IGNoaWxkcmVuKTtcbn0pO1xuQW5jaG9yLmRpc3BsYXlOYW1lID0gJ0FuY2hvcic7XG52YXIgQW5jaG9yRG9jO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZ2xvYmFsLXJlcXVpcmVcbiAgQW5jaG9yRG9jID0gcmVxdWlyZSgnLi9kb2MnKS5kb2MoQW5jaG9yKTtcbn1cblxudmFyIEFuY2hvcldyYXBwZXIgPSBBbmNob3JEb2MgfHwgQW5jaG9yO1xuZXhwb3J0IHsgQW5jaG9yV3JhcHBlciBhcyBBbmNob3IgfTsiLCJpbXBvcnQgc3R5bGVkLCB7IGNzcyB9IGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCB7IGZvY3VzU3R5bGUsIGdlbmVyaWNTdHlsZXMsIG5vcm1hbGl6ZUNvbG9yIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuaW1wb3J0IHsgZGVmYXVsdFByb3BzIH0gZnJvbSAnLi4vLi4vZGVmYXVsdC1wcm9wcyc7XG52YXIgZGlzYWJsZWRTdHlsZSA9IFwiXFxuICBvcGFjaXR5OiAwLjM7XFxuICBjdXJzb3I6IGRlZmF1bHQ7XFxuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XFxuXCI7XG5cbnZhciBzaXplU3R5bGUgPSBmdW5jdGlvbiBzaXplU3R5bGUocHJvcHMpIHtcbiAgaWYgKHByb3BzLnNpemUpIHtcbiAgICB2YXIgc2l6ZSA9IHByb3BzLnNpemUgfHwgJ21lZGl1bSc7XG4gICAgdmFyIGRhdGEgPSBwcm9wcy50aGVtZS50ZXh0W3NpemVdO1xuICAgIHJldHVybiBjc3MoW1wiZm9udC1zaXplOlwiLCBcIjtsaW5lLWhlaWdodDpcIiwgXCI7XCJdLCBkYXRhLnNpemUsIGRhdGEuaGVpZ2h0KTtcbiAgfVxuXG4gIHJldHVybiBjc3MoW1wiZm9udC1zaXplOmluaGVyaXQ7bGluZS1oZWlnaHQ6aW5oZXJpdDtcIl0pO1xufTtcblxudmFyIFN0eWxlZEFuY2hvciA9IHN0eWxlZC5hLndpdGhDb25maWcoe1xuICBkaXNwbGF5TmFtZTogXCJTdHlsZWRBbmNob3JcIixcbiAgY29tcG9uZW50SWQ6IFwic2MtMXJwN2x3bC0wXCJcbn0pKFtcImJveC1zaXppbmc6Ym9yZGVyLWJveDtcIiwgXCIgY29sb3I6XCIsIFwiO1wiLCBcIiB0ZXh0LWRlY29yYXRpb246XCIsIFwiO2N1cnNvcjpwb2ludGVyO291dGxpbmU6bm9uZTtcIiwgXCIgXCIsIFwiIFwiLCBcIiBcIiwgXCIgXCIsIFwiIFwiLCBcIlwiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBzaXplU3R5bGUocHJvcHMpO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBub3JtYWxpemVDb2xvcihwcm9wcy5jb2xvclByb3AgfHwgcHJvcHMudGhlbWUuYW5jaG9yLmNvbG9yLCBwcm9wcy50aGVtZSk7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLmFuY2hvci5mb250V2VpZ2h0ICYmIFwiZm9udC13ZWlnaHQ6IFwiICsgcHJvcHMudGhlbWUuYW5jaG9yLmZvbnRXZWlnaHQgKyBcIjtcIjtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuaGFzSWNvbiA/ICdub25lJyA6IHByb3BzLnRoZW1lLmFuY2hvci50ZXh0RGVjb3JhdGlvbjtcbn0sIGdlbmVyaWNTdHlsZXMsIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gIXByb3BzLmRpc2FibGVkICYmIHByb3BzLnRoZW1lLmFuY2hvci5ob3ZlciAmJiBjc3MoW1wiJjpob3ZlcntcIiwgXCIgXCIsIFwiIFwiLCBcIn1cIl0sIHByb3BzLnRoZW1lLmFuY2hvci5ob3Zlci50ZXh0RGVjb3JhdGlvbiAmJiBcInRleHQtZGVjb3JhdGlvbjogXCIgKyBwcm9wcy50aGVtZS5hbmNob3IuaG92ZXIudGV4dERlY29yYXRpb24gKyBcIjtcIiwgcHJvcHMudGhlbWUuYW5jaG9yLmhvdmVyLmZvbnRXZWlnaHQgJiYgXCJmb250LXdlaWdodDogXCIgKyBwcm9wcy50aGVtZS5hbmNob3IuaG92ZXIuZm9udFdlaWdodCArIFwiO1wiLCBwcm9wcy50aGVtZS5hbmNob3IuaG92ZXIuZXh0ZW5kKTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuaGFzSWNvbiAmJiAhcHJvcHMuaGFzTGFiZWwgJiYgXCJcXG4gICAgcGFkZGluZzogXCIgKyBwcm9wcy50aGVtZS5nbG9iYWwuZWRnZVNpemUuc21hbGwgKyBcIjtcXG4gIFwiO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5kaXNhYmxlZCAmJiBkaXNhYmxlZFN0eWxlO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5mb2N1cyAmJiBmb2N1c1N0eWxlO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5hbmNob3IuZXh0ZW5kO1xufSk7XG5TdHlsZWRBbmNob3IuZGVmYXVsdFByb3BzID0ge307XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoU3R5bGVkQW5jaG9yLmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbmV4cG9ydCB7IFN0eWxlZEFuY2hvciB9OyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmltcG9ydCB7IGRlc2NyaWJlLCBQcm9wVHlwZXMgfSBmcm9tICdyZWFjdC1kZXNjJztcbmltcG9ydCB7IGNvbG9yUHJvcFR5cGUsIGdlbmVyaWNQcm9wcywgZ2V0QXZhaWxhYmxlQXRCYWRnZSwgdGhlbWVEb2NVdGlscyB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmV4cG9ydCB2YXIgZG9jID0gZnVuY3Rpb24gZG9jKEFuY2hvcikge1xuICB2YXIgRG9jdW1lbnRlZEFuY2hvciA9IGRlc2NyaWJlKEFuY2hvcikuYXZhaWxhYmxlQXQoZ2V0QXZhaWxhYmxlQXRCYWRnZSgnQW5jaG9yJykpLmRlc2NyaXB0aW9uKCdBIHRleHQgbGluay4nKS5kZXRhaWxzKFwiV2UgaGF2ZSBhIHNlcGFyYXRlIGNvbXBvbmVudCBmcm9tIHRoZSBicm93c2VyXFxuYmFzZSBzbyB3ZSBjYW4gc3R5bGUgaXQuIFlvdSBjYW4gZWl0aGVyIHNldCB0aGUgaWNvbiBhbmQvb3IgbGFiZWwgcHJvcGVydGllc1xcbm9yIGp1c3QgdXNlIGNoaWxkcmVuLlwiKS51c2FnZShcImltcG9ydCB7IEFuY2hvciB9IGZyb20gJ2dyb21tZXQnO1xcblwiICsgXCI8QW5jaG9yIGhyZWY9e2xvY2F0aW9ufSBsYWJlbD0nTGFiZWwnIC8+XCIpLmludHJpbnNpY0VsZW1lbnQoJ2EnKTtcbiAgRG9jdW1lbnRlZEFuY2hvci5wcm9wVHlwZXMgPSBfZXh0ZW5kcyh7fSwgZ2VuZXJpY1Byb3BzLCB7XG4gICAgYTExeVRpdGxlOiBQcm9wVHlwZXMuc3RyaW5nLmRlc2NyaXB0aW9uKCdDdXN0b20gdGl0bGUgdG8gYmUgdXNlZCBieSBzY3JlZW4gcmVhZGVycy4nKSxcbiAgICBjb2xvcjogY29sb3JQcm9wVHlwZS5kZXNjcmlwdGlvbignTGFiZWwgY29sb3IgYW5kIGljb24gY29sb3IsIGlmIG5vdCBzcGVjaWZpZWQgb24gdGhlIGljb24uJyksXG4gICAgZGlzYWJsZWQ6IFByb3BUeXBlcy5ib29sLmRlc2NyaXB0aW9uKCdXaGV0aGVyIHRoZSBhbmNob3IgaXMgZGlzYWJsZWQuJykuZGVmYXVsdFZhbHVlKGZhbHNlKSxcbiAgICBocmVmOiBQcm9wVHlwZXMuc3RyaW5nLmRlc2NyaXB0aW9uKCdIeXBlcmxpbmsgcmVmZXJlbmNlIHRvIHBsYWNlIGluIHRoZSBhbmNob3IuJyksXG4gICAgaWNvbjogUHJvcFR5cGVzLmVsZW1lbnQuZGVzY3JpcHRpb24oJ0ljb24gZWxlbWVudCB0byBwbGFjZSBpbiB0aGUgYW5jaG9yLicpLFxuICAgIGxhYmVsOiBQcm9wVHlwZXMubm9kZS5kZXNjcmlwdGlvbignTGFiZWwgdGV4dCB0byBwbGFjZSBpbiB0aGUgYW5jaG9yLicpLFxuICAgIG9uQ2xpY2s6IFByb3BUeXBlcy5mdW5jLmRlc2NyaXB0aW9uKFwiQ2xpY2sgaGFuZGxlci4gSXQgY2FuIGJlIHVzZWQsIGZvciBleGFtcGxlLFxcbiAgICAgICAgdG8gYWRkIGFuYWx5dGljcyBhbmQgdHJhY2sgd2hvIGNsaWNrZWQgaW4gdGhlIGFuY2hvci5cIiksXG4gICAgcmV2ZXJzZTogUHJvcFR5cGVzLmJvb2wuZGVzY3JpcHRpb24oXCJXaGV0aGVyIGFuIGljb24gYW5kIGxhYmVsIHNob3VsZCBiZSByZXZlcnNlZCBzbyB0aGF0IHRoZVxcbiAgICAgICAgaWNvbiBpcyBhdCB0aGUgZW5kIG9mIHRoZSBhbmNob3IuXCIpLmRlZmF1bHRWYWx1ZShmYWxzZSksXG4gICAgc2l6ZTogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFsneHNtYWxsJywgJ3NtYWxsJywgJ21lZGl1bScsICdsYXJnZScsICd4bGFyZ2UnLCAneHhsYXJnZSddKSwgUHJvcFR5cGVzLnN0cmluZ10pLmRlc2NyaXB0aW9uKFwiVGhlIGZvbnQgc2l6ZSBpcyB0eXBpY2FsbHkgZHJpdmVuIGJ5IHRoZSBjb21wb25lbnRzIGNvbnRhaW5pbmdcXG50aGlzIGNvbXBvbmVudC4gQnV0LCBpdCBjYW4gYmUgYWRqdXN0ZWQgZGlyZWN0bHkgdmlhIHRoaXMgc2l6ZSBwcm9wZXJ0eSxcXG50eXBpY2FsbHkgd2hlbiBpdCBpcyBub3QgY29udGFpbmVkIGluIGEgJ0hlYWRpbmcnLCAnUGFyYWdyYXBoJywgb3IgJ1RleHQnLlwiKSxcbiAgICBhczogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLmZ1bmNdKS5kZXNjcmlwdGlvbihcIlRoZSBET00gdGFnIG9yIHJlYWN0IGNvbXBvbmVudCB0byB1c2UgZm9yIHRoZSBlbGVtZW50LlwiKVxuICB9KTtcbiAgcmV0dXJuIERvY3VtZW50ZWRBbmNob3I7XG59O1xuZXhwb3J0IHZhciB0aGVtZURvYyA9IF9leHRlbmRzKHtcbiAgJ2FuY2hvci5jb2xvcic6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBjb2xvciBvZiB0aGUgbGFiZWwgdGV4dCBhbmQgaWNvbiBzdHJva2VzLicsXG4gICAgdHlwZTogJ3N0cmluZyB8IHsgZGFyazogc3RyaW5nLCBsaWdodDogc3RyaW5nIH0nLFxuICAgIGRlZmF1bHRWYWx1ZTogXCJ7IGxpZ2h0OiAnIzFENjdFMycsIGRhcms6ICcjNjE5NEVCJyB9XCJcbiAgfSxcbiAgJ2FuY2hvci5mb250V2VpZ2h0Jzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGZvbnQgd2VpZ2h0IG9mIHRoZSBsYWJlbC4nLFxuICAgIHR5cGU6ICdudW1iZXInLFxuICAgIGRlZmF1bHRWYWx1ZTogNjAwXG4gIH0sXG4gICdhbmNob3IudGV4dERlY29yYXRpb24nOiB7XG4gICAgZGVzY3JpcHRpb246IFwiVGhlIHRleHQgZGVjb3JhdGlvbiBvZiB0aGUgbGFiZWwuIFxcblJlZmVyIHRvIFtNRE5dKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0NTUy90ZXh0LWRlY29yYXRpb24pXFxuZm9yIHBvc3NpYmxlIHZhbHVlcy5cIixcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICdub25lJ1xuICB9LFxuICAnYW5jaG9yLmhvdmVyLmZvbnRXZWlnaHQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgZm9udCB3ZWlnaHQgb2YgdGhlIGxhYmVsIHdoZW4gaG92ZXJpbmcuJyxcbiAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICBkZWZhdWx0VmFsdWU6IHVuZGVmaW5lZFxuICB9LFxuICAnYW5jaG9yLmhvdmVyLnRleHREZWNvcmF0aW9uJzoge1xuICAgIGRlc2NyaXB0aW9uOiBcIlRoZSB0ZXh0IGRlY29yYXRpb24gb2YgdGhlIGxhYmVsIHdoZW4gaG92ZXJpbmcuIFxcblJlZmVyIHRvIFtNRE5dKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0NTUy90ZXh0LWRlY29yYXRpb24pXFxuZm9yIHBvc3NpYmxlIHZhbHVlcy5cIixcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICd1bmRlcmxpbmUnXG4gIH0sXG4gICdhbmNob3IuaG92ZXIuZXh0ZW5kJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnQW55IGFkZGl0aW9uYWwgc3R5bGUgZm9yIHRoZSBBbmNob3Igd2hlbiBob3ZlcmluZy4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCAocHJvcHMpID0+IHt9JyxcbiAgICBkZWZhdWx0VmFsdWU6IHVuZGVmaW5lZFxuICB9LFxuICAnYW5jaG9yLmV4dGVuZCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ0FueSBhZGRpdGlvbmFsIHN0eWxlIGZvciB0aGUgQW5jaG9yLicsXG4gICAgdHlwZTogJ3N0cmluZyB8IChwcm9wcykgPT4ge30nLFxuICAgIGRlZmF1bHRWYWx1ZTogdW5kZWZpbmVkXG4gIH0sXG4gICd0ZXh0Lm1lZGl1bS5zaXplJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGZvbnQgc2l6ZSBvZiB0aGUgdGV4dCBsYWJlbC4nLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogJzE4cHgnXG4gIH0sXG4gICd0ZXh0Lm1lZGl1bS5oZWlnaHQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgbGluZSBoZWlnaHQgb2YgdGhlIHRleHQgbGFiZWwuJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICcyNHB4J1xuICB9XG59LCB0aGVtZURvY1V0aWxzLmZvY3VzU3R5bGUsIHt9LCB0aGVtZURvY1V0aWxzLmVkZ2VTdHlsZSgnVGhlIHBvc3NpYmxlIHNpemVzIGZvciBtYXJnaW4uJykpOyIsImV4cG9ydCB7IEFuY2hvciB9IGZyb20gJy4vQW5jaG9yJzsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmltcG9ydCBSZWFjdCwgeyBDaGlsZHJlbiwgZm9yd2FyZFJlZiwgdXNlQ29udGV4dCwgdXNlTWVtbywgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBUaGVtZUNvbnRleHQgfSBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBkZWZhdWx0UHJvcHMgfSBmcm9tICcuLi8uLi9kZWZhdWx0LXByb3BzJztcbmltcG9ydCB7IGJhY2tncm91bmRJc0RhcmsgfSBmcm9tICcuLi8uLi91dGlscyc7XG5pbXBvcnQgeyBLZXlib2FyZCB9IGZyb20gJy4uL0tleWJvYXJkJztcbmltcG9ydCB7IFN0eWxlZEJveCwgU3R5bGVkQm94R2FwIH0gZnJvbSAnLi9TdHlsZWRCb3gnO1xudmFyIEJveCA9IGZvcndhcmRSZWYoZnVuY3Rpb24gKF9yZWYsIHJlZikge1xuICB2YXIgYTExeVRpdGxlID0gX3JlZi5hMTF5VGl0bGUsXG4gICAgICBiYWNrZ3JvdW5kID0gX3JlZi5iYWNrZ3JvdW5kLFxuICAgICAgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuLFxuICAgICAgX3JlZiRkaXJlY3Rpb24gPSBfcmVmLmRpcmVjdGlvbixcbiAgICAgIGRpcmVjdGlvbiA9IF9yZWYkZGlyZWN0aW9uID09PSB2b2lkIDAgPyAnY29sdW1uJyA6IF9yZWYkZGlyZWN0aW9uLFxuICAgICAgZWxldmF0aW9uID0gX3JlZi5lbGV2YXRpb24sXG4gICAgICBmaWxsID0gX3JlZi5maWxsLFxuICAgICAgZ2FwID0gX3JlZi5nYXAsXG4gICAgICBfb25CbHVyID0gX3JlZi5vbkJsdXIsXG4gICAgICBvbkNsaWNrID0gX3JlZi5vbkNsaWNrLFxuICAgICAgX29uRm9jdXMgPSBfcmVmLm9uRm9jdXMsXG4gICAgICBvdmVyZmxvdyA9IF9yZWYub3ZlcmZsb3csXG4gICAgICBfcmVmJHJlc3BvbnNpdmUgPSBfcmVmLnJlc3BvbnNpdmUsXG4gICAgICByZXNwb25zaXZlID0gX3JlZiRyZXNwb25zaXZlID09PSB2b2lkIDAgPyB0cnVlIDogX3JlZiRyZXNwb25zaXZlLFxuICAgICAgdGFnID0gX3JlZi50YWcsXG4gICAgICBhcyA9IF9yZWYuYXMsXG4gICAgICB3cmFwID0gX3JlZi53cmFwLFxuICAgICAgd2lkdGggPSBfcmVmLndpZHRoLFxuICAgICAgaGVpZ2h0ID0gX3JlZi5oZWlnaHQsXG4gICAgICB0YWJJbmRleCA9IF9yZWYudGFiSW5kZXgsXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZiwgW1wiYTExeVRpdGxlXCIsIFwiYmFja2dyb3VuZFwiLCBcImNoaWxkcmVuXCIsIFwiZGlyZWN0aW9uXCIsIFwiZWxldmF0aW9uXCIsIFwiZmlsbFwiLCBcImdhcFwiLCBcIm9uQmx1clwiLCBcIm9uQ2xpY2tcIiwgXCJvbkZvY3VzXCIsIFwib3ZlcmZsb3dcIiwgXCJyZXNwb25zaXZlXCIsIFwidGFnXCIsIFwiYXNcIiwgXCJ3cmFwXCIsIFwid2lkdGhcIiwgXCJoZWlnaHRcIiwgXCJ0YWJJbmRleFwiXSk7XG5cbiAgdmFyIHRoZW1lID0gdXNlQ29udGV4dChUaGVtZUNvbnRleHQpIHx8IGRlZmF1bHRQcm9wcy50aGVtZTtcbiAgdmFyIGZvY3VzYWJsZSA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBvbkNsaWNrICYmICEodGFiSW5kZXggPCAwKTtcbiAgfSwgW29uQ2xpY2ssIHRhYkluZGV4XSk7XG5cbiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKCksXG4gICAgICBmb2N1cyA9IF91c2VTdGF0ZVswXSxcbiAgICAgIHNldEZvY3VzID0gX3VzZVN0YXRlWzFdO1xuXG4gIHZhciBjbGlja1Byb3BzID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGZvY3VzYWJsZSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgb25DbGljazogb25DbGljayxcbiAgICAgICAgb25Gb2N1czogZnVuY3Rpb24gb25Gb2N1cyhldmVudCkge1xuICAgICAgICAgIHNldEZvY3VzKHRydWUpO1xuICAgICAgICAgIGlmIChfb25Gb2N1cykgX29uRm9jdXMoZXZlbnQpO1xuICAgICAgICB9LFxuICAgICAgICBvbkJsdXI6IGZ1bmN0aW9uIG9uQmx1cihldmVudCkge1xuICAgICAgICAgIHNldEZvY3VzKGZhbHNlKTtcbiAgICAgICAgICBpZiAoX29uQmx1cikgX29uQmx1cihldmVudCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgIGlmIChfb25CbHVyKSByZXN1bHQub25CbHVyID0gX29uQmx1cjtcbiAgICBpZiAob25DbGljaykgcmVzdWx0Lm9uQ2xpY2sgPSBvbkNsaWNrO1xuICAgIGlmIChfb25Gb2N1cykgcmVzdWx0Lm9uRm9jdXMgPSBfb25Gb2N1cztcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9LCBbZm9jdXNhYmxlLCBvbkNsaWNrLCBfb25Gb2N1cywgX29uQmx1cl0pO1xuICB2YXIgYWRqdXN0ZWRUYWJJbmRleCA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIGlmICh0YWJJbmRleCAhPT0gdW5kZWZpbmVkKSByZXR1cm4gdGFiSW5kZXg7XG4gICAgaWYgKGZvY3VzYWJsZSkgcmV0dXJuIDA7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfSwgW2ZvY3VzYWJsZSwgdGFiSW5kZXhdKTtcbiAgdmFyIGNvbnRlbnRzID0gY2hpbGRyZW47XG5cbiAgaWYgKGdhcCkge1xuICAgIGNvbnRlbnRzID0gW107XG4gICAgdmFyIGZpcnN0SW5kZXg7XG4gICAgQ2hpbGRyZW4uZm9yRWFjaChjaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkLCBpbmRleCkge1xuICAgICAgaWYgKGNoaWxkKSB7XG4gICAgICAgIGlmIChmaXJzdEluZGV4ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBmaXJzdEluZGV4ID0gaW5kZXg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29udGVudHMucHVzaChSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZEJveEdhcCAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3Qvbm8tYXJyYXktaW5kZXgta2V5XG4gICAgICAgICAgLCB7XG4gICAgICAgICAgICBrZXk6IFwiZ2FwLVwiICsgaW5kZXgsXG4gICAgICAgICAgICBnYXA6IGdhcCxcbiAgICAgICAgICAgIGRpcmVjdGlvblByb3A6IGRpcmVjdGlvbixcbiAgICAgICAgICAgIHJlc3BvbnNpdmU6IHJlc3BvbnNpdmVcbiAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29udGVudHMucHVzaChjaGlsZCk7XG4gICAgfSk7XG4gIH1cblxuICB2YXIgY29udGVudCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkQm94LCBfZXh0ZW5kcyh7XG4gICAgYXM6ICFhcyAmJiB0YWcgPyB0YWcgOiBhcyxcbiAgICBcImFyaWEtbGFiZWxcIjogYTExeVRpdGxlLFxuICAgIGJhY2tncm91bmQ6IGJhY2tncm91bmQsXG4gICAgcmVmOiByZWYsXG4gICAgZGlyZWN0aW9uUHJvcDogZGlyZWN0aW9uLFxuICAgIGVsZXZhdGlvblByb3A6IGVsZXZhdGlvbixcbiAgICBmaWxsUHJvcDogZmlsbCxcbiAgICBmb2N1czogZm9jdXMsXG4gICAgb3ZlcmZsb3dQcm9wOiBvdmVyZmxvdyxcbiAgICB3cmFwUHJvcDogd3JhcCxcbiAgICB3aWR0aFByb3A6IHdpZHRoLFxuICAgIGhlaWdodFByb3A6IGhlaWdodCxcbiAgICByZXNwb25zaXZlOiByZXNwb25zaXZlLFxuICAgIHRhYkluZGV4OiBhZGp1c3RlZFRhYkluZGV4XG4gIH0sIGNsaWNrUHJvcHMsIHJlc3QpLCBjb250ZW50cyk7XG5cbiAgaWYgKG9uQ2xpY2spIHtcbiAgICBjb250ZW50ID0gUmVhY3QuY3JlYXRlRWxlbWVudChLZXlib2FyZCwge1xuICAgICAgb25FbnRlcjogb25DbGlja1xuICAgIH0sIGNvbnRlbnQpO1xuICB9IC8vIFdoZW4gYSBCb3ggY2hhbmdlcyB0aGUgZGFya25lc3MsIGl0IHNldHMgZGFya0NoYW5nZWQgc28gdGhhdCBTdHlsZWRCb3hcbiAgLy8gY2FuIGtub3cgd2hhdCB0aGUgdW5kZXJseWluZyBkYXJrbmVzcyBpcyB3aGVuIGRlY2lkaW5nIHdoaWNoIGVsZXZhdGlvblxuICAvLyB0byBzaG93LlxuXG5cbiAgaWYgKGJhY2tncm91bmQgfHwgdGhlbWUuZGFya0NoYW5nZWQpIHtcbiAgICB2YXIgZGFyayA9IGJhY2tncm91bmRJc0RhcmsoYmFja2dyb3VuZCwgdGhlbWUpO1xuICAgIHZhciBkYXJrQ2hhbmdlZCA9IGRhcmsgIT09IHVuZGVmaW5lZCAmJiBkYXJrICE9PSB0aGVtZS5kYXJrO1xuXG4gICAgaWYgKGRhcmtDaGFuZ2VkIHx8IHRoZW1lLmRhcmtDaGFuZ2VkKSB7XG4gICAgICBkYXJrID0gZGFyayA9PT0gdW5kZWZpbmVkID8gdGhlbWUuZGFyayA6IGRhcms7XG4gICAgICBjb250ZW50ID0gUmVhY3QuY3JlYXRlRWxlbWVudChUaGVtZUNvbnRleHQuUHJvdmlkZXIsIHtcbiAgICAgICAgdmFsdWU6IF9leHRlbmRzKHt9LCB0aGVtZSwge1xuICAgICAgICAgIGRhcms6IGRhcmssXG4gICAgICAgICAgZGFya0NoYW5nZWQ6IGRhcmtDaGFuZ2VkXG4gICAgICAgIH0pXG4gICAgICB9LCBjb250ZW50KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gY29udGVudDtcbn0pO1xuQm94LmRpc3BsYXlOYW1lID0gJ0JveCc7XG52YXIgQm94RG9jO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBCb3hEb2MgPSByZXF1aXJlKCcuL2RvYycpLmRvYyhCb3gpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGdsb2JhbC1yZXF1aXJlXG59XG5cbnZhciBCb3hXcmFwcGVyID0gQm94RG9jIHx8IEJveDtcbmV4cG9ydCB7IEJveFdyYXBwZXIgYXMgQm94IH07IiwidmFyIF9GTEVYX01BUDtcblxuaW1wb3J0IHN0eWxlZCwgeyBjc3MsIGtleWZyYW1lcyB9IGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCB7IGRlZmF1bHRQcm9wcyB9IGZyb20gJy4uLy4uL2RlZmF1bHQtcHJvcHMnO1xuaW1wb3J0IHsgYmFja2dyb3VuZFN0eWxlLCBib3JkZXJTdHlsZSwgYnJlYWtwb2ludFN0eWxlLCBlZGdlU3R5bGUsIGZvY3VzU3R5bGUsIGdlbmVyaWNTdHlsZXMsIGdldEhvdmVySW5kaWNhdG9yU3R5bGUsIG92ZXJmbG93U3R5bGUgfSBmcm9tICcuLi8uLi91dGlscyc7XG52YXIgQUxJR05fTUFQID0ge1xuICBiYXNlbGluZTogJ2Jhc2VsaW5lJyxcbiAgY2VudGVyOiAnY2VudGVyJyxcbiAgZW5kOiAnZmxleC1lbmQnLFxuICBzdGFydDogJ2ZsZXgtc3RhcnQnLFxuICBzdHJldGNoOiAnc3RyZXRjaCdcbn07XG52YXIgYWxpZ25TdHlsZSA9IGNzcyhbXCJhbGlnbi1pdGVtczpcIiwgXCI7XCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIEFMSUdOX01BUFtwcm9wcy5hbGlnbl07XG59KTtcbnZhciBBTElHTl9DT05URU5UX01BUCA9IHtcbiAgYXJvdW5kOiAnYXJvdW5kJyxcbiAgYmV0d2VlbjogJ2JldHdlZW4nLFxuICBjZW50ZXI6ICdjZW50ZXInLFxuICBlbmQ6ICdmbGV4LWVuZCcsXG4gIHN0YXJ0OiAnZmxleC1zdGFydCcsXG4gIHN0cmV0Y2g6ICdzdHJldGNoJ1xufTtcbnZhciBhbGlnbkNvbnRlbnRTdHlsZSA9IGNzcyhbXCJhbGlnbi1jb250ZW50OlwiLCBcIjtcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gQUxJR05fQ09OVEVOVF9NQVBbcHJvcHMuYWxpZ25Db250ZW50XTtcbn0pO1xudmFyIEJBU0lTX01BUCA9IHtcbiAgYXV0bzogJ2F1dG8nLFxuICBmdWxsOiAnMTAwJScsXG4gICcxLzInOiAnNTAlJyxcbiAgJzEvNCc6ICcyNSUnLFxuICAnMi80JzogJzUwJScsXG4gICczLzQnOiAnNzUlJyxcbiAgJzEvMyc6ICczMy4zMyUnLFxuICAnMi8zJzogJzY2LjY2JSdcbn07XG52YXIgYmFzaXNTdHlsZSA9IGNzcyhbXCJmbGV4LWJhc2lzOlwiLCBcIjtcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gQkFTSVNfTUFQW3Byb3BzLmJhc2lzXSB8fCBwcm9wcy50aGVtZS5nbG9iYWwuc2l6ZVtwcm9wcy5iYXNpc10gfHwgcHJvcHMuYmFzaXM7XG59KTsgLy8gbWluLXdpZHRoIGFuZCBtaW4taGVpZ2h0IG5lZWRlZCBiZWNhdXNlIG9mIHRoaXNcbi8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzM2MjQ3MTQwL3doeS1kb2VzbnQtZmxleC1pdGVtLXNocmluay1wYXN0LWNvbnRlbnQtc2l6ZVxuLy8gd2UgYXNzdW1lIHdlIGFyZSBpbiB0aGUgY29udGV4dCBvZiBhIEJveCBnb2luZyB0aGUgb3RoZXIgZGlyZWN0aW9uXG4vLyBUT0RPOiByZXZpc2l0IHRoaXNcblxudmFyIGRpcmVjdGlvblN0eWxlID0gZnVuY3Rpb24gZGlyZWN0aW9uU3R5bGUoZGlyZWN0aW9uLCB0aGVtZSkge1xuICB2YXIgc3R5bGVzID0gW2NzcyhbXCJtaW4td2lkdGg6MDttaW4taGVpZ2h0OjA7ZmxleC1kaXJlY3Rpb246XCIsIFwiO1wiXSwgZGlyZWN0aW9uID09PSAncm93LXJlc3BvbnNpdmUnID8gJ3JvdycgOiBkaXJlY3Rpb24pXTtcblxuICBpZiAoZGlyZWN0aW9uID09PSAncm93LXJlc3BvbnNpdmUnICYmIHRoZW1lLmJveC5yZXNwb25zaXZlQnJlYWtwb2ludCkge1xuICAgIHZhciBicmVha3BvaW50ID0gdGhlbWUuZ2xvYmFsLmJyZWFrcG9pbnRzW3RoZW1lLmJveC5yZXNwb25zaXZlQnJlYWtwb2ludF07XG5cbiAgICBpZiAoYnJlYWtwb2ludCkge1xuICAgICAgc3R5bGVzLnB1c2goYnJlYWtwb2ludFN0eWxlKGJyZWFrcG9pbnQsIFwiXFxuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgICAgICAgZmxleC1iYXNpczogYXV0bztcXG4gICAgICAgIGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDtcXG4gICAgICAgIGFsaWduLWl0ZW1zOiBzdHJldGNoO1xcbiAgICAgIFwiKSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHN0eWxlcztcbn07XG5cbnZhciBlbGV2YXRpb25TdHlsZSA9IGNzcyhbXCJib3gtc2hhZG93OlwiLCBcIjtcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUuZ2xvYmFsLmVsZXZhdGlvbltwcm9wcy50aGVtZS5kYXJrICYmICFwcm9wcy50aGVtZS5kYXJrQ2hhbmdlZCB8fCAhcHJvcHMudGhlbWUuZGFyayAmJiBwcm9wcy50aGVtZS5kYXJrQ2hhbmdlZCA/ICdkYXJrJyA6ICdsaWdodCddW3Byb3BzLmVsZXZhdGlvblByb3BdO1xufSk7XG52YXIgRkxFWF9NQVAgPSAoX0ZMRVhfTUFQID0ge30sIF9GTEVYX01BUFt0cnVlXSA9ICcxIDEnLCBfRkxFWF9NQVBbZmFsc2VdID0gJzAgMCcsIF9GTEVYX01BUC5ncm93ID0gJzEgMCcsIF9GTEVYX01BUC5zaHJpbmsgPSAnMCAxJywgX0ZMRVhfTUFQKTtcblxudmFyIGZsZXhHcm93U2hyaW5rUHJvcCA9IGZ1bmN0aW9uIGZsZXhHcm93U2hyaW5rUHJvcChmbGV4KSB7XG4gIGlmICh0eXBlb2YgZmxleCA9PT0gJ2Jvb2xlYW4nIHx8IHR5cGVvZiBmbGV4ID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBGTEVYX01BUFtmbGV4XTtcbiAgfVxuXG4gIHJldHVybiAoZmxleC5ncm93ID8gZmxleC5ncm93IDogMCkgKyBcIiBcIiArIChmbGV4LnNocmluayA/IGZsZXguc2hyaW5rIDogMCk7XG59O1xuXG52YXIgZmxleFN0eWxlID0gY3NzKFtcImZsZXg6XCIsIFwiO1wiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBcIlwiICsgZmxleEdyb3dTaHJpbmtQcm9wKHByb3BzLmZsZXgpICsgKHByb3BzLmZsZXggIT09IHRydWUgJiYgIXByb3BzLmJhc2lzID8gJyBhdXRvJyA6ICcnKTtcbn0pO1xuXG52YXIgZmlsbFN0eWxlID0gZnVuY3Rpb24gZmlsbFN0eWxlKGZpbGxQcm9wKSB7XG4gIGlmIChmaWxsUHJvcCA9PT0gJ2hvcml6b250YWwnKSB7XG4gICAgcmV0dXJuICd3aWR0aDogMTAwJTsnO1xuICB9XG5cbiAgaWYgKGZpbGxQcm9wID09PSAndmVydGljYWwnKSB7XG4gICAgcmV0dXJuICdoZWlnaHQ6IDEwMCU7JztcbiAgfVxuXG4gIGlmIChmaWxsUHJvcCkge1xuICAgIHJldHVybiBcIlxcbiAgICAgIHdpZHRoOiAxMDAlO1xcbiAgICAgIGhlaWdodDogMTAwJTtcXG4gICAgXCI7XG4gIH1cblxuICByZXR1cm4gdW5kZWZpbmVkO1xufTtcblxudmFyIEpVU1RJRllfTUFQID0ge1xuICBhcm91bmQ6ICdzcGFjZS1hcm91bmQnLFxuICBiZXR3ZWVuOiAnc3BhY2UtYmV0d2VlbicsXG4gIGNlbnRlcjogJ2NlbnRlcicsXG4gIGVuZDogJ2ZsZXgtZW5kJyxcbiAgZXZlbmx5OiAnc3BhY2UtZXZlbmx5JyxcbiAgc3RhcnQ6ICdmbGV4LXN0YXJ0J1xufTtcbnZhciBqdXN0aWZ5U3R5bGUgPSBjc3MoW1wianVzdGlmeS1jb250ZW50OlwiLCBcIjtcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gSlVTVElGWV9NQVBbcHJvcHMuanVzdGlmeV07XG59KTtcbnZhciBXUkFQX01BUCA9IHtcbiAgXCJ0cnVlXCI6ICd3cmFwJyxcbiAgcmV2ZXJzZTogJ3dyYXAtcmV2ZXJzZSdcbn07XG52YXIgd3JhcFN0eWxlID0gY3NzKFtcImZsZXgtd3JhcDpcIiwgXCI7XCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIFdSQVBfTUFQW3Byb3BzLndyYXBQcm9wXTtcbn0pO1xudmFyIFJPVU5EX01BUCA9IHtcbiAgZnVsbDogJzEwMCUnXG59O1xuXG52YXIgcm91bmRTdHlsZSA9IGZ1bmN0aW9uIHJvdW5kU3R5bGUoZGF0YSwgcmVzcG9uc2l2ZSwgdGhlbWUpIHtcbiAgdmFyIGJyZWFrcG9pbnQgPSB0aGVtZS5ib3gucmVzcG9uc2l2ZUJyZWFrcG9pbnQgJiYgdGhlbWUuZ2xvYmFsLmJyZWFrcG9pbnRzW3RoZW1lLmJveC5yZXNwb25zaXZlQnJlYWtwb2ludF07XG4gIHZhciBzdHlsZXMgPSBbXTtcblxuICBpZiAodHlwZW9mIGRhdGEgPT09ICdvYmplY3QnKSB7XG4gICAgdmFyIHNpemUgPSBST1VORF9NQVBbZGF0YS5zaXplXSB8fCB0aGVtZS5nbG9iYWwuZWRnZVNpemVbZGF0YS5zaXplIHx8ICdtZWRpdW0nXSB8fCBkYXRhLnNpemU7XG4gICAgdmFyIHJlc3BvbnNpdmVTaXplID0gcmVzcG9uc2l2ZSAmJiBicmVha3BvaW50ICYmIGJyZWFrcG9pbnQuZWRnZVNpemVbZGF0YS5zaXplXSAmJiAoYnJlYWtwb2ludC5lZGdlU2l6ZVtkYXRhLnNpemVdIHx8IGRhdGEuc2l6ZSk7XG5cbiAgICBpZiAoZGF0YS5jb3JuZXIgPT09ICd0b3AnKSB7XG4gICAgICBzdHlsZXMucHVzaChjc3MoW1wiYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czpcIiwgXCI7Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6XCIsIFwiO1wiXSwgc2l6ZSwgc2l6ZSkpO1xuXG4gICAgICBpZiAocmVzcG9uc2l2ZVNpemUpIHtcbiAgICAgICAgc3R5bGVzLnB1c2goYnJlYWtwb2ludFN0eWxlKGJyZWFrcG9pbnQsIFwiXFxuICAgICAgICAgIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IFwiICsgcmVzcG9uc2l2ZVNpemUgKyBcIjtcXG4gICAgICAgICAgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IFwiICsgcmVzcG9uc2l2ZVNpemUgKyBcIjtcXG4gICAgICAgIFwiKSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChkYXRhLmNvcm5lciA9PT0gJ2JvdHRvbScpIHtcbiAgICAgIHN0eWxlcy5wdXNoKGNzcyhbXCJib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOlwiLCBcIjtib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czpcIiwgXCI7XCJdLCBzaXplLCBzaXplKSk7XG5cbiAgICAgIGlmIChyZXNwb25zaXZlU2l6ZSkge1xuICAgICAgICBzdHlsZXMucHVzaChicmVha3BvaW50U3R5bGUoYnJlYWtwb2ludCwgXCJcXG4gICAgICAgICAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogXCIgKyByZXNwb25zaXZlU2l6ZSArIFwiO1xcbiAgICAgICAgICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogXCIgKyByZXNwb25zaXZlU2l6ZSArIFwiO1xcbiAgICAgICAgXCIpKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGRhdGEuY29ybmVyID09PSAnbGVmdCcpIHtcbiAgICAgIHN0eWxlcy5wdXNoKGNzcyhbXCJib3JkZXItdG9wLWxlZnQtcmFkaXVzOlwiLCBcIjtib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOlwiLCBcIjtcIl0sIHNpemUsIHNpemUpKTtcblxuICAgICAgaWYgKHJlc3BvbnNpdmVTaXplKSB7XG4gICAgICAgIHN0eWxlcy5wdXNoKGJyZWFrcG9pbnRTdHlsZShicmVha3BvaW50LCBcIlxcbiAgICAgICAgICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiBcIiArIHJlc3BvbnNpdmVTaXplICsgXCI7XFxuICAgICAgICAgIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IFwiICsgcmVzcG9uc2l2ZVNpemUgKyBcIjtcXG4gICAgICAgIFwiKSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChkYXRhLmNvcm5lciA9PT0gJ3JpZ2h0Jykge1xuICAgICAgc3R5bGVzLnB1c2goY3NzKFtcImJvcmRlci10b3AtcmlnaHQtcmFkaXVzOlwiLCBcIjtib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czpcIiwgXCI7XCJdLCBzaXplLCBzaXplKSk7XG5cbiAgICAgIGlmIChyZXNwb25zaXZlU2l6ZSkge1xuICAgICAgICBzdHlsZXMucHVzaChicmVha3BvaW50U3R5bGUoYnJlYWtwb2ludCwgXCJcXG4gICAgICAgICAgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IFwiICsgcmVzcG9uc2l2ZVNpemUgKyBcIjtcXG4gICAgICAgICAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IFwiICsgcmVzcG9uc2l2ZVNpemUgKyBcIjtcXG4gICAgICAgIFwiKSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChkYXRhLmNvcm5lcikge1xuICAgICAgc3R5bGVzLnB1c2goY3NzKFtcImJvcmRlci1cIiwgXCItcmFkaXVzOlwiLCBcIjtcIl0sIGRhdGEuY29ybmVyLCBzaXplKSk7XG5cbiAgICAgIGlmIChyZXNwb25zaXZlU2l6ZSkge1xuICAgICAgICBzdHlsZXMucHVzaChicmVha3BvaW50U3R5bGUoYnJlYWtwb2ludCwgXCJcXG4gICAgICAgICAgYm9yZGVyLVwiICsgZGF0YS5jb3JuZXIgKyBcIi1yYWRpdXM6IFwiICsgcmVzcG9uc2l2ZVNpemUgKyBcIjtcXG4gICAgICAgIFwiKSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlcy5wdXNoKGNzcyhbXCJib3JkZXItcmFkaXVzOlwiLCBcIjtcIl0sIHNpemUpKTtcblxuICAgICAgaWYgKHJlc3BvbnNpdmVTaXplKSB7XG4gICAgICAgIHN0eWxlcy5wdXNoKGJyZWFrcG9pbnRTdHlsZShicmVha3BvaW50LCBcIlxcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiBcIiArIHJlc3BvbnNpdmVTaXplICsgXCI7XFxuICAgICAgICBcIikpO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2YXIgX3NpemUgPSBkYXRhID09PSB0cnVlID8gJ21lZGl1bScgOiBkYXRhO1xuXG4gICAgc3R5bGVzLnB1c2goY3NzKFtcImJvcmRlci1yYWRpdXM6XCIsIFwiO1wiXSwgUk9VTkRfTUFQW19zaXplXSB8fCB0aGVtZS5nbG9iYWwuZWRnZVNpemVbX3NpemVdIHx8IF9zaXplKSk7XG5cbiAgICB2YXIgX3Jlc3BvbnNpdmVTaXplID0gYnJlYWtwb2ludCAmJiBicmVha3BvaW50LmVkZ2VTaXplW19zaXplXTtcblxuICAgIGlmIChfcmVzcG9uc2l2ZVNpemUpIHtcbiAgICAgIHN0eWxlcy5wdXNoKGJyZWFrcG9pbnRTdHlsZShicmVha3BvaW50LCBcIlxcbiAgICAgICAgYm9yZGVyLXJhZGl1czogXCIgKyBfcmVzcG9uc2l2ZVNpemUgKyBcIjtcXG4gICAgICBcIikpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBzdHlsZXM7XG59O1xuXG52YXIgU0xJREVfU0laRVMgPSB7XG4gIHhzbWFsbDogMSxcbiAgc21hbGw6IDUsXG4gIG1lZGl1bTogMTAsXG4gIGxhcmdlOiA1MCxcbiAgeGxhcmdlOiAyMDBcbn07XG52YXIgUFVMU0VfU0laRVMgPSB7XG4gIHhzbWFsbDogMS4wMDEsXG4gIHNtYWxsOiAxLjAxLFxuICBtZWRpdW06IDEuMSxcbiAgbGFyZ2U6IDEuNSxcbiAgeGxhcmdlOiAyXG59O1xudmFyIEpJR0dMRV9TSVpFUyA9IHtcbiAgeHNtYWxsOiAwLjEsXG4gIHNtYWxsOiAxLFxuICBtZWRpdW06IDUsXG4gIGxhcmdlOiA0MDAsXG4gIHhsYXJnZTogMTAwMFxufTtcbnZhciBaT09NX1NJWkVTID0ge1xuICB4c21hbGw6IDAuMDAxLFxuICBzbWFsbDogMC4wMSxcbiAgbWVkaXVtOiAwLjA1LFxuICBsYXJnZTogMC4xLFxuICB4bGFyZ2U6IDAuNVxufTtcblxudmFyIGFuaW1hdGlvbkJvdW5kcyA9IGZ1bmN0aW9uIGFuaW1hdGlvbkJvdW5kcyh0eXBlLCBzaXplKSB7XG4gIGlmIChzaXplID09PSB2b2lkIDApIHtcbiAgICBzaXplID0gJ21lZGl1bSc7XG4gIH1cblxuICBpZiAodHlwZSA9PT0gJ2ZhZGVJbicpIHtcbiAgICByZXR1cm4gWydvcGFjaXR5OiAwOycsICdvcGFjaXR5OiAxOyddO1xuICB9XG5cbiAgaWYgKHR5cGUgPT09ICdmYWRlT3V0Jykge1xuICAgIHJldHVybiBbJ29wYWNpdHk6IDE7JywgJ29wYWNpdHk6IDA7J107XG4gIH1cblxuICBpZiAodHlwZSA9PT0gJ2ppZ2dsZScpIHtcbiAgICB2YXIgZGVnID0gSklHR0xFX1NJWkVTW3NpemVdO1xuICAgIHJldHVybiBbXCJ0cmFuc2Zvcm06IHJvdGF0ZSgtXCIgKyBkZWcgKyBcImRlZyk7XCIsIFwidHJhbnNmb3JtOiByb3RhdGUoXCIgKyBkZWcgKyBcImRlZyk7XCJdO1xuICB9XG5cbiAgaWYgKHR5cGUgPT09ICdwdWxzZScpIHtcbiAgICByZXR1cm4gWyd0cmFuc2Zvcm06IHNjYWxlKDEpOycsIFwidHJhbnNmb3JtOiBzY2FsZShcIiArIFBVTFNFX1NJWkVTW3NpemVdICsgXCIpXCJdO1xuICB9XG5cbiAgaWYgKHR5cGUgPT09ICdmbGlwSW4nKSB7XG4gICAgcmV0dXJuIFsndHJhbnNmb3JtOiByb3RhdGVZKDkwZGVnKTsnLCAndHJhbnNmb3JtOiByb3RhdGVZKDApOyddO1xuICB9XG5cbiAgaWYgKHR5cGUgPT09ICdmbGlwT3V0Jykge1xuICAgIHJldHVybiBbJ3RyYW5zZm9ybTogcm90YXRlWSgwKTsnLCAndHJhbnNmb3JtOiByb3RhdGVZKDkwZGVnKTsnXTtcbiAgfVxuXG4gIGlmICh0eXBlID09PSAnc2xpZGVEb3duJykge1xuICAgIHJldHVybiBbXCJ0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLVwiICsgU0xJREVfU0laRVNbc2l6ZV0gKyBcIiUpO1wiLCAndHJhbnNmb3JtOiBub25lOyddO1xuICB9XG5cbiAgaWYgKHR5cGUgPT09ICdzbGlkZUxlZnQnKSB7XG4gICAgcmV0dXJuIFtcInRyYW5zZm9ybTogdHJhbnNsYXRlWChcIiArIFNMSURFX1NJWkVTW3NpemVdICsgXCIlKTtcIiwgJ3RyYW5zZm9ybTogbm9uZTsnXTtcbiAgfVxuXG4gIGlmICh0eXBlID09PSAnc2xpZGVSaWdodCcpIHtcbiAgICByZXR1cm4gW1widHJhbnNmb3JtOiB0cmFuc2xhdGVYKC1cIiArIFNMSURFX1NJWkVTW3NpemVdICsgXCIlKTtcIiwgJ3RyYW5zZm9ybTogbm9uZTsnXTtcbiAgfVxuXG4gIGlmICh0eXBlID09PSAnc2xpZGVVcCcpIHtcbiAgICByZXR1cm4gW1widHJhbnNmb3JtOiB0cmFuc2xhdGVZKFwiICsgU0xJREVfU0laRVNbc2l6ZV0gKyBcIiUpO1wiLCAndHJhbnNmb3JtOiBub25lOyddO1xuICB9XG5cbiAgaWYgKHR5cGUgPT09ICd6b29tSW4nKSB7XG4gICAgcmV0dXJuIFtcInRyYW5zZm9ybTogc2NhbGUoXCIgKyAoMSAtIFpPT01fU0laRVNbc2l6ZV0pICsgXCIpO1wiLCAndHJhbnNmb3JtOiBub25lOyddO1xuICB9XG5cbiAgaWYgKHR5cGUgPT09ICd6b29tT3V0Jykge1xuICAgIHJldHVybiBbXCJ0cmFuc2Zvcm06IHNjYWxlKFwiICsgKDEgKyBaT09NX1NJWkVTW3NpemVdKSArIFwiKTtcIiwgJ3RyYW5zZm9ybTogbm9uZTsnXTtcbiAgfVxuXG4gIHJldHVybiBbXTtcbn07XG5cbnZhciBub3JtYWxpemVUaW1pbmcgPSBmdW5jdGlvbiBub3JtYWxpemVUaW1pbmcodGltZSwgZGVmYXVsdFRpbWluZykge1xuICByZXR1cm4gdGltZSA/IHRpbWUgLyAxMDAwLjAgKyBcInNcIiA6IGRlZmF1bHRUaW1pbmc7XG59O1xuXG52YXIgYW5pbWF0aW9uRW5kaW5nID0gZnVuY3Rpb24gYW5pbWF0aW9uRW5kaW5nKHR5cGUpIHtcbiAgaWYgKHR5cGUgPT09ICdqaWdnbGUnKSB7XG4gICAgcmV0dXJuICdhbHRlcm5hdGUgaW5maW5pdGUnO1xuICB9XG5cbiAgaWYgKHR5cGUgPT09ICdwdWxzZScpIHtcbiAgICByZXR1cm4gJ2FsdGVybmF0ZSBpbmZpbml0ZSc7XG4gIH1cblxuICByZXR1cm4gJ2ZvcndhcmRzJztcbn07XG5cbnZhciBhbmltYXRpb25PYmplY3RTdHlsZSA9IGZ1bmN0aW9uIGFuaW1hdGlvbk9iamVjdFN0eWxlKGFuaW1hdGlvbiwgdGhlbWUpIHtcbiAgdmFyIGJvdW5kcyA9IGFuaW1hdGlvbkJvdW5kcyhhbmltYXRpb24udHlwZSwgYW5pbWF0aW9uLnNpemUpO1xuXG4gIGlmIChib3VuZHMpIHtcbiAgICB2YXIgYW5pbWF0aW9uVHJhbnNpdGlvbiA9IGNzcyhbXCJmcm9te1wiLCBcIjt9dG97XCIsIFwiO31cIl0sIGJvdW5kc1swXSwgYm91bmRzWzFdKTtcbiAgICByZXR1cm4gY3NzKFtcIlwiLCBcIiBcIiwgXCIgXCIsIFwiIFwiLCBcIlwiXSwga2V5ZnJhbWVzKFtcIlwiLCBcIlwiXSwgYW5pbWF0aW9uVHJhbnNpdGlvbiksIG5vcm1hbGl6ZVRpbWluZyhhbmltYXRpb24uZHVyYXRpb24sICh0aGVtZS5nbG9iYWwuYW5pbWF0aW9uW2FuaW1hdGlvbi50eXBlXSA/IHRoZW1lLmdsb2JhbC5hbmltYXRpb25bYW5pbWF0aW9uLnR5cGVdLmR1cmF0aW9uIDogdW5kZWZpbmVkKSB8fCB0aGVtZS5nbG9iYWwuYW5pbWF0aW9uLmR1cmF0aW9uKSwgbm9ybWFsaXplVGltaW5nKGFuaW1hdGlvbi5kZWxheSwgJzBzJyksIGFuaW1hdGlvbkVuZGluZyhhbmltYXRpb24udHlwZSkpO1xuICB9XG5cbiAgcmV0dXJuICcnO1xufTtcblxudmFyIGFuaW1hdGlvbkl0ZW1TdHlsZSA9IGZ1bmN0aW9uIGFuaW1hdGlvbkl0ZW1TdHlsZShpdGVtLCB0aGVtZSkge1xuICBpZiAodHlwZW9mIGl0ZW0gPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGFuaW1hdGlvbk9iamVjdFN0eWxlKHtcbiAgICAgIHR5cGU6IGl0ZW1cbiAgICB9LCB0aGVtZSk7XG4gIH1cblxuICBpZiAoQXJyYXkuaXNBcnJheShpdGVtKSkge1xuICAgIHJldHVybiBpdGVtLnJlZHVjZShmdW5jdGlvbiAoc3R5bGUsIGEsIGluZGV4KSB7XG4gICAgICByZXR1cm4gY3NzKFtcIlwiLCBcIlwiLCBcIiBcIiwgXCJcIl0sIHN0eWxlLCBpbmRleCA+IDAgPyAnLCcgOiAnJywgYW5pbWF0aW9uSXRlbVN0eWxlKGEsIHRoZW1lKSk7XG4gICAgfSwgJycpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBpdGVtID09PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBhbmltYXRpb25PYmplY3RTdHlsZShpdGVtLCB0aGVtZSk7XG4gIH1cblxuICByZXR1cm4gJyc7XG59O1xuXG52YXIgYW5pbWF0aW9uQW5jaWxhcmllcyA9IGZ1bmN0aW9uIGFuaW1hdGlvbkFuY2lsYXJpZXMoYW5pbWF0aW9uKSB7XG4gIGlmIChhbmltYXRpb24udHlwZSA9PT0gJ2ZsaXBJbicgfHwgYW5pbWF0aW9uLnR5cGUgPT09ICdmbGlwT3V0Jykge1xuICAgIHJldHVybiAncGVyc3BlY3RpdmU6IDEwMDBweDsgdHJhbnNmb3JtLXN0eWxlOiBwcmVzZXJ2ZS0zZDsnO1xuICB9XG5cbiAgcmV0dXJuICcnO1xufTtcblxudmFyIGFuaW1hdGlvbk9iamVjdEluaXRpYWxTdHlsZSA9IGZ1bmN0aW9uIGFuaW1hdGlvbk9iamVjdEluaXRpYWxTdHlsZShhbmltYXRpb24pIHtcbiAgdmFyIGJvdW5kcyA9IGFuaW1hdGlvbkJvdW5kcyhhbmltYXRpb24udHlwZSwgYW5pbWF0aW9uLnNpemUpO1xuXG4gIGlmIChib3VuZHMpIHtcbiAgICByZXR1cm4gYm91bmRzWzBdICsgXCIgXCIgKyBhbmltYXRpb25BbmNpbGFyaWVzKGFuaW1hdGlvbik7XG4gIH1cblxuICByZXR1cm4gJyc7XG59O1xuXG52YXIgYW5pbWF0aW9uSW5pdGlhbFN0eWxlID0gZnVuY3Rpb24gYW5pbWF0aW9uSW5pdGlhbFN0eWxlKGl0ZW0pIHtcbiAgaWYgKHR5cGVvZiBpdGVtID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBhbmltYXRpb25PYmplY3RJbml0aWFsU3R5bGUoe1xuICAgICAgdHlwZTogaXRlbVxuICAgIH0pO1xuICB9XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkoaXRlbSkpIHtcbiAgICByZXR1cm4gaXRlbS5tYXAoZnVuY3Rpb24gKGEpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgYSA9PT0gJ3N0cmluZycgPyBhbmltYXRpb25PYmplY3RJbml0aWFsU3R5bGUoe1xuICAgICAgICB0eXBlOiBhXG4gICAgICB9KSA6IGFuaW1hdGlvbk9iamVjdEluaXRpYWxTdHlsZShhKTtcbiAgICB9KS5qb2luKCcnKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgaXRlbSA9PT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gYW5pbWF0aW9uT2JqZWN0SW5pdGlhbFN0eWxlKGl0ZW0pO1xuICB9XG5cbiAgcmV0dXJuICcnO1xufTtcblxudmFyIGFuaW1hdGlvblN0eWxlID0gY3NzKFtcIlwiLCBcIjtcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gY3NzKFtcIlwiLCBcIiBhbmltYXRpb246XCIsIFwiO1wiXSwgYW5pbWF0aW9uSW5pdGlhbFN0eWxlKHByb3BzLmFuaW1hdGlvbiksIGFuaW1hdGlvbkl0ZW1TdHlsZShwcm9wcy5hbmltYXRpb24sIHByb3BzLnRoZW1lKSk7XG59KTtcbnZhciBpbnRlcmFjdGl2ZVN0eWxlID0gY3NzKFtcImN1cnNvcjpwb2ludGVyOyY6aG92ZXJ7XCIsIFwifVwiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5ob3ZlckluZGljYXRvciAmJiBnZXRIb3ZlckluZGljYXRvclN0eWxlKHByb3BzLmhvdmVySW5kaWNhdG9yLCBwcm9wcy50aGVtZSk7XG59KTtcblxudmFyIGdldFNpemUgPSBmdW5jdGlvbiBnZXRTaXplKHByb3BzLCBzaXplKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5nbG9iYWwuc2l6ZVtzaXplXSB8fCBzaXplO1xufTtcblxudmFyIGhlaWdodE9iamVjdFN0eWxlID0gY3NzKFtcIlwiLCBcIjtcIiwgXCI7XCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLmhlaWdodFByb3AubWF4ICYmIGNzcyhbXCJtYXgtaGVpZ2h0OlwiLCBcIjtcIl0sIGdldFNpemUocHJvcHMsIHByb3BzLmhlaWdodFByb3AubWF4KSk7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLmhlaWdodFByb3AubWluICYmIGNzcyhbXCJtaW4taGVpZ2h0OlwiLCBcIjtcIl0sIGdldFNpemUocHJvcHMsIHByb3BzLmhlaWdodFByb3AubWluKSk7XG59KTtcbnZhciBoZWlnaHRTdHlsZSA9IGNzcyhbXCJoZWlnaHQ6XCIsIFwiO1wiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBnZXRTaXplKHByb3BzLCBwcm9wcy5oZWlnaHRQcm9wKTtcbn0pO1xudmFyIHdpZHRoT2JqZWN0U3R5bGUgPSBjc3MoW1wiXCIsIFwiO1wiLCBcIjtcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMud2lkdGhQcm9wLm1heCAmJiBjc3MoW1wibWF4LXdpZHRoOlwiLCBcIjtcIl0sIGdldFNpemUocHJvcHMsIHByb3BzLndpZHRoUHJvcC5tYXgpKTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMud2lkdGhQcm9wLm1pbiAmJiBjc3MoW1wibWluLXdpZHRoOlwiLCBcIjtcIl0sIGdldFNpemUocHJvcHMsIHByb3BzLndpZHRoUHJvcC5taW4pKTtcbn0pO1xudmFyIHdpZHRoU3R5bGUgPSBjc3MoW1wid2lkdGg6XCIsIFwiO1wiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBnZXRTaXplKHByb3BzLCBwcm9wcy53aWR0aFByb3ApO1xufSk7IC8vIE5PVEU6IGJhc2lzIG11c3QgYmUgYWZ0ZXIgZmxleCEgT3RoZXJ3aXNlLCBmbGV4IG92ZXJyaWRlcyBiYXNpc1xuXG52YXIgU3R5bGVkQm94ID0gc3R5bGVkLmRpdi53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiU3R5bGVkQm94XCIsXG4gIGNvbXBvbmVudElkOiBcInNjLTEzcGsxZDQtMFwiXG59KShbXCJkaXNwbGF5OmZsZXg7Ym94LXNpemluZzpib3JkZXItYm94O291dGxpbmU6bm9uZTtcIiwgXCI7XCIsIFwiIFwiLCBcIiBcIiwgXCIgXCIsIFwiIFwiLCBcIiBcIiwgXCIgXCIsIFwiIFwiLCBcIiBcIiwgXCIgXCIsIFwiIFwiLCBcIiBcIiwgXCIgXCIsIFwiIFwiLCBcIiBcIiwgXCIgXCIsIFwiIFwiLCBcIiBcIiwgXCIgXCIsIFwiIFwiLCBcIiBcIiwgXCJcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gIXByb3BzLmJhc2lzICYmICdtYXgtd2lkdGg6IDEwMCU7Jztcbn0sIGdlbmVyaWNTdHlsZXMsIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuYWxpZ24gJiYgYWxpZ25TdHlsZTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuYWxpZ25Db250ZW50ICYmIGFsaWduQ29udGVudFN0eWxlO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5iYWNrZ3JvdW5kICYmIGJhY2tncm91bmRTdHlsZShwcm9wcy5iYWNrZ3JvdW5kLCBwcm9wcy50aGVtZSk7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLmJvcmRlciAmJiAoQXJyYXkuaXNBcnJheShwcm9wcy5ib3JkZXIpID8gcHJvcHMuYm9yZGVyLm1hcChmdW5jdGlvbiAoYm9yZGVyKSB7XG4gICAgcmV0dXJuIGJvcmRlclN0eWxlKGJvcmRlciwgcHJvcHMucmVzcG9uc2l2ZSwgcHJvcHMudGhlbWUpO1xuICB9KSA6IGJvcmRlclN0eWxlKHByb3BzLmJvcmRlciwgcHJvcHMucmVzcG9uc2l2ZSwgcHJvcHMudGhlbWUpKTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuZGlyZWN0aW9uUHJvcCAmJiBkaXJlY3Rpb25TdHlsZShwcm9wcy5kaXJlY3Rpb25Qcm9wLCBwcm9wcy50aGVtZSk7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLmhlaWdodFByb3AgJiYgKHR5cGVvZiBwcm9wcy5oZWlnaHRQcm9wID09PSAnb2JqZWN0JyA/IGhlaWdodE9iamVjdFN0eWxlIDogaGVpZ2h0U3R5bGUpO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy53aWR0aFByb3AgJiYgKHR5cGVvZiBwcm9wcy53aWR0aFByb3AgPT09ICdvYmplY3QnID8gd2lkdGhPYmplY3RTdHlsZSA6IHdpZHRoU3R5bGUpO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5mbGV4ICE9PSB1bmRlZmluZWQgJiYgZmxleFN0eWxlO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5iYXNpcyAmJiBiYXNpc1N0eWxlO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5maWxsUHJvcCAmJiBmaWxsU3R5bGUocHJvcHMuZmlsbFByb3ApO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5qdXN0aWZ5ICYmIGp1c3RpZnlTdHlsZTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMucGFkICYmIGVkZ2VTdHlsZSgncGFkZGluZycsIHByb3BzLnBhZCwgcHJvcHMucmVzcG9uc2l2ZSwgcHJvcHMudGhlbWUuYm94LnJlc3BvbnNpdmVCcmVha3BvaW50LCBwcm9wcy50aGVtZSk7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnJvdW5kICYmIHJvdW5kU3R5bGUocHJvcHMucm91bmQsIHByb3BzLnJlc3BvbnNpdmUsIHByb3BzLnRoZW1lKTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMud3JhcFByb3AgJiYgd3JhcFN0eWxlO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5vdmVyZmxvd1Byb3AgJiYgb3ZlcmZsb3dTdHlsZShwcm9wcy5vdmVyZmxvd1Byb3ApO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5lbGV2YXRpb25Qcm9wICYmIGVsZXZhdGlvblN0eWxlO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5hbmltYXRpb24gJiYgYW5pbWF0aW9uU3R5bGU7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLm9uQ2xpY2sgJiYgaW50ZXJhY3RpdmVTdHlsZTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMub25DbGljayAmJiBwcm9wcy5mb2N1cyAmJiBwcm9wcy5mb2N1c0luZGljYXRvciAhPT0gZmFsc2UgJiYgZm9jdXNTdHlsZTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUuYm94ICYmIHByb3BzLnRoZW1lLmJveC5leHRlbmQ7XG59KTtcblxudmFyIGdhcFN0eWxlID0gZnVuY3Rpb24gZ2FwU3R5bGUoZGlyZWN0aW9uUHJvcCwgZ2FwLCByZXNwb25zaXZlLCB0aGVtZSkge1xuICB2YXIgYnJlYWtwb2ludCA9IHRoZW1lLmJveC5yZXNwb25zaXZlQnJlYWtwb2ludCAmJiB0aGVtZS5nbG9iYWwuYnJlYWtwb2ludHNbdGhlbWUuYm94LnJlc3BvbnNpdmVCcmVha3BvaW50XTtcbiAgdmFyIHJlc3BvbnNpdmVTaXplID0gYnJlYWtwb2ludCAmJiBicmVha3BvaW50LmVkZ2VTaXplW2dhcF0gJiYgYnJlYWtwb2ludC5lZGdlU2l6ZVtnYXBdO1xuICB2YXIgc3R5bGVzID0gW107XG5cbiAgaWYgKGRpcmVjdGlvblByb3AgPT09ICdjb2x1bW4nKSB7XG4gICAgc3R5bGVzLnB1c2goY3NzKFtcImhlaWdodDpcIiwgXCI7XCJdLCB0aGVtZS5nbG9iYWwuZWRnZVNpemVbZ2FwXSB8fCBnYXApKTtcblxuICAgIGlmIChyZXNwb25zaXZlU2l6ZSkge1xuICAgICAgc3R5bGVzLnB1c2goYnJlYWtwb2ludFN0eWxlKGJyZWFrcG9pbnQsIFwiaGVpZ2h0OiBcIiArIHJlc3BvbnNpdmVTaXplICsgXCI7XCIpKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgc3R5bGVzLnB1c2goXCJ3aWR0aDogXCIgKyAodGhlbWUuZ2xvYmFsLmVkZ2VTaXplW2dhcF0gfHwgZ2FwKSArIFwiO1wiKTtcblxuICAgIGlmIChyZXNwb25zaXZlICYmIGRpcmVjdGlvblByb3AgPT09ICdyb3ctcmVzcG9uc2l2ZScpIHtcbiAgICAgIHN0eWxlcy5wdXNoKGJyZWFrcG9pbnRTdHlsZShicmVha3BvaW50LCBcIlxcbiAgICAgICAgd2lkdGg6IGF1dG87XFxuICAgICAgICBoZWlnaHQ6IFwiICsgcmVzcG9uc2l2ZVNpemUgKyBcIjtcXG4gICAgICBcIikpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBzdHlsZXM7XG59O1xuXG5TdHlsZWRCb3guZGVmYXVsdFByb3BzID0ge307XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoU3R5bGVkQm94LmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbnZhciBTdHlsZWRCb3hHYXAgPSBzdHlsZWQuZGl2LndpdGhDb25maWcoe1xuICBkaXNwbGF5TmFtZTogXCJTdHlsZWRCb3hfX1N0eWxlZEJveEdhcFwiLFxuICBjb21wb25lbnRJZDogXCJzYy0xM3BrMWQ0LTFcIlxufSkoW1wiZmxleDowIDAgYXV0bztcIiwgXCI7XCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLmdhcCAmJiBnYXBTdHlsZShwcm9wcy5kaXJlY3Rpb25Qcm9wLCBwcm9wcy5nYXAsIHByb3BzLnJlc3BvbnNpdmUsIHByb3BzLnRoZW1lKTtcbn0pO1xuU3R5bGVkQm94R2FwLmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKFN0eWxlZEJveEdhcC5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG5leHBvcnQgeyBTdHlsZWRCb3gsIFN0eWxlZEJveEdhcCB9OyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmltcG9ydCB7IGRlc2NyaWJlLCBQcm9wVHlwZXMgfSBmcm9tICdyZWFjdC1kZXNjJztcbmltcG9ydCB7IGdldEF2YWlsYWJsZUF0QmFkZ2UsIGdlbmVyaWNQcm9wcywgaG92ZXJJbmRpY2F0b3JQcm9wVHlwZSwgdGhlbWVEb2NVdGlscyB9IGZyb20gJy4uLy4uL3V0aWxzJztcbnZhciBQQURfU0laRVMgPSBbJ3h4c21hbGwnLCAneHNtYWxsJywgJ3NtYWxsJywgJ21lZGl1bScsICdsYXJnZScsICd4bGFyZ2UnXTtcbmV4cG9ydCB2YXIgT1ZFUkZMT1dfVkFMVUVTID0gWydhdXRvJywgJ2hpZGRlbicsICdzY3JvbGwnLCAndmlzaWJsZSddO1xudmFyIEFOSU1BVElPTl9UWVBFID0gUHJvcFR5cGVzLm9uZU9mKFsnZmFkZUluJywgJ2ZhZGVPdXQnLCAnamlnZ2xlJywgJ3B1bHNlJywgJ3NsaWRlVXAnLCAnc2xpZGVEb3duJywgJ3NsaWRlTGVmdCcsICdzbGlkZVJpZ2h0JywgJ3pvb21JbicsICd6b29tT3V0J10pO1xudmFyIEFOSU1BVElPTl9TSEFQRSA9IFByb3BUeXBlcy5zaGFwZSh7XG4gIHR5cGU6IEFOSU1BVElPTl9UWVBFLFxuICBkZWxheTogUHJvcFR5cGVzLm51bWJlcixcbiAgZHVyYXRpb246IFByb3BUeXBlcy5udW1iZXIsXG4gIHNpemU6IFByb3BUeXBlcy5vbmVPZihbJ3hzbWFsbCcsICdzbWFsbCcsICdtZWRpdW0nLCAnbGFyZ2UnLCAneGxhcmdlJ10pXG59KTtcbnZhciBCT1JERVJfU0hBUEUgPSBQcm9wVHlwZXMuc2hhcGUoe1xuICBjb2xvcjogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLnNoYXBlKHtcbiAgICBkYXJrOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIGxpZ2h0OiBQcm9wVHlwZXMuc3RyaW5nXG4gIH0pXSksXG4gIHNpZGU6IFByb3BUeXBlcy5vbmVPZihbJ3RvcCcsICdsZWZ0JywgJ2JvdHRvbScsICdyaWdodCcsICdob3Jpem9udGFsJywgJ3ZlcnRpY2FsJywgJ2FsbCddKSxcbiAgc2l6ZTogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFsneHNtYWxsJywgJ3NtYWxsJywgJ21lZGl1bScsICdsYXJnZScsICd4bGFyZ2UnXSksIFByb3BUeXBlcy5zdHJpbmddKSxcbiAgc3R5bGU6IFByb3BUeXBlcy5vbmVPZihbJ3NvbGlkJywgJ2Rhc2hlZCcsICdkb3R0ZWQnLCAnZG91YmxlJywgJ2dyb292ZScsICdyaWRnZScsICdpbnNldCcsICdvdXRzZXQnLCAnaGlkZGVuJ10pLmRlZmF1bHRWYWx1ZSgnc29saWQnKVxufSk7IC8vIGlmIHlvdSB1cGRhdGUgdmFsdWVzIGhlcmUsIG1ha2Ugc3VyZSB0byB1cGRhdGUgaW4gRHJvcC9kb2MgdG9vLlxuXG52YXIgb3ZlcmZsb3dQcm9wVHlwZSA9IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihPVkVSRkxPV19WQUxVRVMpLCBQcm9wVHlwZXMuc2hhcGUoe1xuICBob3Jpem9udGFsOiBQcm9wVHlwZXMub25lT2YoT1ZFUkZMT1dfVkFMVUVTKSxcbiAgdmVydGljYWw6IFByb3BUeXBlcy5vbmVPZihPVkVSRkxPV19WQUxVRVMpXG59KSwgUHJvcFR5cGVzLnN0cmluZ10pO1xuZXhwb3J0IHZhciBkb2MgPSBmdW5jdGlvbiBkb2MoQm94KSB7XG4gIHZhciBEb2N1bWVudGVkQm94ID0gZGVzY3JpYmUoQm94KS5hdmFpbGFibGVBdChnZXRBdmFpbGFibGVBdEJhZGdlKCdCb3gnKSkuZGVzY3JpcHRpb24oXCJBIGNvbnRhaW5lciB0aGF0IGxheXMgb3V0IGl0cyBjb250ZW50cyBpbiBvbmUgZGlyZWN0aW9uLiBCb3hcXG4gICAgICBwcm92aWRlcyBDU1MgZmxleGJveCBjYXBhYmlsaXRpZXMgZm9yIGxheW91dCwgYXMgd2VsbCBhcyBnZW5lcmFsXFxuICAgICAgc3R5bGluZyBvZiB0aGluZ3MgbGlrZSBiYWNrZ3JvdW5kIGNvbG9yLCBib3JkZXIsIGFuZCBhbmltYXRpb24uXCIpLnVzYWdlKFwiaW1wb3J0IHsgQm94IH0gZnJvbSAnZ3JvbW1ldCc7XFxuPEJveCAvPlwiKS5pbnRyaW5zaWNFbGVtZW50KCdkaXYnKTtcbiAgRG9jdW1lbnRlZEJveC5wcm9wVHlwZXMgPSBfZXh0ZW5kcyh7fSwgZ2VuZXJpY1Byb3BzLCB7XG4gICAgYWxpZ246IFByb3BUeXBlcy5vbmVPZihbJ3N0YXJ0JywgJ2NlbnRlcicsICdlbmQnLCAnYmFzZWxpbmUnLCAnc3RyZXRjaCddKS5kZXNjcmlwdGlvbignSG93IHRvIGFsaWduIHRoZSBjb250ZW50cyBhbG9uZyB0aGUgY3Jvc3MgYXhpcy4nKSxcbiAgICBhbGlnbkNvbnRlbnQ6IFByb3BUeXBlcy5vbmVPZihbJ3N0YXJ0JywgJ2NlbnRlcicsICdlbmQnLCAnYmV0d2VlbicsICdhcm91bmQnLCAnc3RyZXRjaCddKS5kZXNjcmlwdGlvbihcIkhvdyB0byBhbGlnbiB0aGUgY29udGVudHMgd2hlbiB0aGVyZSBpcyBleHRyYSBzcGFjZSBpblxcbiAgICAgICAgdGhlIGNyb3NzIGF4aXMuXCIpLmRlZmF1bHRWYWx1ZSgnc3RyZXRjaCcpLFxuICAgIGFuaW1hdGlvbjogUHJvcFR5cGVzLm9uZU9mVHlwZShbQU5JTUFUSU9OX1RZUEUsIEFOSU1BVElPTl9TSEFQRSwgUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm9uZU9mVHlwZShbQU5JTUFUSU9OX1RZUEUsIEFOSU1BVElPTl9TSEFQRV0pKV0pLmRlc2NyaXB0aW9uKFwiQW5pbWF0aW9uIGVmZmVjdChzKSB0byB1c2UuICdkdXJhdGlvbicgYW5kICdkZWxheScgc2hvdWxkXFxuICAgICAgICBiZSBpbiBtaWxsaXNlY29uZHMuICdqaWdnbGUnIGFuZCAncHVsc2UnIHR5cGVzIGFyZSBpbnRlbmRlZCBmb3JcXG4gICAgICAgIHNtYWxsIGVsZW1lbnRzLCBsaWtlIGljb25zLlwiKSxcbiAgICBiYWNrZ3JvdW5kOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgY29sb3I6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgICBkYXJrOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuYm9vbCwgUHJvcFR5cGVzLnN0cmluZ10pLFxuICAgICAgaW1hZ2U6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgICBwb3NpdGlvbjogUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgIG9wYWNpdHk6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5ib29sLCBQcm9wVHlwZXMubnVtYmVyLCBQcm9wVHlwZXMub25lT2YoWyd3ZWFrJywgJ21lZGl1bScsICdzdHJvbmcnXSldKSxcbiAgICAgIHJlcGVhdDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFsnbm8tcmVwZWF0JywgJ3JlcGVhdCddKSwgUHJvcFR5cGVzLnN0cmluZ10pLFxuICAgICAgc2l6ZTogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFsnY292ZXInLCAnY29udGFpbiddKSwgUHJvcFR5cGVzLnN0cmluZ10pLFxuICAgICAgbGlnaHQ6IFByb3BUeXBlcy5zdHJpbmdcbiAgICB9KV0pLmRlc2NyaXB0aW9uKFwiRWl0aGVyIGEgY29sb3IgaWRlbnRpZmllciB0byB1c2UgZm9yIHRoZSBiYWNrZ3JvdW5kXFxuICAgICAgICBjb2xvci4gRm9yIGV4YW1wbGU6ICduZXV0cmFsLTEnLiBPciwgYSAndXJsKCknIGZvciBhbiBpbWFnZS4gRGFya1xcbiAgICAgICAgaXMgbm90IG5lZWRlZCBpZiBjb2xvciBpcyBwcm92aWRlZC5cIiksXG4gICAgYmFzaXM6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbJ3h4c21hbGwnLCAneHNtYWxsJywgJ3NtYWxsJywgJ21lZGl1bScsICdsYXJnZScsICd4bGFyZ2UnLCAneHhsYXJnZScsICdmdWxsJywgJzEvMicsICcxLzMnLCAnMi8zJywgJzEvNCcsICcyLzQnLCAnMy80JywgJ2F1dG8nXSksIFByb3BUeXBlcy5zdHJpbmddKS5kZXNjcmlwdGlvbihcIkEgZml4ZWQgb3IgcmVsYXRpdmUgc2l6ZSBhbG9uZyBpdHMgY29udGFpbmVyJ3MgbWFpbiBheGlzLlwiKSxcbiAgICBib3JkZXI6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5ib29sLCBQcm9wVHlwZXMub25lT2YoWyd0b3AnLCAnbGVmdCcsICdib3R0b20nLCAncmlnaHQnLCAnaG9yaXpvbnRhbCcsICd2ZXJ0aWNhbCcsICdhbGwnXSksIEJPUkRFUl9TSEFQRSwgUHJvcFR5cGVzLmFycmF5T2YoQk9SREVSX1NIQVBFKV0pLmRlc2NyaXB0aW9uKCdJbmNsdWRlIGEgYm9yZGVyLicpLFxuICAgIGRpcmVjdGlvbjogUHJvcFR5cGVzLm9uZU9mKFsncm93JywgJ2NvbHVtbicsICdyb3ctcmVzcG9uc2l2ZScsICdyb3ctcmV2ZXJzZScsICdjb2x1bW4tcmV2ZXJzZSddKS5kZXNjcmlwdGlvbignVGhlIG9yaWVudGF0aW9uIHRvIGxheW91dCB0aGUgY2hpbGQgY29tcG9uZW50cyBpbi4nKS5kZWZhdWx0VmFsdWUoJ2NvbHVtbicpLFxuICAgIGVsZXZhdGlvbjogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFsnbm9uZScsICd4c21hbGwnLCAnc21hbGwnLCAnbWVkaXVtJywgJ2xhcmdlJywgJ3hsYXJnZSddKSwgUHJvcFR5cGVzLnN0cmluZ10pLmRlc2NyaXB0aW9uKFwiRWxldmF0ZWQgaGVpZ2h0IGFib3ZlIHRoZSB1bmRlcmx5aW5nIGNvbnRleHQsIGluZGljYXRlZFxcbiAgICAgICAgdmlhIGEgZHJvcCBzaGFkb3cuXCIpLmRlZmF1bHRWYWx1ZSgnbm9uZScpLFxuICAgIGZsZXg6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbJ2dyb3cnLCAnc2hyaW5rJ10pLCBQcm9wVHlwZXMuYm9vbCwgUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgIGdyb3c6IFByb3BUeXBlcy5udW1iZXIsXG4gICAgICBzaHJpbms6IFByb3BUeXBlcy5udW1iZXJcbiAgICB9KV0pLmRlc2NyaXB0aW9uKCdXaGV0aGVyIGZsZXgtZ3JvdyBhbmQvb3IgZmxleC1zaHJpbmsgaXMgdHJ1ZSBhbmQgYXQgYSBkZXNpcmVkIGZhY3Rvci4nKSxcbiAgICBmaWxsOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2YoWydob3Jpem9udGFsJywgJ3ZlcnRpY2FsJ10pLCBQcm9wVHlwZXMuYm9vbF0pLmRlc2NyaXB0aW9uKCdXaGV0aGVyIHRoZSB3aWR0aCBhbmQvb3IgaGVpZ2h0IHNob3VsZCBmaWxsIHRoZSBjb250YWluZXIuJyksXG4gICAgZm9jdXNJbmRpY2F0b3I6IFByb3BUeXBlcy5ib29sLmRlc2NyaXB0aW9uKFwiV2hlbiBpbnRlcmFjdGl2ZSB2aWEgJ29uQ2xpY2snLCB3aGV0aGVyIGl0IHNob3VsZCByZWNlaXZlIGEgZm9jdXNcXG4gICAgICAgIG91dGxpbmUuXCIpLmRlZmF1bHRWYWx1ZSh0cnVlKSxcbiAgICBnYXA6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbJ25vbmUnLCAneHhzbWFsbCcsICd4c21hbGwnLCAnc21hbGwnLCAnbWVkaXVtJywgJ2xhcmdlJywgJ3hsYXJnZSddKSwgUHJvcFR5cGVzLnN0cmluZ10pLmRlc2NyaXB0aW9uKFwiVGhlIGFtb3VudCBvZiBzcGFjaW5nIGJldHdlZW4gY2hpbGQgZWxlbWVudHMuIFRoaXNcXG4gICAgICAgIHNob3VsZCBub3QgYmUgdXNlZCBpbiBjb25qdW5jdGlvbiB3aXRoICd3cmFwJyBhcyB0aGUgZ2FwIGVsZW1lbnRzXFxuICAgICAgICB3aWxsIG5vdCB3cmFwIGdyYWNlZnVsbHkuXCIpLFxuICAgIGhlaWdodDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFsneHhzbWFsbCcsICd4c21hbGwnLCAnc21hbGwnLCAnbWVkaXVtJywgJ2xhcmdlJywgJ3hsYXJnZScsICd4eGxhcmdlJ10pLCBQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgbWluOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2YoWyd4eHNtYWxsJywgJ3hzbWFsbCcsICdzbWFsbCcsICdtZWRpdW0nLCAnbGFyZ2UnLCAneGxhcmdlJywgJ3h4bGFyZ2UnXSksIFByb3BUeXBlcy5zdHJpbmddKSxcbiAgICAgIG1heDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFsneHhzbWFsbCcsICd4c21hbGwnLCAnc21hbGwnLCAnbWVkaXVtJywgJ2xhcmdlJywgJ3hsYXJnZScsICd4eGxhcmdlJ10pLCBQcm9wVHlwZXMuc3RyaW5nXSlcbiAgICB9KV0pLmRlc2NyaXB0aW9uKCdBIGZpeGVkIGhlaWdodC4nKSxcbiAgICBob3ZlckluZGljYXRvcjogaG92ZXJJbmRpY2F0b3JQcm9wVHlwZS5kZXNjcmlwdGlvbihcIldoZW4gJ29uQ2xpY2snIGhhcyBiZWVuIHNwZWNpZmllZCwgdGhlIGhvdmVyIGluZGljYXRvciB0byBhcHBseVxcbiAgICAgICAgd2hlbiB0aGUgdXNlciBpcyBtb3VzaW5nIG92ZXIgdGhlIGJveC5cIikuZGVmYXVsdFZhbHVlKGZhbHNlKSxcbiAgICBqdXN0aWZ5OiBQcm9wVHlwZXMub25lT2YoWydhcm91bmQnLCAnYmV0d2VlbicsICdjZW50ZXInLCAnZW5kJywgJ2V2ZW5seScsICdzdGFydCcsICdzdHJldGNoJ10pLmRlc2NyaXB0aW9uKCdIb3cgdG8gYWxpZ24gdGhlIGNvbnRlbnRzIGFsb25nIHRoZSBtYWluIGF4aXMuJykuZGVmYXVsdFZhbHVlKCdzdHJldGNoJyksXG4gICAgb25DbGljazogUHJvcFR5cGVzLmZ1bmMuZGVzY3JpcHRpb24oXCJDbGljayBoYW5kbGVyLiBTZXR0aW5nIHRoaXMgcHJvcGVydHkgYWRkcyBhZGRpdGlvbmFsIGF0dHJpYnV0ZXMgdG9cXG4gICAgICB0aGUgRE9NIGZvciBhY2Nlc3NpYmlsaXR5LlwiKSxcbiAgICBvdmVyZmxvdzogb3ZlcmZsb3dQcm9wVHlwZS5kZXNjcmlwdGlvbignYm94IG92ZXJmbG93LicpLFxuICAgIHBhZDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFsnbm9uZSddLmNvbmNhdChQQURfU0laRVMpKSwgUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgIGJvdHRvbTogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFBBRF9TSVpFUyksIFByb3BUeXBlcy5zdHJpbmddKSxcbiAgICAgIGhvcml6b250YWw6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihQQURfU0laRVMpLCBQcm9wVHlwZXMuc3RyaW5nXSksXG4gICAgICBsZWZ0OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2YoUEFEX1NJWkVTKSwgUHJvcFR5cGVzLnN0cmluZ10pLFxuICAgICAgcmlnaHQ6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihQQURfU0laRVMpLCBQcm9wVHlwZXMuc3RyaW5nXSksXG4gICAgICB0b3A6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihQQURfU0laRVMpLCBQcm9wVHlwZXMuc3RyaW5nXSksXG4gICAgICB2ZXJ0aWNhbDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFBBRF9TSVpFUyksIFByb3BUeXBlcy5zdHJpbmddKVxuICAgIH0pLCBQcm9wVHlwZXMuc3RyaW5nXSkuZGVzY3JpcHRpb24oXCJUaGUgYW1vdW50IG9mIHBhZGRpbmcgYXJvdW5kIHRoZSBib3ggY29udGVudHMuIEFuXFxuICAgICAgICBvYmplY3QgY2FuIGJlIHNwZWNpZmllZCB0byBkaXN0aW5ndWlzaCBob3Jpem9udGFsIHBhZGRpbmcsIHZlcnRpY2FsXFxuICAgICAgICBwYWRkaW5nLCBhbmQgcGFkZGluZyBvbiBhIHBhcnRpY3VsYXIgc2lkZSBvZiB0aGUgYm94XCIpLmRlZmF1bHRWYWx1ZSgnbm9uZScpLFxuICAgIHJlc3BvbnNpdmU6IFByb3BUeXBlcy5ib29sLmRlc2NyaXB0aW9uKFwiV2hldGhlciBtYXJnaW4sIHBhZCwgYW5kIGJvcmRlclxcbiAgICAgIHNpemVzIHNob3VsZCBiZSBzY2FsZWQgZm9yIG1vYmlsZSBlbnZpcm9ubWVudHMuXCIpLmRlZmF1bHRWYWx1ZSh0cnVlKSxcbiAgICByb3VuZDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmJvb2wsIFByb3BUeXBlcy5vbmVPZihbJ3hzbWFsbCcsICdzbWFsbCcsICdtZWRpdW0nLCAnbGFyZ2UnLCAneGxhcmdlJywgJ2Z1bGwnXSksIFByb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICBjb3JuZXI6IFByb3BUeXBlcy5vbmVPZihbJ3RvcCcsICdsZWZ0JywgJ2JvdHRvbScsICdyaWdodCcsICd0b3AtbGVmdCcsICd0b3AtcmlnaHQnLCAnYm90dG9tLWxlZnQnLCAnYm90dG9tLXJpZ2h0J10pLFxuICAgICAgc2l6ZTogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFsneHNtYWxsJywgJ3NtYWxsJywgJ21lZGl1bScsICdsYXJnZScsICd4bGFyZ2UnXSksIFByb3BUeXBlcy5zdHJpbmddKVxuICAgIH0pXSkuZGVzY3JpcHRpb24oJ0hvdyBtdWNoIHRvIHJvdW5kIHRoZSBjb3JuZXJzLicpLmRlZmF1bHRWYWx1ZShmYWxzZSksXG4gICAgdGFnOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMuZnVuY10pLmRlc2NyaXB0aW9uKFwiVGhlIERPTSB0YWcgdG8gdXNlIGZvciB0aGUgZWxlbWVudC4gTk9URTogVGhpcyBpcyBkZXByZWNhdGVkIGluIGZhdm9yXFxub2YgaW5kaWNhdGluZyB0aGUgRE9NIHRhZyB2aWEgdGhlICdhcycgcHJvcGVydHkuXCIpLFxuICAgIGFzOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMuZnVuY10pLmRlc2NyaXB0aW9uKCdUaGUgRE9NIHRhZyBvciByZWFjdCBjb21wb25lbnQgdG8gdXNlIGZvciB0aGUgZWxlbWVudC4nKS5kZWZhdWx0VmFsdWUoJ2RpdicpLFxuICAgIHdpZHRoOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2YoWyd4eHNtYWxsJywgJ3hzbWFsbCcsICdzbWFsbCcsICdtZWRpdW0nLCAnbGFyZ2UnLCAneGxhcmdlJywgJ3h4bGFyZ2UnXSksIFByb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICBtaW46IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbJ3h4c21hbGwnLCAneHNtYWxsJywgJ3NtYWxsJywgJ21lZGl1bScsICdsYXJnZScsICd4bGFyZ2UnLCAneHhsYXJnZSddKSwgUHJvcFR5cGVzLnN0cmluZ10pLFxuICAgICAgbWF4OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2YoWyd4eHNtYWxsJywgJ3hzbWFsbCcsICdzbWFsbCcsICdtZWRpdW0nLCAnbGFyZ2UnLCAneGxhcmdlJywgJ3h4bGFyZ2UnXSksIFByb3BUeXBlcy5zdHJpbmddKVxuICAgIH0pXSkuZGVzY3JpcHRpb24oJ0EgZml4ZWQgd2lkdGguJyksXG4gICAgd3JhcDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmJvb2wsIFByb3BUeXBlcy5vbmVPZihbJ3JldmVyc2UnXSldKS5kZXNjcmlwdGlvbihcIldoZXRoZXIgY2hpbGRyZW4gY2FuIHdyYXAgaWYgdGhleSBjYW4ndCBhbGwgZml0LlwiKS5kZWZhdWx0VmFsdWUoZmFsc2UpXG4gIH0pO1xuICByZXR1cm4gRG9jdW1lbnRlZEJveDtcbn07XG5leHBvcnQgdmFyIHRoZW1lRG9jID0gX2V4dGVuZHMoe1xuICAnZ2xvYmFsLmFuaW1hdGlvbic6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBhbmltYXRpb24gY29uZmlndXJhdGlvbiBmb3IgdGhlIEJveC4nLFxuICAgIHR5cGU6ICdvYmplY3QnLFxuICAgIGRlZmF1bHRWYWx1ZTogXCJ7XFxuICBkdXJhdGlvbjogJzFzJyxcXG4gIGppZ2dsZToge1xcbiAgICBkdXJhdGlvbjogJzAuMXMnLFxcbiAgfSxcXG59XCJcbiAgfSxcbiAgJ2dsb2JhbC5ib3JkZXJTaXplJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIHBvc3NpYmxlIGJvcmRlciBzaXplcyBpbiB0aGUgQm94LicsXG4gICAgdHlwZTogJ29iamVjdCcsXG4gICAgZGVmYXVsdFZhbHVlOiBcIntcXG4gIHhzbWFsbDogJzFweCcsXFxuICBzbWFsbDogJzJweCcsXFxuICBtZWRpdW06ICc0cHgnLFxcbiAgbGFyZ2U6ICcxMnB4JyxcXG4gIHhsYXJnZTogJzI0cHgsXFxufVwiXG4gIH0sXG4gICdnbG9iYWwuZWxldmF0aW9uJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIHBvc3NpYmxlIHNoYWRvd3MgaW4gQm94IGVsZXZhdGlvbi4nLFxuICAgIHR5cGU6ICdvYmplY3QnLFxuICAgIGRlZmF1bHRWYWx1ZTogXCJ7XFxuICBsaWdodDoge1xcbiAgICBub25lOiAnbm9uZScsXFxuICAgIHhzbWFsbDogJzBweCAxcHggMnB4IHJnYmEoMTAwLCAxMDAsIDEwMCwgMC41MCknLFxcbiAgICBzbWFsbDogJzBweCAycHggNHB4IHJnYmEoMTAwLCAxMDAsIDEwMCwgMC41MCknLFxcbiAgICBtZWRpdW06ICcwcHggM3B4IDhweCByZ2JhKDEwMCwgMTAwLCAxMDAsIDAuNTApJyxcXG4gICAgbGFyZ2U6ICcwcHggNnB4IDEycHggcmdiYSgxMDAsIDEwMCwgMTAwLCAwLjUwKScsXFxuICAgIHhsYXJnZTogJzBweCA4cHggMTZweCByZ2JhKDEwMCwgMTAwLCAxMDAsIDAuNTApJyxcXG4gIH0sXFxuICBkYXJrOiB7XFxuICAgIG5vbmU6ICdub25lJyxcXG4gICAgeHNtYWxsOiAnMHB4IDJweCAycHggcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjQwKScsXFxuICAgIHNtYWxsOiAnMHB4IDRweCA0cHggcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjQwKScsXFxuICAgIG1lZGl1bTogJzBweCA2cHggOHB4IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC40MCknLFxcbiAgICBsYXJnZTogJzBweCA4cHggMTZweCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNDApJyxcXG4gICAgeGxhcmdlOiAnMHB4IDEwcHggMjRweCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNDApJyxcXG4gIH0sXFxufVwiXG4gIH0sXG4gICdnbG9iYWwuY29sb3JzLmJvcmRlcic6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBjb2xvciBvZiB0aGUgYm9yZGVyJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgeyBkYXJrOiBzdHJpbmcsIGxpZ2h0OiBzdHJpbmcgfScsXG4gICAgZGVmYXVsdFZhbHVlOiAneyBkYXJrOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMzMpLCBsaWdodDogcmdiYSgwLCAwLCAwLCAwLjMzKSwgfSdcbiAgfSxcbiAgJ2dsb2JhbC5ob3Zlci5iYWNrZ3JvdW5kLmNvbG9yJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGNvbG9yIG9mIHRoZSBkZWZhdWx0IGJhY2tncm91bmQgd2hlbiBob3ZlcmluZycsXG4gICAgdHlwZTogJ3N0cmluZyB8IHsgZGFyazogc3RyaW5nLCBsaWdodDogc3RyaW5nIH0nLFxuICAgIGRlZmF1bHRWYWx1ZTogJ2FjdGl2ZSdcbiAgfSxcbiAgJ2dsb2JhbC5ob3Zlci5iYWNrZ3JvdW5kLm9wYWNpdHknOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgb3BhY2l0eSBvZiB0aGUgZGVmYXVsdCBiYWNrZ3JvdW5kIHdoZW4gaG92ZXJpbmcnLFxuICAgIHR5cGU6ICdzdHJpbmcgfCB7IGRhcms6IHN0cmluZywgbGlnaHQ6IHN0cmluZyB9JyxcbiAgICBkZWZhdWx0VmFsdWU6ICdtZWRpdW0nXG4gIH0sXG4gICdnbG9iYWwuaG92ZXIuY29sb3InOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgY29sb3Igb2YgdGhlIGRlZmF1bHQgYmFja2dyb3VuZCB3aGVuIGhvdmVyaW5nJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgeyBkYXJrOiBzdHJpbmcsIGxpZ2h0OiBzdHJpbmcgfScsXG4gICAgZGVmYXVsdFZhbHVlOiAneyBkYXJrOiBcIndoaXRlXCIsIGxpZ2h0OiBcImJsYWNrXCIgfSdcbiAgfSxcbiAgJ2dsb2JhbC5vcGFjaXR5Lm1lZGl1bSc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSB2YWx1ZSB1c2VkIHdoZW4gYmFja2dyb3VuZCBvcGFjaXR5IGlzIHNldCB0byB0cnVlLicsXG4gICAgdHlwZTogJ251bWJlcicsXG4gICAgZGVmYXVsdFZhbHVlOiAnMC40J1xuICB9LFxuICAnZ2xvYmFsLnNpemUnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgcG9zc2libGUgc2l6ZXMgZm9yIHdpZHRoLCBoZWlnaHQsIGFuZCBiYXNpcy4nLFxuICAgIHR5cGU6ICdvYmplY3QnLFxuICAgIGRlZmF1bHRWYWx1ZTogXCJ7XFxuICB4eHNtYWxsOiAnNDhweCcsXFxuICB4c21hbGw6ICc5NnB4JyxcXG4gIHNtYWxsOiAnMTkycHgnLFxcbiAgbWVkaXVtOiAnMzg0cHgnLFxcbiAgbGFyZ2U6ICc3NjhweCcsXFxuICB4bGFyZ2U6ICcxMTUycHgnLFxcbiAgeHhsYXJnZTogJzE1MzZweCcsXFxuICBmdWxsOiAnMTAwJScsXFxufVwiXG4gIH0sXG4gICdib3guZXh0ZW5kJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnQW55IGFkZGl0aW9uYWwgc3R5bGUgZm9yIHRoZSBCb3guJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgKHByb3BzKSA9PiB7fScsXG4gICAgZGVmYXVsdFZhbHVlOiB1bmRlZmluZWRcbiAgfSxcbiAgJ2JveC5yZXNwb25zaXZlQnJlYWtwb2ludCc6IHtcbiAgICBkZXNjcmlwdGlvbjogXCJUaGUgYWN0dWFsIGJyZWFrcG9pbnQgdG8gdHJpZ2dlciBjaGFuZ2VzIGluIHRoZSBib3JkZXIsIFxcbiAgICBkaXJlY3Rpb24sIGdhcCwgbWFyZ2luLCBwYWQsIGFuZCByb3VuZC5cIixcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICdzbWFsbCdcbiAgfVxufSwgdGhlbWVEb2NVdGlscy5lZGdlU3R5bGUoJ1RoZSBwb3NzaWJsZSBzaXplcyBmb3IgYW55IG9mIGdhcCwgbWFyZ2luLCBhbmQgcGFkLicpLCB7fSwgdGhlbWVEb2NVdGlscy5icmVha3BvaW50U3R5bGUoXCJUaGUgcG9zc2libGUgYnJlYWtwb2ludHMgdGhhdCBjb3VsZCBhZmZlY3QgYm9yZGVyLCBkaXJlY3Rpb24sIGdhcCwgbWFyZ2luLCBcXG4gICAgcGFkLCBhbmQgcm91bmQuXCIpKTsiLCJleHBvcnQgeyBCb3ggfSBmcm9tICcuL0JveCc7IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5pbXBvcnQgUmVhY3QsIHsgY2xvbmVFbGVtZW50LCBDaGlsZHJlbiwgZm9yd2FyZFJlZiwgdXNlQ29udGV4dCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBUaGVtZUNvbnRleHQgfSBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBjb2xvcklzRGFyaywgbm9ybWFsaXplQmFja2dyb3VuZCwgbm9ybWFsaXplQ29sb3IgfSBmcm9tICcuLi8uLi91dGlscyc7XG5pbXBvcnQgeyBkZWZhdWx0UHJvcHMgfSBmcm9tICcuLi8uLi9kZWZhdWx0LXByb3BzJztcbmltcG9ydCB7IEJveCB9IGZyb20gJy4uL0JveCc7XG5pbXBvcnQgeyBTdHlsZWRCdXR0b24gfSBmcm9tICcuL1N0eWxlZEJ1dHRvbic7XG52YXIgQnV0dG9uID0gZm9yd2FyZFJlZihmdW5jdGlvbiAoX3JlZiwgcmVmKSB7XG4gIHZhciBhMTF5VGl0bGUgPSBfcmVmLmExMXlUaXRsZSxcbiAgICAgIGNvbG9yID0gX3JlZi5jb2xvcixcbiAgICAgIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbixcbiAgICAgIGRpc2FibGVkID0gX3JlZi5kaXNhYmxlZCxcbiAgICAgIGljb24gPSBfcmVmLmljb24sXG4gICAgICBfcmVmJGZvY3VzSW5kaWNhdG9yID0gX3JlZi5mb2N1c0luZGljYXRvcixcbiAgICAgIGZvY3VzSW5kaWNhdG9yID0gX3JlZiRmb2N1c0luZGljYXRvciA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9yZWYkZm9jdXNJbmRpY2F0b3IsXG4gICAgICBfcmVmJGdhcCA9IF9yZWYuZ2FwLFxuICAgICAgZ2FwID0gX3JlZiRnYXAgPT09IHZvaWQgMCA/ICdzbWFsbCcgOiBfcmVmJGdhcCxcbiAgICAgIGZpbGwgPSBfcmVmLmZpbGwsXG4gICAgICBocmVmID0gX3JlZi5ocmVmLFxuICAgICAgbGFiZWwgPSBfcmVmLmxhYmVsLFxuICAgICAgX29uQmx1ciA9IF9yZWYub25CbHVyLFxuICAgICAgb25DbGljayA9IF9yZWYub25DbGljayxcbiAgICAgIF9vbkZvY3VzID0gX3JlZi5vbkZvY3VzLFxuICAgICAgb25Nb3VzZU91dCA9IF9yZWYub25Nb3VzZU91dCxcbiAgICAgIG9uTW91c2VPdmVyID0gX3JlZi5vbk1vdXNlT3ZlcixcbiAgICAgIHBsYWluID0gX3JlZi5wbGFpbixcbiAgICAgIHByaW1hcnkgPSBfcmVmLnByaW1hcnksXG4gICAgICByZXZlcnNlID0gX3JlZi5yZXZlcnNlLFxuICAgICAgX3JlZiR0eXBlID0gX3JlZi50eXBlLFxuICAgICAgdHlwZSA9IF9yZWYkdHlwZSA9PT0gdm9pZCAwID8gJ2J1dHRvbicgOiBfcmVmJHR5cGUsXG4gICAgICBhcyA9IF9yZWYuYXMsXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZiwgW1wiYTExeVRpdGxlXCIsIFwiY29sb3JcIiwgXCJjaGlsZHJlblwiLCBcImRpc2FibGVkXCIsIFwiaWNvblwiLCBcImZvY3VzSW5kaWNhdG9yXCIsIFwiZ2FwXCIsIFwiZmlsbFwiLCBcImhyZWZcIiwgXCJsYWJlbFwiLCBcIm9uQmx1clwiLCBcIm9uQ2xpY2tcIiwgXCJvbkZvY3VzXCIsIFwib25Nb3VzZU91dFwiLCBcIm9uTW91c2VPdmVyXCIsIFwicGxhaW5cIiwgXCJwcmltYXJ5XCIsIFwicmV2ZXJzZVwiLCBcInR5cGVcIiwgXCJhc1wiXSk7XG5cbiAgdmFyIHRoZW1lID0gdXNlQ29udGV4dChUaGVtZUNvbnRleHQpIHx8IGRlZmF1bHRQcm9wcy50aGVtZTtcblxuICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUoKSxcbiAgICAgIGZvY3VzID0gX3VzZVN0YXRlWzBdLFxuICAgICAgc2V0Rm9jdXMgPSBfdXNlU3RhdGVbMV07XG5cbiAgaWYgKChpY29uIHx8IGxhYmVsKSAmJiBjaGlsZHJlbikge1xuICAgIGNvbnNvbGUud2FybignQnV0dG9uIHNob3VsZCBub3QgaGF2ZSBjaGlsZHJlbiBpZiBpY29uIG9yIGxhYmVsIGlzIHByb3ZpZGVkJyk7XG4gIH1cblxuICB2YXIgaXNEYXJrQmFja2dyb3VuZCA9IGZ1bmN0aW9uIGlzRGFya0JhY2tncm91bmQoKSB7XG4gICAgdmFyIGJhY2tncm91bmRDb2xvciA9IG5vcm1hbGl6ZUJhY2tncm91bmQobm9ybWFsaXplQ29sb3IoY29sb3IgfHwgdGhlbWUuYnV0dG9uLnByaW1hcnkuY29sb3IgfHwgdGhlbWUuZ2xvYmFsLmNvbG9ycy5jb250cm9sIHx8ICdicmFuZCcsIHRoZW1lKSwgdGhlbWUpO1xuICAgIHJldHVybiBjb2xvcklzRGFyayhiYWNrZ3JvdW5kQ29sb3IsIHRoZW1lKTtcbiAgfTtcblxuICB2YXIgX3VzZVN0YXRlMiA9IHVzZVN0YXRlKGZhbHNlKSxcbiAgICAgIGhvdmVyID0gX3VzZVN0YXRlMlswXSxcbiAgICAgIHNldEhvdmVyID0gX3VzZVN0YXRlMlsxXTtcblxuICB2YXIgb25Nb3VzZU92ZXJCdXR0b24gPSBmdW5jdGlvbiBvbk1vdXNlT3ZlckJ1dHRvbihldmVudCkge1xuICAgIHNldEhvdmVyKHRydWUpO1xuXG4gICAgaWYgKG9uTW91c2VPdmVyKSB7XG4gICAgICBvbk1vdXNlT3ZlcihldmVudCk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBvbk1vdXNlT3V0QnV0dG9uID0gZnVuY3Rpb24gb25Nb3VzZU91dEJ1dHRvbihldmVudCkge1xuICAgIHNldEhvdmVyKGZhbHNlKTtcblxuICAgIGlmIChvbk1vdXNlT3V0KSB7XG4gICAgICBvbk1vdXNlT3V0KGV2ZW50KTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGJ1dHRvbkljb24gPSBpY29uOyAvLyBvbmx5IGNoYW5nZSBjb2xvciBpZiB1c2VyIGRpZCBub3Qgc3BlY2lmeSB0aGUgY29sb3IgdGhlbXNlbHZlcy4uLlxuXG4gIGlmIChwcmltYXJ5ICYmIGljb24gJiYgIWljb24ucHJvcHMuY29sb3IpIHtcbiAgICBidXR0b25JY29uID0gY2xvbmVFbGVtZW50KGljb24sIHtcbiAgICAgIGNvbG9yOiB0aGVtZS5nbG9iYWwuY29sb3JzLnRleHRbaXNEYXJrQmFja2dyb3VuZCgpID8gJ2RhcmsnIDogJ2xpZ2h0J11cbiAgICB9KTtcbiAgfVxuXG4gIHZhciBkb21UYWcgPSAhYXMgJiYgaHJlZiA/ICdhJyA6IGFzO1xuICB2YXIgZmlyc3QgPSByZXZlcnNlID8gbGFiZWwgOiBidXR0b25JY29uO1xuICB2YXIgc2Vjb25kID0gcmV2ZXJzZSA/IGJ1dHRvbkljb24gOiBsYWJlbDtcbiAgdmFyIGNvbnRlbnRzO1xuXG4gIGlmIChmaXJzdCAmJiBzZWNvbmQpIHtcbiAgICBjb250ZW50cyA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoQm94LCB7XG4gICAgICBkaXJlY3Rpb246IFwicm93XCIsXG4gICAgICBhbGlnbjogXCJjZW50ZXJcIixcbiAgICAgIGp1c3RpZnk6IFwiY2VudGVyXCIsXG4gICAgICBnYXA6IGdhcFxuICAgIH0sIGZpcnN0LCBzZWNvbmQpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBjaGlsZHJlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNvbnRlbnRzID0gY2hpbGRyZW4oe1xuICAgICAgaG92ZXI6IGhvdmVyLFxuICAgICAgZm9jdXM6IGZvY3VzXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgY29udGVudHMgPSBmaXJzdCB8fCBzZWNvbmQgfHwgY2hpbGRyZW47XG4gIH1cblxuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWRCdXR0b24sIF9leHRlbmRzKHt9LCByZXN0LCB7XG4gICAgYXM6IGRvbVRhZyxcbiAgICByZWY6IHJlZixcbiAgICBcImFyaWEtbGFiZWxcIjogYTExeVRpdGxlLFxuICAgIGNvbG9yVmFsdWU6IGNvbG9yLFxuICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICBoYXNJY29uOiAhIWljb24sXG4gICAgZ2FwOiBnYXAsXG4gICAgaGFzTGFiZWw6ICEhbGFiZWwsXG4gICAgZmlsbENvbnRhaW5lcjogZmlsbCxcbiAgICBmb2N1czogZm9jdXMsXG4gICAgZm9jdXNJbmRpY2F0b3I6IGZvY3VzSW5kaWNhdG9yLFxuICAgIGhyZWY6IGhyZWYsXG4gICAgb25DbGljazogb25DbGljayxcbiAgICBvbkZvY3VzOiBmdW5jdGlvbiBvbkZvY3VzKGV2ZW50KSB7XG4gICAgICBzZXRGb2N1cyh0cnVlKTtcbiAgICAgIGlmIChfb25Gb2N1cykgX29uRm9jdXMoZXZlbnQpO1xuICAgIH0sXG4gICAgb25CbHVyOiBmdW5jdGlvbiBvbkJsdXIoZXZlbnQpIHtcbiAgICAgIHNldEZvY3VzKGZhbHNlKTtcbiAgICAgIGlmIChfb25CbHVyKSBfb25CbHVyKGV2ZW50KTtcbiAgICB9LFxuICAgIG9uTW91c2VPdmVyOiBvbk1vdXNlT3ZlckJ1dHRvbixcbiAgICBvbk1vdXNlT3V0OiBvbk1vdXNlT3V0QnV0dG9uLFxuICAgIHBhZDogIXBsYWluLFxuICAgIHBsYWluOiB0eXBlb2YgcGxhaW4gIT09ICd1bmRlZmluZWQnID8gcGxhaW4gOiBDaGlsZHJlbi5jb3VudChjaGlsZHJlbikgPiAwIHx8IGljb24gJiYgIWxhYmVsLFxuICAgIHByaW1hcnk6IHByaW1hcnksXG4gICAgdHlwZTogIWhyZWYgPyB0eXBlIDogdW5kZWZpbmVkXG4gIH0pLCBjb250ZW50cyk7XG59KTtcbkJ1dHRvbi5kaXNwbGF5TmFtZSA9ICdCdXR0b24nO1xudmFyIEJ1dHRvbkRvYztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGdsb2JhbC1yZXF1aXJlXG4gIEJ1dHRvbkRvYyA9IHJlcXVpcmUoJy4vZG9jJykuZG9jKEJ1dHRvbik7XG59XG5cbnZhciBCdXR0b25XcmFwcGVyID0gQnV0dG9uRG9jIHx8IEJ1dHRvbjtcbmV4cG9ydCB7IEJ1dHRvbldyYXBwZXIgYXMgQnV0dG9uIH07IiwiaW1wb3J0IHN0eWxlZCwgeyBjc3MgfSBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBhY3RpdmVTdHlsZSwgYmFja2dyb3VuZFN0eWxlLCBkaXNhYmxlZFN0eWxlLCBmb2N1c1N0eWxlLCBnZW5lcmljU3R5bGVzLCBnZXRIb3ZlckluZGljYXRvclN0eWxlLCBub3JtYWxpemVDb2xvciB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmltcG9ydCB7IGRlZmF1bHRQcm9wcyB9IGZyb20gJy4uLy4uL2RlZmF1bHQtcHJvcHMnO1xuXG52YXIgYmFzaWNTdHlsZSA9IGZ1bmN0aW9uIGJhc2ljU3R5bGUocHJvcHMpIHtcbiAgcmV0dXJuIGNzcyhbXCJib3JkZXI6XCIsIFwiIHNvbGlkIFwiLCBcIjtib3JkZXItcmFkaXVzOlwiLCBcIjtjb2xvcjpcIiwgXCI7cGFkZGluZzpcIiwgXCIgXCIsIFwiO2ZvbnQtc2l6ZTpcIiwgXCI7bGluZS1oZWlnaHQ6XCIsIFwiO1wiXSwgcHJvcHMudGhlbWUuYnV0dG9uLmJvcmRlci53aWR0aCwgbm9ybWFsaXplQ29sb3IocHJvcHMuY29sb3JWYWx1ZSB8fCBwcm9wcy50aGVtZS5idXR0b24uYm9yZGVyLmNvbG9yIHx8ICdjb250cm9sJywgcHJvcHMudGhlbWUpLCBwcm9wcy50aGVtZS5idXR0b24uYm9yZGVyLnJhZGl1cywgbm9ybWFsaXplQ29sb3IocHJvcHMudGhlbWUuYnV0dG9uLmNvbG9yIHx8ICd0ZXh0JywgcHJvcHMudGhlbWUpLCBwcm9wcy50aGVtZS5idXR0b24ucGFkZGluZy52ZXJ0aWNhbCwgcHJvcHMudGhlbWUuYnV0dG9uLnBhZGRpbmcuaG9yaXpvbnRhbCwgcHJvcHMudGhlbWUudGV4dC5tZWRpdW0uc2l6ZSwgcHJvcHMudGhlbWUudGV4dC5tZWRpdW0uaGVpZ2h0KTtcbn07XG5cbnZhciBwcmltYXJ5U3R5bGUgPSBmdW5jdGlvbiBwcmltYXJ5U3R5bGUocHJvcHMpIHtcbiAgcmV0dXJuIGNzcyhbXCJcIiwgXCIgYm9yZGVyLXJhZGl1czpcIiwgXCI7XCJdLCBiYWNrZ3JvdW5kU3R5bGUobm9ybWFsaXplQ29sb3IocHJvcHMuY29sb3JWYWx1ZSB8fCBwcm9wcy50aGVtZS5idXR0b24ucHJpbWFyeS5jb2xvciB8fCAnY29udHJvbCcsIHByb3BzLnRoZW1lKSwgcHJvcHMudGhlbWUsIHByb3BzLnRoZW1lLmJ1dHRvbi5jb2xvciksIHByb3BzLnRoZW1lLmJ1dHRvbi5ib3JkZXIucmFkaXVzKTtcbn07XG5cbmZ1bmN0aW9uIGdldEhvdmVyQ29sb3IocHJvcHMpIHtcbiAgaWYgKHByb3BzLmNvbG9yVmFsdWUpIHtcbiAgICByZXR1cm4gbm9ybWFsaXplQ29sb3IocHJvcHMuY29sb3JWYWx1ZSwgcHJvcHMudGhlbWUpO1xuICB9XG5cbiAgcmV0dXJuIG5vcm1hbGl6ZUNvbG9yKHByb3BzLnRoZW1lLmJ1dHRvbi5ib3JkZXIuY29sb3IgfHwgJ2NvbnRyb2wnLCBwcm9wcy50aGVtZSk7XG59XG5cbnZhciBob3ZlclN0eWxlID0gY3NzKFtcIiY6aG92ZXJ7XCIsIFwiIFwiLCBcIjt9XCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLmhvdmVySW5kaWNhdG9yICYmIGdldEhvdmVySW5kaWNhdG9yU3R5bGUocHJvcHMuaG92ZXJJbmRpY2F0b3IsIHByb3BzLnRoZW1lKTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gIXByb3BzLnBsYWluICYmIGNzcyhbXCJib3gtc2hhZG93OjBweCAwcHggMHB4IDJweCBcIiwgXCI7XCJdLCBnZXRIb3ZlckNvbG9yKHByb3BzKSk7XG59KTtcblxudmFyIGZpbGxTdHlsZSA9IGZ1bmN0aW9uIGZpbGxTdHlsZShmaWxsQ29udGFpbmVyKSB7XG4gIGlmIChmaWxsQ29udGFpbmVyID09PSAnaG9yaXpvbnRhbCcpIHtcbiAgICByZXR1cm4gJ3dpZHRoOiAxMDAlOyc7XG4gIH1cblxuICBpZiAoZmlsbENvbnRhaW5lciA9PT0gJ3ZlcnRpY2FsJykge1xuICAgIHJldHVybiAnaGVpZ2h0OiAxMDAlOyc7XG4gIH1cblxuICBpZiAoZmlsbENvbnRhaW5lcikge1xuICAgIHJldHVybiBcIlxcbiAgICAgIHdpZHRoOiAxMDAlO1xcbiAgICAgIGhlaWdodDogMTAwJTtcXG4gICAgICBtYXgtd2lkdGg6IG5vbmU7XFxuICAgICAgZmxleDogMSAwIGF1dG87XFxuICAgIFwiO1xuICB9XG5cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn07XG5cbnZhciBwbGFpblN0eWxlID0gZnVuY3Rpb24gcGxhaW5TdHlsZShwcm9wcykge1xuICByZXR1cm4gY3NzKFtcImNvbG9yOlwiLCBcIjtib3JkZXI6bm9uZTtwYWRkaW5nOjA7dGV4dC1hbGlnbjppbmhlcml0O1wiXSwgbm9ybWFsaXplQ29sb3IocHJvcHMuY29sb3JWYWx1ZSB8fCAnaW5oZXJpdCcsIHByb3BzLnRoZW1lKSk7XG59OyAvLyBEZXByZWNhdGUgcHJvcHMudGhlbWUuYnV0dG9uLmRpc2FibGVkLm9wYWNpdHkgaW4gVjNcblxuXG52YXIgU3R5bGVkQnV0dG9uID0gc3R5bGVkLmJ1dHRvbi53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiU3R5bGVkQnV0dG9uXCIsXG4gIGNvbXBvbmVudElkOiBcInNjLTMyM2J6Yy0wXCJcbn0pKFtcImRpc3BsYXk6aW5saW5lLWJsb2NrO2JveC1zaXppbmc6Ym9yZGVyLWJveDtjdXJzb3I6cG9pbnRlcjtvdXRsaW5lOm5vbmU7Zm9udDppbmhlcml0O3RleHQtZGVjb3JhdGlvbjpub25lO21hcmdpbjowO2JhY2tncm91bmQ6dHJhbnNwYXJlbnQ7b3ZlcmZsb3c6dmlzaWJsZTt0ZXh0LXRyYW5zZm9ybTpub25lO1wiLCBcIiBcIiwgXCIgXCIsIFwiIFwiLCBcIiBcIiwgXCIgXCIsIFwiIFwiLCBcIiBcIiwgXCIgXCIsIFwiIFwiLCBcIiBcIiwgXCIgXCIsIFwiIFwiLCBcIlwiXSwgZ2VuZXJpY1N0eWxlcywgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5wbGFpbiAmJiBwbGFpblN0eWxlKHByb3BzKTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gIXByb3BzLnBsYWluICYmIGJhc2ljU3R5bGUocHJvcHMpO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5wcmltYXJ5ICYmIHByaW1hcnlTdHlsZShwcm9wcyk7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuICFwcm9wcy5kaXNhYmxlZCAmJiAhcHJvcHMuZm9jdXMgJiYgaG92ZXJTdHlsZTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gIXByb3BzLmRpc2FibGVkICYmIHByb3BzLmFjdGl2ZSAmJiBhY3RpdmVTdHlsZTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuZGlzYWJsZWQgJiYgZGlzYWJsZWRTdHlsZShwcm9wcy50aGVtZS5idXR0b24uZGlzYWJsZWQgJiYgcHJvcHMudGhlbWUuYnV0dG9uLmRpc2FibGVkLm9wYWNpdHkpO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5mb2N1cyAmJiAoIXByb3BzLnBsYWluIHx8IHByb3BzLmZvY3VzSW5kaWNhdG9yKSAmJiBmb2N1c1N0eWxlO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiAhcHJvcHMucGxhaW4gJiYgXCJcXG4gICAgdHJhbnNpdGlvbi1wcm9wZXJ0eTogY29sb3IsXFxuICAgICAgYmFja2dyb3VuZC1jb2xvcixcXG4gICAgICBib3JkZXItY29sb3IsXFxuICAgICAgYm94LXNoYWRvdztcXG4gICAgdHJhbnNpdGlvbi1kdXJhdGlvbjogMC4xcztcXG4gICAgdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb246IGVhc2UtaW4tb3V0O1xcbiAgXCI7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLmZpbGxDb250YWluZXIgJiYgZmlsbFN0eWxlKHByb3BzLmZpbGxDb250YWluZXIpO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5oYXNJY29uICYmICFwcm9wcy5oYXNMYWJlbCAmJiBcIlxcbiAgICBsaW5lLWhlaWdodDogMDtcXG4gIFwiO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5wYWQgJiYgcHJvcHMuaGFzSWNvbiAmJiAhcHJvcHMuaGFzTGFiZWwgJiYgXCJcXG5wYWRkaW5nOiBcIiArIHByb3BzLnRoZW1lLmdsb2JhbC5lZGdlU2l6ZS5zbWFsbCArIFwiO1xcblwiO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5idXR0b24uZXh0ZW5kO1xufSk7XG5TdHlsZWRCdXR0b24uZGVmYXVsdFByb3BzID0ge307XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoU3R5bGVkQnV0dG9uLmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbmV4cG9ydCB7IFN0eWxlZEJ1dHRvbiB9OyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmltcG9ydCB7IGRlc2NyaWJlLCBQcm9wVHlwZXMgfSBmcm9tICdyZWFjdC1kZXNjJztcbmltcG9ydCB7IGNvbG9yUHJvcFR5cGUsIGdlbmVyaWNQcm9wcywgZ2V0QXZhaWxhYmxlQXRCYWRnZSwgaG92ZXJJbmRpY2F0b3JQcm9wVHlwZSwgdGhlbWVEb2NVdGlscyB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmV4cG9ydCB2YXIgZG9jID0gZnVuY3Rpb24gZG9jKEJ1dHRvbikge1xuICB2YXIgRG9jdW1lbnRlZEJ1dHRvbiA9IGRlc2NyaWJlKEJ1dHRvbikuYXZhaWxhYmxlQXQoZ2V0QXZhaWxhYmxlQXRCYWRnZSgnQnV0dG9uJykpLmRlc2NyaXB0aW9uKCdBIGJ1dHRvbi4nKS5kZXRhaWxzKFwiWW91IGNhbiBwcm92aWRlIGEgc2luZ2xlIGZ1bmN0aW9uIGNoaWxkIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2l0aFxcbiAgICAgICdob3ZlcicgYW5kICdmb2N1cycga2V5cy4gVGhpcyBhbGxvd3MgeW91IHRvIGN1c3RvbWl6ZSB0aGUgcmVuZGVyaW5nXFxuICAgICAgb2YgdGhlIEJ1dHRvbiBpbiB0aG9zZSBjYXNlcy5cIikudXNhZ2UoXCJpbXBvcnQgeyBCdXR0b24gfSBmcm9tICdncm9tbWV0JztcXG48QnV0dG9uIHByaW1hcnkgbGFiZWw9J0xhYmVsJyAvPlwiKS5pbnRyaW5zaWNFbGVtZW50KCdidXR0b24nKTtcbiAgRG9jdW1lbnRlZEJ1dHRvbi5wcm9wVHlwZXMgPSBfZXh0ZW5kcyh7fSwgZ2VuZXJpY1Byb3BzLCB7XG4gICAgYWN0aXZlOiBQcm9wVHlwZXMuYm9vbC5kZXNjcmlwdGlvbignV2hldGhlciB0aGUgYnV0dG9uIGlzIGFjdGl2ZS4nKS5kZWZhdWx0VmFsdWUoZmFsc2UpLFxuICAgIGNvbG9yOiBjb2xvclByb3BUeXBlLmRlc2NyaXB0aW9uKCdGaWxsIGNvbG9yIGZvciBwcmltYXJ5LCBsYWJlbCBjb2xvciBmb3IgcGxhaW4sIGJvcmRlciBjb2xvciBvdGhlcndpc2UuJyksXG4gICAgZGlzYWJsZWQ6IFByb3BUeXBlcy5ib29sLmRlc2NyaXB0aW9uKCdXaGV0aGVyIHRoZSBidXR0b24gaXMgZGlzYWJsZWQuJykuZGVmYXVsdFZhbHVlKGZhbHNlKSxcbiAgICBmaWxsOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2YoWydob3Jpem9udGFsJywgJ3ZlcnRpY2FsJ10pLCBQcm9wVHlwZXMuYm9vbF0pLmRlc2NyaXB0aW9uKFwiV2hldGhlciB0aGUgYnV0dG9uIGV4cGFuZHMgdG8gZmlsbCBhbGwgb2YgdGhlIGF2YWlsYWJsZSB3aWR0aCBhbmQvb3IgXFxuICAgICAgICBoZWlnaHQuXCIpLmRlZmF1bHRWYWx1ZShmYWxzZSksXG4gICAgZm9jdXNJbmRpY2F0b3I6IFByb3BUeXBlcy5ib29sLmRlc2NyaXB0aW9uKFwiV2hldGhlciB3aGVuICdwbGFpbicgaXQgc2hvdWxkIHJlY2VpdmUgYSBmb2N1cyBvdXRsaW5lLlwiKS5kZWZhdWx0VmFsdWUodHJ1ZSksXG4gICAgaG92ZXJJbmRpY2F0b3I6IGhvdmVySW5kaWNhdG9yUHJvcFR5cGUuZGVzY3JpcHRpb24oXCJUaGUgaG92ZXIgaW5kaWNhdG9yIHRvIGFwcGx5IHdoZW4gdGhlIHVzZXIgaXMgbW91c2luZyBvdmVyIHRoZVxcbmJ1dHRvbi4gQW4gb2JqZWN0IGNhbiBiZSBhbHNvIGJlIHNwZWNpZmllZCBmb3IgY29sb3IgaW5kZXggc3VwcG9ydDpcXG57YmFja2dyb3VuZDogJ25ldXRyYWwtMid9LiBUaGlzIHByb3AgaXMgbWVhbnQgdG8gYmUgdXNlZCBvbmx5XFxud2l0aCBwbGFpbiBCdXR0b25zLlwiKS5kZWZhdWx0VmFsdWUoZmFsc2UpLFxuICAgIGhyZWY6IFByb3BUeXBlcy5zdHJpbmcuZGVzY3JpcHRpb24oJ0lmIHNwZWNpZmllZCwgdGhlIGJ1dHRvbiB3aWxsIGJlaGF2ZSBsaWtlIGFuIGFuY2hvciB0YWcuJyksXG4gICAgdGFyZ2V0OiBQcm9wVHlwZXMub25lT2YoWydfc2VsZicsICdfYmxhbmsnLCAnX3BhcmVudCcsICdfdG9wJ10pLmRlc2NyaXB0aW9uKFwiU3BlY2lmaWVzIHdoZXJlIHRvIGRpc3BsYXkgdGhlIFVSTCBkZWZpbmVkIGluIHRoZSBocmVmIHByb3BlcnR5LlwiKSxcbiAgICBpY29uOiBQcm9wVHlwZXMuZWxlbWVudC5kZXNjcmlwdGlvbignSWNvbiBlbGVtZW50IHRvIHBsYWNlIGluIHRoZSBidXR0b24uJyksXG4gICAgZ2FwOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2YoWydub25lJywgJ3h4c21hbGwnLCAneHNtYWxsJywgJ3NtYWxsJywgJ21lZGl1bScsICdsYXJnZScsICd4bGFyZ2UnXSksIFByb3BUeXBlcy5zdHJpbmddKS5kZXNjcmlwdGlvbihcIlRoZSBhbW91bnQgb2Ygc3BhY2luZyBiZXR3ZWVuIGljb24gYW5kIGxhYmVsIGluIHRoZSBidXR0b24uXCIpLmRlZmF1bHRWYWx1ZSgnc21hbGwnKSxcbiAgICBsYWJlbDogUHJvcFR5cGVzLm5vZGUuZGVzY3JpcHRpb24oJ0xhYmVsIHRleHQgdG8gcGxhY2UgaW4gdGhlIGJ1dHRvbi4nKSxcbiAgICBvbkNsaWNrOiBQcm9wVHlwZXMuZnVuYy5kZXNjcmlwdGlvbihcIkNsaWNrIGhhbmRsZXIuIE5vdCBzZXR0aW5nIHRoaXMgcHJvcGVydHkgYW5kIG5vdCBzcGVjaWZ5aW5nIGEgaHJlZlxcbmNhdXNlcyB0aGUgQnV0dG9uIHRvIGJlIGRpc2FibGVkLlwiKSxcbiAgICBwbGFpbjogUHJvcFR5cGVzLmJvb2wuZGVzY3JpcHRpb24oXCJXaGV0aGVyIHRoaXMgaXMgYSBwbGFpbiBidXR0b24gd2l0aCBubyBib3JkZXIgb3IgcGFkLlxcbk5vbiBwbGFpbiBidXR0b24gd2lsbCBzaG93IGJvdGggcGFkIGFuZCBib3JkZXIuXFxuVGhlIHBsYWluIGJ1dHRvbiBoYXMgbm8gYm9yZGVyIGFuZCB1bmxlc3MgdGhlIGljb24gcHJvcCBleGlzdCBpdCBoYXMgbm8gcGFkIGFzIFxcbndlbGwuXCIpLmRlZmF1bHRWYWx1ZShmYWxzZSksXG4gICAgcHJpbWFyeTogUHJvcFR5cGVzLmJvb2wuZGVzY3JpcHRpb24oXCJXaGV0aGVyIHRoaXMgaXMgYSBwcmltYXJ5IGJ1dHRvbi4gVGhlcmUgc2hvdWxkIGJlIGF0IG1vc3Qgb25lIHBlciBwYWdlXFxuICAgICAgICAgb3Igc2NyZWVuLlwiKS5kZWZhdWx0VmFsdWUoZmFsc2UpLFxuICAgIHJldmVyc2U6IFByb3BUeXBlcy5ib29sLmRlc2NyaXB0aW9uKFwiV2hldGhlciBhbiBpY29uIGFuZCBsYWJlbCBzaG91bGQgYmUgcmV2ZXJzZWQgc28gdGhhdCB0aGUgaWNvbiBpcyBhdCB0aGVcXG5lbmQgb2YgdGhlIGFuY2hvci5cIikuZGVmYXVsdFZhbHVlKGZhbHNlKSxcbiAgICB0eXBlOiBQcm9wVHlwZXMub25lT2YoWydidXR0b24nLCAncmVzZXQnLCAnc3VibWl0J10pLmRlc2NyaXB0aW9uKFwiVGhlIHR5cGUgb2YgYnV0dG9uLiBTZXQgdGhlIHR5cGUgdG8gc3VibWl0IGZvciB0aGUgZGVmYXVsdCBidXR0b24gb24gXFxuICAgICAgICBmb3Jtcy5cIikuZGVmYXVsdFZhbHVlKCdidXR0b24nKSxcbiAgICBhczogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLmZ1bmNdKS5kZXNjcmlwdGlvbihcIlRoZSBET00gdGFnIG9yIHJlYWN0IGNvbXBvbmVudCB0byB1c2UgZm9yIHRoZSBlbGVtZW50LlwiKVxuICB9KTtcbiAgcmV0dXJuIERvY3VtZW50ZWRCdXR0b247XG59O1xuZXhwb3J0IHZhciB0aGVtZURvYyA9IF9leHRlbmRzKHtcbiAgJ2dsb2JhbC5hY3RpdmUuYmFja2dyb3VuZC5jb2xvcic6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBiYWNrZ3JvdW5kIGNvbG9yIHdoZW4gdXNpbmcgYWN0aXZlIHByb3AuJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgeyBkYXJrOiBzdHJpbmcsIGxpZ2h0OiBzdHJpbmcgfScsXG4gICAgZGVmYXVsdFZhbHVlOiAnYWN0aXZlJ1xuICB9LFxuICAnZ2xvYmFsLmFjdGl2ZS5iYWNrZ3JvdW5kLm9wYWNpdHknOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgdmFsdWUgdXNlZCBmb3IgYWN0aXZlIGJ1dHRvbiBiYWNrZ3JvdW5kIG9wYWNpdHkuJyxcbiAgICB0eXBlOiAnbnVtYmVyIHwgc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICdtZWRpdW0nXG4gIH0sXG4gICdnbG9iYWwuYWN0aXZlLmNvbG9yJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIHRleHQgY29sb3Igd2hlbiB1c2luZyBhY3RpdmUgcHJvcC4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCB7IGRhcms6IHN0cmluZywgbGlnaHQ6IHN0cmluZyB9JyxcbiAgICBkZWZhdWx0VmFsdWU6IFwieyBkYXJrOiAnd2hpdGUnLCBsaWdodDogJ2JsYWNrJyB9XCJcbiAgfSxcbiAgJ2dsb2JhbC5ob3Zlci5iYWNrZ3JvdW5kJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGJhY2tncm91bmQgc3R5bGUgd2hlbiBob3ZlcmluZy4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCB7IGNvbG9yOiBzdHJpbmcsIG9wYWNpdHk6IHN0cmluZyB9JyxcbiAgICBkZWZhdWx0VmFsdWU6IFwieyBjb2xvcjogJ2FjdGl2ZScsIG9wYWNpdHk6ICdtZWRpdW0nIH1cIlxuICB9LFxuICAnZ2xvYmFsLmhvdmVyLmNvbG9yJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIHRleHQgY29sb3Igd2hlbiBob3ZlcmluZy4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCB7IGRhcms6IHN0cmluZywgbGlnaHQ6IHN0cmluZyB9JyxcbiAgICBkZWZhdWx0VmFsdWU6IFwieyBkYXJrOiAnd2hpdGUnLCBsaWdodDogJ2JsYWNrJyB9XCJcbiAgfSxcbiAgJ2dsb2JhbC5lZGdlU2l6ZS5zbWFsbCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBwYWRkaW5nIGFyb3VuZCBhbiBpY29uLW9ubHkgYnV0dG9uLicsXG4gICAgdHlwZTogJ3N0cmluZyB8IHsgZGFyazogc3RyaW5nLCBsaWdodDogc3RyaW5nIH0nLFxuICAgIGRlZmF1bHRWYWx1ZTogJzEycHgnXG4gIH0sXG4gICdnbG9iYWwuY29sb3JzLmNvbnRyb2wnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgY29sb3Igb2YgdGhlIGJvcmRlci4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCB7IGRhcms6IHN0cmluZywgbGlnaHQ6IHN0cmluZyB9JyxcbiAgICBkZWZhdWx0VmFsdWU6IFwieyBkYXJrOiAnYWNjZW50LTEnLCBsaWdodDogJ2JyYW5kJywgfVwiXG4gIH0sXG4gICdnbG9iYWwuY29sb3JzLmJyYW5kJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGxpZ2h0IHZlcnNpb24gb2YgdGhlIGJvcmRlci4nLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogJyM3RDRDREInXG4gIH0sXG4gICdnbG9iYWwuY29sb3JzLnRleHQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgY29sb3Igb2YgdGhlIHRleHQgbGFiZWwuJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgeyBkYXJrOiBzdHJpbmcsIGxpZ2h0OiBzdHJpbmcgfScsXG4gICAgZGVmYXVsdFZhbHVlOiBcInsgZGFyazogJyNmOGY4ZjgnLCBsaWdodDogJyM0NDQ0NDQnIH1cIlxuICB9LFxuICAndGV4dC5tZWRpdW0uc2l6ZSc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBmb250IHNpemUgb2YgdGhlIHRleHQgbGFiZWwuJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICcxOHB4J1xuICB9LFxuICAndGV4dC5tZWRpdW0uaGVpZ2h0Jzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGxpbmUgaGVpZ2h0IG9mIHRoZSB0ZXh0IGxhYmVsLicsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiAnMjRweCdcbiAgfSxcbiAgJ2J1dHRvbi5ib3JkZXIuY29sb3InOiB7XG4gICAgZGVzY3JpcHRpb246IFwiVGhlIGNvbG9yIG9mIHRoZSBib3JkZXIuXCIsXG4gICAgdHlwZTogJ3N0cmluZyB8IHsgZGFyazogc3RyaW5nLCBsaWdodDogc3RyaW5nIH0nXG4gIH0sXG4gICdidXR0b24uYm9yZGVyLnJhZGl1cyc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBjb3JuZXIgcmFkaXVzLicsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiAnMThweCdcbiAgfSxcbiAgJ2J1dHRvbi5ib3JkZXIud2lkdGgnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgYm9yZGVyIHdpZHRoLicsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiAnMnB4J1xuICB9LFxuICAnYnV0dG9uLmNvbG9yJzoge1xuICAgIGRlc2NyaXB0aW9uOiBcIlRoZSBjb2xvciBvZiB0aGUgdGV4dCBsYWJlbC5cIixcbiAgICB0eXBlOiAnc3RyaW5nIHwgeyBkYXJrOiBzdHJpbmcsIGxpZ2h0OiBzdHJpbmcgfSdcbiAgfSxcbiAgJ2J1dHRvbi5wcmltYXJ5LmNvbG9yJzoge1xuICAgIGRlc2NyaXB0aW9uOiBcIlRoZSBjb2xvciBvZiB0aGUgYmFja2dyb3VuZCBmb3IgcHJpbWFyeSBidXR0b25zLlwiLFxuICAgIHR5cGU6ICdzdHJpbmcgfCB7IGRhcms6IHN0cmluZywgbGlnaHQ6IHN0cmluZyB9J1xuICB9LFxuICAnYnV0dG9uLmRpc2FibGVkLm9wYWNpdHknOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgb3BhY2l0eSB3aGVuIHRoZSBidXR0b24gaXMgZGlzYWJsZWQuJyxcbiAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICBkZWZhdWx0VmFsdWU6IDAuM1xuICB9LFxuICAnYnV0dG9uLnBhZGRpbmcuaG9yaXpvbnRhbCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBob3Jpem9udGFsIHBhZGRpbmcuJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICcyMnB4J1xuICB9LFxuICAnYnV0dG9uLnBhZGRpbmcudmVydGljYWwnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgdmVydGljYWwgcGFkZGluZy4nLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogJzRweCdcbiAgfSxcbiAgJ2J1dHRvbi5leHRlbmQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdBbnkgYWRkaXRpb25hbCBzdHlsZSBmb3IgdGhlIEJ1dHRvbi4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCAocHJvcHMpID0+IHt9J1xuICB9XG59LCB0aGVtZURvY1V0aWxzLmZvY3VzU3R5bGUsIHt9LCB0aGVtZURvY1V0aWxzLmRpc2FibGVkU3R5bGUpOyIsImV4cG9ydCB7IEJ1dHRvbiB9IGZyb20gJy4vQnV0dG9uJzsiLCJmdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHNMb29zZShzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MucHJvdG90eXBlKTsgc3ViQ2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gc3ViQ2xhc3M7IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbXBvc2UgfSBmcm9tICdyZWNvbXBvc2UnO1xuaW1wb3J0IHsgd2l0aFRoZW1lIH0gZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgZGVmYXVsdFByb3BzIH0gZnJvbSAnLi4vLi4vZGVmYXVsdC1wcm9wcyc7XG5pbXBvcnQgeyBCb3ggfSBmcm9tICcuLi9Cb3gnO1xuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnLi4vQnV0dG9uJztcbmltcG9ydCB7IEhlYWRpbmcgfSBmcm9tICcuLi9IZWFkaW5nJztcbmltcG9ydCB7IEtleWJvYXJkIH0gZnJvbSAnLi4vS2V5Ym9hcmQnO1xuaW1wb3J0IHsgU3R5bGVkQ2FsZW5kYXIsIFN0eWxlZERheSwgU3R5bGVkRGF5Q29udGFpbmVyLCBTdHlsZWRXZWVrLCBTdHlsZWRXZWVrcywgU3R5bGVkV2Vla3NDb250YWluZXIgfSBmcm9tICcuL1N0eWxlZENhbGVuZGFyJztcbmltcG9ydCB7IGFkZERheXMsIGFkZE1vbnRocywgYmV0d2VlbkRhdGVzLCBkYXlzQXBhcnQsIGVuZE9mTW9udGgsIHN0YXJ0T2ZNb250aCwgc3VidHJhY3REYXlzLCBzdWJ0cmFjdE1vbnRocywgd2l0aGluRGF0ZXMsIHVwZGF0ZURhdGVSYW5nZSB9IGZyb20gJy4vdXRpbHMnO1xudmFyIGhlYWRpbmdQYWRNYXAgPSB7XG4gIHNtYWxsOiAneHNtYWxsJyxcbiAgbWVkaXVtOiAnc21hbGwnLFxuICBsYXJnZTogJ21lZGl1bSdcbn07XG5cbnZhciBidWlsZFN0YXJ0RW5kID0gZnVuY3Rpb24gYnVpbGRTdGFydEVuZChyZWZlcmVuY2UsIGZpcnN0RGF5T2ZXZWVrKSB7XG4gIHZhciBzdGFydCA9IG5ldyBEYXRlKHJlZmVyZW5jZSk7XG4gIHN0YXJ0LnNldERhdGUoMSk7IC8vIGZpcnN0IG9mIG1vbnRoXG4gIC8vIEluIGNhc2UgU3VuZGF5IGlzIHRoZSBmaXJzdCBkYXkgb2YgdGhlIG1vbnRoLCBhbmQgdGhlIHVzZXIgYXNrZWQgZm9yIE1vbmRheVxuICAvLyB0byBiZSB0aGUgZmlyc3QgZGF5IG9mIHRoZSB3ZWVrLCB0aGVuIHdlIG5lZWQgdG8gaW5jbHVkZSBTdW5kYXkgYW5kIHNpeFxuICAvLyBkYXlzIHByaW9yLlxuXG4gIHN0YXJ0ID0gc3RhcnQuZ2V0RGF5KCkgPT09IDAgJiYgZmlyc3REYXlPZldlZWsgPT09IDEgPyBzdGFydCA9IHN1YnRyYWN0RGF5cyhzdGFydCwgNikgOiAvLyBiZWdpbm5pbmcgb2Ygd2Vla1xuICBzdGFydCA9IHN1YnRyYWN0RGF5cyhzdGFydCwgc3RhcnQuZ2V0RGF5KCkgLSBmaXJzdERheU9mV2Vlayk7XG4gIHZhciBlbmQgPSBhZGREYXlzKHN0YXJ0LCA3ICogNSArIDcpOyAvLyA1IHdlZWtzIHRvIGVuZCBvZiB3ZWVrXG5cbiAgcmV0dXJuIHtcbiAgICBzdGFydDogc3RhcnQsXG4gICAgZW5kOiBlbmRcbiAgfTtcbn07XG5cbnZhciBidWlsZFN0YXRlID0gZnVuY3Rpb24gYnVpbGRTdGF0ZShwcm9wcykge1xuICB2YXIgZGF0ZSA9IHByb3BzLmRhdGUsXG4gICAgICBkYXRlcyA9IHByb3BzLmRhdGVzLFxuICAgICAgZmlyc3REYXlPZldlZWsgPSBwcm9wcy5maXJzdERheU9mV2VlayxcbiAgICAgIHJlZmVyZW5jZSA9IHByb3BzLnJlZmVyZW5jZTtcbiAgdmFyIG5vcm1hbGl6ZWRSZWZlcmVuY2U7XG5cbiAgaWYgKHJlZmVyZW5jZSkge1xuICAgIG5vcm1hbGl6ZWRSZWZlcmVuY2UgPSBuZXcgRGF0ZShyZWZlcmVuY2UpO1xuICB9IGVsc2UgaWYgKGRhdGUpIHtcbiAgICBub3JtYWxpemVkUmVmZXJlbmNlID0gbmV3IERhdGUoZGF0ZSk7XG4gIH0gZWxzZSBpZiAoZGF0ZXMgJiYgZGF0ZXMubGVuZ3RoID4gMCkge1xuICAgIGlmICh0eXBlb2YgZGF0ZXNbMF0gPT09ICdzdHJpbmcnKSB7XG4gICAgICBub3JtYWxpemVkUmVmZXJlbmNlID0gbmV3IERhdGUoZGF0ZXNbMF0pO1xuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShkYXRlc1swXSkpIHtcbiAgICAgIG5vcm1hbGl6ZWRSZWZlcmVuY2UgPSBuZXcgRGF0ZShkYXRlc1swXVswXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5vcm1hbGl6ZWRSZWZlcmVuY2UgPSBuZXcgRGF0ZSgpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBub3JtYWxpemVkUmVmZXJlbmNlID0gbmV3IERhdGUoKTtcbiAgfVxuXG4gIHJldHVybiBfZXh0ZW5kcyh7fSwgYnVpbGRTdGFydEVuZChub3JtYWxpemVkUmVmZXJlbmNlLCBmaXJzdERheU9mV2VlayksIHtcbiAgICByZWZlcmVuY2U6IG5vcm1hbGl6ZWRSZWZlcmVuY2VcbiAgfSk7XG59O1xuXG52YXIgQ2FsZW5kYXIgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoQ2FsZW5kYXIsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIENhbGVuZGFyKCkge1xuICAgIHZhciBfdGhpcztcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBfdGhpcyA9IF9Db21wb25lbnQuY2FsbC5hcHBseShfQ29tcG9uZW50LCBbdGhpc10uY29uY2F0KGFyZ3MpKSB8fCB0aGlzO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcInN0YXRlXCIsIHt9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJkYXlSZWZzXCIsIHt9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJjbGVhclNsaWRlU3RhdGVMYXRlclwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBjbGVhclRpbWVvdXQoX3RoaXMudGltZXIpO1xuICAgICAgX3RoaXMudGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHRhcmdldFN0YXJ0RW5kID0gX3RoaXMuc3RhdGUudGFyZ2V0U3RhcnRFbmQ7XG5cbiAgICAgICAgaWYgKHRhcmdldFN0YXJ0RW5kKSB7XG4gICAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgc3RhcnQ6IHRhcmdldFN0YXJ0RW5kLnN0YXJ0LFxuICAgICAgICAgICAgZW5kOiB0YXJnZXRTdGFydEVuZC5lbmQsXG4gICAgICAgICAgICB0YXJnZXRTdGFydEVuZDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgc2xpZGU6IHVuZGVmaW5lZFxuICAgICAgICAgIH0pO1xuICAgICAgICB9IC8vIFdhaXQgZm9yIGFuaW1hdGlvbiB0byBmaW5pc2ggYmVmb3JlIGNsZWFuaW5nIHVwLlxuICAgICAgICAvLyBFbXBpcmljYWxseSBkZXRlcm1pbmVkLlxuXG4gICAgICB9LCA4MDApO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcInNldFJlZmVyZW5jZVwiLCBmdW5jdGlvbiAocmVmZXJlbmNlKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBhbmltYXRlID0gX3RoaXMkcHJvcHMuYW5pbWF0ZSxcbiAgICAgICAgICBib3VuZHMgPSBfdGhpcyRwcm9wcy5ib3VuZHMsXG4gICAgICAgICAgZmlyc3REYXlPZldlZWsgPSBfdGhpcyRwcm9wcy5maXJzdERheU9mV2VlayxcbiAgICAgICAgICBvblJlZmVyZW5jZSA9IF90aGlzJHByb3BzLm9uUmVmZXJlbmNlO1xuICAgICAgdmFyIF90aGlzJHN0YXRlID0gX3RoaXMuc3RhdGUsXG4gICAgICAgICAgc3RhcnQgPSBfdGhpcyRzdGF0ZS5zdGFydCxcbiAgICAgICAgICBlbmQgPSBfdGhpcyRzdGF0ZS5lbmQsXG4gICAgICAgICAgdGFyZ2V0U3RhcnRFbmQgPSBfdGhpcyRzdGF0ZS50YXJnZXRTdGFydEVuZDtcblxuICAgICAgaWYgKGJldHdlZW5EYXRlcyhyZWZlcmVuY2UsIGJvdW5kcykpIHtcbiAgICAgICAgdmFyIG5leHRTdGFydEVuZCA9IGJ1aWxkU3RhcnRFbmQocmVmZXJlbmNlLCBmaXJzdERheU9mV2Vlayk7XG4gICAgICAgIHZhciBuZXh0U3RhdGUgPSB7XG4gICAgICAgICAgcmVmZXJlbmNlOiByZWZlcmVuY2VcbiAgICAgICAgfTsgLy8gaWYgd2UncmUgY2hhbmdpbmcgdG9vIGZhc3QsIGJ5cGFzcyBhbmltYXRpb25cblxuICAgICAgICBpZiAoIWFuaW1hdGUgfHwgdGFyZ2V0U3RhcnRFbmQpIHtcbiAgICAgICAgICBuZXh0U3RhdGUudGFyZ2V0U3RhcnRFbmQgPSBuZXh0U3RhcnRFbmQ7XG4gICAgICAgICAgbmV4dFN0YXRlLnN0YXJ0ID0gbmV4dFN0YXJ0RW5kLnN0YXJ0O1xuICAgICAgICAgIG5leHRTdGF0ZS5lbmQgPSBuZXh0U3RhcnRFbmQuZW5kO1xuICAgICAgICAgIG5leHRTdGF0ZS50YXJnZXRTdGFydEVuZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBuZXh0U3RhdGUuc2xpZGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV4dFN0YXRlLnRhcmdldFN0YXJ0RW5kID0gbmV4dFN0YXJ0RW5kO1xuXG4gICAgICAgICAgaWYgKG5leHRTdGFydEVuZC5zdGFydC5nZXRUaW1lKCkgPCBzdGFydC5nZXRUaW1lKCkpIHtcbiAgICAgICAgICAgIG5leHRTdGF0ZS5zdGFydCA9IG5leHRTdGFydEVuZC5zdGFydDtcbiAgICAgICAgICAgIG5leHRTdGF0ZS5zbGlkZSA9IHtcbiAgICAgICAgICAgICAgZGlyZWN0aW9uOiAnZG93bicsXG4gICAgICAgICAgICAgIHdlZWtzOiBkYXlzQXBhcnQoc3RhcnQsIG5leHRTdGFydEVuZC5zdGFydCkgLyA3XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSBpZiAobmV4dFN0YXJ0RW5kLmVuZC5nZXRUaW1lKCkgPiBlbmQuZ2V0VGltZSgpKSB7XG4gICAgICAgICAgICBuZXh0U3RhdGUuZW5kID0gbmV4dFN0YXJ0RW5kLmVuZDtcbiAgICAgICAgICAgIG5leHRTdGF0ZS5zbGlkZSA9IHtcbiAgICAgICAgICAgICAgZGlyZWN0aW9uOiAndXAnLFxuICAgICAgICAgICAgICB3ZWVrczogZGF5c0FwYXJ0KG5leHRTdGFydEVuZC5lbmQsIGVuZCkgLyA3XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzLmNsZWFyU2xpZGVTdGF0ZUxhdGVyKCk7XG5cbiAgICAgICAgX3RoaXMuc2V0U3RhdGUobmV4dFN0YXRlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKG9uUmVmZXJlbmNlKSB7XG4gICAgICAgICAgICBvblJlZmVyZW5jZShyZWZlcmVuY2UudG9JU09TdHJpbmcoKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJvbkZvY3VzXCIsIGZ1bmN0aW9uIChkYXkpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBib3VuZHMgPSBfdGhpcy5wcm9wcy5ib3VuZHM7XG4gICAgICAgIHZhciByZWZlcmVuY2UgPSBfdGhpcy5zdGF0ZS5yZWZlcmVuY2U7XG5cbiAgICAgICAgaWYgKGJldHdlZW5EYXRlcyhkYXksIGJvdW5kcykpIHtcbiAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBmb2N1c2VkOiBkYXlcbiAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoZGF5LmdldE1vbnRoKCkgIT09IHJlZmVyZW5jZS5nZXRNb250aCgpKSB7XG4gICAgICAgICAgICAgIF90aGlzLnNldFJlZmVyZW5jZShkYXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIm9uQ2xpY2tEYXlcIiwgZnVuY3Rpb24gKGRhdGVTdHJpbmcpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyRwcm9wczIgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIG9uU2VsZWN0ID0gX3RoaXMkcHJvcHMyLm9uU2VsZWN0LFxuICAgICAgICAgICAgcmFuZ2UgPSBfdGhpcyRwcm9wczIucmFuZ2U7XG5cbiAgICAgICAgaWYgKHJhbmdlKSB7XG4gICAgICAgICAgdmFyIG5leHRTdGF0ZSA9IHVwZGF0ZURhdGVSYW5nZShkYXRlU3RyaW5nLCBfdGhpcy5zdGF0ZSk7XG5cbiAgICAgICAgICBfdGhpcy5zZXRTdGF0ZShuZXh0U3RhdGUpO1xuXG4gICAgICAgICAgaWYgKG9uU2VsZWN0KSB7XG4gICAgICAgICAgICBvblNlbGVjdChuZXh0U3RhdGUuZGF0ZXMgfHwgbmV4dFN0YXRlLmRhdGUgfHwgdW5kZWZpbmVkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAob25TZWxlY3QpIHtcbiAgICAgICAgICBvblNlbGVjdChkYXRlU3RyaW5nKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJzZXRGb2N1c1wiLCBmdW5jdGlvbiAoZGF5KSB7XG4gICAgICB2YXIgcmVmID0gX3RoaXMuZGF5UmVmc1tkYXkudG9JU09TdHJpbmcoKV07XG5cbiAgICAgIGlmIChyZWYgJiYgcmVmLmN1cnJlbnQpIHtcbiAgICAgICAgcmVmLmN1cnJlbnQuZm9jdXMoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJyZW5kZXJDYWxlbmRhckhlYWRlclwiLCBmdW5jdGlvbiAocHJldmlvdXNNb250aCwgbmV4dE1vbnRoKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMzID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgYm91bmRzID0gX3RoaXMkcHJvcHMzLmJvdW5kcyxcbiAgICAgICAgICBsb2NhbGUgPSBfdGhpcyRwcm9wczMubG9jYWxlLFxuICAgICAgICAgIHNpemUgPSBfdGhpcyRwcm9wczMuc2l6ZSxcbiAgICAgICAgICB0aGVtZSA9IF90aGlzJHByb3BzMy50aGVtZTtcbiAgICAgIHZhciByZWZlcmVuY2UgPSBfdGhpcy5zdGF0ZS5yZWZlcmVuY2U7XG4gICAgICB2YXIgUHJldmlvdXNJY29uID0gc2l6ZSA9PT0gJ3NtYWxsJyA/IHRoZW1lLmNhbGVuZGFyLmljb25zLnNtYWxsLnByZXZpb3VzIDogdGhlbWUuY2FsZW5kYXIuaWNvbnMucHJldmlvdXM7XG4gICAgICB2YXIgTmV4dEljb24gPSBzaXplID09PSAnc21hbGwnID8gdGhlbWUuY2FsZW5kYXIuaWNvbnMuc21hbGwubmV4dCA6IHRoZW1lLmNhbGVuZGFyLmljb25zLm5leHQ7XG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChCb3gsIHtcbiAgICAgICAgZGlyZWN0aW9uOiBcInJvd1wiLFxuICAgICAgICBqdXN0aWZ5OiBcImJldHdlZW5cIixcbiAgICAgICAgYWxpZ246IFwiY2VudGVyXCJcbiAgICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQm94LCB7XG4gICAgICAgIGZsZXg6IHRydWUsXG4gICAgICAgIHBhZDoge1xuICAgICAgICAgIGhvcml6b250YWw6IGhlYWRpbmdQYWRNYXBbc2l6ZV0gfHwgJ3NtYWxsJ1xuICAgICAgICB9XG4gICAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KEhlYWRpbmcsIHtcbiAgICAgICAgbGV2ZWw6IHNpemUgPT09ICdzbWFsbCcgPyB0aGVtZS5jYWxlbmRhci5oZWFkaW5nICYmIHRoZW1lLmNhbGVuZGFyLmhlYWRpbmcubGV2ZWwgfHwgNCA6ICh0aGVtZS5jYWxlbmRhci5oZWFkaW5nICYmIHRoZW1lLmNhbGVuZGFyLmhlYWRpbmcubGV2ZWwgfHwgNCkgLSAxLFxuICAgICAgICBzaXplOiBzaXplLFxuICAgICAgICBtYXJnaW46IFwibm9uZVwiXG4gICAgICB9LCByZWZlcmVuY2UudG9Mb2NhbGVEYXRlU3RyaW5nKGxvY2FsZSwge1xuICAgICAgICBtb250aDogJ2xvbmcnLFxuICAgICAgICB5ZWFyOiAnbnVtZXJpYydcbiAgICAgIH0pKSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQm94LCB7XG4gICAgICAgIGZsZXg6IGZhbHNlLFxuICAgICAgICBkaXJlY3Rpb246IFwicm93XCIsXG4gICAgICAgIGFsaWduOiBcImNlbnRlclwiXG4gICAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge1xuICAgICAgICBhMTF5VGl0bGU6IHByZXZpb3VzTW9udGgudG9Mb2NhbGVEYXRlU3RyaW5nKGxvY2FsZSwge1xuICAgICAgICAgIG1vbnRoOiAnbG9uZycsXG4gICAgICAgICAgeWVhcjogJ251bWVyaWMnXG4gICAgICAgIH0pLFxuICAgICAgICBpY29uOiBSZWFjdC5jcmVhdGVFbGVtZW50KFByZXZpb3VzSWNvbiwge1xuICAgICAgICAgIHNpemU6IHNpemUgIT09ICdzbWFsbCcgPyBzaXplIDogdW5kZWZpbmVkXG4gICAgICAgIH0pLFxuICAgICAgICBkaXNhYmxlZDogIWJldHdlZW5EYXRlcyhwcmV2aW91c01vbnRoLCBib3VuZHMpLFxuICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpcy5zZXRSZWZlcmVuY2UocHJldmlvdXNNb250aCk7XG4gICAgICAgIH1cbiAgICAgIH0pLCBSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge1xuICAgICAgICBhMTF5VGl0bGU6IG5leHRNb250aC50b0xvY2FsZURhdGVTdHJpbmcobG9jYWxlLCB7XG4gICAgICAgICAgbW9udGg6ICdsb25nJyxcbiAgICAgICAgICB5ZWFyOiAnbnVtZXJpYydcbiAgICAgICAgfSksXG4gICAgICAgIGljb246IFJlYWN0LmNyZWF0ZUVsZW1lbnQoTmV4dEljb24sIHtcbiAgICAgICAgICBzaXplOiBzaXplICE9PSAnc21hbGwnID8gc2l6ZSA6IHVuZGVmaW5lZFxuICAgICAgICB9KSxcbiAgICAgICAgZGlzYWJsZWQ6ICFiZXR3ZWVuRGF0ZXMobmV4dE1vbnRoLCBib3VuZHMpLFxuICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpcy5zZXRSZWZlcmVuY2UobmV4dE1vbnRoKTtcbiAgICAgICAgfVxuICAgICAgfSkpKTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJyZW5kZXJEYXlzT2ZXZWVrXCIsIGZ1bmN0aW9uIChsb2NhbGUsIHNpemUsIHN0YXJ0KSB7XG4gICAgICB2YXIgZGF5ID0gbmV3IERhdGUoc3RhcnQpO1xuICAgICAgdmFyIGRheXMgPSBbXTtcblxuICAgICAgd2hpbGUgKGRheXMubGVuZ3RoIDwgNykge1xuICAgICAgICBkYXlzLnB1c2goUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWREYXlDb250YWluZXIsIHtcbiAgICAgICAgICBrZXk6IGRheXMubGVuZ3RoLFxuICAgICAgICAgIHNpemVQcm9wOiBzaXplXG4gICAgICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkRGF5LCB7XG4gICAgICAgICAgb3RoZXJNb250aDogdHJ1ZSxcbiAgICAgICAgICBzaXplUHJvcDogc2l6ZVxuICAgICAgICB9LCBkYXkudG9Mb2NhbGVEYXRlU3RyaW5nKGxvY2FsZSwge1xuICAgICAgICAgIHdlZWtkYXk6ICduYXJyb3cnXG4gICAgICAgIH0pKSkpO1xuICAgICAgICBkYXkgPSBhZGREYXlzKGRheSwgMSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZFdlZWssIG51bGwsIGRheXMpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgQ2FsZW5kYXIuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID0gZnVuY3Rpb24gZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKG5leHRQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgdmFyIHJlZmVyZW5jZSA9IG5leHRQcm9wcy5yZWZlcmVuY2U7XG4gICAgdmFyIHByZXZSZWZlcmVuY2UgPSBwcmV2U3RhdGUucmVmZXJlbmNlO1xuXG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuZXh0UHJvcHMsICdkYXRlJykgfHwgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG5leHRQcm9wcywgJ2RhdGVzJykgfHwgIXByZXZSZWZlcmVuY2UgfHwgcmVmZXJlbmNlKSB7XG4gICAgICB2YXIgc3RhdGUgPSB7fTtcblxuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuZXh0UHJvcHMsICdkYXRlJykgfHwgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG5leHRQcm9wcywgJ2RhdGVzJykpIHtcbiAgICAgICAgc3RhdGUuZGF0ZSA9IG5leHRQcm9wcy5kYXRlO1xuICAgICAgICBzdGF0ZS5kYXRlcyA9IG5leHRQcm9wcy5kYXRlcztcbiAgICAgIH1cblxuICAgICAgaWYgKCFwcmV2UmVmZXJlbmNlIHx8IHJlZmVyZW5jZSkge1xuICAgICAgICBzdGF0ZSA9IF9leHRlbmRzKHt9LCBzdGF0ZSwge30sIGJ1aWxkU3RhdGUobmV4dFByb3BzKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICB2YXIgX3Byb3RvID0gQ2FsZW5kYXIucHJvdG90eXBlO1xuXG4gIF9wcm90by5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgdmFyIGZvY3VzZWQgPSB0aGlzLnN0YXRlLmZvY3VzZWQ7XG5cbiAgICBpZiAoZm9jdXNlZCkge1xuICAgICAgdmFyIHJlZiA9IHRoaXMuZGF5UmVmc1tmb2N1c2VkLnRvSVNPU3RyaW5nKCldO1xuXG4gICAgICBpZiAocmVmICYmIHJlZi5jdXJyZW50ICYmIHJlZi5jdXJyZW50ICE9PSBkb2N1bWVudC5hY3RpdmVFbGVtZW50KSB7XG4gICAgICAgIHJlZi5jdXJyZW50LmZvY3VzKCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVyKTtcbiAgfTtcblxuICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgdmFyIF90aGlzJHByb3BzNCA9IHRoaXMucHJvcHMsXG4gICAgICAgIGJvdW5kcyA9IF90aGlzJHByb3BzNC5ib3VuZHMsXG4gICAgICAgIGRhdGVQcm9wID0gX3RoaXMkcHJvcHM0LmRhdGUsXG4gICAgICAgIGRhdGVzUHJvcCA9IF90aGlzJHByb3BzNC5kYXRlcyxcbiAgICAgICAgZGlzYWJsZWQgPSBfdGhpcyRwcm9wczQuZGlzYWJsZWQsXG4gICAgICAgIGRheXNPZldlZWsgPSBfdGhpcyRwcm9wczQuZGF5c09mV2VlayxcbiAgICAgICAgZmlyc3REYXlPZldlZWsgPSBfdGhpcyRwcm9wczQuZmlyc3REYXlPZldlZWssXG4gICAgICAgIGhlYWRlciA9IF90aGlzJHByb3BzNC5oZWFkZXIsXG4gICAgICAgIGxvY2FsZSA9IF90aGlzJHByb3BzNC5sb2NhbGUsXG4gICAgICAgIG9uUmVmZXJlbmNlID0gX3RoaXMkcHJvcHM0Lm9uUmVmZXJlbmNlLFxuICAgICAgICBvblNlbGVjdCA9IF90aGlzJHByb3BzNC5vblNlbGVjdCxcbiAgICAgICAgcmFuZ2UgPSBfdGhpcyRwcm9wczQucmFuZ2UsXG4gICAgICAgIHNob3dBZGphY2VudERheXMgPSBfdGhpcyRwcm9wczQuc2hvd0FkamFjZW50RGF5cyxcbiAgICAgICAgc2l6ZSA9IF90aGlzJHByb3BzNC5zaXplLFxuICAgICAgICB0aGVtZSA9IF90aGlzJHByb3BzNC50aGVtZSxcbiAgICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF90aGlzJHByb3BzNCwgW1wiYm91bmRzXCIsIFwiZGF0ZVwiLCBcImRhdGVzXCIsIFwiZGlzYWJsZWRcIiwgXCJkYXlzT2ZXZWVrXCIsIFwiZmlyc3REYXlPZldlZWtcIiwgXCJoZWFkZXJcIiwgXCJsb2NhbGVcIiwgXCJvblJlZmVyZW5jZVwiLCBcIm9uU2VsZWN0XCIsIFwicmFuZ2VcIiwgXCJzaG93QWRqYWNlbnREYXlzXCIsIFwic2l6ZVwiLCBcInRoZW1lXCJdKTtcblxuICAgIHZhciBfdGhpcyRzdGF0ZTIgPSB0aGlzLnN0YXRlLFxuICAgICAgICBkYXRlID0gX3RoaXMkc3RhdGUyLmRhdGUsXG4gICAgICAgIGRhdGVzID0gX3RoaXMkc3RhdGUyLmRhdGVzLFxuICAgICAgICBmb2N1c2VkID0gX3RoaXMkc3RhdGUyLmZvY3VzZWQsXG4gICAgICAgIHN0YXJ0ID0gX3RoaXMkc3RhdGUyLnN0YXJ0LFxuICAgICAgICByZWZlcmVuY2UgPSBfdGhpcyRzdGF0ZTIucmVmZXJlbmNlLFxuICAgICAgICBlbmQgPSBfdGhpcyRzdGF0ZTIuZW5kLFxuICAgICAgICBzbGlkZSA9IF90aGlzJHN0YXRlMi5zbGlkZTsgLy8gV2UgaGF2ZSB0byBkZWFsIHdpdGggcmVmZXJlbmNlIGJlaW5nIHRoZSBlbmQgb2YgYSBtb250aCB3aXRoIG1vcmVcbiAgICAvLyBkYXlzIHRoYW4gdGhlIG1vbnRoIHdlIGFyZSBjaGFuZ2luZyB0by4gU28sIHdlIGFsd2F5cyBzZXQgcmVmZXJlbmNlXG4gICAgLy8gdG8gdGhlIGZpcnN0IG9mIHRoZSBtb250aCBiZWZvcmUgY2hhbmdpbmcgdGhlIG1vbnRoLlxuXG4gICAgdmFyIHByZXZpb3VzTW9udGggPSBlbmRPZk1vbnRoKHN1YnRyYWN0TW9udGhzKHN0YXJ0T2ZNb250aChyZWZlcmVuY2UpLCAxKSk7XG4gICAgdmFyIG5leHRNb250aCA9IHN0YXJ0T2ZNb250aChhZGRNb250aHMoc3RhcnRPZk1vbnRoKHJlZmVyZW5jZSksIDEpKTtcbiAgICB2YXIgd2Vla3MgPSBbXTtcbiAgICB2YXIgZGF5ID0gbmV3IERhdGUoc3RhcnQpO1xuICAgIHZhciBkYXlzO1xuICAgIHRoaXMuZGF5UmVmcyA9IHt9O1xuXG4gICAgd2hpbGUgKGRheS5nZXRUaW1lKCkgPCBlbmQuZ2V0VGltZSgpKSB7XG4gICAgICBpZiAoZGF5LmdldERheSgpID09PSBmaXJzdERheU9mV2Vlaykge1xuICAgICAgICBpZiAoZGF5cykge1xuICAgICAgICAgIHdlZWtzLnB1c2goUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWRXZWVrLCB7XG4gICAgICAgICAgICBrZXk6IGRheS5nZXRUaW1lKClcbiAgICAgICAgICB9LCBkYXlzKSk7XG4gICAgICAgIH1cblxuICAgICAgICBkYXlzID0gW107XG4gICAgICB9XG5cbiAgICAgIHZhciBvdGhlck1vbnRoID0gZGF5LmdldE1vbnRoKCkgIT09IHJlZmVyZW5jZS5nZXRNb250aCgpO1xuXG4gICAgICBpZiAoIXNob3dBZGphY2VudERheXMgJiYgb3RoZXJNb250aCkge1xuICAgICAgICBkYXlzLnB1c2goUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWREYXlDb250YWluZXIsIHtcbiAgICAgICAgICBrZXk6IGRheS5nZXRUaW1lKCksXG4gICAgICAgICAgc2l6ZVByb3A6IHNpemVcbiAgICAgICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWREYXksIHtcbiAgICAgICAgICBzaXplUHJvcDogc2l6ZVxuICAgICAgICB9KSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGRhdGVTdHJpbmcgPSBkYXkudG9JU09TdHJpbmcoKTtcbiAgICAgICAgdGhpcy5kYXlSZWZzW2RhdGVTdHJpbmddID0gUmVhY3QuY3JlYXRlUmVmKCk7XG4gICAgICAgIHZhciBzZWxlY3RlZCA9IGZhbHNlO1xuICAgICAgICB2YXIgaW5SYW5nZSA9IGZhbHNlO1xuICAgICAgICB2YXIgc2VsZWN0ZWRTdGF0ZSA9IHdpdGhpbkRhdGVzKGRheSwgZGF0ZSB8fCBkYXRlcyk7XG5cbiAgICAgICAgaWYgKHNlbGVjdGVkU3RhdGUgPT09IDIpIHtcbiAgICAgICAgICBzZWxlY3RlZCA9IHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAoc2VsZWN0ZWRTdGF0ZSA9PT0gMSkge1xuICAgICAgICAgIGluUmFuZ2UgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGRheURpc2FibGVkID0gd2l0aGluRGF0ZXMoZGF5LCBkaXNhYmxlZCkgfHwgYm91bmRzICYmICFiZXR3ZWVuRGF0ZXMoZGF5LCBib3VuZHMpO1xuICAgICAgICBkYXlzLnB1c2goUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWREYXlDb250YWluZXIsIHtcbiAgICAgICAgICBrZXk6IGRheS5nZXRUaW1lKCksXG4gICAgICAgICAgc2l6ZVByb3A6IHNpemVcbiAgICAgICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtcbiAgICAgICAgICByZWY6IHRoaXMuZGF5UmVmc1tkYXRlU3RyaW5nXSxcbiAgICAgICAgICBhMTF5VGl0bGU6IGRheS50b0RhdGVTdHJpbmcoKSxcbiAgICAgICAgICBwbGFpbjogdHJ1ZSxcbiAgICAgICAgICBob3ZlckluZGljYXRvcjogIWRheURpc2FibGVkLFxuICAgICAgICAgIGRpc2FibGVkOiBkYXlEaXNhYmxlZCxcbiAgICAgICAgICBvbkNsaWNrOiB0aGlzLm9uQ2xpY2tEYXkoZGF0ZVN0cmluZyksXG4gICAgICAgICAgb25Gb2N1czogdGhpcy5vbkZvY3VzKGRheSksXG4gICAgICAgICAgb25CbHVyOiBmdW5jdGlvbiBvbkJsdXIoKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMyLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgZm9jdXNlZDogZmFsc2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWREYXksIHtcbiAgICAgICAgICBpblJhbmdlOiBpblJhbmdlLFxuICAgICAgICAgIG90aGVyTW9udGg6IGRheS5nZXRNb250aCgpICE9PSByZWZlcmVuY2UuZ2V0TW9udGgoKSxcbiAgICAgICAgICBpc1NlbGVjdGVkOiBzZWxlY3RlZCxcbiAgICAgICAgICBzaXplUHJvcDogc2l6ZVxuICAgICAgICB9LCBkYXkuZ2V0RGF0ZSgpKSkpKTtcbiAgICAgIH1cblxuICAgICAgZGF5ID0gYWRkRGF5cyhkYXksIDEpO1xuICAgIH1cblxuICAgIHdlZWtzLnB1c2goUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWRXZWVrLCB7XG4gICAgICBrZXk6IGRheS5nZXRUaW1lKClcbiAgICB9LCBkYXlzKSk7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkQ2FsZW5kYXIsIF9leHRlbmRzKHtcbiAgICAgIHNpemVQcm9wOiBzaXplXG4gICAgfSwgcmVzdCksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoS2V5Ym9hcmQsIHtcbiAgICAgIG9uVXA6IGZ1bmN0aW9uIG9uVXAoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICBfdGhpczIuc2V0Rm9jdXMoYWRkRGF5cyhmb2N1c2VkLCAtNykpO1xuICAgICAgfSxcbiAgICAgIG9uRG93bjogZnVuY3Rpb24gb25Eb3duKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgX3RoaXMyLnNldEZvY3VzKGFkZERheXMoZm9jdXNlZCwgNykpO1xuICAgICAgfSxcbiAgICAgIG9uTGVmdDogZnVuY3Rpb24gb25MZWZ0KCkge1xuICAgICAgICByZXR1cm4gZm9jdXNlZCAmJiBfdGhpczIuc2V0Rm9jdXMoYWRkRGF5cyhmb2N1c2VkLCAtMSkpO1xuICAgICAgfSxcbiAgICAgIG9uUmlnaHQ6IGZ1bmN0aW9uIG9uUmlnaHQoKSB7XG4gICAgICAgIHJldHVybiBmb2N1c2VkICYmIF90aGlzMi5zZXRGb2N1cyhhZGREYXlzKGZvY3VzZWQsIDEpKTtcbiAgICAgIH1cbiAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwgbnVsbCwgaGVhZGVyID8gaGVhZGVyKHtcbiAgICAgIGRhdGU6IHJlZmVyZW5jZSxcbiAgICAgIGxvY2FsZTogbG9jYWxlLFxuICAgICAgb25QcmV2aW91c01vbnRoOiBmdW5jdGlvbiBvblByZXZpb3VzTW9udGgoKSB7XG4gICAgICAgIHJldHVybiBfdGhpczIuc2V0UmVmZXJlbmNlKHByZXZpb3VzTW9udGgpO1xuICAgICAgfSxcbiAgICAgIG9uTmV4dE1vbnRoOiBmdW5jdGlvbiBvbk5leHRNb250aCgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzMi5zZXRSZWZlcmVuY2UobmV4dE1vbnRoKTtcbiAgICAgIH0sXG4gICAgICBwcmV2aW91c0luQm91bmQ6IGJldHdlZW5EYXRlcyhwcmV2aW91c01vbnRoLCBib3VuZHMpLFxuICAgICAgbmV4dEluQm91bmQ6IGJldHdlZW5EYXRlcyhuZXh0TW9udGgsIGJvdW5kcylcbiAgICB9KSA6IHRoaXMucmVuZGVyQ2FsZW5kYXJIZWFkZXIocHJldmlvdXNNb250aCwgbmV4dE1vbnRoKSwgZGF5c09mV2VlayAmJiB0aGlzLnJlbmRlckRheXNPZldlZWsobG9jYWxlLCBzaXplLCBzdGFydCksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkV2Vla3NDb250YWluZXIsIHtcbiAgICAgIHNpemVQcm9wOiBzaXplXG4gICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWRXZWVrcywge1xuICAgICAgc2xpZGU6IHNsaWRlLFxuICAgICAgc2l6ZVByb3A6IHNpemVcbiAgICB9LCB3ZWVrcykpKSkpO1xuICB9O1xuXG4gIHJldHVybiBDYWxlbmRhcjtcbn0oQ29tcG9uZW50KTtcblxuX2RlZmluZVByb3BlcnR5KENhbGVuZGFyLCBcImRlZmF1bHRQcm9wc1wiLCB7XG4gIGFuaW1hdGU6IHRydWUsXG4gIGZpcnN0RGF5T2ZXZWVrOiAwLFxuICBzaXplOiAnbWVkaXVtJyxcbiAgbG9jYWxlOiAnZW4tVVMnLFxuICBzaG93QWRqYWNlbnREYXlzOiB0cnVlXG59KTtcblxuT2JqZWN0LnNldFByb3RvdHlwZU9mKENhbGVuZGFyLmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbnZhciBDYWxlbmRhckRvYztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGdsb2JhbC1yZXF1aXJlXG4gIENhbGVuZGFyRG9jID0gcmVxdWlyZSgnLi9kb2MnKS5kb2MoQ2FsZW5kYXIpO1xufVxuXG52YXIgQ2FsZW5kYXJXcmFwcGVyID0gY29tcG9zZSh3aXRoVGhlbWUpKENhbGVuZGFyRG9jIHx8IENhbGVuZGFyKTtcbmV4cG9ydCB7IENhbGVuZGFyV3JhcHBlciBhcyBDYWxlbmRhciB9OyIsImltcG9ydCBzdHlsZWQsIHsgY3NzLCBrZXlmcmFtZXMgfSBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBiYWNrZ3JvdW5kU3R5bGUsIGdlbmVyaWNTdHlsZXMsIHBhcnNlTWV0cmljVG9OdW0gfSBmcm9tICcuLi8uLi91dGlscyc7XG5pbXBvcnQgeyBkZWZhdWx0UHJvcHMgfSBmcm9tICcuLi8uLi9kZWZhdWx0LXByb3BzJztcblxudmFyIHNpemVTdHlsZSA9IGZ1bmN0aW9uIHNpemVTdHlsZShwcm9wcykge1xuICB2YXIgZGF0YSA9IHByb3BzLnRoZW1lLmNhbGVuZGFyW3Byb3BzLnNpemVQcm9wXTtcbiAgcmV0dXJuIGNzcyhbXCJmb250LXNpemU6XCIsIFwiO2xpbmUtaGVpZ2h0OlwiLCBcIjt3aWR0aDpcIiwgXCI7XCJdLCBkYXRhLmZvbnRTaXplLCBkYXRhLmxpbmVIZWlnaHQsIHByb3BzLnRoZW1lLmdsb2JhbC5zaXplW3Byb3BzLnNpemVQcm9wXSk7XG59O1xuXG52YXIgU3R5bGVkQ2FsZW5kYXIgPSBzdHlsZWQuZGl2LndpdGhDb25maWcoe1xuICBkaXNwbGF5TmFtZTogXCJTdHlsZWRDYWxlbmRhclwiLFxuICBjb21wb25lbnRJZDogXCJzYy0xeTR4aG1wLTBcIlxufSkoW1wiXCIsIFwiIFwiLCBcIiBcIiwgXCJcIl0sIGdlbmVyaWNTdHlsZXMsIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gc2l6ZVN0eWxlKHByb3BzKTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUuY2FsZW5kYXIgJiYgcHJvcHMudGhlbWUuY2FsZW5kYXIuZXh0ZW5kO1xufSk7XG5TdHlsZWRDYWxlbmRhci5kZWZhdWx0UHJvcHMgPSB7fTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihTdHlsZWRDYWxlbmRhci5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG52YXIgU3R5bGVkV2Vla3NDb250YWluZXIgPSBzdHlsZWQuZGl2LndpdGhDb25maWcoe1xuICBkaXNwbGF5TmFtZTogXCJTdHlsZWRDYWxlbmRhcl9fU3R5bGVkV2Vla3NDb250YWluZXJcIixcbiAgY29tcG9uZW50SWQ6IFwic2MtMXk0eGhtcC0xXCJcbn0pKFtcIm92ZXJmbG93OmhpZGRlbjtcIiwgXCI7XCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIFwiaGVpZ2h0OiBcIiArIHBhcnNlTWV0cmljVG9OdW0ocHJvcHMudGhlbWUuY2FsZW5kYXJbcHJvcHMuc2l6ZVByb3BdLmRheVNpemUpICogNiArIFwicHg7XCI7XG59KTtcblN0eWxlZFdlZWtzQ29udGFpbmVyLmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKFN0eWxlZFdlZWtzQ29udGFpbmVyLmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcblxudmFyIHNsaWRlU3R5bGUgPSBmdW5jdGlvbiBzbGlkZVN0eWxlKHByb3BzKSB7XG4gIHZhciBfcHJvcHMkc2xpZGUgPSBwcm9wcy5zbGlkZSxcbiAgICAgIGRpcmVjdGlvbiA9IF9wcm9wcyRzbGlkZS5kaXJlY3Rpb24sXG4gICAgICB3ZWVrcyA9IF9wcm9wcyRzbGlkZS53ZWVrcyxcbiAgICAgIHNpemVQcm9wID0gcHJvcHMuc2l6ZVByb3AsXG4gICAgICB0aGVtZSA9IHByb3BzLnRoZW1lO1xuICB2YXIgX3RoZW1lJGNhbGVuZGFyJHNpemVQID0gdGhlbWUuY2FsZW5kYXJbc2l6ZVByb3BdLFxuICAgICAgZGF5U2l6ZSA9IF90aGVtZSRjYWxlbmRhciRzaXplUC5kYXlTaXplLFxuICAgICAgc2xpZGVEdXJhdGlvbiA9IF90aGVtZSRjYWxlbmRhciRzaXplUC5zbGlkZUR1cmF0aW9uO1xuICB2YXIgYW1vdW50ID0gcGFyc2VNZXRyaWNUb051bShkYXlTaXplKSAqIHdlZWtzO1xuICB2YXIgdHJhbnNsYXRlWUZyb20gPSBkaXJlY3Rpb24gPT09ICdkb3duJyA/IFwiLVwiICsgYW1vdW50ICsgXCJweFwiIDogJzAnO1xuICB2YXIgdHJhbnNsYXRlWVRvID0gZGlyZWN0aW9uID09PSAndXAnID8gXCItXCIgKyBhbW91bnQgKyBcInB4XCIgOiAnMCc7XG4gIHZhciBzbGlkZVRyYW5zaXRpb24gPSBjc3MoW1wiMCV7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoXCIsIFwiKTt9MTAwJXt0cmFuc2Zvcm06dHJhbnNsYXRlWShcIiwgXCIpO31cIl0sIHRyYW5zbGF0ZVlGcm9tLCB0cmFuc2xhdGVZVG8pO1xuICByZXR1cm4gY3NzKFtcImFuaW1hdGlvbjpcIiwgXCIgXCIsIFwiIGZvcndhcmRzO1wiXSwga2V5ZnJhbWVzKFtcIlwiLCBcIlwiXSwgc2xpZGVUcmFuc2l0aW9uKSwgc2xpZGVEdXJhdGlvbik7XG59O1xuXG52YXIgU3R5bGVkV2Vla3MgPSBzdHlsZWQuZGl2LndpdGhDb25maWcoe1xuICBkaXNwbGF5TmFtZTogXCJTdHlsZWRDYWxlbmRhcl9fU3R5bGVkV2Vla3NcIixcbiAgY29tcG9uZW50SWQ6IFwic2MtMXk0eGhtcC0yXCJcbn0pKFtcInBvc2l0aW9uOnJlbGF0aXZlO1wiLCBcIjtcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuc2xpZGUgJiYgc2xpZGVTdHlsZShwcm9wcyk7XG59KTtcblN0eWxlZFdlZWtzLmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKFN0eWxlZFdlZWtzLmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbnZhciBTdHlsZWRXZWVrID0gc3R5bGVkLmRpdi53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiU3R5bGVkQ2FsZW5kYXJfX1N0eWxlZFdlZWtcIixcbiAgY29tcG9uZW50SWQ6IFwic2MtMXk0eGhtcC0zXCJcbn0pKFtcImRpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpyb3c7ZmxleC1qdXN0aWZ5OmJldHdlZW47XCJdKTtcblN0eWxlZFdlZWsuZGVmYXVsdFByb3BzID0ge307XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoU3R5bGVkV2Vlay5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG52YXIgU3R5bGVkRGF5Q29udGFpbmVyID0gc3R5bGVkLmRpdi53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiU3R5bGVkQ2FsZW5kYXJfX1N0eWxlZERheUNvbnRhaW5lclwiLFxuICBjb21wb25lbnRJZDogXCJzYy0xeTR4aG1wLTRcIlxufSkoW1wiZmxleDowIDAgYXV0bztcIl0pO1xuU3R5bGVkRGF5Q29udGFpbmVyLmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKFN0eWxlZERheUNvbnRhaW5lci5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG5cbnZhciBkYXlTaXplU3R5bGUgPSBmdW5jdGlvbiBkYXlTaXplU3R5bGUocHJvcHMpIHtcbiAgdmFyIGRhdGEgPSBwcm9wcy50aGVtZS5jYWxlbmRhcltwcm9wcy5zaXplUHJvcF07XG4gIHJldHVybiBjc3MoW1wid2lkdGg6XCIsIFwiO2hlaWdodDpcIiwgXCI7XCJdLCBkYXRhLmRheVNpemUsIGRhdGEuZGF5U2l6ZSk7XG59O1xuXG52YXIgU3R5bGVkRGF5ID0gc3R5bGVkLmRpdi53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiU3R5bGVkQ2FsZW5kYXJfX1N0eWxlZERheVwiLFxuICBjb21wb25lbnRJZDogXCJzYy0xeTR4aG1wLTVcIlxufSkoW1wiZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyO1wiLCBcIiBcIiwgXCIgXCIsIFwiIFwiLCBcIiBcIiwgXCJcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gZGF5U2l6ZVN0eWxlKHByb3BzKTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuaXNTZWxlY3RlZCAmJiBiYWNrZ3JvdW5kU3R5bGUoJ2NvbnRyb2wnLCBwcm9wcy50aGVtZSkgfHwgcHJvcHMuaW5SYW5nZSAmJiBiYWNrZ3JvdW5kU3R5bGUoe1xuICAgIGNvbG9yOiAnY29udHJvbCcsXG4gICAgb3BhY2l0eTogJ3dlYWsnXG4gIH0sIHByb3BzLnRoZW1lKTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMub3RoZXJNb250aCAmJiAnb3BhY2l0eTogMC41Oyc7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLmlzU2VsZWN0ZWQgJiYgJ2ZvbnQtd2VpZ2h0OiBib2xkOyc7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLmNhbGVuZGFyICYmIHByb3BzLnRoZW1lLmNhbGVuZGFyLmRheSAmJiBwcm9wcy50aGVtZS5jYWxlbmRhci5kYXkuZXh0ZW5kO1xufSk7XG5TdHlsZWREYXkuZGVmYXVsdFByb3BzID0ge307XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoU3R5bGVkRGF5LmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbmV4cG9ydCB7IFN0eWxlZENhbGVuZGFyLCBTdHlsZWRXZWVrc0NvbnRhaW5lciwgU3R5bGVkV2Vla3MsIFN0eWxlZFdlZWssIFN0eWxlZERheUNvbnRhaW5lciwgU3R5bGVkRGF5IH07IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuaW1wb3J0IHsgZGVzY3JpYmUsIFByb3BUeXBlcyB9IGZyb20gJ3JlYWN0LWRlc2MnO1xuaW1wb3J0IHsgZ2VuZXJpY1Byb3BzLCBnZXRBdmFpbGFibGVBdEJhZGdlLCB0aGVtZURvY1V0aWxzIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuZXhwb3J0IHZhciBkb2MgPSBmdW5jdGlvbiBkb2MoQ2FsZW5kYXIpIHtcbiAgdmFyIERvY3VtZW50ZWRDYWxlbmRhciA9IGRlc2NyaWJlKENhbGVuZGFyKS5hdmFpbGFibGVBdChnZXRBdmFpbGFibGVBdEJhZGdlKCdDYWxlbmRhcicpKS5kZXNjcmlwdGlvbihcIkEgY2FsZW5kYXIgb2YgZGF5cyBkaXNwbGF5ZWQgYnkgbW9udGguXFxuICAgICAgSXQgY2FuIGJlIHVzZWQgdG8gc2VsZWN0IGEgc2luZ2xlIGRhdGUsIGEgcmFuZ2Ugb2YgZGF0ZXMsIG9yIG11bHRpcGxlXFxuICAgICAgaW5kaXZpZHVhbCBkYXRlcy5cIikudXNhZ2UoXCJpbXBvcnQgeyBDYWxlbmRhciB9IGZyb20gJ2dyb21tZXQnO1xcbjxDYWxlbmRhciAvPlwiKS5pbnRyaW5zaWNFbGVtZW50KCdkaXYnKTtcbiAgRG9jdW1lbnRlZENhbGVuZGFyLnByb3BUeXBlcyA9IF9leHRlbmRzKHt9LCBnZW5lcmljUHJvcHMsIHtcbiAgICBhbmltYXRlOiBQcm9wVHlwZXMuYm9vbC5kZXNjcmlwdGlvbihcIldoZXRoZXIgdG8gYW5pbWF0ZSB0aGUgY2FsZW5kZXIgYXMgdGhlIHVzZXIgaW50ZXJhY3RzIHdpdGggaXQuXCIpLmRlZmF1bHRWYWx1ZSh0cnVlKSxcbiAgICBib3VuZHM6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5zdHJpbmcpLmRlc2NyaXB0aW9uKFwiQW4gYXJyYXkgb2YgdHdvIG51bWJlcnMgaW5kaWNhdGluZyB0aGUgbGltaXRzIG9uXFxuICAgICAgICBuYXZpZ2F0aW9uIGluIElTTzg2MDEgZm9ybWF0XCIpLFxuICAgIGRhdGU6IFByb3BUeXBlcy5zdHJpbmcuZGVzY3JpcHRpb24oJ1RoZSBzZWxlY3RlZCBkYXRlIGluIElTTzg2MDEgZm9ybWF0JyksXG4gICAgZGF0ZXM6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5zdHJpbmcpXSkpLmRlc2NyaXB0aW9uKFwiTXVsdGlwbGUgc2VsZWN0ZWQgZGF0ZXMgaW4gSVNPODYwMSBmb3JtYXQuXFxuICAgICAgSXRlbXMgdGhhdCBhcmUgYW4gYXJyYXkgaW5kaWNhdGUgYSByYW5nZSBvZiBkYXRlcy5cIiksXG4gICAgZGlzYWJsZWQ6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5zdHJpbmcpXSkpLmRlc2NyaXB0aW9uKFwiTXVsdGlwbGUgZGF0ZXMgaW4gSVNPODYwMSBmb3JtYXQgdGhhdCBzaG91bGQgbm90IGJlXFxuICAgICAgICBzZWxlY3RhYmxlLiBJdGVtcyB0aGF0IGFyZSBhbiBhcnJheSBpbmRpY2F0ZSBhIHJhbmdlIG9mIGRhdGVzLlwiKSxcbiAgICBkYXlzT2ZXZWVrOiBQcm9wVHlwZXMuYm9vbC5kZXNjcmlwdGlvbihcIldoZXRoZXIgdG8gc2hvdyB0aGUgZGF5cyBvZiB0aGUgd2Vlay5cIikuZGVmYXVsdFZhbHVlKGZhbHNlKSxcbiAgICBmaXJzdERheU9mV2VlazogUHJvcFR5cGVzLm9uZU9mKFswLCAxXSkuZGVzY3JpcHRpb24oJ1RoZSBmaXJzdCBkYXkgb2YgdGhlIHdlZWsuIDAgZm9yIFN1bmRheS4gMSBmb3IgTW9uZGF5LicpLmRlZmF1bHRWYWx1ZSgwKSxcbiAgICBoZWFkZXI6IFByb3BUeXBlcy5mdW5jLmRlc2NyaXB0aW9uKFwiSWYgc3BlY2lmaWVkLCB0aGUgZW50aXJlIGNhbGVuZGFyIGhlYWRlciB3aWxsIGJlIG1hbmFnZWQgYnkgdGhlIGNhbGxlci5cXG5UaGUgZnVuY3Rpb24gcGFzc2VzIHRoZSBmb2xsb3dpbmcgb3B0aW9uczpcXG5cXG5gYGBcXG4gIHtcXG4gICAgZGF0ZTogRGF0ZSxcXG4gICAgbG9jYWxlOiBzdHJpbmcsXFxuICAgIG9uUHJldmlvdXNNb250aDogZnVuYyxcXG4gICAgb25OZXh0TW9udGg6IGZ1bmMsXFxuICAgIHByZXZpb3VzSW5Cb3VuZDogYm9vbCxcXG4gICAgbmV4dEluQm91bmQ6IGJvb2wsXFxuICB9XFxuYGBgXFxuXFxuYG9uUHJldmlvdXNNb250aGAgYW5kIGBvbk5leHRNb250aGAgYXJlIGNhbGxiYWNrcyB0aGF0IHdpbGwgdGVsbCB0aGUgXFxuY2FsZW5kYXIgdG8gbW92ZSBiZXR3ZWVuIG1vbnRocy5cXG5gcHJldmlvdXNJbkJvdW5kYCBhbmQgYG5leHRJbkJvdW5kYCBhcmUgYm9vbGVhbnMgdGhhdCB0ZWxsLCB3aGVuIHVzaW5nIFxcbmBib3VuZHNgLCBpZiB0aGUgY3VycmVudCBkYXRlIGlzIHdpdGhpbiB0aGF0IHJhbmdlLiBZb3UgY2FuIHRoZW4gdXNlIHRoYXQgXFxudG8gZGlzYWJsZSB0aGUgcHJldmlvdXMgYW5kIG5leHQgYnV0dG9ucy5cXG5cIiksXG4gICAgbG9jYWxlOiBQcm9wVHlwZXMuc3RyaW5nLmRlc2NyaXB0aW9uKCdUaGUgbG9jYWxlIHRvIHVzZS4nKS5kZWZhdWx0VmFsdWUoJ2VuLVVTJyksXG4gICAgb25SZWZlcmVuY2U6IFByb3BUeXBlcy5mdW5jLmRlc2NyaXB0aW9uKFwiQ2FsbGVkIHdpdGggYW4gSVNPODYwMSBkYXRlIHdoZW4gdGhlIHVzZXIgbmF2aWdhdGVzIHRvIGEgZGlmZmVyZW50XFxuICAgICAgIG1vbnRoLlwiKSxcbiAgICBvblNlbGVjdDogUHJvcFR5cGVzLmZ1bmMuZGVzY3JpcHRpb24oXCJDYWxsZWQgd2l0aCBhbiBJU084NjAxIGRhdGUgd2hlblxcbiAgICAgIHRoZSB1c2VyIHNlbGVjdHMgYSBkYXkuXFxuICAgICAgRm9yIHNpbmdsZSBzZWxlY3QsIG1ha2UgdGhpcyB0aGUgc3Vic2VxdWVudCBgZGF0ZWAgcHJvcGVydHkgdmFsdWUuXFxuICAgICAgRm9yIG11bHRpcGxlIHNlbGVjdCBvciByYW5nZXMsIHRvZ2dsZSB2YWx1ZXMgaW4gYGRhdGVzYC5cXG4gICAgICBOb3Qgc3BlY2lmeWluZyB0aGlzIHByb3BlcnR5IG1ha2VzIHRoZSBjb21wb25lbnQgcmVhZCBvbmx5LlwiKSxcbiAgICByYW5nZTogUHJvcFR5cGVzLmJvb2wuZGVzY3JpcHRpb24oXCJXaGV0aGVyIHRvIGF1dG9tYXRpY2FsbHkgbWFuYWdlIG11bHRpcGxlIGRhdGUgc2VsZWN0aW9uIGFzIGEgcmFuZ2UuXFxuICAgICAgICBXaGVuIHRoZSB1c2VyIGNsaWNrcyB0aGUgZmlyc3QgZGF0ZSwgb25TZWxlY3Qgd2lsbCBiZSBjYWxsZWQgd2l0aCB0aGF0XFxuICAgICAgICBkYXRlLiBXaGVuIHRoZSB1c2VyIHNlbGVjdHMgYW5vdGhlciBkYXRlLCBvblNlbGVjdCB3aWxsIGJlIGNhbGxlZCB3aXRoXFxuICAgICAgICBhbiBhcnJheSBvZiB0d28gZGF0ZXMuXCIpLmRlZmF1bHRWYWx1ZShmYWxzZSksXG4gICAgcmVmZXJlbmNlOiBQcm9wVHlwZXMuc3RyaW5nLmRlc2NyaXB0aW9uKFwiVGhlIGRhdGUgdG8gc2hvdyBpZiBgZGF0ZWAgaXNuJ3Qgc2V0LCBpbiBJU084NjAxIGZvcm1hdFwiKSxcbiAgICBzaG93QWRqYWNlbnREYXlzOiBQcm9wVHlwZXMuYm9vbC5kZXNjcmlwdGlvbihcIldoZXRoZXIgdG8gc2hvdyB0aGUgZGF5cyBmcm9tIHRoZSBwcmV2aW91cyBhbmQgbmV4dCBtb250aHMuXCIpLmRlZmF1bHRWYWx1ZSh0cnVlKSxcbiAgICBzaXplOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2YoWydzbWFsbCcsICdtZWRpdW0nLCAnbGFyZ2UnXSksIFByb3BUeXBlcy5zdHJpbmddKS5kZXNjcmlwdGlvbignV2hhdCBzaXplIHRvIG1ha2UgaXQuJykuZGVmYXVsdFZhbHVlKCdtZWRpdW0nKVxuICB9KTtcbiAgcmV0dXJuIERvY3VtZW50ZWRDYWxlbmRhcjtcbn07XG5leHBvcnQgdmFyIHRoZW1lRG9jID0gX2V4dGVuZHMoe1xuICAnY2FsZW5kYXIuZGF5LmV4dGVuZCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ0FueSBhZGRpdGlvbmFsIHN0eWxlIGZvciB0aGUgZGF5IG9mIENhbGVuZGFyLicsXG4gICAgdHlwZTogJ3N0cmluZyB8IChwcm9wcykgPT4ge30nXG4gIH0sXG4gICdjYWxlbmRhci5leHRlbmQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdBbnkgYWRkaXRpb25hbCBzdHlsZSBmb3IgdGhlIENhbGVuZGFyLicsXG4gICAgdHlwZTogJ3N0cmluZyB8IChwcm9wcykgPT4ge30nXG4gIH0sXG4gICdjYWxlbmRhci5oZWFkaW5nLmxldmVsJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGhlYWRpbmcgbGV2ZWwgdXNlZCBmb3IgdGhlIGNhbGVuZGFyLicsXG4gICAgdHlwZTogJ251bWJlcicsXG4gICAgZGVmYXVsdFZhbHVlOiAnNCdcbiAgfSxcbiAgJ2NhbGVuZGFyLmljb25zLm5leHQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgaWNvbiB0byB1c2UgZm9yIHRoZSBuZXh0IG1vbnRoIG5hdmlnYXRpb24gY29udHJvbC4nLFxuICAgIHR5cGU6ICdlbGVtZW50JyxcbiAgICBkZWZhdWx0VmFsdWU6ICc8TmV4dCAvPidcbiAgfSxcbiAgJ2NhbGVuZGFyLmljb25zLnByZXZpb3VzJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGljb24gdG8gdXNlIGZvciB0aGUgcHJldmlvdXMgbW9udGggbmF2aWdhdGlvbiBjb250cm9sLicsXG4gICAgdHlwZTogJ2VsZW1lbnQnLFxuICAgIGRlZmF1bHRWYWx1ZTogJzxQcmV2aW91cyAvPidcbiAgfSxcbiAgJ2NhbGVuZGFyLmljb25zLnNtYWxsLm5leHQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgaWNvbiB0byB1c2UgZm9yIHRoZSBuZXh0IG1vbnRoIG5hdmlnYXRpb24gY29udHJvbCB3aGVuIHNtYWxsLicsXG4gICAgdHlwZTogJ2VsZW1lbnQnLFxuICAgIGRlZmF1bHRWYWx1ZTogJzxGb3JtTmV4dCAvPidcbiAgfSxcbiAgJ2NhbGVuZGFyLmljb25zLnNtYWxsLnByZXZpb3VzJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGljb24gdG8gdXNlIGZvciB0aGUgcHJldmlvdXMgbW9udGggbmF2aWdhdGlvbiBjb250cm9sIHdoZW4gc21hbGwuJyxcbiAgICB0eXBlOiAnZWxlbWVudCcsXG4gICAgZGVmYXVsdFZhbHVlOiAnPEZvcm1QcmV2aW91cyAvPidcbiAgfSxcbiAgJ2NhbGVuZGFyLmxhcmdlLmRheVNpemUnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgc2l6ZSBvZiBhIGRheSB3aGVuIGxhcmdlLicsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiAnMTA5LjdweCdcbiAgfSxcbiAgJ2NhbGVuZGFyLmxhcmdlLmZvbnRTaXplJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGZvbnQgc2l6ZSB0byB1c2UgZm9yIGRheXMgd2hlbiBsYXJnZS4nLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogJzMwcHgnXG4gIH0sXG4gICdjYWxlbmRhci5sYXJnZS5saW5lSGVpZ2h0Jzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGxpbmUgaGVpZ2h0IHRvIHVzZSBmb3IgZGF5cyB3aGVuIGxhcmdlLicsXG4gICAgdHlwZTogJ251bWJlcicsXG4gICAgZGVmYXVsdFZhbHVlOiAxLjExXG4gIH0sXG4gICdjYWxlbmRhci5sYXJnZS5zbGlkZUR1cmF0aW9uJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnSG93IGxvbmcgaXQgYW5pbWF0ZSB0aGUgc2xpZGUgYmV0d2VlbiBtb250aHMgd2hlbiBsYXJnZS4nLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogJzAuOHMnXG4gIH0sXG4gICdjYWxlbmRhci5tZWRpdW0uZGF5U2l6ZSc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBzaXplIG9mIGEgZGF5IHdoZW4gbWVkaXVtLicsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiAnNTQuODRweCdcbiAgfSxcbiAgJ2NhbGVuZGFyLm1lZGl1bS5mb250U2l6ZSc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBmb250IHNpemUgdG8gdXNlIGZvciBkYXlzIHdoZW4gbWVkaXVtLicsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiAnMThweCdcbiAgfSxcbiAgJ2NhbGVuZGFyLm1lZGl1bS5saW5lSGVpZ2h0Jzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGxpbmUgaGVpZ2h0IHRvIHVzZSBmb3IgZGF5cyB3aGVuIG1lZGl1bS4nLFxuICAgIHR5cGU6ICdudW1iZXInLFxuICAgIGRlZmF1bHRWYWx1ZTogMS40NVxuICB9LFxuICAnY2FsZW5kYXIubWVkaXVtLnNsaWRlRHVyYXRpb24nOiB7XG4gICAgZGVzY3JpcHRpb246ICdIb3cgbG9uZyBpdCBhbmltYXRlIHRoZSBzbGlkZSBiZXR3ZWVuIG1vbnRocyB3aGVuIG1lZGl1bS4nLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogJzAuNXMnXG4gIH0sXG4gICdjYWxlbmRhci5zbWFsbC5kYXlTaXplJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIHNpemUgb2YgYSBkYXkgd2hlbiBzbWFsbC4nLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogJzI3LjQycHgnXG4gIH0sXG4gICdjYWxlbmRhci5zbWFsbC5mb250U2l6ZSc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBmb250IHNpemUgdG8gdXNlIGZvciBkYXlzIHdoZW4gc21hbGwuJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICcxNHB4J1xuICB9LFxuICAnY2FsZW5kYXIuc21hbGwubGluZUhlaWdodCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBsaW5lIGhlaWdodCB0byB1c2UgZm9yIGRheXMgd2hlbiBzbWFsbC4nLFxuICAgIHR5cGU6ICdudW1iZXInLFxuICAgIGRlZmF1bHRWYWx1ZTogMS4zNzVcbiAgfSxcbiAgJ2NhbGVuZGFyLnNtYWxsLnNsaWRlRHVyYXRpb24nOiB7XG4gICAgZGVzY3JpcHRpb246ICdIb3cgbG9uZyBpdCBhbmltYXRlIHRoZSBzbGlkZSBiZXR3ZWVuIG1vbnRocyB3aGVuIHNtYWxsLicsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiAnMC4ycydcbiAgfSxcbiAgJ2dsb2JhbC5zaXplLnNtYWxsJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIHdpZHRoIG9mIHRoZSBjYWxlbmRhciB3aGVuIHNtYWxsLicsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiAnMTkycHgnXG4gIH0sXG4gICdnbG9iYWwuc2l6ZS5tZWRpdW0nOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgd2lkdGggb2YgdGhlIGNhbGVuZGFyIHdoZW4gbWVkaXVtLicsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiAnMzg0cHgnXG4gIH0sXG4gICdnbG9iYWwuc2l6ZS5sYXJnZSc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSB3aWR0aCBvZiB0aGUgY2FsZW5kYXIgd2hlbiBsYXJnZS4nLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogJzc2OHB4J1xuICB9XG59LCB0aGVtZURvY1V0aWxzLmljb25Db2xvciwge30sIHRoZW1lRG9jVXRpbHMuZWRnZVN0eWxlKCdUaGUgcG9zc2libGUgc2l6ZXMgZm9yIG1hcmdpbi4nKSk7IiwiZXhwb3J0IHsgQ2FsZW5kYXIgfSBmcm9tICcuL0NhbGVuZGFyJzsiLCIvLyBVdGlsaXR5IGZ1bmN0aW9ucyBmb3IgdGhlIENhbGVuZGFyLlxuLy8gSnVzdCB3aGF0J3MgbmVlZGVkIHRvIGF2b2lkIGhhdmluZyB0byBpbmNsdWRlIGEgZGVwZW5kZW5jeSBsaWtlIG1vbWVudGpzLlxudmFyIERBWV9NSUxMSVNFQ09ORFMgPSAyNCAqIDYwICogNjAgKiAxMDAwO1xuZXhwb3J0IHZhciBhZGREYXlzID0gZnVuY3Rpb24gYWRkRGF5cyhkYXRlLCBkYXlzKSB7XG4gIHZhciByZXN1bHQgPSBuZXcgRGF0ZShkYXRlLmdldFRpbWUoKSArIERBWV9NSUxMSVNFQ09ORFMgKiBkYXlzKTsgLy8gRGVhbCB3aXRoIGNyb3NzaW5nIHRoZSBkYXlsaWdodCBzYXZpbmdzIHRpbWUgYm91bmRhcnksXG4gIC8vIHdoZXJlIGFkZGluZyBhIGRheSdzIHdvcnRoIHdoZW4gdGhlIHRpbWUgaXMgbWlkbmlnaHQgcmVzdWx0cyBpblxuICAvLyBiZWluZyBhIGRheSBvZmYuXG5cbiAgdmFyIGhvdXJEZWx0YSA9IHJlc3VsdC5nZXRIb3VycygpIC0gZGF0ZS5nZXRIb3VycygpOyAvLyBBdCB0aGlzIHBvaW50LCBob3VyRGVsdGEgaXMgdHlwaWNhbGx5IDAgKG5vcm1hbCBkYXkpLFxuICAvLyArMjMgKE5vdmVtYmVyIGRheWxpZ2h0IHNhdmluZyksIG9yIC0yMyAoTWFyY2ggRGF5bGlnaHQgc2F2aW5nKVxuICAvLyBkZXBlbmRpbmcgb24gd2hpY2ggc2lkZSBvZiB0aGUgc3dpdGNoIHdlIGFyZSBvbi5cbiAgLy8gQ29udmVydCBzbyB0aGF0IGhvdXJEZWx0YSBpcyBlaXRoZXIgKzEgb3IgLTEuXG5cbiAgaWYgKGhvdXJEZWx0YSA9PT0gMjMpIHtcbiAgICBob3VyRGVsdGEgLT0gMjQ7XG4gIH0gZWxzZSBpZiAoaG91ckRlbHRhID09PSAtMjMpIHtcbiAgICBob3VyRGVsdGEgKz0gMjQ7XG4gIH1cblxuICByZXN1bHQuc2V0SG91cnMocmVzdWx0LmdldEhvdXJzKCkgLSBob3VyRGVsdGEpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbmV4cG9ydCB2YXIgc3VidHJhY3REYXlzID0gZnVuY3Rpb24gc3VidHJhY3REYXlzKGRhdGUsIGRheXMpIHtcbiAgcmV0dXJuIGFkZERheXMoZGF0ZSwgLWRheXMpO1xufTtcbmV4cG9ydCB2YXIgYWRkTW9udGhzID0gZnVuY3Rpb24gYWRkTW9udGhzKGRhdGUsIG1vbnRocykge1xuICB2YXIgcmVzdWx0ID0gbmV3IERhdGUoZGF0ZSk7XG4gIHZhciB5ZWFycyA9IE1hdGguZmxvb3IoKGRhdGUuZ2V0TW9udGgoKSArIG1vbnRocykgLyAxMik7XG4gIHJlc3VsdC5zZXRGdWxsWWVhcihkYXRlLmdldEZ1bGxZZWFyKCkgKyB5ZWFycyk7XG4gIHZhciB0YXJnZXRNb250aCA9IChkYXRlLmdldE1vbnRoKCkgKyBtb250aHMpICUgMTI7XG4gIHJlc3VsdC5zZXRNb250aCh0YXJnZXRNb250aCA8IDAgPyAxMiArIHRhcmdldE1vbnRoIDogdGFyZ2V0TW9udGgpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbmV4cG9ydCB2YXIgc3VidHJhY3RNb250aHMgPSBmdW5jdGlvbiBzdWJ0cmFjdE1vbnRocyhkYXRlLCBtb250aHMpIHtcbiAgcmV0dXJuIGFkZE1vbnRocyhkYXRlLCAtbW9udGhzKTtcbn07XG5leHBvcnQgdmFyIHN0YXJ0T2ZNb250aCA9IGZ1bmN0aW9uIHN0YXJ0T2ZNb250aChkYXRlKSB7XG4gIHZhciByZXN1bHQgPSBuZXcgRGF0ZShkYXRlKTtcbiAgcmVzdWx0LnNldERhdGUoMSk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuZXhwb3J0IHZhciBlbmRPZk1vbnRoID0gZnVuY3Rpb24gZW5kT2ZNb250aChkYXRlKSB7XG4gIHZhciByZXN1bHQgPSBhZGRNb250aHMoZGF0ZSwgMSk7XG4gIHJlc3VsdC5zZXREYXRlKDApO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbmV4cG9ydCB2YXIgc2FtZURheSA9IGZ1bmN0aW9uIHNhbWVEYXkoZGF0ZTEsIGRhdGUyKSB7XG4gIHJldHVybiBkYXRlMS5nZXRGdWxsWWVhcigpID09PSBkYXRlMi5nZXRGdWxsWWVhcigpICYmIGRhdGUxLmdldE1vbnRoKCkgPT09IGRhdGUyLmdldE1vbnRoKCkgJiYgZGF0ZTEuZ2V0RGF0ZSgpID09PSBkYXRlMi5nZXREYXRlKCk7XG59O1xuZXhwb3J0IHZhciBzYW1lRGF5T3JBZnRlciA9IGZ1bmN0aW9uIHNhbWVEYXlPckFmdGVyKGRhdGUxLCBkYXRlMikge1xuICByZXR1cm4gZGF0ZTEuZ2V0RnVsbFllYXIoKSA+IGRhdGUyLmdldEZ1bGxZZWFyKCkgfHwgZGF0ZTEuZ2V0RnVsbFllYXIoKSA9PT0gZGF0ZTIuZ2V0RnVsbFllYXIoKSAmJiAoZGF0ZTEuZ2V0TW9udGgoKSA+IGRhdGUyLmdldE1vbnRoKCkgfHwgZGF0ZTEuZ2V0TW9udGgoKSA9PT0gZGF0ZTIuZ2V0TW9udGgoKSAmJiBkYXRlMS5nZXREYXRlKCkgPj0gZGF0ZTIuZ2V0RGF0ZSgpKTtcbn07XG5leHBvcnQgdmFyIHNhbWVEYXlPckJlZm9yZSA9IGZ1bmN0aW9uIHNhbWVEYXlPckJlZm9yZShkYXRlMSwgZGF0ZTIpIHtcbiAgcmV0dXJuIGRhdGUxLmdldEZ1bGxZZWFyKCkgPCBkYXRlMi5nZXRGdWxsWWVhcigpIHx8IGRhdGUxLmdldEZ1bGxZZWFyKCkgPT09IGRhdGUyLmdldEZ1bGxZZWFyKCkgJiYgKGRhdGUxLmdldE1vbnRoKCkgPCBkYXRlMi5nZXRNb250aCgpIHx8IGRhdGUxLmdldE1vbnRoKCkgPT09IGRhdGUyLmdldE1vbnRoKCkgJiYgZGF0ZTEuZ2V0RGF0ZSgpIDw9IGRhdGUyLmdldERhdGUoKSk7XG59O1xuZXhwb3J0IHZhciBkYXlzQXBhcnQgPSBmdW5jdGlvbiBkYXlzQXBhcnQoZGF0ZTEsIGRhdGUyKSB7XG4gIHJldHVybiBNYXRoLmZsb29yKChkYXRlMS5nZXRUaW1lKCkgLSBkYXRlMi5nZXRUaW1lKCkpIC8gREFZX01JTExJU0VDT05EUyk7XG59OyAvLyBiZXR3ZWVuRGF0ZXMgdGFrZXMgYW5kIGFycmF5IG9mIHR3byBlbGVtZW50cyBhbmQgY2hlY2tzIGlmIHRoZVxuLy8gc3VwcGxpZWQgZGF0ZSBsaWVzIGJldHdlZW4gdGhlbSwgaW5jbHVzaXZlLlxuLy8gcmV0dXJucyAyIGlmIGV4YWN0IG1hdGNoIHRvIG9uZSBlbmQsIDEgaWYgYmV0d2VlbiwgdW5kZWZpbmVkIG90aGVyd2lzZVxuXG5leHBvcnQgdmFyIGJldHdlZW5EYXRlcyA9IGZ1bmN0aW9uIGJldHdlZW5EYXRlcyhkYXRlLCBkYXRlcykge1xuICB2YXIgcmVzdWx0O1xuXG4gIGlmIChkYXRlcykge1xuICAgIHZhciBfZGF0ZXMkbWFwID0gZGF0ZXMubWFwKGZ1bmN0aW9uIChkKSB7XG4gICAgICByZXR1cm4gbmV3IERhdGUoZCk7XG4gICAgfSksXG4gICAgICAgIGZyb20gPSBfZGF0ZXMkbWFwWzBdLFxuICAgICAgICB0byA9IF9kYXRlcyRtYXBbMV07XG5cbiAgICBpZiAoc2FtZURheShkYXRlLCBmcm9tKSB8fCBzYW1lRGF5KGRhdGUsIHRvKSkge1xuICAgICAgcmVzdWx0ID0gMjtcbiAgICB9IGVsc2UgaWYgKHNhbWVEYXlPckFmdGVyKGRhdGUsIGZyb20pICYmIHNhbWVEYXlPckJlZm9yZShkYXRlLCB0bykpIHtcbiAgICAgIHJlc3VsdCA9IDE7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJlc3VsdCA9IDE7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufTsgLy8gd2l0aGluRGF0ZXMgdGFrZXMgYW5kIGFycmF5IG9mIHN0cmluZyBkYXRlcyBvciAyIGVsZW1lbnQgYXJyYXlzIGFuZFxuLy8gY2hlY2tzIHdoZXRoZXIgdGhlIHN1cHBsaWVkIGRhdGUgbWF0Y2hlcyBhbnkgc3RyaW5nIG9yIGlzIGJldHdlZW5cbi8vIGFueSBkYXRlcyBpbiBhcnJheXMuXG4vLyByZXR1cm5zIDIgaWYgZXhhY3QgbWF0Y2gsIDEgaWYgYmV0d2VlbiwgdW5kZWZpbmVkIG90aGVyd2lzZVxuXG5leHBvcnQgdmFyIHdpdGhpbkRhdGVzID0gZnVuY3Rpb24gd2l0aGluRGF0ZXMoZGF0ZSwgZGF0ZXMpIHtcbiAgdmFyIHJlc3VsdDtcblxuICBpZiAoZGF0ZXMpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRlcykpIHtcbiAgICAgIGRhdGVzLnNvbWUoZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBkID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIGlmIChzYW1lRGF5KGRhdGUsIG5ldyBEYXRlKGQpKSkge1xuICAgICAgICAgICAgcmVzdWx0ID0gMjtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzdWx0ID0gYmV0d2VlbkRhdGVzKGRhdGUsIGQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoc2FtZURheShkYXRlLCBuZXcgRGF0ZShkYXRlcykpKSB7XG4gICAgICByZXN1bHQgPSAyO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59O1xuZXhwb3J0IHZhciB1cGRhdGVEYXRlUmFuZ2UgPSBmdW5jdGlvbiB1cGRhdGVEYXRlUmFuZ2Uoc2VsZWN0ZWREYXRlLCBfcmVmKSB7XG4gIHZhciBkYXRlID0gX3JlZi5kYXRlLFxuICAgICAgZGF0ZXMgPSBfcmVmLmRhdGVzLFxuICAgICAgcHJldmlvdXNTZWxlY3RlZERhdGUgPSBfcmVmLnByZXZpb3VzU2VsZWN0ZWREYXRlO1xuICB2YXIgcmVzdWx0ID0ge1xuICAgIHByZXZpb3VzU2VsZWN0ZWREYXRlOiBzZWxlY3RlZERhdGVcbiAgfTtcblxuICBpZiAoIWRhdGVzKSB7XG4gICAgaWYgKCFkYXRlKSB7XG4gICAgICByZXN1bHQuZGF0ZSA9IHNlbGVjdGVkRGF0ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHByaW9yRGF0ZSA9IG5ldyBEYXRlKGRhdGUpO1xuICAgICAgdmFyIG5leHREYXRlID0gbmV3IERhdGUoc2VsZWN0ZWREYXRlKTtcblxuICAgICAgaWYgKHByaW9yRGF0ZS5nZXRUaW1lKCkgPCBuZXh0RGF0ZS5nZXRUaW1lKCkpIHtcbiAgICAgICAgcmVzdWx0LmRhdGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHJlc3VsdC5kYXRlcyA9IFtbZGF0ZSwgc2VsZWN0ZWREYXRlXV07XG4gICAgICB9IGVsc2UgaWYgKHByaW9yRGF0ZS5nZXRUaW1lKCkgPiBuZXh0RGF0ZS5nZXRUaW1lKCkpIHtcbiAgICAgICAgcmVzdWx0LmRhdGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHJlc3VsdC5kYXRlcyA9IFtbc2VsZWN0ZWREYXRlLCBkYXRlXV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQuZGF0ZSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFyIHByaW9yRGF0ZXMgPSBkYXRlc1swXS5tYXAoZnVuY3Rpb24gKGQpIHtcbiAgICAgIHJldHVybiBuZXcgRGF0ZShkKTtcbiAgICB9KTtcbiAgICB2YXIgcHJldmlvdXNEYXRlID0gbmV3IERhdGUocHJldmlvdXNTZWxlY3RlZERhdGUpO1xuXG4gICAgdmFyIF9uZXh0RGF0ZSA9IG5ldyBEYXRlKHNlbGVjdGVkRGF0ZSk7XG5cbiAgICBpZiAoX25leHREYXRlLmdldFRpbWUoKSA9PT0gcHJpb3JEYXRlc1swXS5nZXRUaW1lKCkpIHtcbiAgICAgIHJlc3VsdC5kYXRlcyA9IHVuZGVmaW5lZDtcbiAgICAgIHZhciBfZGF0ZXMkID0gZGF0ZXNbMF07XG4gICAgICByZXN1bHQuZGF0ZSA9IF9kYXRlcyRbMV07XG4gICAgfSBlbHNlIGlmIChfbmV4dERhdGUuZ2V0VGltZSgpID09PSBwcmlvckRhdGVzWzFdLmdldFRpbWUoKSkge1xuICAgICAgcmVzdWx0LmRhdGVzID0gdW5kZWZpbmVkO1xuICAgICAgdmFyIF9kYXRlcyQyID0gZGF0ZXNbMF07XG4gICAgICByZXN1bHQuZGF0ZSA9IF9kYXRlcyQyWzBdO1xuICAgIH0gZWxzZSBpZiAoX25leHREYXRlLmdldFRpbWUoKSA8IHByZXZpb3VzRGF0ZS5nZXRUaW1lKCkpIHtcbiAgICAgIGlmIChfbmV4dERhdGUuZ2V0VGltZSgpIDwgcHJpb3JEYXRlc1swXS5nZXRUaW1lKCkpIHtcbiAgICAgICAgcmVzdWx0LmRhdGVzID0gW1tzZWxlY3RlZERhdGUsIGRhdGVzWzBdWzFdXV07XG4gICAgICB9IGVsc2UgaWYgKF9uZXh0RGF0ZS5nZXRUaW1lKCkgPiBwcmlvckRhdGVzWzBdLmdldFRpbWUoKSkge1xuICAgICAgICByZXN1bHQuZGF0ZXMgPSBbW2RhdGVzWzBdWzBdLCBzZWxlY3RlZERhdGVdXTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKF9uZXh0RGF0ZS5nZXRUaW1lKCkgPiBwcmV2aW91c0RhdGUuZ2V0VGltZSgpKSB7XG4gICAgICBpZiAoX25leHREYXRlLmdldFRpbWUoKSA+IHByaW9yRGF0ZXNbMV0uZ2V0VGltZSgpKSB7XG4gICAgICAgIHJlc3VsdC5kYXRlcyA9IFtbZGF0ZXNbMF1bMF0sIHNlbGVjdGVkRGF0ZV1dO1xuICAgICAgfSBlbHNlIGlmIChfbmV4dERhdGUuZ2V0VGltZSgpIDwgcHJpb3JEYXRlc1sxXS5nZXRUaW1lKCkpIHtcbiAgICAgICAgcmVzdWx0LmRhdGVzID0gW1tzZWxlY3RlZERhdGUsIGRhdGVzWzBdWzFdXV07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzTG9vc2Uoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzLnByb3RvdHlwZSk7IHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzOyBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbmltcG9ydCBSZWFjdCwgeyBDaGlsZHJlbiwgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY29tcG9zZSB9IGZyb20gJ3JlY29tcG9zZSc7XG5pbXBvcnQgeyB3aXRoVGhlbWUgfSBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBub3JtYWxpemVDb2xvciB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmltcG9ydCB7IGRlZmF1bHRQcm9wcyB9IGZyb20gJy4uLy4uL2RlZmF1bHQtcHJvcHMnO1xuaW1wb3J0IHsgQm94IH0gZnJvbSAnLi4vQm94JztcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJy4uL0J1dHRvbic7XG5pbXBvcnQgeyBLZXlib2FyZCB9IGZyb20gJy4uL0tleWJvYXJkJztcbmltcG9ydCB7IFN0YWNrIH0gZnJvbSAnLi4vU3RhY2snO1xuaW1wb3J0IHsgd2l0aEZvY3VzIH0gZnJvbSAnLi4vaG9jcyc7XG5cbnZhciBDYXJvdXNlbCA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBfaW5oZXJpdHNMb29zZShDYXJvdXNlbCwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQ2Fyb3VzZWwocCkge1xuICAgIHZhciBfdGhpcztcblxuICAgIF90aGlzID0gX0NvbXBvbmVudC5jYWxsKHRoaXMsIHApIHx8IHRoaXM7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwicGxheVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgcGxheSA9IF90aGlzLnByb3BzLnBsYXk7XG4gICAgICBjbGVhckludGVydmFsKF90aGlzLnRpbWVyKTtcbiAgICAgIF90aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY2hpbGRyZW4gPSBfdGhpcy5wcm9wcy5jaGlsZHJlbjtcbiAgICAgICAgdmFyIGFjdGl2ZUluZGV4ID0gX3RoaXMuc3RhdGUuYWN0aXZlSW5kZXg7XG4gICAgICAgIHZhciBsYXN0SW5kZXggPSBDaGlsZHJlbi5jb3VudChjaGlsZHJlbikgLSAxO1xuXG4gICAgICAgIGlmIChhY3RpdmVJbmRleCA8IGxhc3RJbmRleCkge1xuICAgICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGFjdGl2ZUluZGV4OiBhY3RpdmVJbmRleCArIDEsXG4gICAgICAgICAgICBwcmlvckFjdGl2ZUluZGV4OiBhY3RpdmVJbmRleFxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGFjdGl2ZUluZGV4OiAwLFxuICAgICAgICAgICAgcHJpb3JBY3RpdmVJbmRleDogYWN0aXZlSW5kZXhcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSwgcGxheSk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwib25SaWdodFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgYWN0aXZlSW5kZXggPSBfdGhpcy5zdGF0ZS5hY3RpdmVJbmRleDtcbiAgICAgIGNsZWFySW50ZXJ2YWwoX3RoaXMudGltZXIpO1xuXG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGFjdGl2ZUluZGV4OiBhY3RpdmVJbmRleCArIDEsXG4gICAgICAgIHByaW9yQWN0aXZlSW5kZXg6IGFjdGl2ZUluZGV4XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJvbkxlZnRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGFjdGl2ZUluZGV4ID0gX3RoaXMuc3RhdGUuYWN0aXZlSW5kZXg7XG4gICAgICBjbGVhckludGVydmFsKF90aGlzLnRpbWVyKTtcblxuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBhY3RpdmVJbmRleDogYWN0aXZlSW5kZXggLSAxLFxuICAgICAgICBwcmlvckFjdGl2ZUluZGV4OiBhY3RpdmVJbmRleFxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwib25TZWxlY3RcIiwgZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYWN0aXZlSW5kZXggPSBfdGhpcy5zdGF0ZS5hY3RpdmVJbmRleDtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChfdGhpcy50aW1lcik7XG5cbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGFjdGl2ZUluZGV4OiBpbmRleCxcbiAgICAgICAgICBwcmlvckFjdGl2ZUluZGV4OiBhY3RpdmVJbmRleFxuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGFjdGl2ZUluZGV4OiBwLmluaXRpYWxDaGlsZFxuICAgIH07XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IENhcm91c2VsLnByb3RvdHlwZTtcblxuICBfcHJvdG8uY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB2YXIgcGxheSA9IHRoaXMucHJvcHMucGxheTtcblxuICAgIGlmIChwbGF5KSB7XG4gICAgICB0aGlzLnBsYXkoKTtcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLmNvbXBvbmVudERpZFVwZGF0ZSA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMpIHtcbiAgICB2YXIgcGxheSA9IHRoaXMucHJvcHMucGxheTtcblxuICAgIGlmIChwbGF5ICYmICghcHJldlByb3BzLnBsYXkgfHwgcGxheSAhPT0gcHJldlByb3BzLnBsYXkpKSB7XG4gICAgICB0aGlzLnBsYXkoKTtcbiAgICB9IGVsc2UgaWYgKCFwbGF5ICYmIHByZXZQcm9wcy5wbGF5KSB7XG4gICAgICBjbGVhckludGVydmFsKHRoaXMudGltZXIpO1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8uY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBjbGVhckludGVydmFsKHRoaXMudGltZXIpO1xuICB9O1xuXG4gIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICB2YXIgX3RoaXMkcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICBjaGlsZHJlbiA9IF90aGlzJHByb3BzLmNoaWxkcmVuLFxuICAgICAgICBjb250cm9scyA9IF90aGlzJHByb3BzLmNvbnRyb2xzLFxuICAgICAgICBmaWxsID0gX3RoaXMkcHJvcHMuZmlsbCxcbiAgICAgICAgZm9jdXMgPSBfdGhpcyRwcm9wcy5mb2N1cyxcbiAgICAgICAgdGhlbWUgPSBfdGhpcyRwcm9wcy50aGVtZSxcbiAgICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF90aGlzJHByb3BzLCBbXCJjaGlsZHJlblwiLCBcImNvbnRyb2xzXCIsIFwiZmlsbFwiLCBcImZvY3VzXCIsIFwidGhlbWVcIl0pO1xuXG4gICAgdmFyIF90aGlzJHN0YXRlID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgYWN0aXZlSW5kZXggPSBfdGhpcyRzdGF0ZS5hY3RpdmVJbmRleCxcbiAgICAgICAgcHJpb3JBY3RpdmVJbmRleCA9IF90aGlzJHN0YXRlLnByaW9yQWN0aXZlSW5kZXg7XG4gICAgdmFyIHNob3dBcnJvd3MgPSBjb250cm9scyAmJiBjb250cm9scyAhPT0gJ3NlbGVjdG9ycyc7XG4gICAgdmFyIHNob3dTZWxlY3RvcnMgPSBjb250cm9scyAmJiBjb250cm9scyAhPT0gJ2Fycm93cyc7XG4gICAgdmFyIGxhc3RJbmRleCA9IENoaWxkcmVuLmNvdW50KGNoaWxkcmVuKSAtIDE7XG4gICAgdmFyIG9uTGVmdCA9IGFjdGl2ZUluZGV4ID4gMCA/IHRoaXMub25MZWZ0IDogdW5kZWZpbmVkO1xuICAgIHZhciBvblJpZ2h0ID0gYWN0aXZlSW5kZXggPCBsYXN0SW5kZXggPyB0aGlzLm9uUmlnaHQgOiB1bmRlZmluZWQ7XG4gICAgdmFyIEN1cnJlbnRJY29uID0gdGhlbWUuY2Fyb3VzZWwuaWNvbnMuY3VycmVudDtcbiAgICB2YXIgaWNvbkNvbG9yID0gbm9ybWFsaXplQ29sb3IodGhlbWUuY2Fyb3VzZWwuaWNvbnMuY29sb3IgfHwgJ2NvbnRyb2wnLCB0aGVtZSk7XG4gICAgdmFyIHNlbGVjdG9ycyA9IFtdO1xuICAgIHZhciB3cmFwcGVkQ2hpbGRyZW4gPSBDaGlsZHJlbi5tYXAoY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCwgaW5kZXgpIHtcbiAgICAgIHNlbGVjdG9ycy5wdXNoKFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC9uby1hcnJheS1pbmRleC1rZXlcbiAgICAgICwge1xuICAgICAgICBrZXk6IGluZGV4LFxuICAgICAgICBpY29uOiBSZWFjdC5jcmVhdGVFbGVtZW50KEN1cnJlbnRJY29uLCB7XG4gICAgICAgICAgY29sb3I6IGFjdGl2ZUluZGV4ID09PSBpbmRleCA/IGljb25Db2xvciA6IHVuZGVmaW5lZFxuICAgICAgICB9KSxcbiAgICAgICAgb25DbGljazogX3RoaXMyLm9uU2VsZWN0KGluZGV4KVxuICAgICAgfSkpO1xuICAgICAgdmFyIGFuaW1hdGlvbjtcblxuICAgICAgaWYgKGluZGV4ID09PSBhY3RpdmVJbmRleCkge1xuICAgICAgICBpZiAocHJpb3JBY3RpdmVJbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgYW5pbWF0aW9uID0ge1xuICAgICAgICAgICAgdHlwZTogcHJpb3JBY3RpdmVJbmRleCA8IGFjdGl2ZUluZGV4ID8gJ3NsaWRlTGVmdCcgOiAnc2xpZGVSaWdodCcsXG4gICAgICAgICAgICBzaXplOiAneGxhcmdlJyxcbiAgICAgICAgICAgIGR1cmF0aW9uOiB0aGVtZS5jYXJvdXNlbC5hbmltYXRpb24uZHVyYXRpb25cbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGluZGV4ID09PSBwcmlvckFjdGl2ZUluZGV4KSB7XG4gICAgICAgIGFuaW1hdGlvbiA9IHtcbiAgICAgICAgICB0eXBlOiAnZmFkZU91dCcsXG4gICAgICAgICAgZHVyYXRpb246IHRoZW1lLmNhcm91c2VsLmFuaW1hdGlvbi5kdXJhdGlvblxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYW5pbWF0aW9uID0ge1xuICAgICAgICAgIHR5cGU6ICdmYWRlT3V0JyxcbiAgICAgICAgICBkdXJhdGlvbjogMFxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChCb3gsIHtcbiAgICAgICAgZmlsbDogZmlsbCxcbiAgICAgICAgb3ZlcmZsb3c6IFwiaGlkZGVuXCJcbiAgICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQm94LCB7XG4gICAgICAgIGZpbGw6IGZpbGwsXG4gICAgICAgIGFuaW1hdGlvbjogYW5pbWF0aW9uXG4gICAgICB9LCBjaGlsZCkpO1xuICAgIH0pO1xuICAgIHZhciBOZXh0SWNvbiA9IHRoZW1lLmNhcm91c2VsLmljb25zLm5leHQ7XG4gICAgdmFyIFByZXZpb3VzSWNvbiA9IHRoZW1lLmNhcm91c2VsLmljb25zLnByZXZpb3VzO1xuICAgIHZhciBuZXh0SWNvbkRpc2FibGVkID0gYWN0aXZlSW5kZXggPj0gbGFzdEluZGV4O1xuICAgIHZhciBwcmV2aW91c0ljb25EaXNhYmxlZCA9IGFjdGl2ZUluZGV4IDw9IDA7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoS2V5Ym9hcmQsIHtcbiAgICAgIG9uTGVmdDogb25MZWZ0LFxuICAgICAgb25SaWdodDogb25SaWdodFxuICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3RhY2ssIF9leHRlbmRzKHtcbiAgICAgIGd1aWRpbmdDaGlsZDogYWN0aXZlSW5kZXgsXG4gICAgICBmaWxsOiBmaWxsXG4gICAgfSwgcmVzdCksIHdyYXBwZWRDaGlsZHJlbiwgUmVhY3QuY3JlYXRlRWxlbWVudChCb3gsIHtcbiAgICAgIHRhYkluZGV4OiBcIjBcIixcbiAgICAgIGZvY3VzOiBmb2N1cyxcbiAgICAgIGZpbGw6IHRydWUsXG4gICAgICBkaXJlY3Rpb246IFwicm93XCIsXG4gICAgICBqdXN0aWZ5OiBcImJldHdlZW5cIlxuICAgIH0sIHNob3dBcnJvd3MgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtcbiAgICAgIGZpbGw6IFwidmVydGljYWxcIixcbiAgICAgIGljb246IFJlYWN0LmNyZWF0ZUVsZW1lbnQoUHJldmlvdXNJY29uLCB7XG4gICAgICAgIGNvbG9yOiBub3JtYWxpemVDb2xvcihwcmV2aW91c0ljb25EaXNhYmxlZCA/IHRoZW1lLmNhcm91c2VsLmRpc2FibGVkLmljb25zLmNvbG9yIDogdGhlbWUuY2Fyb3VzZWwuaWNvbnMuY29sb3IsIHRoZW1lKVxuICAgICAgfSksXG4gICAgICBwbGFpbjogdHJ1ZSxcbiAgICAgIGRpc2FibGVkOiBwcmV2aW91c0ljb25EaXNhYmxlZCxcbiAgICAgIG9uQ2xpY2s6IG9uTGVmdCxcbiAgICAgIGhvdmVySW5kaWNhdG9yOiB0cnVlXG4gICAgfSksIHNob3dTZWxlY3RvcnMgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChCb3gsIHtcbiAgICAgIGp1c3RpZnk6IFwiZW5kXCIsXG4gICAgICBmaWxsOiAhc2hvd0Fycm93cyAmJiAnaG9yaXpvbnRhbCdcbiAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwge1xuICAgICAgZGlyZWN0aW9uOiBcInJvd1wiLFxuICAgICAganVzdGlmeTogXCJjZW50ZXJcIlxuICAgIH0sIHNlbGVjdG9ycykpLCBzaG93QXJyb3dzICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7XG4gICAgICBmaWxsOiBcInZlcnRpY2FsXCIsXG4gICAgICBpY29uOiBSZWFjdC5jcmVhdGVFbGVtZW50KE5leHRJY29uLCB7XG4gICAgICAgIGNvbG9yOiBub3JtYWxpemVDb2xvcihuZXh0SWNvbkRpc2FibGVkID8gdGhlbWUuY2Fyb3VzZWwuZGlzYWJsZWQuaWNvbnMuY29sb3IgOiB0aGVtZS5jYXJvdXNlbC5pY29ucy5jb2xvciwgdGhlbWUpXG4gICAgICB9KSxcbiAgICAgIHBsYWluOiB0cnVlLFxuICAgICAgZGlzYWJsZWQ6IG5leHRJY29uRGlzYWJsZWQsXG4gICAgICBvbkNsaWNrOiBvblJpZ2h0LFxuICAgICAgaG92ZXJJbmRpY2F0b3I6IHRydWVcbiAgICB9KSkpKTtcbiAgfTtcblxuICByZXR1cm4gQ2Fyb3VzZWw7XG59KENvbXBvbmVudCk7XG5cbkNhcm91c2VsLmRlZmF1bHRQcm9wcyA9IHtcbiAgaW5pdGlhbENoaWxkOiAwLFxuICBjb250cm9sczogdHJ1ZVxufTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihDYXJvdXNlbC5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG52YXIgQ2Fyb3VzZWxEb2M7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBnbG9iYWwtcmVxdWlyZVxuICBDYXJvdXNlbERvYyA9IHJlcXVpcmUoJy4vZG9jJykuZG9jKENhcm91c2VsKTtcbn1cblxudmFyIENhcm91c2VsV3JhcHBlciA9IGNvbXBvc2Uod2l0aEZvY3VzKCksIHdpdGhUaGVtZSkoQ2Fyb3VzZWxEb2MgfHwgQ2Fyb3VzZWwpO1xuZXhwb3J0IHsgQ2Fyb3VzZWxXcmFwcGVyIGFzIENhcm91c2VsIH07IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuaW1wb3J0IHsgZGVzY3JpYmUsIFByb3BUeXBlcyB9IGZyb20gJ3JlYWN0LWRlc2MnO1xuaW1wb3J0IHsgZ2VuZXJpY1Byb3BzLCBnZXRBdmFpbGFibGVBdEJhZGdlLCB0aGVtZURvY1V0aWxzIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuZXhwb3J0IHZhciBkb2MgPSBmdW5jdGlvbiBkb2MoQ2Fyb3VzZWwpIHtcbiAgdmFyIERvY3VtZW50ZWRDYXJvdXNlbCA9IGRlc2NyaWJlKENhcm91c2VsKS5hdmFpbGFibGVBdChnZXRBdmFpbGFibGVBdEJhZGdlKCdDYXJvdXNlbCcpKS5kZXNjcmlwdGlvbihcIkEgY2Fyb3VzZWwgdGhhdCBjeWNsZXMgdGhyb3VnaCBjaGlsZHJlbi4gQ2hpbGQgY29tcG9uZW50c1xcbiAgICAgIHdvdWxkIHR5cGljYWxseSBiZSBJbWFnZXMuIEl0IGlzIHRoZSBjYWxsZXIncyByZXNwb25zaWJpbGl0eSB0byBlbnN1cmVcXG4gICAgICB0aGF0IGFsbCBjaGlsZHJlbiBhcmUgdGhlIHNhbWUgc2l6ZS5cIikudXNhZ2UoXCJpbXBvcnQgeyBDYXJvdXNlbCB9IGZyb20gJ2dyb21tZXQnO1xcbjxDYXJvdXNlbCAvPlwiKS5pbnRyaW5zaWNFbGVtZW50KCdkaXYnKTtcbiAgRG9jdW1lbnRlZENhcm91c2VsLnByb3BUeXBlcyA9IF9leHRlbmRzKHt9LCBnZW5lcmljUHJvcHMsIHtcbiAgICBmaWxsOiBQcm9wVHlwZXMuYm9vbC5kZXNjcmlwdGlvbihcIldoZXRoZXIgdG8gZXhwYW5kIHRvIGZpbGxcXG4gICAgICBhbGwgb2YgdGhlIGF2YWlsYWJsZSB3aWR0aCBhbmQgaGVpZ2h0IGluIHRoZSBwYXJlbnQgY29udGFpbmVyLlwiKSxcbiAgICBwbGF5OiBQcm9wVHlwZXMubnVtYmVyLmRlc2NyaXB0aW9uKFwiSWYgc3BlY2lmaWVkLCB0aGUgbnVtYmVyIG9mXFxuICAgICAgbWlsbGlzZWNvbmRzIGJldHdlZW4gYXV0b21hdGljYWxseSB0cmFuc2l0aW9uaW5nIHRvIHRoZSBuZXh0IGNoaWxkLiBJdFxcbiAgICAgIHdpbGwgbG9vcCB0aHJvdWdoIGFsbCBjaGlsZHJlbiBpbmRlZmluaXRlbHkuXCIpLFxuICAgIGluaXRpYWxDaGlsZDogUHJvcFR5cGVzLm51bWJlci5kZXNjcmlwdGlvbihcIklmIHNwZWNpZmllZCwgdGhlIGluZGV4IG9mXFxuICAgICAgdGhlIGZpcnN0IGVsZW1lbnQgdG8gYmUgc2hvd24uIERlZmF1bHRzIHRvIDAuXCIpLFxuICAgIGNvbnRyb2xzOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuYm9vbCwgUHJvcFR5cGVzLm9uZU9mKFsnYXJyb3dzJywgJ3NlbGVjdG9ycyddKV0pLmRlc2NyaXB0aW9uKFwiV2hldGhlciB0byBzaG93IGNhcm91c2VsIGNvbnRyb2xzIGFuZCB3aGljaCB0eXBlIG9mIGNvbnRyb2xzLlwiKS5kZWZhdWx0VmFsdWUodHJ1ZSlcbiAgfSk7XG4gIHJldHVybiBEb2N1bWVudGVkQ2Fyb3VzZWw7XG59O1xuZXhwb3J0IHZhciB0aGVtZURvYyA9IF9leHRlbmRzKHtcbiAgJ2Nhcm91c2VsLmljb25zLm5leHQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgaWNvbiB0byB1c2UgZm9yIHRoZSBuZXh0IGltYWdlIG5hdmlnYXRpb24gY29udHJvbC4nLFxuICAgIHR5cGU6ICdlbGVtZW50JyxcbiAgICBkZWZhdWx0VmFsdWU6ICc8TmV4dCAvPidcbiAgfSxcbiAgJ2Nhcm91c2VsLmFuaW1hdGlvbi5kdXJhdGlvbic6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBkdXJhdGlvbiBvZiB0aGUgQ2Fyb3VzZWwgYW5pbWF0aW9uLicsXG4gICAgdHlwZTogJ251bWJlcicsXG4gICAgZGVmYXVsdFZhbHVlOiAxMDAwXG4gIH0sXG4gICdjYXJvdXNlbC5pY29ucy5wcmV2aW91cyc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBpY29uIHRvIHVzZSBmb3IgdGhlIHByZXZpb3VzIGltYWdlIG5hdmlnYXRpb24gY29udHJvbC4nLFxuICAgIHR5cGU6ICdlbGVtZW50JyxcbiAgICBkZWZhdWx0VmFsdWU6ICc8UHJldmlvdXMgLz4nXG4gIH0sXG4gICdjYXJvdXNlbC5pY29ucy5jdXJyZW50Jzoge1xuICAgIGRlc2NyaXB0aW9uOiBcIlRoZSBpY29uIHRvIHVzZSBvbiB0aGUgbWlkZGxlIG5hdmlnYXRpb24gY29udHJvbC4gXFxuICAgICAgT25lIGljb24gcGVyIGNhcm91c2VsIGltYWdlLlwiLFxuICAgIHR5cGU6ICdlbGVtZW50JyxcbiAgICBkZWZhdWx0VmFsdWU6ICc8TmV4dCAvPidcbiAgfSxcbiAgJ2Nhcm91c2VsLmljb25zLmNvbG9yJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGNvbG9yIHVzZWQgZm9yIENhcm91c2VsIGljb25zLicsXG4gICAgdHlwZTogXCJzdHJpbmcgfCB7ICdkYXJrJzogc3RyaW5nLCAnbGlnaHQnOiBzdHJpbmcgfVwiLFxuICAgIGRlZmF1bHRWYWx1ZTogdW5kZWZpbmVkXG4gIH0sXG4gICdjYXJvdXNlbC5kaXNhYmxlZC5pY29ucy5jb2xvcic6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBjb2xvciB1c2VkIGZvciBkaXNhYmxlZCBDYXJvdXNlbCBpY29ucy4nLFxuICAgIHR5cGU6IFwic3RyaW5nIHwgeyAnZGFyayc6IHN0cmluZywgJ2xpZ2h0Jzogc3RyaW5nIH1cIixcbiAgICBkZWZhdWx0VmFsdWU6IHVuZGVmaW5lZFxuICB9XG59LCB0aGVtZURvY1V0aWxzLmljb25Db2xvciwge30sIHRoZW1lRG9jVXRpbHMuZWRnZVN0eWxlKCdUaGUgcG9zc2libGUgc2l6ZXMgZm9yIG1hcmdpbi4nKSk7IiwiZXhwb3J0IHsgQ2Fyb3VzZWwgfSBmcm9tICcuL0Nhcm91c2VsJzsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmltcG9ydCBSZWFjdCwgeyB1c2VDb250ZXh0LCB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBUaGVtZUNvbnRleHQgfSBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBub3JtYWxpemVDb2xvciwgcGFyc2VNZXRyaWNUb051bSB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmltcG9ydCB7IFN0eWxlZENoYXJ0IH0gZnJvbSAnLi9TdHlsZWRDaGFydCc7XG5pbXBvcnQgeyBub3JtYWxpemVCb3VuZHMsIG5vcm1hbGl6ZVZhbHVlcyB9IGZyb20gJy4vdXRpbHMnO1xudmFyIGdyYWRpZW50TWFza0NvbG9yID0gJyNmZmZmZmYnOyAvLyB1c2UgY29uc3RhbnRzIHNvIHJlLXJlbmRlcnMgZG9uJ3QgcmUtdHJpZ2dlciBlZmZlY3RzXG5cbnZhciBkZWZhdWx0U2l6ZSA9IHtcbiAgaGVpZ2h0OiAnc21hbGwnLFxuICB3aWR0aDogJ21lZGl1bSdcbn07XG52YXIgZGVmYXVsdFZhbHVlcyA9IFtdO1xudmFyIENoYXJ0ID0gUmVhY3QuZm9yd2FyZFJlZihmdW5jdGlvbiAoX3JlZiwgcmVmKSB7XG4gIHZhciBwcm9wc0JvdW5kcyA9IF9yZWYuYm91bmRzLFxuICAgICAgY29sb3IgPSBfcmVmLmNvbG9yLFxuICAgICAgZ2FwID0gX3JlZi5nYXAsXG4gICAgICBpZCA9IF9yZWYuaWQsXG4gICAgICBvbkNsaWNrID0gX3JlZi5vbkNsaWNrLFxuICAgICAgb25Ib3ZlciA9IF9yZWYub25Ib3ZlcixcbiAgICAgIF9yZWYkb3ZlcmZsb3cgPSBfcmVmLm92ZXJmbG93LFxuICAgICAgb3ZlcmZsb3cgPSBfcmVmJG92ZXJmbG93ID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYkb3ZlcmZsb3csXG4gICAgICByb3VuZCA9IF9yZWYucm91bmQsXG4gICAgICBfcmVmJHNpemUgPSBfcmVmLnNpemUsXG4gICAgICBwcm9wc1NpemUgPSBfcmVmJHNpemUgPT09IHZvaWQgMCA/IGRlZmF1bHRTaXplIDogX3JlZiRzaXplLFxuICAgICAgX3JlZiR0aGlja25lc3MgPSBfcmVmLnRoaWNrbmVzcyxcbiAgICAgIHRoaWNrbmVzcyA9IF9yZWYkdGhpY2tuZXNzID09PSB2b2lkIDAgPyAnbWVkaXVtJyA6IF9yZWYkdGhpY2tuZXNzLFxuICAgICAgX3JlZiR0eXBlID0gX3JlZi50eXBlLFxuICAgICAgdHlwZSA9IF9yZWYkdHlwZSA9PT0gdm9pZCAwID8gJ2JhcicgOiBfcmVmJHR5cGUsXG4gICAgICBfcmVmJHZhbHVlcyA9IF9yZWYudmFsdWVzLFxuICAgICAgcHJvcHNWYWx1ZXMgPSBfcmVmJHZhbHVlcyA9PT0gdm9pZCAwID8gZGVmYXVsdFZhbHVlcyA6IF9yZWYkdmFsdWVzLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9yZWYsIFtcImJvdW5kc1wiLCBcImNvbG9yXCIsIFwiZ2FwXCIsIFwiaWRcIiwgXCJvbkNsaWNrXCIsIFwib25Ib3ZlclwiLCBcIm92ZXJmbG93XCIsIFwicm91bmRcIiwgXCJzaXplXCIsIFwidGhpY2tuZXNzXCIsIFwidHlwZVwiLCBcInZhbHVlc1wiXSk7XG5cbiAgdmFyIHRoZW1lID0gdXNlQ29udGV4dChUaGVtZUNvbnRleHQpO1xuXG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZShbXSksXG4gICAgICB2YWx1ZXMgPSBfdXNlU3RhdGVbMF0sXG4gICAgICBzZXRWYWx1ZXMgPSBfdXNlU3RhdGVbMV07XG5cbiAgdmFyIF91c2VTdGF0ZTIgPSB1c2VTdGF0ZShbWzAsIDBdLCBbMCwgMF1dKSxcbiAgICAgIGJvdW5kcyA9IF91c2VTdGF0ZTJbMF0sXG4gICAgICBzZXRCb3VuZHMgPSBfdXNlU3RhdGUyWzFdO1xuXG4gIHZhciBfdXNlU3RhdGUzID0gdXNlU3RhdGUoWzAsIDBdKSxcbiAgICAgIGNvbnRhaW5lclNpemUgPSBfdXNlU3RhdGUzWzBdLFxuICAgICAgc2V0Q29udGFpbmVyU2l6ZSA9IF91c2VTdGF0ZTNbMV07XG5cbiAgdmFyIF91c2VTdGF0ZTQgPSB1c2VTdGF0ZShbMCwgMF0pLFxuICAgICAgc2l6ZSA9IF91c2VTdGF0ZTRbMF0sXG4gICAgICBzZXRTaXplID0gX3VzZVN0YXRlNFsxXTtcblxuICB2YXIgX3VzZVN0YXRlNSA9IHVzZVN0YXRlKFsxLCAxXSksXG4gICAgICBzY2FsZSA9IF91c2VTdGF0ZTVbMF0sXG4gICAgICBzZXRTY2FsZSA9IF91c2VTdGF0ZTVbMV07XG5cbiAgdmFyIF91c2VTdGF0ZTYgPSB1c2VTdGF0ZSgwKSxcbiAgICAgIHN0cm9rZVdpZHRoID0gX3VzZVN0YXRlNlswXSxcbiAgICAgIHNldFN0cm9rZVdpZHRoID0gX3VzZVN0YXRlNlsxXTtcblxuICB2YXIgY29udGFpbmVyUmVmID0gcmVmIHx8IHVzZVJlZigpOyAvLyBjYWxjdWxhdGlvbnNcblxuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIHZhciBuZXh0VmFsdWVzID0gbm9ybWFsaXplVmFsdWVzKHByb3BzVmFsdWVzKTtcbiAgICBzZXRWYWx1ZXMobmV4dFZhbHVlcyk7XG4gICAgdmFyIG5leHRCb3VuZHMgPSBub3JtYWxpemVCb3VuZHMocHJvcHNCb3VuZHMsIG5leHRWYWx1ZXMpO1xuICAgIHNldEJvdW5kcyhuZXh0Qm91bmRzKTtcbiAgICB2YXIgbmV4dFN0cm9rZVdpZHRoID0gcGFyc2VNZXRyaWNUb051bSh0aGVtZS5nbG9iYWwuZWRnZVNpemVbdGhpY2tuZXNzXSB8fCB0aGlja25lc3MpO1xuICAgIHNldFN0cm9rZVdpZHRoKG5leHRTdHJva2VXaWR0aCk7XG4gICAgdmFyIGdhcFdpZHRoID0gZ2FwID8gcGFyc2VNZXRyaWNUb051bSh0aGVtZS5nbG9iYWwuZWRnZVNpemVbZ2FwXSB8fCBnYXApIDogbmV4dFN0cm9rZVdpZHRoOyAvLyBhdXRvV2lkdGggaXMgaG93IHdpZGUgd2UnZCBwZWZlclxuXG4gICAgdmFyIGF1dG9XaWR0aCA9IG5leHRTdHJva2VXaWR0aCAqIG5leHRWYWx1ZXMubGVuZ3RoICsgKG5leHRWYWx1ZXMubGVuZ3RoIC0gMSkgKiBnYXBXaWR0aDtcbiAgICB2YXIgc2l6ZVdpZHRoID0gdHlwZW9mIHByb3BzU2l6ZSA9PT0gJ3N0cmluZycgPyBwcm9wc1NpemUgOiBwcm9wc1NpemUud2lkdGggfHwgZGVmYXVsdFNpemUud2lkdGg7XG4gICAgdmFyIHdpZHRoO1xuXG4gICAgaWYgKHNpemVXaWR0aCA9PT0gJ2Z1bGwnKSB7XG4gICAgICB3aWR0aCA9IGNvbnRhaW5lclNpemVbMF07XG4gICAgfSBlbHNlIGlmIChzaXplV2lkdGggPT09ICdhdXRvJykge1xuICAgICAgd2lkdGggPSBhdXRvV2lkdGg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdpZHRoID0gcGFyc2VNZXRyaWNUb051bSh0aGVtZS5nbG9iYWwuc2l6ZVtzaXplV2lkdGhdIHx8IHNpemVXaWR0aCk7XG4gICAgfVxuXG4gICAgdmFyIHNpemVIZWlnaHQgPSB0eXBlb2YgcHJvcHNTaXplID09PSAnc3RyaW5nJyA/IHByb3BzU2l6ZSA6IHByb3BzU2l6ZS5oZWlnaHQgfHwgZGVmYXVsdFNpemUuaGVpZ2h0O1xuICAgIHZhciBoZWlnaHQ7XG5cbiAgICBpZiAoc2l6ZUhlaWdodCA9PT0gJ2Z1bGwnKSB7XG4gICAgICBoZWlnaHQgPSBjb250YWluZXJTaXplWzFdO1xuICAgIH0gZWxzZSB7XG4gICAgICBoZWlnaHQgPSBwYXJzZU1ldHJpY1RvTnVtKHRoZW1lLmdsb2JhbC5zaXplW3NpemVIZWlnaHRdIHx8IHNpemVIZWlnaHQpO1xuICAgIH1cblxuICAgIHNldFNpemUoW3dpZHRoLCBoZWlnaHRdKTtcbiAgICB2YXIgbmV4dFNjYWxlID0gWyhzaXplV2lkdGggPT09ICdhdXRvJyA/IGF1dG9XaWR0aCA6IHdpZHRoKSAvIChuZXh0Qm91bmRzWzBdWzFdIC0gbmV4dEJvdW5kc1swXVswXSksIGhlaWdodCAvIChuZXh0Qm91bmRzWzFdWzFdIC0gbmV4dEJvdW5kc1sxXVswXSldO1xuICAgIHNldFNjYWxlKG5leHRTY2FsZSk7XG4gIH0sIFtjb250YWluZXJTaXplLCBnYXAsIHByb3BzQm91bmRzLCBwcm9wc1NpemUsIHByb3BzVmFsdWVzLCB0aGVtZS5nbG9iYWwuZWRnZVNpemUsIHRoZW1lLmdsb2JhbC5zaXplLCB0aGlja25lc3NdKTsgLy8gc2V0IGNvbnRhaW5lciBzaXplIHdoZW4gd2UgZ2V0IHJlZiBvciB3aGVuIHNpemUgY2hhbmdlc1xuXG4gIGlmIChjb250YWluZXJSZWYuY3VycmVudCAmJiBwcm9wc1NpemUgJiYgKHByb3BzU2l6ZSA9PT0gJ2Z1bGwnIHx8IHByb3BzU2l6ZS5oZWlnaHQgPT09ICdmdWxsJyB8fCBwcm9wc1NpemUud2lkdGggPT09ICdmdWxsJykpIHtcbiAgICB2YXIgY29udGFpbmVyTm9kZSA9IGNvbnRhaW5lclJlZi5jdXJyZW50O1xuXG4gICAgaWYgKGNvbnRhaW5lck5vZGUpIHtcbiAgICAgIHZhciBwYXJlbnROb2RlID0gY29udGFpbmVyTm9kZS5wYXJlbnROb2RlO1xuXG4gICAgICBpZiAocGFyZW50Tm9kZSkge1xuICAgICAgICB2YXIgcmVjdCA9IHBhcmVudE5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgICAgaWYgKHJlY3Qud2lkdGggIT09IGNvbnRhaW5lclNpemVbMF0gfHwgcmVjdC5oZWlnaHQgIT09IGNvbnRhaW5lclNpemVbMV0pIHtcbiAgICAgICAgICBzZXRDb250YWluZXJTaXplKFtyZWN0LndpZHRoLCByZWN0LmhlaWdodF0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9IC8vIGNvbnRhaW5lciBzaXplLCBpZiBuZWVkZWRcblxuXG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG9uUmVzaXplID0gZnVuY3Rpb24gb25SZXNpemUoKSB7XG4gICAgICB2YXIgcGFyZW50Tm9kZSA9IGNvbnRhaW5lclJlZi5jdXJyZW50LnBhcmVudE5vZGU7XG4gICAgICB2YXIgcmVjdCA9IHBhcmVudE5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICBzZXRDb250YWluZXJTaXplKFtyZWN0LndpZHRoLCByZWN0LmhlaWdodF0pO1xuICAgIH07XG5cbiAgICBpZiAocHJvcHNTaXplICYmIChwcm9wc1NpemUgPT09ICdmdWxsJyB8fCBwcm9wc1NpemUud2lkdGggPT09ICdmdWxsJyB8fCBwcm9wc1NpemUuaGVpZ2h0ID09PSAnZnVsbCcpKSB7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgb25SZXNpemUpO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCBvblJlc2l6ZSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH0sIFtjb250YWluZXJSZWYsIHByb3BzU2l6ZV0pO1xuICB2YXIgdXNlR3JhZGllbnQgPSBjb2xvciAmJiBBcnJheS5pc0FycmF5KGNvbG9yKTtcblxuICB2YXIgcmVuZGVyQmFycyA9IGZ1bmN0aW9uIHJlbmRlckJhcnMoKSB7XG4gICAgcmV0dXJuICh2YWx1ZXMgfHwgW10pLm1hcChmdW5jdGlvbiAodmFsdWVBcmcsIGluZGV4KSB7XG4gICAgICB2YXIgbGFiZWwgPSB2YWx1ZUFyZy5sYWJlbCxcbiAgICAgICAgICB2YWx1ZU9uSG92ZXIgPSB2YWx1ZUFyZy5vbkhvdmVyLFxuICAgICAgICAgIHZhbHVlID0gdmFsdWVBcmcudmFsdWUsXG4gICAgICAgICAgdmFsdWVSZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UodmFsdWVBcmcsIFtcImxhYmVsXCIsIFwib25Ib3ZlclwiLCBcInZhbHVlXCJdKTtcblxuICAgICAgdmFyIGtleSA9IFwicC1cIiArIGluZGV4O1xuICAgICAgdmFyIGJvdHRvbSA9IHZhbHVlLmxlbmd0aCA9PT0gMiA/IGJvdW5kc1sxXVswXSA6IHZhbHVlWzFdO1xuICAgICAgdmFyIHRvcCA9IHZhbHVlLmxlbmd0aCA9PT0gMiA/IHZhbHVlWzFdIDogdmFsdWVbMl07XG5cbiAgICAgIGlmICh0b3AgIT09IDApIHtcbiAgICAgICAgdmFyIGQgPSBcIk0gXCIgKyAodmFsdWVbMF0gLSBib3VuZHNbMF1bMF0pICogc2NhbGVbMF0gKyBcIixcIiArIChcIlwiICsgKHNpemVbMV0gLSAoYm90dG9tIC0gYm91bmRzWzFdWzBdKSAqIHNjYWxlWzFdKSkgKyAoXCIgTCBcIiArICh2YWx1ZVswXSAtIGJvdW5kc1swXVswXSkgKiBzY2FsZVswXSArIFwiLFwiKSArIChcIlwiICsgKHNpemVbMV0gLSAodG9wIC0gYm91bmRzWzFdWzBdKSAqIHNjYWxlWzFdKSk7XG4gICAgICAgIHZhciBob3ZlclByb3BzO1xuXG4gICAgICAgIGlmICh2YWx1ZU9uSG92ZXIpIHtcbiAgICAgICAgICBob3ZlclByb3BzID0ge1xuICAgICAgICAgICAgb25Nb3VzZU92ZXI6IGZ1bmN0aW9uIG9uTW91c2VPdmVyKCkge1xuICAgICAgICAgICAgICByZXR1cm4gdmFsdWVPbkhvdmVyKHRydWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uTW91c2VMZWF2ZTogZnVuY3Rpb24gb25Nb3VzZUxlYXZlKCkge1xuICAgICAgICAgICAgICByZXR1cm4gdmFsdWVPbkhvdmVyKGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJnXCIsIHtcbiAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICBmaWxsOiBcIm5vbmVcIlxuICAgICAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwidGl0bGVcIiwgbnVsbCwgbGFiZWwpLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCBfZXh0ZW5kcyh7XG4gICAgICAgICAgZDogZFxuICAgICAgICB9LCBob3ZlclByb3BzLCB2YWx1ZVJlc3QpKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIHJlbmRlckxpbmUgPSBmdW5jdGlvbiByZW5kZXJMaW5lKCkge1xuICAgIHZhciBkID0gJyc7XG4gICAgKHZhbHVlcyB8fCBbXSkuZm9yRWFjaChmdW5jdGlvbiAoX3JlZjIsIGluZGV4KSB7XG4gICAgICB2YXIgdmFsdWUgPSBfcmVmMi52YWx1ZTtcbiAgICAgIGQgKz0gKGluZGV4ID8gJyBMJyA6ICdNJykgKyBcIiBcIiArICh2YWx1ZVswXSAtIGJvdW5kc1swXVswXSkgKiBzY2FsZVswXSArIFwiLFwiICsgKFwiXCIgKyAoc2l6ZVsxXSAtICh2YWx1ZVsxXSAtIGJvdW5kc1sxXVswXSkgKiBzY2FsZVsxXSkpO1xuICAgIH0pO1xuICAgIHZhciBob3ZlclByb3BzO1xuXG4gICAgaWYgKG9uSG92ZXIpIHtcbiAgICAgIGhvdmVyUHJvcHMgPSB7XG4gICAgICAgIG9uTW91c2VPdmVyOiBmdW5jdGlvbiBvbk1vdXNlT3ZlcigpIHtcbiAgICAgICAgICByZXR1cm4gb25Ib3Zlcih0cnVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25Nb3VzZUxlYXZlOiBmdW5jdGlvbiBvbk1vdXNlTGVhdmUoKSB7XG4gICAgICAgICAgcmV0dXJuIG9uSG92ZXIoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cblxuICAgIHZhciBjbGlja1Byb3BzO1xuXG4gICAgaWYgKG9uQ2xpY2spIHtcbiAgICAgIGNsaWNrUHJvcHMgPSB7XG4gICAgICAgIG9uQ2xpY2s6IG9uQ2xpY2tcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJnXCIsIHtcbiAgICAgIGZpbGw6IFwibm9uZVwiXG4gICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgX2V4dGVuZHMoe1xuICAgICAgZDogZFxuICAgIH0sIGhvdmVyUHJvcHMsIGNsaWNrUHJvcHMpKSk7XG4gIH07XG5cbiAgdmFyIHJlbmRlckFyZWEgPSBmdW5jdGlvbiByZW5kZXJBcmVhKCkge1xuICAgIHZhciBkID0gJyc7XG4gICAgKHZhbHVlcyB8fCBbXSkuZm9yRWFjaChmdW5jdGlvbiAoX3JlZjMsIGluZGV4KSB7XG4gICAgICB2YXIgdmFsdWUgPSBfcmVmMy52YWx1ZTtcbiAgICAgIHZhciB0b3AgPSB2YWx1ZS5sZW5ndGggPT09IDIgPyB2YWx1ZVsxXSA6IHZhbHVlWzJdO1xuICAgICAgZCArPSAoIWluZGV4ID8gJ00nIDogJyBMJykgKyBcIiBcIiArICh2YWx1ZVswXSAtIGJvdW5kc1swXVswXSkgKiBzY2FsZVswXSArIFwiLFwiICsgKFwiXCIgKyAoc2l6ZVsxXSAtICh0b3AgLSBib3VuZHNbMV1bMF0pICogc2NhbGVbMV0pKTtcbiAgICB9KTtcbiAgICAodmFsdWVzIHx8IFtdKS5yZXZlcnNlKCkuZm9yRWFjaChmdW5jdGlvbiAoX3JlZjQpIHtcbiAgICAgIHZhciB2YWx1ZSA9IF9yZWY0LnZhbHVlO1xuICAgICAgdmFyIGJvdHRvbSA9IHZhbHVlLmxlbmd0aCA9PT0gMiA/IGJvdW5kc1sxXVswXSA6IHZhbHVlWzFdO1xuICAgICAgZCArPSBcIiBMIFwiICsgKHZhbHVlWzBdIC0gYm91bmRzWzBdWzBdKSAqIHNjYWxlWzBdICsgXCIsXCIgKyAoXCJcIiArIChzaXplWzFdIC0gKGJvdHRvbSAtIGJvdW5kc1sxXVswXSkgKiBzY2FsZVsxXSkpO1xuICAgIH0pO1xuXG4gICAgaWYgKGQubGVuZ3RoID4gMCkge1xuICAgICAgZCArPSAnIFonO1xuICAgIH1cblxuICAgIHZhciBob3ZlclByb3BzO1xuXG4gICAgaWYgKG9uSG92ZXIpIHtcbiAgICAgIGhvdmVyUHJvcHMgPSB7XG4gICAgICAgIG9uTW91c2VPdmVyOiBmdW5jdGlvbiBvbk1vdXNlT3ZlcigpIHtcbiAgICAgICAgICByZXR1cm4gb25Ib3Zlcih0cnVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25Nb3VzZUxlYXZlOiBmdW5jdGlvbiBvbk1vdXNlTGVhdmUoKSB7XG4gICAgICAgICAgcmV0dXJuIG9uSG92ZXIoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cblxuICAgIHZhciBjbGlja1Byb3BzO1xuXG4gICAgaWYgKG9uQ2xpY2spIHtcbiAgICAgIGNsaWNrUHJvcHMgPSB7XG4gICAgICAgIG9uQ2xpY2s6IG9uQ2xpY2tcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJnXCIsIG51bGwsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIF9leHRlbmRzKHtcbiAgICAgIGQ6IGRcbiAgICB9LCBob3ZlclByb3BzLCBjbGlja1Byb3BzKSkpO1xuICB9O1xuXG4gIHZhciByZW5kZXJQb2ludHMgPSBmdW5jdGlvbiByZW5kZXJQb2ludHMoKSB7XG4gICAgcmV0dXJuICh2YWx1ZXMgfHwgW10pLm1hcChmdW5jdGlvbiAodmFsdWVBcmcsIGluZGV4KSB7XG4gICAgICB2YXIgbGFiZWwgPSB2YWx1ZUFyZy5sYWJlbCxcbiAgICAgICAgICB2YWx1ZU9uSG92ZXIgPSB2YWx1ZUFyZy5vbkhvdmVyLFxuICAgICAgICAgIHZhbHVlID0gdmFsdWVBcmcudmFsdWUsXG4gICAgICAgICAgdmFsdWVSZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UodmFsdWVBcmcsIFtcImxhYmVsXCIsIFwib25Ib3ZlclwiLCBcInZhbHVlXCJdKTtcblxuICAgICAgdmFyIGtleSA9IFwicC1cIiArIGluZGV4O1xuICAgICAgdmFyIGhvdmVyUHJvcHM7XG5cbiAgICAgIGlmICh2YWx1ZU9uSG92ZXIpIHtcbiAgICAgICAgaG92ZXJQcm9wcyA9IHtcbiAgICAgICAgICBvbk1vdXNlT3ZlcjogZnVuY3Rpb24gb25Nb3VzZU92ZXIoKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWVPbkhvdmVyKHRydWUpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgb25Nb3VzZUxlYXZlOiBmdW5jdGlvbiBvbk1vdXNlTGVhdmUoKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWVPbkhvdmVyKGZhbHNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHZhciBjZW50ZXIgPSB2YWx1ZS5sZW5ndGggPT09IDIgPyB2YWx1ZVsxXSA6IHZhbHVlWzJdO1xuICAgICAgdmFyIHNoYXBlO1xuXG4gICAgICBpZiAocm91bmQpIHtcbiAgICAgICAgdmFyIGN4ID0gKHZhbHVlWzBdIC0gYm91bmRzWzBdWzBdKSAqIHNjYWxlWzBdO1xuICAgICAgICB2YXIgY3kgPSBzaXplWzFdIC0gKGNlbnRlciAtIGJvdW5kc1sxXVswXSkgKiBzY2FsZVsxXTtcbiAgICAgICAgc2hhcGUgPSBSZWFjdC5jcmVhdGVFbGVtZW50KFwiY2lyY2xlXCIsIF9leHRlbmRzKHtcbiAgICAgICAgICBjeDogY3gsXG4gICAgICAgICAgY3k6IGN5LFxuICAgICAgICAgIHI6IHN0cm9rZVdpZHRoIC8gMlxuICAgICAgICB9LCBob3ZlclByb3BzLCB2YWx1ZVJlc3QpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciB4ID0gKHZhbHVlWzBdIC0gYm91bmRzWzBdWzBdKSAqIHNjYWxlWzBdIC0gc3Ryb2tlV2lkdGggLyAyO1xuICAgICAgICB2YXIgeSA9IHNpemVbMV0gLSAoY2VudGVyIC0gYm91bmRzWzFdWzBdKSAqIHNjYWxlWzFdIC0gc3Ryb2tlV2lkdGggLyAyO1xuICAgICAgICBzaGFwZSA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJyZWN0XCIsIF9leHRlbmRzKHtcbiAgICAgICAgICB4OiB4LFxuICAgICAgICAgIHk6IHksXG4gICAgICAgICAgd2lkdGg6IHN0cm9rZVdpZHRoLFxuICAgICAgICAgIGhlaWdodDogc3Ryb2tlV2lkdGhcbiAgICAgICAgfSwgaG92ZXJQcm9wcywgdmFsdWVSZXN0KSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZ1wiLCB7XG4gICAgICAgIGtleToga2V5LFxuICAgICAgICBzdHJva2U6IFwibm9uZVwiXG4gICAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwidGl0bGVcIiwgbnVsbCwgbGFiZWwpLCBzaGFwZSk7XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIGNvbnRlbnRzO1xuXG4gIGlmICh0eXBlID09PSAnYmFyJykge1xuICAgIGNvbnRlbnRzID0gcmVuZGVyQmFycygpO1xuICB9IGVsc2UgaWYgKHR5cGUgPT09ICdsaW5lJykge1xuICAgIGNvbnRlbnRzID0gcmVuZGVyTGluZSgpO1xuICB9IGVsc2UgaWYgKHR5cGUgPT09ICdhcmVhJykge1xuICAgIGNvbnRlbnRzID0gcmVuZGVyQXJlYSgpO1xuICB9IGVsc2UgaWYgKHR5cGUgPT09ICdwb2ludCcpIHtcbiAgICBjb250ZW50cyA9IHJlbmRlclBvaW50cygpO1xuICB9XG5cbiAgdmFyIHZpZXdCb3VuZHMgPSBvdmVyZmxvdyA/IFswLCAwLCBzaXplWzBdLCBzaXplWzFdXSA6IFstKHN0cm9rZVdpZHRoIC8gMiksIC0oc3Ryb2tlV2lkdGggLyAyKSwgc2l6ZVswXSArIHN0cm9rZVdpZHRoLCBzaXplWzFdICsgc3Ryb2tlV2lkdGhdO1xuICB2YXIgdmlld0JveCA9IHZpZXdCb3VuZHMuam9pbignICcpO1xuICB2YXIgY29sb3JOYW1lO1xuXG4gIGlmICghdXNlR3JhZGllbnQpIHtcbiAgICBpZiAoY29sb3IgJiYgY29sb3IuY29sb3IpIGNvbG9yTmFtZSA9IGNvbG9yLmNvbG9yO2Vsc2UgaWYgKGNvbG9yKSBjb2xvck5hbWUgPSBjb2xvcjtlbHNlIGlmICh0aGVtZS5jaGFydCAmJiB0aGVtZS5jaGFydC5jb2xvcikgY29sb3JOYW1lID0gdGhlbWUuY2hhcnQuY29sb3I7ZWxzZSBjb2xvck5hbWUgPSAnZ3JhcGgtMCc7XG4gIH1cblxuICB2YXIgb3BhY2l0eSA9IGNvbG9yICYmIGNvbG9yLm9wYWNpdHkgPyB0aGVtZS5nbG9iYWwub3BhY2l0eVtjb2xvci5vcGFjaXR5XSA6IHVuZGVmaW5lZDtcbiAgdmFyIHN0cm9rZTtcblxuICBpZiAodHlwZSAhPT0gJ3BvaW50Jykge1xuICAgIGlmICh1c2VHcmFkaWVudCkgc3Ryb2tlID0gZ3JhZGllbnRNYXNrQ29sb3I7ZWxzZSBzdHJva2UgPSBub3JtYWxpemVDb2xvcihjb2xvck5hbWUsIHRoZW1lKTtcbiAgfSBlbHNlIHN0cm9rZSA9ICdub25lJztcblxuICB2YXIgZmlsbDtcblxuICBpZiAodHlwZSA9PT0gJ3BvaW50JyB8fCB0eXBlID09PSAnYXJlYScpIHtcbiAgICBpZiAodXNlR3JhZGllbnQpIGZpbGwgPSBncmFkaWVudE1hc2tDb2xvcjtlbHNlIGZpbGwgPSBub3JtYWxpemVDb2xvcihjb2xvck5hbWUsIHRoZW1lKTtcbiAgfSBlbHNlIGZpbGwgPSAnbm9uZSc7XG5cbiAgdmFyIGRyYXdpbmcgPSBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZ1wiLCB7XG4gICAgc3Ryb2tlOiBzdHJva2UsXG4gICAgc3Ryb2tlV2lkdGg6IHR5cGUgIT09ICdwb2ludCcgPyBzdHJva2VXaWR0aCA6IHVuZGVmaW5lZCxcbiAgICBmaWxsOiBmaWxsLFxuICAgIHN0cm9rZUxpbmVjYXA6IHJvdW5kID8gJ3JvdW5kJyA6ICdidXR0JyxcbiAgICBzdHJva2VMaW5lam9pbjogcm91bmQgPyAncm91bmQnIDogJ21pdGVyJyxcbiAgICBvcGFjaXR5OiBvcGFjaXR5XG4gIH0sIGNvbnRlbnRzKTtcbiAgdmFyIGRlZnM7XG4gIHZhciBncmFkaWVudFJlY3Q7XG5cbiAgaWYgKHVzZUdyYWRpZW50ICYmIHNpemVbMV0pIHtcbiAgICB2YXIgZ3JhZGllbnRJZCA9IGlkICsgXCItZ3JhZGllbnRcIjtcbiAgICB2YXIgbWFza0lkID0gaWQgKyBcIi1tYXNrXCI7XG4gICAgZGVmcyA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkZWZzXCIsIG51bGwsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJsaW5lYXJHcmFkaWVudFwiLCB7XG4gICAgICBpZDogZ3JhZGllbnRJZCxcbiAgICAgIHgxOiAwLFxuICAgICAgeTE6IDAsXG4gICAgICB4MjogMCxcbiAgICAgIHkyOiAxXG4gICAgfSwgY29sb3Iuc29ydChmdW5jdGlvbiAoYzEsIGMyKSB7XG4gICAgICByZXR1cm4gYzIudmFsdWUgLSBjMS52YWx1ZTtcbiAgICB9KS5tYXAoZnVuY3Rpb24gKF9yZWY1KSB7XG4gICAgICB2YXIgdmFsdWUgPSBfcmVmNS52YWx1ZSxcbiAgICAgICAgICBncmFkaWVudENvbG9yID0gX3JlZjUuY29sb3I7XG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcInN0b3BcIiwge1xuICAgICAgICBrZXk6IHZhbHVlLFxuICAgICAgICBvZmZzZXQ6IChzaXplWzFdIC0gKHZhbHVlIC0gYm91bmRzWzFdWzBdKSAqIHNjYWxlWzFdKSAvIHNpemVbMV0sXG4gICAgICAgIHN0b3BDb2xvcjogbm9ybWFsaXplQ29sb3IoZ3JhZGllbnRDb2xvciwgdGhlbWUpXG4gICAgICB9KTtcbiAgICB9KSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJtYXNrXCIsIHtcbiAgICAgIGlkOiBtYXNrSWRcbiAgICB9LCBkcmF3aW5nKSk7XG4gICAgZ3JhZGllbnRSZWN0ID0gUmVhY3QuY3JlYXRlRWxlbWVudChcInJlY3RcIiwge1xuICAgICAgeDogdmlld0JvdW5kc1swXSxcbiAgICAgIHk6IHZpZXdCb3VuZHNbMV0sXG4gICAgICB3aWR0aDogdmlld0JvdW5kc1syXSxcbiAgICAgIGhlaWdodDogdmlld0JvdW5kc1szXSxcbiAgICAgIGZpbGw6IFwidXJsKCNcIiArIGdyYWRpZW50SWQgKyBcIilcIixcbiAgICAgIG1hc2s6IFwidXJsKCNcIiArIG1hc2tJZCArIFwiKVwiXG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWRDaGFydCwgX2V4dGVuZHMoe1xuICAgIHJlZjogY29udGFpbmVyUmVmLFxuICAgIGlkOiBpZCxcbiAgICB2aWV3Qm94OiB2aWV3Qm94LFxuICAgIHByZXNlcnZlQXNwZWN0UmF0aW86IFwibm9uZVwiLFxuICAgIHdpZHRoOiBzaXplID09PSAnZnVsbCcgPyAnMTAwJScgOiBzaXplWzBdLFxuICAgIGhlaWdodDogc2l6ZSA9PT0gJ2Z1bGwnID8gJzEwMCUnIDogc2l6ZVsxXVxuICB9LCByZXN0KSwgZGVmcywgdXNlR3JhZGllbnQgPyBncmFkaWVudFJlY3QgOiBkcmF3aW5nKTtcbn0pO1xuQ2hhcnQuZGlzcGxheU5hbWUgPSAnQ2hhcnQnO1xudmFyIENoYXJ0RG9jO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBDaGFydERvYyA9IHJlcXVpcmUoJy4vZG9jJykuZG9jKENoYXJ0KTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBnbG9iYWwtcmVxdWlyZVxufVxuXG52YXIgQ2hhcnRXcmFwcGVyID0gQ2hhcnREb2MgfHwgQ2hhcnQ7XG5leHBvcnQgeyBDaGFydFdyYXBwZXIgYXMgQ2hhcnQgfTsiLCJpbXBvcnQgc3R5bGVkIGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCB7IGdlbmVyaWNTdHlsZXMgfSBmcm9tICcuLi8uLi91dGlscyc7XG5pbXBvcnQgeyBkZWZhdWx0UHJvcHMgfSBmcm9tICcuLi8uLi9kZWZhdWx0LXByb3BzJztcbnZhciBTdHlsZWRDaGFydCA9IHN0eWxlZC5zdmcud2l0aENvbmZpZyh7XG4gIGRpc3BsYXlOYW1lOiBcIlN0eWxlZENoYXJ0XCIsXG4gIGNvbXBvbmVudElkOiBcInNjLTFuYWUwZ2YtMFwiXG59KShbXCJkaXNwbGF5OmJsb2NrO21heC13aWR0aDoxMDAlO292ZXJmbG93OnZpc2libGU7XCIsIFwiIFwiLCBcIjtcIl0sIGdlbmVyaWNTdHlsZXMsIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUuY2hhcnQgJiYgcHJvcHMudGhlbWUuY2hhcnQuZXh0ZW5kO1xufSk7XG5TdHlsZWRDaGFydC5kZWZhdWx0UHJvcHMgPSB7fTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihTdHlsZWRDaGFydC5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG5leHBvcnQgeyBTdHlsZWRDaGFydCB9OyIsImltcG9ydCB7IG5vcm1hbGl6ZVZhbHVlcyB9IGZyb20gJy4vdXRpbHMnO1xuZXhwb3J0IHZhciBjYWxjcyA9IGZ1bmN0aW9uIGNhbGNzKHZhbHVlcywgb3B0aW9ucykge1xuICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgb3B0aW9ucyA9IHt9O1xuICB9XG5cbiAgdmFyIGNvYXJzZW5lc3MgPSBvcHRpb25zLmNvYXJzZW5lc3MgfHwgNTtcbiAgdmFyIHN0ZXBzID0gb3B0aW9ucy5zdGVwcyB8fCBbMSwgMV07XG4gIHZhciBjYWxjVmFsdWVzID0gbm9ybWFsaXplVmFsdWVzKHZhbHVlcyB8fCBbXSk7XG4gIHZhciBtaW47XG4gIHZhciBtYXg7XG5cbiAgaWYgKG9wdGlvbnMubWluICE9PSB1bmRlZmluZWQgJiYgb3B0aW9ucy5tYXggIT09IHVuZGVmaW5lZCkge1xuICAgIHZhciBfb3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgbWluID0gX29wdGlvbnMubWluO1xuICAgIG1heCA9IF9vcHRpb25zLm1heDtcbiAgfSBlbHNlIGlmIChjYWxjVmFsdWVzLmxlbmd0aCkge1xuICAgIC8vIENhbGN1bGF0ZSB0aGUgbWF4IGFuZCBtaW4geSB2YWx1ZXMuXG4gICAgbWluID0gY2FsY1ZhbHVlc1swXS52YWx1ZVsxXSB8fCAwO1xuICAgIG1heCA9IG1pbjtcbiAgICBjYWxjVmFsdWVzLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICB2YXIgeSA9IHZhbHVlLnZhbHVlWzFdO1xuICAgICAgbWluID0gTWF0aC5taW4obWluLCB5KTtcbiAgICAgIG1heCA9IE1hdGgubWF4KG1heCwgeSk7IC8vIGhhbmRsZSByYW5nZXMgb2YgdmFsdWVzXG5cbiAgICAgIGlmICh2YWx1ZS52YWx1ZVsyXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhciB5MiA9IHZhbHVlLnZhbHVlWzJdO1xuICAgICAgICBtaW4gPSBNYXRoLm1pbihtaW4sIHkyKTtcbiAgICAgICAgbWF4ID0gTWF0aC5tYXgobWF4LCB5Mik7XG4gICAgICB9XG4gICAgfSk7XG4gICAgbWluID0gb3B0aW9ucy5taW4gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubWluIDogbWluO1xuICAgIG1heCA9IG9wdGlvbnMubWF4ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm1heCA6IG1heDsgLy8gQ2FsY3VsYXRlIHNvbWUgcmVhc29uYWJsZSB5IGJvdW5kcyBiYXNlZCBvbiB0aGUgbWF4IGFuZCBtaW4geSB2YWx1ZXMuXG4gICAgLy8gVGhpcyBpcyBzbyB2YWx1ZXMgbGlrZSA4NzM0Mi4xMiBkb24ndCBlbmQgdXAgYmVpbmcgZGlzcGxheWVkIGFzIHRoZVxuICAgIC8vIGdyYXBoIGF4aXMgZWRnZSBsYWJlbC5cblxuICAgIHZhciBkZWx0YSA9IG1heCAtIG1pbjtcbiAgICB2YXIgaW50ZXJ2YWwgPSBOdW1iZXIucGFyc2VGbG9hdCgoZGVsdGEgLyBjb2Fyc2VuZXNzKS50b1ByZWNpc2lvbigxKSk7XG4gICAgbWF4ID0gbWF4IC0gbWF4ICUgaW50ZXJ2YWwgKyBpbnRlcnZhbDtcbiAgICBtaW4gLT0gbWluICUgaW50ZXJ2YWw7XG4gIH1cblxuICB2YXIgYm91bmRzID0gY2FsY1ZhbHVlcy5sZW5ndGggPyBbW2NhbGNWYWx1ZXNbMF0udmFsdWVbMF0sIGNhbGNWYWx1ZXNbY2FsY1ZhbHVlcy5sZW5ndGggLSAxXS52YWx1ZVswXV0sIFttaW4sIG1heF1dIDogW1tdLCBbXV07XG4gIHZhciBkaW1lbnNpb25zID0gW2JvdW5kc1swXVsxXSAtIGJvdW5kc1swXVswXSwgYm91bmRzWzFdWzFdIC0gYm91bmRzWzFdWzBdXTsgLy8gQ2FsY3VsYXRlIHggYW5kIHkgYXhpcyB2YWx1ZXMgYWNyb3NzIHRoZSBzcGVjZmllZCBudW1iZXIgb2Ygc3RlcHMuXG5cbiAgdmFyIHlBeGlzID0gW107XG4gIHZhciB5ID0gYm91bmRzWzFdWzFdO1xuICB2YXIgeVN0ZXBJbnRlcnZhbCA9IGRpbWVuc2lvbnNbMV0gLyBzdGVwc1sxXTtcblxuICB3aGlsZSAoeSA+PSBib3VuZHNbMV1bMF0pIHtcbiAgICB5QXhpcy5wdXNoKHkpO1xuICAgIHkgLT0geVN0ZXBJbnRlcnZhbDtcbiAgfVxuXG4gIHZhciB4QXhpcyA9IFtdO1xuICB2YXIgeCA9IGJvdW5kc1swXVswXTtcbiAgdmFyIHhTdGVwSW50ZXJ2YWwgPSBkaW1lbnNpb25zWzBdIC8gc3RlcHNbMF07XG5cbiAgd2hpbGUgKHhTdGVwSW50ZXJ2YWwgPiAwICYmIHggPD0gYm91bmRzWzBdWzFdIHx8IHhTdGVwSW50ZXJ2YWwgPCAwICYmIHggPj0gYm91bmRzWzBdWzFdKSB7XG4gICAgeEF4aXMucHVzaCh4KTtcbiAgICB4ICs9IHhTdGVwSW50ZXJ2YWw7XG4gIH0gLy8gU2V0IGJhciB0aGlja25lc3MgYmFzZWQgb24gbnVtYmVyIG9mIHZhbHVlcyBiZWluZyByZW5kZXJlZC5cbiAgLy8gU29tZWRheSwgaXQgd291bGQgYmUgYmV0dGVyIHRvIGluY2x1ZGUgdGhlIGFjdHVhbCByZW5kZXJlZCBzaXplLlxuICAvLyBUaGVzZSB2YWx1ZXMgd2VyZSBlbWlyaWNhbGx5IGRldGVybWluZWQsIHRyeWluZyB0byBiYWxhbmNlIHZpc2liaWxpdHlcbiAgLy8gYW5kIG92ZXJsYXAgYWNyb3NzIHJlc29sdXRpb25zLlxuXG5cbiAgdmFyIHRoaWNrbmVzcztcbiAgdmFyIHBhZDtcblxuICBpZiAoY2FsY1ZhbHVlcy5sZW5ndGggPCA1KSB7XG4gICAgdGhpY2tuZXNzID0gJ3hsYXJnZSc7XG4gICAgcGFkID0gJ2xhcmdlJztcbiAgfSBlbHNlIGlmIChjYWxjVmFsdWVzLmxlbmd0aCA8IDExKSB7XG4gICAgdGhpY2tuZXNzID0gJ2xhcmdlJztcbiAgICBwYWQgPSAnbWVkaXVtJztcbiAgfSBlbHNlIGlmIChjYWxjVmFsdWVzLmxlbmd0aCA8IDIxKSB7XG4gICAgdGhpY2tuZXNzID0gJ21lZGl1bSc7XG4gICAgcGFkID0gJ3NtYWxsJztcbiAgfSBlbHNlIGlmIChjYWxjVmFsdWVzLmxlbmd0aCA8IDYxKSB7XG4gICAgdGhpY2tuZXNzID0gJ3NtYWxsJztcbiAgICBwYWQgPSAneHNtYWxsJztcbiAgfSBlbHNlIGlmIChjYWxjVmFsdWVzLmxlbmd0aCA8IDEyMSkge1xuICAgIHRoaWNrbmVzcyA9ICd4c21hbGwnO1xuICAgIHBhZCA9ICd4eHNtYWxsJztcbiAgfSBlbHNlIHtcbiAgICB0aGlja25lc3MgPSAnaGFpcic7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGF4aXM6IFt4QXhpcywgeUF4aXNdLFxuICAgIGJvdW5kczogYm91bmRzLFxuICAgIGRpbWVuc2lvbnM6IGRpbWVuc2lvbnMsXG4gICAgcGFkOiBwYWQsXG4gICAgdGhpY2tuZXNzOiB0aGlja25lc3NcbiAgfTtcbn07IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuaW1wb3J0IHsgZGVzY3JpYmUsIFByb3BUeXBlcyB9IGZyb20gJ3JlYWN0LWRlc2MnO1xuaW1wb3J0IHsgZ2VuZXJpY1Byb3BzLCBnZXRBdmFpbGFibGVBdEJhZGdlIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuZXhwb3J0IHZhciBkb2MgPSBmdW5jdGlvbiBkb2MoQ2hhcnQpIHtcbiAgdmFyIERvY3VtZW50ZWRDaGFydCA9IGRlc2NyaWJlKENoYXJ0KS5hdmFpbGFibGVBdChnZXRBdmFpbGFibGVBdEJhZGdlKCdDaGFydCcpKS5kZXNjcmlwdGlvbignQSBncmFwaGljYWwgY2hhcnQuJykudXNhZ2UoXCJpbXBvcnQgeyBDaGFydCB9IGZyb20gJ2dyb21tZXQnO1xcbjxDaGFydCAvPlwiKTsgLy8gV2UgZG9uJ3QgaW5jbHVkZSBzdmcgZHVlIHRvIGEgY29sbGlzaW9uIG9uIHRoZSB2YWx1ZXMgcHJvcGVydHlcbiAgLy8gLmludHJpbnNpY0VsZW1lbnQoJ3N2ZycpO1xuXG4gIERvY3VtZW50ZWRDaGFydC5wcm9wVHlwZXMgPSBfZXh0ZW5kcyh7fSwgZ2VuZXJpY1Byb3BzLCB7XG4gICAgYm91bmRzOiBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMubnVtYmVyKSkuZGVzY3JpcHRpb24oXCJUaGUgbGltaXRzIGZvciB0aGUgdmFsdWVzLCBzcGVjaWZpZWQgYXMgYSB0d28gZGltZW5zaW9uYWwgYXJyYXkuXFxuICAgICAgSWYgbm90IHNwZWNpZmllZCwgdGhlIGJvdW5kcyB3aWxsIGF1dG9tYXRpY2FsbHkgYmUgc2V0IHRvIGZpdFxcbiAgICAgIHRoZSBwcm92aWRlZCB2YWx1ZXMuXCIpLFxuICAgIGNvbG9yOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgY29sb3I6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgICBvcGFjaXR5OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2YoWyd3ZWFrJywgJ21lZGl1bScsICdzdHJvbmcnXSksIFByb3BUeXBlcy5ib29sXSlcbiAgICB9KSwgUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgIGNvbG9yOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgdmFsdWU6IFByb3BUeXBlcy5udW1iZXJcbiAgICB9KSldKS5kZXNjcmlwdGlvbihcIkEgY29sb3IgaWRlbnRpZmllciB0byB1c2UgZm9yIHRoZSBncmFwaGljIGNvbG9yLiBJZiBhblxcbiAgICAgIGFycmF5IGlzIHNwZWNpZmllZCwgaXQgaXMgdXNlZCB0byBjcmVhdGUgYSBncmFkaWVudCBtYXNrLiBBcnJheSBvYmplY3RzXFxuICAgICAgaW5kaWNhdGUgd2hhdCBjb2xvciB0byBzaG93IGF0IHdoYXQgdmFsdWUuIEluIHRoZSBzaW1wbGVzdCBjYXNlLCB0aGVcXG4gICAgICB2YWx1ZXMgc2hvdWxkIG1hcCB0byB0aGUgWSBib3VuZHMgdmFsdWVzLCByZXN1bHRpbmcgaW4gYSB2ZXJ0aWNhbFxcbiAgICAgIGdyYWRpZW50LiBTcGVjaWZ5aW5nIG1vcmUgb2JqZWN0cyBhbGxvd3MgbW9yZSBmaW5lIGdyYWluZWQgY29udHJvbCBvdmVyXFxuICAgICAgd2hlcmUgdGhlIGdyYWRpZW50IGNvbG9ycyBjaGFuZ2UuXCIpLmRlZmF1bHRWYWx1ZSgnYWNjZW50LTEnKSxcbiAgICBnYXA6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbJ25vbmUnLCAneHhzbWFsbCcsICd4c21hbGwnLCAnc21hbGwnLCAnbWVkaXVtJywgJ2xhcmdlJywgJ3hsYXJnZSddKSwgUHJvcFR5cGVzLnN0cmluZ10pLmRlc2NyaXB0aW9uKFwiVGhlIGFtb3VudCBvZiBzcGFjaW5nIGJldHdlZW4gZGF0YSBwb2ludHMuIFRoaXNcXG4gICAgICBpcyBvbmx5IHVzZWQgd2hlbiB0aGUgc2l6ZSBzcGVjaWZpZXMgd2lkdGggYXMgJ2F1dG8nLlwiKSxcbiAgICBpZDogUHJvcFR5cGVzLnN0cmluZy5kZXNjcmlwdGlvbihcIkEgdW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoZSBDaGFydC4gVGhpc1xcbiAgICAgIGlzIHJlcXVpcmVkIGlmIG1vcmUgdGhhbiBvbmUgQ2hhcnQgaXMgc2hvd24gYW5kIHRoZXkgdXNlIGNvbG9yXFxuICAgICAgZ3JhZGllbnRzLlwiKSxcbiAgICBvbkNsaWNrOiBQcm9wVHlwZXMuZnVuYy5kZXNjcmlwdGlvbihcIkNhbGxlZCB3aGVuIHRoZSB1c2VyIGNsaWNrcyBvbiBpdC5cXG4gICAgICBUaGlzIGlzIG9ubHkgYXZhaWxhYmxlIHdoZW4gdGhlIHR5cGUgaXMgbGluZSBvciBhcmVhLlwiKSxcbiAgICBvbkhvdmVyOiBQcm9wVHlwZXMuZnVuYy5kZXNjcmlwdGlvbihcIkNhbGxlZCB3aXRoIGEgYm9vbGVhbiBhcmd1bWVudFxcbiAgICAgIGluZGljYXRpbmcgd2hlbiB0aGUgdXNlciBob3ZlcnMgb250byBvciBhd2F5IGZyb20gaXQuXFxuICAgICAgVGhpcyBpcyBvbmx5IGF2YWlsYWJsZSB3aGVuIHRoZSB0eXBlIGlzIGxpbmUgb3IgYXJlYS5cIiksXG4gICAgb3ZlcmZsb3c6IFByb3BUeXBlcy5ib29sLmRlc2NyaXB0aW9uKFwiV2hldGhlciB0aGUgY2hhcnQgc3Ryb2tlcyBzaG91bGQgb3ZlcmZsb3cgdGhlIGNvbXBvbmVudC4gU2V0IHRoaXNcXG4gICAgICB0byB0cnVlIGZvciBwcmVjaXNlIHBvc2l0aW9uaW5nIHdoZW4gc3RhY2tpbmcgY2hhcnRzIG9yIGluY2x1ZGluZ1xcbiAgICAgIHByZWNpc2UgYXhlcy4gU2V0IHRoaXMgdG8gZmFsc2UgdG8gaGF2ZSB0aGUgZ3JhcGhpY2FsIGVsZW1lbnRzXFxuICAgICAgYWxpZ24gd2l0aCB0aGUgY29tcG9uZW50IGJvdW5kYXJpZXMuXCIpLmRlZmF1bHRWYWx1ZShmYWxzZSksXG4gICAgcm91bmQ6IFByb3BUeXBlcy5ib29sLmRlc2NyaXB0aW9uKCdXaGV0aGVyIHRvIHJvdW5kIHRoZSBsaW5lIGVuZHMuJykuZGVmYXVsdFZhbHVlKGZhbHNlKSxcbiAgICBzaXplOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2YoWyd4eHNtYWxsJywgJ3hzbWFsbCcsICdzbWFsbCcsICdtZWRpdW0nLCAnbGFyZ2UnLCAneGxhcmdlJywgJ2Z1bGwnXSksIFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICBoZWlnaHQ6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbJ3h4c21hbGwnLCAneHNtYWxsJywgJ3NtYWxsJywgJ21lZGl1bScsICdsYXJnZScsICd4bGFyZ2UnLCAnZnVsbCddKSwgUHJvcFR5cGVzLnN0cmluZ10pLFxuICAgICAgd2lkdGg6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbJ3h4c21hbGwnLCAneHNtYWxsJywgJ3NtYWxsJywgJ21lZGl1bScsICdsYXJnZScsICd4bGFyZ2UnLCAnZnVsbCcsICdhdXRvJ10pLCBQcm9wVHlwZXMuc3RyaW5nXSlcbiAgICB9KSwgUHJvcFR5cGVzLnN0cmluZ10pLmRlc2NyaXB0aW9uKCdUaGUgc2l6ZSBvZiB0aGUgQ2hhcnQuJykuZGVmYXVsdFZhbHVlKHtcbiAgICAgIHdpZHRoOiAnbWVkaXVtJyxcbiAgICAgIGhlaWdodDogJ3NtYWxsJ1xuICAgIH0pLFxuICAgIHRoaWNrbmVzczogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFsnaGFpcicsICd4c21hbGwnLCAnc21hbGwnLCAnbWVkaXVtJywgJ2xhcmdlJywgJ3hsYXJnZScsICdub25lJ10pLCBQcm9wVHlwZXMuc3RyaW5nXSkuZGVzY3JpcHRpb24oJ1RoZSB3aWR0aCBvZiB0aGUgc3Ryb2tlLicpLmRlZmF1bHRWYWx1ZSgnbWVkaXVtJyksXG4gICAgdHlwZTogUHJvcFR5cGVzLm9uZU9mKFsnYmFyJywgJ2xpbmUnLCAnYXJlYScsICdwb2ludCddKS5kZXNjcmlwdGlvbignVGhlIHZpc3VhbCB0eXBlIG9mIGNoYXJ0LicpLmRlZmF1bHRWYWx1ZSgnYmFyJyksXG4gICAgdmFsdWVzOiBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMubnVtYmVyLCBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMubnVtYmVyKSwgUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgIGxhYmVsOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgLy8gZm9yIGFjY2Vzc2liaWxpdHkgb2YgYmFyc1xuICAgICAgb25DbGljazogUHJvcFR5cGVzLmZ1bmMsXG4gICAgICBvbkhvdmVyOiBQcm9wVHlwZXMuZnVuYyxcbiAgICAgIHZhbHVlOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsIFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5udW1iZXIpLmlzUmVxdWlyZWRdKS5pc1JlcXVpcmVkXG4gICAgfSldKSkuZGVzY3JpcHRpb24oXCJBcnJheSBvZiB2YWx1ZSBvYmplY3RzIGRlc2NyaWJpbmcgdGhlIGRhdGEuXFxuICAgICAgJ3ZhbHVlJyBpcyBhIHR1cGxlIGluZGljYXRpbmcgdGhlIGNvb3JkaW5hdGUgb2YgdGhlIHZhbHVlIG9yIGEgdHJpcGxlXFxuICAgICAgaW5kaWNhdGluZyB0aGUgeCBjb29yZGluYXRlIGFuZCBhIHJhbmdlIG9mIHR3byB5IGNvb3JkaW5hdGVzLlxcbiAgICAgICdsYWJlbCcgaXMgYSB0ZXh0IHN0cmluZyBkZXNjcmliaW5nIGl0LlxcbiAgICAgICdvbkhvdmVyJyBhbmQgJ29uQ2xpY2snIG9ubHkgd29yayB3aGVuIHR5cGU9J2JhcicuXCIpLmlzUmVxdWlyZWRcbiAgfSk7XG4gIHJldHVybiBEb2N1bWVudGVkQ2hhcnQ7XG59O1xuZXhwb3J0IHZhciBkb2NDYWxjcyA9IGZ1bmN0aW9uIGRvY0NhbGNzKGNhbGNzKSB7XG4gIHZhciBEb2N1bWVudGVkQ2FsY3MgPSBkZXNjcmliZShjYWxjcykuZGVzY3JpcHRpb24oXCJcXG4gICAgICBBIGZ1bmN0aW9uIHRvIGhlbHAgY2FsY3VsYXRlIHZhbHVlcyBmb3IgYm91bmRzIGFuZCBheGlzLiBVc2UgaXQgdmlhOlxcbiAgICAgIGNvbnN0IGRhdGEgPSBjYWxjcyg8bXlWYWx1ZXM+LCB7IGNvYXJzZW5lc3M6IDUsIHN0ZXBzOiBbMSwgMV0gfSk7XFxuICAgICAgd2hlcmUgJ2RhdGEnIHdpbGwgY29udGFpbiAnYm91bmRzJyBhbmQgJ2F4aXMnIHByb3BlcnRpZXMuXFxuICAgIFwiKS51c2FnZShcImltcG9ydCB7IGNhbGNzIH0gZnJvbSAnZ3JvbW1ldCc7XFxuY29uc3QgZGF0YSA9IGNhbGNzKDx2YWx1ZXM+LCB7IGNvYXJzZW5lc3M6IDUsIHN0ZXBzOiBbMSwgMV0gfSk7XCIpO1xuICByZXR1cm4gRG9jdW1lbnRlZENhbGNzO1xufTtcbmV4cG9ydCB2YXIgdGhlbWVEb2MgPSB7XG4gICdjaGFydC5jb2xvcic6IHtcbiAgICBkZXNjcmlwdGlvbjogJ0NvbG9yIG9mIHRoZSBDaGFydC4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCB7ZGFyazogc3RyaW5nLCBsaWdodDogc3RyaW5nfScsXG4gICAgZGVmYXVsdFZhbHVlOiAnYWNjZW50LTEnXG4gIH0sXG4gICdjaGFydC5leHRlbmQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdBbnkgYWRkaXRpb25hbCBzdHlsZSBmb3IgdGhlIENoYXJ0LicsXG4gICAgdHlwZTogJ3N0cmluZyB8IChwcm9wcykgPT4ge30nLFxuICAgIGRlZmF1bHRWYWx1ZTogdW5kZWZpbmVkXG4gIH0sXG4gICdnbG9iYWwuY29sb3JzJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnQ29sb3Igb3B0aW9ucy4nLFxuICAgIHR5cGU6ICdvYmplY3QnLFxuICAgIGRlZmF1bHRWYWx1ZTogXCJ7XFxuICAgICAgXFxcImFjY2VudC0xXFxcIjogXFxcIiM2RkZGQjBcXFwiLFxcbiAgICAgIFxcXCJncmFwaC0wXFxcIjogXFxcImFjY2VudC0xXFxcIixcXG4gICAgICAuLi5cXG4gICAgfVwiXG4gIH0sXG4gICdnbG9iYWwuZWRnZVNpemUnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgcG9zc2libGUgc2l6ZXMgZm9yIHRoZSB0aGlja25lc3MgaW4gdGhlIENoYXJ0LicsXG4gICAgdHlwZTogJ29iamVjdCcsXG4gICAgZGVmYXVsdFZhbHVlOiBcIntcXG4gICAgICAgIG5vbmU6ICcwcHgnLFxcbiAgICAgICAgaGFpcjogJzFweCcsXFxuICAgICAgICB4eHNtYWxsOiAnM3B4JyxcXG4gICAgICAgIHhzbWFsbDogJzZweCcsXFxuICAgICAgICBzbWFsbDogJzEycHgnLFxcbiAgICAgICAgbWVkaXVtOiAnMjRweCcsXFxuICAgICAgICBsYXJnZTogJzQ4cHgnLFxcbiAgICAgICAgeGxhcmdlOiAnOTZweCcsXFxuICAgICAgICByZXNwb25zaXZlQnJlYWtwb2ludDogJ3NtYWxsJyxcXG4gICAgfVwiXG4gIH0sXG4gICdnbG9iYWwub3BhY2l0eSc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBvcGFjaXR5IG9mIHRoZSBDaGFydCBzdHJva2UuJyxcbiAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICBkZWZhdWx0VmFsdWU6IFwie1xcbiAgICAgIHN0cm9uZzogMC44LFxcbiAgICAgIG1lZGl1bTogMC40LFxcbiAgICAgIHdlYWs6IDAuMSxcXG4gICAgfVwiXG4gIH0sXG4gICdnbG9iYWwuc2l6ZSc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBwb3NzaWJsZSBzaXplcyBmb3IgQ2hhcnQgd2lkdGggYW5kIGhlaWdodC4nLFxuICAgIHR5cGU6ICdvYmplY3QnLFxuICAgIGRlZmF1bHRWYWx1ZTogXCJ7XFxuICAgICAgeHhzbWFsbDogJzQ4cHgnLFxcbiAgICAgIHhzbWFsbDogJzk2cHgnLFxcbiAgICAgIHNtYWxsOiAnMTkycHgnLFxcbiAgICAgIG1lZGl1bTogJzM4NHB4JyxcXG4gICAgICBsYXJnZTogJzc2OHB4JyxcXG4gICAgICB4bGFyZ2U6ICcxMTUycHgnLFxcbiAgICAgIHh4bGFyZ2U6ICcxNTM2cHgnLFxcbiAgICAgIGZ1bGw6ICcxMDAlJyxcXG4gICAgICB9XCJcbiAgfVxufTsiLCJleHBvcnQgeyBDaGFydCB9IGZyb20gJy4vQ2hhcnQnO1xuZXhwb3J0IHsgY2FsY3MgfSBmcm9tICcuL2NhbGNzJzsiLCJleHBvcnQgdmFyIG5vcm1hbGl6ZVZhbHVlcyA9IGZ1bmN0aW9uIG5vcm1hbGl6ZVZhbHVlcyh2YWx1ZXMpIHtcbiAgcmV0dXJuICh2YWx1ZXMgfHwgW10pLm1hcChmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHZhbHVlOiBbaW5kZXgsIHZhbHVlXVxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWU7XG4gIH0pO1xufTtcbmV4cG9ydCB2YXIgbm9ybWFsaXplQm91bmRzID0gZnVuY3Rpb24gbm9ybWFsaXplQm91bmRzKGJvdW5kcywgdmFsdWVzKSB7XG4gIHZhciByZXN1bHQgPSBib3VuZHM7XG5cbiAgaWYgKCFyZXN1bHQpIHtcbiAgICByZXN1bHQgPSBbWzAsIDFdLCBbMCwgMV1dO1xuICAgICh2YWx1ZXMgfHwgW10pLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICByZXN1bHRbMF1bMF0gPSBNYXRoLm1pbihyZXN1bHRbMF1bMF0sIHZhbHVlLnZhbHVlWzBdKTtcbiAgICAgIHJlc3VsdFswXVsxXSA9IE1hdGgubWF4KHJlc3VsdFswXVsxXSwgdmFsdWUudmFsdWVbMF0pO1xuICAgICAgcmVzdWx0WzFdWzBdID0gTWF0aC5taW4ocmVzdWx0WzFdWzBdLCB2YWx1ZS52YWx1ZVsxXSk7XG4gICAgICByZXN1bHRbMV1bMV0gPSBNYXRoLm1heChyZXN1bHRbMV1bMV0sIHZhbHVlLnZhbHVlWzFdKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59O1xuZXhwb3J0IHZhciBhcmVOb3JtYWxpemVkVmFsdWVzRXF1YWxzID0gZnVuY3Rpb24gYXJlTm9ybWFsaXplZFZhbHVlc0VxdWFscyh2YWx1ZXNYLCB2YWx1ZXNZKSB7XG4gIGlmICghdmFsdWVzWCB8fCAhdmFsdWVzWSkgcmV0dXJuIGZhbHNlO1xuICBpZiAodmFsdWVzWC5sZW5ndGggIT09IHZhbHVlc1kubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gIGlmICh2YWx1ZXNYLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHRydWU7XG4gIGlmICghdmFsdWVzWFswXS52YWx1ZSB8fCAhdmFsdWVzWVswXS52YWx1ZSkgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gdmFsdWVzWC5ldmVyeShmdW5jdGlvbiAoXywgaSkge1xuICAgIHJldHVybiB2YWx1ZXNYW2ldLnZhbHVlLmV2ZXJ5KGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gdmFsdWVzWVtpXS52YWx1ZVtpbmRleF07XG4gICAgfSk7XG4gIH0pO1xufTtcbmV4cG9ydCB2YXIgYXJlTm9ybWFsaXplZEJvdW5kc0VxdWFscyA9IGZ1bmN0aW9uIGFyZU5vcm1hbGl6ZWRCb3VuZHNFcXVhbHMoYm91bmRzWCwgYm91bmRzWSkge1xuICBpZiAoIWJvdW5kc1ggfHwgIWJvdW5kc1kpIHJldHVybiBmYWxzZTtcbiAgaWYgKGJvdW5kc1gubGVuZ3RoICE9PSBib3VuZHNZLmxlbmd0aCB8fCAhKGJvdW5kc1gubGVuZ3RoID4gMCkpIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuIGJvdW5kc1guZXZlcnkoZnVuY3Rpb24gKF8sIGkpIHtcbiAgICByZXR1cm4gYm91bmRzWFtpXS5ldmVyeShmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IGJvdW5kc1lbaV1baW5kZXhdO1xuICAgIH0pO1xuICB9KTtcbn07IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5pbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY29tcG9zZSB9IGZyb20gJ3JlY29tcG9zZSc7XG5pbXBvcnQgeyB3aXRoVGhlbWUgfSBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyByZW1vdmVVbmRlZmluZWQgfSBmcm9tICcuLi8uLi91dGlscy9vYmplY3QnO1xuaW1wb3J0IHsgZGVmYXVsdFByb3BzIH0gZnJvbSAnLi4vLi4vZGVmYXVsdC1wcm9wcyc7XG5pbXBvcnQgeyBCb3ggfSBmcm9tICcuLi9Cb3gnO1xuaW1wb3J0IHsgd2l0aEZvY3VzLCB3aXRoRm9yd2FyZFJlZiB9IGZyb20gJy4uL2hvY3MnO1xuaW1wb3J0IHsgU3R5bGVkQ2hlY2tCb3gsIFN0eWxlZENoZWNrQm94Qm94LCBTdHlsZWRDaGVja0JveEljb24sIFN0eWxlZENoZWNrQm94Q29udGFpbmVyLCBTdHlsZWRDaGVja0JveElucHV0LCBTdHlsZWRDaGVja0JveFRvZ2dsZSwgU3R5bGVkQ2hlY2tCb3hLbm9iIH0gZnJvbSAnLi9TdHlsZWRDaGVja0JveCc7XG5pbXBvcnQgeyBub3JtYWxpemVDb2xvciB9IGZyb20gJy4uLy4uL3V0aWxzJztcblxudmFyIHN0b3BMYWJlbENsaWNrID0gZnVuY3Rpb24gc3RvcExhYmVsQ2xpY2soZXZlbnQpIHtcbiAgLy8gcHJldmVudHMgY2xpY2tpbmcgb24gdGhlIGxhYmVsIHRyaWdnaW5nIHRoZSBldmVudCB0d2ljZVxuICAvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yNDUwMTQ5Ny93aHktdGhlLW9uY2xpY2stZWxlbWVudC13aWxsLXRyaWdnZXItdHdpY2UtZm9yLWxhYmVsLWVsZW1lbnRcbiAgaWYgKGV2ZW50LnRhcmdldC50eXBlICE9PSAnY2hlY2tib3gnKSB7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIH1cbn07XG5cbnZhciBDaGVja0JveCA9IGZ1bmN0aW9uIENoZWNrQm94KF9yZWYpIHtcbiAgdmFyIF9yZWYyO1xuXG4gIHZhciBjaGVja2VkID0gX3JlZi5jaGVja2VkLFxuICAgICAgZGlzYWJsZWQgPSBfcmVmLmRpc2FibGVkLFxuICAgICAgZm9jdXMgPSBfcmVmLmZvY3VzLFxuICAgICAgZm9yd2FyZFJlZiA9IF9yZWYuZm9yd2FyZFJlZixcbiAgICAgIGlkID0gX3JlZi5pZCxcbiAgICAgIGxhYmVsID0gX3JlZi5sYWJlbCxcbiAgICAgIG5hbWUgPSBfcmVmLm5hbWUsXG4gICAgICBvbkNoYW5nZSA9IF9yZWYub25DaGFuZ2UsXG4gICAgICByZXZlcnNlID0gX3JlZi5yZXZlcnNlLFxuICAgICAgdGhlbWUgPSBfcmVmLnRoZW1lLFxuICAgICAgdG9nZ2xlID0gX3JlZi50b2dnbGUsXG4gICAgICBpbmRldGVybWluYXRlID0gX3JlZi5pbmRldGVybWluYXRlLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9yZWYsIFtcImNoZWNrZWRcIiwgXCJkaXNhYmxlZFwiLCBcImZvY3VzXCIsIFwiZm9yd2FyZFJlZlwiLCBcImlkXCIsIFwibGFiZWxcIiwgXCJuYW1lXCIsIFwib25DaGFuZ2VcIiwgXCJyZXZlcnNlXCIsIFwidGhlbWVcIiwgXCJ0b2dnbGVcIiwgXCJpbmRldGVybWluYXRlXCJdKTtcblxuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmIChjaGVja2VkICYmIGluZGV0ZXJtaW5hdGUpIHtcbiAgICAgIGNvbnNvbGUud2FybignQ2hlY2tib3ggY2Fubm90IGJlIFwiY2hlY2tlZFwiIGFuZCBcImluZGV0ZXJtaW5hdGVcIiBhdCB0aGUgc2FtZSB0aW1lLicpO1xuICAgIH1cblxuICAgIGlmICh0b2dnbGUgJiYgaW5kZXRlcm1pbmF0ZSkge1xuICAgICAgY29uc29sZS53YXJuKCdDaGVja2JveCBvZiB0eXBlIHRvZ2dsZSBkb2VzIG5vdCBoYXZlIFwiaW5kZXRlcm1pbmF0ZVwiIHN0YXRlLicpO1xuICAgIH1cbiAgfSwgW2NoZWNrZWQsIHRvZ2dsZSwgaW5kZXRlcm1pbmF0ZV0pO1xuICB2YXIgdGhlbWVhYmxlUHJvcHMgPSB7XG4gICAgY2hlY2tlZDogY2hlY2tlZCxcbiAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgZm9jdXM6IGZvY3VzLFxuICAgIHJldmVyc2U6IHJldmVyc2UsXG4gICAgdG9nZ2xlOiB0b2dnbGUsXG4gICAgaW5kZXRlcm1pbmF0ZTogaW5kZXRlcm1pbmF0ZVxuICB9O1xuICB2YXIgaGlkZGVuO1xuXG4gIGlmIChkaXNhYmxlZCAmJiBjaGVja2VkKSB7XG4gICAgaGlkZGVuID0gUmVhY3QuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIHtcbiAgICAgIG5hbWU6IG5hbWUsXG4gICAgICB0eXBlOiBcImhpZGRlblwiLFxuICAgICAgdmFsdWU6IFwidHJ1ZVwiXG4gICAgfSk7XG4gIH1cblxuICB2YXIgX3RoZW1lJGNoZWNrQm94JGljb25zID0gdGhlbWUuY2hlY2tCb3guaWNvbnMsXG4gICAgICBDaGVja2VkSWNvbiA9IF90aGVtZSRjaGVja0JveCRpY29ucy5jaGVja2VkLFxuICAgICAgSW5kZXRlcm1pbmF0ZUljb24gPSBfdGhlbWUkY2hlY2tCb3gkaWNvbnMuaW5kZXRlcm1pbmF0ZTtcbiAgdmFyIGJvcmRlckNvbG9yID0gbm9ybWFsaXplQ29sb3IodGhlbWUuY2hlY2tCb3guYm9yZGVyLmNvbG9yLCB0aGVtZSk7XG5cbiAgaWYgKGNoZWNrZWQpIHtcbiAgICBib3JkZXJDb2xvciA9IG5vcm1hbGl6ZUNvbG9yKHRoZW1lLmNoZWNrQm94LmNvbG9yIHx8ICdjb250cm9sJywgdGhlbWUpO1xuICB9XG5cbiAgdmFyIHZpc3VhbCA9IHRvZ2dsZSA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkQ2hlY2tCb3hUb2dnbGUsIHRoZW1lYWJsZVByb3BzLCBSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZENoZWNrQm94S25vYiwgdGhlbWVhYmxlUHJvcHMpKSA6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkQ2hlY2tCb3hCb3gsIF9leHRlbmRzKHtcbiAgICBhczogQm94LFxuICAgIGFsaWduOiBcImNlbnRlclwiLFxuICAgIGp1c3RpZnk6IFwiY2VudGVyXCIsXG4gICAgd2lkdGg6IHRoZW1lLmNoZWNrQm94LnNpemUsXG4gICAgaGVpZ2h0OiB0aGVtZS5jaGVja0JveC5zaXplLFxuICAgIGJvcmRlcjoge1xuICAgICAgc2l6ZTogdGhlbWUuY2hlY2tCb3guYm9yZGVyLndpZHRoLFxuICAgICAgY29sb3I6IGJvcmRlckNvbG9yXG4gICAgfSxcbiAgICByb3VuZDogdGhlbWUuY2hlY2tCb3guY2hlY2sucmFkaXVzXG4gIH0sIHRoZW1lYWJsZVByb3BzKSwgIWluZGV0ZXJtaW5hdGUgJiYgY2hlY2tlZCAmJiAoQ2hlY2tlZEljb24gPyBSZWFjdC5jcmVhdGVFbGVtZW50KENoZWNrZWRJY29uLCB7XG4gICAgdGhlbWU6IHRoZW1lLFxuICAgIGFzOiBTdHlsZWRDaGVja0JveEljb25cbiAgfSkgOiBSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZENoZWNrQm94SWNvbiwgX2V4dGVuZHMoe1xuICAgIHRoZW1lOiB0aGVtZSxcbiAgICB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLFxuICAgIHByZXNlcnZlQXNwZWN0UmF0aW86IFwieE1pZFlNaWQgbWVldFwiXG4gIH0sIHRoZW1lYWJsZVByb3BzKSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGZpbGw6IFwibm9uZVwiLFxuICAgIGQ6IFwiTTYsMTEuMyBMMTAuMywxNiBMMTgsNi4yXCJcbiAgfSkpKSwgIWNoZWNrZWQgJiYgaW5kZXRlcm1pbmF0ZSAmJiAoSW5kZXRlcm1pbmF0ZUljb24gPyBSZWFjdC5jcmVhdGVFbGVtZW50KEluZGV0ZXJtaW5hdGVJY29uLCB7XG4gICAgdGhlbWU6IHRoZW1lLFxuICAgIGFzOiBTdHlsZWRDaGVja0JveEljb25cbiAgfSkgOiBSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZENoZWNrQm94SWNvbiwgX2V4dGVuZHMoe1xuICAgIHRoZW1lOiB0aGVtZSxcbiAgICB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLFxuICAgIHByZXNlcnZlQXNwZWN0UmF0aW86IFwieE1pZFlNaWQgbWVldFwiXG4gIH0sIHRoZW1lYWJsZVByb3BzKSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGZpbGw6IFwibm9uZVwiLFxuICAgIGQ6IFwiTTYsMTIgTDE4LDEyXCJcbiAgfSkpKSk7XG4gIHZhciBzaWRlID0gcmV2ZXJzZSA/ICdsZWZ0JyA6ICdyaWdodCc7XG4gIHZhciBjaGVja0JveE5vZGUgPSBSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZENoZWNrQm94LCBfZXh0ZW5kcyh7XG4gICAgYXM6IEJveCxcbiAgICBhbGlnbjogXCJjZW50ZXJcIixcbiAgICBqdXN0aWZ5OiBcImNlbnRlclwiLFxuICAgIG1hcmdpbjogbGFiZWwgJiYgKF9yZWYyID0ge30sIF9yZWYyW3NpZGVdID0gdGhlbWUuY2hlY2tCb3guZ2FwIHx8ICdzbWFsbCcsIF9yZWYyKVxuICB9LCB0aGVtZWFibGVQcm9wcyksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkQ2hlY2tCb3hJbnB1dCwgX2V4dGVuZHMoe30sIHJlc3QsIHtcbiAgICByZWY6IGZvcndhcmRSZWYsXG4gICAgdHlwZTogXCJjaGVja2JveFwiXG4gIH0sIHJlbW92ZVVuZGVmaW5lZCh7XG4gICAgaWQ6IGlkLFxuICAgIG5hbWU6IG5hbWUsXG4gICAgY2hlY2tlZDogY2hlY2tlZCxcbiAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgb25DaGFuZ2U6IG9uQ2hhbmdlXG4gIH0pLCB0aGVtZWFibGVQcm9wcykpLCB2aXN1YWwsIGhpZGRlbik7XG4gIHZhciBub3JtYWxpemVkTGFiZWwgPSB0eXBlb2YgbGFiZWwgPT09ICdzdHJpbmcnID8gUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgbnVsbCwgbGFiZWwpIDogbGFiZWw7XG4gIHZhciBmaXJzdCA9IHJldmVyc2UgPyBub3JtYWxpemVkTGFiZWwgOiBjaGVja0JveE5vZGU7XG4gIHZhciBzZWNvbmQgPSByZXZlcnNlID8gY2hlY2tCb3hOb2RlIDogbm9ybWFsaXplZExhYmVsO1xuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWRDaGVja0JveENvbnRhaW5lciwgX2V4dGVuZHMoe1xuICAgIHJldmVyc2U6IHJldmVyc2VcbiAgfSwgcmVtb3ZlVW5kZWZpbmVkKHtcbiAgICBodG1sRm9yOiBpZCxcbiAgICBkaXNhYmxlZDogZGlzYWJsZWRcbiAgfSksIHtcbiAgICBjaGVja2VkOiBjaGVja2VkLFxuICAgIG9uQ2xpY2s6IHN0b3BMYWJlbENsaWNrXG4gIH0sIHRoZW1lYWJsZVByb3BzKSwgZmlyc3QsIHNlY29uZCk7XG59O1xuXG5DaGVja0JveC5kZWZhdWx0UHJvcHMgPSB7fTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihDaGVja0JveC5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG52YXIgQ2hlY2tCb3hEb2M7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBnbG9iYWwtcmVxdWlyZVxuICBDaGVja0JveERvYyA9IHJlcXVpcmUoJy4vZG9jJykuZG9jKENoZWNrQm94KTtcbn1cblxudmFyIENoZWNrQm94V3JhcHBlciA9IGNvbXBvc2Uod2l0aEZvY3VzKCksIHdpdGhUaGVtZSwgd2l0aEZvcndhcmRSZWYpKENoZWNrQm94RG9jIHx8IENoZWNrQm94KTtcbmV4cG9ydCB7IENoZWNrQm94V3JhcHBlciBhcyBDaGVja0JveCB9OyIsImltcG9ydCBzdHlsZWQsIHsgY3NzIH0gZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgZm9jdXNTdHlsZSwgbm9ybWFsaXplQ29sb3IgfSBmcm9tICcuLi8uLi91dGlscyc7XG5pbXBvcnQgeyBkZWZhdWx0UHJvcHMgfSBmcm9tICcuLi8uLi9kZWZhdWx0LXByb3BzJztcbnZhciBkaXNhYmxlZFN0eWxlID0gXCJcXG4gIG9wYWNpdHk6IDAuNTtcXG4gIGN1cnNvcjogZGVmYXVsdDtcXG5cIjtcbnZhciBob3ZlclN0eWxlID0gY3NzKFtcIjpob3ZlciBpbnB1dDpub3QoW2Rpc2FibGVkXSkgKyBkaXYsOmhvdmVyIGlucHV0Om5vdChbZGlzYWJsZWRdKSArIHNwYW57Ym9yZGVyLWNvbG9yOlwiLCBcIjt9XCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIG5vcm1hbGl6ZUNvbG9yKHByb3BzLnRoZW1lLmNoZWNrQm94LmhvdmVyLmJvcmRlci5jb2xvciwgcHJvcHMudGhlbWUpO1xufSk7XG52YXIgU3R5bGVkQ2hlY2tCb3hJY29uID0gc3R5bGVkLnN2Zy53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiU3R5bGVkQ2hlY2tCb3hfX1N0eWxlZENoZWNrQm94SWNvblwiLFxuICBjb21wb25lbnRJZDogXCJzYy0xZGJrNWp1LTBcIlxufSkoW1wiYm94LXNpemluZzpib3JkZXItYm94O3N0cm9rZS13aWR0aDpcIiwgXCI7c3Ryb2tlOlwiLCBcIjt3aWR0aDpcIiwgXCI7aGVpZ2h0OlwiLCBcIjtcIiwgXCI7XCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLmNoZWNrQm94LmNoZWNrLnRoaWNrbmVzcztcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gbm9ybWFsaXplQ29sb3IocHJvcHMudGhlbWUuY2hlY2tCb3guY29sb3IgfHwgJ2NvbnRyb2wnLCBwcm9wcy50aGVtZSk7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLmNoZWNrQm94Lmljb24uc2l6ZSB8fCBwcm9wcy50aGVtZS5jaGVja0JveC5zaXplO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5jaGVja0JveC5pY29uLnNpemUgfHwgcHJvcHMudGhlbWUuY2hlY2tCb3guc2l6ZTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUuY2hlY2tCb3guaWNvbi5leHRlbmQ7XG59KTtcblN0eWxlZENoZWNrQm94SWNvbi5kZWZhdWx0UHJvcHMgPSB7fTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihTdHlsZWRDaGVja0JveEljb24uZGVmYXVsdFByb3BzLCBkZWZhdWx0UHJvcHMpO1xudmFyIFN0eWxlZENoZWNrQm94Q29udGFpbmVyID0gc3R5bGVkLmxhYmVsLndpdGhDb25maWcoe1xuICBkaXNwbGF5TmFtZTogXCJTdHlsZWRDaGVja0JveF9fU3R5bGVkQ2hlY2tCb3hDb250YWluZXJcIixcbiAgY29tcG9uZW50SWQ6IFwic2MtMWRiazVqdS0xXCJcbn0pKFtcImRpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpyb3c7YWxpZ24taXRlbXM6Y2VudGVyO3VzZXItc2VsZWN0Om5vbmU7XCIsIFwiIFwiLCBcIiBcIiwgXCIgXCIsIFwiXCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLmRpc2FibGVkICYmIGRpc2FibGVkU3R5bGU7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuICFwcm9wcy5kaXNhYmxlZCAmJiAnY3Vyc29yOiBwb2ludGVyOyc7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLmNoZWNrQm94LmhvdmVyLmJvcmRlci5jb2xvciAmJiBob3ZlclN0eWxlO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5jaGVja0JveC5leHRlbmQ7XG59KTtcblN0eWxlZENoZWNrQm94Q29udGFpbmVyLmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKFN0eWxlZENoZWNrQm94Q29udGFpbmVyLmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbnZhciBTdHlsZWRDaGVja0JveElucHV0ID0gc3R5bGVkLmlucHV0LndpdGhDb25maWcoe1xuICBkaXNwbGF5TmFtZTogXCJTdHlsZWRDaGVja0JveF9fU3R5bGVkQ2hlY2tCb3hJbnB1dFwiLFxuICBjb21wb25lbnRJZDogXCJzYy0xZGJrNWp1LTJcIlxufSkoW1wib3BhY2l0eTowOy1tb3otYXBwZWFyYW5jZTpub25lO3dpZHRoOjA7aGVpZ2h0OjA7bWFyZ2luOjA7XCIsIFwiOmNoZWNrZWQgKyBzcGFuID4gc3BhbntsZWZ0OmNhbGMoIFwiLCBcIiAtIFwiLCBcIiApO2JhY2tncm91bmQ6XCIsIFwiO31cIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gIXByb3BzLmRpc2FibGVkICYmICdjdXJzb3I6IHBvaW50ZXI7Jztcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUuY2hlY2tCb3gudG9nZ2xlLnNpemU7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLmNoZWNrQm94LnNpemU7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIG5vcm1hbGl6ZUNvbG9yKHByb3BzLnRoZW1lLmNoZWNrQm94LmNvbG9yIHx8ICdjb250cm9sJywgcHJvcHMudGhlbWUpO1xufSk7XG5TdHlsZWRDaGVja0JveElucHV0LmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKFN0eWxlZENoZWNrQm94SW5wdXQuZGVmYXVsdFByb3BzLCBkZWZhdWx0UHJvcHMpO1xudmFyIFN0eWxlZENoZWNrQm94Qm94ID0gc3R5bGVkLmRpdi53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiU3R5bGVkQ2hlY2tCb3hfX1N0eWxlZENoZWNrQm94Qm94XCIsXG4gIGNvbXBvbmVudElkOiBcInNjLTFkYms1anUtM1wiXG59KShbXCJcIiwgXCI7XCIsIFwiO1wiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5mb2N1cyAmJiBmb2N1c1N0eWxlO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5jaGVja0JveC5jaGVjay5leHRlbmQ7XG59KTtcblN0eWxlZENoZWNrQm94Qm94LmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKFN0eWxlZENoZWNrQm94Qm94LmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbnZhciBTdHlsZWRDaGVja0JveFRvZ2dsZSA9IHN0eWxlZC5zcGFuLndpdGhDb25maWcoe1xuICBkaXNwbGF5TmFtZTogXCJTdHlsZWRDaGVja0JveF9fU3R5bGVkQ2hlY2tCb3hUb2dnbGVcIixcbiAgY29tcG9uZW50SWQ6IFwic2MtMWRiazVqdS00XCJcbn0pKFtcImJveC1zaXppbmc6Ym9yZGVyLWJveDt2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7ZGlzcGxheTppbmxpbmUtYmxvY2s7d2lkdGg6XCIsIFwiO2hlaWdodDpcIiwgXCI7Ym9yZGVyOlwiLCBcIiBzb2xpZDtib3JkZXItY29sb3I6XCIsIFwiO2JvcmRlci1yYWRpdXM6XCIsIFwiO2JhY2tncm91bmQtY29sb3I6XCIsIFwiO1wiLCBcIjtcIiwgXCI7XCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLmNoZWNrQm94LnRvZ2dsZS5zaXplO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5jaGVja0JveC5zaXplO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5jaGVja0JveC5ib3JkZXIud2lkdGg7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIG5vcm1hbGl6ZUNvbG9yKHByb3BzLnRoZW1lLmNoZWNrQm94LmJvcmRlci5jb2xvciwgcHJvcHMudGhlbWUpO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5jaGVja0JveC50b2dnbGUucmFkaXVzO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5jaGVja0JveC50b2dnbGUuYmFja2dyb3VuZCA/IG5vcm1hbGl6ZUNvbG9yKHByb3BzLnRoZW1lLmNoZWNrQm94LnRvZ2dsZS5iYWNrZ3JvdW5kLCBwcm9wcy50aGVtZSkgOiAndHJhbnNwYXJlbnQnO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5mb2N1cyAmJiBmb2N1c1N0eWxlO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5jaGVja0JveC50b2dnbGUuZXh0ZW5kO1xufSk7XG5TdHlsZWRDaGVja0JveFRvZ2dsZS5kZWZhdWx0UHJvcHMgPSB7fTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihTdHlsZWRDaGVja0JveFRvZ2dsZS5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG52YXIgU3R5bGVkQ2hlY2tCb3hLbm9iID0gc3R5bGVkLnNwYW4ud2l0aENvbmZpZyh7XG4gIGRpc3BsYXlOYW1lOiBcIlN0eWxlZENoZWNrQm94X19TdHlsZWRDaGVja0JveEtub2JcIixcbiAgY29tcG9uZW50SWQ6IFwic2MtMWRiazVqdS01XCJcbn0pKFtcImJveC1zaXppbmc6Ym9yZGVyLWJveDtwb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmluaGVyaXQ7dG9wOi1cIiwgXCI7bGVmdDotXCIsIFwiO3RyYW5zaXRpb246YWxsIDAuM3M7d2lkdGg6XCIsIFwiO2hlaWdodDpcIiwgXCI7YmFja2dyb3VuZDpcIiwgXCI7Ym9yZGVyLXJhZGl1czpcIiwgXCI7XCIsIFwiO1wiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5jaGVja0JveC5ib3JkZXIud2lkdGg7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLmNoZWNrQm94LmJvcmRlci53aWR0aDtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUuY2hlY2tCb3guc2l6ZTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUuY2hlY2tCb3guc2l6ZTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gbm9ybWFsaXplQ29sb3IocHJvcHMudGhlbWUuY2hlY2tCb3gudG9nZ2xlLmNvbG9yW3Byb3BzLnRoZW1lLmRhcmsgPyAnZGFyaycgOiAnbGlnaHQnXSwgcHJvcHMudGhlbWUpO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5jaGVja0JveC50b2dnbGUucmFkaXVzO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5jaGVja0JveC50b2dnbGUua25vYi5leHRlbmQ7XG59KTtcblN0eWxlZENoZWNrQm94S25vYi5kZWZhdWx0UHJvcHMgPSB7fTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihTdHlsZWRDaGVja0JveEtub2IuZGVmYXVsdFByb3BzLCBkZWZhdWx0UHJvcHMpO1xudmFyIFN0eWxlZENoZWNrQm94ID0gc3R5bGVkLmRpdi53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiU3R5bGVkQ2hlY2tCb3hcIixcbiAgY29tcG9uZW50SWQ6IFwic2MtMWRiazVqdS02XCJcbn0pKFtcImZsZXgtc2hyaW5rOjA7XCJdKTtcblN0eWxlZENoZWNrQm94LmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKFN0eWxlZENoZWNrQm94LmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbmV4cG9ydCB7IFN0eWxlZENoZWNrQm94SWNvbiwgU3R5bGVkQ2hlY2tCb3hDb250YWluZXIsIFN0eWxlZENoZWNrQm94SW5wdXQsIFN0eWxlZENoZWNrQm94Qm94LCBTdHlsZWRDaGVja0JveFRvZ2dsZSwgU3R5bGVkQ2hlY2tCb3hLbm9iLCBTdHlsZWRDaGVja0JveCB9OyIsImltcG9ydCB7IGRlc2NyaWJlLCBQcm9wVHlwZXMgfSBmcm9tICdyZWFjdC1kZXNjJztcbmltcG9ydCB7IGdldEF2YWlsYWJsZUF0QmFkZ2UgfSBmcm9tICcuLi8uLi91dGlscyc7XG5leHBvcnQgdmFyIGRvYyA9IGZ1bmN0aW9uIGRvYyhDaGVja0JveCkge1xuICB2YXIgRG9jdW1lbnRlZENoZWNrQm94ID0gZGVzY3JpYmUoQ2hlY2tCb3gpLmF2YWlsYWJsZUF0KGdldEF2YWlsYWJsZUF0QmFkZ2UoJ0NoZWNrQm94JykpLmRlc2NyaXB0aW9uKCdBIGNoZWNrYm94IHRvZ2dsZSBjb250cm9sLicpLnVzYWdlKFwiaW1wb3J0IHsgQ2hlY2tCb3ggfSBmcm9tICdncm9tbWV0JztcXG48Q2hlY2tCb3ggLz5cIikuaW50cmluc2ljRWxlbWVudCgnaW5wdXQnKTtcbiAgRG9jdW1lbnRlZENoZWNrQm94LnByb3BUeXBlcyA9IHtcbiAgICBjaGVja2VkOiBQcm9wVHlwZXMuYm9vbC5kZXNjcmlwdGlvbignU2FtZSBhcyBSZWFjdCA8aW5wdXQgY2hlY2tlZD17fSAvPicpLmRlZmF1bHRWYWx1ZShmYWxzZSksXG4gICAgZGlzYWJsZWQ6IFByb3BUeXBlcy5ib29sLmRlc2NyaXB0aW9uKFwiU2FtZSBhcyBSZWFjdCA8aW5wdXQgZGlzYWJsZWQ9e30gLz4uIEFsc28gYWRkcyBhIGhpZGRlbiBpbnB1dCBlbGVtZW50XFxuICAgICAgd2l0aCB0aGUgc2FtZSBuYW1lIHNvIGZvcm0gc3VibWlzc2lvbnMgd29yay5cIikuZGVmYXVsdFZhbHVlKGZhbHNlKSxcbiAgICBpZDogUHJvcFR5cGVzLnN0cmluZy5kZXNjcmlwdGlvbignVGhlIERPTSBpZCBhdHRyaWJ1dGUgdmFsdWUgdG8gdXNlIGZvciB0aGUgdW5kZXJseWluZyA8aW5wdXQvPiBlbGVtZW50LicpLFxuICAgIGxhYmVsOiBQcm9wVHlwZXMubm9kZS5kZXNjcmlwdGlvbignTGFiZWwgdGV4dCB0byBwbGFjZSBuZXh0IHRvIHRoZSBjb250cm9sLicpLFxuICAgIG5hbWU6IFByb3BUeXBlcy5zdHJpbmcuZGVzY3JpcHRpb24oXCJUaGUgRE9NIG5hbWUgYXR0cmlidXRlIHZhbHVlIHRvIHVzZSBmb3IgdGhlIHVuZGVybHlpbmcgPGlucHV0Lz4gXFxuICAgICAgZWxlbWVudC5cIiksXG4gICAgb25DaGFuZ2U6IFByb3BUeXBlcy5mdW5jLmRlc2NyaXB0aW9uKFwiRnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCB3aGVuIHRoZSB1c2VyIGNsaWNrcyB0aGUgY2hlY2sgYm94LiBJdFxcbiAgICAgIHdpbGwgYmUgcGFzc2VkIGEgUmVhY3QgZXZlbnQgb2JqZWN0LiBUaGUgY3VycmVudCBzdGF0ZSBjYW4gYmUgYWNjZXNzZWRcXG4gICAgICB2aWEgZXZlbnQudGFyZ2V0LmNoZWNrZWQuIFNhbWUgYXMgUmVhY3QgPGlucHV0IG9uQ2hhbmdlPXt9IC8+LlwiKSxcbiAgICByZXZlcnNlOiBQcm9wVHlwZXMuYm9vbC5kZXNjcmlwdGlvbignV2hldGhlciB0byBzaG93IHRoZSBsYWJlbCBpbiBmcm9udCBvZiB0aGUgY2hlY2tib3guJykuZGVmYXVsdFZhbHVlKGZhbHNlKSxcbiAgICB0b2dnbGU6IFByb3BUeXBlcy5ib29sLmRlc2NyaXB0aW9uKCdXaGV0aGVyIHRvIHZpc3VhbGl6ZSBpdCBhcyBhIHRvZ2dsZSBzd2l0Y2guJykuZGVmYXVsdFZhbHVlKGZhbHNlKSxcbiAgICBpbmRldGVybWluYXRlOiBQcm9wVHlwZXMuYm9vbC5kZXNjcmlwdGlvbihcIldoZXRoZXIgc3RhdGUgaXMgaW5kZXRlcm1pbmF0ZS5cXG5OT1RFOiBUaGlzIGNhbiBvbmx5IGJlIHVzZWQgd2l0aCBub24tdG9nZ2xlIGNvbXBvbmVudHNcIikuZGVmYXVsdFZhbHVlKGZhbHNlKVxuICB9O1xuICByZXR1cm4gRG9jdW1lbnRlZENoZWNrQm94O1xufTtcbmV4cG9ydCB2YXIgdGhlbWVEb2MgPSB7XG4gICdjaGVja0JveC5ib3JkZXIuY29sb3InOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgYm9yZGVyIGNvbG9yIHdoZW4gdW5jaGVja2VkLicsXG4gICAgdHlwZTogXCJzdHJpbmcgfCB7ICdkYXJrJzogc3RyaW5nLCAnbGlnaHQnOiBzdHJpbmcgfVwiLFxuICAgIGRlZmF1bHRWYWx1ZTogXCJ7IGRhcms6ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNSknLCBsaWdodDogJ3JnYmEoMCwgMCwgMCwgMC4xNSknIH1cIlxuICB9LFxuICAnY2hlY2tCb3guYm9yZGVyLndpZHRoJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGJvcmRlciB3aWR0aCB3aGVuIHVuY2hlY2tlZC4nLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogJzJweCdcbiAgfSxcbiAgJ2NoZWNrQm94LmNoZWNrLmV4dGVuZCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ0FueSBhZGRpdGlvbmFsIHN0eWxlIGZvciBjaGVja2VkIENoZWNrQm94LicsXG4gICAgdHlwZTogJ3N0cmluZyB8IChwcm9wcykgPT4ge30nLFxuICAgIGRlZmF1bHRWYWx1ZTogdW5kZWZpbmVkXG4gIH0sXG4gICdjaGVja0JveC5jaGVjay5yYWRpdXMnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgcmFkaXVzIG9mIHRoZSBjaGVja2VkIGljb24uJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICc0cHgnXG4gIH0sXG4gICdjaGVja0JveC5jaGVjay50aGlja25lc3MnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgc3Ryb2tlIHdpZHRoIG9mIHRoZSBjaGVja2VkIGljb24uJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICc0cHgnXG4gIH0sXG4gICdjaGVja0JveC5jb2xvcic6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBzdHJva2UgY29sb3IgZm9yIHRoZSBDaGVja0JveCBpY29uLCBhbmQgdGhlIGJvcmRlciB3aGVuIGNoZWNrZWQuJyxcbiAgICB0eXBlOiBcInN0cmluZyB8IHsgJ2RhcmsnOiBzdHJpbmcsICdsaWdodCc6IHN0cmluZyB9XCIsXG4gICAgZGVmYXVsdFZhbHVlOiB1bmRlZmluZWRcbiAgfSxcbiAgJ2NoZWNrQm94LmV4dGVuZCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ0FueSBhZGRpdGlvbmFsIHN0eWxlIGZvciBDaGVja0JveC4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCAocHJvcHMpID0+IHt9JyxcbiAgICBkZWZhdWx0VmFsdWU6IHVuZGVmaW5lZFxuICB9LFxuICAnY2hlY2tCb3guZ2FwJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIHJpZ2h0IG1hcmdpbiBvZiB0aGUgQ2hlY2tCb3ggdG8gaXRzIGxhYmVsLicsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiB1bmRlZmluZWRcbiAgfSxcbiAgJ2NoZWNrQm94LmhvdmVyLmJvcmRlci5jb2xvcic6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBib3JkZXIgY29sb3Igb24gaG92ZXIuJyxcbiAgICB0eXBlOiBcInN0cmluZyB8IHsgJ2RhcmsnOiBzdHJpbmcsICdsaWdodCc6IHN0cmluZyB9XCIsXG4gICAgZGVmYXVsdFZhbHVlOiBcInsgZGFyazogJ3doaXRlJywgbGlnaHQ6ICdibGFjaycgfVwiXG4gIH0sXG4gICdjaGVja0JveC5pY29uLnNpemUnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgc2l6ZSBvZiB0aGUgY2hlY2tlZCBpY29uLicsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiB1bmRlZmluZWRcbiAgfSxcbiAgJ2NoZWNrQm94Lmljb24uZXh0ZW5kJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnQW55IGFkZGl0aW9uYWwgc3R5bGUgZm9yIENoZWNrQm94IGljb24uJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgKHByb3BzKT0+e30nLFxuICAgIGRlZmF1bHRWYWx1ZTogdW5kZWZpbmVkXG4gIH0sXG4gICdjaGVja0JveC5pY29ucy5jaGVja2VkJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGljb24gdG8gdXNlIHdoZW4gY2hlY2tlZC4nLFxuICAgIHR5cGU6ICdSZWFjdC5FbGVtZW50JyxcbiAgICBkZWZhdWx0VmFsdWU6IHVuZGVmaW5lZFxuICB9LFxuICAnY2hlY2tCb3guaWNvbnMuaW5kZXRlcm1pbmF0ZSc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBpY29uIHRvIHVzZSB3aGVuIGluZGV0ZXJtaW5hdGUuJyxcbiAgICB0eXBlOiAnUmVhY3QuRWxlbWVudCcsXG4gICAgZGVmYXVsdFZhbHVlOiB1bmRlZmluZWRcbiAgfSxcbiAgJ2NoZWNrQm94LnNpemUnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgaGVpZ2h0IGFuZCB3aWR0aCB1c2VkIGZvciB0aGUgQ2hlY2tCb3ggaWNvbi4nLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogJzI0cHgnXG4gIH0sXG4gICdjaGVja0JveC50b2dnbGUuYmFja2dyb3VuZCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBiYWNrZ3JvdW5kIGNvbG9yIG9mIHRoZSB0b2dnbGUuJyxcbiAgICB0eXBlOiBcInN0cmluZyB8IHsgJ2RhcmsnOiBzdHJpbmcsICdsaWdodCc6IHN0cmluZyB9XCIsXG4gICAgZGVmYXVsdFZhbHVlOiB1bmRlZmluZWRcbiAgfSxcbiAgJ2NoZWNrQm94LnRvZ2dsZS5jb2xvcic6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBjb2xvciBvZiB0aGUgdG9nZ2xlIGtub2IuJyxcbiAgICB0eXBlOiBcInN0cmluZyB8IHsgJ2RhcmsnOiBzdHJpbmcsICdsaWdodCc6IHN0cmluZyB9XCIsXG4gICAgZGVmYXVsdFZhbHVlOiBcInsgZGFyazogJyNkOWQ5ZDknLCBsaWdodDogJyNkOWQ5ZDknIH1cIlxuICB9LFxuICAnY2hlY2tCb3gudG9nZ2xlLmV4dGVuZCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ0FueSBhZGRpdGlvbmFsIHN0eWxlIGZvciBDaGVja0JveCB0b2dnbGUuJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgKHByb3BzKSA9PiB7fScsXG4gICAgZGVmYXVsdFZhbHVlOiB1bmRlZmluZWRcbiAgfSxcbiAgJ2NoZWNrQm94LnRvZ2dsZS5rbm9iLmV4dGVuZCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ0FueSBhZGRpdGlvbmFsIHN0eWxlIGZvciB0aGUgQ2hlY2tCb3ggdG9nZ2xlIGtub2IuJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgKHByb3BzKSA9PiB7fScsXG4gICAgZGVmYXVsdFZhbHVlOiB1bmRlZmluZWRcbiAgfSxcbiAgJ2NoZWNrQm94LnRvZ2dsZS5yYWRpdXMnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgYm9yZGVyIHJhZGl1cyB1c2VkIGZvciB0aGUgdG9nZ2xlIGFuZCB0aGUga25vYi4nLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogJzI0cHgnXG4gIH0sXG4gICdjaGVja0JveC50b2dnbGUuc2l6ZSc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSB3aWR0aCBzaXplIG9mIHRoZSB0b2dnbGUuJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICc0MnB4J1xuICB9XG59OyIsImV4cG9ydCB7IENoZWNrQm94IH0gZnJvbSAnLi9DaGVja0JveCc7IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzTG9vc2Uoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzLnByb3RvdHlwZSk7IHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzOyBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbmltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjb21wb3NlIH0gZnJvbSAncmVjb21wb3NlJztcbmltcG9ydCB7IHdpdGhUaGVtZSB9IGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCB7IHBhcnNlTWV0cmljVG9OdW0gfSBmcm9tICcuLi8uLi91dGlscyc7XG5pbXBvcnQgeyBkZWZhdWx0UHJvcHMgfSBmcm9tICcuLi8uLi9kZWZhdWx0LXByb3BzJztcbmltcG9ydCB7IFN0eWxlZEFuYWxvZywgU3R5bGVkSG91ciwgU3R5bGVkTWludXRlLCBTdHlsZWRTZWNvbmQgfSBmcm9tICcuL1N0eWxlZENsb2NrJzsgLy8gdGhpcyB3aWxsIHNlcnZlIGJvdGggbWludXRlcyBhbmQgaG91cnMgKDM2MCAvIDYpXG5cbnZhciBBTkdMRV9VTklUID0gNjsgLy8gMzYwIC8gMTJcblxudmFyIEhPVVJfQU5HTEVfVU5JVCA9IDMwO1xuXG52YXIgZ2V0Q2xvY2tEaW1lbnNpb25zID0gZnVuY3Rpb24gZ2V0Q2xvY2tEaW1lbnNpb25zKHRoZW1lKSB7XG4gIHJldHVybiB7XG4gICAgc2l6ZTogcGFyc2VNZXRyaWNUb051bSh0aGVtZS5jbG9jay5hbmFsb2cuc2l6ZS5tZWRpdW0pLFxuICAgIHNlY29uZFNpemU6IHBhcnNlTWV0cmljVG9OdW0odGhlbWUuY2xvY2suYW5hbG9nLnNlY29uZC5zaXplKSxcbiAgICBtaW51dGVTaXplOiBwYXJzZU1ldHJpY1RvTnVtKHRoZW1lLmNsb2NrLmFuYWxvZy5taW51dGUuc2l6ZSksXG4gICAgaG91clNpemU6IHBhcnNlTWV0cmljVG9OdW0odGhlbWUuY2xvY2suYW5hbG9nLmhvdXIuc2l6ZSlcbiAgfTtcbn07XG5cbnZhciBnZXRDbG9ja1N0YXRlID0gZnVuY3Rpb24gZ2V0Q2xvY2tTdGF0ZShfcmVmKSB7XG4gIHZhciBob3VycyA9IF9yZWYuaG91cnMsXG4gICAgICBtaW51dGVzID0gX3JlZi5taW51dGVzLFxuICAgICAgc2Vjb25kcyA9IF9yZWYuc2Vjb25kcztcbiAgdmFyIGhvdXIxMiA9IGhvdXJzID4gMTIgPyBob3VycyAtIDEyIDogaG91cnM7XG4gIHZhciBtaW51dGVBbmdsZSA9IG1pbnV0ZXMgKiBBTkdMRV9VTklUO1xuICByZXR1cm4ge1xuICAgIC8vIG9mZnNldCBob3VyIGFuZ2xlIGJ5IGhhbGYgb2YgdGhlIG1pbnV0ZSBhbmdsZSBzbyB0aGF0IGl0IGdldHMgY2xvc2VyXG4gICAgLy8gdG8gdGhlIG5leHQgaG91clxuICAgIGhvdXJBbmdsZTogaG91cjEyICogSE9VUl9BTkdMRV9VTklUICsgbWludXRlcyAvIDIsXG4gICAgbWludXRlQW5nbGU6IG1pbnV0ZUFuZ2xlLFxuICAgIHNlY29uZEFuZ2xlOiBzZWNvbmRzICogQU5HTEVfVU5JVFxuICB9O1xufTtcblxudmFyIEFuYWxvZyA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBfaW5oZXJpdHNMb29zZShBbmFsb2csIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIEFuYWxvZygpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgX3RoaXMgPSBfQ29tcG9uZW50LmNhbGwuYXBwbHkoX0NvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChhcmdzKSkgfHwgdGhpcztcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJzdGF0ZVwiLCB7fSk7XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBBbmFsb2cuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID0gZnVuY3Rpb24gZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKG5leHRQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgdmFyIGVsZW1lbnRzID0gbmV4dFByb3BzLmVsZW1lbnRzO1xuICAgIHZhciBuZXh0U3RhdGUgPSBnZXRDbG9ja1N0YXRlKGVsZW1lbnRzKTtcblxuICAgIGlmIChwcmV2U3RhdGUuaG91ckFuZ2xlID09PSB1bmRlZmluZWQgfHwgT2JqZWN0LmtleXMobmV4dFN0YXRlKS5zb21lKGZ1bmN0aW9uIChrKSB7XG4gICAgICByZXR1cm4gcHJldlN0YXRlW2tdICE9PSBuZXh0U3RhdGVba107XG4gICAgfSkpIHtcbiAgICAgIHJldHVybiBuZXh0U3RhdGU7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgdmFyIF9wcm90byA9IEFuYWxvZy5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgX3RoaXMkcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICBwcmVjaXNpb24gPSBfdGhpcyRwcm9wcy5wcmVjaXNpb24sXG4gICAgICAgIHRoZW1lID0gX3RoaXMkcHJvcHMudGhlbWUsXG4gICAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfdGhpcyRwcm9wcywgW1wicHJlY2lzaW9uXCIsIFwidGhlbWVcIl0pO1xuXG4gICAgdmFyIF90aGlzJHN0YXRlID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgaG91ckFuZ2xlID0gX3RoaXMkc3RhdGUuaG91ckFuZ2xlLFxuICAgICAgICBtaW51dGVBbmdsZSA9IF90aGlzJHN0YXRlLm1pbnV0ZUFuZ2xlLFxuICAgICAgICBzZWNvbmRBbmdsZSA9IF90aGlzJHN0YXRlLnNlY29uZEFuZ2xlO1xuXG4gICAgdmFyIF9nZXRDbG9ja0RpbWVuc2lvbnMgPSBnZXRDbG9ja0RpbWVuc2lvbnModGhlbWUpLFxuICAgICAgICBzaXplID0gX2dldENsb2NrRGltZW5zaW9ucy5zaXplLFxuICAgICAgICBzZWNvbmRTaXplID0gX2dldENsb2NrRGltZW5zaW9ucy5zZWNvbmRTaXplLFxuICAgICAgICBtaW51dGVTaXplID0gX2dldENsb2NrRGltZW5zaW9ucy5taW51dGVTaXplLFxuICAgICAgICBob3VyU2l6ZSA9IF9nZXRDbG9ja0RpbWVuc2lvbnMuaG91clNpemU7XG5cbiAgICB2YXIgaGFsZlNpemUgPSBzaXplIC8gMjtcbiAgICB2YXIgc2Vjb25kSGFuZDtcblxuICAgIGlmIChwcmVjaXNpb24gPT09ICdzZWNvbmRzJykge1xuICAgICAgc2Vjb25kSGFuZCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkU2Vjb25kLCB7XG4gICAgICAgIHgxOiBoYWxmU2l6ZSxcbiAgICAgICAgeTE6IGhhbGZTaXplLFxuICAgICAgICB4MjogaGFsZlNpemUsXG4gICAgICAgIHkyOiBzZWNvbmRTaXplLFxuICAgICAgICBzdHJva2U6IFwiIzAwMDAwMFwiLFxuICAgICAgICBzdHJva2VMaW5lY2FwOiB0aGVtZS5jbG9jay5hbmFsb2cuc2Vjb25kLnNoYXBlLFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIHRyYW5zZm9ybTogXCJyb3RhdGUoXCIgKyBzZWNvbmRBbmdsZSArIFwiZGVnKVwiLFxuICAgICAgICAgIHRyYW5zZm9ybU9yaWdpbjogaGFsZlNpemUgKyBcInB4IFwiICsgaGFsZlNpemUgKyBcInB4XCJcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdmFyIG1pbnV0ZUhhbmQ7XG5cbiAgICBpZiAocHJlY2lzaW9uID09PSAnc2Vjb25kcycgfHwgcHJlY2lzaW9uID09PSAnbWludXRlcycpIHtcbiAgICAgIG1pbnV0ZUhhbmQgPSBSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZE1pbnV0ZSwge1xuICAgICAgICB4MTogaGFsZlNpemUsXG4gICAgICAgIHkxOiBoYWxmU2l6ZSxcbiAgICAgICAgeDI6IGhhbGZTaXplLFxuICAgICAgICB5MjogbWludXRlU2l6ZSxcbiAgICAgICAgc3Ryb2tlOiBcIiMwMDAwMDBcIixcbiAgICAgICAgc3Ryb2tlTGluZWNhcDogdGhlbWUuY2xvY2suYW5hbG9nLm1pbnV0ZS5zaGFwZSxcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICB0cmFuc2Zvcm06IFwicm90YXRlKFwiICsgbWludXRlQW5nbGUgKyBcImRlZylcIixcbiAgICAgICAgICB0cmFuc2Zvcm1PcmlnaW46IGhhbGZTaXplICsgXCJweCBcIiArIGhhbGZTaXplICsgXCJweFwiXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZEFuYWxvZywgX2V4dGVuZHMoe1xuICAgICAgdmVyc2lvbjogXCIxLjFcIixcbiAgICAgIHdpZHRoOiBzaXplLFxuICAgICAgaGVpZ2h0OiBzaXplLFxuICAgICAgcHJlc2VydmVBc3BlY3RSYXRpbzogXCJ4TWlkWU1pZCBtZWV0XCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCBcIiArIHNpemUgKyBcIiBcIiArIHNpemVcbiAgICB9LCByZXN0KSwgc2Vjb25kSGFuZCwgbWludXRlSGFuZCwgUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWRIb3VyLCB7XG4gICAgICB4MTogaGFsZlNpemUsXG4gICAgICB5MTogaGFsZlNpemUsXG4gICAgICB4MjogaGFsZlNpemUsXG4gICAgICB5MjogaG91clNpemUsXG4gICAgICBzdHJva2U6IFwiIzAwMDAwMFwiLFxuICAgICAgc3Ryb2tlTGluZWNhcDogdGhlbWUuY2xvY2suYW5hbG9nLmhvdXIuc2hhcGUsXG4gICAgICBzdHlsZToge1xuICAgICAgICB0cmFuc2Zvcm06IFwicm90YXRlKFwiICsgaG91ckFuZ2xlICsgXCJkZWcpXCIsXG4gICAgICAgIHRyYW5zZm9ybU9yaWdpbjogaGFsZlNpemUgKyBcInB4IFwiICsgaGFsZlNpemUgKyBcInB4XCJcbiAgICAgIH1cbiAgICB9KSk7XG4gIH07XG5cbiAgcmV0dXJuIEFuYWxvZztcbn0oQ29tcG9uZW50KTtcblxuX2RlZmluZVByb3BlcnR5KEFuYWxvZywgXCJkZWZhdWx0UHJvcHNcIiwge1xuICBzaXplOiAnbWVkaXVtJ1xufSk7XG5cbk9iamVjdC5zZXRQcm90b3R5cGVPZihBbmFsb2cuZGVmYXVsdFByb3BzLCBkZWZhdWx0UHJvcHMpO1xudmFyIEFuYWxvZ1dyYXBwZXIgPSBjb21wb3NlKHdpdGhUaGVtZSkoQW5hbG9nKTtcbmV4cG9ydCB7IEFuYWxvZ1dyYXBwZXIgYXMgQW5hbG9nIH07IiwiZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzTG9vc2Uoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzLnByb3RvdHlwZSk7IHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzOyBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbmltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBBbmFsb2cgfSBmcm9tICcuL0FuYWxvZyc7XG5pbXBvcnQgeyBEaWdpdGFsIH0gZnJvbSAnLi9EaWdpdGFsJztcbnZhciBUSU1FX1JFR0VYUCA9IC9UKFswLTldezJ9KTooWzAtOV17Mn0pKD86OihbMC05LixdezIsfSkpPy87XG52YXIgRFVSQVRJT05fUkVHRVhQID0gL14oLXxcXCspP1AuKlQoPzooWy0rXT9bMC05LC5dKilIKT8oPzooWy0rXT9bMC05LC5dKilNKT8oPzooWy0rXT9bMC05LC5dKilTKT8kLztcblxudmFyIHBhcnNlVGltZSA9IGZ1bmN0aW9uIHBhcnNlVGltZSh0aW1lLCBob3VyTGltaXQpIHtcbiAgdmFyIHJlc3VsdCA9IHt9O1xuXG4gIGlmICh0aW1lKSB7XG4gICAgdmFyIG1hdGNoID0gRFVSQVRJT05fUkVHRVhQLmV4ZWModGltZSk7XG5cbiAgICBpZiAobWF0Y2gpIHtcbiAgICAgIHJlc3VsdC5ob3VycyA9IHBhcnNlRmxvYXQobWF0Y2hbMl0pO1xuXG4gICAgICBpZiAoaG91ckxpbWl0ID09PSAxMikge1xuICAgICAgICByZXN1bHQuaG91cnMxMiA9IHJlc3VsdC5ob3VycyA+IDEyID8gcmVzdWx0LmhvdXJzIC0gMTIgOiByZXN1bHQuaG91cnM7XG4gICAgICB9XG5cbiAgICAgIHJlc3VsdC5taW51dGVzID0gcGFyc2VGbG9hdChtYXRjaFszXSkgfHwgMDtcbiAgICAgIHJlc3VsdC5zZWNvbmRzID0gcGFyc2VGbG9hdChtYXRjaFs0XSkgfHwgMDtcbiAgICAgIHJlc3VsdC5kdXJhdGlvbiA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1hdGNoID0gVElNRV9SRUdFWFAuZXhlYyh0aW1lKTtcblxuICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgIHJlc3VsdC5ob3VycyA9IHBhcnNlRmxvYXQobWF0Y2hbMV0pO1xuXG4gICAgICAgIGlmIChob3VyTGltaXQgPT09IDEyKSB7XG4gICAgICAgICAgcmVzdWx0LmhvdXJzMTIgPSByZXN1bHQuaG91cnMgPiAxMiA/IHJlc3VsdC5ob3VycyAtIDEyIDogcmVzdWx0LmhvdXJzO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVzdWx0Lm1pbnV0ZXMgPSBwYXJzZUZsb2F0KG1hdGNoWzJdKSB8fCAwO1xuICAgICAgICByZXN1bHQuc2Vjb25kcyA9IHBhcnNlRmxvYXQobWF0Y2hbM10pIHx8IDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiR3JvbW1ldCBDbG9jayBjYW5ub3QgcGFyc2UgJ1wiICsgdGltZSArIFwiJ1wiKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgIHJlc3VsdC5ob3VycyA9IGRhdGUuZ2V0SG91cnMoKTtcbiAgICByZXN1bHQubWludXRlcyA9IGRhdGUuZ2V0TWludXRlcygpO1xuICAgIHJlc3VsdC5zZWNvbmRzID0gZGF0ZS5nZXRTZWNvbmRzKCk7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufTtcblxudmFyIENsb2NrID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKENsb2NrLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBDbG9jaygpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgX3RoaXMgPSBfQ29tcG9uZW50LmNhbGwuYXBwbHkoX0NvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChhcmdzKSkgfHwgdGhpcztcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJzdGF0ZVwiLCB7fSk7XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBDbG9jay5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPSBmdW5jdGlvbiBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMobmV4dFByb3BzLCBwcmV2U3RhdGUpIHtcbiAgICB2YXIgaG91ckxpbWl0ID0gbmV4dFByb3BzLmhvdXJMaW1pdCxcbiAgICAgICAgdGltZSA9IG5leHRQcm9wcy50aW1lO1xuICAgIHZhciBlbGVtZW50cyA9IHByZXZTdGF0ZS5lbGVtZW50cztcblxuICAgIGlmICghZWxlbWVudHMgfHwgdGltZSkge1xuICAgICAgdmFyIG5leHRFbGVtZW50cyA9IHBhcnNlVGltZSh0aW1lLCBob3VyTGltaXQpO1xuXG4gICAgICBpZiAoIWVsZW1lbnRzKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgZWxlbWVudHM6IG5leHRFbGVtZW50c1xuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBpZiAoT2JqZWN0LmtleXMobmV4dEVsZW1lbnRzKS5zb21lKGZ1bmN0aW9uIChrKSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50c1trXSAhPT0gbmV4dEVsZW1lbnRzW2tdO1xuICAgICAgfSkpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBlbGVtZW50czogbmV4dEVsZW1lbnRzXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgdmFyIF9wcm90byA9IENsb2NrLnByb3RvdHlwZTtcblxuICBfcHJvdG8uY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB2YXIgcnVuID0gdGhpcy5wcm9wcy5ydW47XG5cbiAgICBpZiAocnVuKSB7XG4gICAgICB0aGlzLnJ1bigpO1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8uY29tcG9uZW50RGlkVXBkYXRlID0gZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcykge1xuICAgIHZhciBydW4gPSB0aGlzLnByb3BzLnJ1bjtcblxuICAgIGlmIChydW4gJiYgIXByZXZQcm9wcy5ydW4pIHtcbiAgICAgIHRoaXMucnVuKCk7XG4gICAgfSBlbHNlIGlmICghcnVuICYmIHByZXZQcm9wcy5ydW4pIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7XG4gIH07XG5cbiAgX3Byb3RvLnJ1biA9IGZ1bmN0aW9uIHJ1bigpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIHZhciBfdGhpcyRwcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgIGhvdXJMaW1pdCA9IF90aGlzJHByb3BzLmhvdXJMaW1pdCxcbiAgICAgICAgb25DaGFuZ2UgPSBfdGhpcyRwcm9wcy5vbkNoYW5nZSxcbiAgICAgICAgcHJlY2lzaW9uID0gX3RoaXMkcHJvcHMucHJlY2lzaW9uLFxuICAgICAgICBydW4gPSBfdGhpcyRwcm9wcy5ydW47XG4gICAgdmFyIGVsZW1lbnRzID0gdGhpcy5zdGF0ZS5lbGVtZW50czsgLy8gc2V0IHRoZSBpbnRlcnZhbCB0aW1lIGJhc2VkIG9uIHRoZSBwcmVjaXNpb25cblxuICAgIHZhciBpbnRlcnZhbCA9IDEwMDA7XG4gICAgdmFyIGluY3JlbWVudCA9ICdzZWNvbmRzJztcblxuICAgIGlmIChwcmVjaXNpb24gIT09ICdzZWNvbmRzJyAmJiBlbGVtZW50cy5zZWNvbmRzID09PSAwKSB7XG4gICAgICBpbnRlcnZhbCAqPSA2MDtcbiAgICAgIGluY3JlbWVudCA9ICdtaW51dGVzJztcblxuICAgICAgaWYgKHByZWNpc2lvbiAhPT0gJ21pbnV0ZXMnICYmIGVsZW1lbnRzLm1pbnV0ZXMgPT09IDApIHtcbiAgICAgICAgaW50ZXJ2YWwgKj0gNjA7XG4gICAgICAgIGluY3JlbWVudCA9ICdob3Vycyc7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTtcbiAgICB0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHByZXZpb3VzRWxlbWVudHMgPSBfdGhpczIuc3RhdGUuZWxlbWVudHM7XG5cbiAgICAgIHZhciBuZXh0RWxlbWVudHMgPSBfZXh0ZW5kcyh7fSwgcHJldmlvdXNFbGVtZW50cyk7IC8vIGFkanVzdCB0aW1lIGJhc2VkIG9uIHByZWNpc2lvblxuXG5cbiAgICAgIGlmIChpbmNyZW1lbnQgPT09ICdzZWNvbmRzJykge1xuICAgICAgICBpZiAocnVuID09PSAnYmFja3dhcmQnKSB7XG4gICAgICAgICAgbmV4dEVsZW1lbnRzLnNlY29uZHMgLT0gMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXh0RWxlbWVudHMuc2Vjb25kcyArPSAxO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGluY3JlbWVudCA9PT0gJ21pbnV0ZXMnKSB7XG4gICAgICAgIGlmIChydW4gPT09ICdiYWNrd2FyZCcpIHtcbiAgICAgICAgICBuZXh0RWxlbWVudHMubWludXRlcyAtPSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5leHRFbGVtZW50cy5taW51dGVzICs9IDE7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaW5jcmVtZW50ID09PSAnaG91cnMnKSB7XG4gICAgICAgIGlmIChydW4gPT09ICdiYWNrd2FyZCcpIHtcbiAgICAgICAgICBuZXh0RWxlbWVudHMuaG91cnMgLT0gMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXh0RWxlbWVudHMuaG91cnMgKz0gMTtcbiAgICAgICAgfVxuICAgICAgfSAvLyBkZWFsIHdpdGggb3ZlcmZsb3dzXG5cblxuICAgICAgaWYgKG5leHRFbGVtZW50cy5zZWNvbmRzID49IDYwKSB7XG4gICAgICAgIG5leHRFbGVtZW50cy5taW51dGVzICs9IE1hdGguZmxvb3IobmV4dEVsZW1lbnRzLnNlY29uZHMgLyA2MCk7XG4gICAgICAgIG5leHRFbGVtZW50cy5zZWNvbmRzID0gMDtcbiAgICAgIH0gZWxzZSBpZiAobmV4dEVsZW1lbnRzLnNlY29uZHMgPCAwKSB7XG4gICAgICAgIG5leHRFbGVtZW50cy5taW51dGVzICs9IE1hdGguZmxvb3IobmV4dEVsZW1lbnRzLnNlY29uZHMgLyA2MCk7XG4gICAgICAgIG5leHRFbGVtZW50cy5zZWNvbmRzID0gNTk7XG4gICAgICB9XG5cbiAgICAgIGlmIChuZXh0RWxlbWVudHMubWludXRlcyA+PSA2MCkge1xuICAgICAgICBuZXh0RWxlbWVudHMuaG91cnMgKz0gTWF0aC5mbG9vcihuZXh0RWxlbWVudHMubWludXRlcyAvIDYwKTtcbiAgICAgICAgbmV4dEVsZW1lbnRzLm1pbnV0ZXMgPSAwO1xuICAgICAgfSBlbHNlIGlmIChuZXh0RWxlbWVudHMubWludXRlcyA8IDApIHtcbiAgICAgICAgbmV4dEVsZW1lbnRzLmhvdXJzICs9IE1hdGguZmxvb3IobmV4dEVsZW1lbnRzLm1pbnV0ZXMgLyA2MCk7XG4gICAgICAgIG5leHRFbGVtZW50cy5taW51dGVzID0gNTk7XG4gICAgICB9XG5cbiAgICAgIGlmIChuZXh0RWxlbWVudHMuaG91cnMgPj0gMjQgfHwgbmV4dEVsZW1lbnRzLmhvdXJzIDwgMCkge1xuICAgICAgICBuZXh0RWxlbWVudHMuaG91cnMgPSAwO1xuICAgICAgfVxuXG4gICAgICBpZiAoaG91ckxpbWl0ID09PSAxMikge1xuICAgICAgICBuZXh0RWxlbWVudHMuaG91cnMxMiA9IG5leHRFbGVtZW50cy5ob3VycyA+IDEyID8gbmV4dEVsZW1lbnRzLmhvdXJzIC0gMTIgOiBuZXh0RWxlbWVudHMuaG91cnM7XG4gICAgICB9XG5cbiAgICAgIF90aGlzMi5zZXRTdGF0ZSh7XG4gICAgICAgIGVsZW1lbnRzOiBuZXh0RWxlbWVudHNcbiAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKG9uQ2hhbmdlKSB7XG4gICAgICAgICAgaWYgKGVsZW1lbnRzLmR1cmF0aW9uKSB7XG4gICAgICAgICAgICBvbkNoYW5nZShcIlBcIiArIGVsZW1lbnRzLmhvdXJzICsgXCJIXCIgKyBlbGVtZW50cy5taW51dGVzICsgXCJNXCIgKyBlbGVtZW50cy5zZWNvbmRzICsgXCJTXCIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvbkNoYW5nZShcIlRcIiArIGVsZW1lbnRzLmhvdXJzICsgXCI6XCIgKyBlbGVtZW50cy5taW51dGVzICsgXCI6XCIgKyBlbGVtZW50cy5zZWNvbmRzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sIGludGVydmFsKTtcbiAgfTtcblxuICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfdGhpcyRwcm9wczIgPSB0aGlzLnByb3BzLFxuICAgICAgICB0eXBlID0gX3RoaXMkcHJvcHMyLnR5cGUsXG4gICAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfdGhpcyRwcm9wczIsIFtcInR5cGVcIl0pO1xuXG4gICAgdmFyIGVsZW1lbnRzID0gdGhpcy5zdGF0ZS5lbGVtZW50cztcbiAgICB2YXIgY29udGVudDtcblxuICAgIGlmICh0eXBlID09PSAnYW5hbG9nJykge1xuICAgICAgY29udGVudCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoQW5hbG9nLCBfZXh0ZW5kcyh7XG4gICAgICAgIGVsZW1lbnRzOiBlbGVtZW50c1xuICAgICAgfSwgcmVzdCkpO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2RpZ2l0YWwnKSB7XG4gICAgICBjb250ZW50ID0gUmVhY3QuY3JlYXRlRWxlbWVudChEaWdpdGFsLCBfZXh0ZW5kcyh7XG4gICAgICAgIGVsZW1lbnRzOiBlbGVtZW50c1xuICAgICAgfSwgcmVzdCkpO1xuICAgIH1cblxuICAgIHJldHVybiBjb250ZW50O1xuICB9O1xuXG4gIHJldHVybiBDbG9jaztcbn0oQ29tcG9uZW50KTtcblxuX2RlZmluZVByb3BlcnR5KENsb2NrLCBcImRlZmF1bHRQcm9wc1wiLCB7XG4gIGhvdXJMaW1pdDogMjQsXG4gIHByZWNpc2lvbjogJ3NlY29uZHMnLFxuICBydW46ICdmb3J3YXJkJyxcbiAgc2l6ZTogJ21lZGl1bScsXG4gIHR5cGU6ICdhbmFsb2cnXG59KTtcblxudmFyIENsb2NrRG9jO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBDbG9ja0RvYyA9IHJlcXVpcmUoJy4vZG9jJykuZG9jKENsb2NrKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBnbG9iYWwtcmVxdWlyZVxufVxuXG52YXIgQ2xvY2tXcmFwcGVyID0gQ2xvY2tEb2MgfHwgQ2xvY2s7XG5leHBvcnQgeyBDbG9ja1dyYXBwZXIgYXMgQ2xvY2sgfTsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHNMb29zZShzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MucHJvdG90eXBlKTsgc3ViQ2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gc3ViQ2xhc3M7IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEJveCB9IGZyb20gJy4uL0JveCc7XG5pbXBvcnQgeyBTdHlsZWREaWdpdGFsRGlnaXQsIFN0eWxlZERpZ2l0YWxOZXh0LCBTdHlsZWREaWdpdGFsUHJldmlvdXMgfSBmcm9tICcuL1N0eWxlZENsb2NrJztcblxudmFyIERpZ2l0ID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKERpZ2l0LCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBEaWdpdCgpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgX3RoaXMgPSBfQ29tcG9uZW50LmNhbGwuYXBwbHkoX0NvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChhcmdzKSkgfHwgdGhpcztcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJzdGF0ZVwiLCB7fSk7XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBEaWdpdC5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPSBmdW5jdGlvbiBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMobmV4dFByb3BzLCBwcmV2U3RhdGUpIHtcbiAgICB2YXIgbnVtYmVyID0gbmV4dFByb3BzLm51bWJlcjtcblxuICAgIGlmIChudW1iZXIgIT09IHByZXZTdGF0ZS5udW1iZXIpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHByZXZpb3VzOiBwcmV2U3RhdGUubnVtYmVyLFxuICAgICAgICBudW1iZXI6IG51bWJlclxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICB2YXIgX3Byb3RvID0gRGlnaXQucHJvdG90eXBlO1xuXG4gIF9wcm90by5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzLCBwcmV2U3RhdGUpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIHZhciBwcmV2aW91cyA9IHRoaXMuc3RhdGUucHJldmlvdXM7XG5cbiAgICBpZiAocHJldlN0YXRlLnByZXZpb3VzID09PSB1bmRlZmluZWQgJiYgcHJldmlvdXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXIpO1xuICAgICAgdGhpcy50aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczIuc2V0U3RhdGUoe1xuICAgICAgICAgIHByZXZpb3VzOiB1bmRlZmluZWRcbiAgICAgICAgfSk7XG4gICAgICB9LCA5MDApO1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8uY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lcik7XG4gIH07XG5cbiAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAvKiBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QvcHJvcC10eXBlcyAqL1xuICAgIHZhciBfdGhpcyRwcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgIHJ1biA9IF90aGlzJHByb3BzLnJ1bixcbiAgICAgICAgc2l6ZSA9IF90aGlzJHByb3BzLnNpemU7XG4gICAgdmFyIF90aGlzJHN0YXRlID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgbnVtYmVyID0gX3RoaXMkc3RhdGUubnVtYmVyLFxuICAgICAgICBwcmV2aW91cyA9IF90aGlzJHN0YXRlLnByZXZpb3VzO1xuXG4gICAgaWYgKHByZXZpb3VzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHZhciBkaXJlY3Rpb24gPSBydW4gPT09ICdiYWNrd2FyZCcgPyAnZG93bicgOiAndXAnO1xuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkRGlnaXRhbERpZ2l0LCB7XG4gICAgICAgIHNpemU6IHNpemVcbiAgICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkRGlnaXRhbFByZXZpb3VzLCB7XG4gICAgICAgIGRpcmVjdGlvbjogZGlyZWN0aW9uXG4gICAgICB9LCBNYXRoLmZsb29yKHByZXZpb3VzKSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkRGlnaXRhbE5leHQsIHtcbiAgICAgICAgZGlyZWN0aW9uOiBkaXJlY3Rpb25cbiAgICAgIH0sIE1hdGguZmxvb3IobnVtYmVyKSkpO1xuICAgIH1cblxuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZERpZ2l0YWxEaWdpdCwge1xuICAgICAgc2l6ZTogc2l6ZVxuICAgIH0sIE1hdGguZmxvb3IobnVtYmVyKSk7XG4gIH07XG5cbiAgcmV0dXJuIERpZ2l0O1xufShDb21wb25lbnQpO1xuXG52YXIgRWxlbWVudCA9IGZ1bmN0aW9uIEVsZW1lbnQoX3JlZikge1xuICB2YXIgbnVtYmVyID0gX3JlZi5udW1iZXIsXG4gICAgICBydW4gPSBfcmVmLnJ1bixcbiAgICAgIHNlcCA9IF9yZWYuc2VwLFxuICAgICAgc2l6ZSA9IF9yZWYuc2l6ZTtcbiAgdmFyIHRlbnMgPSBNYXRoLmZsb29yKG51bWJlciAvIDEwKTtcbiAgdmFyIG9uZXMgPSBudW1iZXIgJSAxMDtcbiAgdmFyIHJlc3VsdCA9IFtSZWFjdC5jcmVhdGVFbGVtZW50KERpZ2l0LCB7XG4gICAga2V5OiBcInRlbnNcIixcbiAgICBydW46IHJ1bixcbiAgICBzaXplOiBzaXplLFxuICAgIG51bWJlcjogdGVuc1xuICB9KSwgUmVhY3QuY3JlYXRlRWxlbWVudChEaWdpdCwge1xuICAgIGtleTogXCJvbmVzXCIsXG4gICAgcnVuOiBydW4sXG4gICAgc2l6ZTogc2l6ZSxcbiAgICBudW1iZXI6IG9uZXNcbiAgfSldO1xuXG4gIGlmIChzZXApIHtcbiAgICByZXN1bHQudW5zaGlmdChSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZERpZ2l0YWxEaWdpdCwge1xuICAgICAga2V5OiBcInNlcFwiLFxuICAgICAgc2l6ZTogc2l6ZVxuICAgIH0sIFwiOlwiKSk7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuZXhwb3J0IHZhciBEaWdpdGFsID0gZnVuY3Rpb24gRGlnaXRhbChwcm9wcykge1xuICB2YXIgZWxlbWVudHMgPSBwcm9wcy5lbGVtZW50cyxcbiAgICAgIHByZWNpc2lvbiA9IHByb3BzLnByZWNpc2lvbixcbiAgICAgIHJ1biA9IHByb3BzLnJ1bixcbiAgICAgIHNpemUgPSBwcm9wcy5zaXplLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHByb3BzLCBbXCJlbGVtZW50c1wiLCBcInByZWNpc2lvblwiLCBcInJ1blwiLCBcInNpemVcIl0pO1xuXG4gIHZhciBzZWNvbmRzO1xuXG4gIGlmIChwcmVjaXNpb24gPT09ICdzZWNvbmRzJykge1xuICAgIHNlY29uZHMgPSBSZWFjdC5jcmVhdGVFbGVtZW50KEVsZW1lbnQsIHtcbiAgICAgIG51bWJlcjogZWxlbWVudHMuc2Vjb25kcyxcbiAgICAgIHJ1bjogcnVuLFxuICAgICAgc2l6ZTogc2l6ZSxcbiAgICAgIHNlcDogdHJ1ZVxuICAgIH0pO1xuICB9XG5cbiAgdmFyIG1pbnV0ZXM7XG5cbiAgaWYgKHByZWNpc2lvbiA9PT0gJ21pbnV0ZXMnIHx8IHByZWNpc2lvbiA9PT0gJ3NlY29uZHMnKSB7XG4gICAgbWludXRlcyA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoRWxlbWVudCwge1xuICAgICAgbnVtYmVyOiBlbGVtZW50cy5taW51dGVzLFxuICAgICAgcnVuOiBydW4sXG4gICAgICBzaXplOiBzaXplLFxuICAgICAgc2VwOiB0cnVlXG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChCb3gsIF9leHRlbmRzKHtcbiAgICBkaXJlY3Rpb246IFwicm93XCJcbiAgfSwgcmVzdCksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRWxlbWVudCwge1xuICAgIG51bWJlcjogZWxlbWVudHMuaG91cnMxMiB8fCBlbGVtZW50cy5ob3VycyxcbiAgICBydW46IHJ1bixcbiAgICBzaXplOiBzaXplXG4gIH0pLCBtaW51dGVzLCBzZWNvbmRzKTtcbn07IiwiaW1wb3J0IHN0eWxlZCwgeyBjc3MsIGtleWZyYW1lcyB9IGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCB7IG5vcm1hbGl6ZUNvbG9yLCBnZW5lcmljU3R5bGVzIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuaW1wb3J0IHsgZGVmYXVsdFByb3BzIH0gZnJvbSAnLi4vLi4vZGVmYXVsdC1wcm9wcyc7XG52YXIgU3R5bGVkSG91ciA9IHN0eWxlZC5saW5lLndpdGhDb25maWcoe1xuICBkaXNwbGF5TmFtZTogXCJTdHlsZWRDbG9ja19fU3R5bGVkSG91clwiLFxuICBjb21wb25lbnRJZDogXCJ5NHh3OHMtMFwiXG59KShbXCJzdHJva2Utd2lkdGg6XCIsIFwiO3N0cm9rZTpcIiwgXCI7dHJhbnNpdGlvbjpzdHJva2UgMXMgZWFzZS1vdXQ7XCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLmNsb2NrLmFuYWxvZy5ob3VyLndpZHRoO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBub3JtYWxpemVDb2xvcihwcm9wcy50aGVtZS5jbG9jay5hbmFsb2cuaG91ci5jb2xvciwgcHJvcHMudGhlbWUpO1xufSk7XG5TdHlsZWRIb3VyLmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKFN0eWxlZEhvdXIuZGVmYXVsdFByb3BzLCBkZWZhdWx0UHJvcHMpO1xudmFyIFN0eWxlZE1pbnV0ZSA9IHN0eWxlZC5saW5lLndpdGhDb25maWcoe1xuICBkaXNwbGF5TmFtZTogXCJTdHlsZWRDbG9ja19fU3R5bGVkTWludXRlXCIsXG4gIGNvbXBvbmVudElkOiBcInk0eHc4cy0xXCJcbn0pKFtcInN0cm9rZS13aWR0aDpcIiwgXCI7c3Ryb2tlOlwiLCBcIjt0cmFuc2l0aW9uOnN0cm9rZSAxcyBlYXNlLW91dDtcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUuY2xvY2suYW5hbG9nLm1pbnV0ZS53aWR0aDtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gbm9ybWFsaXplQ29sb3IocHJvcHMudGhlbWUuY2xvY2suYW5hbG9nLm1pbnV0ZS5jb2xvciwgcHJvcHMudGhlbWUpO1xufSk7XG5TdHlsZWRNaW51dGUuZGVmYXVsdFByb3BzID0ge307XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoU3R5bGVkTWludXRlLmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbnZhciBTdHlsZWRTZWNvbmQgPSBzdHlsZWQubGluZS53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiU3R5bGVkQ2xvY2tfX1N0eWxlZFNlY29uZFwiLFxuICBjb21wb25lbnRJZDogXCJ5NHh3OHMtMlwiXG59KShbXCJzdHJva2Utd2lkdGg6XCIsIFwiO3N0cm9rZTpcIiwgXCI7dHJhbnNpdGlvbjpzdHJva2UgMXMgZWFzZS1vdXQ7XCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLmNsb2NrLmFuYWxvZy5zZWNvbmQud2lkdGg7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIG5vcm1hbGl6ZUNvbG9yKHByb3BzLnRoZW1lLmNsb2NrLmFuYWxvZy5zZWNvbmQuY29sb3IsIHByb3BzLnRoZW1lKTtcbn0pO1xuU3R5bGVkU2Vjb25kLmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKFN0eWxlZFNlY29uZC5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG52YXIgU3R5bGVkQW5hbG9nID0gc3R5bGVkLnN2Zy53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiU3R5bGVkQ2xvY2tfX1N0eWxlZEFuYWxvZ1wiLFxuICBjb21wb25lbnRJZDogXCJ5NHh3OHMtM1wiXG59KShbXCJ3aWR0aDpcIiwgXCI7aGVpZ2h0OlwiLCBcIjtcIiwgXCIgXCIsIFwiO1wiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5jbG9jay5hbmFsb2cuc2l6ZVtwcm9wcy5zaXplXTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUuY2xvY2suYW5hbG9nLnNpemVbcHJvcHMuc2l6ZV07XG59LCBnZW5lcmljU3R5bGVzLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLmNsb2NrLmFuYWxvZyAmJiBwcm9wcy50aGVtZS5jbG9jay5hbmFsb2cuZXh0ZW5kO1xufSk7XG5TdHlsZWRBbmFsb2cuZGVmYXVsdFByb3BzID0ge307XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoU3R5bGVkQW5hbG9nLmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcblxudmFyIHNpemVTdHlsZSA9IGZ1bmN0aW9uIHNpemVTdHlsZShwcm9wcykge1xuICAvLyBzaXplIGlzIGEgY29tYmluYXRpb24gb2YgdGhlIGxldmVsIGFuZCBzaXplIHByb3BlcnRpZXNcbiAgdmFyIHNpemUgPSBwcm9wcy5zaXplIHx8ICdtZWRpdW0nO1xuICB2YXIgZGF0YSA9IHByb3BzLnRoZW1lLmNsb2NrLmRpZ2l0YWwudGV4dFtzaXplXTtcbiAgcmV0dXJuIGNzcyhbXCJmb250LXNpemU6XCIsIFwiO2xpbmUtaGVpZ2h0OlwiLCBcIjtcIl0sIGRhdGEuc2l6ZSwgZGF0YS5oZWlnaHQpO1xufTtcblxudmFyIFN0eWxlZERpZ2l0YWxEaWdpdCA9IHN0eWxlZC5kaXYud2l0aENvbmZpZyh7XG4gIGRpc3BsYXlOYW1lOiBcIlN0eWxlZENsb2NrX19TdHlsZWREaWdpdGFsRGlnaXRcIixcbiAgY29tcG9uZW50SWQ6IFwieTR4dzhzLTRcIlxufSkoW1wicG9zaXRpb246cmVsYXRpdmU7d2lkdGg6MC44ZW07dGV4dC1hbGlnbjpjZW50ZXI7b3ZlcmZsb3c6aGlkZGVuO1wiLCBcIjtcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gc2l6ZVN0eWxlKHByb3BzKTtcbn0pO1xuU3R5bGVkRGlnaXRhbERpZ2l0LmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKFN0eWxlZERpZ2l0YWxEaWdpdC5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG52YXIgcHJldmlvdXNVcCA9IGtleWZyYW1lcyhbXCIwJXt0cmFuc2Zvcm06dHJhbnNsYXRlWSgwKTt9MTAwJXt0cmFuc2Zvcm06dHJhbnNsYXRlWSgtMTAwJSk7fVwiXSk7XG52YXIgcHJldmlvdXNEb3duID0ga2V5ZnJhbWVzKFtcIjAle3RyYW5zZm9ybTp0cmFuc2xhdGVZKDApO30xMDAle3RyYW5zZm9ybTp0cmFuc2xhdGVZKDEwMCUpO31cIl0pO1xudmFyIFN0eWxlZERpZ2l0YWxQcmV2aW91cyA9IHN0eWxlZC5kaXYud2l0aENvbmZpZyh7XG4gIGRpc3BsYXlOYW1lOiBcIlN0eWxlZENsb2NrX19TdHlsZWREaWdpdGFsUHJldmlvdXNcIixcbiAgY29tcG9uZW50SWQ6IFwieTR4dzhzLTVcIlxufSkoW1wicG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO3dpZHRoOjAuOGVtO3RleHQtYWxpZ246Y2VudGVyO2FuaW1hdGlvbjpcIiwgXCIgMC41cyBmb3J3YXJkcztcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuZGlyZWN0aW9uID09PSAnZG93bicgPyBwcmV2aW91c0Rvd24gOiBwcmV2aW91c1VwO1xufSk7XG5TdHlsZWREaWdpdGFsUHJldmlvdXMuZGVmYXVsdFByb3BzID0ge307XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoU3R5bGVkRGlnaXRhbFByZXZpb3VzLmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbnZhciBuZXh0VXAgPSBrZXlmcmFtZXMoW1wiMCV7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMTAwJSk7fTEwMCV7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCk7fVwiXSk7XG52YXIgbmV4dERvd24gPSBrZXlmcmFtZXMoW1wiMCV7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTEwMCUpO30xMDAle3RyYW5zZm9ybTp0cmFuc2xhdGVZKDApO31cIl0pO1xudmFyIFN0eWxlZERpZ2l0YWxOZXh0ID0gc3R5bGVkLmRpdi53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiU3R5bGVkQ2xvY2tfX1N0eWxlZERpZ2l0YWxOZXh0XCIsXG4gIGNvbXBvbmVudElkOiBcInk0eHc4cy02XCJcbn0pKFtcInBvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDt3aWR0aDowLjhlbTt0ZXh0LWFsaWduOmNlbnRlcjthbmltYXRpb246XCIsIFwiIDAuNXMgZm9yd2FyZHM7XCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLmRpcmVjdGlvbiA9PT0gJ2Rvd24nID8gbmV4dERvd24gOiBuZXh0VXA7XG59KTtcblN0eWxlZERpZ2l0YWxOZXh0LmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKFN0eWxlZERpZ2l0YWxOZXh0LmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbmV4cG9ydCB7IFN0eWxlZEhvdXIsIFN0eWxlZE1pbnV0ZSwgU3R5bGVkU2Vjb25kLCBTdHlsZWRBbmFsb2csIFN0eWxlZERpZ2l0YWxEaWdpdCwgU3R5bGVkRGlnaXRhbFByZXZpb3VzLCBTdHlsZWREaWdpdGFsTmV4dCB9OyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmltcG9ydCB7IGRlc2NyaWJlLCBQcm9wVHlwZXMgfSBmcm9tICdyZWFjdC1kZXNjJztcbmltcG9ydCB7IGdlbmVyaWNQcm9wcywgZ2V0QXZhaWxhYmxlQXRCYWRnZSB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmV4cG9ydCB2YXIgZG9jID0gZnVuY3Rpb24gZG9jKENsb2NrKSB7XG4gIHZhciBEb2N1bWVudGVkQ2xvY2sgPSBkZXNjcmliZShDbG9jaykuYXZhaWxhYmxlQXQoZ2V0QXZhaWxhYmxlQXRCYWRnZSgnQ2xvY2snKSkuZGVzY3JpcHRpb24oJ0EgY2xvY2sgd2l0aCB0aW1lem9uZSBhd2FyZW5lc3MuJykudXNhZ2UoXCJpbXBvcnQgeyBDbG9jayB9IGZyb20gJ2dyb21tZXQnO1xcbjxDbG9jayAvPlwiKS5pbnRyaW5zaWNFbGVtZW50KFsnZGl2JywgJ3N2ZyddKTtcbiAgRG9jdW1lbnRlZENsb2NrLnByb3BUeXBlcyA9IF9leHRlbmRzKHt9LCBnZW5lcmljUHJvcHMsIHtcbiAgICBob3VyTGltaXQ6IFByb3BUeXBlcy5vbmVPZihbMTIsIDI0LCAnMTInLCAnMjQnXSkuZGVzY3JpcHRpb24oJ1doZXRoZXIgdG8gcm9sbCBvdmVyIHRoZSBob3VycyBhZnRlciAxMiBvciBhZnRlciAyNC4nKS5kZWZhdWx0VmFsdWUoMjQpLFxuICAgIG9uQ2hhbmdlOiBQcm9wVHlwZXMuZnVuYy5kZXNjcmlwdGlvbihcIklmIHRoZSBjbG9jayBpcyBydW5uaW5nLCB0aGlzIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIHdpdGggdGhlXFxuICAgICAgY3VycmVudCB0aW1lIHZhbHVlIGVhY2ggdGltZSBpdCBjaGFuZ2VzLlwiKSxcbiAgICBwcmVjaXNpb246IFByb3BUeXBlcy5vbmVPZihbJ2hvdXJzJywgJ21pbnV0ZXMnLCAnc2Vjb25kcyddKS5kZXNjcmlwdGlvbignSG93IHByZWNpc2UgYSB0aW1lIHRvIHJlcHJlc2VudC4nKS5kZWZhdWx0VmFsdWUoJ3NlY29uZHMnKSxcbiAgICBydW46IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5ib29sLCBQcm9wVHlwZXMub25lT2YoWydiYWNrd2FyZCcsICdmb3J3YXJkJ10pXSkuZGVzY3JpcHRpb24oXCJXaGV0aGVyIHRoZSBjbG9jayBzaG91bGQgYWN0aXZlbHkgYWRqdXN0IHRpbWUgb3IgYmUgZml4ZWQgdG8gdGhlXFxuICAgICAgdGltZSBzcGVjaWZpZWQuICdiYWNrd2FyZCcgY291bGQgYmUgdXNlZCBhcyBhIGNvdW50ZG93biB0aW1lci5cIikuZGVmYXVsdFZhbHVlKCdmb3J3YXJkJyksXG4gICAgc2l6ZTogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFsnc21hbGwnLCAnbWVkaXVtJywgJ2xhcmdlJywgJ3hsYXJnZSddKSwgUHJvcFR5cGVzLnN0cmluZ10pLmRlc2NyaXB0aW9uKCdDbG9jayBzaXplJykuZGVmYXVsdFZhbHVlKCdtZWRpdW0nKSxcbiAgICB0aW1lOiBQcm9wVHlwZXMuc3RyaW5nLmRlc2NyaXB0aW9uKFwiSVNPODYwMSB0aW1lIG9yIGR1cmF0aW9uLiBGb3IgZXhhbXBsZTogJ1BUOEgxMk0yM1MnLFxcbiAgICAgICdUMDg6MTI6MjMnLCBvciAnMjAxNS0wMi0yMlQwODoxMjoyMycuIEFueSBpbmNsdWRlZCBkYXRlXFxuICAgICAgcG9ydGlvbiB3aWxsIGJlIGlnbm9yZWQgZm9yIGFuIGFuYWxvZyBjbG9jay4gSWYgbm90IHByb3ZpZGVkLCB0aGVcXG4gICAgICBjdXJyZW50IGJyb3dzZXIgdGltZSB3aWxsIGJlIHVzZWQuXCIpLFxuICAgIHR5cGU6IFByb3BUeXBlcy5vbmVPZihbJ2FuYWxvZycsICdkaWdpdGFsJ10pLmRlc2NyaXB0aW9uKCdXaGF0IHR5cGUgb2YgdmlzdWFsaXphdGlvbiB0byBzaG93LicpLmRlZmF1bHRWYWx1ZSgnYW5hbG9nJylcbiAgfSk7XG4gIHJldHVybiBEb2N1bWVudGVkQ2xvY2s7XG59O1xuZXhwb3J0IHZhciB0aGVtZURvYyA9IHtcbiAgJ2Nsb2NrLmFuYWxvZy5leHRlbmQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdBbnkgYWRkaXRpb25hbCBzdHlsZSBmb3IgQ2xvY2suJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgKHByb3BzKSA9PiB7fScsXG4gICAgZGVmYXVsdFZhbHVlOiB1bmRlZmluZWRcbiAgfSxcbiAgJ2Nsb2NrLmFuYWxvZy5ob3VyLmNvbG9yJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGNvbG9yIG9mIHRoZSBob3VyIGhhbmQuJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgeyBkYXJrOiBzdHJpbmcsIGxpZ2h0OiBzdHJpbmcgfScsXG4gICAgZGVmYXVsdFZhbHVlOiAneyBkYXJrOiBsaWdodC0yLCBsaWdodDogZGFyay0zIH0nXG4gIH0sXG4gICdjbG9jay5hbmFsb2cuaG91ci5zaGFwZSc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBzaGFwZSBvZiB0aGUgaG91ciBoYW5kJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICdyb3VuZCdcbiAgfSxcbiAgJ2Nsb2NrLmFuYWxvZy5ob3VyLnNpemUnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgbGVuZ3RoIG9mIHRoZSBob3VyIGhhbmQuJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICcyNHB4J1xuICB9LFxuICAnY2xvY2suYW5hbG9nLmhvdXIud2lkdGgnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgdGhpY2tuZXNzIG9mIHRoZSBob3VyIGhhbmQnLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogJzhweCdcbiAgfSxcbiAgJ2Nsb2NrLmFuYWxvZy5taW51dGUuY29sb3InOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgY29sb3Igb2YgdGhlIGhvdXIgbWludXRlLicsXG4gICAgdHlwZTogJ3N0cmluZyB8IHsgZGFyazogc3RyaW5nLCBsaWdodDogc3RyaW5nIH0nLFxuICAgIGRlZmF1bHRWYWx1ZTogJ3sgZGFyazogbGlnaHQtNCwgbGlnaHQ6IGRhcmstMyB9J1xuICB9LFxuICAnY2xvY2suYW5hbG9nLm1pbnV0ZS5zaGFwZSc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBzaGFwZSBvZiB0aGUgbWludXRlIGhhbmQuJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICdyb3VuZCdcbiAgfSxcbiAgJ2Nsb2NrLmFuYWxvZy5taW51dGUuc2l6ZSc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBsZW5ndGggb2YgdGhlIG1pbnV0ZSBoYW5kLicsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiAnMTJweCdcbiAgfSxcbiAgJ2Nsb2NrLmFuYWxvZy5taW51dGUud2lkdGgnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgdGhpY2tuZXNzIG9mIHRoZSBtaW51dGUgaGFuZC4nLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogJzRweCdcbiAgfSxcbiAgJ2Nsb2NrLmFuYWxvZy5zZWNvbmQuY29sb3InOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgY29sb3Igb2YgdGhlIHNlY29uZHMgaGFuZCcsXG4gICAgdHlwZTogJ3N0cmluZyB8IHsgZGFyazogc3RyaW5nLCBsaWdodDogc3RyaW5nIH0nLFxuICAgIGRlZmF1bHRWYWx1ZTogJ3sgZGFyazogYWNjZW50LTEsIGxpZ2h0OiBhY2NlbnQtMSB9J1xuICB9LFxuICAnY2xvY2suYW5hbG9nLnNlY29uZC5zaGFwZSc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBzaGFwZSBvZiB0aGUgc2Vjb25kcyBoYW5kLicsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiAncm91bmQnXG4gIH0sXG4gICdjbG9jay5hbmFsb2cuc2Vjb25kLnNpemUnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgbGVuZ3RoIG9mIHRoZSBzZWNvbmRzIGhhbmQuJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICcxMHB4J1xuICB9LFxuICAnY2xvY2suYW5hbG9nLnNlY29uZC53aWR0aCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSB0aGlja25lc3Mgb2YgdGhlIHNlY29uZHMgaGFuZC4nLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogJzNweCdcbiAgfSxcbiAgJ2Nsb2NrLmFuYWxvZy5zaXplLm1lZGl1bSc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSB3aG9sZSBzaXplIG9mIHRoZSBBbmFsb2cgY2xvY2snLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogJzk2cHgnXG4gIH1cbn07IiwiZXhwb3J0IHsgQ2xvY2sgfSBmcm9tICcuL0Nsb2NrJzsiLCJmdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzTG9vc2Uoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzLnByb3RvdHlwZSk7IHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzOyBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbmltcG9ydCBSZWFjdCwgeyBjcmVhdGVSZWYsIENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbXBvc2UgfSBmcm9tICdyZWNvbXBvc2UnO1xuaW1wb3J0IHN0eWxlZCwgeyB3aXRoVGhlbWUgfSBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBkZWZhdWx0UHJvcHMgfSBmcm9tICcuLi8uLi9kZWZhdWx0LXByb3BzJztcbmltcG9ydCB7IEJveCB9IGZyb20gJy4uL0JveCc7XG5cbnZhciBhbmltYXRlZEJveFByb3BlcnR5ID0gZnVuY3Rpb24gYW5pbWF0ZWRCb3hQcm9wZXJ0eShkaXJlY3Rpb24pIHtcbiAgcmV0dXJuIGRpcmVjdGlvbiA9PT0gJ2hvcml6b250YWwnID8gJ3dpZHRoJyA6ICdoZWlnaHQnO1xufTtcblxudmFyIEFuaW1hdGVkQm94ID0gc3R5bGVkKEJveCkud2l0aENvbmZpZyh7XG4gIGRpc3BsYXlOYW1lOiBcIkNvbGxhcHNpYmxlX19BbmltYXRlZEJveFwiLFxuICBjb21wb25lbnRJZDogXCJzYy0xNWtuaXVhLTBcIlxufSkoW1wiXCIsIFwiO1wiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiAhcHJvcHMuYW5pbWF0ZSAmJiAocHJvcHMub3BlbiA/IFwiXFxuICAgIG1heC1cIiArIGFuaW1hdGVkQm94UHJvcGVydHkocHJvcHMuY29sbGFwc2libGVEaXJlY3Rpb24pICsgXCI6IHVuc2V0O1xcbiAgICB2aXNpYmlsaXR5OiB2aXNpYmxlO1xcbiAgXCIgOiBcIlxcbiAgICBtYXgtXCIgKyBhbmltYXRlZEJveFByb3BlcnR5KHByb3BzLmNvbGxhcHNpYmxlRGlyZWN0aW9uKSArIFwiOiAwO1xcbiAgICB2aXNpYmlsaXR5OiBoaWRkZW47XFxuICAgIG92ZXJmbG93OiBoaWRkZW47XFxuICBcIik7XG59KTtcblxudmFyIENvbGxhcHNpYmxlID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKENvbGxhcHNpYmxlLCBfQ29tcG9uZW50KTtcblxuICBDb2xsYXBzaWJsZS5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPSBmdW5jdGlvbiBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMobmV4dFByb3BzLCBwcmV2U3RhdGUpIHtcbiAgICB2YXIgb3BlbiA9IG5leHRQcm9wcy5vcGVuO1xuXG4gICAgaWYgKG9wZW4gIT09IHByZXZTdGF0ZS5vcGVuKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBhbmltYXRlOiB0cnVlLFxuICAgICAgICBvcGVuOiBvcGVuXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIGZ1bmN0aW9uIENvbGxhcHNpYmxlKHByb3BzLCBjb250ZXh0KSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX3RoaXMgPSBfQ29tcG9uZW50LmNhbGwodGhpcywgcHJvcHMsIGNvbnRleHQpIHx8IHRoaXM7XG4gICAgLyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0L3Byb3AtdHlwZXMgKi9cblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJyZWZcIiwgY3JlYXRlUmVmKCkpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcImdldFNuYXBzaG90QmVmb3JlVXBkYXRlXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfdGhpcy5yZWYuY3VycmVudCAmJiBfdGhpcy5yZWYuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICB9KTtcblxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgb3BlbjogcHJvcHMub3BlbixcbiAgICAgIGFuaW1hdGU6IGZhbHNlXG4gICAgfTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICB2YXIgX3Byb3RvID0gQ29sbGFwc2libGUucHJvdG90eXBlO1xuXG4gIF9wcm90by5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzLCBwcmV2U3RhdGUsIHNuYXBzaG90KSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICB2YXIgX3RoaXMkcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICBkaXJlY3Rpb24gPSBfdGhpcyRwcm9wcy5kaXJlY3Rpb24sXG4gICAgICAgIF90aGlzJHByb3BzJHRoZW1lJGNvbCA9IF90aGlzJHByb3BzLnRoZW1lLmNvbGxhcHNpYmxlLFxuICAgICAgICBtaW5TcGVlZCA9IF90aGlzJHByb3BzJHRoZW1lJGNvbC5taW5TcGVlZCxcbiAgICAgICAgYmFzZWxpbmUgPSBfdGhpcyRwcm9wcyR0aGVtZSRjb2wuYmFzZWxpbmU7XG4gICAgdmFyIF90aGlzJHN0YXRlID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgYW5pbWF0ZSA9IF90aGlzJHN0YXRlLmFuaW1hdGUsXG4gICAgICAgIG9wZW4gPSBfdGhpcyRzdGF0ZS5vcGVuO1xuICAgIHZhciBjb250YWluZXIgPSB0aGlzLnJlZi5jdXJyZW50O1xuXG4gICAgaWYgKGNvbnRhaW5lcikge1xuICAgICAgdmFyIGRpbWVuc2lvbiA9IGFuaW1hdGVkQm94UHJvcGVydHkoZGlyZWN0aW9uKTtcbiAgICAgIHZhciBib3VkaW5nQ2xpZW50UmVjdCA9IGNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIHZhciBkaW1lbnNpb25TaXplID0gYm91ZGluZ0NsaWVudFJlY3RbZGltZW5zaW9uXTtcbiAgICAgIHZhciBzaG91bGRBbmltYXRlID0gYW5pbWF0ZSAmJiBwcmV2U3RhdGUub3BlbiAhPT0gb3BlbjtcblxuICAgICAgaWYgKG9wZW4gJiYgc25hcHNob3RbZGltZW5zaW9uXSAmJiBkaW1lbnNpb25TaXplICE9PSBzbmFwc2hvdFtkaW1lbnNpb25dKSB7XG4gICAgICAgIHNob3VsZEFuaW1hdGUgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoc2hvdWxkQW5pbWF0ZSkge1xuICAgICAgICBpZiAodGhpcy5hbmltYXRpb25UaW1lb3V0KSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuYW5pbWF0aW9uVGltZW91dCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc3BlZWQgPSBNYXRoLm1heChkaW1lbnNpb25TaXplIC8gYmFzZWxpbmUgKiBtaW5TcGVlZCwgbWluU3BlZWQpO1xuICAgICAgICBjb250YWluZXIuc3R5bGVbXCJtYXgtXCIgKyBkaW1lbnNpb25dID0gc25hcHNob3RbZGltZW5zaW9uXSArIFwicHhcIjtcbiAgICAgICAgY29udGFpbmVyLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGVuXG4gICAgICAgICAgICBjb250YWluZXIuc3R5bGUudHJhbnNpdGlvbiA9IFwibWF4LVwiICsgZGltZW5zaW9uICsgXCIgXCIgKyBzcGVlZCArIFwibXMsIHZpc2liaWxpdHkgNTBtc1wiO1xuICAgICAgICAgICAgY29udGFpbmVyLnN0eWxlW1wibWF4LVwiICsgZGltZW5zaW9uXSA9IG9wZW4gPyBkaW1lbnNpb25TaXplICsgXCJweFwiIDogJzBweCc7XG4gICAgICAgICAgICBfdGhpczIuYW5pbWF0aW9uVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBjb250YWluZXIucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xuXG4gICAgICAgICAgICAgIF90aGlzMi5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgYW5pbWF0ZTogZmFsc2VcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LCBzcGVlZCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBfcHJvdG8uY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBpZiAodGhpcy5hbmltYXRpb25UaW1lb3V0KSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5hbmltYXRpb25UaW1lb3V0KTtcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAvKiBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QvcHJvcC10eXBlcyAqL1xuICAgIHZhciBfdGhpcyRwcm9wczIgPSB0aGlzLnByb3BzLFxuICAgICAgICBjaGlsZHJlbiA9IF90aGlzJHByb3BzMi5jaGlsZHJlbixcbiAgICAgICAgZGlyZWN0aW9uID0gX3RoaXMkcHJvcHMyLmRpcmVjdGlvbjtcbiAgICB2YXIgX3RoaXMkc3RhdGUyID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgYW5pbWF0ZSA9IF90aGlzJHN0YXRlMi5hbmltYXRlLFxuICAgICAgICBvcGVuID0gX3RoaXMkc3RhdGUyLm9wZW47XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQW5pbWF0ZWRCb3gsIHtcbiAgICAgIFwiYXJpYS1oaWRkZW5cIjogIW9wZW4sXG4gICAgICByZWY6IHRoaXMucmVmLFxuICAgICAgb3Blbjogb3BlbixcbiAgICAgIGFuaW1hdGU6IGFuaW1hdGUsXG4gICAgICBjb2xsYXBzaWJsZURpcmVjdGlvbjogZGlyZWN0aW9uXG4gICAgfSwgY2hpbGRyZW4pO1xuICB9O1xuXG4gIHJldHVybiBDb2xsYXBzaWJsZTtcbn0oQ29tcG9uZW50KTtcblxuQ29sbGFwc2libGUuZGVmYXVsdFByb3BzID0ge307XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoQ29sbGFwc2libGUuZGVmYXVsdFByb3BzLCBkZWZhdWx0UHJvcHMpO1xudmFyIENvbGxhcHNpYmxlRG9jO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZ2xvYmFsLXJlcXVpcmVcbiAgQ29sbGFwc2libGVEb2MgPSByZXF1aXJlKCcuL2RvYycpLmRvYyhDb2xsYXBzaWJsZSk7XG59XG5cbnZhciBDb2xsYXBzaWJsZVdyYXBwZXIgPSBjb21wb3NlKHdpdGhUaGVtZSkoQ29sbGFwc2libGVEb2MgfHwgQ29sbGFwc2libGUpO1xuZXhwb3J0IHsgQ29sbGFwc2libGVXcmFwcGVyIGFzIENvbGxhcHNpYmxlIH07IiwiaW1wb3J0IHsgZGVzY3JpYmUsIFByb3BUeXBlcyB9IGZyb20gJ3JlYWN0LWRlc2MnO1xuZXhwb3J0IHZhciBkb2MgPSBmdW5jdGlvbiBkb2MoQ29sbGFwc2libGUpIHtcbiAgdmFyIERvY3VtZW50ZWRDb2xsYXBzaWJsZSA9IGRlc2NyaWJlKENvbGxhcHNpYmxlKS5kZXNjcmlwdGlvbignRXhwYW5kIG9yIGNvbGxhcHNlIGFuaW1hdGlvbi4nKS51c2FnZShcImltcG9ydCB7IENvbGxhcHNpYmxlIH0gZnJvbSAnZ3JvbW1ldCc7XFxuPENvbGxhcHNpYmxlIG9wZW4+dGVzdDwvQ29sbGFwc2libGU+XCIpLmludHJpbnNpY0VsZW1lbnQoJ2RpdicpO1xuICBEb2N1bWVudGVkQ29sbGFwc2libGUucHJvcFR5cGVzID0ge1xuICAgIG9wZW46IFByb3BUeXBlcy5ib29sLmRlc2NyaXB0aW9uKCdXaGV0aGVyIG9yIG5vdCB0aGUgY29tcG9uZW50IHNob3VsZCBiZSBvcGVuLicpLFxuICAgIGRpcmVjdGlvbjogUHJvcFR5cGVzLm9uZU9mKFsnaG9yaXpvbnRhbCcsICd2ZXJ0aWNhbCddKS5kZXNjcmlwdGlvbignRGlyZWN0aW9uIHRvIGFuaW1hdGUgdGhlIGNvbGxhcHNpYmxlIGNvbnRlbnQuJykuZGVmYXVsdFZhbHVlKCd2ZXJ0aWNhbCcpXG4gIH07XG4gIHJldHVybiBEb2N1bWVudGVkQ29sbGFwc2libGU7XG59O1xuZXhwb3J0IHZhciB0aGVtZURvYyA9IHtcbiAgJ2NvbGxhcHNpYmxlLm1pblNwZWVkJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIG1pbmltdW0gc3BlZWQgb2YgQ29sbGFwc2libGUgYW5pbWF0aW9uIGluIG1pbGxpc2Vjb25kcy4nLFxuICAgIHR5cGU6ICdudW1iZXInLFxuICAgIGRlZmF1bHRWYWx1ZTogMjAwXG4gIH0sXG4gICdjb2xsYXBzaWJsZS5iYXNlbGluZSc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ0RlZmF1bHQgaGVpZ2h0IHRvIGJlIHVzZWQgdG8gY2FsY3VsYXRlIHRoZSBvcHRpbWFsIGNvbGxhcHNpYmxlIHNwZWVkLicsXG4gICAgdHlwZTogJ251bWJlcicsXG4gICAgZGVmYXVsdFZhbHVlOiA1MDBcbiAgfSxcbiAgJ2NvbGxhcHNpYmxlLmV4dGVuZCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ0FueSBhZGRpdGlvbmFsIHN0eWxlIGZvciBDb2xsYXBzaWJsZS4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCAocHJvcHMpID0+IHt9JyxcbiAgICBkZWZhdWx0VmFsdWU6IHVuZGVmaW5lZFxuICB9XG59OyIsImV4cG9ydCB7IENvbGxhcHNpYmxlIH0gZnJvbSAnLi9Db2xsYXBzaWJsZSc7IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY29tcG9zZSB9IGZyb20gJ3JlY29tcG9zZSc7XG5pbXBvcnQgeyBJbmZpbml0ZVNjcm9sbCB9IGZyb20gJy4uL0luZmluaXRlU2Nyb2xsJztcbmltcG9ydCB7IFRhYmxlUm93IH0gZnJvbSAnLi4vVGFibGVSb3cnO1xuaW1wb3J0IHsgVGFibGVDZWxsIH0gZnJvbSAnLi4vVGFibGVDZWxsJztcbmltcG9ydCB7IEtleWJvYXJkIH0gZnJvbSAnLi4vS2V5Ym9hcmQnO1xuaW1wb3J0IHsgd2l0aEZvY3VzLCB3aXRoRm9yd2FyZFJlZiB9IGZyb20gJy4uL2hvY3MnO1xuaW1wb3J0IHsgQ2VsbCB9IGZyb20gJy4vQ2VsbCc7XG5pbXBvcnQgeyBTdHlsZWREYXRhVGFibGVCb2R5LCBTdHlsZWREYXRhVGFibGVSb3cgfSBmcm9tICcuL1N0eWxlZERhdGFUYWJsZSc7XG5pbXBvcnQgeyBkYXR1bVZhbHVlIH0gZnJvbSAnLi9idWlsZFN0YXRlJztcblxudmFyIEJvZHkgPSBmdW5jdGlvbiBCb2R5KF9yZWYpIHtcbiAgdmFyIGJhY2tncm91bmQgPSBfcmVmLmJhY2tncm91bmQsXG4gICAgICBib3JkZXIgPSBfcmVmLmJvcmRlcixcbiAgICAgIGNvbHVtbnMgPSBfcmVmLmNvbHVtbnMsXG4gICAgICBkYXRhID0gX3JlZi5kYXRhLFxuICAgICAgZm9yd2FyZFJlZiA9IF9yZWYuZm9yd2FyZFJlZixcbiAgICAgIG9uTW9yZSA9IF9yZWYub25Nb3JlLFxuICAgICAgcmVwbGFjZSA9IF9yZWYucmVwbGFjZSxcbiAgICAgIG9uQ2xpY2tSb3cgPSBfcmVmLm9uQ2xpY2tSb3csXG4gICAgICBwYWQgPSBfcmVmLnBhZCxcbiAgICAgIHByaW1hcnlQcm9wZXJ0eSA9IF9yZWYucHJpbWFyeVByb3BlcnR5LFxuICAgICAgcm93UHJvcHMgPSBfcmVmLnJvd1Byb3BzLFxuICAgICAgc2l6ZSA9IF9yZWYuc2l6ZSxcbiAgICAgIHN0ZXAgPSBfcmVmLnN0ZXAsXG4gICAgICB0aGVtZSA9IF9yZWYudGhlbWUsXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZiwgW1wiYmFja2dyb3VuZFwiLCBcImJvcmRlclwiLCBcImNvbHVtbnNcIiwgXCJkYXRhXCIsIFwiZm9yd2FyZFJlZlwiLCBcIm9uTW9yZVwiLCBcInJlcGxhY2VcIiwgXCJvbkNsaWNrUm93XCIsIFwicGFkXCIsIFwicHJpbWFyeVByb3BlcnR5XCIsIFwicm93UHJvcHNcIiwgXCJzaXplXCIsIFwic3RlcFwiLCBcInRoZW1lXCJdKTtcblxuICB2YXIgX1JlYWN0JHVzZVN0YXRlID0gUmVhY3QudXNlU3RhdGUoKSxcbiAgICAgIGFjdGl2ZSA9IF9SZWFjdCR1c2VTdGF0ZVswXSxcbiAgICAgIHNldEFjdGl2ZSA9IF9SZWFjdCR1c2VTdGF0ZVsxXTtcblxuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChLZXlib2FyZCwge1xuICAgIG9uRW50ZXI6IG9uQ2xpY2tSb3cgJiYgYWN0aXZlID49IDAgPyBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGV2ZW50LnBlcnNpc3QoKTtcbiAgICAgIHZhciBhZGp1c3RlZEV2ZW50ID0gZXZlbnQ7XG4gICAgICBhZGp1c3RlZEV2ZW50LmRhdHVtID0gZGF0YVthY3RpdmVdO1xuICAgICAgb25DbGlja1JvdyhhZGp1c3RlZEV2ZW50KTtcbiAgICB9IDogdW5kZWZpbmVkLFxuICAgIG9uVXA6IG9uQ2xpY2tSb3cgJiYgYWN0aXZlID8gZnVuY3Rpb24gKCkge1xuICAgICAgc2V0QWN0aXZlKGFjdGl2ZSAtIDEpO1xuICAgIH0gOiB1bmRlZmluZWQsXG4gICAgb25Eb3duOiBvbkNsaWNrUm93ICYmIGRhdGEubGVuZ3RoID8gZnVuY3Rpb24gKCkge1xuICAgICAgc2V0QWN0aXZlKGFjdGl2ZSA+PSAwID8gTWF0aC5taW4oYWN0aXZlICsgMSwgZGF0YS5sZW5ndGggLSAxKSA6IDApO1xuICAgIH0gOiB1bmRlZmluZWRcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWREYXRhVGFibGVCb2R5LCBfZXh0ZW5kcyh7XG4gICAgcmVmOiBmb3J3YXJkUmVmLFxuICAgIHNpemU6IHNpemUsXG4gICAgdGFiSW5kZXg6IG9uQ2xpY2tSb3cgPyAwIDogdW5kZWZpbmVkXG4gIH0sIHJlc3QpLCBSZWFjdC5jcmVhdGVFbGVtZW50KEluZmluaXRlU2Nyb2xsLCB7XG4gICAgaXRlbXM6IGRhdGEsXG4gICAgb25Nb3JlOiBvbk1vcmUsXG4gICAgcmVwbGFjZTogcmVwbGFjZSxcbiAgICByZW5kZXJNYXJrZXI6IGZ1bmN0aW9uIHJlbmRlck1hcmtlcihtYXJrZXIpIHtcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFRhYmxlUm93LCBudWxsLCBSZWFjdC5jcmVhdGVFbGVtZW50KFRhYmxlQ2VsbCwgbnVsbCwgbWFya2VyKSk7XG4gICAgfSxcbiAgICBzY3JvbGxhYmxlQW5jZXN0b3I6IFwid2luZG93XCIsXG4gICAgc3RlcDogc3RlcFxuICB9LCBmdW5jdGlvbiAoZGF0dW0sIGluZGV4KSB7XG4gICAgdmFyIHByaW1hcnlWYWx1ZSA9IHByaW1hcnlQcm9wZXJ0eSA/IGRhdHVtVmFsdWUoZGF0dW0sIHByaW1hcnlQcm9wZXJ0eSkgOiB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkRGF0YVRhYmxlUm93LCB7XG4gICAgICBrZXk6IHByaW1hcnlWYWx1ZSB8fCBpbmRleCxcbiAgICAgIHNpemU6IHNpemUsXG4gICAgICBhY3RpdmU6IGFjdGl2ZSA+PSAwID8gYWN0aXZlID09PSBpbmRleCA6IHVuZGVmaW5lZCxcbiAgICAgIG9uQ2xpY2s6IG9uQ2xpY2tSb3cgPyBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgLy8gZXh0cmFjdCBmcm9tIFJlYWN0J3Mgc3ludGhldGljIGV2ZW50IHBvb2xcbiAgICAgICAgZXZlbnQucGVyc2lzdCgpO1xuICAgICAgICB2YXIgYWRqdXN0ZWRFdmVudCA9IGV2ZW50O1xuICAgICAgICBhZGp1c3RlZEV2ZW50LmRhdHVtID0gZGF0dW07XG4gICAgICAgIGFkanVzdGVkRXZlbnQuaW5kZXggPSBpbmRleDtcbiAgICAgICAgb25DbGlja1JvdyhhZGp1c3RlZEV2ZW50KTtcbiAgICAgIH0gOiB1bmRlZmluZWQsXG4gICAgICBvbk1vdXNlT3Zlcjogb25DbGlja1JvdyA/IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHNldEFjdGl2ZShpbmRleCk7XG4gICAgICB9IDogdW5kZWZpbmVkLFxuICAgICAgb25Nb3VzZU91dDogb25DbGlja1JvdyA/IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHNldEFjdGl2ZSh1bmRlZmluZWQpO1xuICAgICAgfSA6IHVuZGVmaW5lZCxcbiAgICAgIG9uRm9jdXM6IG9uQ2xpY2tSb3cgPyBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBzZXRBY3RpdmUoaW5kZXgpO1xuICAgICAgfSA6IHVuZGVmaW5lZCxcbiAgICAgIG9uQmx1cjogb25DbGlja1JvdyA/IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHNldEFjdGl2ZSh1bmRlZmluZWQpO1xuICAgICAgfSA6IHVuZGVmaW5lZFxuICAgIH0sIGNvbHVtbnMubWFwKGZ1bmN0aW9uIChjb2x1bW4pIHtcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KENlbGwsIHtcbiAgICAgICAga2V5OiBjb2x1bW4ucHJvcGVydHksXG4gICAgICAgIGJhY2tncm91bmQ6IGJhY2tncm91bmQsXG4gICAgICAgIGJvcmRlcjogYm9yZGVyLFxuICAgICAgICBjb250ZXh0OiBcImJvZHlcIixcbiAgICAgICAgY29sdW1uOiBjb2x1bW4sXG4gICAgICAgIGRhdHVtOiBkYXR1bSxcbiAgICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgICBwYWQ6IHBhZCxcbiAgICAgICAgcHJpbWFyeVByb3BlcnR5OiBwcmltYXJ5UHJvcGVydHksXG4gICAgICAgIHJvd1Byb3A6IHJvd1Byb3BzICYmIHJvd1Byb3BzW3ByaW1hcnlWYWx1ZV0sXG4gICAgICAgIHNjb3BlOiBjb2x1bW4ucHJpbWFyeSB8fCBjb2x1bW4ucHJvcGVydHkgPT09IHByaW1hcnlQcm9wZXJ0eSA/ICdyb3cnIDogdW5kZWZpbmVkXG4gICAgICB9KTtcbiAgICB9KSk7XG4gIH0pKSk7XG59O1xuXG52YXIgQnV0dG9uV3JhcHBlciA9IGNvbXBvc2Uod2l0aEZvY3VzKCksIHdpdGhGb3J3YXJkUmVmKShCb2R5KTtcbmV4cG9ydCB7IEJ1dHRvbldyYXBwZXIgYXMgQm9keSB9OyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjb21wb3NlIH0gZnJvbSAncmVjb21wb3NlJztcbmltcG9ydCB7IHdpdGhUaGVtZSB9IGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCB7IGRlZmF1bHRQcm9wcyB9IGZyb20gJy4uLy4uL2RlZmF1bHQtcHJvcHMnO1xuaW1wb3J0IHsgVGFibGVDZWxsIH0gZnJvbSAnLi4vVGFibGVDZWxsJztcbmltcG9ydCB7IFRleHQgfSBmcm9tICcuLi9UZXh0JztcbmltcG9ydCB7IGRhdHVtVmFsdWUgfSBmcm9tICcuL2J1aWxkU3RhdGUnO1xuXG52YXIgbm9ybWFsaXplUHJvcCA9IGZ1bmN0aW9uIG5vcm1hbGl6ZVByb3AobmFtZSwgcm93UHJvcCwgcHJvcCkge1xuICBpZiAocm93UHJvcCAmJiByb3dQcm9wW25hbWVdKSByZXR1cm4gcm93UHJvcFtuYW1lXTtcbiAgcmV0dXJuIHByb3A7XG59O1xuXG52YXIgQ2VsbCA9IGZ1bmN0aW9uIENlbGwoX3JlZikge1xuICB2YXIgYmFja2dyb3VuZCA9IF9yZWYuYmFja2dyb3VuZCxcbiAgICAgIGJvcmRlciA9IF9yZWYuYm9yZGVyLFxuICAgICAgX3JlZiRjb2x1bW4gPSBfcmVmLmNvbHVtbixcbiAgICAgIGFsaWduID0gX3JlZiRjb2x1bW4uYWxpZ24sXG4gICAgICBwcm9wZXJ0eSA9IF9yZWYkY29sdW1uLnByb3BlcnR5LFxuICAgICAgcmVuZGVyID0gX3JlZiRjb2x1bW4ucmVuZGVyLFxuICAgICAgY29udGV4dCA9IF9yZWYuY29udGV4dCxcbiAgICAgIGRhdHVtID0gX3JlZi5kYXR1bSxcbiAgICAgIGluZGV4ID0gX3JlZi5pbmRleCxcbiAgICAgIHBhZCA9IF9yZWYucGFkLFxuICAgICAgcHJpbWFyeVByb3BlcnR5ID0gX3JlZi5wcmltYXJ5UHJvcGVydHksXG4gICAgICByb3dQcm9wID0gX3JlZi5yb3dQcm9wLFxuICAgICAgc2NvcGUgPSBfcmVmLnNjb3BlLFxuICAgICAgdGhlbWUgPSBfcmVmLnRoZW1lO1xuICB2YXIgdmFsdWUgPSBkYXR1bVZhbHVlKGRhdHVtLCBwcm9wZXJ0eSk7XG4gIHZhciBjb250ZW50O1xuXG4gIGlmIChyZW5kZXIpIHtcbiAgICBjb250ZW50ID0gcmVuZGVyKGRhdHVtKTtcbiAgfSBlbHNlIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgY29udGVudCA9IHZhbHVlO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgY29udGVudCA9PT0gJ251bWJlcicpIHtcbiAgICB2YXIgdGV4dFByb3BzID0gcHJvcGVydHkgPT09IHByaW1hcnlQcm9wZXJ0eSA/IHRoZW1lLmRhdGFUYWJsZS5wcmltYXJ5IDoge307XG4gICAgY29udGVudCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGV4dCwgdGV4dFByb3BzLCBjb250ZW50KTtcbiAgfVxuXG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFRhYmxlQ2VsbCwgX2V4dGVuZHMoe1xuICAgIHNjb3BlOiBzY29wZVxuICB9LCB0aGVtZS5kYXRhVGFibGVbY29udGV4dF0sIHtcbiAgICBhbGlnbjogYWxpZ24sXG4gICAgYmFja2dyb3VuZDogbm9ybWFsaXplUHJvcCgnYmFja2dyb3VuZCcsIHJvd1Byb3AsIEFycmF5LmlzQXJyYXkoYmFja2dyb3VuZCkgPyBiYWNrZ3JvdW5kW2luZGV4ICUgYmFja2dyb3VuZC5sZW5ndGhdIDogYmFja2dyb3VuZCksXG4gICAgYm9yZGVyOiBub3JtYWxpemVQcm9wKCdib3JkZXInLCByb3dQcm9wLCBib3JkZXIpLFxuICAgIHBhZDogbm9ybWFsaXplUHJvcCgncGFkJywgcm93UHJvcCwgcGFkKVxuICB9KSwgY29udGVudCk7XG59O1xuXG5DZWxsLmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKENlbGwuZGVmYXVsdFByb3BzLCBkZWZhdWx0UHJvcHMpO1xudmFyIENlbGxXcmFwcGVyID0gY29tcG9zZSh3aXRoVGhlbWUpKENlbGwpO1xuZXhwb3J0IHsgQ2VsbFdyYXBwZXIgYXMgQ2VsbCB9OyIsImZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0c0xvb3NlKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcy5wcm90b3R5cGUpOyBzdWJDbGFzcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBzdWJDbGFzczsgc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5pbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgSGVhZGVyIH0gZnJvbSAnLi9IZWFkZXInO1xuaW1wb3J0IHsgRm9vdGVyIH0gZnJvbSAnLi9Gb290ZXInO1xuaW1wb3J0IHsgQm9keSB9IGZyb20gJy4vQm9keSc7XG5pbXBvcnQgeyBHcm91cGVkQm9keSB9IGZyb20gJy4vR3JvdXBlZEJvZHknO1xuaW1wb3J0IHsgYnVpbGRTdGF0ZSB9IGZyb20gJy4vYnVpbGRTdGF0ZSc7XG5pbXBvcnQgeyBTdHlsZWREYXRhVGFibGUgfSBmcm9tICcuL1N0eWxlZERhdGFUYWJsZSc7XG52YXIgY29udGV4dHMgPSBbJ2hlYWRlcicsICdib2R5JywgJ2Zvb3RlciddO1xuXG52YXIgbm9ybWFsaXplUHJvcCA9IGZ1bmN0aW9uIG5vcm1hbGl6ZVByb3AocHJvcCwgY29udGV4dCkge1xuICBpZiAocHJvcCkge1xuICAgIGlmIChwcm9wW2NvbnRleHRdKSByZXR1cm4gcHJvcFtjb250ZXh0XTtcbiAgICBpZiAoY29udGV4dHMuc29tZShmdW5jdGlvbiAoYykge1xuICAgICAgcmV0dXJuIHByb3BbY107XG4gICAgfSkpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHByb3A7XG4gIH1cblxuICByZXR1cm4gdW5kZWZpbmVkO1xufTtcblxudmFyIERhdGFUYWJsZSA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBfaW5oZXJpdHNMb29zZShEYXRhVGFibGUsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIERhdGFUYWJsZSgpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgX3RoaXMgPSBfQ29tcG9uZW50LmNhbGwuYXBwbHkoX0NvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChhcmdzKSkgfHwgdGhpcztcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJzdGF0ZVwiLCB7fSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwib25GaWx0ZXJpbmdcIiwgZnVuY3Rpb24gKHByb3BlcnR5KSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGZpbHRlcmluZzogcHJvcGVydHlcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIm9uRmlsdGVyXCIsIGZ1bmN0aW9uIChwcm9wZXJ0eSwgdmFsdWUpIHtcbiAgICAgIC8qIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC9wcm9wLXR5cGVzICovXG4gICAgICB2YXIgb25TZWFyY2ggPSBfdGhpcy5wcm9wcy5vblNlYXJjaDtcbiAgICAgIHZhciBmaWx0ZXJzID0gX3RoaXMuc3RhdGUuZmlsdGVycztcblxuICAgICAgdmFyIG5leHRGaWx0ZXJzID0gX2V4dGVuZHMoe30sIGZpbHRlcnMpO1xuXG4gICAgICBuZXh0RmlsdGVyc1twcm9wZXJ0eV0gPSB2YWx1ZTtcblxuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBmaWx0ZXJzOiBuZXh0RmlsdGVyc1xuICAgICAgfSk7IC8vIExldCBjYWxsZXIga25vdyBhYm91dCBzZWFyY2gsIGlmIGludGVyZXN0ZWRcblxuXG4gICAgICBpZiAob25TZWFyY2gpIHtcbiAgICAgICAgb25TZWFyY2gobmV4dEZpbHRlcnMpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIm9uU29ydFwiLCBmdW5jdGlvbiAocHJvcGVydHkpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzb3J0ID0gX3RoaXMuc3RhdGUuc29ydDtcbiAgICAgICAgdmFyIGFzY2VuZGluZyA9IHNvcnQgJiYgcHJvcGVydHkgPT09IHNvcnQucHJvcGVydHkgPyAhc29ydC5hc2NlbmRpbmcgOiB0cnVlO1xuXG4gICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBzb3J0OiB7XG4gICAgICAgICAgICBwcm9wZXJ0eTogcHJvcGVydHksXG4gICAgICAgICAgICBhc2NlbmRpbmc6IGFzY2VuZGluZ1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIm9uVG9nZ2xlR3JvdXBcIiwgZnVuY3Rpb24gKGdyb3VwVmFsdWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBncm91cFN0YXRlID0gX3RoaXMuc3RhdGUuZ3JvdXBTdGF0ZTtcbiAgICAgICAgdmFyIGdyb3VwQnkgPSBfdGhpcy5wcm9wcy5ncm91cEJ5O1xuXG4gICAgICAgIHZhciBuZXh0R3JvdXBTdGF0ZSA9IF9leHRlbmRzKHt9LCBncm91cFN0YXRlKTtcblxuICAgICAgICBuZXh0R3JvdXBTdGF0ZVtncm91cFZhbHVlXSA9IF9leHRlbmRzKHt9LCBuZXh0R3JvdXBTdGF0ZVtncm91cFZhbHVlXSwge1xuICAgICAgICAgIGV4cGFuZGVkOiAhbmV4dEdyb3VwU3RhdGVbZ3JvdXBWYWx1ZV0uZXhwYW5kZWRcbiAgICAgICAgfSk7XG5cbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGdyb3VwU3RhdGU6IG5leHRHcm91cFN0YXRlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChncm91cEJ5Lm9uRXhwYW5kKSB7XG4gICAgICAgICAgdmFyIGV4cGFuZGVkS2V5cyA9IE9iamVjdC5rZXlzKG5leHRHcm91cFN0YXRlKS5maWx0ZXIoZnVuY3Rpb24gKGspIHtcbiAgICAgICAgICAgIHJldHVybiBuZXh0R3JvdXBTdGF0ZVtrXS5leHBhbmRlZDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBncm91cEJ5Lm9uRXhwYW5kKGV4cGFuZGVkS2V5cyk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwib25Ub2dnbGVHcm91cHNcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGdyb3VwU3RhdGUgPSBfdGhpcy5zdGF0ZS5ncm91cFN0YXRlO1xuICAgICAgdmFyIGdyb3VwQnkgPSBfdGhpcy5wcm9wcy5ncm91cEJ5O1xuICAgICAgdmFyIGV4cGFuZGVkID0gT2JqZWN0LmtleXMoZ3JvdXBTdGF0ZSkuZmlsdGVyKGZ1bmN0aW9uIChrKSB7XG4gICAgICAgIHJldHVybiAhZ3JvdXBTdGF0ZVtrXS5leHBhbmRlZDtcbiAgICAgIH0pLmxlbmd0aCA9PT0gMDtcbiAgICAgIHZhciBuZXh0R3JvdXBTdGF0ZSA9IHt9O1xuICAgICAgT2JqZWN0LmtleXMoZ3JvdXBTdGF0ZSkuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICAgICAgICBuZXh0R3JvdXBTdGF0ZVtrXSA9IF9leHRlbmRzKHt9LCBncm91cFN0YXRlW2tdLCB7XG4gICAgICAgICAgZXhwYW5kZWQ6ICFleHBhbmRlZFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGdyb3VwU3RhdGU6IG5leHRHcm91cFN0YXRlXG4gICAgICB9KTtcblxuICAgICAgaWYgKGdyb3VwQnkub25FeHBhbmQpIHtcbiAgICAgICAgdmFyIGV4cGFuZGVkS2V5cyA9IE9iamVjdC5rZXlzKG5leHRHcm91cFN0YXRlKS5maWx0ZXIoZnVuY3Rpb24gKGspIHtcbiAgICAgICAgICByZXR1cm4gbmV4dEdyb3VwU3RhdGVba10uZXhwYW5kZWQ7XG4gICAgICAgIH0pO1xuICAgICAgICBncm91cEJ5Lm9uRXhwYW5kKGV4cGFuZGVkS2V5cyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwib25SZXNpemVcIiwgZnVuY3Rpb24gKHByb3BlcnR5KSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKHdpZHRoKSB7XG4gICAgICAgIHZhciB3aWR0aHMgPSBfdGhpcy5zdGF0ZS53aWR0aHM7XG5cbiAgICAgICAgdmFyIG5leHRXaWR0aHMgPSBfZXh0ZW5kcyh7fSwgd2lkdGhzIHx8IHt9KTtcblxuICAgICAgICBuZXh0V2lkdGhzW3Byb3BlcnR5XSA9IHdpZHRoO1xuXG4gICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICB3aWR0aHM6IG5leHRXaWR0aHNcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgRGF0YVRhYmxlLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9IGZ1bmN0aW9uIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhuZXh0UHJvcHMsIHByZXZTdGF0ZSkge1xuICAgIHJldHVybiBidWlsZFN0YXRlKG5leHRQcm9wcywgcHJldlN0YXRlKTtcbiAgfTtcblxuICB2YXIgX3Byb3RvID0gRGF0YVRhYmxlLnByb3RvdHlwZTtcblxuICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfdGhpcyRwcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgIGJhY2tncm91bmQgPSBfdGhpcyRwcm9wcy5iYWNrZ3JvdW5kLFxuICAgICAgICBib3JkZXIgPSBfdGhpcyRwcm9wcy5ib3JkZXIsXG4gICAgICAgIGNvbHVtbnMgPSBfdGhpcyRwcm9wcy5jb2x1bW5zLFxuICAgICAgICBwcm9wc0RhdGEgPSBfdGhpcyRwcm9wcy5kYXRhLFxuICAgICAgICBncm91cEJ5ID0gX3RoaXMkcHJvcHMuZ3JvdXBCeSxcbiAgICAgICAgb25Nb3JlID0gX3RoaXMkcHJvcHMub25Nb3JlLFxuICAgICAgICByZXBsYWNlID0gX3RoaXMkcHJvcHMucmVwbGFjZSxcbiAgICAgICAgcGFkID0gX3RoaXMkcHJvcHMucGFkLFxuICAgICAgICByZXNpemVhYmxlID0gX3RoaXMkcHJvcHMucmVzaXplYWJsZSxcbiAgICAgICAgcm93UHJvcHMgPSBfdGhpcyRwcm9wcy5yb3dQcm9wcyxcbiAgICAgICAgc2l6ZSA9IF90aGlzJHByb3BzLnNpemUsXG4gICAgICAgIHNvcnRhYmxlID0gX3RoaXMkcHJvcHMuc29ydGFibGUsXG4gICAgICAgIHN0ZXAgPSBfdGhpcyRwcm9wcy5zdGVwLFxuICAgICAgICBvbkNsaWNrUm93ID0gX3RoaXMkcHJvcHMub25DbGlja1JvdyxcbiAgICAgICAgb25TZWFyY2ggPSBfdGhpcyRwcm9wcy5vblNlYXJjaCxcbiAgICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF90aGlzJHByb3BzLCBbXCJiYWNrZ3JvdW5kXCIsIFwiYm9yZGVyXCIsIFwiY29sdW1uc1wiLCBcImRhdGFcIiwgXCJncm91cEJ5XCIsIFwib25Nb3JlXCIsIFwicmVwbGFjZVwiLCBcInBhZFwiLCBcInJlc2l6ZWFibGVcIiwgXCJyb3dQcm9wc1wiLCBcInNpemVcIiwgXCJzb3J0YWJsZVwiLCBcInN0ZXBcIiwgXCJvbkNsaWNrUm93XCIsIFwib25TZWFyY2hcIl0pO1xuXG4gICAgdmFyIF90aGlzJHN0YXRlID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgZGF0YSA9IF90aGlzJHN0YXRlLmRhdGEsXG4gICAgICAgIGZpbHRlcmluZyA9IF90aGlzJHN0YXRlLmZpbHRlcmluZyxcbiAgICAgICAgZmlsdGVycyA9IF90aGlzJHN0YXRlLmZpbHRlcnMsXG4gICAgICAgIGZvb3RlclZhbHVlcyA9IF90aGlzJHN0YXRlLmZvb3RlclZhbHVlcyxcbiAgICAgICAgZ3JvdXBzID0gX3RoaXMkc3RhdGUuZ3JvdXBzLFxuICAgICAgICBncm91cFN0YXRlID0gX3RoaXMkc3RhdGUuZ3JvdXBTdGF0ZSxcbiAgICAgICAgcHJpbWFyeVByb3BlcnR5ID0gX3RoaXMkc3RhdGUucHJpbWFyeVByb3BlcnR5LFxuICAgICAgICBzaG93Rm9vdGVyID0gX3RoaXMkc3RhdGUuc2hvd0Zvb3RlcixcbiAgICAgICAgc29ydCA9IF90aGlzJHN0YXRlLnNvcnQsXG4gICAgICAgIHdpZHRocyA9IF90aGlzJHN0YXRlLndpZHRocztcblxuICAgIGlmIChzaXplICYmIHJlc2l6ZWFibGUpIHtcbiAgICAgIGNvbnNvbGUud2FybignRGF0YVRhYmxlIGNhbm5vdCBjb21iaW5lIFwic2l6ZVwiIGFuZCBcInJlc2l6ZWJsZVwiLicpO1xuICAgIH1cblxuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZERhdGFUYWJsZSwgcmVzdCwgUmVhY3QuY3JlYXRlRWxlbWVudChIZWFkZXIsIHtcbiAgICAgIGJhY2tncm91bmQ6IG5vcm1hbGl6ZVByb3AoYmFja2dyb3VuZCwgJ2hlYWRlcicpLFxuICAgICAgYm9yZGVyOiBub3JtYWxpemVQcm9wKGJvcmRlciwgJ2hlYWRlcicpLFxuICAgICAgY29sdW1uczogY29sdW1ucyxcbiAgICAgIGZpbHRlcmluZzogZmlsdGVyaW5nLFxuICAgICAgZmlsdGVyczogZmlsdGVycyxcbiAgICAgIGdyb3VwczogZ3JvdXBzLFxuICAgICAgZ3JvdXBTdGF0ZTogZ3JvdXBTdGF0ZSxcbiAgICAgIHBhZDogbm9ybWFsaXplUHJvcChwYWQsICdoZWFkZXInKSxcbiAgICAgIHNpemU6IHNpemUsXG4gICAgICBzb3J0OiBzb3J0LFxuICAgICAgd2lkdGhzOiB3aWR0aHMsXG4gICAgICBvbkZpbHRlcmluZzogdGhpcy5vbkZpbHRlcmluZyxcbiAgICAgIG9uRmlsdGVyOiB0aGlzLm9uRmlsdGVyLFxuICAgICAgb25SZXNpemU6IHJlc2l6ZWFibGUgPyB0aGlzLm9uUmVzaXplIDogdW5kZWZpbmVkLFxuICAgICAgb25Tb3J0OiBzb3J0YWJsZSA/IHRoaXMub25Tb3J0IDogdW5kZWZpbmVkLFxuICAgICAgb25Ub2dnbGU6IHRoaXMub25Ub2dnbGVHcm91cHNcbiAgICB9KSwgZ3JvdXBzID8gUmVhY3QuY3JlYXRlRWxlbWVudChHcm91cGVkQm9keSwge1xuICAgICAgYmFja2dyb3VuZDogbm9ybWFsaXplUHJvcChiYWNrZ3JvdW5kLCAnYm9keScpLFxuICAgICAgYm9yZGVyOiBub3JtYWxpemVQcm9wKGJvcmRlciwgJ2JvZHknKSxcbiAgICAgIGNvbHVtbnM6IGNvbHVtbnMsXG4gICAgICBncm91cEJ5OiBncm91cEJ5LnByb3BlcnR5ID8gZ3JvdXBCeS5wcm9wZXJ0eSA6IGdyb3VwQnksXG4gICAgICBncm91cHM6IGdyb3VwcyxcbiAgICAgIGdyb3VwU3RhdGU6IGdyb3VwU3RhdGUsXG4gICAgICBwYWQ6IG5vcm1hbGl6ZVByb3AocGFkLCAnYm9keScpLFxuICAgICAgcHJpbWFyeVByb3BlcnR5OiBwcmltYXJ5UHJvcGVydHksXG4gICAgICBvblRvZ2dsZTogdGhpcy5vblRvZ2dsZUdyb3VwLFxuICAgICAgc2l6ZTogc2l6ZVxuICAgIH0pIDogUmVhY3QuY3JlYXRlRWxlbWVudChCb2R5LCB7XG4gICAgICBiYWNrZ3JvdW5kOiBub3JtYWxpemVQcm9wKGJhY2tncm91bmQsICdib2R5JyksXG4gICAgICBib3JkZXI6IG5vcm1hbGl6ZVByb3AoYm9yZGVyLCAnYm9keScpLFxuICAgICAgY29sdW1uczogY29sdW1ucyxcbiAgICAgIGRhdGE6IGRhdGEsXG4gICAgICBvbk1vcmU6IG9uTW9yZSxcbiAgICAgIHJlcGxhY2U6IHJlcGxhY2UsXG4gICAgICBvbkNsaWNrUm93OiBvbkNsaWNrUm93LFxuICAgICAgcGFkOiBub3JtYWxpemVQcm9wKHBhZCwgJ2JvZHknKSxcbiAgICAgIHByaW1hcnlQcm9wZXJ0eTogcHJpbWFyeVByb3BlcnR5LFxuICAgICAgcm93UHJvcHM6IHJvd1Byb3BzLFxuICAgICAgc2l6ZTogc2l6ZSxcbiAgICAgIHN0ZXA6IHN0ZXBcbiAgICB9KSwgc2hvd0Zvb3RlciAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KEZvb3Rlciwge1xuICAgICAgYmFja2dyb3VuZDogbm9ybWFsaXplUHJvcChiYWNrZ3JvdW5kLCAnZm9vdGVyJyksXG4gICAgICBib3JkZXI6IG5vcm1hbGl6ZVByb3AoYm9yZGVyLCAnZm9vdGVyJyksXG4gICAgICBjb2x1bW5zOiBjb2x1bW5zLFxuICAgICAgZm9vdGVyVmFsdWVzOiBmb290ZXJWYWx1ZXMsXG4gICAgICBncm91cHM6IGdyb3VwcyxcbiAgICAgIHBhZDogbm9ybWFsaXplUHJvcChwYWQsICdmb290ZXInKSxcbiAgICAgIHByaW1hcnlQcm9wZXJ0eTogcHJpbWFyeVByb3BlcnR5LFxuICAgICAgc2l6ZTogc2l6ZVxuICAgIH0pKTtcbiAgfTtcblxuICByZXR1cm4gRGF0YVRhYmxlO1xufShDb21wb25lbnQpO1xuXG5fZGVmaW5lUHJvcGVydHkoRGF0YVRhYmxlLCBcImRlZmF1bHRQcm9wc1wiLCB7XG4gIGNvbHVtbnM6IFtdLFxuICBkYXRhOiBbXSxcbiAgc3RlcDogNTBcbn0pO1xuXG52YXIgRGF0YVRhYmxlRG9jO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZ2xvYmFsLXJlcXVpcmVcbiAgRGF0YVRhYmxlRG9jID0gcmVxdWlyZSgnLi9kb2MnKS5kb2MoRGF0YVRhYmxlKTtcbn1cblxudmFyIERhdGFUYWJsZVdyYXBwZXIgPSBEYXRhVGFibGVEb2MgfHwgRGF0YVRhYmxlO1xuZXhwb3J0IHsgRGF0YVRhYmxlV3JhcHBlciBhcyBEYXRhVGFibGUgfTsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjb21wb3NlIH0gZnJvbSAncmVjb21wb3NlJztcbmltcG9ydCB7IHdpdGhUaGVtZSB9IGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCB7IGRlZmF1bHRQcm9wcyB9IGZyb20gJy4uLy4uL2RlZmF1bHQtcHJvcHMnO1xuaW1wb3J0IHsgQm94IH0gZnJvbSAnLi4vQm94JztcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJy4uL0J1dHRvbic7XG5pbXBvcnQgeyBUYWJsZUNlbGwgfSBmcm9tICcuLi9UYWJsZUNlbGwnO1xuaW1wb3J0IHsgbm9ybWFsaXplQ29sb3IgfSBmcm9tICcuLi8uLi91dGlscyc7XG5cbnZhciBFeHBhbmRlckNlbGwgPSBmdW5jdGlvbiBFeHBhbmRlckNlbGwoX3JlZikge1xuICB2YXIgY29udGV4dCA9IF9yZWYuY29udGV4dCxcbiAgICAgIGV4cGFuZGVkID0gX3JlZi5leHBhbmRlZCxcbiAgICAgIG9uVG9nZ2xlID0gX3JlZi5vblRvZ2dsZSxcbiAgICAgIHRoZW1lID0gX3JlZi50aGVtZSxcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfcmVmLCBbXCJjb250ZXh0XCIsIFwiZXhwYW5kZWRcIiwgXCJvblRvZ2dsZVwiLCBcInRoZW1lXCJdKTtcblxuICB2YXIgY29udGVudDtcblxuICBpZiAob25Ub2dnbGUpIHtcbiAgICB2YXIgRXhwYW5kSWNvbiA9IHRoZW1lLmRhdGFUYWJsZS5pY29uc1tleHBhbmRlZCA/ICdjb250cmFjdCcgOiAnZXhwYW5kJ107XG4gICAgY29udGVudCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoRXhwYW5kSWNvbiwge1xuICAgICAgY29sb3I6IG5vcm1hbGl6ZUNvbG9yKCdib3JkZXInLCB0aGVtZSlcbiAgICB9KTtcbiAgfVxuXG4gIHZhciBub3JtYWxpemVkVGhlbWVQcm9wcyA9IF9leHRlbmRzKHt9LCB0aGVtZS50YWJsZVtjb250ZXh0XSwge30sIHRoZW1lLmRhdGFUYWJsZVtjb250ZXh0XSk7XG5cbiAgZGVsZXRlIG5vcm1hbGl6ZWRUaGVtZVByb3BzLmJhY2tncm91bmQ7XG4gIGRlbGV0ZSBub3JtYWxpemVkVGhlbWVQcm9wcy5ib3JkZXI7XG4gIGRlbGV0ZSBub3JtYWxpemVkVGhlbWVQcm9wcy5wYWQ7XG4gIGNvbnRlbnQgPSBSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwgX2V4dGVuZHMoe30sIG5vcm1hbGl6ZWRUaGVtZVByb3BzLCByZXN0LCB7XG4gICAgYWxpZ246IFwiY2VudGVyXCIsXG4gICAgcGFkOiBcInhzbWFsbFwiXG4gIH0pLCBjb250ZW50KTtcblxuICBpZiAob25Ub2dnbGUpIHtcbiAgICBjb250ZW50ID0gUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtcbiAgICAgIGZpbGw6IHRydWUsXG4gICAgICBhMTF5VGl0bGU6IGV4cGFuZGVkID8gJ2NvbGxhcHNlJyA6ICdleHBhbmQnLFxuICAgICAgaG92ZXJJbmRpY2F0b3I6IHRydWUsXG4gICAgICBkaXNhYmxlZDogIW9uVG9nZ2xlLFxuICAgICAgb25DbGljazogb25Ub2dnbGVcbiAgICB9LCBjb250ZW50KTtcbiAgfVxuXG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFRhYmxlQ2VsbCwge1xuICAgIHNpemU6IFwieHhzbWFsbFwiLFxuICAgIHBsYWluOiB0cnVlLFxuICAgIHZlcnRpY2FsQWxpZ246IGNvbnRleHQgPT09ICdncm91cEVuZCcgPyAnYm90dG9tJyA6ICd0b3AnLFxuICAgIHBhZDogXCJub25lXCJcbiAgfSwgY29udGVudCk7XG59O1xuXG5FeHBhbmRlckNlbGwuZGVmYXVsdFByb3BzID0ge307XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoRXhwYW5kZXJDZWxsLmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbnZhciBFeHBhbmRlckNlbGxXcmFwcGVyID0gY29tcG9zZSh3aXRoVGhlbWUpKEV4cGFuZGVyQ2VsbCk7XG5leHBvcnQgeyBFeHBhbmRlckNlbGxXcmFwcGVyIGFzIEV4cGFuZGVyQ2VsbCB9OyIsImZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbXBvc2UgfSBmcm9tICdyZWNvbXBvc2UnO1xuaW1wb3J0IHsgd2l0aFRoZW1lIH0gZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgZGVmYXVsdFByb3BzIH0gZnJvbSAnLi4vLi4vZGVmYXVsdC1wcm9wcyc7XG5pbXBvcnQgeyBUYWJsZVJvdyB9IGZyb20gJy4uL1RhYmxlUm93JztcbmltcG9ydCB7IFRhYmxlQ2VsbCB9IGZyb20gJy4uL1RhYmxlQ2VsbCc7XG5pbXBvcnQgeyBDZWxsIH0gZnJvbSAnLi9DZWxsJztcbmltcG9ydCB7IFN0eWxlZERhdGFUYWJsZUZvb3RlciB9IGZyb20gJy4vU3R5bGVkRGF0YVRhYmxlJztcblxudmFyIEZvb3RlciA9IGZ1bmN0aW9uIEZvb3RlcihfcmVmKSB7XG4gIHZhciBiYWNrZ3JvdW5kID0gX3JlZi5iYWNrZ3JvdW5kLFxuICAgICAgYm9yZGVyID0gX3JlZi5ib3JkZXIsXG4gICAgICBjb2x1bW5zID0gX3JlZi5jb2x1bW5zLFxuICAgICAgZm9vdGVyVmFsdWVzID0gX3JlZi5mb290ZXJWYWx1ZXMsXG4gICAgICBncm91cHMgPSBfcmVmLmdyb3VwcyxcbiAgICAgIHBhZCA9IF9yZWYucGFkLFxuICAgICAgcHJpbWFyeVByb3BlcnR5ID0gX3JlZi5wcmltYXJ5UHJvcGVydHksXG4gICAgICB0aGVtZSA9IF9yZWYudGhlbWUsXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZiwgW1wiYmFja2dyb3VuZFwiLCBcImJvcmRlclwiLCBcImNvbHVtbnNcIiwgXCJmb290ZXJWYWx1ZXNcIiwgXCJncm91cHNcIiwgXCJwYWRcIiwgXCJwcmltYXJ5UHJvcGVydHlcIiwgXCJ0aGVtZVwiXSk7XG5cbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkRGF0YVRhYmxlRm9vdGVyLCByZXN0LCBSZWFjdC5jcmVhdGVFbGVtZW50KFRhYmxlUm93LCBudWxsLCBncm91cHMgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChUYWJsZUNlbGwsIHtcbiAgICBwbGFpbjogdHJ1ZSxcbiAgICBzaXplOiBcInh4c21hbGxcIixcbiAgICBwYWQ6IFwibm9uZVwiLFxuICAgIHZlcnRpY2FsQWxpZ246IFwidG9wXCJcbiAgfSksIGNvbHVtbnMubWFwKGZ1bmN0aW9uIChjb2x1bW4pIHtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChDZWxsLCB7XG4gICAgICBrZXk6IGNvbHVtbi5wcm9wZXJ0eSxcbiAgICAgIGJhY2tncm91bmQ6IGJhY2tncm91bmQsXG4gICAgICBib3JkZXI6IGJvcmRlcixcbiAgICAgIGNvbnRleHQ6IFwiZm9vdGVyXCIsXG4gICAgICBjb2x1bW46IGNvbHVtbixcbiAgICAgIGRhdHVtOiBmb290ZXJWYWx1ZXMsXG4gICAgICBwYWQ6IHBhZCxcbiAgICAgIHByaW1hcnlQcm9wZXJ0eTogcHJpbWFyeVByb3BlcnR5XG4gICAgfSk7XG4gIH0pKSk7XG59O1xuXG5Gb290ZXIuZGVmYXVsdFByb3BzID0ge307XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoRm9vdGVyLmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbnZhciBGb290ZXJXcmFwcGVyID0gY29tcG9zZSh3aXRoVGhlbWUpKEZvb3Rlcik7XG5leHBvcnQgeyBGb290ZXJXcmFwcGVyIGFzIEZvb3RlciB9OyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuaW1wb3J0IFJlYWN0LCB7IEZyYWdtZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgQ2VsbCB9IGZyb20gJy4vQ2VsbCc7XG5pbXBvcnQgeyBFeHBhbmRlckNlbGwgfSBmcm9tICcuL0V4cGFuZGVyQ2VsbCc7XG5pbXBvcnQgeyBTdHlsZWREYXRhVGFibGVCb2R5LCBTdHlsZWREYXRhVGFibGVSb3cgfSBmcm9tICcuL1N0eWxlZERhdGFUYWJsZSc7XG5leHBvcnQgdmFyIEdyb3VwZWRCb2R5ID0gZnVuY3Rpb24gR3JvdXBlZEJvZHkoX3JlZikge1xuICB2YXIgYmFja2dyb3VuZCA9IF9yZWYuYmFja2dyb3VuZCxcbiAgICAgIGJvcmRlciA9IF9yZWYuYm9yZGVyLFxuICAgICAgY29sdW1ucyA9IF9yZWYuY29sdW1ucyxcbiAgICAgIGdyb3VwQnkgPSBfcmVmLmdyb3VwQnksXG4gICAgICBncm91cHMgPSBfcmVmLmdyb3VwcyxcbiAgICAgIGdyb3VwU3RhdGUgPSBfcmVmLmdyb3VwU3RhdGUsXG4gICAgICBwYWQgPSBfcmVmLnBhZCxcbiAgICAgIHByaW1hcnlQcm9wZXJ0eSA9IF9yZWYucHJpbWFyeVByb3BlcnR5LFxuICAgICAgb25Ub2dnbGUgPSBfcmVmLm9uVG9nZ2xlLFxuICAgICAgc2l6ZSA9IF9yZWYuc2l6ZSxcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfcmVmLCBbXCJiYWNrZ3JvdW5kXCIsIFwiYm9yZGVyXCIsIFwiY29sdW1uc1wiLCBcImdyb3VwQnlcIiwgXCJncm91cHNcIiwgXCJncm91cFN0YXRlXCIsIFwicGFkXCIsIFwicHJpbWFyeVByb3BlcnR5XCIsIFwib25Ub2dnbGVcIiwgXCJzaXplXCJdKTtcblxuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWREYXRhVGFibGVCb2R5LCBfZXh0ZW5kcyh7XG4gICAgc2l6ZTogc2l6ZVxuICB9LCByZXN0KSwgZ3JvdXBzLm1hcChmdW5jdGlvbiAoZ3JvdXApIHtcbiAgICB2YXIgZXhwYW5kZWQgPSBncm91cFN0YXRlW2dyb3VwLmtleV0uZXhwYW5kZWQ7XG4gICAgdmFyIG1lbWJlckNvdW50ID0gZ3JvdXAuZGF0YS5sZW5ndGg7XG4gICAgdmFyIGNvbnRlbnQgPSBtZW1iZXJDb3VudCA+IDEgPyBSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZERhdGFUYWJsZVJvdywge1xuICAgICAga2V5OiBncm91cC5rZXksXG4gICAgICBzaXplOiBzaXplXG4gICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChFeHBhbmRlckNlbGwsIHtcbiAgICAgIGNvbnRleHQ6IGV4cGFuZGVkID8gJ2dyb3VwSGVhZGVyJyA6ICdib2R5JyxcbiAgICAgIGV4cGFuZGVkOiBleHBhbmRlZCxcbiAgICAgIG9uVG9nZ2xlOiBvblRvZ2dsZShncm91cC5rZXkpXG4gICAgfSksIGNvbHVtbnMubWFwKGZ1bmN0aW9uIChjb2x1bW4pIHtcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KENlbGwsIHtcbiAgICAgICAga2V5OiBjb2x1bW4ucHJvcGVydHksXG4gICAgICAgIGJhY2tncm91bmQ6IGJhY2tncm91bmQsXG4gICAgICAgIGJvcmRlcjogYm9yZGVyLFxuICAgICAgICBjb250ZXh0OiBleHBhbmRlZCA/ICdncm91cEhlYWRlcicgOiAnYm9keScsXG4gICAgICAgIGNvbHVtbjogY29sdW1uLFxuICAgICAgICBkYXR1bTogZ3JvdXAuZGF0dW0sXG4gICAgICAgIHBhZDogcGFkLFxuICAgICAgICBzY29wZTogY29sdW1uLnByb3BlcnR5ID09PSBncm91cEJ5ID8gJ3JvdycgOiB1bmRlZmluZWRcbiAgICAgIH0pO1xuICAgIH0pKSA6IG51bGw7XG5cbiAgICBpZiAobWVtYmVyQ291bnQgPT09IDEgfHwgZXhwYW5kZWQpIHtcbiAgICAgIGNvbnRlbnQgPSBSZWFjdC5jcmVhdGVFbGVtZW50KEZyYWdtZW50LCB7XG4gICAgICAgIGtleTogZ3JvdXAua2V5XG4gICAgICB9LCBjb250ZW50LCBncm91cC5kYXRhLm1hcChmdW5jdGlvbiAoZGF0dW0sIGluZGV4KSB7XG4gICAgICAgIHZhciBjb250ZXh0ID0gbWVtYmVyQ291bnQgPiAxICYmIGluZGV4ID09PSBtZW1iZXJDb3VudCAtIDEgPyAnZ3JvdXBFbmQnIDogJ2JvZHknO1xuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWREYXRhVGFibGVSb3csIHtcbiAgICAgICAgICBrZXk6IGRhdHVtW3ByaW1hcnlQcm9wZXJ0eV0sXG4gICAgICAgICAgc2l6ZTogc2l6ZVxuICAgICAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KEV4cGFuZGVyQ2VsbCwge1xuICAgICAgICAgIGNvbnRleHQ6IGNvbnRleHRcbiAgICAgICAgfSksIGNvbHVtbnMubWFwKGZ1bmN0aW9uIChjb2x1bW4pIHtcbiAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChDZWxsLCB7XG4gICAgICAgICAgICBrZXk6IGNvbHVtbi5wcm9wZXJ0eSxcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IGJhY2tncm91bmQsXG4gICAgICAgICAgICBib3JkZXI6IGJvcmRlcixcbiAgICAgICAgICAgIGNvbnRleHQ6IGNvbnRleHQsXG4gICAgICAgICAgICBjb2x1bW46IGNvbHVtbixcbiAgICAgICAgICAgIGRhdHVtOiBkYXR1bSxcbiAgICAgICAgICAgIHBhZDogcGFkLFxuICAgICAgICAgICAgc2NvcGU6IGNvbHVtbi5wcmltYXJ5ID8gJ3JvdycgOiB1bmRlZmluZWRcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSkpO1xuICAgICAgfSkpO1xuICAgIH1cblxuICAgIHJldHVybiBjb250ZW50O1xuICB9KSk7XG59OyIsImZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbXBvc2UgfSBmcm9tICdyZWNvbXBvc2UnO1xuaW1wb3J0IHsgd2l0aFRoZW1lIH0gZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgZGVmYXVsdFByb3BzIH0gZnJvbSAnLi4vLi4vZGVmYXVsdC1wcm9wcyc7XG5pbXBvcnQgeyBCb3ggfSBmcm9tICcuLi9Cb3gnO1xuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnLi4vQnV0dG9uJztcbmltcG9ydCB7IFRhYmxlQ2VsbCB9IGZyb20gJy4uL1RhYmxlQ2VsbCc7XG5pbXBvcnQgeyBUZXh0IH0gZnJvbSAnLi4vVGV4dCc7XG5pbXBvcnQgeyBSZXNpemVyIH0gZnJvbSAnLi9SZXNpemVyJztcbmltcG9ydCB7IFNlYXJjaGVyIH0gZnJvbSAnLi9TZWFyY2hlcic7XG5pbXBvcnQgeyBFeHBhbmRlckNlbGwgfSBmcm9tICcuL0V4cGFuZGVyQ2VsbCc7XG5pbXBvcnQgeyBTdHlsZWREYXRhVGFibGVIZWFkZXIsIFN0eWxlZERhdGFUYWJsZVJvdyB9IGZyb20gJy4vU3R5bGVkRGF0YVRhYmxlJztcblxudmFyIEhlYWRlciA9IGZ1bmN0aW9uIEhlYWRlcihfcmVmKSB7XG4gIHZhciBiYWNrZ3JvdW5kID0gX3JlZi5iYWNrZ3JvdW5kLFxuICAgICAgYm9yZGVyID0gX3JlZi5ib3JkZXIsXG4gICAgICBjb2x1bW5zID0gX3JlZi5jb2x1bW5zLFxuICAgICAgZmlsdGVyaW5nID0gX3JlZi5maWx0ZXJpbmcsXG4gICAgICBmaWx0ZXJzID0gX3JlZi5maWx0ZXJzLFxuICAgICAgZ3JvdXBzID0gX3JlZi5ncm91cHMsXG4gICAgICBncm91cFN0YXRlID0gX3JlZi5ncm91cFN0YXRlLFxuICAgICAgb25GaWx0ZXIgPSBfcmVmLm9uRmlsdGVyLFxuICAgICAgb25GaWx0ZXJpbmcgPSBfcmVmLm9uRmlsdGVyaW5nLFxuICAgICAgb25SZXNpemUgPSBfcmVmLm9uUmVzaXplLFxuICAgICAgb25Tb3J0ID0gX3JlZi5vblNvcnQsXG4gICAgICBvblRvZ2dsZSA9IF9yZWYub25Ub2dnbGUsXG4gICAgICBwYWQgPSBfcmVmLnBhZCxcbiAgICAgIHNvcnQgPSBfcmVmLnNvcnQsXG4gICAgICB0aGVtZSA9IF9yZWYudGhlbWUsXG4gICAgICB3aWR0aHMgPSBfcmVmLndpZHRocyxcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfcmVmLCBbXCJiYWNrZ3JvdW5kXCIsIFwiYm9yZGVyXCIsIFwiY29sdW1uc1wiLCBcImZpbHRlcmluZ1wiLCBcImZpbHRlcnNcIiwgXCJncm91cHNcIiwgXCJncm91cFN0YXRlXCIsIFwib25GaWx0ZXJcIiwgXCJvbkZpbHRlcmluZ1wiLCBcIm9uUmVzaXplXCIsIFwib25Tb3J0XCIsIFwib25Ub2dnbGVcIiwgXCJwYWRcIiwgXCJzb3J0XCIsIFwidGhlbWVcIiwgXCJ3aWR0aHNcIl0pO1xuXG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZERhdGFUYWJsZUhlYWRlciwgcmVzdCwgUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWREYXRhVGFibGVSb3csIG51bGwsIGdyb3VwcyAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KEV4cGFuZGVyQ2VsbCwge1xuICAgIGNvbnRleHQ6IFwiaGVhZGVyXCIsXG4gICAgZXhwYW5kZWQ6IE9iamVjdC5rZXlzKGdyb3VwU3RhdGUpLmZpbHRlcihmdW5jdGlvbiAoaykge1xuICAgICAgcmV0dXJuICFncm91cFN0YXRlW2tdLmV4cGFuZGVkO1xuICAgIH0pLmxlbmd0aCA9PT0gMCxcbiAgICBvblRvZ2dsZTogb25Ub2dnbGVcbiAgfSksIGNvbHVtbnMubWFwKGZ1bmN0aW9uIChfcmVmMikge1xuICAgIHZhciBwcm9wZXJ0eSA9IF9yZWYyLnByb3BlcnR5LFxuICAgICAgICBoZWFkZXIgPSBfcmVmMi5oZWFkZXIsXG4gICAgICAgIGFsaWduID0gX3JlZjIuYWxpZ24sXG4gICAgICAgIHNlYXJjaCA9IF9yZWYyLnNlYXJjaCxcbiAgICAgICAgc29ydGFibGUgPSBfcmVmMi5zb3J0YWJsZTtcbiAgICB2YXIgY29udGVudCA9IHR5cGVvZiBoZWFkZXIgPT09ICdzdHJpbmcnID8gUmVhY3QuY3JlYXRlRWxlbWVudChUZXh0LCBudWxsLCBoZWFkZXIpIDogaGVhZGVyO1xuXG4gICAgaWYgKG9uU29ydCAmJiBzb3J0YWJsZSAhPT0gZmFsc2UpIHtcbiAgICAgIHZhciBJY29uID0gb25Tb3J0ICYmIHNvcnRhYmxlICE9PSBmYWxzZSAmJiBzb3J0ICYmIHNvcnQucHJvcGVydHkgPT09IHByb3BlcnR5ICYmIHRoZW1lLmRhdGFUYWJsZS5pY29uc1tzb3J0LmFzY2VuZGluZyA/ICdhc2NlbmRpbmcnIDogJ2Rlc2NlbmRpbmcnXTtcbiAgICAgIGNvbnRlbnQgPSBSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge1xuICAgICAgICBwbGFpbjogdHJ1ZSxcbiAgICAgICAgZmlsbDogXCJ2ZXJ0aWNhbFwiLFxuICAgICAgICBvbkNsaWNrOiBvblNvcnQocHJvcGVydHkpXG4gICAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwge1xuICAgICAgICBkaXJlY3Rpb246IFwicm93XCIsXG4gICAgICAgIGFsaWduOiBcImNlbnRlclwiLFxuICAgICAgICBnYXA6IFwieHNtYWxsXCJcbiAgICAgIH0sIGNvbnRlbnQsIEljb24gJiYgUmVhY3QuY3JlYXRlRWxlbWVudChJY29uLCBudWxsKSkpO1xuICAgIH1cblxuICAgIGlmIChzZWFyY2ggfHwgb25SZXNpemUpIHtcbiAgICAgIHZhciByZXNpemVyID0gb25SZXNpemUgPyBSZWFjdC5jcmVhdGVFbGVtZW50KFJlc2l6ZXIsIHtcbiAgICAgICAgcHJvcGVydHk6IHByb3BlcnR5LFxuICAgICAgICBvblJlc2l6ZTogb25SZXNpemVcbiAgICAgIH0pIDogbnVsbDtcbiAgICAgIHZhciBzZWFyY2hlciA9IHNlYXJjaCAmJiBmaWx0ZXJzID8gUmVhY3QuY3JlYXRlRWxlbWVudChTZWFyY2hlciwge1xuICAgICAgICBmaWx0ZXJpbmc6IGZpbHRlcmluZyxcbiAgICAgICAgZmlsdGVyczogZmlsdGVycyxcbiAgICAgICAgcHJvcGVydHk6IHByb3BlcnR5LFxuICAgICAgICBvbkZpbHRlcjogb25GaWx0ZXIsXG4gICAgICAgIG9uRmlsdGVyaW5nOiBvbkZpbHRlcmluZ1xuICAgICAgfSkgOiBudWxsO1xuICAgICAgY29udGVudCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoQm94LCB7XG4gICAgICAgIGRpcmVjdGlvbjogXCJyb3dcIixcbiAgICAgICAgYWxpZ246IFwiY2VudGVyXCIsXG4gICAgICAgIGp1c3RpZnk6ICFhbGlnbiB8fCBhbGlnbiA9PT0gJ3N0YXJ0JyA/ICdiZXR3ZWVuJyA6IGFsaWduLFxuICAgICAgICBnYXA6IFwic21hbGxcIixcbiAgICAgICAgZmlsbDogXCJ2ZXJ0aWNhbFwiLFxuICAgICAgICBzdHlsZTogb25SZXNpemUgPyB7XG4gICAgICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZSdcbiAgICAgICAgfSA6IHVuZGVmaW5lZFxuICAgICAgfSwgY29udGVudCwgc2VhcmNoZXIgJiYgcmVzaXplciA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoQm94LCB7XG4gICAgICAgIGZsZXg6IFwic2hyaW5rXCIsXG4gICAgICAgIGRpcmVjdGlvbjogXCJyb3dcIixcbiAgICAgICAgYWxpZ246IFwiY2VudGVyXCIsXG4gICAgICAgIGdhcDogXCJzbWFsbFwiXG4gICAgICB9LCBzZWFyY2hlciwgcmVzaXplcikgOiBzZWFyY2hlciB8fCByZXNpemVyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChUYWJsZUNlbGwsIHtcbiAgICAgIGtleTogcHJvcGVydHksXG4gICAgICBhbGlnbjogYWxpZ24sXG4gICAgICBiYWNrZ3JvdW5kOiBiYWNrZ3JvdW5kLFxuICAgICAgYm9yZGVyOiBib3JkZXIsXG4gICAgICBwYWQ6IHBhZCxcbiAgICAgIHBsYWluOiB0cnVlLFxuICAgICAgc2NvcGU6IFwiY29sXCIsXG4gICAgICBzdHlsZTogd2lkdGhzICYmIHdpZHRoc1twcm9wZXJ0eV0gPyB7XG4gICAgICAgIHdpZHRoOiB3aWR0aHNbcHJvcGVydHldXG4gICAgICB9IDogdW5kZWZpbmVkXG4gICAgfSwgY29udGVudCk7XG4gIH0pKSk7XG59O1xuXG5IZWFkZXIuZGVmYXVsdFByb3BzID0ge307XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoSGVhZGVyLmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbnZhciBIZWFkZXJXcmFwcGVyID0gY29tcG9zZSh3aXRoVGhlbWUpKEhlYWRlcik7XG5leHBvcnQgeyBIZWFkZXJXcmFwcGVyIGFzIEhlYWRlciB9OyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHNMb29zZShzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MucHJvdG90eXBlKTsgc3ViQ2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gc3ViQ2xhc3M7IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbXBvc2UgfSBmcm9tICdyZWNvbXBvc2UnO1xuaW1wb3J0IHN0eWxlZCwgeyB3aXRoVGhlbWUgfSBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBkZWZhdWx0UHJvcHMgfSBmcm9tICcuLi8uLi9kZWZhdWx0LXByb3BzJztcbmltcG9ydCB7IEJveCB9IGZyb20gJy4uL0JveCc7XG52YXIgUmVzaXplckJveCA9IHN0eWxlZChCb3gpLndpdGhDb25maWcoe1xuICBkaXNwbGF5TmFtZTogXCJSZXNpemVyX19SZXNpemVyQm94XCIsXG4gIGNvbXBvbmVudElkOiBcInNjLThsODA4dy0wXCJcbn0pKFtcImN1cnNvcjpjb2wtcmVzaXplO1wiXSk7XG5cbnZhciBSZXNpemVyID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKFJlc2l6ZXIsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFJlc2l6ZXIoKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIF90aGlzID0gX0NvbXBvbmVudC5jYWxsLmFwcGx5KF9Db21wb25lbnQsIFt0aGlzXS5jb25jYXQoYXJncykpIHx8IHRoaXM7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwic3RhdGVcIiwge30pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcInJlZlwiLCBSZWFjdC5jcmVhdGVSZWYoKSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwib25Nb3VzZURvd25cIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBpZiAoX3RoaXMucmVmLmN1cnJlbnQpIHtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSBfdGhpcy5yZWYuY3VycmVudDsgLy8gZmluZCBUSCBwYXJlbnRcblxuICAgICAgICB3aGlsZSAoZWxlbWVudCAmJiBlbGVtZW50Lm5vZGVOYW1lICE9PSAnVEgnKSB7XG4gICAgICAgICAgZWxlbWVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgc3RhcnQ6IGV2ZW50LmNsaWVudFgsXG4gICAgICAgICAgd2lkdGg6IHJlY3Qud2lkdGhcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIF90aGlzLm9uTW91c2VNb3ZlKTtcbiAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgX3RoaXMub25Nb3VzZVVwKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwib25Nb3VzZU1vdmVcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBvblJlc2l6ZSA9IF90aGlzJHByb3BzLm9uUmVzaXplLFxuICAgICAgICAgIHByb3BlcnR5ID0gX3RoaXMkcHJvcHMucHJvcGVydHk7XG4gICAgICB2YXIgX3RoaXMkc3RhdGUgPSBfdGhpcy5zdGF0ZSxcbiAgICAgICAgICBzdGFydCA9IF90aGlzJHN0YXRlLnN0YXJ0LFxuICAgICAgICAgIHdpZHRoID0gX3RoaXMkc3RhdGUud2lkdGg7IC8vIFdlIGRldGVybWluZWQgMTIgZW1waXJpY2FsbHkgYXMgYmVpbmcgd2lkZSBlbm91Z2ggdG8gaGl0IGJ1dFxuICAgICAgLy8gbm90IHRvbyB3aWRlIHRvIGNhdXNlIGZhbHNlIGhpdHMuXG5cbiAgICAgIHZhciBuZXh0V2lkdGggPSBNYXRoLm1heCgxMiwgd2lkdGggKyAoZXZlbnQuY2xpZW50WCAtIHN0YXJ0KSk7XG4gICAgICBvblJlc2l6ZShwcm9wZXJ0eSkobmV4dFdpZHRoKTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJvbk1vdXNlVXBcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIF90aGlzLm9uTW91c2VVcCk7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBfdGhpcy5vbk1vdXNlTW92ZSk7XG5cbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgc3RhcnQ6IHVuZGVmaW5lZCxcbiAgICAgICAgd2lkdGg6IHVuZGVmaW5lZFxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICB2YXIgX3Byb3RvID0gUmVzaXplci5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgdGhlbWUgPSB0aGlzLnByb3BzLnRoZW1lO1xuICAgIHZhciBzdGFydCA9IHRoaXMuc3RhdGUuc3RhcnQ7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVzaXplckJveCwgX2V4dGVuZHMoe1xuICAgICAgcmVmOiB0aGlzLnJlZixcbiAgICAgIGZsZXg6IGZhbHNlLFxuICAgICAgcmVzcG9uc2l2ZTogZmFsc2UsXG4gICAgICBwYWQ6IHtcbiAgICAgICAgdmVydGljYWw6ICdzbWFsbCdcbiAgICAgIH1cbiAgICB9LCB0aGVtZS5kYXRhVGFibGUucmVzaXplLCB7XG4gICAgICBvbk1vdXNlRG93bjogdGhpcy5vbk1vdXNlRG93bixcbiAgICAgIG9uTW91c2VNb3ZlOiBzdGFydCA/IHRoaXMub25Nb3VzZU1vdmUgOiB1bmRlZmluZWQsXG4gICAgICBvbk1vdXNlVXA6IHN0YXJ0ID8gdGhpcy5vbk1vdXNlVXAgOiB1bmRlZmluZWRcbiAgICB9KSk7XG4gIH07XG5cbiAgcmV0dXJuIFJlc2l6ZXI7XG59KENvbXBvbmVudCk7XG5cblJlc2l6ZXIuZGVmYXVsdFByb3BzID0ge307XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoUmVzaXplci5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG52YXIgUmVzaXplcldyYXBwZXIgPSBjb21wb3NlKHdpdGhUaGVtZSkoUmVzaXplcik7XG5leHBvcnQgeyBSZXNpemVyV3JhcHBlciBhcyBSZXNpemVyIH07IiwiZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0c0xvb3NlKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcy5wcm90b3R5cGUpOyBzdWJDbGFzcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBzdWJDbGFzczsgc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5pbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY29tcG9zZSB9IGZyb20gJ3JlY29tcG9zZSc7XG5pbXBvcnQgeyB3aXRoVGhlbWUgfSBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBGb3JtU2VhcmNoIH0gZnJvbSAnZ3JvbW1ldC1pY29ucy9pY29ucy9Gb3JtU2VhcmNoJztcbmltcG9ydCB7IGRlZmF1bHRQcm9wcyB9IGZyb20gJy4uLy4uL2RlZmF1bHQtcHJvcHMnO1xuaW1wb3J0IHsgQm94IH0gZnJvbSAnLi4vQm94JztcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJy4uL0J1dHRvbic7XG5pbXBvcnQgeyBLZXlib2FyZCB9IGZyb20gJy4uL0tleWJvYXJkJztcbmltcG9ydCB7IFRleHQgfSBmcm9tICcuLi9UZXh0JztcbmltcG9ydCB7IFRleHRJbnB1dCB9IGZyb20gJy4uL1RleHRJbnB1dCc7XG5pbXBvcnQgeyBub3JtYWxpemVDb2xvciB9IGZyb20gJy4uLy4uL3V0aWxzJztcblxudmFyIFNlYXJjaGVyID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKFNlYXJjaGVyLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBTZWFyY2hlcigpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgX3RoaXMgPSBfQ29tcG9uZW50LmNhbGwuYXBwbHkoX0NvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChhcmdzKSkgfHwgdGhpcztcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJpbnB1dFJlZlwiLCBSZWFjdC5jcmVhdGVSZWYoKSk7XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICB2YXIgX3Byb3RvID0gU2VhcmNoZXIucHJvdG90eXBlO1xuXG4gIF9wcm90by5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRoaXMuZm9jdXNJbnB1dElmTmVlZGVkKCk7XG4gIH07XG5cbiAgX3Byb3RvLmNvbXBvbmVudERpZFVwZGF0ZSA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICB0aGlzLmZvY3VzSW5wdXRJZk5lZWRlZCgpO1xuICB9O1xuXG4gIF9wcm90by5mb2N1c0lucHV0SWZOZWVkZWQgPSBmdW5jdGlvbiBmb2N1c0lucHV0SWZOZWVkZWQoKSB7XG4gICAgLyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0L3Byb3AtdHlwZXMgKi9cbiAgICB2YXIgX3RoaXMkcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICBmaWx0ZXJpbmcgPSBfdGhpcyRwcm9wcy5maWx0ZXJpbmcsXG4gICAgICAgIHByb3BlcnR5ID0gX3RoaXMkcHJvcHMucHJvcGVydHk7XG5cbiAgICBpZiAodGhpcy5pbnB1dFJlZi5jdXJyZW50ICYmIGZpbHRlcmluZyA9PT0gcHJvcGVydHkpIHtcbiAgICAgIHRoaXMuaW5wdXRSZWYuY3VycmVudC5mb2N1cygpO1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfdGhpcyRwcm9wczIgPSB0aGlzLnByb3BzLFxuICAgICAgICBmaWx0ZXJpbmcgPSBfdGhpcyRwcm9wczIuZmlsdGVyaW5nLFxuICAgICAgICBmaWx0ZXJzID0gX3RoaXMkcHJvcHMyLmZpbHRlcnMsXG4gICAgICAgIG9uRmlsdGVyID0gX3RoaXMkcHJvcHMyLm9uRmlsdGVyLFxuICAgICAgICBvbkZpbHRlcmluZyA9IF90aGlzJHByb3BzMi5vbkZpbHRlcmluZyxcbiAgICAgICAgcHJvcGVydHkgPSBfdGhpcyRwcm9wczIucHJvcGVydHksXG4gICAgICAgIHRoZW1lID0gX3RoaXMkcHJvcHMyLnRoZW1lO1xuXG4gICAgaWYgKGZpbHRlcmluZyA9PT0gcHJvcGVydHkpIHtcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEtleWJvYXJkLCB7XG4gICAgICAgIG9uRXNjOiBmdW5jdGlvbiBvbkVzYygpIHtcbiAgICAgICAgICByZXR1cm4gb25GaWx0ZXJpbmcodW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChCb3gsIHtcbiAgICAgICAgZmxleDogdHJ1ZSxcbiAgICAgICAgcGFkOiB7XG4gICAgICAgICAgaG9yaXpvbnRhbDogJ3NtYWxsJ1xuICAgICAgICB9XG4gICAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFRleHRJbnB1dCwge1xuICAgICAgICBuYW1lOiBcInNlYXJjaC1cIiArIHByb3BlcnR5LFxuICAgICAgICByZWY6IHRoaXMuaW5wdXRSZWYsXG4gICAgICAgIHZhbHVlOiBmaWx0ZXJzW3Byb3BlcnR5XSxcbiAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGV2ZW50KSB7XG4gICAgICAgICAgcmV0dXJuIG9uRmlsdGVyKHByb3BlcnR5LCBldmVudC50YXJnZXQudmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBvbkJsdXI6IGZ1bmN0aW9uIG9uQmx1cigpIHtcbiAgICAgICAgICByZXR1cm4gb25GaWx0ZXJpbmcodW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgICAgfSkpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgZmlsdGVyc1twcm9wZXJ0eV0gPyBSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwge1xuICAgICAgZmxleDogZmFsc2UsXG4gICAgICBwYWQ6IHtcbiAgICAgICAgaG9yaXpvbnRhbDogJ3NtYWxsJ1xuICAgICAgfSxcbiAgICAgIGRpcmVjdGlvbjogXCJyb3dcIixcbiAgICAgIGFsaWduOiBcImNlbnRlclwiXG4gICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChUZXh0LCBudWxsLCBmaWx0ZXJzW3Byb3BlcnR5XSkpIDogbnVsbCwgUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtcbiAgICAgIGExMXlUaXRsZTogXCJmb2N1cy1zZWFyY2gtXCIgKyBwcm9wZXJ0eSxcbiAgICAgIGljb246IFJlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybVNlYXJjaCwge1xuICAgICAgICBjb2xvcjogbm9ybWFsaXplQ29sb3IoZmlsdGVyaW5nID09PSBwcm9wZXJ0eSA/ICdicmFuZCcgOiAnYm9yZGVyJywgdGhlbWUpXG4gICAgICB9KSxcbiAgICAgIGhvdmVySW5kaWNhdG9yOiB0cnVlLFxuICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgcmV0dXJuIG9uRmlsdGVyaW5nKGZpbHRlcmluZyA9PT0gcHJvcGVydHkgPyB1bmRlZmluZWQgOiBwcm9wZXJ0eSk7XG4gICAgICB9XG4gICAgfSkpO1xuICB9O1xuXG4gIHJldHVybiBTZWFyY2hlcjtcbn0oQ29tcG9uZW50KTtcblxuU2VhcmNoZXIuZGVmYXVsdFByb3BzID0ge307XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoU2VhcmNoZXIuZGVmYXVsdFByb3BzLCBkZWZhdWx0UHJvcHMpO1xudmFyIFNlYXJjaGVyV3JhcHBlciA9IGNvbXBvc2Uod2l0aFRoZW1lKShTZWFyY2hlcik7XG5leHBvcnQgeyBTZWFyY2hlcldyYXBwZXIgYXMgU2VhcmNoZXIgfTsiLCJpbXBvcnQgc3R5bGVkLCB7IGNzcyB9IGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCB7IGJhY2tncm91bmRTdHlsZSwgZm9jdXNTdHlsZSwgZ2VuZXJpY1N0eWxlcywgbm9ybWFsaXplQ29sb3IgfSBmcm9tICcuLi8uLi91dGlscyc7XG5pbXBvcnQgeyBkZWZhdWx0UHJvcHMgfSBmcm9tICcuLi8uLi9kZWZhdWx0LXByb3BzJztcbmltcG9ydCB7IFRhYmxlUm93IH0gZnJvbSAnLi4vVGFibGVSb3cnO1xuaW1wb3J0IHsgVGFibGUgfSBmcm9tICcuLi9UYWJsZSc7XG5pbXBvcnQgeyBUYWJsZUJvZHkgfSBmcm9tICcuLi9UYWJsZUJvZHknO1xuaW1wb3J0IHsgVGFibGVIZWFkZXIgfSBmcm9tICcuLi9UYWJsZUhlYWRlcic7XG5pbXBvcnQgeyBUYWJsZUZvb3RlciB9IGZyb20gJy4uL1RhYmxlRm9vdGVyJztcbnZhciBTdHlsZWREYXRhVGFibGUgPSBzdHlsZWQoVGFibGUpLndpdGhDb25maWcoe1xuICBkaXNwbGF5TmFtZTogXCJTdHlsZWREYXRhVGFibGVcIixcbiAgY29tcG9uZW50SWQ6IFwieHJseWptLTBcIlxufSkoW1wiYm9yZGVyLXNwYWNpbmc6MDtib3JkZXItY29sbGFwc2U6Y29sbGFwc2U7aGVpZ2h0OmF1dG87XCIsIFwiO1wiXSwgZ2VuZXJpY1N0eWxlcyk7XG5TdHlsZWREYXRhVGFibGUuZGVmYXVsdFByb3BzID0ge307XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoU3R5bGVkRGF0YVRhYmxlLmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbnZhciBob3ZlclN0eWxlID0gY3NzKFtcIlwiLCBcIiBjb2xvcjpcIiwgXCI7XCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIGJhY2tncm91bmRTdHlsZShub3JtYWxpemVDb2xvcihwcm9wcy50aGVtZS50YWJsZSAmJiBwcm9wcy50aGVtZS50YWJsZS5yb3cgJiYgcHJvcHMudGhlbWUudGFibGUucm93LmhvdmVyICYmIHByb3BzLnRoZW1lLnRhYmxlLnJvdy5ob3Zlci5iYWNrZ3JvdW5kIHx8IHByb3BzLnRoZW1lLmdsb2JhbC5ob3Zlci5iYWNrZ3JvdW5kLCBwcm9wcy50aGVtZSksIHByb3BzLnRoZW1lKTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gbm9ybWFsaXplQ29sb3IocHJvcHMudGhlbWUudGFibGUgJiYgcHJvcHMudGhlbWUudGFibGUucm93ICYmIHByb3BzLnRoZW1lLnRhYmxlLnJvdy5ob3ZlciAmJiBwcm9wcy50aGVtZS50YWJsZS5yb3cuaG92ZXIuY29sb3IgfHwgcHJvcHMudGhlbWUuZ2xvYmFsLmhvdmVyLmNvbG9yLCBwcm9wcy50aGVtZSk7XG59KTtcbnZhciBTdHlsZWREYXRhVGFibGVSb3cgPSBzdHlsZWQoVGFibGVSb3cpLndpdGhDb25maWcoe1xuICBkaXNwbGF5TmFtZTogXCJTdHlsZWREYXRhVGFibGVfX1N0eWxlZERhdGFUYWJsZVJvd1wiLFxuICBjb21wb25lbnRJZDogXCJ4cmx5am0tMVwiXG59KShbXCJcIiwgXCIgXCIsIFwiICY6aG92ZXJ7XCIsIFwifVwiLCBcIlwiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5zaXplICYmIFwiXFxuICAgIGRpc3BsYXk6IHRhYmxlO1xcbiAgICB3aWR0aDogMTAwJTtcXG4gICAgdGFibGUtbGF5b3V0OiBmaXhlZDtcXG4gIFwiO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5vbkNsaWNrICYmIFwiXFxuICAgIGN1cnNvcjogcG9pbnRlcjtcXG4gIFwiO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5vbkNsaWNrUm93ICYmICFwcm9wcy5hY3RpdmUgJiYgaG92ZXJTdHlsZTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuYWN0aXZlICYmIGhvdmVyU3R5bGU7XG59KTtcblN0eWxlZERhdGFUYWJsZVJvdy5kZWZhdWx0UHJvcHMgPSB7fTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihTdHlsZWREYXRhVGFibGVSb3cuZGVmYXVsdFByb3BzLCBkZWZhdWx0UHJvcHMpO1xudmFyIFN0eWxlZERhdGFUYWJsZUJvZHkgPSBzdHlsZWQoVGFibGVCb2R5KS53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiU3R5bGVkRGF0YVRhYmxlX19TdHlsZWREYXRhVGFibGVCb2R5XCIsXG4gIGNvbXBvbmVudElkOiBcInhybHlqbS0yXCJcbn0pKFtcIlwiLCBcIiBcIiwgXCJcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuc2l6ZSAmJiBcIlxcbiAgICBkaXNwbGF5OiBibG9jaztcXG4gICAgd2lkdGg6IDEwMCU7XFxuICAgIG1heC1oZWlnaHQ6IFwiICsgcHJvcHMudGhlbWUuZ2xvYmFsLnNpemVbcHJvcHMuc2l6ZV0gKyBcIjtcXG4gICAgb3ZlcmZsb3c6IGF1dG87XFxuICBcIjtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuZm9jdXMgJiYgZm9jdXNTdHlsZTtcbn0pO1xuU3R5bGVkRGF0YVRhYmxlQm9keS5kZWZhdWx0UHJvcHMgPSB7fTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihTdHlsZWREYXRhVGFibGVCb2R5LmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbnZhciBTdHlsZWREYXRhVGFibGVIZWFkZXIgPSBzdHlsZWQoVGFibGVIZWFkZXIpLndpdGhDb25maWcoe1xuICBkaXNwbGF5TmFtZTogXCJTdHlsZWREYXRhVGFibGVfX1N0eWxlZERhdGFUYWJsZUhlYWRlclwiLFxuICBjb21wb25lbnRJZDogXCJ4cmx5am0tM1wiXG59KShbXCJcIiwgXCJcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuc2l6ZSAmJiBcIlxcbiAgICBkaXNwbGF5OiB0YWJsZTtcXG4gICAgd2lkdGg6IDEwMCU7XFxuICAgIHRhYmxlLWxheW91dDogZml4ZWQ7XFxuICBcIjtcbn0pO1xuU3R5bGVkRGF0YVRhYmxlSGVhZGVyLmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKFN0eWxlZERhdGFUYWJsZUhlYWRlci5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG52YXIgU3R5bGVkRGF0YVRhYmxlRm9vdGVyID0gc3R5bGVkKFRhYmxlRm9vdGVyKS53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiU3R5bGVkRGF0YVRhYmxlX19TdHlsZWREYXRhVGFibGVGb290ZXJcIixcbiAgY29tcG9uZW50SWQ6IFwieHJseWptLTRcIlxufSkoW1wiXCIsIFwiXCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnNpemUgJiYgXCJcXG4gICAgZGlzcGxheTogdGFibGU7XFxuICAgIHdpZHRoOiAxMDAlO1xcbiAgICB0YWJsZS1sYXlvdXQ6IGZpeGVkO1xcbiAgXCI7XG59KTtcblN0eWxlZERhdGFUYWJsZUZvb3Rlci5kZWZhdWx0UHJvcHMgPSB7fTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihTdHlsZWREYXRhVGFibGVGb290ZXIuZGVmYXVsdFByb3BzLCBkZWZhdWx0UHJvcHMpO1xuZXhwb3J0IHsgU3R5bGVkRGF0YVRhYmxlLCBTdHlsZWREYXRhVGFibGVSb3csIFN0eWxlZERhdGFUYWJsZUJvZHksIFN0eWxlZERhdGFUYWJsZUhlYWRlciwgU3R5bGVkRGF0YVRhYmxlRm9vdGVyIH07IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZXhwb3J0IHZhciBkYXR1bVZhbHVlID0gZnVuY3Rpb24gZGF0dW1WYWx1ZShkYXR1bSwgcHJvcGVydHkpIHtcbiAgdmFyIHBhcnRzID0gcHJvcGVydHkuc3BsaXQoJy4nKTtcblxuICBpZiAocGFydHMubGVuZ3RoID09PSAxKSB7XG4gICAgcmV0dXJuIGRhdHVtW3Byb3BlcnR5XTtcbiAgfVxuXG4gIGlmICghZGF0dW1bcGFydHNbMF1dKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIHJldHVybiBkYXR1bVZhbHVlKGRhdHVtW3BhcnRzWzBdXSwgcGFydHMuc2xpY2UoMSkuam9pbignLicpKTtcbn07XG5cbnZhciBzdW1SZWR1Y2VyID0gZnVuY3Rpb24gc3VtUmVkdWNlcihhY2N1bXVsYXRlZCwgbmV4dCkge1xuICByZXR1cm4gYWNjdW11bGF0ZWQgKyBuZXh0O1xufTtcblxudmFyIG1pblJlZHVjZXIgPSBmdW5jdGlvbiBtaW5SZWR1Y2VyKGFjY3VtdWxhdGVkLCBuZXh0KSB7XG4gIHJldHVybiBhY2N1bXVsYXRlZCA9PT0gdW5kZWZpbmVkID8gbmV4dCA6IE1hdGgubWluKGFjY3VtdWxhdGVkLCBuZXh0KTtcbn07XG5cbnZhciBtYXhSZWR1Y2VyID0gZnVuY3Rpb24gbWF4UmVkdWNlcihhY2N1bXVsYXRlZCwgbmV4dCkge1xuICByZXR1cm4gYWNjdW11bGF0ZWQgPT09IHVuZGVmaW5lZCA/IG5leHQgOiBNYXRoLm1heChhY2N1bXVsYXRlZCwgbmV4dCk7XG59O1xuXG52YXIgcmVkdWNlcnMgPSB7XG4gIG1heDogbWF4UmVkdWNlcixcbiAgbWluOiBtaW5SZWR1Y2VyLFxuICBzdW06IHN1bVJlZHVjZXJcbn07XG5cbnZhciBhZ2dyZWdhdGVDb2x1bW4gPSBmdW5jdGlvbiBhZ2dyZWdhdGVDb2x1bW4oY29sdW1uLCBkYXRhKSB7XG4gIHZhciB2YWx1ZTtcblxuICBpZiAoY29sdW1uLmFnZ3JlZ2F0ZSA9PT0gJ2F2ZycpIHtcbiAgICB2YWx1ZSA9IGRhdGEubWFwKGZ1bmN0aW9uIChkKSB7XG4gICAgICByZXR1cm4gZGF0dW1WYWx1ZShkLCBjb2x1bW4ucHJvcGVydHkpO1xuICAgIH0pLnJlZHVjZShzdW1SZWR1Y2VyKTtcbiAgICB2YWx1ZSAvPSBkYXRhLmxlbmd0aDtcbiAgfSBlbHNlIHtcbiAgICB2YWx1ZSA9IGRhdGEubWFwKGZ1bmN0aW9uIChkKSB7XG4gICAgICByZXR1cm4gZGF0dW1WYWx1ZShkLCBjb2x1bW4ucHJvcGVydHkpO1xuICAgIH0pLnJlZHVjZShyZWR1Y2Vyc1tjb2x1bW4uYWdncmVnYXRlXSwgMCk7XG4gIH1cblxuICByZXR1cm4gdmFsdWU7XG59O1xuXG52YXIgZmluZFByaW1hcnkgPSBmdW5jdGlvbiBmaW5kUHJpbWFyeShuZXh0UHJvcHMsIHByZXZTdGF0ZSwgbmV4dFN0YXRlKSB7XG4gIHZhciBjb2x1bW5zID0gbmV4dFByb3BzLmNvbHVtbnMsXG4gICAgICBwcmltYXJ5S2V5ID0gbmV4dFByb3BzLnByaW1hcnlLZXk7XG4gIHZhciBwcmltYXJ5UHJvcGVydHk7XG4gIGNvbHVtbnMuZm9yRWFjaChmdW5jdGlvbiAoY29sdW1uKSB7XG4gICAgLy8gcmVtZW1iZXIgdGhlIGZpcnN0IGtleSBwcm9wZXJ0eVxuICAgIGlmIChjb2x1bW4ucHJpbWFyeSAmJiAhcHJpbWFyeVByb3BlcnR5KSB7XG4gICAgICBwcmltYXJ5UHJvcGVydHkgPSBjb2x1bW4ucHJvcGVydHk7XG4gICAgfVxuICB9KTtcblxuICBpZiAoIXByaW1hcnlQcm9wZXJ0eSAmJiBjb2x1bW5zLmxlbmd0aCA+IDApIHtcbiAgICBwcmltYXJ5UHJvcGVydHkgPSBwcmltYXJ5S2V5IHx8IGNvbHVtbnNbMF0ucHJvcGVydHk7XG4gIH1cblxuICByZXR1cm4gX2V4dGVuZHMoe30sIG5leHRTdGF0ZSwge1xuICAgIHByaW1hcnlQcm9wZXJ0eTogcHJpbWFyeVByb3BlcnR5XG4gIH0pO1xufTsgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9HdWlkZS9SZWd1bGFyX0V4cHJlc3Npb25zI0VzY2FwaW5nXG5cblxudmFyIGVzY2FwZVJlZ0V4cCA9IGZ1bmN0aW9uIGVzY2FwZVJlZ0V4cChpbnB1dCkge1xuICByZXR1cm4gaW5wdXQucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xcXVxcXFxdL2csICdcXFxcJCYnKTtcbn07XG5cbnZhciBmaWx0ZXIgPSBmdW5jdGlvbiBmaWx0ZXIobmV4dFByb3BzLCBwcmV2U3RhdGUsIG5leHRTdGF0ZSkge1xuICB2YXIgY29sdW1ucyA9IG5leHRQcm9wcy5jb2x1bW5zLFxuICAgICAgb25TZWFyY2ggPSBuZXh0UHJvcHMub25TZWFyY2g7XG4gIHZhciBkYXRhID0gbmV4dFN0YXRlLmRhdGEsXG4gICAgICBmaWx0ZXJzID0gbmV4dFN0YXRlLmZpbHRlcnM7XG4gIHZhciBuZXh0RmlsdGVycztcbiAgdmFyIHJlZ2V4cHM7XG4gIGNvbHVtbnMuZm9yRWFjaChmdW5jdGlvbiAoY29sdW1uKSB7XG4gICAgaWYgKGNvbHVtbi5zZWFyY2gpIHtcbiAgICAgIGlmICghbmV4dEZpbHRlcnMpIHtcbiAgICAgICAgbmV4dEZpbHRlcnMgPSB7fTtcbiAgICAgICAgcmVnZXhwcyA9IHt9O1xuICAgICAgfVxuXG4gICAgICBuZXh0RmlsdGVyc1tjb2x1bW4ucHJvcGVydHldID0gZmlsdGVycyA/IGZpbHRlcnNbY29sdW1uLnByb3BlcnR5XSB8fCAnJyA6ICcnOyAvLyBkb24ndCBkbyBmaWx0ZXJpbmcgaWYgdGhlIGNhbGxlciBoYXMgc3VwcGxpZWQgb25TZWFyY2hcblxuICAgICAgaWYgKG5leHRGaWx0ZXJzW2NvbHVtbi5wcm9wZXJ0eV0gJiYgY29sdW1uLnNlYXJjaCAmJiAhb25TZWFyY2gpIHtcbiAgICAgICAgcmVnZXhwc1tjb2x1bW4ucHJvcGVydHldID0gbmV3IFJlZ0V4cChlc2NhcGVSZWdFeHAobmV4dEZpbHRlcnNbY29sdW1uLnByb3BlcnR5XSksICdpJyk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgdmFyIG5leHREYXRhID0gZGF0YTtcblxuICBpZiAobmV4dEZpbHRlcnMpIHtcbiAgICBuZXh0RGF0YSA9IGRhdGEuZmlsdGVyKGZ1bmN0aW9uIChkYXR1bSkge1xuICAgICAgcmV0dXJuICFPYmplY3Qua2V5cyhyZWdleHBzKS5zb21lKGZ1bmN0aW9uIChwcm9wZXJ0eSkge1xuICAgICAgICByZXR1cm4gIXJlZ2V4cHNbcHJvcGVydHldLnRlc3QoZGF0dW1WYWx1ZShkYXR1bSwgcHJvcGVydHkpKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIF9leHRlbmRzKHt9LCBuZXh0U3RhdGUsIHtcbiAgICBmaWx0ZXJzOiBuZXh0RmlsdGVycyxcbiAgICBkYXRhOiBuZXh0RGF0YVxuICB9KTtcbn07XG5cbnZhciBhZ2dyZWdhdGUgPSBmdW5jdGlvbiBhZ2dyZWdhdGUobmV4dFByb3BzLCBwcmV2U3RhdGUsIG5leHRTdGF0ZSkge1xuICB2YXIgY29sdW1ucyA9IG5leHRQcm9wcy5jb2x1bW5zO1xuICB2YXIgZGF0YSA9IG5leHRTdGF0ZS5kYXRhO1xuICB2YXIgYWdncmVnYXRlVmFsdWVzID0ge307XG4gIGNvbHVtbnMuZm9yRWFjaChmdW5jdGlvbiAoY29sdW1uKSB7XG4gICAgaWYgKGNvbHVtbi5hZ2dyZWdhdGUpIHtcbiAgICAgIGFnZ3JlZ2F0ZVZhbHVlc1tjb2x1bW4ucHJvcGVydHldID0gYWdncmVnYXRlQ29sdW1uKGNvbHVtbiwgZGF0YSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIF9leHRlbmRzKHt9LCBuZXh0U3RhdGUsIHtcbiAgICBhZ2dyZWdhdGVWYWx1ZXM6IGFnZ3JlZ2F0ZVZhbHVlc1xuICB9KTtcbn07XG5cbnZhciBidWlsZEZvb3RlclZhbHVlcyA9IGZ1bmN0aW9uIGJ1aWxkRm9vdGVyVmFsdWVzKG5leHRQcm9wcywgcHJldlN0YXRlLCBuZXh0U3RhdGUpIHtcbiAgdmFyIGNvbHVtbnMgPSBuZXh0UHJvcHMuY29sdW1ucztcbiAgdmFyIGFnZ3JlZ2F0ZVZhbHVlcyA9IG5leHRTdGF0ZS5hZ2dyZWdhdGVWYWx1ZXM7XG4gIHZhciBzaG93Rm9vdGVyO1xuICB2YXIgZm9vdGVyVmFsdWVzID0ge307XG4gIGNvbHVtbnMuZm9yRWFjaChmdW5jdGlvbiAoY29sdW1uKSB7XG4gICAgaWYgKGNvbHVtbi5mb290ZXIpIHtcbiAgICAgIHNob3dGb290ZXIgPSB0cnVlO1xuXG4gICAgICBpZiAodHlwZW9mIGNvbHVtbi5mb290ZXIgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGZvb3RlclZhbHVlc1tjb2x1bW4ucHJvcGVydHldID0gY29sdW1uLmZvb3RlcjtcbiAgICAgIH0gZWxzZSBpZiAoY29sdW1uLmZvb3Rlci5hZ2dyZWdhdGUpIHtcbiAgICAgICAgZm9vdGVyVmFsdWVzW2NvbHVtbi5wcm9wZXJ0eV0gPSBhZ2dyZWdhdGVWYWx1ZXNbY29sdW1uLnByb3BlcnR5XTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICByZXR1cm4gX2V4dGVuZHMoe30sIG5leHRTdGF0ZSwge1xuICAgIGZvb3RlclZhbHVlczogZm9vdGVyVmFsdWVzLFxuICAgIHNob3dGb290ZXI6IHNob3dGb290ZXJcbiAgfSk7XG59O1xuXG52YXIgc29ydERhdGEgPSBmdW5jdGlvbiBzb3J0RGF0YShuZXh0UHJvcHMsIHByZXZTdGF0ZSwgbmV4dFN0YXRlKSB7XG4gIHZhciBzb3J0ID0gcHJldlN0YXRlLnNvcnQ7XG4gIHZhciBkYXRhID0gbmV4dFN0YXRlLmRhdGE7XG4gIHZhciBuZXh0RGF0YSA9IGRhdGE7XG5cbiAgaWYgKHNvcnQpIHtcbiAgICB2YXIgcHJvcGVydHkgPSBzb3J0LnByb3BlcnR5LFxuICAgICAgICBhc2NlbmRpbmcgPSBzb3J0LmFzY2VuZGluZztcbiAgICBuZXh0RGF0YSA9IFtdLmNvbmNhdChkYXRhKTtcbiAgICB2YXIgYmVmb3JlID0gYXNjZW5kaW5nID8gMSA6IC0xO1xuICAgIHZhciBhZnRlciA9IGFzY2VuZGluZyA/IC0xIDogMTtcbiAgICBuZXh0RGF0YS5zb3J0KGZ1bmN0aW9uIChkMSwgZDIpIHtcbiAgICAgIGlmIChkMVtwcm9wZXJ0eV0gPiBkMltwcm9wZXJ0eV0pIHJldHVybiBiZWZvcmU7XG4gICAgICBpZiAoZDFbcHJvcGVydHldIDwgZDJbcHJvcGVydHldKSByZXR1cm4gYWZ0ZXI7XG4gICAgICByZXR1cm4gMDtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBfZXh0ZW5kcyh7fSwgbmV4dFN0YXRlLCB7XG4gICAgZGF0YTogbmV4dERhdGFcbiAgfSk7XG59O1xuXG52YXIgZ3JvdXBEYXRhID0gZnVuY3Rpb24gZ3JvdXBEYXRhKG5leHRQcm9wcywgcHJldlN0YXRlLCBuZXh0U3RhdGUpIHtcbiAgdmFyIGNvbHVtbnMgPSBuZXh0UHJvcHMuY29sdW1ucyxcbiAgICAgIGdyb3VwQnkgPSBuZXh0UHJvcHMuZ3JvdXBCeTtcbiAgdmFyIGRhdGEgPSBuZXh0U3RhdGUuZGF0YTtcbiAgdmFyIGdyb3VwcztcbiAgdmFyIGdyb3VwU3RhdGU7XG4gIHZhciBleHBhbmRlZFN0YXRlO1xuXG4gIGlmIChncm91cEJ5KSB7XG4gICAgZ3JvdXBzID0gW107XG4gICAgZ3JvdXBTdGF0ZSA9IHt9O1xuICAgIHZhciBncm91cE1hcCA9IHt9O1xuICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbiAoZGF0dW0pIHtcbiAgICAgIHZhciBncm91cEJ5UHJvcGVydHkgPSBncm91cEJ5LnByb3BlcnR5ID8gZ3JvdXBCeS5wcm9wZXJ0eSA6IGdyb3VwQnk7XG4gICAgICB2YXIgZ3JvdXBWYWx1ZSA9IGRhdHVtVmFsdWUoZGF0dW0sIGdyb3VwQnlQcm9wZXJ0eSk7XG5cbiAgICAgIGlmICghZ3JvdXBNYXBbZ3JvdXBWYWx1ZV0pIHtcbiAgICAgICAgdmFyIGdyb3VwID0ge1xuICAgICAgICAgIGRhdGE6IFtdLFxuICAgICAgICAgIGRhdHVtOiB7fSxcbiAgICAgICAgICBrZXk6IGdyb3VwVmFsdWVcbiAgICAgICAgfTtcbiAgICAgICAgZ3JvdXAuZGF0dW1bZ3JvdXBCeVByb3BlcnR5XSA9IGdyb3VwVmFsdWU7XG4gICAgICAgIGdyb3Vwcy5wdXNoKGdyb3VwKTtcblxuICAgICAgICBpZiAoZ3JvdXBCeS5leHBhbmQpIHtcbiAgICAgICAgICBleHBhbmRlZFN0YXRlID0gZ3JvdXBCeS5leHBhbmQuc29tZShmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICByZXR1cm4ga2V5ID09PSBncm91cFZhbHVlO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGV4cGFuZGVkU3RhdGUgPSBwcmV2U3RhdGUuZ3JvdXBTdGF0ZSAmJiBwcmV2U3RhdGUuZ3JvdXBTdGF0ZVtncm91cFZhbHVlXSA/IHByZXZTdGF0ZS5ncm91cFN0YXRlW2dyb3VwVmFsdWVdLmV4cGFuZGVkIDogZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBncm91cFN0YXRlW2dyb3VwVmFsdWVdID0ge1xuICAgICAgICAgIGV4cGFuZGVkOiBleHBhbmRlZFN0YXRlXG4gICAgICAgIH07XG4gICAgICAgIGdyb3VwTWFwW2dyb3VwVmFsdWVdID0gZ3JvdXA7XG4gICAgICB9XG5cbiAgICAgIGdyb3VwTWFwW2dyb3VwVmFsdWVdLmRhdGEucHVzaChkYXR1bSk7XG4gICAgfSk7IC8vIGNhbGN1bGF0ZSBhbnkgYWdncmVnYXRlc1xuXG4gICAgY29sdW1ucy5mb3JFYWNoKGZ1bmN0aW9uIChjb2x1bW4pIHtcbiAgICAgIGlmIChjb2x1bW4uYWdncmVnYXRlKSB7XG4gICAgICAgIGdyb3Vwcy5mb3JFYWNoKGZ1bmN0aW9uIChncm91cCkge1xuICAgICAgICAgIGdyb3VwLmRhdHVtW2NvbHVtbi5wcm9wZXJ0eV0gPSBhZ2dyZWdhdGVDb2x1bW4oY29sdW1uLCBncm91cC5kYXRhKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBfZXh0ZW5kcyh7fSwgbmV4dFN0YXRlLCB7XG4gICAgZ3JvdXBzOiBncm91cHMsXG4gICAgZ3JvdXBTdGF0ZTogZ3JvdXBTdGF0ZVxuICB9KTtcbn07XG5cbmV4cG9ydCB2YXIgYnVpbGRTdGF0ZSA9IGZ1bmN0aW9uIGJ1aWxkU3RhdGUobmV4dFByb3BzLCBwcmV2U3RhdGUpIHtcbiAgdmFyIGRhdGEgPSBuZXh0UHJvcHMuZGF0YTtcbiAgdmFyIGZpbHRlcnMgPSBwcmV2U3RhdGUuZmlsdGVycyxcbiAgICAgIHNvcnQgPSBwcmV2U3RhdGUuc29ydCxcbiAgICAgIHdpZHRocyA9IHByZXZTdGF0ZS53aWR0aHM7XG4gIHZhciBuZXh0U3RhdGUgPSB7XG4gICAgZGF0YTogZGF0YSxcbiAgICBmaWx0ZXJzOiBmaWx0ZXJzLFxuICAgIHNvcnQ6IHNvcnQsXG4gICAgd2lkdGhzOiB3aWR0aHNcbiAgfTtcbiAgbmV4dFN0YXRlID0gZmluZFByaW1hcnkobmV4dFByb3BzLCBwcmV2U3RhdGUsIG5leHRTdGF0ZSk7XG4gIG5leHRTdGF0ZSA9IGZpbHRlcihuZXh0UHJvcHMsIHByZXZTdGF0ZSwgbmV4dFN0YXRlKTtcbiAgbmV4dFN0YXRlID0gYWdncmVnYXRlKG5leHRQcm9wcywgcHJldlN0YXRlLCBuZXh0U3RhdGUpO1xuICBuZXh0U3RhdGUgPSBidWlsZEZvb3RlclZhbHVlcyhuZXh0UHJvcHMsIHByZXZTdGF0ZSwgbmV4dFN0YXRlKTtcbiAgbmV4dFN0YXRlID0gc29ydERhdGEobmV4dFByb3BzLCBwcmV2U3RhdGUsIG5leHRTdGF0ZSk7XG4gIG5leHRTdGF0ZSA9IGdyb3VwRGF0YShuZXh0UHJvcHMsIHByZXZTdGF0ZSwgbmV4dFN0YXRlKTtcbiAgcmV0dXJuIG5leHRTdGF0ZTtcbn07IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuaW1wb3J0IHsgZGVzY3JpYmUsIFByb3BUeXBlcyB9IGZyb20gJ3JlYWN0LWRlc2MnO1xuaW1wb3J0IHsgZ2VuZXJpY1Byb3BzLCBnZXRBdmFpbGFibGVBdEJhZGdlIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xudmFyIHNpemVzID0gWyd4eHNtYWxsJywgJ3hzbWFsbCcsICdzbWFsbCcsICdtZWRpdW0nLCAnbGFyZ2UnLCAneGxhcmdlJ107XG52YXIgc2lkZXMgPSBbJ2hvcml6b250YWwnLCAndmVydGljYWwnLCAndG9wJywgJ2JvdHRvbScsICdsZWZ0JywgJ3JpZ2h0J107XG52YXIgcGFydHMgPSBbJ2hlYWRlcicsICdib2R5JywgJ2Zvb3RlciddO1xudmFyIHBhZFNoYXBlU2lkZXMgPSB7fTtcbnNpZGVzLmZvckVhY2goZnVuY3Rpb24gKHNpZGUpIHtcbiAgcGFkU2hhcGVTaWRlc1tzaWRlXSA9IFByb3BUeXBlcy5vbmVPZihzaXplcyk7XG59KTtcbnZhciBwYWRTaGFwZVBhcnRzID0ge307XG5wYXJ0cy5mb3JFYWNoKGZ1bmN0aW9uIChwYXJ0KSB7XG4gIHBhZFNoYXBlUGFydHNbcGFydF0gPSB7fTtcbiAgc2lkZXMuZm9yRWFjaChmdW5jdGlvbiAoc2lkZSkge1xuICAgIHBhZFNoYXBlUGFydHNbcGFydF1bc2lkZV0gPSBQcm9wVHlwZXMub25lT2Yoc2l6ZXMpO1xuICB9KTtcbn0pO1xudmFyIGJhY2tncm91bmRTaGFwZSA9IHt9O1xucGFydHMuZm9yRWFjaChmdW5jdGlvbiAocGFydCkge1xuICBiYWNrZ3JvdW5kU2hhcGVbcGFydF0gPSBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMuc3RyaW5nKV0pO1xufSk7XG52YXIgYm9yZGVyVHlwZXMgPSBbUHJvcFR5cGVzLmJvb2wsIFByb3BUeXBlcy5vbmVPZihzaWRlcyksIFByb3BUeXBlcy5zaGFwZSh7XG4gIGNvbG9yOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMuc2hhcGUoe1xuICAgIGRhcms6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgbGlnaHQ6IFByb3BUeXBlcy5zdHJpbmdcbiAgfSldKSxcbiAgc2lkZTogUHJvcFR5cGVzLm9uZU9mKHNpZGVzKSxcbiAgc2l6ZTogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKHNpemVzKSwgUHJvcFR5cGVzLnN0cmluZ10pXG59KV07XG52YXIgYm9yZGVyU2hhcGUgPSB7fTtcbnBhcnRzLmZvckVhY2goZnVuY3Rpb24gKHBhcnQpIHtcbiAgYm9yZGVyU2hhcGVbcGFydF0gPSBQcm9wVHlwZXMub25lT2ZUeXBlKGJvcmRlclR5cGVzKTtcbn0pO1xuZXhwb3J0IHZhciBkb2MgPSBmdW5jdGlvbiBkb2MoRGF0YVRhYmxlKSB7XG4gIHZhciBEb2N1bWVudGVkRGF0YVRhYmxlID0gZGVzY3JpYmUoRGF0YVRhYmxlKS5hdmFpbGFibGVBdChnZXRBdmFpbGFibGVBdEJhZGdlKCdEYXRhVGFibGUnKSkuZGVzY3JpcHRpb24oJ0EgZGF0YSBkcml2ZW4gdGFibGUuJykudXNhZ2UoXCJpbXBvcnQgeyBEYXRhVGFibGUgfSBmcm9tICdncm9tbWV0JztcXG48RGF0YVRhYmxlIC8+XCIpLmludHJpbnNpY0VsZW1lbnQoJ3RhYmxlJyk7XG4gIERvY3VtZW50ZWREYXRhVGFibGUucHJvcFR5cGVzID0gX2V4dGVuZHMoe30sIGdlbmVyaWNQcm9wcywge1xuICAgIGJhY2tncm91bmQ6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5zdHJpbmcpLCBQcm9wVHlwZXMuc2hhcGUoYmFja2dyb3VuZFNoYXBlKV0pLmRlc2NyaXB0aW9uKFwiQ2VsbCBiYWNrZ3JvdW5kLiBZb3UgY2FuIHNldCB0aGUgYmFja2dyb3VuZCBwZXIgY29udGV4dCBieSBwYXNzaW5nIGFuXFxuICAgICAgb2JqZWN0IHdpdGgga2V5cyBmb3IgJ2hlYWRpbmcnLCAnYm9keScsIGFuZC9vciAnZm9vdGVyJy4gSWYgeW91IHBhc3NcXG4gICAgICBhbiBhcnJheSwgcm93cyB3aWxsIGN5Y2xlIGJldHdlZW4gdGhlIGFycmF5IHZhbHVlcy5cIiksXG4gICAgYm9yZGVyOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtdLmNvbmNhdChib3JkZXJUeXBlcywgW1Byb3BUeXBlcy5zaGFwZShib3JkZXJTaGFwZSldKSkuZGVzY3JpcHRpb24oXCJDZWxsIGJvcmRlci4gWW91IGNhbiBzZXQgdGhlIGJvcmRlciBwZXIgY29udGV4dCBieSBwYXNzaW5nIGFuXFxuICAgICAgb2JqZWN0IHdpdGgga2V5cyBmb3IgJ2hlYWRpbmcnLCAnYm9keScsIGFuZC9vciAnZm9vdGVyJy5cIiksXG4gICAgY29sdW1uczogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgIGFsaWduOiBQcm9wVHlwZXMub25lT2YoWydjZW50ZXInLCAnc3RhcnQnLCAnZW5kJ10pLFxuICAgICAgYWdncmVnYXRlOiBQcm9wVHlwZXMub25lT2YoWydhdmcnLCAnbWF4JywgJ21pbicsICdzdW0nXSksXG4gICAgICBmb290ZXI6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5ub2RlLCBQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgICBhZ2dyZWdhdGU6IFByb3BUeXBlcy5ib29sXG4gICAgICB9KV0pLFxuICAgICAgaGVhZGVyOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMubm9kZSwgUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgICAgYWdncmVnYXRlOiBQcm9wVHlwZXMuYm9vbFxuICAgICAgfSldKSxcbiAgICAgIHByaW1hcnk6IFByb3BUeXBlcy5ib29sLFxuICAgICAgcHJvcGVydHk6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICAgIHJlbmRlcjogUHJvcFR5cGVzLmZ1bmMsXG4gICAgICBzZWFyY2g6IFByb3BUeXBlcy5ib29sLFxuICAgICAgc29ydGFibGU6IFByb3BUeXBlcy5ib29sXG4gICAgfSkpLmRlc2NyaXB0aW9uKFwiQSBkZXNjcmlwdGlvbiBvZiB0aGUgZGF0YS4gVGhlIG9yZGVyIGNvbnRyb2xzIHRoZSBjb2x1bW4gb3JkZXIuXFxuICAgICAgJ3Byb3BlcnR5JyBpbmRpY2F0ZXMgd2hpY2ggcHJvcGVydHkgaW4gdGhlIGRhdGEgb2JqZWN0cyB0byBhc3NvY2lhdGVcXG4gICAgICB0aGUgY29sdW1uIHdpdGguICdoZWFkZXInIGluZGljYXRlcyB3aGF0IHRvIGRpc3BsYXkgaW4gdGhlIGNvbHVtblxcbiAgICAgIGhlYWRlci4gJ3JlbmRlcicgYWxsb3dzIGZvciBjdXN0b20gcmVuZGVyaW5nIG9mIGJvZHkgY2VsbHMuIFVzZSAncmVuZGVyJ1xcbiAgICAgIGZvciBjdXN0b20gZm9ybWF0dGluZyBmb3IgdGhpbmdzIGxpa2UgY3VycmVuY3kgYW5kIGRhdGUgb3IgdG9cXG4gICAgICBkaXNwbGF5IHJpY2ggY29udGVudCBsaWtlIE1ldGVycy4gJ2FsaWduJyBpbmRpY2F0ZXMgaG93IHRoZSBjZWxscyBpblxcbiAgICAgIHRoZSBjb2x1bW4gYXJlIGFsaWduZWQuICdhZ2dyZWdhdGUnIGluZGljYXRlcyBob3cgdGhlIGRhdGEgaW4gdGhlXFxuICAgICAgY29sdW1uIHNob3VsZCBiZSBhZ2dyZWdhdGVkLiBUaGlzIG9ubHkgYXBwbGllcyB0byBhIGZvb3RlciBvciBncm91cEJ5XFxuICAgICAgY29udGV4dC4gJ2Zvb3RlcicgaW5kaWNhdGVzIHdoYXQgc2hvdWxkIGJlIHNob3duIGluIHRoZSBmb290ZXIgZm9yXFxuICAgICAgdGhlIGNvbHVtbi4gJ3NlYXJjaCcgaW5kaWNhdGVzIHdoZXRoZXIgYSBzZWFyY2ggZmlsdGVyIHNob3VsZCBiZVxcbiAgICAgIG1hZGUgYXZhaWxhYmxlIGZvciB0aGUgY29sdW1uLiAncHJpbWFyeScgaW5kaWNhdGVzIHRoYXQgdGhpcyBwcm9wZXJ0eVxcbiAgICAgIHNob3VsZCBiZSB1c2VkIGFzIHRoZSB1bmlxdWUgaWRlbnRpZmllciwgd2hpY2ggZ2l2ZXMgdGhlIGNlbGwgJ3Jvdycgc2NvcGVcXG4gICAgICBmb3IgYWNjZXNzaWJpbGl0eS4gSWYgJ3ByaW1hcnknIGlzIG5vdCB1c2VkIGZvciBhbnkgY29sdW1uLCBhbmRcXG4gICAgICAncHJpbWFyeUtleScgaXNuJ3Qgc3BlY2lmaWVkIGVpdGhlciwgdGhlbiB0aGUgZmlyc3QgY29sdW1uIHdpbGwgYmUgdXNlZC5cIiksXG4gICAgZGF0YTogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLnNoYXBlKHt9KSkuZGVzY3JpcHRpb24oJ0FycmF5IG9mIGRhdGEgb2JqZWN0cy4nKSxcbiAgICBncm91cEJ5OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgcHJvcGVydHk6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgICBleHBhbmQ6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5zdHJpbmcpLFxuICAgICAgb25FeHBhbmQ6IFByb3BUeXBlcy5mdW5jXG4gICAgfSldKS5kZXNjcmlwdGlvbihcIlByb3BlcnR5IHRvIGdyb3VwIGRhdGEgYnkuIElmIG9iamVjdCBpcyBzcGVjaWZpZWRcXG4gICAgICAncHJvcGVydHknIGlzIHVzZWQgdG8gZ3JvdXAgZGF0YSBieSwgJ2V4cGFuZCcgYWNjZXB0cyBhcnJheSBvZiBcXG4gICAgICAgZ3JvdXAga2V5cyB0aGF0IHNldHMgZXhwYW5kZWQgZ3JvdXBzIGFuZCAnb25FeHBhbmQnIGlzIGEgZnVuY3Rpb25cXG4gICAgICAgdGhhdCB3aWxsIGJlIGNhbGxlZCBhZnRlciBleHBhbmQgYnV0dG9uIGlzIGNsaWNrZWQgd2l0aFxcbiAgICAgICBhbiBhcnJheSBvZiBrZXlzIG9mIGV4cGFuZGVkIGdyb3Vwcy5cIiksXG4gICAgb25Nb3JlOiBQcm9wVHlwZXMuZnVuYy5kZXNjcmlwdGlvbihcIlVzZSB0aGlzIHRvIGluZGljYXRlIHRoYXQgJ2RhdGEnIGRvZXNuJ3QgY29udGFpbiBhbGwgdGhhdCBpdCBjb3VsZC5cXG4gICAgICBJdCB3aWxsIGJlIGNhbGxlZCB3aGVuIGFsbCBvZiB0aGUgZGF0YSByb3dzIGhhdmUgYmVlbiByZW5kZXJlZC5cXG4gICAgICBUaGlzIG1pZ2h0IGJlIHVzZWQgd2hlbiB0aGUgdG90YWwgbnVtYmVyIG9mIGl0ZW1zIHRoYXQgY291bGQgYmUgcmV0cmlldmVkXFxuICAgICAgaXMgbW9yZSB0aGFuIHlvdSdkIHdhbnQgdG8gbG9hZCBpbnRvIHRoZSBicm93c2VyLiAnb25Nb3JlJyBhbGxvd3MgeW91XFxuICAgICAgdG8gbGF6aWx5IGZldGNoIG1vcmUgZnJvbSB0aGUgc2VydmVyIG9ubHkgd2hlbiBuZWVkZWQuIFRoaXMgY2Fubm90XFxuICAgICAgYmUgY29tYmluZWQgd2l0aCBwcm9wZXJ0aWVzIHRoYXQgZXhwZWN0IGFsbCBkYXRhIHRvIGJlIHByZXNlbnQgaW4gdGhlXFxuICAgICAgYnJvd3Nlciwgc3VjaCBhcyBjb2x1bW5zLnNlYXJjaCwgc29ydGFibGUsIGdyb3VwQnksIG9yIFxcbiAgICAgIGNvbHVtbnMuYWdncmVnYXRlLlwiKSxcbiAgICByZXBsYWNlOiBQcm9wVHlwZXMuYm9vbC5kZXNjcmlwdGlvbihcIldoZXRoZXIgdG8gcmVwbGFjZSBwcmV2aW91c2x5IHJlbmRlcmVkIGl0ZW1zIHdpdGggYSBnZW5lcmljIHNwYWNpbmdcXG4gICAgICBlbGVtZW50IHdoZW4gdGhleSBoYXZlIHNjcm9sbGVkIG91dCBvZiB2aWV3LiBUaGlzIGlzIG1vcmUgcGVyZm9ybWFudCBidXRcXG4gICAgICBtZWFucyB0aGF0IGluLXBhZ2Ugc2VhcmNoaW5nIHdpbGwgbm90IGZpbmQgZWxlbWVudHMgdGhhdCBoYXZlIGJlZW5cXG4gICAgICByZXBsYWNlZC5cIiksXG4gICAgb25DbGlja1JvdzogUHJvcFR5cGVzLmZ1bmMuZGVzY3JpcHRpb24oXCJXaGVuIHN1cHBsaWVkLCB0aGlzIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIHdpdGggYW4gZXZlbnQgb2JqZWN0IHRoYXRcXG4gICAgICBpbmNsdWRlIGEgJ2RhdHVtJyBwcm9wZXJ0eSBjb250YWluaW5nIHRoZSBkYXRhIHZhbHVlIGFzc29jaWF0ZWQgd2l0aFxcbiAgICAgIHRoZSBjbGlja2VkIHJvdy4gWW91IHNob3VsZCBub3QgaW5jbHVkZSBpbnRlcmFjdGl2ZSBlbGVtZW50cywgbGlrZVxcbiAgICAgIEFuY2hvciBvciBCdXR0b24gaW5zaWRlIHRhYmxlIGNlbGxzIGFzIHRoYXQgY2FuIGNhdXNlIGNvbmZ1c2lvbiB3aXRoXFxuICAgICAgb3ZlcmxhcHBpbmcgaW50ZXJhY3RpdmUgZWxlbWVudHMuXCIpLFxuICAgIG9uU2VhcmNoOiBQcm9wVHlwZXMuZnVuYy5kZXNjcmlwdGlvbihcIldoZW4gc3VwcGxpZWQsIGFuZCB3aGVuIGF0IGxlYXN0IG9uZSBjb2x1bW4gaGFzICdzZWFyY2gnIGVuYWJsZWQsXFxuICAgICAgdGhpcyBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCB3aXRoIGFuIG9iamVjdCB3aXRoIGtleXMgZm9yIHByb3BlcnR5XFxuICAgICAgbmFtZXMgYW5kIHZhbHVlcyB3aGljaCBhcmUgdGhlIHNlYXJjaCB0ZXh0IHN0cmluZ3MuIFRoaXMgaXMgdHlwaWNhbGx5XFxuICAgICAgZW1wbG95ZWQgc28gYSBiYWNrLWVuZCBjYW4gYmUgdXNlZCB0byBzZWFyY2ggdGhyb3VnaCB0aGUgZGF0YS5cIiksXG4gICAgcGFkOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2Yoc2l6ZXMpLCBQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMuc2hhcGUocGFkU2hhcGVTaWRlcyksIFByb3BUeXBlcy5zaGFwZShwYWRTaGFwZVBhcnRzKV0pLmRlc2NyaXB0aW9uKFwiQ2VsbCBwYWRkaW5nLiBZb3UgY2FuIHNldCB0aGUgcGFkZGluZyBwZXIgY29udGV4dCBieSBwYXNzaW5nIGFuXFxuICAgICAgb2JqZWN0IHdpdGgga2V5cyBmb3IgJ2hlYWRpbmcnLCAnYm9keScsIGFuZC9vciAnZm9vdGVyJy5cIiksXG4gICAgcHJpbWFyeUtleTogUHJvcFR5cGVzLnN0cmluZy5kZXNjcmlwdGlvbihcIldoZW4gc3VwcGxpZWQsIGluZGljYXRlcyB0aGUgcHJvcGVydHkgZm9yIGEgZGF0YSBvYmplY3QgdG8gdXNlIHRvXFxuICAgICAgZ2V0IGEgdW5pcXVlIGlkZW50aWZpZXIuIFNlZSBhbHNvIHRoZSAnY29sdW1ucy5wcmltYXJ5JyBkZXNjcmlwdGlvbi5cXG4gICAgICBVc2UgdGhpcyBwcm9wZXJ0eSB3aGVuIHRoZSBjb2x1bW5zIGFwcHJvYWNoIHdpbGwgbm90IHdvcmsgZm9yIHlvdXJcXG4gICAgICBkYXRhIHNldC5cIiksXG4gICAgcmVzaXplYWJsZTogUHJvcFR5cGVzLmJvb2wuZGVzY3JpcHRpb24oJ1doZXRoZXIgdG8gYWxsb3cgdGhlIHVzZXIgdG8gcmVzaXplIGNvbHVtbiB3aWR0aHMuJyksXG4gICAgcm93UHJvcHM6IFByb3BUeXBlcy5zaGFwZSh7fSkuZGVzY3JpcHRpb24oXCJSb3cgc3BlY2lmaWMgYmFja2dyb3VuZCwgYm9yZGVyLCBhbmQgcGFkLCBrZXllZCBieSBwcmltYXJ5IGtleSB2YWx1ZS5cXG4gICAgICBGb3IgZXhhbXBsZTpcXG4gICAgICB7IFxcXCJwcmltYXJ5LWtleS12YWx1ZVxcXCI6IHsgYmFja2dyb3VuZDogLi4uLCBib3JkZXI6IC4uLiwgcGFkOiAuLi4gfX0sXFxuICAgICAgd2hlcmUgdGhlIGJhY2tncm91bmQsIGJvcmRlciwgYW5kIHBhZCBhY2NlcHQgdGhlIHNhbWUgdmFsdWVzIGFzXFxuICAgICAgdGhlIHNhbWUgbmFtZWQgcHJvcGVydGllcyBvbiBEYXRhVGFibGUuXCIpLFxuICAgIHNpemU6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbJ3NtYWxsJywgJ21lZGl1bScsICdsYXJnZScsICd4bGFyZ2UnXSksIFByb3BUeXBlcy5zdHJpbmddKS5kZXNjcmlwdGlvbihcIlRoZSBoZWlnaHQgb2YgdGhlIHRhYmxlIGJvZHkuIElmIHNldCwgdGhlIHRhYmxlIGJvZHkgd2lsbCBoYXZlIGEgZml4ZWRcXG4gICAgICBoZWlnaHQgYW5kIHRoZSByb3dzIHdpbGwgYmUgc2Nyb2xsYWJsZSB3aXRoaW4gaXQuIEluIG9yZGVyIHRvIHByZXNlcnZlXFxuICAgICAgaGVhZGVyIGFuZCBmb290ZXIgY2VsbCBhbGlnbm1lbnQsIGFsbCBjZWxscyB3aWxsIGhhdmUgdGhlIHNhbWVcXG4gICAgICB3aWR0aC4gVGhpcyBjYW5ub3QgYmUgdXNlZCBpbiBjb21iaW5hdGlvbiB3aXRoICdyZXNpemVhYmxlJy5cIiksXG4gICAgc29ydGFibGU6IFByb3BUeXBlcy5ib29sLmRlc2NyaXB0aW9uKCdXaGV0aGVyIHRvIGFsbG93IHRoZSB1c2VyIHRvIHNvcnQgY29sdW1ucy4nKSxcbiAgICBzdGVwOiBQcm9wVHlwZXMubnVtYmVyLmRlc2NyaXB0aW9uKCdIb3cgbWFueSBpdGVtcyB0byByZW5kZXIgYXQgYSB0aW1lLicpLmRlZmF1bHRWYWx1ZSg1MClcbiAgfSk7XG4gIHJldHVybiBEb2N1bWVudGVkRGF0YVRhYmxlO1xufTtcbmV4cG9ydCB2YXIgdGhlbWVEb2MgPSB7XG4gICdnbG9iYWwuaG92ZXIuYmFja2dyb3VuZCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBiYWNrZ3JvdW5kIHN0eWxlIHdoZW4gaG92ZXJpbmcgb3ZlciBhbiBpbnRlcmFjdGl2ZSByb3cuJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgeyBjb2xvcjogc3RyaW5nLCBvcGFjaXR5OiBzdHJpbmcgfScsXG4gICAgZGVmYXVsdFZhbHVlOiBcInsgY29sb3I6ICdhY3RpdmUnLCBvcGFjaXR5OiAnbWVkaXVtJyB9XCJcbiAgfSxcbiAgJ2dsb2JhbC5ob3Zlci5jb2xvcic6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSB0ZXh0IGNvbG9yIHdoZW4gaG92ZXJpbmcgb3ZlciBhbiBpbnRlcmFjdGl2ZSByb3cuJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgeyBkYXJrOiBzdHJpbmcsIGxpZ2h0OiBzdHJpbmcgfScsXG4gICAgZGVmYXVsdFZhbHVlOiBcInsgZGFyazogJ3doaXRlJywgbGlnaHQ6ICdibGFjaycgfVwiXG4gIH0sXG4gICdkYXRhVGFibGUuZ3JvdXBIZWFkZXIuYmFja2dyb3VuZCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBiYWNrZ3JvdW5kIGNvbG9yIG9mIHRoZSBncm91cCBoZWFkZXIuJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgeyBkYXJrOiBzdHJpbmcsIGxpZ2h0OiBzdHJpbmcgfScsXG4gICAgZGVmYXVsdFZhbHVlOiBcInsgZGFyazogJ2RhcmstMicsIGxpZ2h0OiAnbGlnaHQtMicgfVwiXG4gIH0sXG4gICdkYXRhVGFibGUuZ3JvdXBIZWFkZXIuYm9yZGVyLnNpZGUnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgYm9yZGVyIHNpZGUgcmVuZGVyZWQgZm9yIHRoZSBncm91cCBoZWFkZXIuJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICdib3R0b20nXG4gIH0sXG4gICdkYXRhVGFibGUuZ3JvdXBIZWFkZXIuYm9yZGVyLnNpemUnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgYm9yZGVyIHNpemUgb2YgdGhlIGdyb3VwIGhlYWRlciBib3JkZXIuJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICd4c21hbGwnXG4gIH0sXG4gICdkYXRhVGFibGUuZ3JvdXBIZWFkZXIuZmlsbCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1doZXRoZXIgdGhlIGhlaWdodCBzaG91bGQgZmlsbCB0aGUgZ3JvdXAgaGVhZGVyLicsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiAndmVydGljYWwnXG4gIH0sXG4gICdkYXRhVGFibGUuZ3JvdXBIZWFkZXIucGFkJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIHBhZCB1c2VkIGZvciB0aGUgZ3JvdXAgaGVhZGVyLicsXG4gICAgdHlwZTogJ3N0cmluZyB8IG9iamVjdCcsXG4gICAgZGVmYXVsdFZhbHVlOiBcInsgaG9yaXpvbnRhbDogJ3NtYWxsJywgdmVydGljYWw6ICd4c21hbGwnIH1cIlxuICB9LFxuICAnZGF0YVRhYmxlLmhlYWRlcic6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1N0eWxlcyBmb3IgdGhlIGhlYWRlci4nLFxuICAgIHR5cGU6ICdvYmplY3QnLFxuICAgIGRlZmF1bHRWYWx1ZTogJ3t9J1xuICB9LFxuICAnZGF0YVRhYmxlLmljb25zLmFzY2VuZGluZyc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBhc2NlbmRpbmcgaWNvbi4nLFxuICAgIHR5cGU6ICdSZWFjdC5FbGVtZW50JyxcbiAgICBkZWZhdWx0VmFsdWU6ICc8Rm9ybURvd24gLz4nXG4gIH0sXG4gICdkYXRhVGFibGUuaWNvbnMuY29udHJhY3QnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgY29udHJhY3QgaWNvbi4nLFxuICAgIHR5cGU6ICdSZWFjdC5FbGVtZW50JyxcbiAgICBkZWZhdWx0VmFsdWU6ICc8Rm9ybVVwIC8+J1xuICB9LFxuICAnZGF0YVRhYmxlLmljb25zLmRlc2NlbmRpbmcnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgZGVzY2VuZGluZyBpY29uLicsXG4gICAgdHlwZTogJ1JlYWN0LkVsZW1lbnQnLFxuICAgIGRlZmF1bHRWYWx1ZTogJzxGb3JtVXAgLz4nXG4gIH0sXG4gICdkYXRhVGFibGUuaWNvbnMuZXhwYW5kJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGV4cGFuZCBpY29uLicsXG4gICAgdHlwZTogJ1JlYWN0LkVsZW1lbnQnLFxuICAgIGRlZmF1bHRWYWx1ZTogJzxGb3JtRG93biAvPidcbiAgfSxcbiAgJ2RhdGFUYWJsZS5wcmltYXJ5LndlaWdodCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBmb250IHdlaWdodCBmb3IgcHJpbWFyeSBjZWxscy4nLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogJ2JvbGQnXG4gIH0sXG4gICdkYXRhVGFibGUucmVzaXplLmJvcmRlci5jb2xvcic6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBib3JkZXIgY29sb3IgZm9yIHJlc2l6ZS4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCB7IGRhcms6IHN0cmluZywgbGlnaHQ6IHN0cmluZyB9JyxcbiAgICBkZWZhdWx0VmFsdWU6ICdib3JkZXInXG4gIH0sXG4gICdkYXRhVGFibGUucmVzaXplLmJvcmRlci5zaWRlJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGJvcmRlciBzaWRlIHVzZWQgZm9yIHJlc2l6ZS4nLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogJ3JpZ2h0J1xuICB9LFxuICAndGFibGUucm93LmhvdmVyLmJhY2tncm91bmQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgYmFja2dyb3VuZCBjb2xvciB3aGVuIGhvdmVyaW5nIG92ZXIgYW4gaW50ZXJhY3RpdmUgcm93LicsXG4gICAgdHlwZTogJ3N0cmluZyB8IHsgY29sb3I6IHN0cmluZywgb3BhY2l0eTogc3RyaW5nIH0nXG4gIH0sXG4gICd0YWJsZS5yb3cuaG92ZXIuY29sb3InOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgdGV4dCBjb2xvciB3aGVuIGhvdmVyaW5nIG92ZXIgYW4gaW50ZXJhY3RpdmUgcm93LicsXG4gICAgdHlwZTogJ3N0cmluZyB8IHsgZGFyazogc3RyaW5nLCBsaWdodDogc3RyaW5nIH0nXG4gIH1cbn07IiwiZXhwb3J0IHsgRGF0YVRhYmxlIH0gZnJvbSAnLi9EYXRhVGFibGUnOyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjb21wb3NlIH0gZnJvbSAncmVjb21wb3NlJztcbmltcG9ydCB7IHdpdGhUaGVtZSB9IGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCB7IGRlZmF1bHRQcm9wcyB9IGZyb20gJy4uLy4uL2RlZmF1bHQtcHJvcHMnO1xuaW1wb3J0IHsgbm9ybWFsaXplQ29sb3IsIHBhcnNlTWV0cmljVG9OdW0gfSBmcm9tICcuLi8uLi91dGlscyc7XG5pbXBvcnQgeyBTdHlsZWREaWFncmFtIH0gZnJvbSAnLi9TdHlsZWREaWFncmFtJztcblxudmFyIGNvbXB1dGVNaWRQb2ludCA9IGZ1bmN0aW9uIGNvbXB1dGVNaWRQb2ludChmcm9tUG9pbnQsIHRvUG9pbnQpIHtcbiAgcmV0dXJuIFtmcm9tUG9pbnRbMF0gPiB0b1BvaW50WzBdID8gdG9Qb2ludFswXSArIChmcm9tUG9pbnRbMF0gLSB0b1BvaW50WzBdKSAvIDIgOiBmcm9tUG9pbnRbMF0gKyAodG9Qb2ludFswXSAtIGZyb21Qb2ludFswXSkgLyAyLCBmcm9tUG9pbnRbMV0gPiB0b1BvaW50WzFdID8gdG9Qb2ludFsxXSArIChmcm9tUG9pbnRbMV0gLSB0b1BvaW50WzFdKSAvIDIgOiBmcm9tUG9pbnRbMV0gKyAodG9Qb2ludFsxXSAtIGZyb21Qb2ludFsxXSkgLyAyXTtcbn07XG5cbnZhciBDT01NQU5EUyA9IHtcbiAgY3VydmVkOiBmdW5jdGlvbiBjdXJ2ZWQoZnJvbVBvaW50LCB0b1BvaW50LCBvZmZzZXQsIGFuY2hvcikge1xuICAgIHZhciBtaWRQb2ludCA9IGNvbXB1dGVNaWRQb2ludChmcm9tUG9pbnQsIHRvUG9pbnQpO1xuICAgIHZhciBjbWRzID0gXCJNIFwiICsgKGZyb21Qb2ludFswXSArIG9mZnNldCkgKyBcIixcIiArIChmcm9tUG9pbnRbMV0gKyBvZmZzZXQpICsgXCIgXCI7XG5cbiAgICBpZiAoYW5jaG9yID09PSAnaG9yaXpvbnRhbCcpIHtcbiAgICAgIGNtZHMgKz0gXCJRIFwiICsgKG1pZFBvaW50WzBdICsgb2Zmc2V0KSArIFwiLFwiICsgKGZyb21Qb2ludFsxXSArIG9mZnNldCkgKyBcIiBcIiArIChtaWRQb2ludFswXSArIG9mZnNldCArIFwiLFwiICsgKG1pZFBvaW50WzFdICsgb2Zmc2V0KSArIFwiIFwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY21kcyArPSBcIlEgXCIgKyAoZnJvbVBvaW50WzBdICsgb2Zmc2V0KSArIFwiLFwiICsgKG1pZFBvaW50WzFdICsgb2Zmc2V0KSArIFwiIFwiICsgKG1pZFBvaW50WzBdICsgb2Zmc2V0ICsgXCIsXCIgKyAobWlkUG9pbnRbMV0gKyBvZmZzZXQpICsgXCIgXCIpO1xuICAgIH1cblxuICAgIGNtZHMgKz0gXCJUIFwiICsgKHRvUG9pbnRbMF0gKyBvZmZzZXQpICsgXCIsXCIgKyAodG9Qb2ludFsxXSArIG9mZnNldCk7XG4gICAgcmV0dXJuIGNtZHM7XG4gIH0sXG4gIGRpcmVjdDogZnVuY3Rpb24gZGlyZWN0KGZyb21Qb2ludCwgdG9Qb2ludCwgb2Zmc2V0KSB7XG4gICAgcmV0dXJuIFwiTSBcIiArIChmcm9tUG9pbnRbMF0gKyBvZmZzZXQpICsgXCIsXCIgKyAoZnJvbVBvaW50WzFdICsgb2Zmc2V0KSArIFwiIFwiICsgKFwiTCBcIiArICh0b1BvaW50WzBdICsgb2Zmc2V0KSArIFwiLFwiICsgKHRvUG9pbnRbMV0gKyBvZmZzZXQpKTtcbiAgfSxcbiAgcmVjdGlsaW5lYXI6IGZ1bmN0aW9uIHJlY3RpbGluZWFyKGZyb21Qb2ludCwgdG9Qb2ludCwgb2Zmc2V0LCBhbmNob3IpIHtcbiAgICB2YXIgbWlkUG9pbnQgPSBjb21wdXRlTWlkUG9pbnQoZnJvbVBvaW50LCB0b1BvaW50KTtcbiAgICB2YXIgY21kcyA9IFwiTSBcIiArIChmcm9tUG9pbnRbMF0gKyBvZmZzZXQpICsgXCIsXCIgKyAoZnJvbVBvaW50WzFdICsgb2Zmc2V0KSArIFwiIFwiO1xuXG4gICAgaWYgKGFuY2hvciA9PT0gJ2hvcml6b250YWwnKSB7XG4gICAgICBjbWRzICs9IFwiTCBcIiArIChtaWRQb2ludFswXSArIG9mZnNldCkgKyBcIixcIiArIChmcm9tUG9pbnRbMV0gKyBvZmZzZXQpICsgXCIgXCIgKyAoXCJMIFwiICsgKG1pZFBvaW50WzBdICsgb2Zmc2V0KSArIFwiLFwiICsgKHRvUG9pbnRbMV0gKyBvZmZzZXQpICsgXCIgXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjbWRzICs9IFwiTCBcIiArIChmcm9tUG9pbnRbMF0gKyBvZmZzZXQpICsgXCIsXCIgKyAobWlkUG9pbnRbMV0gKyBvZmZzZXQpICsgXCIgXCIgKyAoXCJMIFwiICsgKHRvUG9pbnRbMF0gKyBvZmZzZXQpICsgXCIsXCIgKyAobWlkUG9pbnRbMV0gKyBvZmZzZXQpICsgXCIgXCIpO1xuICAgIH1cblxuICAgIGNtZHMgKz0gXCJMIFwiICsgKHRvUG9pbnRbMF0gKyBvZmZzZXQpICsgXCIsXCIgKyAodG9Qb2ludFsxXSArIG9mZnNldCk7XG4gICAgcmV0dXJuIGNtZHM7XG4gIH1cbn07XG5cbnZhciBmaW5kVGFyZ2V0ID0gZnVuY3Rpb24gZmluZFRhcmdldCh0YXJnZXQpIHtcbiAgaWYgKHR5cGVvZiB0YXJnZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRhcmdldCk7XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufTtcblxudmFyIERpYWdyYW0gPSBmdW5jdGlvbiBEaWFncmFtKF9yZWYpIHtcbiAgdmFyIGNvbm5lY3Rpb25zID0gX3JlZi5jb25uZWN0aW9ucyxcbiAgICAgIHRoZW1lID0gX3JlZi50aGVtZSxcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfcmVmLCBbXCJjb25uZWN0aW9uc1wiLCBcInRoZW1lXCJdKTtcblxuICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUoe1xuICAgIHdpZHRoOiAwLFxuICAgIGhlaWdodDogMFxuICB9KSxcbiAgICAgIGRpbWVuc2lvbnMgPSBfdXNlU3RhdGVbMF0sXG4gICAgICBzZXREaW1lbnNpb25zID0gX3VzZVN0YXRlWzFdO1xuXG4gIHZhciBfdXNlU3RhdGUyID0gdXNlU3RhdGUoKSxcbiAgICAgIGNvbm5lY3Rpb25Qb2ludHMgPSBfdXNlU3RhdGUyWzBdLFxuICAgICAgc2V0Q29ubmVjdGlvblBvaW50cyA9IF91c2VTdGF0ZTJbMV07XG5cbiAgdmFyIHN2Z1JlZiA9IHVzZVJlZigpO1xuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIHNldENvbm5lY3Rpb25Qb2ludHModW5kZWZpbmVkKTtcbiAgfSwgW2Nvbm5lY3Rpb25zXSk7XG4gIHZhciBvblJlc2l6ZSA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc3ZnID0gc3ZnUmVmLmN1cnJlbnQ7XG5cbiAgICBpZiAoc3ZnKSB7XG4gICAgICB2YXIgcmVjdCA9IHN2Zy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgaWYgKHJlY3Qud2lkdGggIT09IGRpbWVuc2lvbnMud2lkdGggfHwgcmVjdC5oZWlnaHQgIT09IGRpbWVuc2lvbnMuaGVpZ2h0KSB7XG4gICAgICAgIHNldERpbWVuc2lvbnMoe1xuICAgICAgICAgIHdpZHRoOiByZWN0LndpZHRoLFxuICAgICAgICAgIGhlaWdodDogcmVjdC5oZWlnaHRcbiAgICAgICAgfSk7XG4gICAgICAgIHNldENvbm5lY3Rpb25Qb2ludHModW5kZWZpbmVkKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtkaW1lbnNpb25zLndpZHRoLCBkaW1lbnNpb25zLmhlaWdodF0pOyAvLyBSZWYgdGhhdCBzdG9yZXMgcmVzaXplIGhhbmRsZXJcblxuICB2YXIgc2F2ZWRPblJlc2l6ZSA9IHVzZVJlZigpOyAvLyBVcGRhdGUgcmVzaXplIHJlZiB2YWx1ZSBpZiBvblJlc2l6ZSBjaGFuZ2VzLlxuICAvLyBUaGlzIGFsbG93cyBvdXIgZWZmZWN0IGJlbG93IHRvIGFsd2F5cyBnZXQgbGF0ZXN0IGhhbmRsZXJcblxuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIHNhdmVkT25SZXNpemUuY3VycmVudCA9IG9uUmVzaXplO1xuICB9LCBbb25SZXNpemVdKTtcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgb25SZXNpemVIYW5kbGVyID0gZnVuY3Rpb24gb25SZXNpemVIYW5kbGVyKGV2ZW50KSB7XG4gICAgICByZXR1cm4gc2F2ZWRPblJlc2l6ZS5jdXJyZW50KGV2ZW50KTtcbiAgICB9O1xuXG4gICAgb25SZXNpemVIYW5kbGVyKCk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIG9uUmVzaXplSGFuZGxlcik7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCBvblJlc2l6ZUhhbmRsZXIpO1xuICAgIH07XG4gIH0sIFtdKTtcbiAgdmFyIHBsYWNlQ29ubmVjdGlvbnMgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGNvbnRhaW5lclJlY3QgPSBzdmdSZWYuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICB2YXIgdXBkYXRlZENvbm5lY3Rpb25Qb2ludHMgPSBjb25uZWN0aW9ucy5tYXAoZnVuY3Rpb24gKF9yZWYyKSB7XG4gICAgICB2YXIgYW5jaG9yID0gX3JlZjIuYW5jaG9yLFxuICAgICAgICAgIGZyb21UYXJnZXQgPSBfcmVmMi5mcm9tVGFyZ2V0LFxuICAgICAgICAgIHRvVGFyZ2V0ID0gX3JlZjIudG9UYXJnZXQ7XG4gICAgICB2YXIgcG9pbnRzO1xuICAgICAgdmFyIGZyb21FbGVtZW50ID0gZmluZFRhcmdldChmcm9tVGFyZ2V0KTtcbiAgICAgIHZhciB0b0VsZW1lbnQgPSBmaW5kVGFyZ2V0KHRvVGFyZ2V0KTtcblxuICAgICAgaWYgKCFmcm9tRWxlbWVudCkge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJEaWFncmFtIGNhbm5vdCBmaW5kIFwiICsgZnJvbVRhcmdldCk7XG4gICAgICB9XG5cbiAgICAgIGlmICghdG9FbGVtZW50KSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcIkRpYWdyYW0gY2Fubm90IGZpbmQgXCIgKyB0b1RhcmdldCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChmcm9tRWxlbWVudCAmJiB0b0VsZW1lbnQpIHtcbiAgICAgICAgdmFyIGZyb21SZWN0ID0gZnJvbUVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHZhciB0b1JlY3QgPSB0b0VsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7IC8vIFRoZXJlIGlzIG5vIHggYW5kIHkgd2hlbiB1bml0IHRlc3RpbmcuXG5cbiAgICAgICAgdmFyIGZyb21Qb2ludCA9IFtmcm9tUmVjdC5sZWZ0IC0gY29udGFpbmVyUmVjdC5sZWZ0IHx8IDAsIGZyb21SZWN0LnRvcCAtIGNvbnRhaW5lclJlY3QudG9wIHx8IDBdO1xuICAgICAgICB2YXIgdG9Qb2ludCA9IFt0b1JlY3QubGVmdCAtIGNvbnRhaW5lclJlY3QubGVmdCB8fCAwLCB0b1JlY3QudG9wIC0gY29udGFpbmVyUmVjdC50b3AgfHwgMF07XG5cbiAgICAgICAgaWYgKGFuY2hvciA9PT0gJ3ZlcnRpY2FsJykge1xuICAgICAgICAgIGZyb21Qb2ludFswXSArPSBmcm9tUmVjdC53aWR0aCAvIDI7XG4gICAgICAgICAgdG9Qb2ludFswXSArPSB0b1JlY3Qud2lkdGggLyAyO1xuXG4gICAgICAgICAgaWYgKGZyb21SZWN0LnRvcCA8IHRvUmVjdC50b3ApIHtcbiAgICAgICAgICAgIGZyb21Qb2ludFsxXSArPSBmcm9tUmVjdC5oZWlnaHQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRvUG9pbnRbMV0gKz0gdG9SZWN0LmhlaWdodDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoYW5jaG9yID09PSAnaG9yaXpvbnRhbCcpIHtcbiAgICAgICAgICBmcm9tUG9pbnRbMV0gKz0gZnJvbVJlY3QuaGVpZ2h0IC8gMjtcbiAgICAgICAgICB0b1BvaW50WzFdICs9IHRvUmVjdC5oZWlnaHQgLyAyO1xuXG4gICAgICAgICAgaWYgKGZyb21SZWN0LmxlZnQgPCB0b1JlY3QubGVmdCkge1xuICAgICAgICAgICAgZnJvbVBvaW50WzBdICs9IGZyb21SZWN0LndpZHRoO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0b1BvaW50WzBdICs9IHRvUmVjdC53aWR0aDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gY2VudGVyXG4gICAgICAgICAgZnJvbVBvaW50WzBdICs9IGZyb21SZWN0LndpZHRoIC8gMjtcbiAgICAgICAgICBmcm9tUG9pbnRbMV0gKz0gZnJvbVJlY3QuaGVpZ2h0IC8gMjtcbiAgICAgICAgICB0b1BvaW50WzBdICs9IHRvUmVjdC53aWR0aCAvIDI7XG4gICAgICAgICAgdG9Qb2ludFsxXSArPSB0b1JlY3QuaGVpZ2h0IC8gMjtcbiAgICAgICAgfVxuXG4gICAgICAgIHBvaW50cyA9IFtmcm9tUG9pbnQsIHRvUG9pbnRdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcG9pbnRzO1xuICAgIH0pO1xuICAgIHNldENvbm5lY3Rpb25Qb2ludHModXBkYXRlZENvbm5lY3Rpb25Qb2ludHMpO1xuICB9LCBbY29ubmVjdGlvbnNdKTtcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIWNvbm5lY3Rpb25Qb2ludHMpIHtcbiAgICAgIHBsYWNlQ29ubmVjdGlvbnMoKTtcbiAgICB9XG4gIH0sIFtjb25uZWN0aW9uUG9pbnRzLCBwbGFjZUNvbm5lY3Rpb25zXSk7XG4gIHZhciBwYXRocztcblxuICBpZiAoY29ubmVjdGlvblBvaW50cykge1xuICAgIHBhdGhzID0gY29ubmVjdGlvbnMubWFwKGZ1bmN0aW9uIChfcmVmMywgaW5kZXgpIHtcbiAgICAgIHZhciBhbmNob3IgPSBfcmVmMy5hbmNob3IsXG4gICAgICAgICAgY29sb3IgPSBfcmVmMy5jb2xvcixcbiAgICAgICAgICBvZmZzZXQgPSBfcmVmMy5vZmZzZXQsXG4gICAgICAgICAgcm91bmQgPSBfcmVmMy5yb3VuZCxcbiAgICAgICAgICB0aGlja25lc3MgPSBfcmVmMy50aGlja25lc3MsXG4gICAgICAgICAgdHlwZSA9IF9yZWYzLnR5cGUsXG4gICAgICAgICAgY29ubmVjdGlvblJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfcmVmMywgW1wiYW5jaG9yXCIsIFwiY29sb3JcIiwgXCJvZmZzZXRcIiwgXCJyb3VuZFwiLCBcInRoaWNrbmVzc1wiLCBcInR5cGVcIl0pO1xuXG4gICAgICB2YXIgcGF0aDtcblxuICAgICAgdmFyIGNsZWFuZWRSZXN0ID0gX2V4dGVuZHMoe30sIGNvbm5lY3Rpb25SZXN0KTtcblxuICAgICAgZGVsZXRlIGNsZWFuZWRSZXN0LmZyb21UYXJnZXQ7XG4gICAgICBkZWxldGUgY2xlYW5lZFJlc3QudG9UYXJnZXQ7XG4gICAgICB2YXIgcG9pbnRzID0gY29ubmVjdGlvblBvaW50c1tpbmRleF07XG5cbiAgICAgIGlmIChwb2ludHMpIHtcbiAgICAgICAgdmFyIG9mZnNldFdpZHRoID0gb2Zmc2V0ID8gcGFyc2VNZXRyaWNUb051bSh0aGVtZS5nbG9iYWwuZWRnZVNpemVbb2Zmc2V0XSkgOiAwO1xuICAgICAgICB2YXIgZCA9IENPTU1BTkRTW3R5cGUgfHwgJ2N1cnZlZCddKHBvaW50c1swXSwgcG9pbnRzWzFdLCBvZmZzZXRXaWR0aCwgYW5jaG9yKTtcbiAgICAgICAgdmFyIHN0cm9rZVdpZHRoID0gdGhpY2tuZXNzID8gcGFyc2VNZXRyaWNUb051bSh0aGVtZS5nbG9iYWwuZWRnZVNpemVbdGhpY2tuZXNzXSB8fCB0aGlja25lc3MpIDogMTtcbiAgICAgICAgdmFyIGNvbG9yTmFtZSA9IGNvbG9yIHx8IHRoZW1lLmRpYWdyYW0ubGluZSAmJiB0aGVtZS5kaWFncmFtLmxpbmUuY29sb3I7XG5cbiAgICAgICAgaWYgKCFjb2xvck5hbWUpIHtcbiAgICAgICAgICB2YXIgY29sb3JzID0gT2JqZWN0LmtleXModGhlbWUuZ2xvYmFsLmNvbG9ycykuZmlsdGVyKGZ1bmN0aW9uIChuKSB7XG4gICAgICAgICAgICByZXR1cm4gbi5tYXRjaCgvXmdyYXBoLVswLTldJC8pO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbG9yTmFtZSA9IGNvbG9yc1tpbmRleCAlIGNvbG9ycy5sZW5ndGhdO1xuICAgICAgICB9XG5cbiAgICAgICAgcGF0aCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIF9leHRlbmRzKHtcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3Qvbm8tYXJyYXktaW5kZXgta2V5XG4gICAgICAgICAga2V5OiBpbmRleFxuICAgICAgICB9LCBjbGVhbmVkUmVzdCwge1xuICAgICAgICAgIHN0cm9rZTogbm9ybWFsaXplQ29sb3IoY29sb3JOYW1lLCB0aGVtZSksXG4gICAgICAgICAgc3Ryb2tlV2lkdGg6IHN0cm9rZVdpZHRoLFxuICAgICAgICAgIHN0cm9rZUxpbmVjYXA6IHJvdW5kID8gJ3JvdW5kJyA6ICdidXR0JyxcbiAgICAgICAgICBzdHJva2VMaW5lam9pbjogcm91bmQgPyAncm91bmQnIDogJ21pdGVyJyxcbiAgICAgICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgICAgICBkOiBkXG4gICAgICAgIH0pKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHBhdGg7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWREaWFncmFtLCBfZXh0ZW5kcyh7XG4gICAgcmVmOiBzdmdSZWYsXG4gICAgdmlld0JveDogXCIwIDAgXCIgKyBkaW1lbnNpb25zLndpZHRoICsgXCIgXCIgKyBkaW1lbnNpb25zLmhlaWdodCxcbiAgICBwcmVzZXJ2ZUFzcGVjdFJhdGlvOiBcInhNaW5ZTWluIG1lZXRcIlxuICB9LCByZXN0KSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImdcIiwgbnVsbCwgcGF0aHMpKTtcbn07XG5cbkRpYWdyYW0uZGVmYXVsdFByb3BzID0ge1xuICBjb25uZWN0aW9uczogW11cbn07XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoRGlhZ3JhbS5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG52YXIgRGlhZ3JhbURvYztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGdsb2JhbC1yZXF1aXJlXG4gIERpYWdyYW1Eb2MgPSByZXF1aXJlKCcuL2RvYycpLmRvYyhEaWFncmFtKTtcbn1cblxudmFyIERpYWdyYW1XcmFwcGVyID0gY29tcG9zZSh3aXRoVGhlbWUpKERpYWdyYW1Eb2MgfHwgRGlhZ3JhbSk7XG5leHBvcnQgeyBEaWFncmFtV3JhcHBlciBhcyBEaWFncmFtIH07IiwiaW1wb3J0IHN0eWxlZCBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBkZWZhdWx0UHJvcHMgfSBmcm9tICcuLi8uLi9kZWZhdWx0LXByb3BzJztcbnZhciBTdHlsZWREaWFncmFtID0gc3R5bGVkLnN2Zy53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiU3R5bGVkRGlhZ3JhbVwiLFxuICBjb21wb25lbnRJZDogXCJzYy0xdnpldTlmLTBcIlxufSkoW1wibWF4LXdpZHRoOjEwMCU7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtcIiwgXCI7XCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLmRpYWdyYW0gJiYgcHJvcHMudGhlbWUuZGlhZ3JhbS5leHRlbmQ7XG59KTtcblN0eWxlZERpYWdyYW0uZGVmYXVsdFByb3BzID0ge307XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoU3R5bGVkRGlhZ3JhbS5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG5leHBvcnQgeyBTdHlsZWREaWFncmFtIH07IiwiaW1wb3J0IHsgZGVzY3JpYmUsIFByb3BUeXBlcyB9IGZyb20gJ3JlYWN0LWRlc2MnO1xuaW1wb3J0IHsgY29sb3JQcm9wVHlwZSwgZ2V0QXZhaWxhYmxlQXRCYWRnZSB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmV4cG9ydCB2YXIgZG9jID0gZnVuY3Rpb24gZG9jKERpYWdyYW0pIHtcbiAgdmFyIERvY3VtZW50ZWREaWFncmFtID0gZGVzY3JpYmUoRGlhZ3JhbSkuYXZhaWxhYmxlQXQoZ2V0QXZhaWxhYmxlQXRCYWRnZSgnRGlhZ3JhbScpKS5kZXNjcmlwdGlvbihcIkdyYXBoaWNhbCBjb25uZWN0aW9uIGxpbmVzLiBEaWFncmFtIGlzIG1lYW50IHRvIGJlIHVzZWQgd2l0aCBTdGFjay5cXG4gICAgICBCb3hlcyBjYW4gYmUgdXNlZCBpbiB0aGUgYGd1aWRpbmdDaGlsZGAgbGF5ZXIgb2YgU3RhY2sgYW5kIHRoZW5cXG4gICAgICBEaWFncmFtIGNhbiBiZSB1c2VkIHRvIGRyYXcgbGluZXMgY29ubmVjdGluZyB0aGUgQm94ZXMuXCIpLnVzYWdlKFwiaW1wb3J0IHsgRGlhZ3JhbSB9IGZyb20gJ2dyb21tZXQnO1xcbjxEaWFncmFtIC8+XCIpLmludHJpbnNpY0VsZW1lbnQoJ3N2ZycpO1xuICBEb2N1bWVudGVkRGlhZ3JhbS5wcm9wVHlwZXMgPSB7XG4gICAgY29ubmVjdGlvbnM6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICBhbmNob3I6IFByb3BUeXBlcy5vbmVPZihbJ2NlbnRlcicsICd2ZXJ0aWNhbCcsICdob3Jpem9udGFsJ10pLFxuICAgICAgY29sb3I6IGNvbG9yUHJvcFR5cGUsXG4gICAgICBmcm9tVGFyZ2V0OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMub2JqZWN0XSkuaXNSZXF1aXJlZCxcbiAgICAgIGxhYmVsOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgLy8gZm9yIGFjY2Vzc2liaWxpdHlcbiAgICAgIG9mZnNldDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFsneHNtYWxsJywgJ3NtYWxsJywgJ21lZGl1bScsICdsYXJnZSddKSwgUHJvcFR5cGVzLnN0cmluZ10pLFxuICAgICAgdGhpY2tuZXNzOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2YoWydoYWlyJywgJ3h4c21hbGwnLCAneHNtYWxsJywgJ3NtYWxsJywgJ21lZGl1bScsICdsYXJnZSddKSwgUHJvcFR5cGVzLnN0cmluZ10pLFxuICAgICAgdG9UYXJnZXQ6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5vYmplY3RdKS5pc1JlcXVpcmVkLFxuICAgICAgdHlwZTogUHJvcFR5cGVzLm9uZU9mKFsnZGlyZWN0JywgJ2N1cnZlZCcsICdyZWN0aWxpbmVhciddKVxuICAgIH0pKS5kZXNjcmlwdGlvbihcIkFycmF5IG9mIG9iamVjdHMgZGVzY3JpYmluZyB0aGUgY29ubmVjdGlvbnMuXFxuICAgICAgVGhlICdmcm9tVGFyZ2V0JyBhbmQgJ3RvVGFyZ2V0JyBtYXkgYmUgZWl0aGVyIERPTSBlbGVtZW50IGlkcyBvclxcbiAgICAgIFJlYWN0IHJlZmVyZW5jZXMuXFxuICAgICAgJ29mZnNldCcgY2FuIGJlIHVzZWQgdG8gc2hpZnQgYSBiaXQgdG8gcmVkdWNlIHRoZSBhbW91bnQgb2Ygb3ZlcmxhcFxcbiAgICAgIHdpdGggb3RoZXIgY29ubmVjdGlvbiBsaW5lcyB0byBtYWtlIHRoZSBsaW5lcyBlYXNpZXIgdG8gZGlzdGluZ3Vpc2guXCIpLmlzUmVxdWlyZWRcbiAgfTtcbiAgcmV0dXJuIERvY3VtZW50ZWREaWFncmFtO1xufTtcbmV4cG9ydCB2YXIgdGhlbWVEb2MgPSB7XG4gICdkaWFncmFtLmV4dGVuZCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ0FueSBhZGRpdGlvbmFsIHN0eWxlIGZvciBEaWFncmFtLicsXG4gICAgdHlwZTogJ3N0cmluZyB8IChwcm9wcykgPT4ge30nLFxuICAgIGRlZmF1bHRWYWx1ZTogdW5kZWZpbmVkXG4gIH0sXG4gICdkaWFncmFtLmxpbmUuY29sb3InOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgY29sb3Igb2YgdGhlIGNvbm5lY3Rpb24gbGluZS4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCB7ZGFyazogc3RyaW5nLCBsaWdodDogc3RyaW5nfScsXG4gICAgZGVmYXVsdFZhbHVlOiAnYWNjZW50LTEnXG4gIH0sXG4gICdnbG9iYWwuY29sb3JzJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnQ29sb3Igb3B0aW9ucy4nLFxuICAgIHR5cGU6ICdvYmplY3QnLFxuICAgIGRlZmF1bHRWYWx1ZTogXCJ7XFxuICAgICAgXFxcImFjY2VudC0xXFxcIjogXFxcIiM2RkZGQjBcXFwiLFxcbiAgICAgIFxcXCJncmFwaC0wXFxcIjogXFxcImFjY2VudC0xXFxcIixcXG4gICAgICBcXFwiZ3JhcGgtMVxcXCI6IFxcXCJuZXV0cmFsLTFcXFwiLFxcbiAgICAgIC4uLlxcbiAgICB9XCJcbiAgfSxcbiAgJ2dsb2JhbC5lZGdlU2l6ZSc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBwb3NzaWJsZSBzaXplcyBmb3IgdGhlIGNvbm5lY3Rpb25zIHRoaWNrbmVzcyBhbmQgb2Zmc2V0LicsXG4gICAgdHlwZTogJ29iamVjdCcsXG4gICAgZGVmYXVsdFZhbHVlOiBcIntcXG4gICAgICAgIG5vbmU6ICcwcHgnLFxcbiAgICAgICAgaGFpcjogJzFweCcsXFxuICAgICAgICB4eHNtYWxsOiAnM3B4JyxcXG4gICAgICAgIHhzbWFsbDogJzZweCcsXFxuICAgICAgICBzbWFsbDogJzEycHgnLFxcbiAgICAgICAgbWVkaXVtOiAnMjRweCcsXFxuICAgICAgICBsYXJnZTogJzQ4cHgnLFxcbiAgICAgICAgeGxhcmdlOiAnOTZweCcsXFxuICAgICAgICByZXNwb25zaXZlQnJlYWtwb2ludDogJ3NtYWxsJyxcXG4gICAgfVwiXG4gIH1cbn07IiwiZXhwb3J0IHsgRGlhZ3JhbSB9IGZyb20gJy4vRGlhZ3JhbSc7IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB7IEJveCB9IGZyb20gJy4uL0JveCc7XG5pbXBvcnQgeyBUZXh0IH0gZnJvbSAnLi4vVGV4dCc7XG5cbnZhciBWYWx1ZSA9IGZ1bmN0aW9uIFZhbHVlKF9yZWYpIHtcbiAgdmFyIGJhc2lzID0gX3JlZi5iYXNpcyxcbiAgICAgIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbjtcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQm94LCB7XG4gICAgYmFzaXM6IGJhc2lzLFxuICAgIGZsZXg6IFwic2hyaW5rXCIsXG4gICAgb3ZlcmZsb3c6IFwiaGlkZGVuXCJcbiAgfSwgY2hpbGRyZW4pO1xufTtcblxuVmFsdWUucHJvcFR5cGVzID0ge1xuICBiYXNpczogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICBjaGlsZHJlbjogUHJvcFR5cGVzLm5vZGUuaXNSZXF1aXJlZFxufTtcblxudmFyIERpc3RyaWJ1dGlvbiA9IGZ1bmN0aW9uIERpc3RyaWJ1dGlvbihfcmVmMikge1xuICB2YXIgYmFzaXMgPSBfcmVmMi5iYXNpcyxcbiAgICAgIGNoaWxkcmVuID0gX3JlZjIuY2hpbGRyZW4sXG4gICAgICBkaXJlY3Rpb24gPSBfcmVmMi5kaXJlY3Rpb24sXG4gICAgICBmaWxsID0gX3JlZjIuZmlsbCxcbiAgICAgIGdhcCA9IF9yZWYyLmdhcCxcbiAgICAgIHZhbHVlcyA9IF9yZWYyLnZhbHVlcyxcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfcmVmMiwgW1wiYmFzaXNcIiwgXCJjaGlsZHJlblwiLCBcImRpcmVjdGlvblwiLCBcImZpbGxcIiwgXCJnYXBcIiwgXCJ2YWx1ZXNcIl0pO1xuXG4gIGlmICh2YWx1ZXMubGVuZ3RoID09PSAxKSB7XG4gICAgdmFyIHZhbHVlID0gdmFsdWVzWzBdO1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFZhbHVlLCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBiYXNpczogYmFzaXNcbiAgICB9LCBjaGlsZHJlbih2YWx1ZSkpO1xuICB9XG5cbiAgaWYgKHZhbHVlcy5sZW5ndGggPiAxKSB7XG4gICAgdmFyIHJlZHVjZXIgPSBmdW5jdGlvbiByZWR1Y2VyKGFjY3VtdWxhdG9yLCBfcmVmMykge1xuICAgICAgdmFyIHZhbHVlID0gX3JlZjMudmFsdWU7XG4gICAgICByZXR1cm4gYWNjdW11bGF0b3IgKyB2YWx1ZTtcbiAgICB9O1xuXG4gICAgdmFyIHRvdGFsID0gdmFsdWVzLnJlZHVjZShyZWR1Y2VyLCAwKTsgLy8gZmlndXJlIG91dCBob3cgbWFueSBvZiB0aGUgdmFsdWVzIGFyZWEgbmVlZGVkIHRvIHJlcHJlc2VudCBoYWxmIG9mIHRoZVxuICAgIC8vIHRvdGFsXG5cbiAgICB2YXIgc3ViVG90YWwgPSAwO1xuICAgIHZhciBzdWJJbmRleDtcbiAgICB2YWx1ZXMuc29tZShmdW5jdGlvbiAodiwgaW5kZXgpIHtcbiAgICAgIHN1YlRvdGFsICs9IHYudmFsdWU7XG5cbiAgICAgIGlmIChzdWJUb3RhbCA+PSB0b3RhbCAqIDAuNCkge1xuICAgICAgICBzdWJJbmRleCA9IGluZGV4ICsgMTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTtcblxuICAgIGlmIChzdWJJbmRleCA9PT0gdmFsdWVzLmxlbmd0aCkge1xuICAgICAgdmFyIF92YWx1ZSA9IHZhbHVlc1swXTtcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFZhbHVlLCB7XG4gICAgICAgIHZhbHVlOiBfdmFsdWUsXG4gICAgICAgIGJhc2lzOiBiYXNpc1xuICAgICAgfSwgY2hpbGRyZW4oX3ZhbHVlKSk7XG4gICAgfVxuXG4gICAgdmFyIGNoaWxkQmFzaXM7XG5cbiAgICBpZiAoc3ViVG90YWwgPiB0b3RhbCAqIDAuNykge1xuICAgICAgY2hpbGRCYXNpcyA9IFsnMy80JywgJzEvNCddO1xuICAgIH0gZWxzZSBpZiAoc3ViVG90YWwgPiB0b3RhbCAqIDAuNikge1xuICAgICAgY2hpbGRCYXNpcyA9IFsnMi8zJywgJzEvMyddO1xuICAgIH0gZWxzZSB7XG4gICAgICBjaGlsZEJhc2lzID0gWycxLzInLCAnMS8yJ107XG4gICAgfVxuXG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQm94LCBfZXh0ZW5kcyh7XG4gICAgICBkaXJlY3Rpb246IGRpcmVjdGlvbixcbiAgICAgIGJhc2lzOiBiYXNpcyxcbiAgICAgIGZsZXg6IGJhc2lzID8gJ3NocmluaycgOiB0cnVlLFxuICAgICAgb3ZlcmZsb3c6IFwiaGlkZGVuXCIsXG4gICAgICBnYXA6IGdhcCxcbiAgICAgIGZpbGw6IGZpbGxcbiAgICB9LCByZXN0KSwgUmVhY3QuY3JlYXRlRWxlbWVudChEaXN0cmlidXRpb24sIHtcbiAgICAgIHZhbHVlczogdmFsdWVzLnNsaWNlKDAsIHN1YkluZGV4KSxcbiAgICAgIGJhc2lzOiBjaGlsZEJhc2lzWzBdLFxuICAgICAgZGlyZWN0aW9uOiBkaXJlY3Rpb24gPT09ICdyb3cnID8gJ2NvbHVtbicgOiAncm93JyxcbiAgICAgIGdhcDogZ2FwXG4gICAgfSwgY2hpbGRyZW4pLCBSZWFjdC5jcmVhdGVFbGVtZW50KERpc3RyaWJ1dGlvbiwge1xuICAgICAgdmFsdWVzOiB2YWx1ZXMuc2xpY2Uoc3ViSW5kZXgpLFxuICAgICAgYmFzaXM6IGNoaWxkQmFzaXNbMV0sXG4gICAgICBkaXJlY3Rpb246IGRpcmVjdGlvbiA9PT0gJ3JvdycgPyAnY29sdW1uJyA6ICdyb3cnLFxuICAgICAgZ2FwOiBnYXBcbiAgICB9LCBjaGlsZHJlbikpO1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59O1xuXG5EaXN0cmlidXRpb24uZGVmYXVsdFByb3BzID0ge1xuICBiYXNpczogdW5kZWZpbmVkLFxuICBjaGlsZHJlbjogZnVuY3Rpb24gY2hpbGRyZW4odmFsdWUpIHtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChCb3gsIHtcbiAgICAgIGZpbGw6IHRydWUsXG4gICAgICBib3JkZXI6IHRydWVcbiAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFRleHQsIG51bGwsIHZhbHVlLnZhbHVlKSk7XG4gIH0sXG4gIGRpcmVjdGlvbjogJ3JvdycsXG4gIGdhcDogJ3hzbWFsbCcsXG4gIHZhbHVlczogW11cbn07XG52YXIgRGlzdHJpYnV0aW9uRG9jO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZ2xvYmFsLXJlcXVpcmVcbiAgRGlzdHJpYnV0aW9uRG9jID0gcmVxdWlyZSgnLi9kb2MnKS5kb2MoRGlzdHJpYnV0aW9uKTtcbn1cblxudmFyIERpc3RyaWJ1dGlvbldyYXBwZXIgPSBEaXN0cmlidXRpb25Eb2MgfHwgRGlzdHJpYnV0aW9uO1xuZXhwb3J0IHsgRGlzdHJpYnV0aW9uV3JhcHBlciBhcyBEaXN0cmlidXRpb24gfTsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5pbXBvcnQgeyBkZXNjcmliZSwgUHJvcFR5cGVzIH0gZnJvbSAncmVhY3QtZGVzYyc7XG5pbXBvcnQgeyBnZW5lcmljUHJvcHMsIGdldEF2YWlsYWJsZUF0QmFkZ2UgfSBmcm9tICcuLi8uLi91dGlscyc7XG5leHBvcnQgdmFyIGRvYyA9IGZ1bmN0aW9uIGRvYyhEaXN0cmlidXRpb24pIHtcbiAgdmFyIERvY3VtZW50ZWREaXN0cmlidXRpb24gPSBkZXNjcmliZShEaXN0cmlidXRpb24pLmF2YWlsYWJsZUF0KGdldEF2YWlsYWJsZUF0QmFkZ2UoJ0Rpc3RyaWJ1dGlvbicpKS5kZXNjcmlwdGlvbihcIlByb3BvcnRpb25hbGx5IHNpemVkIGdyaWQgb2YgYm94ZXMuIFRoZSBwcm9wb3J0aW9ucyBhcmUgYXBwcm94aW1hdGUuIFRoZVxcbiAgICAgIGFyZWEgZ2l2ZW4gdG8gZWFjaCBib3ggaXNuJ3QgbWF0aGVtYXRpY2FsbHkgcHJlY2lzZSBhY2NvcmRpbmcgdG8gdGhlXFxuICAgICAgcmF0aW8gdG8gdGhlIHRvdGFsIHZhbHVlcy4gSW5zdGVhZCwgdGhlIGJveGVzIGFyZSBsYWlkIG91dCBpbiBhXFxuICAgICAgbWFubmVyIHRoYXQgbWFrZXMgdGhlbSBtb3JlIHZpc3VhbGx5IGVhc3kgdG8gc2Nhbi4gRm9yIGV4YW1wbGUsXFxuICAgICAgdHdvIHZhbHVlcyBvZiA0OCBhbmQgNTIgd2lsbCBhY3R1YWxseSBlYWNoIGdldCA1MCUgb2YgdGhlIGFyZWEuXCIpLnVzYWdlKFwiaW1wb3J0IHsgRGlzdHJpYnV0aW9uIH0gZnJvbSAnZ3JvbW1ldCc7XFxuPERpc3RyaWJ1dGlvbiAvPlwiKS5pbnRyaW5zaWNFbGVtZW50KCdkaXYnKTtcbiAgRG9jdW1lbnRlZERpc3RyaWJ1dGlvbi5wcm9wVHlwZXMgPSBfZXh0ZW5kcyh7fSwgZ2VuZXJpY1Byb3BzLCB7XG4gICAgYmFzaXM6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbJ3h4c21hbGwnLCAneHNtYWxsJywgJ3NtYWxsJywgJ21lZGl1bScsICdsYXJnZScsICd4bGFyZ2UnLCAneHhsYXJnZScsICdmdWxsJywgJzEvMicsICcxLzMnLCAnMi8zJywgJzEvNCcsICcyLzQnLCAnMy80JywgJ2F1dG8nXSksIFByb3BUeXBlcy5zdHJpbmddKS5kZXNjcmlwdGlvbihcIkEgZml4ZWQgb3IgcmVsYXRpdmUgc2l6ZSBhbG9uZyBpdHMgY29udGFpbmVyJ3MgbWFpbiBheGlzLlwiKSxcbiAgICBjaGlsZHJlbjogUHJvcFR5cGVzLmZ1bmMuZGVzY3JpcHRpb24oJ0Z1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiBlYWNoIHZhbHVlIGlzIHJlbmRlcmVkLicpLFxuICAgIGZpbGw6IFByb3BUeXBlcy5ib29sLmRlc2NyaXB0aW9uKFwiV2hldGhlciB0aGUgZGlzdHJpYnV0aW9uIGV4cGFuZHMgdG8gZmlsbCBhbGwgb2YgdGhlIGF2YWlsYWJsZSB3aWR0aCBcXG4gICAgICAgIGFuZCBoZWlnaHQuXCIpLmRlZmF1bHRWYWx1ZShmYWxzZSksXG4gICAgZ2FwOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2YoWydub25lJywgJ3h4c21hbGwnLCAneHNtYWxsJywgJ3NtYWxsJywgJ21lZGl1bScsICdsYXJnZScsICd4bGFyZ2UnXSksIFByb3BUeXBlcy5zdHJpbmddKS5kZXNjcmlwdGlvbignVGhlIGFtb3VudCBvZiBzcGFjaW5nIGJldHdlZW4gY2hpbGQgZWxlbWVudHMuJykuZGVmYXVsdFZhbHVlKCd4c21hbGwnKSxcbiAgICB2YWx1ZXM6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICB2YWx1ZTogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkXG4gICAgfSkpLmRlc2NyaXB0aW9uKFwiQXJyYXkgb2Ygb2JqZWN0cyBjb250YWluaW5nIGEgdmFsdWUuIFRoZSBhcnJheSBzaG91bGQgYWxyZWFkeSBiZVxcbiAgICAgIHNvcnRlZCBmcm9tIGxhcmdlc3QgdG8gc21hbGxlc3QgdmFsdWUuIFRoZSBjYWxsZXIgY2FuIHB1dCBvdGhlclxcbiAgICAgIHByb3BlcnRpZXMgaW4gdGhlIG9iamVjdC4gVGhlIGNoaWxkcmVuIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIHRvXFxuICAgICAgcmVuZGVyIHRoZSBjb250ZW50cyBvZiBlYWNoIHZhbHVlLlwiKS5pc1JlcXVpcmVkXG4gIH0pO1xuICByZXR1cm4gRG9jdW1lbnRlZERpc3RyaWJ1dGlvbjtcbn07IiwiZXhwb3J0IHsgRGlzdHJpYnV0aW9uIH0gZnJvbSAnLi9EaXN0cmlidXRpb24nOyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0c0xvb3NlKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcy5wcm90b3R5cGUpOyBzdWJDbGFzcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBzdWJDbGFzczsgc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5pbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY3JlYXRlUG9ydGFsIH0gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCB7IGdldE5ld0NvbnRhaW5lciwgc2V0Rm9jdXNXaXRob3V0U2Nyb2xsIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuaW1wb3J0IHsgRHJvcENvbnRhaW5lciB9IGZyb20gJy4vRHJvcENvbnRhaW5lcic7XG5cbnZhciBEcm9wID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKERyb3AsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIERyb3AoKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIF90aGlzID0gX0NvbXBvbmVudC5jYWxsLmFwcGx5KF9Db21wb25lbnQsIFt0aGlzXS5jb25jYXQoYXJncykpIHx8IHRoaXM7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwib3JpZ2luYWxGb2N1c2VkRWxlbWVudFwiLCBkb2N1bWVudC5hY3RpdmVFbGVtZW50KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJkcm9wQ29udGFpbmVyXCIsIGdldE5ld0NvbnRhaW5lcigpKTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBEcm9wLnByb3RvdHlwZTtcblxuICBfcHJvdG8uY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICB2YXIgcmVzdHJpY3RGb2N1cyA9IHRoaXMucHJvcHMucmVzdHJpY3RGb2N1cztcblxuICAgIGlmIChyZXN0cmljdEZvY3VzICYmIHRoaXMub3JpZ2luYWxGb2N1c2VkRWxlbWVudCkge1xuICAgICAgaWYgKHRoaXMub3JpZ2luYWxGb2N1c2VkRWxlbWVudC5mb2N1cykge1xuICAgICAgICBzZXRGb2N1c1dpdGhvdXRTY3JvbGwodGhpcy5vcmlnaW5hbEZvY3VzZWRFbGVtZW50KTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5vcmlnaW5hbEZvY3VzZWRFbGVtZW50LnBhcmVudE5vZGUgJiYgdGhpcy5vcmlnaW5hbEZvY3VzZWRFbGVtZW50LnBhcmVudE5vZGUuZm9jdXMpIHtcbiAgICAgICAgLy8gcmVxdWlyZWQgZm9yIElFMTEgYW5kIEVkZ2VcbiAgICAgICAgc2V0Rm9jdXNXaXRob3V0U2Nyb2xsKHRoaXMub3JpZ2luYWxGb2N1c2VkRWxlbWVudC5wYXJlbnROb2RlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRoaXMuZHJvcENvbnRhaW5lcik7XG4gIH07XG5cbiAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgX3RoaXMkcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICBkcm9wVGFyZ2V0ID0gX3RoaXMkcHJvcHMudGFyZ2V0LFxuICAgICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3RoaXMkcHJvcHMsIFtcInRhcmdldFwiXSk7XG5cbiAgICByZXR1cm4gY3JlYXRlUG9ydGFsKFJlYWN0LmNyZWF0ZUVsZW1lbnQoRHJvcENvbnRhaW5lciwgX2V4dGVuZHMoe1xuICAgICAgZHJvcFRhcmdldDogZHJvcFRhcmdldFxuICAgIH0sIHJlc3QpKSwgdGhpcy5kcm9wQ29udGFpbmVyKTtcbiAgfTtcblxuICByZXR1cm4gRHJvcDtcbn0oQ29tcG9uZW50KTtcblxuX2RlZmluZVByb3BlcnR5KERyb3AsIFwiZGVmYXVsdFByb3BzXCIsIHtcbiAgYWxpZ246IHtcbiAgICB0b3A6ICd0b3AnLFxuICAgIGxlZnQ6ICdsZWZ0J1xuICB9LFxuICBwbGFpbjogZmFsc2Vcbn0pO1xuXG52YXIgRHJvcERvYztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgRHJvcERvYyA9IHJlcXVpcmUoJy4vZG9jJykuZG9jKERyb3ApOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGdsb2JhbC1yZXF1aXJlXG59XG5cbnZhciBEcm9wV3JhcHBlciA9IERyb3BEb2MgfHwgRHJvcDtcbmV4cG9ydCB7IERyb3BXcmFwcGVyIGFzIERyb3AgfTsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHNMb29zZShzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MucHJvdG90eXBlKTsgc3ViQ2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gc3ViQ2xhc3M7IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGRlZmF1bHRQcm9wcyB9IGZyb20gJy4uLy4uL2RlZmF1bHQtcHJvcHMnO1xuaW1wb3J0IHsgVGhlbWVDb250ZXh0IH0gZnJvbSAnLi4vLi4vY29udGV4dHMnO1xuaW1wb3J0IHsgRm9jdXNlZENvbnRhaW5lciB9IGZyb20gJy4uL0ZvY3VzZWRDb250YWluZXInO1xuaW1wb3J0IHsgYmFja2dyb3VuZElzRGFyaywgZmluZFNjcm9sbFBhcmVudHMsIGZpbmRWaXNpYmxlUGFyZW50LCBwYXJzZU1ldHJpY1RvTnVtIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuaW1wb3J0IHsgQm94IH0gZnJvbSAnLi4vQm94JztcbmltcG9ydCB7IEtleWJvYXJkIH0gZnJvbSAnLi4vS2V5Ym9hcmQnO1xuaW1wb3J0IHsgU3R5bGVkRHJvcCB9IGZyb20gJy4vU3R5bGVkRHJvcCc7IC8vIHVzaW5nIHJlYWN0IHN5bnRoZXRpYyBldmVudCB0byBiZSBhYmxlIHRvIHN0b3AgcHJvcGFnYXRpb24gdGhhdFxuLy8gd291bGQgb3RoZXJ3aXNlIGNsb3NlIHRoZSBsYXllciBvbiBFU0MuXG5cbnZhciBwcmV2ZW50TGF5ZXJDbG9zZSA9IGZ1bmN0aW9uIHByZXZlbnRMYXllckNsb3NlKGV2ZW50KSB7XG4gIHZhciBrZXkgPSBldmVudC5rZXlDb2RlID8gZXZlbnQua2V5Q29kZSA6IGV2ZW50LndoaWNoO1xuXG4gIGlmIChrZXkgPT09IDI3KSB7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIH1cbn07XG5cbnZhciBEcm9wQ29udGFpbmVyID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKERyb3BDb250YWluZXIsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIERyb3BDb250YWluZXIoKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIF90aGlzID0gX0NvbXBvbmVudC5jYWxsLmFwcGx5KF9Db21wb25lbnQsIFt0aGlzXS5jb25jYXQoYXJncykpIHx8IHRoaXM7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiZHJvcFJlZlwiLCBSZWFjdC5jcmVhdGVSZWYoKSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiYWRkU2Nyb2xsTGlzdGVuZXJcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGRyb3BUYXJnZXQgPSBfdGhpcy5wcm9wcy5kcm9wVGFyZ2V0O1xuICAgICAgX3RoaXMuc2Nyb2xsUGFyZW50cyA9IGZpbmRTY3JvbGxQYXJlbnRzKGRyb3BUYXJnZXQpO1xuXG4gICAgICBfdGhpcy5zY3JvbGxQYXJlbnRzLmZvckVhY2goZnVuY3Rpb24gKHNjcm9sbFBhcmVudCkge1xuICAgICAgICByZXR1cm4gc2Nyb2xsUGFyZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIF90aGlzLnBsYWNlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcInJlbW92ZVNjcm9sbExpc3RlbmVyXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNjcm9sbFBhcmVudHMuZm9yRWFjaChmdW5jdGlvbiAoc2Nyb2xsUGFyZW50KSB7XG4gICAgICAgIHJldHVybiBzY3JvbGxQYXJlbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgX3RoaXMucGxhY2UpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwib25DbGlja0RvY3VtZW50XCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgZHJvcFRhcmdldCA9IF90aGlzJHByb3BzLmRyb3BUYXJnZXQsXG4gICAgICAgICAgb25DbGlja091dHNpZGUgPSBfdGhpcyRwcm9wcy5vbkNsaWNrT3V0c2lkZTtcbiAgICAgIHZhciBkcm9wVGFyZ2V0Tm9kZSA9IGRyb3BUYXJnZXQ7XG4gICAgICB2YXIgZHJvcE5vZGUgPSBfdGhpcy5kcm9wUmVmLmN1cnJlbnQ7XG5cbiAgICAgIGlmIChvbkNsaWNrT3V0c2lkZSAmJiBkcm9wTm9kZSAmJiAvLyBuZWVkIHRoaXMgZm9yIGllMTFcbiAgICAgICFkcm9wVGFyZ2V0Tm9kZS5jb250YWlucyhldmVudC50YXJnZXQpICYmICFkcm9wTm9kZS5jb250YWlucyhldmVudC50YXJnZXQpKSB7XG4gICAgICAgIG9uQ2xpY2tPdXRzaWRlKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwib25SZXNpemVcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMucmVtb3ZlU2Nyb2xsTGlzdGVuZXIoKTtcblxuICAgICAgX3RoaXMuYWRkU2Nyb2xsTGlzdGVuZXIoKTtcblxuICAgICAgX3RoaXMucGxhY2UoZmFsc2UpO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcInBsYWNlXCIsIGZ1bmN0aW9uIChwcmVzZXJ2ZUhlaWdodCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzMiA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIGFsaWduID0gX3RoaXMkcHJvcHMyLmFsaWduLFxuICAgICAgICAgIGRyb3BUYXJnZXQgPSBfdGhpcyRwcm9wczIuZHJvcFRhcmdldCxcbiAgICAgICAgICByZXNwb25zaXZlID0gX3RoaXMkcHJvcHMyLnJlc3BvbnNpdmUsXG4gICAgICAgICAgc3RyZXRjaCA9IF90aGlzJHByb3BzMi5zdHJldGNoLFxuICAgICAgICAgIHRoZW1lID0gX3RoaXMkcHJvcHMyLnRoZW1lO1xuICAgICAgdmFyIHdpbmRvd1dpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICB2YXIgd2luZG93SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgdmFyIHRhcmdldCA9IGRyb3BUYXJnZXQ7XG4gICAgICB2YXIgY29udGFpbmVyID0gX3RoaXMuZHJvcFJlZi5jdXJyZW50O1xuXG4gICAgICBpZiAoY29udGFpbmVyICYmIHRhcmdldCkge1xuICAgICAgICAvLyBjbGVhciBwcmlvciBzdHlsaW5nXG4gICAgICAgIGNvbnRhaW5lci5zdHlsZS5sZWZ0ID0gJyc7XG4gICAgICAgIGNvbnRhaW5lci5zdHlsZS50b3AgPSAnJztcbiAgICAgICAgY29udGFpbmVyLnN0eWxlLmJvdHRvbSA9ICcnO1xuICAgICAgICBjb250YWluZXIuc3R5bGUud2lkdGggPSAnJztcblxuICAgICAgICBpZiAoIXByZXNlcnZlSGVpZ2h0KSB7XG4gICAgICAgICAgY29udGFpbmVyLnN0eWxlLm1heEhlaWdodCA9ICcnO1xuICAgICAgICB9IC8vIGdldCBib3VuZHNcblxuXG4gICAgICAgIHZhciB0YXJnZXRSZWN0ID0gZmluZFZpc2libGVQYXJlbnQodGFyZ2V0KS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgdmFyIGNvbnRhaW5lclJlY3QgPSBjb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7IC8vIGRldGVybWluZSB3aWR0aFxuXG4gICAgICAgIHZhciB3aWR0aCA9IE1hdGgubWluKHN0cmV0Y2ggPyBNYXRoLm1heCh0YXJnZXRSZWN0LndpZHRoLCBjb250YWluZXJSZWN0LndpZHRoKSA6IGNvbnRhaW5lclJlY3Qud2lkdGgsIHdpbmRvd1dpZHRoKTsgLy8gc2V0IGxlZnQgcG9zaXRpb25cblxuICAgICAgICB2YXIgbGVmdDtcblxuICAgICAgICBpZiAoYWxpZ24ubGVmdCkge1xuICAgICAgICAgIGlmIChhbGlnbi5sZWZ0ID09PSAnbGVmdCcpIHtcbiAgICAgICAgICAgIGxlZnQgPSB0YXJnZXRSZWN0LmxlZnQ7XG4gICAgICAgICAgfSBlbHNlIGlmIChhbGlnbi5sZWZ0ID09PSAncmlnaHQnKSB7XG4gICAgICAgICAgICBsZWZ0ID0gdGFyZ2V0UmVjdC5sZWZ0ICsgdGFyZ2V0UmVjdC53aWR0aDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoYWxpZ24ucmlnaHQpIHtcbiAgICAgICAgICBpZiAoYWxpZ24ucmlnaHQgPT09ICdsZWZ0Jykge1xuICAgICAgICAgICAgbGVmdCA9IHRhcmdldFJlY3QubGVmdCAtIHdpZHRoO1xuICAgICAgICAgIH0gZWxzZSBpZiAoYWxpZ24ucmlnaHQgPT09ICdyaWdodCcpIHtcbiAgICAgICAgICAgIGxlZnQgPSB0YXJnZXRSZWN0LmxlZnQgKyB0YXJnZXRSZWN0LndpZHRoIC0gd2lkdGg7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxlZnQgPSB0YXJnZXRSZWN0LmxlZnQgKyB0YXJnZXRSZWN0LndpZHRoIC8gMiAtIHdpZHRoIC8gMjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsZWZ0ICsgd2lkdGggPiB3aW5kb3dXaWR0aCkge1xuICAgICAgICAgIGxlZnQgLT0gbGVmdCArIHdpZHRoIC0gd2luZG93V2lkdGg7XG4gICAgICAgIH0gZWxzZSBpZiAobGVmdCA8IDApIHtcbiAgICAgICAgICBsZWZ0ID0gMDtcbiAgICAgICAgfSAvLyBzZXQgdG9wIG9yIGJvdHRvbSBwb3NpdGlvblxuXG5cbiAgICAgICAgdmFyIHRvcDtcbiAgICAgICAgdmFyIGJvdHRvbTtcbiAgICAgICAgdmFyIG1heEhlaWdodCA9IGNvbnRhaW5lclJlY3QuaGVpZ2h0O1xuXG4gICAgICAgIGlmIChhbGlnbi50b3ApIHtcbiAgICAgICAgICBpZiAoYWxpZ24udG9wID09PSAndG9wJykge1xuICAgICAgICAgICAgdG9wID0gdGFyZ2V0UmVjdC50b3A7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRvcCA9IHRhcmdldFJlY3QuYm90dG9tO1xuICAgICAgICAgIH0gLy8gQ2FsY3VsYXRlIHZpc2libGUgYXJlYSB1bmRlcm5lYXRoIHRoZSBjb250cm9sIHcuci50IHdpbmRvdyBoZWlnaHRcblxuXG4gICAgICAgICAgdmFyIHBlcmNlbnRWaXNpYmxlQXJlYUJlbG93ID0gMTAwIC0gdGFyZ2V0UmVjdC5ib3R0b20gLyB3aW5kb3dIZWlnaHQgKiAxMDA7IC8vIENoZWNrIHdoZXRoZXIgaXQgaXMgd2l0aGluIDIwJSBmcm9tIGJvdHRvbSBvZiB0aGUgd2luZG93IG9yIHZpc2libGVcbiAgICAgICAgICAvLyBhcmVhIHRvIGZsaXAgdGhlIGNvbnRyb2xcbiAgICAgICAgICAvLyBEcm9wQ29udGFpbmVyIGRvZXNuJ3QgZml0IHdlbGwgd2l0aGluIHZpc2libGUgYXJlYSB3aGVuXG4gICAgICAgICAgLy8gcGVyY2VudFZpc2libGVBcmVhQmVsb3cgdmFsdWU8PTIwJVxuICAgICAgICAgIC8vIFRoZXJlIGlzIGVub3VnaCBzcGFjZSBmcm9tIERyb3BDb250YWluZXIgdG8gYm90dG9tIG9mIHRoZSB3aW5kb3dcbiAgICAgICAgICAvLyB3aGVuIHBlcmNlbnRWaXNpYmxlQXJlYUJlbG93PjIwJS5cblxuICAgICAgICAgIGlmICh3aW5kb3dIZWlnaHQgPT09IHRvcCB8fCBwZXJjZW50VmlzaWJsZUFyZWFCZWxvdyA8PSAyMCkge1xuICAgICAgICAgICAgLy8gV2UgbmVlZCBtb3JlIHJvb20gdGhhbiB3ZSBoYXZlLlxuICAgICAgICAgICAgLy8gV2UgcHV0IGl0IGJlbG93LCBidXQgdGhlcmUncyBtb3JlIHJvb20gYWJvdmUsIHB1dCBpdCBhYm92ZVxuICAgICAgICAgICAgdG9wID0gJyc7XG5cbiAgICAgICAgICAgIGlmIChhbGlnbi50b3AgPT09ICdib3R0b20nKSB7XG4gICAgICAgICAgICAgIGJvdHRvbSA9IHRhcmdldFJlY3QudG9wO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgYm90dG9tID0gdGFyZ2V0UmVjdC5ib3R0b207XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG1heEhlaWdodCA9IGJvdHRvbTtcbiAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS5tYXhIZWlnaHQgPSBtYXhIZWlnaHQgKyBcInB4XCI7XG4gICAgICAgICAgfSBlbHNlIGlmICh0b3AgPiAwKSB7XG4gICAgICAgICAgICBtYXhIZWlnaHQgPSB3aW5kb3dIZWlnaHQgLSB0b3A7XG4gICAgICAgICAgICBjb250YWluZXIuc3R5bGUubWF4SGVpZ2h0ID0gbWF4SGVpZ2h0ICsgXCJweFwiO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtYXhIZWlnaHQgPSB3aW5kb3dIZWlnaHQgLSB0b3A7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGFsaWduLmJvdHRvbSkge1xuICAgICAgICAgIGlmIChhbGlnbi5ib3R0b20gPT09ICdib3R0b20nKSB7XG4gICAgICAgICAgICBib3R0b20gPSB0YXJnZXRSZWN0LmJvdHRvbTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYm90dG9tID0gdGFyZ2V0UmVjdC50b3A7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbWF4SGVpZ2h0ID0gYm90dG9tO1xuICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS5tYXhIZWlnaHQgPSBtYXhIZWlnaHQgKyBcInB4XCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gY2VudGVyXG4gICAgICAgICAgdG9wID0gdGFyZ2V0UmVjdC50b3AgKyB0YXJnZXRSZWN0LmhlaWdodCAvIDIgLSBjb250YWluZXJSZWN0LmhlaWdodCAvIDI7XG4gICAgICAgICAgbWF4SGVpZ2h0ID0gd2luZG93SGVpZ2h0IC0gdG9wO1xuICAgICAgICB9IC8vIGlmIHdlIGNhbid0IGZpdCBpdCBhbGwsIG9yIHdlJ3JlIHJhdGhlciBjbG9zZSxcbiAgICAgICAgLy8gc2VlIGlmIHRoZXJlJ3MgbW9yZSByb29tIHRoZSBvdGhlciBkaXJlY3Rpb25cblxuXG4gICAgICAgIGlmIChyZXNwb25zaXZlICYmIChjb250YWluZXJSZWN0LmhlaWdodCA+IG1heEhlaWdodCB8fCBtYXhIZWlnaHQgPCB3aW5kb3dIZWlnaHQgLyAxMCkpIHtcbiAgICAgICAgICAvLyBXZSBuZWVkIG1vcmUgcm9vbSB0aGFuIHdlIGhhdmUuXG4gICAgICAgICAgaWYgKGFsaWduLnRvcCAmJiB0b3AgPiB3aW5kb3dIZWlnaHQgLyAyKSB7XG4gICAgICAgICAgICAvLyBXZSBwdXQgaXQgYmVsb3csIGJ1dCB0aGVyZSdzIG1vcmUgcm9vbSBhYm92ZSwgcHV0IGl0IGFib3ZlXG4gICAgICAgICAgICB0b3AgPSAnJztcblxuICAgICAgICAgICAgaWYgKGFsaWduLnRvcCA9PT0gJ2JvdHRvbScpIHtcbiAgICAgICAgICAgICAgLy8gdG9wID0gTWF0aC5tYXgodGFyZ2V0UmVjdC50b3AgLSBjb250YWluZXJSZWN0LmhlaWdodCwgMCk7XG4gICAgICAgICAgICAgIC8vIG1heEhlaWdodCA9IHRhcmdldFJlY3QudG9wIC0gdG9wO1xuICAgICAgICAgICAgICBib3R0b20gPSB0YXJnZXRSZWN0LnRvcDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIHRvcCA9IE1hdGgubWF4KHRhcmdldFJlY3QuYm90dG9tIC0gY29udGFpbmVyUmVjdC5oZWlnaHQsIDApO1xuICAgICAgICAgICAgICAvLyBtYXhIZWlnaHQgPSB0YXJnZXRSZWN0LmJvdHRvbSAtIHRvcDtcbiAgICAgICAgICAgICAgYm90dG9tID0gdGFyZ2V0UmVjdC5ib3R0b207XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG1heEhlaWdodCA9IGJvdHRvbTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGFsaWduLmJvdHRvbSAmJiBtYXhIZWlnaHQgPCB3aW5kb3dIZWlnaHQgLyAyKSB7XG4gICAgICAgICAgICAvLyBXZSBwdXQgaXQgYWJvdmUgYnV0IHRoZXJlJ3MgbW9yZSByb29tIGJlbG93LCBwdXQgaXQgYmVsb3dcbiAgICAgICAgICAgIGJvdHRvbSA9ICcnO1xuXG4gICAgICAgICAgICBpZiAoYWxpZ24uYm90dG9tID09PSAnYm90dG9tJykge1xuICAgICAgICAgICAgICB0b3AgPSB0YXJnZXRSZWN0LnRvcDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRvcCA9IHRhcmdldFJlY3QuYm90dG9tO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBtYXhIZWlnaHQgPSB3aW5kb3dIZWlnaHQgLSB0b3A7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29udGFpbmVyLnN0eWxlLmxlZnQgPSBsZWZ0ICsgXCJweFwiO1xuXG4gICAgICAgIGlmIChzdHJldGNoKSB7XG4gICAgICAgICAgLy8gb2Zmc2V0IHdpZHRoIGJ5IDAuMSB0byBhdm9pZCBhIGJ1ZyBpbiBpZTExIHRoYXRcbiAgICAgICAgICAvLyB1bm5lY2Vzc2FyaWx5IHdyYXBzIHRoZSB0ZXh0IGlmIHdpZHRoIGlzIHRoZSBzYW1lXG4gICAgICAgICAgLy8gTk9URTogdHVybmVkIG9mZiBmb3Igbm93XG4gICAgICAgICAgY29udGFpbmVyLnN0eWxlLndpZHRoID0gd2lkdGggKyAwLjEgKyBcInB4XCI7XG4gICAgICAgIH0gLy8gdGhlIChwb3NpdGlvbjphYnNvbHV0ZSArIHNjcm9sbFRvcClcbiAgICAgICAgLy8gaXMgcHJlc2VudGluZyBpc3N1ZXMgd2l0aCBkZXNrdG9wIHNjcm9sbCBmbGlja2VyaW5nXG5cblxuICAgICAgICBpZiAodG9wICE9PSAnJykge1xuICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS50b3AgPSB0b3AgKyBcInB4XCI7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYm90dG9tICE9PSAnJykge1xuICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS5ib3R0b20gPSB3aW5kb3dIZWlnaHQgLSBib3R0b20gKyBcInB4XCI7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXByZXNlcnZlSGVpZ2h0KSB7XG4gICAgICAgICAgaWYgKHRoZW1lLmRyb3AgJiYgdGhlbWUuZHJvcC5tYXhIZWlnaHQpIHtcbiAgICAgICAgICAgIG1heEhlaWdodCA9IE1hdGgubWluKG1heEhlaWdodCwgcGFyc2VNZXRyaWNUb051bSh0aGVtZS5kcm9wLm1heEhlaWdodCkpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS5tYXhIZWlnaHQgPSBtYXhIZWlnaHQgKyBcInB4XCI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJvbkVzY1wiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBvbkVzYyA9IF90aGlzLnByb3BzLm9uRXNjO1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgIGlmIChvbkVzYykge1xuICAgICAgICBvbkVzYyhldmVudCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwicHJldmVudENsaWNrQnViYmxpbmdcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIC8qKlxuICAgICAgICogdGhlIFJlYWN0IGV2ZW50IHN5c3RlbSBhY3R1YWxseSBsaXN0ZW5zIHRvIGFsbCBldmVudHMgYXQgdGhlIHRvcCBsZXZlbFxuICAgICAgICogYW5kIHRoZW4gaGFuZGxlcyBpdHMgb3duIGJ1YmJsaW5nIC8gY2FwdHVyaW5nIHZpcnR1YWxseS4gVGhpcyBtZWFucyB0aGF0XG4gICAgICAgKiBldmVuIGlmIHdlIGNhbGwgc3RvcFByb3BhZ2F0aW9uLCBpdCBvbmx5IGFmZmVjdHMgdGhlIFJlYWN0IHN5bnRoZXRpY1xuICAgICAgICogZXZlbnQsIGFuZCB0aGUgbmF0aXZlIGV2ZW50IHN0aWxsIGJ1YmJsZXMgdXB3YXJkLlxuICAgICAgICogQW55IGNvZGUgdGhhdCB1c2VzIG5hdGl2ZSBldmVudHMgKGxpa2UgdGhlIGNsb3NlIGxpc3RlbmVyIGluIHRoaXMgY2xhc3MpXG4gICAgICAgKiB3aWxsIHN0aWxsIGdldCB0aGUgYnViYmxlZCBldmVudCwgdW5sZXNzIHdlIGFsc28gY2FsbFxuICAgICAgICogZXZlbnQubmF0aXZlRXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uLCB3aGljaCBicmlkZ2VzIHRoZSBnYXAgZnJvbVxuICAgICAgICogUmVhY3Qgc3ludGhldGljIGV2ZW50IHRvIG5hdGl2ZSBET00gZXZlbnQuXG4gICAgICAgKi9cblxuICAgICAgZXZlbnQubmF0aXZlRXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICB2YXIgX3Byb3RvID0gRHJvcENvbnRhaW5lci5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdmFyIHJlc3RyaWN0Rm9jdXMgPSB0aGlzLnByb3BzLnJlc3RyaWN0Rm9jdXM7XG4gICAgdGhpcy5hZGRTY3JvbGxMaXN0ZW5lcigpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLm9uUmVzaXplKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLm9uQ2xpY2tEb2N1bWVudCk7XG4gICAgdGhpcy5wbGFjZShmYWxzZSk7XG5cbiAgICBpZiAocmVzdHJpY3RGb2N1cykge1xuICAgICAgdGhpcy5kcm9wUmVmLmN1cnJlbnQuZm9jdXMoKTtcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLmNvbXBvbmVudERpZFVwZGF0ZSA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICB0aGlzLnBsYWNlKHRydWUpO1xuICB9O1xuXG4gIF9wcm90by5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIHRoaXMucmVtb3ZlU2Nyb2xsTGlzdGVuZXIoKTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5vblJlc2l6ZSk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5vbkNsaWNrRG9jdW1lbnQpO1xuICB9O1xuXG4gIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIF90aGlzJHByb3BzMyA9IHRoaXMucHJvcHMsXG4gICAgICAgIGFsaWduUHJvcCA9IF90aGlzJHByb3BzMy5hbGlnbixcbiAgICAgICAgY2hpbGRyZW4gPSBfdGhpcyRwcm9wczMuY2hpbGRyZW4sXG4gICAgICAgIGVsZXZhdGlvbiA9IF90aGlzJHByb3BzMy5lbGV2YXRpb24sXG4gICAgICAgIG9uQ2xpY2tPdXRzaWRlID0gX3RoaXMkcHJvcHMzLm9uQ2xpY2tPdXRzaWRlLFxuICAgICAgICBvbkVzYyA9IF90aGlzJHByb3BzMy5vbkVzYyxcbiAgICAgICAgb25LZXlEb3duID0gX3RoaXMkcHJvcHMzLm9uS2V5RG93bixcbiAgICAgICAgcGxhaW4gPSBfdGhpcyRwcm9wczMucGxhaW4sXG4gICAgICAgIHByb3BzVGhlbWUgPSBfdGhpcyRwcm9wczMudGhlbWUsXG4gICAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfdGhpcyRwcm9wczMsIFtcImFsaWduXCIsIFwiY2hpbGRyZW5cIiwgXCJlbGV2YXRpb25cIiwgXCJvbkNsaWNrT3V0c2lkZVwiLCBcIm9uRXNjXCIsIFwib25LZXlEb3duXCIsIFwicGxhaW5cIiwgXCJ0aGVtZVwiXSk7XG5cbiAgICB2YXIgdGhlbWUgPSB0aGlzLmNvbnRleHQgfHwgcHJvcHNUaGVtZTtcbiAgICB2YXIgY29udGVudCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkRHJvcCwgX2V4dGVuZHMoe1xuICAgICAgYXM6IEJveCxcbiAgICAgIHBsYWluOiBwbGFpbixcbiAgICAgIGVsZXZhdGlvbjogIXBsYWluID8gZWxldmF0aW9uIHx8IHRoZW1lLmdsb2JhbC5kcm9wLnNoYWRvd1NpemUgfHwgJ3NtYWxsJyA6IHVuZGVmaW5lZCxcbiAgICAgIHRhYkluZGV4OiBcIi0xXCIsXG4gICAgICByZWY6IHRoaXMuZHJvcFJlZixcbiAgICAgIGFsaWduUHJvcDogYWxpZ25Qcm9wLFxuICAgICAgb25Nb3VzZURvd246IHRoaXMucHJldmVudENsaWNrQnViYmxpbmdcbiAgICB9LCByZXN0KSwgY2hpbGRyZW4pO1xuXG4gICAgaWYgKHRoZW1lLmdsb2JhbC5kcm9wLmJhY2tncm91bmQpIHtcbiAgICAgIHZhciBkYXJrID0gYmFja2dyb3VuZElzRGFyayh0aGVtZS5nbG9iYWwuZHJvcC5iYWNrZ3JvdW5kLCB0aGVtZSk7XG5cbiAgICAgIGlmIChkYXJrICE9PSB1bmRlZmluZWQgJiYgZGFyayAhPT0gdGhlbWUuZGFyaykge1xuICAgICAgICBjb250ZW50ID0gUmVhY3QuY3JlYXRlRWxlbWVudChUaGVtZUNvbnRleHQuUHJvdmlkZXIsIHtcbiAgICAgICAgICB2YWx1ZTogX2V4dGVuZHMoe30sIHRoZW1lLCB7XG4gICAgICAgICAgICBkYXJrOiBkYXJrXG4gICAgICAgICAgfSlcbiAgICAgICAgfSwgY29udGVudCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRm9jdXNlZENvbnRhaW5lciwge1xuICAgICAgb25LZXlEb3duOiBvbkVzYyAmJiBwcmV2ZW50TGF5ZXJDbG9zZVxuICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoS2V5Ym9hcmQsIHtcbiAgICAgIG9uRXNjOiBvbkVzYyAmJiB0aGlzLm9uRXNjLFxuICAgICAgb25LZXlEb3duOiBvbktleURvd24sXG4gICAgICB0YXJnZXQ6IFwiZG9jdW1lbnRcIlxuICAgIH0sIGNvbnRlbnQpKTtcbiAgfTtcblxuICByZXR1cm4gRHJvcENvbnRhaW5lcjtcbn0oQ29tcG9uZW50KTtcblxuX2RlZmluZVByb3BlcnR5KERyb3BDb250YWluZXIsIFwiY29udGV4dFR5cGVcIiwgVGhlbWVDb250ZXh0KTtcblxuX2RlZmluZVByb3BlcnR5KERyb3BDb250YWluZXIsIFwiZGVmYXVsdFByb3BzXCIsIHtcbiAgYWxpZ246IHtcbiAgICB0b3A6ICd0b3AnLFxuICAgIGxlZnQ6ICdsZWZ0J1xuICB9LFxuICBvdmVyZmxvdzogJ2F1dG8nLFxuICBzdHJldGNoOiAnd2lkdGgnXG59KTtcblxuT2JqZWN0LnNldFByb3RvdHlwZU9mKERyb3BDb250YWluZXIuZGVmYXVsdFByb3BzLCBkZWZhdWx0UHJvcHMpO1xuZXhwb3J0IHsgRHJvcENvbnRhaW5lciB9OyIsImltcG9ydCBzdHlsZWQsIHsga2V5ZnJhbWVzIH0gZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgYmFzZVN0eWxlIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuaW1wb3J0IHsgYmFja2dyb3VuZFN0eWxlIH0gZnJvbSAnLi4vLi4vdXRpbHMvYmFja2dyb3VuZCc7XG5pbXBvcnQgeyBkZWZhdWx0UHJvcHMgfSBmcm9tICcuLi8uLi9kZWZhdWx0LXByb3BzJztcblxuZnVuY3Rpb24gZ2V0VHJhbnNmb3JtT3JpZ2luU3R5bGUoYWxpZ24pIHtcbiAgdmFyIHZlcnRpY2FsID0gJ3RvcCc7XG5cbiAgaWYgKGFsaWduLmJvdHRvbSkge1xuICAgIHZlcnRpY2FsID0gJ2JvdHRvbSc7XG4gIH1cblxuICB2YXIgaG9yaXpvbnRhbCA9ICdsZWZ0JztcblxuICBpZiAoYWxpZ24ucmlnaHQpIHtcbiAgICBob3Jpem9udGFsID0gJ3JpZ2h0JztcbiAgfVxuXG4gIHJldHVybiB2ZXJ0aWNhbCArIFwiIFwiICsgaG9yaXpvbnRhbDtcbn1cblxudmFyIGRyb3BLZXlGcmFtZXMgPSBrZXlmcmFtZXMoW1wiMCV7b3BhY2l0eTowLjU7dHJhbnNmb3JtOnNjYWxlKDAuOCk7fTEwMCV7b3BhY2l0eToxO3RyYW5zZm9ybTpzY2FsZSgxKTt9XCJdKTtcbnZhciBTdHlsZWREcm9wID0gc3R5bGVkLmRpdi53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiU3R5bGVkRHJvcFwiLFxuICBjb21wb25lbnRJZDogXCJzYy0xNnM1cng4LTBcIlxufSkoW1wiXCIsIFwiIGJvcmRlci1yYWRpdXM6XCIsIFwiO3Bvc2l0aW9uOmZpeGVkO3otaW5kZXg6XCIsIFwiO291dGxpbmU6bm9uZTtcIiwgXCIgb3BhY2l0eTowO3RyYW5zZm9ybS1vcmlnaW46XCIsIFwiO2FuaW1hdGlvbjpcIiwgXCIgMC4xcyBmb3J3YXJkczthbmltYXRpb24tZGVsYXk6MC4wMXM7QG1lZGlhIHNjcmVlbiBhbmQgKC1tcy1oaWdoLWNvbnRyYXN0OmFjdGl2ZSksKC1tcy1oaWdoLWNvbnRyYXN0Om5vbmUpe2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpzdHJldGNoO31cIiwgXCJcIl0sIGJhc2VTdHlsZSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5nbG9iYWwuZHJvcC5ib3JkZXIucmFkaXVzO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5nbG9iYWwuZHJvcC56SW5kZXg7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuICFwcm9wcy5wbGFpbiAmJiBiYWNrZ3JvdW5kU3R5bGUocHJvcHMudGhlbWUuZ2xvYmFsLmRyb3AuYmFja2dyb3VuZCwgcHJvcHMudGhlbWUpO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBnZXRUcmFuc2Zvcm1PcmlnaW5TdHlsZShwcm9wcy5hbGlnblByb3ApO1xufSwgZHJvcEtleUZyYW1lcywgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5nbG9iYWwuZHJvcCAmJiBwcm9wcy50aGVtZS5nbG9iYWwuZHJvcC5leHRlbmQ7XG59KTtcblN0eWxlZERyb3AuZGVmYXVsdFByb3BzID0ge307XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoU3R5bGVkRHJvcC5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG5leHBvcnQgeyBTdHlsZWREcm9wIH07IiwiaW1wb3J0IHsgZGVzY3JpYmUsIFByb3BUeXBlcyB9IGZyb20gJ3JlYWN0LWRlc2MnO1xuaW1wb3J0IHsgT1ZFUkZMT1dfVkFMVUVTIH0gZnJvbSAnLi4vQm94L2RvYyc7XG5pbXBvcnQgeyBnZXRBdmFpbGFibGVBdEJhZGdlIH0gZnJvbSAnLi4vLi4vdXRpbHMnOyAvLyBpZiB5b3UgdXBkYXRlIHZhbHVlcyBoZXJlLCBtYWtlIHN1cmUgdG8gdXBkYXRlIGluIEJveC9kb2MgdG9vLlxuXG52YXIgZHJvcE92ZXJmbG93UHJvcFR5cGVzID0gUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKE9WRVJGTE9XX1ZBTFVFUyksIFByb3BUeXBlcy5zaGFwZSh7XG4gIGhvcml6b250YWw6IFByb3BUeXBlcy5vbmVPZihPVkVSRkxPV19WQUxVRVMpLFxuICB2ZXJ0aWNhbDogUHJvcFR5cGVzLm9uZU9mKE9WRVJGTE9XX1ZBTFVFUylcbn0pLCBQcm9wVHlwZXMuc3RyaW5nXSk7XG5leHBvcnQgdmFyIGRvYyA9IGZ1bmN0aW9uIGRvYyhEcm9wKSB7XG4gIHZhciBEb2N1bWVudGVkRHJvcCA9IGRlc2NyaWJlKERyb3ApLmF2YWlsYWJsZUF0KGdldEF2YWlsYWJsZUF0QmFkZ2UoJ0Ryb3AnKSkuZGVzY3JpcHRpb24oJ0EgY29udGFpbmVyIHRoYXQgaXMgb3ZlcmxhaWQgbmV4dCB0byBhIHRhcmdldC4nKS51c2FnZShcImltcG9ydCB7IERyb3AgfSBmcm9tICdncm9tbWV0JztcXG48RHJvcCB0YXJnZXQ9e3JlZmVyZW5jZX0+Li4uPC9Ecm9wPlwiKS5pbnRyaW5zaWNFbGVtZW50KCdkaXYnKTtcbiAgRG9jdW1lbnRlZERyb3AucHJvcFR5cGVzID0ge1xuICAgIGFsaWduOiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgdG9wOiBQcm9wVHlwZXMub25lT2YoWyd0b3AnLCAnYm90dG9tJ10pLFxuICAgICAgYm90dG9tOiBQcm9wVHlwZXMub25lT2YoWyd0b3AnLCAnYm90dG9tJ10pLFxuICAgICAgcmlnaHQ6IFByb3BUeXBlcy5vbmVPZihbJ2xlZnQnLCAncmlnaHQnXSksXG4gICAgICBsZWZ0OiBQcm9wVHlwZXMub25lT2YoWydsZWZ0JywgJ3JpZ2h0J10pXG4gICAgfSkuZGVzY3JpcHRpb24oXCJIb3cgdG8gYWxpZ24gdGhlIGRyb3Agd2l0aCByZXNwZWN0IHRvIHRoZSB0YXJnZXQgZWxlbWVudC4gTm90IFxcbiAgICAgICAgc3BlY2lmeWluZyBhIHZlcnRpY2FsIG9yIGhvcml6b250YWwgYWxpZ25tZW50IHdpbGwgY2F1c2UgaXQgdG8gYmUgXFxuICAgICAgICBhbGlnbmVkIGluIHRoZSBjZW50ZXIuXCIpLmRlZmF1bHRWYWx1ZSh7XG4gICAgICB0b3A6ICd0b3AnLFxuICAgICAgbGVmdDogJ2xlZnQnXG4gICAgfSksXG4gICAgb25DbGlja091dHNpZGU6IFByb3BUeXBlcy5mdW5jLmRlc2NyaXB0aW9uKCdGdW5jdGlvbiB0aGF0IHdpbGwgYmUgaW52b2tlZCB3aGVuIHRoZSB1c2VyIGNsaWNrcyBvdXRzaWRlIHRoZSBkcm9wLicpLFxuICAgIG9uRXNjOiBQcm9wVHlwZXMuZnVuYy5kZXNjcmlwdGlvbihcIkZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgdXNlciBwcmVzc2VzIHRoZSBlc2NhcGUga2V5IGluc2lkZVxcbiAgICAgICB0aGUgZHJvcC5cIiksXG4gICAgb3ZlcmZsb3c6IGRyb3BPdmVyZmxvd1Byb3BUeXBlcy5kZXNjcmlwdGlvbignSG93IHRvIGNvbnRyb2wgdGhlIG92ZXJmbG93IGluc2lkZSB0aGUgZHJvcC4nKS5kZWZhdWx0VmFsdWUoJ2F1dG8nKSxcbiAgICByZXNwb25zaXZlOiBQcm9wVHlwZXMuYm9vbC5kZXNjcmlwdGlvbignV2hldGhlciB0byBkeW5hbWljYWxseSByZS1wbGFjZSB3aGVuIHJlc2l6ZWQuJykuZGVmYXVsdFZhbHVlKHRydWUpLFxuICAgIHJlc3RyaWN0Rm9jdXM6IFByb3BUeXBlcy5ib29sLmRlc2NyaXB0aW9uKCdXaGV0aGVyIHRoZSBkcm9wIHNob3VsZCBjb250cm9sIGZvY3VzLicpLmRlZmF1bHRWYWx1ZShmYWxzZSksXG4gICAgc3RyZXRjaDogUHJvcFR5cGVzLmJvb2wuZGVzY3JpcHRpb24oXCJXaGV0aGVyIHRoZSBkcm9wIGVsZW1lbnQgc2hvdWxkIGJlIHN0cmV0Y2hlZCB0byBhdCBsZWFzdCBtYXRjaCB0aGVcXG4gICAgICB3aWR0aCBvZiB0aGUgdGFyZ2V0IGVsZW1lbnQuIFRoZSBkZWZhdWx0IGlzIHRydWUgYmVjYXVzZVxcbiAgICAgIHRoYXQgaXMgd2hhdCBtb3N0IHVzZXMgb2YgRHJvcCB3YW50LCBsaWtlIFNlbGVjdCBhbmQgTWVudS5cIikuZGVmYXVsdFZhbHVlKHRydWUpLFxuICAgIHRhcmdldDogUHJvcFR5cGVzLm9iamVjdC5kZXNjcmlwdGlvbihcIlRhcmdldCB3aGVyZSB0aGUgZHJvcCB3aWxsIGJlIGFsaWduZWQgdG8uIFRoaXMgc2hvdWxkIGJlIGEgUmVhY3QgXFxuICAgICAgcmVmZXJlbmNlLlwiKS5pc1JlcXVpcmVkLFxuICAgIGVsZXZhdGlvbjogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFsnbm9uZScsICd4c21hbGwnLCAnc21hbGwnLCAnbWVkaXVtJywgJ2xhcmdlJywgJ3hsYXJnZSddKSwgUHJvcFR5cGVzLnN0cmluZ10pLmRlc2NyaXB0aW9uKFwiRWxldmF0ZWQgaGVpZ2h0IG9mIHRoZSB0YXJnZXQsIGluZGljYXRlZCB2aWEgYSBkcm9wIHNoYWRvdy5cIiksXG4gICAgcGxhaW46IFByb3BUeXBlcy5ib29sLmRlc2NyaXB0aW9uKFwiV2hldGhlciB0aGUgZHJvcCBlbGVtZW50IHNob3VsZCBoYXZlIG5vIGJhY2tncm91bmQgbm9yIHNoYWRvd1wiKS5kZWZhdWx0VmFsdWUoZmFsc2UpXG4gIH07XG4gIHJldHVybiBEb2N1bWVudGVkRHJvcDtcbn07XG5leHBvcnQgdmFyIHRoZW1lRG9jID0ge1xuICAnZHJvcC5tYXhIZWlnaHQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgbWF4IGhlaWdodCBvZiB0aGUgRHJvcCBjb250YWluZXInLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogdW5kZWZpbmVkXG4gIH0sXG4gICdnbG9iYWwuZHJvcC5iYWNrZ3JvdW5kJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGJhY2tncm91bmQgY29sb3Igb2YgRHJvcCcsXG4gICAgdHlwZTogJ3N0cmluZyB8IHsgZGFyazogc3RyaW5nLCBsaWdodDogc3RyaW5nIH0nLFxuICAgIGRlZmF1bHRWYWx1ZTogJyNmZmZmZmYnXG4gIH0sXG4gICdnbG9iYWwuZHJvcC5ib3JkZXIucmFkaXVzJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGNvcm5lciByYWRpdXMnLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogJzBweCdcbiAgfSxcbiAgJ2dsb2JhbC5kcm9wLmV4dGVuZCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ0FueSBhZGRpdGlvbmFsIHN0eWxlIGZvciBEcm9wLicsXG4gICAgdHlwZTogJ3N0cmluZyB8IChwcm9wcykgPT4ge30nLFxuICAgIGRlZmF1bHRWYWx1ZTogdW5kZWZpbmVkXG4gIH0sXG4gICdnbG9iYWwuZHJvcC5zaGFkb3dTaXplJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnRWxldmF0ZWQgaGVpZ2h0IG9mIHRoZSBEcm9wJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICdzbWFsbCdcbiAgfSxcbiAgJ2dsb2JhbC5kcm9wLnpJbmRleCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBzdGFjayBvcmRlciBvZiB0aGUgRHJvcCcsXG4gICAgdHlwZTogJ251bWJlcicsXG4gICAgZGVmYXVsdFZhbHVlOiAyMFxuICB9XG59OyIsImV4cG9ydCB7IERyb3AgfSBmcm9tICcuL0Ryb3AnOyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0c0xvb3NlKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcy5wcm90b3R5cGUpOyBzdWJDbGFzcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBzdWJDbGFzczsgc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5pbXBvcnQgUmVhY3QsIHsgY3JlYXRlUmVmLCBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjb21wb3NlIH0gZnJvbSAncmVjb21wb3NlJztcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJy4uL0J1dHRvbic7XG5pbXBvcnQgeyBEcm9wIH0gZnJvbSAnLi4vRHJvcCc7XG5pbXBvcnQgeyB3aXRoRm9yd2FyZFJlZiB9IGZyb20gJy4uL2hvY3MnO1xuaW1wb3J0IHsgc2V0Rm9jdXNXaXRob3V0U2Nyb2xsIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuXG52YXIgRHJvcEJ1dHRvbiA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBfaW5oZXJpdHNMb29zZShEcm9wQnV0dG9uLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBEcm9wQnV0dG9uKHByb3BzKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX3RoaXMgPSBfQ29tcG9uZW50LmNhbGwodGhpcywgcHJvcHMpIHx8IHRoaXM7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiYnV0dG9uUmVmXCIsIGNyZWF0ZVJlZigpKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJvbkRyb3BDbG9zZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgb25DbG9zZSA9IF90aGlzLnByb3BzLm9uQ2xvc2U7XG5cbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgc2hvdzogZmFsc2VcbiAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKG9uQ2xvc2UpIHtcbiAgICAgICAgICBvbkNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIm9uVG9nZ2xlXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgb25DbGljayA9IF90aGlzJHByb3BzLm9uQ2xpY2ssXG4gICAgICAgICAgb25DbG9zZSA9IF90aGlzJHByb3BzLm9uQ2xvc2UsXG4gICAgICAgICAgb25PcGVuID0gX3RoaXMkcHJvcHMub25PcGVuO1xuICAgICAgdmFyIHNob3cgPSBfdGhpcy5zdGF0ZS5zaG93O1xuXG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHNob3c6ICFzaG93XG4gICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBzaG93ID8gb25DbG9zZSAmJiBvbkNsb3NlKCkgOiBvbk9wZW4gJiYgb25PcGVuKCk7XG4gICAgICB9KTtcblxuICAgICAgaWYgKG9uQ2xpY2spIHtcbiAgICAgICAgb25DbGljayhldmVudCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHNob3c6IHByb3BzLm9wZW4gfHwgZmFsc2VcbiAgICB9O1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIERyb3BCdXR0b24uZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID0gZnVuY3Rpb24gZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKG5leHRQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgdmFyIHNob3cgPSBwcmV2U3RhdGUuc2hvdztcbiAgICB2YXIgb3BlbiA9IG5leHRQcm9wcy5vcGVuO1xuXG4gICAgaWYgKG9wZW4gIT09IHVuZGVmaW5lZCAmJiBvcGVuICE9PSBzaG93KSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzaG93OiBvcGVuXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIHZhciBfcHJvdG8gPSBEcm9wQnV0dG9uLnByb3RvdHlwZTtcblxuICBfcHJvdG8uY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB2YXIgb3BlbiA9IHRoaXMucHJvcHMub3BlbjtcblxuICAgIGlmIChvcGVuKSB7XG4gICAgICB0aGlzLmZvcmNlVXBkYXRlKCk7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzLCBwcmV2U3RhdGUpIHtcbiAgICB2YXIgZm9yd2FyZFJlZiA9IHRoaXMucHJvcHMuZm9yd2FyZFJlZjtcbiAgICB2YXIgc2hvdyA9IHRoaXMuc3RhdGUuc2hvdztcblxuICAgIGlmICghc2hvdyAmJiBwcmV2U3RhdGUuc2hvdykge1xuICAgICAgLy8gZm9jdXMgb24gdGhlIGJ1dHRvbiBpZiB0aGUgZHJvcCBpcyBjbG9zZWRcbiAgICAgIHNldEZvY3VzV2l0aG91dFNjcm9sbCgoZm9yd2FyZFJlZiB8fCB0aGlzLmJ1dHRvblJlZikuY3VycmVudCk7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIF90aGlzJHByb3BzMiA9IHRoaXMucHJvcHMsXG4gICAgICAgIGRpc2FibGVkID0gX3RoaXMkcHJvcHMyLmRpc2FibGVkLFxuICAgICAgICBkcm9wQWxpZ24gPSBfdGhpcyRwcm9wczIuZHJvcEFsaWduLFxuICAgICAgICBkcm9wUHJvcHMgPSBfdGhpcyRwcm9wczIuZHJvcFByb3BzLFxuICAgICAgICBmb3J3YXJkUmVmID0gX3RoaXMkcHJvcHMyLmZvcndhcmRSZWYsXG4gICAgICAgIGRyb3BDb250ZW50ID0gX3RoaXMkcHJvcHMyLmRyb3BDb250ZW50LFxuICAgICAgICBkcm9wVGFyZ2V0ID0gX3RoaXMkcHJvcHMyLmRyb3BUYXJnZXQsXG4gICAgICAgIGlkID0gX3RoaXMkcHJvcHMyLmlkLFxuICAgICAgICBvcGVuID0gX3RoaXMkcHJvcHMyLm9wZW4sXG4gICAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfdGhpcyRwcm9wczIsIFtcImRpc2FibGVkXCIsIFwiZHJvcEFsaWduXCIsIFwiZHJvcFByb3BzXCIsIFwiZm9yd2FyZFJlZlwiLCBcImRyb3BDb250ZW50XCIsIFwiZHJvcFRhcmdldFwiLCBcImlkXCIsIFwib3BlblwiXSk7XG5cbiAgICB2YXIgc2hvdyA9IHRoaXMuc3RhdGUuc2hvdztcbiAgICBkZWxldGUgcmVzdC5vbkNsb3NlO1xuICAgIGRlbGV0ZSByZXN0Lm9uT3BlbjtcbiAgICB2YXIgZHJvcDtcblxuICAgIGlmIChzaG93ICYmIChmb3J3YXJkUmVmIHx8IHRoaXMuYnV0dG9uUmVmKS5jdXJyZW50KSB7XG4gICAgICBkcm9wID0gUmVhY3QuY3JlYXRlRWxlbWVudChEcm9wLCBfZXh0ZW5kcyh7XG4gICAgICAgIGlkOiBpZCA/IGlkICsgXCJfX2Ryb3BcIiA6IHVuZGVmaW5lZCxcbiAgICAgICAgcmVzdHJpY3RGb2N1czogdHJ1ZSxcbiAgICAgICAgYWxpZ246IGRyb3BBbGlnbixcbiAgICAgICAgdGFyZ2V0OiBkcm9wVGFyZ2V0IHx8IChmb3J3YXJkUmVmIHx8IHRoaXMuYnV0dG9uUmVmKS5jdXJyZW50LFxuICAgICAgICBvbkNsaWNrT3V0c2lkZTogdGhpcy5vbkRyb3BDbG9zZSxcbiAgICAgICAgb25Fc2M6IHRoaXMub25Ecm9wQ2xvc2VcbiAgICAgIH0sIGRyb3BQcm9wcyksIGRyb3BDb250ZW50KTtcbiAgICB9XG5cbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIF9leHRlbmRzKHtcbiAgICAgIGlkOiBpZCxcbiAgICAgIHJlZjogZm9yd2FyZFJlZiB8fCB0aGlzLmJ1dHRvblJlZixcbiAgICAgIGRpc2FibGVkOiBkaXNhYmxlZFxuICAgIH0sIHJlc3QsIHtcbiAgICAgIG9uQ2xpY2s6IHRoaXMub25Ub2dnbGVcbiAgICB9KSksIGRyb3ApO1xuICB9O1xuXG4gIHJldHVybiBEcm9wQnV0dG9uO1xufShDb21wb25lbnQpO1xuXG5fZGVmaW5lUHJvcGVydHkoRHJvcEJ1dHRvbiwgXCJkZWZhdWx0UHJvcHNcIiwge1xuICBhMTF5VGl0bGU6ICdPcGVuIERyb3AnLFxuICBkcm9wQWxpZ246IHtcbiAgICB0b3A6ICd0b3AnLFxuICAgIGxlZnQ6ICdsZWZ0J1xuICB9XG59KTtcblxudmFyIERyb3BCdXR0b25Eb2M7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBnbG9iYWwtcmVxdWlyZVxuICBEcm9wQnV0dG9uRG9jID0gcmVxdWlyZSgnLi9kb2MnKS5kb2MoRHJvcEJ1dHRvbik7XG59XG5cbnZhciBEcm9wQnV0dG9uV3JhcHBlciA9IGNvbXBvc2Uod2l0aEZvcndhcmRSZWYpKERyb3BCdXR0b25Eb2MgfHwgRHJvcEJ1dHRvbik7XG5leHBvcnQgeyBEcm9wQnV0dG9uV3JhcHBlciBhcyBEcm9wQnV0dG9uIH07IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuaW1wb3J0IHsgZGVzY3JpYmUsIFByb3BUeXBlcyB9IGZyb20gJ3JlYWN0LWRlc2MnO1xuaW1wb3J0IHsgZ2VuZXJpY1Byb3BzLCBnZXRBdmFpbGFibGVBdEJhZGdlIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuZXhwb3J0IHZhciBkb2MgPSBmdW5jdGlvbiBkb2MoRHJvcEJ1dHRvbikge1xuICB2YXIgRG9jdW1lbnRlZERyb3BCdXR0b24gPSBkZXNjcmliZShEcm9wQnV0dG9uKS5hdmFpbGFibGVBdChnZXRBdmFpbGFibGVBdEJhZGdlKCdEcm9wQnV0dG9uJykpLmRlc2NyaXB0aW9uKFwiQSBCdXR0b24gdGhhdCBjb250cm9scyBhIERyb3AuIFdoZW4gb3BlbmVkLCB0aGUgRHJvcCB3aWxsIGNvbnRhaW5cXG4gICAgICB3aGF0ZXZlciBpcyBzcGVjaWZpZWQgdmlhIGBkcm9wQ29udGVudGAuIFRoZSBEcm9wIHdpbGwgY29udHJvbCB0aGUgZm9jdXNcXG4gICAgICBzbyB0aGF0IHRoZSBjb250ZW50cyBiZWhpbmQgaXQgYXJlIG5vdCBmb2N1c2FibGUuIEFsbCBwcm9wZXJ0aWVzIGFuZCBcXG4gICAgICB0aGVtZSBwcm9wZXJ0aWVzIG9mIEJ1dHRvbiBvciBEcm9wIGNhbiBiZSBwYXNzZWQgdGhyb3VnaC5cXG4gICAgICBcIikudXNhZ2UoXCJpbXBvcnQgeyBEcm9wQnV0dG9uIH0gZnJvbSAnZ3JvbW1ldCc7XFxuPERyb3BCdXR0b24gZHJvcENvbnRlbnQ9ey4uLn0gLz5cIikuaW50cmluc2ljRWxlbWVudCgnYnV0dG9uJyk7XG4gIERvY3VtZW50ZWREcm9wQnV0dG9uLnByb3BUeXBlcyA9IF9leHRlbmRzKHt9LCBnZW5lcmljUHJvcHMsIHtcbiAgICBkaXNhYmxlZDogUHJvcFR5cGVzLmJvb2wuZGVzY3JpcHRpb24oJ1doZXRoZXIgdGhlIGJ1dHRvbiBzaG91bGQgYmUgZGlzYWJsZWQuJykuZGVmYXVsdFZhbHVlKGZhbHNlKSxcbiAgICBkcm9wQWxpZ246IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICB0b3A6IFByb3BUeXBlcy5vbmVPZihbJ3RvcCcsICdib3R0b20nXSksXG4gICAgICBib3R0b206IFByb3BUeXBlcy5vbmVPZihbJ3RvcCcsICdib3R0b20nXSksXG4gICAgICByaWdodDogUHJvcFR5cGVzLm9uZU9mKFsnbGVmdCcsICdyaWdodCddKSxcbiAgICAgIGxlZnQ6IFByb3BUeXBlcy5vbmVPZihbJ2xlZnQnLCAncmlnaHQnXSlcbiAgICB9KS5kZXNjcmlwdGlvbignSG93IHRvIGFsaWduIHRoZSBkcm9wIHdpdGggcmVzcGVjdCB0byB0aGUgYnV0dG9uLicpLmRlZmF1bHRWYWx1ZSh7XG4gICAgICB0b3A6ICd0b3AnLFxuICAgICAgbGVmdDogJ2xlZnQnXG4gICAgfSksXG4gICAgZHJvcENvbnRlbnQ6IFByb3BUeXBlcy5lbGVtZW50LmRlc2NyaXB0aW9uKCdDb250ZW50IHRvIHB1dCBpbnNpZGUgdGhlIERyb3AuJykuaXNSZXF1aXJlZCxcbiAgICBkcm9wVGFyZ2V0OiBQcm9wVHlwZXMub2JqZWN0LmRlc2NyaXB0aW9uKFwiVGFyZ2V0IHdoZXJlIHRoZSBkcm9wIHdpbGwgYmUgYWxpZ25lZCB0by4gVGhpcyBzaG91bGQgYmVcXG4gICAgICBhIFJlYWN0IHJlZmVyZW5jZS4gVHlwaWNhbGx5LCB0aGlzIGlzIG5vdCByZXF1aXJlZCBhcyB0aGUgZHJvcCB3aWxsIGJlXFxuICAgICAgYWxpZ25lZCB0byB0aGUgRHJvcEJ1dHRvbiBpdHNlbGYgYnkgZGVmYXVsdC5cIiksXG4gICAgZHJvcFByb3BzOiBQcm9wVHlwZXMub2JqZWN0LmRlc2NyaXB0aW9uKCdBbnkgdmFsaWQgRHJvcCBwcm9wLicpLFxuICAgIG9uQ2xvc2U6IFByb3BUeXBlcy5mdW5jLmRlc2NyaXB0aW9uKCdDYWxsYmFjayBmb3Igd2hlbiB0aGUgZHJvcCBpcyBjbG9zZWQnKSxcbiAgICBvbk9wZW46IFByb3BUeXBlcy5mdW5jLmRlc2NyaXB0aW9uKCdDYWxsYmFjayBmb3Igd2hlbiB0aGUgZHJvcCBpcyBvcGVuZWQnKSxcbiAgICBvcGVuOiBQcm9wVHlwZXMuYm9vbC5kZXNjcmlwdGlvbihcIldoZXRoZXIgdGhlIGRyb3Agc2hvdWxkIGJlIG9wZW4gb3Igbm90LiBTZXR0aW5nIHRoaXMgcHJvcGVydHkgZG9lcyBub3RcXG4gICAgICBpbmZsdWVuY2UgdXNlciBpbnRlcmFjdGlvbiBhZnRlciBpdCBoYXMgYmVlbiByZW5kZXJlZC5cIikuZGVmYXVsdFZhbHVlKGZhbHNlKVxuICB9KTtcbiAgcmV0dXJuIERvY3VtZW50ZWREcm9wQnV0dG9uO1xufTsiLCJleHBvcnQgeyBEcm9wQnV0dG9uIH0gZnJvbSAnLi9Ecm9wQnV0dG9uJzsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBnZXRCb2R5Q2hpbGRFbGVtZW50cywgbWFrZU5vZGVGb2N1c2FibGUsIG1ha2VOb2RlVW5mb2N1c2FibGUgfSBmcm9tICcuLi91dGlscyc7XG5cbnZhciBpc05vdEFuY2VzdG9yT2YgPSBmdW5jdGlvbiBpc05vdEFuY2VzdG9yT2YoY2hpbGQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChwYXJlbnQpIHtcbiAgICByZXR1cm4gIXBhcmVudC5jb250YWlucyhjaGlsZCk7XG4gIH07XG59O1xuXG5leHBvcnQgdmFyIEZvY3VzZWRDb250YWluZXIgPSBmdW5jdGlvbiBGb2N1c2VkQ29udGFpbmVyKF9yZWYpIHtcbiAgdmFyIF9yZWYkaGlkZGVuID0gX3JlZi5oaWRkZW4sXG4gICAgICBoaWRkZW4gPSBfcmVmJGhpZGRlbiA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmJGhpZGRlbixcbiAgICAgIF9yZWYkcmVzdHJpY3RTY3JvbGwgPSBfcmVmLnJlc3RyaWN0U2Nyb2xsLFxuICAgICAgcmVzdHJpY3RTY3JvbGwgPSBfcmVmJHJlc3RyaWN0U2Nyb2xsID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYkcmVzdHJpY3RTY3JvbGwsXG4gICAgICBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW4sXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZiwgW1wiaGlkZGVuXCIsIFwicmVzdHJpY3RTY3JvbGxcIiwgXCJjaGlsZHJlblwiXSk7XG5cbiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKCcnKSxcbiAgICAgIGJvZHlPdmVyZmxvd1N0eWxlID0gX3VzZVN0YXRlWzBdLFxuICAgICAgc2V0Qm9keU92ZXJmbG93U3R5bGUgPSBfdXNlU3RhdGVbMV07XG5cbiAgdmFyIHJlZiA9IHVzZVJlZihudWxsKTtcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcmVtb3ZlVHJhcCA9IGZ1bmN0aW9uIHJlbW92ZVRyYXAoKSB7XG4gICAgICB2YXIgY2hpbGQgPSByZWYuY3VycmVudDtcbiAgICAgIGdldEJvZHlDaGlsZEVsZW1lbnRzKCkuZmlsdGVyKGlzTm90QW5jZXN0b3JPZihjaGlsZCkpLmZvckVhY2gobWFrZU5vZGVGb2N1c2FibGUpO1xuXG4gICAgICBpZiAocmVzdHJpY3RTY3JvbGwpIHtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9IGJvZHlPdmVyZmxvd1N0eWxlO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgdHJhcEZvY3VzID0gZnVuY3Rpb24gdHJhcEZvY3VzKCkge1xuICAgICAgdmFyIGNoaWxkID0gcmVmLmN1cnJlbnQ7XG4gICAgICBnZXRCb2R5Q2hpbGRFbGVtZW50cygpLmZpbHRlcihpc05vdEFuY2VzdG9yT2YoY2hpbGQpKS5mb3JFYWNoKG1ha2VOb2RlVW5mb2N1c2FibGUpO1xuXG4gICAgICBpZiAocmVzdHJpY3RTY3JvbGwpIHtcbiAgICAgICAgc2V0Qm9keU92ZXJmbG93U3R5bGUoZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIHRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIWhpZGRlbikge1xuICAgICAgICB0cmFwRm9jdXMoKTtcbiAgICAgIH1cbiAgICB9LCAwKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgcmVtb3ZlVHJhcCgpO1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICB9O1xuICB9LCBbaGlkZGVuLCBib2R5T3ZlcmZsb3dTdHlsZSwgcmVzdHJpY3RTY3JvbGxdKTtcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgX2V4dGVuZHMoe1xuICAgIHJlZjogcmVmLFxuICAgIFwiYXJpYS1oaWRkZW5cIjogaGlkZGVuXG4gIH0sIHJlc3QpLCBjaGlsZHJlbik7XG59OyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBCb3ggfSBmcm9tICcuLi9Cb3gnO1xuXG52YXIgRm9vdGVyID0gZnVuY3Rpb24gRm9vdGVyKF9yZWYpIHtcbiAgdmFyIHJlc3QgPSBfZXh0ZW5kcyh7fSwgX3JlZik7XG5cbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQm94LCBfZXh0ZW5kcyh7XG4gICAgYXM6IFwiZm9vdGVyXCIsXG4gICAgYWxpZ246IFwiY2VudGVyXCIsXG4gICAgZGlyZWN0aW9uOiBcInJvd1wiLFxuICAgIGZsZXg6IGZhbHNlLFxuICAgIGdhcDogXCJtZWRpdW1cIixcbiAgICBqdXN0aWZ5OiBcImJldHdlZW5cIlxuICB9LCByZXN0KSk7XG59O1xuXG52YXIgRm9vdGVyRG9jO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZ2xvYmFsLXJlcXVpcmVcbiAgRm9vdGVyRG9jID0gcmVxdWlyZSgnLi9kb2MnKS5kb2MoRm9vdGVyKTtcbn1cblxudmFyIEZvb3RlcldyYXBwZXIgPSBGb290ZXJEb2MgfHwgRm9vdGVyO1xuZXhwb3J0IHsgRm9vdGVyV3JhcHBlciBhcyBGb290ZXIgfTsiLCJpbXBvcnQgeyBkZXNjcmliZSB9IGZyb20gJ3JlYWN0LWRlc2MnO1xuaW1wb3J0IHsgZ2V0QXZhaWxhYmxlQXRCYWRnZSB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmV4cG9ydCB2YXIgZG9jID0gZnVuY3Rpb24gZG9jKEZvb3Rlcikge1xuICB2YXIgRG9jdW1lbnRlZEZvb3RlciA9IGRlc2NyaWJlKEZvb3RlcikuYXZhaWxhYmxlQXQoZ2V0QXZhaWxhYmxlQXRCYWRnZSgnRm9vdGVyJykpLmRlc2NyaXB0aW9uKCdGb290ZXIgZm9yIGEgZG9jdW1lbnQgb3Igc2VjdGlvbicpLnVzYWdlKFwiaW1wb3J0IHsgRm9vdGVyIH0gZnJvbSAnZ3JvbW1ldCc7XFxuPEZvb3RlciAvPlwiKTtcbiAgcmV0dXJuIERvY3VtZW50ZWRGb290ZXI7XG59OyIsImV4cG9ydCB7IEZvb3RlciB9IGZyb20gJy4vRm9vdGVyJzsiLCJmdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHNMb29zZShzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MucHJvdG90eXBlKTsgc3ViQ2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gc3ViQ2xhc3M7IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGRlZmF1bHRQcm9wcyB9IGZyb20gJy4uLy4uL2RlZmF1bHQtcHJvcHMnO1xuaW1wb3J0IHsgRm9ybUNvbnRleHQgfSBmcm9tICcuL0Zvcm1Db250ZXh0JztcblxudmFyIHVwZGF0ZVJlZHVjZXIgPSBmdW5jdGlvbiB1cGRhdGVSZWR1Y2VyKG5hbWUsIGRhdGEsIGVycm9yLCB2YWxpZGF0aW9ucykge1xuICByZXR1cm4gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgdmFyIGVycm9ycyA9IHN0YXRlLmVycm9ycyxcbiAgICAgICAgdG91Y2hlZCA9IHN0YXRlLnRvdWNoZWQsXG4gICAgICAgIHZhbHVlID0gc3RhdGUudmFsdWU7XG5cbiAgICB2YXIgbmV4dFZhbHVlID0gX2V4dGVuZHMoe30sIHZhbHVlKTtcblxuICAgIG5leHRWYWx1ZVtuYW1lXSA9IGRhdGE7XG5cbiAgICB2YXIgbmV4dFRvdWNoZWQgPSBfZXh0ZW5kcyh7fSwgdG91Y2hlZCk7XG5cbiAgICBuZXh0VG91Y2hlZFtuYW1lXSA9IHRydWU7XG5cbiAgICB2YXIgbmV4dEVycm9ycyA9IF9leHRlbmRzKHt9LCBlcnJvcnMpO1xuXG4gICAgaWYgKGVycm9yc1tuYW1lXSkge1xuICAgICAgdmFyIG5leHRFcnJvciA9IGVycm9yIHx8IHZhbGlkYXRpb25zW25hbWVdICYmIHZhbGlkYXRpb25zW25hbWVdKGRhdGEsIG5leHRWYWx1ZSk7XG5cbiAgICAgIGlmIChuZXh0RXJyb3IpIHtcbiAgICAgICAgbmV4dEVycm9yc1tuYW1lXSA9IG5leHRFcnJvcjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRlbGV0ZSBuZXh0RXJyb3JzW25hbWVdO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICB2YWx1ZTogbmV4dFZhbHVlLFxuICAgICAgZXJyb3JzOiBuZXh0RXJyb3JzLFxuICAgICAgdG91Y2hlZDogbmV4dFRvdWNoZWRcbiAgICB9O1xuICB9O1xufTtcblxudmFyIGRlZmF1bHRNZXNzYWdlcyA9IHtcbiAgaW52YWxpZDogJ2ludmFsaWQnLFxuICByZXF1aXJlZDogJ3JlcXVpcmVkJ1xufTtcblxudmFyIEZvcm0gPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoRm9ybSwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gRm9ybSgpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgX3RoaXMgPSBfQ29tcG9uZW50LmNhbGwuYXBwbHkoX0NvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChhcmdzKSkgfHwgdGhpcztcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJzdGF0ZVwiLCB7XG4gICAgICBlcnJvcnM6IHt9LFxuICAgICAgdmFsdWU6IHt9LFxuICAgICAgdG91Y2hlZDoge31cbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJ2YWxpZGF0aW9uc1wiLCB7fSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwib25TdWJtaXRcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgb25TdWJtaXQgPSBfdGhpcy5wcm9wcy5vblN1Ym1pdDtcbiAgICAgIHZhciBfdGhpcyRzdGF0ZSA9IF90aGlzLnN0YXRlLFxuICAgICAgICAgIGVycm9ycyA9IF90aGlzJHN0YXRlLmVycm9ycyxcbiAgICAgICAgICB2YWx1ZSA9IF90aGlzJHN0YXRlLnZhbHVlOyAvLyBEb24ndCBzdWJtaXQgdGhlIGZvcm0gdmlhIGJyb3dzZXIgZm9ybSBhY3Rpb24uIFdlIGRvbid0IHdhbnQgaXRcbiAgICAgIC8vIGlmIHRoZSB2YWxpZGF0aW9uIGZhaWxzLiBBbmQsIHdlIGFzc3VtZSBhIGphdmFzY3JpcHQgYWN0aW9uIGhhbmRsZXJcbiAgICAgIC8vIG90aGVyd2lzZS5cblxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgdmFyIG5leHRFcnJvcnMgPSBfZXh0ZW5kcyh7fSwgZXJyb3JzKTtcblxuICAgICAgT2JqZWN0LmtleXMoX3RoaXMudmFsaWRhdGlvbnMpLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgdmFyIHZhbGlkYXRlID0gX3RoaXMudmFsaWRhdGlvbnNbbmFtZV07XG4gICAgICAgIHZhciBlcnJvciA9IHZhbGlkYXRlICYmIHZhbGlkYXRlKHZhbHVlW25hbWVdLCB2YWx1ZSk7XG5cbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgbmV4dEVycm9yc1tuYW1lXSA9IGVycm9yO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlbGV0ZSBuZXh0RXJyb3JzW25hbWVdO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgaWYgKE9iamVjdC5rZXlzKG5leHRFcnJvcnMpLmxlbmd0aCA9PT0gMCAmJiBvblN1Ym1pdCkge1xuICAgICAgICBldmVudC5wZXJzaXN0KCk7IC8vIGV4dHJhY3QgZnJvbSBSZWFjdCdzIHN5bnRoZXRpYyBldmVudCBwb29sXG5cbiAgICAgICAgdmFyIGFkanVzdGVkRXZlbnQgPSBldmVudDtcbiAgICAgICAgYWRqdXN0ZWRFdmVudC52YWx1ZSA9IHZhbHVlO1xuICAgICAgICBvblN1Ym1pdChhZGp1c3RlZEV2ZW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBlcnJvcnM6IG5leHRFcnJvcnNcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwib25SZXNldFwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIG9uQ2hhbmdlID0gX3RoaXMkcHJvcHMub25DaGFuZ2UsXG4gICAgICAgICAgb25SZXNldCA9IF90aGlzJHByb3BzLm9uUmVzZXQ7XG4gICAgICB2YXIgdmFsdWUgPSB7fTtcblxuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBlcnJvcnM6IHt9LFxuICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIHRvdWNoZWQ6IHt9XG4gICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChvblJlc2V0KSB7XG4gICAgICAgICAgZXZlbnQucGVyc2lzdCgpOyAvLyBleHRyYWN0IGZyb20gUmVhY3QncyBzeW50aGV0aWMgZXZlbnQgcG9vbFxuXG4gICAgICAgICAgdmFyIGFkanVzdGVkRXZlbnQgPSBldmVudDtcbiAgICAgICAgICBhZGp1c3RlZEV2ZW50LnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgb25SZXNldChhZGp1c3RlZEV2ZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvbkNoYW5nZSkge1xuICAgICAgICAgIG9uQ2hhbmdlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwidXBkYXRlXCIsIGZ1bmN0aW9uIChuYW1lLCBkYXRhLCBlcnJvcikge1xuICAgICAgX3RoaXMuc2V0U3RhdGUodXBkYXRlUmVkdWNlcihuYW1lLCBkYXRhLCBlcnJvciwgX3RoaXMudmFsaWRhdGlvbnMpLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvbkNoYW5nZSA9IF90aGlzLnByb3BzLm9uQ2hhbmdlO1xuICAgICAgICB2YXIgdmFsdWUgPSBfdGhpcy5zdGF0ZS52YWx1ZTtcblxuICAgICAgICBpZiAob25DaGFuZ2UpIHtcbiAgICAgICAgICBvbkNoYW5nZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcImFkZFZhbGlkYXRpb25cIiwgZnVuY3Rpb24gKG5hbWUsIHZhbGlkYXRlKSB7XG4gICAgICBfdGhpcy52YWxpZGF0aW9uc1tuYW1lXSA9IHZhbGlkYXRlO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgRm9ybS5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPSBmdW5jdGlvbiBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMobmV4dFByb3BzLCBwcmV2U3RhdGUpIHtcbiAgICB2YXIgdmFsdWUgPSBuZXh0UHJvcHMudmFsdWUsXG4gICAgICAgIGVycm9ycyA9IG5leHRQcm9wcy5lcnJvcnMsXG4gICAgICAgIG1lc3NhZ2VzID0gbmV4dFByb3BzLm1lc3NhZ2VzO1xuICAgIHZhciBzdGF0ZVZhbHVlID0gcHJldlN0YXRlLnZhbHVlLFxuICAgICAgICBzdGF0ZUVycm9ycyA9IHByZXZTdGF0ZS5lcnJvcnMsXG4gICAgICAgIHByaW9yVmFsdWUgPSBwcmV2U3RhdGUucHJpb3JWYWx1ZSxcbiAgICAgICAgcHJpb3JFcnJvcnMgPSBwcmV2U3RhdGUucHJpb3JFcnJvcnMsXG4gICAgICAgIHByaW9yTWVzc2FnZXMgPSBwcmV2U3RhdGUucHJpb3JNZXNzYWdlcztcblxuICAgIGlmICghcHJpb3JWYWx1ZSB8fCB2YWx1ZSAhPT0gcHJpb3JWYWx1ZSB8fCBlcnJvcnMgIT09IHByaW9yRXJyb3JzIHx8IG1lc3NhZ2VzICE9PSBwcmlvck1lc3NhZ2VzKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB2YWx1ZTogdmFsdWUgIT09IHByaW9yVmFsdWUgPyB2YWx1ZSA6IHN0YXRlVmFsdWUsXG4gICAgICAgIHByaW9yVmFsdWU6IHZhbHVlLFxuICAgICAgICBlcnJvcnM6IChlcnJvcnMgIT09IHByaW9yRXJyb3JzID8gZXJyb3JzIDogc3RhdGVFcnJvcnMpIHx8IHt9LFxuICAgICAgICBwcmlvckVycm9yczogZXJyb3JzLFxuICAgICAgICBtZXNzYWdlczogX2V4dGVuZHMoe30sIGRlZmF1bHRNZXNzYWdlcywge30sIG1lc3NhZ2VzKSxcbiAgICAgICAgcHJpb3JNZXNzYWdlczogbWVzc2FnZXNcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgdmFyIF9wcm90byA9IEZvcm0ucHJvdG90eXBlO1xuXG4gIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIF90aGlzJHByb3BzMiA9IHRoaXMucHJvcHMsXG4gICAgICAgIGNoaWxkcmVuID0gX3RoaXMkcHJvcHMyLmNoaWxkcmVuLFxuICAgICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3RoaXMkcHJvcHMyLCBbXCJjaGlsZHJlblwiXSk7XG5cbiAgICBkZWxldGUgcmVzdC5tZXNzYWdlcztcbiAgICBkZWxldGUgcmVzdC50aGVtZTtcbiAgICBkZWxldGUgcmVzdC52YWx1ZTtcbiAgICB2YXIgX3RoaXMkc3RhdGUyID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgZXJyb3JzID0gX3RoaXMkc3RhdGUyLmVycm9ycyxcbiAgICAgICAgdG91Y2hlZCA9IF90aGlzJHN0YXRlMi50b3VjaGVkLFxuICAgICAgICB2YWx1ZSA9IF90aGlzJHN0YXRlMi52YWx1ZSxcbiAgICAgICAgbWVzc2FnZXMgPSBfdGhpcyRzdGF0ZTIubWVzc2FnZXM7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJmb3JtXCIsIF9leHRlbmRzKHt9LCByZXN0LCB7XG4gICAgICBvblJlc2V0OiB0aGlzLm9uUmVzZXQsXG4gICAgICBvblN1Ym1pdDogdGhpcy5vblN1Ym1pdFxuICAgIH0pLCBSZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1Db250ZXh0LlByb3ZpZGVyLCB7XG4gICAgICB2YWx1ZToge1xuICAgICAgICBhZGRWYWxpZGF0aW9uOiB0aGlzLmFkZFZhbGlkYXRpb24sXG4gICAgICAgIGVycm9yczogZXJyb3JzLFxuICAgICAgICBtZXNzYWdlczogbWVzc2FnZXMsXG4gICAgICAgIHRvdWNoZWQ6IHRvdWNoZWQsXG4gICAgICAgIHVwZGF0ZTogdGhpcy51cGRhdGUsXG4gICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgfVxuICAgIH0sIGNoaWxkcmVuKSk7XG4gIH07XG5cbiAgcmV0dXJuIEZvcm07XG59KENvbXBvbmVudCk7XG5cbl9kZWZpbmVQcm9wZXJ0eShGb3JtLCBcImRlZmF1bHRQcm9wc1wiLCB7XG4gIG1lc3NhZ2VzOiBkZWZhdWx0TWVzc2FnZXMsXG4gIHZhbHVlOiB7fVxufSk7XG5cbk9iamVjdC5zZXRQcm90b3R5cGVPZihGb3JtLmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbnZhciBGb3JtRG9jO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBGb3JtRG9jID0gcmVxdWlyZSgnLi9kb2MnKS5kb2MoRm9ybSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZ2xvYmFsLXJlcXVpcmVcbn1cblxudmFyIEZvcm1XcmFwcGVyID0gRm9ybURvYyB8fCBGb3JtO1xuRm9ybVdyYXBwZXIuZGlzcGxheU5hbWUgPSAnRm9ybSc7XG5leHBvcnQgeyBGb3JtV3JhcHBlciBhcyBGb3JtIH07IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmV4cG9ydCB2YXIgRm9ybUNvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KHVuZGVmaW5lZCk7IiwiaW1wb3J0IHsgZGVzY3JpYmUsIFByb3BUeXBlcyB9IGZyb20gJ3JlYWN0LWRlc2MnO1xuaW1wb3J0IHsgZ2V0QXZhaWxhYmxlQXRCYWRnZSB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmV4cG9ydCB2YXIgZG9jID0gZnVuY3Rpb24gZG9jKEZvcm0pIHtcbiAgdmFyIERvY3VtZW50ZWRGb3JtID0gZGVzY3JpYmUoRm9ybSkuYXZhaWxhYmxlQXQoZ2V0QXZhaWxhYmxlQXRCYWRnZSgnRm9ybScpKS5kZXNjcmlwdGlvbignQSBmb3JtIHRoYXQgbWFuYWdlcyBzdGF0ZSBmb3IgaXRzIGZpZWxkcy4nKS51c2FnZShcImltcG9ydCB7IEZvcm0gfSBmcm9tICdncm9tbWV0JztcXG48Rm9ybSAvPlwiKS5pbnRyaW5zaWNFbGVtZW50KCdmb3JtJyk7XG4gIERvY3VtZW50ZWRGb3JtLnByb3BUeXBlcyA9IHtcbiAgICBlcnJvcnM6IFByb3BUeXBlcy5zaGFwZSh7fSkuZGVzY3JpcHRpb24oXCJBbiBvYmplY3QgcmVwcmVzZW50aW5nIGFueSBlcnJvcnMgaW4gdGhlIGRhdGEuIFRoZXkga2V5cyBzaG91bGRcXG4gICAgICAgIG1hdGNoIHRoZSBrZXlzIGluIHRoZSB2YWx1ZSBvYmplY3QuXCIpLmRlZmF1bHRWYWx1ZSh7fSksXG4gICAgbWVzc2FnZXM6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICBpbnZhbGlkOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgcmVxdWlyZWQ6IFByb3BUeXBlcy5zdHJpbmdcbiAgICB9KS5kZXNjcmlwdGlvbignQ3VzdG9tIHZhbGlkYXRpb24gbWVzc2FnZXMuJykuZGVmYXVsdFZhbHVlKHtcbiAgICAgIGludmFsaWQ6ICdpbnZhbGlkJyxcbiAgICAgIHJlcXVpcmVkOiAncmVxdWlyZWQnXG4gICAgfSksXG4gICAgb25DaGFuZ2U6IFByb3BUeXBlcy5mdW5jLmRlc2NyaXB0aW9uKCdGdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW4gYW55IGZpZWxkcyBhcmUgdXBkYXRlZC4nKSxcbiAgICBvblN1Ym1pdDogUHJvcFR5cGVzLmZ1bmMuZGVzY3JpcHRpb24oXCJGdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIGZvcm0gaXMgc3VibWl0dGVkLiBUaGVcXG4gICAgICBzaW5nbGUgYXJndW1lbnQgaXMgYW4gZXZlbnQgY29udGFpbmluZyB0aGUgbGF0ZXN0IHZhbHVlIG9iamVjdFxcbiAgICAgIHZpYSBgZXZlbnQudmFsdWVgLlwiKSxcbiAgICBvblJlc2V0OiBQcm9wVHlwZXMuZnVuYy5kZXNjcmlwdGlvbihcIkZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgZm9ybSBpcyByZXNldC4gVGhlXFxuICAgICAgc2luZ2xlIGFyZ3VtZW50IGlzIHRoZSBldmVudCBwcm92aWRlZCBieSByZWFjdC5cIiksXG4gICAgdmFsdWU6IFByb3BUeXBlcy5zaGFwZSh7fSkuZGVzY3JpcHRpb24oJ0FuIG9iamVjdCByZXByZXNlbnRpbmcgYWxsIG9mIHRoZSBkYXRhIGluIHRoZSBmb3JtLicpLmRlZmF1bHRWYWx1ZSh7fSlcbiAgfTtcbiAgcmV0dXJuIERvY3VtZW50ZWRGb3JtO1xufTsiLCJleHBvcnQgeyBGb3JtIH0gZnJvbSAnLi9Gb3JtJztcbmV4cG9ydCB7IEZvcm1Db250ZXh0IH0gZnJvbSAnLi9Gb3JtQ29udGV4dCc7IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzTG9vc2Uoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzLnByb3RvdHlwZSk7IHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzOyBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGVuXG5cbi8qIGVzbGludC1kaXNhYmxlIHJlYWN0L25vLW11bHRpLWNvbXAsIHJlYWN0L3ByZWZlci1zdGF0ZWxlc3MtZnVuY3Rpb24sIG1heC1jbGFzc2VzLXBlci1maWxlICovXG5pbXBvcnQgUmVhY3QsIHsgQ2hpbGRyZW4sIGNsb25lRWxlbWVudCwgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY29tcG9zZSB9IGZyb20gJ3JlY29tcG9zZSc7XG5pbXBvcnQgc3R5bGVkLCB7IHdpdGhUaGVtZSB9IGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCB7IHBhcnNlTWV0cmljVG9OdW0gfSBmcm9tICcuLi8uLi91dGlscyc7XG5pbXBvcnQgeyBkZWZhdWx0UHJvcHMgfSBmcm9tICcuLi8uLi9kZWZhdWx0LXByb3BzJztcbmltcG9ydCB7IEJveCB9IGZyb20gJy4uL0JveCc7XG5pbXBvcnQgeyBDaGVja0JveCB9IGZyb20gJy4uL0NoZWNrQm94JztcbmltcG9ydCB7IFRleHQgfSBmcm9tICcuLi9UZXh0JztcbmltcG9ydCB7IFRleHRJbnB1dCB9IGZyb20gJy4uL1RleHRJbnB1dCc7XG5pbXBvcnQgeyB3aXRoRm9jdXMgfSBmcm9tICcuLi9ob2NzJztcbmltcG9ydCB7IEZvcm1Db250ZXh0IH0gZnJvbSAnLi4vRm9ybS9Gb3JtQ29udGV4dCc7XG5cbnZhciB2YWxpZGF0ZUZpZWxkID0gZnVuY3Rpb24gdmFsaWRhdGVGaWVsZChyZXF1aXJlZCwgdmFsaWRhdGUsIG1lc3NhZ2VzKSB7XG4gIHJldHVybiBmdW5jdGlvbiAodmFsdWUsIGRhdGEpIHtcbiAgICB2YXIgZXJyb3I7XG5cbiAgICBpZiAocmVxdWlyZWQgJiYgKHZhbHVlID09PSB1bmRlZmluZWQgfHwgdmFsdWUgPT09ICcnKSkge1xuICAgICAgZXJyb3IgPSBtZXNzYWdlcy5yZXF1aXJlZDtcbiAgICB9IGVsc2UgaWYgKHZhbGlkYXRlKSB7XG4gICAgICBpZiAodHlwZW9mIHZhbGlkYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGVycm9yID0gdmFsaWRhdGUodmFsdWUsIGRhdGEpO1xuICAgICAgfSBlbHNlIGlmICh2YWxpZGF0ZS5yZWdleHApIHtcbiAgICAgICAgaWYgKCF2YWxpZGF0ZS5yZWdleHAudGVzdCh2YWx1ZSkpIHtcbiAgICAgICAgICBlcnJvciA9IHZhbGlkYXRlLm1lc3NhZ2UgfHwgbWVzc2FnZXMuaW52YWxpZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBlcnJvcjtcbiAgfTtcbn07XG5cbnZhciBGb3JtRmllbGRCb3ggPSBzdHlsZWQoQm94KS53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiRm9ybUZpZWxkX19Gb3JtRmllbGRCb3hcIixcbiAgY29tcG9uZW50SWQ6IFwibTlob29kLTBcIlxufSkoW1wiXCIsIFwiXCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLmZvcm1GaWVsZC5leHRlbmQ7XG59KTtcblxudmFyIEZvcm1GaWVsZENvbnRlbnQgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoRm9ybUZpZWxkQ29udGVudCwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gRm9ybUZpZWxkQ29udGVudCgpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgX3RoaXMgPSBfQ29tcG9uZW50LmNhbGwuYXBwbHkoX0NvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChhcmdzKSkgfHwgdGhpcztcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJyZW5kZXJDaGlsZHJlblwiLCBmdW5jdGlvbiAodmFsdWUsIHVwZGF0ZSkge1xuICAgICAgdmFyIF90aGlzJHByb3BzID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgbmFtZSA9IF90aGlzJHByb3BzLm5hbWUsXG4gICAgICAgICAgY2hlY2tlZCA9IF90aGlzJHByb3BzLmNoZWNrZWQsXG4gICAgICAgICAgY29tcG9uZW50ID0gX3RoaXMkcHJvcHMuY29tcG9uZW50LFxuICAgICAgICAgIHJlcXVpcmVkID0gX3RoaXMkcHJvcHMucmVxdWlyZWQsXG4gICAgICAgICAgdmFsdWVQcm9wID0gX3RoaXMkcHJvcHMudmFsdWUsXG4gICAgICAgICAgX29uQ2hhbmdlID0gX3RoaXMkcHJvcHMub25DaGFuZ2UsXG4gICAgICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF90aGlzJHByb3BzLCBbXCJuYW1lXCIsIFwiY2hlY2tlZFwiLCBcImNvbXBvbmVudFwiLCBcInJlcXVpcmVkXCIsIFwidmFsdWVcIiwgXCJvbkNoYW5nZVwiXSk7XG5cbiAgICAgIGRlbGV0ZSByZXN0LmNsYXNzTmFtZTtcbiAgICAgIHZhciBJbnB1dCA9IGNvbXBvbmVudCB8fCBUZXh0SW5wdXQ7XG5cbiAgICAgIGlmIChJbnB1dCA9PT0gQ2hlY2tCb3gpIHtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSW5wdXQsIF9leHRlbmRzKHtcbiAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgIGNoZWNrZWQ6IHZhbHVlW25hbWVdICE9PSB1bmRlZmluZWQgPyB2YWx1ZVtuYW1lXSA6IGNoZWNrZWQgfHwgZmFsc2UsXG4gICAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGV2ZW50KSB7XG4gICAgICAgICAgICB1cGRhdGUobmFtZSwgZXZlbnQudGFyZ2V0LmNoZWNrZWQpO1xuICAgICAgICAgICAgaWYgKF9vbkNoYW5nZSkgX29uQ2hhbmdlKGV2ZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIHJlc3QpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSW5wdXQsIF9leHRlbmRzKHtcbiAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgdmFsdWU6IHZhbHVlW25hbWVdICE9PSB1bmRlZmluZWQgPyB2YWx1ZVtuYW1lXSA6IHZhbHVlUHJvcCB8fCAnJyxcbiAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGV2ZW50KSB7XG4gICAgICAgICAgdXBkYXRlKG5hbWUsIGV2ZW50LnZhbHVlIHx8IGV2ZW50LnRhcmdldC52YWx1ZSB8fCAnJyk7XG4gICAgICAgICAgaWYgKF9vbkNoYW5nZSkgX29uQ2hhbmdlKGV2ZW50KTtcbiAgICAgICAgfSxcbiAgICAgICAgcGxhaW46IHRydWUsXG4gICAgICAgIGZvY3VzSW5kaWNhdG9yOiBmYWxzZVxuICAgICAgfSwgcmVzdCkpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IEZvcm1GaWVsZENvbnRlbnQucHJvdG90eXBlO1xuXG4gIF9wcm90by5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHZhciBfdGhpcyRwcm9wczIgPSB0aGlzLnByb3BzLFxuICAgICAgICBjaGVja2VkID0gX3RoaXMkcHJvcHMyLmNoZWNrZWQsXG4gICAgICAgIGNvbnRleHQgPSBfdGhpcyRwcm9wczIuY29udGV4dCxcbiAgICAgICAgbmFtZSA9IF90aGlzJHByb3BzMi5uYW1lLFxuICAgICAgICB2YWx1ZSA9IF90aGlzJHByb3BzMi52YWx1ZTtcblxuICAgIGlmIChjb250ZXh0ICYmIGNvbnRleHQudmFsdWVbbmFtZV0gPT09IHVuZGVmaW5lZCAmJiAodmFsdWUgIT09IHVuZGVmaW5lZCB8fCBjaGVja2VkICE9PSB1bmRlZmluZWQpKSB7XG4gICAgICBjb250ZXh0LnVwZGF0ZShuYW1lLCB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gdmFsdWUgOiBjaGVja2VkKTtcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIHZhciBfdGhpcyRwcm9wczMgPSB0aGlzLnByb3BzLFxuICAgICAgICBjaGlsZHJlbiA9IF90aGlzJHByb3BzMy5jaGlsZHJlbixcbiAgICAgICAgY2xhc3NOYW1lID0gX3RoaXMkcHJvcHMzLmNsYXNzTmFtZSxcbiAgICAgICAgY29tcG9uZW50ID0gX3RoaXMkcHJvcHMzLmNvbXBvbmVudCxcbiAgICAgICAgY29udGV4dCA9IF90aGlzJHByb3BzMy5jb250ZXh0LFxuICAgICAgICBlcnJvciA9IF90aGlzJHByb3BzMy5lcnJvcixcbiAgICAgICAgZm9jdXMgPSBfdGhpcyRwcm9wczMuZm9jdXMsXG4gICAgICAgIGhlbHAgPSBfdGhpcyRwcm9wczMuaGVscCxcbiAgICAgICAgaHRtbEZvciA9IF90aGlzJHByb3BzMy5odG1sRm9yLFxuICAgICAgICBsYWJlbCA9IF90aGlzJHByb3BzMy5sYWJlbCxcbiAgICAgICAgbmFtZSA9IF90aGlzJHByb3BzMy5uYW1lLFxuICAgICAgICBwYWQgPSBfdGhpcyRwcm9wczMucGFkLFxuICAgICAgICByZXF1aXJlZCA9IF90aGlzJHByb3BzMy5yZXF1aXJlZCxcbiAgICAgICAgc3R5bGUgPSBfdGhpcyRwcm9wczMuc3R5bGUsXG4gICAgICAgIHRoZW1lID0gX3RoaXMkcHJvcHMzLnRoZW1lLFxuICAgICAgICB2YWxpZGF0ZSA9IF90aGlzJHByb3BzMy52YWxpZGF0ZSxcbiAgICAgICAgb25CbHVyID0gX3RoaXMkcHJvcHMzLm9uQmx1cixcbiAgICAgICAgb25Gb2N1cyA9IF90aGlzJHByb3BzMy5vbkZvY3VzLFxuICAgICAgICBtYXJnaW4gPSBfdGhpcyRwcm9wczMubWFyZ2luO1xuICAgIHZhciBmb3JtRmllbGQgPSB0aGVtZS5mb3JtRmllbGQ7XG4gICAgdmFyIGJvcmRlciA9IGZvcm1GaWVsZC5ib3JkZXI7XG4gICAgdmFyIG5vcm1hbGl6ZWRFcnJvciA9IGVycm9yO1xuICAgIHZhciBjb250ZW50cyA9IGNoaWxkcmVuO1xuXG4gICAgaWYgKGNvbnRleHQpIHtcbiAgICAgIHZhciBhZGRWYWxpZGF0aW9uID0gY29udGV4dC5hZGRWYWxpZGF0aW9uLFxuICAgICAgICAgIGVycm9ycyA9IGNvbnRleHQuZXJyb3JzLFxuICAgICAgICAgIHZhbHVlID0gY29udGV4dC52YWx1ZSxcbiAgICAgICAgICB1cGRhdGUgPSBjb250ZXh0LnVwZGF0ZSxcbiAgICAgICAgICBtZXNzYWdlcyA9IGNvbnRleHQubWVzc2FnZXM7XG4gICAgICBhZGRWYWxpZGF0aW9uKG5hbWUsIHZhbGlkYXRlRmllbGQocmVxdWlyZWQsIHZhbGlkYXRlLCBtZXNzYWdlcykpO1xuICAgICAgbm9ybWFsaXplZEVycm9yID0gZXJyb3IgfHwgZXJyb3JzW25hbWVdO1xuICAgICAgY29udGVudHMgPSBjaGlsZHJlbiB8fCB0aGlzLnJlbmRlckNoaWxkcmVuKHZhbHVlLCB1cGRhdGUpO1xuICAgIH1cblxuICAgIGlmIChwYWQpIHtcbiAgICAgIGNvbnRlbnRzID0gUmVhY3QuY3JlYXRlRWxlbWVudChCb3gsIGZvcm1GaWVsZC5jb250ZW50LCBjb250ZW50cyk7XG4gICAgfVxuXG4gICAgdmFyIGJvcmRlckNvbG9yO1xuXG4gICAgaWYgKGZvY3VzICYmICFub3JtYWxpemVkRXJyb3IpIHtcbiAgICAgIGJvcmRlckNvbG9yID0gJ2ZvY3VzJztcbiAgICB9IGVsc2UgaWYgKG5vcm1hbGl6ZWRFcnJvcikge1xuICAgICAgYm9yZGVyQ29sb3IgPSBib3JkZXIgJiYgYm9yZGVyLmVycm9yLmNvbG9yIHx8ICdzdGF0dXMtY3JpdGljYWwnO1xuICAgIH0gZWxzZSB7XG4gICAgICBib3JkZXJDb2xvciA9IGJvcmRlciAmJiBib3JkZXIuY29sb3IgfHwgJ2JvcmRlcic7XG4gICAgfVxuXG4gICAgdmFyIGFidXQ7XG4gICAgdmFyIGFidXRNYXJnaW47XG4gICAgdmFyIG91dGVyU3R5bGUgPSBzdHlsZTtcblxuICAgIGlmIChib3JkZXIpIHtcbiAgICAgIHZhciBub3JtYWxpemVkQ2hpbGRyZW4gPSBjaGlsZHJlbiA/IENoaWxkcmVuLm1hcChjaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgIGlmIChjaGlsZCkge1xuICAgICAgICAgIHJldHVybiBjbG9uZUVsZW1lbnQoY2hpbGQsIHtcbiAgICAgICAgICAgIHBsYWluOiB0cnVlLFxuICAgICAgICAgICAgZm9jdXNJbmRpY2F0b3I6IGZhbHNlLFxuICAgICAgICAgICAgb25CbHVyOiBvbkJsdXIsXG4gICAgICAgICAgICBvbkZvY3VzOiBvbkZvY3VzXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgICB9KSA6IGNvbnRlbnRzO1xuICAgICAgY29udGVudHMgPSBSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwge1xuICAgICAgICByZWY6IGZ1bmN0aW9uIHJlZihfcmVmKSB7XG4gICAgICAgICAgX3RoaXMyLmNoaWxkQ29udGFpbmVyUmVmID0gX3JlZjtcbiAgICAgICAgfSxcbiAgICAgICAgYm9yZGVyOiBib3JkZXIucG9zaXRpb24gPT09ICdpbm5lcicgPyBfZXh0ZW5kcyh7fSwgYm9yZGVyLCB7XG4gICAgICAgICAgc2lkZTogYm9yZGVyLnNpZGUgfHwgJ2JvdHRvbScsXG4gICAgICAgICAgY29sb3I6IGJvcmRlckNvbG9yXG4gICAgICAgIH0pIDogdW5kZWZpbmVkXG4gICAgICB9LCBub3JtYWxpemVkQ2hpbGRyZW4pO1xuICAgICAgYWJ1dCA9IGJvcmRlci5wb3NpdGlvbiA9PT0gJ291dGVyJyAmJiAoYm9yZGVyLnNpZGUgPT09ICdhbGwnIHx8IGJvcmRlci5zaWRlID09PSAnaG9yaXpvbnRhbCcgfHwgIWJvcmRlci5zaWRlKTtcblxuICAgICAgaWYgKGFidXQpIHtcbiAgICAgICAgLy8gbWFyZ2luQm90dG9tIGlzIHNldCB0byBvdmVybGFwIGFkamFjZW50IGZpZWxkc1xuICAgICAgICBhYnV0TWFyZ2luID0ge1xuICAgICAgICAgIGJvdHRvbTogJy0xcHgnXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKG1hcmdpbikge1xuICAgICAgICAgIGFidXRNYXJnaW4gPSBtYXJnaW47XG4gICAgICAgIH0gZWxzZSBpZiAoYm9yZGVyLnNpemUpIHtcbiAgICAgICAgICAvLyBpZiB0aGUgdXNlciBkZWZpbmVzIGEgbWFyZ2luLFxuICAgICAgICAgIC8vIHRoZW4gdGhlIGRlZmF1bHQgbWFyZ2luIGJlbG93IHdpbGwgYmUgb3ZlcnJpZGVuXG4gICAgICAgICAgYWJ1dE1hcmdpbiA9IHtcbiAgICAgICAgICAgIGJvdHRvbTogXCItXCIgKyBwYXJzZU1ldHJpY1RvTnVtKHRoZW1lLmdsb2JhbC5ib3JkZXJTaXplW2JvcmRlci5zaXplXSB8fCBib3JkZXIuc2l6ZSkgKyBcInB4XCJcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgb3V0ZXJTdHlsZSA9IF9leHRlbmRzKHtcbiAgICAgICAgICBwb3NpdGlvbjogZm9jdXMgPyAncmVsYXRpdmUnIDogdW5kZWZpbmVkLFxuICAgICAgICAgIHpJbmRleDogZm9jdXMgPyAxMCA6IHVuZGVmaW5lZFxuICAgICAgICB9LCBzdHlsZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybUZpZWxkQm94LCB7XG4gICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICAgIGJvcmRlcjogYm9yZGVyICYmIGJvcmRlci5wb3NpdGlvbiA9PT0gJ291dGVyJyA/IF9leHRlbmRzKHt9LCBib3JkZXIsIHtcbiAgICAgICAgY29sb3I6IGJvcmRlckNvbG9yXG4gICAgICB9KSA6IHVuZGVmaW5lZCxcbiAgICAgIG1hcmdpbjogYWJ1dCA/IGFidXRNYXJnaW4gOiBtYXJnaW4gfHwgX2V4dGVuZHMoe30sIGZvcm1GaWVsZC5tYXJnaW4pLFxuICAgICAgc3R5bGU6IG91dGVyU3R5bGVcbiAgICB9LCBsYWJlbCAmJiBjb21wb25lbnQgIT09IENoZWNrQm94IHx8IGhlbHAgPyBSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCBsYWJlbCAmJiBjb21wb25lbnQgIT09IENoZWNrQm94ICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGV4dCwgX2V4dGVuZHMoe1xuICAgICAgYXM6IFwibGFiZWxcIixcbiAgICAgIGh0bWxGb3I6IGh0bWxGb3JcbiAgICB9LCBmb3JtRmllbGQubGFiZWwpLCBsYWJlbCksIGhlbHAgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChUZXh0LCBfZXh0ZW5kcyh7fSwgZm9ybUZpZWxkLmhlbHAsIHtcbiAgICAgIGNvbG9yOiBmb3JtRmllbGQuaGVscC5jb2xvclt0aGVtZS5kYXJrID8gJ2RhcmsnIDogJ2xpZ2h0J11cbiAgICB9KSwgaGVscCkpIDogdW5kZWZpbmVkLCBjb250ZW50cywgbm9ybWFsaXplZEVycm9yICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGV4dCwgX2V4dGVuZHMoe30sIGZvcm1GaWVsZC5lcnJvciwge1xuICAgICAgY29sb3I6IGZvcm1GaWVsZC5lcnJvci5jb2xvclt0aGVtZS5kYXJrID8gJ2RhcmsnIDogJ2xpZ2h0J11cbiAgICB9KSwgbm9ybWFsaXplZEVycm9yKSk7XG4gIH07XG5cbiAgcmV0dXJuIEZvcm1GaWVsZENvbnRlbnQ7XG59KENvbXBvbmVudCk7IC8vIENhbid0IGJlIGEgZnVuY3Rpb25hbCBjb21wb25lbnQgYmVjYXVzZSBzdHlsZWQtY29tcG9uZW50cyB3aXRoVGhlbWUoKSBuZWVkc1xuLy8gdG8gYXR0YWNoIGEgcmVmLlxuXG5cbnZhciBGb3JtRmllbGQgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9Db21wb25lbnQyKSB7XG4gIF9pbmhlcml0c0xvb3NlKEZvcm1GaWVsZCwgX0NvbXBvbmVudDIpO1xuXG4gIGZ1bmN0aW9uIEZvcm1GaWVsZCgpIHtcbiAgICByZXR1cm4gX0NvbXBvbmVudDIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICB9XG5cbiAgdmFyIF9wcm90bzIgPSBGb3JtRmllbGQucHJvdG90eXBlO1xuXG4gIF9wcm90bzIucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybUNvbnRleHQuQ29uc3VtZXIsIG51bGwsIGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChGb3JtRmllbGRDb250ZW50LCBfZXh0ZW5kcyh7XG4gICAgICAgIGNvbnRleHQ6IGNvbnRleHRcbiAgICAgIH0sIF90aGlzMy5wcm9wcykpO1xuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiBGb3JtRmllbGQ7XG59KENvbXBvbmVudCk7XG5cbkZvcm1GaWVsZC5kZWZhdWx0UHJvcHMgPSB7fTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihGb3JtRmllbGQuZGVmYXVsdFByb3BzLCBkZWZhdWx0UHJvcHMpO1xudmFyIEZvcm1GaWVsZERvYztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGdsb2JhbC1yZXF1aXJlXG4gIEZvcm1GaWVsZERvYyA9IHJlcXVpcmUoJy4vZG9jJykuZG9jKEZvcm1GaWVsZCk7XG59XG5cbnZhciBGb3JtRmllbGRXcmFwcGVyID0gY29tcG9zZSh3aXRoRm9jdXMoe1xuICBmb2N1c1dpdGhNb3VzZTogdHJ1ZVxufSksIHdpdGhUaGVtZSkoRm9ybUZpZWxkRG9jIHx8IEZvcm1GaWVsZCk7XG5leHBvcnQgeyBGb3JtRmllbGRXcmFwcGVyIGFzIEZvcm1GaWVsZCB9OyIsImltcG9ydCB7IGRlc2NyaWJlLCBQcm9wVHlwZXMgfSBmcm9tICdyZWFjdC1kZXNjJztcbmltcG9ydCB7IGdldEF2YWlsYWJsZUF0QmFkZ2UsIG1hcmdpblByb3AgfSBmcm9tICcuLi8uLi91dGlscyc7XG5leHBvcnQgdmFyIGRvYyA9IGZ1bmN0aW9uIGRvYyhGb3JtRmllbGQpIHtcbiAgdmFyIERvY3VtZW50ZWRGb3JtRmllbGQgPSBkZXNjcmliZShGb3JtRmllbGQpLmF2YWlsYWJsZUF0KGdldEF2YWlsYWJsZUF0QmFkZ2UoJ0Zvcm1GaWVsZCcpKS5kZXNjcmlwdGlvbihcIkEgc2luZ2xlIGZpZWxkIGluIGEgZm9ybS4gRm9ybUZpZWxkIHdyYXBzIGFuIGlucHV0IGNvbXBvbmVudCB3aXRoXFxuICAgICAgYSBsYWJlbCwgaGVscCwgYW5kL29yIGVycm9yIG1lc3NhZ2luZy4gSXQgdHlwaWNhbGx5IGNvbnRhaW5zIGFuIGlucHV0XFxuICAgICAgY29udHJvbCBsaWtlIFRleHRJbnB1dCwgVGV4dEFyZWEsIFNlbGVjdCwgZXRjLlwiKS51c2FnZShcImltcG9ydCB7IEZvcm1GaWVsZCB9IGZyb20gJ2dyb21tZXQnO1xcbjxGb3JtRmllbGQgLz5cIikuaW50cmluc2ljRWxlbWVudCgnZGl2Jyk7XG4gIERvY3VtZW50ZWRGb3JtRmllbGQucHJvcFR5cGVzID0ge1xuICAgIGNvbXBvbmVudDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmZ1bmMsIFByb3BUeXBlcy5vYmplY3RdKS5kZXNjcmlwdGlvbihcIlRoZSBjb21wb25lbnQgdG8gaW5zZXJ0IGluIHRoZSBGb3JtRmllbGQuIEdyb21tZXQgd2lsbCBhZGQgdXBkYXRlIHRoZSBcXG4gICAgICBmb3JtIHZhbHVlcyB3aGVuIHRoaXMgZmllbGQgY2hhbmdlcy4gQW55IGFkZGl0aW9uYWwgcHJvcGVydGllcyBcXG4gICAgICAoc3VjaCBhcyBpbml0aWFsIHZhbHVlKSB5b3UgcGFzcyB0byBGb3JtRmllbGQgd2lsbCBiZSBmb3J3YXJkZWQgdG8gdGhpc1xcbiAgICAgIGNvbXBvbmVudC4gVGhlIGNvbXBvbmVudCBtYXkgYmUgY3VzdG9tIGFzIGxvbmcgaXQgc3VwcG9ydHMgdGhlIHByb3BlcnRpZXNcXG4gICAgICBvZiBuYW1lLCB2YWx1ZSwgb25DaGFuZ2UgKGV2ZW50ID0+IHt9KSwgd2hpbGUgZXZlbnQgaGFzIGVpdGhlciBldmVudC52YWx1ZVxcbiAgICAgIG9yIGV2ZW50LnRhcmdldC52YWx1ZS5cIiksXG4gICAgZXJyb3I6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5ub2RlXSkuZGVzY3JpcHRpb24oJ0FueSBlcnJvciB0ZXh0IGRlc2NyaWJpbmcgaXNzdWVzIHdpdGggdGhlIGZpZWxkJyksXG4gICAgaGVscDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLm5vZGVdKS5kZXNjcmlwdGlvbignQW55IGhlbHAgdGV4dCBkZXNjcmliaW5nIGhvdyB0aGUgZmllbGQgd29ya3MnKSxcbiAgICBodG1sRm9yOiBQcm9wVHlwZXMuc3RyaW5nLmRlc2NyaXB0aW9uKCdUaGUgaWQgb2YgdGhlIGlucHV0IGVsZW1lbnQgY29udGFpbmVkIGluIHRoaXMgZmllbGQnKSxcbiAgICBsYWJlbDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLm5vZGVdKS5kZXNjcmlwdGlvbignQSBzaG9ydCBsYWJlbCBkZXNjcmliaW5nIHRoZSBmaWVsZCcpLFxuICAgIG5hbWU6IFByb3BUeXBlcy5zdHJpbmcuZGVzY3JpcHRpb24oXCJUaGUgbmFtZSBvZiB0aGUgdmFsdWUgZGF0YSB3aGVuIGluIGEgRm9ybSBhbmQgdGhlIG5hbWUgb2ZcXG4gICAgICB0aGUgaW5wdXQgZmllbGQuXCIpLFxuICAgIG1hcmdpbjogbWFyZ2luUHJvcCxcbiAgICBwYWQ6IFByb3BUeXBlcy5ib29sLmRlc2NyaXB0aW9uKCdXaGV0aGVyIHRvIGFkZCBwYWRkaW5nIHRvIGFsaWduIHdpdGggdGhlIHBhZGRpbmcgb2YgVGV4dElucHV0LicpLFxuICAgIHJlcXVpcmVkOiBQcm9wVHlwZXMuYm9vbC5kZXNjcmlwdGlvbignV2hldGhlciB0aGUgZmllbGQgaXMgcmVxdWlyZWQuJyksXG4gICAgdmFsaWRhdGU6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zaGFwZSh7XG4gICAgICByZWdleHA6IFByb3BUeXBlcy5vYmplY3QsXG4gICAgICAvLyByZWd1bGFyIGV4cHJlc3Npb25cbiAgICAgIG1lc3NhZ2U6IFByb3BUeXBlcy5zdHJpbmdcbiAgICB9KSwgUHJvcFR5cGVzLmZ1bmNdKS5kZXNjcmlwdGlvbihcIlZhbGlkYXRpb24gcnVsZSB3aGVuIHVzZWQgd2l0aGluIGEgZ3JvbW1ldCBGb3JtLiBQcm92aWRlIGEgcmVndWxhclxcbiAgICAgIGV4cHJlc3Npb24gb3IgYSBmdW5jdGlvbi4gSWYgYVxcbiAgICAgIGZ1bmN0aW9uIGlzIHByb3ZpZGVkLCBpdCB3aWxsIGJlIGNhbGxlZCB3aXRoIHR3byBhcmd1bWVudHMsIHRoZSB2YWx1ZVxcbiAgICAgIGZvciB0aGlzIGZpZWxkIGFuZCB0aGUgZW50aXJlIHZhbHVlIG9iamVjdC4gVGhpcyBwZXJtaXRzIHZhbGlkYXRpb24gdG9cXG4gICAgICBlbmNvbXBhc3MgbXVsdGlwbGUgZmllbGRzLiBUaGUgZnVuY3Rpb24gc2hvdWxkIHJldHVybiBhIHN0cmluZyBtZXNzYWdlXFxuICAgICAgZGVzY3JpYmluZyB0aGUgdmFsaWRhdGlvbiBpc3N1ZSwgaWYgYW55LlwiKVxuICB9O1xuICByZXR1cm4gRG9jdW1lbnRlZEZvcm1GaWVsZDtcbn07XG5leHBvcnQgdmFyIHRoZW1lRG9jID0ge1xuICAnZm9ybUZpZWxkLmJvcmRlci5jb2xvcic6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBib3JkZXIgY29sb3IuJyxcbiAgICB0eXBlOiBcInN0cmluZyB8IHsgJ2RhcmsnOiBzdHJpbmcsICdsaWdodCc6IHN0cmluZyB9XCIsXG4gICAgZGVmYXVsdFZhbHVlOiAnYm9yZGVyJ1xuICB9LFxuICAnZm9ybUZpZWxkLmJvcmRlci5lcnJvci5jb2xvcic6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBib3JkZXIgY29sb3Igb2YgdGhlIGVycm9yLicsXG4gICAgdHlwZTogXCJzdHJpbmcgfCB7J2RhcmsnOiBzdHJpbmcsICdsaWdodCc6IHN0cmluZ31cIixcbiAgICBkZWZhdWx0VmFsdWU6IFwieyBkYXJrOiAnd2hpdGUnLCBsaWdodDogJ3N0YXR1cy1jcml0aWNhbCcgfSxcIlxuICB9LFxuICAnZm9ybUZpZWxkLmJvcmRlci5wb3NpdGlvbic6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBib3JkZXIgcG9zaXRpb24uJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICdpbm5lcidcbiAgfSxcbiAgJ2Zvcm1GaWVsZC5ib3JkZXIuc2lkZSc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBib3JkZXIgc2lkZSBvZiB0aGUgRm9ybUZpZWxkLicsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiAnYm90dG9tJ1xuICB9LFxuICAnZm9ybUZpZWxkLmNvbnRlbnQucGFkJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIHBhZCBvZiB0aGUgRm9ybUZpZWxkIGNvbnRlbnQuJyxcbiAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICBkZWZhdWx0VmFsdWU6IFwieyBob3Jpem9udGFsOiAnc21hbGwnLCBib3R0b206ICdzbWFsbCcgfVwiXG4gIH0sXG4gICdmb3JtRmllbGQuZXJyb3IuY29sb3InOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgY29sb3Igb2YgdGhlIEZvcm1GaWVsZCBlcnJvci4nLFxuICAgIHR5cGU6IFwic3RyaW5nIHwgeydkYXJrJzogc3RyaW5nLCAnbGlnaHQnOiBzdHJpbmd9XCIsXG4gICAgZGVmYXVsdFZhbHVlOiBcInsgZGFyazogJ3N0YXR1cy1jcml0aWNhbCcsIGxpZ2h0OiAnc3RhdHVzLWNyaXRpY2FsJyB9XCJcbiAgfSxcbiAgJ2Zvcm1GaWVsZC5lcnJvci5tYXJnaW4nOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgbWFyZ2luIHVzZWQgZm9yIHRoZSBGb3JtRmllbGQgZXJyb3IuJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgb2JqZWN0JyxcbiAgICBkZWZhdWx0VmFsdWU6IFwieyB2ZXJ0aWNhbDogJ3hzbWFsbCcsIGhvcml6b250YWw6ICdzbWFsbCcgfVwiXG4gIH0sXG4gICdmb3JtRmllbGQuZXh0ZW5kJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnQW55IGFkZGl0aW9uYWwgc3R5bGUgZm9yIEZvcm1GaWVsZC4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCAocHJvcHMpID0+IHt9JyxcbiAgICBkZWZhdWx0VmFsdWU6IHVuZGVmaW5lZFxuICB9LFxuICAnZm9ybUZpZWxkLmhlbHAuY29sb3InOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgY29sb3Igb2YgdGhlIEZvcm1GaWVsZCBoZWxwLicsXG4gICAgdHlwZTogXCJzdHJpbmcgfCB7J2RhcmsnOiBzdHJpbmcsICdsaWdodCc6IHN0cmluZ31cIixcbiAgICBkZWZhdWx0VmFsdWU6IFwieyBkYXJrOiAnZGFyay0zJywgbGlnaHQ6ICdkYXJrLTMnIH1cIlxuICB9LFxuICAnZm9ybUZpZWxkLmhlbHAubWFyZ2luJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIG1hcmdpbiBmb3IgdGhlIEZvcm1GaWVsZCBoZWxwLicsXG4gICAgdHlwZTogJ3N0cmluZyB8IG9iamVjdCcsXG4gICAgZGVmYXVsdFZhbHVlOiBcInsgbGVmdDogJ3NtYWxsJyB9XCJcbiAgfSxcbiAgJ2Zvcm1GaWVsZC5sYWJlbCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ0FueSBwcm9wcyBvZiBUZXh0IHRoYXQgd2lsbCBiZSBhcHBsaWVkIG9uIHRoZSBGb3JtRmllbGQgbGFiZWwuJyxcbiAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICBkZWZhdWx0VmFsdWU6ICd1bmRlZmluZWQnXG4gIH0sXG4gICdmb3JtRmllbGQubGFiZWwubWFyZ2luJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIG1hcmdpbiBmb3IgdGhlIEZvcm1GaWVsZCBsYWJlbC4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCBvYmplY3QnLFxuICAgIGRlZmF1bHRWYWx1ZTogXCJ7IHZlcnRpY2FsOiAneHNtYWxsJywgaG9yaXpvbnRhbDogJ3NtYWxsJyB9XCJcbiAgfSxcbiAgJ2Zvcm1GaWVsZC5tYXJnaW4nOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgbWFyZ2luIG9mIEZvcm1GaWVsZC4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCBvYmplY3QnLFxuICAgIGRlZmF1bHRWYWx1ZTogXCJ7IGJvdHRvbTogJ3NtYWxsJyB9XCJcbiAgfSxcbiAgJ2dsb2JhbC5ib3JkZXJTaXplJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIHBvc3NpYmxlIGJvcmRlciBzaXplcyBmb3IgRm9ybUZpZWxkLicsXG4gICAgdHlwZTogJ29iamVjdCcsXG4gICAgZGVmYXVsdFZhbHVlOiBcIntcXG4gIHhzbWFsbDogJzFweCcsXFxuICBzbWFsbDogJzJweCcsXFxuICBtZWRpdW06ICc0cHgnLFxcbiAgbGFyZ2U6ICcxMnB4JyxcXG4gIHhsYXJnZTogJzI0cHgsXFxufVwiXG4gIH1cbn07IiwiZXhwb3J0IHsgRm9ybUZpZWxkIH0gZnJvbSAnLi9Gb3JtRmllbGQnOyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFN0eWxlZEdyaWQgfSBmcm9tICcuL1N0eWxlZEdyaWQnO1xuXG52YXIgR3JpZCA9IGZ1bmN0aW9uIEdyaWQocHJvcHMpIHtcbiAgdmFyIGExMXlUaXRsZSA9IHByb3BzLmExMXlUaXRsZSxcbiAgICAgIGZpbGwgPSBwcm9wcy5maWxsLFxuICAgICAgcm93cyA9IHByb3BzLnJvd3MsXG4gICAgICB0YWcgPSBwcm9wcy50YWcsXG4gICAgICBhcyA9IHByb3BzLmFzLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHByb3BzLCBbXCJhMTF5VGl0bGVcIiwgXCJmaWxsXCIsIFwicm93c1wiLCBcInRhZ1wiLCBcImFzXCJdKTtcblxuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWRHcmlkLCBfZXh0ZW5kcyh7XG4gICAgYTExeVRpdGxlUHJvcDogYTExeVRpdGxlLFxuICAgIGFzOiAhYXMgJiYgdGFnID8gdGFnIDogYXMsXG4gICAgZmlsbENvbnRhaW5lcjogZmlsbCxcbiAgICByb3dzUHJvcDogcm93c1xuICB9LCByZXN0KSk7XG59O1xuXG52YXIgR3JpZERvYztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgR3JpZERvYyA9IHJlcXVpcmUoJy4vZG9jJykuZG9jKEdyaWQpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGdsb2JhbC1yZXF1aXJlXG59XG5cbnZhciBHcmlkV3JhcHBlciA9IEdyaWREb2MgfHwgR3JpZDtcbkdyaWRXcmFwcGVyLmF2YWlsYWJsZSA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5DU1MgJiYgd2luZG93LkNTUy5zdXBwb3J0cyAmJiB3aW5kb3cuQ1NTLnN1cHBvcnRzKCdkaXNwbGF5JywgJ2dyaWQnKTtcbmV4cG9ydCB7IEdyaWRXcmFwcGVyIGFzIEdyaWQgfTsiLCJpbXBvcnQgc3R5bGVkLCB7IGNzcyB9IGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCB7IGdlbmVyaWNTdHlsZXMgfSBmcm9tICcuLi8uLi91dGlscyc7XG5pbXBvcnQgeyBkZWZhdWx0UHJvcHMgfSBmcm9tICcuLi8uLi9kZWZhdWx0LXByb3BzJztcblxudmFyIGZpbGxTdHlsZSA9IGZ1bmN0aW9uIGZpbGxTdHlsZShmaWxsKSB7XG4gIGlmIChmaWxsID09PSAnaG9yaXpvbnRhbCcpIHtcbiAgICByZXR1cm4gJ3dpZHRoOiAxMDAlOyc7XG4gIH1cblxuICBpZiAoZmlsbCA9PT0gJ3ZlcnRpY2FsJykge1xuICAgIHJldHVybiAnaGVpZ2h0OiAxMDAlOyc7XG4gIH1cblxuICBpZiAoZmlsbCkge1xuICAgIHJldHVybiBcIlxcbiAgICAgIHdpZHRoOiAxMDAlO1xcbiAgICAgIGhlaWdodDogMTAwJTtcXG4gICAgXCI7XG4gIH1cblxuICByZXR1cm4gdW5kZWZpbmVkO1xufTtcblxudmFyIEFMSUdOX01BUCA9IHtcbiAgY2VudGVyOiAnY2VudGVyJyxcbiAgZW5kOiAnZmxleC1lbmQnLFxuICBzdGFydDogJ2ZsZXgtc3RhcnQnLFxuICBzdHJldGNoOiAnc3RyZXRjaCdcbn07XG52YXIgYWxpZ25TdHlsZSA9IGNzcyhbXCJhbGlnbi1pdGVtczpcIiwgXCI7XCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIEFMSUdOX01BUFtwcm9wcy5hbGlnbl07XG59KTtcbnZhciBBTElHTl9DT05URU5UX01BUCA9IHtcbiAgYXJvdW5kOiAnc3BhY2UtYXJvdW5kJyxcbiAgYmV0d2VlbjogJ3NwYWNlLWJldHdlZW4nLFxuICBjZW50ZXI6ICdjZW50ZXInLFxuICBlbmQ6ICdmbGV4LWVuZCcsXG4gIHN0YXJ0OiAnZmxleC1zdGFydCcsXG4gIHN0cmV0Y2g6ICdzdHJldGNoJ1xufTtcbnZhciBhbGlnbkNvbnRlbnRTdHlsZSA9IGNzcyhbXCJhbGlnbi1jb250ZW50OlwiLCBcIjtcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gQUxJR05fQ09OVEVOVF9NQVBbcHJvcHMuYWxpZ25Db250ZW50XTtcbn0pO1xudmFyIEpVU1RJRllfTUFQID0ge1xuICBjZW50ZXI6ICdjZW50ZXInLFxuICBlbmQ6ICdmbGV4LWVuZCcsXG4gIHN0YXJ0OiAnZmxleC1zdGFydCcsXG4gIHN0cmV0Y2g6ICdzdHJldGNoJ1xufTtcbnZhciBqdXN0aWZ5U3R5bGUgPSBjc3MoW1wianVzdGlmeS1pdGVtczpcIiwgXCI7XCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIEpVU1RJRllfTUFQW3Byb3BzLmp1c3RpZnldO1xufSk7XG52YXIgSlVTVElGWV9DT05URU5UX01BUCA9IHtcbiAgYXJvdW5kOiAnc3BhY2UtYXJvdW5kJyxcbiAgYmV0d2VlbjogJ3NwYWNlLWJldHdlZW4nLFxuICBjZW50ZXI6ICdjZW50ZXInLFxuICBlbmQ6ICdmbGV4LWVuZCcsXG4gIHN0YXJ0OiAnZmxleC1zdGFydCcsXG4gIHN0cmV0Y2g6ICdzdHJldGNoJ1xufTtcbnZhciBqdXN0aWZ5Q29udGVudFN0eWxlID0gY3NzKFtcImp1c3RpZnktY29udGVudDpcIiwgXCI7XCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIEpVU1RJRllfQ09OVEVOVF9NQVBbcHJvcHMuanVzdGlmeUNvbnRlbnRdO1xufSk7XG5cbnZhciBnYXBTdHlsZSA9IGZ1bmN0aW9uIGdhcFN0eWxlKHByb3BzKSB7XG4gIGlmICh0eXBlb2YgcHJvcHMuZ2FwID09PSAnc3RyaW5nJykge1xuICAgIHZhciBnYXBTaXplID0gcHJvcHMudGhlbWUuZ2xvYmFsLmVkZ2VTaXplW3Byb3BzLmdhcF0gfHwgcHJvcHMuZ2FwO1xuICAgIHJldHVybiBcImdyaWQtZ2FwOiBcIiArIGdhcFNpemUgKyBcIiBcIiArIGdhcFNpemUgKyBcIjtcIjtcbiAgfVxuXG4gIGlmIChwcm9wcy5nYXAucm93ICYmIHByb3BzLmdhcC5jb2x1bW4pIHtcbiAgICByZXR1cm4gXCJcXG4gICAgICBncmlkLXJvdy1nYXA6IFwiICsgKHByb3BzLnRoZW1lLmdsb2JhbC5lZGdlU2l6ZVtwcm9wcy5nYXAucm93XSB8fCBwcm9wcy5nYXAucm93KSArIFwiO1xcbiAgICAgIGdyaWQtY29sdW1uLWdhcDogXCIgKyAocHJvcHMudGhlbWUuZ2xvYmFsLmVkZ2VTaXplW3Byb3BzLmdhcC5jb2x1bW5dIHx8IHByb3BzLmdhcC5jb2x1bW4pICsgXCI7XFxuICAgIFwiO1xuICB9XG5cbiAgaWYgKHByb3BzLmdhcC5yb3cpIHtcbiAgICByZXR1cm4gXCJcXG4gICAgICBncmlkLXJvdy1nYXA6IFwiICsgKHByb3BzLnRoZW1lLmdsb2JhbC5lZGdlU2l6ZVtwcm9wcy5nYXAucm93XSB8fCBwcm9wcy5nYXAucm93KSArIFwiO1xcbiAgICBcIjtcbiAgfVxuXG4gIGlmIChwcm9wcy5nYXAuY29sdW1uKSB7XG4gICAgcmV0dXJuIFwiXFxuICAgICAgZ3JpZC1jb2x1bW4tZ2FwOiBcIiArIChwcm9wcy50aGVtZS5nbG9iYWwuZWRnZVNpemVbcHJvcHMuZ2FwLmNvbHVtbl0gfHwgcHJvcHMuZ2FwLmNvbHVtbikgKyBcIjtcXG4gICAgXCI7XG4gIH1cblxuICByZXR1cm4gJyc7XG59O1xuXG52YXIgU0laRV9NQVAgPSB7XG4gIGZsZXg6ICcxZnInLFxuICBmdWxsOiAnMTAwJScsXG4gICcxLzInOiAnNTAlJyxcbiAgJzEvNCc6ICcyNSUnLFxuICAnMi80JzogJzUwJScsXG4gICczLzQnOiAnNzUlJyxcbiAgJzEvMyc6ICczMy4zMyUnLFxuICAnMi8zJzogJzY2LjY2JSdcbn07XG5cbnZhciBnZXRSZXBlYXRDb3VudCA9IGZ1bmN0aW9uIGdldFJlcGVhdENvdW50KGNvdW50KSB7XG4gIHJldHVybiB0eXBlb2YgY291bnQgPT09ICdudW1iZXInID8gY291bnQgOiBcImF1dG8tXCIgKyBjb3VudDtcbn07XG5cbnZhciBnZXRSZXBlYXRTaXplID0gZnVuY3Rpb24gZ2V0UmVwZWF0U2l6ZShzaXplLCB0aGVtZSkge1xuICBpZiAoQXJyYXkuaXNBcnJheShzaXplKSkge1xuICAgIHJldHVybiBcIm1pbm1heChcIiArICh0aGVtZS5nbG9iYWwuc2l6ZVtzaXplWzBdXSB8fCBzaXplWzBdKSArIFwiLCBcIiArICh0aGVtZS5nbG9iYWwuc2l6ZVtzaXplWzFdXSB8fCBzaXplWzFdKSArIFwiKVwiO1xuICB9XG5cbiAgcmV0dXJuIFwibWlubWF4KFwiICsgKHRoZW1lLmdsb2JhbC5zaXplW3NpemVdIHx8IHNpemUpICsgXCIsIDFmcilcIjtcbn07XG5cbnZhciBzaXplRm9yID0gZnVuY3Rpb24gc2l6ZUZvcihzaXplLCBwcm9wcywgaXNSb3cpIHtcbiAgdmFyIG1hcHBlZCA9IFNJWkVfTUFQW3NpemVdO1xuXG4gIGlmIChpc1JvdyAmJiBtYXBwZWQgJiYgKCFwcm9wcy5maWxsQ29udGFpbmVyIHx8IHByb3BzLmZpbGxDb250YWluZXIgPT09ICdob3Jpem9udGFsJykpIHtcbiAgICBjb25zb2xlLndhcm4oJ0dyaWQgbmVlZHMgYGZpbGxgIHdoZW4gdXNpbmcgZnJhY3Rpb25hbCByb3cgc2l6ZXMnKTtcbiAgfVxuXG4gIHJldHVybiBtYXBwZWQgfHwgcHJvcHMudGhlbWUuZ2xvYmFsLnNpemVbc2l6ZV0gfHwgc2l6ZTtcbn07XG5cbnZhciBjb2x1bW5zU3R5bGUgPSBmdW5jdGlvbiBjb2x1bW5zU3R5bGUocHJvcHMpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkocHJvcHMuY29sdW1ucykpIHtcbiAgICByZXR1cm4gY3NzKFtcImdyaWQtdGVtcGxhdGUtY29sdW1uczpcIiwgXCI7XCJdLCBwcm9wcy5jb2x1bW5zLm1hcChmdW5jdGlvbiAocykge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkocykpIHtcbiAgICAgICAgcmV0dXJuIFwibWlubWF4KFwiICsgc2l6ZUZvcihzWzBdLCBwcm9wcykgKyBcIiwgXCIgKyBzaXplRm9yKHNbMV0sIHByb3BzKSArIFwiKVwiO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2l6ZUZvcihzLCBwcm9wcyk7XG4gICAgfSkuam9pbignICcpKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgcHJvcHMuY29sdW1ucyA9PT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gY3NzKFtcImdyaWQtdGVtcGxhdGUtY29sdW1uczpyZXBlYXQoIFwiLCBcIixcIiwgXCIgKTtcIl0sIGdldFJlcGVhdENvdW50KHByb3BzLmNvbHVtbnMuY291bnQpLCBnZXRSZXBlYXRTaXplKHByb3BzLmNvbHVtbnMuc2l6ZSwgcHJvcHMudGhlbWUpKTtcbiAgfVxuXG4gIHJldHVybiBjc3MoW1wiZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOnJlcGVhdCggYXV0by1maWxsLFwiLCBcIiApO1wiXSwgZ2V0UmVwZWF0U2l6ZShwcm9wcy5jb2x1bW5zLCBwcm9wcy50aGVtZSkpO1xufTtcblxudmFyIHJvd3NTdHlsZSA9IGZ1bmN0aW9uIHJvd3NTdHlsZShwcm9wcykge1xuICBpZiAoQXJyYXkuaXNBcnJheShwcm9wcy5yb3dzUHJvcCkpIHtcbiAgICByZXR1cm4gY3NzKFtcImdyaWQtdGVtcGxhdGUtcm93czpcIiwgXCI7XCJdLCBwcm9wcy5yb3dzUHJvcC5tYXAoZnVuY3Rpb24gKHMpIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHMpKSB7XG4gICAgICAgIHJldHVybiBcIm1pbm1heChcIiArIHNpemVGb3Ioc1swXSwgcHJvcHMsIHRydWUpICsgXCIsIFwiICsgc2l6ZUZvcihzWzFdLCBwcm9wcywgdHJ1ZSkgKyBcIilcIjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNpemVGb3IocywgcHJvcHMsIHRydWUpO1xuICAgIH0pLmpvaW4oJyAnKSk7XG4gIH1cblxuICByZXR1cm4gY3NzKFtcImdyaWQtYXV0by1yb3dzOlwiLCBcIjtcIl0sIHByb3BzLnRoZW1lLmdsb2JhbC5zaXplW3Byb3BzLnJvd3NQcm9wXSk7XG59O1xuXG52YXIgYXJlYXNTdHlsZSA9IGZ1bmN0aW9uIGFyZWFzU3R5bGUocHJvcHMpIHtcbiAgLy8gdHJhbnNsYXRlIGFyZWFzIG9iamVjdHMgaW50byBncmlkLXRlbXBsYXRlLWFyZWFzIHN5bnRheFxuICBpZiAoIUFycmF5LmlzQXJyYXkocHJvcHMucm93c1Byb3ApIHx8ICFBcnJheS5pc0FycmF5KHByb3BzLmNvbHVtbnMpKSB7XG4gICAgY29uc29sZS53YXJuKCdHcmlkIGBhcmVhc2AgcmVxdWlyZXMgYHJvd3NgIGFuZCBgY29sdW1uc2AgdG8gYmUgYXJyYXlzLicpO1xuICB9XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkocHJvcHMuYXJlYXMpICYmIHByb3BzLmFyZWFzLmV2ZXJ5KGZ1bmN0aW9uIChhcmVhKSB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoYXJlYSk7XG4gIH0pKSB7XG4gICAgcmV0dXJuIFwiZ3JpZC10ZW1wbGF0ZS1hcmVhczogXCIgKyBwcm9wcy5hcmVhcy5tYXAoZnVuY3Rpb24gKGFyZWEpIHtcbiAgICAgIHJldHVybiBcIlxcXCJcIiArIGFyZWEuam9pbignICcpICsgXCJcXFwiXCI7XG4gICAgfSkuam9pbignICcpICsgXCI7XCI7XG4gIH1cblxuICB2YXIgY2VsbHMgPSBwcm9wcy5yb3dzUHJvcC5tYXAoZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBwcm9wcy5jb2x1bW5zLm1hcChmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gJy4nO1xuICAgIH0pO1xuICB9KTtcbiAgcHJvcHMuYXJlYXMuZm9yRWFjaChmdW5jdGlvbiAoYXJlYSkge1xuICAgIGZvciAodmFyIHJvdyA9IGFyZWEuc3RhcnRbMV07IHJvdyA8PSBhcmVhLmVuZFsxXTsgcm93ICs9IDEpIHtcbiAgICAgIGZvciAodmFyIGNvbHVtbiA9IGFyZWEuc3RhcnRbMF07IGNvbHVtbiA8PSBhcmVhLmVuZFswXTsgY29sdW1uICs9IDEpIHtcbiAgICAgICAgY2VsbHNbcm93XVtjb2x1bW5dID0gYXJlYS5uYW1lO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIHJldHVybiBcImdyaWQtdGVtcGxhdGUtYXJlYXM6IFwiICsgY2VsbHMubWFwKGZ1bmN0aW9uIChyKSB7XG4gICAgcmV0dXJuIFwiXFxcIlwiICsgci5qb2luKCcgJykgKyBcIlxcXCJcIjtcbiAgfSkuam9pbignICcpICsgXCI7XCI7XG59O1xuXG52YXIgU3R5bGVkR3JpZCA9IHN0eWxlZC5kaXYuYXR0cnMoZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiB7XG4gICAgJ2FyaWEtbGFiZWwnOiBwcm9wcy5hMTF5VGl0bGVQcm9wXG4gIH07XG59KS53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiU3R5bGVkR3JpZFwiLFxuICBjb21wb25lbnRJZDogXCJzYy0xd29mYTFsLTBcIlxufSkoW1wiZGlzcGxheTpncmlkO2JveC1zaXppbmc6Ym9yZGVyLWJveDtcIiwgXCIgXCIsIFwiIFwiLCBcIiBcIiwgXCIgXCIsIFwiIFwiLCBcIiBcIiwgXCIgXCIsIFwiIFwiLCBcIiBcIiwgXCIgXCIsIFwiXCJdLCBnZW5lcmljU3R5bGVzLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLmZpbGxDb250YWluZXIgJiYgZmlsbFN0eWxlKHByb3BzLmZpbGxDb250YWluZXIpO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5hbGlnbiAmJiBhbGlnblN0eWxlO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5hbGlnbkNvbnRlbnQgJiYgYWxpZ25Db250ZW50U3R5bGU7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLmFyZWFzICYmIGFyZWFzU3R5bGUocHJvcHMpO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5jb2x1bW5zICYmIGNvbHVtbnNTdHlsZShwcm9wcyk7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLmdhcCAmJiBnYXBTdHlsZShwcm9wcyk7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLmp1c3RpZnkgJiYganVzdGlmeVN0eWxlO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5qdXN0aWZ5Q29udGVudCAmJiBqdXN0aWZ5Q29udGVudFN0eWxlO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5yb3dzUHJvcCAmJiByb3dzU3R5bGUocHJvcHMpO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5ncmlkICYmIHByb3BzLnRoZW1lLmdyaWQuZXh0ZW5kO1xufSk7XG5TdHlsZWRHcmlkLmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKFN0eWxlZEdyaWQuZGVmYXVsdFByb3BzLCBkZWZhdWx0UHJvcHMpO1xuZXhwb3J0IHsgU3R5bGVkR3JpZCB9OyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmltcG9ydCB7IGRlc2NyaWJlLCBQcm9wVHlwZXMgfSBmcm9tICdyZWFjdC1kZXNjJztcbmltcG9ydCB7IGdlbmVyaWNQcm9wcywgZ2V0QXZhaWxhYmxlQXRCYWRnZSwgdGhlbWVEb2NVdGlscyB9IGZyb20gJy4uLy4uL3V0aWxzJztcbnZhciBmaXhlZFNpemVzID0gWyd4c21hbGwnLCAnc21hbGwnLCAnbWVkaXVtJywgJ2xhcmdlJywgJ3hsYXJnZSddO1xudmFyIHNpemVzID0gWyd4c21hbGwnLCAnc21hbGwnLCAnbWVkaXVtJywgJ2xhcmdlJywgJ3hsYXJnZScsICdmdWxsJywgJzEvMicsICcxLzMnLCAnMi8zJywgJzEvNCcsICcyLzQnLCAnMy80JywgJ2ZsZXgnLCAnYXV0byddO1xudmFyIGVkZ2VTaXplcyA9IFsneHhzbWFsbCcsICd4c21hbGwnLCAnc21hbGwnLCAnbWVkaXVtJywgJ2xhcmdlJywgJ3hsYXJnZScsICdub25lJ107XG5leHBvcnQgdmFyIGRvYyA9IGZ1bmN0aW9uIGRvYyhHcmlkKSB7XG4gIHZhciBEb2N1bWVudGVkR3JpZCA9IGRlc2NyaWJlKEdyaWQpLmF2YWlsYWJsZUF0KGdldEF2YWlsYWJsZUF0QmFkZ2UoJ0dyaWQnKSkuZGVzY3JpcHRpb24oXCJBIGdyaWQgc3lzdGVtIGZvciBsYXlpbmcgb3V0IGNvbnRlbnQuIFRvIHVzZSwgZGVmaW5lIHRoZVxcbnJvd3MgYW5kIGNvbHVtbnMsIGNyZWF0ZSBhcmVhIG5hbWVzIGZvciBhZGphY2VudCBjZWxscywgYW5kIHRoZW5cXG5wbGFjZSBCb3ggY29tcG9uZW50cyBpbnNpZGUgdGhvc2UgYXJlYXMgdXNpbmcgdGhlIGdyaWRBcmVhIHByb3BlcnR5LlxcblNlZSBodHRwczovL2Nzcy10cmlja3MuY29tL3NuaXBwZXRzL2Nzcy9jb21wbGV0ZS1ndWlkZS1ncmlkLy5cXG5UaGUgYXZhaWxhYmlsaXR5IG9mIEdyaWQgY2FuIGJlIHRlc3RlZCB2aWEgYEdyaWQuYXZhaWxhYmxlYC4gVXNlIHRoaXNcXG50byBjcmVhdGUgZmFsbGJhY2sgcmVuZGVyaW5nIGZvciBvbGRlciBicm93c2VycywgbGlrZSBpZTExLlwiKS51c2FnZShcImltcG9ydCB7IEdyaWQgfSBmcm9tICdncm9tbWV0JztcXG48R3JpZCAvPlwiKS5pbnRyaW5zaWNFbGVtZW50KCdkaXYnKTtcbiAgRG9jdW1lbnRlZEdyaWQucHJvcFR5cGVzID0gX2V4dGVuZHMoe30sIGdlbmVyaWNQcm9wcywge1xuICAgIGFsaWduOiBQcm9wVHlwZXMub25lT2YoWydzdGFydCcsICdjZW50ZXInLCAnZW5kJywgJ3N0cmV0Y2gnXSkuZGVzY3JpcHRpb24oXCJIb3cgdG8gYWxpZ24gdGhlIGluZGl2aWR1YWwgaXRlbXMgaW5zaWRlIHRoZSBncmlkIHdoZW4gdGhlcmUgaXMgZXh0cmFcXG5zcGFjZSBpbiB0aGUgY29sdW1uIGF4aXMuXCIpLmRlZmF1bHRWYWx1ZSgnc3RyZXRjaCcpLFxuICAgIGFsaWduQ29udGVudDogUHJvcFR5cGVzLm9uZU9mKFsnc3RhcnQnLCAnY2VudGVyJywgJ2VuZCcsICdiZXR3ZWVuJywgJ2Fyb3VuZCcsICdzdHJldGNoJ10pLmRlc2NyaXB0aW9uKCdIb3cgdG8gYWxpZ24gdGhlIGNvbnRlbnRzIGFsb25nIHRoZSBjb2x1bW4gYXhpcy4nKSxcbiAgICBhcmVhczogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgIG5hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgICBzdGFydDogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm51bWJlciksXG4gICAgICBlbmQ6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5udW1iZXIpXG4gICAgfSkpLCBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMuc3RyaW5nKSldKS5kZXNjcmlwdGlvbihcIkdyaWQgYXJlYXMuXFxuICAgICAgRWl0aGVyIGFyZWEgbmFtZXMgYW5kIGNvbHVtbixyb3cgY29vcmRpbmF0ZXMuXFxuICAgICAgT3IsIGFuIGFycmF5IG9mIHN0cmluZyBhcnJheXMgdGhhdCBzcGVjaWZ5IG5hbWVkIGdyaWQgYXJlYXMuXCIpLFxuICAgIGNvbHVtbnM6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihzaXplcyksIFByb3BUeXBlcy5zdHJpbmddKSksIFByb3BUeXBlcy5vbmVPZihzaXplcyksIFByb3BUeXBlcy5zdHJpbmddKSksIFByb3BUeXBlcy5vbmVPZihmaXhlZFNpemVzKSwgUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgIGNvdW50OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2YoWydmaXQnLCAnZmlsbCddKSwgUHJvcFR5cGVzLm51bWJlcl0pLFxuICAgICAgc2l6ZTogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKGZpeGVkU2l6ZXMpLCBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMub25lT2Yoc2l6ZXMpKSwgUHJvcFR5cGVzLnN0cmluZ10pXG4gICAgfSksIFByb3BUeXBlcy5zdHJpbmddKS5kZXNjcmlwdGlvbihcIkNvbHVtbiBzaXplcy5cXG4gICAgICBJZiBhbiBhcnJheSB2YWx1ZSBpcyBhbiBhcnJheSwgdGhlIGlubmVyIGFycmF5IGluZGljYXRlcyB0aGVcXG4gICAgICBtaW5pbXVtIGFuZCBtYXhpbXVtIHNpemVzIGZvciB0aGUgY29sdW1uLlxcbiAgICAgIFNwZWNpZnlpbmcgYSBzaW5nbGUgc3RyaW5nIHdpbGwgcmVwZWF0IG11bHRpcGxlIGNvbHVtbnNcXG4gICAgICBvZiB0aGF0IHNpemUsIGFzIGxvbmcgYXMgdGhlcmUgaXMgcm9vbSBmb3IgbW9yZS5cXG4gICAgICBTcGVjaWZ5aW5nIGFuIG9iamVjdCBhbGxvd3MgaW5kaWNhdGluZyBob3cgdGhlIGNvbHVtbnNcXG4gICAgICBzdHJldGNoIHRvIGZpdCB0aGUgYXZhaWxhYmxlIHNwYWNlLlwiKSxcbiAgICBmaWxsOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2YoWydob3Jpem9udGFsJywgJ3ZlcnRpY2FsJ10pLCBQcm9wVHlwZXMuYm9vbF0pLmRlc2NyaXB0aW9uKCdXaGV0aGVyIHRoZSB3aWR0aCBhbmQvb3IgaGVpZ2h0IHNob3VsZCBmaWxsIHRoZSBjb250YWluZXIuJyksXG4gICAgZ2FwOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2YoZWRnZVNpemVzKSwgUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgIHJvdzogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKGVkZ2VTaXplcyksIFByb3BUeXBlcy5zdHJpbmddKSxcbiAgICAgIGNvbHVtbjogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKGVkZ2VTaXplcyksIFByb3BUeXBlcy5zdHJpbmddKVxuICAgIH0pLCBQcm9wVHlwZXMuc3RyaW5nXSkuZGVzY3JpcHRpb24oJ0dhcCBzaXplcyBiZXR3ZWVuIHJvd3MgYW5kL29yIGNvbHVtbnMuJyksXG4gICAganVzdGlmeTogUHJvcFR5cGVzLm9uZU9mKFsnc3RhcnQnLCAnY2VudGVyJywgJ2VuZCcsICdzdHJldGNoJ10pLmRlc2NyaXB0aW9uKFwiSG93IHRvIGFsaWduIHRoZSBpbmRpdmlkdWFsIGl0ZW1zIGluc2lkZSB0aGUgZ3JpZCB3aGVuIHRoZXJlIGlzIGV4dHJhXFxuc3BhY2UgaW4gdGhlIHJvdyBheGlzLlwiKS5kZWZhdWx0VmFsdWUoJ3N0cmV0Y2gnKSxcbiAgICBqdXN0aWZ5Q29udGVudDogUHJvcFR5cGVzLm9uZU9mKFsnc3RhcnQnLCAnY2VudGVyJywgJ2VuZCcsICdiZXR3ZWVuJywgJ2Fyb3VuZCcsICdzdHJldGNoJ10pLmRlc2NyaXB0aW9uKCdIb3cgdG8gYWxpZ24gdGhlIGNvbnRlbnRzIGFsb25nIHRoZSByb3cgYXhpcy4nKSxcbiAgICByb3dzOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2Yoc2l6ZXMpLCBQcm9wVHlwZXMuc3RyaW5nXSkpLCBQcm9wVHlwZXMub25lT2Yoc2l6ZXMpLCBQcm9wVHlwZXMuc3RyaW5nXSkpLCBQcm9wVHlwZXMub25lT2YoZml4ZWRTaXplcyksIFByb3BUeXBlcy5zdHJpbmddKS5kZXNjcmlwdGlvbihcIlJvdyBzaXplcy5cXG4gICAgICBJZiBhbiBhcnJheSB2YWx1ZSBpcyBhbiBhcnJheSwgdGhlIGlubmVyIGFycmF5IGluZGljYXRlcyB0aGVcXG4gICAgICBtaW5pbXVtIGFuZCBtYXhpbXVtIHNpemVzIGZvciB0aGUgcm93LlxcbiAgICAgIFNwZWNpZnlpbmcgYSBzaW5nbGUgc3RyaW5nIHdpbGwgY2F1c2UgYXV0b21hdGljYWxseSBhZGRlZCByb3dzIHRvIGJlXFxuICAgICAgdGhlIHNwZWNpZmllZCBzaXplLlwiKSxcbiAgICB0YWc6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5mdW5jXSkuZGVzY3JpcHRpb24oXCJUaGUgRE9NIHRhZyB0byB1c2UgZm9yIHRoZSBlbGVtZW50LiBOT1RFOiBUaGlzIGlzIGRlcHJlY2F0ZWRcXG4gICAgICBpbiBmYXZvciBvZiBpbmRpY2F0aW5nIHRoZSBET00gdGFnIHZpYSB0aGUgJ2FzJyBwcm9wZXJ0eS5cIiksXG4gICAgYXM6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5mdW5jXSkuZGVzY3JpcHRpb24oJ1RoZSBET00gdGFnIG9yIHJlYWN0IGNvbXBvbmVudCB0byB1c2UgZm9yIHRoZSBlbGVtZW50LicpLmRlZmF1bHRWYWx1ZSgnZGl2JylcbiAgfSk7XG4gIHJldHVybiBEb2N1bWVudGVkR3JpZDtcbn07XG5leHBvcnQgdmFyIHRoZW1lRG9jID0gX2V4dGVuZHMoe1xuICAnZ2xvYmFsLnNpemUnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgcG9zc2libGUgc2l6ZXMgZm9yIHJvdyBhbmQgY29sdW1uLicsXG4gICAgdHlwZTogJ29iamVjdCcsXG4gICAgZGVmYXVsdFZhbHVlOiBcIntcXG4gICAgICB4eHNtYWxsOiAnNDhweCcsXFxuICAgICAgeHNtYWxsOiAnOTZweCcsXFxuICAgICAgc21hbGw6ICcxOTJweCcsXFxuICAgICAgbWVkaXVtOiAnMzg0cHgnLFxcbiAgICAgIGxhcmdlOiAnNzY4cHgnLFxcbiAgICAgIHhsYXJnZTogJzExNTJweCcsXFxuICAgICAgeHhsYXJnZTogJzE1MzZweCcsXFxuICAgICAgZnVsbDogJzEwMCUnLFxcbiAgICB9XCJcbiAgfSxcbiAgJ2dyaWQuZXh0ZW5kJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnQW55IGFkZGl0aW9uYWwgc3R5bGUgZm9yIHRoZSBHcmlkLicsXG4gICAgdHlwZTogJ3N0cmluZyB8IChwcm9wcykgPT4ge30nLFxuICAgIGRlZmF1bHRWYWx1ZTogdW5kZWZpbmVkXG4gIH1cbn0sIHRoZW1lRG9jVXRpbHMuZWRnZVN0eWxlKCdUaGUgcG9zc2libGUgc2l6ZXMgZm9yIHRoZSBncmlkIG1hcmdpbiBhbmQgZ2FwLicpKTsiLCJleHBvcnQgeyBHcmlkIH0gZnJvbSAnLi9HcmlkJzsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHNMb29zZShzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MucHJvdG90eXBlKTsgc3ViQ2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gc3ViQ2xhc3M7IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuZnVuY3Rpb24gX3RlbXBsYXRlT2JqZWN0KCkge1xuICB2YXIgZGF0YSA9IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWxMb29zZShbXCJcXG4gIGJvZHkgeyBtYXJnaW46IDA7IH1cXG5cIl0pO1xuXG4gIF90ZW1wbGF0ZU9iamVjdCA9IGZ1bmN0aW9uIF90ZW1wbGF0ZU9iamVjdCgpIHtcbiAgICByZXR1cm4gZGF0YTtcbiAgfTtcblxuICByZXR1cm4gZGF0YTtcbn1cblxuZnVuY3Rpb24gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbExvb3NlKHN0cmluZ3MsIHJhdykgeyBpZiAoIXJhdykgeyByYXcgPSBzdHJpbmdzLnNsaWNlKDApOyB9IHN0cmluZ3MucmF3ID0gcmF3OyByZXR1cm4gc3RyaW5nczsgfVxuXG5pbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY3JlYXRlR2xvYmFsU3R5bGUgfSBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBSZXNwb25zaXZlQ29udGV4dCwgVGhlbWVDb250ZXh0IH0gZnJvbSAnLi4vLi4vY29udGV4dHMnO1xuaW1wb3J0IHsgY29sb3JJc0RhcmssIGRlZXBNZXJnZSwgZ2V0QnJlYWtwb2ludCwgZ2V0RGV2aWNlQnJlYWtwb2ludCB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmltcG9ydCB7IGJhc2UgYXMgYmFzZVRoZW1lIH0gZnJvbSAnLi4vLi4vdGhlbWVzJztcbmltcG9ydCB7IFN0eWxlZEdyb21tZXQgfSBmcm9tICcuL1N0eWxlZEdyb21tZXQnO1xudmFyIEZ1bGxHbG9iYWxTdHlsZSA9IGNyZWF0ZUdsb2JhbFN0eWxlKF90ZW1wbGF0ZU9iamVjdCgpKTtcblxudmFyIEdyb21tZXQgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoR3JvbW1ldCwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gR3JvbW1ldCgpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgX3RoaXMgPSBfQ29tcG9uZW50LmNhbGwuYXBwbHkoX0NvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChhcmdzKSkgfHwgdGhpcztcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJzdGF0ZVwiLCB7fSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwib25SZXNpemVcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF90aGlzJHN0YXRlID0gX3RoaXMuc3RhdGUsXG4gICAgICAgICAgdGhlbWUgPSBfdGhpcyRzdGF0ZS50aGVtZSxcbiAgICAgICAgICByZXNwb25zaXZlID0gX3RoaXMkc3RhdGUucmVzcG9uc2l2ZTtcbiAgICAgIHZhciBicmVha3BvaW50ID0gZ2V0QnJlYWtwb2ludCh3aW5kb3cuaW5uZXJXaWR0aCwgdGhlbWUpO1xuXG4gICAgICBpZiAoYnJlYWtwb2ludCAhPT0gcmVzcG9uc2l2ZSkge1xuICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgcmVzcG9uc2l2ZTogYnJlYWtwb2ludFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIEdyb21tZXQuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID0gZnVuY3Rpb24gZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKG5leHRQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgdmFyIF9uZXh0UHJvcHMkdGhlbWUgPSBuZXh0UHJvcHMudGhlbWUsXG4gICAgICAgIHRoZW1lID0gX25leHRQcm9wcyR0aGVtZSA9PT0gdm9pZCAwID8ge30gOiBfbmV4dFByb3BzJHRoZW1lLFxuICAgICAgICB0aGVtZU1vZGUgPSBuZXh0UHJvcHMudGhlbWVNb2RlO1xuICAgIHZhciBzdGF0ZVRoZW1lID0gcHJldlN0YXRlLnRoZW1lLFxuICAgICAgICB0aGVtZVByb3AgPSBwcmV2U3RhdGUudGhlbWVQcm9wLFxuICAgICAgICB0aGVtZU1vZGVQcm9wID0gcHJldlN0YXRlLnRoZW1lTW9kZVByb3A7XG4gICAgdmFyIG5leHRUaGVtZSA9IGRlZXBNZXJnZShiYXNlVGhlbWUsIHRoZW1lKTtcblxuICAgIGlmICghc3RhdGVUaGVtZSB8fCB0aGVtZSAhPT0gdGhlbWVQcm9wIHx8IHRoZW1lTW9kZSAhPT0gdGhlbWVNb2RlUHJvcCkge1xuICAgICAgdmFyIGJhY2tncm91bmQgPSBuZXh0VGhlbWUuZ2xvYmFsLmNvbG9ycy5iYWNrZ3JvdW5kOyAvLyBEZXRlcm1pbmUgd2hldGhlciB0byBzdGFydCBpbiBkYXJrIG9yIGxpZ2h0IG1vZGUuXG5cbiAgICAgIGlmICh0eXBlb2YgYmFja2dyb3VuZCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgLy8gYmFja2dyb3VuZCBpcyBhbiBvYmplY3QsIHVzZSB0aGVtZU1vZGUsIHRoZW1lIGRlZmF1bHRcbiAgICAgICAgLy8gb3IgZmlyc3Qga2V5XG4gICAgICAgIHZhciBjb2xvciA9IGJhY2tncm91bmRbdGhlbWVNb2RlIHx8IG5leHRUaGVtZS5kZWZhdWx0TW9kZSB8fCBPYmplY3Qua2V5cyhiYWNrZ3JvdW5kKVswXV07XG4gICAgICAgIG5leHRUaGVtZS5kYXJrID0gY29sb3IgPyBjb2xvcklzRGFyayhjb2xvcikgOiBmYWxzZTtcbiAgICAgIH0gZWxzZSBpZiAobmV4dFRoZW1lLmRhcmsgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBuZXh0VGhlbWUuZGFyayA9IGJhY2tncm91bmQgJiYgY29sb3JJc0RhcmsoYmFja2dyb3VuZCkgfHwgZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRoZW1lOiBuZXh0VGhlbWUsXG4gICAgICAgIHRoZW1lUHJvcDogdGhlbWUsXG4gICAgICAgIHRoZW1lTW9kZVByb3A6IHRoZW1lTW9kZVxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICB2YXIgX3Byb3RvID0gR3JvbW1ldC5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMub25SZXNpemUpO1xuICAgIHRoaXMub25SZXNpemUoKTtcbiAgfTtcblxuICBfcHJvdG8uY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5vblJlc2l6ZSk7XG4gIH07XG5cbiAgX3Byb3RvLmRldmljZVJlc3BvbnNpdmUgPSBmdW5jdGlvbiBkZXZpY2VSZXNwb25zaXZlKCkge1xuICAgIHZhciB1c2VyQWdlbnQgPSB0aGlzLnByb3BzLnVzZXJBZ2VudDtcbiAgICB2YXIgdGhlbWUgPSB0aGlzLnN0YXRlLnRoZW1lO1xuICAgIC8qXG4gICAgICogUmVnZXhlcyBwcm92aWRlZCBmb3IgbW9iaWxlIGFuZCB0YWJsZXQgZGV0ZWN0aW9uIGFyZSBtZWFudCB0byByZXBsYWNlXG4gICAgICogYSBmdWxsLWZlYXR1cmVkIHNwZWNpZmljIGxpYnJhcnkgZHVlIHRvIGNvbnRyaWJ1dGluZyBhIGNvbnNpZGVyYWJsZSBzaXplXG4gICAgICogaW50byB0aGUgYnVuZGxlLlxuICAgICAqXG4gICAgICogVXNlciBhZ2VudHMgZm91bmQgaHR0cHM6Ly9kZXZpY2VhdGxhcy5jb20vYmxvZy9saXN0LW9mLXVzZXItYWdlbnQtc3RyaW5nc1xuICAgICAqL1xuXG4gICAgaWYgKHVzZXJBZ2VudCkge1xuICAgICAgaWYgKC8odGFibGV0fGlwYWR8cGxheWJvb2t8c2lsayl8KGFuZHJvaWQoPyEuKm1vYmlsZSkpL2kudGVzdCh1c2VyQWdlbnQpKSB7XG4gICAgICAgIHJldHVybiBnZXREZXZpY2VCcmVha3BvaW50KCd0YWJsZXQnLCB0aGVtZSk7XG4gICAgICB9XG5cbiAgICAgIGlmICgvTW9iaWxlfGlQaG9uZXxBbmRyb2lkLy50ZXN0KHVzZXJBZ2VudCkpIHtcbiAgICAgICAgcmV0dXJuIGdldERldmljZUJyZWFrcG9pbnQoJ3Bob25lJywgdGhlbWUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZ2V0RGV2aWNlQnJlYWtwb2ludCgnY29tcHV0ZXInLCB0aGVtZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfTtcblxuICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfdGhpcyRwcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgIGNoaWxkcmVuID0gX3RoaXMkcHJvcHMuY2hpbGRyZW4sXG4gICAgICAgIGZ1bGwgPSBfdGhpcyRwcm9wcy5mdWxsLFxuICAgICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3RoaXMkcHJvcHMsIFtcImNoaWxkcmVuXCIsIFwiZnVsbFwiXSk7XG5cbiAgICBkZWxldGUgcmVzdC50aGVtZTtcbiAgICB2YXIgX3RoaXMkc3RhdGUyID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgdGhlbWUgPSBfdGhpcyRzdGF0ZTIudGhlbWUsXG4gICAgICAgIHN0YXRlUmVzcG9uc2l2ZSA9IF90aGlzJHN0YXRlMi5yZXNwb25zaXZlOyAvLyBWYWx1ZSBmcm9tIHN0YXRlIHNob3VsZCBiZSBjb3JyZWN0IG9uY2Ugd2UgcmVzaXplXG4gICAgLy8gT24gZmlyc3QgcmVuZGVyIHdlIHRyeSB0byBndWVzcyBvdGhlcndpc2Ugc2V0IHRoZSBkZWZhdWx0IGFzIGEgdGFibGV0XG5cbiAgICB2YXIgcmVzcG9uc2l2ZSA9IHN0YXRlUmVzcG9uc2l2ZSB8fCB0aGlzLmRldmljZVJlc3BvbnNpdmUoKSB8fCB0aGVtZS5nbG9iYWwuZGV2aWNlQnJlYWtwb2ludHMudGFibGV0O1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFRoZW1lQ29udGV4dC5Qcm92aWRlciwge1xuICAgICAgdmFsdWU6IHRoZW1lXG4gICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChSZXNwb25zaXZlQ29udGV4dC5Qcm92aWRlciwge1xuICAgICAgdmFsdWU6IHJlc3BvbnNpdmVcbiAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZEdyb21tZXQsIF9leHRlbmRzKHtcbiAgICAgIGZ1bGw6IGZ1bGxcbiAgICB9LCByZXN0KSwgY2hpbGRyZW4pLCBmdWxsICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRnVsbEdsb2JhbFN0eWxlLCBudWxsKSkpO1xuICB9O1xuXG4gIHJldHVybiBHcm9tbWV0O1xufShDb21wb25lbnQpO1xuXG5fZGVmaW5lUHJvcGVydHkoR3JvbW1ldCwgXCJkaXNwbGF5TmFtZVwiLCAnR3JvbW1ldCcpO1xuXG52YXIgR3JvbW1ldERvYztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGdsb2JhbC1yZXF1aXJlXG4gIEdyb21tZXREb2MgPSByZXF1aXJlKCcuL2RvYycpLmRvYyhHcm9tbWV0KTtcbn1cblxudmFyIEdyb21tZXRXcmFwcGVyID0gR3JvbW1ldERvYyB8fCBHcm9tbWV0O1xuZXhwb3J0IHsgR3JvbW1ldFdyYXBwZXIgYXMgR3JvbW1ldCB9OyIsImltcG9ydCBzdHlsZWQsIHsgY3NzIH0gZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgYmFzZVN0eWxlIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuaW1wb3J0IHsgZGVmYXVsdFByb3BzIH0gZnJvbSAnLi4vLi4vZGVmYXVsdC1wcm9wcyc7XG52YXIgZnVsbFN0eWxlID0gY3NzKFtcIndpZHRoOjEwMHZ3O2hlaWdodDoxMDB2aDtvdmVyZmxvdzphdXRvO1wiXSk7XG52YXIgU3R5bGVkR3JvbW1ldCA9IHN0eWxlZC5kaXYud2l0aENvbmZpZyh7XG4gIGRpc3BsYXlOYW1lOiBcIlN0eWxlZEdyb21tZXRcIixcbiAgY29tcG9uZW50SWQ6IFwic2MtMTlsa2t6Ny0wXCJcbn0pKFtcIlwiLCBcIiBcIiwgXCIgXCIsIFwiIFwiLCBcIiBcIiwgXCJcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gIXByb3BzLnBsYWluICYmIGJhc2VTdHlsZTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuZnVsbCAmJiBmdWxsU3R5bGU7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLmdsb2JhbC5mb250LmZhY2U7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLmdyb21tZXQuZXh0ZW5kO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5jc3NWYXJzICYmIE9iamVjdC5rZXlzKHByb3BzLnRoZW1lLmdsb2JhbC5jb2xvcnMpLmZpbHRlcihmdW5jdGlvbiAoaykge1xuICAgIHJldHVybiB0eXBlb2YgcHJvcHMudGhlbWUuZ2xvYmFsLmNvbG9yc1trXSA9PT0gJ3N0cmluZyc7XG4gIH0pLm1hcChmdW5jdGlvbiAoaykge1xuICAgIHJldHVybiBcIi0tXCIgKyBrICsgXCI6IFwiICsgcHJvcHMudGhlbWUuZ2xvYmFsLmNvbG9yc1trXSArIFwiO1wiO1xuICB9KS5qb2luKCdcXG4nKTtcbn0pO1xuU3R5bGVkR3JvbW1ldC5kZWZhdWx0UHJvcHMgPSB7fTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihTdHlsZWRHcm9tbWV0LmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbmV4cG9ydCB7IFN0eWxlZEdyb21tZXQgfTsiLCJpbXBvcnQgeyBkZXNjcmliZSwgUHJvcFR5cGVzIH0gZnJvbSAncmVhY3QtZGVzYyc7XG5pbXBvcnQgeyBnZXRBdmFpbGFibGVBdEJhZGdlIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuZXhwb3J0IHZhciBkb2MgPSBmdW5jdGlvbiBkb2MoR3JvbW1ldCkge1xuICB2YXIgRG9jdW1lbnRlZEdyb21tZXQgPSBkZXNjcmliZShHcm9tbWV0KS5hdmFpbGFibGVBdChnZXRBdmFpbGFibGVBdEJhZGdlKCdHcm9tbWV0JykpLmRlc2NyaXB0aW9uKCdUaGUgdG9wIGxldmVsIEdyb21tZXQgY29udGFpbmVyLicpLnVzYWdlKFwiaW1wb3J0IHsgR3JvbW1ldCB9IGZyb20gJ2dyb21tZXQnO1xcbjxHcm9tbWV0Pi4uLjwvR3JvbW1ldD5cIikuaW50cmluc2ljRWxlbWVudCgnZGl2Jyk7XG4gIERvY3VtZW50ZWRHcm9tbWV0LnByb3BUeXBlcyA9IHtcbiAgICBmdWxsOiBQcm9wVHlwZXMuYm9vbC5kZXNjcmlwdGlvbignV2hldGhlciB0byB0YWtlIHRoZSB3aG9sZSB2aWV3cG9ydC4nKS5kZWZhdWx0VmFsdWUoZmFsc2UpLFxuICAgIHBsYWluOiBQcm9wVHlwZXMuYm9vbC5kZXNjcmlwdGlvbihcIldoZXRoZXIgb3Igbm90IEdyb21tZXQgc2hvdWxkIGFwcGx5IGEgZ2xvYmFsIGZvbnQtZmFtaWx5LCBmb250LXNpemUsIFxcbiAgICAgICAgYW5kIGxpbmUtaGVpZ2h0LlwiKS5kZWZhdWx0VmFsdWUoZmFsc2UpLFxuICAgIGNzc1ZhcnM6IFByb3BUeXBlcy5ib29sLmRlc2NyaXB0aW9uKCdXaGV0aGVyIHRvIGV4cG9zZSB0aGUgY3NzIHZhcmlhYmxlcy4nKS5kZWZhdWx0VmFsdWUoZmFsc2UpLFxuICAgIHRoZW1lOiBQcm9wVHlwZXMub2JqZWN0LmRlc2NyaXB0aW9uKCdDdXN0b20gc3R5bGVzIGZvciBHcm9tbWV0IGFwcCBjb21wb25lbnQuJyksXG4gICAgdGhlbWVNb2RlOiBQcm9wVHlwZXMub25lT2YoWydkYXJrJywgJ2xpZ2h0J10pLmRlc2NyaXB0aW9uKFwiRGFyayB2cy4gbGlnaHQgdGhlbWUgdmFyaWF0aW9uLiBEZWZhdWx0IGlzIHVuc3BlY2lmaWVkIGFuZCBsZWZ0IHRvXFxuICAgICAgdGhlbWUuXCIpLFxuICAgIHVzZXJBZ2VudDogUHJvcFR5cGVzLnN0cmluZy5kZXNjcmlwdGlvbihcIlVzZXIgYWdlbnQgdXNlZCB0byBkZXRlY3QgdGhlIGRldmljZSB3aWR0aCBmb3Igc2V0dGluZyB0aGUgaW5pdGlhbCBcXG4gICAgICBicmVha3BvaW50LlwiKVxuICB9O1xuICByZXR1cm4gRG9jdW1lbnRlZEdyb21tZXQ7XG59O1xuZXhwb3J0IHZhciB0aGVtZURvYyA9IHtcbiAgJ2dyb21tZXQuZXh0ZW5kJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnQW55IGFkZGl0aW9uYWwgc3R5bGUgZm9yIEdyb21tZXQuJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgKHByb3BzKSA9PiB7fScsXG4gICAgZGVmYXVsdFZhbHVlOiB1bmRlZmluZWRcbiAgfSxcbiAgJ2dsb2JhbC5mb250LmZhY2UnOiB7XG4gICAgZGVzY3JpcHRpb246ICdDdXN0b20gZm9udCBmYWNlIGRlY2xhcmF0aW9uJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgKHByb3BzKSA9PiB7fScsXG4gICAgZGVmYXVsdFZhbHVlOiB1bmRlZmluZWRcbiAgfVxufTsiLCJleHBvcnQgeyBHcm9tbWV0IH0gZnJvbSAnLi9Hcm9tbWV0JzsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgQm94IH0gZnJvbSAnLi4vQm94JztcblxudmFyIEhlYWRlciA9IGZ1bmN0aW9uIEhlYWRlcihfcmVmKSB7XG4gIHZhciByZXN0ID0gX2V4dGVuZHMoe30sIF9yZWYpO1xuXG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwgX2V4dGVuZHMoe1xuICAgIGFsaWduOiBcImNlbnRlclwiLFxuICAgIGFzOiBcImhlYWRlclwiLFxuICAgIGRpcmVjdGlvbjogXCJyb3dcIixcbiAgICBmbGV4OiBmYWxzZSxcbiAgICBqdXN0aWZ5OiBcImJldHdlZW5cIixcbiAgICBnYXA6IFwibWVkaXVtXCJcbiAgfSwgcmVzdCkpO1xufTtcblxudmFyIEhlYWRlckRvYztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGdsb2JhbC1yZXF1aXJlXG4gIEhlYWRlckRvYyA9IHJlcXVpcmUoJy4vZG9jJykuZG9jKEhlYWRlcik7XG59XG5cbnZhciBIZWFkZXJXcmFwcGVyID0gSGVhZGVyRG9jIHx8IEhlYWRlcjtcbmV4cG9ydCB7IEhlYWRlcldyYXBwZXIgYXMgSGVhZGVyIH07IiwiaW1wb3J0IHsgZGVzY3JpYmUgfSBmcm9tICdyZWFjdC1kZXNjJztcbmltcG9ydCB7IGdldEF2YWlsYWJsZUF0QmFkZ2UgfSBmcm9tICcuLi8uLi91dGlscyc7XG5leHBvcnQgdmFyIGRvYyA9IGZ1bmN0aW9uIGRvYyhIZWFkZXIpIHtcbiAgdmFyIERvY3VtZW50ZWRIZWFkZXIgPSBkZXNjcmliZShIZWFkZXIpLmF2YWlsYWJsZUF0KGdldEF2YWlsYWJsZUF0QmFkZ2UoJ0hlYWRlcicpKS5kZXNjcmlwdGlvbignSXMgYSBCb3ggY29udGFpbmVyIGZvciBpbnRyb2R1Y3RvcnkgY29udGVudCcpLnVzYWdlKFwiaW1wb3J0IHsgSGVhZGVyIH0gZnJvbSAnZ3JvbW1ldCc7XFxuPEhlYWRlciAvPlwiKTtcbiAgcmV0dXJuIERvY3VtZW50ZWRIZWFkZXI7XG59OyIsImV4cG9ydCB7IEhlYWRlciB9IGZyb20gJy4vSGVhZGVyJzsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBTdHlsZWRIZWFkaW5nIH0gZnJvbSAnLi9TdHlsZWRIZWFkaW5nJztcblxudmFyIEhlYWRpbmcgPSBmdW5jdGlvbiBIZWFkaW5nKHByb3BzKSB7XG4gIHZhciBjb2xvciA9IHByb3BzLmNvbG9yLFxuICAgICAgbGV2ZWwgPSBwcm9wcy5sZXZlbCxcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShwcm9wcywgW1wiY29sb3JcIiwgXCJsZXZlbFwiXSk7IC8vIGVuZm9yY2UgbGV2ZWwgdG8gYmUgYSBudW1iZXJcblxuXG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZEhlYWRpbmcsIF9leHRlbmRzKHtcbiAgICBhczogXCJoXCIgKyBsZXZlbCxcbiAgICBjb2xvclByb3A6IGNvbG9yLFxuICAgIGxldmVsOiArbGV2ZWxcbiAgfSwgcmVzdCkpO1xufTtcblxuSGVhZGluZy5kZWZhdWx0UHJvcHMgPSB7XG4gIGxldmVsOiAxLFxuICByZXNwb25zaXZlOiB0cnVlXG59O1xudmFyIEhlYWRpbmdEb2M7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBnbG9iYWwtcmVxdWlyZVxuICBIZWFkaW5nRG9jID0gcmVxdWlyZSgnLi9kb2MnKS5kb2MoSGVhZGluZyk7XG59XG5cbnZhciBIZWFkaW5nV3JhcHBlciA9IEhlYWRpbmdEb2MgfHwgSGVhZGluZztcbmV4cG9ydCB7IEhlYWRpbmdXcmFwcGVyIGFzIEhlYWRpbmcgfTsiLCJpbXBvcnQgc3R5bGVkLCB7IGNzcyB9IGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCB7IGJyZWFrcG9pbnRTdHlsZSwgZ2VuZXJpY1N0eWxlcywgbm9ybWFsaXplQ29sb3IgfSBmcm9tICcuLi8uLi91dGlscyc7XG5pbXBvcnQgeyBkZWZhdWx0UHJvcHMgfSBmcm9tICcuLi8uLi9kZWZhdWx0LXByb3BzJztcblxudmFyIHNpemVTdHlsZSA9IGZ1bmN0aW9uIHNpemVTdHlsZShwcm9wcykge1xuICAvLyBzaXplIGlzIGEgY29tYmluYXRpb24gb2YgdGhlIGxldmVsIGFuZCBzaXplIHByb3BlcnRpZXNcbiAgdmFyIHNpemUgPSBwcm9wcy5zaXplIHx8ICdtZWRpdW0nO1xuICB2YXIgaGVhZGluZ1RoZW1lID0gcHJvcHMudGhlbWUuaGVhZGluZztcbiAgdmFyIGxldmVsU3R5bGUgPSBoZWFkaW5nVGhlbWUubGV2ZWxbcHJvcHMubGV2ZWxdO1xuXG4gIGlmIChsZXZlbFN0eWxlKSB7XG4gICAgdmFyIGRhdGEgPSBsZXZlbFN0eWxlW3NpemVdO1xuICAgIHZhciBzdHlsZXMgPSBbY3NzKFtcImZvbnQtc2l6ZTpcIiwgXCI7bGluZS1oZWlnaHQ6XCIsIFwiO21heC13aWR0aDpcIiwgXCI7Zm9udC13ZWlnaHQ6XCIsIFwiO1wiXSwgZGF0YSA/IGRhdGEuc2l6ZSA6IHNpemUsIGRhdGEgPyBkYXRhLmhlaWdodCA6ICdub3JtYWwnLCBkYXRhID8gZGF0YS5tYXhXaWR0aCA6IGxldmVsU3R5bGUubWVkaXVtLm1heFdpZHRoLCBsZXZlbFN0eWxlLmZvbnQud2VpZ2h0IHx8IGhlYWRpbmdUaGVtZS53ZWlnaHQpXTtcblxuICAgIGlmIChwcm9wcy5yZXNwb25zaXZlICYmIGhlYWRpbmdUaGVtZS5yZXNwb25zaXZlQnJlYWtwb2ludCkge1xuICAgICAgdmFyIGJyZWFrcG9pbnQgPSBwcm9wcy50aGVtZS5nbG9iYWwuYnJlYWtwb2ludHNbaGVhZGluZ1RoZW1lLnJlc3BvbnNpdmVCcmVha3BvaW50XTtcblxuICAgICAgaWYgKGJyZWFrcG9pbnQpIHtcbiAgICAgICAgdmFyIHJlc3BvbnNpdmVEYXRhID0gaGVhZGluZ1RoZW1lLmxldmVsW01hdGgubWluKHByb3BzLmxldmVsICsgMSwgNCldW3NpemVdO1xuXG4gICAgICAgIGlmIChyZXNwb25zaXZlRGF0YSkge1xuICAgICAgICAgIHN0eWxlcy5wdXNoKGJyZWFrcG9pbnRTdHlsZShicmVha3BvaW50LCBcIlxcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogXCIgKyByZXNwb25zaXZlRGF0YS5zaXplICsgXCI7XFxuICAgICAgICAgICAgbGluZS1oZWlnaHQ6IFwiICsgcmVzcG9uc2l2ZURhdGEuaGVpZ2h0ICsgXCI7XFxuICAgICAgICAgICAgbWF4LXdpZHRoOiBcIiArIHJlc3BvbnNpdmVEYXRhLm1heFdpZHRoICsgXCI7XFxuICAgICAgICAgIFwiKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc3R5bGVzO1xuICB9XG5cbiAgY29uc29sZS53YXJuKFwiSGVhZGluZyBsZXZlbCBcIiArIHByb3BzLmxldmVsICsgXCIgaXMgbm90IGRlZmluZWQgaW4geW91ciB0aGVtZS5cIik7XG4gIHJldHVybiAnJztcbn07XG5cbnZhciBmb250RmFtaWx5ID0gZnVuY3Rpb24gZm9udEZhbWlseShwcm9wcykge1xuICB2YXIgZm9udCA9IHByb3BzLnRoZW1lLmhlYWRpbmcubGV2ZWxbcHJvcHMubGV2ZWxdLmZvbnQ7XG5cbiAgaWYgKGZvbnQgJiYgZm9udC5mYW1pbHkpIHtcbiAgICByZXR1cm4gY3NzKFtcImZvbnQtZmFtaWx5OlwiLCBcIjtcIl0sIGZvbnQuZmFtaWx5KTtcbiAgfVxuXG4gIHJldHVybiBwcm9wcy50aGVtZS5oZWFkaW5nLmZvbnQgPyBjc3MoW1wiZm9udC1mYW1pbHk6XCIsIFwiO1wiXSwgcHJvcHMudGhlbWUuaGVhZGluZy5mb250LmZhbWlseSkgOiAnJztcbn07XG5cbnZhciBURVhUX0FMSUdOX01BUCA9IHtcbiAgY2VudGVyOiAnY2VudGVyJyxcbiAgZW5kOiAncmlnaHQnLFxuICBzdGFydDogJ2xlZnQnXG59O1xudmFyIHRleHRBbGlnblN0eWxlID0gY3NzKFtcInRleHQtYWxpZ246XCIsIFwiO1wiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBURVhUX0FMSUdOX01BUFtwcm9wcy50ZXh0QWxpZ25dO1xufSk7XG52YXIgdHJ1bmNhdGVTdHlsZSA9IFwiXFxuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xcblwiO1xudmFyIGNvbG9yU3R5bGUgPSBjc3MoW1wiY29sb3I6XCIsIFwiO1wiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBub3JtYWxpemVDb2xvcihwcm9wcy5jb2xvclByb3AsIHByb3BzLnRoZW1lKTtcbn0pO1xudmFyIFN0eWxlZEhlYWRpbmcgPSBzdHlsZWQuaDEud2l0aENvbmZpZyh7XG4gIGRpc3BsYXlOYW1lOiBcIlN0eWxlZEhlYWRpbmdcIixcbiAgY29tcG9uZW50SWQ6IFwic2MtMXJkaDRhdy0wXCJcbn0pKFtcIlwiLCBcIiBcIiwgXCIgXCIsIFwiIFwiLCBcIiBcIiwgXCIgXCIsIFwiIFwiLCBcIlwiXSwgZ2VuZXJpY1N0eWxlcywgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBmb250RmFtaWx5KHByb3BzKTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gc2l6ZVN0eWxlKHByb3BzKTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGV4dEFsaWduICYmIHRleHRBbGlnblN0eWxlO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50cnVuY2F0ZSAmJiB0cnVuY2F0ZVN0eWxlO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5jb2xvclByb3AgJiYgY29sb3JTdHlsZTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUuaGVhZGluZyAmJiBwcm9wcy50aGVtZS5oZWFkaW5nLmV4dGVuZDtcbn0pO1xuU3R5bGVkSGVhZGluZy5kZWZhdWx0UHJvcHMgPSB7fTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihTdHlsZWRIZWFkaW5nLmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbmV4cG9ydCB7IFN0eWxlZEhlYWRpbmcgfTsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5pbXBvcnQgeyBkZXNjcmliZSwgUHJvcFR5cGVzIH0gZnJvbSAncmVhY3QtZGVzYyc7XG5pbXBvcnQgeyBjb2xvclByb3BUeXBlLCBnZW5lcmljUHJvcHMsIGdldEF2YWlsYWJsZUF0QmFkZ2UsIHRoZW1lRG9jVXRpbHMgfSBmcm9tICcuLi8uLi91dGlscyc7XG5leHBvcnQgdmFyIGRvYyA9IGZ1bmN0aW9uIGRvYyhIZWFkaW5nKSB7XG4gIHZhciBEb2N1bWVudGVkSGVhZGluZyA9IGRlc2NyaWJlKEhlYWRpbmcpLmF2YWlsYWJsZUF0KGdldEF2YWlsYWJsZUF0QmFkZ2UoJ0hlYWRpbmcnKSkuZGVzY3JpcHRpb24oJ0hlYWRpbmcgdGV4dCBzdHJ1Y3R1cmVkIGluIGxldmVscy4nKS51c2FnZShcImltcG9ydCB7IEhlYWRpbmcgfSBmcm9tICdncm9tbWV0JztcXG48SGVhZGluZyAvPlwiKS5pbnRyaW5zaWNFbGVtZW50KFsnaDEnLCAnaDInLCAnaDMnLCAnaDQnXSk7XG4gIERvY3VtZW50ZWRIZWFkaW5nLnByb3BUeXBlcyA9IF9leHRlbmRzKHt9LCBnZW5lcmljUHJvcHMsIHtcbiAgICBjb2xvcjogY29sb3JQcm9wVHlwZS5kZXNjcmlwdGlvbignQSBjb2xvciBpZGVudGlmaWVyIHRvIHVzZSBmb3IgdGhlIHRleHQgY29sb3IuJyksXG4gICAgbGV2ZWw6IFByb3BUeXBlcy5vbmVPZihbMSwgMiwgMywgNCwgNSwgNiwgJzEnLCAnMicsICczJywgJzQnLCAnNScsICc2J10pLmRlc2NyaXB0aW9uKFwiVGhlIGhlYWRpbmcgbGV2ZWwuIEl0IGNvcnJlc3BvbmRzIHRvIHRoZSBudW1iZXIgYWZ0ZXIgdGhlICdIJyBmb3JcXG50aGUgRE9NIHRhZy4gU2V0IHRoZSBsZXZlbCBmb3Igc2VtYW50aWMgYWNjdXJhY3kgYW5kIGFjY2Vzc2liaWxpdHkuXFxuVGhlIHNpemluZyBjYW4gYmUgZnVydGhlciBhZGp1c3RlZCB1c2luZyB0aGUgc2l6ZSBwcm9wZXJ0eS5cIikuZGVmYXVsdFZhbHVlKDEpLFxuICAgIHJlc3BvbnNpdmU6IFByb3BUeXBlcy5ib29sLmRlc2NyaXB0aW9uKFwiV2hldGhlciB0aGUgZm9udCBzaXplIHNob3VsZCBiZSBzY2FsZWQgZm9yXFxuICAgICAgbW9iaWxlIGVudmlyb25tZW50cy5cIikuZGVmYXVsdFZhbHVlKHRydWUpLFxuICAgIHNpemU6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbJ3NtYWxsJywgJ21lZGl1bScsICdsYXJnZScsICd4bGFyZ2UnXSksIFByb3BUeXBlcy5zdHJpbmddKS5kZXNjcmlwdGlvbihcIlRoZSBmb250IHNpemUgaXMgcHJpbWFyaWx5IGRyaXZlbiBieSB0aGUgY2hvc2VuIHRhZy4gQnV0LCBpdCBjYW5cXG5iZSBhZGp1c3RlZCB2aWEgdGhpcyBzaXplIHByb3BlcnR5LiBUaGUgdGFnIHNob3VsZCBiZSBzZXQgZm9yIHNlbWFudGljXFxuY29ycmVjdG5lc3MgYW5kIGFjY2Vzc2liaWxpdHkuIFRoaXMgc2l6ZSBwcm9wZXJ0eSBhbGxvd3MgZm9yIHN0eWxpc3RpY1xcbmFkanVzdG1lbnRzLlwiKS5kZWZhdWx0VmFsdWUoJ21lZGl1bScpLFxuICAgIHRleHRBbGlnbjogUHJvcFR5cGVzLm9uZU9mKFsnc3RhcnQnLCAnY2VudGVyJywgJ2VuZCddKS5kZXNjcmlwdGlvbignSG93IHRvIGFsaWduIHRoZSB0ZXh0IGluc2lkZSB0aGUgaGVhZGluZy4nKS5kZWZhdWx0VmFsdWUoJ3N0YXJ0JyksXG4gICAgdHJ1bmNhdGU6IFByb3BUeXBlcy5ib29sLmRlc2NyaXB0aW9uKFwiUmVzdHJpY3QgdGhlIHRleHQgdG8gYSBzaW5nbGUgbGluZSBhbmQgdHJ1bmNhdGUgd2l0aCBlbGxpcHNpcyBpZiBpdFxcbmlzIHRvbyBsb25nIHRvIGFsbCBmaXQuXCIpLmRlZmF1bHRWYWx1ZShmYWxzZSlcbiAgfSk7XG4gIHJldHVybiBEb2N1bWVudGVkSGVhZGluZztcbn07XG5leHBvcnQgdmFyIHRoZW1lRG9jID0gX2V4dGVuZHMoe30sIHRoZW1lRG9jVXRpbHMuYnJlYWtwb2ludFN0eWxlKCdUaGUgcG9zc2libGUgYnJlYWtwb2ludHMgdGhhdCBjb3VsZCBhZmZlY3QgZm9udC1zaXplIGFuZCBtYXgtd2lkdGgnKSwge30sIHRoZW1lRG9jVXRpbHMuZWRnZVN0eWxlKCdUaGUgcG9zc2libGUgc2l6ZXMgZm9yIG1hcmdpbi4nKSwge1xuICAnaGVhZGluZy5leHRlbmQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdBbnkgYWRkaXRpb25hbCBzdHlsZSBmb3IgSGVhZGluZy4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCAocHJvcHMpID0+IHt9JyxcbiAgICBkZWZhdWx0VmFsdWU6IHVuZGVmaW5lZFxuICB9LFxuICAnaGVhZGluZy5sZXZlbCc6IHtcbiAgICBkZXNjcmlwdGlvbjogXCJUaGUgbGV2ZWwgdGhhdCBpbXBhY3RzIGxpbmUtaGVpZ2h0LCBtYXgtd2lkdGgsIGZvbnQgc2l6ZSwgXFxud2VpZ2h0IGFuZCBmYW1pbHkgb2YgdGhlIEhlYWRpbmcuIEhlYWRpbmcgbGV2ZWwgaXMgYXV0b21hdGljYWxseSBhZGp1c3RlZCBhdCBcXG5kaWZmZXJlbnQgc2NyZWVuIHNpemVzLiBUaGVzZSBzY3JlZW4gc2l6ZXMgYXJlIGRlcml2ZWQgZnJvbSBicmVha3BvaW50cy5cIixcbiAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICBkZWZhdWx0VmFsdWU6IFwiXFxuICAgICAgMToge1xcbiAgICAgICAgbWVkaXVtOiB7XFxuICAgICAgICAgIHNpemU6IDM0cHgsXFxuICAgICAgICAgIGhlaWdodDogNDBweCxcXG4gICAgICAgICAgd2lkdGg6IDgyNnB4LFxcbiAgICAgICAgfSxcXG4gICAgICB9LFxcbiAgICAgIHdlaWdodDogNjAwLFxcbiAgICAgIGZvbnQ6XFxuICAgICAgICB7XFxuICAgICAgICAgIGZhbWlseTogdW5kZWZpbmVkLFxcbiAgICAgICAgfVwiXG4gIH0sXG4gICdoZWFkaW5nLndlaWdodCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ0RlZmF1bHQgaGVhZGluZyB3ZWlnaHQgdXNlZCB1bmxlc3MgYSBwZXIgbGV2ZWwgaGVhZGluZyBpcyBkZWZpbmVkLicsXG4gICAgdHlwZTogJ251bWJlcicsXG4gICAgZGVmYXVsdFZhbHVlOiA2MDBcbiAgfSxcbiAgJ2hlYWRpbmcuZm9udCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ0RlZmF1bHQgaGVhZGluZyBmb250IHVzZWQgdW5sZXNzIGEgcGVyIGxldmVsIGhlYWRpbmcgaXMgZGVmaW5lZC4nLFxuICAgIHR5cGU6ICdvYmplY3QnLFxuICAgIGRlZmF1bHRWYWx1ZTogdW5kZWZpbmVkXG4gIH0sXG4gICdoZWFkaW5nLnJlc3BvbnNpdmVCcmVha3BvaW50Jzoge1xuICAgIGRlc2NyaXB0aW9uOiBcIlRoZSBicmVha3BvaW50IHRvIHRyaWdnZXIgY2hhbmdlcyBpbiB0aGUgSGVhZGluZyBsYXlvdXQuIFxcblRoZSBhY3R1YWwgdmFsdWVzIHdpbGwgYmUgZGVyaXZlZCBmcm9tIGdsb2JhbC5icmVha3BvaW50cy5cIixcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICdzbWFsbCdcbiAgfVxufSk7IiwiZXhwb3J0IHsgSGVhZGluZyB9IGZyb20gJy4vSGVhZGluZyc7IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjb21wb3NlIH0gZnJvbSAncmVjb21wb3NlJztcbmltcG9ydCB7IHdpdGhGb3J3YXJkUmVmIH0gZnJvbSAnLi4vaG9jcyc7XG5pbXBvcnQgeyBTdHlsZWRJbWFnZSB9IGZyb20gJy4vU3R5bGVkSW1hZ2UnO1xuXG52YXIgSW1hZ2UgPSBmdW5jdGlvbiBJbWFnZShfcmVmKSB7XG4gIHZhciBmYWxsYmFjayA9IF9yZWYuZmFsbGJhY2ssXG4gICAgICBmb3J3YXJkUmVmID0gX3JlZi5mb3J3YXJkUmVmLFxuICAgICAgb25FcnJvciA9IF9yZWYub25FcnJvcixcbiAgICAgIG9wYWNpdHkgPSBfcmVmLm9wYWNpdHksXG4gICAgICBmaWxsID0gX3JlZi5maWxsLFxuICAgICAgc3JjID0gX3JlZi5zcmMsXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZiwgW1wiZmFsbGJhY2tcIiwgXCJmb3J3YXJkUmVmXCIsIFwib25FcnJvclwiLCBcIm9wYWNpdHlcIiwgXCJmaWxsXCIsIFwic3JjXCJdKTtcblxuICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUoZmFsc2UpLFxuICAgICAgaW1hZ2VNaXNzaW5nID0gX3VzZVN0YXRlWzBdLFxuICAgICAgc2V0SW1hZ2VNaXNzaW5nID0gX3VzZVN0YXRlWzFdO1xuXG4gIHZhciBoYW5kbGVFcnJvciA9IGZ1bmN0aW9uIGhhbmRsZUVycm9yKGV2ZW50KSB7XG4gICAgaWYgKG9uRXJyb3IpIHtcbiAgICAgIG9uRXJyb3IoZXZlbnQpO1xuICAgIH1cblxuICAgIHNldEltYWdlTWlzc2luZyh0cnVlKTtcbiAgfTtcblxuICB2YXIgZXh0cmFQcm9wcyA9IHtcbiAgICBvbkVycm9yOiAob25FcnJvciB8fCBmYWxsYmFjaykgJiYgaGFuZGxlRXJyb3JcbiAgfTtcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkSW1hZ2UsIF9leHRlbmRzKHt9LCByZXN0LCBleHRyYVByb3BzLCB7XG4gICAgcmVmOiBmb3J3YXJkUmVmLFxuICAgIG9wYWNpdHlQcm9wOiBvcGFjaXR5LFxuICAgIGZpbGxQcm9wOiBmaWxsLFxuICAgIHNyYzogIWltYWdlTWlzc2luZyA/IHNyYyA6IGZhbGxiYWNrXG4gIH0pKTtcbn07XG5cbnZhciBJbWFnZURvYztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgSW1hZ2VEb2MgPSByZXF1aXJlKCcuL2RvYycpLmRvYyhJbWFnZSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZ2xvYmFsLXJlcXVpcmVcbn1cblxudmFyIEltYWdlV3JhcHBlciA9IGNvbXBvc2Uod2l0aEZvcndhcmRSZWYpKEltYWdlRG9jIHx8IEltYWdlKTtcbmV4cG9ydCB7IEltYWdlV3JhcHBlciBhcyBJbWFnZSB9OyIsImltcG9ydCBzdHlsZWQsIHsgY3NzIH0gZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgZ2VuZXJpY1N0eWxlcyB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmltcG9ydCB7IGRlZmF1bHRQcm9wcyB9IGZyb20gJy4uLy4uL2RlZmF1bHQtcHJvcHMnO1xudmFyIEZJVF9NQVAgPSB7XG4gIGNvdmVyOiAnY292ZXInLFxuICBjb250YWluOiAnY29udGFpbidcbn07XG52YXIgZml0U3R5bGUgPSBjc3MoW1wiZmxleDoxIDE7b3ZlcmZsb3c6aGlkZGVuO29iamVjdC1maXQ6XCIsIFwiO1wiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBGSVRfTUFQW3Byb3BzLmZpdF07XG59KTtcbnZhciBmaWxsU3R5bGUgPSBjc3MoW1wid2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtcIl0pO1xudmFyIFN0eWxlZEltYWdlID0gc3R5bGVkLmltZy53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiU3R5bGVkSW1hZ2VcIixcbiAgY29tcG9uZW50SWQ6IFwiZXk0eng5LTBcIlxufSkoW1wiXCIsIFwiIFwiLCBcIiBcIiwgXCIgXCIsIFwiIFwiLCBcIlwiXSwgZ2VuZXJpY1N0eWxlcywgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5maXQgJiYgZml0U3R5bGU7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLmZpbGxQcm9wICYmIGZpbGxTdHlsZTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUuaW1hZ2UgJiYgcHJvcHMudGhlbWUuaW1hZ2UuZXh0ZW5kO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5vcGFjaXR5UHJvcCAmJiBcIm9wYWNpdHk6IFwiICsgKHByb3BzLm9wYWNpdHlQcm9wID09PSB0cnVlID8gcHJvcHMudGhlbWUuZ2xvYmFsLm9wYWNpdHkubWVkaXVtIDogcHJvcHMudGhlbWUuZ2xvYmFsLm9wYWNpdHlbcHJvcHMub3BhY2l0eVByb3BdIHx8IHByb3BzLm9wYWNpdHlQcm9wKSArIFwiO1xcbiAgXCI7XG59KTtcblN0eWxlZEltYWdlLmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKFN0eWxlZEltYWdlLmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbmV4cG9ydCB7IFN0eWxlZEltYWdlIH07IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuaW1wb3J0IHsgZGVzY3JpYmUsIFByb3BUeXBlcyB9IGZyb20gJ3JlYWN0LWRlc2MnO1xuaW1wb3J0IHsgZ2VuZXJpY1Byb3BzLCBnZXRBdmFpbGFibGVBdEJhZGdlIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuZXhwb3J0IHZhciBkb2MgPSBmdW5jdGlvbiBkb2MoSW1hZ2UpIHtcbiAgdmFyIERvY3VtZW50ZWRJbWFnZSA9IGRlc2NyaWJlKEltYWdlKS5hdmFpbGFibGVBdChnZXRBdmFpbGFibGVBdEJhZGdlKCdJbWFnZScpKS5kZXNjcmlwdGlvbignQW4gaW1hZ2UuJykudXNhZ2UoXCJpbXBvcnQgeyBJbWFnZSB9IGZyb20gJ2dyb21tZXQnO1xcbjxJbWFnZS8+XCIpLmludHJpbnNpY0VsZW1lbnQoJ2ltZycpO1xuICBEb2N1bWVudGVkSW1hZ2UucHJvcFR5cGVzID0gX2V4dGVuZHMoe30sIGdlbmVyaWNQcm9wcywge1xuICAgIGZpdDogUHJvcFR5cGVzLm9uZU9mKFsnY292ZXInLCAnY29udGFpbiddKS5kZXNjcmlwdGlvbignSG93IHRoZSBpbWFnZSBmaWxscyBpdHMgY29udGFpbmVyLicpLFxuICAgIGZhbGxiYWNrOiBQcm9wVHlwZXMuc3RyaW5nLmRlc2NyaXB0aW9uKFwiU3BlY2lmaWVzIHRoZSBVUkwgb2YgdGhlIGZhbGxiYWNrIGltYWdlIHVzZWQgd2hlbiBcXG4gICAgICBzcmMgaXMgZmFpbGluZyB0byBsb2FkXCIpLFxuICAgIG9wYWNpdHk6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbJ3dlYWsnLCAnbWVkaXVtJywgJ3N0cm9uZyddKSwgUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLmJvb2xdKS5kZXNjcmlwdGlvbignVHJhbnNwYXJlbmN5IG9mIHRoZSBpbWFnZS4nKSxcbiAgICBmaWxsOiBQcm9wVHlwZXMuYm9vbC5kZXNjcmlwdGlvbignV2hldGhlciB0aGUgaW1hZ2UgZXhwYW5kcyB0byBmaWxsIGFsbCBvZiB0aGUgYXZhaWxhYmxlIHdpZHRoIGFuZCBoZWlnaHQnKVxuICB9KTtcbiAgcmV0dXJuIERvY3VtZW50ZWRJbWFnZTtcbn07XG5leHBvcnQgdmFyIHRoZW1lRG9jID0ge1xuICAnZ2xvYmFsLm9wYWNpdHkubWVkaXVtJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIHZhbHVlIHVzZWQgd2hlbiBvcGFjaXR5IGlzIHNldCB0byB0cnVlLicsXG4gICAgdHlwZTogJ251bWJlcicsXG4gICAgZGVmYXVsdFZhbHVlOiAnMC40J1xuICB9LFxuICAnaW1hZ2UuZXh0ZW5kJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnQW55IGFkZGl0aW9uYWwgc3R5bGUgZm9yIHRoZSBJbWFnZS4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCAocHJvcHMpID0+IHt9JyxcbiAgICBkZWZhdWx0VmFsdWU6IHVuZGVmaW5lZFxuICB9XG59OyIsImV4cG9ydCB7IEltYWdlIH0gZnJvbSAnLi9JbWFnZSc7IiwiZnVuY3Rpb24gX2luaGVyaXRzTG9vc2Uoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzLnByb3RvdHlwZSk7IHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzOyBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qIGVzbGludC1kaXNhYmxlIHJlYWN0L25vLWZpbmQtZG9tLW5vZGUgKi9cbmltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQsIHVzZUVmZmVjdCwgdXNlTWVtbywgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGZpbmRET01Ob2RlIH0gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCB7IGZpbmRTY3JvbGxQYXJlbnRzIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuaW1wb3J0IHsgQm94IH0gZnJvbSAnLi4vQm94JzsgLy8gV3JhcHMgYW4gaXRlbSB0byBlbnN1cmUgd2UgY2FuIGdldCBhIHJlZiB0byBpdFxuXG52YXIgUmVmID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKFJlZiwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gUmVmKCkge1xuICAgIHJldHVybiBfQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBSZWYucHJvdG90eXBlO1xuXG4gIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIGNoaWxkcmVuID0gdGhpcy5wcm9wcy5jaGlsZHJlbjtcbiAgICByZXR1cm4gY2hpbGRyZW47XG4gIH07XG5cbiAgcmV0dXJuIFJlZjtcbn0oQ29tcG9uZW50KTtcblxudmFyIEluZmluaXRlU2Nyb2xsID0gZnVuY3Rpb24gSW5maW5pdGVTY3JvbGwoX3JlZikge1xuICB2YXIgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuLFxuICAgICAgX3JlZiRpdGVtcyA9IF9yZWYuaXRlbXMsXG4gICAgICBpdGVtcyA9IF9yZWYkaXRlbXMgPT09IHZvaWQgMCA/IFtdIDogX3JlZiRpdGVtcyxcbiAgICAgIG9uTW9yZSA9IF9yZWYub25Nb3JlLFxuICAgICAgcmVuZGVyTWFya2VyID0gX3JlZi5yZW5kZXJNYXJrZXIsXG4gICAgICByZXBsYWNlID0gX3JlZi5yZXBsYWNlLFxuICAgICAgc2hvdyA9IF9yZWYuc2hvdyxcbiAgICAgIF9yZWYkc3RlcCA9IF9yZWYuc3RlcCxcbiAgICAgIHN0ZXAgPSBfcmVmJHN0ZXAgPT09IHZvaWQgMCA/IDUwIDogX3JlZiRzdGVwO1xuICAvLyB0aGUgbGFzdCBwYWdlIHdlIGhhdmUgaXRlbXMgZm9yXG4gIHZhciBsYXN0UGFnZSA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBNYXRoLmNlaWwoaXRlbXMubGVuZ3RoIC8gc3RlcCk7XG4gIH0sIFtpdGVtcy5sZW5ndGgsIHN0ZXBdKTsgLy8gdGhlIGZpcnN0IHBhZ2Ugd2UgYXJlIGRpc3BsYXlpbmdcblxuICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUoMCksXG4gICAgICBiZWdpblBhZ2UgPSBfdXNlU3RhdGVbMF0sXG4gICAgICBzZXRCZWdpblBhZ2UgPSBfdXNlU3RhdGVbMV07IC8vIHRoZSBsYXN0IHBhZ2Ugd2UgYXJlIGRpc3BsYXlpbmdcblxuXG4gIHZhciBfdXNlU3RhdGUyID0gdXNlU3RhdGUoc2hvdyA/IE1hdGguZmxvb3IoKHNob3cgKyBzdGVwKSAvIHN0ZXApIC0gMSA6IDApLFxuICAgICAgZW5kUGFnZSA9IF91c2VTdGF0ZTJbMF0sXG4gICAgICBzZXRFbmRQYWdlID0gX3VzZVN0YXRlMlsxXTsgLy8gaG93IHRhbGwgd2UndmUgbWVhc3VyZWQgYSBwYWdlIHRvIGJlXG5cblxuICB2YXIgX3VzZVN0YXRlMyA9IHVzZVN0YXRlKCksXG4gICAgICBwYWdlSGVpZ2h0ID0gX3VzZVN0YXRlM1swXSxcbiAgICAgIHNldFBhZ2VIZWlnaHQgPSBfdXNlU3RhdGUzWzFdOyAvLyBob3cgbXVjaCBhcmVhIGEgcGFnZSByZXF1aXJlc1xuXG5cbiAgdmFyIF91c2VTdGF0ZTQgPSB1c2VTdGF0ZSgpLFxuICAgICAgcGFnZUFyZWEgPSBfdXNlU3RhdGU0WzBdLFxuICAgICAgc2V0UGFnZUFyZWEgPSBfdXNlU3RhdGU0WzFdOyAvLyB3aGV0aGVyIHRoZSBpdGVtcyBhcmUgbGFpZCBvdXQgaW4gYSBncmlkIGluc3RlYWQgb2YgbGluZWFybHlcblxuXG4gIHZhciBfdXNlU3RhdGU1ID0gdXNlU3RhdGUoKSxcbiAgICAgIG11bHRpQ29sdW1uID0gX3VzZVN0YXRlNVswXSxcbiAgICAgIHNldE11bHRpQ29sdW1uID0gX3VzZVN0YXRlNVsxXTsgLy8gd2hhdCB3ZSdyZSB3YWl0aW5nIGZvciBvbk1vcmUgdG8gZ2l2ZSB1c1xuXG5cbiAgdmFyIF91c2VTdGF0ZTYgPSB1c2VTdGF0ZSgwKSxcbiAgICAgIHBlbmRpbmdMZW5ndGggPSBfdXNlU3RhdGU2WzBdLFxuICAgICAgc2V0UGVuZGluZ0xlbmd0aCA9IF91c2VTdGF0ZTZbMV07XG5cbiAgdmFyIGJlbG93TWFya2VyUmVmID0gdXNlUmVmKCk7XG4gIHZhciBmaXJzdFBhZ2VJdGVtUmVmID0gdXNlUmVmKCk7XG4gIHZhciBsYXN0UGFnZUl0ZW1SZWYgPSB1c2VSZWYoKTtcbiAgdmFyIHNob3dSZWYgPSB1c2VSZWYoKTsgLy8gY2FsY3VsYXRpbmcgc3BhY2UgYmFzZWQgb24gd2hlcmUgdGhlIGZpcnN0IGFuZCBsYXN0IGl0ZW1zIGJlaW5nIGRpc3BsYXllZFxuICAvLyBhcmUgbG9jYXRlZFxuXG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGZpcnN0UGFnZUl0ZW1SZWYuY3VycmVudCAmJiBsYXN0UGFnZUl0ZW1SZWYuY3VycmVudCAmJiAhcGFnZUhlaWdodCkge1xuICAgICAgLyogZXNsaW50LWRpc2FibGUgcmVhY3Qvbm8tZmluZC1kb20tbm9kZSAqL1xuICAgICAgdmFyIGJlZ2luUmVjdCA9IGZpbmRET01Ob2RlKGZpcnN0UGFnZUl0ZW1SZWYuY3VycmVudCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICB2YXIgZW5kUmVjdCA9IGZpbmRET01Ob2RlKGxhc3RQYWdlSXRlbVJlZi5jdXJyZW50KS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIHZhciBuZXh0UGFnZUhlaWdodCA9IGVuZFJlY3QudG9wICsgZW5kUmVjdC5oZWlnaHQgLSBiZWdpblJlY3QudG9wOyAvLyBDaGVjayBpZiB0aGUgaXRlbXMgYXJlIGFycmFuZ2VkIGluIGEgc2luZ2xlIGNvbHVtbiBvciBub3QuXG5cbiAgICAgIHZhciBuZXh0TXVsdGlDb2x1bW4gPSBuZXh0UGFnZUhlaWdodCAvIHN0ZXAgPCBlbmRSZWN0LmhlaWdodDtcbiAgICAgIHZhciBuZXh0UGFnZUFyZWEgPSBlbmRSZWN0LmhlaWdodCAqIGVuZFJlY3Qud2lkdGggKiBzdGVwO1xuICAgICAgc2V0UGFnZUhlaWdodChuZXh0UGFnZUhlaWdodCk7XG4gICAgICBzZXRQYWdlQXJlYShuZXh0UGFnZUFyZWEpO1xuICAgICAgc2V0TXVsdGlDb2x1bW4obmV4dE11bHRpQ29sdW1uKTtcbiAgICB9XG4gIH0sIFtwYWdlSGVpZ2h0LCBzdGVwXSk7IC8vIHNjcm9sbCBoYW5kbGluZ1xuXG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNjcm9sbFBhcmVudHM7XG5cbiAgICB2YXIgb25TY3JvbGwgPSBmdW5jdGlvbiBvblNjcm9sbCgpIHtcbiAgICAgIHZhciBzY3JvbGxQYXJlbnQgPSBzY3JvbGxQYXJlbnRzWzBdOyAvLyBEZXRlcm1pbmUgdGhlIHdpbmRvdyBpbnRvIHRoZSBmaXJzdCBzY3JvbGwgcGFyZW50XG5cbiAgICAgIHZhciB0b3A7XG4gICAgICB2YXIgaGVpZ2h0O1xuICAgICAgdmFyIHdpZHRoO1xuXG4gICAgICBpZiAoc2Nyb2xsUGFyZW50ID09PSBkb2N1bWVudCkge1xuICAgICAgICB0b3AgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wIHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wO1xuICAgICAgICBoZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICAgIHdpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0b3AgPSBzY3JvbGxQYXJlbnQuc2Nyb2xsVG9wO1xuICAgICAgICB2YXIgcmVjdCA9IHNjcm9sbFBhcmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgaGVpZ2h0ID0gcmVjdC5oZWlnaHQ7XG4gICAgICAgIHdpZHRoID0gcmVjdC53aWR0aDtcbiAgICAgIH0gLy8gRmlndXJlIG91dCB3aGljaCBwYWdlcyB3ZSBzaG91bGQgbWFrZSB2aXNpYmxlIGJhc2VkIG9uIHRoZSBzY3JvbGxcbiAgICAgIC8vIHdpbmRvdy5cblxuXG4gICAgICB2YXIgb2Zmc2V0ID0gaGVpZ2h0IC8gNDtcbiAgICAgIHZhciBuZXh0QmVnaW5QYWdlID0gcmVwbGFjZSA/IE1hdGgubWluKGxhc3RQYWdlLCBNYXRoLm1heCgwLCBtdWx0aUNvbHVtbiA/IE1hdGguZmxvb3IoTWF0aC5tYXgoMCwgdG9wIC0gb2Zmc2V0KSAqIHdpZHRoIC8gcGFnZUFyZWEpIDogTWF0aC5mbG9vcihNYXRoLm1heCgwLCB0b3AgLSBvZmZzZXQpIC8gcGFnZUhlaWdodCkpKSA6IDA7XG4gICAgICB2YXIgbmV4dEVuZFBhZ2UgPSBNYXRoLm1pbihsYXN0UGFnZSwgTWF0aC5tYXgoIXJlcGxhY2UgJiYgZW5kUGFnZSB8fCAwLCBtdWx0aUNvbHVtbiA/IE1hdGguY2VpbCgodG9wICsgaGVpZ2h0ICsgb2Zmc2V0KSAqIHdpZHRoIC8gcGFnZUFyZWEpIDogTWF0aC5mbG9vcigodG9wICsgaGVpZ2h0ICsgb2Zmc2V0KSAvIHBhZ2VIZWlnaHQpKSk7XG4gICAgICBpZiAobmV4dEJlZ2luUGFnZSAhPT0gYmVnaW5QYWdlKSBzZXRCZWdpblBhZ2UobmV4dEJlZ2luUGFnZSk7XG4gICAgICBpZiAobmV4dEVuZFBhZ2UgIT09IGVuZFBhZ2UpIHNldEVuZFBhZ2UobmV4dEVuZFBhZ2UpO1xuICAgIH07XG5cbiAgICBpZiAocGFnZUhlaWdodCAmJiBiZWxvd01hcmtlclJlZi5jdXJyZW50KSB7XG4gICAgICBzY3JvbGxQYXJlbnRzID0gZmluZFNjcm9sbFBhcmVudHMoYmVsb3dNYXJrZXJSZWYuY3VycmVudCk7XG4gICAgICBzY3JvbGxQYXJlbnRzLmZvckVhY2goZnVuY3Rpb24gKHNjcm9sbFBhcmVudCkge1xuICAgICAgICByZXR1cm4gc2Nyb2xsUGFyZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIG9uU2Nyb2xsKTtcbiAgICAgIH0pO1xuICAgICAgb25TY3JvbGwoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHNjcm9sbFBhcmVudHMpIHtcbiAgICAgICAgc2Nyb2xsUGFyZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChzY3JvbGxQYXJlbnQpIHtcbiAgICAgICAgICByZXR1cm4gc2Nyb2xsUGFyZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIG9uU2Nyb2xsKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW2JlZ2luUGFnZSwgZW5kUGFnZSwgbGFzdFBhZ2UsIG11bHRpQ29sdW1uLCBwYWdlQXJlYSwgcGFnZUhlaWdodCwgcmVwbGFjZV0pOyAvLyBjaGVjayBpZiB3ZSBuZWVkIHRvIGFzayBmb3IgbW9yZVxuXG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKG9uTW9yZSAmJiBlbmRQYWdlID09PSBsYXN0UGFnZSAmJiBpdGVtcy5sZW5ndGggPj0gcGVuZGluZ0xlbmd0aCkge1xuICAgICAgLy8gcmVtZW1iZXIgd2UndmUgYXNrZWQgZm9yIG1vcmUsIHNvIHdlIGRvbid0IGtlZXAgYXNraW5nIGlmIGl0IHRha2VzXG4gICAgICAvLyBhIHdoaWxlXG4gICAgICBzZXRQZW5kaW5nTGVuZ3RoKGl0ZW1zLmxlbmd0aCArIDEpO1xuICAgICAgb25Nb3JlKCk7XG4gICAgfVxuICB9LCBbZW5kUGFnZSwgaXRlbXMubGVuZ3RoLCBsYXN0UGFnZSwgb25Nb3JlLCBwZW5kaW5nTGVuZ3RoLCBzdGVwXSk7IC8vIHNjcm9sbCB0byBhbnkgJ3Nob3cnXG5cbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAvLyByaWRlIG91dCBhbnkgYW5pbWF0aW9uIGRlbGF5cywgMTAwbXMgZW1waXJpY2FsbHkgbWVhc3VyZWRcbiAgICB2YXIgdGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChzaG93ICYmIHNob3dSZWYuY3VycmVudCkge1xuICAgICAgICBmaW5kRE9NTm9kZShzaG93UmVmLmN1cnJlbnQpLnNjcm9sbEludG9WaWV3KCk7XG4gICAgICB9XG4gICAgfSwgMTAwKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgfTtcbiAgfSwgW3Nob3ddKTtcbiAgdmFyIGZpcnN0SW5kZXggPSBiZWdpblBhZ2UgKiBzdGVwO1xuICB2YXIgbGFzdEluZGV4ID0gTWF0aC5taW4oKGVuZFBhZ2UgKyAxKSAqIHN0ZXAsIGl0ZW1zLmxlbmd0aCkgLSAxO1xuICB2YXIgcmVzdWx0ID0gW107XG5cbiAgaWYgKHJlcGxhY2UgJiYgcGFnZUhlaWdodCAmJiBmaXJzdEluZGV4KSB7XG4gICAgdmFyIG1hcmtlciA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoQm94LCB7XG4gICAgICBrZXk6IFwiYWJvdmVcIixcbiAgICAgIGZsZXg6IGZhbHNlLFxuICAgICAgaGVpZ2h0OiBiZWdpblBhZ2UgKiBwYWdlSGVpZ2h0ICsgXCJweFwiXG4gICAgfSk7XG5cbiAgICBpZiAocmVuZGVyTWFya2VyKSB7XG4gICAgICAvLyBuZWVkIHRvIGdpdmUgaXQgYSBrZXlcbiAgICAgIG1hcmtlciA9IFJlYWN0LmNsb25lRWxlbWVudChyZW5kZXJNYXJrZXIobWFya2VyKSwge1xuICAgICAgICBrZXk6ICdhYm92ZSdcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJlc3VsdC5wdXNoKG1hcmtlcik7XG4gIH1cblxuICBpdGVtcy5zbGljZShmaXJzdEluZGV4LCBsYXN0SW5kZXggKyAxKS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkge1xuICAgIHZhciBpdGVtc0luZGV4ID0gZmlyc3RJbmRleCArIGluZGV4O1xuICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuKGl0ZW0sIGl0ZW1zSW5kZXgpOyAvLyB3ZSBvbmx5IG5lZWQgdGhlIFJlZnMgaWYgd2UgZG9uJ3Qga25vdyB0aGUgcGFnZUhlaWdodFxuXG4gICAgaWYgKCFwYWdlSGVpZ2h0ICYmIGl0ZW1zSW5kZXggPT09IDApIHtcbiAgICAgIGNoaWxkID0gUmVhY3QuY3JlYXRlRWxlbWVudChSZWYsIHtcbiAgICAgICAga2V5OiBcImZpcnN0XCIsXG4gICAgICAgIHJlZjogZmlyc3RQYWdlSXRlbVJlZlxuICAgICAgfSwgY2hpbGQpO1xuICAgIH0gZWxzZSBpZiAoIXBhZ2VIZWlnaHQgJiYgKGl0ZW1zSW5kZXggPT09IHN0ZXAgLSAxIHx8IGl0ZW1zSW5kZXggPT09IGxhc3RJbmRleCkpIHtcbiAgICAgIGNoaWxkID0gUmVhY3QuY3JlYXRlRWxlbWVudChSZWYsIHtcbiAgICAgICAga2V5OiBcImxhc3RcIixcbiAgICAgICAgcmVmOiBsYXN0UGFnZUl0ZW1SZWZcbiAgICAgIH0sIGNoaWxkKTtcbiAgICB9XG5cbiAgICBpZiAoc2hvdyAmJiBzaG93ID09PSBpdGVtc0luZGV4KSB7XG4gICAgICBjaGlsZCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVmLCB7XG4gICAgICAgIGtleTogXCJzaG93XCIsXG4gICAgICAgIHJlZjogc2hvd1JlZlxuICAgICAgfSwgY2hpbGQpO1xuICAgIH1cblxuICAgIHJlc3VsdC5wdXNoKGNoaWxkKTtcbiAgfSk7XG5cbiAgaWYgKGVuZFBhZ2UgPCBsYXN0UGFnZSB8fCByZXBsYWNlIHx8IG9uTW9yZSkge1xuICAgIHZhciBfbWFya2VyID0gUmVhY3QuY3JlYXRlRWxlbWVudChCb3gsIHtcbiAgICAgIGtleTogXCJiZWxvd1wiLFxuICAgICAgcmVmOiBiZWxvd01hcmtlclJlZixcbiAgICAgIGZsZXg6IGZhbHNlLFxuICAgICAgaGVpZ2h0OiAocmVwbGFjZSA/IChsYXN0UGFnZSAtIGVuZFBhZ2UpICogcGFnZUhlaWdodCA6IDApICsgXCJweFwiXG4gICAgfSk7XG5cbiAgICBpZiAocmVuZGVyTWFya2VyKSB7XG4gICAgICAvLyBuZWVkIHRvIGdpdmUgaXQgYSBrZXlcbiAgICAgIF9tYXJrZXIgPSBSZWFjdC5jbG9uZUVsZW1lbnQocmVuZGVyTWFya2VyKF9tYXJrZXIpLCB7XG4gICAgICAgIGtleTogJ2JlbG93J1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmVzdWx0LnB1c2goX21hcmtlcik7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufTtcblxudmFyIEluZmluaXRlU2Nyb2xsRG9jO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZ2xvYmFsLXJlcXVpcmVcbiAgSW5maW5pdGVTY3JvbGxEb2MgPSByZXF1aXJlKCcuL2RvYycpLmRvYyhJbmZpbml0ZVNjcm9sbCk7XG59XG5cbnZhciBJbmZpbml0ZVNjcm9sbFdyYXBwZXIgPSBJbmZpbml0ZVNjcm9sbERvYyB8fCBJbmZpbml0ZVNjcm9sbDtcbmV4cG9ydCB7IEluZmluaXRlU2Nyb2xsV3JhcHBlciBhcyBJbmZpbml0ZVNjcm9sbCB9OyIsImltcG9ydCB7IGRlc2NyaWJlLCBQcm9wVHlwZXMgfSBmcm9tICdyZWFjdC1kZXNjJztcbmltcG9ydCB7IGdldEF2YWlsYWJsZUF0QmFkZ2UgfSBmcm9tICcuLi8uLi91dGlscyc7XG5leHBvcnQgdmFyIGRvYyA9IGZ1bmN0aW9uIGRvYyhJbmZpbml0ZVNjcm9sbCkge1xuICB2YXIgRG9jdW1lbnRlZEluZmluaXRlU2Nyb2xsID0gZGVzY3JpYmUoSW5maW5pdGVTY3JvbGwpLmF2YWlsYWJsZUF0KGdldEF2YWlsYWJsZUF0QmFkZ2UoJ0luZmluaXRlU2Nyb2xsJykpLmRlc2NyaXB0aW9uKCdBIGNvbnRhaW5lciB0aGF0IGxhemlseSByZW5kZXJzIGl0ZW1zLicpLnVzYWdlKFwiaW1wb3J0IHsgSW5maW5pdGVTY3JvbGwgfSBmcm9tICdncm9tbWV0JztcXG48SW5maW5pdGVTY3JvbGwgLz5cIik7XG4gIERvY3VtZW50ZWRJbmZpbml0ZVNjcm9sbC5wcm9wVHlwZXMgPSB7XG4gICAgY2hpbGRyZW46IFByb3BUeXBlcy5mdW5jLmRlc2NyaXB0aW9uKCdGdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW4gZWFjaCBpdGVtIGlzIHJlbmRlcmVkLicpLFxuICAgIGl0ZW1zOiBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMuYW55KS5kZXNjcmlwdGlvbignVGhlIGNoaWxkcmVuIGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIHRvIHJlbmRlciBlYWNoIGl0ZW0uJyksXG4gICAgb25Nb3JlOiBQcm9wVHlwZXMuZnVuYy5kZXNjcmlwdGlvbihcIlVzZSB0aGlzIHRvIGluZGljYXRlIHRoYXQgJ2l0ZW1zJyBkb2Vzbid0IGNvbnRhaW4gYWxsIHRoYXQgaXQgY291bGQuXFxuICAgICAgSXQgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgZW50aXJlIGxpc3Qgb2YgaXRlbXMgaGFzIGJlZW4gcmVuZGVyZWQuXFxuICAgICAgVGhpcyBtaWdodCBiZSB1c2VkIHdoZW4gdGhlIHRvdGFsIG51bWJlciBvZiBpdGVtcyB0aGF0IGNvdWxkIGJlIHJldHJpZXZlZFxcbiAgICAgIGlzIG1vcmUgdGhhbiB5b3UnZCB3YW50IHRvIGxvYWQgaW50byB0aGUgYnJvd3Nlci4gJ29uTW9yZScgYWxsb3dzIHlvdVxcbiAgICAgIHRvIGxhemlseSBmZXRjaCBtb3JlIGZyb20gdGhlIHNlcnZlciBvbmx5IHdoZW4gbmVlZGVkLlwiKSxcbiAgICByZW5kZXJNYXJrZXI6IFByb3BUeXBlcy5mdW5jLmRlc2NyaXB0aW9uKFwiRnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCB0byByZW5kZXIgdGhlIG1hcmtlciBlbGVtZW50IHRoYXRcXG4gICAgICBpcyBpbnNlcnRlZCBpbnRvIHRoZSBET00gdG8gdHJhY2sgd2hlbiBzY3JvbGxpbmcgbmVhcnMgdGhlIGVuZCBvZiB0aGVcXG4gICAgICByZW5kZXJlZCBpdGVtcy4gSXQgd2lsbCBiZSBjYWxsZWQgd2l0aCBhIHNpbmdsZSBlbGVtZW50IHRoYXQgc2hvdWxkXFxuICAgICAgYmUgd3JhcHBlZCBhcHByb3ByaWF0ZWx5LiBUaGlzIGlzIG5lZWRlZCB3aGVuIHRoZSBkZWZhdWx0XFxuICAgICAgZWxlbWVudCwgYSA8c3Bhbj4sIGlzbid0IHN1ZmZpY2llbnQsIHN1Y2ggYXMgYSByb3cgb2YgYSB0YWJsZSBib2R5LlwiKSxcbiAgICByZXBsYWNlOiBQcm9wVHlwZXMuYm9vbC5kZXNjcmlwdGlvbihcIldoZXRoZXIgdG8gcmVwbGFjZSBwcmV2aW91c2x5IHJlbmRlcmVkIGl0ZW1zIHdpdGggYSBnZW5lcmljIHNwYWNpbmdcXG4gICAgICBlbGVtZW50IHdoZW4gdGhleSBoYXZlIHNjcm9sbGVkIG91dCBvZiB2aWV3LiBUaGlzIGlzIG1vcmUgcGVyZm9ybWFudCBidXRcXG4gICAgICBtZWFucyB0aGF0IGluLXBhZ2Ugc2VhcmNoaW5nIHdpbGwgbm90IGZpbmQgZWxlbWVudHMgdGhhdCBoYXZlIGJlZW5cXG4gICAgICByZXBsYWNlZC4gSW4gZ2VuZXJhbCwgdGhpcyBzaG91bGQgYmUgc2V0IHRvIHRydWUgd2l0aGluIERyb3AgY29udGFpbmVyc1xcbiAgICAgIGFuZCBmYWxzZSBvdGhlcndpc2UuXCIpLmRlZmF1bHRWYWx1ZShmYWxzZSksXG4gICAgc2Nyb2xsYWJsZUFuY2VzdG9yOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMubm9kZSwgUHJvcFR5cGVzLm9uZU9mKFsnd2luZG93J10pXSkuZGVzY3JpcHRpb24oXCJBIGN1c3RvbSBhbmNlc3RvciB0byBkZXRlcm1pbmUgaWYgdGhlIG1hcmtlciBpcyB2aXNpYmxlIGluIGl0LlxcbiAgICAgIFRoaXMgaXMgdXNlZnVsIGluIGNhc2VzIHdoZXJlIHlvdSBkbyBub3Qgd2FudCB0aGUgaW1tZWRpYXRlXFxuICAgICAgc2Nyb2xsYWJsZSBhbmNlc3RvciB0byBiZSB0aGUgY29udGFpbmVyLiBGb3IgZXhhbXBsZSwgd2hlbiB5b3VyXFxuICAgICAgbWFya2VyIGlzIGluIGEgZGl2IHRoYXQgaGFzIG92ZXJmbG93IGF1dG8gYnV0IHlvdSBhcmUgZGV0ZWN0aW5nXFxuICAgICAgdmlzaWJpbGl0eSBiYXNlZCBvbiB0aGUgd2luZG93LlxcbiAgICAgIFRoaXMgc2hvdWxkIHR5cGljYWxseSBiZSBhIHJlZmVyZW5jZSB0byBhIERPTSBub2RlLCBidXQgaXQgd2lsbFxcbiAgICAgIGFsc28gd29yayB0byBwYXNzIGl0IHRoZSBzdHJpbmcgXFxcIndpbmRvd1xcXCIgaWYgeW91IGFyZSB1c2luZyBzZXJ2ZXJcXG4gICAgICByZW5kZXJpbmcuXCIpLFxuICAgIHNob3c6IFByb3BUeXBlcy5udW1iZXIuZGVzY3JpcHRpb24oJ0Vuc3VyZSB0aGF0IHRoZSBpdGVtIGF0IHRoaXMgaW5kZXggaXMgdmlzaWJsZSBpbml0aWFsbHkuJyksXG4gICAgc3RlcDogUHJvcFR5cGVzLm51bWJlci5kZXNjcmlwdGlvbignSG93IG1hbnkgaXRlbXMgdG8gcmVuZGVyIGF0IGEgdGltZS4nKS5kZWZhdWx0VmFsdWUoNTApXG4gIH07XG4gIHJldHVybiBEb2N1bWVudGVkSW5maW5pdGVTY3JvbGw7XG59OyIsImV4cG9ydCB7IEluZmluaXRlU2Nyb2xsIH0gZnJvbSAnLi9JbmZpbml0ZVNjcm9sbCc7IiwiZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5pbXBvcnQgeyBDaGlsZHJlbiwgY2xvbmVFbGVtZW50LCB1c2VDYWxsYmFjaywgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xudmFyIEtFWVMgPSB7XG4gIDg6ICdvbkJhY2tzcGFjZScsXG4gIDk6ICdvblRhYicsXG4gIDEzOiAnb25FbnRlcicsXG4gIDI3OiAnb25Fc2MnLFxuICAzMjogJ29uU3BhY2UnLFxuICAzNzogJ29uTGVmdCcsXG4gIDM4OiAnb25VcCcsXG4gIDM5OiAnb25SaWdodCcsXG4gIDQwOiAnb25Eb3duJyxcbiAgMTg4OiAnb25Db21tYScsXG4gIDE2OiAnb25TaGlmdCdcbn07XG5cbnZhciBLZXlib2FyZCA9IGZ1bmN0aW9uIEtleWJvYXJkKF9yZWYpIHtcbiAgdmFyIHRhcmdldCA9IF9yZWYudGFyZ2V0LFxuICAgICAgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuLFxuICAgICAgb25LZXlEb3duID0gX3JlZi5vbktleURvd24sXG4gICAgICByZXN0UHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfcmVmLCBbXCJ0YXJnZXRcIiwgXCJjaGlsZHJlblwiLCBcIm9uS2V5RG93blwiXSk7XG5cbiAgdmFyIG9uS2V5RG93bkhhbmRsZXIgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICB2YXIga2V5ID0gZXZlbnQua2V5Q29kZSA/IGV2ZW50LmtleUNvZGUgOiBldmVudC53aGljaDtcbiAgICB2YXIgY2FsbGJhY2tOYW1lID0gS0VZU1trZXldO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHJlc3QgPSBuZXcgQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgcmVzdFtfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgaWYgKGNhbGxiYWNrTmFtZSAmJiByZXN0UHJvcHNbY2FsbGJhY2tOYW1lXSkge1xuICAgICAgcmVzdFByb3BzW2NhbGxiYWNrTmFtZV0uYXBwbHkocmVzdFByb3BzLCBbZXZlbnRdLmNvbmNhdChyZXN0KSk7XG4gICAgfVxuXG4gICAgaWYgKG9uS2V5RG93bikge1xuICAgICAgb25LZXlEb3duLmFwcGx5KHZvaWQgMCwgW2V2ZW50XS5jb25jYXQocmVzdCkpO1xuICAgIH1cbiAgfSwgW29uS2V5RG93biwgcmVzdFByb3BzXSk7XG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRhcmdldCA9PT0gJ2RvY3VtZW50Jykge1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIG9uS2V5RG93bkhhbmRsZXIpO1xuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodGFyZ2V0ID09PSAnZG9jdW1lbnQnKSB7XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBvbktleURvd25IYW5kbGVyKTtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbb25LZXlEb3duSGFuZGxlciwgdGFyZ2V0XSk7XG4gIHJldHVybiB0YXJnZXQgPT09ICdkb2N1bWVudCcgPyBjaGlsZHJlbiA6IGNsb25lRWxlbWVudChDaGlsZHJlbi5vbmx5KGNoaWxkcmVuKSwge1xuICAgIG9uS2V5RG93bjogb25LZXlEb3duSGFuZGxlclxuICB9KTtcbn07XG5cbnZhciBLZXlib2FyZERvYztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGdsb2JhbC1yZXF1aXJlXG4gIEtleWJvYXJkRG9jID0gcmVxdWlyZSgnLi9kb2MnKS5kb2MoS2V5Ym9hcmQpO1xufVxuXG52YXIgS2V5Ym9hcmRXcmFwcGVyID0gS2V5Ym9hcmREb2MgfHwgS2V5Ym9hcmQ7XG5leHBvcnQgeyBLZXlib2FyZFdyYXBwZXIgYXMgS2V5Ym9hcmQgfTsiLCJpbXBvcnQgeyBkZXNjcmliZSwgUHJvcFR5cGVzIH0gZnJvbSAncmVhY3QtZGVzYyc7XG5leHBvcnQgdmFyIGRvYyA9IGZ1bmN0aW9uIGRvYyhLZXlib2FyZCkge1xuICB2YXIgRG9jdW1lbnRlZEtleWJvYXJkID0gZGVzY3JpYmUoS2V5Ym9hcmQpLmRlc2NyaXB0aW9uKCdBIGhhbmRsZXIgb2Yga2V5Ym9hcmQga2V5IHByZXNzZXMuJykudXNhZ2UoXCJpbXBvcnQgeyBLZXlib2FyZCB9IGZyb20gJ2dyb21tZXQnO1xcbjxLZXlib2FyZCBvblVwPXsoKSA9PiB7fX0gLz5cIik7XG4gIERvY3VtZW50ZWRLZXlib2FyZC5wcm9wVHlwZXMgPSB7XG4gICAgdGFyZ2V0OiBQcm9wVHlwZXMub25lT2YoWydjb21wb25lbnQnLCAnZG9jdW1lbnQnXSkuZGVzY3JpcHRpb24oJ1doZXJlIHRvIGxpc3RlbiBmb3IgdGhlIGtleWJvYXJkIHByZXNzZXMuJykuZGVmYXVsdFZhbHVlKCdjb21wb25lbnQnKSxcbiAgICBvbkJhY2tzcGFjZTogUHJvcFR5cGVzLmZ1bmMuZGVzY3JpcHRpb24oJ0Z1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgdXNlciBwcmVzc2VzIHRoZSBiYWNrc3BhY2Uga2V5LicpLFxuICAgIG9uQ29tbWE6IFByb3BUeXBlcy5mdW5jLmRlc2NyaXB0aW9uKCdGdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIHVzZXIgcHJlc3NlcyB0aGUgY29tbWEga2V5LicpLFxuICAgIG9uRG93bjogUHJvcFR5cGVzLmZ1bmMuZGVzY3JpcHRpb24oJ0Z1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgdXNlciBwcmVzc2VzIHRoZSBkb3duIGtleS4nKSxcbiAgICBvbkVudGVyOiBQcm9wVHlwZXMuZnVuYy5kZXNjcmlwdGlvbignRnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCB3aGVuIHRoZSB1c2VyIHByZXNzZXMgdGhlIGVudGVyIGtleS4nKSxcbiAgICBvbkVzYzogUHJvcFR5cGVzLmZ1bmMuZGVzY3JpcHRpb24oJ0Z1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgdXNlciBwcmVzc2VzIHRoZSBlc2Mga2V5LicpLFxuICAgIG9uS2V5RG93bjogUHJvcFR5cGVzLmZ1bmMuZGVzY3JpcHRpb24oJ0Z1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgdXNlciBwcmVzc2VzIGFueSBrZXkuJyksXG4gICAgb25MZWZ0OiBQcm9wVHlwZXMuZnVuYy5kZXNjcmlwdGlvbignRnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCB3aGVuIHRoZSB1c2VyIHByZXNzZXMgdGhlIGxlZnQga2V5LicpLFxuICAgIG9uUmlnaHQ6IFByb3BUeXBlcy5mdW5jLmRlc2NyaXB0aW9uKCdGdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIHVzZXIgcHJlc3NlcyB0aGUgcmlnaHQga2V5LicpLFxuICAgIG9uU2hpZnQ6IFByb3BUeXBlcy5mdW5jLmRlc2NyaXB0aW9uKCdGdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIHVzZXIgcHJlc3NlcyB0aGUgc2hpZnQga2V5LicpLFxuICAgIG9uU3BhY2U6IFByb3BUeXBlcy5mdW5jLmRlc2NyaXB0aW9uKCdGdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIHVzZXIgcHJlc3NlcyB0aGUgc3BhY2Uga2V5LicpLFxuICAgIG9uVGFiOiBQcm9wVHlwZXMuZnVuYy5kZXNjcmlwdGlvbignRnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCB3aGVuIHRoZSB1c2VyIHByZXNzZXMgdGhlIHRhYiBrZXkuJyksXG4gICAgb25VcDogUHJvcFR5cGVzLmZ1bmMuZGVzY3JpcHRpb24oJ0Z1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgdXNlciBwcmVzc2VzIHRoZSB1cCBrZXkuJylcbiAgfTtcbiAgcmV0dXJuIERvY3VtZW50ZWRLZXlib2FyZDtcbn07IiwiZXhwb3J0IHsgS2V5Ym9hcmQgfSBmcm9tICcuL0tleWJvYXJkJzsiLCJmdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzTG9vc2Uoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzLnByb3RvdHlwZSk7IHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzOyBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbmltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjcmVhdGVQb3J0YWwgfSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0IHsgZ2V0TmV3Q29udGFpbmVyIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuaW1wb3J0IHsgTGF5ZXJDb250YWluZXIgfSBmcm9tICcuL0xheWVyQ29udGFpbmVyJztcbmltcG9ydCB7IGFuaW1hdGlvbkR1cmF0aW9uIH0gZnJvbSAnLi9TdHlsZWRMYXllcic7XG5cbnZhciBMYXllciA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBfaW5oZXJpdHNMb29zZShMYXllciwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gTGF5ZXIoKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIF90aGlzID0gX0NvbXBvbmVudC5jYWxsLmFwcGx5KF9Db21wb25lbnQsIFt0aGlzXS5jb25jYXQoYXJncykpIHx8IHRoaXM7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwic3RhdGVcIiwge1xuICAgICAgaXNsYXllckNvbnRhaW5lckF2YWlsYWJsZTogZmFsc2VcbiAgICB9KTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBMYXllci5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgLy8gZW5zdXJlIGRvY3VtZW50IGlzIGF2YWlsYWJsZVxuICAgIHRoaXMub3JpZ2luYWxGb2N1c2VkRWxlbWVudCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG4gICAgdGhpcy5sYXllckNvbnRhaW5lciA9IGdldE5ld0NvbnRhaW5lcigpO1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNsYXllckNvbnRhaW5lckF2YWlsYWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9O1xuXG4gIF9wcm90by5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgdmFyIF90aGlzJHByb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgYW5pbWF0ZSA9IF90aGlzJHByb3BzLmFuaW1hdGUsXG4gICAgICAgIGFuaW1hdGlvbiA9IF90aGlzJHByb3BzLmFuaW1hdGlvbjtcblxuICAgIGlmICh0aGlzLm9yaWdpbmFsRm9jdXNlZEVsZW1lbnQpIHtcbiAgICAgIGlmICh0aGlzLm9yaWdpbmFsRm9jdXNlZEVsZW1lbnQuZm9jdXMpIHtcbiAgICAgICAgLy8gd2FpdCBmb3IgdGhlIGZpeGVkIHBvc2l0aW9uaW5nIHRvIGNvbWUgYmFjayB0byBub3JtYWxcbiAgICAgICAgLy8gc2VlIGxheWVyIHN0eWxpbmcgZm9yIHJlZmVyZW5jZVxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBfdGhpczIub3JpZ2luYWxGb2N1c2VkRWxlbWVudC5mb2N1cygpO1xuICAgICAgICB9LCAwKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5vcmlnaW5hbEZvY3VzZWRFbGVtZW50LnBhcmVudE5vZGUgJiYgdGhpcy5vcmlnaW5hbEZvY3VzZWRFbGVtZW50LnBhcmVudE5vZGUuZm9jdXMpIHtcbiAgICAgICAgLy8gcmVxdWlyZWQgZm9yIElFMTEgYW5kIEVkZ2VcbiAgICAgICAgdGhpcy5vcmlnaW5hbEZvY3VzZWRFbGVtZW50LnBhcmVudE5vZGUuZm9jdXMoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgYWN0aXZlQW5pbWF0aW9uID0gYW5pbWF0aW9uICE9PSB1bmRlZmluZWQgPyBhbmltYXRpb24gOiBhbmltYXRlO1xuXG4gICAgaWYgKGFjdGl2ZUFuaW1hdGlvbiAhPT0gZmFsc2UpIHtcbiAgICAgIC8vIHVuZGVmaW5lZCB1c2VzICdzbGlkZScgYXMgdGhlIGRlZmF1bHRcbiAgICAgIC8vIGFuaW1hdGUgb3V0IGFuZCByZW1vdmUgbGF0ZXJcbiAgICAgIHZhciBsYXllckNsb25lID0gdGhpcy5sYXllckNvbnRhaW5lci5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICBsYXllckNsb25lLmlkID0gJ2xheWVyQ2xvbmUnO1xuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsYXllckNsb25lKTtcbiAgICAgIHZhciBjbG9uZWRDb250YWluZXIgPSBsYXllckNsb25lLnF1ZXJ5U2VsZWN0b3IoJ1tjbGFzcyo9XCJTdHlsZWRMYXllcl9fU3R5bGVkQ29udGFpbmVyXCJdJyk7XG5cbiAgICAgIGlmIChjbG9uZWRDb250YWluZXIgJiYgY2xvbmVkQ29udGFpbmVyLnN0eWxlKSB7XG4gICAgICAgIGNsb25lZENvbnRhaW5lci5zdHlsZS5hbmltYXRpb25EaXJlY3Rpb24gPSAncmV2ZXJzZSc7XG4gICAgICB9XG5cbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyB3ZSBhZGQgdGhlIGlkIGFuZCBxdWVyeSBoZXJlIHNvIHRoZSB1bml0IHRlc3RzIHdvcmtcbiAgICAgICAgdmFyIGNsb25lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xheWVyQ2xvbmUnKTtcbiAgICAgICAgaWYgKGNsb25lKSBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGNsb25lKTtcbiAgICAgIH0sIGFuaW1hdGlvbkR1cmF0aW9uKTtcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgaXNsYXllckNvbnRhaW5lckF2YWlsYWJsZSA9IHRoaXMuc3RhdGUuaXNsYXllckNvbnRhaW5lckF2YWlsYWJsZTtcbiAgICByZXR1cm4gaXNsYXllckNvbnRhaW5lckF2YWlsYWJsZSA/IGNyZWF0ZVBvcnRhbChSZWFjdC5jcmVhdGVFbGVtZW50KExheWVyQ29udGFpbmVyLCB0aGlzLnByb3BzKSwgdGhpcy5sYXllckNvbnRhaW5lcikgOiBudWxsO1xuICB9O1xuXG4gIHJldHVybiBMYXllcjtcbn0oQ29tcG9uZW50KTtcblxuX2RlZmluZVByb3BlcnR5KExheWVyLCBcImRlZmF1bHRQcm9wc1wiLCB7XG4gIGZ1bGw6IGZhbHNlLFxuICBtYXJnaW46ICdub25lJyxcbiAgbW9kYWw6IHRydWUsXG4gIHBvc2l0aW9uOiAnY2VudGVyJyxcbiAgcmVzcG9uc2l2ZTogdHJ1ZVxufSk7XG5cbnZhciBMYXllckRvYztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgTGF5ZXJEb2MgPSByZXF1aXJlKCcuL2RvYycpLmRvYyhMYXllcik7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZ2xvYmFsLXJlcXVpcmVcbn1cblxudmFyIExheWVyV3JhcHBlciA9IExheWVyRG9jIHx8IExheWVyO1xuZXhwb3J0IHsgTGF5ZXJXcmFwcGVyIGFzIExheWVyIH07IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzTG9vc2Uoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzLnByb3RvdHlwZSk7IHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzOyBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbmltcG9ydCBSZWFjdCwgeyBjcmVhdGVSZWYsIENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBzdHlsZWQgZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgZGVmYXVsdFByb3BzIH0gZnJvbSAnLi4vLi4vZGVmYXVsdC1wcm9wcyc7XG5pbXBvcnQgeyBUaGVtZUNvbnRleHQgfSBmcm9tICcuLi8uLi9jb250ZXh0cyc7XG5pbXBvcnQgeyBGb2N1c2VkQ29udGFpbmVyIH0gZnJvbSAnLi4vRm9jdXNlZENvbnRhaW5lcic7XG5pbXBvcnQgeyBLZXlib2FyZCB9IGZyb20gJy4uL0tleWJvYXJkJztcbmltcG9ydCB7IGJhY2tncm91bmRJc0RhcmsgfSBmcm9tICcuLi8uLi91dGlscyc7XG5pbXBvcnQgeyBTdHlsZWRMYXllciwgU3R5bGVkQ29udGFpbmVyLCBTdHlsZWRPdmVybGF5IH0gZnJvbSAnLi9TdHlsZWRMYXllcic7XG52YXIgSGlkZGVuQW5jaG9yID0gc3R5bGVkLmEud2l0aENvbmZpZyh7XG4gIGRpc3BsYXlOYW1lOiBcIkxheWVyQ29udGFpbmVyX19IaWRkZW5BbmNob3JcIixcbiAgY29tcG9uZW50SWQ6IFwic2MtMXNyajE0Yy0wXCJcbn0pKFtcIndpZHRoOjA7aGVpZ2h0OjA7b3ZlcmZsb3c6aGlkZGVuO3Bvc2l0aW9uOmFic29sdXRlO1wiXSk7XG5cbnZhciBMYXllckNvbnRhaW5lciA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBfaW5oZXJpdHNMb29zZShMYXllckNvbnRhaW5lciwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gTGF5ZXJDb250YWluZXIoKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIF90aGlzID0gX0NvbXBvbmVudC5jYWxsLmFwcGx5KF9Db21wb25lbnQsIFt0aGlzXS5jb25jYXQoYXJncykpIHx8IHRoaXM7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiYW5jaG9yUmVmXCIsIGNyZWF0ZVJlZigpKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJjb250YWluZXJSZWZcIiwgUmVhY3QuY3JlYXRlUmVmKCkpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcImxheWVyUmVmXCIsIFJlYWN0LmNyZWF0ZVJlZigpKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJtYWtlTGF5ZXJWaXNpYmxlXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBub2RlID0gX3RoaXMubGF5ZXJSZWYuY3VycmVudCB8fCBfdGhpcy5jb250YWluZXJSZWYuY3VycmVudDtcblxuICAgICAgaWYgKG5vZGUgJiYgbm9kZS5zY3JvbGxJbnRvVmlldykge1xuICAgICAgICBub2RlLnNjcm9sbEludG9WaWV3KCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICB2YXIgX3Byb3RvID0gTGF5ZXJDb250YWluZXIucHJvdG90eXBlO1xuXG4gIF9wcm90by5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHZhciBwb3NpdGlvbiA9IHRoaXMucHJvcHMucG9zaXRpb247XG5cbiAgICBpZiAocG9zaXRpb24gIT09ICdoaWRkZW4nKSB7XG4gICAgICB0aGlzLm1ha2VMYXllclZpc2libGUoKTsgLy8gT25jZSBsYXllciBpcyBvcGVuIHdlIG1ha2Ugc3VyZSBpdCBoYXMgZm9jdXMgc28gdGhhdCB5b3VcbiAgICAgIC8vIGNhbiBzdGFydCB0YWJiaW5nIGluc2lkZSB0aGUgbGF5ZXIuIElmIHRoZSBjYWxsZXIgcHV0IGZvY3VzXG4gICAgICAvLyBvbiBhbiBlbGVtZW50IGFscmVhZHksIHdlIGhvbm9yIHRoYXQuIE90aGVyd2lzZSwgd2UgcHV0XG4gICAgICAvLyB0aGUgZm9jdXMgaW4gdGhlIGhpZGRlbiBhbmNob3IuXG5cbiAgICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcblxuICAgICAgd2hpbGUgKGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKGVsZW1lbnQgPT09IHRoaXMuY29udGFpbmVyUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAvLyBhbHJlYWR5IGhhdmUgZm9jdXMgaW5zaWRlIHRoZSBjb250YWluZXJcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgICB9XG5cbiAgICAgIGlmICghZWxlbWVudCAmJiB0aGlzLmFuY2hvclJlZi5jdXJyZW50KSB7XG4gICAgICAgIHRoaXMuYW5jaG9yUmVmLmN1cnJlbnQuZm9jdXMoKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLmNvbXBvbmVudERpZFVwZGF0ZSA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMpIHtcbiAgICB2YXIgcG9zaXRpb24gPSB0aGlzLnByb3BzLnBvc2l0aW9uO1xuXG4gICAgaWYgKHByZXZQcm9wcy5wb3NpdGlvbiAhPT0gcG9zaXRpb24gJiYgcG9zaXRpb24gIT09ICdoaWRkZW4nKSB7XG4gICAgICB0aGlzLm1ha2VMYXllclZpc2libGUoKTtcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgX3RoaXMkcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICBjaGlsZHJlbiA9IF90aGlzJHByb3BzLmNoaWxkcmVuLFxuICAgICAgICBpZCA9IF90aGlzJHByb3BzLmlkLFxuICAgICAgICBtb2RhbCA9IF90aGlzJHByb3BzLm1vZGFsLFxuICAgICAgICBvbkNsaWNrT3V0c2lkZSA9IF90aGlzJHByb3BzLm9uQ2xpY2tPdXRzaWRlLFxuICAgICAgICBvbkVzYyA9IF90aGlzJHByb3BzLm9uRXNjLFxuICAgICAgICBwbGFpbiA9IF90aGlzJHByb3BzLnBsYWluLFxuICAgICAgICBwb3NpdGlvbiA9IF90aGlzJHByb3BzLnBvc2l0aW9uLFxuICAgICAgICByZXNwb25zaXZlID0gX3RoaXMkcHJvcHMucmVzcG9uc2l2ZSxcbiAgICAgICAgcHJvcHNUaGVtZSA9IF90aGlzJHByb3BzLnRoZW1lLFxuICAgICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3RoaXMkcHJvcHMsIFtcImNoaWxkcmVuXCIsIFwiaWRcIiwgXCJtb2RhbFwiLCBcIm9uQ2xpY2tPdXRzaWRlXCIsIFwib25Fc2NcIiwgXCJwbGFpblwiLCBcInBvc2l0aW9uXCIsIFwicmVzcG9uc2l2ZVwiLCBcInRoZW1lXCJdKTtcblxuICAgIHZhciB0aGVtZSA9IHRoaXMuY29udGV4dCB8fCBwcm9wc1RoZW1lO1xuICAgIHZhciBjb250ZW50ID0gUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWRDb250YWluZXIsIF9leHRlbmRzKHtcbiAgICAgIGlkOiBpZFxuICAgIH0sIHJlc3QsIHtcbiAgICAgIHBvc2l0aW9uOiBwb3NpdGlvbixcbiAgICAgIHBsYWluOiBwbGFpbixcbiAgICAgIHJlc3BvbnNpdmU6IHJlc3BvbnNpdmUsXG4gICAgICByZWY6IHRoaXMuY29udGFpbmVyUmVmXG4gICAgfSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSGlkZGVuQW5jaG9yLCB7XG4gICAgICByZWY6IHRoaXMuYW5jaG9yUmVmLFxuICAgICAgdGFiSW5kZXg6IFwiLTFcIixcbiAgICAgIFwiYXJpYS1oaWRkZW5cIjogXCJ0cnVlXCJcbiAgICB9KSwgY2hpbGRyZW4pO1xuXG4gICAgaWYgKG1vZGFsKSB7XG4gICAgICBjb250ZW50ID0gUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWRMYXllciwge1xuICAgICAgICBpZDogaWQsXG4gICAgICAgIHBsYWluOiBwbGFpbixcbiAgICAgICAgcG9zaXRpb246IHBvc2l0aW9uLFxuICAgICAgICByZXNwb25zaXZlOiByZXNwb25zaXZlLFxuICAgICAgICB0YWJJbmRleDogXCItMVwiLFxuICAgICAgICByZWY6IHRoaXMubGF5ZXJSZWZcbiAgICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkT3ZlcmxheSwge1xuICAgICAgICBwbGFpbjogcGxhaW4sXG4gICAgICAgIG9uTW91c2VEb3duOiBvbkNsaWNrT3V0c2lkZSxcbiAgICAgICAgcmVzcG9uc2l2ZTogcmVzcG9uc2l2ZVxuICAgICAgfSksIGNvbnRlbnQpO1xuICAgICAgLyogZXNsaW50LWVuYWJsZSBqc3gtYTExeS9hbmNob3ItaXMtdmFsaWQsIGpzeC1hMTF5L2FuY2hvci1oYXMtY29udGVudCAqL1xuICAgIH1cblxuICAgIGlmIChvbkVzYykge1xuICAgICAgY29udGVudCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoS2V5Ym9hcmQsIHtcbiAgICAgICAgb25Fc2M6IG9uRXNjXG4gICAgICB9LCBjb250ZW50KTtcbiAgICB9XG5cbiAgICBpZiAodGhlbWUubGF5ZXIuYmFja2dyb3VuZCkge1xuICAgICAgdmFyIGRhcmsgPSBiYWNrZ3JvdW5kSXNEYXJrKHRoZW1lLmxheWVyLmJhY2tncm91bmQsIHRoZW1lKTtcblxuICAgICAgaWYgKGRhcmsgIT09IHVuZGVmaW5lZCAmJiBkYXJrICE9PSB0aGVtZS5kYXJrKSB7XG4gICAgICAgIGNvbnRlbnQgPSBSZWFjdC5jcmVhdGVFbGVtZW50KFRoZW1lQ29udGV4dC5Qcm92aWRlciwge1xuICAgICAgICAgIHZhbHVlOiBfZXh0ZW5kcyh7fSwgdGhlbWUsIHtcbiAgICAgICAgICAgIGRhcms6IGRhcmtcbiAgICAgICAgICB9KVxuICAgICAgICB9LCBjb250ZW50KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobW9kYWwpIHtcbiAgICAgIGNvbnRlbnQgPSBSZWFjdC5jcmVhdGVFbGVtZW50KEZvY3VzZWRDb250YWluZXIsIHtcbiAgICAgICAgaGlkZGVuOiBwb3NpdGlvbiA9PT0gJ2hpZGRlbicsXG4gICAgICAgIHJlc3RyaWN0U2Nyb2xsOiB0cnVlXG4gICAgICB9LCBjb250ZW50KTtcbiAgICB9XG5cbiAgICByZXR1cm4gY29udGVudDtcbiAgfTtcblxuICByZXR1cm4gTGF5ZXJDb250YWluZXI7XG59KENvbXBvbmVudCk7XG5cbl9kZWZpbmVQcm9wZXJ0eShMYXllckNvbnRhaW5lciwgXCJjb250ZXh0VHlwZVwiLCBUaGVtZUNvbnRleHQpO1xuXG5fZGVmaW5lUHJvcGVydHkoTGF5ZXJDb250YWluZXIsIFwiZGVmYXVsdFByb3BzXCIsIHtcbiAgZnVsbDogZmFsc2UsXG4gIG1hcmdpbjogJ25vbmUnLFxuICBtb2RhbDogdHJ1ZSxcbiAgcG9zaXRpb246ICdjZW50ZXInXG59KTtcblxuT2JqZWN0LnNldFByb3RvdHlwZU9mKExheWVyQ29udGFpbmVyLmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbmV4cG9ydCB7IExheWVyQ29udGFpbmVyIH07IiwiaW1wb3J0IHN0eWxlZCwgeyBjc3MsIGtleWZyYW1lcyB9IGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCB7IGJhc2VTdHlsZSwgYmFja2dyb3VuZFN0eWxlLCBicmVha3BvaW50U3R5bGUgfSBmcm9tICcuLi8uLi91dGlscyc7XG5pbXBvcnQgeyBkZWZhdWx0UHJvcHMgfSBmcm9tICcuLi8uLi9kZWZhdWx0LXByb3BzJztcbnZhciBoaWRkZW5Qb3NpdGlvblN0eWxlID0gY3NzKFtcImxlZnQ6LTEwMCU7cmlnaHQ6MTAwJTt6LWluZGV4Oi0xO3Bvc2l0aW9uOmZpeGVkO1wiXSk7XG52YXIgZGVza3RvcExheWVyU3R5bGUgPSBcIlxcbiAgcG9zaXRpb246IGZpeGVkO1xcbiAgdG9wOiAwcHg7XFxuICBsZWZ0OiAwcHg7XFxuICByaWdodDogMHB4O1xcbiAgYm90dG9tOiAwcHg7XFxuICB3aWR0aDogMTAwdnc7XFxuICBoZWlnaHQ6IDEwMHZoO1xcblwiO1xudmFyIHJlc3BvbnNpdmVMYXllclN0eWxlID0gXCJcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgbWluLWhlaWdodDogMTAwdmg7XFxuXCI7XG52YXIgU3R5bGVkTGF5ZXIgPSBzdHlsZWQuZGl2LndpdGhDb25maWcoe1xuICBkaXNwbGF5TmFtZTogXCJTdHlsZWRMYXllclwiLFxuICBjb21wb25lbnRJZDogXCJybXRlaHotMFwiXG59KShbXCJcIiwgXCIgYmFja2dyb3VuZDp1bnNldDtwb3NpdGlvbjpyZWxhdGl2ZTt6LWluZGV4OlwiLCBcIjtwb2ludGVyLWV2ZW50czpub25lO291dGxpbmU6bm9uZTtcIiwgXCIgXCIsIFwiO1wiXSwgYmFzZVN0eWxlLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLmxheWVyLnpJbmRleDtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICBpZiAocHJvcHMucG9zaXRpb24gPT09ICdoaWRkZW4nKSB7XG4gICAgcmV0dXJuIGhpZGRlblBvc2l0aW9uU3R5bGU7XG4gIH1cblxuICB2YXIgc3R5bGVzID0gW2Rlc2t0b3BMYXllclN0eWxlXTtcblxuICBpZiAocHJvcHMucmVzcG9uc2l2ZSAmJiBwcm9wcy50aGVtZS5sYXllci5yZXNwb25zaXZlQnJlYWtwb2ludCkge1xuICAgIHZhciBicmVha3BvaW50ID0gcHJvcHMudGhlbWUuZ2xvYmFsLmJyZWFrcG9pbnRzW3Byb3BzLnRoZW1lLmxheWVyLnJlc3BvbnNpdmVCcmVha3BvaW50XTtcbiAgICBzdHlsZXMucHVzaChicmVha3BvaW50U3R5bGUoYnJlYWtwb2ludCwgcmVzcG9uc2l2ZUxheWVyU3R5bGUpKTtcbiAgfVxuXG4gIHJldHVybiBzdHlsZXM7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLmxheWVyICYmIHByb3BzLnRoZW1lLmxheWVyLmV4dGVuZDtcbn0pO1xuU3R5bGVkTGF5ZXIuZGVmYXVsdFByb3BzID0ge307XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoU3R5bGVkTGF5ZXIuZGVmYXVsdFByb3BzLCBkZWZhdWx0UHJvcHMpO1xudmFyIFN0eWxlZE92ZXJsYXkgPSBzdHlsZWQuZGl2LndpdGhDb25maWcoe1xuICBkaXNwbGF5TmFtZTogXCJTdHlsZWRMYXllcl9fU3R5bGVkT3ZlcmxheVwiLFxuICBjb21wb25lbnRJZDogXCJybXRlaHotMVwiXG59KShbXCJwb3NpdGlvbjphYnNvbHV0ZTtcIiwgXCIgdG9wOjBweDtsZWZ0OjBweDtyaWdodDowcHg7Ym90dG9tOjBweDtcIiwgXCIgcG9pbnRlci1ldmVudHM6YWxsO1wiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIGlmIChwcm9wcy5yZXNwb25zaXZlICYmIHByb3BzLnRoZW1lLmxheWVyLnJlc3BvbnNpdmVCcmVha3BvaW50KSB7XG4gICAgdmFyIGJyZWFrcG9pbnQgPSBwcm9wcy50aGVtZS5nbG9iYWwuYnJlYWtwb2ludHNbcHJvcHMudGhlbWUubGF5ZXIucmVzcG9uc2l2ZUJyZWFrcG9pbnRdO1xuICAgIHJldHVybiBicmVha3BvaW50U3R5bGUoYnJlYWtwb2ludCwgJ3Bvc2l0aW9uOiByZWxhdGl2ZTsnKTtcbiAgfVxuXG4gIHJldHVybiAnJztcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gIXByb3BzLnBsYWluICYmIHByb3BzLnRoZW1lLmxheWVyLm92ZXJsYXkuYmFja2dyb3VuZCAmJiBiYWNrZ3JvdW5kU3R5bGUocHJvcHMudGhlbWUubGF5ZXIub3ZlcmxheS5iYWNrZ3JvdW5kLCBwcm9wcy50aGVtZSk7XG59KTtcblxudmFyIGdldE1hcmdpbiA9IGZ1bmN0aW9uIGdldE1hcmdpbihtYXJnaW4sIHRoZW1lLCBwb3NpdGlvbikge1xuICB2YXIgYXhpcyA9IHBvc2l0aW9uLmluZGV4T2YoJ3RvcCcpICE9PSAtMSB8fCBwb3NpdGlvbi5pbmRleE9mKCdib3R0b20nKSAhPT0gLTEgPyAndmVydGljYWwnIDogJ2hvcml6b250YWwnO1xuICB2YXIgbWFyZ2luVmFsdWUgPSBtYXJnaW5bcG9zaXRpb25dIHx8IG1hcmdpbltheGlzXSB8fCBtYXJnaW47XG4gIHZhciBtYXJnaW5BcHBsaWVkID0gdGhlbWUuZ2xvYmFsLmVkZ2VTaXplW21hcmdpblZhbHVlXSB8fCBtYXJnaW5WYWx1ZTtcbiAgdmFyIG1hcmdpbkluVGhlbWUgPSAhIXRoZW1lLmdsb2JhbC5lZGdlU2l6ZVttYXJnaW5WYWx1ZV07XG4gIHJldHVybiAhbWFyZ2luSW5UaGVtZSAmJiB0eXBlb2YgbWFyZ2luVmFsdWUgIT09ICdzdHJpbmcnID8gJzBweCcgOiBtYXJnaW5BcHBsaWVkO1xufTtcblxudmFyIE1BUkdJTlMgPSBmdW5jdGlvbiBNQVJHSU5TKG1hcmdpbiwgdGhlbWUsIHBvc2l0aW9uKSB7XG4gIGlmIChwb3NpdGlvbiA9PT0gdm9pZCAwKSB7XG4gICAgcG9zaXRpb24gPSB1bmRlZmluZWQ7XG4gIH1cblxuICBpZiAocG9zaXRpb24pIHtcbiAgICByZXR1cm4gZ2V0TWFyZ2luKG1hcmdpbiwgdGhlbWUsIHBvc2l0aW9uKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgYm90dG9tOiBnZXRNYXJnaW4obWFyZ2luLCB0aGVtZSwgJ2JvdHRvbScpLFxuICAgICdib3R0b20tbGVmdCc6IGdldE1hcmdpbihtYXJnaW4sIHRoZW1lLCAnYm90dG9tLWxlZnQnKSxcbiAgICAnYm90dG9tLXJpZ2h0JzogZ2V0TWFyZ2luKG1hcmdpbiwgdGhlbWUsICdib3R0b20tcmlnaHQnKSxcbiAgICBsZWZ0OiBnZXRNYXJnaW4obWFyZ2luLCB0aGVtZSwgJ2xlZnQnKSxcbiAgICByaWdodDogZ2V0TWFyZ2luKG1hcmdpbiwgdGhlbWUsICdyaWdodCcpLFxuICAgIHRvcDogZ2V0TWFyZ2luKG1hcmdpbiwgdGhlbWUsICd0b3AnKSxcbiAgICAndG9wLXJpZ2h0JzogZ2V0TWFyZ2luKG1hcmdpbiwgdGhlbWUsICd0b3AtcmlnaHQnKSxcbiAgICAndG9wLWxlZnQnOiBnZXRNYXJnaW4obWFyZ2luLCB0aGVtZSwgJ3RvcC1sZWZ0JylcbiAgfTtcbn07XG5cbnZhciBLRVlGUkFNRVMgPSB7XG4gIGNlbnRlcjoge1xuICAgIHZlcnRpY2FsOiBrZXlmcmFtZXMoW1wiMCV7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTUwJSkgc2NhbGUoMC44KTt9MTAwJXt0cmFuc2Zvcm06dHJhbnNsYXRlWCgtNTAlKSBzY2FsZSgxKTt9XCJdKSxcbiAgICBob3Jpem9udGFsOiBrZXlmcmFtZXMoW1wiMCV7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTUwJSkgc2NhbGUoMC44KTt9MTAwJXt0cmFuc2Zvcm06dHJhbnNsYXRlWSgtNTApIHNjYWxlKDEpO31cIl0pLFxuICAgIFwidHJ1ZVwiOiBrZXlmcmFtZXMoW1wiMCV7dHJhbnNmb3JtOnNjYWxlKDAuOCk7fTEwMCV7dHJhbnNmb3JtOnNjYWxlKDEpO31cIl0pLFxuICAgIFwiZmFsc2VcIjoga2V5ZnJhbWVzKFtcIjAle3RyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSwtNTAlKSBzY2FsZSgwLjgpO30xMDAle3RyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSwtNTAlKSBzY2FsZSgxKTt9XCJdKVxuICB9LFxuICB0b3A6IHtcbiAgICB2ZXJ0aWNhbDoga2V5ZnJhbWVzKFtcIjAle3RyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSwtMTAwJSk7fTEwMCV7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLDApO31cIl0pLFxuICAgIGhvcml6b250YWw6IGtleWZyYW1lcyhbXCIwJXt0cmFuc2Zvcm06dHJhbnNsYXRlWSgtMTAwJSk7fTEwMCV7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCk7fVwiXSksXG4gICAgXCJ0cnVlXCI6IGtleWZyYW1lcyhbXCIwJXt0cmFuc2Zvcm06dHJhbnNsYXRlWSgtMTAwJSk7fTEwMCV7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCk7fVwiXSksXG4gICAgXCJmYWxzZVwiOiBrZXlmcmFtZXMoW1wiMCV7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLC0xMDAlKTt9MTAwJXt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsMCk7fVwiXSlcbiAgfSxcbiAgYm90dG9tOiB7XG4gICAgdmVydGljYWw6IGtleWZyYW1lcyhbXCIwJXt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsMTAwJSk7fTEwMCV7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLDApO31cIl0pLFxuICAgIGhvcml6b250YWw6IGtleWZyYW1lcyhbXCIwJXt0cmFuc2Zvcm06dHJhbnNsYXRlWSgxMDAlKTt9MTAwJXt0cmFuc2Zvcm06dHJhbnNsYXRlWSgwKTt9XCJdKSxcbiAgICBcInRydWVcIjoga2V5ZnJhbWVzKFtcIjAle3RyYW5zZm9ybTp0cmFuc2xhdGVZKDEwMCUpO30xMDAle3RyYW5zZm9ybTp0cmFuc2xhdGVZKDApO31cIl0pLFxuICAgIFwiZmFsc2VcIjoga2V5ZnJhbWVzKFtcIjAle3RyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSwxMDAlKTt9MTAwJXt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsMCk7fVwiXSlcbiAgfSxcbiAgbGVmdDoge1xuICAgIHZlcnRpY2FsOiBrZXlmcmFtZXMoW1wiMCV7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTEwMCUpO30xMDAle3RyYW5zZm9ybTp0cmFuc2xhdGVYKDApO31cIl0pLFxuICAgIGhvcml6b250YWw6IGtleWZyYW1lcyhbXCIwJXt0cmFuc2Zvcm06dHJhbnNsYXRlKC0xMDAlLC01MCUpO30xMDAle3RyYW5zZm9ybTp0cmFuc2xhdGUoMCwtNTAlKTt9XCJdKSxcbiAgICBcInRydWVcIjoga2V5ZnJhbWVzKFtcIjAle3RyYW5zZm9ybTp0cmFuc2xhdGVYKC0xMDAlKTt9MTAwJXt0cmFuc2Zvcm06dHJhbnNsYXRlWCgwKTt9XCJdKSxcbiAgICBcImZhbHNlXCI6IGtleWZyYW1lcyhbXCIwJXt0cmFuc2Zvcm06dHJhbnNsYXRlKC0xMDAlLC01MCUpO30xMDAle3RyYW5zZm9ybTp0cmFuc2xhdGUoMCwtNTAlKTt9XCJdKVxuICB9LFxuICByaWdodDoge1xuICAgIHZlcnRpY2FsOiBrZXlmcmFtZXMoW1wiMCV7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoMTAwJSk7fTEwMCV7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoMCk7fVwiXSksXG4gICAgaG9yaXpvbnRhbDoga2V5ZnJhbWVzKFtcIjAle3RyYW5zZm9ybTp0cmFuc2xhdGUoMTAwJSwtNTAlKTt9MTAwJXt0cmFuc2Zvcm06dHJhbnNsYXRlKDAsLTUwJSk7fVwiXSksXG4gICAgXCJ0cnVlXCI6IGtleWZyYW1lcyhbXCIwJXt0cmFuc2Zvcm06dHJhbnNsYXRlWCgxMDAlKTt9MTAwJXt0cmFuc2Zvcm06dHJhbnNsYXRlWCgwKTt9XCJdKSxcbiAgICBcImZhbHNlXCI6IGtleWZyYW1lcyhbXCIwJXt0cmFuc2Zvcm06dHJhbnNsYXRlKDEwMCUsLTUwJSk7fTEwMCV7dHJhbnNmb3JtOnRyYW5zbGF0ZSgwLC01MCUpO31cIl0pXG4gIH1cbn07XG52YXIgYW5pbWF0aW9uRHVyYXRpb24gPSAyMDA7XG5cbnZhciBnZXRBbmltYXRpb25TdHlsZSA9IGZ1bmN0aW9uIGdldEFuaW1hdGlvblN0eWxlKHByb3BzLCBwb3NpdGlvbiwgZnVsbCkge1xuICB2YXIgYW5pbWF0aW9uID0gcHJvcHMuYW5pbWF0aW9uICE9PSB1bmRlZmluZWQgPyBwcm9wcy5hbmltYXRpb24gOiBwcm9wcy5hbmltYXRlO1xuICBpZiAoYW5pbWF0aW9uID09PSB1bmRlZmluZWQpIGFuaW1hdGlvbiA9ICdzbGlkZSc7XG4gIHZhciBrZXlzO1xuXG4gIGlmIChhbmltYXRpb24gPT09ICdzbGlkZScgfHwgYW5pbWF0aW9uID09PSB0cnVlKSB7XG4gICAga2V5cyA9IEtFWUZSQU1FU1twb3NpdGlvbl1bZnVsbF07XG4gIH0gZWxzZSBpZiAoYW5pbWF0aW9uID09PSAnZmFkZUluJykge1xuICAgIGtleXMgPSBrZXlmcmFtZXMoW1wiMCV7b3BhY2l0eTowfTEwMCV7b3BhY2l0eToxfVwiXSk7XG4gIH1cblxuICByZXR1cm4ga2V5cyA/IGNzcyhbXCJhbmltYXRpb246XCIsIFwiIFwiLCBcInMgZWFzZS1pbi1vdXQgZm9yd2FyZHM7XCJdLCBrZXlzLCBhbmltYXRpb25EdXJhdGlvbiAvIDEwMDAuMCkgOiAnJztcbn07IC8vIFBPU0lUSU9OUyBjb21iaW5lcyAncG9zaXRpb24nLCAnZnVsbCcsIGFuZCAnbWFyZ2luJyBwcm9wZXJ0aWVzLCBzaW5jZVxuLy8gdGhleSBhcmUgYWxsIGludGVyZGVwZW5kZW50LlxuLy8gQmFzaWNhbGx5LCBub24tZnVsbCBheGVzIGNvbWJpbmUgNTAlIHBvc2l0aW9uIHdpdGggLTUwJSB0cmFuc2xhdGlvbi5cbi8vIGZ1bGwgYXhlcyBwaW4gdG8gdGhlIHdpbmRvdyBlZGdlcyBvZmZzZXQgYnkgYW55IG1hcmdpbi5cbi8vIFRoZSBrZXlmcmFtZSBhbmltYXRpb25zIGFyZSBpbmNsdWRlZCBhcyB0aGV5IGFyZSBkb25lIHZpYSB0cmFuc2xhdGlvbnNcbi8vIGFzIHdlbGwgc28gdGhleSBtdXN0IHRha2UgaW50byBhY2NvdW50IHRoZSBub24tYW5pbWF0ZWQgcG9zaXRpb25pbmcuXG5cblxudmFyIFBPU0lUSU9OUyA9IHtcbiAgY2VudGVyOiB7XG4gICAgdmVydGljYWw6IGZ1bmN0aW9uIHZlcnRpY2FsKG1hcmdpbikge1xuICAgICAgcmV0dXJuIGNzcyhbXCJ0b3A6XCIsIFwiO2JvdHRvbTpcIiwgXCI7bGVmdDo1MCU7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTUwJSk7XCIsIFwiXCJdLCBtYXJnaW4udG9wLCBtYXJnaW4uYm90dG9tLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgcmV0dXJuIGdldEFuaW1hdGlvblN0eWxlKHByb3BzLCAnY2VudGVyJywgJ3ZlcnRpY2FsJyk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGhvcml6b250YWw6IGZ1bmN0aW9uIGhvcml6b250YWwobWFyZ2luKSB7XG4gICAgICByZXR1cm4gY3NzKFtcImxlZnQ6XCIsIFwiO3JpZ2h0OlwiLCBcIjt0b3A6NTAlO3RyYW5zZm9ybTp0cmFuc2xhdGVZKC01MCUpO1wiLCBcIlwiXSwgbWFyZ2luLmxlZnQsIG1hcmdpbi5yaWdodCwgZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICAgIHJldHVybiBnZXRBbmltYXRpb25TdHlsZShwcm9wcywgJ2NlbnRlcicsICdob3Jpem9udGFsJyk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIFwidHJ1ZVwiOiBmdW5jdGlvbiBfdHJ1ZShtYXJnaW4pIHtcbiAgICAgIHJldHVybiBjc3MoW1widG9wOlwiLCBcIjtib3R0b206XCIsIFwiO2xlZnQ6XCIsIFwiO3JpZ2h0OlwiLCBcIjtcIiwgXCJcIl0sIG1hcmdpbi50b3AsIG1hcmdpbi5ib3R0b20sIG1hcmdpbi5sZWZ0LCBtYXJnaW4ucmlnaHQsIGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICByZXR1cm4gZ2V0QW5pbWF0aW9uU3R5bGUocHJvcHMsICdjZW50ZXInLCAndHJ1ZScpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBcImZhbHNlXCI6IGZ1bmN0aW9uIF9mYWxzZSgpIHtcbiAgICAgIHJldHVybiBjc3MoW1widG9wOjUwJTtsZWZ0OjUwJTt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsLTUwJSk7XCIsIFwiXCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgcmV0dXJuIGdldEFuaW1hdGlvblN0eWxlKHByb3BzLCAnY2VudGVyJywgJ2ZhbHNlJyk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gIHRvcDoge1xuICAgIHZlcnRpY2FsOiBmdW5jdGlvbiB2ZXJ0aWNhbChtYXJnaW4pIHtcbiAgICAgIHJldHVybiBjc3MoW1widG9wOlwiLCBcIjtib3R0b206XCIsIFwiO2xlZnQ6NTAlO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSwwJSk7XCIsIFwiXCJdLCBtYXJnaW4udG9wLCBtYXJnaW4uYm90dG9tLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgcmV0dXJuIGdldEFuaW1hdGlvblN0eWxlKHByb3BzLCAndG9wJywgJ3ZlcnRpY2FsJyk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGhvcml6b250YWw6IGZ1bmN0aW9uIGhvcml6b250YWwobWFyZ2luKSB7XG4gICAgICByZXR1cm4gY3NzKFtcImxlZnQ6XCIsIFwiO3JpZ2h0OlwiLCBcIjt0b3A6XCIsIFwiO3RyYW5zZm9ybTp0cmFuc2xhdGVZKDApO1wiLCBcIlwiXSwgbWFyZ2luLmxlZnQsIG1hcmdpbi5yaWdodCwgbWFyZ2luLnRvcCwgZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICAgIHJldHVybiBnZXRBbmltYXRpb25TdHlsZShwcm9wcywgJ3RvcCcsICdob3Jpem9udGFsJyk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIFwidHJ1ZVwiOiBmdW5jdGlvbiBfdHJ1ZShtYXJnaW4pIHtcbiAgICAgIHJldHVybiBjc3MoW1widG9wOlwiLCBcIjtib3R0b206XCIsIFwiO2xlZnQ6XCIsIFwiO3JpZ2h0OlwiLCBcIjt0cmFuc2Zvcm06dHJhbnNsYXRlWSgwKTtcIiwgXCJcIl0sIG1hcmdpbi50b3AsIG1hcmdpbi5ib3R0b20sIG1hcmdpbi5sZWZ0LCBtYXJnaW4ucmlnaHQsIGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICByZXR1cm4gZ2V0QW5pbWF0aW9uU3R5bGUocHJvcHMsICd0b3AnLCAndHJ1ZScpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBcImZhbHNlXCI6IGZ1bmN0aW9uIF9mYWxzZShtYXJnaW4pIHtcbiAgICAgIHJldHVybiBjc3MoW1widG9wOlwiLCBcIjtsZWZ0OjUwJTt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsMCk7XCIsIFwiXCJdLCBtYXJnaW4udG9wLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgcmV0dXJuIGdldEFuaW1hdGlvblN0eWxlKHByb3BzLCAndG9wJywgJ2ZhbHNlJyk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gIGJvdHRvbToge1xuICAgIHZlcnRpY2FsOiBmdW5jdGlvbiB2ZXJ0aWNhbChtYXJnaW4pIHtcbiAgICAgIHJldHVybiBjc3MoW1widG9wOlwiLCBcIiBib3R0b206XCIsIFwiO2xlZnQ6NTAlO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSwwKTtcIiwgXCJcIl0sIG1hcmdpbi50b3AsIG1hcmdpbi5ib3R0b20sIGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICByZXR1cm4gZ2V0QW5pbWF0aW9uU3R5bGUocHJvcHMsICdib3R0b20nLCAndmVydGljYWwnKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgaG9yaXpvbnRhbDogZnVuY3Rpb24gaG9yaXpvbnRhbChtYXJnaW4pIHtcbiAgICAgIHJldHVybiBjc3MoW1wibGVmdDpcIiwgXCI7cmlnaHQ6XCIsIFwiO2JvdHRvbTpcIiwgXCI7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCk7XCIsIFwiXCJdLCBtYXJnaW4ubGVmdCwgbWFyZ2luLnRvcCwgbWFyZ2luLmJvdHRvbSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICAgIHJldHVybiBnZXRBbmltYXRpb25TdHlsZShwcm9wcywgJ2JvdHRvbScsICdob3Jpem9udGFsJyk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIFwidHJ1ZVwiOiBmdW5jdGlvbiBfdHJ1ZShtYXJnaW4pIHtcbiAgICAgIHJldHVybiBjc3MoW1widG9wOlwiLCBcIjtib3R0b206XCIsIFwiO2xlZnQ6XCIsIFwiO3JpZ2h0OlwiLCBcIjt0cmFuc2Zvcm06dHJhbnNsYXRlWSgwKTtcIiwgXCJcIl0sIG1hcmdpbi50b3AsIG1hcmdpbi5ib3R0b20sIG1hcmdpbi5sZWZ0LCBtYXJnaW4ucmlnaHQsIGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICByZXR1cm4gZ2V0QW5pbWF0aW9uU3R5bGUocHJvcHMsICdib3R0b20nLCAndHJ1ZScpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBcImZhbHNlXCI6IGZ1bmN0aW9uIF9mYWxzZShtYXJnaW4pIHtcbiAgICAgIHJldHVybiBjc3MoW1wiYm90dG9tOlwiLCBcIjtsZWZ0OjUwJTt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsMCk7XCIsIFwiXCJdLCBtYXJnaW4uYm90dG9tLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgcmV0dXJuIGdldEFuaW1hdGlvblN0eWxlKHByb3BzLCAnYm90dG9tJywgJ2ZhbHNlJyk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gIGxlZnQ6IHtcbiAgICB2ZXJ0aWNhbDogZnVuY3Rpb24gdmVydGljYWwobWFyZ2luKSB7XG4gICAgICByZXR1cm4gY3NzKFtcInRvcDpcIiwgXCI7Ym90dG9tOlwiLCBcIjtsZWZ0OlwiLCBcIjt0cmFuc2Zvcm06dHJhbnNsYXRlWCgwKTtcIiwgXCJcIl0sIG1hcmdpbi50b3AsIG1hcmdpbi5ib3R0b20sIG1hcmdpbi5sZWZ0LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgcmV0dXJuIGdldEFuaW1hdGlvblN0eWxlKHByb3BzLCAnbGVmdCcsICd2ZXJ0aWNhbCcpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBob3Jpem9udGFsOiBmdW5jdGlvbiBob3Jpem9udGFsKG1hcmdpbikge1xuICAgICAgcmV0dXJuIGNzcyhbXCJsZWZ0OlwiLCBcIjtyaWdodDpcIiwgXCI7dG9wOjUwJTt0cmFuc2Zvcm06dHJhbnNsYXRlKDAsLTUwJSk7XCIsIFwiXCJdLCBtYXJnaW4ubGVmdCwgbWFyZ2luLnJpZ2h0LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgcmV0dXJuIGdldEFuaW1hdGlvblN0eWxlKHByb3BzLCAnbGVmdCcsICdob3Jpem9udGFsJyk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIFwidHJ1ZVwiOiBmdW5jdGlvbiBfdHJ1ZShtYXJnaW4pIHtcbiAgICAgIHJldHVybiBjc3MoW1widG9wOlwiLCBcIjtib3R0b206XCIsIFwiO2xlZnQ6XCIsIFwiO3JpZ2h0OlwiLCBcIjt0cmFuc2Zvcm06dHJhbnNsYXRlWCgwKTtcIiwgXCJcIl0sIG1hcmdpbi50b3AsIG1hcmdpbi5ib3R0b20sIG1hcmdpbi5sZWZ0LCBtYXJnaW4ucmlnaHQsIGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICByZXR1cm4gZ2V0QW5pbWF0aW9uU3R5bGUocHJvcHMsICdsZWZ0JywgJ3RydWUnKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgXCJmYWxzZVwiOiBmdW5jdGlvbiBfZmFsc2UobWFyZ2luKSB7XG4gICAgICByZXR1cm4gY3NzKFtcImxlZnQ6XCIsIFwiO3RvcDo1MCU7dHJhbnNmb3JtOnRyYW5zbGF0ZSgwLC01MCUpO1wiLCBcIlwiXSwgbWFyZ2luLmxlZnQsIGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICByZXR1cm4gZ2V0QW5pbWF0aW9uU3R5bGUocHJvcHMsICdsZWZ0JywgJ2ZhbHNlJyk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gIHJpZ2h0OiB7XG4gICAgdmVydGljYWw6IGZ1bmN0aW9uIHZlcnRpY2FsKG1hcmdpbikge1xuICAgICAgcmV0dXJuIGNzcyhbXCJ0b3A6XCIsIFwiO2JvdHRvbTpcIiwgXCI7cmlnaHQ6XCIsIFwiO3RyYW5zZm9ybTp0cmFuc2xhdGVYKDApO1wiLCBcIlwiXSwgbWFyZ2luLnRvcCwgbWFyZ2luLmJvdHRvbSwgbWFyZ2luLnJpZ2h0LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgcmV0dXJuIGdldEFuaW1hdGlvblN0eWxlKHByb3BzLCAncmlnaHQnLCAndmVydGljYWwnKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgaG9yaXpvbnRhbDogZnVuY3Rpb24gaG9yaXpvbnRhbChtYXJnaW4pIHtcbiAgICAgIHJldHVybiBjc3MoW1wibGVmdDpcIiwgXCI7cmlnaHQ6XCIsIFwiO3RvcDo1MCU7dHJhbnNmb3JtOnRyYW5zbGF0ZSgwLC01MCUpO1wiLCBcIlwiXSwgbWFyZ2luLmxlZnQsIG1hcmdpbi5yaWdodCwgZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICAgIHJldHVybiBnZXRBbmltYXRpb25TdHlsZShwcm9wcywgJ3JpZ2h0JywgJ2hvcml6b250YWwnKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgXCJ0cnVlXCI6IGZ1bmN0aW9uIF90cnVlKG1hcmdpbikge1xuICAgICAgcmV0dXJuIGNzcyhbXCJ0b3A6XCIsIFwiO2JvdHRvbTpcIiwgXCI7bGVmdDpcIiwgXCI7cmlnaHQ6XCIsIFwiO3RyYW5zZm9ybTp0cmFuc2xhdGVYKDApO1wiLCBcIlwiXSwgbWFyZ2luLnRvcCwgbWFyZ2luLmJvdHRvbSwgbWFyZ2luLmxlZnQsIG1hcmdpbi5yaWdodCwgZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICAgIHJldHVybiBnZXRBbmltYXRpb25TdHlsZShwcm9wcywgJ3JpZ2h0JywgJ3RydWUnKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgXCJmYWxzZVwiOiBmdW5jdGlvbiBfZmFsc2UobWFyZ2luKSB7XG4gICAgICByZXR1cm4gY3NzKFtcInJpZ2h0OlwiLCBcIjt0b3A6NTAlO3RyYW5zZm9ybTp0cmFuc2xhdGUoMCwtNTAlKTtcIiwgXCJcIl0sIG1hcmdpbi5yaWdodCwgZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICAgIHJldHVybiBnZXRBbmltYXRpb25TdHlsZShwcm9wcywgJ3JpZ2h0JywgJ2ZhbHNlJyk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gICd0b3AtcmlnaHQnOiB7XG4gICAgdmVydGljYWw6IGZ1bmN0aW9uIHZlcnRpY2FsKG1hcmdpbikge1xuICAgICAgcmV0dXJuIGNzcyhbXCJ0b3A6XCIsIFwiO2JvdHRvbTpcIiwgXCI7cmlnaHQ6XCIsIFwiO3RyYW5zZm9ybTp0cmFuc2xhdGVYKDApO1wiLCBcIjtcIl0sIG1hcmdpbi50b3AsIG1hcmdpbi5ib3R0b20sIG1hcmdpbi5yaWdodCwgZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICAgIHJldHVybiBnZXRBbmltYXRpb25TdHlsZShwcm9wcywgJ3RvcCcsICd0cnVlJyk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGhvcml6b250YWw6IGZ1bmN0aW9uIGhvcml6b250YWwobWFyZ2luKSB7XG4gICAgICByZXR1cm4gY3NzKFtcImxlZnQ6XCIsIFwiO3JpZ2h0OlwiLCBcIjt0b3A6MDt0cmFuc2Zvcm06dHJhbnNsYXRlWCgwKTtcIiwgXCI7XCJdLCBtYXJnaW4ubGVmdCwgbWFyZ2luLnJpZ2h0LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgcmV0dXJuIGdldEFuaW1hdGlvblN0eWxlKHByb3BzLCAndG9wJywgJ3RydWUnKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgXCJ0cnVlXCI6IGZ1bmN0aW9uIF90cnVlKG1hcmdpbikge1xuICAgICAgcmV0dXJuIGNzcyhbXCJ0b3A6XCIsIFwiO2JvdHRvbTpcIiwgXCI7bGVmdDpcIiwgXCI7cmlnaHQ6XCIsIFwiO3RyYW5zZm9ybTp0cmFuc2xhdGVYKDApO1wiLCBcIjtcIl0sIG1hcmdpbi50b3AsIG1hcmdpbi5ib3R0b20sIG1hcmdpbi5sZWZ0LCBtYXJnaW4ucmlnaHQsIGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICByZXR1cm4gZ2V0QW5pbWF0aW9uU3R5bGUocHJvcHMsICd0b3AnLCAndHJ1ZScpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBcImZhbHNlXCI6IGZ1bmN0aW9uIF9mYWxzZShtYXJnaW4pIHtcbiAgICAgIHJldHVybiBjc3MoW1widG9wOlwiLCBcIjtyaWdodDpcIiwgXCI7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCk7XCIsIFwiO1wiXSwgbWFyZ2luLnRvcCwgbWFyZ2luLnJpZ2h0LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgcmV0dXJuIGdldEFuaW1hdGlvblN0eWxlKHByb3BzLCAndG9wJywgJ3RydWUnKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgJ3RvcC1sZWZ0Jzoge1xuICAgIHZlcnRpY2FsOiBmdW5jdGlvbiB2ZXJ0aWNhbChtYXJnaW4pIHtcbiAgICAgIHJldHVybiBjc3MoW1widG9wOlwiLCBcIjtib3R0b206XCIsIFwiO2xlZnQ6XCIsIFwiO3RyYW5zZm9ybTp0cmFuc2xhdGVYKDApO1wiLCBcIlwiXSwgbWFyZ2luLnRvcCwgbWFyZ2luLmJvdHRvbSwgbWFyZ2luLmxlZnQsIGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICByZXR1cm4gZ2V0QW5pbWF0aW9uU3R5bGUocHJvcHMsICd0b3AnLCAndHJ1ZScpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBob3Jpem9udGFsOiBmdW5jdGlvbiBob3Jpem9udGFsKG1hcmdpbikge1xuICAgICAgcmV0dXJuIGNzcyhbXCJsZWZ0OlwiLCBcIjtyaWdodDpcIiwgXCI7dG9wOjA7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoMCk7XCIsIFwiXCJdLCBtYXJnaW4ubGVmdCwgbWFyZ2luLnJpZ2h0LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgcmV0dXJuIGdldEFuaW1hdGlvblN0eWxlKHByb3BzLCAndG9wJywgJ3RydWUnKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgXCJ0cnVlXCI6IGZ1bmN0aW9uIF90cnVlKG1hcmdpbikge1xuICAgICAgcmV0dXJuIGNzcyhbXCJ0b3A6XCIsIFwiO2JvdHRvbTpcIiwgXCI7bGVmdDpcIiwgXCI7cmlnaHQ6XCIsIFwiO3RyYW5zZm9ybTp0cmFuc2xhdGVYKDApO1wiLCBcIlwiXSwgbWFyZ2luLnRvcCwgbWFyZ2luLmJvdHRvbSwgbWFyZ2luLmxlZnQsIG1hcmdpbi5yaWdodCwgZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICAgIHJldHVybiBnZXRBbmltYXRpb25TdHlsZShwcm9wcywgJ3RvcCcsICd0cnVlJyk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIFwiZmFsc2VcIjogZnVuY3Rpb24gX2ZhbHNlKG1hcmdpbikge1xuICAgICAgcmV0dXJuIGNzcyhbXCJ0b3A6XCIsIFwiO2xlZnQ6XCIsIFwiO3RyYW5zZm9ybTp0cmFuc2xhdGVZKDApO1wiLCBcIlwiXSwgbWFyZ2luLnRvcCwgbWFyZ2luLmxlZnQsIGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICByZXR1cm4gZ2V0QW5pbWF0aW9uU3R5bGUocHJvcHMsICd0b3AnLCAndHJ1ZScpO1xuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICAnYm90dG9tLXJpZ2h0Jzoge1xuICAgIHZlcnRpY2FsOiBmdW5jdGlvbiB2ZXJ0aWNhbChtYXJnaW4pIHtcbiAgICAgIHJldHVybiBjc3MoW1widG9wOlwiLCBcIjtib3R0b206XCIsIFwiO3JpZ2h0OlwiLCBcIjt0cmFuc2Zvcm06dHJhbnNsYXRlWCgwKTtcIiwgXCJcIl0sIG1hcmdpbi50b3AsIG1hcmdpbi5ib3R0b20sIG1hcmdpbi5yaWdodCwgZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICAgIHJldHVybiBnZXRBbmltYXRpb25TdHlsZShwcm9wcywgJ2JvdHRvbScsICd0cnVlJyk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGhvcml6b250YWw6IGZ1bmN0aW9uIGhvcml6b250YWwobWFyZ2luKSB7XG4gICAgICByZXR1cm4gY3NzKFtcImxlZnQ6XCIsIFwiO3JpZ2h0OlwiLCBcIjtib3R0b206XCIsIFwiO3RyYW5zZm9ybTp0cmFuc2xhdGVZKDApO1wiLCBcIlwiXSwgbWFyZ2luLmxlZnQsIG1hcmdpbi5yaWdodCwgbWFyZ2luLmJvdHRvbSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICAgIHJldHVybiBnZXRBbmltYXRpb25TdHlsZShwcm9wcywgJ2JvdHRvbScsICd0cnVlJyk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIFwidHJ1ZVwiOiBmdW5jdGlvbiBfdHJ1ZShtYXJnaW4pIHtcbiAgICAgIHJldHVybiBjc3MoW1widG9wOlwiLCBcIjtib3R0b206XCIsIFwiO2xlZnQ6XCIsIFwiO3JpZ2h0OlwiLCBcIjt0cmFuc2Zvcm06dHJhbnNsYXRlWCgwKTtcIiwgXCJcIl0sIG1hcmdpbi50b3AsIG1hcmdpbi5ib3R0b20sIG1hcmdpbi5sZWZ0LCBtYXJnaW4ucmlnaHQsIGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICByZXR1cm4gZ2V0QW5pbWF0aW9uU3R5bGUocHJvcHMsICdib3R0b20nLCAndHJ1ZScpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBcImZhbHNlXCI6IGZ1bmN0aW9uIF9mYWxzZShtYXJnaW4pIHtcbiAgICAgIHJldHVybiBjc3MoW1wiYm90dG9tOlwiLCBcIjtyaWdodDpcIiwgXCI7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCk7XCIsIFwiXCJdLCBtYXJnaW4uYm90dG9tLCBtYXJnaW4ucmlnaHQsIGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICByZXR1cm4gZ2V0QW5pbWF0aW9uU3R5bGUocHJvcHMsICdib3R0b20nLCAndHJ1ZScpO1xuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICAnYm90dG9tLWxlZnQnOiB7XG4gICAgdmVydGljYWw6IGZ1bmN0aW9uIHZlcnRpY2FsKG1hcmdpbikge1xuICAgICAgcmV0dXJuIGNzcyhbXCJ0b3A6XCIsIFwiO2JvdHRvbTpcIiwgXCI7bGVmdDpcIiwgXCI7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoMCk7XCIsIFwiXCJdLCBtYXJnaW4udG9wLCBtYXJnaW4uYm90dG9tLCBtYXJnaW4ubGVmdCwgZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICAgIHJldHVybiBnZXRBbmltYXRpb25TdHlsZShwcm9wcywgJ2JvdHRvbScsICd0cnVlJyk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGhvcml6b250YWw6IGZ1bmN0aW9uIGhvcml6b250YWwobWFyZ2luKSB7XG4gICAgICByZXR1cm4gY3NzKFtcImxlZnQ6XCIsIFwiO3JpZ2h0OlwiLCBcIjtib3R0b206XCIsIFwiO3RyYW5zZm9ybTp0cmFuc2xhdGVZKDApO1wiLCBcIlwiXSwgbWFyZ2luLmxlZnQsIG1hcmdpbi5yaWdodCwgbWFyZ2luLmJvdHRvbSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICAgIHJldHVybiBnZXRBbmltYXRpb25TdHlsZShwcm9wcywgJ2JvdHRvbScsICd0cnVlJyk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIFwidHJ1ZVwiOiBmdW5jdGlvbiBfdHJ1ZShtYXJnaW4pIHtcbiAgICAgIHJldHVybiBjc3MoW1widG9wOlwiLCBcIjtib3R0b206XCIsIFwiO2xlZnQ6XCIsIFwiO3JpZ2h0OlwiLCBcIjt0cmFuc2Zvcm06dHJhbnNsYXRlWCgwKTtcIiwgXCJcIl0sIG1hcmdpbi50b3AsIG1hcmdpbi5ib3R0b20sIG1hcmdpbi5sZWZ0LCBtYXJnaW4ucmlnaHQsIGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICByZXR1cm4gZ2V0QW5pbWF0aW9uU3R5bGUocHJvcHMsICdib3R0b20nLCAndHJ1ZScpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBcImZhbHNlXCI6IGZ1bmN0aW9uIF9mYWxzZShtYXJnaW4pIHtcbiAgICAgIHJldHVybiBjc3MoW1wiYm90dG9tOlwiLCBcIjtsZWZ0OlwiLCBcIjt0cmFuc2Zvcm06dHJhbnNsYXRlWSgwKTtcIiwgXCJcIl0sIG1hcmdpbi5ib3R0b20sIG1hcmdpbi5sZWZ0LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgcmV0dXJuIGdldEFuaW1hdGlvblN0eWxlKHByb3BzLCAnYm90dG9tJywgJ3RydWUnKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufTtcbnZhciBkZXNrdG9wQ29udGFpbmVyU3R5bGUgPSBjc3MoW1wicG9zaXRpb246XCIsIFwiO21heC1oZWlnaHQ6XCIsIFwiO21heC13aWR0aDpcIiwgXCI7Ym9yZGVyLXJhZGl1czpcIiwgXCI7XCIsIFwiO1wiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5tb2RhbCA/ICdhYnNvbHV0ZScgOiAnZml4ZWQnO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBcImNhbGMoMTAwJSAtIFwiICsgTUFSR0lOUyhwcm9wcy5tYXJnaW4sIHByb3BzLnRoZW1lLCAndG9wJykgKyBcIiAtIFwiICsgTUFSR0lOUyhwcm9wcy5tYXJnaW4sIHByb3BzLnRoZW1lLCAnYm90dG9tJykgKyBcIilcIjtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gXCJjYWxjKDEwMCUgLSBcIiArIE1BUkdJTlMocHJvcHMubWFyZ2luLCBwcm9wcy50aGVtZSwgJ2xlZnQnKSArIFwiIC0gXCIgKyBNQVJHSU5TKHByb3BzLm1hcmdpbiwgcHJvcHMudGhlbWUsICdyaWdodCcpICsgXCIpXCI7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnBsYWluID8gMCA6IHByb3BzLnRoZW1lLmxheWVyLmJvcmRlci5yYWRpdXM7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnBvc2l0aW9uICE9PSAnaGlkZGVuJyAmJiBQT1NJVElPTlNbcHJvcHMucG9zaXRpb25dW3Byb3BzLmZ1bGxdKE1BUkdJTlMocHJvcHMubWFyZ2luLCBwcm9wcy50aGVtZSkpIHx8ICcnO1xufSk7XG52YXIgcmVzcG9uc2l2ZUNvbnRhaW5lclN0eWxlID0gY3NzKFtcInBvc2l0aW9uOnJlbGF0aXZlO21heC1oZWlnaHQ6bm9uZTttYXgtd2lkdGg6bm9uZTtib3JkZXItcmFkaXVzOjA7dG9wOjA7Ym90dG9tOjA7bGVmdDowO3JpZ2h0OjA7dHJhbnNmb3JtOm5vbmU7YW5pbWF0aW9uOm5vbmU7aGVpZ2h0OjEwMHZoO3dpZHRoOjEwMHZ3O1wiXSk7XG52YXIgU3R5bGVkQ29udGFpbmVyID0gc3R5bGVkLmRpdi53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiU3R5bGVkTGF5ZXJfX1N0eWxlZENvbnRhaW5lclwiLFxuICBjb21wb25lbnRJZDogXCJybXRlaHotMlwiXG59KShbXCJcIiwgXCIgZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjttaW4taGVpZ2h0OlwiLCBcIjtcIiwgXCIgb3V0bGluZTpub25lO3BvaW50ZXItZXZlbnRzOmFsbDt6LWluZGV4OlwiLCBcIjtcIiwgXCIgXCIsIFwiO1wiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiAhcHJvcHMubW9kYWwgPyBiYXNlU3R5bGUgOiAnJztcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUuZ2xvYmFsLnNpemUueHhzbWFsbDtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gIXByb3BzLnBsYWluICYmIHByb3BzLnRoZW1lLmxheWVyLmJhY2tncm91bmQgJiYgYmFja2dyb3VuZFN0eWxlKHByb3BzLnRoZW1lLmxheWVyLmJhY2tncm91bmQsIHByb3BzLnRoZW1lKTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUubGF5ZXIuY29udGFpbmVyLnpJbmRleDtcbn0sIGRlc2t0b3BDb250YWluZXJTdHlsZSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIGlmIChwcm9wcy5yZXNwb25zaXZlICYmIHByb3BzLnRoZW1lLmxheWVyLnJlc3BvbnNpdmVCcmVha3BvaW50KSB7XG4gICAgdmFyIGJyZWFrcG9pbnQgPSBwcm9wcy50aGVtZS5nbG9iYWwuYnJlYWtwb2ludHNbcHJvcHMudGhlbWUubGF5ZXIucmVzcG9uc2l2ZUJyZWFrcG9pbnRdO1xuXG4gICAgaWYgKGJyZWFrcG9pbnQpIHtcbiAgICAgIHJldHVybiBicmVha3BvaW50U3R5bGUoYnJlYWtwb2ludCwgcmVzcG9uc2l2ZUNvbnRhaW5lclN0eWxlKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gJyc7XG59KTtcblN0eWxlZENvbnRhaW5lci5kZWZhdWx0UHJvcHMgPSB7fTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihTdHlsZWRDb250YWluZXIuZGVmYXVsdFByb3BzLCBkZWZhdWx0UHJvcHMpO1xuZXhwb3J0IHsgYW5pbWF0aW9uRHVyYXRpb24sIFN0eWxlZExheWVyLCBTdHlsZWRPdmVybGF5LCBTdHlsZWRDb250YWluZXIgfTsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5pbXBvcnQgeyBkZXNjcmliZSwgUHJvcFR5cGVzIH0gZnJvbSAncmVhY3QtZGVzYyc7XG5pbXBvcnQgeyBnZXRBdmFpbGFibGVBdEJhZGdlLCB0aGVtZURvY1V0aWxzIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xudmFyIFBBRF9TSVpFUyA9IFsneHhzbWFsbCcsICd4c21hbGwnLCAnc21hbGwnLCAnbWVkaXVtJywgJ2xhcmdlJ107XG5leHBvcnQgdmFyIGRvYyA9IGZ1bmN0aW9uIGRvYyhMYXllcikge1xuICB2YXIgRG9jdW1lbnRlZExheWVyID0gZGVzY3JpYmUoTGF5ZXIpLmF2YWlsYWJsZUF0KGdldEF2YWlsYWJsZUF0QmFkZ2UoJ0xheWVyJykpLmRlc2NyaXB0aW9uKFwiQW4gb3ZlcmxheS4gTGF5ZXIgaXMgdHlwaWNhbGx5IG1vZGFsIGFuZCBhbmNob3JlZCB0byBhbiBlZGdlLCBjb3JuZXIsIG9yXFxuICAgICAgY2VudGVyIG9mIHRoZSB3aW5kb3cuIEl0IGlzIHRoZSBjYWxsZXIncyByZXNwb25zaWJpbGl0eSB0byBwcm92aWRlIGFcXG4gICAgICBjb250cm9sIGZvciB0aGUgdXNlciB0byBjbG9zZSB0aGUgbGF5ZXIuXCIpLnVzYWdlKFwiaW1wb3J0IHsgTGF5ZXIgfSBmcm9tICdncm9tbWV0JztcXG48TGF5ZXIgLz5cIikuaW50cmluc2ljRWxlbWVudCgnZGl2Jyk7XG4gIERvY3VtZW50ZWRMYXllci5wcm9wVHlwZXMgPSB7XG4gICAgYW5pbWF0ZTogUHJvcFR5cGVzLmJvb2wuZGVzY3JpcHRpb24oXCJXaGV0aGVyIHRvIGFuaW1hdGUgdGhlIExheWVyIGNvbnRlbnQgd2hlbiBpdCBvcGVucy4gVGhpc1xcbiAgICAgICAgcHJvcGVydHkgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHZlcnNpb25cXG4gICAgICAgIG9mIGdyb21tZXQuIEluc3RlYWQsIHVzZSAnYW5pbWF0aW9uJy5cIikuZGVmYXVsdFZhbHVlKHRydWUpLFxuICAgIGFuaW1hdGlvbjogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFsnc2xpZGUnLCAnZmFkZUluJywgJ25vbmUnXSksIFByb3BUeXBlcy5ib29sXSkuZGVzY3JpcHRpb24oJ0FuaW1hdGlvbiB0cmFuc2l0aW9uIG9mIHRoZSBMYXllciBjb250ZW50IHdoZW4gaXQgb3BlbnMgYW5kIGNsb3Nlcy4nKS5kZWZhdWx0VmFsdWUoJ3NsaWRlJyksXG4gICAgZnVsbDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmJvb2wsIFByb3BUeXBlcy5vbmVPZihbJ3ZlcnRpY2FsJywgJ2hvcml6b250YWwnXSldKS5kZXNjcmlwdGlvbihcIldoZXRoZXIgdGhlIHdpZHRoIGFuZC9vciBoZWlnaHQgc2hvdWxkIGZpbGwgdGhlIGN1cnJlbnQgdmlld3BvcnQgXFxuICAgICAgICBzaXplLlwiKS5kZWZhdWx0VmFsdWUoZmFsc2UpLFxuICAgIG1hcmdpbjogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFsnbm9uZSddLmNvbmNhdChQQURfU0laRVMpKSwgUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgIGJvdHRvbTogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFBBRF9TSVpFUyksIFByb3BUeXBlcy5zdHJpbmddKSxcbiAgICAgIGhvcml6b250YWw6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihQQURfU0laRVMpLCBQcm9wVHlwZXMuc3RyaW5nXSksXG4gICAgICBsZWZ0OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2YoUEFEX1NJWkVTKSwgUHJvcFR5cGVzLnN0cmluZ10pLFxuICAgICAgcmlnaHQ6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihQQURfU0laRVMpLCBQcm9wVHlwZXMuc3RyaW5nXSksXG4gICAgICB0b3A6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihQQURfU0laRVMpLCBQcm9wVHlwZXMuc3RyaW5nXSksXG4gICAgICB2ZXJ0aWNhbDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFBBRF9TSVpFUyksIFByb3BUeXBlcy5zdHJpbmddKVxuICAgIH0pLCBQcm9wVHlwZXMuc3RyaW5nXSkuZGVzY3JpcHRpb24oXCJUaGUgYW1vdW50IG9mIG1hcmdpbiBhcm91bmQgdGhlIExheWVyLiBBbiBvYmplY3QgY2FuIGJlIHNwZWNpZmllZCB0b1xcbmRpc3Rpbmd1aXNoIGhvcml6b250YWwgbWFyZ2luLCB2ZXJ0aWNhbCBtYXJnaW4sIGFuZCBtYXJnaW4gb24gYVxcbnBhcnRpY3VsYXIgc2lkZSBvZiB0aGUgbGF5ZXJcIiksXG4gICAgbW9kYWw6IFByb3BUeXBlcy5ib29sLmRlc2NyaXB0aW9uKFwiV2hldGhlciB0aGVyZSBzaG91bGQgYmUgYW4gb3ZlcmxheSBwcmV2ZW50aW5nIGludGVyYWN0aW9uIHVuZGVybmVhdGggXFxuICAgICAgICB0aGUgbGF5ZXIuXCIpLmRlZmF1bHRWYWx1ZSh0cnVlKSxcbiAgICBvbkNsaWNrT3V0c2lkZTogUHJvcFR5cGVzLmZ1bmMuZGVzY3JpcHRpb24oXCJGdW5jdGlvbiB0aGF0IHdpbGwgYmUgaW52b2tlZCBvbiBtb2RhbCBsYXllcnMgd2hlbiB0aGUgdXNlciBjbGlja3MgXFxuICAgICAgb3V0c2lkZSB0aGUgbGF5ZXIuXCIpLFxuICAgIG9uRXNjOiBQcm9wVHlwZXMuZnVuYy5kZXNjcmlwdGlvbihcIkZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgdXNlciBwcmVzc2VzIHRoZSBlc2NhcGUga2V5IGluc2lkZVxcbiAgICAgICB0aGUgbGF5ZXIuXCIpLFxuICAgIHBsYWluOiBQcm9wVHlwZXMuYm9vbC5kZXNjcmlwdGlvbignV2hldGhlciB0aGlzIGlzIGEgcGxhaW4gTGF5ZXIgd2l0aCBubyBiYWNrZ3JvdW5kIGNvbG9yIG9yIGJvcmRlci4nKS5kZWZhdWx0VmFsdWUoZmFsc2UpLFxuICAgIHBvc2l0aW9uOiBQcm9wVHlwZXMub25lT2YoWydib3R0b20nLCAnYm90dG9tLWxlZnQnLCAnYm90dG9tLXJpZ2h0JywgJ2NlbnRlcicsICdoaWRkZW4nLCAnbGVmdCcsICdyaWdodCcsICd0b3AnLCAndG9wLWxlZnQnLCAndG9wLXJpZ2h0J10pLmRlc2NyaXB0aW9uKCdQb3NpdGlvbiBvZiB0aGUgbGF5ZXIgY29udGVudC4nKS5kZWZhdWx0VmFsdWUoJ2NlbnRlcicpLFxuICAgIHJlc3BvbnNpdmU6IFByb3BUeXBlcy5ib29sLmRlc2NyaXB0aW9uKCdXaGV0aGVyIHRoZSBsYXllciBzaG91bGQgdGFrZSBmdWxsIHdpZHRoIGFuZCBoZWlnaHQgb24gbW9iaWxlJykuZGVmYXVsdFZhbHVlKHRydWUpXG4gIH07XG4gIHJldHVybiBEb2N1bWVudGVkTGF5ZXI7XG59O1xuZXhwb3J0IHZhciB0aGVtZURvYyA9IF9leHRlbmRzKHtcbiAgJ2dsb2JhbC5zaXplLnh4c21hbGwnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgbWluaW1hbCBoZWlnaHQgb2YgdGhlIExheWVyLicsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiAnNDhweCdcbiAgfSxcbiAgJ2xheWVyLmJhY2tncm91bmQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgYmFja2dyb3VuZCBjb2xvciBvZiB0aGUgTGF5ZXIgQ29udGFpbmVyLicsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiAnd2hpdGUnXG4gIH0sXG4gICdsYXllci5jb250YWluZXIuekluZGV4Jzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIHN0YWNrIG9yZGVyIG9mIExheWVyIENvbnRhaW5lci4nLFxuICAgIHR5cGU6ICdudW1iZXInLFxuICAgIGRlZmF1bHRWYWx1ZTogJzE1J1xuICB9LFxuICAnbGF5ZXIuZXh0ZW5kJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnQW55IGFkZGl0aW9uYWwgc3R5bGUgZm9yIExheWVyLicsXG4gICAgdHlwZTogJ3N0cmluZyB8IChwcm9wcykgPT4ge30nLFxuICAgIGRlZmF1bHRWYWx1ZTogdW5kZWZpbmVkXG4gIH0sXG4gICdsYXllci5vdmVybGF5LmJhY2tncm91bmQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgYmFja2dyb3VuZCBvZiB0aGUgTGF5ZXIgb3ZlcmxheS4nLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogJ3JnYmEoMCwgMCwgMCwgMC41KSdcbiAgfSxcbiAgJ2xheWVyLnJlc3BvbnNpdmVCcmVha3BvaW50Jzoge1xuICAgIGRlc2NyaXB0aW9uOiBcIlRoZSBhY3R1YWwgYnJlYWtwb2ludCB0byB0cmlnZ2VyIGNoYW5nZXMgaW4gdGhlIGJvcmRlciwgXFxuZGlyZWN0aW9uLCBnYXAsIG1hcmdpbiwgcGFkLCBhbmQgcm91bmQuXCIsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiAnc21hbGwnXG4gIH0sXG4gICdsYXllci56SW5kZXgnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgc3RhY2sgb3JkZXIgb2YgTGF5ZXIuJyxcbiAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICBkZWZhdWx0VmFsdWU6ICcxMCdcbiAgfVxufSwgdGhlbWVEb2NVdGlscy5icmVha3BvaW50U3R5bGUoXCJUaGUgcG9zc2libGUgYnJlYWtwb2ludHMgdGhhdCBjb3VsZCBhZmZlY3QgYm9yZGVyLCBkaXJlY3Rpb24sIGdhcCwgbWFyZ2luLCBcXG4gICAgcGFkLCBhbmQgcm91bmQuXCIpKTsiLCJleHBvcnQgeyBMYXllciB9IGZyb20gJy4vTGF5ZXInOyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbXBvc2UgfSBmcm9tICdyZWNvbXBvc2UnO1xuaW1wb3J0IHN0eWxlZCwgeyB3aXRoVGhlbWUgfSBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBCb3ggfSBmcm9tICcuLi9Cb3gnO1xuaW1wb3J0IHsgSW5maW5pdGVTY3JvbGwgfSBmcm9tICcuLi9JbmZpbml0ZVNjcm9sbCc7XG5pbXBvcnQgeyBLZXlib2FyZCB9IGZyb20gJy4uL0tleWJvYXJkJztcbmltcG9ydCB7IFRleHQgfSBmcm9tICcuLi9UZXh0JztcbmltcG9ydCB7IGZvY3VzU3R5bGUgfSBmcm9tICcuLi8uLi91dGlscyc7XG5pbXBvcnQgeyB3aXRoRm9jdXMsIHdpdGhGb3J3YXJkUmVmIH0gZnJvbSAnLi4vaG9jcyc7XG52YXIgU3R5bGVkTGlzdCA9IHN0eWxlZC51bC53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiTGlzdF9fU3R5bGVkTGlzdFwiLFxuICBjb21wb25lbnRJZDogXCJzYy0xMzBnZHFnLTBcIlxufSkoW1wibGlzdC1zdHlsZTpub25lO21hcmdpbjowO3BhZGRpbmc6MDtcIiwgXCJcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuZm9jdXMgJiYgZm9jdXNTdHlsZTtcbn0pO1xudmFyIFN0eWxlZEl0ZW0gPSBzdHlsZWQoQm94KS53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiTGlzdF9fU3R5bGVkSXRlbVwiLFxuICBjb21wb25lbnRJZDogXCJzYy0xMzBnZHFnLTFcIlxufSkoW1wiXCIsIFwiXCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLm9uQ2xpY2sgJiYgXCJjdXJzb3I6IHBvaW50ZXI7XCI7XG59KTtcblxudmFyIG5vcm1hbGl6ZSA9IGZ1bmN0aW9uIG5vcm1hbGl6ZShpdGVtLCBpbmRleCwgcHJvcGVydHkpIHtcbiAgaWYgKHR5cGVvZiBwcm9wZXJ0eSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBwcm9wZXJ0eShpdGVtLCBpbmRleCk7XG4gIH1cblxuICByZXR1cm4gaXRlbVtwcm9wZXJ0eV07XG59O1xuXG52YXIgTGlzdCA9IFJlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgdmFyIGFjdGlvbiA9IHByb3BzLmFjdGlvbixcbiAgICAgIGFzID0gcHJvcHMuYXMsXG4gICAgICBiYWNrZ3JvdW5kID0gcHJvcHMuYmFja2dyb3VuZCxcbiAgICAgIGJvcmRlciA9IHByb3BzLmJvcmRlcixcbiAgICAgIGNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW4sXG4gICAgICBkYXRhID0gcHJvcHMuZGF0YSxcbiAgICAgIGZvY3VzID0gcHJvcHMuZm9jdXMsXG4gICAgICBpdGVtUHJvcHMgPSBwcm9wcy5pdGVtUHJvcHMsXG4gICAgICBwYWQgPSBwcm9wcy5wYWQsXG4gICAgICBwcmltYXJ5S2V5ID0gcHJvcHMucHJpbWFyeUtleSxcbiAgICAgIHNlY29uZGFyeUtleSA9IHByb3BzLnNlY29uZGFyeUtleSxcbiAgICAgIHN0ZXAgPSBwcm9wcy5zdGVwLFxuICAgICAgdGhlbWUgPSBwcm9wcy50aGVtZSxcbiAgICAgIG9uQ2xpY2tJdGVtID0gcHJvcHMub25DbGlja0l0ZW0sXG4gICAgICBvbk1vcmUgPSBwcm9wcy5vbk1vcmUsXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UocHJvcHMsIFtcImFjdGlvblwiLCBcImFzXCIsIFwiYmFja2dyb3VuZFwiLCBcImJvcmRlclwiLCBcImNoaWxkcmVuXCIsIFwiZGF0YVwiLCBcImZvY3VzXCIsIFwiaXRlbVByb3BzXCIsIFwicGFkXCIsIFwicHJpbWFyeUtleVwiLCBcInNlY29uZGFyeUtleVwiLCBcInN0ZXBcIiwgXCJ0aGVtZVwiLCBcIm9uQ2xpY2tJdGVtXCIsIFwib25Nb3JlXCJdKTtcblxuICB2YXIgX1JlYWN0JHVzZVN0YXRlID0gUmVhY3QudXNlU3RhdGUoKSxcbiAgICAgIGFjdGl2ZSA9IF9SZWFjdCR1c2VTdGF0ZVswXSxcbiAgICAgIHNldEFjdGl2ZSA9IF9SZWFjdCR1c2VTdGF0ZVsxXTtcblxuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChLZXlib2FyZCwge1xuICAgIG9uRW50ZXI6IG9uQ2xpY2tJdGVtICYmIGFjdGl2ZSA+PSAwID8gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBldmVudC5wZXJzaXN0KCk7XG4gICAgICB2YXIgYWRqdXN0ZWRFdmVudCA9IGV2ZW50O1xuICAgICAgYWRqdXN0ZWRFdmVudC5pdGVtID0gZGF0YVthY3RpdmVdO1xuICAgICAgYWRqdXN0ZWRFdmVudC5pbmRleCA9IGFjdGl2ZTtcbiAgICAgIG9uQ2xpY2tJdGVtKGFkanVzdGVkRXZlbnQpO1xuICAgIH0gOiB1bmRlZmluZWQsXG4gICAgb25VcDogb25DbGlja0l0ZW0gJiYgYWN0aXZlID8gZnVuY3Rpb24gKCkge1xuICAgICAgc2V0QWN0aXZlKGFjdGl2ZSAtIDEpO1xuICAgIH0gOiB1bmRlZmluZWQsXG4gICAgb25Eb3duOiBvbkNsaWNrSXRlbSAmJiBkYXRhICYmIGRhdGEubGVuZ3RoID8gZnVuY3Rpb24gKCkge1xuICAgICAgc2V0QWN0aXZlKGFjdGl2ZSA+PSAwID8gTWF0aC5taW4oYWN0aXZlICsgMSwgZGF0YS5sZW5ndGggLSAxKSA6IDApO1xuICAgIH0gOiB1bmRlZmluZWRcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWRMaXN0LCBfZXh0ZW5kcyh7XG4gICAgcmVmOiByZWYsXG4gICAgYXM6IGFzIHx8ICd1bCcsXG4gICAgdGFiSW5kZXg6IG9uQ2xpY2tJdGVtID8gMCA6IHVuZGVmaW5lZFxuICB9LCByZXN0KSwgUmVhY3QuY3JlYXRlRWxlbWVudChJbmZpbml0ZVNjcm9sbCwge1xuICAgIGl0ZW1zOiBkYXRhLFxuICAgIG9uTW9yZTogb25Nb3JlLFxuICAgIHNjcm9sbGFibGVBbmNlc3RvcjogXCJ3aW5kb3dcIixcbiAgICBzdGVwOiBzdGVwLFxuICAgIHJlbmRlck1hcmtlcjogZnVuY3Rpb24gcmVuZGVyTWFya2VyKG1hcmtlcikge1xuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQm94LCB7XG4gICAgICAgIGFzOiBcImxpXCIsXG4gICAgICAgIGZsZXg6IGZhbHNlXG4gICAgICB9LCBtYXJrZXIpO1xuICAgIH1cbiAgfSwgZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7XG4gICAgdmFyIGNvbnRlbnQ7XG4gICAgdmFyIGJveFByb3BzID0ge307XG5cbiAgICBpZiAoY2hpbGRyZW4pIHtcbiAgICAgIGNvbnRlbnQgPSBjaGlsZHJlbihpdGVtLCBpbmRleCwgb25DbGlja0l0ZW0gPyB7XG4gICAgICAgIGFjdGl2ZTogYWN0aXZlID09PSBpbmRleFxuICAgICAgfSA6IHVuZGVmaW5lZCk7XG4gICAgfSBlbHNlIGlmIChwcmltYXJ5S2V5KSB7XG4gICAgICBpZiAodHlwZW9mIHByaW1hcnlLZXkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgY29udGVudCA9IHByaW1hcnlLZXkoaXRlbSwgaW5kZXgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29udGVudCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGV4dCwge1xuICAgICAgICAgIGtleTogXCJwXCIsXG4gICAgICAgICAgd2VpZ2h0OiBcImJvbGRcIlxuICAgICAgICB9LCBub3JtYWxpemUoaXRlbSwgaW5kZXgsIHByaW1hcnlLZXkpKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHNlY29uZGFyeUtleSkge1xuICAgICAgICBpZiAodHlwZW9mIHNlY29uZGFyeUtleSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGNvbnRlbnQgPSBbY29udGVudCwgc2Vjb25kYXJ5S2V5KGl0ZW0sIGluZGV4KV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29udGVudCA9IFtjb250ZW50LCBSZWFjdC5jcmVhdGVFbGVtZW50KFRleHQsIHtcbiAgICAgICAgICAgIGtleTogXCJzXCJcbiAgICAgICAgICB9LCBub3JtYWxpemUoaXRlbSwgaW5kZXgsIHNlY29uZGFyeUtleSkpXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJveFByb3BzID0ge1xuICAgICAgICAgIGRpcmVjdGlvbjogJ3JvdycsXG4gICAgICAgICAgYWxpZ246ICdjZW50ZXInLFxuICAgICAgICAgIGp1c3RpZnk6ICdiZXR3ZWVuJyxcbiAgICAgICAgICBnYXA6ICdtZWRpdW0nXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgaXRlbSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGNvbnRlbnQgPSBpdGVtW09iamVjdC5rZXlzKGl0ZW0pWzBdXTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29udGVudCA9IGl0ZW07XG4gICAgfVxuXG4gICAgaWYgKGFjdGlvbikge1xuICAgICAgY29udGVudCA9IFtSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwge1xuICAgICAgICBhbGlnbjogXCJzdGFydFwiXG4gICAgICB9LCBjb250ZW50KSwgYWN0aW9uKGl0ZW0sIGluZGV4KV07XG4gICAgICBib3hQcm9wcyA9IHtcbiAgICAgICAgZGlyZWN0aW9uOiAncm93JyxcbiAgICAgICAgYWxpZ246IHNlY29uZGFyeUtleSA/ICdzdGFydCcgOiAnY2VudGVyJyxcbiAgICAgICAganVzdGlmeTogJ2JldHdlZW4nLFxuICAgICAgICBnYXA6ICdtZWRpdW0nXG4gICAgICB9O1xuICAgIH1cblxuICAgIHZhciBhZGp1c3RlZEJhY2tncm91bmQgPSBiYWNrZ3JvdW5kIHx8IHRoZW1lLmxpc3QuaXRlbS5iYWNrZ3JvdW5kO1xuXG4gICAgaWYgKGFjdGl2ZSA9PT0gaW5kZXgpIHtcbiAgICAgIGFkanVzdGVkQmFja2dyb3VuZCA9IHRoZW1lLmdsb2JhbC5ob3Zlci5iYWNrZ3JvdW5kO1xuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShhZGp1c3RlZEJhY2tncm91bmQpKSB7XG4gICAgICBhZGp1c3RlZEJhY2tncm91bmQgPSBhZGp1c3RlZEJhY2tncm91bmRbaW5kZXggJSBhZGp1c3RlZEJhY2tncm91bmQubGVuZ3RoXTtcbiAgICB9XG5cbiAgICB2YXIgYWRqdXN0ZWRCb3JkZXIgPSBib3JkZXIgfHwgdGhlbWUubGlzdC5pdGVtLmJvcmRlcjtcblxuICAgIGlmIChhZGp1c3RlZEJvcmRlciA9PT0gJ2hvcml6b250YWwnICYmIGluZGV4KSB7XG4gICAgICBhZGp1c3RlZEJvcmRlciA9ICdib3R0b20nO1xuICAgIH1cblxuICAgIGlmIChpdGVtUHJvcHMgJiYgaXRlbVByb3BzW2luZGV4XSkge1xuICAgICAgYm94UHJvcHMgPSBfZXh0ZW5kcyh7fSwgYm94UHJvcHMsIHt9LCBpdGVtUHJvcHNbaW5kZXhdKTtcbiAgICB9XG5cbiAgICB2YXIgY2xpY2tQcm9wcztcblxuICAgIGlmIChvbkNsaWNrSXRlbSkge1xuICAgICAgY2xpY2tQcm9wcyA9IHtcbiAgICAgICAgdGFiSW5kZXg6IC0xLFxuICAgICAgICBhY3RpdmU6IGFjdGl2ZSA9PT0gaW5kZXgsXG4gICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soZXZlbnQpIHtcbiAgICAgICAgICBldmVudC5wZXJzaXN0KCk7IC8vIGV4dHJhY3QgZnJvbSBSZWFjdCdzIHN5bnRoZXRpYyBldmVudCBwb29sXG5cbiAgICAgICAgICB2YXIgYWRqdXN0ZWRFdmVudCA9IGV2ZW50O1xuICAgICAgICAgIGFkanVzdGVkRXZlbnQuaXRlbSA9IGl0ZW07XG4gICAgICAgICAgYWRqdXN0ZWRFdmVudC5pbmRleCA9IGluZGV4O1xuICAgICAgICAgIG9uQ2xpY2tJdGVtKGFkanVzdGVkRXZlbnQpO1xuICAgICAgICB9LFxuICAgICAgICBvbk1vdXNlT3ZlcjogZnVuY3Rpb24gb25Nb3VzZU92ZXIoKSB7XG4gICAgICAgICAgcmV0dXJuIHNldEFjdGl2ZShpbmRleCk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uTW91c2VPdXQ6IGZ1bmN0aW9uIG9uTW91c2VPdXQoKSB7XG4gICAgICAgICAgcmV0dXJuIHNldEFjdGl2ZSh1bmRlZmluZWQpO1xuICAgICAgICB9LFxuICAgICAgICBvbkZvY3VzOiBmdW5jdGlvbiBvbkZvY3VzKCkge1xuICAgICAgICAgIHJldHVybiBzZXRBY3RpdmUoaW5kZXgpO1xuICAgICAgICB9LFxuICAgICAgICBvbkJsdXI6IGZ1bmN0aW9uIG9uQmx1cigpIHtcbiAgICAgICAgICByZXR1cm4gc2V0QWN0aXZlKHVuZGVmaW5lZCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkSXRlbSwgX2V4dGVuZHMoe1xuICAgICAga2V5OiBpbmRleCxcbiAgICAgIHRhZzogXCJsaVwiLFxuICAgICAgZmxleDogZmFsc2UsXG4gICAgICBwYWQ6IHBhZCB8fCB0aGVtZS5saXN0Lml0ZW0ucGFkLFxuICAgICAgYmFja2dyb3VuZDogYWRqdXN0ZWRCYWNrZ3JvdW5kLFxuICAgICAgYm9yZGVyOiBhZGp1c3RlZEJvcmRlclxuICAgIH0sIGJveFByb3BzLCBjbGlja1Byb3BzKSwgY29udGVudCk7XG4gIH0pKSk7XG59KTtcbkxpc3QuZGlzcGxheU5hbWUgPSAnTGlzdCc7XG52YXIgTGlzdERvYztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgTGlzdERvYyA9IHJlcXVpcmUoJy4vZG9jJykuZG9jKExpc3QpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGdsb2JhbC1yZXF1aXJlXG59XG5cbnZhciBMaXN0V3JhcHBlciA9IGNvbXBvc2Uod2l0aFRoZW1lLCB3aXRoRm9jdXMoKSwgd2l0aEZvcndhcmRSZWYpKExpc3REb2MgfHwgTGlzdCk7XG5leHBvcnQgeyBMaXN0V3JhcHBlciBhcyBMaXN0IH07IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuaW1wb3J0IHsgZGVzY3JpYmUsIFByb3BUeXBlcyB9IGZyb20gJ3JlYWN0LWRlc2MnO1xuaW1wb3J0IHsgZ2VuZXJpY1Byb3BzLCBnZXRBdmFpbGFibGVBdEJhZGdlIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xudmFyIHNpemVzID0gWyd4eHNtYWxsJywgJ3hzbWFsbCcsICdzbWFsbCcsICdtZWRpdW0nLCAnbGFyZ2UnLCAneGxhcmdlJ107XG52YXIgc2lkZXMgPSBbJ2hvcml6b250YWwnLCAndmVydGljYWwnLCAndG9wJywgJ2JvdHRvbScsICdsZWZ0JywgJ3JpZ2h0J107XG52YXIgcGFkU2hhcGVTaWRlcyA9IHt9O1xuc2lkZXMuZm9yRWFjaChmdW5jdGlvbiAoc2lkZSkge1xuICBwYWRTaGFwZVNpZGVzW3NpZGVdID0gUHJvcFR5cGVzLm9uZU9mKHNpemVzKTtcbn0pO1xudmFyIGJvcmRlclR5cGVzID0gW1Byb3BUeXBlcy5ib29sLCBQcm9wVHlwZXMub25lT2Yoc2lkZXMpLCBQcm9wVHlwZXMuc2hhcGUoe1xuICBjb2xvcjogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLnNoYXBlKHtcbiAgICBkYXJrOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIGxpZ2h0OiBQcm9wVHlwZXMuc3RyaW5nXG4gIH0pXSksXG4gIHNpZGU6IFByb3BUeXBlcy5vbmVPZihzaWRlcyksXG4gIHNpemU6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihzaXplcyksIFByb3BUeXBlcy5zdHJpbmddKVxufSldO1xuZXhwb3J0IHZhciBkb2MgPSBmdW5jdGlvbiBkb2MoTGlzdCkge1xuICB2YXIgRG9jdW1lbnRlZExpc3QgPSBkZXNjcmliZShMaXN0KS5hdmFpbGFibGVBdChnZXRBdmFpbGFibGVBdEJhZGdlKCdMaXN0JykpLmRlc2NyaXB0aW9uKCdBbiBvcmRlcmVkIGxpc3Qgb2YgaXRlbXMuJykudXNhZ2UoXCJpbXBvcnQgeyBMaXN0IH0gZnJvbSAnZ3JvbW1ldCc7XFxuPExpc3QgZGF0YT17Wy4uLl19IC8+XCIpLmludHJpbnNpY0VsZW1lbnQoJ29sJyk7XG4gIERvY3VtZW50ZWRMaXN0LnByb3BUeXBlcyA9IF9leHRlbmRzKHt9LCBnZW5lcmljUHJvcHMsIHtcbiAgICBhczogUHJvcFR5cGVzLnN0cmluZy5kZXNjcmlwdGlvbignVGhlIERPTSB0YWcgb3IgcmVhY3QgY29tcG9uZW50IHRvIHVzZSBmb3IgdGhlIGVsZW1lbnQuJykuZGVmYXVsdFZhbHVlKCd1bCcpLFxuICAgIGJhY2tncm91bmQ6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5zdHJpbmcpXSkuZGVzY3JpcHRpb24oXCJJdGVtIGJhY2tncm91bmQuIEFuIGFycmF5IHZhbHVlIGluZGljYXRlcyB0aGF0IGl0ZW1zIHNob3VsZCBoYXZlXFxuICAgICAgZGlmZmVyZW50IGJhY2tncm91bmRzLCBtb2R1bG8gdGhlIGFycmF5IGluZGV4LlwiKSxcbiAgICBib3JkZXI6IFByb3BUeXBlcy5vbmVPZlR5cGUoYm9yZGVyVHlwZXMpLmRlc2NyaXB0aW9uKFwiSXRlbSBib3JkZXIuXCIpLFxuICAgIGRhdGE6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5zaGFwZSh7fSldKSkuZGVzY3JpcHRpb24oJ0FycmF5IG9mIGRhdGEgb2JqZWN0cy4nKSxcbiAgICBjaGlsZHJlbjogUHJvcFR5cGVzLmZ1bmMuZGVzY3JpcHRpb24oXCJGdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW4gZWFjaCBkYXRhIGl0ZW0gaXMgcmVuZGVyZWQuXFxuICAgICAgSXQgd2lsbCBiZSBwYXNzZWQgdGhyZWUgYXJndW1lbnRzLCB0aGUgaW5kaXZpZHVhbCBkYXRhIGl0ZW0sIGl0cyBpbmRleCxcXG4gICAgICBhbmQgYW4gb2JqZWN0IGluZGljYXRpbmcgdGhlIHN0YXRlIG9mIHRoZSBpdGVtLCBpZiBhbnkuIEl0XFxuICAgICAgc2hvdWxkIHJldHVybiBhIHJlYWN0IGVsZW1lbnQuXFxuICAgICAgRm9yIGV4YW1wbGU6XFxuICAgICAgYGNoaWxkcmVuPXsoaXRlbSwgaW5kZXgsIHsgYWN0aXZlIH0pID0+IDxCb3ggLi4uPnsuLi59PC9Cb3g+fWBcXG4gICAgICBcIiksXG4gICAgaXRlbVByb3BzOiBQcm9wVHlwZXMuc2hhcGUoe30pLmRlc2NyaXB0aW9uKFwiSXRlbSBzcGVjaWZpYyBiYWNrZ3JvdW5kLCBib3JkZXIsIGFuZCBwYWQsIGtleWVkIGJ5IGRhdGEgaW5kZXguXFxuICAgICAgRm9yIGV4YW1wbGU6XFxuICAgICAgeyAyNzogeyBiYWNrZ3JvdW5kOiAuLi4sIGJvcmRlcjogLi4uLCBwYWQ6IC4uLiB9fSxcXG4gICAgICB3aGVyZSB0aGUgYmFja2dyb3VuZCwgYm9yZGVyLCBhbmQgcGFkIGFjY2VwdCB0aGUgc2FtZSB2YWx1ZXMgYXNcXG4gICAgICB0aGUgc2FtZSBuYW1lZCBwcm9wZXJ0aWVzIG9uIExpc3QuXCIpLFxuICAgIG9uTW9yZTogUHJvcFR5cGVzLmZ1bmMuZGVzY3JpcHRpb24oXCJVc2UgdGhpcyB0byBpbmRpY2F0ZSB0aGF0ICdkYXRhJyBkb2Vzbid0IGNvbnRhaW4gYWxsIHRoYXQgaXQgY291bGQuXFxuICAgICAgSXQgd2lsbCBiZSBjYWxsZWQgd2hlbiBhbGwgb2YgdGhlIGRhdGEgaXRlbXMgaGF2ZSBiZWVuIHJlbmRlcmVkLlxcbiAgICAgIFRoaXMgbWlnaHQgYmUgdXNlZCB3aGVuIHRoZSB0b3RhbCBudW1iZXIgb2YgaXRlbXMgdGhhdCBjb3VsZCBiZSByZXRyaWV2ZWRcXG4gICAgICBpcyBtb3JlIHRoYW4geW91J2Qgd2FudCB0byBsb2FkIGludG8gdGhlIGJyb3dzZXIuICdvbk1vcmUnIGFsbG93cyB5b3VcXG4gICAgICB0byBsYXppbHkgZmV0Y2ggbW9yZSBmcm9tIHRoZSBzZXJ2ZXIgb25seSB3aGVuIG5lZWRlZC5cIiksXG4gICAgb25DbGlja0l0ZW06IFByb3BUeXBlcy5mdW5jLmRlc2NyaXB0aW9uKFwiV2hlbiBzdXBwbGllZCwgdGhpcyBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCB3aXRoIGFuIGV2ZW50IG9iamVjdCB0aGF0XFxuICAgICAgaW5jbHVkZSBhICdpdGVtJyBwcm9wZXJ0eSBjb250YWluaW5nIHRoZSBkYXRhIHZhbHVlIGFzc29jaWF0ZWQgd2l0aFxcbiAgICAgIHRoZSBjbGlja2VkIGl0ZW0gYW5kIGFuICdpbmRleCcgcHJvcGVydHkgY29udGFpbmluZyB0aGUgaW5kZXggaW4gJ2RhdGEnXFxuICAgICAgb2YgdGhlIGNsaWNrZWQgaXRlbS4gWW91IHNob3VsZCBub3QgaW5jbHVkZSBpbnRlcmFjdGl2ZSBlbGVtZW50cywgbGlrZVxcbiAgICAgIEFuY2hvciBvciBCdXR0b24gaW5zaWRlICdwcmltYXJ5S2V5JyBvciAnc2Vjb25kYXJ5S2V5JyBhcyB0aGF0IGNhblxcbiAgICAgIGNhdXNlIGNvbmZ1c2lvbiB3aXRoIG92ZXJsYXBwaW5nIGludGVyYWN0aXZlIGVsZW1lbnRzLlwiKSxcbiAgICBwYWQ6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihzaXplcyksIFByb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5zaGFwZShwYWRTaGFwZVNpZGVzKV0pLmRlc2NyaXB0aW9uKFwiSXRlbSBwYWRkaW5nLlwiKSxcbiAgICBwcmltYXJ5S2V5OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMuZnVuY10pLmRlc2NyaXB0aW9uKFwiV2hlbiBhIHN0cmluZyBpcyBzdXBwbGllZCwgaXQgaW5kaWNhdGVzIHRoZSBwcm9wZXJ0eSBpbiBhIGRhdGEgaXRlbVxcbiAgICAgIG9iamVjdCB0byB1c2UgdG8gZ2V0IHRoZSBwcmltYXJ5IGNvbnRlbnQuIElmIGEgZnVuY3Rpb24gaXMgc3VwcGxpZWQsIGl0XFxuICAgICAgd2lsbCBiZSBjYWxsZWQgd2l0aCB0aGUgY3VycmVudCBkYXRhIGl0ZW0gb2JqZWN0IGFuZCBzaG91bGQgcmV0dXJuXFxuICAgICAgYSBSZWFjdCBlbGVtZW50IHRoYXQgd2lsbCBiZSByZW5kZXJlZCBhcyB0aGUgcHJpbWFyeSBjb250ZW50LlwiKSxcbiAgICBzZWNvbmRhcnlLZXk6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5mdW5jXSkuZGVzY3JpcHRpb24oXCJXaGVuIGEgc3RyaW5nIGlzIHN1cHBsaWVkLCBpdCBpbmRpY2F0ZXMgdGhlIHByb3BlcnR5IGluIGEgZGF0YSBpdGVtXFxuICAgICAgb2JqZWN0IHRvIHVzZSB0byBnZXQgdGhlIHNlY29uZGFyeSBjb250ZW50LiBJZiBhIGZ1bmN0aW9uIGlzIHN1cHBsaWVkLCBpdFxcbiAgICAgIHdpbGwgYmUgY2FsbGVkIHdpdGggdGhlIGN1cnJlbnQgZGF0YSBpdGVtIG9iamVjdCBhbmQgc2hvdWxkIHJldHVyblxcbiAgICAgIGEgUmVhY3QgZWxlbWVudCB0aGF0IHdpbGwgYmUgcmVuZGVyZWQgYXMgdGhlIHNlY29uZGFyeSBjb250ZW50LlwiKSxcbiAgICBzdGVwOiBQcm9wVHlwZXMubnVtYmVyLmRlc2NyaXB0aW9uKCdIb3cgbWFueSBpdGVtcyB0byByZW5kZXIgYXQgYSB0aW1lLicpLmRlZmF1bHRWYWx1ZSg1MClcbiAgfSk7XG4gIHJldHVybiBEb2N1bWVudGVkTGlzdDtcbn07XG5leHBvcnQgdmFyIHRoZW1lRG9jID0ge1xuICAnZ2xvYmFsLmhvdmVyLmJhY2tncm91bmQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgYmFja2dyb3VuZCBzdHlsZSB3aGVuIGhvdmVyaW5nIG92ZXIgYW4gaW50ZXJhY3RpdmUgaXRlbS4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCB7IGNvbG9yOiBzdHJpbmcsIG9wYWNpdHk6IHN0cmluZyB9JyxcbiAgICBkZWZhdWx0VmFsdWU6IFwieyBjb2xvcjogJ2FjdGl2ZScsIG9wYWNpdHk6ICdtZWRpdW0nIH1cIlxuICB9LFxuICAnZ2xvYmFsLmhvdmVyLmNvbG9yJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIHRleHQgY29sb3Igd2hlbiBob3ZlcmluZyBvdmVyIGFuIGludGVyYWN0aXZlIGl0ZW0uJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgeyBkYXJrOiBzdHJpbmcsIGxpZ2h0OiBzdHJpbmcgfScsXG4gICAgZGVmYXVsdFZhbHVlOiBcInsgZGFyazogJ3doaXRlJywgbGlnaHQ6ICdibGFjaycgfVwiXG4gIH0sXG4gICdsaXN0LmV4dGVuZCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ0FueSBhZGRpdGlvbmFsIHN0eWxlIGZvciB0aGUgbGlzdC4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCAocHJvcHMpID0+IHt9JyxcbiAgICBkZWZhdWx0VmFsdWU6IHVuZGVmaW5lZFxuICB9LFxuICAnbGlzdC5pdGVtLmJhY2tncm91bmQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdCYWNrZ3JvdW5kIGNvbG9yIGZvciBsaXN0IGl0ZW1zLicsXG4gICAgdHlwZTogJ3N0cmluZyB8IFtzdHJpbmddJyxcbiAgICBkZWZhdWx0VmFsdWU6IHVuZGVmaW5lZFxuICB9LFxuICAnbGlzdC5pdGVtLmJvcmRlcic6IHtcbiAgICBkZXNjcmlwdGlvbjogJ0JvcmRlciBmb3IgbGlzdCBpdGVtcy4nLFxuICAgIHR5cGU6ICdib29sZWFuIHwgc3RyaW5nIHwgb2JqZWN0JyxcbiAgICBkZWZhdWx0VmFsdWU6ICdob3Jpem9udGFsJ1xuICB9LFxuICAnbGlzdC5pdGVtLnBhZCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ0JvcmRlciBmb3IgbGlzdCBpdGVtcy4nLFxuICAgIHR5cGU6ICdib29sZWFuIHwgc3RyaW5nIHwgb2JqZWN0JyxcbiAgICBkZWZhdWx0VmFsdWU6IFwieyBob3Jpem9udGFsOiAnbWVkaXVtJywgdmVydGljYWw6ICdzbWFsbCcgfVwiXG4gIH0sXG4gICdsaXN0Lml0ZW0uZXh0ZW5kJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnQW55IGFkZGl0aW9uYWwgc3R5bGUgZm9yIHRoZSBsaXN0IGl0ZW1zLicsXG4gICAgdHlwZTogJ3N0cmluZyB8IChwcm9wcykgPT4ge30nLFxuICAgIGRlZmF1bHRWYWx1ZTogdW5kZWZpbmVkXG4gIH1cbn07IiwiZXhwb3J0IHsgTGlzdCB9IGZyb20gJy4vTGlzdCc7IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEJveCB9IGZyb20gJy4uL0JveCc7XG5cbnZhciBNYWluID0gZnVuY3Rpb24gTWFpbihfcmVmKSB7XG4gIHZhciByZXN0ID0gX2V4dGVuZHMoe30sIF9yZWYpO1xuXG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwgX2V4dGVuZHMoe1xuICAgIGFzOiBcIm1haW5cIixcbiAgICBmaWxsOiBcInZlcnRpY2FsXCIsXG4gICAgZmxleDogXCJncm93XCIsXG4gICAgb3ZlcmZsb3c6IFwiYXV0b1wiXG4gIH0sIHJlc3QpKTtcbn07XG5cbnZhciBNYWluRG9jO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZ2xvYmFsLXJlcXVpcmVcbiAgTWFpbkRvYyA9IHJlcXVpcmUoJy4vZG9jJykuZG9jKE1haW4pO1xufVxuXG52YXIgTWFpbldyYXBwZXIgPSBNYWluRG9jIHx8IE1haW47XG5leHBvcnQgeyBNYWluV3JhcHBlciBhcyBNYWluIH07IiwiaW1wb3J0IHsgZGVzY3JpYmUgfSBmcm9tICdyZWFjdC1kZXNjJztcbmltcG9ydCB7IGdldEF2YWlsYWJsZUF0QmFkZ2UgfSBmcm9tICcuLi8uLi91dGlscyc7XG5leHBvcnQgdmFyIGRvYyA9IGZ1bmN0aW9uIGRvYyhNYWluKSB7XG4gIHZhciBEb2N1bWVudGVkTWFpbiA9IGRlc2NyaWJlKE1haW4pLmF2YWlsYWJsZUF0KGdldEF2YWlsYWJsZUF0QmFkZ2UoJ01haW4nKSkuZGVzY3JpcHRpb24oJ21haW4gY29udGVudCBvZiBhIGRvY3VtZW50LicpLnVzYWdlKFwiaW1wb3J0IHsgTWFpbiB9IGZyb20gJ2dyb21tZXQnO1xcbjxNYWluIC8+XCIpO1xuICByZXR1cm4gRG9jdW1lbnRlZE1haW47XG59OyIsImV4cG9ydCB7IE1haW4gfSBmcm9tICcuL01haW4nOyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBNYXJrZG93biBmcm9tICdtYXJrZG93bi10by1qc3gnO1xuaW1wb3J0IHsgZGVlcE1lcmdlIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuaW1wb3J0IHsgSGVhZGluZyB9IGZyb20gJy4uL0hlYWRpbmcnO1xuaW1wb3J0IHsgUGFyYWdyYXBoIH0gZnJvbSAnLi4vUGFyYWdyYXBoJztcbmltcG9ydCB7IEFuY2hvciB9IGZyb20gJy4uL0FuY2hvcic7XG5pbXBvcnQgeyBJbWFnZSB9IGZyb20gJy4uL0ltYWdlJztcbmltcG9ydCB7IFRhYmxlIH0gZnJvbSAnLi4vVGFibGUnO1xuaW1wb3J0IHsgVGFibGVCb2R5IH0gZnJvbSAnLi4vVGFibGVCb2R5JztcbmltcG9ydCB7IFRhYmxlQ2VsbCB9IGZyb20gJy4uL1RhYmxlQ2VsbCc7XG5pbXBvcnQgeyBUYWJsZUZvb3RlciB9IGZyb20gJy4uL1RhYmxlRm9vdGVyJztcbmltcG9ydCB7IFRhYmxlSGVhZGVyIH0gZnJvbSAnLi4vVGFibGVIZWFkZXInO1xuaW1wb3J0IHsgVGFibGVSb3cgfSBmcm9tICcuLi9UYWJsZVJvdyc7XG5cbnZhciBHcm9tbWV0TWFya2Rvd24gPSBmdW5jdGlvbiBHcm9tbWV0TWFya2Rvd24oX3JlZikge1xuICB2YXIgY29tcG9uZW50cyA9IF9yZWYuY29tcG9uZW50cyxcbiAgICAgIG9wdGlvbnMgPSBfcmVmLm9wdGlvbnMsXG4gICAgICB0aGVtZSA9IF9yZWYudGhlbWUsXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZiwgW1wiY29tcG9uZW50c1wiLCBcIm9wdGlvbnNcIiwgXCJ0aGVtZVwiXSk7XG5cbiAgdmFyIGhlYWRpbmcgPSBbMSwgMiwgMywgNF0ucmVkdWNlKGZ1bmN0aW9uIChvYmosIGxldmVsKSB7XG4gICAgdmFyIHJlc3VsdCA9IF9leHRlbmRzKHt9LCBvYmopO1xuXG4gICAgcmVzdWx0W1wiaFwiICsgbGV2ZWxdID0ge1xuICAgICAgY29tcG9uZW50OiBIZWFkaW5nLFxuICAgICAgcHJvcHM6IHtcbiAgICAgICAgbGV2ZWw6IGxldmVsXG4gICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9LCB7fSk7XG4gIHZhciBvdmVycmlkZXMgPSBkZWVwTWVyZ2Uoe1xuICAgIGE6IHtcbiAgICAgIGNvbXBvbmVudDogQW5jaG9yXG4gICAgfSxcbiAgICBpbWc6IHtcbiAgICAgIGNvbXBvbmVudDogSW1hZ2VcbiAgICB9LFxuICAgIHA6IHtcbiAgICAgIGNvbXBvbmVudDogUGFyYWdyYXBoXG4gICAgfSxcbiAgICB0YWJsZToge1xuICAgICAgY29tcG9uZW50OiBUYWJsZVxuICAgIH0sXG4gICAgdGQ6IHtcbiAgICAgIGNvbXBvbmVudDogVGFibGVDZWxsXG4gICAgfSxcbiAgICB0Ym9keToge1xuICAgICAgY29tcG9uZW50OiBUYWJsZUJvZHlcbiAgICB9LFxuICAgIHRmb290OiB7XG4gICAgICBjb21wb25lbnQ6IFRhYmxlRm9vdGVyXG4gICAgfSxcbiAgICB0aDoge1xuICAgICAgY29tcG9uZW50OiBUYWJsZUNlbGxcbiAgICB9LFxuICAgIHRoZWFkOiB7XG4gICAgICBjb21wb25lbnQ6IFRhYmxlSGVhZGVyXG4gICAgfSxcbiAgICB0cjoge1xuICAgICAgY29tcG9uZW50OiBUYWJsZVJvd1xuICAgIH1cbiAgfSwgaGVhZGluZywgY29tcG9uZW50cywgb3B0aW9ucyAmJiBvcHRpb25zLm92ZXJyaWRlcyk7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KE1hcmtkb3duLCBfZXh0ZW5kcyh7XG4gICAgb3B0aW9uczogX2V4dGVuZHMoe30sIG9wdGlvbnMsIHtcbiAgICAgIG92ZXJyaWRlczogb3ZlcnJpZGVzXG4gICAgfSlcbiAgfSwgcmVzdCkpO1xufTtcblxudmFyIEdyb21tZXRNYXJrZG93bkRvYztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGdsb2JhbC1yZXF1aXJlXG4gIEdyb21tZXRNYXJrZG93bkRvYyA9IHJlcXVpcmUoJy4vZG9jJykuZG9jKEdyb21tZXRNYXJrZG93bik7XG59XG5cbnZhciBHcm9tbWV0TWFya2Rvd25XcmFwcGVyID0gR3JvbW1ldE1hcmtkb3duRG9jIHx8IEdyb21tZXRNYXJrZG93bjtcbmV4cG9ydCB7IEdyb21tZXRNYXJrZG93bldyYXBwZXIgYXMgTWFya2Rvd24gfTsiLCJpbXBvcnQgeyBkZXNjcmliZSwgUHJvcFR5cGVzIH0gZnJvbSAncmVhY3QtZGVzYyc7XG5pbXBvcnQgeyBnZXRBdmFpbGFibGVBdEJhZGdlIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuZXhwb3J0IHZhciBkb2MgPSBmdW5jdGlvbiBkb2MoTWFya2Rvd24pIHtcbiAgdmFyIERvY3VtZW50ZWRNYXJrZG93biA9IGRlc2NyaWJlKE1hcmtkb3duKS5hdmFpbGFibGVBdChnZXRBdmFpbGFibGVBdEJhZGdlKCdNYXJrZG93bicpKS5kZXNjcmlwdGlvbignTWFya2Rvd24gZm9ybWF0dGluZyB1c2luZyBHcm9tbWV0IGNvbXBvbmVudHMuJykudXNhZ2UoXCJpbXBvcnQgeyBNYXJrZG93biB9IGZyb20gJ2dyb21tZXQnO1xcbiAgICAgIDxNYXJrZG93bj57Y29udGVudH08L01hcmtkb3duPlwiKS5pbnRyaW5zaWNFbGVtZW50KCdkaXYnKTtcbiAgRG9jdW1lbnRlZE1hcmtkb3duLnByb3BUeXBlcyA9IHtcbiAgICBjb21wb25lbnRzOiBQcm9wVHlwZXMuc2hhcGUoe30pLmRlc2NyaXB0aW9uKFwiQ3VzdG9tIGNvbXBvbmVudHMgYW5kIHByb3BzIHRvIG92ZXJyaWRlIGh0bWwgZWxlbWVudHMgc3VjaCBhcyAnaW1nJ1xcbiAgICAgIG9yICdwcmUnLiBCeSBkZWZhdWx0ICdhJywgJ3AnLCAnaW1nJywgYW5kIHRhYmxlIGVsZW1lbnRzIGFyZSBvdmVycmlkZGVuXFxuICAgICAgd2l0aCBncm9tbWV0IGNvbXBvbmVudHNcIilcbiAgfTtcbiAgcmV0dXJuIERvY3VtZW50ZWRNYXJrZG93bjtcbn07IiwiZXhwb3J0IHsgTWFya2Rvd24gfSBmcm9tICcuL01hcmtkb3duJzsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHNMb29zZShzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MucHJvdG90eXBlKTsgc3ViQ2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gc3ViQ2xhc3M7IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbXBvc2UgfSBmcm9tICdyZWNvbXBvc2UnO1xuaW1wb3J0IHsgVGhlbWVDb250ZXh0IH0gZnJvbSAnLi4vLi4vY29udGV4dHMnO1xuaW1wb3J0IHsgZGVmYXVsdFByb3BzIH0gZnJvbSAnLi4vLi4vZGVmYXVsdC1wcm9wcyc7XG5pbXBvcnQgeyBCb3ggfSBmcm9tICcuLi9Cb3gnO1xuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnLi4vQnV0dG9uJztcbmltcG9ydCB7IERyb3AgfSBmcm9tICcuLi9Ecm9wJztcbmltcG9ydCB7IEtleWJvYXJkIH0gZnJvbSAnLi4vS2V5Ym9hcmQnO1xuaW1wb3J0IHsgd2l0aEZvY3VzLCB3aXRoRm9yd2FyZFJlZiB9IGZyb20gJy4uL2hvY3MnO1xuaW1wb3J0IHsgU3R5bGVkTWFza2VkSW5wdXQsIFN0eWxlZE1hc2tlZElucHV0Q29udGFpbmVyIH0gZnJvbSAnLi9TdHlsZWRNYXNrZWRJbnB1dCc7XG5cbnZhciBwYXJzZVZhbHVlID0gZnVuY3Rpb24gcGFyc2VWYWx1ZShtYXNrLCB2YWx1ZSkge1xuICAvLyBicmVhayB0aGUgdmFsdWUgdXAgaW50byBtYXNrIHBhcnRzXG4gIHZhciB2YWx1ZVBhcnRzID0gW107IC8vIHsgcGFydCwgYmVnaW5JbmRleCwgZW5kSW5kZXggfVxuXG4gIHZhciB2YWx1ZUluZGV4ID0gMDtcbiAgdmFyIG1hc2tJbmRleCA9IDA7XG5cbiAgd2hpbGUgKHZhbHVlICE9PSB1bmRlZmluZWQgJiYgdmFsdWVJbmRleCA8IHZhbHVlLmxlbmd0aCAmJiBtYXNrSW5kZXggPCBtYXNrLmxlbmd0aCkge1xuICAgIHZhciBpdGVtID0gbWFza1ttYXNrSW5kZXhdO1xuICAgIHZhciBmb3VuZCA9IHZvaWQgMDtcblxuICAgIGlmIChpdGVtLmZpeGVkKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gaXRlbS5maXhlZC5sZW5ndGg7XG4gICAgICB2YWx1ZVBhcnRzLnB1c2goe1xuICAgICAgICBwYXJ0OiBpdGVtLmZpeGVkLFxuICAgICAgICBiZWdpbkluZGV4OiB2YWx1ZUluZGV4LFxuICAgICAgICBlbmRJbmRleDogdmFsdWVJbmRleCArIGxlbmd0aCAtIDFcbiAgICAgIH0pO1xuICAgICAgdmFyIHBhcnQgPSB2YWx1ZS5zbGljZSh2YWx1ZUluZGV4LCB2YWx1ZUluZGV4ICsgbGVuZ3RoKTtcblxuICAgICAgaWYgKHBhcnQgPT09IGl0ZW0uZml4ZWQpIHtcbiAgICAgICAgdmFsdWVJbmRleCArPSBsZW5ndGg7XG4gICAgICB9XG5cbiAgICAgIG1hc2tJbmRleCArPSAxO1xuICAgICAgZm91bmQgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAoaXRlbS5vcHRpb25zKSB7XG4gICAgICAvLyByZXZlcnNlIGFzc3VtaW5nIGxhcmdlciBpcyBsYXRlclxuICAgICAgZm91bmQgPSBpdGVtLm9wdGlvbnMuc2xpY2UoMCkucmV2ZXJzZSgpIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1sb29wLWZ1bmNcbiAgICAgIC5zb21lKGZ1bmN0aW9uIChvcHRpb24pIHtcbiAgICAgICAgdmFyIGxlbmd0aCA9IG9wdGlvbi5sZW5ndGg7XG4gICAgICAgIHZhciBwYXJ0ID0gdmFsdWUuc2xpY2UodmFsdWVJbmRleCwgdmFsdWVJbmRleCArIGxlbmd0aCk7XG5cbiAgICAgICAgaWYgKHBhcnQgPT09IG9wdGlvbikge1xuICAgICAgICAgIHZhbHVlUGFydHMucHVzaCh7XG4gICAgICAgICAgICBwYXJ0OiBwYXJ0LFxuICAgICAgICAgICAgYmVnaW5JbmRleDogdmFsdWVJbmRleCxcbiAgICAgICAgICAgIGVuZEluZGV4OiB2YWx1ZUluZGV4ICsgbGVuZ3RoIC0gMVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHZhbHVlSW5kZXggKz0gbGVuZ3RoO1xuICAgICAgICAgIG1hc2tJbmRleCArPSAxO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKCFmb3VuZCkge1xuICAgICAgaWYgKGl0ZW0ucmVnZXhwKSB7XG4gICAgICAgIHZhciBtaW5MZW5ndGggPSBBcnJheS5pc0FycmF5KGl0ZW0ubGVuZ3RoKSAmJiBpdGVtLmxlbmd0aFswXSB8fCBpdGVtLmxlbmd0aCB8fCAxO1xuICAgICAgICB2YXIgbWF4TGVuZ3RoID0gQXJyYXkuaXNBcnJheShpdGVtLmxlbmd0aCkgJiYgaXRlbS5sZW5ndGhbMV0gfHwgaXRlbS5sZW5ndGggfHwgdmFsdWUubGVuZ3RoIC0gdmFsdWVJbmRleDtcbiAgICAgICAgdmFyIF9sZW5ndGggPSBtYXhMZW5ndGg7XG5cbiAgICAgICAgd2hpbGUgKCFmb3VuZCAmJiBfbGVuZ3RoID49IG1pbkxlbmd0aCkge1xuICAgICAgICAgIHZhciBfcGFydCA9IHZhbHVlLnNsaWNlKHZhbHVlSW5kZXgsIHZhbHVlSW5kZXggKyBfbGVuZ3RoKTtcblxuICAgICAgICAgIGlmIChpdGVtLnJlZ2V4cC50ZXN0KF9wYXJ0KSkge1xuICAgICAgICAgICAgdmFsdWVQYXJ0cy5wdXNoKHtcbiAgICAgICAgICAgICAgcGFydDogX3BhcnQsXG4gICAgICAgICAgICAgIGJlZ2luSW5kZXg6IHZhbHVlSW5kZXgsXG4gICAgICAgICAgICAgIGVuZEluZGV4OiB2YWx1ZUluZGV4ICsgX2xlbmd0aCAtIDFcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFsdWVJbmRleCArPSBfbGVuZ3RoO1xuICAgICAgICAgICAgbWFza0luZGV4ICs9IDE7XG4gICAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX2xlbmd0aCAtPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFmb3VuZCkge1xuICAgICAgICAgIHZhbHVlSW5kZXggPSB2YWx1ZS5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBfbGVuZ3RoMiA9IEFycmF5LmlzQXJyYXkoaXRlbS5sZW5ndGgpID8gaXRlbS5sZW5ndGhbMV0gOiBpdGVtLmxlbmd0aCB8fCB2YWx1ZS5sZW5ndGggLSB2YWx1ZUluZGV4O1xuXG4gICAgICAgIHZhciBfcGFydDIgPSB2YWx1ZS5zbGljZSh2YWx1ZUluZGV4LCB2YWx1ZUluZGV4ICsgX2xlbmd0aDIpO1xuXG4gICAgICAgIHZhbHVlUGFydHMucHVzaCh7XG4gICAgICAgICAgcGFydDogX3BhcnQyLFxuICAgICAgICAgIGJlZ2luSW5kZXg6IHZhbHVlSW5kZXgsXG4gICAgICAgICAgZW5kSW5kZXg6IHZhbHVlSW5kZXggKyBfbGVuZ3RoMiAtIDFcbiAgICAgICAgfSk7XG4gICAgICAgIHZhbHVlSW5kZXggKz0gX2xlbmd0aDI7XG4gICAgICAgIG1hc2tJbmRleCArPSAxO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB2YWx1ZVBhcnRzO1xufTtcblxudmFyIE1hc2tlZElucHV0ID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKE1hc2tlZElucHV0LCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBNYXNrZWRJbnB1dCgpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgX3RoaXMgPSBfQ29tcG9uZW50LmNhbGwuYXBwbHkoX0NvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChhcmdzKSkgfHwgdGhpcztcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJzdGF0ZVwiLCB7fSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiaW5wdXRSZWZcIiwgUmVhY3QuY3JlYXRlUmVmKCkpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcImRyb3BSZWZcIiwgUmVhY3QuY3JlYXRlUmVmKCkpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcImxvY2F0ZUNhcmV0XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIGxlYXZlIHRpbWUgZm9yIGNhcmV0IHRvIGJlIHBsYWNlZCBhZnRlciByZWNlaXZpbmcgZm9jdXNcbiAgICAgIGNsZWFyVGltZW91dChfdGhpcy5jYXJldFRpbWVvdXQpO1xuICAgICAgX3RoaXMuY2FyZXRUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBtYXNrID0gX3RoaXMucHJvcHMubWFzaztcbiAgICAgICAgdmFyIF90aGlzJHN0YXRlID0gX3RoaXMuc3RhdGUsXG4gICAgICAgICAgICBhY3RpdmVNYXNrSW5kZXggPSBfdGhpcyRzdGF0ZS5hY3RpdmVNYXNrSW5kZXgsXG4gICAgICAgICAgICB2YWx1ZVBhcnRzID0gX3RoaXMkc3RhdGUudmFsdWVQYXJ0cztcblxuICAgICAgICBpZiAoX3RoaXMuaW5wdXRSZWYuY3VycmVudCkge1xuICAgICAgICAgIC8vIGRldGVybWluZSB3aGljaCBtYXNrIGVsZW1lbnQgdGhlIGNhcmV0IGlzIGF0XG4gICAgICAgICAgdmFyIGNhcmV0SW5kZXggPSBfdGhpcy5pbnB1dFJlZi5jdXJyZW50LnNlbGVjdGlvblN0YXJ0O1xuICAgICAgICAgIHZhciBtYXNrSW5kZXg7XG4gICAgICAgICAgdmFsdWVQYXJ0cy5zb21lKGZ1bmN0aW9uIChwYXJ0LCBpbmRleCkge1xuICAgICAgICAgICAgaWYgKHBhcnQuYmVnaW5JbmRleCA8PSBjYXJldEluZGV4ICYmIHBhcnQuZW5kSW5kZXggPj0gY2FyZXRJbmRleCkge1xuICAgICAgICAgICAgICBtYXNrSW5kZXggPSBpbmRleDtcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGlmIChtYXNrSW5kZXggPT09IHVuZGVmaW5lZCAmJiB2YWx1ZVBhcnRzLmxlbmd0aCA8IG1hc2subGVuZ3RoKSB7XG4gICAgICAgICAgICBtYXNrSW5kZXggPSB2YWx1ZVBhcnRzLmxlbmd0aDsgLy8gZmlyc3QgdW51c2VkIG9uZVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChtYXNrSW5kZXggJiYgbWFza1ttYXNrSW5kZXhdLmZpeGVkKSB7XG4gICAgICAgICAgICBtYXNrSW5kZXggLT0gMTsgLy8gZml4ZWQgbWFzayBwYXJ0cyBhcmUgbmV2ZXIgXCJhY3RpdmVcIlxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChtYXNrSW5kZXggIT09IGFjdGl2ZU1hc2tJbmRleCkge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0L25vLWRpZC11cGRhdGUtc2V0LXN0YXRlXG4gICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgIGFjdGl2ZU1hc2tJbmRleDogbWFza0luZGV4LFxuICAgICAgICAgICAgICBhY3RpdmVPcHRpb25JbmRleDogLTEsXG4gICAgICAgICAgICAgIHNob3dEcm9wOiBtYXNrSW5kZXggPj0gMCAmJiBtYXNrW21hc2tJbmRleF0ub3B0aW9ucyAmJiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sIDEwKTsgLy8gMTBtcyBlbXBpcmljYWxseSBjaG9zZW5cbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJvbkZvY3VzXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgdmFyIG9uRm9jdXMgPSBfdGhpcy5wcm9wcy5vbkZvY3VzO1xuXG4gICAgICBfdGhpcy5sb2NhdGVDYXJldCgpO1xuXG4gICAgICBpZiAob25Gb2N1cykge1xuICAgICAgICBvbkZvY3VzKGV2ZW50KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJvbkJsdXJcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAvLyBkZWxheSBzbyB3ZSBkb24ndCByZW1vdmUgdGhlIGRyb3AgYmVmb3JlIEJ1dHRvbiBldmVudHMgY2FuIGJlIHByb2Nlc3NlZFxuICAgICAgdmFyIG9uQmx1ciA9IF90aGlzLnByb3BzLm9uQmx1cjtcbiAgICAgIGNsZWFyVGltZW91dChfdGhpcy5ibHVyVGltZW91dCk7XG4gICAgICBfdGhpcy5ibHVyVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2hvd0Ryb3AgPSBfdGhpcy5zdGF0ZS5zaG93RHJvcDtcblxuICAgICAgICBpZiAoc2hvd0Ryb3AgJiYgX3RoaXMuZHJvcFJlZi5jdXJyZW50ICYmIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgIT09IF90aGlzLmlucHV0UmVmLmN1cnJlbnQgJiYgIV90aGlzLmRyb3BSZWYuY3VycmVudC5wYXJlbnROb2RlLmNvbnRhaW5zKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpKSB7XG4gICAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgYWN0aXZlTWFza0luZGV4OiB1bmRlZmluZWQsXG4gICAgICAgICAgICBzaG93RHJvcDogZmFsc2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSwgMTApOyAvLyAxMG1zIGVtcGlyaWNhbGx5IGNob3NlblxuXG4gICAgICBpZiAob25CbHVyKSB7XG4gICAgICAgIG9uQmx1cihldmVudCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwic2V0VmFsdWVcIiwgZnVuY3Rpb24gKG5leHRWYWx1ZSkge1xuICAgICAgLy8gQ2FsbGluZyBzZXQgdmFsdWUgZnVuY3Rpb24gZGlyZWN0bHkgb24gaW5wdXQgYmVjYXVzZSBSZWFjdCBsaWJyYXJ5XG4gICAgICAvLyBvdmVycmlkZXMgc2V0dGVyIGBldmVudC50YXJnZXQudmFsdWUgPWAgYW5kIGxvc2VzIG9yaWdpbmFsIGV2ZW50XG4gICAgICAvLyB0YXJnZXQgZmlkZWxpdHkuXG4gICAgICAvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNDYwMTIyMTAgJiZcbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9ncm9tbWV0L2dyb21tZXQvcHVsbC8zMTcxI2Rpc2N1c3Npb25fcjI5NjQxNTIzOVxuICAgICAgdmFyIG5hdGl2ZUlucHV0VmFsdWVTZXR0ZXIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHdpbmRvdy5IVE1MSW5wdXRFbGVtZW50LnByb3RvdHlwZSwgJ3ZhbHVlJykuc2V0O1xuICAgICAgbmF0aXZlSW5wdXRWYWx1ZVNldHRlci5jYWxsKF90aGlzLmlucHV0UmVmLmN1cnJlbnQsIG5leHRWYWx1ZSk7XG4gICAgICB2YXIgZXZlbnQgPSBuZXcgRXZlbnQoJ2lucHV0Jywge1xuICAgICAgICBidWJibGVzOiB0cnVlXG4gICAgICB9KTtcblxuICAgICAgX3RoaXMuaW5wdXRSZWYuY3VycmVudC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJvbkNoYW5nZVwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIG9uQ2hhbmdlID0gX3RoaXMkcHJvcHMub25DaGFuZ2UsXG4gICAgICAgICAgbWFzayA9IF90aGlzJHByb3BzLm1hc2s7XG4gICAgICB2YXIgdmFsdWUgPSBldmVudC50YXJnZXQudmFsdWU7IC8vIEFsaWduIHdpdGggdGhlIG1hc2suXG5cbiAgICAgIHZhciB2YWx1ZVBhcnRzID0gcGFyc2VWYWx1ZShtYXNrLCB2YWx1ZSk7XG4gICAgICB2YXIgbmV4dFZhbHVlID0gdmFsdWVQYXJ0cy5tYXAoZnVuY3Rpb24gKHBhcnQpIHtcbiAgICAgICAgcmV0dXJuIHBhcnQucGFydDtcbiAgICAgIH0pLmpvaW4oJycpO1xuXG4gICAgICBpZiAodmFsdWUgPT09IG5leHRWYWx1ZSkge1xuICAgICAgICBpZiAob25DaGFuZ2UpIHtcbiAgICAgICAgICBvbkNoYW5nZShldmVudCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF90aGlzLnNldFZhbHVlKG5leHRWYWx1ZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwib25PcHRpb25cIiwgZnVuY3Rpb24gKG9wdGlvbikge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG1hc2sgPSBfdGhpcy5wcm9wcy5tYXNrO1xuICAgICAgICB2YXIgX3RoaXMkc3RhdGUyID0gX3RoaXMuc3RhdGUsXG4gICAgICAgICAgICBhY3RpdmVNYXNrSW5kZXggPSBfdGhpcyRzdGF0ZTIuYWN0aXZlTWFza0luZGV4LFxuICAgICAgICAgICAgdmFsdWVQYXJ0cyA9IF90aGlzJHN0YXRlMi52YWx1ZVBhcnRzO1xuICAgICAgICB2YXIgbmV4dFZhbHVlUGFydHMgPSBbXS5jb25jYXQodmFsdWVQYXJ0cyk7XG4gICAgICAgIG5leHRWYWx1ZVBhcnRzW2FjdGl2ZU1hc2tJbmRleF0gPSB7XG4gICAgICAgICAgcGFydDogb3B0aW9uXG4gICAgICAgIH07IC8vIGFkZCBhbnkgZml4ZWQgcGFydHMgdGhhdCBmb2xsb3dcblxuICAgICAgICB2YXIgaW5kZXggPSBhY3RpdmVNYXNrSW5kZXggKyAxO1xuXG4gICAgICAgIHdoaWxlIChpbmRleCA8IG1hc2subGVuZ3RoICYmICFuZXh0VmFsdWVQYXJ0c1tpbmRleF0gJiYgbWFza1tpbmRleF0uZml4ZWQpIHtcbiAgICAgICAgICBuZXh0VmFsdWVQYXJ0c1tpbmRleF0gPSB7XG4gICAgICAgICAgICBwYXJ0OiBtYXNrW2luZGV4XS5maXhlZFxuICAgICAgICAgIH07XG4gICAgICAgICAgaW5kZXggKz0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBuZXh0VmFsdWUgPSBuZXh0VmFsdWVQYXJ0cy5tYXAoZnVuY3Rpb24gKHBhcnQpIHtcbiAgICAgICAgICByZXR1cm4gcGFydC5wYXJ0O1xuICAgICAgICB9KS5qb2luKCcnKTtcblxuICAgICAgICBfdGhpcy5zZXRWYWx1ZShuZXh0VmFsdWUpOyAvLyByZXN0b3JlIGZvY3VzIHRvIGlucHV0XG5cblxuICAgICAgICBfdGhpcy5pbnB1dFJlZi5jdXJyZW50LmZvY3VzKCk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIm9uTmV4dE9wdGlvblwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBtYXNrID0gX3RoaXMucHJvcHMubWFzaztcbiAgICAgIHZhciBfdGhpcyRzdGF0ZTMgPSBfdGhpcy5zdGF0ZSxcbiAgICAgICAgICBhY3RpdmVNYXNrSW5kZXggPSBfdGhpcyRzdGF0ZTMuYWN0aXZlTWFza0luZGV4LFxuICAgICAgICAgIGFjdGl2ZU9wdGlvbkluZGV4ID0gX3RoaXMkc3RhdGUzLmFjdGl2ZU9wdGlvbkluZGV4O1xuICAgICAgdmFyIGl0ZW0gPSBtYXNrW2FjdGl2ZU1hc2tJbmRleF07XG5cbiAgICAgIGlmIChpdGVtICYmIGl0ZW0ub3B0aW9ucykge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB2YXIgaW5kZXggPSBNYXRoLm1pbihhY3RpdmVPcHRpb25JbmRleCArIDEsIGl0ZW0ub3B0aW9ucy5sZW5ndGggLSAxKTtcblxuICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgYWN0aXZlT3B0aW9uSW5kZXg6IGluZGV4XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIm9uUHJldmlvdXNPcHRpb25cIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgbWFzayA9IF90aGlzLnByb3BzLm1hc2s7XG4gICAgICB2YXIgX3RoaXMkc3RhdGU0ID0gX3RoaXMuc3RhdGUsXG4gICAgICAgICAgYWN0aXZlTWFza0luZGV4ID0gX3RoaXMkc3RhdGU0LmFjdGl2ZU1hc2tJbmRleCxcbiAgICAgICAgICBhY3RpdmVPcHRpb25JbmRleCA9IF90aGlzJHN0YXRlNC5hY3RpdmVPcHRpb25JbmRleDtcblxuICAgICAgaWYgKGFjdGl2ZU1hc2tJbmRleCA+PSAwICYmIG1hc2tbYWN0aXZlTWFza0luZGV4XS5vcHRpb25zKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHZhciBpbmRleCA9IE1hdGgubWF4KGFjdGl2ZU9wdGlvbkluZGV4IC0gMSwgMCk7XG5cbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGFjdGl2ZU9wdGlvbkluZGV4OiBpbmRleFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJvblNlbGVjdE9wdGlvblwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBtYXNrID0gX3RoaXMucHJvcHMubWFzaztcbiAgICAgIHZhciBfdGhpcyRzdGF0ZTUgPSBfdGhpcy5zdGF0ZSxcbiAgICAgICAgICBhY3RpdmVNYXNrSW5kZXggPSBfdGhpcyRzdGF0ZTUuYWN0aXZlTWFza0luZGV4LFxuICAgICAgICAgIGFjdGl2ZU9wdGlvbkluZGV4ID0gX3RoaXMkc3RhdGU1LmFjdGl2ZU9wdGlvbkluZGV4O1xuXG4gICAgICBpZiAoYWN0aXZlTWFza0luZGV4ID49IDAgJiYgYWN0aXZlT3B0aW9uSW5kZXggPj0gMCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB2YXIgb3B0aW9uID0gbWFza1thY3RpdmVNYXNrSW5kZXhdLm9wdGlvbnNbYWN0aXZlT3B0aW9uSW5kZXhdO1xuXG4gICAgICAgIF90aGlzLm9uT3B0aW9uKG9wdGlvbikoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJvbkVzY1wiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBzaG93RHJvcCA9IF90aGlzLnN0YXRlLnNob3dEcm9wO1xuXG4gICAgICBpZiAoc2hvd0Ryb3ApIHtcbiAgICAgICAgLy8gd2UgaGF2ZSB0byBzdG9wIGJvdGggc3ludGhldGljIGV2ZW50cyBhbmQgbmF0aXZlIGV2ZW50c1xuICAgICAgICAvLyBkcm9wIGFuZCBsYXllciBzaG91bGQgbm90IGNsb3NlIGJ5IHByZXNzaW5nIGVzYyBvbiB0aGlzIGlucHV0XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBldmVudC5uYXRpdmVFdmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcblxuICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgc2hvd0Ryb3A6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcInJlbmRlclBsYWNlaG9sZGVyXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBtYXNrID0gX3RoaXMucHJvcHMubWFzaztcbiAgICAgIHJldHVybiBtYXNrLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICByZXR1cm4gaXRlbS5wbGFjZWhvbGRlciB8fCBpdGVtLmZpeGVkO1xuICAgICAgfSkuam9pbignJyk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBNYXNrZWRJbnB1dC5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPSBmdW5jdGlvbiBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMobmV4dFByb3BzLCBwcmV2U3RhdGUpIHtcbiAgICB2YXIgbWFzayA9IG5leHRQcm9wcy5tYXNrLFxuICAgICAgICB2YWx1ZSA9IG5leHRQcm9wcy52YWx1ZTtcbiAgICB2YXIgcHJpb3JNYXNrID0gcHJldlN0YXRlLnByaW9yTWFzayxcbiAgICAgICAgcHJpb3JWYWx1ZSA9IHByZXZTdGF0ZS5wcmlvclZhbHVlO1xuXG4gICAgaWYgKHByaW9yTWFzayAhPT0gbWFzayB8fCBwcmlvclZhbHVlICE9PSB2YWx1ZSkge1xuICAgICAgdmFyIHZhbHVlUGFydHMgPSBwYXJzZVZhbHVlKG1hc2ssIHZhbHVlKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHByaW9yTWFzazogbWFzayxcbiAgICAgICAgcHJpb3JWYWx1ZTogdmFsdWUsXG4gICAgICAgIHZhbHVlUGFydHM6IHZhbHVlUGFydHNcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgdmFyIF9wcm90byA9IE1hc2tlZElucHV0LnByb3RvdHlwZTtcblxuICBfcHJvdG8uY29tcG9uZW50RGlkVXBkYXRlID0gZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgIHZhciBmb2N1cyA9IHRoaXMucHJvcHMuZm9jdXM7XG5cbiAgICBpZiAoZm9jdXMpIHtcbiAgICAgIHRoaXMubG9jYXRlQ2FyZXQoKTtcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuY2FyZXRUaW1lb3V0KTtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5ibHVyVGltZW91dCk7XG4gIH07XG5cbiAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIHZhciBfdGhpcyRwcm9wczIgPSB0aGlzLnByb3BzLFxuICAgICAgICBkZWZhdWx0VmFsdWUgPSBfdGhpcyRwcm9wczIuZGVmYXVsdFZhbHVlLFxuICAgICAgICBmb3J3YXJkUmVmID0gX3RoaXMkcHJvcHMyLmZvcndhcmRSZWYsXG4gICAgICAgIGlkID0gX3RoaXMkcHJvcHMyLmlkLFxuICAgICAgICBwbGFjZWhvbGRlciA9IF90aGlzJHByb3BzMi5wbGFjZWhvbGRlcixcbiAgICAgICAgcGxhaW4gPSBfdGhpcyRwcm9wczIucGxhaW4sXG4gICAgICAgIG1hc2sgPSBfdGhpcyRwcm9wczIubWFzayxcbiAgICAgICAgdmFsdWUgPSBfdGhpcyRwcm9wczIudmFsdWUsXG4gICAgICAgIG9uQ2hhbmdlID0gX3RoaXMkcHJvcHMyLm9uQ2hhbmdlLFxuICAgICAgICBvbktleURvd24gPSBfdGhpcyRwcm9wczIub25LZXlEb3duLFxuICAgICAgICBwcm9wc1RoZW1lID0gX3RoaXMkcHJvcHMyLnRoZW1lLFxuICAgICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3RoaXMkcHJvcHMyLCBbXCJkZWZhdWx0VmFsdWVcIiwgXCJmb3J3YXJkUmVmXCIsIFwiaWRcIiwgXCJwbGFjZWhvbGRlclwiLCBcInBsYWluXCIsIFwibWFza1wiLCBcInZhbHVlXCIsIFwib25DaGFuZ2VcIiwgXCJvbktleURvd25cIiwgXCJ0aGVtZVwiXSk7XG5cbiAgICB2YXIgdGhlbWUgPSB0aGlzLmNvbnRleHQgfHwgcHJvcHNUaGVtZTtcbiAgICB2YXIgX3RoaXMkc3RhdGU2ID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgYWN0aXZlTWFza0luZGV4ID0gX3RoaXMkc3RhdGU2LmFjdGl2ZU1hc2tJbmRleCxcbiAgICAgICAgYWN0aXZlT3B0aW9uSW5kZXggPSBfdGhpcyRzdGF0ZTYuYWN0aXZlT3B0aW9uSW5kZXgsXG4gICAgICAgIHNob3dEcm9wID0gX3RoaXMkc3RhdGU2LnNob3dEcm9wO1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZE1hc2tlZElucHV0Q29udGFpbmVyLCB7XG4gICAgICBwbGFpbjogcGxhaW5cbiAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KEtleWJvYXJkLCB7XG4gICAgICBvbkVzYzogdGhpcy5vbkVzYyxcbiAgICAgIG9uVGFiOiB0aGlzLm9uVGFiLFxuICAgICAgb25MZWZ0OiB0aGlzLmxvY2F0ZUNhcmV0LFxuICAgICAgb25SaWdodDogdGhpcy5sb2NhdGVDYXJldCxcbiAgICAgIG9uVXA6IHRoaXMub25QcmV2aW91c09wdGlvbixcbiAgICAgIG9uRG93bjogdGhpcy5vbk5leHRPcHRpb24sXG4gICAgICBvbkVudGVyOiB0aGlzLm9uU2VsZWN0T3B0aW9uLFxuICAgICAgb25LZXlEb3duOiBvbktleURvd25cbiAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZE1hc2tlZElucHV0LCBfZXh0ZW5kcyh7XG4gICAgICBpZDogaWQsXG4gICAgICByZWY6IGZ1bmN0aW9uIHJlZihub2RlKSB7XG4gICAgICAgIF90aGlzMi5pbnB1dFJlZi5jdXJyZW50ID0gbm9kZTtcblxuICAgICAgICBpZiAoZm9yd2FyZFJlZikge1xuICAgICAgICAgIGlmICh0eXBlb2YgZm9yd2FyZFJlZiA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGZvcndhcmRSZWYuY3VycmVudCA9IG5vZGU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZvcndhcmRSZWYobm9kZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgYXV0b0NvbXBsZXRlOiBcIm9mZlwiLFxuICAgICAgcGxhaW46IHBsYWluLFxuICAgICAgcGxhY2Vob2xkZXI6IHBsYWNlaG9sZGVyIHx8IHRoaXMucmVuZGVyUGxhY2Vob2xkZXIoKVxuICAgIH0sIHJlc3QsIHtcbiAgICAgIGRlZmF1bHRWYWx1ZTogZGVmYXVsdFZhbHVlLFxuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgdGhlbWU6IHRoZW1lLFxuICAgICAgb25Gb2N1czogdGhpcy5vbkZvY3VzLFxuICAgICAgb25CbHVyOiB0aGlzLm9uQmx1cixcbiAgICAgIG9uQ2hhbmdlOiB0aGlzLm9uQ2hhbmdlXG4gICAgfSkpKSwgc2hvd0Ryb3AgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChEcm9wLCB7XG4gICAgICBpZDogaWQgPyBcIm1hc2tlZC1pbnB1dC1kcm9wX19cIiArIGlkIDogdW5kZWZpbmVkLFxuICAgICAgYWxpZ246IHtcbiAgICAgICAgdG9wOiAnYm90dG9tJyxcbiAgICAgICAgbGVmdDogJ2xlZnQnXG4gICAgICB9LFxuICAgICAgcmVzcG9uc2l2ZTogZmFsc2UsXG4gICAgICB0YXJnZXQ6IHRoaXMuaW5wdXRSZWYuY3VycmVudFxuICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQm94LCB7XG4gICAgICByZWY6IHRoaXMuZHJvcFJlZlxuICAgIH0sIG1hc2tbYWN0aXZlTWFza0luZGV4XS5vcHRpb25zLm1hcChmdW5jdGlvbiAob3B0aW9uLCBpbmRleCkge1xuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQm94LCB7XG4gICAgICAgIGtleTogb3B0aW9uLFxuICAgICAgICBmbGV4OiBmYWxzZVxuICAgICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtcbiAgICAgICAgdGFiSW5kZXg6IFwiLTFcIixcbiAgICAgICAgb25DbGljazogX3RoaXMyLm9uT3B0aW9uKG9wdGlvbiksXG4gICAgICAgIG9uTW91c2VPdmVyOiBmdW5jdGlvbiBvbk1vdXNlT3ZlcigpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMyLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGFjdGl2ZU9wdGlvbkluZGV4OiBpbmRleFxuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBvbkZvY3VzOiBmdW5jdGlvbiBvbkZvY3VzKCkge30sXG4gICAgICAgIGFjdGl2ZTogaW5kZXggPT09IGFjdGl2ZU9wdGlvbkluZGV4LFxuICAgICAgICBob3ZlckluZGljYXRvcjogXCJiYWNrZ3JvdW5kXCJcbiAgICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQm94LCB7XG4gICAgICAgIHBhZDoge1xuICAgICAgICAgIGhvcml6b250YWw6ICdzbWFsbCcsXG4gICAgICAgICAgdmVydGljYWw6ICd4c21hbGwnXG4gICAgICAgIH1cbiAgICAgIH0sIG9wdGlvbikpKTtcbiAgICB9KSkpKTtcbiAgfTtcblxuICByZXR1cm4gTWFza2VkSW5wdXQ7XG59KENvbXBvbmVudCk7XG5cbl9kZWZpbmVQcm9wZXJ0eShNYXNrZWRJbnB1dCwgXCJjb250ZXh0VHlwZVwiLCBUaGVtZUNvbnRleHQpO1xuXG5fZGVmaW5lUHJvcGVydHkoTWFza2VkSW5wdXQsIFwiZGVmYXVsdFByb3BzXCIsIHtcbiAgbWFzazogW11cbn0pO1xuXG5PYmplY3Quc2V0UHJvdG90eXBlT2YoTWFza2VkSW5wdXQuZGVmYXVsdFByb3BzLCBkZWZhdWx0UHJvcHMpO1xudmFyIE1hc2tlZElucHV0RG9jO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZ2xvYmFsLXJlcXVpcmVcbiAgTWFza2VkSW5wdXREb2MgPSByZXF1aXJlKCcuL2RvYycpLmRvYyhNYXNrZWRJbnB1dCk7XG59XG5cbnZhciBNYXNrZWRJbnB1dFdyYXBwZXIgPSBjb21wb3NlKHdpdGhGb2N1cyh7XG4gIGZvY3VzV2l0aE1vdXNlOiB0cnVlXG59KSwgd2l0aEZvcndhcmRSZWYpKE1hc2tlZElucHV0RG9jIHx8IE1hc2tlZElucHV0KTtcbmV4cG9ydCB7IE1hc2tlZElucHV0V3JhcHBlciBhcyBNYXNrZWRJbnB1dCB9OyIsImltcG9ydCBzdHlsZWQsIHsgY3NzIH0gZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgZm9jdXNTdHlsZSwgaW5wdXRTdHlsZSwgcGxhY2Vob2xkZXJTdHlsZSB9IGZyb20gJy4uLy4uL3V0aWxzJztcblxudmFyIHNpemVTdHlsZSA9IGZ1bmN0aW9uIHNpemVTdHlsZShwcm9wcykge1xuICB2YXIgZGF0YSA9IHByb3BzLnRoZW1lLnRleHRbcHJvcHMuc2l6ZV07XG4gIHJldHVybiBjc3MoW1wiZm9udC1zaXplOlwiLCBcIjtsaW5lLWhlaWdodDpcIiwgXCI7XCJdLCBkYXRhLnNpemUsIGRhdGEuaGVpZ2h0KTtcbn07XG5cbnZhciBwbGFpblN0eWxlID0gY3NzKFtcImJvcmRlcjpub25lO1wiXSk7XG5leHBvcnQgdmFyIFN0eWxlZE1hc2tlZElucHV0ID0gc3R5bGVkLmlucHV0LndpdGhDb25maWcoe1xuICBkaXNwbGF5TmFtZTogXCJTdHlsZWRNYXNrZWRJbnB1dFwiLFxuICBjb21wb25lbnRJZDogXCJzYy05OXZrZmEtMFwiXG59KShbXCJcIiwgXCIgd2lkdGg6MTAwJTtcIiwgXCIgXCIsIFwiIFwiLCBcIiAmOjotbW96LWZvY3VzLWlubmVye2JvcmRlcjpub25lO291dGxpbmU6bm9uZTt9XCIsIFwiO1wiLCBcIjtcIl0sIGlucHV0U3R5bGUsIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuc2l6ZSAmJiBzaXplU3R5bGUocHJvcHMpO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5wbGFpbiAmJiBwbGFpblN0eWxlO1xufSwgcGxhY2Vob2xkZXJTdHlsZSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5mb2N1cyAmJiAhcHJvcHMucGxhaW4gJiYgZm9jdXNTdHlsZTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUubWFza2VkSW5wdXQgJiYgcHJvcHMudGhlbWUubWFza2VkSW5wdXQuZXh0ZW5kO1xufSk7XG5leHBvcnQgdmFyIFN0eWxlZE1hc2tlZElucHV0Q29udGFpbmVyID0gc3R5bGVkLmRpdi53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiU3R5bGVkTWFza2VkSW5wdXRfX1N0eWxlZE1hc2tlZElucHV0Q29udGFpbmVyXCIsXG4gIGNvbXBvbmVudElkOiBcInNjLTk5dmtmYS0xXCJcbn0pKFtcInBvc2l0aW9uOnJlbGF0aXZlO3dpZHRoOjEwMCU7XCJdKTsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5pbXBvcnQgeyBkZXNjcmliZSwgUHJvcFR5cGVzIH0gZnJvbSAncmVhY3QtZGVzYyc7XG5pbXBvcnQgeyBnZXRBdmFpbGFibGVBdEJhZGdlLCB0aGVtZURvY1V0aWxzIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuZXhwb3J0IHZhciBkb2MgPSBmdW5jdGlvbiBkb2MoTWFza2VkSW5wdXQpIHtcbiAgdmFyIERvY3VtZW50ZWRNYXNrZWRJbnB1dCA9IGRlc2NyaWJlKE1hc2tlZElucHV0KS5hdmFpbGFibGVBdChnZXRBdmFpbGFibGVBdEJhZGdlKCdNYXNrZWRJbnB1dCcpKS5kZXNjcmlwdGlvbignQW4gaW5wdXQgZmllbGQgd2l0aCBmb3JtYWxpemVkIHN5bnRheC4nKS51c2FnZShcImltcG9ydCB7IE1hc2tlZElucHV0IH0gZnJvbSAnZ3JvbW1ldCc7XFxuPE1hc2tlZElucHV0IGlkPSdpdGVtJyBuYW1lPSdpdGVtJyAvPlwiKS5pbnRyaW5zaWNFbGVtZW50KCdpbnB1dCcpO1xuICBEb2N1bWVudGVkTWFza2VkSW5wdXQucHJvcFR5cGVzID0ge1xuICAgIGlkOiBQcm9wVHlwZXMuc3RyaW5nLmRlc2NyaXB0aW9uKCdUaGUgaWQgYXR0cmlidXRlIG9mIHRoZSBpbnB1dC4nKSxcbiAgICBuYW1lOiBQcm9wVHlwZXMuc3RyaW5nLmRlc2NyaXB0aW9uKCdUaGUgbmFtZSBhdHRyaWJ1dGUgb2YgdGhlIGlucHV0LicpLFxuICAgIG9uQ2hhbmdlOiBQcm9wVHlwZXMuZnVuYy5kZXNjcmlwdGlvbihcIkZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgdXNlciB0eXBlcyBvciBwYXN0ZXMgdGV4dC5cIiksXG4gICAgb25CbHVyOiBQcm9wVHlwZXMuZnVuYy5kZXNjcmlwdGlvbihcIkZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgdXNlciBsZWF2ZXMgdGhlIGZpZWxkLlwiKSxcbiAgICBtYXNrOiBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgbGVuZ3RoOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMubnVtYmVyLCBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMubnVtYmVyKV0pLFxuICAgICAgZml4ZWQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgICBvcHRpb25zOiBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMubnVtYmVyXSkpLFxuICAgICAgcmVnZXhwOiBQcm9wVHlwZXMuc2hhcGUoe30pIC8vIFJlZ0V4cFxuXG4gICAgfSkpLmRlc2NyaXB0aW9uKFwiRGVzY3JpYmVzIHRoZSBzdHJ1Y3R1cmUgb2YgdGhlIG1hc2suIElmIGEgcmVnZXhwIGlzIHByb3ZpZGVkLCBpdCBzaG91bGRcXG4gICAgICBhbGxvdyBib3RoIHRoZSBmaW5hbCBmdWxsIHN0cmluZyBlbGVtZW50IGFzIHdlbGwgYXMgcGFydGlhbCBzdHJpbmdzXFxuICAgICAgYXMgdGhlIHVzZXIgdHlwZXMgY2hhcmFjdGVycyBvbmUgYnkgb25lLlwiKSxcbiAgICBzaXplOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2YoWydzbWFsbCcsICdtZWRpdW0nLCAnbGFyZ2UnLCAneGxhcmdlJ10pLCBQcm9wVHlwZXMuc3RyaW5nXSkuZGVzY3JpcHRpb24oJ1RoZSBzaXplIG9mIHRoZSB0ZXh0LicpLFxuICAgIHZhbHVlOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMubnVtYmVyXSkuZGVzY3JpcHRpb24oXCJXaGF0IHRleHQgdG8gcHV0IGluIHRoZSBpbnB1dC4gVGhlIGNhbGxlciBzaG91bGQgZW5zdXJlIHRoYXQgaXRcXG4gICAgICBpcyBpbml0aWFsbHkgdmFsaWQgd2l0aCByZXNwZWN0IHRvIHRoZSBtYXNrLlwiKVxuICB9O1xuICByZXR1cm4gRG9jdW1lbnRlZE1hc2tlZElucHV0O1xufTtcbmV4cG9ydCB2YXIgdGhlbWVEb2MgPSBfZXh0ZW5kcyh7XG4gICdnbG9iYWwuaG92ZXIuYmFja2dyb3VuZCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBiYWNrZ3JvdW5kIHN0eWxlIHdoZW4gaG92ZXJpbmcuJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgeyBjb2xvcjogc3RyaW5nLCBvcGFjaXR5OiBzdHJpbmcgfScsXG4gICAgZGVmYXVsdFZhbHVlOiBcInsgY29sb3I6ICdhY3RpdmUnLCBvcGFjaXR5OiAnbWVkaXVtJyB9XCJcbiAgfSxcbiAgJ2dsb2JhbC5ob3Zlci5jb2xvcic6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSB0ZXh0IGNvbG9yIHdoZW4gaG92ZXJpbmcuJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgeyBkYXJrOiBzdHJpbmcsIGxpZ2h0OiBzdHJpbmcgfScsXG4gICAgZGVmYXVsdFZhbHVlOiBcInsgZGFyazogJ3doaXRlJywgbGlnaHQ6ICdibGFjaycgfVwiXG4gIH0sXG4gICdtYXNrZWRJbnB1dC5leHRlbmQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdBbnkgYWRkaXRpb25hbCBzdHlsZSBmb3IgTWFza2VkSW5wdXQuJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgKHByb3BzKSA9PiB7fScsXG4gICAgZGVmYXVsdFZhbHVlOiB1bmRlZmluZWRcbiAgfSxcbiAgJ3RleHQubWVkaXVtJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIHNpemUgb2YgdGhlIHRleHQgZm9yIE1hc2tlZElucHV0LicsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiAnMThweCdcbiAgfVxufSwgdGhlbWVEb2NVdGlscy5mb2N1c1N0eWxlLCB7fSwgdGhlbWVEb2NVdGlscy5wbGFjZWhvbGRlclN0eWxlLCB7fSwgdGhlbWVEb2NVdGlscy5pbnB1dFN0eWxlKTsiLCJleHBvcnQgeyBNYXNrZWRJbnB1dCB9IGZyb20gJy4vTWFza2VkSW5wdXQnOyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY29tcG9zZSB9IGZyb20gJ3JlY29tcG9zZSc7XG5pbXBvcnQgc3R5bGVkLCB7IHdpdGhUaGVtZSB9IGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncmVhY3QtZGVzYy9saWIvUHJvcFR5cGVzJztcbmltcG9ydCB7IGRlZmF1bHRQcm9wcyB9IGZyb20gJy4uLy4uL2RlZmF1bHQtcHJvcHMnO1xuaW1wb3J0IHsgQm94IH0gZnJvbSAnLi4vQm94JztcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJy4uL0J1dHRvbic7XG5pbXBvcnQgeyBEcm9wQnV0dG9uIH0gZnJvbSAnLi4vRHJvcEJ1dHRvbic7XG5pbXBvcnQgeyBLZXlib2FyZCB9IGZyb20gJy4uL0tleWJvYXJkJztcbmltcG9ydCB7IFRleHQgfSBmcm9tICcuLi9UZXh0JztcbmltcG9ydCB7IHdpdGhGb3J3YXJkUmVmIH0gZnJvbSAnLi4vaG9jcyc7XG5pbXBvcnQgeyBub3JtYWxpemVDb2xvciB9IGZyb20gJy4uLy4uL3V0aWxzJztcbnZhciBDb250YWluZXJCb3ggPSBzdHlsZWQoQm94KS53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiTWVudV9fQ29udGFpbmVyQm94XCIsXG4gIGNvbXBvbmVudElkOiBcInNjLTE3ZmN5czktMFwiXG59KShbXCJtYXgtaGVpZ2h0OmluaGVyaXQ7QG1lZGlhIHNjcmVlbiBhbmQgKC1tcy1oaWdoLWNvbnRyYXN0OmFjdGl2ZSksKC1tcy1oaWdoLWNvbnRyYXN0Om5vbmUpe3dpZHRoOjEwMCU7fVwiLCBcIjtcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUubWVudS5leHRlbmQ7XG59KTtcbi8qIE5vdGVzIG9uIGtleWJvYXJkIGludGVyYWN0aXZpdHkgKGJhc2VkIG9uIFczKSAvLyBGb3IgZGV0YWlscyByZWZlcmVuY2U6IGh0dHBzOi8vd3d3LnczLm9yZy9UUi93YWktYXJpYS1wcmFjdGljZXMvI21lbnVcblxuVG8gb3BlbiBtZW51IHdoZW4gbWVudSBidXR0b24gaXMgZm9jdXNlZDpcbi0gU3BhY2UvRW50ZXIvVXAgYXJyb3cvRG93biBhcnJvdyB3aWxsIG9wZW4gbWVudVxuXG5UbyBuYXZpZ2F0ZSB3aXRoaW4gbWVudTpcbi0gVXAvZG93biBhcnJvdyBrZXlzIGNhbiBiZSB1c2VkIGFuZCB3aWxsIGxvb3AgdGhyb3VnaCBvcHRpb25zXG4oa2VlcGluZyBmb2N1cyB3aXRoaW4gdGhlIE1lbnUpXG4tIFRhYiBjYW4gYmUgdXNlZCwgYnV0IG9uY2UgdGhlIGxhc3QgbWVudSBpdGVtIGlzIHJlYWNoZWQsIFRhYiB3aWxsIGNsb3NlIHRoZSBcbk1lbnUgYW5kIGNvbnRpbnVlIHRocm91Z2ggcGFnZSBjb250ZW50LlxuXG5UbyBjbG9zZSB0aGUgbWVudTpcbi0gVGFiYmluZyBiZXlvbmQgdGhlIGZpcnN0IG9yIGxhc3QgbWVudSBpdGVtLlxuLSBFc2Mgd2lsbCBjbG9zZSB0aGUgbWVudVxuLSBTZWxlY3QgYSBtZW51IGl0ZW1cblxuVG8gbWFrZSBhIHNlbGVjdGlvbjpcbi0gRW50ZXIga2V5IGlzIHByZXNzZWQuXG4tIFNwYWNlIGlzIHByZXNzZWQuXG4qL1xuXG52YXIgTWVudSA9IGZ1bmN0aW9uIE1lbnUocHJvcHMpIHtcbiAgdmFyIGExMXlUaXRsZSA9IHByb3BzLmExMXlUaXRsZSxcbiAgICAgIGNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW4sXG4gICAgICBkaXNhYmxlZCA9IHByb3BzLmRpc2FibGVkLFxuICAgICAgZHJvcEFsaWduID0gcHJvcHMuZHJvcEFsaWduLFxuICAgICAgZHJvcEJhY2tncm91bmQgPSBwcm9wcy5kcm9wQmFja2dyb3VuZCxcbiAgICAgIGRyb3BQcm9wcyA9IHByb3BzLmRyb3BQcm9wcyxcbiAgICAgIGRyb3BUYXJnZXQgPSBwcm9wcy5kcm9wVGFyZ2V0LFxuICAgICAgZm9yd2FyZFJlZiA9IHByb3BzLmZvcndhcmRSZWYsXG4gICAgICBqdXN0aWZ5Q29udGVudCA9IHByb3BzLmp1c3RpZnlDb250ZW50LFxuICAgICAgaWNvbiA9IHByb3BzLmljb24sXG4gICAgICBpdGVtcyA9IHByb3BzLml0ZW1zLFxuICAgICAgbGFiZWwgPSBwcm9wcy5sYWJlbCxcbiAgICAgIG1lc3NhZ2VzID0gcHJvcHMubWVzc2FnZXMsXG4gICAgICBvbktleURvd24gPSBwcm9wcy5vbktleURvd24sXG4gICAgICBvcGVuID0gcHJvcHMub3BlbixcbiAgICAgIHBsYWluID0gcHJvcHMucGxhaW4sXG4gICAgICBzaXplID0gcHJvcHMuc2l6ZSxcbiAgICAgIHRoZW1lID0gcHJvcHMudGhlbWUsXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UocHJvcHMsIFtcImExMXlUaXRsZVwiLCBcImNoaWxkcmVuXCIsIFwiZGlzYWJsZWRcIiwgXCJkcm9wQWxpZ25cIiwgXCJkcm9wQmFja2dyb3VuZFwiLCBcImRyb3BQcm9wc1wiLCBcImRyb3BUYXJnZXRcIiwgXCJmb3J3YXJkUmVmXCIsIFwianVzdGlmeUNvbnRlbnRcIiwgXCJpY29uXCIsIFwiaXRlbXNcIiwgXCJsYWJlbFwiLCBcIm1lc3NhZ2VzXCIsIFwib25LZXlEb3duXCIsIFwib3BlblwiLCBcInBsYWluXCIsIFwic2l6ZVwiLCBcInRoZW1lXCJdKTtcblxuICB2YXIgTWVudUljb24gPSB0aGVtZS5tZW51Lmljb25zLmRvd247XG4gIHZhciBpY29uQ29sb3IgPSBub3JtYWxpemVDb2xvcignY29udHJvbCcsIHRoZW1lKTtcbiAgdmFyIGFsaWduID0gZHJvcFByb3BzLmFsaWduIHx8IGRyb3BBbGlnbjtcbiAgdmFyIGNvbnRyb2xCdXR0b25JbmRleDtcblxuICBpZiAoYWxpZ24udG9wID09PSAndG9wJykge1xuICAgIGNvbnRyb2xCdXR0b25JbmRleCA9IC0xO1xuICB9IGVsc2UgaWYgKGFsaWduLmJvdHRvbSA9PT0gJ2JvdHRvbScpIHtcbiAgICBjb250cm9sQnV0dG9uSW5kZXggPSBpdGVtcy5sZW5ndGg7XG4gIH0gZWxzZSB7XG4gICAgY29udHJvbEJ1dHRvbkluZGV4ID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgdmFyIGJ1dHRvblJlZnMgPSB7fTtcbiAgdmFyIGNvbnN0YW50cyA9IHtcbiAgICBub25lOiAnbm9uZScsXG4gICAgdGFiOiA5LFxuICAgIC8vIE1lbnUgY29udHJvbCBidXR0b24gaW5jbHVkZWQgb24gdG9wIG9mIG1lbnUgaXRlbXNcbiAgICBjb250cm9sVG9wOiBhbGlnbi50b3AgPT09ICd0b3AnIHx8IHVuZGVmaW5lZCxcbiAgICAvLyBNZW51IGNvbnRyb2wgYnV0dG9uIGluY2x1ZGVkIG9uIHRoZSBib3R0b20gb2YgbWVudSBpdGVtc1xuICAgIGNvbnRyb2xCb3R0b206IGFsaWduLmJvdHRvbSA9PT0gJ2JvdHRvbScgfHwgdW5kZWZpbmVkLFxuICAgIGNvbnRyb2xCdXR0b25JbmRleDogY29udHJvbEJ1dHRvbkluZGV4XG4gIH07XG5cbiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKGNvbnN0YW50cy5ub25lKSxcbiAgICAgIGFjdGl2ZUl0ZW1JbmRleCA9IF91c2VTdGF0ZVswXSxcbiAgICAgIHNldEFjdGl2ZUl0ZW1JbmRleCA9IF91c2VTdGF0ZVsxXTtcblxuICB2YXIgX3VzZVN0YXRlMiA9IHVzZVN0YXRlKG9wZW4gfHwgZmFsc2UpLFxuICAgICAgaXNPcGVuID0gX3VzZVN0YXRlMlswXSxcbiAgICAgIHNldE9wZW4gPSBfdXNlU3RhdGUyWzFdO1xuXG4gIHZhciBvbkRyb3BDbG9zZSA9IGZ1bmN0aW9uIG9uRHJvcENsb3NlKCkge1xuICAgIHNldEFjdGl2ZUl0ZW1JbmRleChjb25zdGFudHMubm9uZSk7XG4gICAgc2V0T3BlbihmYWxzZSk7XG4gIH07XG5cbiAgdmFyIG9uRHJvcE9wZW4gPSBmdW5jdGlvbiBvbkRyb3BPcGVuKCkge1xuICAgIHNldE9wZW4odHJ1ZSk7XG4gIH07XG5cbiAgdmFyIG9uU2VsZWN0TWVudUl0ZW0gPSBmdW5jdGlvbiBvblNlbGVjdE1lbnVJdGVtKGV2ZW50KSB7XG4gICAgaWYgKGlzT3Blbikge1xuICAgICAgaWYgKGFjdGl2ZUl0ZW1JbmRleCA+PSAwKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBidXR0b25SZWZzW2FjdGl2ZUl0ZW1JbmRleF0uY2xpY2soKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgb25Ecm9wT3BlbigpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgaXNUYWIgPSBmdW5jdGlvbiBpc1RhYihldmVudCkge1xuICAgIHJldHVybiBldmVudC5rZXlDb2RlID09PSBjb25zdGFudHMudGFiIHx8IGV2ZW50LndoaWNoID09PSBjb25zdGFudHMudGFiO1xuICB9O1xuXG4gIHZhciBvbk5leHRNZW51SXRlbSA9IGZ1bmN0aW9uIG9uTmV4dE1lbnVJdGVtKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgIGlmICghaXNPcGVuKSB7XG4gICAgICBvbkRyb3BPcGVuKCk7XG4gICAgfSBlbHNlIGlmIChpc1RhYihldmVudCkgJiYgKCFjb25zdGFudHMuY29udHJvbEJvdHRvbSAmJiBhY3RpdmVJdGVtSW5kZXggPT09IGl0ZW1zLmxlbmd0aCAtIDEgfHwgY29uc3RhbnRzLmNvbnRyb2xCb3R0b20gJiYgYWN0aXZlSXRlbUluZGV4ID09PSBjb250cm9sQnV0dG9uSW5kZXgpKSB7XG4gICAgICAvLyBVc2VyIGhhcyByZWFjaGVkIGVuZCBvZiB0aGUgbWVudSwgdGhpcyB0YWIgd2lsbCBjbG9zZVxuICAgICAgLy8gdGhlIG1lbnUgZHJvcCBiZWNhdXNlIHRoZXJlIGFyZSBubyBtb3JlIFwibmV4dCBpdGVtc1wiIHRvIGFjY2Vzc1xuICAgICAgb25Ecm9wQ2xvc2UoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGluZGV4O1xuXG4gICAgICBpZiAoIC8vIFRoaXMgY2hlY2tzIGlmIHRoZSB1c2VyIGhhcyByZWFjaGVkIHRoZSBlbmQgb2YgdGhlIG1lbnUuXG4gICAgICAvLyBJbiB0aGUgY2FzZSB0aGUgdGhlIG1lbnUgY29udHJvbCBidXR0b24gaXMgbG9jYXRlZCBhdCB0aGVcbiAgICAgIC8vIGJvdHRvbSBvZiB0aGUgbWVudSwgaXQgY2hlY2tzIGlmIHRoZSB1c2VyIGhhcyByZWFjaGVkIHRoZSBidXR0b24uXG4gICAgICAvLyBPdGhlcndpc2UsIGl0IGNoZWNrcyBpZiB0aGUgdXNlciBpcyBhdCB0aGUgbGFzdCBtZW51IGl0ZW0uXG4gICAgICBjb25zdGFudHMuY29udHJvbEJvdHRvbSAmJiBhY3RpdmVJdGVtSW5kZXggPT09IGNvbnRyb2xCdXR0b25JbmRleCB8fCAhY29uc3RhbnRzLmNvbnRyb2xCb3R0b20gJiYgYWN0aXZlSXRlbUluZGV4ID09PSBpdGVtcy5sZW5ndGggLSAxIHx8IGFjdGl2ZUl0ZW1JbmRleCA9PT0gY29uc3RhbnRzLm5vbmUpIHtcbiAgICAgICAgLy8gcGxhY2UgZm9jdXMgb24gdGhlIGZpcnN0IG1lbnUgaXRlbVxuICAgICAgICBpbmRleCA9IDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbmRleCA9IGFjdGl2ZUl0ZW1JbmRleCArIDE7XG4gICAgICB9XG5cbiAgICAgIHNldEFjdGl2ZUl0ZW1JbmRleChpbmRleCk7XG4gICAgICBidXR0b25SZWZzW2luZGV4XS5mb2N1cygpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgb25QcmV2aW91c01lbnVJdGVtID0gZnVuY3Rpb24gb25QcmV2aW91c01lbnVJdGVtKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgIGlmICghaXNPcGVuKSB7XG4gICAgICBvbkRyb3BPcGVuKCk7XG4gICAgfSBlbHNlIGlmIChpc1RhYihldmVudCkgJiYgKGNvbnN0YW50cy5jb250cm9sVG9wICYmIGFjdGl2ZUl0ZW1JbmRleCA9PT0gY29udHJvbEJ1dHRvbkluZGV4IHx8ICFjb25zdGFudHMuY29udHJvbFRvcCAmJiBhY3RpdmVJdGVtSW5kZXggLSAxIDwgMCkpIHtcbiAgICAgIC8vIFVzZXIgaGFzIHJlYWNoZWQgYmVnaW5uaW5nIG9mIHRoZSBtZW51LCB0aGlzIHRhYiB3aWxsIGNsb3NlXG4gICAgICAvLyB0aGUgbWVudSBkcm9wIGJlY2F1c2UgdGhlcmUgYXJlIG5vIG1vcmUgXCJwcmV2aW91cyBpdGVtc1wiIHRvIGFjY2Vzc1xuICAgICAgb25Ecm9wQ2xvc2UoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGluZGV4O1xuXG4gICAgICBpZiAoYWN0aXZlSXRlbUluZGV4IC0gMSA8IDApIHtcbiAgICAgICAgaWYgKGNvbnN0YW50cy5jb250cm9sVG9wICYmIGFjdGl2ZUl0ZW1JbmRleCAtIDEgPT09IGNvbnRyb2xCdXR0b25JbmRleCkge1xuICAgICAgICAgIGluZGV4ID0gaXRlbXMubGVuZ3RoO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGluZGV4ID0gaXRlbXMubGVuZ3RoIC0gMTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5kZXggPSBhY3RpdmVJdGVtSW5kZXggLSAxO1xuICAgICAgfVxuXG4gICAgICBzZXRBY3RpdmVJdGVtSW5kZXgoaW5kZXgpO1xuICAgICAgYnV0dG9uUmVmc1tpbmRleF0uZm9jdXMoKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGNvbnRlbnQgPSBjaGlsZHJlbiB8fCBSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwge1xuICAgIGRpcmVjdGlvbjogXCJyb3dcIixcbiAgICBqdXN0aWZ5OiBqdXN0aWZ5Q29udGVudCxcbiAgICBhbGlnbjogXCJjZW50ZXJcIixcbiAgICBwYWQ6IFwic21hbGxcIixcbiAgICBnYXA6IGxhYmVsICYmIGljb24gIT09IGZhbHNlID8gJ3NtYWxsJyA6IHVuZGVmaW5lZFxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFRleHQsIHtcbiAgICBzaXplOiBzaXplXG4gIH0sIGxhYmVsKSwgaWNvbiAhPT0gZmFsc2UgPyBpY29uICE9PSB0cnVlICYmIGljb24gfHwgUmVhY3QuY3JlYXRlRWxlbWVudChNZW51SWNvbiwge1xuICAgIGNvbG9yOiBpY29uQ29sb3IsXG4gICAgc2l6ZTogc2l6ZVxuICB9KSA6IG51bGwpO1xuICB2YXIgY29udHJvbE1pcnJvciA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoQm94LCB7XG4gICAgZmxleDogZmFsc2VcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtcbiAgICByZWY6IGZ1bmN0aW9uIHJlZihyKSB7XG4gICAgICAvLyBtYWtlIGl0IGFjY2Vzc2libGUgYXQgdGhlIGVuZCBvZiBhbGwgbWVudSBpdGVtc1xuICAgICAgYnV0dG9uUmVmc1tpdGVtcy5sZW5ndGhdID0gcjtcbiAgICB9LFxuICAgIGExMXlUaXRsZTogYTExeVRpdGxlIHx8IG1lc3NhZ2VzLmNsb3NlTWVudSB8fCAnQ2xvc2UgTWVudScsXG4gICAgYWN0aXZlOiBhY3RpdmVJdGVtSW5kZXggPT09IGNvbnRyb2xCdXR0b25JbmRleCxcbiAgICBmb2N1c0luZGljYXRvcjogZmFsc2UsXG4gICAgaG92ZXJJbmRpY2F0b3I6IFwiYmFja2dyb3VuZFwiLFxuICAgIHBsYWluOiBwbGFpbixcbiAgICBvbkNsaWNrOiBvbkRyb3BDbG9zZSxcbiAgICBvbkZvY3VzOiBmdW5jdGlvbiBvbkZvY3VzKCkge1xuICAgICAgcmV0dXJuIHNldEFjdGl2ZUl0ZW1JbmRleChjb250cm9sQnV0dG9uSW5kZXgpO1xuICAgIH0gLy8gT24gZmlyc3QgdGFiIGludG8gbWVudSwgdGhlIGNvbnRyb2wgYnV0dG9uIHNob3VsZCBub3RcbiAgICAvLyBiZSBhYmxlIHRvIHJlY2VpdmUgdGFiIGZvY3VzIGJlY2F1c2UgdGhlIGZvY3VzIHNob3VsZFxuICAgIC8vIGdvIHRvIHRoZSBmaXJzdCBtZW51IGl0ZW0gaW5zdGVhZC5cbiAgICAsXG4gICAgdGFiSW5kZXg6IGFjdGl2ZUl0ZW1JbmRleCA9PT0gY29uc3RhbnRzLm5vbmUgPyAnLTEnIDogdW5kZWZpbmVkXG4gIH0sIHR5cGVvZiBjb250ZW50ID09PSAnZnVuY3Rpb24nID8gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBjb250ZW50KF9leHRlbmRzKHt9LCBwcm9wcywge1xuICAgICAgZHJvcDogdHJ1ZVxuICAgIH0pKTtcbiAgfSA6IGNvbnRlbnQpKTtcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoS2V5Ym9hcmQsIHtcbiAgICBvbkRvd246IG9uTmV4dE1lbnVJdGVtLFxuICAgIG9uVXA6IG9uUHJldmlvdXNNZW51SXRlbSxcbiAgICBvbkVudGVyOiBvblNlbGVjdE1lbnVJdGVtLFxuICAgIG9uU3BhY2U6IG9uU2VsZWN0TWVudUl0ZW0sXG4gICAgb25Fc2M6IG9uRHJvcENsb3NlLFxuICAgIG9uVGFiOiBvbkRyb3BDbG9zZSxcbiAgICBvbktleURvd246IG9uS2V5RG93blxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KERyb3BCdXR0b24sIF9leHRlbmRzKHtcbiAgICByZWY6IGZvcndhcmRSZWZcbiAgfSwgcmVzdCwge1xuICAgIGExMXlUaXRsZTogYTExeVRpdGxlIHx8IG1lc3NhZ2VzLm9wZW5NZW51IHx8ICdPcGVuIE1lbnUnLFxuICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICBkcm9wQWxpZ246IGFsaWduLFxuICAgIGRyb3BUYXJnZXQ6IGRyb3BUYXJnZXQsXG4gICAgcGxhaW46IHBsYWluLFxuICAgIG9wZW46IGlzT3BlbixcbiAgICBvbk9wZW46IG9uRHJvcE9wZW4sXG4gICAgb25DbG9zZTogb25Ecm9wQ2xvc2UsXG4gICAgZHJvcENvbnRlbnQ6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoS2V5Ym9hcmQsIHtcbiAgICAgIG9uVGFiOiBmdW5jdGlvbiBvblRhYihldmVudCkge1xuICAgICAgICByZXR1cm4gZXZlbnQuc2hpZnRLZXkgPyBvblByZXZpb3VzTWVudUl0ZW0oZXZlbnQpIDogb25OZXh0TWVudUl0ZW0oZXZlbnQpO1xuICAgICAgfSxcbiAgICAgIG9uRW50ZXI6IG9uU2VsZWN0TWVudUl0ZW1cbiAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KENvbnRhaW5lckJveCwge1xuICAgICAgYmFja2dyb3VuZDogZHJvcEJhY2tncm91bmQgfHwgdGhlbWUubWVudS5iYWNrZ3JvdW5kXG4gICAgfSwgYWxpZ24udG9wID09PSAndG9wJyA/IGNvbnRyb2xNaXJyb3IgOiB1bmRlZmluZWQsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQm94LCB7XG4gICAgICBvdmVyZmxvdzogXCJhdXRvXCJcbiAgICB9LCBpdGVtcy5tYXAoZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7XG4gICAgICByZXR1cm4gKC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC9uby1hcnJheS1pbmRleC1rZXlcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChCb3gsIHtcbiAgICAgICAgICBrZXk6IGluZGV4LFxuICAgICAgICAgIGZsZXg6IGZhbHNlXG4gICAgICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCBfZXh0ZW5kcyh7XG4gICAgICAgICAgcmVmOiBmdW5jdGlvbiByZWYocikge1xuICAgICAgICAgICAgYnV0dG9uUmVmc1tpbmRleF0gPSByO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgb25Gb2N1czogZnVuY3Rpb24gb25Gb2N1cygpIHtcbiAgICAgICAgICAgIHJldHVybiBzZXRBY3RpdmVJdGVtSW5kZXgoaW5kZXgpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgYWN0aXZlOiBhY3RpdmVJdGVtSW5kZXggPT09IGluZGV4LFxuICAgICAgICAgIGhvdmVySW5kaWNhdG9yOiBcImJhY2tncm91bmRcIixcbiAgICAgICAgICBmb2N1c0luZGljYXRvcjogZmFsc2VcbiAgICAgICAgfSwgX2V4dGVuZHMoe30sIGl0ZW0sIHtcbiAgICAgICAgICBpY29uOiB1bmRlZmluZWQsXG4gICAgICAgICAgbGFiZWw6IHVuZGVmaW5lZFxuICAgICAgICB9KSwge1xuICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgICAgICBpZiAoaXRlbS5vbkNsaWNrKSB7XG4gICAgICAgICAgICAgIGl0ZW0ub25DbGljay5hcHBseShpdGVtLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaXRlbS5jbG9zZSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgb25Ecm9wQ2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pLCBSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwge1xuICAgICAgICAgIGFsaWduOiBcInN0YXJ0XCIsXG4gICAgICAgICAgcGFkOiBcInNtYWxsXCIsXG4gICAgICAgICAgZGlyZWN0aW9uOiBcInJvd1wiLFxuICAgICAgICAgIGdhcDogaXRlbS5nYXBcbiAgICAgICAgfSwgaXRlbS5yZXZlcnNlICYmIGl0ZW0ubGFiZWwsIGl0ZW0uaWNvbiwgIWl0ZW0ucmV2ZXJzZSAmJiBpdGVtLmxhYmVsKSkpXG4gICAgICApO1xuICAgIH0pKSwgYWxpZ24uYm90dG9tID09PSAnYm90dG9tJyA/IGNvbnRyb2xNaXJyb3IgOiB1bmRlZmluZWQpKVxuICB9KSwgY29udGVudCkpO1xufTtcblxuTWVudS5wcm9wVHlwZXMgPSB7XG4gIGRyb3BBbGlnbjogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICB0b3A6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgbGVmdDogUHJvcFR5cGVzLnN0cmluZ1xuICB9KSxcbiAgZHJvcFByb3BzOiBQcm9wVHlwZXMuc2hhcGUoe30pLFxuICBpdGVtczogUHJvcFR5cGVzLmFycmF5T2Yoe30pLFxuICBtZXNzYWdlczogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICBvcGVuTWVudTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBjbG9zZU1lbnU6IFByb3BUeXBlcy5zdHJpbmdcbiAgfSksXG4gIGp1c3RpZnlDb250ZW50OiBQcm9wVHlwZXMuc3RyaW5nXG59O1xuTWVudS5kZWZhdWx0UHJvcHMgPSB7XG4gIGRyb3BBbGlnbjoge1xuICAgIHRvcDogJ3RvcCcsXG4gICAgbGVmdDogJ2xlZnQnXG4gIH0sXG4gIGRyb3BQcm9wczoge30sXG4gIGl0ZW1zOiBbXSxcbiAgbWVzc2FnZXM6IHtcbiAgICBvcGVuTWVudTogJ09wZW4gTWVudScsXG4gICAgY2xvc2VNZW51OiAnQ2xvc2UgTWVudSdcbiAgfSxcbiAganVzdGlmeUNvbnRlbnQ6ICdzdGFydCdcbn07XG5NZW51LmRpc3BsYXlOYW1lID0gJ01lbnUnO1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKE1lbnUuZGVmYXVsdFByb3BzLCBkZWZhdWx0UHJvcHMpO1xudmFyIE1lbnVEb2M7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIE1lbnVEb2MgPSByZXF1aXJlKCcuL2RvYycpLmRvYyhNZW51KTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBnbG9iYWwtcmVxdWlyZVxufVxuXG52YXIgTWVudVdyYXBwZXIgPSBjb21wb3NlKHdpdGhUaGVtZSwgd2l0aEZvcndhcmRSZWYpKE1lbnVEb2MgfHwgTWVudSk7XG5leHBvcnQgeyBNZW51V3JhcHBlciBhcyBNZW51IH07IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuaW1wb3J0IHsgZGVzY3JpYmUsIFByb3BUeXBlcyB9IGZyb20gJ3JlYWN0LWRlc2MnO1xuaW1wb3J0IHsgZ2VuZXJpY1Byb3BzLCBnZXRBdmFpbGFibGVBdEJhZGdlIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xudmFyIFZFUlRJQ0FMX0FMSUdOX09QVElPTlMgPSBbJ3RvcCcsICdib3R0b20nXTtcbnZhciBIT1JJWk9OVEFMX0FMSUdOX09QVElPTlMgPSBbJ3JpZ2h0JywgJ2xlZnQnXTtcbmV4cG9ydCB2YXIgZG9jID0gZnVuY3Rpb24gZG9jKE1lbnUpIHtcbiAgdmFyIERvY3VtZW50ZWRNZW51ID0gZGVzY3JpYmUoTWVudSkuYXZhaWxhYmxlQXQoZ2V0QXZhaWxhYmxlQXRCYWRnZSgnTWVudScpKS5kZXNjcmlwdGlvbihcIkEgY29udHJvbCB0aGF0IG9wZW5zIGEgRHJvcCBjb250YWluaW5nIHBsYWluIEJ1dHRvbnMuXCIpLmRldGFpbHMoXCJUaGUgbGFiZWxzIGFuZCBiZWhhdmlvciBvZiB0aGUgY29udGFpbmVkIEJ1dHRvbnMgYXJlIGRlc2NyaWJlZFxcbiAgICAgIHZpYSB0aGUgYGl0ZW1zYCBwcm9wZXJ0eS5cXG4gICAgICBZb3UgY2FuIHByb3ZpZGUgYSBzaW5nbGUgZnVuY3Rpb24gY2hpbGQgdGhhdCB3aWxsIGJlIGNhbGxlZCB3aXRoXFxuICAgICAgJ2hvdmVyJywgJ2ZvY3VzJywgYW5kICdkcm9wJyBrZXlzLiBUaGlzIGFsbG93cyB5b3UgdG8gY3VzdG9taXplXFxuICAgICAgdGhlIHJlbmRlcmluZyBvZiB0aGUgTWVudSBidXR0b24gaW4gdGhvc2UgY2FzZXMuXCIpLnVzYWdlKFwiaW1wb3J0IHsgTWVudSB9IGZyb20gJ2dyb21tZXQnO1xcbjxNZW51IC8+XCIpLmludHJpbnNpY0VsZW1lbnQoJ2J1dHRvbicpO1xuICBEb2N1bWVudGVkTWVudS5wcm9wVHlwZXMgPSBfZXh0ZW5kcyh7fSwgZ2VuZXJpY1Byb3BzLCB7XG4gICAgZGlzYWJsZWQ6IFByb3BUeXBlcy5ib29sLmRlc2NyaXB0aW9uKCdXaGV0aGVyIHRoZSBtZW51IHNob3VsZCBiZSBkaXNhYmxlZC4nKS5kZWZhdWx0VmFsdWUoZmFsc2UpLFxuICAgIGRyb3BBbGlnbjogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgIHRvcDogUHJvcFR5cGVzLm9uZU9mKFZFUlRJQ0FMX0FMSUdOX09QVElPTlMpLFxuICAgICAgYm90dG9tOiBQcm9wVHlwZXMub25lT2YoVkVSVElDQUxfQUxJR05fT1BUSU9OUyksXG4gICAgICBsZWZ0OiBQcm9wVHlwZXMub25lT2YoSE9SSVpPTlRBTF9BTElHTl9PUFRJT05TKSxcbiAgICAgIHJpZ2h0OiBQcm9wVHlwZXMub25lT2YoSE9SSVpPTlRBTF9BTElHTl9PUFRJT05TKVxuICAgIH0pLmRlc2NyaXB0aW9uKFwiV2hlcmUgdG8gcGxhY2UgdGhlIGRyb3AgZG93bi5cXG5UaGUga2V5cyBjb3JyZXNwb25kIHRvIGEgc2lkZSBvZiB0aGUgZHJvcCBkb3duLlxcblRoZSB2YWx1ZXMgY29ycmVzcG9uZCB0byBhIHNpZGUgb2YgdGhlIGNvbnRyb2wuIEZvciBpbnN0YW5jZSxcXG57bGVmdDogJ2xlZnQnLCB0b3A6ICdib3R0b20nfSB3b3VsZCBhbGlnbiB0aGUgbGVmdCBlZGdlcyBhbmQgdGhlIHRvcCBvZlxcbnRoZSBkcm9wIGRvd24gdG8gdGhlIGJvdHRvbSBvZiB0aGUgY29udHJvbC4gQXQgbW9zdCBvbmUgb2YgbGVmdCBvciByaWdodCBhbmRcXG5vbmUgb2YgdG9wIG9yIGJvdHRvbSBzaG91bGQgYmUgc3BlY2lmaWVkLlwiKS5kZWZhdWx0VmFsdWUoe1xuICAgICAgdG9wOiAndG9wJyxcbiAgICAgIGxlZnQ6ICdsZWZ0J1xuICAgIH0pLFxuICAgIGRyb3BCYWNrZ3JvdW5kOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgY29sb3I6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgICBvcGFjaXR5OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuYm9vbCwgUHJvcFR5cGVzLm51bWJlciwgUHJvcFR5cGVzLm9uZU9mKFsnd2VhaycsICdtZWRpdW0nLCAnc3Ryb25nJ10pXSlcbiAgICB9KV0pLmRlc2NyaXB0aW9uKCdCYWNrZ3JvdW5kIGNvbG9yIHdoZW4gZHJvcCBpcyBhY3RpdmUnKSxcbiAgICBkcm9wVGFyZ2V0OiBQcm9wVHlwZXMub2JqZWN0LmRlc2NyaXB0aW9uKFwiVGFyZ2V0IHdoZXJlIHRoZSBkcm9wIHdpbGwgYmUgYWxpZ25lZCB0by4gVGhpcyBzaG91bGQgYmVcXG4gICAgICBhIFJlYWN0IHJlZmVyZW5jZS4gVHlwaWNhbGx5LCB0aGlzIGlzIG5vdCByZXF1aXJlZCBhcyB0aGUgZHJvcCB3aWxsIGJlXFxuICAgICAgYWxpZ25lZCB0byB0aGUgTWVudSBpdHNlbGYgYnkgZGVmYXVsdC5cIiksXG4gICAgZHJvcFByb3BzOiBQcm9wVHlwZXMub2JqZWN0LmRlc2NyaXB0aW9uKCdBbnkgdmFsaWQgRHJvcCBwcm9wLicpLFxuICAgIGp1c3RpZnlDb250ZW50OiBQcm9wVHlwZXMub25lT2YoWydzdGFydCcsICdjZW50ZXInLCAnZW5kJywgJ2JldHdlZW4nLCAnYXJvdW5kJywgJ3N0cmV0Y2gnXSkuZGVzY3JpcHRpb24oJ0hvdyB0byBhbGlnbiB0aGUgY29udGVudHMgYWxvbmcgdGhlIHJvdyBheGlzLicpLmRlZmF1bHRWYWx1ZSgnc3RhcnQnKSxcbiAgICBpY29uOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuYm9vbCwgUHJvcFR5cGVzLm5vZGVdKS5kZXNjcmlwdGlvbignSW5kaWNhdGVzIHRoZSBpY29uIHNob3duIGFzIGEgY29udHJvbCB0byBvcGVuIGl0LicpLFxuICAgIGl0ZW1zOiBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMub2JqZWN0KS5kZXNjcmlwdGlvbihcIk1lbnUgaXRlbXMgdG8gYmUgcGxhY2VkIGluc2lkZSB0aGUgZHJvcCBkb3duLlxcblRoZSBvYmplY3QgdmFsdWVzIGNhbiBiZSBhbnkgQnV0dG9uIHByb3AsIGZvciBleGFtcGxlOiBsYWJlbCBhbmQgb25DbGljay5cIikuaXNSZXF1aXJlZCxcbiAgICBsYWJlbDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLm5vZGVdKS5kZXNjcmlwdGlvbignSW5kaWNhdGVzIHRoZSBsYWJlbCBzaG93biBhcyBhIGNvbnRyb2wgdG8gb3BlbiBpdC4nKSxcbiAgICBtZXNzYWdlczogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgIGNsb3NlTWVudTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgIG9wZW5NZW51OiBQcm9wVHlwZXMuc3RyaW5nXG4gICAgfSkuZGVzY3JpcHRpb24oXCJDdXN0b20gbWVzc2FnZXMuIFVzZWQgZm9yIGFjY2Vzc2liaWxpdHkgYnkgc2NyZWVuIHJlYWRlcnMuIFxcbiAgICAgIFRoZXNlIHZhbHVlcyB3aWxsIGJlIG92ZXJyaWRkZW4gaWYgYW4gYTExeVRpdGxlIGlzIHByb3ZpZGVkLlwiKS5kZWZhdWx0VmFsdWUoe1xuICAgICAgb3Blbk1lbnU6ICdPcGVuIE1lbnUnLFxuICAgICAgY2xvc2VNZW51OiAnQ2xvc2UgTWVudSdcbiAgICB9KSxcbiAgICBvcGVuOiBQcm9wVHlwZXMuYm9vbC5kZXNjcmlwdGlvbignV2hldGhlciB0aGUgc3RhdGUgb2YgdGhlIGNvbXBvbmVudCBzaG91bGQgYmUgb3BlbicpLmRlZmF1bHRWYWx1ZShmYWxzZSksXG4gICAgc2l6ZTogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFsnc21hbGwnLCAnbWVkaXVtJywgJ2xhcmdlJywgJ3hsYXJnZSddKSwgUHJvcFR5cGVzLnN0cmluZ10pLmRlc2NyaXB0aW9uKCdUaGUgc2l6ZSBvZiB0aGUgbWVudS4nKS5kZWZhdWx0VmFsdWUoJ21lZGl1bScpXG4gIH0pO1xuICByZXR1cm4gRG9jdW1lbnRlZE1lbnU7XG59O1xuZXhwb3J0IHZhciB0aGVtZURvYyA9IHtcbiAgJ2dsb2JhbC5jb2xvcnMuY29udHJvbCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBjb2xvciB0byB1c2UgZm9yIHRoZSBpY29uLicsXG4gICAgdHlwZTogJ3N0cmluZyB8IHsgZGFyazogc3RyaW5nLCBsaWdodDogc3RyaW5nIH0nLFxuICAgIGRlZmF1bHRWYWx1ZTogdW5kZWZpbmVkXG4gIH0sXG4gICdtZW51LmJhY2tncm91bmQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgY29sb3IgZm9yIHRoZSBiYWNrZ3JvdW5kIG9mIHRoZSBtZW51IERyb3Agd2hlbiBpdCBpcyBvcGVuLicsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiB1bmRlZmluZWRcbiAgfSxcbiAgJ21lbnUuZXh0ZW5kJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnQW55IGFkZGl0aW9uYWwgc3R5bGUgZm9yIHRoZSBNZW51LicsXG4gICAgdHlwZTogJ3N0cmluZyB8IChwcm9wcykgPT4ge30nLFxuICAgIGRlZmF1bHRWYWx1ZTogdW5kZWZpbmVkXG4gIH0sXG4gICdtZW51Lmljb25zLmRvd24nOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgaWNvbiB0byBzaG93IHRvIHRoZSByaWdodCBvZiB0aGUgbGFiZWwuJyxcbiAgICB0eXBlOiAnUmVhY3QuRWxlbWVudCcsXG4gICAgZGVmYXVsdFZhbHVlOiAnPEZvcm1Eb3duIC8+J1xuICB9XG59OyIsImV4cG9ydCB7IE1lbnUgfSBmcm9tICcuL01lbnUnOyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbXBvc2UgfSBmcm9tICdyZWNvbXBvc2UnO1xuaW1wb3J0IHsgd2l0aFRoZW1lIH0gZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgZGVmYXVsdFByb3BzIH0gZnJvbSAnLi4vLi4vZGVmYXVsdC1wcm9wcyc7XG5pbXBvcnQgeyBwYXJzZU1ldHJpY1RvTnVtIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuaW1wb3J0IHsgU3R5bGVkTWV0ZXIgfSBmcm9tICcuL1N0eWxlZE1ldGVyJztcbmltcG9ydCB7IHN0cm9rZVByb3BzLCBkZWZhdWx0Q29sb3IgfSBmcm9tICcuL3V0aWxzJztcblxudmFyIEJhciA9IGZ1bmN0aW9uIEJhcihwcm9wcykge1xuICB2YXIgYmFja2dyb3VuZCA9IHByb3BzLmJhY2tncm91bmQsXG4gICAgICBtYXggPSBwcm9wcy5tYXgsXG4gICAgICByb3VuZCA9IHByb3BzLnJvdW5kLFxuICAgICAgc2l6ZSA9IHByb3BzLnNpemUsXG4gICAgICB0aGVtZSA9IHByb3BzLnRoZW1lLFxuICAgICAgdGhpY2tuZXNzID0gcHJvcHMudGhpY2tuZXNzLFxuICAgICAgdmFsdWVzID0gcHJvcHMudmFsdWVzLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHByb3BzLCBbXCJiYWNrZ3JvdW5kXCIsIFwibWF4XCIsIFwicm91bmRcIiwgXCJzaXplXCIsIFwidGhlbWVcIiwgXCJ0aGlja25lc3NcIiwgXCJ2YWx1ZXNcIl0pO1xuXG4gIHZhciB3aWR0aCA9IHNpemUgPT09ICdmdWxsJyA/IDI4OCA6IHBhcnNlTWV0cmljVG9OdW0odGhlbWUuZ2xvYmFsLnNpemVbc2l6ZV0gfHwgc2l6ZSk7XG4gIHZhciBoZWlnaHQgPSBwYXJzZU1ldHJpY1RvTnVtKHRoZW1lLmdsb2JhbC5lZGdlU2l6ZVt0aGlja25lc3NdIHx8IHRoaWNrbmVzcyk7IC8vIGFjY291bnQgZm9yIHRoZSByb3VuZCBjYXAsIGlmIGFueVxuXG4gIHZhciBjYXBPZmZzZXQgPSByb3VuZCA/IGhlaWdodCAvIDIgOiAwO1xuICB2YXIgbWlkID0gaGVpZ2h0IC8gMjtcbiAgdmFyIHNvbWVIaWdobGlnaHQgPSAodmFsdWVzIHx8IFtdKS5zb21lKGZ1bmN0aW9uICh2KSB7XG4gICAgcmV0dXJuIHYuaGlnaGxpZ2h0O1xuICB9KTtcbiAgdmFyIHN0YXJ0ID0gY2FwT2Zmc2V0O1xuICB2YXIgcGF0aHMgPSAodmFsdWVzIHx8IFtdKS5maWx0ZXIoZnVuY3Rpb24gKHYpIHtcbiAgICByZXR1cm4gdi52YWx1ZSA+IDA7XG4gIH0pLm1hcChmdW5jdGlvbiAodmFsdWVBcmcsIGluZGV4KSB7XG4gICAgdmFyIGNvbG9yID0gdmFsdWVBcmcuY29sb3IsXG4gICAgICAgIGhpZ2hsaWdodCA9IHZhbHVlQXJnLmhpZ2hsaWdodCxcbiAgICAgICAgbGFiZWwgPSB2YWx1ZUFyZy5sYWJlbCxcbiAgICAgICAgb25Ib3ZlciA9IHZhbHVlQXJnLm9uSG92ZXIsXG4gICAgICAgIHZhbHVlID0gdmFsdWVBcmcudmFsdWUsXG4gICAgICAgIHBhdGhSZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UodmFsdWVBcmcsIFtcImNvbG9yXCIsIFwiaGlnaGxpZ2h0XCIsIFwibGFiZWxcIiwgXCJvbkhvdmVyXCIsIFwidmFsdWVcIl0pO1xuXG4gICAgdmFyIGtleSA9IFwicC1cIiArIGluZGV4O1xuICAgIHZhciBkZWx0YSA9IHZhbHVlICogKHdpZHRoIC0gMiAqIGNhcE9mZnNldCkgLyBtYXg7XG4gICAgdmFyIGQgPSBcIk0gXCIgKyBzdGFydCArIFwiLFwiICsgbWlkICsgXCIgTCBcIiArIChzdGFydCArIGRlbHRhKSArIFwiLFwiICsgbWlkO1xuICAgIHZhciBjb2xvck5hbWUgPSBjb2xvciB8fCBkZWZhdWx0Q29sb3IoaW5kZXgsIHRoZW1lLCB2YWx1ZXMgPyB2YWx1ZXMubGVuZ3RoIDogMCk7XG4gICAgdmFyIGhvdmVyUHJvcHM7XG5cbiAgICBpZiAob25Ib3Zlcikge1xuICAgICAgaG92ZXJQcm9wcyA9IHtcbiAgICAgICAgb25Nb3VzZU92ZXI6IGZ1bmN0aW9uIG9uTW91c2VPdmVyKCkge1xuICAgICAgICAgIHJldHVybiBvbkhvdmVyKHRydWUpO1xuICAgICAgICB9LFxuICAgICAgICBvbk1vdXNlTGVhdmU6IGZ1bmN0aW9uIG9uTW91c2VMZWF2ZSgpIHtcbiAgICAgICAgICByZXR1cm4gb25Ib3ZlcihmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuXG4gICAgc3RhcnQgKz0gZGVsdGE7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIF9leHRlbmRzKHtcbiAgICAgIGtleToga2V5LFxuICAgICAgZDogZCxcbiAgICAgIGZpbGw6IFwibm9uZVwiXG4gICAgfSwgc3Ryb2tlUHJvcHMoc29tZUhpZ2hsaWdodCAmJiAhaGlnaGxpZ2h0ID8gYmFja2dyb3VuZCA6IGNvbG9yTmFtZSwgdGhlbWUpLCB7XG4gICAgICBzdHJva2VXaWR0aDogaGVpZ2h0LFxuICAgICAgc3Ryb2tlTGluZWNhcDogcm91bmQgPyAncm91bmQnIDogJ2J1dHQnXG4gICAgfSwgaG92ZXJQcm9wcywgcGF0aFJlc3QpKTtcbiAgfSkucmV2ZXJzZSgpOyAvLyByZXZlcnNlIHNvIHRoZSBjYXBzIGxvb2tzIHJpZ2h0XG5cbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkTWV0ZXIsIF9leHRlbmRzKHtcbiAgICB2aWV3Qm94OiBcIjAgMCBcIiArIHdpZHRoICsgXCIgXCIgKyBoZWlnaHQsXG4gICAgcHJlc2VydmVBc3BlY3RSYXRpbzogXCJub25lXCIsXG4gICAgd2lkdGg6IHNpemUgPT09ICdmdWxsJyA/ICcxMDAlJyA6IHdpZHRoLFxuICAgIGhlaWdodDogaGVpZ2h0LFxuICAgIHJvdW5kOiByb3VuZCA/IHtcbiAgICAgIHNpemU6IHRoaWNrbmVzc1xuICAgIH0gOiB1bmRlZmluZWRcbiAgfSwgcmVzdCksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIF9leHRlbmRzKHtcbiAgICBkOiBcIk0gXCIgKyBjYXBPZmZzZXQgKyBcIixcIiArIG1pZCArIFwiIEwgXCIgKyAod2lkdGggLSBjYXBPZmZzZXQpICsgXCIsXCIgKyBtaWQsXG4gICAgZmlsbDogXCJub25lXCJcbiAgfSwgc3Ryb2tlUHJvcHMoYmFja2dyb3VuZCwgdGhlbWUpLCB7XG4gICAgc3Ryb2tlV2lkdGg6IGhlaWdodCxcbiAgICBzdHJva2VMaW5lY2FwOiByb3VuZCA/ICdyb3VuZCcgOiAnc3F1YXJlJ1xuICB9KSksIHBhdGhzKTtcbn07XG5cbkJhci5kZWZhdWx0UHJvcHMgPSB7XG4gIGJhY2tncm91bmQ6ICdsaWdodC0xJ1xufTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihCYXIuZGVmYXVsdFByb3BzLCBkZWZhdWx0UHJvcHMpO1xudmFyIEJhcldyYXBwZXIgPSBjb21wb3NlKHdpdGhUaGVtZSkoQmFyKTtcbmV4cG9ydCB7IEJhcldyYXBwZXIgYXMgQmFyIH07IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY29tcG9zZSB9IGZyb20gJ3JlY29tcG9zZSc7XG5pbXBvcnQgeyB3aXRoVGhlbWUgfSBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBkZWZhdWx0UHJvcHMgfSBmcm9tICcuLi8uLi9kZWZhdWx0LXByb3BzJztcbmltcG9ydCB7IGFyY0NvbW1hbmRzLCBwYXJzZU1ldHJpY1RvTnVtLCB0cmFuc2xhdGVFbmRBbmdsZSB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmltcG9ydCB7IFN0eWxlZE1ldGVyIH0gZnJvbSAnLi9TdHlsZWRNZXRlcic7XG5pbXBvcnQgeyBzdHJva2VQcm9wcywgZGVmYXVsdENvbG9yIH0gZnJvbSAnLi91dGlscyc7XG5cbnZhciBDaXJjbGUgPSBmdW5jdGlvbiBDaXJjbGUocHJvcHMpIHtcbiAgdmFyIGJhY2tncm91bmQgPSBwcm9wcy5iYWNrZ3JvdW5kLFxuICAgICAgbWF4ID0gcHJvcHMubWF4LFxuICAgICAgcm91bmQgPSBwcm9wcy5yb3VuZCxcbiAgICAgIHNpemUgPSBwcm9wcy5zaXplLFxuICAgICAgdGhlbWUgPSBwcm9wcy50aGVtZSxcbiAgICAgIHRoaWNrbmVzcyA9IHByb3BzLnRoaWNrbmVzcyxcbiAgICAgIHZhbHVlcyA9IHByb3BzLnZhbHVlcyxcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShwcm9wcywgW1wiYmFja2dyb3VuZFwiLCBcIm1heFwiLCBcInJvdW5kXCIsIFwic2l6ZVwiLCBcInRoZW1lXCIsIFwidGhpY2tuZXNzXCIsIFwidmFsdWVzXCJdKTtcblxuICB2YXIgd2lkdGggPSBzaXplID09PSAnZnVsbCcgPyAyODggOiBwYXJzZU1ldHJpY1RvTnVtKHRoZW1lLmdsb2JhbC5zaXplW3NpemVdIHx8IHNpemUpO1xuICB2YXIgaGVpZ2h0ID0gcGFyc2VNZXRyaWNUb051bSh0aGVtZS5nbG9iYWwuZWRnZVNpemVbdGhpY2tuZXNzXSB8fCB0aGlja25lc3MpO1xuICB2YXIgbWlkID0gd2lkdGggLyAyO1xuICB2YXIgcmFkaXVzID0gd2lkdGggLyAyIC0gaGVpZ2h0IC8gMjtcbiAgdmFyIGFuZ2xlUGVyID0gMzYwIC8gbWF4O1xuICB2YXIgc29tZUhpZ2hsaWdodCA9ICh2YWx1ZXMgfHwgW10pLnNvbWUoZnVuY3Rpb24gKHYpIHtcbiAgICByZXR1cm4gdi5oaWdobGlnaHQ7XG4gIH0pO1xuICB2YXIgc3RhcnRWYWx1ZSA9IDA7XG4gIHZhciBzdGFydEFuZ2xlID0gMDtcbiAgdmFyIHBhdGhzID0gW107XG4gIHZhciBwYXRoQ2FwcyA9IFtdO1xuICAodmFsdWVzIHx8IFtdKS5maWx0ZXIoZnVuY3Rpb24gKHYpIHtcbiAgICByZXR1cm4gdi52YWx1ZSA+IDA7XG4gIH0pLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlQXJnLCBpbmRleCkge1xuICAgIHZhciBjb2xvciA9IHZhbHVlQXJnLmNvbG9yLFxuICAgICAgICBoaWdobGlnaHQgPSB2YWx1ZUFyZy5oaWdobGlnaHQsXG4gICAgICAgIGxhYmVsID0gdmFsdWVBcmcubGFiZWwsXG4gICAgICAgIG9uSG92ZXIgPSB2YWx1ZUFyZy5vbkhvdmVyLFxuICAgICAgICB2YWx1ZSA9IHZhbHVlQXJnLnZhbHVlLFxuICAgICAgICBwYXRoUmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHZhbHVlQXJnLCBbXCJjb2xvclwiLCBcImhpZ2hsaWdodFwiLCBcImxhYmVsXCIsIFwib25Ib3ZlclwiLCBcInZhbHVlXCJdKTtcblxuICAgIHZhciBrZXkgPSBcInAtXCIgKyBpbmRleDtcbiAgICB2YXIgY29sb3JOYW1lID0gY29sb3IgfHwgZGVmYXVsdENvbG9yKGluZGV4LCB0aGVtZSwgdmFsdWVzID8gdmFsdWVzLmxlbmd0aCA6IDApO1xuICAgIHZhciBlbmRBbmdsZTtcblxuICAgIGlmIChzdGFydFZhbHVlICsgdmFsdWUgPj0gbWF4KSB7XG4gICAgICBlbmRBbmdsZSA9IDM2MDtcbiAgICB9IGVsc2Uge1xuICAgICAgZW5kQW5nbGUgPSBNYXRoLm1pbigzNjAsIHRyYW5zbGF0ZUVuZEFuZ2xlKHN0YXJ0QW5nbGUsIGFuZ2xlUGVyLCB2YWx1ZSkpO1xuICAgIH1cblxuICAgIHZhciBob3ZlclByb3BzO1xuXG4gICAgaWYgKG9uSG92ZXIpIHtcbiAgICAgIGhvdmVyUHJvcHMgPSB7XG4gICAgICAgIG9uTW91c2VPdmVyOiBmdW5jdGlvbiBvbk1vdXNlT3ZlcigpIHtcbiAgICAgICAgICByZXR1cm4gb25Ib3Zlcih0cnVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25Nb3VzZUxlYXZlOiBmdW5jdGlvbiBvbk1vdXNlTGVhdmUoKSB7XG4gICAgICAgICAgcmV0dXJuIG9uSG92ZXIoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cblxuICAgIHZhciBzdHJva2UgPSBzdHJva2VQcm9wcyhzb21lSGlnaGxpZ2h0ICYmICFoaWdobGlnaHQgPyBiYWNrZ3JvdW5kIDogY29sb3JOYW1lLCB0aGVtZSk7XG5cbiAgICBpZiAocm91bmQpIHtcbiAgICAgIHZhciBkMSA9IGFyY0NvbW1hbmRzKHdpZHRoIC8gMiwgd2lkdGggLyAyLCByYWRpdXMsIHN0YXJ0QW5nbGUsIGVuZEFuZ2xlKTtcbiAgICAgIHBhdGhzLnVuc2hpZnQoUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgX2V4dGVuZHMoe1xuICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgZDogZDEsXG4gICAgICAgIGZpbGw6IFwibm9uZVwiXG4gICAgICB9LCBzdHJva2UsIHtcbiAgICAgICAgc3Ryb2tlV2lkdGg6IGhlaWdodCxcbiAgICAgICAgc3Ryb2tlTGluZWNhcDogXCJyb3VuZFwiXG4gICAgICB9LCBob3ZlclByb3BzLCBwYXRoUmVzdCkpKTsgLy8gVG8gaGFuZGxlIHNpdHVhdGlvbnMgd2hlcmUgdGhlIGxhc3QgdmFsdWVzIGFyZSBzbWFsbCwgcmVkcmF3XG4gICAgICAvLyBhIGRvdCBhdCB0aGUgZW5kLiBHaXZlIGp1c3QgYSBiaXQgb2YgYW5nbGUgdG8gYXZvaWQgYW50aS1hbGlhc2luZ1xuICAgICAgLy8gbGVha2FnZSBhcm91bmQgdGhlIGVkZ2UuXG5cbiAgICAgIHZhciBkMiA9IGFyY0NvbW1hbmRzKHdpZHRoIC8gMiwgd2lkdGggLyAyLCByYWRpdXMsIGVuZEFuZ2xlIC0gMC41LCBlbmRBbmdsZSk7XG4gICAgICB2YXIgcGF0aENhcCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIF9leHRlbmRzKHtcbiAgICAgICAga2V5OiBrZXkgKyBcIi1cIixcbiAgICAgICAgZDogZDIsXG4gICAgICAgIGZpbGw6IFwibm9uZVwiXG4gICAgICB9LCBzdHJva2UsIHtcbiAgICAgICAgc3Ryb2tlV2lkdGg6IGhlaWdodCxcbiAgICAgICAgc3Ryb2tlTGluZWNhcDogXCJyb3VuZFwiXG4gICAgICB9LCBob3ZlclByb3BzLCBwYXRoUmVzdCkpOyAvLyBJZiB3ZSBhcmUgb24gYSBsYXJnZSBlbm91Z2ggcGF0aCB0byBub3QgbmVlZCByZS1kcmF3aW5nIHByZXZpb3VzXG4gICAgICAvLyBvbmVzLCBjbGVhciB0aGUgcGF0aENhcHMgd2UndmUgY29sbGVjdGVkIGFscmVhZHkuXG5cbiAgICAgIGlmIChlbmRBbmdsZSAtIHN0YXJ0QW5nbGUgPiAyICogYW5nbGVQZXIpIHtcbiAgICAgICAgcGF0aENhcHMgPSBbXTtcbiAgICAgIH1cblxuICAgICAgcGF0aENhcHMudW5zaGlmdChwYXRoQ2FwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGQgPSBhcmNDb21tYW5kcyh3aWR0aCAvIDIsIHdpZHRoIC8gMiwgcmFkaXVzLCBzdGFydEFuZ2xlLCBlbmRBbmdsZSk7XG4gICAgICBwYXRocy5wdXNoKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIF9leHRlbmRzKHtcbiAgICAgICAga2V5OiBrZXksXG4gICAgICAgIGQ6IGQsXG4gICAgICAgIGZpbGw6IFwibm9uZVwiXG4gICAgICB9LCBzdHJva2UsIHtcbiAgICAgICAgc3Ryb2tlV2lkdGg6IGhlaWdodCxcbiAgICAgICAgc3Ryb2tlTGluZWNhcDogXCJidXR0XCJcbiAgICAgIH0sIGhvdmVyUHJvcHMsIHBhdGhSZXN0KSkpO1xuICAgIH1cblxuICAgIHN0YXJ0VmFsdWUgKz0gdmFsdWU7XG4gICAgc3RhcnRBbmdsZSA9IGVuZEFuZ2xlO1xuICB9KTtcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkTWV0ZXIsIF9leHRlbmRzKHtcbiAgICB2aWV3Qm94OiBcIjAgMCBcIiArIHdpZHRoICsgXCIgXCIgKyB3aWR0aCxcbiAgICB3aWR0aDogc2l6ZSA9PT0gJ2Z1bGwnID8gJzEwMCUnIDogd2lkdGgsXG4gICAgaGVpZ2h0OiBzaXplID09PSAnZnVsbCcgPyAnMTAwJScgOiB3aWR0aFxuICB9LCByZXN0KSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImNpcmNsZVwiLCBfZXh0ZW5kcyh7XG4gICAgY3g6IG1pZCxcbiAgICBjeTogbWlkLFxuICAgIHI6IHJhZGl1c1xuICB9LCBzdHJva2VQcm9wcyhiYWNrZ3JvdW5kLCB0aGVtZSksIHtcbiAgICBzdHJva2VXaWR0aDogaGVpZ2h0LFxuICAgIHN0cm9rZUxpbmVjYXA6IHJvdW5kID8gJ3JvdW5kJyA6ICdzcXVhcmUnLFxuICAgIGZpbGw6IFwibm9uZVwiXG4gIH0pKSwgcGF0aHMsIHBhdGhDYXBzKTtcbn07XG5cbkNpcmNsZS5kZWZhdWx0UHJvcHMgPSB7fTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihDaXJjbGUuZGVmYXVsdFByb3BzLCBkZWZhdWx0UHJvcHMpO1xudmFyIENpcmNsZVdyYXBwZXIgPSBjb21wb3NlKHdpdGhUaGVtZSkoQ2lyY2xlKTtcbmV4cG9ydCB7IENpcmNsZVdyYXBwZXIgYXMgQ2lyY2xlIH07IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5pbXBvcnQgUmVhY3QsIHsgdXNlTWVtbyB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEJhciB9IGZyb20gJy4vQmFyJztcbmltcG9ydCB7IENpcmNsZSB9IGZyb20gJy4vQ2lyY2xlJztcblxudmFyIGRlcml2ZU1heCA9IGZ1bmN0aW9uIGRlcml2ZU1heCh2YWx1ZXMpIHtcbiAgdmFyIG1heCA9IDEwMDtcblxuICBpZiAodmFsdWVzICYmIHZhbHVlcy5sZW5ndGggPiAxKSB7XG4gICAgbWF4ID0gMDtcbiAgICB2YWx1ZXMuZm9yRWFjaChmdW5jdGlvbiAodikge1xuICAgICAgbWF4ICs9IHYudmFsdWU7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gbWF4O1xufTtcblxudmFyIE1ldGVyID0gZnVuY3Rpb24gTWV0ZXIoX3JlZikge1xuICB2YXIgX3JlZiRiYWNrZ3JvdW5kID0gX3JlZi5iYWNrZ3JvdW5kLFxuICAgICAgYmFja2dyb3VuZCA9IF9yZWYkYmFja2dyb3VuZCA9PT0gdm9pZCAwID8ge1xuICAgIGNvbG9yOiAnbGlnaHQtMicsXG4gICAgb3BhY2l0eTogJ21lZGl1bSdcbiAgfSA6IF9yZWYkYmFja2dyb3VuZCxcbiAgICAgIF9yZWYkc2l6ZSA9IF9yZWYuc2l6ZSxcbiAgICAgIHNpemUgPSBfcmVmJHNpemUgPT09IHZvaWQgMCA/ICdtZWRpdW0nIDogX3JlZiRzaXplLFxuICAgICAgX3JlZiR0aGlja25lc3MgPSBfcmVmLnRoaWNrbmVzcyxcbiAgICAgIHRoaWNrbmVzcyA9IF9yZWYkdGhpY2tuZXNzID09PSB2b2lkIDAgPyAnbWVkaXVtJyA6IF9yZWYkdGhpY2tuZXNzLFxuICAgICAgX3JlZiR0eXBlID0gX3JlZi50eXBlLFxuICAgICAgdHlwZSA9IF9yZWYkdHlwZSA9PT0gdm9pZCAwID8gJ2JhcicgOiBfcmVmJHR5cGUsXG4gICAgICB2YWx1ZXMgPSBfcmVmLnZhbHVlcyxcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfcmVmLCBbXCJiYWNrZ3JvdW5kXCIsIFwic2l6ZVwiLCBcInRoaWNrbmVzc1wiLCBcInR5cGVcIiwgXCJ2YWx1ZXNcIl0pO1xuXG4gIHZhciBtZW1vaXplZE1heCA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBkZXJpdmVNYXgodmFsdWVzKTtcbiAgfSwgW3ZhbHVlc10pO1xuICB2YXIgY29udGVudDtcblxuICBpZiAodHlwZSA9PT0gJ2JhcicpIHtcbiAgICBjb250ZW50ID0gUmVhY3QuY3JlYXRlRWxlbWVudChCYXIsIF9leHRlbmRzKHtcbiAgICAgIG1heDogbWVtb2l6ZWRNYXgsXG4gICAgICB2YWx1ZXM6IHZhbHVlcyxcbiAgICAgIHNpemU6IHNpemUsXG4gICAgICB0aGlja25lc3M6IHRoaWNrbmVzcyxcbiAgICAgIGJhY2tncm91bmQ6IGJhY2tncm91bmRcbiAgICB9LCByZXN0KSk7XG4gIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2NpcmNsZScpIHtcbiAgICBjb250ZW50ID0gUmVhY3QuY3JlYXRlRWxlbWVudChDaXJjbGUsIF9leHRlbmRzKHtcbiAgICAgIG1heDogbWVtb2l6ZWRNYXgsXG4gICAgICB2YWx1ZXM6IHZhbHVlcyxcbiAgICAgIHNpemU6IHNpemUsXG4gICAgICB0aGlja25lc3M6IHRoaWNrbmVzcyxcbiAgICAgIGJhY2tncm91bmQ6IGJhY2tncm91bmRcbiAgICB9LCByZXN0KSk7XG4gIH1cblxuICByZXR1cm4gY29udGVudDtcbn07XG5cbnZhciBNZXRlckRvYztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgTWV0ZXJEb2MgPSByZXF1aXJlKCcuL2RvYycpLmRvYyhNZXRlcik7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZ2xvYmFsLXJlcXVpcmVcbn1cblxudmFyIE1ldGVyV3JhcHBlciA9IE1ldGVyRG9jIHx8IE1ldGVyO1xuZXhwb3J0IHsgTWV0ZXJXcmFwcGVyIGFzIE1ldGVyIH07IiwiaW1wb3J0IHN0eWxlZCwgeyBjc3MgfSBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBnZW5lcmljU3R5bGVzIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuaW1wb3J0IHsgZGVmYXVsdFByb3BzIH0gZnJvbSAnLi4vLi4vZGVmYXVsdC1wcm9wcyc7XG52YXIgcm91bmRTdHlsZSA9IGNzcyhbXCJib3JkZXItcmFkaXVzOlwiLCBcIjtcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUuZ2xvYmFsLmVkZ2VTaXplW3Byb3BzLnJvdW5kLnNpemVdO1xufSk7IC8vIG92ZXJmbG93OiBoaWRkZW4gaXMgbmVlZGVkIGZvciBpZTExXG5cbnZhciBTdHlsZWRNZXRlciA9IHN0eWxlZC5zdmcud2l0aENvbmZpZyh7XG4gIGRpc3BsYXlOYW1lOiBcIlN0eWxlZE1ldGVyXCIsXG4gIGNvbXBvbmVudElkOiBcIm5zeGFyeC0wXCJcbn0pKFtcIm1heC13aWR0aDoxMDAlO292ZXJmbG93OmhpZGRlbjtcIiwgXCIgXCIsIFwiIHBhdGh7dHJhbnNpdGlvbjpzdHJva2UgMC4zcyxzdHJva2Utd2lkdGggMC4zczt9XCIsIFwiO1wiXSwgZ2VuZXJpY1N0eWxlcywgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5yb3VuZCAmJiByb3VuZFN0eWxlO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5tZXRlciAmJiBwcm9wcy50aGVtZS5tZXRlci5leHRlbmQ7XG59KTtcblN0eWxlZE1ldGVyLmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKFN0eWxlZE1ldGVyLmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbmV4cG9ydCB7IFN0eWxlZE1ldGVyIH07IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuaW1wb3J0IHsgZGVzY3JpYmUsIFByb3BUeXBlcyB9IGZyb20gJ3JlYWN0LWRlc2MnO1xuaW1wb3J0IHsgYmFja2dyb3VuZFByb3BUeXBlLCBnZW5lcmljUHJvcHMsIGdldEF2YWlsYWJsZUF0QmFkZ2UgfSBmcm9tICcuLi8uLi91dGlscyc7XG5leHBvcnQgdmFyIGRvYyA9IGZ1bmN0aW9uIGRvYyhNZXRlcikge1xuICB2YXIgRG9jdW1lbnRlZE1ldGVyID0gZGVzY3JpYmUoTWV0ZXIpLmF2YWlsYWJsZUF0KGdldEF2YWlsYWJsZUF0QmFkZ2UoJ01ldGVyJykpLmRlc2NyaXB0aW9uKCdBIGdyYXBoaWNhbCBtZXRlci4nKS51c2FnZShcImltcG9ydCB7IE1ldGVyIH0gZnJvbSAnZ3JvbW1ldCc7XFxuPE1ldGVyIC8+XCIpOyAvLyBXZSBkb24ndCBpbmNsdWRlIHN2ZyBkdWUgdG8gYSBjb2xsaXNpb24gb24gdGhlIHZhbHVlcyBwcm9wZXJ0eVxuICAvLyAuaW50cmluc2ljRWxlbWVudCgnc3ZnJyk7XG5cbiAgRG9jdW1lbnRlZE1ldGVyLnByb3BUeXBlcyA9IF9leHRlbmRzKHt9LCBnZW5lcmljUHJvcHMsIHtcbiAgICBiYWNrZ3JvdW5kOiBiYWNrZ3JvdW5kUHJvcFR5cGUuZGVmYXVsdFZhbHVlKHtcbiAgICAgIGNvbG9yOiAnbGlnaHQtMicsXG4gICAgICBvcGFjaXR5OiAnbWVkaXVtJ1xuICAgIH0pLFxuICAgIG1heDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm51bWJlciwgUHJvcFR5cGVzLnN0cmluZ10pLmRlc2NyaXB0aW9uKCdUaGUgbWF4aW11bSB2YWx1ZSBmb3IgdGhlIE1ldGVyLicpLFxuICAgIHJvdW5kOiBQcm9wVHlwZXMuYm9vbC5kZXNjcmlwdGlvbignV2hldGhlciB0byByb3VuZCB0aGUgbGluZSBlbmRzJykuZGVmYXVsdFZhbHVlKGZhbHNlKSxcbiAgICBzaXplOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2YoWyd4c21hbGwnLCAnc21hbGwnLCAnbWVkaXVtJywgJ2xhcmdlJywgJ3hsYXJnZScsICdmdWxsJ10pLCBQcm9wVHlwZXMuc3RyaW5nXSkuZGVzY3JpcHRpb24oJ1RoZSBzaXplIG9mIHRoZSBNZXRlci4nKS5kZWZhdWx0VmFsdWUoJ21lZGl1bScpLFxuICAgIHRoaWNrbmVzczogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFsneHNtYWxsJywgJ3NtYWxsJywgJ21lZGl1bScsICdsYXJnZScsICd4bGFyZ2UnXSksIFByb3BUeXBlcy5zdHJpbmddKS5kZXNjcmlwdGlvbignVGhlIHNpemUgb2YgdGhlIE1ldGVyLicpLmRlZmF1bHRWYWx1ZSgnbWVkaXVtJyksXG4gICAgdHlwZTogUHJvcFR5cGVzLm9uZU9mKFsnYmFyJywgJ2NpcmNsZSddKS5kZXNjcmlwdGlvbignVGhlIHZpc3VhbCB0eXBlIG9mIG1ldGVyLicpLmRlZmF1bHRWYWx1ZSgnYmFyJyksXG4gICAgdmFsdWVzOiBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgY29sb3I6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgICBoaWdobGlnaHQ6IFByb3BUeXBlcy5ib29sLFxuICAgICAgbGFiZWw6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICAgIC8vIGZvciBhY2Nlc3NpYmlsaXR5XG4gICAgICBvbkNsaWNrOiBQcm9wVHlwZXMuZnVuYyxcbiAgICAgIG9uSG92ZXI6IFByb3BUeXBlcy5mdW5jLFxuICAgICAgdmFsdWU6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZFxuICAgIH0pKS5kZXNjcmlwdGlvbihcIkFycmF5IG9mIHZhbHVlIG9iamVjdHMgZGVzY3JpYmluZyB0aGUgZGF0YS5cXG4gICAgICAndmFsdWUnIGlzIHRoZSBhY3R1YWwgbnVtZXJpYyB2YWx1ZS5cXG4gICAgICAnbGFiZWwnIGlzIGEgdGV4dCBzdHJpbmcgZGVzY3JpYmluZyBpdC5cXG4gICAgICAnY29sb3InIGluZGljYXRlcyB0aGUgY29sb3IgbmFtZSB0byB1c2UuIElmIG5vdCBzcGVjaWZpZWQgYSBkZWZhdWx0IG9uZVxcbiAgICAgIHdpbGwgYmUgY2hvc2VuLlxcbiAgICAgICdvbkNsaWNrJyB3aWxsIGJlIGNhbGxlZCB3aGVuIHRoZSB1c2VyIGNsaWNrcyBvbiBpdC5cXG4gICAgICBTZXQgJ2hpZ2hsaWdodCcgdG8gY2FsbCBhdHRlbnRpb24gdG8gaXQuXFxuICAgICAgJ29uSG92ZXInIHdpbGwgYmUgY2FsbGVkIHdpdGggYSBib29sZWFuIGFyZ3VtZW50IGluZGljYXRpbmcgd2hlbiB0aGVcXG4gICAgICB1c2VyIGhvdmVycyBvbnRvIG9yIGF3YXkgZnJvbSBpdC5cIilcbiAgfSk7XG4gIHJldHVybiBEb2N1bWVudGVkTWV0ZXI7XG59O1xuZXhwb3J0IHZhciB0aGVtZURvYyA9IHtcbiAgJ2dsb2JhbC5jb2xvcnMnOiB7XG4gICAgZGVzY3JpcHRpb246ICdDb2xvciBvcHRpb25zLicsXG4gICAgdHlwZTogJ29iamVjdCcsXG4gICAgZGVmYXVsdFZhbHVlOiBcIntcXG4gICAgICBcXFwiYWNjZW50LTFcXFwiOiBcXFwiIzZGRkZCMFxcXCIsXFxuICAgICAgXFxcImdyYXBoLTBcXFwiOiBcXFwiYWNjZW50LTFcXFwiLFxcbiAgICAgIC4uLlxcbiAgICB9XCJcbiAgfSxcbiAgJ2dsb2JhbC5lZGdlU2l6ZSc6IHtcbiAgICBkZXNjcmlwdGlvbjogXCJUaGUgYm9yZGVyLXJhZGl1cyBvZiB0aGUgc3R5bGVkIE1ldGVyLiB0aGlja25lc3MsIGhlaWdodCBhbmQgXFxuICAgIHdpZHRoIG9mIHRoZSBCYXIgTWV0ZXIsIGhlaWdodCBvZiB0aGUgQ2lyY2xlIE1ldGVyLlwiLFxuICAgIHR5cGU6ICdvYmplY3QnLFxuICAgIGRlZmF1bHRWYWx1ZTogXCJ7XFxuICAgICAgICBub25lOiAnMHB4JyxcXG4gICAgICAgIGhhaXI6ICcxcHgnLFxcbiAgICAgICAgeHhzbWFsbDogJzNweCcsXFxuICAgICAgICB4c21hbGw6ICc2cHgnLFxcbiAgICAgICAgc21hbGw6ICcxMnB4JyxcXG4gICAgICAgIG1lZGl1bTogJzI0cHgnLFxcbiAgICAgICAgbGFyZ2U6ICc0OHB4JyxcXG4gICAgICAgIHhsYXJnZTogJzk2cHgnLFxcbiAgICAgICAgcmVzcG9uc2l2ZUJyZWFrcG9pbnQ6ICdzbWFsbCcsXFxuICAgIH1cIlxuICB9LFxuICAnZ2xvYmFsLm9wYWNpdHkubWVkaXVtJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIG9wYWNpdHkgdmFsdWUgdXNlZCBvbiB0aGUgTWV0ZXIgY29sb3IuJyxcbiAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICBkZWZhdWx0VmFsdWU6ICcwLjQnXG4gIH0sXG4gICdnbG9iYWwuc2l6ZSc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBwb3NzaWJsZSBzaXplcyBmb3IgQ2lyY2xlIE1ldGVyIHdpZHRoLicsXG4gICAgdHlwZTogJ29iamVjdCcsXG4gICAgZGVmYXVsdFZhbHVlOiBcIntcXG4gICAgICB4eHNtYWxsOiAnNDhweCcsXFxuICAgICAgeHNtYWxsOiAnOTZweCcsXFxuICAgICAgc21hbGw6ICcxOTJweCcsXFxuICAgICAgbWVkaXVtOiAnMzg0cHgnLFxcbiAgICAgIGxhcmdlOiAnNzY4cHgnLFxcbiAgICAgIHhsYXJnZTogJzExNTJweCcsXFxuICAgICAgeHhsYXJnZTogJzE1MzZweCcsXFxuICAgICAgZnVsbDogJzEwMCUnLFxcbiAgICB9XCJcbiAgfSxcbiAgJ21ldGVyLmNvbG9yJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGNvbG9yIHVzZWQgZm9yIHRoZSBNZXRlci4nLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogJ2FjY2VudC0xJ1xuICB9LFxuICAnbWV0ZXIuZXh0ZW5kJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnQW55IGFkZGl0aW9uYWwgc3R5bGUgZm9yIE1ldGVyLicsXG4gICAgdHlwZTogJ3N0cmluZyB8IChwcm9wcykgPT4ge30nLFxuICAgIGRlZmF1bHRWYWx1ZTogdW5kZWZpbmVkXG4gIH1cbn07IiwiZXhwb3J0IHsgTWV0ZXIgfSBmcm9tICcuL01ldGVyJzsiLCJpbXBvcnQgeyBub3JtYWxpemVDb2xvciB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmV4cG9ydCB2YXIgc3Ryb2tlUHJvcHMgPSBmdW5jdGlvbiBzdHJva2VQcm9wcyhjb2xvciwgdGhlbWUpIHtcbiAgdmFyIHJlc3VsdCA9IHt9O1xuXG4gIGlmIChjb2xvcikge1xuICAgIGlmICh0eXBlb2YgY29sb3IgPT09ICdvYmplY3QnKSB7XG4gICAgICByZXN1bHQuc3Ryb2tlID0gbm9ybWFsaXplQ29sb3IoY29sb3IuY29sb3IsIHRoZW1lKTtcblxuICAgICAgaWYgKGNvbG9yLm9wYWNpdHkpIHtcbiAgICAgICAgcmVzdWx0LnN0cm9rZU9wYWNpdHkgPSBcIlwiICsgKGNvbG9yLm9wYWNpdHkgPT09IHRydWUgPyB0aGVtZS5nbG9iYWwub3BhY2l0eS5tZWRpdW0gOiB0aGVtZS5nbG9iYWwub3BhY2l0eVtjb2xvci5vcGFjaXR5XSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdC5zdHJva2UgPSBub3JtYWxpemVDb2xvcihjb2xvciwgdGhlbWUpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59O1xudmFyIG5ldXRyYWxFeHAgPSAvXm5ldXRyYWwtXFxkKy87XG5leHBvcnQgdmFyIGRlZmF1bHRDb2xvciA9IGZ1bmN0aW9uIGRlZmF1bHRDb2xvcihpbmRleCwgdGhlbWUsIHZhbHVlc0xlbmd0aCkge1xuICBpZiAoaW5kZXggPT09IHZhbHVlc0xlbmd0aCAtIDEgJiYgdGhlbWUubWV0ZXIuY29sb3IpIHtcbiAgICByZXR1cm4gdGhlbWUubWV0ZXIuY29sb3I7XG4gIH1cblxuICBpZiAodGhlbWUubWV0ZXIgJiYgdGhlbWUubWV0ZXIuY29sb3JzKSB7XG4gICAgdmFyIF9jb2xvcnMgPSB0aGVtZS5tZXRlci5jb2xvcnNbdGhlbWUuZGFyayA/ICdkYXJrJyA6ICdsaWdodCddIHx8IHRoZW1lLm1ldGVyLmNvbG9ycztcblxuICAgIHJldHVybiBfY29sb3JzW2luZGV4ICUgX2NvbG9ycy5sZW5ndGhdO1xuICB9XG5cbiAgdmFyIGNvbG9ycyA9IE9iamVjdC5rZXlzKHRoZW1lLmdsb2JhbC5jb2xvcnMpLmZpbHRlcihmdW5jdGlvbiAobikge1xuICAgIHJldHVybiBuLm1hdGNoKC9eZ3JhcGgtWzAtOV0kLyk7XG4gIH0pO1xuXG4gIGlmIChjb2xvcnMubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiBjb2xvcnNbaW5kZXggJSBjb2xvcnMubGVuZ3RoXTtcbiAgfSAvLyBEZXByZWNhdGUgdXNpbmcgXCJuZXV0cmFsLSpcIiBjb2xvciBuYW1lcy4gUmVtb3ZlIGV2ZW50dWFsbHkuXG5cblxuICB2YXIgbmV1dHJhbENvbG9ycyA9IE9iamVjdC5rZXlzKHRoZW1lLmdsb2JhbC5jb2xvcnMpLmZpbHRlcihmdW5jdGlvbiAoaykge1xuICAgIHJldHVybiBuZXV0cmFsRXhwLnRlc3Qoayk7XG4gIH0pO1xuICByZXR1cm4gbmV1dHJhbENvbG9yc1tpbmRleCAlIG5ldXRyYWxDb2xvcnMubGVuZ3RoXTtcbn07IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgU3R5bGVkUGFyYWdyYXBoIH0gZnJvbSAnLi9TdHlsZWRQYXJhZ3JhcGgnO1xuXG52YXIgUGFyYWdyYXBoID0gZnVuY3Rpb24gUGFyYWdyYXBoKF9yZWYpIHtcbiAgdmFyIGNvbG9yID0gX3JlZi5jb2xvcixcbiAgICAgIGZpbGwgPSBfcmVmLmZpbGwsXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZiwgW1wiY29sb3JcIiwgXCJmaWxsXCJdKTtcblxuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWRQYXJhZ3JhcGgsIF9leHRlbmRzKHtcbiAgICBjb2xvclByb3A6IGNvbG9yLFxuICAgIGZpbGxQcm9wOiBmaWxsXG4gIH0sIHJlc3QpKTtcbn07XG5cbnZhciBQYXJhZ3JhcGhEb2M7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBnbG9iYWwtcmVxdWlyZVxuICBQYXJhZ3JhcGhEb2MgPSByZXF1aXJlKCcuL2RvYycpLmRvYyhQYXJhZ3JhcGgpO1xufVxuXG52YXIgUGFyYWdyYXBoV3JhcHBlciA9IFBhcmFncmFwaERvYyB8fCBQYXJhZ3JhcGg7XG5leHBvcnQgeyBQYXJhZ3JhcGhXcmFwcGVyIGFzIFBhcmFncmFwaCB9OyIsImltcG9ydCBzdHlsZWQsIHsgY3NzIH0gZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgZ2VuZXJpY1N0eWxlcywgbm9ybWFsaXplQ29sb3IgfSBmcm9tICcuLi8uLi91dGlscyc7XG5pbXBvcnQgeyBkZWZhdWx0UHJvcHMgfSBmcm9tICcuLi8uLi9kZWZhdWx0LXByb3BzJztcbnZhciBjb2xvclN0eWxlID0gY3NzKFtcImNvbG9yOlwiLCBcIjtcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gbm9ybWFsaXplQ29sb3IocHJvcHMuY29sb3JQcm9wLCBwcm9wcy50aGVtZSk7XG59KTtcblxudmFyIHNpemVTdHlsZSA9IGZ1bmN0aW9uIHNpemVTdHlsZShwcm9wcykge1xuICB2YXIgc2l6ZSA9IHByb3BzLnNpemUgfHwgJ21lZGl1bSc7XG4gIHZhciBkYXRhID0gcHJvcHMudGhlbWUucGFyYWdyYXBoW3NpemVdO1xuICByZXR1cm4gY3NzKFtcImZvbnQtc2l6ZTpcIiwgXCI7bGluZS1oZWlnaHQ6XCIsIFwiO21heC13aWR0aDpcIiwgXCI7XCJdLCBkYXRhLnNpemUsIGRhdGEuaGVpZ2h0LCBwcm9wcy5maWxsUHJvcCA/ICdub25lJyA6IGRhdGEubWF4V2lkdGgpO1xufTtcblxudmFyIFRFWFRfQUxJR05fTUFQID0ge1xuICBjZW50ZXI6ICdjZW50ZXInLFxuICBlbmQ6ICdyaWdodCcsXG4gIHN0YXJ0OiAnbGVmdCdcbn07XG52YXIgdGV4dEFsaWduU3R5bGUgPSBjc3MoW1widGV4dC1hbGlnbjpcIiwgXCI7XCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIFRFWFRfQUxJR05fTUFQW3Byb3BzLnRleHRBbGlnbl07XG59KTtcbnZhciBTdHlsZWRQYXJhZ3JhcGggPSBzdHlsZWQucC53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiU3R5bGVkUGFyYWdyYXBoXCIsXG4gIGNvbXBvbmVudElkOiBcInRiZXRvZC0wXCJcbn0pKFtcIlwiLCBcIiBcIiwgXCIgXCIsIFwiIFwiLCBcIiBcIiwgXCJcIl0sIGdlbmVyaWNTdHlsZXMsIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gc2l6ZVN0eWxlKHByb3BzKTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGV4dEFsaWduICYmIHRleHRBbGlnblN0eWxlO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5jb2xvclByb3AgJiYgY29sb3JTdHlsZTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUucGFyYWdyYXBoICYmIHByb3BzLnRoZW1lLnBhcmFncmFwaC5leHRlbmQ7XG59KTtcblN0eWxlZFBhcmFncmFwaC5kZWZhdWx0UHJvcHMgPSB7fTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihTdHlsZWRQYXJhZ3JhcGguZGVmYXVsdFByb3BzLCBkZWZhdWx0UHJvcHMpO1xuZXhwb3J0IHsgU3R5bGVkUGFyYWdyYXBoIH07IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuaW1wb3J0IHsgZGVzY3JpYmUsIFByb3BUeXBlcyB9IGZyb20gJ3JlYWN0LWRlc2MnO1xuaW1wb3J0IHsgY29sb3JQcm9wVHlwZSwgZ2V0QXZhaWxhYmxlQXRCYWRnZSwgZ2VuZXJpY1Byb3BzLCB0aGVtZURvY1V0aWxzIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuZXhwb3J0IHZhciBkb2MgPSBmdW5jdGlvbiBkb2MoUGFyYWdyYXBoKSB7XG4gIHZhciBEb2N1bWVudGVkUGFyYWdyYXBoID0gZGVzY3JpYmUoUGFyYWdyYXBoKS5hdmFpbGFibGVBdChnZXRBdmFpbGFibGVBdEJhZGdlKCdQYXJhZ3JhcGgnKSkuZGVzY3JpcHRpb24oJ0EgcGFyYWdyYXBoIG9mIHRleHQuJykudXNhZ2UoXCJpbXBvcnQgeyBQYXJhZ3JhcGggfSBmcm9tICdncm9tbWV0JztcXG48UGFyYWdyYXBoIC8+XCIpLmludHJpbnNpY0VsZW1lbnQoJ3AnKTtcbiAgRG9jdW1lbnRlZFBhcmFncmFwaC5wcm9wVHlwZXMgPSBfZXh0ZW5kcyh7fSwgZ2VuZXJpY1Byb3BzLCB7XG4gICAgY29sb3I6IGNvbG9yUHJvcFR5cGUuZGVzY3JpcHRpb24oJ0EgY29sb3IgaWRlbnRpZmllciB0byB1c2UgZm9yIHRoZSB0ZXh0IGNvbG9yLicpLFxuICAgIGZpbGw6IFByb3BUeXBlcy5ib29sLmRlc2NyaXB0aW9uKCdXaGV0aGVyIHRoZSB3aWR0aCBzaG91bGQgZmlsbCB0aGUgY29udGFpbmVyLicpLmRlZmF1bHRWYWx1ZShmYWxzZSksXG4gICAgcmVzcG9uc2l2ZTogUHJvcFR5cGVzLmJvb2wuZGVzY3JpcHRpb24oXCJXaGV0aGVyIG1hcmdpbiBzaG91bGQgYmUgc2NhbGVkIGZvciBtb2JpbGUgZW52aXJvbm1lbnRzLlwiKS5kZWZhdWx0VmFsdWUodHJ1ZSksXG4gICAgc2l6ZTogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFsnc21hbGwnLCAnbWVkaXVtJywgJ2xhcmdlJywgJ3hsYXJnZScsICd4eGxhcmdlJ10pLCBQcm9wVHlwZXMuc3RyaW5nXSkuZGVzY3JpcHRpb24oJ1RoZSBzaXplIG9mIHRoZSBQYXJhZ3JhcGggdGV4dC4nKS5kZWZhdWx0VmFsdWUoJ21lZGl1bScpLFxuICAgIHRleHRBbGlnbjogUHJvcFR5cGVzLm9uZU9mKFsnc3RhcnQnLCAnY2VudGVyJywgJ2VuZCddKS5kZXNjcmlwdGlvbignSG93IHRvIGFsaWduIHRoZSB0ZXh0IGluc2lkZSB0aGUgcGFyYWdyYXBoLicpLmRlZmF1bHRWYWx1ZSgnc3RhcnQnKVxuICB9KTtcbiAgcmV0dXJuIERvY3VtZW50ZWRQYXJhZ3JhcGg7XG59O1xuZXhwb3J0IHZhciB0aGVtZURvYyA9IF9leHRlbmRzKHtcbiAgcGFyYWdyYXBoOiB7XG4gICAgZGVzY3JpcHRpb246IFwiVGhlIHBvc3NpYmxlIHNpemVzIG9mIHRoZSBwYXJhZ3JhcGggaW4gdGVybXMgb2YgaXRzIG1heC13aWR0aCxcXG4gICAgIGZvbnQtc2l6ZSBhbmQgbGluZS1oZWlnaHQuXCIsXG4gICAgdHlwZTogJ29iamVjdCcsXG4gICAgZGVmYXVsdFZhbHVlOiBcIntcXG4gICAgICBzbWFsbDoge1xcbiAgICAgICAgc2l6ZTogJzE0cHgnLFxcbiAgICAgICAgaGVpZ2h0OiAnMjBweCcsXFxuICAgICAgICBtYXhXaWR0aDogJzMzNnB4JyxcXG4gICAgICAgfSxcXG4gICAgICBtZWRpdW06IHtcXG4gICAgICAgIHNpemU6ICcxOHB4JyxcXG4gICAgICAgIGhlaWdodDogJzI0cHgnLFxcbiAgICAgICAgbWF4V2lkdGg6ICc0MzJweCcsXFxuICAgICAgfSxcXG4gICAgICBsYXJnZToge1xcbiAgICAgICAgc2l6ZTogJzIycHgnLFxcbiAgICAgICAgaGVpZ2h0OiAnMjhweCcsXFxuICAgICAgICBtYXhXaWR0aDogJzUyOHB4JyxcXG4gICAgICB9LFxcbiAgICAgIHhsYXJnZToge1xcbiAgICAgICAgc2l6ZTogJzI2cHgnLFxcbiAgICAgICAgaGVpZ2h0OiAnMzJweCcsXFxuICAgICAgICBtYXhXaWR0aDogJzYyNHB4JyxcXG4gICAgICB9LFxcbiAgICAgIHh4bGFyZ2U6IHtcXG4gICAgICAgIHNpemU6ICczNHB4JyxcXG4gICAgICAgIGhlaWdodDogJzQwcHgnLFxcbiAgICAgICAgbWF4V2lkdGg6ICc4MTZweCcsXFxuICAgICAgfSxcXG4gICAgfVwiXG4gIH0sXG4gICdwYXJhZ3JhcGgudGV4dEFsaWduJzoge1xuICAgIGRlc2NyaXB0aW9uOiBcIkhvdyB0byBhbGlnbiB0aGUgdGV4dCBpbnNpZGUgdGhlIFBhcmFncmFwaC5cIixcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICdzdGFydCdcbiAgfSxcbiAgJ3BhcmFncmFwaC5leHRlbmQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdBbnkgYWRkaXRpb25hbCBzdHlsZSBmb3IgdGhlIFBhcmFncmFwaC4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCAocHJvcHMpID0+IHt9JyxcbiAgICBkZWZhdWx0VmFsdWU6IHVuZGVmaW5lZFxuICB9XG59LCB0aGVtZURvY1V0aWxzLmVkZ2VTdHlsZSgnVGhlIHBvc3NpYmxlIHNpemVzIGZvciBtYXJnaW4uJykpOyIsImV4cG9ydCB7IFBhcmFncmFwaCB9IGZyb20gJy4vUGFyYWdyYXBoJzsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbXBvc2UgfSBmcm9tICdyZWNvbXBvc2UnO1xuaW1wb3J0IHsgd2l0aFRoZW1lIH0gZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgZGVmYXVsdFByb3BzIH0gZnJvbSAnLi4vLi4vZGVmYXVsdC1wcm9wcyc7XG5pbXBvcnQgeyBub3JtYWxpemVDb2xvciwgcmVtb3ZlVW5kZWZpbmVkIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuaW1wb3J0IHsgQm94IH0gZnJvbSAnLi4vQm94JztcbmltcG9ydCB7IHdpdGhGb3J3YXJkUmVmIH0gZnJvbSAnLi4vaG9jcyc7XG5pbXBvcnQgeyBTdHlsZWRSYWRpb0J1dHRvbiwgU3R5bGVkUmFkaW9CdXR0b25Db250YWluZXIsIFN0eWxlZFJhZGlvQnV0dG9uSWNvbiwgU3R5bGVkUmFkaW9CdXR0b25JbnB1dCwgU3R5bGVkUmFkaW9CdXR0b25Cb3ggfSBmcm9tICcuL1N0eWxlZFJhZGlvQnV0dG9uJztcblxudmFyIFJhZGlvQnV0dG9uID0gZnVuY3Rpb24gUmFkaW9CdXR0b24oX3JlZikge1xuICB2YXIgY2hlY2tlZCA9IF9yZWYuY2hlY2tlZCxcbiAgICAgIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbixcbiAgICAgIGRpc2FibGVkID0gX3JlZi5kaXNhYmxlZCxcbiAgICAgIGZvY3VzID0gX3JlZi5mb2N1cyxcbiAgICAgIGZvcndhcmRSZWYgPSBfcmVmLmZvcndhcmRSZWYsXG4gICAgICBpZCA9IF9yZWYuaWQsXG4gICAgICBsYWJlbCA9IF9yZWYubGFiZWwsXG4gICAgICBuYW1lID0gX3JlZi5uYW1lLFxuICAgICAgb25DaGFuZ2UgPSBfcmVmLm9uQ2hhbmdlLFxuICAgICAgdGhlbWUgPSBfcmVmLnRoZW1lLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9yZWYsIFtcImNoZWNrZWRcIiwgXCJjaGlsZHJlblwiLCBcImRpc2FibGVkXCIsIFwiZm9jdXNcIiwgXCJmb3J3YXJkUmVmXCIsIFwiaWRcIiwgXCJsYWJlbFwiLCBcIm5hbWVcIiwgXCJvbkNoYW5nZVwiLCBcInRoZW1lXCJdKTtcblxuICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUoKSxcbiAgICAgIGhvdmVyID0gX3VzZVN0YXRlWzBdLFxuICAgICAgc2V0SG92ZXIgPSBfdXNlU3RhdGVbMV07XG5cbiAgdmFyIG5vcm1hbGl6ZWRMYWJlbCA9IHR5cGVvZiBsYWJlbCA9PT0gJ3N0cmluZycgPyBSZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCBudWxsLCBsYWJlbCkgOiBsYWJlbDtcbiAgdmFyIEljb24gPSB0aGVtZS5yYWRpb0J1dHRvbi5pY29ucy5jaXJjbGU7XG4gIHZhciBib3JkZXJDb2xvciA9IG5vcm1hbGl6ZUNvbG9yKHRoZW1lLnJhZGlvQnV0dG9uLmJvcmRlci5jb2xvciwgdGhlbWUpO1xuXG4gIGlmIChjaGVja2VkKSB7XG4gICAgYm9yZGVyQ29sb3IgPSBub3JtYWxpemVDb2xvcih0aGVtZS5yYWRpb0J1dHRvbi5jb2xvciB8fCAnY29udHJvbCcsIHRoZW1lKTtcbiAgfVxuXG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZFJhZGlvQnV0dG9uQ29udGFpbmVyLCBfZXh0ZW5kcyh7fSwgcmVtb3ZlVW5kZWZpbmVkKHtcbiAgICBodG1sRm9yOiBpZCxcbiAgICBkaXNhYmxlZDogZGlzYWJsZWRcbiAgfSksIHtcbiAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKGV2ZW50KSB7XG4gICAgICAvLyBwcmV2ZW50cyBjbGlja2luZyBvbiB0aGUgbGFiZWwgdHJpZ2dpbmcgdGhlIGV2ZW50IHR3aWNlXG4gICAgICAvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yNDUwMTQ5Ny93aHktdGhlLW9uY2xpY2stZWxlbWVudC13aWxsLXRyaWdnZXItdHdpY2UtZm9yLWxhYmVsLWVsZW1lbnRcbiAgICAgIGlmIChldmVudC50YXJnZXQudHlwZSAhPT0gJ3JhZGlvJykge1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIG9uTW91c2VFbnRlcjogZnVuY3Rpb24gb25Nb3VzZUVudGVyKCkge1xuICAgICAgcmV0dXJuIHNldEhvdmVyKHRydWUpO1xuICAgIH0sXG4gICAgb25Nb3VzZUxlYXZlOiBmdW5jdGlvbiBvbk1vdXNlTGVhdmUoKSB7XG4gICAgICByZXR1cm4gc2V0SG92ZXIoZmFsc2UpO1xuICAgIH1cbiAgfSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkUmFkaW9CdXR0b24sIHtcbiAgICBhczogQm94LFxuICAgIG1hcmdpbjogbGFiZWwgPyB7XG4gICAgICByaWdodDogdGhlbWUucmFkaW9CdXR0b24uZ2FwIHx8ICdzbWFsbCdcbiAgICB9IDogdW5kZWZpbmVkXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkUmFkaW9CdXR0b25JbnB1dCwgX2V4dGVuZHMoe30sIHJlc3QsIHtcbiAgICByZWY6IGZvcndhcmRSZWYsXG4gICAgdHlwZTogXCJyYWRpb1wiXG4gIH0sIHJlbW92ZVVuZGVmaW5lZCh7XG4gICAgaWQ6IGlkLFxuICAgIG5hbWU6IG5hbWUsXG4gICAgY2hlY2tlZDogY2hlY2tlZCxcbiAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgb25DaGFuZ2U6IG9uQ2hhbmdlXG4gIH0pKSksIGNoaWxkcmVuID8gY2hpbGRyZW4oe1xuICAgIGNoZWNrZWQ6IGNoZWNrZWQsXG4gICAgaG92ZXI6IGhvdmVyXG4gIH0pIDogUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWRSYWRpb0J1dHRvbkJveCwge1xuICAgIGZvY3VzOiBmb2N1cyxcbiAgICBhczogQm94LFxuICAgIGFsaWduOiBcImNlbnRlclwiLFxuICAgIGp1c3RpZnk6IFwiY2VudGVyXCIsXG4gICAgd2lkdGg6IHRoZW1lLnJhZGlvQnV0dG9uLnNpemUsXG4gICAgaGVpZ2h0OiB0aGVtZS5yYWRpb0J1dHRvbi5zaXplLFxuICAgIGJvcmRlcjoge1xuICAgICAgc2l6ZTogdGhlbWUucmFkaW9CdXR0b24uYm9yZGVyLndpZHRoLFxuICAgICAgY29sb3I6IGJvcmRlckNvbG9yXG4gICAgfSxcbiAgICByb3VuZDogdGhlbWUucmFkaW9CdXR0b24uY2hlY2sucmFkaXVzXG4gIH0sIGNoZWNrZWQgJiYgKEljb24gPyBSZWFjdC5jcmVhdGVFbGVtZW50KEljb24sIHtcbiAgICBhczogU3R5bGVkUmFkaW9CdXR0b25JY29uXG4gIH0pIDogUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWRSYWRpb0J1dHRvbkljb24sIHtcbiAgICB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLFxuICAgIHByZXNlcnZlQXNwZWN0UmF0aW86IFwieE1pZFlNaWQgbWVldFwiXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJjaXJjbGVcIiwge1xuICAgIGN4OiAxMixcbiAgICBjeTogMTIsXG4gICAgcjogNlxuICB9KSkpKSksIG5vcm1hbGl6ZWRMYWJlbCk7XG59O1xuXG5SYWRpb0J1dHRvbi5kZWZhdWx0UHJvcHMgPSB7fTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihSYWRpb0J1dHRvbi5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG52YXIgUmFkaW9CdXR0b25Eb2M7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBnbG9iYWwtcmVxdWlyZVxuICBSYWRpb0J1dHRvbkRvYyA9IHJlcXVpcmUoJy4vZG9jJykuZG9jKFJhZGlvQnV0dG9uKTtcbn1cblxudmFyIFJhZGlvQnV0dG9uV3JhcHBlciA9IGNvbXBvc2Uod2l0aFRoZW1lLCB3aXRoRm9yd2FyZFJlZikoUmFkaW9CdXR0b25Eb2MgfHwgUmFkaW9CdXR0b24pO1xuZXhwb3J0IHsgUmFkaW9CdXR0b25XcmFwcGVyIGFzIFJhZGlvQnV0dG9uIH07IiwiaW1wb3J0IHN0eWxlZCBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBmb2N1c1N0eWxlLCBub3JtYWxpemVDb2xvciB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmltcG9ydCB7IGRlZmF1bHRQcm9wcyB9IGZyb20gJy4uLy4uL2RlZmF1bHQtcHJvcHMnO1xudmFyIGRpc2FibGVkU3R5bGUgPSBcIlxcbiAgb3BhY2l0eTogMC41O1xcbiAgY3Vyc29yOiBkZWZhdWx0O1xcblwiO1xudmFyIFN0eWxlZFJhZGlvQnV0dG9uQ29udGFpbmVyID0gc3R5bGVkLmxhYmVsLndpdGhDb25maWcoe1xuICBkaXNwbGF5TmFtZTogXCJTdHlsZWRSYWRpb0J1dHRvbl9fU3R5bGVkUmFkaW9CdXR0b25Db250YWluZXJcIixcbiAgY29tcG9uZW50SWQ6IFwiZzFmNmxkLTBcIlxufSkoW1wiZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOnJvdzthbGlnbi1pdGVtczpjZW50ZXI7dXNlci1zZWxlY3Q6bm9uZTtcIiwgXCIgXCIsIFwiOmhvdmVyIGlucHV0Om5vdChbZGlzYWJsZWRdKSArIGRpdiw6aG92ZXIgaW5wdXQ6bm90KFtkaXNhYmxlZF0pICsgc3Bhbntib3JkZXItY29sb3I6XCIsIFwiO31cIiwgXCI7XCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLmRpc2FibGVkICYmIGRpc2FibGVkU3R5bGU7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuICFwcm9wcy5kaXNhYmxlZCAmJiAnY3Vyc29yOiBwb2ludGVyOyc7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIG5vcm1hbGl6ZUNvbG9yKHByb3BzLnRoZW1lLnJhZGlvQnV0dG9uLmhvdmVyLmJvcmRlci5jb2xvciwgcHJvcHMudGhlbWUpO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5yYWRpb0J1dHRvbi5leHRlbmQ7XG59KTtcblN0eWxlZFJhZGlvQnV0dG9uQ29udGFpbmVyLmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKFN0eWxlZFJhZGlvQnV0dG9uQ29udGFpbmVyLmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbnZhciBTdHlsZWRSYWRpb0J1dHRvbklucHV0ID0gc3R5bGVkLmlucHV0LndpdGhDb25maWcoe1xuICBkaXNwbGF5TmFtZTogXCJTdHlsZWRSYWRpb0J1dHRvbl9fU3R5bGVkUmFkaW9CdXR0b25JbnB1dFwiLFxuICBjb21wb25lbnRJZDogXCJnMWY2bGQtMVwiXG59KShbXCJvcGFjaXR5OjA7LW1vei1hcHBlYXJhbmNlOm5vbmU7d2lkdGg6MDtoZWlnaHQ6MDttYXJnaW46MDtcIiwgXCI7XCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuICFwcm9wcy5kaXNhYmxlZCAmJiAnY3Vyc29yOiBwb2ludGVyOyc7XG59KTtcblN0eWxlZFJhZGlvQnV0dG9uSW5wdXQuZGVmYXVsdFByb3BzID0ge307XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoU3R5bGVkUmFkaW9CdXR0b25JbnB1dC5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG52YXIgU3R5bGVkUmFkaW9CdXR0b25JY29uID0gc3R5bGVkLnN2Zy53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiU3R5bGVkUmFkaW9CdXR0b25fX1N0eWxlZFJhZGlvQnV0dG9uSWNvblwiLFxuICBjb21wb25lbnRJZDogXCJnMWY2bGQtMlwiXG59KShbXCJib3gtc2l6aW5nOmJvcmRlci1ib3g7d2lkdGg6XCIsIFwiO2hlaWdodDpcIiwgXCI7ZmlsbDpcIiwgXCI7XCIsIFwiO1wiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5yYWRpb0J1dHRvbi5pY29uLnNpemUgfHwgcHJvcHMudGhlbWUucmFkaW9CdXR0b24uc2l6ZTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUucmFkaW9CdXR0b24uaWNvbi5zaXplIHx8IHByb3BzLnRoZW1lLnJhZGlvQnV0dG9uLnNpemU7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIG5vcm1hbGl6ZUNvbG9yKHByb3BzLnRoZW1lLnJhZGlvQnV0dG9uLmNoZWNrLmNvbG9yIHx8ICdjb250cm9sJywgcHJvcHMudGhlbWUpO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5yYWRpb0J1dHRvbi5pY29uLmV4dGVuZDtcbn0pO1xuU3R5bGVkUmFkaW9CdXR0b25JY29uLmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKFN0eWxlZFJhZGlvQnV0dG9uSWNvbi5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG52YXIgU3R5bGVkUmFkaW9CdXR0b25Cb3ggPSBzdHlsZWQuZGl2LndpdGhDb25maWcoe1xuICBkaXNwbGF5TmFtZTogXCJTdHlsZWRSYWRpb0J1dHRvbl9fU3R5bGVkUmFkaW9CdXR0b25Cb3hcIixcbiAgY29tcG9uZW50SWQ6IFwiZzFmNmxkLTNcIlxufSkoW1wiXCIsIFwiO1wiLCBcIjtcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuZm9jdXMgJiYgZm9jdXNTdHlsZTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUucmFkaW9CdXR0b24uY2hlY2suZXh0ZW5kO1xufSk7XG5TdHlsZWRSYWRpb0J1dHRvbkJveC5kZWZhdWx0UHJvcHMgPSB7fTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihTdHlsZWRSYWRpb0J1dHRvbkJveC5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG52YXIgU3R5bGVkUmFkaW9CdXR0b24gPSBzdHlsZWQuZGl2LndpdGhDb25maWcoe1xuICBkaXNwbGF5TmFtZTogXCJTdHlsZWRSYWRpb0J1dHRvblwiLFxuICBjb21wb25lbnRJZDogXCJnMWY2bGQtNFwiXG59KShbXCJcIiwgXCI7XCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLnJhZGlvQnV0dG9uICYmIHByb3BzLnRoZW1lLnJhZGlvQnV0dG9uLmV4dGVuZDtcbn0pO1xuU3R5bGVkUmFkaW9CdXR0b24uZGVmYXVsdFByb3BzID0ge307XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoU3R5bGVkUmFkaW9CdXR0b24uZGVmYXVsdFByb3BzLCBkZWZhdWx0UHJvcHMpO1xuZXhwb3J0IHsgU3R5bGVkUmFkaW9CdXR0b25Db250YWluZXIsIFN0eWxlZFJhZGlvQnV0dG9uSW5wdXQsIFN0eWxlZFJhZGlvQnV0dG9uSWNvbiwgU3R5bGVkUmFkaW9CdXR0b25Cb3gsIFN0eWxlZFJhZGlvQnV0dG9uIH07IiwiaW1wb3J0IHsgZGVzY3JpYmUsIFByb3BUeXBlcyB9IGZyb20gJ3JlYWN0LWRlc2MnO1xuaW1wb3J0IHsgZ2V0QXZhaWxhYmxlQXRCYWRnZSB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmV4cG9ydCB2YXIgZG9jID0gZnVuY3Rpb24gZG9jKFJhZGlvQnV0dG9uKSB7XG4gIHZhciBEb2N1bWVudGVkUmFkaW9CdXR0b24gPSBkZXNjcmliZShSYWRpb0J1dHRvbikuYXZhaWxhYmxlQXQoZ2V0QXZhaWxhYmxlQXRCYWRnZSgnUmFkaW9CdXR0b24nKSkuZGVzY3JpcHRpb24oJ0EgcmFkaW8gYnV0dG9uIGNvbnRyb2wuJykuZGV0YWlscyhcIlJhZGlvQnV0dG9uIHNob3VsZCB0eXBpY2FsbHkgbm90IGJlIHVzZWQgZGlyZWN0bHkuXFxuICAgICAgSW5zdGVhZCwgdXNlIFJhZGlvQnV0dG9uR3JvdXAuXCIpLnVzYWdlKFwiaW1wb3J0IHsgUmFkaW9CdXR0b24gfSBmcm9tICdncm9tbWV0JztcXG48UmFkaW9CdXR0b24gLz5cIikuaW50cmluc2ljRWxlbWVudCgnaW5wdXQnKTtcbiAgRG9jdW1lbnRlZFJhZGlvQnV0dG9uLnByb3BUeXBlcyA9IHtcbiAgICBjaGVja2VkOiBQcm9wVHlwZXMuYm9vbC5kZXNjcmlwdGlvbignU2FtZSBhcyBSZWFjdCA8aW5wdXQgY2hlY2tlZD17fSAvPicpLFxuICAgIGNoaWxkcmVuOiBQcm9wVHlwZXMuZnVuYy5kZXNjcmlwdGlvbihcIkZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgdG8gcmVuZGVyIHRoZSB2aXN1YWwgcmVwcmVzZW50YXRpb24uXFxuICAgICAgSXQgd2lsbCBiZSBwYXNzZWQgYW4gb2JqZWN0IGluZGljYXRpbmcgd2hldGhlciB0aGUgYnV0dG9uIGlzIGNoZWNrZWQuIEl0XFxuICAgICAgc2hvdWxkIHJldHVybiBhIHJlYWN0IGVsZW1lbnQuXFxuICAgICAgRm9yIGV4YW1wbGU6XFxuICAgICAgYGNoaWxkcmVuPXsoeyBjaGVja2VkIH0pID0+IDxCb3ggLi4uPnsuLi59PC9Cb3g+fWBcXG4gICAgICBcIiksXG4gICAgZGlzYWJsZWQ6IFByb3BUeXBlcy5ib29sLmRlc2NyaXB0aW9uKFwiU2FtZSBhcyBSZWFjdCA8aW5wdXQgZGlzYWJsZWQ9e30gLz4uIEFsc28gYWRkcyBhIGhpZGRlbiBpbnB1dCBlbGVtZW50XFxud2l0aCB0aGUgc2FtZSBuYW1lIHNvIGZvcm0gc3VibWlzc2lvbnMgd29yay5cIiksXG4gICAgaWQ6IFByb3BUeXBlcy5zdHJpbmcuZGVzY3JpcHRpb24oJ1RoZSBET00gaWQgYXR0cmlidXRlIHZhbHVlIHRvIHVzZSBmb3IgdGhlIHVuZGVybHlpbmcgPGlucHV0Lz4gZWxlbWVudC4nKSxcbiAgICBsYWJlbDogUHJvcFR5cGVzLm5vZGUuZGVzY3JpcHRpb24oJ0xhYmVsIHRleHQgdG8gcGxhY2UgbmV4dCB0byB0aGUgY29udHJvbC4nKSxcbiAgICBuYW1lOiBQcm9wVHlwZXMuc3RyaW5nLmRlc2NyaXB0aW9uKFwiVGhlIERPTSBuYW1lIGF0dHJpYnV0ZSB2YWx1ZSB0byB1c2UgZm9yIHRoZSB1bmRlcmx5aW5nIDxpbnB1dC8+XFxuICAgICAgIGVsZW1lbnQuXCIpLmlzUmVxdWlyZWQsXG4gICAgb25DaGFuZ2U6IFByb3BUeXBlcy5mdW5jLmRlc2NyaXB0aW9uKFwiRnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCB3aGVuIHRoZSB1c2VyIGNsaWNrcyB0aGUgcmFkaW8gYnV0dG9uLiBJdFxcbiAgICAgIHdpbGwgYmUgcGFzc2VkIGEgUmVhY3QgZXZlbnQgb2JqZWN0LiBUaGUgY3VycmVudCBzdGF0ZSBjYW4gYmUgYWNjZXNzZWRcXG4gICAgICB2aWEgZXZlbnQudGFyZ2V0LmNoZWNrZWQuIFNhbWUgYXMgUmVhY3QgPGlucHV0IG9uQ2hhbmdlPXt9IC8+LlwiKVxuICB9O1xuICByZXR1cm4gRG9jdW1lbnRlZFJhZGlvQnV0dG9uO1xufTtcbmV4cG9ydCB2YXIgdGhlbWVEb2MgPSB7XG4gICdyYWRpb0J1dHRvbi5ib3JkZXIuY29sb3InOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgY29sb3Igb2YgdGhlIGJvcmRlciBvZiB0aGUgUmFkaW8gQnV0dG9uLicsXG4gICAgdHlwZTogJ3N0cmluZyB8IHsgZGFyazogc3RyaW5nLCBsaWdodDogc3RyaW5nIH0nLFxuICAgIGRlZmF1bHRWYWx1ZTogXCJ7ZGFyazogJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC41KSwgbGlnaHQ6ICdyZ2JhKDAsIDAsIDAsIDAuMTUpfVwiXG4gIH0sXG4gICdyYWRpb0J1dHRvbi5ib3JkZXIud2lkdGgnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgd2lkdGggc2l6ZSBvZiB0aGUgYm9yZGVyIG9mIHRoZSBSYWRpb0J1dHRvbi4nLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogJzJweCdcbiAgfSxcbiAgJ3JhZGlvQnV0dG9uLmNoZWNrLmNvbG9yJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGNvbG9yIG9mIHRoZSBjaGVja2VkIGljb24gaW4gdGhlIFJhZGlvQnV0dG9uLicsXG4gICAgdHlwZTogJ3N0cmluZyB8IHsgZGFyazogc3RyaW5nLCBsaWdodDogc3RyaW5nIH0nLFxuICAgIGRlZmF1bHRWYWx1ZTogJ3VuZGVmaW5lZCdcbiAgfSxcbiAgJ3JhZGlvQnV0dG9uLmNoZWNrLmV4dGVuZCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ0FueSBhZGRpdGlvbmFsIHN0eWxlIGZvciB0aGUgY2hlY2tlZCBSYWRpb0J1dHRvbi4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCAocHJvcHMpID0+IHt9J1xuICB9LFxuICAncmFkaW9CdXR0b24uY2hlY2sucmFkaXVzJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGJvcmRlci1yYWRpdXMgb2YgdGhlIFJhZGlvQnV0dG9uLicsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiAnMTAwJSdcbiAgfSxcbiAgJ3JhZGlvQnV0dG9uLmV4dGVuZCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ0FueSBhZGRpdGlvbmFsIHN0eWxlIGZvciB0aGUgUmFkaW9CdXR0b24uJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgKHByb3BzKSA9PiB7fSdcbiAgfSxcbiAgJ3JhZGlvQnV0dG9uLmdhcCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBnYXAgYmV0d2VlbiB0aGUgbGFiZWwgYW5kIHRoZSBSYWRpb0J1dHRvbiBpdHNlbGYuJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICdzbWFsbCdcbiAgfSxcbiAgJ3JhZGlvQnV0dG9uLnNpemUnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgc2l6ZSBvZiB0aGUgUmFkaW9CdXR0b24uJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICcyNHB4J1xuICB9LFxuICAncmFkaW9CdXR0b24uaG92ZXIuYm9yZGVyLmNvbG9yJzoge1xuICAgIGRlc2NyaXB0aW9uOiBcIlRoZSBjb2xvciBvZiB0aGUgUmFkaW9CdXR0b24gYm9yZGVyIHdoZW4gaG92ZXJlZCBvdmVyLlwiLFxuICAgIHR5cGU6ICdzdHJpbmcgfCB7IGRhcms6IHN0cmluZywgbGlnaHQ6IHN0cmluZyB9JyxcbiAgICBkZWZhdWx0VmFsdWU6ICd7ZGFyazogd2hpdGUsIGxpZ2h0OiBibGFja30nXG4gIH0sXG4gICdyYWRpb0J1dHRvbi5pY29uLmV4dGVuZCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ0FueSBhZGRpdGlvbmFsIHN0eWxlIGZvciB0aGUgUmFkaW9CdXR0b24gaWNvbi4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCAocHJvcHMpID0+IHt9J1xuICB9LFxuICAncmFkaW9CdXR0b24uaWNvbi5zaXplJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIHNpemUgb2YgdGhlIGljb24gaW4gdGhlIFJhZGlvQnV0dG9uLicsXG4gICAgdHlwZTogJ3N0cmluZydcbiAgfVxufTsiLCJleHBvcnQgeyBSYWRpb0J1dHRvbiB9IGZyb20gJy4vUmFkaW9CdXR0b24nOyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuaW1wb3J0IFJlYWN0LCB7IGZvcndhcmRSZWYsIHVzZUVmZmVjdCwgdXNlTWVtbywgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEJveCB9IGZyb20gJy4uL0JveCc7XG5pbXBvcnQgeyBLZXlib2FyZCB9IGZyb20gJy4uL0tleWJvYXJkJztcbmltcG9ydCB7IFJhZGlvQnV0dG9uIH0gZnJvbSAnLi4vUmFkaW9CdXR0b24nO1xudmFyIFJhZGlvQnV0dG9uR3JvdXAgPSBmb3J3YXJkUmVmKGZ1bmN0aW9uIChfcmVmLCByZWYpIHtcbiAgdmFyIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbixcbiAgICAgIF9yZWYkZ2FwID0gX3JlZi5nYXAsXG4gICAgICBnYXAgPSBfcmVmJGdhcCA9PT0gdm9pZCAwID8gJ3NtYWxsJyA6IF9yZWYkZ2FwLFxuICAgICAgbmFtZSA9IF9yZWYubmFtZSxcbiAgICAgIG9uQ2hhbmdlID0gX3JlZi5vbkNoYW5nZSxcbiAgICAgIG9wdGlvbnNQcm9wID0gX3JlZi5vcHRpb25zLFxuICAgICAgdmFsdWVQcm9wID0gX3JlZi52YWx1ZSxcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfcmVmLCBbXCJjaGlsZHJlblwiLCBcImdhcFwiLCBcIm5hbWVcIiwgXCJvbkNoYW5nZVwiLCBcIm9wdGlvbnNcIiwgXCJ2YWx1ZVwiXSk7XG5cbiAgLy8gbm9ybWFsaXplIG9wdGlvbnMgdG8gYWx3YXlzIHVzZSBhbiBvYmplY3RcbiAgdmFyIG9wdGlvbnMgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gb3B0aW9uc1Byb3AubWFwKGZ1bmN0aW9uIChvKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIG8gPT09ICdzdHJpbmcnID8ge1xuICAgICAgICBpZDogbyxcbiAgICAgICAgbGFiZWw6IG8sXG4gICAgICAgIHZhbHVlOiBvXG4gICAgICB9IDogbztcbiAgICB9KTtcbiAgfSwgW29wdGlvbnNQcm9wXSk7XG5cbiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKHZhbHVlUHJvcCksXG4gICAgICB2YWx1ZSA9IF91c2VTdGF0ZVswXSxcbiAgICAgIHNldFZhbHVlID0gX3VzZVN0YXRlWzFdO1xuXG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHNldFZhbHVlKHZhbHVlUHJvcCk7XG4gIH0sIFt2YWx1ZVByb3BdKTtcblxuICB2YXIgX3VzZVN0YXRlMiA9IHVzZVN0YXRlKCksXG4gICAgICBmb2N1cyA9IF91c2VTdGF0ZTJbMF0sXG4gICAgICBzZXRGb2N1cyA9IF91c2VTdGF0ZTJbMV07XG5cbiAgdmFyIG9wdGlvblJlZnMgPSB1c2VSZWYoW10pO1xuICB2YXIgdmFsdWVJbmRleCA9IFJlYWN0LnVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHZhciByZXN1bHQ7XG4gICAgb3B0aW9ucy5zb21lKGZ1bmN0aW9uIChvcHRpb24sIGluZGV4KSB7XG4gICAgICBpZiAob3B0aW9uLnZhbHVlID09PSB2YWx1ZSkge1xuICAgICAgICByZXN1bHQgPSBpbmRleDtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9LCBbb3B0aW9ucywgdmFsdWVdKTtcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoZm9jdXMgJiYgdmFsdWVJbmRleCA+PSAwKSBvcHRpb25SZWZzLmN1cnJlbnRbdmFsdWVJbmRleF0uZm9jdXMoKTtcbiAgfSwgW2ZvY3VzLCB2YWx1ZUluZGV4XSk7XG5cbiAgdmFyIG9uTmV4dCA9IGZ1bmN0aW9uIG9uTmV4dCgpIHtcbiAgICBpZiAodmFsdWVJbmRleCAhPT0gdW5kZWZpbmVkICYmIHZhbHVlSW5kZXggPCBvcHRpb25zLmxlbmd0aCAtIDEpIHtcbiAgICAgIHZhciBuZXh0SW5kZXggPSB2YWx1ZUluZGV4ICsgMTtcbiAgICAgIHZhciBuZXh0VmFsdWUgPSBvcHRpb25zW25leHRJbmRleF0udmFsdWU7XG4gICAgICBzZXRWYWx1ZShuZXh0VmFsdWUpO1xuXG4gICAgICBpZiAob25DaGFuZ2UpIHtcbiAgICAgICAgb25DaGFuZ2Uoe1xuICAgICAgICAgIHRhcmdldDoge1xuICAgICAgICAgICAgdmFsdWU6IG5leHRWYWx1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHZhciBvblByZXZpb3VzID0gZnVuY3Rpb24gb25QcmV2aW91cygpIHtcbiAgICBpZiAodmFsdWVJbmRleCA+IDApIHtcbiAgICAgIHZhciBuZXh0SW5kZXggPSB2YWx1ZUluZGV4IC0gMTtcbiAgICAgIHZhciBuZXh0VmFsdWUgPSBvcHRpb25zW25leHRJbmRleF0udmFsdWU7XG4gICAgICBzZXRWYWx1ZShuZXh0VmFsdWUpO1xuXG4gICAgICBpZiAob25DaGFuZ2UpIHtcbiAgICAgICAgb25DaGFuZ2Uoe1xuICAgICAgICAgIHRhcmdldDoge1xuICAgICAgICAgICAgdmFsdWU6IG5leHRWYWx1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHZhciBvbkZvY3VzID0gZnVuY3Rpb24gb25Gb2N1cygpIHtcbiAgICAvLyBEZWxheSBqdXN0IGEgd2VlIGJpdCBzbyBDaHJvbWUgZG9lc24ndCBtaXNzaW5nIHR1cm5pbmcgdGhlIGJ1dHRvbiBvbi5cbiAgICAvLyBDaHJvbWUgYmVoYXZlcyBkaWZmZXJlbnRseSBpbiB0aGF0IGZvY3VzIGlzIGdpdmVuIHRvIHJhZGlvIGJ1dHRvbnNcbiAgICAvLyB3aGVuIHRoZSB1c2VyIHNlbGVjdHMgb25lLCB1bmxpa2UgU2FmYXJpIGFuZCBGaXJlZm94LlxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuICFmb2N1cyAmJiBzZXRGb2N1cyh0cnVlKTtcbiAgICB9LCAxKTtcbiAgfTtcblxuICB2YXIgb25CbHVyID0gZnVuY3Rpb24gb25CbHVyKCkge1xuICAgIHJldHVybiBmb2N1cyAmJiBzZXRGb2N1cyhmYWxzZSk7XG4gIH07XG5cbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoS2V5Ym9hcmQsIHtcbiAgICB0YXJnZXQ6IFwiZG9jdW1lbnRcIixcbiAgICBvblVwOiBmb2N1cyA/IG9uUHJldmlvdXMgOiB1bmRlZmluZWQsXG4gICAgb25Eb3duOiBmb2N1cyA/IG9uTmV4dCA6IHVuZGVmaW5lZCxcbiAgICBvbkxlZnQ6IGZvY3VzID8gb25QcmV2aW91cyA6IHVuZGVmaW5lZCxcbiAgICBvblJpZ2h0OiBmb2N1cyA/IG9uTmV4dCA6IHVuZGVmaW5lZFxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwgX2V4dGVuZHMoe1xuICAgIHJlZjogcmVmLFxuICAgIGdhcDogZ2FwXG4gIH0sIHJlc3QpLCBvcHRpb25zLm1hcChmdW5jdGlvbiAoX3JlZjIsIGluZGV4KSB7XG4gICAgdmFyIGRpc2FibGVkID0gX3JlZjIuZGlzYWJsZWQsXG4gICAgICAgIGlkID0gX3JlZjIuaWQsXG4gICAgICAgIGxhYmVsID0gX3JlZjIubGFiZWwsXG4gICAgICAgIG9wdGlvblZhbHVlID0gX3JlZjIudmFsdWU7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmFkaW9CdXR0b24sIHtcbiAgICAgIHJlZjogZnVuY3Rpb24gcmVmKGFSZWYpIHtcbiAgICAgICAgb3B0aW9uUmVmcy5jdXJyZW50W2luZGV4XSA9IGFSZWY7XG4gICAgICB9LFxuICAgICAga2V5OiBvcHRpb25WYWx1ZSxcbiAgICAgIG5hbWU6IG5hbWUsXG4gICAgICBsYWJlbDogIWNoaWxkcmVuID8gbGFiZWwgOiB1bmRlZmluZWQsXG4gICAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgICBjaGVja2VkOiBvcHRpb25WYWx1ZSA9PT0gdmFsdWUsXG4gICAgICBmb2N1czogZm9jdXMgJiYgKG9wdGlvblZhbHVlID09PSB2YWx1ZSB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkICYmICFpbmRleCksXG4gICAgICBpZDogaWQsXG4gICAgICB2YWx1ZTogb3B0aW9uVmFsdWUsXG4gICAgICBvbkNoYW5nZTogb25DaGFuZ2UsXG4gICAgICBvbkZvY3VzOiBvbkZvY3VzLFxuICAgICAgb25CbHVyOiBvbkJsdXJcbiAgICB9LCBjaGlsZHJlbiA/IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgcmV0dXJuIGNoaWxkcmVuKG9wdGlvbnNQcm9wW2luZGV4XSwgc3RhdGUpO1xuICAgIH0gOiBudWxsKTtcbiAgfSkpKTtcbn0pO1xuUmFkaW9CdXR0b25Hcm91cC5kaXNwbGF5TmFtZSA9ICdSYWRpb0J1dHRvbkdyb3VwJztcbnZhciBSYWRpb0J1dHRvbkdyb3VwRG9jO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZ2xvYmFsLXJlcXVpcmVcbiAgUmFkaW9CdXR0b25Hcm91cERvYyA9IHJlcXVpcmUoJy4vZG9jJykuZG9jKFJhZGlvQnV0dG9uR3JvdXApO1xufVxuXG52YXIgUmFkaW9CdXR0b25Hcm91cFdyYXBwZXIgPSBSYWRpb0J1dHRvbkdyb3VwRG9jIHx8IFJhZGlvQnV0dG9uR3JvdXA7XG5leHBvcnQgeyBSYWRpb0J1dHRvbkdyb3VwV3JhcHBlciBhcyBSYWRpb0J1dHRvbkdyb3VwIH07IiwiaW1wb3J0IHsgZGVzY3JpYmUsIFByb3BUeXBlcyB9IGZyb20gJ3JlYWN0LWRlc2MnO1xuaW1wb3J0IHsgZ2V0QXZhaWxhYmxlQXRCYWRnZSB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmV4cG9ydCB2YXIgZG9jID0gZnVuY3Rpb24gZG9jKFJhZGlvQnV0dG9uR3JvdXApIHtcbiAgdmFyIERvY3VtZW50ZWRSYWRpb0J1dHRvbkdyb3VwID0gZGVzY3JpYmUoUmFkaW9CdXR0b25Hcm91cCkuYXZhaWxhYmxlQXQoZ2V0QXZhaWxhYmxlQXRCYWRnZSgnUmFkaW9CdXR0b25Hcm91cCcpKS5kZXNjcmlwdGlvbignQSBncm91cCBvZiByYWRpbyBidXR0b25zLicpLnVzYWdlKFwiaW1wb3J0IHsgUmFkaW9CdXR0b25Hcm91cCB9IGZyb20gJ2dyb21tZXQnO1xcbjxSYWRpb0J1dHRvbkdyb3VwIC8+XCIpLmludHJpbnNpY0VsZW1lbnQoJ2RpdicpO1xuICBEb2N1bWVudGVkUmFkaW9CdXR0b25Hcm91cC5wcm9wVHlwZXMgPSB7XG4gICAgY2hpbGRyZW46IFByb3BUeXBlcy5mdW5jLmRlc2NyaXB0aW9uKFwiRnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCB0byByZW5kZXIgdGhlIHZpc3VhbCByZXByZXNlbnRhdGlvbi5cXG4gICAgICBJdCB3aWxsIGJlIHBhc3NlZCBhbiBvYmplY3QgaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBidXR0b24gaXMgY2hlY2tlZC4gSXRcXG4gICAgICBzaG91bGQgcmV0dXJuIGEgcmVhY3QgZWxlbWVudC5cXG4gICAgICBGb3IgZXhhbXBsZTpcXG4gICAgICBgY2hpbGRyZW49eyhvcHRpb24sIHsgY2hlY2tlZCB9KSA9PiA8Qm94IC4uLj57Li4ufTwvQm94Pn1gXFxuICAgICAgXCIpLFxuICAgIG5hbWU6IFByb3BUeXBlcy5zdHJpbmcuZGVzY3JpcHRpb24oXCJUaGUgRE9NIG5hbWUgYXR0cmlidXRlIHZhbHVlIHRvIHVzZSBmb3IgdGhlIHVuZGVybHlpbmcgPGlucHV0Lz4gXFxuICAgICAgZWxlbWVudHMuXCIpLmlzUmVxdWlyZWQsXG4gICAgb25DaGFuZ2U6IFByb3BUeXBlcy5mdW5jLmRlc2NyaXB0aW9uKFwiRnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCB3aGVuIHRoZSB1c2VyIGNsaWNrcyBvbiBvZiB0aGUgcmFkaW9cXG4gICAgICBidXR0b25zLiBJdCB3aWxsIGJlIHBhc3NlZCBhIFJlYWN0IGV2ZW50IG9iamVjdC5cIiksXG4gICAgb3B0aW9uczogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLnN0cmluZyksIFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICBkaXNhYmxlZDogUHJvcFR5cGVzLmJvb2wsXG4gICAgICBpZDogUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgIGxhYmVsOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMuZWxlbWVudF0pLFxuICAgICAgdmFsdWU6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZFxuICAgIH0pKV0pLmRlc2NyaXB0aW9uKFwiT3B0aW9ucyBjYW4gYmUgZWl0aGVyIGEgc3RyaW5nIG9yIGFuIG9iamVjdC5cIikuaXNSZXF1aXJlZCxcbiAgICB2YWx1ZTogUHJvcFR5cGVzLnN0cmluZy5kZXNjcmlwdGlvbihcIkN1cnJlbnRseSBzZWxlY3RlZCBvcHRpb24gdmFsdWUuXCIpXG4gIH07XG4gIHJldHVybiBEb2N1bWVudGVkUmFkaW9CdXR0b25Hcm91cDtcbn07IiwiZXhwb3J0IHsgUmFkaW9CdXR0b25Hcm91cCB9IGZyb20gJy4vUmFkaW9CdXR0b25Hcm91cCc7IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY29tcG9zZSB9IGZyb20gJ3JlY29tcG9zZSc7XG5pbXBvcnQgeyB3aXRoRm9jdXMsIHdpdGhGb3J3YXJkUmVmIH0gZnJvbSAnLi4vaG9jcyc7XG5pbXBvcnQgeyBTdHlsZWRSYW5nZUlucHV0IH0gZnJvbSAnLi9TdHlsZWRSYW5nZUlucHV0JztcblxudmFyIFJhbmdlSW5wdXQgPSBmdW5jdGlvbiBSYW5nZUlucHV0KF9yZWYpIHtcbiAgdmFyIGZvcndhcmRSZWYgPSBfcmVmLmZvcndhcmRSZWYsXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZiwgW1wiZm9yd2FyZFJlZlwiXSk7XG5cbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkUmFuZ2VJbnB1dCwgX2V4dGVuZHMoe30sIHJlc3QsIHtcbiAgICByZWY6IGZvcndhcmRSZWYsXG4gICAgdHlwZTogXCJyYW5nZVwiXG4gIH0pKTtcbn07XG5cbnZhciBSYW5nZUlucHV0RG9jO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZ2xvYmFsLXJlcXVpcmVcbiAgUmFuZ2VJbnB1dERvYyA9IHJlcXVpcmUoJy4vZG9jJykuZG9jKFJhbmdlSW5wdXQpO1xufVxuXG52YXIgUmFuZ2VJbnB1dFdyYXBwZXIgPSBjb21wb3NlKHdpdGhGb2N1cygpLCB3aXRoRm9yd2FyZFJlZikoUmFuZ2VJbnB1dERvYyB8fCBSYW5nZUlucHV0KTtcbmV4cG9ydCB7IFJhbmdlSW5wdXRXcmFwcGVyIGFzIFJhbmdlSW5wdXQgfTsiLCJpbXBvcnQgc3R5bGVkLCB7IGNzcyB9IGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCB7IGZvY3VzU3R5bGUsIG5vcm1hbGl6ZUNvbG9yLCBwYXJzZU1ldHJpY1RvTnVtIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuaW1wb3J0IHsgZGVmYXVsdFByb3BzIH0gZnJvbSAnLi4vLi4vZGVmYXVsdC1wcm9wcyc7XG52YXIgcmFuZ2VUcmFja1N0eWxlID0gY3NzKFtcImJveC1zaXppbmc6Ym9yZGVyLWJveDt3aWR0aDoxMDAlO2hlaWdodDpcIiwgXCI7YmFja2dyb3VuZDpcIiwgXCI7XCIsIFwiXCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLnJhbmdlSW5wdXQudHJhY2suaGVpZ2h0O1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBub3JtYWxpemVDb2xvcihwcm9wcy50aGVtZS5yYW5nZUlucHV0LnRyYWNrLmNvbG9yLCBwcm9wcy50aGVtZSk7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLnJhbmdlSW5wdXQgJiYgcHJvcHMudGhlbWUucmFuZ2VJbnB1dC50cmFjayAmJiBwcm9wcy50aGVtZS5yYW5nZUlucHV0LnRyYWNrLmV4dGVuZDtcbn0pO1xudmFyIHJhbmdlVGh1bWJTdHlsZSA9IGNzcyhbXCJib3gtc2l6aW5nOmJvcmRlci1ib3g7cG9zaXRpb246cmVsYXRpdmU7Ym9yZGVyLXJhZGl1czpcIiwgXCI7aGVpZ2h0OlwiLCBcIjt3aWR0aDpcIiwgXCI7b3ZlcmZsb3c6dmlzaWJsZTtiYWNrZ3JvdW5kOlwiLCBcIjstd2Via2l0LWFwcGVhcmFuY2U6bm9uZTtjdXJzb3I6cG9pbnRlcjtcIiwgXCJcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUuZ2xvYmFsLnNwYWNpbmc7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLmdsb2JhbC5zcGFjaW5nO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5nbG9iYWwuc3BhY2luZztcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gbm9ybWFsaXplQ29sb3IocHJvcHMudGhlbWUucmFuZ2VJbnB1dC50aHVtYi5jb2xvciB8fCAnY29udHJvbCcsIHByb3BzLnRoZW1lKTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUucmFuZ2VJbnB1dCAmJiBwcm9wcy50aGVtZS5yYW5nZUlucHV0LnRodW1iICYmIHByb3BzLnRoZW1lLnJhbmdlSW5wdXQudGh1bWIuZXh0ZW5kO1xufSk7XG52YXIgZmlyZWZveE1pY3Jvc29mdFRodW1iU3R5bGUgPSBjc3MoW1wiXCIsIFwiIG1hcmdpbi10b3A6MHB4O2hlaWdodDpcIiwgXCI7d2lkdGg6XCIsIFwiO1wiLCBcIlwiXSwgcmFuZ2VUaHVtYlN0eWxlLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLmdsb2JhbC5zcGFjaW5nO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5nbG9iYWwuc3BhY2luZztcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUucmFuZ2VJbnB1dCAmJiBwcm9wcy50aGVtZS5yYW5nZUlucHV0LnRodW1iICYmIHByb3BzLnRoZW1lLnJhbmdlSW5wdXQudGh1bWIuZXh0ZW5kO1xufSk7XG4vKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG5cbnZhciBTdHlsZWRSYW5nZUlucHV0ID0gc3R5bGVkLmlucHV0LndpdGhDb25maWcoe1xuICBkaXNwbGF5TmFtZTogXCJTdHlsZWRSYW5nZUlucHV0XCIsXG4gIGNvbXBvbmVudElkOiBcInNjLTE1c3Q5Y2stMFwiXG59KShbXCJib3gtc2l6aW5nOmJvcmRlci1ib3g7cG9zaXRpb246cmVsYXRpdmU7LXdlYmtpdC1hcHBlYXJhbmNlOm5vbmU7Ym9yZGVyLWNvbG9yOnRyYW5zcGFyZW50O2hlaWdodDpcIiwgXCI7d2lkdGg6MTAwJTtwYWRkaW5nOjBweDtjdXJzb3I6cG9pbnRlcjtiYWNrZ3JvdW5kOnRyYW5zcGFyZW50OyY6Zm9jdXN7b3V0bGluZTpub25lO30mOjotbW96LWZvY3VzLWlubmVye2JvcmRlcjpub25lO30mOjotbW96LWZvY3VzLW91dGVye2JvcmRlcjpub25lO30mOjotd2Via2l0LXNsaWRlci1ydW5uYWJsZS10cmFja3tcIiwgXCJ9Jjo6LXdlYmtpdC1zbGlkZXItdGh1bWJ7bWFyZ2luLXRvcDotXCIsIFwicHg7XCIsIFwiIFwiLCBcIn0mOjotbW96LXJhbmdlLXRyYWNre1wiLCBcIn0mOjotbW96LXJhbmdlLXRodW1ie1wiLCBcIn0mOjotbXMtdGh1bWJ7XCIsIFwifVwiLCBcIiAmOjotbXMtdHJhY2t7XCIsIFwiIGJvcmRlci1jb2xvcjp0cmFuc3BhcmVudDtjb2xvcjp0cmFuc3BhcmVudDt9Jjo6LW1zLWZpbGwtbG93ZXJ7YmFja2dyb3VuZDpcIiwgXCI7Ym9yZGVyLWNvbG9yOnRyYW5zcGFyZW50O30mOjotbXMtZmlsbC11cHBlcntiYWNrZ3JvdW5kOlwiLCBcIjtib3JkZXItY29sb3I6dHJhbnNwYXJlbnQ7fVwiLCBcIiBcIiwgXCJcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUuZ2xvYmFsLnNwYWNpbmc7XG59LCByYW5nZVRyYWNrU3R5bGUsIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gKHBhcnNlTWV0cmljVG9OdW0ocHJvcHMudGhlbWUuZ2xvYmFsLnNwYWNpbmcpIC0gcGFyc2VNZXRyaWNUb051bShwcm9wcy50aGVtZS5yYW5nZUlucHV0LnRyYWNrLmhlaWdodCB8fCAwKSkgKiAwLjU7XG59LCByYW5nZVRodW1iU3R5bGUsIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gIXByb3BzLmRpc2FibGVkICYmIGNzcyhbXCImOmhvdmVye2JveC1zaGFkb3c6MHB4IDBweCAwcHggMnB4IFwiLCBcIjt9XCJdLCBub3JtYWxpemVDb2xvcihwcm9wcy50aGVtZS5yYW5nZUlucHV0LnRodW1iLmNvbG9yIHx8ICdjb250cm9sJywgcHJvcHMudGhlbWUpKTtcbn0sIHJhbmdlVHJhY2tTdHlsZSwgZmlyZWZveE1pY3Jvc29mdFRodW1iU3R5bGUsIGZpcmVmb3hNaWNyb3NvZnRUaHVtYlN0eWxlLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuICFwcm9wcy5kaXNhYmxlZCAmJiBjc3MoW1wiJjpob3Zlcjo6LW1vei1yYW5nZS10aHVtYntib3gtc2hhZG93OjBweCAwcHggMHB4IDJweCBcIiwgXCI7fSY6aG92ZXI6Oi1tcy10aHVtYntib3gtc2hhZG93OjBweCAwcHggMHB4IDJweCBcIiwgXCI7fVwiXSwgbm9ybWFsaXplQ29sb3IocHJvcHMudGhlbWUucmFuZ2VJbnB1dC50aHVtYi5jb2xvciB8fCAnY29udHJvbCcsIHByb3BzLnRoZW1lKSwgbm9ybWFsaXplQ29sb3IocHJvcHMudGhlbWUucmFuZ2VJbnB1dC50aHVtYi5jb2xvciB8fCAnY29udHJvbCcsIHByb3BzLnRoZW1lKSk7XG59LCByYW5nZVRyYWNrU3R5bGUsIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gbm9ybWFsaXplQ29sb3IocHJvcHMudGhlbWUucmFuZ2VJbnB1dC50cmFjay5jb2xvciwgcHJvcHMudGhlbWUpO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBub3JtYWxpemVDb2xvcihwcm9wcy50aGVtZS5yYW5nZUlucHV0LnRyYWNrLmNvbG9yLCBwcm9wcy50aGVtZSk7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLmZvY3VzICYmIGZvY3VzU3R5bGU7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLnJhbmdlSW5wdXQgJiYgcHJvcHMudGhlbWUucmFuZ2VJbnB1dC5leHRlbmQ7XG59KTtcbi8qIGVzbGludC1lbmFibGUgbWF4LWxlbiAqL1xuXG5TdHlsZWRSYW5nZUlucHV0LmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKFN0eWxlZFJhbmdlSW5wdXQuZGVmYXVsdFByb3BzLCBkZWZhdWx0UHJvcHMpO1xuZXhwb3J0IHsgU3R5bGVkUmFuZ2VJbnB1dCB9OyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmltcG9ydCB7IGRlc2NyaWJlLCBQcm9wVHlwZXMgfSBmcm9tICdyZWFjdC1kZXNjJztcbmltcG9ydCB7IGdldEF2YWlsYWJsZUF0QmFkZ2UsIHRoZW1lRG9jVXRpbHMgfSBmcm9tICcuLi8uLi91dGlscyc7XG5leHBvcnQgdmFyIGRvYyA9IGZ1bmN0aW9uIGRvYyhSYW5nZUlucHV0KSB7XG4gIHZhciBEb2N1bWVudGVkUmFuZ2VJbnB1dCA9IGRlc2NyaWJlKFJhbmdlSW5wdXQpLmF2YWlsYWJsZUF0KGdldEF2YWlsYWJsZUF0QmFkZ2UoJ1JhbmdlSW5wdXQnKSkuZGVzY3JpcHRpb24oJ0Egc2xpZGVyIGNvbnRyb2wgdG8gaW5wdXQgYSB2YWx1ZSB3aXRoaW4gYSBmaXhlZCByYW5nZS4nKS51c2FnZShcImltcG9ydCB7IFJhbmdlSW5wdXQgfSBmcm9tICdncm9tbWV0JztcXG48UmFuZ2VJbnB1dCAvPlwiKS5pbnRyaW5zaWNFbGVtZW50KCdpbnB1dCcpO1xuICBEb2N1bWVudGVkUmFuZ2VJbnB1dC5wcm9wVHlwZXMgPSB7XG4gICAgaWQ6IFByb3BUeXBlcy5zdHJpbmcuZGVzY3JpcHRpb24oJ1RoZSBpZCBhdHRyaWJ1dGUgb2YgdGhlIHJhbmdlIGlucHV0LicpLFxuICAgIG1pbjogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm51bWJlciwgUHJvcFR5cGVzLnN0cmluZ10pLmRlc2NyaXB0aW9uKCdUaGUgbWluaW11bSB2YWx1ZSBwZXJtaXR0ZWQuJyksXG4gICAgbWF4OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMubnVtYmVyLCBQcm9wVHlwZXMuc3RyaW5nXSkuZGVzY3JpcHRpb24oJ1RoZSBtYXhpbXVtIHZhbHVlIHBlcm1pdHRlZC4nKSxcbiAgICBuYW1lOiBQcm9wVHlwZXMuc3RyaW5nLmRlc2NyaXB0aW9uKCdUaGUgbmFtZSBhdHRyaWJ1dGUgb2YgdGhlIHJhbmdlIGlucHV0LicpLFxuICAgIG9uQ2hhbmdlOiBQcm9wVHlwZXMuZnVuYy5kZXNjcmlwdGlvbihcIkZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgdXNlciBjaGFuZ2VzIHRoZSB2YWx1ZS4gSXQgd2lsbFxcbiAgICAgIGJlIHBhc3NlZCBhbiBldmVudCBvYmplY3QuIFRoZSBuZXcgaW5wdXQgdmFsdWUgd2lsbCBiZSBhdmFpbGFibGVcXG4gICAgICB2aWEgJ2V2ZW50LnRhcmdldC52YWx1ZScuXCIpLFxuICAgIHN0ZXA6IFByb3BUeXBlcy5udW1iZXIuZGVzY3JpcHRpb24oJ1RoZSBzdGVwIGludGVydmFsIGJldHdlZW4gdmFsdWVzLicpLFxuICAgIHZhbHVlOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMubnVtYmVyLCBQcm9wVHlwZXMuc3RyaW5nXSkuZGVzY3JpcHRpb24oJ1RoZSBjdXJyZW50IHZhbHVlLicpXG4gIH07XG4gIHJldHVybiBEb2N1bWVudGVkUmFuZ2VJbnB1dDtcbn07XG5leHBvcnQgdmFyIHRoZW1lRG9jID0gX2V4dGVuZHMoe30sIHRoZW1lRG9jVXRpbHMuZm9jdXNTdHlsZSwge1xuICAnZ2xvYmFsLnNwYWNpbmcnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgaGVpZ2h0LCB3aWR0aCBhbmQgYm9yZGVyLXJhZGl1cyBvZiB0aGUgcmFuZ2UgdGh1bWIuJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICcyNHB4J1xuICB9LFxuICAncmFuZ2VJbnB1dC5leHRlbmQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdBbnkgYWRkaXRpb25hbCBzdHlsZSBmb3IgdGhlIFJhbmdlSW5wdXQuJyxcbiAgICB0eXBlOiBcInN0cmluZyB8IChwcm9wcykgPT4gYFxcbiAgICAgIGFueSBDU1Mgc3R5bGluZztcXG4gICAgYFwiLFxuICAgIGRlZmF1bHRWYWx1ZTogdW5kZWZpbmVkXG4gIH0sXG4gICdyYW5nZUlucHV0LnRodW1iLmNvbG9yJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGNvbG9yIG9mIHRoZSB0aHVtYi4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCB7IGRhcms6IHVuZGVmaW5lZCwgbGlnaHQ6IHVuZGVmaW5lZCB9JyxcbiAgICBkZWZhdWx0VmFsdWU6IHVuZGVmaW5lZFxuICB9LFxuICAncmFuZ2VJbnB1dC50aHVtYi5leHRlbmQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdBbnkgYWRkaXRpb25hbCBzdHlsZSBmb3IgdGhlIHRodW1iLicsXG4gICAgdHlwZTogJ3N0cmluZyB8IChwcm9wcykgPT4ge30nLFxuICAgIGRlZmF1bHRWYWx1ZTogdW5kZWZpbmVkXG4gIH0sXG4gICdyYW5nZUlucHV0LnRyYWNrLmNvbG9yJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGNvbG9yIG9mIHRoZSB0cmFjay4nLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogJ3sgZGFyazogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjMzKSwgbGlnaHQ6IHJnYmEoMCwgMCwgMCwgMC4zMykgfSdcbiAgfSxcbiAgJ3JhbmdlSW5wdXQudHJhY2suZXh0ZW5kJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnQW55IGFkZGl0aW9uYWwgc3R5bGUgZm9yIHRoZSB0cmFjay4nLFxuICAgIHR5cGU6IFwic3RyaW5nIHwgKHByb3BzKSA9PiBgXFxuICAgICAgYW55IENTUyBzdHlsaW5nO1xcbiAgICBgXCIsXG4gICAgZGVmYXVsdFZhbHVlOiB1bmRlZmluZWRcbiAgfSxcbiAgJ3JhbmdlSW5wdXQudHJhY2suaGVpZ2h0Jzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGhlaWdodCBvZiB0aGUgdHJhY2suJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICc0cHgnXG4gIH1cbn0pOyIsImV4cG9ydCB7IFJhbmdlSW5wdXQgfSBmcm9tICcuL1JhbmdlSW5wdXQnOyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY29tcG9zZSB9IGZyb20gJ3JlY29tcG9zZSc7XG5pbXBvcnQgeyB3aXRoVGhlbWUgfSBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBkZWZhdWx0UHJvcHMgfSBmcm9tICcuLi8uLi9kZWZhdWx0LXByb3BzJztcbmltcG9ydCB7IEJveCB9IGZyb20gJy4uL0JveCc7XG5pbXBvcnQgeyBLZXlib2FyZCB9IGZyb20gJy4uL0tleWJvYXJkJztcbmltcG9ydCB7IG5vcm1hbGl6ZUNvbG9yLCBwYXJzZU1ldHJpY1RvTnVtIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuaW1wb3J0IHsgd2l0aEZvcndhcmRSZWYgfSBmcm9tICcuLi9ob2NzJztcbnZhciBESVJFQ1RJT05fUFJPUFMgPSB7XG4gIGhvcml6b250YWw6IHtcbiAgICBjdXJzb3I6ICdjb2wtcmVzaXplJyxcbiAgICBmaWxsOiAndmVydGljYWwnXG4gIH0sXG4gIHZlcnRpY2FsOiB7XG4gICAgY3Vyc29yOiAncm93LXJlc2l6ZScsXG4gICAgZmlsbDogJ2hvcml6b250YWwnXG4gIH1cbn07XG5cbnZhciBFZGdlQ29udHJvbCA9IGZ1bmN0aW9uIEVkZ2VDb250cm9sKF9yZWYpIHtcbiAgdmFyIGNvbG9yID0gX3JlZi5jb2xvcixcbiAgICAgIGRpcmVjdGlvbiA9IF9yZWYuZGlyZWN0aW9uLFxuICAgICAgZWRnZSA9IF9yZWYuZWRnZSxcbiAgICAgIGZvcndhcmRSZWYgPSBfcmVmLmZvcndhcmRSZWYsXG4gICAgICBvbkRlY3JlYXNlID0gX3JlZi5vbkRlY3JlYXNlLFxuICAgICAgb25JbmNyZWFzZSA9IF9yZWYub25JbmNyZWFzZSxcbiAgICAgIHRoZW1lID0gX3JlZi50aGVtZSxcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfcmVmLCBbXCJjb2xvclwiLCBcImRpcmVjdGlvblwiLCBcImVkZ2VcIiwgXCJmb3J3YXJkUmVmXCIsIFwib25EZWNyZWFzZVwiLCBcIm9uSW5jcmVhc2VcIiwgXCJ0aGVtZVwiXSk7XG5cbiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKGZhbHNlKSxcbiAgICAgIGZvY3VzZWQgPSBfdXNlU3RhdGVbMF0sXG4gICAgICBzZXRGb2N1c2VkID0gX3VzZVN0YXRlWzFdO1xuXG4gIHZhciBfRElSRUNUSU9OX1BST1BTJGRpcmUgPSBESVJFQ1RJT05fUFJPUFNbZGlyZWN0aW9uXSxcbiAgICAgIGN1cnNvciA9IF9ESVJFQ1RJT05fUFJPUFMkZGlyZS5jdXJzb3IsXG4gICAgICBmaWxsID0gX0RJUkVDVElPTl9QUk9QUyRkaXJlLmZpbGw7XG4gIHZhciBzaXplID0gcGFyc2VNZXRyaWNUb051bSh0aGVtZS5nbG9iYWwuc3BhY2luZykgLyAyO1xuICB2YXIga2V5Ym9hcmRQcm9wcyA9IGRpcmVjdGlvbiA9PT0gJ3ZlcnRpY2FsJyA/IHtcbiAgICBvblVwOiBvbkRlY3JlYXNlLFxuICAgIG9uRG93bjogb25JbmNyZWFzZVxuICB9IDoge1xuICAgIG9uTGVmdDogb25EZWNyZWFzZSxcbiAgICBvblJpZ2h0OiBvbkluY3JlYXNlXG4gIH07XG4gIHZhciBib3hEaXJlY3Rpb24gPSBkaXJlY3Rpb24gPT09ICd2ZXJ0aWNhbCcgPyAncm93JyA6ICdjb2x1bW4nO1xuICB2YXIgdHlwZSA9IHRoZW1lLnJhbmdlU2VsZWN0b3IgJiYgdGhlbWUucmFuZ2VTZWxlY3Rvci5lZGdlICYmIHRoZW1lLnJhbmdlU2VsZWN0b3IuZWRnZS50eXBlIHx8ICdkaXNjJztcbiAgdmFyIG5vZGU7XG5cbiAgaWYgKHR5cGUgPT09ICdiYXInKSB7XG4gICAgbm9kZSA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoQm94LCB7XG4gICAgICBmbGV4OiB0cnVlLFxuICAgICAganVzdGlmeVNlbGY6IFwic3RyZXRjaFwiLFxuICAgICAgd2lkdGg6IHNpemUgKyBcInB4XCIsXG4gICAgICBiYWNrZ3JvdW5kOiBub3JtYWxpemVDb2xvcihjb2xvciB8fCAnY29udHJvbCcsIHRoZW1lKSxcbiAgICAgIGJvcmRlcjogZm9jdXNlZCA/IHtcbiAgICAgICAgY29sb3I6IG5vcm1hbGl6ZUNvbG9yKCdmb2N1cycsIHRoZW1lKVxuICAgICAgfSA6IHVuZGVmaW5lZFxuICAgIH0pO1xuICB9IGVsc2UgaWYgKHR5cGUgPT09ICdkaXNjJykge1xuICAgIG5vZGUgPSBSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwge1xuICAgICAgd2lkdGg6IHNpemUgKyAoZm9jdXNlZCA/IDIgOiAwKSArIFwicHhcIixcbiAgICAgIGhlaWdodDogc2l6ZSArIChmb2N1c2VkID8gMiA6IDApICsgXCJweFwiLFxuICAgICAgcm91bmQ6IFwiZnVsbFwiLFxuICAgICAgYmFja2dyb3VuZDogbm9ybWFsaXplQ29sb3IoY29sb3IgfHwgJ2NvbnRyb2wnLCB0aGVtZSksXG4gICAgICBib3JkZXI6IGZvY3VzZWQgPyB7XG4gICAgICAgIGNvbG9yOiBub3JtYWxpemVDb2xvcignZm9jdXMnLCB0aGVtZSlcbiAgICAgIH0gOiB1bmRlZmluZWRcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBub2RlID0gdHlwZTtcbiAgfVxuXG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEtleWJvYXJkLCBrZXlib2FyZFByb3BzLCBSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwge1xuICAgIGRpcmVjdGlvbjogYm94RGlyZWN0aW9uLFxuICAgIHN0eWxlOiB7XG4gICAgICBmbGV4OiAnMCAwIDFweCdcbiAgICB9LFxuICAgIG92ZXJmbG93OiBcInZpc2libGVcIixcbiAgICBhbGlnbjogXCJjZW50ZXJcIixcbiAgICBqdXN0aWZ5OiBcImNlbnRlclwiXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQm94LCBfZXh0ZW5kcyh7XG4gICAgcmVmOiBmb3J3YXJkUmVmLFxuICAgIGRpcmVjdGlvbjogYm94RGlyZWN0aW9uLFxuICAgIGp1c3RpZnk6IFwiY2VudGVyXCIsXG4gICAgYWxpZ246IFwiY2VudGVyXCIsXG4gICAgYmFzaXM6IFwiZnVsbFwiLFxuICAgIGZpbGw6IGZpbGwsXG4gICAgc3R5bGU6IHtcbiAgICAgIGN1cnNvcjogY3Vyc29yLFxuICAgICAgbWluV2lkdGg6IHNpemUsXG4gICAgICBtaW5IZWlnaHQ6IHNpemUsXG4gICAgICB6SW5kZXg6IDEwXG4gICAgfSxcbiAgICB0YWJJbmRleDogMCxcbiAgICBvbkZvY3VzOiBmdW5jdGlvbiBvbkZvY3VzKCkge1xuICAgICAgcmV0dXJuIHNldEZvY3VzZWQodHJ1ZSk7XG4gICAgfSxcbiAgICBvbkJsdXI6IGZ1bmN0aW9uIG9uQmx1cigpIHtcbiAgICAgIHJldHVybiBzZXRGb2N1c2VkKGZhbHNlKTtcbiAgICB9XG4gIH0sIHJlc3QpLCBub2RlKSkpO1xufTtcblxuRWRnZUNvbnRyb2wuZGVmYXVsdFByb3BzID0ge307XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoRWRnZUNvbnRyb2wuZGVmYXVsdFByb3BzLCBkZWZhdWx0UHJvcHMpO1xudmFyIEVkZ2VDb250cm9sV3JhcHBlciA9IGNvbXBvc2Uod2l0aEZvcndhcmRSZWYsIHdpdGhUaGVtZSkoRWRnZUNvbnRyb2wpO1xuZXhwb3J0IHsgRWRnZUNvbnRyb2xXcmFwcGVyIGFzIEVkZ2VDb250cm9sIH07IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzTG9vc2Uoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzLnByb3RvdHlwZSk7IHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzOyBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbmltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjb21wb3NlIH0gZnJvbSAncmVjb21wb3NlJztcbmltcG9ydCBzdHlsZWQgZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgVGhlbWVDb250ZXh0IH0gZnJvbSAnLi4vLi4vY29udGV4dHMnO1xuaW1wb3J0IHsgQm94IH0gZnJvbSAnLi4vQm94JztcbmltcG9ydCB7IHdpdGhGb3J3YXJkUmVmIH0gZnJvbSAnLi4vaG9jcyc7XG5pbXBvcnQgeyBFZGdlQ29udHJvbCB9IGZyb20gJy4vRWRnZUNvbnRyb2wnO1xudmFyIENvbnRhaW5lciA9IHN0eWxlZChCb3gpLndpdGhDb25maWcoe1xuICBkaXNwbGF5TmFtZTogXCJSYW5nZVNlbGVjdG9yX19Db250YWluZXJcIixcbiAgY29tcG9uZW50SWQ6IFwic2lvZjVwLTBcIlxufSkoW1widXNlci1zZWxlY3Q6bm9uZTtcIl0pO1xuXG52YXIgUmFuZ2VTZWxlY3RvciA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBfaW5oZXJpdHNMb29zZShSYW5nZVNlbGVjdG9yLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBSYW5nZVNlbGVjdG9yKCkge1xuICAgIHZhciBfdGhpcztcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBfdGhpcyA9IF9Db21wb25lbnQuY2FsbC5hcHBseShfQ29tcG9uZW50LCBbdGhpc10uY29uY2F0KGFyZ3MpKSB8fCB0aGlzO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcInN0YXRlXCIsIHt9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJjb250YWluZXJSZWZcIiwgUmVhY3QuY3JlYXRlUmVmKCkpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcInZhbHVlRm9yTW91c2VDb29yZFwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIGRpcmVjdGlvbiA9IF90aGlzJHByb3BzLmRpcmVjdGlvbixcbiAgICAgICAgICBtYXggPSBfdGhpcyRwcm9wcy5tYXgsXG4gICAgICAgICAgbWluID0gX3RoaXMkcHJvcHMubWluLFxuICAgICAgICAgIHN0ZXAgPSBfdGhpcyRwcm9wcy5zdGVwO1xuXG4gICAgICB2YXIgcmVjdCA9IF90aGlzLmNvbnRhaW5lclJlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICB2YXIgdmFsdWU7XG5cbiAgICAgIGlmIChkaXJlY3Rpb24gPT09ICd2ZXJ0aWNhbCcpIHtcbiAgICAgICAgLy8gdGhlcmUgaXMgbm8geCBhbmQgeSBpbiB1bml0IHRlc3RpbmdcbiAgICAgICAgdmFyIHkgPSBldmVudC5jbGllbnRZIC0gKHJlY3QudG9wIHx8IDApOyAvLyB1bml0IHRlc3QgcmVzaWxpZW5jZVxuXG4gICAgICAgIHZhciBzY2FsZVkgPSByZWN0LmhlaWdodCAvIChtYXggLSBtaW4gKyAxKSB8fCAxOyAvLyB1bml0IHRlc3QgcmVzaWxpZW5jZVxuXG4gICAgICAgIHZhbHVlID0gTWF0aC5mbG9vcih5IC8gc2NhbGVZKSArIG1pbjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciB4ID0gZXZlbnQuY2xpZW50WCAtIChyZWN0LmxlZnQgfHwgMCk7IC8vIHVuaXQgdGVzdCByZXNpbGllbmNlXG5cbiAgICAgICAgdmFyIHNjYWxlWCA9IHJlY3Qud2lkdGggLyAobWF4IC0gbWluICsgMSkgfHwgMTsgLy8gdW5pdCB0ZXN0IHJlc2lsaWVuY2VcblxuICAgICAgICB2YWx1ZSA9IE1hdGguZmxvb3IoeCAvIHNjYWxlWCkgKyBtaW47XG4gICAgICB9IC8vIGFsaWduIHdpdGggY2xvc2VzdCBzdGVwIHdpdGhpbiBbbWluLCBtYXhdXG5cblxuICAgICAgdmFyIHJlc3VsdCA9IE1hdGguY2VpbCh2YWx1ZSAvIHN0ZXApICogc3RlcDtcblxuICAgICAgaWYgKHJlc3VsdCA8IG1pbikge1xuICAgICAgICByZXR1cm4gbWluO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVzdWx0ID4gbWF4KSB7XG4gICAgICAgIHJldHVybiBtYXg7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwib25DbGlja1wiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczIgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBvbkNoYW5nZSA9IF90aGlzJHByb3BzMi5vbkNoYW5nZSxcbiAgICAgICAgICB2YWx1ZXMgPSBfdGhpcyRwcm9wczIudmFsdWVzO1xuICAgICAgdmFyIGxhc3RDaGFuZ2UgPSBfdGhpcy5zdGF0ZS5sYXN0Q2hhbmdlO1xuXG4gICAgICB2YXIgdmFsdWUgPSBfdGhpcy52YWx1ZUZvck1vdXNlQ29vcmQoZXZlbnQpO1xuXG4gICAgICBpZiAodmFsdWUgPD0gdmFsdWVzWzBdIHx8IHZhbHVlIDwgdmFsdWVzWzFdICYmIGxhc3RDaGFuZ2UgPT09ICdsb3dlcicpIHtcbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGxhc3RDaGFuZ2U6ICdsb3dlcidcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBvbkNoYW5nZShbdmFsdWUsIHZhbHVlc1sxXV0pO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAodmFsdWUgPj0gdmFsdWVzWzFdIHx8IHZhbHVlID4gdmFsdWVzWzBdICYmIGxhc3RDaGFuZ2UgPT09ICd1cHBlcicpIHtcbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGxhc3RDaGFuZ2U6ICd1cHBlcidcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBvbkNoYW5nZShbdmFsdWVzWzBdLCB2YWx1ZV0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJsb3dlck1vdXNlRG93blwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGNoYW5naW5nOiAnbG93ZXInXG4gICAgICB9KTtcblxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIF90aGlzLm1vdXNlTW92ZSk7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIF90aGlzLm1vdXNlVXApO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcInVwcGVyTW91c2VEb3duXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgY2hhbmdpbmc6ICd1cHBlcidcbiAgICAgIH0pO1xuXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgX3RoaXMubW91c2VNb3ZlKTtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgX3RoaXMubW91c2VVcCk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwic2VsZWN0aW9uTW91c2VEb3duXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgdmFyIG1vdmVWYWx1ZSA9IF90aGlzLnZhbHVlRm9yTW91c2VDb29yZChldmVudCk7XG5cbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgY2hhbmdpbmc6ICdzZWxlY3Rpb24nLFxuICAgICAgICBtb3ZlVmFsdWU6IG1vdmVWYWx1ZVxuICAgICAgfSk7XG5cbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBfdGhpcy5tb3VzZU1vdmUpO1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBfdGhpcy5tb3VzZVVwKTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJtb3VzZU1vdmVcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMzID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgbWF4ID0gX3RoaXMkcHJvcHMzLm1heCxcbiAgICAgICAgICBtaW4gPSBfdGhpcyRwcm9wczMubWluLFxuICAgICAgICAgIG9uQ2hhbmdlID0gX3RoaXMkcHJvcHMzLm9uQ2hhbmdlLFxuICAgICAgICAgIHZhbHVlcyA9IF90aGlzJHByb3BzMy52YWx1ZXM7XG4gICAgICB2YXIgX3RoaXMkc3RhdGUgPSBfdGhpcy5zdGF0ZSxcbiAgICAgICAgICBjaGFuZ2luZyA9IF90aGlzJHN0YXRlLmNoYW5naW5nLFxuICAgICAgICAgIG1vdmVWYWx1ZSA9IF90aGlzJHN0YXRlLm1vdmVWYWx1ZTtcblxuICAgICAgdmFyIHZhbHVlID0gX3RoaXMudmFsdWVGb3JNb3VzZUNvb3JkKGV2ZW50KTtcblxuICAgICAgdmFyIG5leHRWYWx1ZXM7XG5cbiAgICAgIGlmIChjaGFuZ2luZyA9PT0gJ2xvd2VyJyAmJiB2YWx1ZSA8PSB2YWx1ZXNbMV0gJiYgdmFsdWUgIT09IG1vdmVWYWx1ZSkge1xuICAgICAgICBuZXh0VmFsdWVzID0gW3ZhbHVlLCB2YWx1ZXNbMV1dO1xuICAgICAgfSBlbHNlIGlmIChjaGFuZ2luZyA9PT0gJ3VwcGVyJyAmJiB2YWx1ZSA+PSB2YWx1ZXNbMF0gJiYgdmFsdWUgIT09IG1vdmVWYWx1ZSkge1xuICAgICAgICBuZXh0VmFsdWVzID0gW3ZhbHVlc1swXSwgdmFsdWVdO1xuICAgICAgfSBlbHNlIGlmIChjaGFuZ2luZyA9PT0gJ3NlbGVjdGlvbicgJiYgdmFsdWUgIT09IG1vdmVWYWx1ZSkge1xuICAgICAgICB2YXIgZGVsdGEgPSB2YWx1ZSAtIG1vdmVWYWx1ZTtcblxuICAgICAgICBpZiAodmFsdWVzWzBdICsgZGVsdGEgPj0gbWluICYmIHZhbHVlc1sxXSArIGRlbHRhIDw9IG1heCkge1xuICAgICAgICAgIG5leHRWYWx1ZXMgPSBbdmFsdWVzWzBdICsgZGVsdGEsIHZhbHVlc1sxXSArIGRlbHRhXTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAobmV4dFZhbHVlcykge1xuICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgbGFzdENoYW5nZTogY2hhbmdpbmcsXG4gICAgICAgICAgbW92ZVZhbHVlOiB2YWx1ZVxuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgb25DaGFuZ2UobmV4dFZhbHVlcyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIm1vdXNlVXBcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBjaGFuZ2luZzogdW5kZWZpbmVkXG4gICAgICB9KTtcblxuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIF90aGlzLm1vdXNlTW92ZSk7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIF90aGlzLm1vdXNlVXApO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IFJhbmdlU2VsZWN0b3IucHJvdG90eXBlO1xuXG4gIF9wcm90by5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm1vdXNlTW92ZSk7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLm1vdXNlVXApO1xuICB9O1xuXG4gIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIF90aGlzJHByb3BzNCA9IHRoaXMucHJvcHMsXG4gICAgICAgIGNvbG9yID0gX3RoaXMkcHJvcHM0LmNvbG9yLFxuICAgICAgICBkaXJlY3Rpb24gPSBfdGhpcyRwcm9wczQuZGlyZWN0aW9uLFxuICAgICAgICBmb3J3YXJkUmVmID0gX3RoaXMkcHJvcHM0LmZvcndhcmRSZWYsXG4gICAgICAgIGludmVydCA9IF90aGlzJHByb3BzNC5pbnZlcnQsXG4gICAgICAgIG1heCA9IF90aGlzJHByb3BzNC5tYXgsXG4gICAgICAgIG1lc3NhZ2VzID0gX3RoaXMkcHJvcHM0Lm1lc3NhZ2VzLFxuICAgICAgICBtaW4gPSBfdGhpcyRwcm9wczQubWluLFxuICAgICAgICBvbkNoYW5nZSA9IF90aGlzJHByb3BzNC5vbkNoYW5nZSxcbiAgICAgICAgb3BhY2l0eSA9IF90aGlzJHByb3BzNC5vcGFjaXR5LFxuICAgICAgICByb3VuZCA9IF90aGlzJHByb3BzNC5yb3VuZCxcbiAgICAgICAgc2l6ZSA9IF90aGlzJHByb3BzNC5zaXplLFxuICAgICAgICBzdGVwID0gX3RoaXMkcHJvcHM0LnN0ZXAsXG4gICAgICAgIHZhbHVlcyA9IF90aGlzJHByb3BzNC52YWx1ZXMsXG4gICAgICAgIHByb3BzVGhlbWUgPSBfdGhpcyRwcm9wczQudGhlbWUsXG4gICAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfdGhpcyRwcm9wczQsIFtcImNvbG9yXCIsIFwiZGlyZWN0aW9uXCIsIFwiZm9yd2FyZFJlZlwiLCBcImludmVydFwiLCBcIm1heFwiLCBcIm1lc3NhZ2VzXCIsIFwibWluXCIsIFwib25DaGFuZ2VcIiwgXCJvcGFjaXR5XCIsIFwicm91bmRcIiwgXCJzaXplXCIsIFwic3RlcFwiLCBcInZhbHVlc1wiLCBcInRoZW1lXCJdKTtcblxuICAgIHZhciB0aGVtZSA9IHRoaXMuY29udGV4dCB8fCBwcm9wc1RoZW1lO1xuICAgIHZhciBfdGhpcyRzdGF0ZTIgPSB0aGlzLnN0YXRlLFxuICAgICAgICBuZXh0TG93ZXIgPSBfdGhpcyRzdGF0ZTIubmV4dExvd2VyLFxuICAgICAgICBuZXh0VXBwZXIgPSBfdGhpcyRzdGF0ZTIubmV4dFVwcGVyO1xuICAgIHZhciBsb3dlciA9IG5leHRMb3dlciAhPT0gdW5kZWZpbmVkID8gbmV4dExvd2VyIDogdmFsdWVzWzBdO1xuICAgIHZhciB1cHBlciA9IG5leHRVcHBlciAhPT0gdW5kZWZpbmVkID8gbmV4dFVwcGVyIDogdmFsdWVzWzFdOyAvLyBJdCBuZWVkcyB0byBiZSB0cnVlIHdoZW4gdmVydGljYWwsIGR1ZSB0byBob3cgYnJvd3NlcnMgbWFuYWdlIGhlaWdodFxuXG4gICAgdmFyIGZpbGwgPSBkaXJlY3Rpb24gPT09ICd2ZXJ0aWNhbCcgPyB0cnVlIDogJ3ZlcnRpY2FsJztcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChDb250YWluZXIsIF9leHRlbmRzKHtcbiAgICAgIHJlZjogdGhpcy5jb250YWluZXJSZWYsXG4gICAgICBkaXJlY3Rpb246IGRpcmVjdGlvbiA9PT0gJ3ZlcnRpY2FsJyA/ICdjb2x1bW4nIDogJ3JvdycsXG4gICAgICBmaWxsOiBmaWxsXG4gICAgfSwgcmVzdCwge1xuICAgICAgdGFiSW5kZXg6IFwiLTFcIixcbiAgICAgIG9uQ2xpY2s6IG9uQ2hhbmdlID8gdGhpcy5vbkNsaWNrIDogdW5kZWZpbmVkXG4gICAgfSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQm94LCB7XG4gICAgICBzdHlsZToge1xuICAgICAgICBmbGV4OiBsb3dlciAtIG1pbiArIFwiIDAgMFwiXG4gICAgICB9LFxuICAgICAgYmFja2dyb3VuZDogaW52ZXJ0ID8gLy8gcHJlc2VydmUgZXhpc3RpbmcgZGFyaywgaW5zdGVhZCBvZiB1c2luZyBkYXJrbmVzXG4gICAgICAvLyBvZiB0aGlzIGNvbG9yXG4gICAgICB7XG4gICAgICAgIGNvbG9yOiBjb2xvciB8fCB0aGVtZS5yYW5nZVNlbGVjdG9yLmJhY2tncm91bmQuaW52ZXJ0LmNvbG9yLFxuICAgICAgICBvcGFjaXR5OiBvcGFjaXR5LFxuICAgICAgICBkYXJrOiB0aGVtZS5kYXJrXG4gICAgICB9IDogdW5kZWZpbmVkLFxuICAgICAgZmlsbDogZmlsbCxcbiAgICAgIHJvdW5kOiByb3VuZFxuICAgIH0pLCBSZWFjdC5jcmVhdGVFbGVtZW50KEVkZ2VDb250cm9sLCB7XG4gICAgICBhMTF5VGl0bGU6IG1lc3NhZ2VzLmxvd2VyLFxuICAgICAgdGFiSW5kZXg6IDAsXG4gICAgICByZWY6IGZvcndhcmRSZWYsXG4gICAgICBjb2xvcjogY29sb3IsXG4gICAgICBkaXJlY3Rpb246IGRpcmVjdGlvbixcbiAgICAgIGVkZ2U6IFwibG93ZXJcIixcbiAgICAgIG9uTW91c2VEb3duOiBvbkNoYW5nZSA/IHRoaXMubG93ZXJNb3VzZURvd24gOiB1bmRlZmluZWQsXG4gICAgICBvbkRlY3JlYXNlOiBvbkNoYW5nZSAmJiBsb3dlciAtIHN0ZXAgPj0gbWluID8gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gb25DaGFuZ2UoW2xvd2VyIC0gc3RlcCwgdXBwZXJdKTtcbiAgICAgIH0gOiB1bmRlZmluZWQsXG4gICAgICBvbkluY3JlYXNlOiBvbkNoYW5nZSAmJiBsb3dlciArIHN0ZXAgPD0gdXBwZXIgPyBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBvbkNoYW5nZShbbG93ZXIgKyBzdGVwLCB1cHBlcl0pO1xuICAgICAgfSA6IHVuZGVmaW5lZFxuICAgIH0pLCBSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwge1xuICAgICAgc3R5bGU6IHtcbiAgICAgICAgZmxleDogdXBwZXIgLSBsb3dlciArIDEgKyBcIiAwIDBcIixcbiAgICAgICAgY3Vyc29yOiBkaXJlY3Rpb24gPT09ICd2ZXJ0aWNhbCcgPyAnbnMtcmVzaXplJyA6ICdldy1yZXNpemUnXG4gICAgICB9LFxuICAgICAgYmFja2dyb3VuZDogaW52ZXJ0ID8gdW5kZWZpbmVkIDogLy8gcHJlc2VydmUgZXhpc3RpbmcgZGFyaywgaW5zdGVhZCBvZiB1c2luZyBkYXJrbmVzIG9mXG4gICAgICAvLyB0aGlzIGNvbG9yXG4gICAgICB7XG4gICAgICAgIGNvbG9yOiBjb2xvciB8fCAnY29udHJvbCcsXG4gICAgICAgIG9wYWNpdHk6IG9wYWNpdHksXG4gICAgICAgIGRhcms6IHRoZW1lLmRhcmtcbiAgICAgIH0sXG4gICAgICBmaWxsOiBmaWxsLFxuICAgICAgcm91bmQ6IHJvdW5kLFxuICAgICAgb25Nb3VzZURvd246IG9uQ2hhbmdlID8gdGhpcy5zZWxlY3Rpb25Nb3VzZURvd24gOiB1bmRlZmluZWRcbiAgICB9KSwgUmVhY3QuY3JlYXRlRWxlbWVudChFZGdlQ29udHJvbCwge1xuICAgICAgYTExeVRpdGxlOiBtZXNzYWdlcy51cHBlcixcbiAgICAgIHRhYkluZGV4OiAwLFxuICAgICAgY29sb3I6IGNvbG9yLFxuICAgICAgZGlyZWN0aW9uOiBkaXJlY3Rpb24sXG4gICAgICBlZGdlOiBcInVwcGVyXCIsXG4gICAgICBvbk1vdXNlRG93bjogb25DaGFuZ2UgPyB0aGlzLnVwcGVyTW91c2VEb3duIDogdW5kZWZpbmVkLFxuICAgICAgb25EZWNyZWFzZTogb25DaGFuZ2UgJiYgdXBwZXIgLSBzdGVwID49IGxvd2VyID8gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gb25DaGFuZ2UoW2xvd2VyLCB1cHBlciAtIHN0ZXBdKTtcbiAgICAgIH0gOiB1bmRlZmluZWQsXG4gICAgICBvbkluY3JlYXNlOiBvbkNoYW5nZSAmJiB1cHBlciArIHN0ZXAgPD0gbWF4ID8gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gb25DaGFuZ2UoW2xvd2VyLCB1cHBlciArIHN0ZXBdKTtcbiAgICAgIH0gOiB1bmRlZmluZWRcbiAgICB9KSwgUmVhY3QuY3JlYXRlRWxlbWVudChCb3gsIHtcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIGZsZXg6IG1heCAtIHVwcGVyICsgXCIgMCAwXCJcbiAgICAgIH0sXG4gICAgICBiYWNrZ3JvdW5kOiBpbnZlcnQgPyAvLyBwcmVzZXJ2ZSBleGlzdGluZyBkYXJrLCBpbnN0ZWFkIG9mIHVzaW5nIGRhcmtuZXMgb2YgdGhpc1xuICAgICAgLy8gY29sb3JcbiAgICAgIHtcbiAgICAgICAgY29sb3I6IGNvbG9yIHx8IHRoZW1lLnJhbmdlU2VsZWN0b3IuYmFja2dyb3VuZC5pbnZlcnQuY29sb3IsXG4gICAgICAgIG9wYWNpdHk6IG9wYWNpdHksXG4gICAgICAgIGRhcms6IHRoZW1lLmRhcmtcbiAgICAgIH0gOiB1bmRlZmluZWQsXG4gICAgICBmaWxsOiBmaWxsLFxuICAgICAgcm91bmQ6IHJvdW5kXG4gICAgfSkpO1xuICB9O1xuXG4gIHJldHVybiBSYW5nZVNlbGVjdG9yO1xufShDb21wb25lbnQpO1xuXG5fZGVmaW5lUHJvcGVydHkoUmFuZ2VTZWxlY3RvciwgXCJjb250ZXh0VHlwZVwiLCBUaGVtZUNvbnRleHQpO1xuXG5fZGVmaW5lUHJvcGVydHkoUmFuZ2VTZWxlY3RvciwgXCJkZWZhdWx0UHJvcHNcIiwge1xuICBkaXJlY3Rpb246ICdob3Jpem9udGFsJyxcbiAgbWF4OiAxMDAsXG4gIG1lc3NhZ2VzOiB7XG4gICAgbG93ZXI6ICdMb3dlciBCb3VuZHMnLFxuICAgIHVwcGVyOiAnVXBwZXIgQm91bmRzJ1xuICB9LFxuICBtaW46IDAsXG4gIG9wYWNpdHk6ICdtZWRpdW0nLFxuICBzaXplOiAnbWVkaXVtJyxcbiAgc3RlcDogMSxcbiAgdmFsdWVzOiBbXVxufSk7XG5cbnZhciBSYW5nZVNlbGVjdG9yRG9jO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZ2xvYmFsLXJlcXVpcmVcbiAgUmFuZ2VTZWxlY3RvckRvYyA9IHJlcXVpcmUoJy4vZG9jJykuZG9jKFJhbmdlU2VsZWN0b3IpO1xufVxuXG52YXIgUmFuZ2VTZWxlY3RvcldyYXBwZXIgPSBjb21wb3NlKHdpdGhGb3J3YXJkUmVmKShSYW5nZVNlbGVjdG9yRG9jIHx8IFJhbmdlU2VsZWN0b3IpO1xuZXhwb3J0IHsgUmFuZ2VTZWxlY3RvcldyYXBwZXIgYXMgUmFuZ2VTZWxlY3RvciB9OyIsImltcG9ydCB7IGRlc2NyaWJlLCBQcm9wVHlwZXMgfSBmcm9tICdyZWFjdC1kZXNjJztcbmltcG9ydCB7IGNvbG9yUHJvcFR5cGUsIGdldEF2YWlsYWJsZUF0QmFkZ2UgfSBmcm9tICcuLi8uLi91dGlscyc7XG5leHBvcnQgdmFyIGRvYyA9IGZ1bmN0aW9uIGRvYyhSYW5nZVNlbGVjdG9yKSB7XG4gIHZhciBEb2N1bWVudGVkUmFuZ2VTZWxlY3RvciA9IGRlc2NyaWJlKFJhbmdlU2VsZWN0b3IpLmF2YWlsYWJsZUF0KGdldEF2YWlsYWJsZUF0QmFkZ2UoJ1JhbmdlU2VsZWN0b3InKSkuZGVzY3JpcHRpb24oJ0EgY29udHJvbCB0byBpbnB1dCBhIHJhbmdlIG9mIHZhbHVlcy4nKS51c2FnZShcImltcG9ydCB7IFJhbmdlU2VsZWN0b3IgfSBmcm9tICdncm9tbWV0JztcXG48UmFuZ2VTZWxlY3RvciAvPlwiKS5pbnRyaW5zaWNFbGVtZW50KCdkaXYnKTtcbiAgRG9jdW1lbnRlZFJhbmdlU2VsZWN0b3IucHJvcFR5cGVzID0ge1xuICAgIGNvbG9yOiBjb2xvclByb3BUeXBlLmRlc2NyaXB0aW9uKCdXaGF0IGNvbG9yIHRvIHVzZSB0byBpbmRpY2F0ZSB0aGUgc2VsZWN0aW9uLicpLFxuICAgIGRpcmVjdGlvbjogUHJvcFR5cGVzLm9uZU9mKFsnaG9yaXpvbnRhbCcsICd2ZXJ0aWNhbCddKS5kZXNjcmlwdGlvbignJykuZGVmYXVsdFZhbHVlKCdob3Jpem9udGFsJyksXG4gICAgaW52ZXJ0OiBQcm9wVHlwZXMuYm9vbC5kZXNjcmlwdGlvbignV2hldGhlciB0byBpbmRpY2F0ZSB3aGF0IGhhcyBub3QgYmVlbiBzZWxlY3RlZC4nKSxcbiAgICBtYXg6IFByb3BUeXBlcy5udW1iZXIuZGVzY3JpcHRpb24oJ1RoZSBtYXhpbXVtIHZhbHVlIHBlcm1pdHRlZC4nKS5kZWZhdWx0VmFsdWUoMTAwKSxcbiAgICBtZXNzYWdlczogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgIGxvd2VyOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgdXBwZXI6IFByb3BUeXBlcy5zdHJpbmdcbiAgICB9KS5kZXNjcmlwdGlvbignQ3VzdG9tIG1lc3NhZ2VzIHVzZWQgYnkgc2NyZWVuIHJlYWRlcnMgZm9yIGFjY2Vzc2liaWxpdHkuJyksXG4gICAgbWluOiBQcm9wVHlwZXMubnVtYmVyLmRlc2NyaXB0aW9uKCdUaGUgbWluaW11bSB2YWx1ZSBwZXJtaXR0ZWQuJykuZGVmYXVsdFZhbHVlKDApLFxuICAgIG9uQ2hhbmdlOiBQcm9wVHlwZXMuZnVuYy5kZXNjcmlwdGlvbihcIkZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgdXNlciBjaGFuZ2VzIG9uZSBvZiB0aGVcXG4gICAgICB2YWx1ZXMuIEl0IHdpbGwgYmUgcGFzc2VkIGFuIGFycmF5IG9mIHR3byBudW1iZXJzIGluZGljYXRpbmdcXG4gICAgICB0aGUgbmV3IHZhbHVlcyBzZWxlY3RlZC5cIiksXG4gICAgb3BhY2l0eTogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFsnd2VhaycsICdtZWRpdW0nLCAnc3Ryb25nJ10pLCBQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMuYm9vbF0pLmRlc2NyaXB0aW9uKCdUcmFuc3BhcmVuY3kgb2YgdGhlIHNlbGVjdGlvbiBpbmRpY2F0b3IuJykuZGVmYXVsdFZhbHVlKCdtZWRpdW0nKSxcbiAgICByb3VuZDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFsneHNtYWxsJywgJ3NtYWxsJywgJ21lZGl1bScsICdsYXJnZScsICdmdWxsJ10pLCBQcm9wVHlwZXMuc3RyaW5nXSkuZGVzY3JpcHRpb24oJ0hvdyBtdWNoIHRvIHJvdW5kIHRoZSBjb3JuZXJzLicpLFxuICAgIHNpemU6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbJ3h4c21hbGwnLCAneHNtYWxsJywgJ3NtYWxsJywgJ21lZGl1bScsICdsYXJnZScsICd4bGFyZ2UnLCAnZnVsbCddKSwgUHJvcFR5cGVzLnN0cmluZ10pLmRlc2NyaXB0aW9uKCdIb3cgdGhpY2sgdG8gbWFrZSB0aGUgc2VsZWN0aW9uIGluZGljYXRvci4nKS5kZWZhdWx0VmFsdWUoJ21lZGl1bScpLFxuICAgIHN0ZXA6IFByb3BUeXBlcy5udW1iZXIuZGVzY3JpcHRpb24oJ1RoZSBzdGVwIGludGVydmFsIGJldHdlZW4gdmFsdWVzLicpLmRlZmF1bHRWYWx1ZSgxKSxcbiAgICB2YWx1ZXM6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5udW1iZXIpLmRlc2NyaXB0aW9uKCdUaGUgY3VycmVudCB2YWx1ZXMuJykuaXNSZXF1aXJlZFxuICB9O1xuICByZXR1cm4gRG9jdW1lbnRlZFJhbmdlU2VsZWN0b3I7XG59O1xuZXhwb3J0IHZhciB0aGVtZURvYyA9IHtcbiAgJ2dsb2JhbC5ib3JkZXJTaXplJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIHNpemUgb2YgdGhlIGJvcmRlci4nLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogXCJ7XFxuICAgICAgeHNtYWxsOiAnMXB4JyxcXG4gICAgICBzbWFsbDogJzJweCcsXFxuICAgICAgbWVkaXVtOiAnNHB4JyxcXG4gICAgICBsYXJnZTogJzEycHgnLFxcbiAgICAgIHhsYXJnZTogJzI0cHgsXFxuICAgIH1cIlxuICB9LFxuICAnZ2xvYmFsLmNvbG9ycy5ib3JkZXInOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgY29sb3IgZm9yIHRoZSBib3JkZXIuJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgeyBkYXJrOiBzdHJpbmcsIGxpZ2h0OiBzdHJpbmcgfScsXG4gICAgZGVmYXVsdFZhbHVlOiB7XG4gICAgICBkYXJrOiAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjMzKScsXG4gICAgICBsaWdodDogJ3JnYmEoMCwgMCwgMCwgMC4zMyknXG4gICAgfVxuICB9LFxuICAnZ2xvYmFsLmNvbG9ycy5jb250cm9sJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGNvbG9yIGZvciB0aGUgZWRnZSBjb250cm9scy4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCB7IGRhcms6IHN0cmluZywgbGlnaHQ6IHN0cmluZyB9JyxcbiAgICBkZWZhdWx0VmFsdWU6ICd7ZGFyazogYWNjZW50LTEsIGxpZ2h0OiBicmFuZH0nXG4gIH0sXG4gICdnbG9iYWwuY29sb3JzLmZvY3VzJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGNvbG9yIG9mIHRoZSBmb2N1cy4nLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogJ2FjY2VudC0xJ1xuICB9LFxuICAnZ2xvYmFsLmVkZ2VTaXplLnNtYWxsJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIHBvc3NpYmxlIHNpemVzIGZvciB0aGUgbWFyZ2luLCBwYWRkaW5nIGFuZCBnYXAuJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICc2cHgnXG4gIH0sXG4gICdyYW5nZVNlbGVjdG9yLmJhY2tncm91bmQuaW52ZXJ0LmNvbG9yJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGJhY2tncm91bmQgY29sb3Igb24gYW4gaW52ZXJ0IGRpc3BsYXkuJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICdsaWdodC00J1xuICB9LFxuICAncmFuZ2VTZWxlY3Rvci5lZGdlLnR5cGUnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgZWRnZSBjb250cm9sIHR5cGUuJyxcbiAgICB0eXBlOiBcIidiYXInIHwgJ2Rpc2MnIHwgbm9kZVwiLFxuICAgIGRlZmF1bHRWYWx1ZTogdW5kZWZpbmVkXG4gIH0sXG4gICdnbG9iYWwuc3BhY2luZyc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBzaXplIG9mIHRoZSBlZGdlIGNvbnRyb2xzIHRodW1iLicsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiAnMjRweCdcbiAgfVxufTsiLCJleHBvcnQgeyBSYW5nZVNlbGVjdG9yIH0gZnJvbSAnLi9SYW5nZVNlbGVjdG9yJzsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0c0xvb3NlKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcy5wcm90b3R5cGUpOyBzdWJDbGFzcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBzdWJDbGFzczsgc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5pbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB7IEFuY2hvciB9IGZyb20gJy4uL0FuY2hvcic7XG5cbnZhciBSb3V0ZWRBbmNob3IgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoUm91dGVkQW5jaG9yLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBSb3V0ZWRBbmNob3IoKSB7XG4gICAgcmV0dXJuIF9Db21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IFJvdXRlZEFuY2hvci5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyIF90aGlzJHByb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgcGF0aCA9IF90aGlzJHByb3BzLnBhdGgsXG4gICAgICAgIG1ldGhvZCA9IF90aGlzJHByb3BzLm1ldGhvZCxcbiAgICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF90aGlzJHByb3BzLCBbXCJwYXRoXCIsIFwibWV0aG9kXCJdKTtcblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJUaGlzIGNvbXBvbmVudCB3aWxsIGJlIGRlcHJlY2F0ZWQgaW4gdGhlIHVwY29taW5nIHJlbGVhc2VzLiBcXG4gICAgICAgIFBsZWFzZSByZWZlciB0byBodHRwczovL2dpdGh1Yi5jb20vZ3JvbW1ldC9ncm9tbWV0L2lzc3Vlcy8yODU1IFxcbiAgICAgICAgZm9yIG1vcmUgaW5mb3JtYXRpb24uXCIpO1xuICAgIH1cblxuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEFuY2hvciwgX2V4dGVuZHMoe30sIHJlc3QsIHtcbiAgICAgIGhyZWY6IHBhdGgsXG4gICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKGV2ZW50KSB7XG4gICAgICAgIHZhciBvbkNsaWNrID0gX3RoaXMucHJvcHMub25DbGljaztcbiAgICAgICAgdmFyIHJvdXRlciA9IF90aGlzLmNvbnRleHQucm91dGVyO1xuXG4gICAgICAgIGlmIChldmVudCkge1xuICAgICAgICAgIHZhciBtb2RpZmllcktleSA9IGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQubWV0YUtleTsgLy8gaWYgdGhlIHVzZXIgcmlnaHQtY2xpY2tlZCBpbiB0aGUgQW5jaG9yIHdlIHNob3VsZCBsZXQgaXQgZ29cblxuICAgICAgICAgIGlmIChtb2RpZmllcktleSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyb3V0ZXIpIHtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIChyb3V0ZXIuaGlzdG9yeSB8fCByb3V0ZXIpW21ldGhvZF0ocGF0aCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob25DbGljaykge1xuICAgICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIG9uQ2xpY2suYXBwbHkodm9pZCAwLCBbZXZlbnRdLmNvbmNhdChhcmdzKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KSk7XG4gIH07XG5cbiAgcmV0dXJuIFJvdXRlZEFuY2hvcjtcbn0oQ29tcG9uZW50KTtcblxuX2RlZmluZVByb3BlcnR5KFJvdXRlZEFuY2hvciwgXCJjb250ZXh0VHlwZXNcIiwge1xuICByb3V0ZXI6IFByb3BUeXBlcy5zaGFwZSh7fSkuaXNSZXF1aXJlZFxufSk7XG5cbl9kZWZpbmVQcm9wZXJ0eShSb3V0ZWRBbmNob3IsIFwiZGVmYXVsdFByb3BzXCIsIHtcbiAgbWV0aG9kOiAncHVzaCdcbn0pO1xuXG52YXIgUm91dGVkQW5jaG9yRG9jO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZ2xvYmFsLXJlcXVpcmVcbiAgUm91dGVkQW5jaG9yRG9jID0gcmVxdWlyZSgnLi9kb2MnKS5kb2MoUm91dGVkQW5jaG9yKTtcbn1cblxudmFyIFJvdXRlZEFuY2hvcldyYXBwZXIgPSBSb3V0ZWRBbmNob3JEb2MgfHwgUm91dGVkQW5jaG9yO1xuZXhwb3J0IHsgUm91dGVkQW5jaG9yV3JhcHBlciBhcyBSb3V0ZWRBbmNob3IgfTsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5pbXBvcnQgeyBkZXNjcmliZSB9IGZyb20gJ3JlYWN0LWRlc2MnO1xuaW1wb3J0IHsgUk9VVEVSX1BST1BTLCBnZXRBdmFpbGFibGVBdEJhZGdlIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuZXhwb3J0IHZhciBkb2MgPSBmdW5jdGlvbiBkb2MoUm91dGVkQW5jaG9yKSB7XG4gIHZhciBEb2N1bWVudGVkUm91dGVkQW5jaG9yID0gZGVzY3JpYmUoUm91dGVkQW5jaG9yKS5hdmFpbGFibGVBdChnZXRBdmFpbGFibGVBdEJhZGdlKCdSb3V0ZWRBbmNob3InKSkuZGVzY3JpcHRpb24oJ0FuIEFuY2hvciB3aXRoIHN1cHBvcnQgZm9yIFJlYWN0IFJvdXRlci4nKS51c2FnZShcImltcG9ydCB7IFJvdXRlZEFuY2hvciB9IGZyb20gJ2dyb21tZXQnO1xcblwiICsgXCI8Um91dGVkQW5jaG9yIHByaW1hcnkgcGF0aD0nL2RvY3VtZW50YXRpb24nIC8+XCIpLmludHJpbnNpY0VsZW1lbnQoJ2EnKTtcbiAgRG9jdW1lbnRlZFJvdXRlZEFuY2hvci5wcm9wVHlwZXMgPSBfZXh0ZW5kcyh7fSwgUk9VVEVSX1BST1BTKTtcbiAgcmV0dXJuIERvY3VtZW50ZWRSb3V0ZWRBbmNob3I7XG59OyIsImV4cG9ydCB7IFJvdXRlZEFuY2hvciB9IGZyb20gJy4vUm91dGVkQW5jaG9yJzsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHNMb29zZShzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MucHJvdG90eXBlKTsgc3ViQ2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gc3ViQ2xhc3M7IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICcuLi9CdXR0b24nO1xuXG52YXIgUm91dGVkQnV0dG9uID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKFJvdXRlZEJ1dHRvbiwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gUm91dGVkQnV0dG9uKCkge1xuICAgIHZhciBfdGhpcztcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBfYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIF9hcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIF90aGlzID0gX0NvbXBvbmVudC5jYWxsLmFwcGx5KF9Db21wb25lbnQsIFt0aGlzXS5jb25jYXQoX2FyZ3MpKSB8fCB0aGlzO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIm9uQ2xpY2tcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBtZXRob2QgPSBfdGhpcyRwcm9wcy5tZXRob2QsXG4gICAgICAgICAgb25DbGljayA9IF90aGlzJHByb3BzLm9uQ2xpY2ssXG4gICAgICAgICAgcGF0aCA9IF90aGlzJHByb3BzLnBhdGg7XG4gICAgICB2YXIgcm91dGVyID0gX3RoaXMuY29udGV4dC5yb3V0ZXI7XG5cbiAgICAgIGlmIChldmVudCkge1xuICAgICAgICB2YXIgbW9kaWZpZXJLZXkgPSBldmVudC5jdHJsS2V5IHx8IGV2ZW50Lm1ldGFLZXk7IC8vIGlmIHRoZSB1c2VyIHJpZ2h0LWNsaWNrZWQgaW4gdGhlIGJ1dHRvbiB3ZSBzaG91bGQgbGV0IGl0IGdvXG5cbiAgICAgICAgaWYgKG1vZGlmaWVyS2V5KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChyb3V0ZXIpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgKHJvdXRlci5oaXN0b3J5IHx8IHJvdXRlcilbbWV0aG9kXShwYXRoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG9uQ2xpY2spIHtcbiAgICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4yID4gMSA/IF9sZW4yIC0gMSA6IDApLCBfa2V5MiA9IDE7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgICAgICBhcmdzW19rZXkyIC0gMV0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgICAgICB9XG5cbiAgICAgICAgb25DbGljay5hcHBseSh2b2lkIDAsIFtldmVudF0uY29uY2F0KGFyZ3MpKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBSb3V0ZWRCdXR0b24ucHJvdG90eXBlO1xuXG4gIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIF90aGlzJHByb3BzMiA9IHRoaXMucHJvcHMsXG4gICAgICAgIGhyZWYgPSBfdGhpcyRwcm9wczIuaHJlZixcbiAgICAgICAgcGF0aCA9IF90aGlzJHByb3BzMi5wYXRoLFxuICAgICAgICBtZXRob2QgPSBfdGhpcyRwcm9wczIubWV0aG9kLFxuICAgICAgICBvbkNsaWNrID0gX3RoaXMkcHJvcHMyLm9uQ2xpY2ssXG4gICAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfdGhpcyRwcm9wczIsIFtcImhyZWZcIiwgXCJwYXRoXCIsIFwibWV0aG9kXCIsIFwib25DbGlja1wiXSk7XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgY29uc29sZS53YXJuKFwiVGhpcyBjb21wb25lbnQgd2lsbCBiZSBkZXByZWNhdGVkIGluIHRoZSB1cGNvbWluZyByZWxlYXNlcy5cXG4gICAgICAgICBQbGVhc2UgcmVmZXIgdG8gaHR0cHM6Ly9naXRodWIuY29tL2dyb21tZXQvZ3JvbW1ldC9pc3N1ZXMvMjg1NSBcXG4gICAgICAgICBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cIik7XG4gICAgfVxuXG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCBfZXh0ZW5kcyh7fSwgcmVzdCwge1xuICAgICAgaHJlZjogcGF0aCB8fCBocmVmLFxuICAgICAgZGlzYWJsZWQ6ICFwYXRoICYmICFvbkNsaWNrLFxuICAgICAgb25DbGljazogdGhpcy5vbkNsaWNrXG4gICAgfSkpO1xuICB9O1xuXG4gIHJldHVybiBSb3V0ZWRCdXR0b247XG59KENvbXBvbmVudCk7XG5cbl9kZWZpbmVQcm9wZXJ0eShSb3V0ZWRCdXR0b24sIFwiY29udGV4dFR5cGVzXCIsIHtcbiAgcm91dGVyOiBQcm9wVHlwZXMuc2hhcGUoe30pLmlzUmVxdWlyZWRcbn0pO1xuXG5fZGVmaW5lUHJvcGVydHkoUm91dGVkQnV0dG9uLCBcImRlZmF1bHRQcm9wc1wiLCB7XG4gIG1ldGhvZDogJ3B1c2gnXG59KTtcblxudmFyIFJvdXRlZEJ1dHRvbkRvYztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGdsb2JhbC1yZXF1aXJlXG4gIFJvdXRlZEJ1dHRvbkRvYyA9IHJlcXVpcmUoJy4vZG9jJykuZG9jKFJvdXRlZEJ1dHRvbik7XG59XG5cbnZhciBSb3V0ZWRCdXR0b25XcmFwcGVyID0gUm91dGVkQnV0dG9uRG9jIHx8IFJvdXRlZEJ1dHRvbjtcbmV4cG9ydCB7IFJvdXRlZEJ1dHRvbldyYXBwZXIgYXMgUm91dGVkQnV0dG9uIH07IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuaW1wb3J0IHsgZGVzY3JpYmUgfSBmcm9tICdyZWFjdC1kZXNjJztcbmltcG9ydCB7IFJPVVRFUl9QUk9QUywgZ2V0QXZhaWxhYmxlQXRCYWRnZSB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmV4cG9ydCB2YXIgZG9jID0gZnVuY3Rpb24gZG9jKFJvdXRlZEJ1dHRvbikge1xuICB2YXIgRG9jdW1lbnRlZFJvdXRlZEJ1dHRvbiA9IGRlc2NyaWJlKFJvdXRlZEJ1dHRvbikuYXZhaWxhYmxlQXQoZ2V0QXZhaWxhYmxlQXRCYWRnZSgnUm91dGVkQnV0dG9uJykpLmRlc2NyaXB0aW9uKCdBIGJ1dHRvbiB3aXRoIHN1cHBvcnQgZm9yIFJlYWN0IFJvdXRlci4nKS51c2FnZShcImltcG9ydCB7IFJvdXRlZEJ1dHRvbiB9IGZyb20gJ2dyb21tZXQnO1xcbjxSb3V0ZWRCdXR0b24gcHJpbWFyeSBwYXRoPScvZG9jdW1lbnRhdGlvbicgLz5cIikuaW50cmluc2ljRWxlbWVudCgnYnV0dG9uJyk7XG4gIERvY3VtZW50ZWRSb3V0ZWRCdXR0b24ucHJvcFR5cGVzID0gX2V4dGVuZHMoe30sIFJPVVRFUl9QUk9QUyk7XG4gIHJldHVybiBEb2N1bWVudGVkUm91dGVkQnV0dG9uO1xufTsiLCJleHBvcnQgeyBSb3V0ZWRCdXR0b24gfSBmcm9tICcuL1JvdXRlZEJ1dHRvbic7IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5pbXBvcnQgUmVhY3QsIHsgaXNWYWxpZEVsZW1lbnQsIHVzZVN0YXRlLCB1c2VSZWYsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbXBvc2UgfSBmcm9tICdyZWNvbXBvc2UnO1xuaW1wb3J0IHN0eWxlZCwgeyB3aXRoVGhlbWUgfSBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBjb250cm9sQm9yZGVyU3R5bGUsIG5vcm1hbGl6ZUNvbG9yIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuaW1wb3J0IHsgZGVmYXVsdFByb3BzIH0gZnJvbSAnLi4vLi4vZGVmYXVsdC1wcm9wcyc7XG5pbXBvcnQgeyBCb3ggfSBmcm9tICcuLi9Cb3gnO1xuaW1wb3J0IHsgRHJvcEJ1dHRvbiB9IGZyb20gJy4uL0Ryb3BCdXR0b24nO1xuaW1wb3J0IHsgS2V5Ym9hcmQgfSBmcm9tICcuLi9LZXlib2FyZCc7XG5pbXBvcnQgeyBUZXh0SW5wdXQgfSBmcm9tICcuLi9UZXh0SW5wdXQnO1xuaW1wb3J0IHsgd2l0aEZvcndhcmRSZWYgfSBmcm9tICcuLi9ob2NzJztcbmltcG9ydCB7IFNlbGVjdENvbnRhaW5lciB9IGZyb20gJy4vU2VsZWN0Q29udGFpbmVyJztcbnZhciBTZWxlY3RUZXh0SW5wdXQgPSBzdHlsZWQoVGV4dElucHV0KS53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiU2VsZWN0X19TZWxlY3RUZXh0SW5wdXRcIixcbiAgY29tcG9uZW50SWQ6IFwic2MtMTdpZHRmby0wXCJcbn0pKFtcImN1cnNvcjpwb2ludGVyO1wiXSk7XG52YXIgU3R5bGVkU2VsZWN0RHJvcEJ1dHRvbiA9IHN0eWxlZChEcm9wQnV0dG9uKS53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiU2VsZWN0X19TdHlsZWRTZWxlY3REcm9wQnV0dG9uXCIsXG4gIGNvbXBvbmVudElkOiBcInNjLTE3aWR0Zm8tMVwiXG59KShbXCJcIiwgXCI7XCIsIFwiO1wiLCBcIjtcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gIXByb3BzLnBsYWluICYmIGNvbnRyb2xCb3JkZXJTdHlsZTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUuc2VsZWN0ICYmIHByb3BzLnRoZW1lLnNlbGVjdC5jb250cm9sICYmIHByb3BzLnRoZW1lLnNlbGVjdC5jb250cm9sLmV4dGVuZDtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMub3BlbiAmJiBwcm9wcy50aGVtZS5zZWxlY3QuY29udHJvbC5vcGVuO1xufSk7XG5TdHlsZWRTZWxlY3REcm9wQnV0dG9uLmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKFN0eWxlZFNlbGVjdERyb3BCdXR0b24uZGVmYXVsdFByb3BzLCBkZWZhdWx0UHJvcHMpO1xuXG52YXIgU2VsZWN0ID0gZnVuY3Rpb24gU2VsZWN0KHByb3BzKSB7XG4gIHZhciBhMTF5VGl0bGUgPSBwcm9wcy5hMTF5VGl0bGUsXG4gICAgICBhbGlnblNlbGYgPSBwcm9wcy5hbGlnblNlbGYsXG4gICAgICBjaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuLFxuICAgICAgY2xvc2VPbkNoYW5nZSA9IHByb3BzLmNsb3NlT25DaGFuZ2UsXG4gICAgICBkaXNhYmxlZCA9IHByb3BzLmRpc2FibGVkLFxuICAgICAgZHJvcEFsaWduID0gcHJvcHMuZHJvcEFsaWduLFxuICAgICAgZHJvcFByb3BzID0gcHJvcHMuZHJvcFByb3BzLFxuICAgICAgZHJvcFRhcmdldCA9IHByb3BzLmRyb3BUYXJnZXQsXG4gICAgICBmb3J3YXJkUmVmID0gcHJvcHMuZm9yd2FyZFJlZixcbiAgICAgIGdyaWRBcmVhID0gcHJvcHMuZ3JpZEFyZWEsXG4gICAgICBpZCA9IHByb3BzLmlkLFxuICAgICAgaWNvbiA9IHByb3BzLmljb24sXG4gICAgICBsYWJlbEtleSA9IHByb3BzLmxhYmVsS2V5LFxuICAgICAgbWFyZ2luID0gcHJvcHMubWFyZ2luLFxuICAgICAgbWVzc2FnZXMgPSBwcm9wcy5tZXNzYWdlcyxcbiAgICAgIG9uQ2hhbmdlID0gcHJvcHMub25DaGFuZ2UsXG4gICAgICBvbkNsb3NlID0gcHJvcHMub25DbG9zZSxcbiAgICAgIG9uTW9yZSA9IHByb3BzLm9uTW9yZSxcbiAgICAgIG9uT3BlbiA9IHByb3BzLm9uT3BlbixcbiAgICAgIHByb3BPcGVuID0gcHJvcHMub3BlbixcbiAgICAgIG9wdGlvbnMgPSBwcm9wcy5vcHRpb25zLFxuICAgICAgcGxhY2Vob2xkZXIgPSBwcm9wcy5wbGFjZWhvbGRlcixcbiAgICAgIHBsYWluID0gcHJvcHMucGxhaW4sXG4gICAgICBzZWxlY3RlZCA9IHByb3BzLnNlbGVjdGVkLFxuICAgICAgc2l6ZSA9IHByb3BzLnNpemUsXG4gICAgICB0aGVtZSA9IHByb3BzLnRoZW1lLFxuICAgICAgdmFsdWUgPSBwcm9wcy52YWx1ZSxcbiAgICAgIHZhbHVlTGFiZWwgPSBwcm9wcy52YWx1ZUxhYmVsLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHByb3BzLCBbXCJhMTF5VGl0bGVcIiwgXCJhbGlnblNlbGZcIiwgXCJjaGlsZHJlblwiLCBcImNsb3NlT25DaGFuZ2VcIiwgXCJkaXNhYmxlZFwiLCBcImRyb3BBbGlnblwiLCBcImRyb3BQcm9wc1wiLCBcImRyb3BUYXJnZXRcIiwgXCJmb3J3YXJkUmVmXCIsIFwiZ3JpZEFyZWFcIiwgXCJpZFwiLCBcImljb25cIiwgXCJsYWJlbEtleVwiLCBcIm1hcmdpblwiLCBcIm1lc3NhZ2VzXCIsIFwib25DaGFuZ2VcIiwgXCJvbkNsb3NlXCIsIFwib25Nb3JlXCIsIFwib25PcGVuXCIsIFwib3BlblwiLCBcIm9wdGlvbnNcIiwgXCJwbGFjZWhvbGRlclwiLCBcInBsYWluXCIsIFwic2VsZWN0ZWRcIiwgXCJzaXplXCIsIFwidGhlbWVcIiwgXCJ2YWx1ZVwiLCBcInZhbHVlTGFiZWxcIl0pO1xuXG4gIHZhciBpbnB1dFJlZiA9IHVzZVJlZigpO1xuXG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZShwcm9wT3BlbiksXG4gICAgICBvcGVuID0gX3VzZVN0YXRlWzBdLFxuICAgICAgc2V0T3BlbiA9IF91c2VTdGF0ZVsxXTtcblxuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIHNldE9wZW4ocHJvcE9wZW4pO1xuICB9LCBbcHJvcE9wZW5dKTtcblxuICB2YXIgb25SZXF1ZXN0T3BlbiA9IGZ1bmN0aW9uIG9uUmVxdWVzdE9wZW4oKSB7XG4gICAgc2V0T3Blbih0cnVlKTtcblxuICAgIGlmIChvbk9wZW4pIHtcbiAgICAgIG9uT3BlbigpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgb25SZXF1ZXN0Q2xvc2UgPSBmdW5jdGlvbiBvblJlcXVlc3RDbG9zZSgpIHtcbiAgICBzZXRPcGVuKGZhbHNlKTtcblxuICAgIGlmIChvbkNsb3NlKSB7XG4gICAgICBvbkNsb3NlKCk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBvblNlbGVjdENoYW5nZSA9IGZ1bmN0aW9uIG9uU2VsZWN0Q2hhbmdlKGV2ZW50KSB7XG4gICAgaWYgKGNsb3NlT25DaGFuZ2UpIHtcbiAgICAgIG9uUmVxdWVzdENsb3NlKCk7XG4gICAgfVxuXG4gICAgaWYgKG9uQ2hhbmdlKSB7XG4gICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgIGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgfVxuXG4gICAgICBvbkNoYW5nZS5hcHBseSh2b2lkIDAsIFtfZXh0ZW5kcyh7fSwgZXZlbnQsIHtcbiAgICAgICAgdGFyZ2V0OiBpbnB1dFJlZi5jdXJyZW50XG4gICAgICB9KV0uY29uY2F0KGFyZ3MpKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIFNlbGVjdEljb247XG5cbiAgc3dpdGNoIChpY29uKSB7XG4gICAgY2FzZSBmYWxzZTpcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSB0cnVlOlxuICAgIGNhc2UgdW5kZWZpbmVkOlxuICAgICAgU2VsZWN0SWNvbiA9IHRoZW1lLnNlbGVjdC5pY29ucy5kb3duO1xuICAgICAgYnJlYWs7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgU2VsZWN0SWNvbiA9IGljb247XG4gIH1cblxuICB2YXIgc2VsZWN0VmFsdWU7XG4gIHZhciBpbnB1dFZhbHVlID0gJyc7XG5cbiAgaWYgKHZhbHVlTGFiZWwpIHtcbiAgICBzZWxlY3RWYWx1ZSA9IHZhbHVlTGFiZWw7XG4gIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICBpZiAodmFsdWUubGVuZ3RoID4gMSkge1xuICAgICAgaWYgKFJlYWN0LmlzVmFsaWRFbGVtZW50KHZhbHVlWzBdKSkge1xuICAgICAgICBzZWxlY3RWYWx1ZSA9IHZhbHVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5wdXRWYWx1ZSA9IG1lc3NhZ2VzLm11bHRpcGxlO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodmFsdWUubGVuZ3RoID09PSAxKSB7XG4gICAgICBpZiAoUmVhY3QuaXNWYWxpZEVsZW1lbnQodmFsdWVbMF0pKSB7XG4gICAgICAgIHNlbGVjdFZhbHVlID0gdmFsdWVbMF07XG4gICAgICB9IGVsc2UgaWYgKGxhYmVsS2V5ICYmIHR5cGVvZiB2YWx1ZVswXSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBsYWJlbEtleSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGlucHV0VmFsdWUgPSBsYWJlbEtleSh2YWx1ZVswXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaW5wdXRWYWx1ZSA9IHZhbHVlWzBdW2xhYmVsS2V5XTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5wdXRWYWx1ZSA9IHZhbHVlWzBdO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpbnB1dFZhbHVlID0gJyc7XG4gICAgfVxuICB9IGVsc2UgaWYgKGxhYmVsS2V5ICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICBpZiAodHlwZW9mIGxhYmVsS2V5ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBpbnB1dFZhbHVlID0gbGFiZWxLZXkodmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnB1dFZhbHVlID0gdmFsdWVbbGFiZWxLZXldO1xuICAgIH1cbiAgfSBlbHNlIGlmIChSZWFjdC5pc1ZhbGlkRWxlbWVudCh2YWx1ZSkpIHtcbiAgICBzZWxlY3RWYWx1ZSA9IHZhbHVlOyAvLyBkZXByZWNhdGVkIGluIGZhdm9yIG9mIHZhbHVlTGFiZWxcbiAgfSBlbHNlIGlmIChzZWxlY3RlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoc2VsZWN0ZWQpKSB7XG4gICAgICBpZiAoc2VsZWN0ZWQubGVuZ3RoID4gMSkge1xuICAgICAgICBpbnB1dFZhbHVlID0gbWVzc2FnZXMubXVsdGlwbGU7XG4gICAgICB9IGVsc2UgaWYgKHNlbGVjdGVkLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBpbnB1dFZhbHVlID0gb3B0aW9uc1tzZWxlY3RlZFswXV07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlucHV0VmFsdWUgPSBvcHRpb25zW3NlbGVjdGVkXTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaW5wdXRWYWx1ZSA9IHZhbHVlO1xuICB9IC8vIGNvbnN0IGRhcmsgPSB0aGVtZS5zZWxlY3QuYmFja2dyb3VuZFxuICAvLyA/IGNvbG9ySXNEYXJrKHRoZW1lLnNlbGVjdC5iYWNrZ3JvdW5kKVxuICAvLyA6IHRoZW1lLmRhcms7XG5cblxuICB2YXIgaWNvbkNvbG9yID0gbm9ybWFsaXplQ29sb3IodGhlbWUuc2VsZWN0Lmljb25zLmNvbG9yIHx8ICdjb250cm9sJywgdGhlbWUpO1xuICBkZWxldGUgcmVzdC5vblNlYXJjaDtcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoS2V5Ym9hcmQsIHtcbiAgICBvbkRvd246IG9uUmVxdWVzdE9wZW4sXG4gICAgb25VcDogb25SZXF1ZXN0T3BlblxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZFNlbGVjdERyb3BCdXR0b24sIHtcbiAgICByZWY6IGZvcndhcmRSZWYsXG4gICAgaWQ6IGlkLFxuICAgIGRpc2FibGVkOiBkaXNhYmxlZCA9PT0gdHJ1ZSB8fCB1bmRlZmluZWQsXG4gICAgZHJvcEFsaWduOiBkcm9wQWxpZ24sXG4gICAgZHJvcFRhcmdldDogZHJvcFRhcmdldCxcbiAgICBvcGVuOiBvcGVuLFxuICAgIGFsaWduU2VsZjogYWxpZ25TZWxmLFxuICAgIGdyaWRBcmVhOiBncmlkQXJlYSxcbiAgICBtYXJnaW46IG1hcmdpbixcbiAgICBvbk9wZW46IG9uUmVxdWVzdE9wZW4sXG4gICAgb25DbG9zZTogb25SZXF1ZXN0Q2xvc2UsXG4gICAgZHJvcENvbnRlbnQ6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoU2VsZWN0Q29udGFpbmVyLCBfZXh0ZW5kcyh7fSwgcHJvcHMsIHtcbiAgICAgIG9uQ2hhbmdlOiBvblNlbGVjdENoYW5nZSxcbiAgICAgIG9uTW9yZTogb25Nb3JlXG4gICAgfSkpLFxuICAgIHBsYWluOiBwbGFpbixcbiAgICBkcm9wUHJvcHM6IF9leHRlbmRzKHt9LCBkcm9wUHJvcHMpXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQm94LCB7XG4gICAgYWxpZ246IFwiY2VudGVyXCIsXG4gICAgZGlyZWN0aW9uOiBcInJvd1wiLFxuICAgIGp1c3RpZnk6IFwiYmV0d2VlblwiLFxuICAgIGJhY2tncm91bmQ6IHRoZW1lLnNlbGVjdC5iYWNrZ3JvdW5kXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQm94LCB7XG4gICAgZGlyZWN0aW9uOiBcInJvd1wiLFxuICAgIGZsZXg6IHRydWUsXG4gICAgYmFzaXM6IFwiYXV0b1wiXG4gIH0sIHNlbGVjdFZhbHVlIHx8IFJlYWN0LmNyZWF0ZUVsZW1lbnQoU2VsZWN0VGV4dElucHV0LCBfZXh0ZW5kcyh7XG4gICAgYTExeVRpdGxlOiBhMTF5VGl0bGUgJiYgXCJcIiArIGExMXlUaXRsZSArICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnID8gXCIsIFwiICsgdmFsdWUgOiAnJyksXG4gICAgaWQ6IGlkID8gaWQgKyBcIl9faW5wdXRcIiA6IHVuZGVmaW5lZCxcbiAgICByZWY6IGlucHV0UmVmXG4gIH0sIHJlc3QsIHtcbiAgICB0YWJJbmRleDogXCItMVwiLFxuICAgIHR5cGU6IFwidGV4dFwiLFxuICAgIHBsYWNlaG9sZGVyOiBwbGFjZWhvbGRlcixcbiAgICBwbGFpbjogdHJ1ZSxcbiAgICByZWFkT25seTogdHJ1ZSxcbiAgICB2YWx1ZTogaW5wdXRWYWx1ZSxcbiAgICBzaXplOiBzaXplLFxuICAgIG9uQ2xpY2s6IGRpc2FibGVkID09PSB0cnVlID8gdW5kZWZpbmVkIDogb25SZXF1ZXN0T3BlblxuICB9KSkpLCBTZWxlY3RJY29uICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQm94LCB7XG4gICAgbWFyZ2luOiB0aGVtZS5zZWxlY3QuaWNvbnMubWFyZ2luLFxuICAgIGZsZXg6IGZhbHNlLFxuICAgIHN0eWxlOiB7XG4gICAgICBtaW5XaWR0aDogJ2F1dG8nXG4gICAgfVxuICB9LCBpc1ZhbGlkRWxlbWVudChTZWxlY3RJY29uKSA/IFNlbGVjdEljb24gOiBSZWFjdC5jcmVhdGVFbGVtZW50KFNlbGVjdEljb24sIHtcbiAgICBjb2xvcjogaWNvbkNvbG9yLFxuICAgIHNpemU6IHNpemVcbiAgfSkpKSkpO1xufTtcblxuU2VsZWN0LmRlZmF1bHRQcm9wcyA9IF9leHRlbmRzKHtcbiAgY2xvc2VPbkNoYW5nZTogdHJ1ZSxcbiAgZHJvcEFsaWduOiB7XG4gICAgdG9wOiAnYm90dG9tJyxcbiAgICBsZWZ0OiAnbGVmdCdcbiAgfSxcbiAgbWVzc2FnZXM6IHtcbiAgICBtdWx0aXBsZTogJ211bHRpcGxlJ1xuICB9XG59LCBkZWZhdWx0UHJvcHMpO1xudmFyIFNlbGVjdERvYztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGdsb2JhbC1yZXF1aXJlXG4gIFNlbGVjdERvYyA9IHJlcXVpcmUoJy4vZG9jJykuZG9jKFNlbGVjdCk7XG59XG5cbnZhciBTZWxlY3RXcmFwcGVyID0gY29tcG9zZSh3aXRoVGhlbWUsIHdpdGhGb3J3YXJkUmVmKShTZWxlY3REb2MgfHwgU2VsZWN0KTtcbmV4cG9ydCB7IFNlbGVjdFdyYXBwZXIgYXMgU2VsZWN0IH07IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0c0xvb3NlKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcy5wcm90b3R5cGUpOyBzdWJDbGFzcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBzdWJDbGFzczsgc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5pbXBvcnQgUmVhY3QsIHsgY3JlYXRlUmVmLCBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgc3R5bGVkLCB7IHdpdGhUaGVtZSB9IGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCB7IGRlYm91bmNlLCBkZWJvdW5jZURlbGF5LCBpc05vZGVBZnRlclNjcm9sbCwgaXNOb2RlQmVmb3JlU2Nyb2xsLCBzZWxlY3RlZFN0eWxlLCBzZXRGb2N1c1dpdGhvdXRTY3JvbGwgfSBmcm9tICcuLi8uLi91dGlscyc7XG5pbXBvcnQgeyBkZWZhdWx0UHJvcHMgfSBmcm9tICcuLi8uLi9kZWZhdWx0LXByb3BzJztcbmltcG9ydCB7IEJveCB9IGZyb20gJy4uL0JveCc7XG5pbXBvcnQgeyBJbmZpbml0ZVNjcm9sbCB9IGZyb20gJy4uL0luZmluaXRlU2Nyb2xsJztcbmltcG9ydCB7IEtleWJvYXJkIH0gZnJvbSAnLi4vS2V5Ym9hcmQnO1xuaW1wb3J0IHsgVGV4dCB9IGZyb20gJy4uL1RleHQnO1xuaW1wb3J0IHsgVGV4dElucHV0IH0gZnJvbSAnLi4vVGV4dElucHV0JztcbmltcG9ydCB7IFNlbGVjdE9wdGlvbiB9IGZyb20gJy4vU2VsZWN0T3B0aW9uJztcbmltcG9ydCB7IFN0eWxlZENvbnRhaW5lciB9IGZyb20gJy4vU3R5bGVkU2VsZWN0JzsgLy8gcG9zaXRpb24gcmVsYXRpdmUgaXMgc28gc2Nyb2xsIGNhbiBiZSBtYW5hZ2VkIGNvcnJlY3RseVxuXG52YXIgT3B0aW9uc0JveCA9IHN0eWxlZChCb3gpLndpdGhDb25maWcoe1xuICBkaXNwbGF5TmFtZTogXCJTZWxlY3RDb250YWluZXJfX09wdGlvbnNCb3hcIixcbiAgY29tcG9uZW50SWQ6IFwic2MtMXdpMHVsOC0wXCJcbn0pKFtcInBvc2l0aW9uOnJlbGF0aXZlO3Njcm9sbC1iZWhhdmlvcjpzbW9vdGg7XCJdKTtcbnZhciBPcHRpb25Cb3ggPSBzdHlsZWQoQm94KS53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiU2VsZWN0Q29udGFpbmVyX19PcHRpb25Cb3hcIixcbiAgY29tcG9uZW50SWQ6IFwic2MtMXdpMHVsOC0xXCJcbn0pKFtcIlwiLCBcIlwiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5zZWxlY3RlZCAmJiBzZWxlY3RlZFN0eWxlO1xufSk7XG5cbnZhciBTZWxlY3RDb250YWluZXIgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoU2VsZWN0Q29udGFpbmVyLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBTZWxlY3RDb250YWluZXIocHJvcHMpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfdGhpcyA9IF9Db21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcykgfHwgdGhpcztcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJvcHRpb25SZWZzXCIsIHt9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJzZWFyY2hSZWZcIiwgY3JlYXRlUmVmKCkpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIm9wdGlvbnNSZWZcIiwgY3JlYXRlUmVmKCkpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIm9uU2VhcmNoQ2hhbmdlXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBzZWFyY2g6IGV2ZW50LnRhcmdldC52YWx1ZSxcbiAgICAgICAgYWN0aXZlSW5kZXg6IC0xXG4gICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzZWFyY2ggPSBfdGhpcy5zdGF0ZS5zZWFyY2g7XG5cbiAgICAgICAgX3RoaXMub25TZWFyY2goc2VhcmNoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIm9uU2VhcmNoXCIsIGRlYm91bmNlKGZ1bmN0aW9uIChzZWFyY2gpIHtcbiAgICAgIHZhciBvblNlYXJjaCA9IF90aGlzLnByb3BzLm9uU2VhcmNoO1xuICAgICAgb25TZWFyY2goc2VhcmNoKTtcbiAgICB9LCBkZWJvdW5jZURlbGF5KF90aGlzLnByb3BzKSkpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcInNlbGVjdE9wdGlvblwiLCBmdW5jdGlvbiAob3B0aW9uKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMkcHJvcHMgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIG11bHRpcGxlID0gX3RoaXMkcHJvcHMubXVsdGlwbGUsXG4gICAgICAgICAgICBvbkNoYW5nZSA9IF90aGlzJHByb3BzLm9uQ2hhbmdlLFxuICAgICAgICAgICAgdmFsdWUgPSBfdGhpcyRwcm9wcy52YWx1ZSxcbiAgICAgICAgICAgIHNlbGVjdGVkID0gX3RoaXMkcHJvcHMuc2VsZWN0ZWQ7XG4gICAgICAgIHZhciBpbml0aWFsT3B0aW9ucyA9IF90aGlzLnN0YXRlLmluaXRpYWxPcHRpb25zO1xuXG4gICAgICAgIGlmIChvbkNoYW5nZSkge1xuICAgICAgICAgIHZhciBuZXh0VmFsdWUgPSBBcnJheS5pc0FycmF5KHZhbHVlKSA/IHZhbHVlLnNsaWNlKCkgOiBbXTsgLy8gcHJlc2VydmUgY29tcGF0aWJpbGl0eSB1bnRpbCBzZWxlY3RlZCBpcyBkZXByZWNhdGVkXG5cbiAgICAgICAgICBpZiAoc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgIG5leHRWYWx1ZSA9IHNlbGVjdGVkLm1hcChmdW5jdGlvbiAocykge1xuICAgICAgICAgICAgICByZXR1cm4gaW5pdGlhbE9wdGlvbnNbc107XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAobXVsdGlwbGUpIHtcbiAgICAgICAgICAgIGlmIChuZXh0VmFsdWUuaW5kZXhPZihvcHRpb24pICE9PSAtMSkge1xuICAgICAgICAgICAgICBuZXh0VmFsdWUgPSBuZXh0VmFsdWUuZmlsdGVyKGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHYgIT09IG9wdGlvbjtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBuZXh0VmFsdWUucHVzaChvcHRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXh0VmFsdWUgPSBvcHRpb247XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIG5leHRTZWxlY3RlZCA9IEFycmF5LmlzQXJyYXkobmV4dFZhbHVlKSA/IG5leHRWYWx1ZS5tYXAoZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICAgIHJldHVybiBpbml0aWFsT3B0aW9ucy5pbmRleE9mKHYpO1xuICAgICAgICAgIH0pIDogaW5pdGlhbE9wdGlvbnMuaW5kZXhPZihuZXh0VmFsdWUpO1xuICAgICAgICAgIG9uQ2hhbmdlKHtcbiAgICAgICAgICAgIG9wdGlvbjogb3B0aW9uLFxuICAgICAgICAgICAgdmFsdWU6IG5leHRWYWx1ZSxcbiAgICAgICAgICAgIHNlbGVjdGVkOiBuZXh0U2VsZWN0ZWRcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJjbGVhcktleWJvYXJkTmF2aWdhdGlvblwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBjbGVhclRpbWVvdXQoX3RoaXMua2V5Ym9hcmROYXZUaW1lcik7XG4gICAgICBfdGhpcy5rZXlib2FyZE5hdlRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBrZXlib2FyZE5hdmlnYXRpbmc6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgfSwgMTAwKTsgLy8gMTAwbXMgd2FzIGVtcGlyaWNhbGx5IGRldGVybWluZWRcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJvbk5leHRPcHRpb25cIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IF90aGlzLnByb3BzLm9wdGlvbnM7XG4gICAgICB2YXIgYWN0aXZlSW5kZXggPSBfdGhpcy5zdGF0ZS5hY3RpdmVJbmRleDtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB2YXIgbmV4dEFjdGl2ZUluZGV4ID0gYWN0aXZlSW5kZXggKyAxO1xuXG4gICAgICB3aGlsZSAobmV4dEFjdGl2ZUluZGV4IDwgb3B0aW9ucy5sZW5ndGggJiYgX3RoaXMuaXNEaXNhYmxlZChuZXh0QWN0aXZlSW5kZXgpKSB7XG4gICAgICAgIG5leHRBY3RpdmVJbmRleCArPSAxO1xuICAgICAgfVxuXG4gICAgICBpZiAobmV4dEFjdGl2ZUluZGV4ICE9PSBvcHRpb25zLmxlbmd0aCkge1xuICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgYWN0aXZlSW5kZXg6IG5leHRBY3RpdmVJbmRleCxcbiAgICAgICAgICBrZXlib2FyZE5hdmlnYXRpbmc6IHRydWVcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBidXR0b25Ob2RlID0gX3RoaXMub3B0aW9uUmVmc1tuZXh0QWN0aXZlSW5kZXhdO1xuICAgICAgICAgIHZhciBvcHRpb25zTm9kZSA9IF90aGlzLm9wdGlvbnNSZWYuY3VycmVudDtcblxuICAgICAgICAgIGlmIChidXR0b25Ob2RlICYmIGlzTm9kZUFmdGVyU2Nyb2xsKGJ1dHRvbk5vZGUsIG9wdGlvbnNOb2RlKSAmJiBvcHRpb25zTm9kZS5zY3JvbGxUbykge1xuICAgICAgICAgICAgb3B0aW9uc05vZGUuc2Nyb2xsVG8oMCwgYnV0dG9uTm9kZS5vZmZzZXRUb3AgLSAob3B0aW9uc05vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0IC0gYnV0dG9uTm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQpKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBfdGhpcy5jbGVhcktleWJvYXJkTmF2aWdhdGlvbigpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJvblByZXZpb3VzT3B0aW9uXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgdmFyIGFjdGl2ZUluZGV4ID0gX3RoaXMuc3RhdGUuYWN0aXZlSW5kZXg7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdmFyIG5leHRBY3RpdmVJbmRleCA9IGFjdGl2ZUluZGV4IC0gMTtcblxuICAgICAgd2hpbGUgKG5leHRBY3RpdmVJbmRleCA+PSAwICYmIF90aGlzLmlzRGlzYWJsZWQobmV4dEFjdGl2ZUluZGV4KSkge1xuICAgICAgICBuZXh0QWN0aXZlSW5kZXggLT0gMTtcbiAgICAgIH1cblxuICAgICAgaWYgKG5leHRBY3RpdmVJbmRleCA+PSAwKSB7XG4gICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBhY3RpdmVJbmRleDogbmV4dEFjdGl2ZUluZGV4LFxuICAgICAgICAgIGtleWJvYXJkTmF2aWdhdGluZzogdHJ1ZVxuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIGJ1dHRvbk5vZGUgPSBfdGhpcy5vcHRpb25SZWZzW25leHRBY3RpdmVJbmRleF07XG4gICAgICAgICAgdmFyIG9wdGlvbnNOb2RlID0gX3RoaXMub3B0aW9uc1JlZi5jdXJyZW50O1xuXG4gICAgICAgICAgaWYgKGJ1dHRvbk5vZGUgJiYgaXNOb2RlQmVmb3JlU2Nyb2xsKGJ1dHRvbk5vZGUsIG9wdGlvbnNOb2RlKSAmJiBvcHRpb25zTm9kZS5zY3JvbGxUbykge1xuICAgICAgICAgICAgb3B0aW9uc05vZGUuc2Nyb2xsVG8oMCwgYnV0dG9uTm9kZS5vZmZzZXRUb3ApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF90aGlzLmNsZWFyS2V5Ym9hcmROYXZpZ2F0aW9uKCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIm9uQWN0aXZlT3B0aW9uXCIsIGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGtleWJvYXJkTmF2aWdhdGluZyA9IF90aGlzLnN0YXRlLmtleWJvYXJkTmF2aWdhdGluZztcblxuICAgICAgICBpZiAoIWtleWJvYXJkTmF2aWdhdGluZykge1xuICAgICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGFjdGl2ZUluZGV4OiBpbmRleFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIm9uU2VsZWN0T3B0aW9uXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgdmFyIG9wdGlvbnMgPSBfdGhpcy5wcm9wcy5vcHRpb25zO1xuICAgICAgdmFyIGFjdGl2ZUluZGV4ID0gX3RoaXMuc3RhdGUuYWN0aXZlSW5kZXg7XG5cbiAgICAgIGlmIChhY3RpdmVJbmRleCA+PSAwKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7IC8vIHByZXZlbnQgc3VibWl0dGluZyBmb3Jtc1xuXG4gICAgICAgIF90aGlzLnNlbGVjdE9wdGlvbihvcHRpb25zW2FjdGl2ZUluZGV4XSkoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJvcHRpb25MYWJlbFwiLCBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczIgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBvcHRpb25zID0gX3RoaXMkcHJvcHMyLm9wdGlvbnMsXG4gICAgICAgICAgbGFiZWxLZXkgPSBfdGhpcyRwcm9wczIubGFiZWxLZXk7XG4gICAgICB2YXIgb3B0aW9uID0gb3B0aW9uc1tpbmRleF07XG4gICAgICB2YXIgb3B0aW9uTGFiZWw7XG5cbiAgICAgIGlmIChsYWJlbEtleSkge1xuICAgICAgICBpZiAodHlwZW9mIGxhYmVsS2V5ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgb3B0aW9uTGFiZWwgPSBsYWJlbEtleShvcHRpb24pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9wdGlvbkxhYmVsID0gb3B0aW9uW2xhYmVsS2V5XTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3B0aW9uTGFiZWwgPSBvcHRpb247XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvcHRpb25MYWJlbDtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJvcHRpb25WYWx1ZVwiLCBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczMgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBvcHRpb25zID0gX3RoaXMkcHJvcHMzLm9wdGlvbnMsXG4gICAgICAgICAgdmFsdWVLZXkgPSBfdGhpcyRwcm9wczMudmFsdWVLZXk7XG4gICAgICB2YXIgb3B0aW9uID0gb3B0aW9uc1tpbmRleF07XG4gICAgICB2YXIgb3B0aW9uVmFsdWU7XG5cbiAgICAgIGlmICh2YWx1ZUtleSkge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlS2V5ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgb3B0aW9uVmFsdWUgPSB2YWx1ZUtleShvcHRpb24pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9wdGlvblZhbHVlID0gb3B0aW9uW3ZhbHVlS2V5XTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3B0aW9uVmFsdWUgPSBvcHRpb247XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvcHRpb25WYWx1ZTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJpc0Rpc2FibGVkXCIsIGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzNCA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIGRpc2FibGVkID0gX3RoaXMkcHJvcHM0LmRpc2FibGVkLFxuICAgICAgICAgIGRpc2FibGVkS2V5ID0gX3RoaXMkcHJvcHM0LmRpc2FibGVkS2V5LFxuICAgICAgICAgIG9wdGlvbnMgPSBfdGhpcyRwcm9wczQub3B0aW9ucztcbiAgICAgIHZhciBvcHRpb24gPSBvcHRpb25zW2luZGV4XTtcbiAgICAgIHZhciByZXN1bHQ7XG5cbiAgICAgIGlmIChkaXNhYmxlZEtleSkge1xuICAgICAgICBpZiAodHlwZW9mIGRpc2FibGVkS2V5ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgcmVzdWx0ID0gZGlzYWJsZWRLZXkob3B0aW9uLCBpbmRleCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzdWx0ID0gb3B0aW9uW2Rpc2FibGVkS2V5XTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGRpc2FibGVkKSkge1xuICAgICAgICBpZiAodHlwZW9mIGRpc2FibGVkWzBdID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIHJlc3VsdCA9IGRpc2FibGVkLmluZGV4T2YoaW5kZXgpICE9PSAtMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgb3B0aW9uVmFsdWUgPSBfdGhpcy5vcHRpb25WYWx1ZShpbmRleCk7XG5cbiAgICAgICAgICByZXN1bHQgPSBkaXNhYmxlZC5pbmRleE9mKG9wdGlvblZhbHVlKSAhPT0gLTE7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJpc1NlbGVjdGVkXCIsIGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzNSA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIHNlbGVjdGVkID0gX3RoaXMkcHJvcHM1LnNlbGVjdGVkLFxuICAgICAgICAgIHZhbHVlID0gX3RoaXMkcHJvcHM1LnZhbHVlLFxuICAgICAgICAgIHZhbHVlS2V5ID0gX3RoaXMkcHJvcHM1LnZhbHVlS2V5O1xuICAgICAgdmFyIHJlc3VsdDtcblxuICAgICAgaWYgKHNlbGVjdGVkKSB7XG4gICAgICAgIC8vIGRlcHJlY2F0ZWQgaW4gZmF2b3Igb2YgdmFsdWVcbiAgICAgICAgcmVzdWx0ID0gc2VsZWN0ZWQuaW5kZXhPZihpbmRleCkgIT09IC0xO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIG9wdGlvblZhbHVlID0gX3RoaXMub3B0aW9uVmFsdWUoaW5kZXgpO1xuXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlWzBdICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgcmVzdWx0ID0gdmFsdWUuaW5kZXhPZihvcHRpb25WYWx1ZSkgIT09IC0xO1xuICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWVLZXkpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHZhbHVlLnNvbWUoZnVuY3Rpb24gKHZhbHVlSXRlbSkge1xuICAgICAgICAgICAgICB2YXIgdmFsdWVWYWx1ZSA9IHR5cGVvZiB2YWx1ZUtleSA9PT0gJ2Z1bmN0aW9uJyA/IHZhbHVlS2V5KHZhbHVlSXRlbSkgOiB2YWx1ZUl0ZW1bdmFsdWVLZXldO1xuICAgICAgICAgICAgICByZXR1cm4gdmFsdWVWYWx1ZSA9PT0gb3B0aW9uVmFsdWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodmFsdWVLZXkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgIHZhciB2YWx1ZVZhbHVlID0gdHlwZW9mIHZhbHVlS2V5ID09PSAnZnVuY3Rpb24nID8gdmFsdWVLZXkodmFsdWUpIDogdmFsdWVbdmFsdWVLZXldO1xuICAgICAgICAgIHJlc3VsdCA9IHZhbHVlVmFsdWUgPT09IG9wdGlvblZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc3VsdCA9IHZhbHVlID09PSBvcHRpb25WYWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBpbml0aWFsT3B0aW9uczogcHJvcHMub3B0aW9ucyxcbiAgICAgIHNlYXJjaDogJycsXG4gICAgICBhY3RpdmVJbmRleDogLTFcbiAgICB9O1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIFNlbGVjdENvbnRhaW5lci5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPSBmdW5jdGlvbiBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMobmV4dFByb3BzLCBwcmV2U3RhdGUpIHtcbiAgICB2YXIgb3B0aW9ucyA9IG5leHRQcm9wcy5vcHRpb25zLFxuICAgICAgICB2YWx1ZSA9IG5leHRQcm9wcy52YWx1ZSxcbiAgICAgICAgb25TZWFyY2ggPSBuZXh0UHJvcHMub25TZWFyY2g7XG5cbiAgICBpZiAob25TZWFyY2gpIHtcbiAgICAgIGlmIChwcmV2U3RhdGUuYWN0aXZlSW5kZXggPT09IC0xICYmIHByZXZTdGF0ZS5zZWFyY2ggPT09ICcnICYmIG9wdGlvbnMgJiYgdmFsdWUpIHtcbiAgICAgICAgdmFyIG9wdGlvblZhbHVlID0gQXJyYXkuaXNBcnJheSh2YWx1ZSkgJiYgdmFsdWUubGVuZ3RoID8gdmFsdWVbMF0gOiB2YWx1ZTtcbiAgICAgICAgdmFyIGFjdGl2ZUluZGV4ID0gb3B0aW9ucy5pbmRleE9mKG9wdGlvblZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBhY3RpdmVJbmRleDogYWN0aXZlSW5kZXhcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgaWYgKHByZXZTdGF0ZS5hY3RpdmVJbmRleCA9PT0gLTEgJiYgcHJldlN0YXRlLnNlYXJjaCAhPT0gJycpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBhY3RpdmVJbmRleDogMFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIHZhciBfcHJvdG8gPSBTZWxlY3RDb250YWluZXIucHJvdG90eXBlO1xuXG4gIF9wcm90by5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgdmFyIG9uU2VhcmNoID0gdGhpcy5wcm9wcy5vblNlYXJjaDtcbiAgICB2YXIgYWN0aXZlSW5kZXggPSB0aGlzLnN0YXRlLmFjdGl2ZUluZGV4OyAvLyB0aW1lb3V0IG5lZWQgdG8gc2VuZCB0aGUgb3BlcmF0aW9uIHRocm91Z2ggZXZlbnQgbG9vcCBhbmQgYWxsb3dcbiAgICAvLyB0aW1lIHRvIHRoZSBwb3J0YWwgdG8gYmUgYXZhaWxhYmxlXG5cbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBvcHRpb25zTm9kZSA9IF90aGlzMi5vcHRpb25zUmVmLmN1cnJlbnQ7XG5cbiAgICAgIGlmIChvblNlYXJjaCkge1xuICAgICAgICB2YXIgaW5wdXQgPSBfdGhpczIuc2VhcmNoUmVmLmN1cnJlbnQ7XG5cbiAgICAgICAgaWYgKGlucHV0ICYmIGlucHV0LmZvY3VzKSB7XG4gICAgICAgICAgc2V0Rm9jdXNXaXRob3V0U2Nyb2xsKGlucHV0KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChvcHRpb25zTm9kZSkge1xuICAgICAgICBzZXRGb2N1c1dpdGhvdXRTY3JvbGwob3B0aW9uc05vZGUpO1xuICAgICAgfSAvLyBzY3JvbGwgdG8gYWN0aXZlIG9wdGlvbiBpZiBpdCBpcyBiZWxvdyB0aGUgZm9sZFxuXG5cbiAgICAgIGlmIChhY3RpdmVJbmRleCA+PSAwICYmIG9wdGlvbnNOb2RlKSB7XG4gICAgICAgIHZhciBvcHRpb25Ob2RlID0gX3RoaXMyLm9wdGlvblJlZnNbYWN0aXZlSW5kZXhdO1xuXG4gICAgICAgIHZhciBfb3B0aW9uc05vZGUkZ2V0Qm91bmQgPSBvcHRpb25zTm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgICAgICAgIGNvbnRhaW5lckJvdHRvbSA9IF9vcHRpb25zTm9kZSRnZXRCb3VuZC5ib3R0b207XG5cbiAgICAgICAgaWYgKG9wdGlvbk5vZGUpIHtcbiAgICAgICAgICB2YXIgX29wdGlvbk5vZGUkZ2V0Qm91bmRpID0gb3B0aW9uTm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgICAgICAgICAgb3B0aW9uVG9wID0gX29wdGlvbk5vZGUkZ2V0Qm91bmRpLmJvdHRvbTtcblxuICAgICAgICAgIGlmIChjb250YWluZXJCb3R0b20gPCBvcHRpb25Ub3ApIHtcbiAgICAgICAgICAgIG9wdGlvbk5vZGUuc2Nyb2xsSW50b1ZpZXcoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCAwKTtcbiAgfTtcblxuICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgdmFyIF90aGlzJHByb3BzNiA9IHRoaXMucHJvcHMsXG4gICAgICAgIGNoaWxkcmVuID0gX3RoaXMkcHJvcHM2LmNoaWxkcmVuLFxuICAgICAgICBkcm9wSGVpZ2h0ID0gX3RoaXMkcHJvcHM2LmRyb3BIZWlnaHQsXG4gICAgICAgIGVtcHR5U2VhcmNoTWVzc2FnZSA9IF90aGlzJHByb3BzNi5lbXB0eVNlYXJjaE1lc3NhZ2UsXG4gICAgICAgIGlkID0gX3RoaXMkcHJvcHM2LmlkLFxuICAgICAgICBvbk1vcmUgPSBfdGhpcyRwcm9wczYub25Nb3JlLFxuICAgICAgICBvbktleURvd24gPSBfdGhpcyRwcm9wczYub25LZXlEb3duLFxuICAgICAgICBvblNlYXJjaCA9IF90aGlzJHByb3BzNi5vblNlYXJjaCxcbiAgICAgICAgb3B0aW9ucyA9IF90aGlzJHByb3BzNi5vcHRpb25zLFxuICAgICAgICBzZWFyY2hQbGFjZWhvbGRlciA9IF90aGlzJHByb3BzNi5zZWFyY2hQbGFjZWhvbGRlcixcbiAgICAgICAgdGhlbWUgPSBfdGhpcyRwcm9wczYudGhlbWUsXG4gICAgICAgIHJlcGxhY2UgPSBfdGhpcyRwcm9wczYucmVwbGFjZTtcbiAgICB2YXIgX3RoaXMkc3RhdGUgPSB0aGlzLnN0YXRlLFxuICAgICAgICBhY3RpdmVJbmRleCA9IF90aGlzJHN0YXRlLmFjdGl2ZUluZGV4LFxuICAgICAgICBzZWFyY2ggPSBfdGhpcyRzdGF0ZS5zZWFyY2g7XG4gICAgdmFyIGN1c3RvbVNlYXJjaElucHV0ID0gdGhlbWUuc2VsZWN0LnNlYXJjaElucHV0O1xuICAgIHZhciBTZWxlY3RUZXh0SW5wdXQgPSBjdXN0b21TZWFyY2hJbnB1dCB8fCBUZXh0SW5wdXQ7XG5cbiAgICB2YXIgc2VsZWN0T3B0aW9uc1N0eWxlID0gX2V4dGVuZHMoe30sIHRoZW1lLnNlbGVjdC5vcHRpb25zLmJveCwge30sIHRoZW1lLnNlbGVjdC5vcHRpb25zLmNvbnRhaW5lcik7XG5cbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChLZXlib2FyZCwge1xuICAgICAgb25FbnRlcjogdGhpcy5vblNlbGVjdE9wdGlvbixcbiAgICAgIG9uVXA6IHRoaXMub25QcmV2aW91c09wdGlvbixcbiAgICAgIG9uRG93bjogdGhpcy5vbk5leHRPcHRpb24sXG4gICAgICBvbktleURvd246IG9uS2V5RG93blxuICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkQ29udGFpbmVyLCB7XG4gICAgICBhczogQm94LFxuICAgICAgaWQ6IGlkID8gaWQgKyBcIl9fc2VsZWN0LWRyb3BcIiA6IHVuZGVmaW5lZCxcbiAgICAgIGRyb3BIZWlnaHQ6IGRyb3BIZWlnaHRcbiAgICB9LCBvblNlYXJjaCAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwge1xuICAgICAgcGFkOiAhY3VzdG9tU2VhcmNoSW5wdXQgPyAneHNtYWxsJyA6IHVuZGVmaW5lZCxcbiAgICAgIGZsZXg6IGZhbHNlXG4gICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChTZWxlY3RUZXh0SW5wdXQsIHtcbiAgICAgIGZvY3VzSW5kaWNhdG9yOiAhY3VzdG9tU2VhcmNoSW5wdXQsXG4gICAgICBzaXplOiBcInNtYWxsXCIsXG4gICAgICByZWY6IHRoaXMuc2VhcmNoUmVmLFxuICAgICAgdHlwZTogXCJzZWFyY2hcIixcbiAgICAgIHZhbHVlOiBzZWFyY2gsXG4gICAgICBwbGFjZWhvbGRlcjogc2VhcmNoUGxhY2Vob2xkZXIsXG4gICAgICBvbkNoYW5nZTogdGhpcy5vblNlYXJjaENoYW5nZVxuICAgIH0pKSwgUmVhY3QuY3JlYXRlRWxlbWVudChPcHRpb25zQm94LCB7XG4gICAgICBmbGV4OiBcInNocmlua1wiLFxuICAgICAgcm9sZTogXCJtZW51YmFyXCIsXG4gICAgICB0YWJJbmRleDogXCItMVwiLFxuICAgICAgcmVmOiB0aGlzLm9wdGlvbnNSZWYsXG4gICAgICBvdmVyZmxvdzogXCJhdXRvXCJcbiAgICB9LCBvcHRpb25zLmxlbmd0aCA+IDAgPyBSZWFjdC5jcmVhdGVFbGVtZW50KEluZmluaXRlU2Nyb2xsLCB7XG4gICAgICBpdGVtczogb3B0aW9ucyxcbiAgICAgIHN0ZXA6IHRoZW1lLnNlbGVjdC5zdGVwLFxuICAgICAgb25Nb3JlOiBvbk1vcmUsXG4gICAgICByZXBsYWNlOiByZXBsYWNlXG4gICAgfSwgZnVuY3Rpb24gKG9wdGlvbiwgaW5kZXgpIHtcbiAgICAgIHZhciBpc0Rpc2FibGVkID0gX3RoaXMzLmlzRGlzYWJsZWQoaW5kZXgpO1xuXG4gICAgICB2YXIgaXNTZWxlY3RlZCA9IF90aGlzMy5pc1NlbGVjdGVkKGluZGV4KTtcblxuICAgICAgdmFyIGlzQWN0aXZlID0gYWN0aXZlSW5kZXggPT09IGluZGV4O1xuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU2VsZWN0T3B0aW9uIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC9uby1hcnJheS1pbmRleC1rZXlcbiAgICAgICwge1xuICAgICAgICBrZXk6IGluZGV4LFxuICAgICAgICByZWY6IGZ1bmN0aW9uIHJlZihfcmVmKSB7XG4gICAgICAgICAgX3RoaXMzLm9wdGlvblJlZnNbaW5kZXhdID0gX3JlZjtcbiAgICAgICAgfSxcbiAgICAgICAgZGlzYWJsZWQ6IGlzRGlzYWJsZWQgfHwgdW5kZWZpbmVkLFxuICAgICAgICBhY3RpdmU6IGlzQWN0aXZlLFxuICAgICAgICBzZWxlY3RlZDogaXNTZWxlY3RlZCxcbiAgICAgICAgb3B0aW9uOiBvcHRpb24sXG4gICAgICAgIG9uTW91c2VPdmVyOiAhaXNEaXNhYmxlZCA/IF90aGlzMy5vbkFjdGl2ZU9wdGlvbihpbmRleCkgOiB1bmRlZmluZWQsXG4gICAgICAgIG9uQ2xpY2s6ICFpc0Rpc2FibGVkID8gX3RoaXMzLnNlbGVjdE9wdGlvbihvcHRpb24pIDogdW5kZWZpbmVkXG4gICAgICB9LCBjaGlsZHJlbiA/IGNoaWxkcmVuKG9wdGlvbiwgaW5kZXgsIG9wdGlvbnMsIHtcbiAgICAgICAgYWN0aXZlOiBpc0FjdGl2ZSxcbiAgICAgICAgZGlzYWJsZWQ6IGlzRGlzYWJsZWQsXG4gICAgICAgIHNlbGVjdGVkOiBpc1NlbGVjdGVkXG4gICAgICB9KSA6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoT3B0aW9uQm94LCBfZXh0ZW5kcyh7fSwgc2VsZWN0T3B0aW9uc1N0eWxlLCB7XG4gICAgICAgIHNlbGVjdGVkOiBpc1NlbGVjdGVkXG4gICAgICB9KSwgUmVhY3QuY3JlYXRlRWxlbWVudChUZXh0LCB0aGVtZS5zZWxlY3Qub3B0aW9ucy50ZXh0LCBfdGhpczMub3B0aW9uTGFiZWwoaW5kZXgpKSkpO1xuICAgIH0pIDogUmVhY3QuY3JlYXRlRWxlbWVudChTZWxlY3RPcHRpb24sIHtcbiAgICAgIGtleTogXCJzZWFyY2hfZW1wdHlcIixcbiAgICAgIGRpc2FibGVkOiB0cnVlLFxuICAgICAgb3B0aW9uOiBlbXB0eVNlYXJjaE1lc3NhZ2VcbiAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KE9wdGlvbkJveCwgc2VsZWN0T3B0aW9uc1N0eWxlLCBSZWFjdC5jcmVhdGVFbGVtZW50KFRleHQsIHRoZW1lLnNlbGVjdC5jb250YWluZXIudGV4dCwgZW1wdHlTZWFyY2hNZXNzYWdlKSkpKSkpO1xuICB9O1xuXG4gIHJldHVybiBTZWxlY3RDb250YWluZXI7XG59KENvbXBvbmVudCk7XG5cbl9kZWZpbmVQcm9wZXJ0eShTZWxlY3RDb250YWluZXIsIFwiZGVmYXVsdFByb3BzXCIsIHtcbiAgY2hpbGRyZW46IG51bGwsXG4gIGRpc2FibGVkOiB1bmRlZmluZWQsXG4gIGVtcHR5U2VhcmNoTWVzc2FnZTogJ05vIG1hdGNoZXMgZm91bmQnLFxuICBpZDogdW5kZWZpbmVkLFxuICBtdWx0aXBsZTogZmFsc2UsXG4gIG5hbWU6IHVuZGVmaW5lZCxcbiAgb25LZXlEb3duOiB1bmRlZmluZWQsXG4gIG9uU2VhcmNoOiB1bmRlZmluZWQsXG4gIG9wdGlvbnM6IHVuZGVmaW5lZCxcbiAgc2VhcmNoUGxhY2Vob2xkZXI6IHVuZGVmaW5lZCxcbiAgc2VsZWN0ZWQ6IHVuZGVmaW5lZCxcbiAgdmFsdWU6ICcnLFxuICByZXBsYWNlOiB0cnVlXG59KTtcblxuT2JqZWN0LnNldFByb3RvdHlwZU9mKFNlbGVjdENvbnRhaW5lci5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG52YXIgU2VsZWN0Q29udGFpbmVyV3JhcHBlciA9IHdpdGhUaGVtZShTZWxlY3RDb250YWluZXIpO1xuZXhwb3J0IHsgU2VsZWN0Q29udGFpbmVyV3JhcHBlciBhcyBTZWxlY3RDb250YWluZXIgfTsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBCb3ggfSBmcm9tICcuLi9Cb3gnO1xuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnLi4vQnV0dG9uJztcbmltcG9ydCB7IHdpdGhGb3J3YXJkUmVmIH0gZnJvbSAnLi4vaG9jcyc7XG5cbmZ1bmN0aW9uIGFyZUVxdWFsKHByZXZQcm9wcywgbmV4dFByb3BzKSB7XG4gIHZhciBhY3RpdmUgPSBwcmV2UHJvcHMuYWN0aXZlLFxuICAgICAgZGlzYWJsZWQgPSBwcmV2UHJvcHMuZGlzYWJsZWQsXG4gICAgICBvcHRpb24gPSBwcmV2UHJvcHMub3B0aW9uLFxuICAgICAgc2VsZWN0ZWQgPSBwcmV2UHJvcHMuc2VsZWN0ZWQ7XG4gIHZhciBuZXh0QWN0aXZlID0gbmV4dFByb3BzLmFjdGl2ZSxcbiAgICAgIG5leHREaXNhYmxlZCA9IG5leHRQcm9wcy5kaXNhYmxlZCxcbiAgICAgIG5leHRPcHRpb24gPSBuZXh0UHJvcHMub3B0aW9uLFxuICAgICAgbmV4dFNlbGVjdGVkID0gbmV4dFByb3BzLnNlbGVjdGVkO1xuICByZXR1cm4gYWN0aXZlID09PSBuZXh0QWN0aXZlICYmIHNlbGVjdGVkID09PSBuZXh0U2VsZWN0ZWQgJiYgZGlzYWJsZWQgPT09IG5leHREaXNhYmxlZCAmJiBvcHRpb24gPT09IG5leHRPcHRpb247XG59XG5cbnZhciBTZWxlY3RPcHRpb24gPSBSZWFjdC5tZW1vKGZ1bmN0aW9uIChfcmVmKSB7XG4gIHZhciBmb3J3YXJkUmVmID0gX3JlZi5mb3J3YXJkUmVmLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9yZWYsIFtcImZvcndhcmRSZWZcIl0pO1xuXG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwge1xuICAgIGZsZXg6IGZhbHNlXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCBfZXh0ZW5kcyh7XG4gICAgdGFiSW5kZXg6IFwiLTFcIixcbiAgICByZWY6IGZvcndhcmRSZWYsXG4gICAgcm9sZTogXCJtZW51aXRlbVwiLFxuICAgIGhvdmVySW5kaWNhdG9yOiBcImJhY2tncm91bmRcIlxuICB9LCByZXN0KSkpO1xufSwgYXJlRXF1YWwpO1xudmFyIFNlbGVjdE9wdGlvbldyYXBwZXIgPSB3aXRoRm9yd2FyZFJlZihTZWxlY3RPcHRpb24pO1xuZXhwb3J0IHsgU2VsZWN0T3B0aW9uV3JhcHBlciBhcyBTZWxlY3RPcHRpb24gfTsiLCJpbXBvcnQgc3R5bGVkIGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCB7IHNpemVTdHlsZSB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmV4cG9ydCB2YXIgU3R5bGVkQ29udGFpbmVyID0gc3R5bGVkLmRpdi53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiU3R5bGVkU2VsZWN0X19TdHlsZWRDb250YWluZXJcIixcbiAgY29tcG9uZW50SWQ6IFwiem5wNjZuLTBcIlxufSkoW1wiQG1lZGlhIHNjcmVlbiBhbmQgKC1tcy1oaWdoLWNvbnRyYXN0OmFjdGl2ZSksKC1tcy1oaWdoLWNvbnRyYXN0Om5vbmUpe3dpZHRoOjEwMCU7fVwiLCBcIjtcIiwgXCI7XCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLmRyb3BIZWlnaHQgPyBzaXplU3R5bGUoJ21heC1oZWlnaHQnLCBwcm9wcy5kcm9wSGVpZ2h0LCBwcm9wcy50aGVtZSkgOiAnbWF4LWhlaWdodDogaW5oZXJpdDsnO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5zZWxlY3QuY29udGFpbmVyICYmIHByb3BzLnRoZW1lLnNlbGVjdC5jb250YWluZXIuZXh0ZW5kO1xufSk7IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuaW1wb3J0IHsgZGVzY3JpYmUsIFByb3BUeXBlcyB9IGZyb20gJ3JlYWN0LWRlc2MnO1xuaW1wb3J0IHsgZ2VuZXJpY1Byb3BzLCBnZXRBdmFpbGFibGVBdEJhZGdlIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuZXhwb3J0IHZhciBkb2MgPSBmdW5jdGlvbiBkb2MoU2VsZWN0KSB7XG4gIHZhciBEb2N1bWVudGVkU2VsZWN0ID0gZGVzY3JpYmUoU2VsZWN0KS5hdmFpbGFibGVBdChnZXRBdmFpbGFibGVBdEJhZGdlKCdTZWxlY3QnKSkuZGVzY3JpcHRpb24oJ0EgY29udHJvbCB0byBzZWxlY3QgYSB2YWx1ZSwgd2l0aCBvcHRpb25hbCBzZWFyY2guJykudXNhZ2UoXCJpbXBvcnQgeyBTZWxlY3QgfSBmcm9tICdncm9tbWV0JztcXG48U2VsZWN0IC8+XCIpOyAvLyBXZSBkb24ndCBpbmNsdWRlIHN2ZyBkdWUgdG8gYSBjb2xsaXNpb24gb24gdGhlIHZhbHVlcyBwcm9wZXJ0eVxuICAvLyAuaW50cmluc2ljRWxlbWVudCgnc2VsZWN0Jyk7XG5cbiAgRG9jdW1lbnRlZFNlbGVjdC5wcm9wVHlwZXMgPSBfZXh0ZW5kcyh7fSwgZ2VuZXJpY1Byb3BzLCB7XG4gICAgY2hpbGRyZW46IFByb3BUeXBlcy5mdW5jLmRlc2NyaXB0aW9uKFwiRnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCB3aGVuIGVhY2ggb3B0aW9uIGlzIHJlbmRlcmVkLlxcbiAgICAgIEl0IHdpbGwgYmUgcGFzc2VkIChvcHRpb24sIGluZGV4LCBvcHRpb25zLCBzdGF0ZSkgd2hlcmUgb3B0aW9uXFxuICAgICAgaXMgdGhlIG9wdGlvbiB0byByZW5kZXIsIGluZGV4IGlzIHRoZSBpbmRleCBvZiB0aGF0IG9wdGlvbiBpbiB0aGVcXG4gICAgICBvcHRpb25zIGFycmF5LCBhbmQgc3RhdGUgaXMgYW4gb2JqZWN0IHdpdGhcXG4gICAgICB7IGFjdGl2ZSwgZGlzYWJsZWQsIHNlbGVjdGVkIH0ga2V5cyBpbmRpY2F0aW5nIHRoZSBjdXJyZW50IHN0YXRlXFxuICAgICAgb2YgdGhlIG9wdGlvbi5cIiksXG4gICAgY2xvc2VPbkNoYW5nZTogUHJvcFR5cGVzLmJvb2wuZGVzY3JpcHRpb24oJ1dldGhlciB0byBjbG9zZSB0aGUgZHJvcCB3aGVuIGEgc2VsZWN0aW9uIGlzIG1hZGUuJykuZGVmYXVsdFZhbHVlKHRydWUpLFxuICAgIGRpc2FibGVkOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuYm9vbCwgUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm51bWJlciwgUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLm9iamVjdF0pKV0pLmRlc2NyaXB0aW9uKFwiV2hldGhlciB0aGUgZW50aXJlIHNlbGVjdCBvciBpbmRpdmlkdWFsIG9wdGlvbnMgc2hvdWxkIGJlIGRpc2FibGVkLlxcbiAgICAgICAgQW4gYXJyYXkgb2YgbnVtYmVycyBpbmRpY2F0ZXMgdGhlIGluZGV4ZXMgaW50byAnb3B0aW9ucycgb2YgdGhlXFxuICAgICAgICBkaXNhYmxlZCBvcHRpb25zLiBBbiBhcnJheSBvZiBzdHJpbmdzIG9yIG9iamVjdHMgd29yayB0aGUgc2FtZSB3YXlcXG4gICAgICAgIGFzIHRoZSAndmFsdWUnIHRvIGluZGljYXRlIHdoaWNoIG9wdGlvbnMgYXJlIGRpc2FibGVkLlwiKS5kZWZhdWx0VmFsdWUoZmFsc2UpLFxuICAgIGRpc2FibGVkS2V5OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMuZnVuY10pLmRlc2NyaXB0aW9uKFwiV2hlbiB0aGUgb3B0aW9ucyBhcnJheSBjb250YWlucyBvYmplY3RzLCB0aGlzIHByb3BlcnR5IGluZGljYXRlcyBob3dcXG4gICAgICB0byBkZXRlcm1pbmUgd2hpY2ggb3B0aW9ucyBzaG91bGQgYmUgZGlzYWJsZWQuIElmIGEgc3RyaW5nIGlzXFxuICAgICAgcHJvdmlkZWQsIGl0IGlzIHVzZWQgYXMgdGhlIGtleSBmb3IgZWFjaCBpdGVtIG9iamVjdCBhbmQgaWYgdGhhdCBrZXlcXG4gICAgICByZXR1cm5zIHRydXRoeSwgdGhlIG9wdGlvbiBpcyBkaXNhYmxlZC4gSWYgYSBmdW5jdGlvbiBpcyBwcm92aWRlZCwgaXQgaXNcXG4gICAgICBjYWxsZWQgd2l0aCB0aGUgb3B0aW9uIGFuZCB0aGUgcmV0dXJuIHZhbHVlIGRldGVybWluZXMgaWYgdGhlIG9wdGlvblxcbiAgICAgIGlzIGRpc2FibGVkLlwiKSxcbiAgICBkcm9wQWxpZ246IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICB0b3A6IFByb3BUeXBlcy5vbmVPZihbJ3RvcCcsICdib3R0b20nXSksXG4gICAgICBib3R0b206IFByb3BUeXBlcy5vbmVPZihbJ3RvcCcsICdib3R0b20nXSksXG4gICAgICByaWdodDogUHJvcFR5cGVzLm9uZU9mKFsnbGVmdCcsICdyaWdodCddKSxcbiAgICAgIGxlZnQ6IFByb3BUeXBlcy5vbmVPZihbJ2xlZnQnLCAncmlnaHQnXSlcbiAgICB9KS5kZXNjcmlwdGlvbignSG93IHRvIGFsaWduIHRoZSBkcm9wLicpLmRlZmF1bHRWYWx1ZSh7XG4gICAgICB0b3A6ICdib3R0b20nLFxuICAgICAgbGVmdDogJ2xlZnQnXG4gICAgfSksXG4gICAgZHJvcEhlaWdodDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFsneHNtYWxsJywgJ3NtYWxsJywgJ21lZGl1bScsICdsYXJnZScsICd4bGFyZ2UnXSksIFByb3BUeXBlcy5zdHJpbmddKS5kZXNjcmlwdGlvbignVGhlIGhlaWdodCBvZiB0aGUgZHJvcCBjb250YWluZXIuJyksXG4gICAgZHJvcFRhcmdldDogUHJvcFR5cGVzLm9iamVjdC5kZXNjcmlwdGlvbihcIlRhcmdldCB3aGVyZSB0aGUgb3B0aW9ucyBkcm9wIHdpbGwgYmUgYWxpZ25lZCB0by4gVGhpcyBzaG91bGQgYmVcXG4gICAgICBhIFJlYWN0IHJlZmVyZW5jZS4gVHlwaWNhbGx5LCB0aGlzIGlzIG5vdCByZXF1aXJlZCBhcyB0aGUgZHJvcCB3aWxsIGJlXFxuICAgICAgYWxpZ25lZCB0byB0aGUgU2VsZWN0IGl0c2VsZiBieSBkZWZhdWx0LlwiKSxcbiAgICBkcm9wUHJvcHM6IFByb3BUeXBlcy5vYmplY3QuZGVzY3JpcHRpb24oJ0FueSB2YWxpZCBEcm9wIHByb3AuJyksXG4gICAgZm9jdXNJbmRpY2F0b3I6IFByb3BUeXBlcy5ib29sLmRlc2NyaXB0aW9uKFwiV2hldGhlciB3aGVuICdwbGFpbicgaXQgc2hvdWxkIHJlY2VpdmUgYSBmb2N1cyBvdXRsaW5lLlwiKSxcbiAgICBpY29uOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuYm9vbCwgUHJvcFR5cGVzLmZ1bmMsIFByb3BUeXBlcy5ub2RlXSkuZGVzY3JpcHRpb24oXCJBIGN1c3RvbSBpY29uIHRvIGJlIHVzZWQgd2hlbiByZW5kZXJpbmcgdGhlIHNlbGVjdC4gWW91IGNhbiB1c2UgZmFsc2UgdG9cXG4gICAgICAgbm90IHJlbmRlciBhbiBpY29uIGF0IGFsbC5cIiksXG4gICAgbGFiZWxLZXk6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5mdW5jXSkuZGVzY3JpcHRpb24oXCJXaGVuIHRoZSBvcHRpb25zIGFycmF5IGNvbnRhaW5zIG9iamVjdHMsIHRoaXMgcHJvcGVydHkgaW5kaWNhdGVzIGhvd1xcbiAgICAgIHRvIGRldGVybWluZSB0aGUgbGFiZWwgb2YgZWFjaCBvcHRpb24uIElmIGEgc3RyaW5nIGlzXFxuICAgICAgcHJvdmlkZWQsIGl0IGlzIHVzZWQgYXMgdGhlIGtleSB0byByZXRyaWV2ZSBlYWNoIG9wdGlvbidzIGxhYmVsLlxcbiAgICAgIElmIGEgZnVuY3Rpb24gaXMgcHJvdmlkZWQsIGl0IGlzIGNhbGxlZCB3aXRoIHRoZSBvcHRpb24gYW5kIHRoZVxcbiAgICAgIHJldHVybiB2YWx1ZSBpbmRpY2F0ZXMgdGhlIGxhYmVsLlwiKSxcbiAgICBtZXNzYWdlczogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgIG11bHRpcGxlOiBQcm9wVHlwZXMuc3RyaW5nXG4gICAgfSkuZGVzY3JpcHRpb24oJ0N1c3RvbSBtZXNzYWdlcy4nKSxcbiAgICBtdWx0aXBsZTogUHJvcFR5cGVzLmJvb2wuZGVzY3JpcHRpb24oJ1doZXRoZXIgdG8gYWxsb3cgbXVsdGlwbGUgb3B0aW9ucyB0byBiZSBzZWxlY3RlZC4nKSxcbiAgICBvbkNoYW5nZTogUHJvcFR5cGVzLmZ1bmMuZGVzY3JpcHRpb24oJ0Z1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgdXNlciBzZWxlY3RzIGFuIG9wdGlvbi4nKSxcbiAgICBvbkNsb3NlOiBQcm9wVHlwZXMuZnVuYy5kZXNjcmlwdGlvbignRnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCB3aGVuIHRoZSBTZWxlY3QgZHJvcCBjbG9zZXMuJyksXG4gICAgb25PcGVuOiBQcm9wVHlwZXMuZnVuYy5kZXNjcmlwdGlvbignRnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCB3aGVuIHRoZSBTZWxlY3QgZHJvcCBvcGVucy4nKSxcbiAgICBvblNlYXJjaDogUHJvcFR5cGVzLmZ1bmMuZGVzY3JpcHRpb24oXCJGdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIHVzZXIgdHlwZXMgaW4gdGhlIHNlYXJjaCBpbnB1dC5cXG4gICAgICBJZiB0aGlzIHByb3BlcnR5IGlzIG5vdCBwcm92aWRlZCwgbm8gc2VhcmNoIGZpZWxkIHdpbGwgYmUgcmVuZGVyZWQuXCIpLFxuICAgIG9uTW9yZTogUHJvcFR5cGVzLmZ1bmMuZGVzY3JpcHRpb24oXCJVc2UgdGhpcyB0byBpbmRpY2F0ZSB0aGF0ICdpdGVtcycgZG9lc24ndCBjb250YWluIGFsbCB0aGF0IGl0IGNvdWxkLlxcbiAgICAgIEl0IHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIGVudGlyZSBsaXN0IG9mIGl0ZW1zIGhhcyBiZWVuIHJlbmRlcmVkLlxcbiAgICAgIFRoaXMgbWlnaHQgYmUgdXNlZCB3aGVuIHRoZSB0b3RhbCBudW1iZXIgb2YgaXRlbXMgdGhhdCBjb3VsZCBiZSByZXRyaWV2ZWRcXG4gICAgICBpcyBtb3JlIHRoYW4geW91J2Qgd2FudCB0byBsb2FkIGludG8gdGhlIGJyb3dzZXIuICdvbk1vcmUnIGFsbG93cyB5b3VcXG4gICAgICB0byBsYXppbHkgZmV0Y2ggbW9yZSBmcm9tIHRoZSBzZXJ2ZXIgb25seSB3aGVuIG5lZWRlZC5cIiksXG4gICAgb3B0aW9uczogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLm51bWJlciwgUHJvcFR5cGVzLmJvb2wsIFByb3BUeXBlcy5lbGVtZW50LCBQcm9wVHlwZXMub2JqZWN0XSkpLmRlc2NyaXB0aW9uKFwiT3B0aW9ucyBjYW4gYmUgZWl0aGVyIGEgc3RyaW5nIG9yIGFuIG9iamVjdC4gSWYgYW4gb2JqZWN0IGlzIHVzZWQsIHVzZVxcbiAgICAgIGNoaWxkcmVuIGNhbGxiYWNrIGluIG9yZGVyIHRvIHJlbmRlciBhbnl0aGluZyBiYXNlZCBvbiB0aGUgY3VycmVudCBpdGVtLlwiKS5pc1JlcXVpcmVkLFxuICAgIG9wZW46IFByb3BUeXBlcy5ib29sLmRlc2NyaXB0aW9uKFwiQ29udHJvbCB0aGUgc3RhdGUgb2YgdGhlIGNvbXBvbmVudC5cIiksXG4gICAgcGxhY2Vob2xkZXI6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5lbGVtZW50LCBQcm9wVHlwZXMubm9kZV0pLmRlc2NyaXB0aW9uKCdQbGFjZWhvbGRlciB0byB1c2Ugd2hlbiBubyB2YWx1ZSBpcyBwcm92aWRlZC4nKSxcbiAgICBwbGFpbjogUHJvcFR5cGVzLmJvb2wuZGVzY3JpcHRpb24oJ1doZXRoZXIgdGhpcyBpcyBhIHBsYWluIFNlbGVjdCBpbnB1dCB3aXRoIG5vIGJvcmRlciBvciBwYWRkaW5nLicpLFxuICAgIHJlcGxhY2U6IFByb3BUeXBlcy5ib29sLmRlc2NyaXB0aW9uKFwiV2hldGhlciB0byByZXBsYWNlIHByZXZpb3VzbHkgcmVuZGVyZWQgaXRlbXMgd2l0aCBhIGdlbmVyaWMgc3BhY2luZ1xcbiAgICAgIGVsZW1lbnQgd2hlbiB0aGV5IGhhdmUgc2Nyb2xsZWQgb3V0IG9mIHZpZXcuIFRoaXMgaXMgbW9yZSBwZXJmb3JtYW50IGJ1dFxcbiAgICAgIG1lYW5zIHRoYXQgaW4tcGFnZSBzZWFyY2hpbmcgd2lsbCBub3QgZmluZCBlbGVtZW50cyB0aGF0IGhhdmUgYmVlblxcbiAgICAgIHJlcGxhY2VkLlwiKS5kZWZhdWx0VmFsdWUodHJ1ZSksXG4gICAgc2VhcmNoUGxhY2Vob2xkZXI6IFByb3BUeXBlcy5zdHJpbmcuZGVzY3JpcHRpb24oXCJQbGFjZWhvbGRlciB0ZXh0IHRvIHVzZSBpbiB0aGUgc2VhcmNoIGJveCB3aGVuIHRoZSBzZWFyY2ggaW5wdXQgaXMgXFxuICAgICAgZW1wdHkuXCIpLFxuICAgIHNlbGVjdGVkOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMubnVtYmVyLCBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMubnVtYmVyKV0pLmRlc2NyaXB0aW9uKFwiSW5kZXggb2YgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBvcHRpb24uIFdoZW4gbXVsdGlwbGUsIHRoZSBzZXQgb2ZcXG4gICAgICBvcHRpb25zIHNlbGVjdGVkLiBOT1RFOiBUaGlzIGlzIGRlcHJlY2F0ZWQgaW4gZmF2b3Igb2YgaW5kaWNhdGluZ1xcbiAgICAgIHRoZSBzZWxlY3RlZCB2YWx1ZXMgdmlhIHRoZSAndmFsdWUnIHByb3BlcnR5LlwiKSxcbiAgICBzaXplOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2YoWydzbWFsbCcsICdtZWRpdW0nLCAnbGFyZ2UnLCAneGxhcmdlJ10pLCBQcm9wVHlwZXMuc3RyaW5nXSkuZGVzY3JpcHRpb24oJ1RoZSBzaXplIG9mIHRoZSB0ZXh0IGFuZCBpY29uLicpLFxuICAgIHZhbHVlOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMuZWxlbWVudCwgLy8gZGVwcmVjYXRlZCwgdXNlIHZhbHVlTGFiZWxcbiAgICBQcm9wVHlwZXMub2JqZWN0LCBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMub2JqZWN0XSkpXSkuZGVzY3JpcHRpb24oXCJDdXJyZW50bHkgc2VsZWN0ZWQgdmFsdWUuIFRoaXMgY2FuIGJlIGFuIGFycmF5XFxuICAgICAgd2hlbiBtdWx0aXBsZS4gUGFzc2luZyBhbiBlbGVtZW50IGFsbG93cyB0aGUgY2FsbGVyIHRvIGNvbnRyb2wgaG93XFxuICAgICAgdGhlIHZhbHVlIGlzIHJlbmRlcmVkLiBQYXNzaW5nIGFuIGVsZW1lbnQgaXMgZGVwcmVjYXRlZC4gSW5zdGVhZCxcXG4gICAgICB1c2UgdGhlICd2YWx1ZUxhYmVsJyBwcm9wZXJ0eS5cIiksXG4gICAgdmFsdWVMYWJlbDogUHJvcFR5cGVzLm5vZGUuZGVzY3JpcHRpb24oXCJQcm92aWRlcyBjdXN0b20gcmVuZGVyaW5nIG9mIHRoZSB2YWx1ZS4gSWYgbm90IHByb3ZpZGVkLCBTZWxlY3RcXG4gICAgICB3aWxsIHJlbmRlciB0aGUgdmFsdWUgYXV0b21hdGljYWxseS5cIiksXG4gICAgdmFsdWVLZXk6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5mdW5jXSkuZGVzY3JpcHRpb24oXCJXaGVuIHRoZSBvcHRpb25zIGFycmF5IGNvbnRhaW5zIG9iamVjdHMsIHRoaXMgcHJvcGVydHkgaW5kaWNhdGVzIGhvd1xcbiAgICAgIHRvIGRldGVybWluZSB0aGUgdmFsdWUgb2YgZWFjaCBvcHRpb24uIElmIGEgc3RyaW5nIGlzXFxuICAgICAgcHJvdmlkZWQsIGl0IGlzIHVzZWQgYXMgdGhlIGtleSB0byByZXRyaWV2ZSBlYWNoIG9wdGlvbidzIHZhbHVlLlxcbiAgICAgIElmIGEgZnVuY3Rpb24gaXMgcHJvdmlkZWQsIGl0IGlzIGNhbGxlZCB3aXRoIHRoZSBvcHRpb24gYW5kIHRoZVxcbiAgICAgIHJldHVybiB2YWx1ZSBpbmRpY2F0ZXMgdGhlIHZhbHVlLlwiKSxcbiAgICBlbXB0eVNlYXJjaE1lc3NhZ2U6IFByb3BUeXBlcy5zdHJpbmcuZGVzY3JpcHRpb24oXCJFbXB0eSBvcHRpb24gbWVzc2FnZSB0byBkaXNwbGF5IHdoZW4gbm8gbWF0Y2hpbmcgcmVzdWx0cyB3ZXJlIGZvdW5kXCIpLmRlZmF1bHRWYWx1ZSgnTm8gbWF0Y2hlcyBmb3VuZCcpXG4gIH0pO1xuICByZXR1cm4gRG9jdW1lbnRlZFNlbGVjdDtcbn07XG5leHBvcnQgdmFyIHRoZW1lRG9jID0ge1xuICAnZ2xvYmFsLmhvdmVyLmJhY2tncm91bmQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgYmFja2dyb3VuZCBzdHlsZSB3aGVuIGhvdmVyaW5nLicsXG4gICAgdHlwZTogJ3N0cmluZyB8IHsgY29sb3I6IHN0cmluZywgb3BhY2l0eTogc3RyaW5nIH0nLFxuICAgIGRlZmF1bHRWYWx1ZTogXCJ7IGNvbG9yOiAnYWN0aXZlJywgb3BhY2l0eTogJ21lZGl1bScgfVwiXG4gIH0sXG4gICdnbG9iYWwuaG92ZXIuY29sb3InOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgdGV4dCBjb2xvciB3aGVuIGhvdmVyaW5nLicsXG4gICAgdHlwZTogJ3N0cmluZyB8IHsgZGFyazogc3RyaW5nLCBsaWdodDogc3RyaW5nIH0nLFxuICAgIGRlZmF1bHRWYWx1ZTogXCJ7IGRhcms6ICd3aGl0ZScsIGxpZ2h0OiAnYmxhY2snIH1cIlxuICB9LFxuICAnc2VsZWN0LmJhY2tncm91bmQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgYmFja2dyb3VuZCBjb2xvciB1c2VkIGZvciBTZWxlY3QuJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6IHVuZGVmaW5lZFxuICB9LFxuICAnc2VsZWN0Lm9wdGlvbnMuY29udGFpbmVyJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnQW55IHZhbGlkIEJveCBwcm9wIGZvciB0aGUgb3B0aW9ucyBjb250YWluZXIuJyxcbiAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICBkZWZhdWx0VmFsdWU6IFwieyBhbGlnbjogJ3N0YXJ0JywgcGFkOiAnc21hbGwnIH1cIlxuICB9LFxuICAnc2VsZWN0Lm9wdGlvbnMudGV4dCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ0FueSB2YWxpZCBUZXh0IHByb3AgZm9yIHRleHQgdXNlZCBpbnNpZGUgdGhlIG9wdGlvbnMgY29udGFpbmVyLicsXG4gICAgdHlwZTogJ29iamVjdCcsXG4gICAgZGVmYXVsdFZhbHVlOiBcInsgbWFyZ2luOiAnbm9uZSB9XCJcbiAgfSxcbiAgJ3NlbGVjdC5jb250YWluZXIuZXh0ZW5kJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnQW55IGFkZGl0aW9uYWwgc3R5bGUgZm9yIHRoZSBjb250YWluZXIgb2YgdGhlIFNlbGVjdCBjb21wb25lbnQuJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgKHByb3BzKSA9PiB7fScsXG4gICAgZGVmYXVsdFZhbHVlOiB1bmRlZmluZWRcbiAgfSxcbiAgJ3NlbGVjdC5jb250cm9sLm9wZW4nOiB7XG4gICAgZGVzY3JpcHRpb246IFwiQW55IGFkZGl0aW9uYWwgc3R5bGUgZm9yIHRoZSBjb250cm9sIG9wZW4gc3RhdGUgb2YgdGhlIFNlbGVjdCBcXG5jb21wb25lbnQuXCIsXG4gICAgdHlwZTogJ29iamVjdCcsXG4gICAgZGVmYXVsdFZhbHVlOiB1bmRlZmluZWRcbiAgfSxcbiAgJ3NlbGVjdC5jb250cm9sLmV4dGVuZCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ0FueSBhZGRpdGlvbmFsIHN0eWxlIGZvciB0aGUgY29udHJvbCBvZiB0aGUgU2VsZWN0IGNvbXBvbmVudC4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCAocHJvcHMpID0+IHt9JyxcbiAgICBkZWZhdWx0VmFsdWU6IHVuZGVmaW5lZFxuICB9LFxuICAnc2VsZWN0Lmljb25zLm1hcmdpbic6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBtYXJnaW4gdXNlZCBmb3IgU2VsZWN0IGljb25zLicsXG4gICAgdHlwZTogJ3N0cmluZyB8IG9iamVjdCcsXG4gICAgZGVmYXVsdFZhbHVlOiB1bmRlZmluZWRcbiAgfSxcbiAgJ3NlbGVjdC5pY29ucy5jb2xvcic6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBjb2xvciB1c2VkIGZvciBTZWxlY3QgaWNvbnMuJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgeyBkYXJrOiBzdHJpbmcsIGxpZ2h0OiBzdHJpbmcgfScsXG4gICAgZGVmYXVsdFZhbHVlOiB1bmRlZmluZWRcbiAgfSxcbiAgJ3NlbGVjdC5pY29ucy5kb3duJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGRvd24gaWNvbiB0byB1c2UgZm9yIG9wZW5pbmcgdGhlIFNlbGVjdC4nLFxuICAgIHR5cGU6ICdSZWFjdC5FbGVtZW50JyxcbiAgICBkZWZhdWx0VmFsdWU6ICc8Rm9ybURvd24gLz4nXG4gIH0sXG4gICdzZWxlY3Quc2VhcmNoSW5wdXQnOiB7XG4gICAgZGVzY3JpcHRpb246IFwiQ29tcG9uZW50IGZvciB0aGUgU2VsZWN0IHNlYXJjaCBpbnB1dCBmaWVsZC5cIixcbiAgICB0eXBlOiAnUmVhY3QuQ29tcG9uZW50JyxcbiAgICBkZWZhdWx0VmFsdWU6IHVuZGVmaW5lZFxuICB9LFxuICAnc2VsZWN0LnN0ZXAnOiB7XG4gICAgZGVzY3JpcHRpb246IFwiSG93IG1hbnkgaXRlbXMgdG8gcmVuZGVyIGF0IGEgdGltZS5cIixcbiAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICBkZWZhdWx0VmFsdWU6IDIwXG4gIH1cbn07IiwiZXhwb3J0IHsgU2VsZWN0IH0gZnJvbSAnLi9TZWxlY3QnOyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEFuY2hvciB9IGZyb20gJy4uL0FuY2hvcic7XG5pbXBvcnQgeyBCb3ggfSBmcm9tICcuLi9Cb3gnO1xuZXhwb3J0IHZhciBTa2lwTGluayA9IGZ1bmN0aW9uIFNraXBMaW5rKF9yZWYpIHtcbiAgdmFyIGlkID0gX3JlZi5pZCxcbiAgICAgIGxhYmVsID0gX3JlZi5sYWJlbCxcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfcmVmLCBbXCJpZFwiLCBcImxhYmVsXCJdKTtcblxuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChCb3gsIHtcbiAgICBtYXJnaW46IFwic21hbGxcIlxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KEFuY2hvciwgX2V4dGVuZHMoe1xuICAgIGhyZWY6IFwiI1wiICsgaWQsXG4gICAgbGFiZWw6IGxhYmVsXG4gIH0sIHJlc3QpKSk7XG59OyIsImV4cG9ydCB7IFNraXBMaW5rIH0gZnJvbSAnLi9Ta2lwTGluayc7IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHN0eWxlZCBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBBbmNob3IgfSBmcm9tICcuLi9BbmNob3InO1xudmFyIEhpZGRlbkFuY2hvciA9IHN0eWxlZChBbmNob3IpLndpdGhDb25maWcoe1xuICBkaXNwbGF5TmFtZTogXCJTa2lwTGlua1RhcmdldF9fSGlkZGVuQW5jaG9yXCIsXG4gIGNvbXBvbmVudElkOiBcInNjLTE2d2pmZ2stMFwiXG59KShbXCJ3aWR0aDowO2hlaWdodDowO292ZXJmbG93OmhpZGRlbjtwb3NpdGlvbjphYnNvbHV0ZTtcIl0pO1xuZXhwb3J0IHZhciBTa2lwTGlua1RhcmdldCA9IGZ1bmN0aW9uIFNraXBMaW5rVGFyZ2V0KF9yZWYpIHtcbiAgdmFyIGxhYmVsID0gX3JlZi5sYWJlbCxcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfcmVmLCBbXCJsYWJlbFwiXSk7XG5cbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSGlkZGVuQW5jaG9yLCBfZXh0ZW5kcyh7fSwgcmVzdCwge1xuICAgIHRhYkluZGV4OiBcIi0xXCIsXG4gICAgXCJhcmlhLWhpZGRlblwiOiBcInRydWVcIlxuICB9KSwgbGFiZWwpO1xufTsiLCJleHBvcnQgeyBTa2lwTGlua1RhcmdldCB9IGZyb20gJy4vU2tpcExpbmtUYXJnZXQnOyIsImltcG9ydCBSZWFjdCwgeyBjbG9uZUVsZW1lbnQsIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBCb3ggfSBmcm9tICcuLi9Cb3gnO1xuaW1wb3J0IHsgSGVhZGluZyB9IGZyb20gJy4uL0hlYWRpbmcnO1xuaW1wb3J0IHsgTGF5ZXIgfSBmcm9tICcuLi9MYXllcic7XG5cbnZhciBTa2lwTGlua3MgPSBmdW5jdGlvbiBTa2lwTGlua3MoX3JlZikge1xuICB2YXIgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuLFxuICAgICAgaWQgPSBfcmVmLmlkLFxuICAgICAgbWVzc2FnZXMgPSBfcmVmLm1lc3NhZ2VzO1xuXG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZShmYWxzZSksXG4gICAgICBzaG93TGF5ZXIgPSBfdXNlU3RhdGVbMF0sXG4gICAgICBzZXRTaG93TGF5ZXIgPSBfdXNlU3RhdGVbMV07XG5cbiAgdmFyIGxheWVyUmVmID0gdXNlUmVmKG51bGwpO1xuXG4gIHZhciBvbkZvY3VzID0gZnVuY3Rpb24gb25Gb2N1cygpIHtcbiAgICBzZXRTaG93TGF5ZXIodHJ1ZSk7XG4gIH07XG5cbiAgdmFyIHJlbW92ZUxheWVyID0gZnVuY3Rpb24gcmVtb3ZlTGF5ZXIoKSB7XG4gICAgc2V0U2hvd0xheWVyKGZhbHNlKTtcbiAgfTtcblxuICB2YXIgb25CbHVyID0gZnVuY3Rpb24gb25CbHVyKCkge1xuICAgIC8vIHRpbWVvdXQgbmVlZGVkIHNvIGl0IGdpdmVzIGVub3VnaCB0aW1lIGZvciBhY3RpdmVFbGVtZW50IHRvIGJlIHVwZGF0ZWRcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBsYXllck5vZGUgPSBsYXllclJlZi5jdXJyZW50O1xuXG4gICAgICBpZiAobGF5ZXJOb2RlICYmIGxheWVyTm9kZS5sYXllckNvbnRhaW5lci5jb250YWlucyAmJiAhbGF5ZXJOb2RlLmxheWVyQ29udGFpbmVyLmNvbnRhaW5zKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpKSB7XG4gICAgICAgIHJlbW92ZUxheWVyKCk7XG4gICAgICB9XG4gICAgfSwgMCk7XG4gIH07XG5cbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTGF5ZXIsIHtcbiAgICBpZDogaWQsXG4gICAgcG9zaXRpb246IHNob3dMYXllciA/ICd0b3AnIDogJ2hpZGRlbicsXG4gICAgcmVmOiBsYXllclJlZixcbiAgICBvbkZvY3VzOiBvbkZvY3VzLFxuICAgIG9uQmx1cjogb25CbHVyXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQm94LCB7XG4gICAgcGFkOiB7XG4gICAgICBob3Jpem9udGFsOiAnbWVkaXVtJ1xuICAgIH1cbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChIZWFkaW5nLCB7XG4gICAgbGV2ZWw6IDJcbiAgfSwgbWVzc2FnZXMuc2tpcFRvLCBcIjpcIiksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQm94LCB7XG4gICAgZGlyZWN0aW9uOiBcInJvd1wiLFxuICAgIGFsaWduOiBcImNlbnRlclwiLFxuICAgIHBhZDoge1xuICAgICAgYm90dG9tOiAnbWVkaXVtJ1xuICAgIH1cbiAgfSwgY2hpbGRyZW4ubWFwKGZ1bmN0aW9uIChlbGVtZW50LCBpbmRleCkge1xuICAgIHJldHVybiBjbG9uZUVsZW1lbnQoZWxlbWVudCwge1xuICAgICAga2V5OiBcInNraXAtbGluay1cIiArIGluZGV4LFxuICAgICAgb25DbGljazogcmVtb3ZlTGF5ZXJcbiAgICB9KTtcbiAgfSkpKSk7XG59O1xuXG5Ta2lwTGlua3MuZGVmYXVsdFByb3BzID0ge1xuICBtZXNzYWdlczoge1xuICAgIHNraXBUbzogJ1NraXAgVG8nXG4gIH1cbn07XG52YXIgU2tpcExpbmtzRG9jO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZ2xvYmFsLXJlcXVpcmVcbiAgU2tpcExpbmtzRG9jID0gcmVxdWlyZSgnLi9kb2MnKS5kb2MoU2tpcExpbmtzKTtcbn1cblxudmFyIFNraXBMaW5rc1dyYXBwZXIgPSBTa2lwTGlua3NEb2MgfHwgU2tpcExpbmtzO1xuZXhwb3J0IHsgU2tpcExpbmtzV3JhcHBlciBhcyBTa2lwTGlua3MgfTsiLCJpbXBvcnQgeyBkZXNjcmliZSwgUHJvcFR5cGVzIH0gZnJvbSAncmVhY3QtZGVzYyc7XG5pbXBvcnQgeyBnZXRBdmFpbGFibGVBdEJhZGdlIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuZXhwb3J0IHZhciBkb2MgPSBmdW5jdGlvbiBkb2MoU2tpcExpbmtzKSB7XG4gIHZhciBEb2N1bWVudGVkU2tpcExpbmtzID0gZGVzY3JpYmUoU2tpcExpbmtzKS5hdmFpbGFibGVBdChnZXRBdmFpbGFibGVBdEJhZGdlKCdTa2lwTGlua3MnKSkuZGVzY3JpcHRpb24oJ0Rlc2NyaWJlIGEgbGlzdCBvZiBlbGVtZW50cyB0byBza2lwIHRvLicpLnVzYWdlKFwiaW1wb3J0IHsgU2tpcExpbmtzIH0gZnJvbSAnZ3JvbW1ldCc7XFxuPFNraXBMaW5rcyBlbGVtZW50cz17WydtYWluJywgJ2Zvb3RlciddfSAvPlwiKTtcbiAgRG9jdW1lbnRlZFNraXBMaW5rcy5wcm9wVHlwZXMgPSB7XG4gICAgY2hpbGRyZW46IFByb3BUeXBlcy5ub2RlLmRlc2NyaXB0aW9uKCdBcnJheSBvZiBTa2lwTGluaycpLmlzUmVxdWlyZWQsXG4gICAgbWVzc2FnZXM6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICBza2lwVG86IFByb3BUeXBlcy5zdHJpbmdcbiAgICB9KS5kZXNjcmlwdGlvbihcIkN1c3RvbSBtZXNzYWdlcyBmb3IgU2tpcExpbmtzLiBVc2VkIGZvciBhY2Nlc3NpYmlsaXR5IGJ5IHNjcmVlbiBcXG5yZWFkZXJzLlwiKVxuICB9O1xuICByZXR1cm4gRG9jdW1lbnRlZFNraXBMaW5rcztcbn07IiwiZXhwb3J0IHsgU2tpcExpbmtzIH0gZnJvbSAnLi9Ta2lwTGlua3MnOyIsImZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuaW1wb3J0IFJlYWN0LCB7IENoaWxkcmVuIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgU3R5bGVkU3RhY2ssIFN0eWxlZFN0YWNrTGF5ZXIgfSBmcm9tICcuL1N0eWxlZFN0YWNrJztcblxudmFyIGJ1aWxkU3R5bGVkQ2hpbGRyZW4gPSBmdW5jdGlvbiBidWlsZFN0eWxlZENoaWxkcmVuKF9yZWYpIHtcbiAgdmFyIGFuY2hvciA9IF9yZWYuYW5jaG9yLFxuICAgICAgZmlsbCA9IF9yZWYuZmlsbCxcbiAgICAgIGd1aWRpbmdJbmRleCA9IF9yZWYuZ3VpZGluZ0luZGV4LFxuICAgICAgaW50ZXJhY3RpdmVDaGlsZCA9IF9yZWYuaW50ZXJhY3RpdmVDaGlsZCxcbiAgICAgIGludGVyYWN0aXZlSW5kZXggPSBfcmVmLmludGVyYWN0aXZlSW5kZXg7XG4gIHZhciBjaGlsZEluZGV4ID0gMDtcbiAgcmV0dXJuIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgIGlmIChjaGlsZCkge1xuICAgICAgdmFyIGludGVyYWN0aXZlID0gaW50ZXJhY3RpdmVDaGlsZCA9PT0gdW5kZWZpbmVkIHx8IGludGVyYWN0aXZlSW5kZXggPT09IGNoaWxkSW5kZXg7XG4gICAgICB2YXIgaXNHdWlkaW5nSW5kZXggPSBjaGlsZEluZGV4ID09PSBndWlkaW5nSW5kZXg7XG4gICAgICBjaGlsZEluZGV4ICs9IDE7XG4gICAgICB2YXIgcHJvcHMgPSBpc0d1aWRpbmdJbmRleCA/IHtcbiAgICAgICAgZ3VpZGluZzogdHJ1ZSxcbiAgICAgICAgZmlsbENvbnRhaW5lcjogZmlsbFxuICAgICAgfSA6IHtcbiAgICAgICAgYW5jaG9yOiBhbmNob3JcbiAgICAgIH07XG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWRTdGFja0xheWVyLCBfZXh0ZW5kcyh7XG4gICAgICAgIGludGVyYWN0aXZlOiBpbnRlcmFjdGl2ZVxuICAgICAgfSwgcHJvcHMpLCBjaGlsZCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNoaWxkO1xuICB9O1xufTtcblxudmFyIFN0YWNrID0gZnVuY3Rpb24gU3RhY2soX3JlZjIpIHtcbiAgdmFyIGFuY2hvciA9IF9yZWYyLmFuY2hvcixcbiAgICAgIGNoaWxkcmVuID0gX3JlZjIuY2hpbGRyZW4sXG4gICAgICBmaWxsID0gX3JlZjIuZmlsbCxcbiAgICAgIGd1aWRpbmdDaGlsZCA9IF9yZWYyLmd1aWRpbmdDaGlsZCxcbiAgICAgIGludGVyYWN0aXZlQ2hpbGQgPSBfcmVmMi5pbnRlcmFjdGl2ZUNoaWxkLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9yZWYyLCBbXCJhbmNob3JcIiwgXCJjaGlsZHJlblwiLCBcImZpbGxcIiwgXCJndWlkaW5nQ2hpbGRcIiwgXCJpbnRlcmFjdGl2ZUNoaWxkXCJdKTtcblxuICB2YXIgdG9DaGlsZEluZGV4ID0gZnVuY3Rpb24gdG9DaGlsZEluZGV4KGNoaWxkKSB7XG4gICAgdmFyIGluZGV4ID0gY2hpbGQ7XG4gICAgaWYgKGluZGV4ID09PSAnZmlyc3QnIHx8ICFpbmRleCkgaW5kZXggPSAwO2Vsc2UgaWYgKGluZGV4ID09PSAnbGFzdCcpIGluZGV4ID0gUmVhY3QuQ2hpbGRyZW4uY291bnQoY2hpbGRyZW4pIC0gMTtcbiAgICByZXR1cm4gaW5kZXg7XG4gIH07XG5cbiAgdmFyIGd1aWRpbmdJbmRleCA9IHRvQ2hpbGRJbmRleChndWlkaW5nQ2hpbGQpO1xuICB2YXIgaW50ZXJhY3RpdmVJbmRleCA9IGludGVyYWN0aXZlQ2hpbGQgJiYgdG9DaGlsZEluZGV4KGludGVyYWN0aXZlQ2hpbGQpO1xuICB2YXIgc3R5bGVkQ2hpbGRyZW4gPSBDaGlsZHJlbi5tYXAoY2hpbGRyZW4sIGJ1aWxkU3R5bGVkQ2hpbGRyZW4oe1xuICAgIGFuY2hvcjogYW5jaG9yLFxuICAgIGZpbGw6IGZpbGwsXG4gICAgZ3VpZGluZ0luZGV4OiBndWlkaW5nSW5kZXgsXG4gICAgaW50ZXJhY3RpdmVDaGlsZDogaW50ZXJhY3RpdmVDaGlsZCxcbiAgICBpbnRlcmFjdGl2ZUluZGV4OiBpbnRlcmFjdGl2ZUluZGV4XG4gIH0pKTtcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkU3RhY2ssIF9leHRlbmRzKHtcbiAgICBmaWxsQ29udGFpbmVyOiBmaWxsXG4gIH0sIHJlc3QpLCBzdHlsZWRDaGlsZHJlbik7XG59O1xuXG52YXIgU3RhY2tEb2M7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIFN0YWNrRG9jID0gcmVxdWlyZSgnLi9kb2MnKS5kb2MoU3RhY2spOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGdsb2JhbC1yZXF1aXJlXG59XG5cbnZhciBTdGFja1dyYXBwZXIgPSBTdGFja0RvYyB8fCBTdGFjaztcbmV4cG9ydCB7IFN0YWNrV3JhcHBlciBhcyBTdGFjayB9OyIsImltcG9ydCBzdHlsZWQgZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgZ2VuZXJpY1N0eWxlcyB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmltcG9ydCB7IGRlZmF1bHRQcm9wcyB9IGZyb20gJy4uLy4uL2RlZmF1bHQtcHJvcHMnO1xudmFyIGZpbGxTdHlsZSA9IFwiXFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogMTAwJTtcXG4gIG1heC13aWR0aDogbm9uZTtcXG4gIGZsZXgtZ3JvdzogMTtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuXCI7XG52YXIgU3R5bGVkU3RhY2sgPSBzdHlsZWQuZGl2LndpdGhDb25maWcoe1xuICBkaXNwbGF5TmFtZTogXCJTdHlsZWRTdGFja1wiLFxuICBjb21wb25lbnRJZDogXCJhanNwc2stMFwiXG59KShbXCJwb3NpdGlvbjpyZWxhdGl2ZTtcIiwgXCIgXCIsIFwiIFwiLCBcIlwiXSwgZ2VuZXJpY1N0eWxlcywgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5maWxsQ29udGFpbmVyICYmIGZpbGxTdHlsZTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUuc3RhY2sgJiYgcHJvcHMudGhlbWUuc3RhY2suZXh0ZW5kO1xufSk7XG5TdHlsZWRTdGFjay5kZWZhdWx0UHJvcHMgPSB7fTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihTdHlsZWRTdGFjay5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG52YXIgc3R5bGVNYXAgPSB7XG4gIGZpbGw6IFwiXFxuICAgIHRvcDogMDtcXG4gICAgbGVmdDogMDtcXG4gICAgYm90dG9tOiAwO1xcbiAgICByaWdodDogMDtcXG4gIFwiLFxuICBjZW50ZXI6IFwiXFxuICAgIHRvcDogNTAlO1xcbiAgICBsZWZ0OiA1MCU7XFxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpO1xcbiAgXCIsXG4gIGxlZnQ6IFwiXFxuICAgIHRvcDogNTAlO1xcbiAgICBsZWZ0OiAwO1xcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XFxuICBcIixcbiAgcmlnaHQ6IFwiXFxuICAgIHRvcDogNTAlO1xcbiAgICByaWdodDogMDtcXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO1xcbiAgXCIsXG4gIHRvcDogXCJcXG4gICAgdG9wOiAwO1xcbiAgICBsZWZ0OiA1MCU7XFxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTtcXG4gIFwiLFxuICBib3R0b206IFwiXFxuICAgIGJvdHRvbTogMDtcXG4gICAgbGVmdDogNTAlO1xcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7XFxuICBcIixcbiAgJ3RvcC1sZWZ0JzogXCJcXG4gICAgdG9wOiAwO1xcbiAgICBsZWZ0OiAwO1xcbiAgXCIsXG4gICdib3R0b20tbGVmdCc6IFwiXFxuICAgIGJvdHRvbTogMDtcXG4gICAgbGVmdDogMDtcXG4gIFwiLFxuICAndG9wLXJpZ2h0JzogXCJcXG4gICAgdG9wOiAwO1xcbiAgICByaWdodDogMDtcXG4gIFwiLFxuICAnYm90dG9tLXJpZ2h0JzogXCJcXG4gICAgYm90dG9tOiAwO1xcbiAgICByaWdodDogMDtcXG4gIFwiXG59O1xudmFyIFN0eWxlZFN0YWNrTGF5ZXIgPSBzdHlsZWQuZGl2LndpdGhDb25maWcoe1xuICBkaXNwbGF5TmFtZTogXCJTdHlsZWRTdGFja19fU3R5bGVkU3RhY2tMYXllclwiLFxuICBjb21wb25lbnRJZDogXCJhanNwc2stMVwiXG59KShbXCJwb3NpdGlvbjpcIiwgXCI7XCIsIFwiIFwiLCBcIiBcIiwgXCIgXCIsIFwiXCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLmd1aWRpbmcgPyAncmVsYXRpdmUnIDogJ2Fic29sdXRlJztcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuZ3VpZGluZyAmJiAnZGlzcGxheTogYmxvY2s7Jztcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gIXByb3BzLmd1aWRpbmcgJiYgc3R5bGVNYXBbcHJvcHMuYW5jaG9yIHx8ICdmaWxsJ10gKyBcIjtcIjtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuZmlsbENvbnRhaW5lciAmJiBcIlxcbiAgICB3aWR0aDogMTAwJTtcXG4gICAgaGVpZ2h0OiAxMDAlO1xcbiAgXCI7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuICFwcm9wcy5pbnRlcmFjdGl2ZSAmJiBcInBvaW50ZXItZXZlbnRzOiBub25lO1wiO1xufSk7XG5TdHlsZWRTdGFja0xheWVyLmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKFN0eWxlZFN0YWNrTGF5ZXIuZGVmYXVsdFByb3BzLCBkZWZhdWx0UHJvcHMpO1xuZXhwb3J0IHsgU3R5bGVkU3RhY2ssIFN0eWxlZFN0YWNrTGF5ZXIgfTsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5pbXBvcnQgeyBkZXNjcmliZSwgUHJvcFR5cGVzIH0gZnJvbSAncmVhY3QtZGVzYyc7XG5pbXBvcnQgeyBnZW5lcmljUHJvcHMsIGdldEF2YWlsYWJsZUF0QmFkZ2UgfSBmcm9tICcuLi8uLi91dGlscyc7XG5leHBvcnQgdmFyIGRvYyA9IGZ1bmN0aW9uIGRvYyhTdGFjaykge1xuICB2YXIgRG9jdW1lbnRlZFN0YWNrID0gZGVzY3JpYmUoU3RhY2spLmF2YWlsYWJsZUF0KGdldEF2YWlsYWJsZUF0QmFkZ2UoJ1N0YWNrJykpLmRlc2NyaXB0aW9uKFwiQSBjb250YWluZXIgdGhhdCBzdGFja3MgY29udGVudHMgb24gdG9wIG9mIGVhY2ggb3RoZXIuIE9uZSBjaGlsZCBpc1xcbiAgICAgIGRlc2lnbmF0ZWQgYXMgdGhlIGBndWlkaW5nQ2hpbGRgIHdoaWNoIGRldGVybWluZXMgdGhlIHNpemUuIEFsbFxcbiAgICAgIG90aGVyIGNoaWxkcmVuIGFyZSBwbGFjZWQgd2l0aGluIHRoYXQgc2l6ZSwgZWl0aGVyIGFib3ZlIG9yIGJlbG93XFxuICAgICAgYmFzZWQgb24gdGhlaXIgb3JkZXIuIFN0YWNrIGlzIHR5cGljYWxseSB1c2VkIHRvIGRlY29yYXRlIE1ldGVyLCBDaGFydCxcXG4gICAgICBvciBpY29ucy5cIikudXNhZ2UoXCJpbXBvcnQgeyBTdGFjayB9IGZyb20gJ2dyb21tZXQnO1xcbjxTdGFjayAvPlwiKS5pbnRyaW5zaWNFbGVtZW50KCdkaXYnKTtcbiAgRG9jdW1lbnRlZFN0YWNrLnByb3BUeXBlcyA9IF9leHRlbmRzKHt9LCBnZW5lcmljUHJvcHMsIHtcbiAgICBhbmNob3I6IFByb3BUeXBlcy5vbmVPZihbJ2NlbnRlcicsICdsZWZ0JywgJ3JpZ2h0JywgJ3RvcCcsICdib3R0b20nLCAndG9wLWxlZnQnLCAnYm90dG9tLWxlZnQnLCAndG9wLXJpZ2h0JywgJ2JvdHRvbS1yaWdodCddKS5kZXNjcmlwdGlvbihcIldoZXJlIHRvIGFuY2hvciBjaGlsZHJlbiBmcm9tLiBJZiBub3Qgc3BlY2lmaWVkLCBjaGlsZHJlblxcbiAgICAgIGZpbGwgdGhlIGd1aWRpbmcgY2hpbGQncyBhcmVhLlwiKSxcbiAgICBmaWxsOiBQcm9wVHlwZXMuYm9vbC5kZXNjcmlwdGlvbihcIldoZXRoZXIgdG8gZXhwYW5kIHRvIGZpbGxcXG4gICAgICBhbGwgb2YgdGhlIGF2YWlsYWJsZSB3aWR0aCBhbmQgaGVpZ2h0IGluIHRoZSBwYXJlbnQgY29udGFpbmVyLlwiKS5kZWZhdWx0VmFsdWUoZmFsc2UpLFxuICAgIGd1aWRpbmdDaGlsZDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm51bWJlciwgUHJvcFR5cGVzLm9uZU9mKFsnZmlyc3QnLCAnbGFzdCddKV0pLmRlc2NyaXB0aW9uKFwiV2hpY2ggY2hpbGQgdG8gZ3VpZGUgbGF5b3V0IGZyb20uIEFsbCBvdGhlciBjaGlsZHJlblxcbiAgICAgIHdpbGwgYmUgcG9zaXRpb25lZCB3aXRoaW4gdGhhdCBhcmVhLiBEZWZhdWx0cyB0byAnZmlyc3QnLlwiKS5kZWZhdWx0VmFsdWUoJ2ZpcnN0JyksXG4gICAgaW50ZXJhY3RpdmVDaGlsZDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm51bWJlciwgUHJvcFR5cGVzLm9uZU9mKFsnZmlyc3QnLCAnbGFzdCddKV0pLmRlc2NyaXB0aW9uKFwiV2hpY2ggY2hpbGQgdG8gcmVzdHJpY3QgdXNlciBpbnRlcmFjdGlvbiB0by4gQWxsIG90aGVyIGNoaWxkcmVuXFxuICAgICAgd2lsbCBoYXZlIHVzZXIgaW50ZXJhY3Rpb24gZGlzYWJsZWQuXCIpXG4gIH0pO1xuICByZXR1cm4gRG9jdW1lbnRlZFN0YWNrO1xufTtcbmV4cG9ydCB2YXIgdGhlbWVEb2MgPSB7XG4gICdzdGFjay5leHRlbmQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdBbnkgYWRkaXRpb25hbCBzdHlsZSBmb3IgdGhlIGNvbnRyb2wgb2YgdGhlIFN0YWNrIGNvbXBvbmVudC4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCAocHJvcHMpID0+IHt9JyxcbiAgICBkZWZhdWx0VmFsdWU6IHVuZGVmaW5lZFxuICB9XG59OyIsImV4cG9ydCB7IFN0YWNrIH0gZnJvbSAnLi9TdGFjayc7IiwiaW1wb3J0IHN0eWxlZCwgeyBjc3MgfSBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBnZW5lcmljU3R5bGVzLCBub3JtYWxpemVDb2xvciB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmltcG9ydCB7IGRlZmF1bHRQcm9wcyB9IGZyb20gJy4uLy4uL2RlZmF1bHQtcHJvcHMnO1xudmFyIHRhYkhvdmVyU3R5bGUgPSBjc3MoW1wiJjpob3ZlcntcIiwgXCIgXCIsIFwiIFwiLCBcIjt9XCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLnRhYi5ob3Zlci5iYWNrZ3JvdW5kICYmIGNzcyhbXCJiYWNrZ3JvdW5kOlwiLCBcIjtcIl0sIG5vcm1hbGl6ZUNvbG9yKHByb3BzLnRoZW1lLnRhYi5ob3Zlci5iYWNrZ3JvdW5kLCBwcm9wcy50aGVtZSkpO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS50YWIuaG92ZXIuY29sb3IgJiYgY3NzKFtcImNvbG9yOlwiLCBcIjtcIl0sIG5vcm1hbGl6ZUNvbG9yKHByb3BzLnRoZW1lLnRhYi5ob3Zlci5jb2xvciwgcHJvcHMudGhlbWUpKTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUudGFiLmhvdmVyLmV4dGVuZDtcbn0pO1xudmFyIFN0eWxlZFRhYiA9IHN0eWxlZC5kaXYud2l0aENvbmZpZyh7XG4gIGRpc3BsYXlOYW1lOiBcIlN0eWxlZFRhYlwiLFxuICBjb21wb25lbnRJZDogXCJzYy0xbm53bnNiLTBcIlxufSkoW1wiXCIsIFwiIFwiLCBcIiBcIiwgXCJcIl0sIGdlbmVyaWNTdHlsZXMsIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gIXByb3BzLnBsYWluICYmIHByb3BzLnRoZW1lLnRhYi5ob3ZlciAmJiB0YWJIb3ZlclN0eWxlO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS50YWIuZXh0ZW5kO1xufSk7XG5TdHlsZWRUYWIuZGVmYXVsdFByb3BzID0ge307XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoU3R5bGVkVGFiLmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbmV4cG9ydCB7IFN0eWxlZFRhYiB9OyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY29tcG9zZSB9IGZyb20gJ3JlY29tcG9zZSc7XG5pbXBvcnQgeyB3aXRoVGhlbWUgfSBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBkZWZhdWx0UHJvcHMgfSBmcm9tICcuLi8uLi9kZWZhdWx0LXByb3BzJztcbmltcG9ydCB7IEJveCB9IGZyb20gJy4uL0JveCc7XG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICcuLi9CdXR0b24nO1xuaW1wb3J0IHsgVGV4dCB9IGZyb20gJy4uL1RleHQnO1xuaW1wb3J0IHsgd2l0aEZvcndhcmRSZWYgfSBmcm9tICcuLi9ob2NzJztcbmltcG9ydCB7IG5vcm1hbGl6ZUNvbG9yIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuaW1wb3J0IHsgU3R5bGVkVGFiIH0gZnJvbSAnLi9TdHlsZWRUYWInO1xuXG52YXIgVGFiID0gZnVuY3Rpb24gVGFiKF9yZWYpIHtcbiAgdmFyIGFjdGl2ZSA9IF9yZWYuYWN0aXZlLFxuICAgICAgZm9yd2FyZFJlZiA9IF9yZWYuZm9yd2FyZFJlZixcbiAgICAgIHBsYWluID0gX3JlZi5wbGFpbixcbiAgICAgIHRpdGxlID0gX3JlZi50aXRsZSxcbiAgICAgIG9uQWN0aXZhdGUgPSBfcmVmLm9uQWN0aXZhdGUsXG4gICAgICBvbk1vdXNlT3ZlciA9IF9yZWYub25Nb3VzZU92ZXIsXG4gICAgICBvbk1vdXNlT3V0ID0gX3JlZi5vbk1vdXNlT3V0LFxuICAgICAgdGhlbWUgPSBfcmVmLnRoZW1lLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9yZWYsIFtcImFjdGl2ZVwiLCBcImZvcndhcmRSZWZcIiwgXCJwbGFpblwiLCBcInRpdGxlXCIsIFwib25BY3RpdmF0ZVwiLCBcIm9uTW91c2VPdmVyXCIsIFwib25Nb3VzZU91dFwiLCBcInRoZW1lXCJdKTtcblxuICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUodW5kZWZpbmVkKSxcbiAgICAgIG92ZXIgPSBfdXNlU3RhdGVbMF0sXG4gICAgICBzZXRPdmVyID0gX3VzZVN0YXRlWzFdO1xuXG4gIHZhciBub3JtYWxpemVkVGl0bGUgPSB0aXRsZTtcbiAgdmFyIHRhYlN0eWxlcyA9IHt9O1xuXG4gIHZhciBvbk1vdXNlT3ZlclRhYiA9IGZ1bmN0aW9uIG9uTW91c2VPdmVyVGFiKGV2ZW50KSB7XG4gICAgc2V0T3Zlcih0cnVlKTtcblxuICAgIGlmIChvbk1vdXNlT3Zlcikge1xuICAgICAgb25Nb3VzZU92ZXIoZXZlbnQpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgb25Nb3VzZU91dFRhYiA9IGZ1bmN0aW9uIG9uTW91c2VPdXRUYWIoZXZlbnQpIHtcbiAgICBzZXRPdmVyKHVuZGVmaW5lZCk7XG5cbiAgICBpZiAob25Nb3VzZU91dCkge1xuICAgICAgb25Nb3VzZU91dChldmVudCk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBvbkNsaWNrVGFiID0gZnVuY3Rpb24gb25DbGlja1RhYihldmVudCkge1xuICAgIGlmIChldmVudCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG5cbiAgICBvbkFjdGl2YXRlKCk7XG4gIH07XG5cbiAgaWYgKCFwbGFpbikge1xuICAgIGlmICh0eXBlb2YgdGl0bGUgIT09ICdzdHJpbmcnKSB7XG4gICAgICBub3JtYWxpemVkVGl0bGUgPSB0aXRsZTtcbiAgICB9IGVsc2UgaWYgKGFjdGl2ZSkge1xuICAgICAgbm9ybWFsaXplZFRpdGxlID0gUmVhY3QuY3JlYXRlRWxlbWVudChUZXh0LCB0aGVtZS50YWIuYWN0aXZlLCB0aXRsZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5vcm1hbGl6ZWRUaXRsZSA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGV4dCwge1xuICAgICAgICBjb2xvcjogb3ZlciA/IHRoZW1lLnRhYi5ob3Zlci5jb2xvciA6IHRoZW1lLnRhYi5jb2xvclxuICAgICAgfSwgdGl0bGUpO1xuICAgIH1cblxuICAgIGlmICh0aGVtZS50YWIuYm9yZGVyKSB7XG4gICAgICB2YXIgYm9yZGVyQ29sb3IgPSB0aGVtZS50YWIuYm9yZGVyLmNvbG9yIHx8IHRoZW1lLmdsb2JhbC5jb250cm9sLmJvcmRlci5jb2xvcjtcblxuICAgICAgaWYgKGFjdGl2ZSkge1xuICAgICAgICBib3JkZXJDb2xvciA9IHRoZW1lLnRhYi5ib3JkZXIuYWN0aXZlLmNvbG9yIHx8IGJvcmRlckNvbG9yO1xuICAgICAgfSBlbHNlIGlmIChvdmVyKSB7XG4gICAgICAgIGJvcmRlckNvbG9yID0gdGhlbWUudGFiLmJvcmRlci5ob3Zlci5jb2xvciB8fCBib3JkZXJDb2xvcjtcbiAgICAgIH1cblxuICAgICAgYm9yZGVyQ29sb3IgPSBub3JtYWxpemVDb2xvcihib3JkZXJDb2xvciwgdGhlbWUpO1xuICAgICAgdGFiU3R5bGVzLmJvcmRlciA9IHtcbiAgICAgICAgc2lkZTogdGhlbWUudGFiLmJvcmRlci5zaWRlLFxuICAgICAgICBzaXplOiB0aGVtZS50YWIuYm9yZGVyLnNpemUsXG4gICAgICAgIGNvbG9yOiBib3JkZXJDb2xvclxuICAgICAgfTtcbiAgICB9XG5cbiAgICB0YWJTdHlsZXMuYmFja2dyb3VuZCA9IGFjdGl2ZSA/IHRoZW1lLnRhYi5hY3RpdmUuYmFja2dyb3VuZCB8fCB0aGVtZS50YWIuYmFja2dyb3VuZCA6IHRoZW1lLnRhYi5iYWNrZ3JvdW5kO1xuICAgIHRhYlN0eWxlcy5wYWQgPSB0aGVtZS50YWIucGFkO1xuICAgIHRhYlN0eWxlcy5tYXJnaW4gPSB0aGVtZS50YWIubWFyZ2luO1xuICB9XG5cbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCBfZXh0ZW5kcyh7XG4gICAgcmVmOiBmb3J3YXJkUmVmLFxuICAgIHBsYWluOiB0cnVlLFxuICAgIHJvbGU6IFwidGFiXCIsXG4gICAgXCJhcmlhLXNlbGVjdGVkXCI6IGFjdGl2ZSxcbiAgICBcImFyaWEtZXhwYW5kZWRcIjogYWN0aXZlXG4gIH0sIHJlc3QsIHtcbiAgICBvbkNsaWNrOiBvbkNsaWNrVGFiLFxuICAgIG9uTW91c2VPdmVyOiBvbk1vdXNlT3ZlclRhYixcbiAgICBvbk1vdXNlT3V0OiBvbk1vdXNlT3V0VGFiLFxuICAgIG9uRm9jdXM6IG9uTW91c2VPdmVyLFxuICAgIG9uQmx1cjogb25Nb3VzZU91dFxuICB9KSwgUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWRUYWIsIF9leHRlbmRzKHtcbiAgICBhczogQm94LFxuICAgIHBsYWluOiBwbGFpblxuICB9LCB0YWJTdHlsZXMpLCBub3JtYWxpemVkVGl0bGUpKTtcbn07XG5cblRhYi5kZWZhdWx0UHJvcHMgPSB7fTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihUYWIuZGVmYXVsdFByb3BzLCBkZWZhdWx0UHJvcHMpO1xudmFyIFRhYkRvYztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgVGFiRG9jID0gcmVxdWlyZSgnLi9kb2MnKS5kb2MoVGFiKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBnbG9iYWwtcmVxdWlyZVxufVxuXG52YXIgVGFiV3JhcHBlciA9IGNvbXBvc2Uod2l0aFRoZW1lLCB3aXRoRm9yd2FyZFJlZikoVGFiRG9jIHx8IFRhYik7XG5leHBvcnQgeyBUYWJXcmFwcGVyIGFzIFRhYiB9OyIsImltcG9ydCB7IGRlc2NyaWJlLCBQcm9wVHlwZXMgfSBmcm9tICdyZWFjdC1kZXNjJztcbmV4cG9ydCB2YXIgZG9jID0gZnVuY3Rpb24gZG9jKFRhYikge1xuICB2YXIgRG9jdW1lbnRlZFRhYiA9IGRlc2NyaWJlKFRhYikuZGVzY3JpcHRpb24oJ09uZSB0YWIgd2l0aGluIFRhYnMuJykudXNhZ2UoXCJpbXBvcnQgeyBUYWIgfSBmcm9tICdncm9tbWV0JztcXG48VGFiIC8+XCIpLmludHJpbnNpY0VsZW1lbnQoJ2J1dHRvbicpO1xuICBEb2N1bWVudGVkVGFiLnByb3BUeXBlcyA9IHtcbiAgICBwbGFpbjogUHJvcFR5cGVzLmJvb2wuZGVzY3JpcHRpb24oJ1doZXRoZXIgdGhpcyBpcyBhIHBsYWluIHRhYiB3aXRoIG5vIHN0eWxlLicpLmRlZmF1bHRWYWx1ZShmYWxzZSksXG4gICAgdGl0bGU6IFByb3BUeXBlcy5ub2RlLmRlc2NyaXB0aW9uKCdUaGUgdGl0bGUgb2YgdGhlIHRhYi4nKVxuICB9O1xuICByZXR1cm4gRG9jdW1lbnRlZFRhYjtcbn07XG5leHBvcnQgdmFyIHRoZW1lRG9jID0ge1xuICAndGFiLmFjdGl2ZSc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ3N0eWxlcyBmb3IgdGhlIGFjdGl2ZSB0YWIuJyxcbiAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICBkZWZhdWx0VmFsdWU6IFwie2NvbG9yOiAndGV4dCcsIGJhY2tncm91bmQ6IHVuZGVmaW5lZCB9XCJcbiAgfSxcbiAgJ3RhYi5iYWNrZ3JvdW5kJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnYmFja2dyb3VuZCBzdHlsaW5nIG9mIFRhYi4nLFxuICAgIHR5cGU6ICdvYmplY3QnLFxuICAgIGRlZmF1bHRWYWx1ZTogdW5kZWZpbmVkXG4gIH0sXG4gICd0YWIuYm9yZGVyJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnYm9yZGVyIHN0eWxlcyBvZiB0aGUgdGFiJyxcbiAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICBkZWZhdWx0VmFsdWU6IFwie1xcbiAgICAgIHNpZGU6ICdib3R0b20nLFxcbiAgICAgIHNpemU6ICdzbWFsbCcsXFxuICAgICAgY29sb3I6IHtcXG4gICAgICAgIGRhcms6ICdhY2NlbnQtMScsXFxuICAgICAgICBsaWdodDogJ2JyYW5kJyxcXG4gICAgICB9LFxcbiAgICAgIGFjdGl2ZToge1xcbiAgICAgICAgY29sb3I6IHtcXG4gICAgICAgICAgZGFyazogJ3doaXRlJyxcXG4gICAgICAgICAgbGlnaHQ6ICdibGFjaycsXFxuICAgICAgICB9LFxcbiAgICAgIH0sXFxuICAgICAgaG92ZXI6IHtcXG4gICAgICAgIGNvbG9yOiB7XFxuICAgICAgICAgIGRhcms6ICd3aGl0ZScsXFxuICAgICAgICAgIGxpZ2h0OiAnYmxhY2snLFxcbiAgICAgICAgfSxcXG4gICAgICAgIC8vIGV4dGVuZDogdW5kZWZpbmVkLFxcbiAgICAgIH0sXFxuICAgIH1cIlxuICB9LFxuICAndGFiLmNvbG9yJzoge1xuICAgIGRlc2NyaXB0aW9uOiAndGV4dCBjb2xvciBmb3IgdGhlIFRhYi4nLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogJ2NvbnRyb2wnXG4gIH0sXG4gICd0YWIuaG92ZXIuYmFja2dyb3VuZCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ2JhY2tncm91bmQgc3R5bGUgb2YgdGhlIFRhYiBvbiBob3Zlci4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCBvYmplY3QnLFxuICAgIGRlZmF1bHRWYWx1ZTogdW5kZWZpbmVkXG4gIH0sXG4gICd0YWIuaG92ZXIuY29sb3InOiB7XG4gICAgZGVzY3JpcHRpb246ICd0ZXh0IGNvbG9yIG9mIHRoZSB0YWIgb24gaG92ZXIuJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgeyBkYXJrOiBzdHJpbmcsIGxpZ2h0OiBzdHJpbmcgfScsXG4gICAgZGVmYXVsdFZhbHVlOiBcInsgZGFyazogJ3doaXRlJywgbGlnaHQ6ICdibGFjaycgfVwiXG4gIH0sXG4gICd0YWIuaG92ZXIuZXh0ZW5kJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnQW55IGFkZGl0aW9uYWwgc3R5bGUgZm9yIFRhYiBob3Zlci4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCAocHJvcHMpID0+IHt9JyxcbiAgICBkZWZhdWx0VmFsdWU6IHVuZGVmaW5lZFxuICB9LFxuICAndGFiLm1hcmdpbic6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBtYXJnaW4gb2YgVGFiLicsXG4gICAgdHlwZTogJ3N0cmluZyB8IG9iamVjdCcsXG4gICAgZGVmYXVsdFZhbHVlOiBcInsgdmVydGljYWw6ICd4eHNtYWxsJywgaG9yaXpvbnRhbDogJ3NtYWxsJyB9XCJcbiAgfSxcbiAgJ3RhYi5wYWQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgcGFkIG9mIFRhYi4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCBvYmplY3QnLFxuICAgIGRlZmF1bHRWYWx1ZTogXCJ7IGJvdHRvbTogJ3hzbWFsbCcgfVwiXG4gIH1cbn07IiwiZXhwb3J0IHsgVGFiIH0gZnJvbSAnLi9UYWInOyIsImltcG9ydCBzdHlsZWQsIHsgY3NzIH0gZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgYmFja2dyb3VuZFN0eWxlLCBib3JkZXJTdHlsZSwgZWRnZVN0eWxlLCBnZW5lcmljU3R5bGVzIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuaW1wb3J0IHsgZGVmYXVsdFByb3BzIH0gZnJvbSAnLi4vLi4vZGVmYXVsdC1wcm9wcyc7XG52YXIgU0laRV9NQVAgPSB7XG4gICcxLzInOiAnNTAlJyxcbiAgJzEvNCc6ICcyNSUnLFxuICAnMi80JzogJzUwJScsXG4gICczLzQnOiAnNzUlJyxcbiAgJzEvMyc6ICczMy4zMyUnLFxuICAnMi8zJzogJzY2LjY2JSdcbn07XG52YXIgc2l6ZVN0eWxlID0gY3NzKFtcIndpZHRoOlwiLCBcIjttYXgtd2lkdGg6XCIsIFwiO292ZXJmbG93OmhpZGRlbjtcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gU0laRV9NQVBbcHJvcHMuc2l6ZV0gfHwgcHJvcHMudGhlbWUuZ2xvYmFsLnNpemVbcHJvcHMuc2l6ZV07XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIFNJWkVfTUFQW3Byb3BzLnNpemVdIHx8IHByb3BzLnRoZW1lLmdsb2JhbC5zaXplW3Byb3BzLnNpemVdO1xufSk7XG52YXIgU3R5bGVkVGFibGVDZWxsID0gc3R5bGVkLnRkLndpdGhDb25maWcoe1xuICBkaXNwbGF5TmFtZTogXCJTdHlsZWRUYWJsZV9fU3R5bGVkVGFibGVDZWxsXCIsXG4gIGNvbXBvbmVudElkOiBcInNjLTFtM3U1Zy0wXCJcbn0pKFtcIm1hcmdpbjowO3BhZGRpbmc6MDtmb250LXdlaWdodDppbmhlcml0O3RleHQtYWxpZ246aW5oZXJpdDtoZWlnaHQ6MTAwJTtcIiwgXCIgXCIsIFwiIFwiLCBcIiBcIiwgXCIgXCIsIFwiIFwiLCBcIiBcIiwgXCJcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuc2l6ZSAmJiBzaXplU3R5bGU7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnZlcnRpY2FsQWxpZ24gJiYgXCJ2ZXJ0aWNhbC1hbGlnbjogXCIgKyBwcm9wcy52ZXJ0aWNhbEFsaWduICsgXCI7XCI7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLmFsaWduICYmIFwidGV4dC1hbGlnbjogXCIgKyBwcm9wcy5hbGlnbiArIFwiO1wiO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5iYWNrZ3JvdW5kICYmIGJhY2tncm91bmRTdHlsZShwcm9wcy5iYWNrZ3JvdW5kLCBwcm9wcy50aGVtZSk7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLmJvcmRlciAmJiBib3JkZXJTdHlsZShwcm9wcy5ib3JkZXIsIHByb3BzLnJlc3BvbnNpdmUsIHByb3BzLnRoZW1lKTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMucGFkICYmIGVkZ2VTdHlsZSgncGFkZGluZycsIHByb3BzLnBhZCwgcHJvcHMucmVzcG9uc2l2ZSwgcHJvcHMudGhlbWUuYm94LnJlc3BvbnNpdmVCcmVha3BvaW50LCBwcm9wcy50aGVtZSk7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRhYmxlQ29udGV4dFRoZW1lICYmIHByb3BzLnRhYmxlQ29udGV4dFRoZW1lLmV4dGVuZDtcbn0pO1xuU3R5bGVkVGFibGVDZWxsLmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKFN0eWxlZFRhYmxlQ2VsbC5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG52YXIgU3R5bGVkVGFibGVEYXRhQ2FwdGlvbiA9IHN0eWxlZC5jYXB0aW9uLndpdGhDb25maWcoe1xuICBkaXNwbGF5TmFtZTogXCJTdHlsZWRUYWJsZV9fU3R5bGVkVGFibGVEYXRhQ2FwdGlvblwiLFxuICBjb21wb25lbnRJZDogXCJzYy0xbTN1NWctMVwiXG59KShbXCJtYXJnaW4tYm90dG9tOlwiLCBcIjtcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUuZ2xvYmFsLmVkZ2VTaXplLnh4c21hbGw7XG59KTtcblN0eWxlZFRhYmxlRGF0YUNhcHRpb24uZGVmYXVsdFByb3BzID0ge307XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoU3R5bGVkVGFibGVEYXRhQ2FwdGlvbi5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG52YXIgU3R5bGVkVGFibGVSb3cgPSBzdHlsZWQudHIud2l0aENvbmZpZyh7XG4gIGRpc3BsYXlOYW1lOiBcIlN0eWxlZFRhYmxlX19TdHlsZWRUYWJsZVJvd1wiLFxuICBjb21wb25lbnRJZDogXCJzYy0xbTN1NWctMlwiXG59KShbXCJoZWlnaHQ6MTAwJTtcIl0pO1xuU3R5bGVkVGFibGVSb3cuZGVmYXVsdFByb3BzID0ge307XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoU3R5bGVkVGFibGVSb3cuZGVmYXVsdFByb3BzLCBkZWZhdWx0UHJvcHMpO1xudmFyIFN0eWxlZFRhYmxlQm9keSA9IHN0eWxlZC50Ym9keS53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiU3R5bGVkVGFibGVfX1N0eWxlZFRhYmxlQm9keVwiLFxuICBjb21wb25lbnRJZDogXCJzYy0xbTN1NWctM1wiXG59KShbXCJcIl0pO1xuU3R5bGVkVGFibGVCb2R5LmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKFN0eWxlZFRhYmxlQm9keS5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG52YXIgU3R5bGVkVGFibGVIZWFkZXIgPSBzdHlsZWQudGhlYWQud2l0aENvbmZpZyh7XG4gIGRpc3BsYXlOYW1lOiBcIlN0eWxlZFRhYmxlX19TdHlsZWRUYWJsZUhlYWRlclwiLFxuICBjb21wb25lbnRJZDogXCJzYy0xbTN1NWctNFwiXG59KShbXCJcIl0pO1xuU3R5bGVkVGFibGVIZWFkZXIuZGVmYXVsdFByb3BzID0ge307XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoU3R5bGVkVGFibGVIZWFkZXIuZGVmYXVsdFByb3BzLCBkZWZhdWx0UHJvcHMpO1xudmFyIFN0eWxlZFRhYmxlRm9vdGVyID0gc3R5bGVkLnRmb290LndpdGhDb25maWcoe1xuICBkaXNwbGF5TmFtZTogXCJTdHlsZWRUYWJsZV9fU3R5bGVkVGFibGVGb290ZXJcIixcbiAgY29tcG9uZW50SWQ6IFwic2MtMW0zdTVnLTVcIlxufSkoW1wiXCJdKTtcblN0eWxlZFRhYmxlRm9vdGVyLmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKFN0eWxlZFRhYmxlRm9vdGVyLmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbnZhciBTdHlsZWRUYWJsZSA9IHN0eWxlZC50YWJsZS53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiU3R5bGVkVGFibGVcIixcbiAgY29tcG9uZW50SWQ6IFwic2MtMW0zdTVnLTZcIlxufSkoW1wiYm9yZGVyLXNwYWNpbmc6MDtib3JkZXItY29sbGFwc2U6Y29sbGFwc2U7d2lkdGg6aW5oZXJpdDtAbWVkaWEgYWxsIGFuZCAobWluLS1tb3otZGV2aWNlLXBpeGVsLXJhdGlvOjApe3RhYmxlLWxheW91dDpmaXhlZDt9XCIsIFwiIFwiLCBcIjtcIl0sIGdlbmVyaWNTdHlsZXMsIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUudGFibGUgJiYgcHJvcHMudGhlbWUudGFibGUuZXh0ZW5kO1xufSk7XG5TdHlsZWRUYWJsZS5kZWZhdWx0UHJvcHMgPSB7fTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihTdHlsZWRUYWJsZS5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG5leHBvcnQgeyBTdHlsZWRUYWJsZUNlbGwsIFN0eWxlZFRhYmxlRGF0YUNhcHRpb24sIFN0eWxlZFRhYmxlUm93LCBTdHlsZWRUYWJsZUJvZHksIFN0eWxlZFRhYmxlSGVhZGVyLCBTdHlsZWRUYWJsZUZvb3RlciwgU3R5bGVkVGFibGUgfTsiLCJmdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBTdHlsZWRUYWJsZSwgU3R5bGVkVGFibGVEYXRhQ2FwdGlvbiB9IGZyb20gJy4vU3R5bGVkVGFibGUnO1xuXG52YXIgVGFibGUgPSBmdW5jdGlvbiBUYWJsZShfcmVmKSB7XG4gIHZhciBjYXB0aW9uID0gX3JlZi5jYXB0aW9uLFxuICAgICAgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9yZWYsIFtcImNhcHRpb25cIiwgXCJjaGlsZHJlblwiXSk7XG5cbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkVGFibGUsIHJlc3QsIGNhcHRpb24gPyBSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZFRhYmxlRGF0YUNhcHRpb24sIG51bGwsIGNhcHRpb24pIDogbnVsbCwgY2hpbGRyZW4pO1xufTtcblxudmFyIFRhYmxlRG9jO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBUYWJsZURvYyA9IHJlcXVpcmUoJy4vZG9jJykuZG9jKFRhYmxlKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBnbG9iYWwtcmVxdWlyZVxufVxuXG52YXIgVGFibGVXcmFwcGVyID0gVGFibGVEb2MgfHwgVGFibGU7XG5leHBvcnQgeyBUYWJsZVdyYXBwZXIgYXMgVGFibGUgfTsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuZXhwb3J0IHZhciBUYWJsZUNvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KHVuZGVmaW5lZCk7IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuaW1wb3J0IHsgZGVzY3JpYmUsIFByb3BUeXBlcyB9IGZyb20gJ3JlYWN0LWRlc2MnO1xuaW1wb3J0IHsgZ2VuZXJpY1Byb3BzLCBnZXRBdmFpbGFibGVBdEJhZGdlIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuaW1wb3J0IHsgdGhlbWVEb2NVdGlscyB9IGZyb20gJy4uLy4uL3V0aWxzL3RoZW1lRG9jVXRpbHMnO1xuZXhwb3J0IHZhciBkb2MgPSBmdW5jdGlvbiBkb2MoVGFibGUpIHtcbiAgdmFyIERvY3VtZW50ZWRUYWJsZSA9IGRlc2NyaWJlKFRhYmxlKS5hdmFpbGFibGVBdChnZXRBdmFpbGFibGVBdEJhZGdlKCdUYWJsZScpKS5kZXNjcmlwdGlvbignQSB0YWJsZSBvZiBkYXRhIG9yZ2FuaXplZCBpbiBjZWxscy4nKS51c2FnZSggLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1sZW5cbiAgXCJpbXBvcnQgeyBUYWJsZSwgVGFibGVIZWFkZXIsIFRhYmxlRm9vdGVyLCBUYWJsZUJvZHksIFRhYmxlUm93IH0gZnJvbSAnZ3JvbW1ldCc7XFxuPFRhYmxlIC8+XCIpLmludHJpbnNpY0VsZW1lbnQoJ3RhYmxlJyk7XG4gIERvY3VtZW50ZWRUYWJsZS5wcm9wVHlwZXMgPSBfZXh0ZW5kcyh7fSwgZ2VuZXJpY1Byb3BzLCB7XG4gICAgY2FwdGlvbjogUHJvcFR5cGVzLnN0cmluZy5kZXNjcmlwdGlvbignT25lIGxpbmUgZGVzY3JpcHRpb24uJylcbiAgfSk7XG4gIHJldHVybiBEb2N1bWVudGVkVGFibGU7XG59O1xuZXhwb3J0IHZhciB0aGVtZURvYyA9IF9leHRlbmRzKHt9LCB0aGVtZURvY1V0aWxzLnJlc3BvbnNpdmVCcmVha3BvaW50KCdUaGUgYWN0dWFsIGJyZWFrcG9pbnQgdG8gdHJpZ2dlciBjaGFuZ2VzIGluIFRhYmxlLicpLCB7XG4gICdnbG9iYWwuc2l6ZSc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBzaXplIHRoYXQgaW1wYWN0cyBtYXgtd2lkdGggYW5kIHdpZHRoLicsXG4gICAgZGVmYXVsdFZhbHVlOiBcIntcXG4gICAgICB4eHNtYWxsOiAnNDhweCcsXFxuICAgICAgeHNtYWxsOiAnOTZweCcsXFxuICAgICAgc21hbGw6ICcxOTJweCcsXFxuICAgICAgbWVkaXVtOiAnMzg0cHgnLFxcbiAgICAgIGxhcmdlOiAnNzY4cHgnLFxcbiAgICAgIHhsYXJnZTogJzExNTJweCcsXFxuICAgICAgeHhsYXJnZTogJzE1MzZweCcsXFxuICAgICAgZnVsbDogJzEwMCUnLFxcbiAgICAgIH1cIlxuICB9LFxuICAndGFibGUuZXh0ZW5kJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnQW55IGFkZGl0aW9uYWwgc3R5bGUgZm9yIFRhYmxlLicsXG4gICAgdHlwZTogJ3N0cmluZyB8IChwcm9wcykgPT4ge30nLFxuICAgIGRlZmF1bHRWYWx1ZTogdW5kZWZpbmVkXG4gIH1cbn0pOyIsImV4cG9ydCB7IFRhYmxlIH0gZnJvbSAnLi9UYWJsZSc7IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY29tcG9zZSB9IGZyb20gJ3JlY29tcG9zZSc7XG5pbXBvcnQgeyB3aXRoRm9yd2FyZFJlZiB9IGZyb20gJy4uL2hvY3MnO1xuaW1wb3J0IHsgVGFibGVDb250ZXh0IH0gZnJvbSAnLi4vVGFibGUvVGFibGVDb250ZXh0JztcbmltcG9ydCB7IFN0eWxlZFRhYmxlQm9keSB9IGZyb20gJy4uL1RhYmxlL1N0eWxlZFRhYmxlJztcblxudmFyIFRhYmxlQm9keSA9IGZ1bmN0aW9uIFRhYmxlQm9keShfcmVmKSB7XG4gIHZhciBmb3J3YXJkUmVmID0gX3JlZi5mb3J3YXJkUmVmLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9yZWYsIFtcImZvcndhcmRSZWZcIl0pO1xuXG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFRhYmxlQ29udGV4dC5Qcm92aWRlciwge1xuICAgIHZhbHVlOiBcImJvZHlcIlxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZFRhYmxlQm9keSwgX2V4dGVuZHMoe1xuICAgIHJlZjogZm9yd2FyZFJlZlxuICB9LCByZXN0KSkpO1xufTtcblxudmFyIFRhYmxlQm9keURvYztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGdsb2JhbC1yZXF1aXJlXG4gIFRhYmxlQm9keURvYyA9IHJlcXVpcmUoJy4vZG9jJykuZG9jKFRhYmxlQm9keSk7XG59XG5cbnZhciBUYWJsZUJvZHlXcmFwcGVyID0gY29tcG9zZSh3aXRoRm9yd2FyZFJlZikoVGFibGVCb2R5RG9jIHx8IFRhYmxlQm9keSk7XG5leHBvcnQgeyBUYWJsZUJvZHlXcmFwcGVyIGFzIFRhYmxlQm9keSB9OyIsImltcG9ydCB7IGRlc2NyaWJlIH0gZnJvbSAncmVhY3QtZGVzYyc7XG5leHBvcnQgdmFyIGRvYyA9IGZ1bmN0aW9uIGRvYyhUYWJsZUJvZHkpIHtcbiAgdmFyIERvY3VtZW50ZWRUYWJsZUJvZHkgPSBkZXNjcmliZShUYWJsZUJvZHkpLmRlc2NyaXB0aW9uKCdUaGUgYm9keSBvZiBhIHRhYmxlLicpLnVzYWdlKFwiaW1wb3J0IHsgVGFibGVCb2R5IH0gZnJvbSAnZ3JvbW1ldCc7XFxuPFRhYmxlQm9keSAvPlwiKS5pbnRyaW5zaWNFbGVtZW50KCd0Ym9keScpO1xuICByZXR1cm4gRG9jdW1lbnRlZFRhYmxlQm9keTtcbn07IiwiZXhwb3J0IHsgVGFibGVCb2R5IH0gZnJvbSAnLi9UYWJsZUJvZHknOyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbXBvc2UgfSBmcm9tICdyZWNvbXBvc2UnO1xuaW1wb3J0IHsgd2l0aFRoZW1lIH0gZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgZGVmYXVsdFByb3BzIH0gZnJvbSAnLi4vLi4vZGVmYXVsdC1wcm9wcyc7XG5pbXBvcnQgeyBCb3ggfSBmcm9tICcuLi9Cb3gnO1xuaW1wb3J0IHsgVGFibGVDb250ZXh0IH0gZnJvbSAnLi4vVGFibGUvVGFibGVDb250ZXh0JztcbmltcG9ydCB7IFN0eWxlZFRhYmxlQ2VsbCB9IGZyb20gJy4uL1RhYmxlL1N0eWxlZFRhYmxlJztcblxudmFyIFRhYmxlQ2VsbCA9IGZ1bmN0aW9uIFRhYmxlQ2VsbChfcmVmKSB7XG4gIHZhciBhbGlnbiA9IF9yZWYuYWxpZ24sXG4gICAgICBiYWNrZ3JvdW5kID0gX3JlZi5iYWNrZ3JvdW5kLFxuICAgICAgYm9yZGVyID0gX3JlZi5ib3JkZXIsXG4gICAgICBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW4sXG4gICAgICBjb2xTcGFuID0gX3JlZi5jb2xTcGFuLFxuICAgICAgcGFkID0gX3JlZi5wYWQsXG4gICAgICBwbGFpbiA9IF9yZWYucGxhaW4sXG4gICAgICBzY29wZSA9IF9yZWYuc2NvcGUsXG4gICAgICBzaXplID0gX3JlZi5zaXplLFxuICAgICAgdGhlbWUgPSBfcmVmLnRoZW1lLFxuICAgICAgdmVydGljYWxBbGlnbiA9IF9yZWYudmVydGljYWxBbGlnbixcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfcmVmLCBbXCJhbGlnblwiLCBcImJhY2tncm91bmRcIiwgXCJib3JkZXJcIiwgXCJjaGlsZHJlblwiLCBcImNvbFNwYW5cIiwgXCJwYWRcIiwgXCJwbGFpblwiLCBcInNjb3BlXCIsIFwic2l6ZVwiLCBcInRoZW1lXCIsIFwidmVydGljYWxBbGlnblwiXSk7XG5cbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGFibGVDb250ZXh0LkNvbnN1bWVyLCBudWxsLCBmdW5jdGlvbiAodGFibGVDb250ZXh0KSB7XG4gICAgdmFyIHRhYmxlQ29udGV4dFRoZW1lO1xuXG4gICAgaWYgKHRhYmxlQ29udGV4dCA9PT0gJ2hlYWRlcicpIHtcbiAgICAgIHRhYmxlQ29udGV4dFRoZW1lID0gdGhlbWUudGFibGUgJiYgdGhlbWUudGFibGUuaGVhZGVyO1xuICAgIH0gZWxzZSBpZiAodGFibGVDb250ZXh0ID09PSAnZm9vdGVyJykge1xuICAgICAgdGFibGVDb250ZXh0VGhlbWUgPSB0aGVtZS50YWJsZSAmJiB0aGVtZS50YWJsZS5mb290ZXI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRhYmxlQ29udGV4dFRoZW1lID0gdGhlbWUudGFibGUgJiYgdGhlbWUudGFibGUuYm9keTtcbiAgICB9IC8vIG1lcmdlIHRhYmVsQ29udGV4dFRoZW1lIGFuZCByZXN0XG5cblxuICAgIHZhciBtZXJnZWRQcm9wcyA9IF9leHRlbmRzKHt9LCB0YWJsZUNvbnRleHRUaGVtZSwge30sIHJlc3QpO1xuXG4gICAgT2JqZWN0LmtleXMobWVyZ2VkUHJvcHMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgaWYgKHJlc3Rba2V5XSA9PT0gdW5kZWZpbmVkKSBtZXJnZWRQcm9wc1trZXldID0gdGFibGVDb250ZXh0VGhlbWVba2V5XTtcbiAgICB9KTsgLy8gc3BsaXQgb3V0IGJhY2tncm91bmQsIGJvcmRlciwgYW5kIHBhZFxuXG4gICAgdmFyIGNlbGxQcm9wcyA9IHtcbiAgICAgIGFsaWduOiBhbGlnbiB8fCBtZXJnZWRQcm9wcy5hbGlnbiB8fCB1bmRlZmluZWQsXG4gICAgICBiYWNrZ3JvdW5kOiBiYWNrZ3JvdW5kIHx8IG1lcmdlZFByb3BzLmJhY2tncm91bmQgfHwgdW5kZWZpbmVkLFxuICAgICAgYm9yZGVyOiBib3JkZXIgfHwgbWVyZ2VkUHJvcHMuYm9yZGVyIHx8IHVuZGVmaW5lZCxcbiAgICAgIHBhZDogcGFkIHx8IG1lcmdlZFByb3BzLnBhZCB8fCB1bmRlZmluZWQsXG4gICAgICB2ZXJ0aWNhbEFsaWduOiB2ZXJ0aWNhbEFsaWduIHx8IG1lcmdlZFByb3BzLnZlcnRpY2FsQWxpZ24gfHwgdW5kZWZpbmVkXG4gICAgfTtcbiAgICBkZWxldGUgbWVyZ2VkUHJvcHMuYWxpZ247XG4gICAgZGVsZXRlIG1lcmdlZFByb3BzLmJhY2tncm91bmQ7XG4gICAgZGVsZXRlIG1lcmdlZFByb3BzLmJvcmRlcjtcbiAgICBkZWxldGUgbWVyZ2VkUHJvcHMucGFkO1xuICAgIGRlbGV0ZSBtZXJnZWRQcm9wcy52ZXJ0aWNhbEFsaWduO1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZFRhYmxlQ2VsbCwgX2V4dGVuZHMoe1xuICAgICAgYXM6IHNjb3BlID8gJ3RoJyA6IHVuZGVmaW5lZCxcbiAgICAgIHNjb3BlOiBzY29wZSxcbiAgICAgIHNpemU6IHNpemUsXG4gICAgICBjb2xTcGFuOiBjb2xTcGFuLFxuICAgICAgdGFibGVDb250ZXh0OiB0YWJsZUNvbnRleHQsXG4gICAgICB0YWJsZUNvbnRleHRUaGVtZTogdGFibGVDb250ZXh0VGhlbWVcbiAgICB9LCBwbGFpbiA/IG1lcmdlZFByb3BzIDoge30sIGNlbGxQcm9wcyksIHBsYWluIHx8ICFPYmplY3Qua2V5cyhtZXJnZWRQcm9wcykubGVuZ3RoID8gY2hpbGRyZW4gOiBSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwgX2V4dGVuZHMoe30sIG1lcmdlZFByb3BzLCB7XG4gICAgICBhbGlnbjogYWxpZ25cbiAgICB9KSwgY2hpbGRyZW4pKTtcbiAgfSk7XG59O1xuXG5UYWJsZUNlbGwuZGVmYXVsdFByb3BzID0ge307XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoVGFibGVDZWxsLmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbnZhciBUYWJsZUNlbGxEb2M7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBnbG9iYWwtcmVxdWlyZVxuICBUYWJsZUNlbGxEb2MgPSByZXF1aXJlKCcuL2RvYycpLmRvYyhUYWJsZUNlbGwpO1xufVxuXG52YXIgVGFibGVDZWxsV3JhcHBlciA9IGNvbXBvc2Uod2l0aFRoZW1lKShUYWJsZUNlbGxEb2MgfHwgVGFibGVDZWxsKTtcbmV4cG9ydCB7IFRhYmxlQ2VsbFdyYXBwZXIgYXMgVGFibGVDZWxsIH07IiwiaW1wb3J0IHsgZGVzY3JpYmUsIFByb3BUeXBlcyB9IGZyb20gJ3JlYWN0LWRlc2MnO1xuZXhwb3J0IHZhciBkb2MgPSBmdW5jdGlvbiBkb2MoVGFibGVDZWxsKSB7XG4gIHZhciBEb2N1bWVudGVkVGFibGVDZWxsID0gZGVzY3JpYmUoVGFibGVDZWxsKS5kZXNjcmlwdGlvbignQSBjZWxsIG9mIGRhdGEgaW4gYSB0YWJsZS4nKS51c2FnZShcImltcG9ydCB7IFRhYmxlQ2VsbCB9IGZyb20gJ2dyb21tZXQnO1xcbjxUYWJsZUNlbGwgLz5cIikuaW50cmluc2ljRWxlbWVudCgndGQnKTtcbiAgRG9jdW1lbnRlZFRhYmxlQ2VsbC5wcm9wVHlwZXMgPSB7XG4gICAgcGxhaW46IFByb3BUeXBlcy5ib29sLmRlc2NyaXB0aW9uKCdXaGV0aGVyIGRlZmF1bHQgc3R5bGluZyBjb250ZXh0IHNob3VsZCBiZSByZW1vdmVkLicpLmRlZmF1bHRWYWx1ZShmYWxzZSksXG4gICAgc2NvcGU6IFByb3BUeXBlcy5vbmVPZihbJ2NvbCcsICdyb3cnXSkuZGVzY3JpcHRpb24oXCJGb3IgaGVhZGVyIGNlbGxzLCB3aGF0IHNjb3BlIHRoZSBoZWFkZXIgaXMgZm9yLlxcbiAgICAgICAgVHlwaWNhbGx5LCB0aGUgY2VsbHMgaW4gYSBUYWJsZUhlYWRlciBoYXZlICdjb2wnIHNjb3BlIGFuZFxcbiAgICAgICAgdGhlIHByaW1hcnkgY2VsbCBpbiBlYWNoIHJvdyBpbiB0aGUgVGFibGVCb2R5IGhhcyAncm93JyBzY29wZS5cIiksXG4gICAgc2l6ZTogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFsneHhzbWFsbCcsICd4c21hbGwnLCAnc21hbGwnLCAnbWVkaXVtJywgJ2xhcmdlJywgJ3hsYXJnZScsICcxLzInLCAnMS8zJywgJzIvMycsICcxLzQnLCAnMi80JywgJzMvNCddKSwgUHJvcFR5cGVzLnN0cmluZ10pLmRlc2NyaXB0aW9uKFwiV2hhdCBzaXplIHRoZSBjZWxsIHNob3VsZCBiZS4gVHlwaWNhbGx5LCB0aGlzIGlzIG5vdCBuZWVkZWRcXG4gICAgICB1bmxlc3MgeW91IGFyZSB0cnlpbmcgdG8gYWxpZ24gbXVsdGlwbGUgdGFibGVzLlwiKSxcbiAgICB2ZXJ0aWNhbEFsaWduOiBQcm9wVHlwZXMub25lT2YoWyd0b3AnLCAnbWlkZGxlJywgJ2JvdHRvbSddKS5kZXNjcmlwdGlvbignSG93IHRvIGFsaWduIHRoZSBjb250ZW50cyB2ZXJ0aWNhbGx5LicpXG4gIH07XG4gIHJldHVybiBEb2N1bWVudGVkVGFibGVDZWxsO1xufTtcbmV4cG9ydCB2YXIgdGhlbWVEb2MgPSB7XG4gICd0YWJsZS5ib2R5LmFsaWduJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnSG93IHRvIGFsaWduIHRoZSBib2R5IGluc2lkZSB0aGUgVGFibGUuJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICdzdGFydCdcbiAgfSxcbiAgJ3RhYmxlLmJvZHkuYm9yZGVyJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGJvcmRlciBzaWRlIG9mIHRoZSBib2R5LicsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiB1bmRlZmluZWRcbiAgfSxcbiAgJ3RhYmxlLmJvZHkuZXh0ZW5kJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnQW55IGFkZGl0aW9uYWwgc3R5bGUgZm9yIFRhYmxlIGJvZHkuJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgKHByb3BzKSA9PiB7fScsXG4gICAgZGVmYXVsdFZhbHVlOiB1bmRlZmluZWRcbiAgfSxcbiAgJ3RhYmxlLmJvZHkucGFkJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIHBhZGRpbmcgb2YgdGhlIGJvZHkuJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgb2JqZWN0JyxcbiAgICBkZWZhdWx0VmFsdWU6IFwieyBob3Jpem9udGFsOiAnc21hbGwnLCB2ZXJ0aWNhbDogJ3hzbWFsbCcgfVwiXG4gIH0sXG4gICd0YWJsZS5mb290ZXIuYWxpZ24nOiB7XG4gICAgZGVzY3JpcHRpb246ICdIb3cgdG8gYWxpZ24gdGhlIGZvb3RlciBpbnNpZGUgdGhlIFRhYmxlLicsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiAnc3RhcnQnXG4gIH0sXG4gICd0YWJsZS5mb290ZXIuYm9yZGVyJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGJvcmRlciBzaWRlIG9mIHRoZSBmb290ZXIuJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICd0b3AnXG4gIH0sXG4gICd0YWJsZS5mb290ZXIuZXh0ZW5kJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnQW55IGFkZGl0aW9uYWwgc3R5bGUgZm9yIFRhYmxlIGZvb3Rlci4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCAocHJvcHMpID0+IHt9JyxcbiAgICBkZWZhdWx0VmFsdWU6IHVuZGVmaW5lZFxuICB9LFxuICAndGFibGUuZm9vdGVyLmZpbGwnOiB7XG4gICAgZGVzY3JpcHRpb246ICdXaGV0aGVyIHRoZSBoZWlnaHQgc2hvdWxkIGZpbGwgdGhlIGZvb3Rlci4nLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogJ3ZlcnRpY2FsJ1xuICB9LFxuICAndGFibGUuZm9vdGVyLnBhZCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBwYWRkaW5nIG9mIHRoZSBmb290ZXIuJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgb2JqZWN0JyxcbiAgICBkZWZhdWx0VmFsdWU6IFwieyBob3Jpem9udGFsOiAnc21hbGwnLCB2ZXJ0aWNhbDogJ3hzbWFsbCcgfVwiXG4gIH0sXG4gICd0YWJsZS5mb290ZXIudmVydGljYWxBbGlnbic6IHtcbiAgICBkZXNjcmlwdGlvbjogJ0hvdyB0byBhbGlnbiB0aGUgY29udGVudCB2ZXJ0aWNhbGx5LicsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiAndG9wJ1xuICB9LFxuICAndGFibGUuaGVhZGVyLmFsaWduJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnSG93IHRvIGFsaWduIHRoZSBoZWFkZXIgaW5zaWRlIHRoZSBUYWJsZS4nLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogJ3N0YXJ0J1xuICB9LFxuICAndGFibGUuaGVhZGVyLmJhY2tncm91bmQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgYmFja2dyb3VuZCBjb2xvciBvZiB0aGUgaGVhZGVyLicsXG4gICAgdHlwZTogJ3N0cmluZyB8IG9iamVjdCcsXG4gICAgZGVmYXVsdFZhbHVlOiB1bmRlZmluZWRcbiAgfSxcbiAgJ3RhYmxlLmhlYWRlci5ib3JkZXInOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgYm9yZGVyIHNpZGUgb2YgdGhlIGhlYWRlci4nLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogJ2JvdHRvbSdcbiAgfSxcbiAgJ3RhYmxlLmhlYWRlci5maWxsJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnV2hldGhlciB0aGUgaGVpZ2h0IHNob3VsZCBmaWxsIHRoZSBoZWFkZXIuJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICd2ZXJ0aWNhbCdcbiAgfSxcbiAgJ3RhYmxlLmhlYWRlci5leHRlbmQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdBbnkgYWRkaXRpb25hbCBzdHlsZSBmb3IgVGFibGUgaGVhZGVyLicsXG4gICAgdHlwZTogJ3N0cmluZyB8IChwcm9wcykgPT4ge30nLFxuICAgIGRlZmF1bHRWYWx1ZTogdW5kZWZpbmVkXG4gIH0sXG4gICd0YWJsZS5oZWFkZXIucGFkJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIHBhZGRpbmcgb2YgdGhlIGhlYWRlci4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCBvYmplY3QnLFxuICAgIGRlZmF1bHRWYWx1ZTogXCJ7IGhvcml6b250YWw6ICdzbWFsbCcsIHZlcnRpY2FsOiAneHNtYWxsJyB9XCJcbiAgfSxcbiAgJ3RhYmxlLmhlYWRlci52ZXJ0aWNhbEFsaWduJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnSG93IHRvIGFsaWduIHRoZSBjb250ZW50IHZlcnRpY2FsbHkuJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICdib3R0b20nXG4gIH1cbn07IiwiZXhwb3J0IHsgVGFibGVDZWxsIH0gZnJvbSAnLi9UYWJsZUNlbGwnOyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBUYWJsZUNvbnRleHQgfSBmcm9tICcuLi9UYWJsZS9UYWJsZUNvbnRleHQnO1xuaW1wb3J0IHsgU3R5bGVkVGFibGVGb290ZXIgfSBmcm9tICcuLi9UYWJsZS9TdHlsZWRUYWJsZSc7XG5cbnZhciBUYWJsZUZvb3RlciA9IGZ1bmN0aW9uIFRhYmxlRm9vdGVyKHByb3BzKSB7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFRhYmxlQ29udGV4dC5Qcm92aWRlciwge1xuICAgIHZhbHVlOiBcImZvb3RlclwiXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkVGFibGVGb290ZXIsIHByb3BzKSk7XG59O1xuXG52YXIgVGFibGVGb290ZXJEb2M7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBnbG9iYWwtcmVxdWlyZVxuICBUYWJsZUZvb3RlckRvYyA9IHJlcXVpcmUoJy4vZG9jJykuZG9jKFRhYmxlRm9vdGVyKTtcbn1cblxudmFyIFRhYmxlRm9vdGVyV3JhcHBlciA9IFRhYmxlRm9vdGVyRG9jIHx8IFRhYmxlRm9vdGVyO1xuZXhwb3J0IHsgVGFibGVGb290ZXJXcmFwcGVyIGFzIFRhYmxlRm9vdGVyIH07IiwiaW1wb3J0IHsgZGVzY3JpYmUgfSBmcm9tICdyZWFjdC1kZXNjJztcbmV4cG9ydCB2YXIgZG9jID0gZnVuY3Rpb24gZG9jKFRhYmxlRm9vdGVyKSB7XG4gIHZhciBEb2N1bWVudGVkVGFibGVGb290ZXIgPSBkZXNjcmliZShUYWJsZUZvb3RlcikuZGVzY3JpcHRpb24oJ1RoZSBmb290ZXIgb2YgYSB0YWJsZS4nKS51c2FnZShcImltcG9ydCB7IFRhYmxlRm9vdGVyIH0gZnJvbSAnZ3JvbW1ldCc7XFxuPFRhYmxlRm9vdGVyIC8+XCIpLmludHJpbnNpY0VsZW1lbnQoJ3Rmb290Jyk7XG4gIHJldHVybiBEb2N1bWVudGVkVGFibGVGb290ZXI7XG59OyIsImV4cG9ydCB7IFRhYmxlRm9vdGVyIH0gZnJvbSAnLi9UYWJsZUZvb3Rlcic7IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFRhYmxlQ29udGV4dCB9IGZyb20gJy4uL1RhYmxlL1RhYmxlQ29udGV4dCc7XG5pbXBvcnQgeyBTdHlsZWRUYWJsZUhlYWRlciB9IGZyb20gJy4uL1RhYmxlL1N0eWxlZFRhYmxlJztcblxudmFyIFRhYmxlSGVhZGVyID0gZnVuY3Rpb24gVGFibGVIZWFkZXIocHJvcHMpIHtcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGFibGVDb250ZXh0LlByb3ZpZGVyLCB7XG4gICAgdmFsdWU6IFwiaGVhZGVyXCJcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWRUYWJsZUhlYWRlciwgcHJvcHMpKTtcbn07XG5cbnZhciBUYWJsZUhlYWRlckRvYztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGdsb2JhbC1yZXF1aXJlXG4gIFRhYmxlSGVhZGVyRG9jID0gcmVxdWlyZSgnLi9kb2MnKS5kb2MoVGFibGVIZWFkZXIpO1xufVxuXG52YXIgVGFibGVIZWFkZXJXcmFwcGVyID0gVGFibGVIZWFkZXJEb2MgfHwgVGFibGVIZWFkZXI7XG5leHBvcnQgeyBUYWJsZUhlYWRlcldyYXBwZXIgYXMgVGFibGVIZWFkZXIgfTsiLCJpbXBvcnQgeyBkZXNjcmliZSB9IGZyb20gJ3JlYWN0LWRlc2MnO1xuZXhwb3J0IHZhciBkb2MgPSBmdW5jdGlvbiBkb2MoVGFibGVIZWFkZXIpIHtcbiAgdmFyIERvY3VtZW50ZWRUYWJsZUhlYWRlciA9IGRlc2NyaWJlKFRhYmxlSGVhZGVyKS5kZXNjcmlwdGlvbignVGhlIGhlYWRlciBvZiBhIHRhYmxlLicpLnVzYWdlKFwiaW1wb3J0IHsgVGFibGVIZWFkZXIgfSBmcm9tICdncm9tbWV0JztcXG48VGFibGVIZWFkZXIgLz5cIikuaW50cmluc2ljRWxlbWVudCgndGhlYWQnKTtcbiAgcmV0dXJuIERvY3VtZW50ZWRUYWJsZUhlYWRlcjtcbn07IiwiZXhwb3J0IHsgVGFibGVIZWFkZXIgfSBmcm9tICcuL1RhYmxlSGVhZGVyJzsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgU3R5bGVkVGFibGVSb3cgfSBmcm9tICcuLi9UYWJsZS9TdHlsZWRUYWJsZSc7XG5cbnZhciBUYWJsZVJvdyA9IGZ1bmN0aW9uIFRhYmxlUm93KHByb3BzKSB7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZFRhYmxlUm93LCBwcm9wcyk7XG59O1xuXG52YXIgVGFibGVSb3dEb2M7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBnbG9iYWwtcmVxdWlyZVxuICBUYWJsZVJvd0RvYyA9IHJlcXVpcmUoJy4vZG9jJykuZG9jKFRhYmxlUm93KTtcbn1cblxudmFyIFRhYmxlUm93V3JhcHBlciA9IFRhYmxlUm93RG9jIHx8IFRhYmxlUm93O1xuZXhwb3J0IHsgVGFibGVSb3dXcmFwcGVyIGFzIFRhYmxlUm93IH07IiwiaW1wb3J0IHsgZGVzY3JpYmUgfSBmcm9tICdyZWFjdC1kZXNjJztcbmV4cG9ydCB2YXIgZG9jID0gZnVuY3Rpb24gZG9jKFRhYmxlUm93KSB7XG4gIHZhciBEb2N1bWVudGVkVGFibGVSb3cgPSBkZXNjcmliZShUYWJsZVJvdykuZGVzY3JpcHRpb24oJ0Egcm93IG9mIGNlbGxzIGluIGEgdGFibGUuJykudXNhZ2UoXCJpbXBvcnQgeyBUYWJsZVJvdyB9IGZyb20gJ2dyb21tZXQnO1xcbjxUYWJsZVJvdyAvPlwiKS5pbnRyaW5zaWNFbGVtZW50KCd0cicpO1xuICByZXR1cm4gRG9jdW1lbnRlZFRhYmxlUm93O1xufTsiLCJleHBvcnQgeyBUYWJsZVJvdyB9IGZyb20gJy4vVGFibGVSb3cnOyIsInZhciBfRkxFWF9NQVA7XG5cbmltcG9ydCBzdHlsZWQsIHsgY3NzIH0gZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgZ2VuZXJpY1N0eWxlcyB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmltcG9ydCB7IGRlZmF1bHRQcm9wcyB9IGZyb20gJy4uLy4uL2RlZmF1bHQtcHJvcHMnO1xudmFyIFN0eWxlZFRhYnNIZWFkZXIgPSBzdHlsZWQuZGl2LndpdGhDb25maWcoe1xuICBkaXNwbGF5TmFtZTogXCJTdHlsZWRUYWJzX19TdHlsZWRUYWJzSGVhZGVyXCIsXG4gIGNvbXBvbmVudElkOiBcImE0Znd4bC0wXCJcbn0pKFtcIlwiLCBcIjtcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUudGFicy5oZWFkZXIuZXh0ZW5kO1xufSk7XG5TdHlsZWRUYWJzSGVhZGVyLmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKFN0eWxlZFRhYnNIZWFkZXIuZGVmYXVsdFByb3BzLCBkZWZhdWx0UHJvcHMpO1xudmFyIEZMRVhfTUFQID0gKF9GTEVYX01BUCA9IHt9LCBfRkxFWF9NQVBbdHJ1ZV0gPSAnMSAxJywgX0ZMRVhfTUFQW2ZhbHNlXSA9ICcwIDAnLCBfRkxFWF9NQVAuZ3JvdyA9ICcxIDAnLCBfRkxFWF9NQVAuc2hyaW5rID0gJzAgMScsIF9GTEVYX01BUCk7XG52YXIgZmxleFN0eWxlID0gY3NzKFtcImZsZXg6XCIsIFwiO1wiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBcIlwiICsgRkxFWF9NQVBbcHJvcHMuZmxleF0gKyAocHJvcHMuZmxleCAhPT0gdHJ1ZSA/ICcgYXV0bycgOiAnJyk7XG59KTtcbnZhciBTdHlsZWRUYWJQYW5lbCA9IHN0eWxlZC5kaXYud2l0aENvbmZpZyh7XG4gIGRpc3BsYXlOYW1lOiBcIlN0eWxlZFRhYnNfX1N0eWxlZFRhYlBhbmVsXCIsXG4gIGNvbXBvbmVudElkOiBcImE0Znd4bC0xXCJcbn0pKFtcIm1pbi1oZWlnaHQ6MDtcIiwgXCIgXCIsIFwiO1wiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5mbGV4ICYmIGZsZXhTdHlsZTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUudGFicy5wYW5lbC5leHRlbmQ7XG59KTtcblN0eWxlZFRhYlBhbmVsLmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKFN0eWxlZFRhYlBhbmVsLmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbnZhciBTdHlsZWRUYWJzID0gc3R5bGVkLmRpdi53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiU3R5bGVkVGFic1wiLFxuICBjb21wb25lbnRJZDogXCJhNGZ3eGwtMlwiXG59KShbXCJcIiwgXCIgXCIsIFwiO1wiXSwgZ2VuZXJpY1N0eWxlcywgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS50YWJzLmV4dGVuZDtcbn0pO1xuU3R5bGVkVGFicy5kZWZhdWx0UHJvcHMgPSB7fTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihTdHlsZWRUYWJzLmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbmV4cG9ydCB7IFN0eWxlZFRhYnNIZWFkZXIsIFN0eWxlZFRhYlBhbmVsLCBTdHlsZWRUYWJzIH07IiwidmFyIF90aGlzID0gdGhpcztcblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5pbXBvcnQgUmVhY3QsIHsgY2xvbmVFbGVtZW50LCBDaGlsZHJlbiwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjb21wb3NlIH0gZnJvbSAncmVjb21wb3NlJztcbmltcG9ydCB7IHdpdGhUaGVtZSB9IGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCB7IGRlZmF1bHRQcm9wcyB9IGZyb20gJy4uLy4uL2RlZmF1bHQtcHJvcHMnO1xuaW1wb3J0IHsgQm94IH0gZnJvbSAnLi4vQm94JztcbmltcG9ydCB7IFN0eWxlZFRhYlBhbmVsLCBTdHlsZWRUYWJzLCBTdHlsZWRUYWJzSGVhZGVyIH0gZnJvbSAnLi9TdHlsZWRUYWJzJztcblxudmFyIFRhYnMgPSBmdW5jdGlvbiBUYWJzKF9yZWYpIHtcbiAgdmFyIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbixcbiAgICAgIGZsZXggPSBfcmVmLmZsZXgsXG4gICAgICBfcmVmJGp1c3RpZnkgPSBfcmVmLmp1c3RpZnksXG4gICAgICBqdXN0aWZ5ID0gX3JlZiRqdXN0aWZ5ID09PSB2b2lkIDAgPyAnY2VudGVyJyA6IF9yZWYkanVzdGlmeSxcbiAgICAgIF9yZWYkbWVzc2FnZXMgPSBfcmVmLm1lc3NhZ2VzLFxuICAgICAgbWVzc2FnZXMgPSBfcmVmJG1lc3NhZ2VzID09PSB2b2lkIDAgPyB7XG4gICAgdGFiQ29udGVudHM6ICdUYWIgQ29udGVudHMnXG4gIH0gOiBfcmVmJG1lc3NhZ2VzLFxuICAgICAgdGhlbWUgPSBfcmVmLnRoZW1lLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9yZWYsIFtcImNoaWxkcmVuXCIsIFwiZmxleFwiLCBcImp1c3RpZnlcIiwgXCJtZXNzYWdlc1wiLCBcInRoZW1lXCJdKTtcblxuICB2YXIgcHJvcHNBY3RpdmVJbmRleCA9IHJlc3QuYWN0aXZlSW5kZXgsXG4gICAgICBvbkFjdGl2ZSA9IHJlc3Qub25BY3RpdmU7XG5cbiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKHJlc3QuYWN0aXZlSW5kZXggfHwgMCksXG4gICAgICBhY3RpdmVJbmRleCA9IF91c2VTdGF0ZVswXSxcbiAgICAgIHNldEFjdGl2ZUluZGV4ID0gX3VzZVN0YXRlWzFdO1xuXG4gIGlmIChhY3RpdmVJbmRleCAhPT0gcHJvcHNBY3RpdmVJbmRleCAmJiBwcm9wc0FjdGl2ZUluZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICBzZXRBY3RpdmVJbmRleChwcm9wc0FjdGl2ZUluZGV4KTtcbiAgfVxuXG4gIHZhciBhY3RpdmF0ZVRhYiA9IGZ1bmN0aW9uIGFjdGl2YXRlVGFiKGluZGV4KSB7XG4gICAgaWYgKHByb3BzQWN0aXZlSW5kZXggPT09IHVuZGVmaW5lZCkge1xuICAgICAgc2V0QWN0aXZlSW5kZXgoaW5kZXgpO1xuICAgIH1cblxuICAgIGlmIChvbkFjdGl2ZSkge1xuICAgICAgb25BY3RpdmUoaW5kZXgpO1xuICAgIH1cbiAgfTtcbiAgLyogZXNsaW50LWRpc2FibGUgbm8tcGFyYW0tcmVhc3NpZ24gKi9cblxuXG4gIGRlbGV0ZSByZXN0LmFjdGl2ZUluZGV4O1xuICBkZWxldGUgcmVzdC5vbkFjdGl2ZTtcbiAgLyogZXNsaW50LWVuYWJsZSBuby1wYXJhbS1yZWFzc2lnbiAqL1xuXG4gIHZhciBhY3RpdmVDb250ZW50O1xuICB2YXIgYWN0aXZlVGl0bGU7XG4gIHZhciB0YWJzID0gQ2hpbGRyZW4ubWFwKGNoaWxkcmVuLCBmdW5jdGlvbiAodGFiLCBpbmRleCkge1xuICAgIGlmICghdGFiKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgIHZhciB0YWJQcm9wcyA9IHRhYi5wcm9wcyB8fCB7fTtcbiAgICB2YXIgaXNUYWJBY3RpdmUgPSBpbmRleCA9PT0gYWN0aXZlSW5kZXg7XG5cbiAgICBpZiAoaXNUYWJBY3RpdmUpIHtcbiAgICAgIGFjdGl2ZUNvbnRlbnQgPSB0YWJQcm9wcy5jaGlsZHJlbjtcblxuICAgICAgaWYgKHR5cGVvZiB0YWJQcm9wcy50aXRsZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgYWN0aXZlVGl0bGUgPSB0YWJQcm9wcy50aXRsZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFjdGl2ZVRpdGxlID0gaW5kZXggKyAxO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBjbG9uZUVsZW1lbnQodGFiLCB7XG4gICAgICBhY3RpdmU6IGlzVGFiQWN0aXZlLFxuICAgICAgb25BY3RpdmF0ZTogZnVuY3Rpb24gb25BY3RpdmF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIGFjdGl2YXRlVGFiKGluZGV4KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSwgX3RoaXMpO1xuICB2YXIgdGFiQ29udGVudFRpdGxlID0gKGFjdGl2ZVRpdGxlIHx8ICcnKSArIFwiIFwiICsgbWVzc2FnZXMudGFiQ29udGVudHM7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZFRhYnMsIF9leHRlbmRzKHtcbiAgICBhczogQm94LFxuICAgIHJvbGU6IFwidGFibGlzdFwiLFxuICAgIGZsZXg6IGZsZXhcbiAgfSwgcmVzdCwge1xuICAgIGJhY2tncm91bmQ6IHRoZW1lLnRhYnMuYmFja2dyb3VuZFxuICB9KSwgUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWRUYWJzSGVhZGVyLCB7XG4gICAgYXM6IEJveCxcbiAgICBkaXJlY3Rpb246IFwicm93XCIsXG4gICAganVzdGlmeToganVzdGlmeSxcbiAgICBmbGV4OiBmYWxzZSxcbiAgICB3cmFwOiB0cnVlLFxuICAgIGJhY2tncm91bmQ6IHRoZW1lLnRhYnMuaGVhZGVyLmJhY2tncm91bmQsXG4gICAgZ2FwOiB0aGVtZS50YWJzLmdhcFxuICB9LCB0YWJzKSwgUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWRUYWJQYW5lbCwge1xuICAgIGZsZXg6IGZsZXgsXG4gICAgXCJhcmlhLWxhYmVsXCI6IHRhYkNvbnRlbnRUaXRsZSxcbiAgICByb2xlOiBcInRhYnBhbmVsXCJcbiAgfSwgYWN0aXZlQ29udGVudCkpO1xufTtcblxuVGFicy5kZWZhdWx0UHJvcHMgPSB7fTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihUYWJzLmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbnZhciBUYWJzRG9jO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBUYWJzRG9jID0gcmVxdWlyZSgnLi9kb2MnKS5kb2MoVGFicyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZ2xvYmFsLXJlcXVpcmVcbn1cblxudmFyIFRhYnNXcmFwcGVyID0gY29tcG9zZSh3aXRoVGhlbWUpKFRhYnNEb2MgfHwgVGFicyk7XG5leHBvcnQgeyBUYWJzV3JhcHBlciBhcyBUYWJzIH07IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuaW1wb3J0IHsgZGVzY3JpYmUsIFByb3BUeXBlcyB9IGZyb20gJ3JlYWN0LWRlc2MnO1xuaW1wb3J0IHsgZ2VuZXJpY1Byb3BzLCBnZXRBdmFpbGFibGVBdEJhZGdlIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuZXhwb3J0IHZhciBkb2MgPSBmdW5jdGlvbiBkb2MoVGFicykge1xuICB2YXIgRG9jdW1lbnRlZFRhYnMgPSBkZXNjcmliZShUYWJzKS5hdmFpbGFibGVBdChnZXRBdmFpbGFibGVBdEJhZGdlKCdUYWJzJykpLmRlc2NyaXB0aW9uKCdBIGNvbnRhaW5lciB3aXRoIGNvbnRyb2xzIHRvIHNob3cgb25lIFRhYiBhdCBhIHRpbWUuJykudXNhZ2UoXCJpbXBvcnQgeyBUYWJzLCBUYWIgfSBmcm9tICdncm9tbWV0JztcXG48VGFicz5cXG4gIDxUYWIgdGl0bGU9J1RhYiAxJz4uLi48L1RhYj5cXG4gIDxUYWIgdGl0bGU9J1RhYiAyJz4uLi48L1RhYj5cXG48L1RhYnM+XCIpLmludHJpbnNpY0VsZW1lbnQoJ2RpdicpO1xuICBEb2N1bWVudGVkVGFicy5wcm9wVHlwZXMgPSBfZXh0ZW5kcyh7fSwgZ2VuZXJpY1Byb3BzLCB7XG4gICAgYWN0aXZlSW5kZXg6IFByb3BUeXBlcy5udW1iZXIuZGVzY3JpcHRpb24oXCJBY3RpdmUgdGFiIGluZGV4LiBJZiBzcGVjaWZpZWQsIFRhYnMgd2lsbCBiZSBhIGNvbnRyb2xsZWQgY29tcG9uZW50LlxcblRoaXMgbWVhbnMgdGhhdCBmdXR1cmUgdGFiIGNoYW5nZXMgd2lsbCBub3Qgd29yayB1bmxlc3MgeW91IHN1YnNjcmliZSB0b1xcbm9uQWN0aXZlIGZ1bmN0aW9uIGFuZCB1cGRhdGUgYWN0aXZlSW5kZXggYWNjb3JkaW5nbHkuXCIpLFxuICAgIGNoaWxkcmVuOiBQcm9wVHlwZXMubm9kZS5kZXNjcmlwdGlvbignQXJyYXkgb2YgVGFiLicpLmlzUmVxdWlyZWQsXG4gICAgZmxleDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFsnZ3JvdycsICdzaHJpbmsnXSksIFByb3BUeXBlcy5ib29sXSkuZGVzY3JpcHRpb24oJ1doZXRoZXIgZmxleC1ncm93IGFuZC9vciBmbGV4LXNocmluayBpcyB0cnVlLicpLFxuICAgIGp1c3RpZnk6IFByb3BUeXBlcy5vbmVPZihbJ3N0YXJ0JywgJ2NlbnRlcicsICdlbmQnXSkuZGVzY3JpcHRpb24oJ0hvdyB0byBhbGlnbiB0aGUgdGFicyBhbG9uZyB0aGUgbWFpbiBheGlzLicpLmRlZmF1bHRWYWx1ZSgnY2VudGVyJyksXG4gICAgbWVzc2FnZXM6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICB0YWJDb250ZW50czogUHJvcFR5cGVzLnN0cmluZ1xuICAgIH0pLmRlc2NyaXB0aW9uKCdDdXN0b20gbWVzc2FnZXMgZm9yIFRhYnMuIFVzZWQgZm9yIGFjY2Vzc2liaWxpdHkgYnkgc2NyZWVuIHJlYWRlcnMuJykuZGVmYXVsdFZhbHVlKHtcbiAgICAgIHRhYkNvbnRlbnRzOiAnVGFiIENvbnRlbnRzJ1xuICAgIH0pLFxuICAgIG9uQWN0aXZlOiBQcm9wVHlwZXMuZnVuYy5kZXNjcmlwdGlvbihcIkZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2l0aCB0aGUgYWN0aXZlIHRhYiBpbmRleCB3aGVuIHRoZVxcbmN1cnJlbnRseSBhY3RpdmUgdGFiIGNoYW5nZXMuXCIpXG4gIH0pO1xuICByZXR1cm4gRG9jdW1lbnRlZFRhYnM7XG59O1xuZXhwb3J0IHZhciB0aGVtZURvYyA9IHtcbiAgJ2dsb2JhbC5ib3JkZXJTaXplJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIHNpemUgb2YgdGhlIGJvcmRlci4nLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogXCJ7XFxuICAgICAgeHNtYWxsOiAnMXB4JyxcXG4gICAgICBzbWFsbDogJzJweCcsXFxuICAgICAgbWVkaXVtOiAnNHB4JyxcXG4gICAgICBsYXJnZTogJzEycHgnLFxcbiAgICAgIHhsYXJnZTogJzI0cHgsXFxuICAgIH1cIlxuICB9LFxuICAnZ2xvYmFsLmNvbG9ycy5ib3JkZXInOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgY29sb3Igb2YgdGFicyBib3JkZXIuJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgeyBkYXJrOiBzdHJpbmcsIGxpZ2h0OiBzdHJpbmcgfScsXG4gICAgZGVmYXVsdFZhbHVlOiAneyBkYXJrOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMzMpLCBsaWdodDogcmdiYSgwLCAwLCAwLCAwLjMzKSB9J1xuICB9LFxuICAnZ2xvYmFsLmVkZ2VTaXplLnNtYWxsJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIHBvc3NpYmxlIHNpemVzIGZvciBtYXJnaW4sIHBhZCBhbmQgZ2FwLicsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiAnNnB4J1xuICB9LFxuICAndGFicy5iYWNrZ3JvdW5kJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnYmFja2dyb3VuZCBzdHlsaW5nIG9mIFRhYnMuJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgb2JqZWN0JyxcbiAgICBkZWZhdWx0VmFsdWU6IHVuZGVmaW5lZFxuICB9LFxuICAndGFicy5leHRlbmQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdBbnkgYWRkaXRpb25hbCBzdHlsZSBmb3IgVGFicy4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCAocHJvcHMpID0+IHt9JyxcbiAgICBkZWZhdWx0VmFsdWU6IHVuZGVmaW5lZFxuICB9LFxuICAndGFicy5nYXAnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgZ2FwIHNpemUgYmV0d2VlbiB0aGUgVGFicy4nLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogdW5kZWZpbmVkXG4gIH0sXG4gICd0YWJzLmhlYWRlci5iYWNrZ3JvdW5kJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGJhY2tncm91bmQgc3R5bGVzIG9mIFRhYnMgaGVhZGVyLicsXG4gICAgdHlwZTogJ3N0cmluZyB8IHsgZGFyazogc3RyaW5nLCBsaWdodDogc3RyaW5nIH0nLFxuICAgIGRlZmF1bHRWYWx1ZTogdW5kZWZpbmVkXG4gIH0sXG4gICd0YWJzLmhlYWRlci5leHRlbmQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdBbnkgYWRkaXRpb25hbCBzdHlsZSBmb3IgVGFicyBoZWFkZXIuJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgKHByb3BzKSA9PiB7fScsXG4gICAgZGVmYXVsdFZhbHVlOiB1bmRlZmluZWRcbiAgfSxcbiAgJ3RhYnMucGFuZWwuZXh0ZW5kJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnQW55IGFkZGl0aW9uYWwgc3R5bGUgZm9yIFRhYnMgcGFuZWwuJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgKHByb3BzKSA9PiB7fScsXG4gICAgZGVmYXVsdFZhbHVlOiB1bmRlZmluZWRcbiAgfVxufTsiLCJleHBvcnQgeyBUYWJzIH0gZnJvbSAnLi9UYWJzJzsiLCJpbXBvcnQgc3R5bGVkLCB7IGNzcyB9IGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCB7IGdlbmVyaWNTdHlsZXMsIG5vcm1hbGl6ZUNvbG9yIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuaW1wb3J0IHsgZGVmYXVsdFByb3BzIH0gZnJvbSAnLi4vLi4vZGVmYXVsdC1wcm9wcyc7XG5cbnZhciBzaXplU3R5bGUgPSBmdW5jdGlvbiBzaXplU3R5bGUocHJvcHMpIHtcbiAgdmFyIHNpemUgPSBwcm9wcy5zaXplIHx8ICdtZWRpdW0nO1xuICB2YXIgZGF0YSA9IHByb3BzLnRoZW1lLnRleHRbc2l6ZV07XG5cbiAgaWYgKGRhdGEpIHtcbiAgICByZXR1cm4gY3NzKFtcImZvbnQtc2l6ZTpcIiwgXCI7bGluZS1oZWlnaHQ6XCIsIFwiO1wiXSwgZGF0YS5zaXplLCBkYXRhLmhlaWdodCk7XG4gIH1cblxuICByZXR1cm4gY3NzKFtcImZvbnQtc2l6ZTpcIiwgXCI7bGluZS1oZWlnaHQ6bm9ybWFsO1wiXSwgc2l6ZSk7XG59O1xuXG52YXIgVEVYVF9BTElHTl9NQVAgPSB7XG4gIGNlbnRlcjogJ2NlbnRlcicsXG4gIGVuZDogJ3JpZ2h0JyxcbiAgc3RhcnQ6ICdsZWZ0J1xufTtcbnZhciB0ZXh0QWxpZ25TdHlsZSA9IGNzcyhbXCJ0ZXh0LWFsaWduOlwiLCBcIjtcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gVEVYVF9BTElHTl9NQVBbcHJvcHMudGV4dEFsaWduXTtcbn0pO1xudmFyIHRydW5jYXRlU3R5bGUgPSBcIlxcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcXG5cIjtcbnZhciBjb2xvclN0eWxlID0gY3NzKFtcImNvbG9yOlwiLCBcIjtcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gbm9ybWFsaXplQ29sb3IocHJvcHMuY29sb3JQcm9wLCBwcm9wcy50aGVtZSk7XG59KTtcbnZhciB3ZWlnaHRTdHlsZSA9IGNzcyhbXCJmb250LXdlaWdodDpcIiwgXCI7XCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLndlaWdodDtcbn0pO1xudmFyIHdvcmRCcmVha1N0eWxlID0gY3NzKFtcIndvcmQtYnJlYWs6XCIsIFwiO1wiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy53b3JkQnJlYWs7XG59KTtcbnZhciBTdHlsZWRUZXh0ID0gc3R5bGVkLnNwYW4ud2l0aENvbmZpZyh7XG4gIGRpc3BsYXlOYW1lOiBcIlN0eWxlZFRleHRcIixcbiAgY29tcG9uZW50SWQ6IFwic2MtMXNhZHlqbi0wXCJcbn0pKFtcIlwiLCBcIiBcIiwgXCIgXCIsIFwiIFwiLCBcIiBcIiwgXCIgXCIsIFwiIFwiLCBcIiBcIiwgXCJcIl0sIGdlbmVyaWNTdHlsZXMsIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gc2l6ZVN0eWxlKHByb3BzKTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGV4dEFsaWduICYmIHRleHRBbGlnblN0eWxlO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50cnVuY2F0ZSAmJiB0cnVuY2F0ZVN0eWxlO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5jb2xvclByb3AgJiYgY29sb3JTdHlsZTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMud2VpZ2h0ICYmIHdlaWdodFN0eWxlO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy53b3JkQnJlYWsgJiYgd29yZEJyZWFrU3R5bGU7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLnRleHQgJiYgcHJvcHMudGhlbWUudGV4dC5leHRlbmQ7XG59KTtcblN0eWxlZFRleHQuZGVmYXVsdFByb3BzID0ge307XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoU3R5bGVkVGV4dC5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG5leHBvcnQgeyBTdHlsZWRUZXh0IH07IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgU3R5bGVkVGV4dCB9IGZyb20gJy4vU3R5bGVkVGV4dCc7XG5cbnZhciBUZXh0ID0gZnVuY3Rpb24gVGV4dChfcmVmKSB7XG4gIHZhciBjb2xvciA9IF9yZWYuY29sb3IsXG4gICAgICB0YWcgPSBfcmVmLnRhZyxcbiAgICAgIGFzID0gX3JlZi5hcyxcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfcmVmLCBbXCJjb2xvclwiLCBcInRhZ1wiLCBcImFzXCJdKTtcblxuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWRUZXh0LCBfZXh0ZW5kcyh7XG4gICAgYXM6ICFhcyAmJiB0YWcgPyB0YWcgOiBhcyxcbiAgICBjb2xvclByb3A6IGNvbG9yXG4gIH0sIHJlc3QpKTtcbn07XG5cblRleHQuZGVmYXVsdFByb3BzID0ge1xuICBsZXZlbDogMVxufTtcbnZhciBUZXh0RG9jO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBUZXh0RG9jID0gcmVxdWlyZSgnLi9kb2MnKS5kb2MoVGV4dCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZ2xvYmFsLXJlcXVpcmVcbn1cblxudmFyIFRleHRXcmFwcGVyID0gVGV4dERvYyB8fCBUZXh0O1xuZXhwb3J0IHsgVGV4dFdyYXBwZXIgYXMgVGV4dCB9OyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmltcG9ydCB7IGRlc2NyaWJlLCBQcm9wVHlwZXMgfSBmcm9tICdyZWFjdC1kZXNjJztcbmltcG9ydCB7IGNvbG9yUHJvcFR5cGUsIGdlbmVyaWNQcm9wcywgZ2V0QXZhaWxhYmxlQXRCYWRnZSwgdGhlbWVEb2NVdGlscyB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmV4cG9ydCB2YXIgZG9jID0gZnVuY3Rpb24gZG9jKFRleHQpIHtcbiAgdmFyIERvY3VtZW50ZWRUZXh0ID0gZGVzY3JpYmUoVGV4dCkuYXZhaWxhYmxlQXQoZ2V0QXZhaWxhYmxlQXRCYWRnZSgnVGV4dCcpKS5kZXNjcmlwdGlvbignQXJiaXRyYXJ5IHRleHQuJykudXNhZ2UoXCJpbXBvcnQgeyBUZXh0IH0gZnJvbSAnZ3JvbW1ldCc7XFxuPFRleHQgLz5cIikuaW50cmluc2ljRWxlbWVudCgnc3BhbicpO1xuICBEb2N1bWVudGVkVGV4dC5wcm9wVHlwZXMgPSBfZXh0ZW5kcyh7fSwgZ2VuZXJpY1Byb3BzLCB7XG4gICAgY29sb3I6IGNvbG9yUHJvcFR5cGUuZGVzY3JpcHRpb24oJ0EgY29sb3IgaWRlbnRpZmllciB0byB1c2UgZm9yIHRoZSB0ZXh0IGNvbG9yLicpLFxuICAgIHNpemU6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbJ3hzbWFsbCcsICdzbWFsbCcsICdtZWRpdW0nLCAnbGFyZ2UnLCAneGxhcmdlJywgJ3h4bGFyZ2UnXSksIFByb3BUeXBlcy5zdHJpbmddKS5kZXNjcmlwdGlvbihcIlRoZSBmb250IHNpemUgYW5kIGxpbmUgaGVpZ2h0IGFyZSBwcmltYXJpbHkgZHJpdmVuIGJ5IHRoZSBjaG9zZW4gdGFnLiBcXG5CdXQsIGl0IGNhbiBiZSBhZGp1c3RlZCB2aWEgdGhpcyBzaXplIHByb3BlcnR5LiBUaGUgdGFnIHNob3VsZCBiZSBzZXQgZm9yIFxcbnNlbWFudGljIGNvcnJlY3RuZXNzIGFuZCBhY2Nlc3NpYmlsaXR5LiBUaGlzIHNpemUgcHJvcGVydHkgYWxsb3dzIGZvciBzdHlsaXN0aWNcXG5hZGp1c3RtZW50cy5cIikuZGVmYXVsdFZhbHVlKCdtZWRpdW0nKSxcbiAgICB0YWc6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5mdW5jXSkuZGVzY3JpcHRpb24oXCJUaGUgRE9NIHRhZyB0byB1c2UgZm9yIHRoZSBlbGVtZW50LiBOT1RFOiBUaGlzIGlzIGRlcHJlY2F0ZWQgaW4gZmF2b3JcXG4gICAgICAgICBvZiBpbmRpY2F0aW5nIHRoZSBET00gdGFnIHZpYSB0aGUgJ2FzJyBwcm9wZXJ0eS5cIiksXG4gICAgYXM6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5mdW5jLCBQcm9wVHlwZXMuZWxlbWVudF0pLmRlc2NyaXB0aW9uKFwiVGhlIERPTSB0YWcgb3IgcmVhY3QgY29tcG9uZW50IHRvIHVzZSBmb3IgdGhlIGVsZW1lbnQuXCIpLmRlZmF1bHRWYWx1ZSgnc3BhbicpLFxuICAgIHRleHRBbGlnbjogUHJvcFR5cGVzLm9uZU9mKFsnc3RhcnQnLCAnY2VudGVyJywgJ2VuZCddKS5kZXNjcmlwdGlvbignSG93IHRvIGFsaWduIHRoZSB0ZXh0IGluc2lkZSB0aGUgY29tcG9uZW50LicpLmRlZmF1bHRWYWx1ZSgnc3RhcnQnKSxcbiAgICB0cnVuY2F0ZTogUHJvcFR5cGVzLmJvb2wuZGVzY3JpcHRpb24oXCJSZXN0cmljdCB0aGUgdGV4dCB0byBhIHNpbmdsZSBsaW5lIGFuZCB0cnVuY2F0ZSB3aXRoIGVsbGlwc2lzIGlmIGl0XFxuaXMgdG9vIGxvbmcgdG8gYWxsIGZpdC5cIikuZGVmYXVsdFZhbHVlKGZhbHNlKSxcbiAgICB3ZWlnaHQ6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbJ25vcm1hbCcsICdib2xkJ10pLCBQcm9wVHlwZXMubnVtYmVyXSkuZGVzY3JpcHRpb24oJ0ZvbnQgd2VpZ2h0JyksXG4gICAgd29yZEJyZWFrOiBQcm9wVHlwZXMub25lT2YoWydub3JtYWwnLCAnYnJlYWstYWxsJywgJ2tlZXAtYWxsJywgJ2JyZWFrLXdvcmQnXSkuZGVzY3JpcHRpb24oJ1doZXRoZXIgd29yZHMgc2hvdWxkIGJyZWFrIHdoZW4gcmVhY2hpbmcgdGhlIGVuZCBvZiBhIGxpbmUuJykuZGVmYXVsdFZhbHVlKCdub3JtYWwnKVxuICB9KTtcbiAgcmV0dXJuIERvY3VtZW50ZWRUZXh0O1xufTtcbmV4cG9ydCB2YXIgdGhlbWVEb2MgPSBfZXh0ZW5kcyh7XG4gICdnbG9iYWwuY29sb3JzLnRleHQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgdGV4dCBjb2xvciB1c2VkIGZvciBUZXh0LicsXG4gICAgdHlwZTogJ29iamVjdCB8IHsgZGFyazogc3RyaW5nLCBsaWdodDogc3RyaW5nIH0nLFxuICAgIGRlZmF1bHRWYWx1ZTogXCJ7IGRhcms6ICcjZjhmOGY4JywgbGlnaHQ6ICcjNDQ0NDQ0JyB9XCJcbiAgfSxcbiAgdGV4dDoge1xuICAgIGRlc2NyaXB0aW9uOiBcIlRoZSBwb3NzaWJsZSBzaXplcyBvZiB0aGUgdGV4dCBpbiB0ZXJtcyBvZiBpdHMgZm9udC1zaXplIGFuZCBcXG5saW5lLWhlaWdodC5cIixcbiAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICBkZWZhdWx0VmFsdWU6IFwie1xcbiAgICAgIHhzbWFsbDoge1xcbiAgICAgICAgc2l6ZTogJzEycHgnLFxcbiAgICAgICAgaGVpZ2h0OiAnMThweCcsXFxuICAgICAgIH0sXFxuICAgICAgc21hbGw6IHtcXG4gICAgICAgIHNpemU6ICcxNHB4JyxcXG4gICAgICAgIGhlaWdodDogJzIwcHgnLFxcbiAgICAgICB9LFxcbiAgICAgIG1lZGl1bToge1xcbiAgICAgICAgc2l6ZTogJzE4cHgnLFxcbiAgICAgICAgaGVpZ2h0OiAnMjRweCcsXFxuICAgICAgfSxcXG4gICAgICBsYXJnZToge1xcbiAgICAgICAgc2l6ZTogJzIycHgnLFxcbiAgICAgICAgaGVpZ2h0OiAnMjhweCcsXFxuICAgICAgfSxcXG4gICAgICB4bGFyZ2U6IHtcXG4gICAgICAgIHNpemU6ICcyNnB4JyxcXG4gICAgICAgIGhlaWdodDogJzMycHgnLFxcbiAgICAgIH0sXFxuICAgICAgeHhsYXJnZToge1xcbiAgICAgICAgc2l6ZTogJzM0cHgnLFxcbiAgICAgICAgaGVpZ2h0OiAnNDBweCcsXFxuICAgICAgfSxcXG4gICAgfVwiXG4gIH0sXG4gICd0ZXh0LmV4dGVuZCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ0FueSBhZGRpdGlvbmFsIHN0eWxlIGZvciBUZXh0LicsXG4gICAgdHlwZTogJ3N0cmluZyB8IChwcm9wcykgPT4ge30nLFxuICAgIGRlZmF1bHRWYWx1ZTogdW5kZWZpbmVkXG4gIH1cbn0sIHRoZW1lRG9jVXRpbHMuZWRnZVN0eWxlKCdUaGUgcG9zc2libGUgc2l6ZXMgZm9yIG1hcmdpbi4nKSk7IiwiZXhwb3J0IHsgVGV4dCB9IGZyb20gJy4vVGV4dCc7IiwiaW1wb3J0IHN0eWxlZCwgeyBjc3MgfSBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBkaXNhYmxlZFN0eWxlLCBmb2N1c1N0eWxlLCBpbnB1dFN0eWxlLCBwbGFjZWhvbGRlclN0eWxlIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuaW1wb3J0IHsgZGVmYXVsdFByb3BzIH0gZnJvbSAnLi4vLi4vZGVmYXVsdC1wcm9wcyc7XG52YXIgcGxhaW5TdHlsZSA9IGNzcyhbXCJib3JkZXI6bm9uZTt3aWR0aDoxMDAlOy13ZWJraXQtYXBwZWFyYW5jZTpub25lO1wiXSk7XG5cbnZhciBzaXplU3R5bGUgPSBmdW5jdGlvbiBzaXplU3R5bGUocHJvcHMpIHtcbiAgdmFyIGRhdGEgPSBwcm9wcy50aGVtZS50ZXh0W3Byb3BzLnNpemVdO1xuICByZXR1cm4gY3NzKFtcImZvbnQtc2l6ZTpcIiwgXCI7bGluZS1oZWlnaHQ6XCIsIFwiO1wiXSwgZGF0YS5zaXplLCBkYXRhLmhlaWdodCk7XG59O1xuXG52YXIgcmVzaXplU3R5bGUgPSBmdW5jdGlvbiByZXNpemVTdHlsZShyZXNpemUpIHtcbiAgaWYgKHJlc2l6ZSA9PT0gJ2hvcml6b250YWwnKSB7XG4gICAgcmV0dXJuICdyZXNpemU6IGhvcml6b250YWw7JztcbiAgfVxuXG4gIGlmIChyZXNpemUgPT09ICd2ZXJ0aWNhbCcpIHtcbiAgICByZXR1cm4gJ3Jlc2l6ZTogdmVydGljYWw7JztcbiAgfVxuXG4gIGlmIChyZXNpemUpIHtcbiAgICByZXR1cm4gJ3Jlc2l6ZTogYm90aDsnO1xuICB9XG5cbiAgcmV0dXJuICdyZXNpemU6IG5vbmU7Jztcbn07XG5cbnZhciBTdHlsZWRUZXh0QXJlYSA9IHN0eWxlZC50ZXh0YXJlYS53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiU3R5bGVkVGV4dEFyZWFcIixcbiAgY29tcG9uZW50SWQ6IFwic2MtMTdpM213cC0wXCJcbn0pKFtcIlwiLCBcIiB3aWR0aDoxMDAlO1wiLCBcIiBcIiwgXCIgXCIsIFwiIFwiLCBcIiBcIiwgXCIgXCIsIFwiICY6Oi1tb3otZm9jdXMtaW5uZXJ7Ym9yZGVyOm5vbmU7b3V0bGluZTpub25lO31cIiwgXCI7XCIsIFwiO1wiXSwgaW5wdXRTdHlsZSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5yZXNpemUgIT09IHVuZGVmaW5lZCAmJiByZXNpemVTdHlsZShwcm9wcy5yZXNpemUpO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5maWxsQXJnICYmICdoZWlnaHQ6IDEwMCU7Jztcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuc2l6ZSAmJiBzaXplU3R5bGUocHJvcHMpO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5wbGFpbiAmJiBwbGFpblN0eWxlO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5kaXNhYmxlZCAmJiBkaXNhYmxlZFN0eWxlKHByb3BzLnRoZW1lLnRleHRBcmVhLmRpc2FibGVkICYmIHByb3BzLnRoZW1lLnRleHRBcmVhLmRpc2FibGVkLm9wYWNpdHkpO1xufSwgcGxhY2Vob2xkZXJTdHlsZSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5mb2N1cyAmJiAhcHJvcHMucGxhaW4gJiYgZm9jdXNTdHlsZTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUudGV4dEFyZWEgJiYgcHJvcHMudGhlbWUudGV4dEFyZWEuZXh0ZW5kO1xufSk7XG5TdHlsZWRUZXh0QXJlYS5kZWZhdWx0UHJvcHMgPSB7fTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihTdHlsZWRUZXh0QXJlYS5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG5leHBvcnQgeyBTdHlsZWRUZXh0QXJlYSB9OyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbXBvc2UgfSBmcm9tICdyZWNvbXBvc2UnO1xuaW1wb3J0IHsgS2V5Ym9hcmQgfSBmcm9tICcuLi9LZXlib2FyZCc7XG5pbXBvcnQgeyB3aXRoRm9jdXMsIHdpdGhGb3J3YXJkUmVmIH0gZnJvbSAnLi4vaG9jcyc7XG5pbXBvcnQgeyBTdHlsZWRUZXh0QXJlYSB9IGZyb20gJy4vU3R5bGVkVGV4dEFyZWEnO1xuXG52YXIgVGV4dEFyZWEgPSBmdW5jdGlvbiBUZXh0QXJlYShfcmVmKSB7XG4gIHZhciBmaWxsID0gX3JlZi5maWxsLFxuICAgICAgZm9yd2FyZFJlZiA9IF9yZWYuZm9yd2FyZFJlZixcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfcmVmLCBbXCJmaWxsXCIsIFwiZm9yd2FyZFJlZlwiXSk7XG5cbiAgdmFyIG9uRXNjID0gZnVuY3Rpb24gb25Fc2MoZXZlbnQpIHtcbiAgICAvLyB3ZSBoYXZlIHRvIHN0b3AgYm90aCBzeW50aGV0aWMgZXZlbnRzIGFuZCBuYXRpdmUgZXZlbnRzXG4gICAgLy8gZHJvcCBhbmQgbGF5ZXIgc2hvdWxkIG5vdCBjbG9zZSBieSBwcmVzc2luZyBlc2Mgb24gdGhpcyBpbnB1dFxuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGV2ZW50Lm5hdGl2ZUV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICB9O1xuXG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEtleWJvYXJkLCB7XG4gICAgb25Fc2M6IG9uRXNjXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkVGV4dEFyZWEsIF9leHRlbmRzKHtcbiAgICByZWY6IGZvcndhcmRSZWYsXG4gICAgZmlsbEFyZzogZmlsbFxuICB9LCByZXN0KSkpO1xufTtcblxudmFyIFRleHRBcmVhRG9jO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZ2xvYmFsLXJlcXVpcmVcbiAgVGV4dEFyZWFEb2MgPSByZXF1aXJlKCcuL2RvYycpLmRvYyhUZXh0QXJlYSk7XG59XG5cbnZhciBUZXh0QXJlYVdyYXBwZXIgPSBjb21wb3NlKHdpdGhGb2N1cyh7XG4gIGZvY3VzV2l0aE1vdXNlOiB0cnVlXG59KSwgd2l0aEZvcndhcmRSZWYpKFRleHRBcmVhRG9jIHx8IFRleHRBcmVhKTtcbmV4cG9ydCB7IFRleHRBcmVhV3JhcHBlciBhcyBUZXh0QXJlYSB9OyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmltcG9ydCB7IGRlc2NyaWJlLCBQcm9wVHlwZXMgfSBmcm9tICdyZWFjdC1kZXNjJztcbmltcG9ydCB7IGdldEF2YWlsYWJsZUF0QmFkZ2UsIHRoZW1lRG9jVXRpbHMgfSBmcm9tICcuLi8uLi91dGlscyc7XG5leHBvcnQgdmFyIGRvYyA9IGZ1bmN0aW9uIGRvYyhUZXh0QXJlYSkge1xuICB2YXIgRG9jdW1lbnRlZFRleHRBcmVhID0gZGVzY3JpYmUoVGV4dEFyZWEpLmF2YWlsYWJsZUF0KGdldEF2YWlsYWJsZUF0QmFkZ2UoJ1RleHRBcmVhJykpLmRlc2NyaXB0aW9uKCdBIGNvbnRyb2wgdG8gaW5wdXQgbXVsdGlwbGUgbGluZXMgb2YgdGV4dC4nKS51c2FnZShcImltcG9ydCB7IFRleHRBcmVhIH0gZnJvbSAnZ3JvbW1ldCc7XFxuPFRleHRBcmVhIGlkPSdpdGVtJyBuYW1lPSdpdGVtJyAvPlwiKS5pbnRyaW5zaWNFbGVtZW50KCd0ZXh0YXJlYScpO1xuICBEb2N1bWVudGVkVGV4dEFyZWEucHJvcFR5cGVzID0ge1xuICAgIGlkOiBQcm9wVHlwZXMuc3RyaW5nLmRlc2NyaXB0aW9uKCdUaGUgaWQgYXR0cmlidXRlIG9mIHRoZSB0ZXh0YXJlYS4nKSxcbiAgICBmaWxsOiBQcm9wVHlwZXMuYm9vbC5kZXNjcmlwdGlvbignV2hldGhlciB0aGUgd2lkdGggYW5kIGhlaWdodCBzaG91bGQgZmlsbCB0aGUgY29udGFpbmVyLicpLmRlZmF1bHRWYWx1ZShmYWxzZSksXG4gICAgZm9jdXNJbmRpY2F0b3I6IFByb3BUeXBlcy5ib29sLmRlc2NyaXB0aW9uKCdXaGV0aGVyIHRoZSBwbGFpbiB0ZXh0YXJlYSBzaG91bGQgcmVjZWl2ZSBhIGZvY3VzIG91dGxpbmUuJyksXG4gICAgbmFtZTogUHJvcFR5cGVzLnN0cmluZy5kZXNjcmlwdGlvbignVGhlIG5hbWUgYXR0cmlidXRlIG9mIHRoZSB0ZXh0YXJlYS4nKSxcbiAgICBvbkNoYW5nZTogUHJvcFR5cGVzLmZ1bmMuZGVzY3JpcHRpb24oJ0Z1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgdXNlciB0eXBlcyBpbiB0aGUgdGV4dGFyZWEuJyksXG4gICAgcGxhY2Vob2xkZXI6IFByb3BUeXBlcy5zdHJpbmcuZGVzY3JpcHRpb24oJ1BsYWNlaG9sZGVyIHRleHQgdG8gdXNlIHdoZW4gbm8gdmFsdWUgaXMgcHJvdmlkZWQuJyksXG4gICAgcGxhaW46IFByb3BUeXBlcy5ib29sLmRlc2NyaXB0aW9uKFwiV2hldGhlciB0aGlzIGlzIGEgcGxhaW4gdGV4dGFyZWEgd2l0aCBubyBib3JkZXIgb3IgcGFkZGluZy5cXG5Pbmx5IHVzZSB0aGlzIHdoZW4gdGhlIGNvbnRhaW5pbmcgY29udGV4dCBwcm92aWRlcyBzdWZmaWNpZW50IGFmZm9yZGFuY2UuXCIpLFxuICAgIHZhbHVlOiBQcm9wVHlwZXMuc3RyaW5nLmRlc2NyaXB0aW9uKCdXaGF0IHRleHQgdG8gcHV0IGluIHRoZSB0ZXh0YXJlYS4nKSxcbiAgICByZXNpemU6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbJ3ZlcnRpY2FsJywgJ2hvcml6b250YWwnXSksIFByb3BUeXBlcy5ib29sXSkuZGVzY3JpcHRpb24oJ1doZXRoZXIgdXNlciBpcyBhbGxvd2VkIHRvIHJlc2l6ZSB0aGUgdGV4dGFyZWEuJykuZGVmYXVsdFZhbHVlKHRydWUpLFxuICAgIHNpemU6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbJ3NtYWxsJywgJ21lZGl1bScsICdsYXJnZScsICd4bGFyZ2UnXSksIFByb3BUeXBlcy5zdHJpbmddKS5kZXNjcmlwdGlvbignVGhlIHNpemUgb2YgdGhlIFRleHRBcmVhLicpXG4gIH07XG4gIHJldHVybiBEb2N1bWVudGVkVGV4dEFyZWE7XG59O1xuZXhwb3J0IHZhciB0aGVtZURvYyA9IF9leHRlbmRzKHtcbiAgJ2dsb2JhbC5jb2xvcnMuYm9yZGVyJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGNvbG9yIG9mIHRoZSBib3JkZXIuJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgeyBkYXJrOiBzdHJpbmcsIGxpZ2h0OiBzdHJpbmcgfScsXG4gICAgZGVmYXVsdFZhbHVlOiB7XG4gICAgICBkYXJrOiAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjMzKScsXG4gICAgICBsaWdodDogJ3JnYmEoMCwgMCwgMCwgMC4zMyknXG4gICAgfVxuICB9LFxuICAnZ2xvYmFsLmNvbnRyb2wuYm9yZGVyLmNvbG9yJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGJvcmRlciBjb2xvci4nLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogJ2JvcmRlcidcbiAgfSxcbiAgJ2dsb2JhbC5jb250cm9sLmJvcmRlci5yYWRpdXMnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgYm9yZGVyIHJhZGl1cy4nLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogJzRweCdcbiAgfSxcbiAgJ2dsb2JhbC5jb250cm9sLmJvcmRlci53aWR0aCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBib3JkZXIgd2lkdGguJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICcxcHgnXG4gIH0sXG4gICd0ZXh0QXJlYS5leHRlbmQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdBbnkgYWRkaXRpb25hbCBzdHlsZSBmb3IgVGV4dC4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCAocHJvcHMpID0+IHt9JyxcbiAgICBkZWZhdWx0VmFsdWU6IHVuZGVmaW5lZFxuICB9LFxuICAndGV4dEFyZWEuZGlzYWJsZWQub3BhY2l0eSc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBvcGFjaXR5IHdoZW4gdGhlIHRleHRBcmVhIGlzIGRpc2FibGVkLicsXG4gICAgdHlwZTogJ251bWJlcicsXG4gICAgZGVmYXVsdFZhbHVlOiAwLjNcbiAgfVxufSwgdGhlbWVEb2NVdGlscy5mb2N1c1N0eWxlLCB7fSwgdGhlbWVEb2NVdGlscy5wbGFjZWhvbGRlclN0eWxlLCB7fSwgdGhlbWVEb2NVdGlscy5pbnB1dFN0eWxlLCB7fSwgdGhlbWVEb2NVdGlscy5kaXNhYmxlZFN0eWxlKTsiLCJleHBvcnQgeyBUZXh0QXJlYSB9IGZyb20gJy4vVGV4dEFyZWEnOyIsImltcG9ydCBzdHlsZWQsIHsgY3NzIH0gZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgZGlzYWJsZWRTdHlsZSwgZm9jdXNTdHlsZSwgaW5wdXRTdHlsZSwgcGFyc2VNZXRyaWNUb051bSwgcGxhY2Vob2xkZXJTdHlsZSB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmltcG9ydCB7IGRlZmF1bHRQcm9wcyB9IGZyb20gJy4uLy4uL2RlZmF1bHQtcHJvcHMnO1xuXG52YXIgc2l6ZVN0eWxlID0gZnVuY3Rpb24gc2l6ZVN0eWxlKHByb3BzKSB7XG4gIHZhciBkYXRhID0gcHJvcHMudGhlbWUudGV4dFtwcm9wcy5zaXplXTtcbiAgcmV0dXJuIGNzcyhbXCJmb250LXNpemU6XCIsIFwiO2xpbmUtaGVpZ2h0OlwiLCBcIjtcIl0sIGRhdGEuc2l6ZSwgZGF0YS5oZWlnaHQpO1xufTtcblxudmFyIHBsYWluU3R5bGUgPSBjc3MoW1wiYm9yZGVyOm5vbmU7XCJdKTtcbnZhciBTdHlsZWRUZXh0SW5wdXQgPSBzdHlsZWQuaW5wdXQud2l0aENvbmZpZyh7XG4gIGRpc3BsYXlOYW1lOiBcIlN0eWxlZFRleHRJbnB1dFwiLFxuICBjb21wb25lbnRJZDogXCJzYy0xeDMwYTBzLTBcIlxufSkoW1wiXCIsIFwiIHdpZHRoOjEwMCU7XCIsIFwiIFwiLCBcIiBcIiwgXCIgJjo6LW1vei1mb2N1cy1pbm5lcntib3JkZXI6bm9uZTtvdXRsaW5lOm5vbmU7fVwiLCBcIjtcIiwgXCIgXCIsIFwiO1wiXSwgaW5wdXRTdHlsZSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5zaXplICYmIHNpemVTdHlsZShwcm9wcyk7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnBsYWluICYmIHBsYWluU3R5bGU7XG59LCBwbGFjZWhvbGRlclN0eWxlLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLmZvY3VzICYmICFwcm9wcy5wbGFpbiAmJiBmb2N1c1N0eWxlO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5kaXNhYmxlZCAmJiBkaXNhYmxlZFN0eWxlKHByb3BzLnRoZW1lLnRleHRJbnB1dC5kaXNhYmxlZCAmJiBwcm9wcy50aGVtZS50ZXh0SW5wdXQuZGlzYWJsZWQub3BhY2l0eSk7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLnRleHRJbnB1dCAmJiBwcm9wcy50aGVtZS50ZXh0SW5wdXQuZXh0ZW5kO1xufSk7XG5TdHlsZWRUZXh0SW5wdXQuZGVmYXVsdFByb3BzID0ge307XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoU3R5bGVkVGV4dElucHV0LmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbnZhciBTdHlsZWRUZXh0SW5wdXRDb250YWluZXIgPSBzdHlsZWQuZGl2LndpdGhDb25maWcoe1xuICBkaXNwbGF5TmFtZTogXCJTdHlsZWRUZXh0SW5wdXRfX1N0eWxlZFRleHRJbnB1dENvbnRhaW5lclwiLFxuICBjb21wb25lbnRJZDogXCJzYy0xeDMwYTBzLTFcIlxufSkoW1wicG9zaXRpb246cmVsYXRpdmU7d2lkdGg6MTAwJTtcIiwgXCI7XCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLnRleHRJbnB1dCAmJiBwcm9wcy50aGVtZS50ZXh0SW5wdXQuY29udGFpbmVyICYmIHByb3BzLnRoZW1lLnRleHRJbnB1dC5jb250YWluZXIuZXh0ZW5kO1xufSk7XG5TdHlsZWRUZXh0SW5wdXRDb250YWluZXIuZGVmYXVsdFByb3BzID0ge307XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoU3R5bGVkVGV4dElucHV0Q29udGFpbmVyLmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbnZhciBTdHlsZWRQbGFjZWhvbGRlciA9IHN0eWxlZC5kaXYud2l0aENvbmZpZyh7XG4gIGRpc3BsYXlOYW1lOiBcIlN0eWxlZFRleHRJbnB1dF9fU3R5bGVkUGxhY2Vob2xkZXJcIixcbiAgY29tcG9uZW50SWQ6IFwic2MtMXgzMGEwcy0yXCJcbn0pKFtcInBvc2l0aW9uOmFic29sdXRlO2xlZnQ6XCIsIFwicHg7dG9wOjUwJTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgtNTAlKTtkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OmNlbnRlcjtwb2ludGVyLWV2ZW50czpub25lO1wiLCBcIjtcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcGFyc2VNZXRyaWNUb051bShwcm9wcy50aGVtZS5nbG9iYWwuaW5wdXQucGFkZGluZykgLSBwYXJzZU1ldHJpY1RvTnVtKHByb3BzLnRoZW1lLmdsb2JhbC5jb250cm9sLmJvcmRlci53aWR0aCk7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLnRleHRJbnB1dCAmJiBwcm9wcy50aGVtZS50ZXh0SW5wdXQucGxhY2Vob2xkZXIgJiYgcHJvcHMudGhlbWUudGV4dElucHV0LnBsYWNlaG9sZGVyLmV4dGVuZDtcbn0pO1xuU3R5bGVkUGxhY2Vob2xkZXIuZGVmYXVsdFByb3BzID0ge307XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoU3R5bGVkUGxhY2Vob2xkZXIuZGVmYXVsdFByb3BzLCBkZWZhdWx0UHJvcHMpO1xudmFyIFN0eWxlZFN1Z2dlc3Rpb25zID0gc3R5bGVkLm9sLndpdGhDb25maWcoe1xuICBkaXNwbGF5TmFtZTogXCJTdHlsZWRUZXh0SW5wdXRfX1N0eWxlZFN1Z2dlc3Rpb25zXCIsXG4gIGNvbXBvbmVudElkOiBcInNjLTF4MzBhMHMtM1wiXG59KShbXCJib3JkZXItdG9wLWxlZnQtcmFkaXVzOjA7Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6MDttYXJnaW46MDtwYWRkaW5nOjA7bGlzdC1zdHlsZS10eXBlOm5vbmU7XCIsIFwiO1wiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS50ZXh0SW5wdXQgJiYgcHJvcHMudGhlbWUudGV4dElucHV0LnN1Z2dlc3Rpb25zICYmIHByb3BzLnRoZW1lLnRleHRJbnB1dC5zdWdnZXN0aW9ucy5leHRlbmQ7XG59KTtcblN0eWxlZFN1Z2dlc3Rpb25zLmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKFN0eWxlZFN1Z2dlc3Rpb25zLmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbmV4cG9ydCB7IFN0eWxlZFRleHRJbnB1dCwgU3R5bGVkVGV4dElucHV0Q29udGFpbmVyLCBTdHlsZWRQbGFjZWhvbGRlciwgU3R5bGVkU3VnZ2VzdGlvbnMgfTsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHNMb29zZShzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MucHJvdG90eXBlKTsgc3ViQ2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gc3ViQ2xhc3M7IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCwgaXNWYWxpZEVsZW1lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjb21wb3NlIH0gZnJvbSAncmVjb21wb3NlJztcbmltcG9ydCBzdHlsZWQsIHsgd2l0aFRoZW1lIH0gZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgZGVmYXVsdFByb3BzIH0gZnJvbSAnLi4vLi4vZGVmYXVsdC1wcm9wcyc7XG5pbXBvcnQgeyBCb3ggfSBmcm9tICcuLi9Cb3gnO1xuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnLi4vQnV0dG9uJztcbmltcG9ydCB7IERyb3AgfSBmcm9tICcuLi9Ecm9wJztcbmltcG9ydCB7IEluZmluaXRlU2Nyb2xsIH0gZnJvbSAnLi4vSW5maW5pdGVTY3JvbGwnO1xuaW1wb3J0IHsgS2V5Ym9hcmQgfSBmcm9tICcuLi9LZXlib2FyZCc7XG5pbXBvcnQgeyB3aXRoQW5ub3VuY2UsIHdpdGhGb2N1cywgd2l0aEZvcndhcmRSZWYgfSBmcm9tICcuLi9ob2NzJztcbmltcG9ydCB7IHNpemVTdHlsZSB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmltcG9ydCB7IFN0eWxlZFRleHRJbnB1dCwgU3R5bGVkVGV4dElucHV0Q29udGFpbmVyLCBTdHlsZWRQbGFjZWhvbGRlciwgU3R5bGVkU3VnZ2VzdGlvbnMgfSBmcm9tICcuL1N0eWxlZFRleHRJbnB1dCc7XG5cbmZ1bmN0aW9uIHJlbmRlckxhYmVsKHN1Z2dlc3Rpb24pIHtcbiAgaWYgKHN1Z2dlc3Rpb24gJiYgdHlwZW9mIHN1Z2dlc3Rpb24gPT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIHN1Z2dlc3Rpb24ubGFiZWwgfHwgc3VnZ2VzdGlvbi52YWx1ZTtcbiAgfVxuXG4gIHJldHVybiBzdWdnZXN0aW9uO1xufVxuXG5mdW5jdGlvbiBzdHJpbmdMYWJlbChzdWdnZXN0aW9uKSB7XG4gIGlmIChzdWdnZXN0aW9uICYmIHR5cGVvZiBzdWdnZXN0aW9uID09PSAnb2JqZWN0Jykge1xuICAgIGlmIChzdWdnZXN0aW9uLmxhYmVsICYmIHR5cGVvZiBzdWdnZXN0aW9uLmxhYmVsID09PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIHN1Z2dlc3Rpb24ubGFiZWw7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN1Z2dlc3Rpb24udmFsdWU7XG4gIH1cblxuICByZXR1cm4gc3VnZ2VzdGlvbjtcbn1cblxudmFyIENvbnRhaW5lckJveCA9IHN0eWxlZChCb3gpLndpdGhDb25maWcoe1xuICBkaXNwbGF5TmFtZTogXCJUZXh0SW5wdXRfX0NvbnRhaW5lckJveFwiLFxuICBjb21wb25lbnRJZDogXCJzYy0xYWkwYzA4LTBcIlxufSkoW1wiXCIsIFwiO0BtZWRpYSBzY3JlZW4gYW5kICgtbXMtaGlnaC1jb250cmFzdDphY3RpdmUpLCgtbXMtaGlnaC1jb250cmFzdDpub25lKXt3aWR0aDoxMDAlO31cIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuZHJvcEhlaWdodCA/IHNpemVTdHlsZSgnbWF4LWhlaWdodCcsIHByb3BzLmRyb3BIZWlnaHQsIHByb3BzLnRoZW1lKSA6ICdtYXgtaGVpZ2h0OiBpbmhlcml0Oyc7XG59KTtcblxudmFyIFRleHRJbnB1dCA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBfaW5oZXJpdHNMb29zZShUZXh0SW5wdXQsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFRleHRJbnB1dCgpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgX3RoaXMgPSBfQ29tcG9uZW50LmNhbGwuYXBwbHkoX0NvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChhcmdzKSkgfHwgdGhpcztcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJzdGF0ZVwiLCB7XG4gICAgICBhY3RpdmVTdWdnZXN0aW9uSW5kZXg6IC0xLFxuICAgICAgc2hvd0Ryb3A6IGZhbHNlXG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiaW5wdXRSZWZcIiwgUmVhY3QuY3JlYXRlUmVmKCkpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcImFubm91bmNlXCIsIGZ1bmN0aW9uIChtZXNzYWdlLCBtb2RlKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBhbm5vdW5jZSA9IF90aGlzJHByb3BzLmFubm91bmNlLFxuICAgICAgICAgIHN1Z2dlc3Rpb25zID0gX3RoaXMkcHJvcHMuc3VnZ2VzdGlvbnM7XG5cbiAgICAgIGlmIChzdWdnZXN0aW9ucyAmJiBzdWdnZXN0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGFubm91bmNlKG1lc3NhZ2UsIG1vZGUpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcImFubm91bmNlU3VnZ2VzdGlvbnNDb3VudFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMyID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgc3VnZ2VzdGlvbnMgPSBfdGhpcyRwcm9wczIuc3VnZ2VzdGlvbnMsXG4gICAgICAgICAgc3VnZ2VzdGlvbnNDb3VudCA9IF90aGlzJHByb3BzMi5tZXNzYWdlcy5zdWdnZXN0aW9uc0NvdW50O1xuXG4gICAgICBfdGhpcy5hbm5vdW5jZShzdWdnZXN0aW9ucy5sZW5ndGggKyBcIiBcIiArIHN1Z2dlc3Rpb25zQ291bnQpO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcImFubm91bmNlU3VnZ2VzdGlvbnNFeGlzdFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgc3VnZ2VzdGlvbnNFeGlzdCA9IF90aGlzLnByb3BzLm1lc3NhZ2VzLnN1Z2dlc3Rpb25zRXhpc3Q7XG5cbiAgICAgIF90aGlzLmFubm91bmNlKHN1Z2dlc3Rpb25zRXhpc3QpO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcImFubm91bmNlU3VnZ2VzdGlvbnNJc09wZW5cIiwgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHN1Z2dlc3Rpb25Jc09wZW4gPSBfdGhpcy5wcm9wcy5tZXNzYWdlcy5zdWdnZXN0aW9uSXNPcGVuO1xuXG4gICAgICBfdGhpcy5hbm5vdW5jZShzdWdnZXN0aW9uSXNPcGVuKTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJhbm5vdW5jZVN1Z2dlc3Rpb25cIiwgZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMzID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgc3VnZ2VzdGlvbnMgPSBfdGhpcyRwcm9wczMuc3VnZ2VzdGlvbnMsXG4gICAgICAgICAgZW50ZXJTZWxlY3QgPSBfdGhpcyRwcm9wczMubWVzc2FnZXMuZW50ZXJTZWxlY3Q7XG5cbiAgICAgIGlmIChzdWdnZXN0aW9ucyAmJiBzdWdnZXN0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhciBsYWJlbE1lc3NhZ2UgPSBzdHJpbmdMYWJlbChzdWdnZXN0aW9uc1tpbmRleF0pO1xuXG4gICAgICAgIF90aGlzLmFubm91bmNlKGxhYmVsTWVzc2FnZSArIFwiIFwiICsgZW50ZXJTZWxlY3QpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcInJlc2V0U3VnZ2VzdGlvbnNcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgLy8gZGVsYXkgdGhpcyB0byBhdm9pZCByZS1yZW5kZXIgaW50ZXJ1cHRpbmcgZXZlbnQgZGVsaXZlcnlcbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9ncm9tbWV0L2dyb21tZXQvaXNzdWVzLzIxNTRcbiAgICAgIC8vIDEwbXMgd2FzIGNob3NlbiBlbXBpcmljYWxseSBiYXNlZCBvbiBpZTExIHVzaW5nIFRleHRJbnB1dFxuICAgICAgLy8gd2l0aCBhbmQgd2l0aG91dCBhIEZvcm1GaWVsZC5cbiAgICAgIGNsZWFyVGltZW91dChfdGhpcy5yZXNldFRpbWVyKTtcbiAgICAgIF90aGlzLnJlc2V0VGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHN1Z2dlc3Rpb25zID0gX3RoaXMucHJvcHMuc3VnZ2VzdGlvbnM7XG5cbiAgICAgICAgaWYgKHN1Z2dlc3Rpb25zICYmIHN1Z2dlc3Rpb25zLmxlbmd0aCkge1xuICAgICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGFjdGl2ZVN1Z2dlc3Rpb25JbmRleDogLTEsXG4gICAgICAgICAgICBzaG93RHJvcDogdHJ1ZSxcbiAgICAgICAgICAgIHNlbGVjdGVkU3VnZ2VzdGlvbkluZGV4OiAtMVxuICAgICAgICAgIH0sIF90aGlzLmFubm91bmNlU3VnZ2VzdGlvbnNDb3VudCk7XG4gICAgICAgIH1cbiAgICAgIH0sIDEwKTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJnZXRTZWxlY3RlZFN1Z2dlc3Rpb25JbmRleFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHM0ID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgc3VnZ2VzdGlvbnMgPSBfdGhpcyRwcm9wczQuc3VnZ2VzdGlvbnMsXG4gICAgICAgICAgdmFsdWUgPSBfdGhpcyRwcm9wczQudmFsdWU7XG4gICAgICB2YXIgc3VnZ2VzdGlvblZhbHVlcyA9IHN1Z2dlc3Rpb25zLm1hcChmdW5jdGlvbiAoc3VnZ2VzdGlvbikge1xuICAgICAgICBpZiAodHlwZW9mIHN1Z2dlc3Rpb24gPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgcmV0dXJuIHN1Z2dlc3Rpb24udmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3VnZ2VzdGlvbjtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHN1Z2dlc3Rpb25WYWx1ZXMuaW5kZXhPZih2YWx1ZSk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwib25TaG93U3VnZ2VzdGlvbnNcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgLy8gR2V0IHZhbHVlcyBvZiBzdWdnZXN0aW9ucywgc28gd2UgY2FuIGhpZ2hsaWdodCBzZWxlY3RlZCBzdWdnZXN0aW9uXG4gICAgICB2YXIgc2VsZWN0ZWRTdWdnZXN0aW9uSW5kZXggPSBfdGhpcy5nZXRTZWxlY3RlZFN1Z2dlc3Rpb25JbmRleCgpO1xuXG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHNob3dEcm9wOiB0cnVlLFxuICAgICAgICBhY3RpdmVTdWdnZXN0aW9uSW5kZXg6IC0xLFxuICAgICAgICBzZWxlY3RlZFN1Z2dlc3Rpb25JbmRleDogc2VsZWN0ZWRTdWdnZXN0aW9uSW5kZXhcbiAgICAgIH0sIF90aGlzLmFubm91bmNlU3VnZ2VzdGlvbnNJc09wZW4pO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIm9uTmV4dFN1Z2dlc3Rpb25cIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgc3VnZ2VzdGlvbnMgPSBfdGhpcy5wcm9wcy5zdWdnZXN0aW9ucztcbiAgICAgIHZhciBfdGhpcyRzdGF0ZSA9IF90aGlzLnN0YXRlLFxuICAgICAgICAgIGFjdGl2ZVN1Z2dlc3Rpb25JbmRleCA9IF90aGlzJHN0YXRlLmFjdGl2ZVN1Z2dlc3Rpb25JbmRleCxcbiAgICAgICAgICBzaG93RHJvcCA9IF90aGlzJHN0YXRlLnNob3dEcm9wO1xuXG4gICAgICBpZiAoc3VnZ2VzdGlvbnMgJiYgc3VnZ2VzdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICBpZiAoIXNob3dEcm9wKSB7XG4gICAgICAgICAgX3RoaXMub25TaG93U3VnZ2VzdGlvbnMoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIHZhciBpbmRleCA9IE1hdGgubWluKGFjdGl2ZVN1Z2dlc3Rpb25JbmRleCArIDEsIHN1Z2dlc3Rpb25zLmxlbmd0aCAtIDEpO1xuXG4gICAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgYWN0aXZlU3VnZ2VzdGlvbkluZGV4OiBpbmRleFxuICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5hbm5vdW5jZVN1Z2dlc3Rpb24oaW5kZXgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwib25QcmV2aW91c1N1Z2dlc3Rpb25cIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgc3VnZ2VzdGlvbnMgPSBfdGhpcy5wcm9wcy5zdWdnZXN0aW9ucztcbiAgICAgIHZhciBfdGhpcyRzdGF0ZTIgPSBfdGhpcy5zdGF0ZSxcbiAgICAgICAgICBhY3RpdmVTdWdnZXN0aW9uSW5kZXggPSBfdGhpcyRzdGF0ZTIuYWN0aXZlU3VnZ2VzdGlvbkluZGV4LFxuICAgICAgICAgIHNob3dEcm9wID0gX3RoaXMkc3RhdGUyLnNob3dEcm9wO1xuXG4gICAgICBpZiAoc3VnZ2VzdGlvbnMgJiYgc3VnZ2VzdGlvbnMubGVuZ3RoID4gMCAmJiBzaG93RHJvcCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB2YXIgaW5kZXggPSBNYXRoLm1heChhY3RpdmVTdWdnZXN0aW9uSW5kZXggLSAxLCAwKTtcblxuICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgYWN0aXZlU3VnZ2VzdGlvbkluZGV4OiBpbmRleFxuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLmFubm91bmNlU3VnZ2VzdGlvbihpbmRleCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIm9uQ2xpY2tTdWdnZXN0aW9uXCIsIGZ1bmN0aW9uIChzdWdnZXN0aW9uLCBldmVudCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzNSA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIGZvcndhcmRSZWYgPSBfdGhpcyRwcm9wczUuZm9yd2FyZFJlZixcbiAgICAgICAgICBvblNlbGVjdCA9IF90aGlzJHByb3BzNS5vblNlbGVjdDtcblxuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBzaG93RHJvcDogZmFsc2UsXG4gICAgICAgIGFjdGl2ZVN1Z2dlc3Rpb25JbmRleDogLTFcbiAgICAgIH0pO1xuXG4gICAgICBpZiAob25TZWxlY3QpIHtcbiAgICAgICAgLy8gVE9ETzogbmVlZGVkIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSBzYWtlXG5cbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tcGFyYW0tcmVhc3NpZ24gKi9cbiAgICAgICAgZXZlbnQuc3VnZ2VzdGlvbiA9IHN1Z2dlc3Rpb247XG4gICAgICAgIGV2ZW50LnRhcmdldCA9IChmb3J3YXJkUmVmIHx8IF90aGlzLmlucHV0UmVmKS5jdXJyZW50O1xuICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLXBhcmFtLXJlYXNzaWduICovXG5cbiAgICAgICAgb25TZWxlY3QoZXZlbnQpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIm9uU3VnZ2VzdGlvblNlbGVjdFwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczYgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBmb3J3YXJkUmVmID0gX3RoaXMkcHJvcHM2LmZvcndhcmRSZWYsXG4gICAgICAgICAgb25TZWxlY3QgPSBfdGhpcyRwcm9wczYub25TZWxlY3QsXG4gICAgICAgICAgc3VnZ2VzdGlvbnMgPSBfdGhpcyRwcm9wczYuc3VnZ2VzdGlvbnM7XG4gICAgICB2YXIgYWN0aXZlU3VnZ2VzdGlvbkluZGV4ID0gX3RoaXMuc3RhdGUuYWN0aXZlU3VnZ2VzdGlvbkluZGV4O1xuXG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHNob3dEcm9wOiBmYWxzZSxcbiAgICAgICAgYWN0aXZlU3VnZ2VzdGlvbkluZGV4OiAtMVxuICAgICAgfSk7XG5cbiAgICAgIGlmIChhY3RpdmVTdWdnZXN0aW9uSW5kZXggPj0gMCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOyAvLyBwcmV2ZW50IHN1Ym1pdHRpbmcgZm9ybXNcbiAgICAgICAgLy8gVE9ETzogbmVlZGVkIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSBzYWtlXG5cbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tcGFyYW0tcmVhc3NpZ24gKi9cblxuICAgICAgICBldmVudC5zdWdnZXN0aW9uID0gc3VnZ2VzdGlvbnNbYWN0aXZlU3VnZ2VzdGlvbkluZGV4XTtcbiAgICAgICAgZXZlbnQudGFyZ2V0ID0gKGZvcndhcmRSZWYgfHwgX3RoaXMuaW5wdXRSZWYpLmN1cnJlbnQ7XG4gICAgICAgIC8qIGVzbGludC1lbmFibGUgbm8tcGFyYW0tcmVhc3NpZ24gKi9cblxuICAgICAgICBpZiAob25TZWxlY3QpIHtcbiAgICAgICAgICBvblNlbGVjdChldmVudCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJvbkZvY3VzXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzNyA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIG9uRm9jdXMgPSBfdGhpcyRwcm9wczcub25Gb2N1cyxcbiAgICAgICAgICBzdWdnZXN0aW9ucyA9IF90aGlzJHByb3BzNy5zdWdnZXN0aW9ucztcblxuICAgICAgaWYgKHN1Z2dlc3Rpb25zICYmIHN1Z2dlc3Rpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgX3RoaXMuYW5ub3VuY2VTdWdnZXN0aW9uc0V4aXN0KCk7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLnJlc2V0U3VnZ2VzdGlvbnMoKTtcblxuICAgICAgaWYgKG9uRm9jdXMpIHtcbiAgICAgICAgb25Gb2N1cyhldmVudCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwib25CbHVyXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgdmFyIG9uQmx1ciA9IF90aGlzLnByb3BzLm9uQmx1cjtcbiAgICAgIGNsZWFyVGltZW91dChfdGhpcy5yZXNldFRpbWVyKTtcblxuICAgICAgaWYgKG9uQmx1cikge1xuICAgICAgICBvbkJsdXIoZXZlbnQpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIm9uQ2hhbmdlXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgdmFyIG9uQ2hhbmdlID0gX3RoaXMucHJvcHMub25DaGFuZ2U7XG5cbiAgICAgIF90aGlzLnJlc2V0U3VnZ2VzdGlvbnMoKTtcblxuICAgICAgaWYgKG9uQ2hhbmdlKSB7XG4gICAgICAgIG9uQ2hhbmdlKGV2ZW50KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJvbkVzY1wiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBzaG93RHJvcCA9IF90aGlzLnN0YXRlLnNob3dEcm9wO1xuXG4gICAgICBpZiAoc2hvd0Ryb3ApIHtcbiAgICAgICAgLy8gd2UgaGF2ZSB0byBzdG9wIGJvdGggc3ludGhldGljIGV2ZW50cyBhbmQgbmF0aXZlIGV2ZW50c1xuICAgICAgICAvLyBkcm9wIGFuZCBsYXllciBzaG91bGQgbm90IGNsb3NlIGJ5IHByZXNzaW5nIGVzYyBvbiB0aGlzIGlucHV0XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBldmVudC5uYXRpdmVFdmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcblxuICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgc2hvd0Ryb3A6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIm9uVGFiXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgc2hvd0Ryb3A6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJyZW5kZXJTdWdnZXN0aW9uc1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHM4ID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgc3VnZ2VzdGlvbnMgPSBfdGhpcyRwcm9wczguc3VnZ2VzdGlvbnMsXG4gICAgICAgICAgdGhlbWUgPSBfdGhpcyRwcm9wczgudGhlbWU7XG4gICAgICB2YXIgX3RoaXMkc3RhdGUzID0gX3RoaXMuc3RhdGUsXG4gICAgICAgICAgYWN0aXZlU3VnZ2VzdGlvbkluZGV4ID0gX3RoaXMkc3RhdGUzLmFjdGl2ZVN1Z2dlc3Rpb25JbmRleCxcbiAgICAgICAgICBzZWxlY3RlZFN1Z2dlc3Rpb25JbmRleCA9IF90aGlzJHN0YXRlMy5zZWxlY3RlZFN1Z2dlc3Rpb25JbmRleDtcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZFN1Z2dlc3Rpb25zLCBudWxsLCBSZWFjdC5jcmVhdGVFbGVtZW50KEluZmluaXRlU2Nyb2xsLCB7XG4gICAgICAgIGl0ZW1zOiBzdWdnZXN0aW9ucyxcbiAgICAgICAgc3RlcDogdGhlbWUuc2VsZWN0LnN0ZXBcbiAgICAgIH0sIGZ1bmN0aW9uIChzdWdnZXN0aW9uLCBpbmRleCkge1xuICAgICAgICB2YXIgcGxhaW4gPSB0eXBlb2Ygc3VnZ2VzdGlvbiA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIGlzVmFsaWRFbGVtZW50KHN1Z2dlc3Rpb24ubGFiZWwpO1xuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImxpXCIsIHtcbiAgICAgICAgICBrZXk6IHN0cmluZ0xhYmVsKHN1Z2dlc3Rpb24pICsgXCItXCIgKyBpbmRleFxuICAgICAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge1xuICAgICAgICAgIGFjdGl2ZTogYWN0aXZlU3VnZ2VzdGlvbkluZGV4ID09PSBpbmRleCB8fCBzZWxlY3RlZFN1Z2dlc3Rpb25JbmRleCA9PT0gaW5kZXgsXG4gICAgICAgICAgZmlsbDogdHJ1ZSxcbiAgICAgICAgICBob3ZlckluZGljYXRvcjogXCJiYWNrZ3JvdW5kXCIsXG4gICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljayhldmVudCkge1xuICAgICAgICAgICAgX3RoaXMub25DbGlja1N1Z2dlc3Rpb24oc3VnZ2VzdGlvbiwgZXZlbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgcGxhaW4gPyByZW5kZXJMYWJlbChzdWdnZXN0aW9uKSA6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoQm94LCB7XG4gICAgICAgICAgYWxpZ246IFwic3RhcnRcIixcbiAgICAgICAgICBwYWQ6IFwic21hbGxcIlxuICAgICAgICB9LCByZW5kZXJMYWJlbChzdWdnZXN0aW9uKSkpKTtcbiAgICAgIH0pKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIFRleHRJbnB1dC5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPSBmdW5jdGlvbiBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMobmV4dFByb3BzLCBwcmV2U3RhdGUpIHtcbiAgICB2YXIgc3VnZ2VzdGlvbnMgPSBuZXh0UHJvcHMuc3VnZ2VzdGlvbnM7XG4gICAgdmFyIHNob3dEcm9wID0gcHJldlN0YXRlLnNob3dEcm9wO1xuXG4gICAgaWYgKHNob3dEcm9wICYmICghc3VnZ2VzdGlvbnMgfHwgIXN1Z2dlc3Rpb25zLmxlbmd0aCkpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHNob3dEcm9wOiBmYWxzZVxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICB2YXIgX3Byb3RvID0gVGV4dElucHV0LnByb3RvdHlwZTtcblxuICBfcHJvdG8uY29tcG9uZW50RGlkVXBkYXRlID0gZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgdmFyIF90aGlzJHByb3BzOSA9IHRoaXMucHJvcHMsXG4gICAgICAgIG9uU3VnZ2VzdGlvbnNPcGVuID0gX3RoaXMkcHJvcHM5Lm9uU3VnZ2VzdGlvbnNPcGVuLFxuICAgICAgICBvblN1Z2dlc3Rpb25zQ2xvc2UgPSBfdGhpcyRwcm9wczkub25TdWdnZXN0aW9uc0Nsb3NlLFxuICAgICAgICBzdWdnZXN0aW9ucyA9IF90aGlzJHByb3BzOS5zdWdnZXN0aW9ucztcbiAgICB2YXIgc2hvd0Ryb3AgPSB0aGlzLnN0YXRlLnNob3dEcm9wO1xuXG4gICAgaWYgKHNob3dEcm9wICE9PSBwcmV2U3RhdGUuc2hvd0Ryb3ApIHtcbiAgICAgIGlmIChzaG93RHJvcCAmJiBvblN1Z2dlc3Rpb25zT3Blbikge1xuICAgICAgICBvblN1Z2dlc3Rpb25zT3BlbigpO1xuICAgICAgfSBlbHNlIGlmIChvblN1Z2dlc3Rpb25zQ2xvc2UpIHtcbiAgICAgICAgb25TdWdnZXN0aW9uc0Nsb3NlKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFzaG93RHJvcCAmJiBzdWdnZXN0aW9ucyAmJiAoIXByZXZQcm9wcy5zdWdnZXN0aW9ucyB8fCAhcHJldlByb3BzLnN1Z2dlc3Rpb25zLmxlbmd0aCkpIHtcbiAgICAgIHRoaXMucmVzZXRTdWdnZXN0aW9ucygpO1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8uY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5yZXNldFRpbWVyKTtcbiAgfTtcblxuICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgdmFyIF90aGlzJHByb3BzMTAgPSB0aGlzLnByb3BzLFxuICAgICAgICBkZWZhdWx0VmFsdWUgPSBfdGhpcyRwcm9wczEwLmRlZmF1bHRWYWx1ZSxcbiAgICAgICAgZHJvcEFsaWduID0gX3RoaXMkcHJvcHMxMC5kcm9wQWxpZ24sXG4gICAgICAgIGRyb3BIZWlnaHQgPSBfdGhpcyRwcm9wczEwLmRyb3BIZWlnaHQsXG4gICAgICAgIGRyb3BUYXJnZXQgPSBfdGhpcyRwcm9wczEwLmRyb3BUYXJnZXQsXG4gICAgICAgIGRyb3BQcm9wcyA9IF90aGlzJHByb3BzMTAuZHJvcFByb3BzLFxuICAgICAgICBmb3J3YXJkUmVmID0gX3RoaXMkcHJvcHMxMC5mb3J3YXJkUmVmLFxuICAgICAgICBpZCA9IF90aGlzJHByb3BzMTAuaWQsXG4gICAgICAgIHBsYWNlaG9sZGVyID0gX3RoaXMkcHJvcHMxMC5wbGFjZWhvbGRlcixcbiAgICAgICAgcGxhaW4gPSBfdGhpcyRwcm9wczEwLnBsYWluLFxuICAgICAgICB0aGVtZSA9IF90aGlzJHByb3BzMTAudGhlbWUsXG4gICAgICAgIHZhbHVlID0gX3RoaXMkcHJvcHMxMC52YWx1ZSxcbiAgICAgICAgb25LZXlEb3duID0gX3RoaXMkcHJvcHMxMC5vbktleURvd24sXG4gICAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfdGhpcyRwcm9wczEwLCBbXCJkZWZhdWx0VmFsdWVcIiwgXCJkcm9wQWxpZ25cIiwgXCJkcm9wSGVpZ2h0XCIsIFwiZHJvcFRhcmdldFwiLCBcImRyb3BQcm9wc1wiLCBcImZvcndhcmRSZWZcIiwgXCJpZFwiLCBcInBsYWNlaG9sZGVyXCIsIFwicGxhaW5cIiwgXCJ0aGVtZVwiLCBcInZhbHVlXCIsIFwib25LZXlEb3duXCJdKTtcblxuICAgIGRlbGV0ZSByZXN0Lm9uQ2hhbmdlOyAvLyBzZSB3ZSBjYW4gbWFuYWdlIGluIHRoaXMub25DaGFuZ2UoKVxuXG4gICAgZGVsZXRlIHJlc3Qub25TdWdnZXN0aW9uc09wZW47XG4gICAgZGVsZXRlIHJlc3Qub25TdWdnZXN0aW9uc0Nsb3NlO1xuICAgIHZhciBzaG93RHJvcCA9IHRoaXMuc3RhdGUuc2hvd0Ryb3A7IC8vIG5lZWRlZCBzbyB0aGF0IHN0eWxlZCBjb21wb25lbnRzIGRvZXMgbm90IGludm9rZVxuICAgIC8vIG9uU2VsZWN0IHdoZW4gdGV4dCBpbnB1dCBpcyBjbGlja2VkXG5cbiAgICBkZWxldGUgcmVzdC5vblNlbGVjdDtcbiAgICB2YXIgZHJvcDtcblxuICAgIGlmIChzaG93RHJvcCkge1xuICAgICAgZHJvcCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoRHJvcCwgX2V4dGVuZHMoe1xuICAgICAgICBpZDogaWQgPyBcInRleHQtaW5wdXQtZHJvcF9fXCIgKyBpZCA6IHVuZGVmaW5lZCxcbiAgICAgICAgYWxpZ246IGRyb3BBbGlnbixcbiAgICAgICAgcmVzcG9uc2l2ZTogZmFsc2UsXG4gICAgICAgIHRhcmdldDogZHJvcFRhcmdldCB8fCAoZm9yd2FyZFJlZiB8fCB0aGlzLmlucHV0UmVmKS5jdXJyZW50LFxuICAgICAgICBvbkNsaWNrT3V0c2lkZTogZnVuY3Rpb24gb25DbGlja091dHNpZGUoKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMi5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBzaG93RHJvcDogZmFsc2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgb25Fc2M6IGZ1bmN0aW9uIG9uRXNjKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczIuc2V0U3RhdGUoe1xuICAgICAgICAgICAgc2hvd0Ryb3A6IGZhbHNlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sIGRyb3BQcm9wcyksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29udGFpbmVyQm94LCB7XG4gICAgICAgIG92ZXJmbG93OiBcImF1dG9cIixcbiAgICAgICAgZHJvcEhlaWdodDogZHJvcEhlaWdodFxuICAgICAgfSwgdGhpcy5yZW5kZXJTdWdnZXN0aW9ucygpKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkVGV4dElucHV0Q29udGFpbmVyLCB7XG4gICAgICBwbGFpbjogcGxhaW5cbiAgICB9LCBwbGFjZWhvbGRlciAmJiB0eXBlb2YgcGxhY2Vob2xkZXIgIT09ICdzdHJpbmcnICYmICF2YWx1ZSA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkUGxhY2Vob2xkZXIsIG51bGwsIHBsYWNlaG9sZGVyKSA6IG51bGwsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoS2V5Ym9hcmQsIHtcbiAgICAgIG9uRW50ZXI6IHRoaXMub25TdWdnZXN0aW9uU2VsZWN0LFxuICAgICAgb25Fc2M6IHRoaXMub25Fc2MsXG4gICAgICBvblRhYjogdGhpcy5vblRhYixcbiAgICAgIG9uVXA6IHRoaXMub25QcmV2aW91c1N1Z2dlc3Rpb24sXG4gICAgICBvbkRvd246IHRoaXMub25OZXh0U3VnZ2VzdGlvbixcbiAgICAgIG9uS2V5RG93bjogb25LZXlEb3duXG4gICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWRUZXh0SW5wdXQsIF9leHRlbmRzKHtcbiAgICAgIGlkOiBpZCxcbiAgICAgIHJlZjogZm9yd2FyZFJlZiB8fCB0aGlzLmlucHV0UmVmLFxuICAgICAgYXV0b0NvbXBsZXRlOiBcIm9mZlwiLFxuICAgICAgcGxhaW46IHBsYWluLFxuICAgICAgcGxhY2Vob2xkZXI6IHR5cGVvZiBwbGFjZWhvbGRlciA9PT0gJ3N0cmluZycgPyBwbGFjZWhvbGRlciA6IHVuZGVmaW5lZFxuICAgIH0sIHJlc3QsIHtcbiAgICAgIGRlZmF1bHRWYWx1ZTogcmVuZGVyTGFiZWwoZGVmYXVsdFZhbHVlKSxcbiAgICAgIHZhbHVlOiByZW5kZXJMYWJlbCh2YWx1ZSksXG4gICAgICBvbkZvY3VzOiB0aGlzLm9uRm9jdXMsXG4gICAgICBvbkJsdXI6IHRoaXMub25CbHVyLFxuICAgICAgb25DaGFuZ2U6IHRoaXMub25DaGFuZ2VcbiAgICB9KSkpLCBkcm9wKTtcbiAgfTtcblxuICByZXR1cm4gVGV4dElucHV0O1xufShDb21wb25lbnQpO1xuXG5fZGVmaW5lUHJvcGVydHkoVGV4dElucHV0LCBcImRlZmF1bHRQcm9wc1wiLCB7XG4gIGRyb3BBbGlnbjoge1xuICAgIHRvcDogJ2JvdHRvbScsXG4gICAgbGVmdDogJ2xlZnQnXG4gIH0sXG4gIG1lc3NhZ2VzOiB7XG4gICAgZW50ZXJTZWxlY3Q6ICcoUHJlc3MgRW50ZXIgdG8gU2VsZWN0KScsXG4gICAgc3VnZ2VzdGlvbnNDb3VudDogJ3N1Z2dlc3Rpb25zIGF2YWlsYWJsZScsXG4gICAgc3VnZ2VzdGlvbnNFeGlzdDogJ1RoaXMgaW5wdXQgaGFzIHN1Z2dlc3Rpb25zIHVzZSBhcnJvdyBrZXlzIHRvIG5hdmlnYXRlJyxcbiAgICBzdWdnZXN0aW9uSXNPcGVuOiAnU3VnZ2VzdGlvbnMgZHJvcCBpcyBvcGVuLCBjb250aW51ZSB0byB1c2UgYXJyb3cga2V5cyB0byBuYXZpZ2F0ZSdcbiAgfVxufSk7XG5cbk9iamVjdC5zZXRQcm90b3R5cGVPZihUZXh0SW5wdXQuZGVmYXVsdFByb3BzLCBkZWZhdWx0UHJvcHMpO1xudmFyIFRleHRJbnB1dERvYztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGdsb2JhbC1yZXF1aXJlXG4gIFRleHRJbnB1dERvYyA9IHJlcXVpcmUoJy4vZG9jJykuZG9jKFRleHRJbnB1dCk7XG59XG5cbnZhciBUZXh0SW5wdXRXcmFwcGVyID0gY29tcG9zZSh3aXRoRm9jdXMoe1xuICBmb2N1c1dpdGhNb3VzZTogdHJ1ZVxufSksIHdpdGhUaGVtZSwgd2l0aEFubm91bmNlLCB3aXRoRm9yd2FyZFJlZikoVGV4dElucHV0RG9jIHx8IFRleHRJbnB1dCk7XG5leHBvcnQgeyBUZXh0SW5wdXRXcmFwcGVyIGFzIFRleHRJbnB1dCB9OyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmltcG9ydCB7IGRlc2NyaWJlLCBQcm9wVHlwZXMgfSBmcm9tICdyZWFjdC1kZXNjJztcbmltcG9ydCB7IGdldEF2YWlsYWJsZUF0QmFkZ2UsIHRoZW1lRG9jVXRpbHMgfSBmcm9tICcuLi8uLi91dGlscyc7XG5leHBvcnQgdmFyIGRvYyA9IGZ1bmN0aW9uIGRvYyhUZXh0SW5wdXQpIHtcbiAgdmFyIERvY3VtZW50ZWRUZXh0SW5wdXQgPSBkZXNjcmliZShUZXh0SW5wdXQpLmF2YWlsYWJsZUF0KGdldEF2YWlsYWJsZUF0QmFkZ2UoJ1RleHRJbnB1dCcpKS5kZXNjcmlwdGlvbignQSBjb250cm9sIHRvIGlucHV0IGEgc2luZ2xlIGxpbmUgb2YgdGV4dCwgd2l0aCBvcHRpb25hbCBzdWdnZXN0aW9ucy4nKS51c2FnZShcImltcG9ydCB7IFRleHRJbnB1dCB9IGZyb20gJ2dyb21tZXQnO1xcbjxUZXh0SW5wdXQgaWQ9J2l0ZW0nIG5hbWU9J2l0ZW0nIC8+XCIpLmludHJpbnNpY0VsZW1lbnQoJ2lucHV0Jyk7XG4gIERvY3VtZW50ZWRUZXh0SW5wdXQucHJvcFR5cGVzID0ge1xuICAgIGRyb3BBbGlnbjogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgIHRvcDogUHJvcFR5cGVzLm9uZU9mKFsndG9wJywgJ2JvdHRvbSddKSxcbiAgICAgIGJvdHRvbTogUHJvcFR5cGVzLm9uZU9mKFsndG9wJywgJ2JvdHRvbSddKSxcbiAgICAgIHJpZ2h0OiBQcm9wVHlwZXMub25lT2YoWydsZWZ0JywgJ3JpZ2h0J10pLFxuICAgICAgbGVmdDogUHJvcFR5cGVzLm9uZU9mKFsnbGVmdCcsICdyaWdodCddKVxuICAgIH0pLmRlc2NyaXB0aW9uKCdIb3cgdG8gYWxpZ24gdGhlIGRyb3AuJykuZGVmYXVsdFZhbHVlKHtcbiAgICAgIHRvcDogJ2JvdHRvbScsXG4gICAgICBsZWZ0OiAnbGVmdCdcbiAgICB9KSxcbiAgICBkcm9wSGVpZ2h0OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2YoWyd4c21hbGwnLCAnc21hbGwnLCAnbWVkaXVtJywgJ2xhcmdlJywgJ3hsYXJnZSddKSwgUHJvcFR5cGVzLnN0cmluZ10pLmRlc2NyaXB0aW9uKCdUaGUgaGVpZ2h0IG9mIHRoZSBkcm9wIGNvbnRhaW5lci4nKSxcbiAgICBkcm9wVGFyZ2V0OiBQcm9wVHlwZXMub2JqZWN0LmRlc2NyaXB0aW9uKFwiVGFyZ2V0IHdoZXJlIGFueSBzdWdnZXN0aW9ucyBkcm9wIHdpbGwgYmUgYWxpZ25lZCB0by4gVGhpcyBzaG91bGQgYmVcXG4gICAgICBhIFJlYWN0IHJlZmVyZW5jZS4gVHlwaWNhbGx5LCB0aGlzIGlzIG5vdCByZXF1aXJlZCBhcyB0aGUgZHJvcCB3aWxsIGJlXFxuICAgICAgYWxpZ25lZCB0byB0aGUgVGV4dElucHV0IGl0c2VsZiBieSBkZWZhdWx0LlwiKSxcbiAgICBkcm9wUHJvcHM6IFByb3BUeXBlcy5vYmplY3QuZGVzY3JpcHRpb24oJ0FueSB2YWxpZCBEcm9wIHByb3AuJyksXG4gICAgaWQ6IFByb3BUeXBlcy5zdHJpbmcuZGVzY3JpcHRpb24oJ1RoZSBpZCBhdHRyaWJ1dGUgb2YgdGhlIGlucHV0LicpLFxuICAgIGZvY3VzSW5kaWNhdG9yOiBQcm9wVHlwZXMuYm9vbC5kZXNjcmlwdGlvbignV2hldGhlciB0aGUgcGxhaW4gdGV4dCBpbnB1dCBzaG91bGQgcmVjZWl2ZSBhIGZvY3VzIG91dGxpbmUuJyksXG4gICAgbWVzc2FnZXM6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICBlbnRlclNlbGVjdDogUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgIHN1Z2dlc3Rpb25zQ291bnQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgICBzdWdnZXN0aW9uc0V4aXN0OiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgc3VnZ2VzdGlvbklzT3BlbjogUHJvcFR5cGVzLnN0cmluZ1xuICAgIH0pLmRlc2NyaXB0aW9uKFwiQ3VzdG9tIG1lc3NhZ2VzIGZvciBUZXh0SW5wdXQuIFVzZWQgZm9yIGFjY2Vzc2liaWxpdHkgYnkgc2NyZWVuIFxcbiAgICAgICAgcmVhZGVycy5cIikuZGVmYXVsdFZhbHVlKHtcbiAgICAgIGVudGVyU2VsZWN0OiAnKFByZXNzIEVudGVyIHRvIFNlbGVjdCknLFxuICAgICAgc3VnZ2VzdGlvbnNDb3VudDogJ3N1Z2dlc3Rpb25zIGF2YWlsYWJsZScsXG4gICAgICBzdWdnZXN0aW9uc0V4aXN0OiAnVGhpcyBpbnB1dCBoYXMgc3VnZ2VzdGlvbnMgdXNlIGFycm93IGtleXMgdG8gbmF2aWdhdGUnLFxuICAgICAgc3VnZ2VzdGlvbklzT3BlbjogJ1N1Z2dlc3Rpb25zIGRyb3AgaXMgb3BlbiwgY29udGludWUgdG8gdXNlIGFycm93IGtleXMgdG8gbmF2aWdhdGUnXG4gICAgfSksXG4gICAgbmFtZTogUHJvcFR5cGVzLnN0cmluZy5kZXNjcmlwdGlvbignVGhlIG5hbWUgYXR0cmlidXRlIG9mIHRoZSBpbnB1dC4nKSxcbiAgICBvbkNoYW5nZTogUHJvcFR5cGVzLmZ1bmMuZGVzY3JpcHRpb24oJ0Z1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgdXNlciB0eXBlcyBpbiB0aGUgaW5wdXQuJyksXG4gICAgb25TZWxlY3Q6IFByb3BUeXBlcy5mdW5jLmRlc2NyaXB0aW9uKFwiRnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCB3aGVuIHRoZSB1c2VyIHNlbGVjdHMgYSBzdWdnZXN0aW9uLlxcblRoZSBzdWdnZXN0aW9uIGNvbnRhaW5zIHRoZSBvYmplY3QgY2hvc2VuIGZyb20gdGhlIHN1cHBsaWVkIHN1Z2dlc3Rpb25zLlwiKSxcbiAgICBvblN1Z2dlc3Rpb25zT3BlbjogUHJvcFR5cGVzLmZ1bmMuZGVzY3JpcHRpb24oJ0Z1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgc3VnZ2VzdGlvbnMgZHJvcCBpcyBvcGVuZWQuJyksXG4gICAgb25TdWdnZXN0aW9uc0Nsb3NlOiBQcm9wVHlwZXMuZnVuYy5kZXNjcmlwdGlvbignRnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCB3aGVuIHRoZSBzdWdnZXN0aW9ucyBkcm9wIGlzIGNsb3NlZC4nKSxcbiAgICBwbGFjZWhvbGRlcjogUHJvcFR5cGVzLm5vZGUuZGVzY3JpcHRpb24oJ1BsYWNlaG9sZGVyIHRvIHVzZSB3aGVuIG5vIHZhbHVlIGlzIHByb3ZpZGVkLicpLFxuICAgIHBsYWluOiBQcm9wVHlwZXMuYm9vbC5kZXNjcmlwdGlvbihcIldoZXRoZXIgdGhpcyBpcyBhIHBsYWluIGlucHV0IHdpdGggbm8gYm9yZGVyIG9yIHBhZGRpbmcuXFxuT25seSB1c2UgdGhpcyB3aGVuIHRoZSBjb250YWluaW5nIGNvbnRleHQgcHJvdmlkZXMgc3VmZmljaWVudCBhZmZvcmRhbmNlXCIpLFxuICAgIHNpemU6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbJ3NtYWxsJywgJ21lZGl1bScsICdsYXJnZScsICd4bGFyZ2UnXSksIFByb3BUeXBlcy5zdHJpbmddKS5kZXNjcmlwdGlvbignVGhlIHNpemUgb2YgdGhlIFRleHRJbnB1dC4nKSxcbiAgICBzdWdnZXN0aW9uczogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgIGxhYmVsOiBQcm9wVHlwZXMubm9kZSxcbiAgICAgIHZhbHVlOiBQcm9wVHlwZXMuYW55XG4gICAgfSksIFByb3BUeXBlcy5zdHJpbmddKSkuZGVzY3JpcHRpb24oXCJTdWdnZXN0aW9ucyB0byBzaG93LiBJdCBpcyByZWNvbW1lbmRlZCB0byBhdm9pZCBzaG93aW5nIHRvbyBtYW55XFxuc3VnZ2VzdGlvbnMgYW5kIGluc3RlYWQgcmVseSBvbiB0aGUgdXNlciB0byB0eXBlIG1vcmUuXCIpLFxuICAgIHZhbHVlOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMubnVtYmVyXSkuZGVzY3JpcHRpb24oJ1doYXQgdGV4dCB0byBwdXQgaW4gdGhlIGlucHV0LicpXG4gIH07XG4gIHJldHVybiBEb2N1bWVudGVkVGV4dElucHV0O1xufTtcbmV4cG9ydCB2YXIgdGhlbWVEb2MgPSBfZXh0ZW5kcyh7XG4gICdnbG9iYWwuY29sb3JzLmJvcmRlcic6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBjb2xvciBvZiB0aGUgYm9yZGVyLicsXG4gICAgdHlwZTogJ29iamVjdCcsXG4gICAgZGVmYXVsdFZhbHVlOiB7XG4gICAgICBkYXJrOiAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjMzKScsXG4gICAgICBsaWdodDogJ3JnYmEoMCwgMCwgMCwgMC4zMyknXG4gICAgfVxuICB9LFxuICAnZ2xvYmFsLmNvbnRyb2wuYm9yZGVyLmNvbG9yJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGJvcmRlciBjb2xvci4nLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogJ2JvcmRlcidcbiAgfSxcbiAgJ2dsb2JhbC5jb250cm9sLmJvcmRlci5yYWRpdXMnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgYm9yZGVyIHJhZGl1cy4nLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogJzRweCdcbiAgfSxcbiAgJ2dsb2JhbC5jb250cm9sLmJvcmRlci53aWR0aCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBib3JkZXIgd2lkdGguJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICcxcHgnXG4gIH0sXG4gICdzZWxlY3Quc3RlcCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ0hvdyBtYW55IHN1Z2dlc3Rpb25zIHRvIHJlbmRlciBhdCBhIHRpbWUuJyxcbiAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICBkZWZhdWx0VmFsdWU6IDIwXG4gIH0sXG4gIHRleHQ6IHtcbiAgICBkZXNjcmlwdGlvbjogXCJUaGUgcG9zc2libGUgc2l6ZXMgb2YgdGhlIHRleHQgaW4gdGVybXMgb2YgaXRzIGZvbnQtc2l6ZSBhbmQgXFxuICAgIGxpbmUtaGVpZ2h0LlwiLFxuICAgIHR5cGU6ICdvYmplY3QnLFxuICAgIGRlZmF1bHRWYWx1ZTogXCJ7XFxuICAgICAgeHNtYWxsOiB7XFxuICAgICAgICBzaXplOiAnMTJweCcsXFxuICAgICAgICBoZWlnaHQ6ICcxOHB4JyxcXG4gICAgICAgfSxcXG4gICAgICBzbWFsbDoge1xcbiAgICAgICAgc2l6ZTogJzE0cHgnLFxcbiAgICAgICAgaGVpZ2h0OiAnMjBweCcsXFxuICAgICAgIH0sXFxuICAgICAgbWVkaXVtOiB7XFxuICAgICAgICBzaXplOiAnMThweCcsXFxuICAgICAgICBoZWlnaHQ6ICcyNHB4JyxcXG4gICAgICB9LFxcbiAgICAgIGxhcmdlOiB7XFxuICAgICAgICBzaXplOiAnMjJweCcsXFxuICAgICAgICBoZWlnaHQ6ICcyOHB4JyxcXG4gICAgICB9LFxcbiAgICAgIHhsYXJnZToge1xcbiAgICAgICAgc2l6ZTogJzI2cHgnLFxcbiAgICAgICAgaGVpZ2h0OiAnMzJweCcsXFxuICAgICAgfSxcXG4gICAgICB4eGxhcmdlOiB7XFxuICAgICAgICBzaXplOiAnMzRweCcsXFxuICAgICAgICBoZWlnaHQ6ICc0MHB4JyxcXG4gICAgICB9LFxcbiAgICB9XCJcbiAgfSxcbiAgJ3RleHRJbnB1dC5leHRlbmQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdBbnkgYWRkaXRpb25hbCBzdHlsZSBmb3IgVGV4dElucHV0LicsXG4gICAgdHlwZTogJ3N0cmluZyB8IChwcm9wcykgPT4ge30nLFxuICAgIGRlZmF1bHRWYWx1ZTogdW5kZWZpbmVkXG4gIH0sXG4gICd0ZXh0SW5wdXQuY29udGFpbmVyLmV4dGVuZCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ0FueSBhZGRpdGlvbmFsIHN0eWxlIGZvciBUZXh0SW5wdXQgY29udGFpbmVyLicsXG4gICAgdHlwZTogJ3N0cmluZyB8IChwcm9wcykgPT4ge30nLFxuICAgIGRlZmF1bHRWYWx1ZTogdW5kZWZpbmVkXG4gIH0sXG4gICd0ZXh0SW5wdXQucGxhY2Vob2xkZXIuZXh0ZW5kJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnQW55IGFkZGl0aW9uYWwgc3R5bGUgZm9yIG5vbi1zdHJpbmcgcGxhY2Vob2xkZXIgaW5zaWRlIFRleHRJbnB1dC4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCAocHJvcHMpID0+IHt9JyxcbiAgICBkZWZhdWx0VmFsdWU6IHVuZGVmaW5lZFxuICB9LFxuICAndGV4dElucHV0LnN1Z2dlc3Rpb25zLmV4dGVuZCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ0FueSBhZGRpdGlvbmFsIHN0eWxlIGZvciBUZXh0SW5wdXQgc3VnZ2VzdGlvbnMuJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgKHByb3BzKSA9PiB7fScsXG4gICAgZGVmYXVsdFZhbHVlOiB1bmRlZmluZWRcbiAgfSxcbiAgJ3RleHRJbnB1dC5kaXNhYmxlZC5vcGFjaXR5Jzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIG9wYWNpdHkgd2hlbiB0aGUgdGV4dElucHV0IGlzIGRpc2FibGVkLicsXG4gICAgdHlwZTogJ251bWJlcicsXG4gICAgZGVmYXVsdFZhbHVlOiAwLjNcbiAgfVxufSwgdGhlbWVEb2NVdGlscy5mb2N1c1N0eWxlLCB7fSwgdGhlbWVEb2NVdGlscy5wbGFjZWhvbGRlclN0eWxlLCB7fSwgdGhlbWVEb2NVdGlscy5kaXNhYmxlZFN0eWxlLCB7fSwgdGhlbWVEb2NVdGlscy5pbnB1dFN0eWxlKTsiLCJleHBvcnQgeyBUZXh0SW5wdXQgfSBmcm9tICcuL1RleHRJbnB1dCc7IiwiaW1wb3J0IHN0eWxlZCwgeyBjc3MgfSBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBnZW5lcmljU3R5bGVzLCBub3JtYWxpemVDb2xvciB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmltcG9ydCB7IGRlZmF1bHRQcm9wcyB9IGZyb20gJy4uLy4uL2RlZmF1bHQtcHJvcHMnO1xudmFyIEZJVF9NQVAgPSB7XG4gIGNvdmVyOiAnY292ZXInLFxuICBjb250YWluOiAnY29udGFpbidcbn07XG52YXIgZml0U3R5bGUgPSBjc3MoW1wiZmxleDoxIDE7bWluLWhlaWdodDowO29iamVjdC1maXQ6XCIsIFwiO1wiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBGSVRfTUFQW3Byb3BzLmZpdF07XG59KTtcbnZhciBTdHlsZWRWaWRlbyA9IHN0eWxlZC52aWRlby53aXRoQ29uZmlnKHtcbiAgZGlzcGxheU5hbWU6IFwiU3R5bGVkVmlkZW9cIixcbiAgY29tcG9uZW50SWQ6IFwidzR2OGg5LTBcIlxufSkoW1wibWF4LXdpZHRoOjEwMCU7XCIsIFwiOjpjdWV7YmFja2dyb3VuZDpcIiwgXCI7fVwiLCBcIjtcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuZml0ICYmIGZpdFN0eWxlO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS52aWRlby5jYXB0aW9ucy5iYWNrZ3JvdW5kO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS52aWRlbyAmJiBwcm9wcy50aGVtZS52aWRlby5leHRlbmQ7XG59KTtcblN0eWxlZFZpZGVvLmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKFN0eWxlZFZpZGVvLmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbnZhciBTdHlsZWRWaWRlb0NvbnRhaW5lciA9IHN0eWxlZC5kaXYud2l0aENvbmZpZyh7XG4gIGRpc3BsYXlOYW1lOiBcIlN0eWxlZFZpZGVvX19TdHlsZWRWaWRlb0NvbnRhaW5lclwiLFxuICBjb21wb25lbnRJZDogXCJ3NHY4aDktMVwiXG59KShbXCJmbGV4OjEgMTtkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246Y29sdW1uO292ZXJmbG93OmhpZGRlbjtwb3NpdGlvbjpyZWxhdGl2ZTtcIiwgXCI7XCJdLCBnZW5lcmljU3R5bGVzKTtcblN0eWxlZFZpZGVvQ29udGFpbmVyLmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKFN0eWxlZFZpZGVvQ29udGFpbmVyLmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbnZhciBwb3NpdGlvblN0eWxlID0gY3NzKFtcInBvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDtyaWdodDowO2JvdHRvbTowO1wiXSk7XG52YXIgU3R5bGVkVmlkZW9Db250cm9scyA9IHN0eWxlZC5kaXYud2l0aENvbmZpZyh7XG4gIGRpc3BsYXlOYW1lOiBcIlN0eWxlZFZpZGVvX19TdHlsZWRWaWRlb0NvbnRyb2xzXCIsXG4gIGNvbXBvbmVudElkOiBcInc0djhoOS0yXCJcbn0pKFtcImZsZXg6MCAwO1wiLCBcIiBvcGFjaXR5OjA7dHJhbnNpdGlvbjpvcGFjaXR5IDAuM3M7XCIsIFwiO1wiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5vdmVyICYmIHBvc2l0aW9uU3R5bGU7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLmFjdGl2ZSA/ICdvcGFjaXR5OiAxOycgOiAncG9pbnRlci1ldmVudHM6IG5vbmUnO1xufSk7XG5TdHlsZWRWaWRlb0NvbnRyb2xzLmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKFN0eWxlZFZpZGVvQ29udHJvbHMuZGVmYXVsdFByb3BzLCBkZWZhdWx0UHJvcHMpO1xudmFyIGhlYWRTdHlsZSA9IGNzcyhbXCI6OmFmdGVye2NvbnRlbnQ6Jyc7aGVpZ2h0OjEwMCU7d2lkdGg6XCIsIFwiO2JhY2tncm91bmQ6XCIsIFwiO3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6XCIsIFwiO31cIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUuZ2xvYmFsLmVkZ2VTaXplLnhzbWFsbDtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gbm9ybWFsaXplQ29sb3IocHJvcHMudGhlbWUudmlkZW8uc2NydWJiZXIuY29sb3IsIHByb3BzLnRoZW1lKTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudmFsdWUgKyBcIiVcIjtcbn0pO1xudmFyIFN0eWxlZFZpZGVvU2NydWJiZXIgPSBzdHlsZWQuZGl2LndpdGhDb25maWcoe1xuICBkaXNwbGF5TmFtZTogXCJTdHlsZWRWaWRlb19fU3R5bGVkVmlkZW9TY3J1YmJlclwiLFxuICBjb21wb25lbnRJZDogXCJ3NHY4aDktM1wiXG59KShbXCJjdXJzb3I6cG9pbnRlcjt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO1wiLCBcIjtcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudmFsdWUgJiYgaGVhZFN0eWxlO1xufSk7XG5TdHlsZWRWaWRlb1NjcnViYmVyLmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKFN0eWxlZFZpZGVvU2NydWJiZXIuZGVmYXVsdFByb3BzLCBkZWZhdWx0UHJvcHMpO1xuZXhwb3J0IHsgU3R5bGVkVmlkZW8sIFN0eWxlZFZpZGVvQ29udGFpbmVyLCBTdHlsZWRWaWRlb0NvbnRyb2xzLCBTdHlsZWRWaWRlb1NjcnViYmVyIH07IiwiZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzTG9vc2Uoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzLnByb3RvdHlwZSk7IHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzOyBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbmltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjb21wb3NlIH0gZnJvbSAncmVjb21wb3NlJztcbmltcG9ydCB7IHdpdGhUaGVtZSB9IGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCB7IGRlZmF1bHRQcm9wcyB9IGZyb20gJy4uLy4uL2RlZmF1bHQtcHJvcHMnO1xuaW1wb3J0IHsgQm94IH0gZnJvbSAnLi4vQm94JztcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJy4uL0J1dHRvbic7XG5pbXBvcnQgeyBNZW51IH0gZnJvbSAnLi4vTWVudSc7XG5pbXBvcnQgeyBNZXRlciB9IGZyb20gJy4uL01ldGVyJztcbmltcG9ydCB7IFN0YWNrIH0gZnJvbSAnLi4vU3RhY2snO1xuaW1wb3J0IHsgVGV4dCB9IGZyb20gJy4uL1RleHQnO1xuaW1wb3J0IHsgd2l0aEZvcndhcmRSZWYgfSBmcm9tICcuLi9ob2NzJztcbmltcG9ydCB7IHRocm90dGxlIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuaW1wb3J0IHsgU3R5bGVkVmlkZW8sIFN0eWxlZFZpZGVvQ29udGFpbmVyLCBTdHlsZWRWaWRlb0NvbnRyb2xzLCBTdHlsZWRWaWRlb1NjcnViYmVyIH0gZnJvbSAnLi9TdHlsZWRWaWRlbyc7IC8vIFNwbGl0IHRoZSB2b2x1bWUgY29udHJvbCBpbnRvIDYgc2VnbWVudHMuIEVtcGlyaWNhbGx5IGRldGVybWluZWQuXG5cbnZhciBWT0xVTUVfU1RFUCA9IDAuMTY2NjY3O1xuXG52YXIgZm9ybWF0VGltZSA9IGZ1bmN0aW9uIGZvcm1hdFRpbWUodGltZSkge1xuICB2YXIgbWludXRlcyA9IE1hdGgucm91bmQodGltZSAvIDYwKTtcblxuICBpZiAobWludXRlcyA8IDEwKSB7XG4gICAgbWludXRlcyA9IFwiMFwiICsgbWludXRlcztcbiAgfVxuXG4gIHZhciBzZWNvbmRzID0gTWF0aC5yb3VuZCh0aW1lKSAlIDYwO1xuXG4gIGlmIChzZWNvbmRzIDwgMTApIHtcbiAgICBzZWNvbmRzID0gXCIwXCIgKyBzZWNvbmRzO1xuICB9XG5cbiAgcmV0dXJuIG1pbnV0ZXMgKyBcIjpcIiArIHNlY29uZHM7XG59O1xuXG52YXIgdmlkZW9FdmVudHMgPSBbJ29uQWJvcnQnLCAnb25DYW5QbGF5JywgJ29uQ2FuUGxheVRocm91Z2gnLCAnb25EdXJhdGlvbkNoYW5nZScsICdvbkVtcHRpZWQnLCAnb25FbmNyeXB0ZWQnLCAnb25FbmRlZCcsICdvbkVycm9yJywgJ29uTG9hZGVkRGF0YScsICdvbkxvYWRlZE1ldGFkYXRhJywgJ29uTG9hZFN0YXJ0JywgJ29uUGF1c2UnLCAnb25QbGF5JywgJ29uUGxheWluZycsICdvblByb2dyZXNzJywgJ29uUmF0ZUNoYW5nZScsICdvblNlZWtlZCcsICdvblNlZWtpbmcnLCAnb25TdGFsbGVkJywgJ29uU3VzcGVuZCcsICdvblRpbWVVcGRhdGUnLCAnb25Wb2x1bWVDaGFuZ2UnLCAnb25XYWl0aW5nJ107XG5cbnZhciBWaWRlbyA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBfaW5oZXJpdHNMb29zZShWaWRlbywgX0NvbXBvbmVudCk7XG5cbiAgVmlkZW8uZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID0gZnVuY3Rpb24gZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKG5leHRQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgdmFyIGZvcndhcmRSZWYgPSBuZXh0UHJvcHMuZm9yd2FyZFJlZjtcbiAgICB2YXIgdmlkZW9SZWYgPSBwcmV2U3RhdGUudmlkZW9SZWY7XG4gICAgdmFyIG5leHRWaWRlb1JlZiA9IGZvcndhcmRSZWYgfHwgdmlkZW9SZWY7XG5cbiAgICBpZiAobmV4dFZpZGVvUmVmICE9PSB2aWRlb1JlZikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdmlkZW9SZWY6IG5leHRWaWRlb1JlZlxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICBmdW5jdGlvbiBWaWRlbyhwcm9wcykge1xuICAgIHZhciBfdGhpcztcblxuICAgIF90aGlzID0gX0NvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzKSB8fCB0aGlzO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcInN0YXRlXCIsIHtcbiAgICAgIGNhcHRpb25zOiBbXSxcbiAgICAgIHNjcnViYmVyUmVmOiBSZWFjdC5jcmVhdGVSZWYoKSxcbiAgICAgIHZpZGVvUmVmOiBSZWFjdC5jcmVhdGVSZWYoKVxuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcImhhc1BsYXllZFwiLCBmYWxzZSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiaW5qZWN0VXBkYXRlVmlkZW9FdmVudHNcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHZpZGVvRXZlbnRzLnJlZHVjZShmdW5jdGlvbiAocHJldmlvdXNWYWx1ZSwgY3VycmVudFZhbHVlKSB7XG4gICAgICAgIHZhciBuZXh0VmFsdWUgPSBfZXh0ZW5kcyh7fSwgcHJldmlvdXNWYWx1ZSk7XG5cbiAgICAgICAgbmV4dFZhbHVlW2N1cnJlbnRWYWx1ZV0gPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIGlmIChjdXJyZW50VmFsdWUgaW4gX3RoaXMucHJvcHMgJiZcbiAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSByZWFjdC9kZXN0cnVjdHVyaW5nLWFzc2lnbm1lbnQgKi9cbiAgICAgICAgICB0eXBlb2YgX3RoaXMucHJvcHNbY3VycmVudFZhbHVlXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgX3RoaXMucHJvcHNbY3VycmVudFZhbHVlXShlKTtcbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgcmVhY3QvZGVzdHJ1Y3R1cmluZy1hc3NpZ25tZW50ICovXG5cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBfdGhpcy51cGRhdGUoKTtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gbmV4dFZhbHVlO1xuICAgICAgfSwge30pO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcInVwZGF0ZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdmlkZW9SZWYgPSBfdGhpcy5zdGF0ZS52aWRlb1JlZjtcbiAgICAgIHZhciB2aWRlbyA9IHZpZGVvUmVmLmN1cnJlbnQ7IC8vIFNldCBmbGFnIGZvciBWaWRlbyBmaXJzdCBwbGF5XG5cbiAgICAgIGlmICghX3RoaXMuaGFzUGxheWVkICYmICF2aWRlby5wYXVzZWQgJiYgIXZpZGVvLmxvYWRpbmcgfHwgdmlkZW8uY3VycmVudFRpbWUpIHtcbiAgICAgICAgX3RoaXMuaGFzUGxheWVkID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgdmFyIGludGVyYWN0aW5nID0gX3RoaXMuc3RhdGUuaW50ZXJhY3Rpbmc7XG5cbiAgICAgIGlmICh2aWRlby5lbmRlZCkge1xuICAgICAgICBpbnRlcmFjdGluZyA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGR1cmF0aW9uOiB2aWRlby5kdXJhdGlvbixcbiAgICAgICAgY3VycmVudFRpbWU6IHZpZGVvLmN1cnJlbnRUaW1lLFxuICAgICAgICAvLyBidWZmZXJlZDogdmlkZW8uYnVmZmVyZWQsXG4gICAgICAgIC8vIHBhdXNlZDogdmlkZW8ucGF1c2VkLFxuICAgICAgICAvLyBtdXRlZDogdmlkZW8ubXV0ZWQsXG4gICAgICAgIHZvbHVtZTogdmlkZW8udm9sdW1lLFxuICAgICAgICAvLyBlbmRlZDogdmlkZW8uZW5kZWQsXG4gICAgICAgIC8vIHJlYWR5U3RhdGU6IHZpZGVvLnJlYWR5U3RhdGUsXG4gICAgICAgIGludGVyYWN0aW5nOiBpbnRlcmFjdGluZyxcbiAgICAgICAgLy8gY29tcHV0ZWQgdmFsdWVzXG4gICAgICAgIC8vIGhhc1BsYXllZDogdGhpcy5oYXNQbGF5ZWQsXG4gICAgICAgIHBsYXlpbmc6ICF2aWRlby5wYXVzZWQgJiYgIXZpZGVvLmxvYWRpbmcsXG4gICAgICAgIC8vIHBlcmNlbnRhZ2VCdWZmZXJlZDogdmlkZW8uYnVmZmVyZWQubGVuZ3RoICYmXG4gICAgICAgIC8vICAgKHZpZGVvLmJ1ZmZlcmVkLmVuZCh2aWRlby5idWZmZXJlZC5sZW5ndGggLSAxKSAvXG4gICAgICAgIC8vICAgdmlkZW8uZHVyYXRpb24pICogMTAwLFxuICAgICAgICBwZXJjZW50YWdlUGxheWVkOiB2aWRlby5jdXJyZW50VGltZSAvIHZpZGVvLmR1cmF0aW9uICogMTAwIC8vIGxvYWRpbmc6IHZpZGVvLnJlYWR5U3RhdGUgPCB2aWRlby5IQVZFX0VOT1VHSF9EQVRBLFxuXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJwbGF5XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB2aWRlb1JlZiA9IF90aGlzLnN0YXRlLnZpZGVvUmVmO1xuICAgICAgdmlkZW9SZWYuY3VycmVudC5wbGF5KCk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwicGF1c2VcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHZpZGVvUmVmID0gX3RoaXMuc3RhdGUudmlkZW9SZWY7XG4gICAgICB2aWRlb1JlZi5jdXJyZW50LnBhdXNlKCk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwic2NydWJcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgX3RoaXMkc3RhdGUgPSBfdGhpcy5zdGF0ZSxcbiAgICAgICAgICBkdXJhdGlvbiA9IF90aGlzJHN0YXRlLmR1cmF0aW9uLFxuICAgICAgICAgIHNjcnViYmVyUmVmID0gX3RoaXMkc3RhdGUuc2NydWJiZXJSZWY7XG5cbiAgICAgIGlmIChzY3J1YmJlclJlZi5jdXJyZW50KSB7XG4gICAgICAgIHZhciBzY3J1YmJlclJlY3QgPSBzY3J1YmJlclJlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB2YXIgcGVyY2VudCA9IChldmVudC5jbGllbnRYIC0gc2NydWJiZXJSZWN0LmxlZnQpIC8gc2NydWJiZXJSZWN0LndpZHRoO1xuXG4gICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBzY3J1YlRpbWU6IGR1cmF0aW9uICogcGVyY2VudFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJzZWVrXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgdmFyIF90aGlzJHN0YXRlMiA9IF90aGlzLnN0YXRlLFxuICAgICAgICAgIGR1cmF0aW9uID0gX3RoaXMkc3RhdGUyLmR1cmF0aW9uLFxuICAgICAgICAgIHNjcnViYmVyUmVmID0gX3RoaXMkc3RhdGUyLnNjcnViYmVyUmVmLFxuICAgICAgICAgIHZpZGVvUmVmID0gX3RoaXMkc3RhdGUyLnZpZGVvUmVmO1xuXG4gICAgICBpZiAoc2NydWJiZXJSZWYuY3VycmVudCkge1xuICAgICAgICB2YXIgc2NydWJiZXJSZWN0ID0gc2NydWJiZXJSZWYuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgdmFyIHBlcmNlbnQgPSAoZXZlbnQuY2xpZW50WCAtIHNjcnViYmVyUmVjdC5sZWZ0KSAvIHNjcnViYmVyUmVjdC53aWR0aDtcbiAgICAgICAgdmlkZW9SZWYuY3VycmVudC5jdXJyZW50VGltZSA9IGR1cmF0aW9uICogcGVyY2VudDtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJ1bm11dGVcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHZpZGVvUmVmID0gX3RoaXMuc3RhdGUudmlkZW9SZWY7XG5cbiAgICAgIGlmICh2aWRlb1JlZi5jdXJyZW50KSB7XG4gICAgICAgIHZpZGVvUmVmLmN1cnJlbnQubXV0ZWQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJtdXRlXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB2aWRlb1JlZiA9IF90aGlzLnN0YXRlLnZpZGVvUmVmO1xuXG4gICAgICBpZiAodmlkZW9SZWYuY3VycmVudCkge1xuICAgICAgICB2aWRlb1JlZi5jdXJyZW50Lm11dGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJsb3VkZXJcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHZpZGVvUmVmID0gX3RoaXMuc3RhdGUudmlkZW9SZWY7XG4gICAgICB2aWRlb1JlZi5jdXJyZW50LnZvbHVtZSArPSBWT0xVTUVfU1RFUDtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJxdWlldGVyXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB2aWRlb1JlZiA9IF90aGlzLnN0YXRlLnZpZGVvUmVmO1xuICAgICAgdmlkZW9SZWYuY3VycmVudC52b2x1bWUgLT0gVk9MVU1FX1NURVA7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwic2hvd0NhcHRpb25zXCIsIGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgdmFyIHZpZGVvUmVmID0gX3RoaXMuc3RhdGUudmlkZW9SZWY7XG4gICAgICB2YXIgdGV4dFRyYWNrcyA9IHZpZGVvUmVmLmN1cnJlbnQudGV4dFRyYWNrcztcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZXh0VHJhY2tzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIHRleHRUcmFja3NbaV0ubW9kZSA9IGkgPT09IGluZGV4ID8gJ3Nob3dpbmcnIDogJ2hpZGRlbic7XG4gICAgICB9IC8vIFVzaW5nIGZvcmNlVXBkYXRlIHRvIGZvcmNlIHJlZHJhdyBvZiBjb250cm9scyB3aGVuIGNoYW5naW5nIGNhcHRpb25zXG5cblxuICAgICAgX3RoaXMuZm9yY2VVcGRhdGUoKTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJmdWxsc2NyZWVuXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB2aWRlb1JlZiA9IF90aGlzLnN0YXRlLnZpZGVvUmVmO1xuICAgICAgdmFyIHZpZGVvID0gdmlkZW9SZWYuY3VycmVudDtcblxuICAgICAgaWYgKHZpZGVvLnJlcXVlc3RGdWxsc2NyZWVuKSB7XG4gICAgICAgIHZpZGVvLnJlcXVlc3RGdWxsc2NyZWVuKCk7XG4gICAgICB9IGVsc2UgaWYgKHZpZGVvLm1zUmVxdWVzdEZ1bGxzY3JlZW4pIHtcbiAgICAgICAgdmlkZW8ubXNSZXF1ZXN0RnVsbHNjcmVlbigpO1xuICAgICAgfSBlbHNlIGlmICh2aWRlby5tb3pSZXF1ZXN0RnVsbFNjcmVlbikge1xuICAgICAgICB2aWRlby5tb3pSZXF1ZXN0RnVsbFNjcmVlbigpO1xuICAgICAgfSBlbHNlIGlmICh2aWRlby53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbikge1xuICAgICAgICB2aWRlby53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwiWW91ciBicm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCBmdWxsc2NyZWVuLlwiKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJpbnRlcmFjdGlvblN0YXJ0XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaW50ZXJhY3Rpbmc6IHRydWVcbiAgICAgIH0pO1xuXG4gICAgICBjbGVhclRpbWVvdXQoX3RoaXMuaW50ZXJhY3Rpb25UaW1lcik7XG4gICAgICBfdGhpcy5pbnRlcmFjdGlvblRpbWVyID0gc2V0VGltZW91dChfdGhpcy5pbnRlcmFjdGlvblN0b3AsIDMwMDApO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcImludGVyYWN0aW9uU3RvcFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgZm9jdXMgPSBfdGhpcy5zdGF0ZS5mb2N1cztcblxuICAgICAgaWYgKCFmb2N1cyAmJiAhX3RoaXMudW5tb3VudGVkKSB7XG4gICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBpbnRlcmFjdGluZzogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwicmVzdGF0ZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3RoaXMkc3RhdGUzID0gX3RoaXMuc3RhdGUsXG4gICAgICAgICAgY2FwdGlvbnMgPSBfdGhpcyRzdGF0ZTMuY2FwdGlvbnMsXG4gICAgICAgICAgaGVpZ2h0ID0gX3RoaXMkc3RhdGUzLmhlaWdodCxcbiAgICAgICAgICB2aWRlb1JlZiA9IF90aGlzJHN0YXRlMy52aWRlb1JlZixcbiAgICAgICAgICB3aWR0aCA9IF90aGlzJHN0YXRlMy53aWR0aDtcbiAgICAgIHZhciB2aWRlbyA9IHZpZGVvUmVmLmN1cnJlbnQ7XG5cbiAgICAgIGlmICh2aWRlbykge1xuICAgICAgICBpZiAodmlkZW8udmlkZW9IZWlnaHQpIHtcbiAgICAgICAgICAvLyBzZXQgdGhlIHNpemUgYmFzZWQgb24gdGhlIHZpZGVvIGFzcGVjdCByYXRpb1xuICAgICAgICAgIHZhciByZWN0ID0gdmlkZW8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgdmFyIHJhdGlvID0gcmVjdC53aWR0aCAvIHJlY3QuaGVpZ2h0O1xuICAgICAgICAgIHZhciB2aWRlb1JhdGlvID0gdmlkZW8udmlkZW9XaWR0aCAvIHZpZGVvLnZpZGVvSGVpZ2h0O1xuXG4gICAgICAgICAgaWYgKHZpZGVvUmF0aW8gPiByYXRpbykge1xuICAgICAgICAgICAgdmFyIG5leHRIZWlnaHQgPSByZWN0LndpZHRoIC8gdmlkZW9SYXRpbztcblxuICAgICAgICAgICAgaWYgKG5leHRIZWlnaHQgIT09IGhlaWdodCkge1xuICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBuZXh0SGVpZ2h0LFxuICAgICAgICAgICAgICAgIHdpZHRoOiB1bmRlZmluZWRcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBuZXh0V2lkdGggPSByZWN0LmhlaWdodCAqIHZpZGVvUmF0aW87XG5cbiAgICAgICAgICAgIGlmIChuZXh0V2lkdGggIT09IHdpZHRoKSB7XG4gICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICB3aWR0aDogbmV4dFdpZHRoXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSAvLyByZW1lbWJlciB0aGUgc3RhdGUgb2YgdGhlIHRleHQgdHJhY2tzIGZvciBzdWJzZXF1ZW50IHJlbmRlcmluZ1xuXG5cbiAgICAgICAgdmFyIHRleHRUcmFja3MgPSB2aWRlby50ZXh0VHJhY2tzO1xuXG4gICAgICAgIGlmICh0ZXh0VHJhY2tzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBpZiAodGV4dFRyYWNrcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIHZhciBhY3RpdmUgPSB0ZXh0VHJhY2tzWzBdLm1vZGUgPT09ICdzaG93aW5nJztcblxuICAgICAgICAgICAgaWYgKCFjYXB0aW9ucyB8fCAhY2FwdGlvbnNbMF0gfHwgY2FwdGlvbnNbMF0uYWN0aXZlICE9PSBhY3RpdmUpIHtcbiAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIGNhcHRpb25zOiBbe1xuICAgICAgICAgICAgICAgICAgYWN0aXZlOiBhY3RpdmVcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIG5leHRDYXB0aW9ucyA9IFtdO1xuICAgICAgICAgICAgdmFyIHNldCA9IGZhbHNlO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRleHRUcmFja3MubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgdmFyIHRyYWNrID0gdGV4dFRyYWNrc1tpXTtcblxuICAgICAgICAgICAgICB2YXIgX2FjdGl2ZSA9IHRyYWNrLm1vZGUgPT09ICdzaG93aW5nJztcblxuICAgICAgICAgICAgICBuZXh0Q2FwdGlvbnMucHVzaCh7XG4gICAgICAgICAgICAgICAgbGFiZWw6IHRyYWNrLmxhYmVsLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogX2FjdGl2ZVxuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBpZiAoIWNhcHRpb25zIHx8ICFjYXB0aW9uc1tpXSB8fCBjYXB0aW9uc1tpXS5hY3RpdmUgIT09IF9hY3RpdmUpIHtcbiAgICAgICAgICAgICAgICBzZXQgPSB0cnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzZXQpIHtcbiAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIGNhcHRpb25zOiBuZXh0Q2FwdGlvbnNcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfdGhpcy51cGRhdGUgPSB0aHJvdHRsZShfdGhpcy51cGRhdGUsIDEwMCwgX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpO1xuICAgIF90aGlzLm1lZGlhRXZlbnRQcm9wcyA9IF90aGlzLmluamVjdFVwZGF0ZVZpZGVvRXZlbnRzKCk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IFZpZGVvLnByb3RvdHlwZTtcblxuICBfcHJvdG8uY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB2YXIgbXV0ZSA9IHRoaXMucHJvcHMubXV0ZTtcbiAgICB2YXIgdmlkZW9SZWYgPSB0aGlzLnN0YXRlLnZpZGVvUmVmO1xuICAgIHZhciB2aWRlbyA9IHZpZGVvUmVmLmN1cnJlbnQ7XG5cbiAgICBpZiAobXV0ZSkge1xuICAgICAgdGhpcy5tdXRlKCk7XG4gICAgfVxuXG4gICAgaWYgKHZpZGVvKSB7XG4gICAgICAvLyBoaWRlIGFsbCBjYXB0aW9uaW5nIHRvIHN0YXJ0IHdpdGhcbiAgICAgIHZhciB0ZXh0VHJhY2tzID0gdmlkZW8udGV4dFRyYWNrcztcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZXh0VHJhY2tzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIHRleHRUcmFja3NbaV0ubW9kZSA9ICdoaWRkZW4nO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnJlc3RhdGUoKTtcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLmNvbXBvbmVudERpZFVwZGF0ZSA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMpIHtcbiAgICB2YXIgYXV0b1BsYXkgPSB0aGlzLnByb3BzLmF1dG9QbGF5O1xuXG4gICAgaWYgKGF1dG9QbGF5ICYmICFwcmV2UHJvcHMuYXV0b1BsYXkpIHtcbiAgICAgIC8vIENhbGxlciB3YW50cyB0aGUgdmlkZW8gdG8gcGxheSBub3cuXG4gICAgICB0aGlzLnBsYXkoKTtcbiAgICB9XG5cbiAgICB0aGlzLnJlc3RhdGUoKTtcbiAgfTtcblxuICBfcHJvdG8uY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICB0aGlzLnVubW91bnRlZCA9IHRydWU7XG4gIH07XG5cbiAgX3Byb3RvLnJlbmRlckNvbnRyb2xzID0gZnVuY3Rpb24gcmVuZGVyQ29udHJvbHMoKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICB2YXIgX3RoaXMkcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICBjb250cm9scyA9IF90aGlzJHByb3BzLmNvbnRyb2xzLFxuICAgICAgICB0aGVtZSA9IF90aGlzJHByb3BzLnRoZW1lO1xuICAgIHZhciBfdGhpcyRzdGF0ZTQgPSB0aGlzLnN0YXRlLFxuICAgICAgICBjYXB0aW9ucyA9IF90aGlzJHN0YXRlNC5jYXB0aW9ucyxcbiAgICAgICAgY3VycmVudFRpbWUgPSBfdGhpcyRzdGF0ZTQuY3VycmVudFRpbWUsXG4gICAgICAgIGR1cmF0aW9uID0gX3RoaXMkc3RhdGU0LmR1cmF0aW9uLFxuICAgICAgICBpbnRlcmFjdGluZyA9IF90aGlzJHN0YXRlNC5pbnRlcmFjdGluZyxcbiAgICAgICAgcGVyY2VudGFnZVBsYXllZCA9IF90aGlzJHN0YXRlNC5wZXJjZW50YWdlUGxheWVkLFxuICAgICAgICBwbGF5aW5nID0gX3RoaXMkc3RhdGU0LnBsYXlpbmcsXG4gICAgICAgIHNjcnViYmVyUmVmID0gX3RoaXMkc3RhdGU0LnNjcnViYmVyUmVmLFxuICAgICAgICBzY3J1YlRpbWUgPSBfdGhpcyRzdGF0ZTQuc2NydWJUaW1lLFxuICAgICAgICB2b2x1bWUgPSBfdGhpcyRzdGF0ZTQudm9sdW1lO1xuICAgIHZhciBvdmVyID0gY29udHJvbHMgPT09ICdvdmVyJztcbiAgICB2YXIgYmFja2dyb3VuZCA9IG92ZXIgPyB0aGVtZS52aWRlby5jb250cm9scyAmJiB0aGVtZS52aWRlby5jb250cm9scy5iYWNrZ3JvdW5kIHx8IHtcbiAgICAgIGNvbG9yOiAnZGFyay0xJyxcbiAgICAgIG9wYWNpdHk6ICdzdHJvbmcnXG4gICAgfSA6IHVuZGVmaW5lZDtcbiAgICB2YXIgaWNvbkNvbG9yID0gb3ZlciAmJiAodGhlbWUudmlkZW8uaWNvbnMuY29sb3IgfHwgJ2xpZ2h0LTEnKTtcbiAgICB2YXIgZm9ybWF0dGVkVGltZSA9IGZvcm1hdFRpbWUoc2NydWJUaW1lIHx8IGN1cnJlbnRUaW1lIHx8IGR1cmF0aW9uKTtcbiAgICB2YXIgSWNvbnMgPSB7XG4gICAgICBDbG9zZWRDYXB0aW9uOiB0aGVtZS52aWRlby5pY29ucy5jbG9zZWRDYXB0aW9uLFxuICAgICAgQ29uZmlndXJlOiB0aGVtZS52aWRlby5pY29ucy5jb25maWd1cmUsXG4gICAgICBGdWxsU2NyZWVuOiB0aGVtZS52aWRlby5pY29ucy5mdWxsU2NyZWVuLFxuICAgICAgUGF1c2U6IHRoZW1lLnZpZGVvLmljb25zLnBhdXNlLFxuICAgICAgUGxheTogdGhlbWUudmlkZW8uaWNvbnMucGxheSxcbiAgICAgIFJlZHVjZVZvbHVtZTogdGhlbWUudmlkZW8uaWNvbnMucmVkdWNlVm9sdW1lLFxuICAgICAgVm9sdW1lOiB0aGVtZS52aWRlby5pY29ucy52b2x1bWVcbiAgICB9O1xuICAgIHZhciBjYXB0aW9uQ29udHJvbHMgPSBjYXB0aW9ucy5tYXAoZnVuY3Rpb24gKGNhcHRpb24pIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGljb246IGNhcHRpb24ubGFiZWwgPyB1bmRlZmluZWQgOiBSZWFjdC5jcmVhdGVFbGVtZW50KEljb25zLkNsb3NlZENhcHRpb24sIHtcbiAgICAgICAgICBjb2xvcjogaWNvbkNvbG9yXG4gICAgICAgIH0pLFxuICAgICAgICBsYWJlbDogY2FwdGlvbi5sYWJlbCxcbiAgICAgICAgYWN0aXZlOiBjYXB0aW9uLmFjdGl2ZSxcbiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMyLnNob3dDYXB0aW9ucyhjYXB0aW9uLmFjdGl2ZSA/IC0xIDogMCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSk7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkVmlkZW9Db250cm9scywge1xuICAgICAgb3Zlcjogb3ZlcixcbiAgICAgIGFjdGl2ZTogIXRoaXMuaGFzUGxheWVkIHx8IGNvbnRyb2xzID09PSAnYmVsb3cnIHx8IG92ZXIgJiYgaW50ZXJhY3RpbmdcbiAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwge1xuICAgICAgZGlyZWN0aW9uOiBcInJvd1wiLFxuICAgICAgYWxpZ246IFwiY2VudGVyXCIsXG4gICAgICBqdXN0aWZ5OiBcImJldHdlZW5cIixcbiAgICAgIGJhY2tncm91bmQ6IGJhY2tncm91bmRcbiAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge1xuICAgICAgaWNvbjogcGxheWluZyA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoSWNvbnMuUGF1c2UsIHtcbiAgICAgICAgY29sb3I6IGljb25Db2xvclxuICAgICAgfSkgOiBSZWFjdC5jcmVhdGVFbGVtZW50KEljb25zLlBsYXksIHtcbiAgICAgICAgY29sb3I6IGljb25Db2xvclxuICAgICAgfSksXG4gICAgICBob3ZlckluZGljYXRvcjogXCJiYWNrZ3JvdW5kXCIsXG4gICAgICBvbkNsaWNrOiBwbGF5aW5nID8gdGhpcy5wYXVzZSA6IHRoaXMucGxheVxuICAgIH0pLCBSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwge1xuICAgICAgZGlyZWN0aW9uOiBcInJvd1wiLFxuICAgICAgYWxpZ246IFwiY2VudGVyXCIsXG4gICAgICBmbGV4OiB0cnVlXG4gICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChCb3gsIHtcbiAgICAgIGZsZXg6IHRydWVcbiAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFN0YWNrLCBudWxsLCBSZWFjdC5jcmVhdGVFbGVtZW50KE1ldGVyLCB7XG4gICAgICBcImFyaWEtbGFiZWxcIjogXCJWaWRlbyBwcm9ncmVzc1wiLFxuICAgICAgYmFja2dyb3VuZDogb3ZlciA/IHRoZW1lLnZpZGVvLnNjcnViYmVyICYmIHRoZW1lLnZpZGVvLnNjcnViYmVyLnRyYWNrICYmIHRoZW1lLnZpZGVvLnNjcnViYmVyLnRyYWNrLmNvbG9yIHx8ICdkYXJrLTMnIDogdW5kZWZpbmVkLFxuICAgICAgc2l6ZTogXCJmdWxsXCIsXG4gICAgICB0aGlja25lc3M6IFwic21hbGxcIixcbiAgICAgIHZhbHVlczogW3tcbiAgICAgICAgdmFsdWU6IHBlcmNlbnRhZ2VQbGF5ZWQgfHwgMFxuICAgICAgfV1cbiAgICB9KSwgUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWRWaWRlb1NjcnViYmVyLCB7XG4gICAgICByZWY6IHNjcnViYmVyUmVmLFxuICAgICAgdGFiSW5kZXg6IDAsXG4gICAgICByb2xlOiBcImJ1dHRvblwiLFxuICAgICAgdmFsdWU6IHNjcnViVGltZSA/IE1hdGgucm91bmQoc2NydWJUaW1lIC8gZHVyYXRpb24gKiAxMDApIDogdW5kZWZpbmVkLFxuICAgICAgb25Nb3VzZU1vdmU6IHRoaXMuc2NydWIsXG4gICAgICBvbk1vdXNlTGVhdmU6IGZ1bmN0aW9uIG9uTW91c2VMZWF2ZSgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzMi5zZXRTdGF0ZSh7XG4gICAgICAgICAgc2NydWJUaW1lOiB1bmRlZmluZWRcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgb25DbGljazogdGhpcy5zZWVrXG4gICAgfSkpKSwgUmVhY3QuY3JlYXRlRWxlbWVudChCb3gsIHtcbiAgICAgIHBhZDoge1xuICAgICAgICBob3Jpem9udGFsOiAnc21hbGwnXG4gICAgICB9XG4gICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChUZXh0LCB7XG4gICAgICBtYXJnaW46IFwibm9uZVwiXG4gICAgfSwgZm9ybWF0dGVkVGltZSkpKSwgUmVhY3QuY3JlYXRlRWxlbWVudChNZW51LCB7XG4gICAgICBpY29uOiBSZWFjdC5jcmVhdGVFbGVtZW50KEljb25zLkNvbmZpZ3VyZSwge1xuICAgICAgICBjb2xvcjogaWNvbkNvbG9yXG4gICAgICB9KSxcbiAgICAgIGRyb3BBbGlnbjoge1xuICAgICAgICBib3R0b206ICd0b3AnLFxuICAgICAgICByaWdodDogJ3JpZ2h0J1xuICAgICAgfSxcbiAgICAgIGRyb3BCYWNrZ3JvdW5kOiBiYWNrZ3JvdW5kLFxuICAgICAgaXRlbXM6IFt7XG4gICAgICAgIGljb246IFJlYWN0LmNyZWF0ZUVsZW1lbnQoSWNvbnMuVm9sdW1lLCB7XG4gICAgICAgICAgY29sb3I6IGljb25Db2xvclxuICAgICAgICB9KSxcbiAgICAgICAgb25DbGljazogdm9sdW1lIDw9IDEgLSBWT0xVTUVfU1RFUCA/IHRoaXMubG91ZGVyIDogdW5kZWZpbmVkLFxuICAgICAgICBjbG9zZTogZmFsc2VcbiAgICAgIH0sIHtcbiAgICAgICAgaWNvbjogUmVhY3QuY3JlYXRlRWxlbWVudChJY29ucy5SZWR1Y2VWb2x1bWUsIHtcbiAgICAgICAgICBjb2xvcjogaWNvbkNvbG9yXG4gICAgICAgIH0pLFxuICAgICAgICBvbkNsaWNrOiB2b2x1bWUgPj0gVk9MVU1FX1NURVAgPyB0aGlzLnF1aWV0ZXIgOiB1bmRlZmluZWQsXG4gICAgICAgIGNsb3NlOiBmYWxzZVxuICAgICAgfV0uY29uY2F0KGNhcHRpb25Db250cm9scywgW3tcbiAgICAgICAgaWNvbjogUmVhY3QuY3JlYXRlRWxlbWVudChJY29ucy5GdWxsU2NyZWVuLCB7XG4gICAgICAgICAgY29sb3I6IGljb25Db2xvclxuICAgICAgICB9KSxcbiAgICAgICAgb25DbGljazogdGhpcy5mdWxsc2NyZWVuXG4gICAgICB9XSlcbiAgICB9KSkpO1xuICB9O1xuXG4gIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIF90aGlzJHByb3BzMiA9IHRoaXMucHJvcHMsXG4gICAgICAgIGFsaWduU2VsZiA9IF90aGlzJHByb3BzMi5hbGlnblNlbGYsXG4gICAgICAgIGF1dG9QbGF5ID0gX3RoaXMkcHJvcHMyLmF1dG9QbGF5LFxuICAgICAgICBjaGlsZHJlbiA9IF90aGlzJHByb3BzMi5jaGlsZHJlbixcbiAgICAgICAgY29udHJvbHMgPSBfdGhpcyRwcm9wczIuY29udHJvbHMsXG4gICAgICAgIGdyaWRBcmVhID0gX3RoaXMkcHJvcHMyLmdyaWRBcmVhLFxuICAgICAgICBsb29wID0gX3RoaXMkcHJvcHMyLmxvb3AsXG4gICAgICAgIG1hcmdpbiA9IF90aGlzJHByb3BzMi5tYXJnaW4sXG4gICAgICAgIHRoZW1lID0gX3RoaXMkcHJvcHMyLnRoZW1lLFxuICAgICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3RoaXMkcHJvcHMyLCBbXCJhbGlnblNlbGZcIiwgXCJhdXRvUGxheVwiLCBcImNoaWxkcmVuXCIsIFwiY29udHJvbHNcIiwgXCJncmlkQXJlYVwiLCBcImxvb3BcIiwgXCJtYXJnaW5cIiwgXCJ0aGVtZVwiXSk7XG5cbiAgICB2YXIgX3RoaXMkc3RhdGU1ID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgaGVpZ2h0ID0gX3RoaXMkc3RhdGU1LmhlaWdodCxcbiAgICAgICAgdmlkZW9SZWYgPSBfdGhpcyRzdGF0ZTUudmlkZW9SZWYsXG4gICAgICAgIHdpZHRoID0gX3RoaXMkc3RhdGU1LndpZHRoO1xuICAgIHZhciBjb250cm9sc0VsZW1lbnQgPSBjb250cm9scyA/IHRoaXMucmVuZGVyQ29udHJvbHMoKSA6IHVuZGVmaW5lZDtcbiAgICB2YXIgbW91c2VFdmVudExpc3RlbmVycztcblxuICAgIGlmIChjb250cm9scyA9PT0gJ292ZXInKSB7XG4gICAgICBtb3VzZUV2ZW50TGlzdGVuZXJzID0ge1xuICAgICAgICBvbk1vdXNlRW50ZXI6IHRoaXMuaW50ZXJhY3Rpb25TdGFydCxcbiAgICAgICAgb25Nb3VzZU1vdmU6IHRoaXMuaW50ZXJhY3Rpb25TdGFydCxcbiAgICAgICAgb25Ub3VjaFN0YXJ0OiB0aGlzLmludGVyYWN0aW9uU3RhcnRcbiAgICAgIH07XG4gICAgfVxuXG4gICAgdmFyIHN0eWxlO1xuXG4gICAgaWYgKHJlc3QuZml0ID09PSAnY29udGFpbicgJiYgY29udHJvbHMgPT09ICdvdmVyJykge1xuICAgICAgLy8gY29uc3RyYWluIHRoZSBzaXplIHRvIGZpdCB0aGUgYXNwZWN0IHJhdGlvIHNvIHRoZSBjb250cm9sc1xuICAgICAgLy8gb3ZlcmxhcCBjb3JyZWN0bHlcbiAgICAgIGlmICh3aWR0aCkge1xuICAgICAgICBzdHlsZSA9IHtcbiAgICAgICAgICB3aWR0aDogd2lkdGhcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSBpZiAoaGVpZ2h0KSB7XG4gICAgICAgIHN0eWxlID0ge1xuICAgICAgICAgIGhlaWdodDogaGVpZ2h0XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkVmlkZW9Db250YWluZXIsIF9leHRlbmRzKHt9LCBtb3VzZUV2ZW50TGlzdGVuZXJzLCB7XG4gICAgICBhbGlnblNlbGY6IGFsaWduU2VsZixcbiAgICAgIGdyaWRBcmVhOiBncmlkQXJlYSxcbiAgICAgIG1hcmdpbjogbWFyZ2luLFxuICAgICAgc3R5bGU6IHN0eWxlXG4gICAgfSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkVmlkZW8sIF9leHRlbmRzKHt9LCByZXN0LCB7XG4gICAgICByZWY6IHZpZGVvUmVmXG4gICAgfSwgdGhpcy5tZWRpYUV2ZW50UHJvcHMsIHtcbiAgICAgIGF1dG9QbGF5OiBhdXRvUGxheSB8fCBmYWxzZSxcbiAgICAgIGxvb3A6IGxvb3AgfHwgZmFsc2VcbiAgICB9KSwgY2hpbGRyZW4pLCBjb250cm9sc0VsZW1lbnQpO1xuICB9O1xuXG4gIHJldHVybiBWaWRlbztcbn0oQ29tcG9uZW50KTtcblxuVmlkZW8uZGVmYXVsdFByb3BzID0ge1xuICBjb250cm9sczogJ292ZXInXG59O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKFZpZGVvLmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbnZhciBWaWRlb0RvYztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGdsb2JhbC1yZXF1aXJlXG4gIFZpZGVvRG9jID0gcmVxdWlyZSgnLi9kb2MnKS5kb2MoVmlkZW8pO1xufVxuXG52YXIgVmlkZW9XcmFwcGVyID0gY29tcG9zZSh3aXRoVGhlbWUsIHdpdGhGb3J3YXJkUmVmKShWaWRlb0RvYyB8fCBWaWRlbyk7XG5leHBvcnQgeyBWaWRlb1dyYXBwZXIgYXMgVmlkZW8gfTsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5pbXBvcnQgeyBkZXNjcmliZSwgUHJvcFR5cGVzIH0gZnJvbSAncmVhY3QtZGVzYyc7XG5pbXBvcnQgeyBnZW5lcmljUHJvcHMsIGdldEF2YWlsYWJsZUF0QmFkZ2UgfSBmcm9tICcuLi8uLi91dGlscyc7XG5pbXBvcnQgeyB0aGVtZURvY1V0aWxzIH0gZnJvbSAnLi4vLi4vdXRpbHMvdGhlbWVEb2NVdGlscyc7XG5leHBvcnQgdmFyIGRvYyA9IGZ1bmN0aW9uIGRvYyhWaWRlbykge1xuICB2YXIgRG9jdW1lbnRlZFZpZGVvID0gZGVzY3JpYmUoVmlkZW8pLmF2YWlsYWJsZUF0KGdldEF2YWlsYWJsZUF0QmFkZ2UoJ1ZpZGVvJykpLmRlc2NyaXB0aW9uKCdBIHZpZGVvIHBsYXllci4nKS51c2FnZShcImltcG9ydCB7IFZpZGVvIH0gZnJvbSAnZ3JvbW1ldCc7XFxuPFZpZGVvIC8+XCIpLmludHJpbnNpY0VsZW1lbnQoJ3ZpZGVvJyk7XG4gIERvY3VtZW50ZWRWaWRlby5wcm9wVHlwZXMgPSBfZXh0ZW5kcyh7fSwgZ2VuZXJpY1Byb3BzLCB7XG4gICAgYXV0b1BsYXk6IFByb3BUeXBlcy5ib29sLmRlc2NyaXB0aW9uKCdFbmFibGVzIGF1dG9tYXRpYyBwbGF5YmFjayBvZiB0aGUgdmlkZW8gYXMgc29vbiBhcyBpdCBpcyBsb2FkZWQuJyksXG4gICAgY29udHJvbHM6IFByb3BUeXBlcy5vbmVPZihbZmFsc2UsICdvdmVyJywgJ2JlbG93J10pLmRlc2NyaXB0aW9uKCdXaGV0aGVyIHRvIHNob3cgcGxheWJhY2sgY29udHJvbHMgYW5kIHdoZXJlIHRvIHBsYWNlIHRoZW0uJykuZGVmYXVsdFZhbHVlKCdvdmVyJyksXG4gICAgZml0OiBQcm9wVHlwZXMub25lT2YoWydjb3ZlcicsICdjb250YWluJ10pLmRlc2NyaXB0aW9uKCdIb3cgdGhlIGltYWdlIGZpbGxzIGl0cyBjb250YWluZXIuJyksXG4gICAgbG9vcDogUHJvcFR5cGVzLmJvb2wuZGVzY3JpcHRpb24oJ0VuYWJsZXMgY29udGludW91cyB2aWRlbyBsb29waW5nLicpLFxuICAgIG11dGU6IFByb3BUeXBlcy5ib29sLmRlc2NyaXB0aW9uKCdFbmFibGVzIHZpZGVvIG11dGluZy4gVGhpcyBvcHRpb24gaXMgYmVzdCB1c2VkIHdpdGggdGhlIGF1dG9QbGF5IGZsYWcuJylcbiAgfSk7XG4gIHJldHVybiBEb2N1bWVudGVkVmlkZW87XG59O1xuZXhwb3J0IHZhciB0aGVtZURvYyA9IF9leHRlbmRzKHt9LCB0aGVtZURvY1V0aWxzLnJlc3BvbnNpdmVCcmVha3BvaW50KCdUaGUgYWN0dWFsIGJyZWFrcG9pbnQgdG8gdHJpZ2dlciBjaGFuZ2VzIGluIHRoZSB2aWRlbyBjb21wb25lbnQgbGF5b3V0LicpLCB7XG4gICdnbG9iYWwuZWRnZVNpemUueHNtYWxsJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIHdpZHRoIG9mIHRoZSB2aWRlbyBzY3J1YmJlci4nLFxuICAgIHR5cGU6ICdvYmplY3QnLFxuICAgIGRlZmF1bHRWYWx1ZTogJzZweCdcbiAgfSxcbiAgJ3ZpZGVvLmNhcHRpb25zLmJhY2tncm91bmQnOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgY2FwdGlvbiBiYWNrZ3JvdW5kIGNvbG9yIG9mIHRoZSB2aWRlbyAnLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogJ3JnYmEoMCwgMCwgMCwgMC43KSdcbiAgfSxcbiAgJ3ZpZGVvLnNjcnViYmVyLmNvbG9yJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGJhY2tncm91bmQgY29sb3Igb2YgdGhlIHZpZGVvIHNjcnViYmVyLicsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiAnbGlnaHQtNCdcbiAgfSxcbiAgJ3ZpZGVvLmV4dGVuZCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ0FueSBhZGRpdGlvbmFsIHN0eWxlIGZvciBWaWRlby4nLFxuICAgIHR5cGU6ICdzdHJpbmcgfCAocHJvcHMpID0+IHt9JyxcbiAgICBkZWZhdWx0VmFsdWU6IHVuZGVmaW5lZFxuICB9XG59KTsiLCJleHBvcnQgeyBWaWRlbyB9IGZyb20gJy4vVmlkZW8nOyIsImltcG9ydCBzdHlsZWQgZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgZ2VuZXJpY1N0eWxlcyB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmltcG9ydCB7IGRlZmF1bHRQcm9wcyB9IGZyb20gJy4uLy4uL2RlZmF1bHQtcHJvcHMnO1xuXG52YXIgZmlsbFN0eWxlID0gZnVuY3Rpb24gZmlsbFN0eWxlKGZpbGxQcm9wKSB7XG4gIGlmIChmaWxsUHJvcCA9PT0gJ2hvcml6b250YWwnKSB7XG4gICAgcmV0dXJuIFwiXFxuICAgICAgd2lkdGg6IDEwMCU7XFxuICAgICAgaGVpZ2h0OiB1bnNldDtcXG4gICAgXCI7XG4gIH1cblxuICBpZiAoZmlsbFByb3AgPT09ICd2ZXJ0aWNhbCcpIHtcbiAgICByZXR1cm4gXCJcXG4gICAgICB3aWR0aDogdW5zZXQ7XFxuICAgICAgaGVpZ2h0OiAxMDAlO1xcbiAgICBcIjtcbiAgfVxuXG4gIGlmIChmaWxsUHJvcCkge1xuICAgIHJldHVybiBcIlxcbiAgICAgIHdpZHRoOiAxMDAlO1xcbiAgICAgIGhlaWdodDogMTAwJTtcXG4gICAgXCI7XG4gIH1cblxuICByZXR1cm4gJyc7XG59OyAvLyB1bmRlZmluZWQgZmlsbFByb3AgaGFzIHdpZHRoIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eVxuXG5cbnZhciBTdHlsZWRXb3JsZE1hcCA9IHN0eWxlZC5zdmcud2l0aENvbmZpZyh7XG4gIGRpc3BsYXlOYW1lOiBcIlN0eWxlZFdvcmxkTWFwXCIsXG4gIGNvbXBvbmVudElkOiBcImhhZDRjMy0wXCJcbn0pKFtcIlwiLCBcIiBcIiwgXCIgXCIsIFwiO1wiXSwgZ2VuZXJpY1N0eWxlcywgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5maWxsUHJvcCAhPT0gdW5kZWZpbmVkID8gZmlsbFN0eWxlKHByb3BzLmZpbGxQcm9wKSA6ICd3aWR0aDogMTAwJTsnO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS53b3JsZE1hcCAmJiBwcm9wcy50aGVtZS53b3JsZE1hcC5leHRlbmQ7XG59KTtcblN0eWxlZFdvcmxkTWFwLmRlZmF1bHRQcm9wcyA9IHt9O1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKFN0eWxlZFdvcmxkTWFwLmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbmV4cG9ydCB7IFN0eWxlZFdvcmxkTWFwIH07IiwiZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0c0xvb3NlKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcy5wcm90b3R5cGUpOyBzdWJDbGFzcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBzdWJDbGFzczsgc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjb21wb3NlIH0gZnJvbSAncmVjb21wb3NlJztcbmltcG9ydCB7IHdpdGhUaGVtZSB9IGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCB7IGRlZmF1bHRQcm9wcyB9IGZyb20gJy4uLy4uL2RlZmF1bHQtcHJvcHMnO1xuaW1wb3J0IHsgbm9ybWFsaXplQ29sb3IsIHBhcnNlTWV0cmljVG9OdW0gfSBmcm9tICcuLi8uLi91dGlscyc7XG5pbXBvcnQgeyBTdHlsZWRXb3JsZE1hcCB9IGZyb20gJy4vU3R5bGVkV29ybGRNYXAnOyAvLyBUaGUgZ3JhcGhpYyBpcyBkcmF3biBhcyBhIHJlY3Rhbmd1bGFyIGdyaWQgdXNpbmcgY29vcmRpbmF0ZXMgc3BhY2VkXG4vLyBieSBGQUNUT1IgcGl4ZWxzLiBUaGUgY29udGVudHMgaGF2ZSBib3RoIGFuIGFyZWEgYm91bmRhcnkgZm9yIGludGVyYWN0aW9uXG4vLyBhbmQgZG90cyBkZXNjcmliZWQgYXMgcm93cyB3aGVyZSBlYWNoIHJvdyBpcyBkZXNjcmliZWQgYnkgdGhyZWUgdmFsdWVzOlxuLy8gYSBzdGFydGluZyBjb29yZGluYXRlIGFuZCBhIGxlbmd0aC4gVGhpcyBhcHByb2FjaCBpcyBtb3JlIGVmZmljaWVudCB0aGFuXG4vLyBkZXNjcmliaW5nIGl0IHZpYSBTVkcgZWxlbWVudHMsIGtlZXBpbmcgdGhlIGNvZGUvbGlicmFyeSBzaXplIHNtYWxsZXIuXG5cbnZhciBDT05USU5FTlRTID0gW3tcbiAgbmFtZTogJ0F1c3RyYWxpYScsXG4gIG9yaWdpbjogWzc0LCAzMl0sXG4gIGFyZWE6IFtbNCwgMF0sIFs3LCAxXSwgWzE1LCA3XSwgWzEzLCA5XSwgWzAsIDZdLCBbMCwgMl1dLFxuICBkb3RzOiBbWzQsIDAsIDFdLCBbMiwgMSwgNl0sIFswLCAyLCA5XSwgWzAsIDMsIDEwXSwgWzAsIDQsIDEwXSwgWzAsIDUsIDNdLCBbNSwgNSwgNV0sIFs1LCA2LCA0XSwgWzE1LCA3LCAxXSwgWzE0LCA4LCAxXSwgWzEzLCA5LCAxXV1cbn0sIHtcbiAgbmFtZTogJ0FzaWEnLFxuICBvcmlnaW46IFs1MiwgMV0sXG4gIGFyZWE6IFtbMTYsIDBdLCBbMzgsIDVdLCBbNDAsIDddLCBbMjgsIDE3XSwgWzI0LCAyNV0sIFsyOSwgMjldLCBbMTksIDI5XSwgWzExLCAyNF0sIFszLCAyM10sIFswLCAyMF0sIFswLCAxOV0sIFs2LCAxM10sIFs3LCA2XV0sXG4gIGRvdHM6IFtbMTYsIDAsIDFdLCBbMTcsIDEsIDJdLCBbMTgsIDIsIDJdLCBbMTUsIDMsIDZdLCBbMjgsIDMsIDFdLCBbMzAsIDMsIDFdLCBbMTAsIDQsIDJdLCBbMTMsIDQsIDEwXSwgWzI0LCA0LCAxXSwgWzksIDUsIDIyXSwgWzMyLCA1LCAxXSwgWzM4LCA1LCAxXSwgWzcsIDYsIDJdLCBbMTAsIDYsIDFdLCBbMTIsIDYsIDI3XSwgWzcsIDcsIDM0XSwgWzcsIDgsIDMxXSwgWzcsIDksIDI2XSwgWzM0LCA5LCAzXSwgWzcsIDEwLCAyMl0sIFszMSwgMTAsIDFdLCBbMzMsIDEwLCAxXSwgWzcsIDExLCAyMV0sIFszMiwgMTEsIDJdLCBbNywgMTIsIDIxXSwgWzMyLCAxMiwgMV0sIFs2LCAxMywgMjJdLCBbMzIsIDEzLCAxXSwgWzYsIDE0LCAyMl0sIFs1LCAxNSwgMjJdLCBbMywgMTYsIDJdLCBbNiwgMTYsIDIwXSwgWzIsIDE3LCAzXSwgWzYsIDE3LCAxNl0sIFsyNCwgMTcsIDFdLCBbMjgsIDE3LCAxXSwgWzEsIDE4LCAyMl0sIFsyNiwgMTgsIDJdLCBbMCwgMTksIDI0XSwgWzAsIDIwLCA1XSwgWzYsIDIwLCAxN10sIFsyLCAyMSwgNV0sIFsxMCwgMjEsIDE0XSwgWzIsIDIyLCA1XSwgWzExLCAyMiwgNF0sIFsxNiwgMjIsIDRdLCBbMywgMjMsIDNdLCBbMTEsIDIzLCAyXSwgWzE3LCAyMywgM10sIFsyMywgMjMsIDFdLCBbMTEsIDI0LCAyXSwgWzE4LCAyNCwgMl0sIFsyMywgMjQsIDFdLCBbMjQsIDI1LCAxXSwgWzE4LCAyNiwgMV0sIFsyMiwgMjYsIDFdLCBbMTgsIDI3LCAxXSwgWzIwLCAyNywgNF0sIFsxOCwgMjgsIDFdLCBbMjEsIDI4LCAxXSwgWzIzLCAyOCwgMV0sIFsyNiwgMjgsIDNdLCBbMTksIDI5LCAxXSwgWzI4LCAyOSwgMl1dXG59LCB7XG4gIC8vIDIxWCwgNDBZXG4gIG5hbWU6ICdBZnJpY2EnLFxuICBvcmlnaW46IFs0MCwgMTldLFxuICBhcmVhOiBbWzMsIDBdLCBbNiwgMF0sIFsxMSwgMl0sIFsxNiwgN10sIFsxNiwgMTVdLCBbMTEsIDE4XSwgWzksIDE4XSwgWzAsIDZdLCBbMCwgM11dLFxuICBkb3RzOiBbWzMsIDAsIDRdLCBbMiwgMSwgNl0sIFs5LCAxLCAyXSwgWzEsIDIsIDExXSwgWzAsIDMsIDEzXSwgWzAsIDQsIDE0XSwgWzAsIDUsIDE0XSwgWzAsIDYsIDE2XSwgWzEsIDcsIDE2XSwgWzIsIDgsIDJdLCBbNiwgOCwgMTFdLCBbNywgOSwgOV0sIFs3LCAxMCwgOF0sIFs3LCAxMSwgN10sIFs4LCAxMiwgN10sIFs3LCAxMywgOF0sIFs3LCAxNCwgN10sIFsxNiwgMTQsIDFdLCBbOCwgMTUsIDVdLCBbMTUsIDE1LCAyXSwgWzgsIDE2LCA1XSwgWzksIDE3LCAzXSwgWzksIDE4LCAzXV1cbn0sIHtcbiAgbmFtZTogJ0V1cm9wZScsXG4gIG9yaWdpbjogWzM5LCAyXSxcbiAgYXJlYTogW1s4LCAwXSwgWzEwLCAwXSwgWzIwLCAyXSwgWzE5LCAxMV0sIFsxOCwgMTNdLCBbMTQsIDE2XSwgWzMsIDE2XSwgWzAsIDddXSxcbiAgZG90czogW1s4LCAwLCAzXSwgWzksIDEsIDFdLCBbMjAsIDIsIDFdLCBbMTksIDMsIDFdLCBbMTIsIDQsIDFdLCBbMTksIDQsIDFdLCBbOSwgNSwgNl0sIFs5LCA2LCA3XSwgWzE3LCA2LCAzXSwgWzAsIDcsIDFdLCBbOCwgNywgMTJdLCBbNywgOCwgM10sIFsxMSwgOCwgOV0sIFs3LCA5LCAzXSwgWzExLCA5LCA5XSwgWzQsIDEwLCAxXSwgWzcsIDEwLCAxXSwgWzksIDEwLCAxXSwgWzExLCAxMCwgOV0sIFszLCAxMSwgMl0sIFs3LCAxMSwgMTNdLCBbNCwgMTIsIDFdLCBbNiwgMTIsIDEzXSwgWzQsIDEzLCAxNV0sIFs1LCAxNCwgM10sIFs5LCAxNCwgNF0sIFsxNSwgMTQsIDJdLCBbMywgMTUsIDNdLCBbOCwgMTUsIDFdLCBbMTAsIDE1LCA1XSwgWzYsIDE1LCAyXSwgWzMsIDE2LCAyXSwgWzEwLCAxNiwgNV1dXG59LCB7XG4gIG5hbWU6ICdTb3V0aCBBbWVyaWNhJyxcbiAgb3JpZ2luOiBbMjIsIDI2XSxcbiAgYXJlYTogW1syLCAwXSwgWzUsIDBdLCBbMTEsIDRdLCBbMTEsIDhdLCBbMywgMThdLCBbMiwgMTddLCBbMCwgNF0sIFswLCAzXV0sXG4gIGRvdHM6IFtbMiwgMCwgNF0sIFsxLCAxLCA3XSwgWzEsIDIsIDddLCBbMCwgMywgMTBdLCBbMCwgNCwgMTJdLCBbMSwgNSwgMTFdLCBbMiwgNiwgOV0sIFszLCA3LCA4XSwgWzMsIDgsIDhdLCBbMywgOSwgNl0sIFszLCAxMCwgNl0sIFszLCAxMSwgNV0sIFszLCAxMiwgM10sIFsyLCAxMywgM10sIFsyLCAxNCwgM10sIFsyLCAxNSwgMl0sIFsyLCAxNiwgMl0sIFsyLCAxNywgMl0sIFszLCAxOCwgMV1dXG59LCB7XG4gIG5hbWU6ICdOb3J0aCBBbWVyaWNhJyxcbiAgb3JpZ2luOiBbMCwgMF0sXG4gIGFyZWE6IFtbMjEsIDBdLCBbMzksIDBdLCBbMzksIDZdLCBbMjIsIDI2XSwgWzE2LCAyM10sIFsyLCAxMl0sIFswLCA3XV0sXG4gIGRvdHM6IFtbMjIsIDAsIDZdLCBbMjksIDAsIDFdLCBbMzEsIDAsIDFdLCBbMzMsIDAsIDVdLCBbMjAsIDEsIDFdLCBbMjIsIDEsIDFdLCBbMjQsIDEsIDJdLCBbMjcsIDEsIDEzXSwgWzE3LCAyLCAxXSwgWzIwLCAyLCA1XSwgWzI2LCAyLCAxM10sIFsxMywgMywgMV0sIFsxOSwgMywgMV0sIFsyMSwgMywgM10sIFsyNiwgMywgMTRdLCBbMTQsIDQsIDFdLCBbMTYsIDQsIDRdLCBbMjEsIDQsIDNdLCBbMjksIDQsIDExXSwgWzEyLCA1LCAzXSwgWzE2LCA1LCAxXSwgWzE4LCA1LCAxXSwgWzIwLCA1LCAzXSwgWzI0LCA1LCAxXSwgWzMwLCA1LCA4XSwgWzE0LCA2LCAzXSwgWzE5LCA2LCAxXSwgWzIyLCA2LCA0XSwgWzMxLCA2LCA4XSwgWzAsIDcsIDE1XSwgWzE2LCA3LCAxXSwgWzE4LCA3LCA0XSwgWzI0LCA3LCAyXSwgWzMwLCA3LCA3XSwgWzIsIDgsIDIwXSwgWzI0LCA4LCAzXSwgWzI5LCA4LCA1XSwgWzIsIDksIDIwXSwgWzI0LCA5LCAyXSwgWzMwLCA5LCAzXSwgWzEsIDEwLCAxOF0sIFsyMywgMTAsIDJdLCBbMzEsIDEwLCAxXSwgWzIsIDExLCAyXSwgWzgsIDExLCAxMV0sIFsyMywgMTEsIDJdLCBbMjYsIDExLCAxXSwgWzIsIDEyLCAxXSwgWzgsIDEyLCAxM10sIFsyNCwgMTIsIDNdLCBbMTAsIDEzLCAxMl0sIFsyMywgMTMsIDVdLCBbMTEsIDE0LCAxN10sIFsxMSwgMTUsIDldLCBbMjEsIDE1LCA2XSwgWzI4LCAxNSwgMl0sIFsxMSwgMTYsIDExXSwgWzIzLCAxNiwgNF0sIFsxMSwgMTcsIDE0XSwgWzEyLCAxOCwgMTFdLCBbMTIsIDE5LCAxMl0sIFsxMywgMjAsIDldLCBbMTUsIDIxLCAzXSwgWzIyLCAyMSwgMV0sIFsxNiwgMjIsIDJdLCBbMTYsIDIzLCAyXSwgWzIwLCAyMywgMV0sIFsyMywgMjMsIDFdLCBbMTgsIDI0LCAzXSwgWzIxLCAyNSwgMV0sIFsyMiwgMjYsIDFdXVxufV07IC8vIEZBQ1RPUiBpcyB0aGUgZGlzdGFuY2UgaW4gcGl4ZWxzIGJldHdlZW4gY29vcmRpbmF0ZXNcblxudmFyIEZBQ1RPUiA9IDEwO1xuXG52YXIgbWF4Q29vcmRpbmF0ZSA9IGZ1bmN0aW9uIG1heENvb3JkaW5hdGUoYSwgYikge1xuICByZXR1cm4gW01hdGgubWF4KGFbMF0sIGJbMF0pLCBNYXRoLm1heChhWzFdLCBiWzFdKV07XG59OyAvLyBjb25zdCBtaW5Db29yZGluYXRlID0gKGEsIGIpID0+XG4vLyAgIFtNYXRoLm1pbihhWzBdLCBiWzBdKSwgTWF0aC5taW4oYVsxXSwgYlsxXSldO1xuLy8gQmFzZWQgb24gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzQzODYxMjQ3XG5cblxudmFyIE1BUF9MQVRfQk9UVE9NID0gLTUwLjA7IC8vIGVtcGlyaWNhbGx5IGRldGVybWluZWRcblxudmFyIE1BUF9MQVRfQk9UVE9NX1JBRCA9IE1BUF9MQVRfQk9UVE9NICogTWF0aC5QSSAvIDE4MDtcbnZhciBNQVBfTE9OX0xFRlQgPSAtMTcxLjA7IC8vIGVtcGlyaWNhbGx5IGRldGVybWluZWRcblxudmFyIE1BUF9MT05fUklHSFQgPSAxODQuMDsgLy8gZW1waXJpY2FsbHkgZGV0ZXJtaW5lZFxuXG52YXIgTUFQX0xPTl9ERUxUQSA9IE1BUF9MT05fUklHSFQgLSBNQVBfTE9OX0xFRlQ7XG5cbnZhciBtYXBWYWx1ZXMgPSBmdW5jdGlvbiBtYXBWYWx1ZXMoZXh0ZW50KSB7XG4gIHZhciBtYXBSYWRpdXMgPSBleHRlbnRbMF0gLyBNQVBfTE9OX0RFTFRBICogMzYwIC8gKDIgKiBNYXRoLlBJKTtcbiAgdmFyIG1hcE9mZnNldFkgPSBNYXRoLnJvdW5kKG1hcFJhZGl1cyAvIDIgKiBNYXRoLmxvZygoMSArIE1hdGguc2luKE1BUF9MQVRfQk9UVE9NX1JBRCkpIC8gKDEgLSBNYXRoLnNpbihNQVBfTEFUX0JPVFRPTV9SQUQpKSkpO1xuICByZXR1cm4ge1xuICAgIG1hcFJhZGl1czogbWFwUmFkaXVzLFxuICAgIG1hcE9mZnNldFk6IG1hcE9mZnNldFlcbiAgfTtcbn07XG5cbnZhciBsYXRMb25Ub0Nvb3JkID0gZnVuY3Rpb24gbGF0TG9uVG9Db29yZChsYXRMb24sIG9yaWdpbiwgZXh0ZW50KSB7XG4gIHZhciBfbWFwVmFsdWVzID0gbWFwVmFsdWVzKGV4dGVudCksXG4gICAgICBtYXBSYWRpdXMgPSBfbWFwVmFsdWVzLm1hcFJhZGl1cyxcbiAgICAgIG1hcE9mZnNldFkgPSBfbWFwVmFsdWVzLm1hcE9mZnNldFk7XG5cbiAgdmFyIHggPSBNYXRoLnJvdW5kKChsYXRMb25bMV0gLSBNQVBfTE9OX0xFRlQpICogZXh0ZW50WzBdIC8gTUFQX0xPTl9ERUxUQSk7XG4gIHZhciBsYXRpdHVkZVJhZCA9IGxhdExvblswXSAqIE1hdGguUEkgLyAxODA7XG4gIHZhciB5ID0gZXh0ZW50WzFdICsgbWFwT2Zmc2V0WSAtIE1hdGgucm91bmQobWFwUmFkaXVzIC8gMiAqIE1hdGgubG9nKCgxICsgTWF0aC5zaW4obGF0aXR1ZGVSYWQpKSAvICgxIC0gTWF0aC5zaW4obGF0aXR1ZGVSYWQpKSkpO1xuICByZXR1cm4gW3gsIHldOyAvLyB0aGUgY29vcmRpbmF0ZSB2YWx1ZSBvZiB0aGlzIHBvaW50IG9uIHRoZSBtYXAgaW1hZ2Vcbn07XG5cbnZhciBjb29yZFRvTGF0TG9uID0gZnVuY3Rpb24gY29vcmRUb0xhdExvbihjb29yZCwgb3JpZ2luLCBleHRlbnQpIHtcbiAgdmFyIF9tYXBWYWx1ZXMyID0gbWFwVmFsdWVzKGV4dGVudCksXG4gICAgICBtYXBSYWRpdXMgPSBfbWFwVmFsdWVzMi5tYXBSYWRpdXMsXG4gICAgICBtYXBPZmZzZXRZID0gX21hcFZhbHVlczIubWFwT2Zmc2V0WTtcblxuICB2YXIgYSA9IChleHRlbnRbMV0gKyBtYXBPZmZzZXRZIC0gY29vcmRbMV0pIC8gbWFwUmFkaXVzO1xuICB2YXIgbGF0ID0gMTgwIC8gTWF0aC5QSSAqICgyICogTWF0aC5hdGFuKE1hdGguZXhwKGEpKSAtIE1hdGguUEkgLyAyKTtcbiAgdmFyIGxvbiA9IGNvb3JkWzBdICogTUFQX0xPTl9ERUxUQSAvIGV4dGVudFswXSArIE1BUF9MT05fTEVGVDtcbiAgcmV0dXJuIFtsYXQsIGxvbl07XG59O1xuXG52YXIgYnVpbGRDb250aW5lbnRTdGF0ZSA9IGZ1bmN0aW9uIGJ1aWxkQ29udGluZW50U3RhdGUoX3JlZikge1xuICB2YXIgYXJlYSA9IF9yZWYuYXJlYSxcbiAgICAgIGRvdHMgPSBfcmVmLmRvdHMsXG4gICAgICBvcmlnaW4gPSBfcmVmLm9yaWdpbjtcbiAgdmFyIGV4dGVudCA9IFtdLmNvbmNhdChvcmlnaW4pO1xuICB2YXIgc3RhdGVEb3RzID0gZG90cy5tYXAoZnVuY3Rpb24gKHNlZ21lbnQpIHtcbiAgICB2YXIgY291bnQgPSBzZWdtZW50WzJdO1xuICAgIHZhciBzcG90cyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb3VudDsgaSArPSAxKSB7XG4gICAgICBzcG90cy5wdXNoKCdoMCcpO1xuICAgIH1cblxuICAgIHZhciBkb3RDb21tYW5kcyA9IHNwb3RzLmpvaW4oJyBtMTAsMCAnKTtcbiAgICB2YXIgeCA9IEZBQ1RPUiAqIChvcmlnaW5bMF0gKyBzZWdtZW50WzBdICsgMSk7XG4gICAgdmFyIHkgPSBGQUNUT1IgKiAob3JpZ2luWzFdICsgc2VnbWVudFsxXSArIDEpO1xuICAgIGV4dGVudCA9IG1heENvb3JkaW5hdGUoZXh0ZW50LCBbb3JpZ2luWzBdICsgc2VnbWVudFswXSArIHNlZ21lbnRbMl0sIG9yaWdpblsxXSArIHNlZ21lbnRbMV1dKTtcbiAgICByZXR1cm4gXCJNXCIgKyB4ICsgXCIsXCIgKyB5ICsgXCIgXCIgKyBkb3RDb21tYW5kcztcbiAgfSkuam9pbignICcpO1xuICB2YXIgc3RhdGVBcmVhID0gYXJlYS5tYXAoZnVuY3Rpb24gKHBvaW50LCBpbmRleCkge1xuICAgIHZhciB4ID0gRkFDVE9SICogKHBvaW50WzBdICsgb3JpZ2luWzBdICsgMSk7XG4gICAgdmFyIHkgPSBGQUNUT1IgKiAocG9pbnRbMV0gKyBvcmlnaW5bMV0gKyAxKTtcbiAgICByZXR1cm4gXCJcIiArIChpbmRleCA9PT0gMCA/ICdNJyA6ICdMJykgKyB4ICsgXCIsXCIgKyB5O1xuICB9KS5qb2luKCcgJykgKyBcIiBaXCI7XG4gIHZhciBtaWQgPSBbb3JpZ2luWzBdICsgKGV4dGVudFswXSAtIG9yaWdpblswXSkgLyAyLCBvcmlnaW5bMV0gKyAoZXh0ZW50WzFdIC0gb3JpZ2luWzFdKSAvIDJdO1xuICByZXR1cm4ge1xuICAgIGFyZWE6IHN0YXRlQXJlYSxcbiAgICBkb3RzOiBzdGF0ZURvdHMsXG4gICAgb3JpZ2luOiBvcmlnaW4sXG4gICAgZXh0ZW50OiBleHRlbnQsXG4gICAgbWlkOiBtaWRcbiAgfTtcbn07XG5cbnZhciBidWlsZFN0YXRlID0gZnVuY3Rpb24gYnVpbGRTdGF0ZSgpIHtcbiAgdmFyIGNvbnRpbmVudHMgPSB7fTsgLy8gQnVpbGQgdGhlIFNWRyBwYXRocyBkZXNjcmliaW5nIHRoZSBpbmRpdmlkdWFsIGRvdHNcblxuICB2YXIgb3JpZ2luID0gWzAsIDBdO1xuICB2YXIgZXh0ZW50ID0gWzAsIDBdO1xuICBDT05USU5FTlRTLmZvckVhY2goZnVuY3Rpb24gKGNvbnRpbmVudCkge1xuICAgIGNvbnRpbmVudHNbY29udGluZW50Lm5hbWVdID0gYnVpbGRDb250aW5lbnRTdGF0ZShjb250aW5lbnQpO1xuICAgIGV4dGVudCA9IG1heENvb3JkaW5hdGUoZXh0ZW50LCBjb250aW5lbnRzW2NvbnRpbmVudC5uYW1lXS5leHRlbnQpO1xuICB9KTtcbiAgcmV0dXJuIHtcbiAgICBjb250aW5lbnRzOiBjb250aW5lbnRzLFxuICAgIGV4dGVudDogZXh0ZW50LFxuICAgIG9yaWdpbjogb3JpZ2luLFxuICAgIHg6IG9yaWdpblswXSAqIEZBQ1RPUixcbiAgICB5OiBvcmlnaW5bMV0gKiBGQUNUT1IsXG4gICAgd2lkdGg6IChleHRlbnRbMF0gLSBvcmlnaW5bMF0gKyAxKSAqIEZBQ1RPUixcbiAgICBoZWlnaHQ6IChleHRlbnRbMV0gLSBvcmlnaW5bMV0gKyAyKSAqIEZBQ1RPUlxuICB9O1xufTtcblxudmFyIHVwZGF0ZVN0YXRlID0gZnVuY3Rpb24gdXBkYXRlU3RhdGUoc3RhdGUsIF9yZWYyKSB7XG4gIHZhciBjb250aW5lbnRzID0gX3JlZjIuY29udGluZW50cyxcbiAgICAgIHBsYWNlcyA9IF9yZWYyLnBsYWNlcztcblxuICB2YXIgbmV4dFN0YXRlID0gX2V4dGVuZHMoe30sIHN0YXRlKTtcblxuICBpZiAoY29udGluZW50cykge1xuICAgIGNvbnRpbmVudHMuZm9yRWFjaChmdW5jdGlvbiAoY29udGluZW50KSB7XG4gICAgICBuZXh0U3RhdGUuY29udGluZW50c1tjb250aW5lbnQubmFtZV0gPSBfZXh0ZW5kcyh7fSwgc3RhdGUuY29udGluZW50c1tjb250aW5lbnQubmFtZV0sIHt9LCBjb250aW5lbnQpO1xuICAgIH0pO1xuICB9XG5cbiAgbmV4dFN0YXRlLnBsYWNlcyA9IChwbGFjZXMgfHwgW10pLm1hcChmdW5jdGlvbiAoX3JlZjMpIHtcbiAgICB2YXIgbG9jYXRpb24gPSBfcmVmMy5sb2NhdGlvbixcbiAgICAgICAgcGxhY2UgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfcmVmMywgW1wibG9jYXRpb25cIl0pO1xuXG4gICAgdmFyIGNvb3JkcyA9IGxhdExvblRvQ29vcmQobG9jYXRpb24sIHN0YXRlLm9yaWdpbiwgc3RhdGUuZXh0ZW50KTtcbiAgICByZXR1cm4gX2V4dGVuZHMoe1xuICAgICAgY29vcmRzOiBjb29yZHMsXG4gICAgICBrZXk6IGxvY2F0aW9uLmpvaW4oJywnKVxuICAgIH0sIHBsYWNlKTtcbiAgfSk7XG4gIHJldHVybiBuZXh0U3RhdGU7XG59O1xuXG52YXIgYnVpbGRJbnRlcmFjdGl2ZVByb3BzID0gZnVuY3Rpb24gYnVpbGRJbnRlcmFjdGl2ZVByb3BzKF9yZWY0LCBhY3RpdmVGdW5jLCBhY3RpdmUpIHtcbiAgdmFyIG5hbWUgPSBfcmVmNC5uYW1lLFxuICAgICAgb25DbGljayA9IF9yZWY0Lm9uQ2xpY2ssXG4gICAgICBvbkhvdmVyID0gX3JlZjQub25Ib3ZlcjtcbiAgcmV0dXJuIHtcbiAgICByb2xlOiAnYnV0dG9uJyxcbiAgICAnYXJpYS1sYWJlbCc6IG5hbWUsXG4gICAgdGFiSW5kZXg6ICcwJyxcbiAgICBvbkNsaWNrOiBvbkNsaWNrID8gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG9uQ2xpY2sobmFtZSk7XG4gICAgfSA6IHVuZGVmaW5lZCxcbiAgICBvbk1vdXNlT3ZlcjogZnVuY3Rpb24gb25Nb3VzZU92ZXIoKSB7XG4gICAgICBpZiAoIWFjdGl2ZSkge1xuICAgICAgICBhY3RpdmVGdW5jKG5hbWUpO1xuXG4gICAgICAgIGlmIChvbkhvdmVyKSB7XG4gICAgICAgICAgb25Ib3Zlcih0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgb25Nb3VzZUxlYXZlOiBmdW5jdGlvbiBvbk1vdXNlTGVhdmUoKSB7XG4gICAgICBpZiAoYWN0aXZlKSB7XG4gICAgICAgIGFjdGl2ZUZ1bmModW5kZWZpbmVkKTtcblxuICAgICAgICBpZiAob25Ib3Zlcikge1xuICAgICAgICAgIG9uSG92ZXIoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBvbkZvY3VzOiBmdW5jdGlvbiBvbkZvY3VzKCkge1xuICAgICAgLy8gVGhpcyBtb3ZlcyB0aGUgbWFwIHVubmVjZXNzYXJpbHkuIEluc3RlYWQsIHdlIHNob3VsZCBjaGVja1xuICAgICAgLy8gdGhlIHBvc2l0aW9uIGFuZCBzY3JvbGwgaWYgaXQgaXNuJ3QgYWxyZWFkeSB2aXNpYmxlXG4gICAgICAvLyB0aGlzLl93b3JsZE1hcFJlZi5zY3JvbGxJbnRvVmlldygpO1xuICAgICAgaWYgKCFhY3RpdmUpIHtcbiAgICAgICAgYWN0aXZlRnVuYyhuYW1lKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIG9uQmx1cjogZnVuY3Rpb24gb25CbHVyKCkge1xuICAgICAgaWYgKGFjdGl2ZSkge1xuICAgICAgICBhY3RpdmVGdW5jKHVuZGVmaW5lZCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xufTtcblxudmFyIFdvcmxkTWFwID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKFdvcmxkTWFwLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBXb3JsZE1hcCgpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgX3RoaXMgPSBfQ29tcG9uZW50LmNhbGwuYXBwbHkoX0NvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChhcmdzKSkgfHwgdGhpcztcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJzdGF0ZVwiLCB7fSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwib25Nb3VzZU92ZXJcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgLy8gdHJhY2sgd2hlbiB3ZSdyZSBvdmVyIHRoZSBtYXAgdG8gYXZvaWQgZGVhbGluZyB3aXRoIG1vdXNlIG1vdmVzXG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIG92ZXI6IHRydWVcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIm9uTW91c2VNb3ZlXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgdmFyIHdpZHRoID0gX3RoaXMuc3RhdGUud2lkdGg7IC8vIGRldGVybWluZSB0aGUgbWFwIGNvb3JkaW5hdGVzIGZvciB3aGVyZSB0aGUgbW91c2UgaXNcbiAgICAgIC8vIGNvbnRhaW5lclJlZiB1c2VzIHRoZSBncm91cCBzbyB3ZSBjYW4gaGFuZGxlIGFzcGVjdCByYXRpbyBzY2FsaW5nXG5cbiAgICAgIHZhciByZWN0ID0gX3RoaXMuY29udGFpbmVyUmVmLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICB2YXIgc2NhbGUgPSByZWN0LndpZHRoIC8gd2lkdGg7IC8vIHNpbmNlIHRoZSBTVkcgdmlld0JveCBtaWdodCBiZSBzY2FsZWRcblxuICAgICAgdmFyIGNvb3JkcyA9IFtNYXRoLnJvdW5kKChldmVudC5jbGllbnRYIC0gcmVjdC5sZWZ0KSAvIHNjYWxlIC8gRkFDVE9SKSwgTWF0aC5yb3VuZCgoZXZlbnQuY2xpZW50WSAtIHJlY3QudG9wKSAvIHNjYWxlIC8gRkFDVE9SKV07XG5cbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgYWN0aXZlQ29vcmRzOiBjb29yZHNcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIm9uTW91c2VMZWF2ZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIG92ZXI6IGZhbHNlLFxuICAgICAgICBhY3RpdmVDb29yZHM6IHVuZGVmaW5lZFxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBXb3JsZE1hcC5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPSBmdW5jdGlvbiBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMobmV4dFByb3BzLCBwcmV2U3RhdGUpIHtcbiAgICBpZiAoIXByZXZTdGF0ZS5jb250aW5lbnRzKSB7XG4gICAgICByZXR1cm4gdXBkYXRlU3RhdGUoYnVpbGRTdGF0ZSgpLCBuZXh0UHJvcHMpO1xuICAgIH1cblxuICAgIHJldHVybiB1cGRhdGVTdGF0ZShwcmV2U3RhdGUsIG5leHRQcm9wcyk7XG4gIH07XG5cbiAgdmFyIF9wcm90byA9IFdvcmxkTWFwLnByb3RvdHlwZTtcblxuICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgdmFyIF90aGlzJHByb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgY29sb3IgPSBfdGhpcyRwcm9wcy5jb2xvcixcbiAgICAgICAgZmlsbCA9IF90aGlzJHByb3BzLmZpbGwsXG4gICAgICAgIG9uU2VsZWN0UGxhY2UgPSBfdGhpcyRwcm9wcy5vblNlbGVjdFBsYWNlLFxuICAgICAgICBob3ZlckNvbG9yID0gX3RoaXMkcHJvcHMuaG92ZXJDb2xvcixcbiAgICAgICAgdGhlbWUgPSBfdGhpcyRwcm9wcy50aGVtZSxcbiAgICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF90aGlzJHByb3BzLCBbXCJjb2xvclwiLCBcImZpbGxcIiwgXCJvblNlbGVjdFBsYWNlXCIsIFwiaG92ZXJDb2xvclwiLCBcInRoZW1lXCJdKTtcblxuICAgIGRlbGV0ZSByZXN0LnBsYWNlcztcbiAgICBkZWxldGUgcmVzdC5jb250aW5lbnRzO1xuICAgIHZhciBfdGhpcyRzdGF0ZSA9IHRoaXMuc3RhdGUsXG4gICAgICAgIGFjdGl2ZUNvbnRpbmVudCA9IF90aGlzJHN0YXRlLmFjdGl2ZUNvbnRpbmVudCxcbiAgICAgICAgYWN0aXZlQ29vcmRzID0gX3RoaXMkc3RhdGUuYWN0aXZlQ29vcmRzLFxuICAgICAgICBhY3RpdmVQbGFjZSA9IF90aGlzJHN0YXRlLmFjdGl2ZVBsYWNlLFxuICAgICAgICBjb250aW5lbnRTdGF0ZXMgPSBfdGhpcyRzdGF0ZS5jb250aW5lbnRzLFxuICAgICAgICBleHRlbnQgPSBfdGhpcyRzdGF0ZS5leHRlbnQsXG4gICAgICAgIG9yaWdpbiA9IF90aGlzJHN0YXRlLm9yaWdpbixcbiAgICAgICAgb3ZlciA9IF90aGlzJHN0YXRlLm92ZXIsXG4gICAgICAgIHBsYWNlU3RhdGVzID0gX3RoaXMkc3RhdGUucGxhY2VzLFxuICAgICAgICB4ID0gX3RoaXMkc3RhdGUueCxcbiAgICAgICAgeSA9IF90aGlzJHN0YXRlLnksXG4gICAgICAgIHdpZHRoID0gX3RoaXMkc3RhdGUud2lkdGgsXG4gICAgICAgIGhlaWdodCA9IF90aGlzJHN0YXRlLmhlaWdodDtcbiAgICB2YXIgY29udGluZW50cyA9IE9iamVjdC5rZXlzKGNvbnRpbmVudFN0YXRlcykubWFwKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICB2YXIgX2NvbnRpbmVudFN0YXRlcyRuYW1lID0gY29udGluZW50U3RhdGVzW25hbWVdLFxuICAgICAgICAgIGFyZWEgPSBfY29udGluZW50U3RhdGVzJG5hbWUuYXJlYSxcbiAgICAgICAgICBjb250aW5lbnRDb2xvciA9IF9jb250aW5lbnRTdGF0ZXMkbmFtZS5jb2xvcixcbiAgICAgICAgICBkb3RzID0gX2NvbnRpbmVudFN0YXRlcyRuYW1lLmRvdHMsXG4gICAgICAgICAgb25DbGljayA9IF9jb250aW5lbnRTdGF0ZXMkbmFtZS5vbkNsaWNrLFxuICAgICAgICAgIG9uSG92ZXIgPSBfY29udGluZW50U3RhdGVzJG5hbWUub25Ib3ZlcjtcbiAgICAgIHZhciBhY3RpdmUgPSBhY3RpdmVDb250aW5lbnQgJiYgYWN0aXZlQ29udGluZW50ID09PSBuYW1lO1xuICAgICAgdmFyIGludGVyYWN0aXZlUHJvcHMgPSB7fTtcblxuICAgICAgaWYgKG9uQ2xpY2sgfHwgb25Ib3Zlcikge1xuICAgICAgICBpbnRlcmFjdGl2ZVByb3BzID0gYnVpbGRJbnRlcmFjdGl2ZVByb3BzKGNvbnRpbmVudFN0YXRlc1tuYW1lXSwgZnVuY3Rpb24gKGFjdGl2YXRlKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMi5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBhY3RpdmVDb250aW5lbnQ6IGFjdGl2YXRlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sIGFjdGl2ZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZ1wiLCBfZXh0ZW5kcyh7XG4gICAgICAgIGtleTogbmFtZVxuICAgICAgfSwgaW50ZXJhY3RpdmVQcm9wcyksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICAgICAgc3Ryb2tlOiBcIm5vbmVcIixcbiAgICAgICAgZmlsbDogXCIjZmZmXCIsXG4gICAgICAgIGZpbGxPcGFjaXR5OiBcIjAuMDFcIixcbiAgICAgICAgZDogYXJlYVxuICAgICAgfSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICAgICAgZDogZG90cyxcbiAgICAgICAgc3Ryb2tlTGluZWNhcDogXCJyb3VuZFwiLFxuICAgICAgICBzdHJva2VXaWR0aDogcGFyc2VNZXRyaWNUb051bSh0aGVtZS53b3JsZE1hcC5jb250aW5lbnRbYWN0aXZlID8gJ2FjdGl2ZScgOiAnYmFzZSddKSxcbiAgICAgICAgc3Ryb2tlOiBub3JtYWxpemVDb2xvcihjb250aW5lbnRDb2xvciB8fCBjb2xvciB8fCB0aGVtZS53b3JsZE1hcC5jb2xvciwgdGhlbWUpXG4gICAgICB9KSk7XG4gICAgfSk7XG4gICAgdmFyIHBsYWNlcyA9IHBsYWNlU3RhdGVzLm1hcChmdW5jdGlvbiAocGxhY2UpIHtcbiAgICAgIHZhciBwbGFjZUNvbG9yID0gcGxhY2UuY29sb3IsXG4gICAgICAgICAgY29vcmRzID0gcGxhY2UuY29vcmRzLFxuICAgICAgICAgIGtleSA9IHBsYWNlLmtleSxcbiAgICAgICAgICBuYW1lID0gcGxhY2UubmFtZSxcbiAgICAgICAgICBvbkNsaWNrID0gcGxhY2Uub25DbGljayxcbiAgICAgICAgICBvbkhvdmVyID0gcGxhY2Uub25Ib3ZlcixcbiAgICAgICAgICByZXN0UGxhY2UgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShwbGFjZSwgW1wiY29sb3JcIiwgXCJjb29yZHNcIiwgXCJrZXlcIiwgXCJuYW1lXCIsIFwib25DbGlja1wiLCBcIm9uSG92ZXJcIl0pO1xuXG4gICAgICB2YXIgZCA9IFwiTVwiICsgRkFDVE9SICogY29vcmRzWzBdICsgXCIsIFwiICsgRkFDVE9SICogY29vcmRzWzFdICsgXCIgaDBcIjtcbiAgICAgIHZhciBhY3RpdmUgPSBhY3RpdmVQbGFjZSAmJiBhY3RpdmVQbGFjZSA9PT0gbmFtZTtcbiAgICAgIHZhciBpbnRlcmFjdGl2ZVByb3BzID0ge307XG5cbiAgICAgIGlmIChvbkNsaWNrIHx8IG9uSG92ZXIpIHtcbiAgICAgICAgaW50ZXJhY3RpdmVQcm9wcyA9IGJ1aWxkSW50ZXJhY3RpdmVQcm9wcyhwbGFjZSwgZnVuY3Rpb24gKGFjdGl2YXRlKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMi5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBhY3RpdmVQbGFjZTogYWN0aXZhdGVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSwgYWN0aXZlKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIF9leHRlbmRzKHtcbiAgICAgICAga2V5OiBrZXksXG4gICAgICAgIHN0cm9rZUxpbmVjYXA6IFwicm91bmRcIixcbiAgICAgICAgc3Ryb2tlV2lkdGg6IHBhcnNlTWV0cmljVG9OdW0odGhlbWUud29ybGRNYXAucGxhY2VbYWN0aXZlID8gJ2FjdGl2ZScgOiAnYmFzZSddKSxcbiAgICAgICAgc3Ryb2tlOiBub3JtYWxpemVDb2xvcihwbGFjZUNvbG9yIHx8IGNvbG9yIHx8IHRoZW1lLndvcmxkTWFwLmNvbG9yLCB0aGVtZSlcbiAgICAgIH0sIGludGVyYWN0aXZlUHJvcHMsIHJlc3RQbGFjZSwge1xuICAgICAgICBkOiBkXG4gICAgICB9KSk7XG4gICAgfSk7IC8vIElmIHRoZSBjYWxsZXIgaXMgaW50ZXJlc3RlZCBpbiBvblNlbGVjdFBsYWNlIGNoYW5nZXMsIHRyYWNrIHdoZXJlIHRoZVxuXG4gICAgdmFyIGludGVyYWN0aXZlUHJvcHMgPSB7fTtcblxuICAgIGlmIChvblNlbGVjdFBsYWNlKSB7XG4gICAgICBpbnRlcmFjdGl2ZVByb3BzID0ge1xuICAgICAgICBvbk1vdXNlT3ZlcjogdGhpcy5vbk1vdXNlT3ZlcixcbiAgICAgICAgb25Nb3VzZU1vdmU6IG92ZXIgPyB0aGlzLm9uTW91c2VNb3ZlIDogdW5kZWZpbmVkLFxuICAgICAgICBvbk1vdXNlTGVhdmU6IHRoaXMub25Nb3VzZUxlYXZlXG4gICAgICB9O1xuICAgIH1cblxuICAgIHZhciBhY3RpdmU7XG5cbiAgICBpZiAoYWN0aXZlQ29vcmRzKSB7XG4gICAgICB2YXIgZCA9IFwiTVwiICsgRkFDVE9SICogYWN0aXZlQ29vcmRzWzBdICsgXCIsIFwiICsgRkFDVE9SICogYWN0aXZlQ29vcmRzWzFdICsgXCIgaDBcIjtcbiAgICAgIGFjdGl2ZSA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJnXCIsIHtcbiAgICAgICAgc3Ryb2tlOiBcIm5vbmVcIixcbiAgICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcbiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgICByZXR1cm4gb25TZWxlY3RQbGFjZShjb29yZFRvTGF0TG9uKGFjdGl2ZUNvb3Jkcywgb3JpZ2luLCBleHRlbnQpKTtcbiAgICAgICAgfVxuICAgICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgICAgICBzdHJva2VMaW5lY2FwOiBcInJvdW5kXCIsXG4gICAgICAgIHN0cm9rZVdpZHRoOiBwYXJzZU1ldHJpY1RvTnVtKHRoZW1lLndvcmxkTWFwLnBsYWNlLmFjdGl2ZSksXG4gICAgICAgIHN0cm9rZTogbm9ybWFsaXplQ29sb3IoaG92ZXJDb2xvciB8fCBjb2xvciB8fCB0aGVtZS53b3JsZE1hcC5ob3Zlci5jb2xvciwgdGhlbWUpLFxuICAgICAgICBkOiBkXG4gICAgICB9KSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkV29ybGRNYXAsIF9leHRlbmRzKHtcbiAgICAgIHZpZXdCb3g6IHggKyBcIiBcIiArIHkgKyBcIiBcIiArIHdpZHRoICsgXCIgXCIgKyBoZWlnaHQsXG4gICAgICBwcmVzZXJ2ZUFzcGVjdFJhdGlvOiBcInhNaW5ZTWluIG1lZXRcIixcbiAgICAgIGZpbGxQcm9wOiBmaWxsLFxuICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgaGVpZ2h0OiBoZWlnaHRcbiAgICB9LCBpbnRlcmFjdGl2ZVByb3BzLCByZXN0KSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImdcIiwge1xuICAgICAgcmVmOiBmdW5jdGlvbiByZWYoX3JlZjUpIHtcbiAgICAgICAgX3RoaXMyLmNvbnRhaW5lclJlZiA9IF9yZWY1O1xuICAgICAgfSxcbiAgICAgIHN0cm9rZTogXCJub25lXCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIlxuICAgIH0sIGNvbnRpbmVudHMpLCBwbGFjZXMsIGFjdGl2ZSk7XG4gIH07XG5cbiAgcmV0dXJuIFdvcmxkTWFwO1xufShDb21wb25lbnQpO1xuXG5Xb3JsZE1hcC5kZWZhdWx0UHJvcHMgPSB7fTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihXb3JsZE1hcC5kZWZhdWx0UHJvcHMsIGRlZmF1bHRQcm9wcyk7XG52YXIgV29ybGRNYXBEb2M7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBnbG9iYWwtcmVxdWlyZVxuICBXb3JsZE1hcERvYyA9IHJlcXVpcmUoJy4vZG9jJykuZG9jKFdvcmxkTWFwKTtcbn1cblxudmFyIFdvcmxkTWFwV3JhcHBlciA9IGNvbXBvc2Uod2l0aFRoZW1lKShXb3JsZE1hcERvYyB8fCBXb3JsZE1hcCk7XG5leHBvcnQgeyBXb3JsZE1hcFdyYXBwZXIgYXMgV29ybGRNYXAgfTsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5pbXBvcnQgeyBkZXNjcmliZSwgUHJvcFR5cGVzIH0gZnJvbSAncmVhY3QtZGVzYyc7XG5pbXBvcnQgeyBjb2xvclByb3BUeXBlLCBnZW5lcmljUHJvcHMsIGdldEF2YWlsYWJsZUF0QmFkZ2UgfSBmcm9tICcuLi8uLi91dGlscyc7XG5leHBvcnQgdmFyIHRoZW1lRG9jID0ge1xuICAnd29ybGRNYXAuY29sb3InOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgY29sb3IgZm9yIGVhY2ggaW5kaXZpZHVhbCBkb3Qgd2hlbiBhIGNvbG9yIGlzIG5vdCBwYXNzZWQgYXMgYSBwcm9wJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBkZWZhdWx0VmFsdWU6ICdsaWdodC0zJ1xuICB9LFxuICAnd29ybGRNYXAuY29udGluZW50LmFjdGl2ZSc6IHtcbiAgICBkZXNjcmlwdGlvbjogXCJUaGUgc2l6ZSBvZiB0aGUgdmlzdWFsIGRvdHMgYmVsb25naW5nIHRvIGEgY29udGluZW50IHdoZW4gdGhlXFxuY29udGluZW50IGlzIGJlaW5nIGhvdmVyZWQuXCIsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiAnOHB4J1xuICB9LFxuICAnd29ybGRNYXAuY29udGluZW50LmJhc2UnOiB7XG4gICAgZGVzY3JpcHRpb246IFwiVGhlIHNpemUgb2YgdGhlIHZpc3VhbCBkb3RzIGJlbG9uZ2luZyB0byBhIGNvbnRpbmVudCB0aGF0IGlzXFxubm90IGJlaW5nIGhvdmVyZWQuXCIsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiAnNnB4J1xuICB9LFxuICAnd29ybGRNYXAuaG92ZXIuY29sb3InOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgY29sb3IgZm9yIGFuIGluZGl2aWR1YWwgZG90IHdoZW4gaXQgaXMgYmVpbmcgaG92ZXJlZCcsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiAnbGlnaHQtNCdcbiAgfSxcbiAgJ3dvcmxkTWFwLnBsYWNlLmFjdGl2ZSc6IHtcbiAgICBkZXNjcmlwdGlvbjogXCJUaGUgc2l6ZSBvZiBhIHZpc3VhbCBkb3QgZm9yIGFuIGluZGl2aWR1YWwgcGxhY2UgaW4gdGhlIG1hcCBcXG53aGVuIGl0IGlzIGJlaW5nIGhvdmVyZWQuXCIsXG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdFZhbHVlOiAnMjBweCdcbiAgfSxcbiAgJ3dvcmxkTWFwLnBsYWNlLmJhc2UnOiB7XG4gICAgZGVzY3JpcHRpb246IFwiVGhlIHNpemUgb2YgdGhlIHZpc3VhbCBkb3QgcmVwcmVzZW50aW5nIGFuIGluZGl2aWR1YWwgcGxhY2UgXFxuaW4gdGhlIG1hcCB3aGVuIGl0IGlzIG5vdCBiZWluZyBob3ZlcmVkLlwiLFxuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHRWYWx1ZTogJzhweCdcbiAgfSxcbiAgJ3dvcmxkTWFwLmV4dGVuZCc6IHtcbiAgICBkZXNjcmlwdGlvbjogJ0FueSBhZGRpdGlvbmFsIHN0eWxlIGZvciB0aGUgV29ybGRNYXAuJyxcbiAgICB0eXBlOiAnc3RyaW5nIHwgKHByb3BzKSA9PiB7fScsXG4gICAgZGVmYXVsdFZhbHVlOiB1bmRlZmluZWRcbiAgfVxufTtcbmV4cG9ydCB2YXIgZG9jID0gZnVuY3Rpb24gZG9jKFdvcmxkTWFwKSB7XG4gIHZhciBEb2N1bWVudGVkV29ybGRNYXAgPSBkZXNjcmliZShXb3JsZE1hcCkuYXZhaWxhYmxlQXQoZ2V0QXZhaWxhYmxlQXRCYWRnZSgnV29ybGRNYXAnKSkuZGVzY3JpcHRpb24oJ0EgbWFwIG9mIHRoZSB3b3JsZCwgb3IgYSBjb250aW5lbnQuJykudXNhZ2UoXCJpbXBvcnQgeyBXb3JsZE1hcCB9IGZyb20gJ2dyb21tZXQnO1xcbjxXb3JsZE1hcCAvPlwiKS5pbnRyaW5zaWNFbGVtZW50KCdzdmcnKTtcbiAgRG9jdW1lbnRlZFdvcmxkTWFwLnByb3BUeXBlcyA9IF9leHRlbmRzKHt9LCBnZW5lcmljUHJvcHMsIHtcbiAgICBjb2xvcjogY29sb3JQcm9wVHlwZS5kZXNjcmlwdGlvbignRGVmYXVsdCBjb2xvcicpLFxuICAgIGNvbnRpbmVudHM6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICBjb2xvcjogY29sb3JQcm9wVHlwZSxcbiAgICAgIG5hbWU6IFByb3BUeXBlcy5vbmVPZihbJ0FmcmljYScsICdBc2lhJywgJ0F1c3RyYWxpYScsICdFdXJvcGUnLCAnTm9ydGggQW1lcmljYScsICdTb3V0aCBBbWVyaWNhJ10pLmlzUmVxdWlyZWQsXG4gICAgICBvbkNsaWNrOiBQcm9wVHlwZXMuZnVuYyxcbiAgICAgIG9uSG92ZXI6IFByb3BUeXBlcy5mdW5jXG4gICAgfSkpLmRlc2NyaXB0aW9uKCdDb250aW5lbnQgZGV0YWlscy4nKSxcbiAgICBmaWxsOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2YoWydob3Jpem9udGFsJywgJ3ZlcnRpY2FsJ10pLCBQcm9wVHlwZXMuYm9vbF0pLmRlc2NyaXB0aW9uKCdXaGV0aGVyIHRoZSB3aWR0aCBhbmQvb3IgaGVpZ2h0IHNob3VsZCBmaWxsIHRoZSBjb250YWluZXIuJyksXG4gICAgb25TZWxlY3RQbGFjZTogUHJvcFR5cGVzLmZ1bmMuZGVzY3JpcHRpb24oXCJDYWxsZWQgd2hlbiB0aGUgdXNlciBjbGlja3Mgb24gYSBwbGFjZS5cXG4gICAgICAgIEl0IGlzIHBhc3NlZCB0aGUgbG9jYXRpb24uXCIpLFxuICAgIHBsYWNlczogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgIGNvbG9yOiBjb2xvclByb3BUeXBlLFxuICAgICAgbmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgIC8vIGZvciBhMTF5IGFyaWEtbGFiZWxcbiAgICAgIGxvY2F0aW9uOiBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMubnVtYmVyKS5pc1JlcXVpcmVkLFxuICAgICAgb25DbGljazogUHJvcFR5cGVzLmZ1bmMsXG4gICAgICBvbkhvdmVyOiBQcm9wVHlwZXMuZnVuY1xuICAgIH0pKS5kZXNjcmlwdGlvbignUGxhY2UgZGV0YWlscy4nKSxcbiAgICBob3ZlckNvbG9yOiBjb2xvclByb3BUeXBlLmRlc2NyaXB0aW9uKCdDb2xvciB3aGVuIGhvdmVyaW5nIG92ZXIgcGxhY2VzIHdoaWxlIHNlbGVjdGluZy4nKVxuICB9KTtcbiAgcmV0dXJuIERvY3VtZW50ZWRXb3JsZE1hcDtcbn07IiwiZXhwb3J0IHsgV29ybGRNYXAgfSBmcm9tICcuL1dvcmxkTWFwJzsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHNMb29zZShzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MucHJvdG90eXBlKTsgc3ViQ2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gc3ViQ2xhc3M7IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuLyogZXNsaW50LWRpc2FibGUgcmVhY3Qvbm8tbXVsdGktY29tcCAqL1xuaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBnZXREaXNwbGF5TmFtZSBmcm9tICdyZWNvbXBvc2UvZ2V0RGlzcGxheU5hbWUnO1xuaW1wb3J0IGhvaXN0Tm9uUmVhY3RTdGF0aWNzIGZyb20gJ2hvaXN0LW5vbi1yZWFjdC1zdGF0aWNzJztcbmltcG9ydCB7IHdpdGhUaGVtZSB9IGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCB7IEFubm91bmNlQ29udGV4dCB9IGZyb20gJy4uL2NvbnRleHRzJztcbmV4cG9ydCB2YXIgd2l0aEZvY3VzID0gZnVuY3Rpb24gd2l0aEZvY3VzKF90ZW1wKSB7XG4gIHZhciBfcmVmID0gX3RlbXAgPT09IHZvaWQgMCA/IHt9IDogX3RlbXAsXG4gICAgICBmb2N1c1dpdGhNb3VzZSA9IF9yZWYuZm9jdXNXaXRoTW91c2U7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChXcmFwcGVkQ29tcG9uZW50KSB7XG4gICAgdmFyIEZvY3VzYWJsZUNvbXBvbmVudCA9XG4gICAgLyojX19QVVJFX18qL1xuICAgIGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICAgICBfaW5oZXJpdHNMb29zZShGb2N1c2FibGVDb21wb25lbnQsIF9Db21wb25lbnQpO1xuXG4gICAgICBGb2N1c2FibGVDb21wb25lbnQuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID0gZnVuY3Rpb24gZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKG5leHRQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgICAgIHZhciB3aXRoRm9jdXNSZWYgPSBuZXh0UHJvcHMud2l0aEZvY3VzUmVmO1xuICAgICAgICB2YXIgd3JhcHBlZFJlZiA9IHByZXZTdGF0ZS53cmFwcGVkUmVmO1xuICAgICAgICB2YXIgbmV4dFdyYXBwZWRSZWYgPSB3aXRoRm9jdXNSZWYgfHwgd3JhcHBlZFJlZjtcblxuICAgICAgICBpZiAobmV4dFdyYXBwZWRSZWYgIT09IHdyYXBwZWRSZWYpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgd3JhcHBlZFJlZjogbmV4dFdyYXBwZWRSZWZcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9O1xuXG4gICAgICAvLyBub3QgaW4gc3RhdGUgYmVjYXVzZSBpdCBkb2Vzbid0IGFmZmVjdCByZW5kZXJpbmdcbiAgICAgIGZ1bmN0aW9uIEZvY3VzYWJsZUNvbXBvbmVudChwcm9wcykge1xuICAgICAgICB2YXIgX3RoaXM7XG5cbiAgICAgICAgX3RoaXMgPSBfQ29tcG9uZW50LmNhbGwodGhpcywgcHJvcHMpIHx8IHRoaXM7XG5cbiAgICAgICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIm1vdXNlQWN0aXZlXCIsIGZhbHNlKTtcblxuICAgICAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiY29tcG9uZW50RGlkTW91bnRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciB3cmFwcGVkUmVmID0gX3RoaXMuc3RhdGUud3JhcHBlZFJlZjsgLy8gY29tcG9uZW50cyBzdWNoIGFzIGFuY2hvcnMgYW5kIGJ1dHRvbnMgc2hvdWxkIG5vdCByZXRhaW4gZm9jdXMgYWZ0ZXJcbiAgICAgICAgICAvLyBiZWluZyBjbGlja2VkIHdoaWxlIHRleHQtYmFzZWQgY29tcG9uZW50cyBzaG91bGRcblxuICAgICAgICAgIGlmICghZm9jdXNXaXRoTW91c2UpIHtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBfdGhpcy5oYW5kbGVBY3RpdmVNb3VzZSk7XG4gICAgICAgICAgfSAvLyB3ZSBjb3VsZCBiZSB1c2luZyBvbkZvY3VzIGluIHRoZSB3cmFwcGVyIG5vZGUgaXRzZWxmXG4gICAgICAgICAgLy8gYnV0IHJlYWN0IGRvZXMgbm90IGludm9rZSBpdCBpZiB5b3UgcHJvZ3JhbWljYWxseVxuICAgICAgICAgIC8vIGNhbGwgd3JhcHBlck5vZGUuZm9jdXMoKSBpbnNpZGUgY29tcG9uZW50V2lsbFVubW91bnRcbiAgICAgICAgICAvLyBzZWUgRHJvcCBcInRoaXMub3JpZ2luYWxGb2N1c2VkRWxlbWVudC5mb2N1cygpO1wiIGZvciByZWZlcmVuY2VcblxuXG4gICAgICAgICAgdmFyIHdyYXBwZXJOb2RlID0gd3JhcHBlZFJlZi5jdXJyZW50O1xuXG4gICAgICAgICAgaWYgKHdyYXBwZXJOb2RlICYmIHdyYXBwZXJOb2RlLmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgICAgIHdyYXBwZXJOb2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgX3RoaXMuc2V0Rm9jdXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcImNvbXBvbmVudFdpbGxVbm1vdW50XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgd3JhcHBlZFJlZiA9IF90aGlzLnN0YXRlLndyYXBwZWRSZWY7XG4gICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIF90aGlzLmhhbmRsZUFjdGl2ZU1vdXNlKTtcbiAgICAgICAgICB2YXIgd3JhcHBlck5vZGUgPSB3cmFwcGVkUmVmLmN1cnJlbnQ7XG5cbiAgICAgICAgICBpZiAod3JhcHBlck5vZGUgJiYgd3JhcHBlck5vZGUuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICAgICAgd3JhcHBlck5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignZm9jdXMnLCBfdGhpcy5zZXRGb2N1cyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY2xlYXJUaW1lb3V0KF90aGlzLmZvY3VzVGltZXIpO1xuICAgICAgICAgIGNsZWFyVGltZW91dChfdGhpcy5tb3VzZVRpbWVyKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcImhhbmRsZUFjdGl2ZU1vdXNlXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAvLyBmcm9tIGh0dHBzOi8vbWFyY3lzdXR0b24uY29tL2J1dHRvbi1mb2N1cy1oZWxsL1xuICAgICAgICAgIF90aGlzLm1vdXNlQWN0aXZlID0gdHJ1ZTsgLy8gdGhpcyBhdm9pZHMgc2hvd2luZyBmb2N1cyB3aGVuIGNsaWNraW5nIGFyb3VuZFxuXG4gICAgICAgICAgY2xlYXJUaW1lb3V0KF90aGlzLm1vdXNlVGltZXIpOyAvLyBlbXBpcmljYWwgbnVtYmVyIHRvIHJlc2V0IG1vdXNlQWN0aXZlIGFmdGVyXG4gICAgICAgICAgLy8gc29tZSB0aW1lIGhhcyBwYXNzZWQgd2l0aG91dCBtb3VzZWRvd25cblxuICAgICAgICAgIF90aGlzLm1vdXNlVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLm1vdXNlQWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgfSwgMTUwKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcInNldEZvY3VzXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAvLyBkZWxheSBzZXR0aW5nIGZvY3VzIHRvIGF2b2lkIGludGVydXB0aW5nIGV2ZW50cyxcbiAgICAgICAgICAvLyAxbXMgd2FzIGNob3NlbiBlbXBpcmljYWxseSBiYXNlZCBvbiBpZTExIHVzaW5nIFNlbGVjdCBhbmQgVGV4dElucHV0XG4gICAgICAgICAgLy8gd2l0aCBhbmQgd2l0aG91dCBhIEZvcm1GaWVsZC5cbiAgICAgICAgICBjbGVhclRpbWVvdXQoX3RoaXMuZm9jdXNUaW1lcik7XG4gICAgICAgICAgX3RoaXMuZm9jdXNUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGZvY3VzID0gX3RoaXMuc3RhdGUuZm9jdXM7XG5cbiAgICAgICAgICAgIGlmICghZm9jdXMgJiYgIV90aGlzLm1vdXNlQWN0aXZlKSB7XG4gICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBmb2N1czogdHJ1ZVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCAxKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcInJlc2V0Rm9jdXNcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGNsZWFyVGltZW91dChfdGhpcy5mb2N1c1RpbWVyKTtcbiAgICAgICAgICBfdGhpcy5mb2N1c1RpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZm9jdXMgPSBfdGhpcy5zdGF0ZS5mb2N1cztcblxuICAgICAgICAgICAgaWYgKGZvY3VzKSB7XG4gICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBmb2N1czogZmFsc2VcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgMSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgICAgIGZvY3VzOiBmYWxzZSxcbiAgICAgICAgICB3cmFwcGVkUmVmOiBSZWFjdC5jcmVhdGVSZWYoKVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICB9XG5cbiAgICAgIHZhciBfcHJvdG8gPSBGb2N1c2FibGVDb21wb25lbnQucHJvdG90eXBlO1xuXG4gICAgICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICB2YXIgX3RoaXMkcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgX29uRm9jdXMgPSBfdGhpcyRwcm9wcy5vbkZvY3VzLFxuICAgICAgICAgICAgX29uQmx1ciA9IF90aGlzJHByb3BzLm9uQmx1cixcbiAgICAgICAgICAgIHdpdGhGb2N1c1JlZiA9IF90aGlzJHByb3BzLndpdGhGb2N1c1JlZixcbiAgICAgICAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfdGhpcyRwcm9wcywgW1wib25Gb2N1c1wiLCBcIm9uQmx1clwiLCBcIndpdGhGb2N1c1JlZlwiXSk7XG5cbiAgICAgICAgdmFyIF90aGlzJHN0YXRlID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgICAgIGZvY3VzID0gX3RoaXMkc3RhdGUuZm9jdXMsXG4gICAgICAgICAgICB3cmFwcGVkUmVmID0gX3RoaXMkc3RhdGUud3JhcHBlZFJlZjtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoV3JhcHBlZENvbXBvbmVudCwgX2V4dGVuZHMoe1xuICAgICAgICAgIHJlZjogd3JhcHBlZFJlZixcbiAgICAgICAgICBmb2N1czogZm9jdXNcbiAgICAgICAgfSwgcmVzdCwge1xuICAgICAgICAgIG9uRm9jdXM6IGZ1bmN0aW9uIG9uRm9jdXMoZXZlbnQpIHtcbiAgICAgICAgICAgIF90aGlzMi5zZXRGb2N1cygpO1xuXG4gICAgICAgICAgICBpZiAoX29uRm9jdXMpIHtcbiAgICAgICAgICAgICAgX29uRm9jdXMoZXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgb25CbHVyOiBmdW5jdGlvbiBvbkJsdXIoZXZlbnQpIHtcbiAgICAgICAgICAgIF90aGlzMi5yZXNldEZvY3VzKCk7XG5cbiAgICAgICAgICAgIGlmIChfb25CbHVyKSB7XG4gICAgICAgICAgICAgIF9vbkJsdXIoZXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgICAgfTtcblxuICAgICAgcmV0dXJuIEZvY3VzYWJsZUNvbXBvbmVudDtcbiAgICB9KENvbXBvbmVudCk7XG5cbiAgICB2YXIgRm9yd2FyZFJlZiA9IFJlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEZvY3VzYWJsZUNvbXBvbmVudCwgX2V4dGVuZHMoe30sIHByb3BzLCB7XG4gICAgICAgIHdpdGhGb2N1c1JlZjogcmVmXG4gICAgICB9KSk7XG4gICAgfSk7XG4gICAgRm9yd2FyZFJlZi5kaXNwbGF5TmFtZSA9IGdldERpc3BsYXlOYW1lKFdyYXBwZWRDb21wb25lbnQpO1xuICAgIEZvcndhcmRSZWYubmFtZSA9IEZvcndhcmRSZWYuZGlzcGxheU5hbWU7XG4gICAgRm9yd2FyZFJlZi5kZWZhdWx0UHJvcHMgPSBXcmFwcGVkQ29tcG9uZW50LmRlZmF1bHRQcm9wcztcbiAgICBob2lzdE5vblJlYWN0U3RhdGljcyhGb3J3YXJkUmVmLCBXcmFwcGVkQ29tcG9uZW50KTtcbiAgICByZXR1cm4gRm9yd2FyZFJlZjtcbiAgfTtcbn07XG5leHBvcnQgdmFyIHdpdGhGb3J3YXJkUmVmID0gZnVuY3Rpb24gd2l0aEZvcndhcmRSZWYoV3JhcHBlZENvbXBvbmVudCkge1xuICB2YXIgRm9yd2FyZFJlZkNvbXBvbmVudCA9IFJlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChXcmFwcGVkQ29tcG9uZW50LCBfZXh0ZW5kcyh7XG4gICAgICBmb3J3YXJkUmVmOiByZWZcbiAgICB9LCBwcm9wcykpO1xuICB9KTtcbiAgRm9yd2FyZFJlZkNvbXBvbmVudC5kaXNwbGF5TmFtZSA9IGdldERpc3BsYXlOYW1lKFdyYXBwZWRDb21wb25lbnQpO1xuICBGb3J3YXJkUmVmQ29tcG9uZW50Lm5hbWUgPSBGb3J3YXJkUmVmQ29tcG9uZW50LmRpc3BsYXlOYW1lO1xuICBGb3J3YXJkUmVmQ29tcG9uZW50LmRlZmF1bHRQcm9wcyA9IFdyYXBwZWRDb21wb25lbnQuZGVmYXVsdFByb3BzO1xuICBob2lzdE5vblJlYWN0U3RhdGljcyhGb3J3YXJkUmVmQ29tcG9uZW50LCBXcmFwcGVkQ29tcG9uZW50KTtcbiAgcmV0dXJuIEZvcndhcmRSZWZDb21wb25lbnQ7XG59O1xuZXhwb3J0IHZhciB3aXRoQW5ub3VuY2UgPSBmdW5jdGlvbiB3aXRoQW5ub3VuY2UoV3JhcHBlZENvbXBvbmVudCkge1xuICB2YXIgRm9yd2FyZFJlZiA9IFJlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChBbm5vdW5jZUNvbnRleHQuQ29uc3VtZXIsIG51bGwsIGZ1bmN0aW9uIChhbm5vdW5jZSkge1xuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoV3JhcHBlZENvbXBvbmVudCwgX2V4dGVuZHMoe30sIHByb3BzLCB7XG4gICAgICAgIGFubm91bmNlOiBhbm5vdW5jZSxcbiAgICAgICAgcmVmOiByZWZcbiAgICAgIH0pKTtcbiAgICB9KTtcbiAgfSk7XG4gIEZvcndhcmRSZWYuZGlzcGxheU5hbWUgPSBnZXREaXNwbGF5TmFtZShXcmFwcGVkQ29tcG9uZW50KTtcbiAgRm9yd2FyZFJlZi5uYW1lID0gRm9yd2FyZFJlZi5kaXNwbGF5TmFtZTtcbiAgRm9yd2FyZFJlZi5kZWZhdWx0UHJvcHMgPSBXcmFwcGVkQ29tcG9uZW50LmRlZmF1bHRQcm9wcztcbiAgaG9pc3ROb25SZWFjdFN0YXRpY3MoRm9yd2FyZFJlZiwgV3JhcHBlZENvbXBvbmVudCk7XG4gIHJldHVybiBGb3J3YXJkUmVmO1xufTtcbmV4cG9ydCB7IHdpdGhUaGVtZSB9OyIsImV4cG9ydCAqIGZyb20gJy4vQWNjb3JkaW9uJztcbmV4cG9ydCAqIGZyb20gJy4vQWNjb3JkaW9uUGFuZWwnO1xuZXhwb3J0ICogZnJvbSAnLi9BbmNob3InO1xuZXhwb3J0ICogZnJvbSAnLi9Cb3gnO1xuZXhwb3J0ICogZnJvbSAnLi9CdXR0b24nO1xuZXhwb3J0ICogZnJvbSAnLi9DYWxlbmRhcic7XG5leHBvcnQgKiBmcm9tICcuL0Nhcm91c2VsJztcbmV4cG9ydCAqIGZyb20gJy4vQ2hhcnQnO1xuZXhwb3J0ICogZnJvbSAnLi9DaGVja0JveCc7XG5leHBvcnQgKiBmcm9tICcuL0Nsb2NrJztcbmV4cG9ydCAqIGZyb20gJy4vQ29sbGFwc2libGUnO1xuZXhwb3J0ICogZnJvbSAnLi9EYXRhVGFibGUnO1xuZXhwb3J0ICogZnJvbSAnLi9EaWFncmFtJztcbmV4cG9ydCAqIGZyb20gJy4vRGlzdHJpYnV0aW9uJztcbmV4cG9ydCAqIGZyb20gJy4vRHJvcCc7XG5leHBvcnQgKiBmcm9tICcuL0Ryb3BCdXR0b24nO1xuZXhwb3J0ICogZnJvbSAnLi9Gb290ZXInO1xuZXhwb3J0ICogZnJvbSAnLi9Gb3JtJztcbmV4cG9ydCAqIGZyb20gJy4vRm9ybUZpZWxkJztcbmV4cG9ydCAqIGZyb20gJy4vR3JpZCc7XG5leHBvcnQgKiBmcm9tICcuL0dyb21tZXQnO1xuZXhwb3J0ICogZnJvbSAnLi9IZWFkZXInO1xuZXhwb3J0ICogZnJvbSAnLi9IZWFkaW5nJztcbmV4cG9ydCAqIGZyb20gJy4vSW1hZ2UnO1xuZXhwb3J0ICogZnJvbSAnLi9JbmZpbml0ZVNjcm9sbCc7XG5leHBvcnQgKiBmcm9tICcuL0tleWJvYXJkJztcbmV4cG9ydCAqIGZyb20gJy4vTGF5ZXInO1xuZXhwb3J0ICogZnJvbSAnLi9MaXN0JztcbmV4cG9ydCAqIGZyb20gJy4vTWFpbic7XG5leHBvcnQgKiBmcm9tICcuL01hcmtkb3duJztcbmV4cG9ydCAqIGZyb20gJy4vTWFza2VkSW5wdXQnO1xuZXhwb3J0ICogZnJvbSAnLi9NZW51JztcbmV4cG9ydCAqIGZyb20gJy4vTWV0ZXInO1xuZXhwb3J0ICogZnJvbSAnLi9QYXJhZ3JhcGgnO1xuZXhwb3J0ICogZnJvbSAnLi9SYWRpb0J1dHRvbic7XG5leHBvcnQgKiBmcm9tICcuL1JhZGlvQnV0dG9uR3JvdXAnO1xuZXhwb3J0ICogZnJvbSAnLi9SYW5nZUlucHV0JztcbmV4cG9ydCAqIGZyb20gJy4vUmFuZ2VTZWxlY3Rvcic7XG5leHBvcnQgKiBmcm9tICcuL1JvdXRlZEFuY2hvcic7XG5leHBvcnQgKiBmcm9tICcuL1JvdXRlZEJ1dHRvbic7XG5leHBvcnQgKiBmcm9tICcuL1NlbGVjdCc7XG5leHBvcnQgKiBmcm9tICcuL1NraXBMaW5rJztcbmV4cG9ydCAqIGZyb20gJy4vU2tpcExpbmtzJztcbmV4cG9ydCAqIGZyb20gJy4vU2tpcExpbmtUYXJnZXQnO1xuZXhwb3J0ICogZnJvbSAnLi9TdGFjayc7XG5leHBvcnQgKiBmcm9tICcuL1RhYmxlJztcbmV4cG9ydCAqIGZyb20gJy4vVGFibGVCb2R5JztcbmV4cG9ydCAqIGZyb20gJy4vVGFibGVDZWxsJztcbmV4cG9ydCAqIGZyb20gJy4vVGFibGVGb290ZXInO1xuZXhwb3J0ICogZnJvbSAnLi9UYWJsZUhlYWRlcic7XG5leHBvcnQgKiBmcm9tICcuL1RhYmxlUm93JztcbmV4cG9ydCAqIGZyb20gJy4vVGFiJztcbmV4cG9ydCAqIGZyb20gJy4vVGFicyc7XG5leHBvcnQgKiBmcm9tICcuL1RleHQnO1xuZXhwb3J0ICogZnJvbSAnLi9UZXh0QXJlYSc7XG5leHBvcnQgKiBmcm9tICcuL1RleHRJbnB1dCc7XG5leHBvcnQgKiBmcm9tICcuL1ZpZGVvJztcbmV4cG9ydCAqIGZyb20gJy4vV29ybGRNYXAnOyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbnZhciBjcmVhdGVBbm5vdW5jZXIgPSBmdW5jdGlvbiBjcmVhdGVBbm5vdW5jZXIoKSB7XG4gIHZhciBhbm5vdW5jZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgYW5ub3VuY2VyLnN0eWxlLmxlZnQgPSAnLTEwMCUnO1xuICBhbm5vdW5jZXIuc3R5bGUucmlnaHQgPSAnMTAwJSc7XG4gIGFubm91bmNlci5zdHlsZS5wb3NpdGlvbiA9ICdmaXhlZCc7XG4gIGFubm91bmNlci5zdHlsZVsnei1pbmRleCddID0gJy0xJztcbiAgZG9jdW1lbnQuYm9keS5pbnNlcnRCZWZvcmUoYW5ub3VuY2VyLCBkb2N1bWVudC5ib2R5LmZpcnN0Q2hpbGQpO1xuICByZXR1cm4gYW5ub3VuY2VyO1xufTtcblxuZXhwb3J0IHZhciBBbm5vdW5jZUNvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KGZ1bmN0aW9uIChtZXNzYWdlLCBtb2RlLCB0aW1lb3V0KSB7XG4gIGlmIChtb2RlID09PSB2b2lkIDApIHtcbiAgICBtb2RlID0gJ3BvbGl0ZSc7XG4gIH1cblxuICBpZiAodGltZW91dCA9PT0gdm9pZCAwKSB7XG4gICAgdGltZW91dCA9IDUwMDtcbiAgfVxuXG4gIC8vIHdlIG9ubHkgY3JlYXRlIGEgbmV3IGNvbnRhaW5lciBpZiB3ZSBkb24ndCBoYXZlIG9uZSBhbHJlYWR5XG4gIC8vIHdlIGNyZWF0ZSBhIHNlcGFyYXRlIG5vZGUgc28gdGhhdCBncm9tbWV0IGRvZXMgbm90IHNldCBhcmlhLWhpZGRlbiB0byBpdFxuICB2YXIgYW5ub3VuY2VyID0gZG9jdW1lbnQuYm9keS5xdWVyeVNlbGVjdG9yKCdbYXJpYS1saXZlXScpIHx8IGNyZWF0ZUFubm91bmNlcigpO1xuICBhbm5vdW5jZXIuc2V0QXR0cmlidXRlKCdhcmlhLWxpdmUnLCAnb2ZmJyk7XG4gIGFubm91bmNlci5pbm5lckhUTUwgPSBtZXNzYWdlO1xuICBhbm5vdW5jZXIuc2V0QXR0cmlidXRlKCdhcmlhLWxpdmUnLCBtb2RlKTtcbiAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgYW5ub3VuY2VyLmlubmVySFRNTCA9ICcnO1xuICB9LCB0aW1lb3V0KTtcbn0pOyIsImV4cG9ydCB7IEFubm91bmNlQ29udGV4dCB9IGZyb20gJy4vQW5ub3VuY2VDb250ZXh0JzsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuZXhwb3J0IHZhciBSZXNwb25zaXZlQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQodW5kZWZpbmVkKTsiLCJleHBvcnQgeyBSZXNwb25zaXZlQ29udGV4dCB9IGZyb20gJy4vUmVzcG9uc2l2ZUNvbnRleHQnOyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHsgVGhlbWVDb250ZXh0IH0gZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgZGVlcE1lcmdlIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuXG5UaGVtZUNvbnRleHQuRXh0ZW5kID0gZnVuY3Rpb24gKF9yZWYpIHtcbiAgdmFyIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbixcbiAgICAgIHZhbHVlID0gX3JlZi52YWx1ZTtcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGhlbWVDb250ZXh0LkNvbnN1bWVyLCBudWxsLCBmdW5jdGlvbiAodGhlbWUpIHtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChUaGVtZUNvbnRleHQuUHJvdmlkZXIsIHtcbiAgICAgIHZhbHVlOiBkZWVwTWVyZ2UodGhlbWUsIHZhbHVlKVxuICAgIH0sIGNoaWxkcmVuKTtcbiAgfSk7XG59O1xuXG5UaGVtZUNvbnRleHQuRXh0ZW5kLnByb3BUeXBlcyA9IHtcbiAgY2hpbGRyZW46IFByb3BUeXBlcy5ub2RlLmlzUmVxdWlyZWQsXG4gIHZhbHVlOiBQcm9wVHlwZXMuc2hhcGUoe30pLmlzUmVxdWlyZWRcbn07XG5leHBvcnQgeyBUaGVtZUNvbnRleHQgfTsiLCJleHBvcnQgeyBUaGVtZUNvbnRleHQgfSBmcm9tICcuL1RoZW1lQ29udGV4dCc7IiwiZXhwb3J0ICogZnJvbSAnLi9Bbm5vdW5jZUNvbnRleHQnO1xuZXhwb3J0ICogZnJvbSAnLi9SZXNwb25zaXZlQ29udGV4dCc7XG5leHBvcnQgKiBmcm9tICcuL1RoZW1lQ29udGV4dCc7IiwiaW1wb3J0IHsgZGVlcE1lcmdlIH0gZnJvbSAnLi91dGlscyc7XG5pbXBvcnQgeyBiYXNlIH0gZnJvbSAnLi90aGVtZXMvYmFzZSc7XG5leHBvcnQgdmFyIGRlZmF1bHRQcm9wcyA9IHtcbiAgdGhlbWU6IGJhc2Vcbn07XG5leHBvcnQgdmFyIGV4dGVuZERlZmF1bHRUaGVtZSA9IGZ1bmN0aW9uIGV4dGVuZERlZmF1bHRUaGVtZSh0aGVtZSkge1xuICBkZWZhdWx0UHJvcHMudGhlbWUgPSBkZWVwTWVyZ2UoYmFzZSwgdGhlbWUpO1xufTsiLCJleHBvcnQgKiBmcm9tICcuL2NvbXBvbmVudHMnO1xuZXhwb3J0ICogZnJvbSAnLi9jb250ZXh0cyc7XG5leHBvcnQgKiBmcm9tICcuL2RlZmF1bHQtcHJvcHMnO1xuZXhwb3J0ICogZnJvbSAnLi90aGVtZXMnOyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmltcG9ydCB7IHJnYmEgfSBmcm9tICdwb2xpc2hlZCc7XG5pbXBvcnQgeyBjc3MgfSBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBBY3Rpb25zIH0gZnJvbSAnZ3JvbW1ldC1pY29ucy9pY29ucy9BY3Rpb25zJztcbmltcG9ydCB7IENsb3NlZENhcHRpb24gfSBmcm9tICdncm9tbWV0LWljb25zL2ljb25zL0Nsb3NlZENhcHRpb24nO1xuaW1wb3J0IHsgRXhwYW5kIH0gZnJvbSAnZ3JvbW1ldC1pY29ucy9pY29ucy9FeHBhbmQnO1xuaW1wb3J0IHsgRm9ybURvd24gfSBmcm9tICdncm9tbWV0LWljb25zL2ljb25zL0Zvcm1Eb3duJztcbmltcG9ydCB7IEZvcm1OZXh0IH0gZnJvbSAnZ3JvbW1ldC1pY29ucy9pY29ucy9Gb3JtTmV4dCc7XG5pbXBvcnQgeyBGb3JtUHJldmlvdXMgfSBmcm9tICdncm9tbWV0LWljb25zL2ljb25zL0Zvcm1QcmV2aW91cyc7XG5pbXBvcnQgeyBGb3JtVXAgfSBmcm9tICdncm9tbWV0LWljb25zL2ljb25zL0Zvcm1VcCc7XG5pbXBvcnQgeyBOZXh0IH0gZnJvbSAnZ3JvbW1ldC1pY29ucy9pY29ucy9OZXh0JztcbmltcG9ydCB7IFBhdXNlIH0gZnJvbSAnZ3JvbW1ldC1pY29ucy9pY29ucy9QYXVzZSc7XG5pbXBvcnQgeyBQbGF5IH0gZnJvbSAnZ3JvbW1ldC1pY29ucy9pY29ucy9QbGF5JztcbmltcG9ydCB7IFByZXZpb3VzIH0gZnJvbSAnZ3JvbW1ldC1pY29ucy9pY29ucy9QcmV2aW91cyc7XG5pbXBvcnQgeyBTdWJ0cmFjdCB9IGZyb20gJ2dyb21tZXQtaWNvbnMvaWNvbnMvU3VidHJhY3QnO1xuaW1wb3J0IHsgVm9sdW1lIH0gZnJvbSAnZ3JvbW1ldC1pY29ucy9pY29ucy9Wb2x1bWUnO1xuaW1wb3J0IHsgVm9sdW1lTG93IH0gZnJvbSAnZ3JvbW1ldC1pY29ucy9pY29ucy9Wb2x1bWVMb3cnO1xuaW1wb3J0IHsgYmFzZSBhcyBpY29uQmFzZSB9IGZyb20gJ2dyb21tZXQtaWNvbnMvdGhlbWVzL2Jhc2UnO1xuaW1wb3J0IHsgZGVlcEZyZWV6ZSwgZGVlcE1lcmdlIH0gZnJvbSAnLi4vdXRpbHMvb2JqZWN0JztcbmltcG9ydCB7IG5vcm1hbGl6ZUNvbG9yIH0gZnJvbSAnLi4vdXRpbHMvY29sb3JzJztcbnZhciBicmFuZENvbG9yID0gJyM3RDRDREInO1xudmFyIGFjY2VudENvbG9ycyA9IFsnIzZGRkZCMCcsICcjRkQ2RkZGJywgJyM4MUZDRUQnLCAnI0ZGQ0E1OCddO1xudmFyIG5ldXRyYWxDb2xvcnMgPSBbJyMwMDg3M0QnLCAnIzNEMTM4RCcsICcjMDA3MzlEJywgJyNBMjQyM0QnXTtcbnZhciBzdGF0dXNDb2xvcnMgPSB7XG4gIGNyaXRpY2FsOiAnI0ZGNDA0MCcsXG4gIGVycm9yOiAnI0ZGNDA0MCcsXG4gIHdhcm5pbmc6ICcjRkZBQTE1JyxcbiAgb2s6ICcjMDBDNzgxJyxcbiAgdW5rbm93bjogJyNDQ0NDQ0MnLFxuICBkaXNhYmxlZDogJyNDQ0NDQ0MnXG59O1xudmFyIGRhcmtDb2xvcnMgPSBbJyMzMzMzMzMnLCAnIzU1NTU1NScsICcjNzc3Nzc3JywgJyM5OTk5OTknLCAnIzk5OTk5OScsICcjOTk5OTk5J107XG52YXIgbGlnaHRDb2xvcnMgPSBbJyNGOEY4RjgnLCAnI0YyRjJGMicsICcjRURFREVEJywgJyNEQURBREEnLCAnI0RBREFEQScsICcjREFEQURBJ107XG52YXIgZm9jdXNDb2xvciA9IGFjY2VudENvbG9yc1swXTtcbnZhciBjb2xvcnMgPSB7XG4gIGFjdGl2ZTogcmdiYSgyMjEsIDIyMSwgMjIxLCAwLjUpLFxuICBibGFjazogJyMwMDAwMDAnLFxuICBib3JkZXI6IHtcbiAgICBkYXJrOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMzMpLFxuICAgIGxpZ2h0OiByZ2JhKDAsIDAsIDAsIDAuMzMpXG4gIH0sXG4gIGJyYW5kOiBicmFuZENvbG9yLFxuICBjb250cm9sOiB7XG4gICAgZGFyazogJ2FjY2VudC0xJyxcbiAgICBsaWdodDogJ2JyYW5kJ1xuICB9LFxuICBmb2N1czogZm9jdXNDb2xvcixcbiAgLy8gXCJncmFwaC0wXCI6ICdhY2NlbnQtMScsXG4gIC8vIFwiZ3JhcGgtMVwiOiAnbmV1dHJhbC0xJyxcbiAgLy8gXCJncmFwaC0yXCI6ICdhY2NlbnQtMicsXG4gIC8vIFwiZ3JhcGgtM1wiOiAnbmV1dHJhbC0yJyxcbiAgcGxhY2Vob2xkZXI6ICcjQUFBQUFBJyxcbiAgc2VsZWN0ZWQ6ICdicmFuZCcsXG4gIHRleHQ6IHtcbiAgICBkYXJrOiAnI2Y4ZjhmOCcsXG4gICAgbGlnaHQ6ICcjNDQ0NDQ0J1xuICB9LFxuICBpY29uOiB7XG4gICAgZGFyazogJyNmOGY4ZjgnLFxuICAgIGxpZ2h0OiAnIzY2NjY2NidcbiAgfSxcbiAgd2hpdGU6ICcjRkZGRkZGJ1xufTtcblxudmFyIGNvbG9yQXJyYXkgPSBmdW5jdGlvbiBjb2xvckFycmF5KGFycmF5LCBwcmVmaXgpIHtcbiAgcmV0dXJuIGFycmF5LmZvckVhY2goZnVuY3Rpb24gKGNvbG9yLCBpbmRleCkge1xuICAgIGNvbG9yc1twcmVmaXggKyBcIi1cIiArIChpbmRleCArIDEpXSA9IGNvbG9yO1xuICB9KTtcbn07XG5cbmNvbG9yQXJyYXkoYWNjZW50Q29sb3JzLCAnYWNjZW50Jyk7XG5jb2xvckFycmF5KGRhcmtDb2xvcnMsICdkYXJrJyk7XG5jb2xvckFycmF5KGxpZ2h0Q29sb3JzLCAnbGlnaHQnKTtcbmNvbG9yQXJyYXkobmV1dHJhbENvbG9ycywgJ25ldXRyYWwnKTtcbk9iamVjdC5rZXlzKHN0YXR1c0NvbG9ycykuZm9yRWFjaChmdW5jdGlvbiAoY29sb3IpIHtcbiAgY29sb3JzW1wic3RhdHVzLVwiICsgY29sb3JdID0gc3RhdHVzQ29sb3JzW2NvbG9yXTtcbn0pO1xuZXhwb3J0IHZhciBnZW5lcmF0ZSA9IGZ1bmN0aW9uIGdlbmVyYXRlKGJhc2VTcGFjaW5nLCBzY2FsZSkge1xuICBpZiAoYmFzZVNwYWNpbmcgPT09IHZvaWQgMCkge1xuICAgIGJhc2VTcGFjaW5nID0gMjQ7XG4gIH1cblxuICBpZiAoc2NhbGUgPT09IHZvaWQgMCkge1xuICAgIHNjYWxlID0gNjtcbiAgfVxuXG4gIC8vIDI0XG4gIHZhciBiYXNlRm9udFNpemUgPSBiYXNlU3BhY2luZyAqIDAuNzU7IC8vIDE4XG5cbiAgdmFyIGZvbnRTY2FsZSA9IGJhc2VTcGFjaW5nIC8gc2NhbGU7IC8vIDRcblxuICB2YXIgZm9udFNpemluZyA9IGZ1bmN0aW9uIGZvbnRTaXppbmcoZmFjdG9yKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNpemU6IGJhc2VGb250U2l6ZSArIGZhY3RvciAqIGZvbnRTY2FsZSArIFwicHhcIixcbiAgICAgIGhlaWdodDogYmFzZVNwYWNpbmcgKyBmYWN0b3IgKiBmb250U2NhbGUgKyBcInB4XCIsXG4gICAgICAvLyBtYXhXaWR0aCBjaG9zZW4gdG8gYmUgfjUwIGNoYXJhY3RlcnMgd2lkZVxuICAgICAgLy8gc2VlOiBodHRwczovL3V4LnN0YWNrZXhjaGFuZ2UuY29tL2EvMzQxMjVcbiAgICAgIG1heFdpZHRoOiBiYXNlU3BhY2luZyAqIChiYXNlRm9udFNpemUgKyBmYWN0b3IgKiBmb250U2NhbGUpICsgXCJweFwiXG4gICAgfTtcbiAgfTtcblxuICB2YXIgYm9yZGVyV2lkdGggPSAyO1xuICB2YXIgcmVzdWx0ID0gZGVlcE1lcmdlKGljb25CYXNlLCB7XG4gICAgZ2xvYmFsOiB7XG4gICAgICBhY3RpdmU6IHtcbiAgICAgICAgYmFja2dyb3VuZDoge1xuICAgICAgICAgIGNvbG9yOiAnYWN0aXZlJyxcbiAgICAgICAgICBvcGFjaXR5OiAnbWVkaXVtJ1xuICAgICAgICB9LFxuICAgICAgICBjb2xvcjoge1xuICAgICAgICAgIGRhcms6ICd3aGl0ZScsXG4gICAgICAgICAgbGlnaHQ6ICdibGFjaydcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGFuaW1hdGlvbjoge1xuICAgICAgICBkdXJhdGlvbjogJzFzJyxcbiAgICAgICAgamlnZ2xlOiB7XG4gICAgICAgICAgZHVyYXRpb246ICcwLjFzJ1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgYm9yZGVyU2l6ZToge1xuICAgICAgICB4c21hbGw6ICcxcHgnLFxuICAgICAgICBzbWFsbDogJzJweCcsXG4gICAgICAgIG1lZGl1bTogYmFzZVNwYWNpbmcgLyA2ICsgXCJweFwiLFxuICAgICAgICAvLyA0XG4gICAgICAgIGxhcmdlOiBiYXNlU3BhY2luZyAvIDIgKyBcInB4XCIsXG4gICAgICAgIC8vIDEyXG4gICAgICAgIHhsYXJnZTogYmFzZVNwYWNpbmcgKyBcInB4XCIgLy8gMjRcblxuICAgICAgfSxcbiAgICAgIGJyZWFrcG9pbnRzOiB7XG4gICAgICAgIHNtYWxsOiB7XG4gICAgICAgICAgdmFsdWU6IGJhc2VTcGFjaW5nICogMzIsXG4gICAgICAgICAgLy8gNzY4XG4gICAgICAgICAgYm9yZGVyU2l6ZToge1xuICAgICAgICAgICAgeHNtYWxsOiAnMXB4JyxcbiAgICAgICAgICAgIHNtYWxsOiAnMnB4JyxcbiAgICAgICAgICAgIG1lZGl1bTogYmFzZVNwYWNpbmcgLyA2ICsgXCJweFwiLFxuICAgICAgICAgICAgLy8gNFxuICAgICAgICAgICAgbGFyZ2U6IGJhc2VTcGFjaW5nIC8gNCArIFwicHhcIixcbiAgICAgICAgICAgIC8vIDZcbiAgICAgICAgICAgIHhsYXJnZTogYmFzZVNwYWNpbmcgLyAyICsgXCJweFwiIC8vIDEyXG5cbiAgICAgICAgICB9LFxuICAgICAgICAgIGVkZ2VTaXplOiB7XG4gICAgICAgICAgICBub25lOiAnMHB4JyxcbiAgICAgICAgICAgIGhhaXI6ICcxcHgnLFxuICAgICAgICAgICAgLy8gZm9yIENoYXJ0XG4gICAgICAgICAgICB4eHNtYWxsOiAnMnB4JyxcbiAgICAgICAgICAgIHhzbWFsbDogYmFzZVNwYWNpbmcgLyA4ICsgXCJweFwiLFxuICAgICAgICAgICAgLy8gM1xuICAgICAgICAgICAgc21hbGw6IGJhc2VTcGFjaW5nIC8gNCArIFwicHhcIixcbiAgICAgICAgICAgIC8vIDZcbiAgICAgICAgICAgIG1lZGl1bTogYmFzZVNwYWNpbmcgLyAyICsgXCJweFwiLFxuICAgICAgICAgICAgLy8gMTJcbiAgICAgICAgICAgIGxhcmdlOiBiYXNlU3BhY2luZyArIFwicHhcIixcbiAgICAgICAgICAgIC8vIDI0XG4gICAgICAgICAgICB4bGFyZ2U6IGJhc2VTcGFjaW5nICogMiArIFwicHhcIiAvLyA0OFxuXG4gICAgICAgICAgfSxcbiAgICAgICAgICBzaXplOiB7XG4gICAgICAgICAgICB4eHNtYWxsOiBiYXNlU3BhY2luZyArIFwicHhcIixcbiAgICAgICAgICAgIC8vIDI0XG4gICAgICAgICAgICB4c21hbGw6IGJhc2VTcGFjaW5nICogMiArIFwicHhcIixcbiAgICAgICAgICAgIC8vIDQ4XG4gICAgICAgICAgICBzbWFsbDogYmFzZVNwYWNpbmcgKiA0ICsgXCJweFwiLFxuICAgICAgICAgICAgLy8gOTZcbiAgICAgICAgICAgIG1lZGl1bTogYmFzZVNwYWNpbmcgKiA4ICsgXCJweFwiLFxuICAgICAgICAgICAgLy8gMTkyXG4gICAgICAgICAgICBsYXJnZTogYmFzZVNwYWNpbmcgKiAxNiArIFwicHhcIixcbiAgICAgICAgICAgIC8vIDM4NFxuICAgICAgICAgICAgeGxhcmdlOiBiYXNlU3BhY2luZyAqIDMyICsgXCJweFwiLFxuICAgICAgICAgICAgLy8gNzY4XG4gICAgICAgICAgICBmdWxsOiAnMTAwJSdcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG1lZGl1bToge1xuICAgICAgICAgIHZhbHVlOiBiYXNlU3BhY2luZyAqIDY0IC8vIDE1MzZcblxuICAgICAgICB9LFxuICAgICAgICBsYXJnZToge30gLy8gYW55dGhpbmcgYWJvdmUgJ21lZGl1bSdcblxuICAgICAgfSxcbiAgICAgIC8vIEJyZWFrcG9pbnRzIHVzZWQgYXQgU2VydmVyIFNpZGUgUmVuZGVyaW5nIGZvciB0aGUgaW5pdGlhbCByZW5kZXJpbmdcbiAgICAgIC8vIFRoZXNlIHZhbHVlcyBjb3JyZXNwb25kIHRvIHRoZSB0aGVtZSBicmVha3BvaW50c1xuICAgICAgZGV2aWNlQnJlYWtwb2ludHM6IHtcbiAgICAgICAgcGhvbmU6ICdzbWFsbCcsXG4gICAgICAgIHRhYmxldDogJ21lZGl1bScsXG4gICAgICAgIGNvbXB1dGVyOiAnbGFyZ2UnXG4gICAgICB9LFxuICAgICAgY29sb3JzOiBjb2xvcnMsXG4gICAgICBjb250cm9sOiB7XG4gICAgICAgIGJvcmRlcjoge1xuICAgICAgICAgIHdpZHRoOiAnMXB4JyxcbiAgICAgICAgICByYWRpdXM6ICc0cHgnLFxuICAgICAgICAgIGNvbG9yOiAnYm9yZGVyJ1xuICAgICAgICB9LFxuICAgICAgICBkaXNhYmxlZDoge1xuICAgICAgICAgIG9wYWNpdHk6IDAuM1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgLy8gVGhlIHRpbWUgdG8gd2FpdCBhZnRlciB0aGUgdXNlciBzdG9wcGVkIHR5cGluZywgbWVhc3VyZWQgaW4gbXMuXG4gICAgICBkZWJvdW5jZURlbGF5OiAzMDAsXG4gICAgICBkcm9wOiB7XG4gICAgICAgIGJhY2tncm91bmQ6ICcjZmZmZmZmJyxcbiAgICAgICAgYm9yZGVyOiB7XG4gICAgICAgICAgcmFkaXVzOiAnMHB4J1xuICAgICAgICB9LFxuICAgICAgICBzaGFkb3dTaXplOiAnc21hbGwnLFxuICAgICAgICB6SW5kZXg6ICcyMCdcbiAgICAgIH0sXG4gICAgICBlZGdlU2l6ZToge1xuICAgICAgICBub25lOiAnMHB4JyxcbiAgICAgICAgaGFpcjogJzFweCcsXG4gICAgICAgIC8vIGZvciBDaGFydFxuICAgICAgICB4eHNtYWxsOiBiYXNlU3BhY2luZyAvIDggKyBcInB4XCIsXG4gICAgICAgIC8vIDNcbiAgICAgICAgeHNtYWxsOiBiYXNlU3BhY2luZyAvIDQgKyBcInB4XCIsXG4gICAgICAgIC8vIDZcbiAgICAgICAgc21hbGw6IGJhc2VTcGFjaW5nIC8gMiArIFwicHhcIixcbiAgICAgICAgLy8gMTJcbiAgICAgICAgbWVkaXVtOiBiYXNlU3BhY2luZyArIFwicHhcIixcbiAgICAgICAgLy8gMjRcbiAgICAgICAgbGFyZ2U6IGJhc2VTcGFjaW5nICogMiArIFwicHhcIixcbiAgICAgICAgLy8gNDhcbiAgICAgICAgeGxhcmdlOiBiYXNlU3BhY2luZyAqIDQgKyBcInB4XCIsXG4gICAgICAgIC8vIDk2XG4gICAgICAgIHJlc3BvbnNpdmVCcmVha3BvaW50OiAnc21hbGwnXG4gICAgICB9LFxuICAgICAgZWxldmF0aW9uOiB7XG4gICAgICAgIGxpZ2h0OiB7XG4gICAgICAgICAgbm9uZTogJ25vbmUnLFxuICAgICAgICAgIHhzbWFsbDogJzBweCAxcHggMnB4IHJnYmEoMCwgMCwgMCwgMC4yMCknLFxuICAgICAgICAgIHNtYWxsOiAnMHB4IDJweCA0cHggcmdiYSgwLCAwLCAwLCAwLjIwKScsXG4gICAgICAgICAgbWVkaXVtOiAnMHB4IDRweCA4cHggcmdiYSgwLCAwLCAwLCAwLjIwKScsXG4gICAgICAgICAgbGFyZ2U6ICcwcHggOHB4IDE2cHggcmdiYSgwLCAwLCAwLCAwLjIwKScsXG4gICAgICAgICAgeGxhcmdlOiAnMHB4IDEycHggMjRweCByZ2JhKDAsIDAsIDAsIDAuMjApJ1xuICAgICAgICB9LFxuICAgICAgICBkYXJrOiB7XG4gICAgICAgICAgbm9uZTogJ25vbmUnLFxuICAgICAgICAgIHhzbWFsbDogJzBweCAycHggMnB4IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC40MCknLFxuICAgICAgICAgIHNtYWxsOiAnMHB4IDRweCA0cHggcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjQwKScsXG4gICAgICAgICAgbWVkaXVtOiAnMHB4IDZweCA4cHggcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjQwKScsXG4gICAgICAgICAgbGFyZ2U6ICcwcHggOHB4IDE2cHggcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjQwKScsXG4gICAgICAgICAgeGxhcmdlOiAnMHB4IDEycHggMjRweCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNDApJ1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgZm9jdXM6IHtcbiAgICAgICAgYm9yZGVyOiB7XG4gICAgICAgICAgY29sb3I6ICdmb2N1cydcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGZvbnQ6IF9leHRlbmRzKHt9LCBmb250U2l6aW5nKDApKSxcbiAgICAgIGhvdmVyOiB7XG4gICAgICAgIGJhY2tncm91bmQ6IHtcbiAgICAgICAgICBjb2xvcjogJ2FjdGl2ZScsXG4gICAgICAgICAgb3BhY2l0eTogJ21lZGl1bSdcbiAgICAgICAgfSxcbiAgICAgICAgY29sb3I6IHtcbiAgICAgICAgICBkYXJrOiAnd2hpdGUnLFxuICAgICAgICAgIGxpZ2h0OiAnYmxhY2snXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBpbnB1dDoge1xuICAgICAgICBwYWRkaW5nOiBiYXNlU3BhY2luZyAvIDIgKyBcInB4XCIsXG4gICAgICAgIHdlaWdodDogNjAwXG4gICAgICB9LFxuICAgICAgb3BhY2l0eToge1xuICAgICAgICBzdHJvbmc6IDAuOCxcbiAgICAgICAgbWVkaXVtOiAwLjQsXG4gICAgICAgIHdlYWs6IDAuMVxuICAgICAgfSxcbiAgICAgIHNlbGVjdGVkOiB7XG4gICAgICAgIGJhY2tncm91bmQ6ICdzZWxlY3RlZCcsXG4gICAgICAgIGNvbG9yOiAnd2hpdGUnXG4gICAgICB9LFxuICAgICAgc3BhY2luZzogYmFzZVNwYWNpbmcgKyBcInB4XCIsXG4gICAgICBzaXplOiB7XG4gICAgICAgIHh4c21hbGw6IGJhc2VTcGFjaW5nICogMiArIFwicHhcIixcbiAgICAgICAgLy8gNDhcbiAgICAgICAgeHNtYWxsOiBiYXNlU3BhY2luZyAqIDQgKyBcInB4XCIsXG4gICAgICAgIC8vIDk2XG4gICAgICAgIHNtYWxsOiBiYXNlU3BhY2luZyAqIDggKyBcInB4XCIsXG4gICAgICAgIC8vIDE5MlxuICAgICAgICBtZWRpdW06IGJhc2VTcGFjaW5nICogMTYgKyBcInB4XCIsXG4gICAgICAgIC8vIDM4NFxuICAgICAgICBsYXJnZTogYmFzZVNwYWNpbmcgKiAzMiArIFwicHhcIixcbiAgICAgICAgLy8gNzY4XG4gICAgICAgIHhsYXJnZTogYmFzZVNwYWNpbmcgKiA0OCArIFwicHhcIixcbiAgICAgICAgLy8gMTE1MlxuICAgICAgICB4eGxhcmdlOiBiYXNlU3BhY2luZyAqIDY0ICsgXCJweFwiLFxuICAgICAgICAvLyAxNTM2XG4gICAgICAgIGZ1bGw6ICcxMDAlJ1xuICAgICAgfVxuICAgIH0sXG4gICAgYWNjb3JkaW9uOiB7XG4gICAgICBib3JkZXI6IHtcbiAgICAgICAgc2lkZTogJ2JvdHRvbScsXG4gICAgICAgIGNvbG9yOiAnYm9yZGVyJ1xuICAgICAgfSxcbiAgICAgIGhlYWRpbmc6IHtcbiAgICAgICAgbGV2ZWw6ICc0J1xuICAgICAgfSxcbiAgICAgIC8vIGxldmVsIHJhbmdlcyBmcm9tIDEtNlxuICAgICAgaWNvbnM6IHtcbiAgICAgICAgY29sbGFwc2U6IEZvcm1VcCxcbiAgICAgICAgZXhwYW5kOiBGb3JtRG93biAvLyBjb2xvcjogeyBkYXJrOiB1bmRlZmluZWQsIGxpZ2h0OiB1bmRlZmluZWQgfSxcblxuICAgICAgfVxuICAgIH0sXG4gICAgYW5jaG9yOiB7XG4gICAgICB0ZXh0RGVjb3JhdGlvbjogJ25vbmUnLFxuICAgICAgZm9udFdlaWdodDogNjAwLFxuICAgICAgY29sb3I6IHtcbiAgICAgICAgZGFyazogJ2FjY2VudC0xJyxcbiAgICAgICAgbGlnaHQ6ICdicmFuZCdcbiAgICAgIH0sXG4gICAgICBob3Zlcjoge1xuICAgICAgICB0ZXh0RGVjb3JhdGlvbjogJ3VuZGVybGluZScgLy8gZm9udFdlaWdodDogdW5kZWZpbmVkLFxuICAgICAgICAvLyBleHRlbmQ6IHVuZGVmaW5lZCxcblxuICAgICAgfSAvLyBleHRlbmQ6IHVuZGVmaW5lZCxcblxuICAgIH0sXG4gICAgYm94OiB7XG4gICAgICByZXNwb25zaXZlQnJlYWtwb2ludDogJ3NtYWxsJyAvLyB3aGVuIHdlIHN3aXRjaCByb3dzIHRvIGNvbHVtbnNcbiAgICAgIC8vIGV4dGVuZDogdW5kZWZpbmVkLFxuXG4gICAgfSxcbiAgICBidXR0b246IHtcbiAgICAgIGJvcmRlcjoge1xuICAgICAgICAvLyBjb2xvcjogeyBkYXJrOiB1bmRlZmluZWQsIGxpZ2h0OiB1bmRlZmluZWQgfVxuICAgICAgICB3aWR0aDogYm9yZGVyV2lkdGggKyBcInB4XCIsXG4gICAgICAgIHJhZGl1czogYmFzZVNwYWNpbmcgKiAwLjc1ICsgXCJweFwiXG4gICAgICB9LFxuICAgICAgLy8gY29sb3I6IHsgZGFyazogdW5kZWZpbmVkLCBsaWdodDogdW5kZWZpbmVkIH1cbiAgICAgIHByaW1hcnk6IHsvLyBjb2xvcjogeyBkYXJrOiB1bmRlZmluZWQsIGxpZ2h0OiB1bmRlZmluZWQgfVxuICAgICAgfSxcbiAgICAgIC8vIGRpc2FibGVkOiB7IG9wYWNpdHk6IHVuZGVmaW5lZCB9LFxuICAgICAgcGFkZGluZzoge1xuICAgICAgICB2ZXJ0aWNhbDogYmFzZVNwYWNpbmcgLyA0IC0gYm9yZGVyV2lkdGggKyBcInB4XCIsXG4gICAgICAgIGhvcml6b250YWw6IGJhc2VTcGFjaW5nIC0gYm9yZGVyV2lkdGggKyBcInB4XCJcbiAgICAgIH1cbiAgICB9LFxuICAgIGNhbGVuZGFyOiB7XG4gICAgICAvLyBkYXlTaXplIG11c3QgYWxpZ24gd2l0aCBnbG9iYWwuc2l6ZVxuICAgICAgc21hbGw6IHtcbiAgICAgICAgZm9udFNpemU6IGJhc2VGb250U2l6ZSAtIGZvbnRTY2FsZSArIFwicHhcIixcbiAgICAgICAgbGluZUhlaWdodDogMS4zNzUsXG4gICAgICAgIGRheVNpemU6IGJhc2VTcGFjaW5nICogOCAvIDcgKyBcInB4XCIsXG4gICAgICAgIHNsaWRlRHVyYXRpb246ICcwLjJzJ1xuICAgICAgfSxcbiAgICAgIG1lZGl1bToge1xuICAgICAgICBmb250U2l6ZTogYmFzZUZvbnRTaXplICsgXCJweFwiLFxuICAgICAgICBsaW5lSGVpZ2h0OiAxLjQ1LFxuICAgICAgICBkYXlTaXplOiBiYXNlU3BhY2luZyAqIDE2IC8gNyArIFwicHhcIixcbiAgICAgICAgc2xpZGVEdXJhdGlvbjogJzAuNXMnXG4gICAgICB9LFxuICAgICAgbGFyZ2U6IHtcbiAgICAgICAgZm9udFNpemU6IGJhc2VGb250U2l6ZSArIDMgKiBmb250U2NhbGUgKyBcInB4XCIsXG4gICAgICAgIGxpbmVIZWlnaHQ6IDEuMTEsXG4gICAgICAgIGRheVNpemU6IGJhc2VTcGFjaW5nICogMzIgLyA3ICsgXCJweFwiLFxuICAgICAgICBzbGlkZUR1cmF0aW9uOiAnMC44cydcbiAgICAgIH0sXG4gICAgICBpY29uczoge1xuICAgICAgICBwcmV2aW91czogUHJldmlvdXMsXG4gICAgICAgIG5leHQ6IE5leHQsXG4gICAgICAgIHNtYWxsOiB7XG4gICAgICAgICAgcHJldmlvdXM6IEZvcm1QcmV2aW91cyxcbiAgICAgICAgICBuZXh0OiBGb3JtTmV4dFxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgaGVhZGluZzoge1xuICAgICAgICBsZXZlbDogJzQnXG4gICAgICB9IC8vIGxldmVsIHJhbmdlcyBmcm9tIDEtNlxuXG4gICAgfSxcbiAgICBjYXJvdXNlbDoge1xuICAgICAgaWNvbnM6IHtcbiAgICAgICAgY3VycmVudDogU3VidHJhY3QsXG4gICAgICAgIG5leHQ6IE5leHQsXG4gICAgICAgIHByZXZpb3VzOiBQcmV2aW91cyAvLyBjb2xvcjogeyBkYXJrOiB1bmRlZmluZWQsIGxpZ2h0OiB1bmRlZmluZWQgfSxcblxuICAgICAgfSxcbiAgICAgIGFuaW1hdGlvbjoge1xuICAgICAgICBkdXJhdGlvbjogMTAwMFxuICAgICAgfSxcbiAgICAgIGRpc2FibGVkOiB7XG4gICAgICAgIGljb25zOiB7Ly8gY29sb3I6IHsgZGFyazogdW5kZWZpbmVkLCBsaWdodDogdW5kZWZpbmVkIH0sXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGNoYXJ0OiB7XG4gICAgICBjb2xvcjogJ2FjY2VudC0xJyAvLyBleHRlbmQ6IHVuZGVmaW5lZCxcblxuICAgIH0sXG4gICAgY2hlY2tCb3g6IHtcbiAgICAgIGJvcmRlcjoge1xuICAgICAgICBjb2xvcjoge1xuICAgICAgICAgIGRhcms6ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNSknLFxuICAgICAgICAgIGxpZ2h0OiAncmdiYSgwLCAwLCAwLCAwLjE1KSdcbiAgICAgICAgfSxcbiAgICAgICAgd2lkdGg6ICcycHgnXG4gICAgICB9LFxuICAgICAgY2hlY2s6IHtcbiAgICAgICAgLy8gZXh0ZW5kOiB1bmRlZmluZWQsXG4gICAgICAgIHJhZGl1czogJzRweCcsXG4gICAgICAgIHRoaWNrbmVzczogJzRweCdcbiAgICAgIH0sXG4gICAgICAvLyBjb2xvcjogeyBkYXJrOiB1bmRlZmluZWQsIGxpZ2h0OiB1bmRlZmluZWQgfSxcbiAgICAgIC8vIGV4dGVuZDogdW5kZWZpbmVkLFxuICAgICAgLy8gZ2FwOiB1bmRlZmluZWRcbiAgICAgIGhvdmVyOiB7XG4gICAgICAgIGJvcmRlcjoge1xuICAgICAgICAgIGNvbG9yOiB7XG4gICAgICAgICAgICBkYXJrOiAnd2hpdGUnLFxuICAgICAgICAgICAgbGlnaHQ6ICdibGFjaydcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBpY29uOiB7Ly8gc2l6ZTogdW5kZWZpbmVkLFxuICAgICAgICAvLyBleHRlbmQ6IHVuZGVmaW5lZCxcbiAgICAgIH0sXG4gICAgICBpY29uczogey8vIGNoZWNrZWQ6IHVuZGVmaW5lZCxcbiAgICAgICAgLy8gaW5kZXRlcm1pbmF0ZTogdW5kZWZpbmVkLFxuICAgICAgfSxcbiAgICAgIHNpemU6IGJhc2VTcGFjaW5nICsgXCJweFwiLFxuICAgICAgdG9nZ2xlOiB7XG4gICAgICAgIC8vIGJhY2tncm91bmQ6IHVuZGVmaW5lZFxuICAgICAgICBjb2xvcjoge1xuICAgICAgICAgIGRhcms6ICcjZDlkOWQ5JyxcbiAgICAgICAgICBsaWdodDogJyNkOWQ5ZDknXG4gICAgICAgIH0sXG4gICAgICAgIGtub2I6IHsvLyBleHRlbmQ6IHVuZGVmaW5lZCxcbiAgICAgICAgfSxcbiAgICAgICAgcmFkaXVzOiBiYXNlU3BhY2luZyArIFwicHhcIixcbiAgICAgICAgc2l6ZTogYmFzZVNwYWNpbmcgKiAyICsgXCJweFwiIC8vIGV4dGVuZDogdW5kZWZpbmVkLFxuXG4gICAgICB9XG4gICAgfSxcbiAgICBjbG9jazoge1xuICAgICAgYW5hbG9nOiB7XG4gICAgICAgIC8vIGV4dGVuZDogdW5kZWZpbmVkLFxuICAgICAgICBob3VyOiB7XG4gICAgICAgICAgY29sb3I6IHtcbiAgICAgICAgICAgIGRhcms6ICdsaWdodC0yJyxcbiAgICAgICAgICAgIGxpZ2h0OiAnZGFyay0zJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAgd2lkdGg6IGJhc2VTcGFjaW5nIC8gMyArIFwicHhcIixcbiAgICAgICAgICBzaXplOiBiYXNlU3BhY2luZyArIFwicHhcIixcbiAgICAgICAgICBzaGFwZTogJ3JvdW5kJ1xuICAgICAgICB9LFxuICAgICAgICBtaW51dGU6IHtcbiAgICAgICAgICBjb2xvcjoge1xuICAgICAgICAgICAgZGFyazogJ2xpZ2h0LTQnLFxuICAgICAgICAgICAgbGlnaHQ6ICdkYXJrLTMnXG4gICAgICAgICAgfSxcbiAgICAgICAgICB3aWR0aDogYmFzZVNwYWNpbmcgLyA2ICsgXCJweFwiLFxuICAgICAgICAgIHNpemU6IE1hdGgucm91bmQoYmFzZVNwYWNpbmcgLyAyKSArIFwicHhcIixcbiAgICAgICAgICBzaGFwZTogJ3JvdW5kJ1xuICAgICAgICB9LFxuICAgICAgICBzZWNvbmQ6IHtcbiAgICAgICAgICBjb2xvcjoge1xuICAgICAgICAgICAgZGFyazogJ2FjY2VudC0xJyxcbiAgICAgICAgICAgIGxpZ2h0OiAnYWNjZW50LTEnXG4gICAgICAgICAgfSxcbiAgICAgICAgICB3aWR0aDogYmFzZVNwYWNpbmcgLyA4ICsgXCJweFwiLFxuICAgICAgICAgIHNpemU6IE1hdGgucm91bmQoYmFzZVNwYWNpbmcgLyAyLjY2NikgKyBcInB4XCIsXG4gICAgICAgICAgc2hhcGU6ICdyb3VuZCdcbiAgICAgICAgfSxcbiAgICAgICAgc2l6ZToge1xuICAgICAgICAgIHNtYWxsOiBiYXNlU3BhY2luZyAqIDMgKyBcInB4XCIsXG4gICAgICAgICAgbWVkaXVtOiBiYXNlU3BhY2luZyAqIDQgKyBcInB4XCIsXG4gICAgICAgICAgbGFyZ2U6IGJhc2VTcGFjaW5nICogNiArIFwicHhcIixcbiAgICAgICAgICB4bGFyZ2U6IGJhc2VTcGFjaW5nICogOSArIFwicHhcIixcbiAgICAgICAgICBodWdlOiBiYXNlU3BhY2luZyAqIDEyICsgXCJweFwiXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBkaWdpdGFsOiB7XG4gICAgICAgIHRleHQ6IHtcbiAgICAgICAgICB4c21hbGw6IHtcbiAgICAgICAgICAgIHNpemU6IGJhc2VGb250U2l6ZSAtIDIgKiBmb250U2NhbGUgKyBcInB4XCIsXG4gICAgICAgICAgICBoZWlnaHQ6IDEuNVxuICAgICAgICAgIH0sXG4gICAgICAgICAgc21hbGw6IHtcbiAgICAgICAgICAgIHNpemU6IGJhc2VGb250U2l6ZSAtIGZvbnRTY2FsZSArIFwicHhcIixcbiAgICAgICAgICAgIGhlaWdodDogMS40M1xuICAgICAgICAgIH0sXG4gICAgICAgICAgbWVkaXVtOiB7XG4gICAgICAgICAgICBzaXplOiBiYXNlRm9udFNpemUgKyBcInB4XCIsXG4gICAgICAgICAgICBoZWlnaHQ6IDEuMzc1XG4gICAgICAgICAgfSxcbiAgICAgICAgICBsYXJnZToge1xuICAgICAgICAgICAgc2l6ZTogYmFzZUZvbnRTaXplICsgZm9udFNjYWxlICsgXCJweFwiLFxuICAgICAgICAgICAgaGVpZ2h0OiAxLjE2N1xuICAgICAgICAgIH0sXG4gICAgICAgICAgeGxhcmdlOiB7XG4gICAgICAgICAgICBzaXplOiBiYXNlRm9udFNpemUgKyAyICogZm9udFNjYWxlICsgXCJweFwiLFxuICAgICAgICAgICAgaGVpZ2h0OiAxLjE4NzVcbiAgICAgICAgICB9LFxuICAgICAgICAgIHh4bGFyZ2U6IHtcbiAgICAgICAgICAgIHNpemU6IGJhc2VGb250U2l6ZSArIDQgKiBmb250U2NhbGUgKyBcInB4XCIsXG4gICAgICAgICAgICBoZWlnaHQ6IDEuMTI1XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBjb2xsYXBzaWJsZToge1xuICAgICAgbWluU3BlZWQ6IDIwMCxcbiAgICAgIGJhc2VsaW5lOiA1MDBcbiAgICB9LFxuICAgIGRhdGFUYWJsZToge1xuICAgICAgZ3JvdXBIZWFkZXI6IHtcbiAgICAgICAgYmFja2dyb3VuZDoge1xuICAgICAgICAgIGRhcms6ICdkYXJrLTInLFxuICAgICAgICAgIGxpZ2h0OiAnbGlnaHQtMidcbiAgICAgICAgfSxcbiAgICAgICAgYm9yZGVyOiB7XG4gICAgICAgICAgc2lkZTogJ2JvdHRvbScsXG4gICAgICAgICAgc2l6ZTogJ3hzbWFsbCdcbiAgICAgICAgfSxcbiAgICAgICAgcGFkOiB7XG4gICAgICAgICAgaG9yaXpvbnRhbDogJ3NtYWxsJyxcbiAgICAgICAgICB2ZXJ0aWNhbDogJ3hzbWFsbCdcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGdyb3VwRW5kOiB7XG4gICAgICAgIGJvcmRlcjoge1xuICAgICAgICAgIHNpZGU6ICdib3R0b20nLFxuICAgICAgICAgIHNpemU6ICd4c21hbGwnXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBoZWFkZXI6IHt9LFxuICAgICAgaWNvbnM6IHtcbiAgICAgICAgYXNjZW5kaW5nOiBGb3JtRG93bixcbiAgICAgICAgY29udHJhY3Q6IEZvcm1VcCxcbiAgICAgICAgZGVzY2VuZGluZzogRm9ybVVwLFxuICAgICAgICBleHBhbmQ6IEZvcm1Eb3duXG4gICAgICB9LFxuICAgICAgcHJpbWFyeToge1xuICAgICAgICB3ZWlnaHQ6ICdib2xkJ1xuICAgICAgfSxcbiAgICAgIHJlc2l6ZToge1xuICAgICAgICBib3JkZXI6IHtcbiAgICAgICAgICBjb2xvcjogJ2JvcmRlcicsXG4gICAgICAgICAgc2lkZTogJ3JpZ2h0J1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBkaWFncmFtOiB7XG4gICAgICAvLyBleHRlbmQ6IHVuZGVmaW5lZCxcbiAgICAgIGxpbmU6IHtcbiAgICAgICAgY29sb3I6ICdhY2NlbnQtMSdcbiAgICAgIH1cbiAgICB9LFxuICAgIC8vIGRyb3A6IHtcbiAgICAvLyAgIGV4dGVuZDogdW5kZWZpbmVkLFxuICAgIC8vICAgbWF4SGVpZ2h0OiB1bmRlZmluZWQsXG4gICAgLy8gfSxcbiAgICBmb3JtRmllbGQ6IHtcbiAgICAgIGJvcmRlcjoge1xuICAgICAgICBjb2xvcjogJ2JvcmRlcicsXG4gICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgY29sb3I6IHtcbiAgICAgICAgICAgIGRhcms6ICd3aGl0ZScsXG4gICAgICAgICAgICBsaWdodDogJ3N0YXR1cy1jcml0aWNhbCdcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHBvc2l0aW9uOiAnaW5uZXInLFxuICAgICAgICBzaWRlOiAnYm90dG9tJ1xuICAgICAgfSxcbiAgICAgIGNvbnRlbnQ6IHtcbiAgICAgICAgcGFkOiB7XG4gICAgICAgICAgaG9yaXpvbnRhbDogJ3NtYWxsJyxcbiAgICAgICAgICBib3R0b206ICdzbWFsbCdcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGVycm9yOiB7XG4gICAgICAgIGNvbG9yOiB7XG4gICAgICAgICAgZGFyazogJ3N0YXR1cy1jcml0aWNhbCcsXG4gICAgICAgICAgbGlnaHQ6ICdzdGF0dXMtY3JpdGljYWwnXG4gICAgICAgIH0sXG4gICAgICAgIG1hcmdpbjoge1xuICAgICAgICAgIHZlcnRpY2FsOiAneHNtYWxsJyxcbiAgICAgICAgICBob3Jpem9udGFsOiAnc21hbGwnXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICAvLyBleHRlbmQ6IHVuZGVmaW5lZCxcbiAgICAgIGhlbHA6IHtcbiAgICAgICAgY29sb3I6IHtcbiAgICAgICAgICBkYXJrOiAnZGFyay0zJyxcbiAgICAgICAgICBsaWdodDogJ2RhcmstMydcbiAgICAgICAgfSxcbiAgICAgICAgbWFyZ2luOiB7XG4gICAgICAgICAgbGVmdDogJ3NtYWxsJ1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgbGFiZWw6IHtcbiAgICAgICAgbWFyZ2luOiB7XG4gICAgICAgICAgdmVydGljYWw6ICd4c21hbGwnLFxuICAgICAgICAgIGhvcml6b250YWw6ICdzbWFsbCdcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG1hcmdpbjoge1xuICAgICAgICBib3R0b206ICdzbWFsbCdcbiAgICAgIH1cbiAgICB9LFxuICAgIGdyb21tZXQ6IHsvLyBleHRlbmQ6IHVuZGVmaW5lZFxuICAgIH0sXG4gICAgaGVhZGluZzoge1xuICAgICAgZm9udDogey8vIGZhbWlseTogdW5kZWZpbmVkXG4gICAgICB9LFxuICAgICAgbGV2ZWw6IHtcbiAgICAgICAgMToge1xuICAgICAgICAgIGZvbnQ6IHsvLyBmYW1pbHk6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIC8vIHdlaWdodDogdW5kZWZpbmVkLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgc21hbGw6IF9leHRlbmRzKHt9LCBmb250U2l6aW5nKDQpKSxcbiAgICAgICAgICBtZWRpdW06IF9leHRlbmRzKHt9LCBmb250U2l6aW5nKDgpKSxcbiAgICAgICAgICBsYXJnZTogX2V4dGVuZHMoe30sIGZvbnRTaXppbmcoMTYpKSxcbiAgICAgICAgICB4bGFyZ2U6IF9leHRlbmRzKHt9LCBmb250U2l6aW5nKDI0KSlcbiAgICAgICAgfSxcbiAgICAgICAgMjoge1xuICAgICAgICAgIGZvbnQ6IHsvLyBmYW1pbHk6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIC8vIHdlaWdodDogdW5kZWZpbmVkLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgc21hbGw6IF9leHRlbmRzKHt9LCBmb250U2l6aW5nKDIpKSxcbiAgICAgICAgICBtZWRpdW06IF9leHRlbmRzKHt9LCBmb250U2l6aW5nKDQpKSxcbiAgICAgICAgICBsYXJnZTogX2V4dGVuZHMoe30sIGZvbnRTaXppbmcoOCkpLFxuICAgICAgICAgIHhsYXJnZTogX2V4dGVuZHMoe30sIGZvbnRTaXppbmcoMTIpKVxuICAgICAgICB9LFxuICAgICAgICAzOiB7XG4gICAgICAgICAgZm9udDogey8vIGZhbWlseTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgLy8gd2VpZ2h0OiB1bmRlZmluZWQsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBzbWFsbDogX2V4dGVuZHMoe30sIGZvbnRTaXppbmcoMSkpLFxuICAgICAgICAgIG1lZGl1bTogX2V4dGVuZHMoe30sIGZvbnRTaXppbmcoMikpLFxuICAgICAgICAgIGxhcmdlOiBfZXh0ZW5kcyh7fSwgZm9udFNpemluZyg0KSksXG4gICAgICAgICAgeGxhcmdlOiBfZXh0ZW5kcyh7fSwgZm9udFNpemluZyg2KSlcbiAgICAgICAgfSxcbiAgICAgICAgNDoge1xuICAgICAgICAgIGZvbnQ6IHsvLyBmYW1pbHk6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIC8vIHdlaWdodDogdW5kZWZpbmVkLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgc21hbGw6IF9leHRlbmRzKHt9LCBmb250U2l6aW5nKDApKSxcbiAgICAgICAgICBtZWRpdW06IF9leHRlbmRzKHt9LCBmb250U2l6aW5nKDApKSxcbiAgICAgICAgICBsYXJnZTogX2V4dGVuZHMoe30sIGZvbnRTaXppbmcoMCkpLFxuICAgICAgICAgIHhsYXJnZTogX2V4dGVuZHMoe30sIGZvbnRTaXppbmcoMCkpXG4gICAgICAgIH0sXG4gICAgICAgIDU6IHtcbiAgICAgICAgICBmb250OiB7Ly8gZmFtaWx5OiB1bmRlZmluZWQsXG4gICAgICAgICAgICAvLyB3ZWlnaHQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNtYWxsOiBfZXh0ZW5kcyh7fSwgZm9udFNpemluZygtMC41KSksXG4gICAgICAgICAgbWVkaXVtOiBfZXh0ZW5kcyh7fSwgZm9udFNpemluZygtMC41KSksXG4gICAgICAgICAgbGFyZ2U6IF9leHRlbmRzKHt9LCBmb250U2l6aW5nKC0wLjUpKSxcbiAgICAgICAgICB4bGFyZ2U6IF9leHRlbmRzKHt9LCBmb250U2l6aW5nKC0wLjUpKVxuICAgICAgICB9LFxuICAgICAgICA2OiB7XG4gICAgICAgICAgZm9udDogey8vIGZhbWlseTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgLy8gd2VpZ2h0OiB1bmRlZmluZWQsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBzbWFsbDogX2V4dGVuZHMoe30sIGZvbnRTaXppbmcoLTEpKSxcbiAgICAgICAgICBtZWRpdW06IF9leHRlbmRzKHt9LCBmb250U2l6aW5nKC0xKSksXG4gICAgICAgICAgbGFyZ2U6IF9leHRlbmRzKHt9LCBmb250U2l6aW5nKC0xKSksXG4gICAgICAgICAgeGxhcmdlOiBfZXh0ZW5kcyh7fSwgZm9udFNpemluZygtMSkpXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICByZXNwb25zaXZlQnJlYWtwb2ludDogJ3NtYWxsJyxcbiAgICAgIC8vIHdoZW4gd2Ugc2NhbGUgdGhlIGZvbnQgc2l6ZSBkb3duXG4gICAgICB3ZWlnaHQ6IDYwMFxuICAgIH0sXG4gICAgbGF5ZXI6IHtcbiAgICAgIGJhY2tncm91bmQ6ICd3aGl0ZScsXG4gICAgICBib3JkZXI6IHtcbiAgICAgICAgcmFkaXVzOiAnNHB4J1xuICAgICAgfSxcbiAgICAgIGNvbnRhaW5lcjoge1xuICAgICAgICB6SW5kZXg6ICcxNSdcbiAgICAgIH0sXG4gICAgICAvLyBleHRlbmQ6IHVuZGVmaW5lZCxcbiAgICAgIG92ZXJsYXk6IHtcbiAgICAgICAgYmFja2dyb3VuZDogJ3JnYmEoMCwgMCwgMCwgMC41KSdcbiAgICAgIH0sXG4gICAgICByZXNwb25zaXZlQnJlYWtwb2ludDogJ3NtYWxsJyxcbiAgICAgIC8vIHdoZW4gTGF5ZXIgdGFrZXMgb3ZlciB0aGUgZnVsbCBzY3JlZW5cbiAgICAgIHpJbmRleDogJzEwJ1xuICAgIH0sXG4gICAgbGlzdDoge1xuICAgICAgaXRlbToge1xuICAgICAgICAvLyBiYWNrZ3JvdW5kOiB1bmRlZmluZWQsXG4gICAgICAgIGJvcmRlcjogJ2hvcml6b250YWwnLFxuICAgICAgICBwYWQ6IHtcbiAgICAgICAgICBob3Jpem9udGFsOiAnbWVkaXVtJyxcbiAgICAgICAgICB2ZXJ0aWNhbDogJ3NtYWxsJ1xuICAgICAgICB9IC8vIGV4dGVuZDogdW5kZWZpbmVkLFxuXG4gICAgICB9IC8vIGV4dGVuZDogdW5kZWZpbmVkLFxuXG4gICAgfSxcbiAgICBtYXNrZWRJbnB1dDogey8vIGV4dGVuZDogdW5kZWZpbmVkLFxuICAgIH0sXG4gICAgbWVudToge1xuICAgICAgLy8gYmFja2dyb3VuZDogdW5kZWZpbmVkLFxuICAgICAgLy8gZXh0ZW5kOiB1bmRlZmluZWQsXG4gICAgICBpY29uczoge1xuICAgICAgICBkb3duOiBGb3JtRG93blxuICAgICAgfVxuICAgIH0sXG4gICAgbWV0ZXI6IHtcbiAgICAgIGNvbG9yOiAnYWNjZW50LTEnIC8vIGNvbG9yczogW10sXG4gICAgICAvLyBleHRlbmQ6IHVuZGVmaW5lZCxcblxuICAgIH0sXG4gICAgcGFyYWdyYXBoOiB7XG4gICAgICBzbWFsbDogX2V4dGVuZHMoe30sIGZvbnRTaXppbmcoLTEpKSxcbiAgICAgIG1lZGl1bTogX2V4dGVuZHMoe30sIGZvbnRTaXppbmcoMCkpLFxuICAgICAgbGFyZ2U6IF9leHRlbmRzKHt9LCBmb250U2l6aW5nKDEpKSxcbiAgICAgIHhsYXJnZTogX2V4dGVuZHMoe30sIGZvbnRTaXppbmcoMikpLFxuICAgICAgeHhsYXJnZTogX2V4dGVuZHMoe30sIGZvbnRTaXppbmcoNCkpXG4gICAgfSxcbiAgICByYWRpb0J1dHRvbjoge1xuICAgICAgYm9yZGVyOiB7XG4gICAgICAgIGNvbG9yOiB7XG4gICAgICAgICAgZGFyazogJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC41KScsXG4gICAgICAgICAgbGlnaHQ6ICdyZ2JhKDAsIDAsIDAsIDAuMTUpJ1xuICAgICAgICB9LFxuICAgICAgICB3aWR0aDogJzJweCdcbiAgICAgIH0sXG4gICAgICBjaGVjazoge1xuICAgICAgICByYWRpdXM6ICcxMDAlJyAvLyBjb2xvcjogeyBkYXJrOiB1bmRlZmluZWQsIGxpZ2h0OiB1bmRlZmluZWQgfSxcbiAgICAgICAgLy8gZXh0ZW5kOiB1bmRlZmluZWQsXG5cbiAgICAgIH0sXG4gICAgICBob3Zlcjoge1xuICAgICAgICBib3JkZXI6IHtcbiAgICAgICAgICBjb2xvcjoge1xuICAgICAgICAgICAgZGFyazogJ3doaXRlJyxcbiAgICAgICAgICAgIGxpZ2h0OiAnYmxhY2snXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgaWNvbjogey8vIHNpemU6IHVuZGVmaW5lZCxcbiAgICAgICAgLy8gZXh0ZW5kOiB1bmRlZmluZWQsXG4gICAgICB9LFxuICAgICAgaWNvbnM6IHsvLyBjaXJjbGU6IHVuZGVmaW5lZCxcbiAgICAgIH0sXG4gICAgICBnYXA6ICdzbWFsbCcsXG4gICAgICBzaXplOiBiYXNlU3BhY2luZyArIFwicHhcIlxuICAgIH0sXG4gICAgcmFuZ2VJbnB1dDoge1xuICAgICAgdHJhY2s6IHtcbiAgICAgICAgaGVpZ2h0OiAnNHB4JyxcbiAgICAgICAgY29sb3I6IGNzcyhbXCJcIiwgXCI7XCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgICByZXR1cm4gcmdiYShub3JtYWxpemVDb2xvcignYm9yZGVyJywgcHJvcHMudGhlbWUpLCAwLjIpO1xuICAgICAgICB9KVxuICAgICAgfSxcbiAgICAgIHRodW1iOiB7Ly8gY29sb3I6IHsgZGFyazogdW5kZWZpbmVkLCBsaWdodDogdW5kZWZpbmVkIH0sXG4gICAgICB9XG4gICAgfSxcbiAgICByYW5nZVNlbGVjdG9yOiB7XG4gICAgICBiYWNrZ3JvdW5kOiB7XG4gICAgICAgIGludmVydDoge1xuICAgICAgICAgIGNvbG9yOiAnbGlnaHQtNCdcbiAgICAgICAgfVxuICAgICAgfSAvLyBlZGdlOiB7XG4gICAgICAvLyAgIHR5cGU6IHVuZGVmaW5lZCxcbiAgICAgIC8vIH0sXG5cbiAgICB9LFxuICAgIHNlbGVjdDoge1xuICAgICAgLy8gYmFja2dyb3VuZDogdW5kZWZpbmVkLFxuICAgICAgY29udGFpbmVyOiB7Ly8gZXh0ZW5kOiB1bmRlZmluZWQsXG4gICAgICB9LFxuICAgICAgY29udHJvbDogey8vIGV4dGVuZDogdW5kZWZpbmVkLFxuICAgICAgICAvLyBvcGVuOiB1bmRlZmluZWQsXG4gICAgICB9LFxuICAgICAgaWNvbnM6IHtcbiAgICAgICAgLy8gY29sb3I6IHsgZGFyazogdW5kZWZpbmVkLCBsaWdodDogdW5kZWZpbmVkIH0sXG4gICAgICAgIG1hcmdpbjoge1xuICAgICAgICAgIGhvcml6b250YWw6ICdzbWFsbCdcbiAgICAgICAgfSxcbiAgICAgICAgZG93bjogRm9ybURvd25cbiAgICAgIH0sXG4gICAgICBvcHRpb25zOiB7XG4gICAgICAgIGNvbnRhaW5lcjoge1xuICAgICAgICAgIGFsaWduOiAnc3RhcnQnLFxuICAgICAgICAgIHBhZDogJ3NtYWxsJ1xuICAgICAgICB9LFxuICAgICAgICB0ZXh0OiB7XG4gICAgICAgICAgbWFyZ2luOiAnbm9uZSdcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIC8vIHNlYXJjaElucHV0OiB1bmRlZmluZWQsXG4gICAgICBzdGVwOiAyMFxuICAgIH0sXG4gICAgdGFiOiB7XG4gICAgICBhY3RpdmU6IHtcbiAgICAgICAgY29sb3I6ICd0ZXh0JyAvLyBiYWNrZ3JvdW5kOiB1bmRlZmluZWQsXG5cbiAgICAgIH0sXG4gICAgICAvLyBiYWNrZ3JvdW5kOiB1bmRlZmluZWQsXG4gICAgICBib3JkZXI6IHtcbiAgICAgICAgc2lkZTogJ2JvdHRvbScsXG4gICAgICAgIHNpemU6ICdzbWFsbCcsXG4gICAgICAgIGNvbG9yOiB7XG4gICAgICAgICAgZGFyazogJ2FjY2VudC0xJyxcbiAgICAgICAgICBsaWdodDogJ2JyYW5kJ1xuICAgICAgICB9LFxuICAgICAgICBhY3RpdmU6IHtcbiAgICAgICAgICBjb2xvcjoge1xuICAgICAgICAgICAgZGFyazogJ3doaXRlJyxcbiAgICAgICAgICAgIGxpZ2h0OiAnYmxhY2snXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBob3Zlcjoge1xuICAgICAgICAgIGNvbG9yOiB7XG4gICAgICAgICAgICBkYXJrOiAnd2hpdGUnLFxuICAgICAgICAgICAgbGlnaHQ6ICdibGFjaydcbiAgICAgICAgICB9IC8vIGV4dGVuZDogdW5kZWZpbmVkLFxuXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBjb2xvcjogJ2NvbnRyb2wnLFxuICAgICAgLy8gZXh0ZW5kOiB1bmRlZmluZWQsXG4gICAgICBob3Zlcjoge1xuICAgICAgICAvLyBiYWNrZ3JvdW5kOiB1bmRlZmluZWQsXG4gICAgICAgIC8vIGV4dGVuZDogdW5kZWZpbmVkLFxuICAgICAgICBjb2xvcjoge1xuICAgICAgICAgIGRhcms6ICd3aGl0ZScsXG4gICAgICAgICAgbGlnaHQ6ICdibGFjaydcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG1hcmdpbjoge1xuICAgICAgICB2ZXJ0aWNhbDogJ3h4c21hbGwnLFxuICAgICAgICBob3Jpem9udGFsOiAnc21hbGwnXG4gICAgICB9LFxuICAgICAgcGFkOiB7XG4gICAgICAgIGJvdHRvbTogJ3hzbWFsbCdcbiAgICAgIH1cbiAgICB9LFxuICAgIHRhYnM6IHtcbiAgICAgIC8vIGJhY2tncm91bmQ6IHVuZGVmaW5lZCxcbiAgICAgIC8vIGV4dGVuZDogdW5kZWZpbmVkLFxuICAgICAgLy8gZ2FwOiB1bmRlZmluZWQsXG4gICAgICBoZWFkZXI6IHsvLyBiYWNrZ3JvdW5kOiB1bmRlZmluZWQsXG4gICAgICAgIC8vIGV4dGVuZDogdW5kZWZpbmVkLFxuICAgICAgfSxcbiAgICAgIHBhbmVsOiB7Ly8gZXh0ZW5kOiB1bmRlZmluZWQsXG4gICAgICB9XG4gICAgfSxcbiAgICB0YWJsZToge1xuICAgICAgaGVhZGVyOiB7XG4gICAgICAgIGFsaWduOiAnc3RhcnQnLFxuICAgICAgICBwYWQ6IHtcbiAgICAgICAgICBob3Jpem9udGFsOiAnc21hbGwnLFxuICAgICAgICAgIHZlcnRpY2FsOiAneHNtYWxsJ1xuICAgICAgICB9LFxuICAgICAgICBib3JkZXI6ICdib3R0b20nIC8vIHZlcnRpY2FsQWxpZ246IHVuZGVmaW5lZCxcbiAgICAgICAgLy8gYmFja2dyb3VuZDogdW5kZWZpbmVkLFxuICAgICAgICAvLyBleHRlbmQ6IHVuZGVmaW5lZCxcblxuICAgICAgfSxcbiAgICAgIGJvZHk6IHtcbiAgICAgICAgYWxpZ246ICdzdGFydCcsXG4gICAgICAgIHBhZDoge1xuICAgICAgICAgIGhvcml6b250YWw6ICdzbWFsbCcsXG4gICAgICAgICAgdmVydGljYWw6ICd4c21hbGwnXG4gICAgICAgIH0gLy8gYmFja2dyb3VuZDogdW5kZWZpbmVkLFxuICAgICAgICAvLyBib3JkZXI6IHVuZGVmaW5lZCxcbiAgICAgICAgLy8gZXh0ZW5kOiB1bmRlZmluZWQsXG5cbiAgICAgIH0sXG4gICAgICAvLyByb3c6IHtcbiAgICAgIC8vICAgaG92ZXI6IHtcbiAgICAgIC8vICAgICBiYWNrZ3JvdW5kOiB1bmRlZmluZWQsXG4gICAgICAvLyAgICAgY29sb3I6IHVuZGVmaW5lZCxcbiAgICAgIC8vICAgfSxcbiAgICAgIC8vIH0sXG4gICAgICBmb290ZXI6IHtcbiAgICAgICAgYWxpZ246ICdzdGFydCcsXG4gICAgICAgIHBhZDoge1xuICAgICAgICAgIGhvcml6b250YWw6ICdzbWFsbCcsXG4gICAgICAgICAgdmVydGljYWw6ICd4c21hbGwnXG4gICAgICAgIH0sXG4gICAgICAgIGJvcmRlcjogJ3RvcCcgLy8gdmVydGljYWxBbGlnbjogdW5kZWZpbmVkLFxuICAgICAgICAvLyBiYWNrZ3JvdW5kOiB1bmRlZmluZWQsXG4gICAgICAgIC8vIGV4dGVuZDogdW5kZWZpbmVkLFxuXG4gICAgICB9XG4gICAgfSxcbiAgICB0ZXh0OiB7XG4gICAgICB4c21hbGw6IF9leHRlbmRzKHt9LCBmb250U2l6aW5nKC0xLjUpKSxcbiAgICAgIHNtYWxsOiBfZXh0ZW5kcyh7fSwgZm9udFNpemluZygtMSkpLFxuICAgICAgbWVkaXVtOiBfZXh0ZW5kcyh7fSwgZm9udFNpemluZygwKSksXG4gICAgICAvLyAxOHB4XG4gICAgICBsYXJnZTogX2V4dGVuZHMoe30sIGZvbnRTaXppbmcoMSkpLFxuICAgICAgLy8gMjJweFxuICAgICAgeGxhcmdlOiBfZXh0ZW5kcyh7fSwgZm9udFNpemluZygyKSksXG4gICAgICB4eGxhcmdlOiBfZXh0ZW5kcyh7fSwgZm9udFNpemluZyg0KSlcbiAgICB9LFxuICAgIHRleHRBcmVhOiB7Ly8gZXh0ZW5kOiB1bmRlZmluZWQsXG4gICAgICAvLyBkaXNhYmxlZDogeyBvcGFjaXR5OiB1bmRlZmluZWQgfSxcbiAgICB9LFxuICAgIHRleHRJbnB1dDogey8vIGV4dGVuZDogdW5kZWZpbmVkLFxuICAgICAgLy8gZGlzYWJsZWQ6IHsgb3BhY2l0eTogdW5kZWZpbmVkIH0sXG4gICAgfSxcbiAgICB2aWRlbzoge1xuICAgICAgY2FwdGlvbnM6IHtcbiAgICAgICAgYmFja2dyb3VuZDogJ3JnYmEoMCwgMCwgMCwgMC43KSdcbiAgICAgIH0sXG4gICAgICAvLyBjb250cm9sczogeyBiYWNrZ3JvdW5kOiB1bmRlZmluZWQgfSxcbiAgICAgIGljb25zOiB7XG4gICAgICAgIGNsb3NlZENhcHRpb246IENsb3NlZENhcHRpb24sXG4gICAgICAgIGNvbmZpZ3VyZTogQWN0aW9ucyxcbiAgICAgICAgZnVsbFNjcmVlbjogRXhwYW5kLFxuICAgICAgICBwYXVzZTogUGF1c2UsXG4gICAgICAgIHBsYXk6IFBsYXksXG4gICAgICAgIHJlZHVjZVZvbHVtZTogVm9sdW1lTG93LFxuICAgICAgICB2b2x1bWU6IFZvbHVtZSAvLyBjb2xvcjogeyBkYXJrOiB1bmRlZmluZWQsIGxpZ2h0OiB1bmRlZmluZWQgfSxcblxuICAgICAgfSxcbiAgICAgIC8vIHNjcnViYmVyOiB7IHRyYWNrOiB7IGNvbG9yOiB1bmRlZmluZWQgfSB9LFxuICAgICAgc2NydWJiZXI6IHtcbiAgICAgICAgY29sb3I6ICdsaWdodC00J1xuICAgICAgfVxuICAgIH0sXG4gICAgd29ybGRNYXA6IHtcbiAgICAgIGNvbG9yOiAnbGlnaHQtMycsXG4gICAgICBjb250aW5lbnQ6IHtcbiAgICAgICAgYWN0aXZlOiAnOHB4JyxcbiAgICAgICAgYmFzZTogJzZweCdcbiAgICAgIH0sXG4gICAgICBob3Zlcjoge1xuICAgICAgICBjb2xvcjogJ2xpZ2h0LTQnXG4gICAgICB9LFxuICAgICAgcGxhY2U6IHtcbiAgICAgICAgYWN0aXZlOiAnMjBweCcsXG4gICAgICAgIGJhc2U6ICc4cHgnXG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGRlZXBGcmVlemUocmVzdWx0KTtcbn07XG5leHBvcnQgdmFyIGJhc2UgPSBnZW5lcmF0ZSgyNCk7IiwiaW1wb3J0IHsgcmdiYSB9IGZyb20gJ3BvbGlzaGVkJztcbmltcG9ydCB7IGNzcyB9IGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCB7IGRlZXBGcmVlemUgfSBmcm9tICcuLi91dGlscy9vYmplY3QnO1xuaW1wb3J0IHsgbm9ybWFsaXplQ29sb3IgfSBmcm9tICcuLi91dGlscy9jb2xvcnMnO1xudmFyIGFjY2VudENvbG9ycyA9IFsnI0ZENkZGRicsICcjNjBFQjlGJywgJyM2MEVCRTEnLCAnI0ZGQ0E1OCddO1xudmFyIG5ldXRyYWxDb2xvcnMgPSBbJyNFQjYwNjAnLCAnIzAxQzc4MScsICcjNjA5NUVCJywgJyNGRkIyMDAnXTtcbnZhciBzdGF0dXNDb2xvcnMgPSB7XG4gIGNyaXRpY2FsOiAnI0ZGMzMzMycsXG4gIGVycm9yOiAnI0ZGMzMzMycsXG4gIHdhcm5pbmc6ICcjRjdFNDY0JyxcbiAgb2s6ICcjN0REODkyJyxcbiAgdW5rbm93bjogJyNhOGE4YTgnLFxuICBkaXNhYmxlZDogJyNhOGE4YTgnXG59O1xudmFyIGJhY2tncm91bmRDb2xvciA9ICcjMTExMTExJztcbnZhciBjb2xvcnMgPSB7XG4gIGFjdGl2ZTogcmdiYSgxMDIsIDEwMiwgMTAyLCAwLjUpLFxuICBiYWNrZ3JvdW5kOiBiYWNrZ3JvdW5kQ29sb3IsXG4gIGJsYWNrOiAnIzAwMDAwMCcsXG4gIGJyYW5kOiAnI0ZENkZGRicsXG4gIGNvbnRyb2w6IHtcbiAgICBkYXJrOiAnI0ZGQ0E1OCcsXG4gICAgbGlnaHQ6ICcjNDAzMjE2J1xuICB9LFxuICBmb2N1czogJyNGRkNBNTgnLFxuICBpY29uOiB7XG4gICAgZGFyazogJyNmOGY4ZjgnLFxuICAgIGxpZ2h0OiAnIzY2NjY2NidcbiAgfSxcbiAgcGxhY2Vob2xkZXI6ICcjQUFBQUFBJyxcbiAgdGV4dDoge1xuICAgIGRhcms6ICcjZWVlZWVlJyxcbiAgICBsaWdodDogJyM0NDQ0NDQnXG4gIH0sXG4gIHdoaXRlOiAnI0ZGRkZGRidcbn07XG5cbnZhciBjb2xvckFycmF5ID0gZnVuY3Rpb24gY29sb3JBcnJheShhcnJheSwgcHJlZml4KSB7XG4gIHJldHVybiBhcnJheS5mb3JFYWNoKGZ1bmN0aW9uIChjb2xvciwgaW5kZXgpIHtcbiAgICBjb2xvcnNbcHJlZml4ICsgXCItXCIgKyAoaW5kZXggKyAxKV0gPSBjb2xvcjtcbiAgfSk7XG59O1xuXG5jb2xvckFycmF5KGFjY2VudENvbG9ycywgJ2FjY2VudCcpO1xuY29sb3JBcnJheShuZXV0cmFsQ29sb3JzLCAnbmV1dHJhbCcpO1xuT2JqZWN0LmtleXMoc3RhdHVzQ29sb3JzKS5mb3JFYWNoKGZ1bmN0aW9uIChjb2xvcikge1xuICBjb2xvcnNbXCJzdGF0dXMtXCIgKyBjb2xvcl0gPSBzdGF0dXNDb2xvcnNbY29sb3JdO1xufSk7XG5leHBvcnQgdmFyIGRhcmsgPSBkZWVwRnJlZXplKHtcbiAgZ2xvYmFsOiB7XG4gICAgY29sb3JzOiBjb2xvcnMsXG4gICAgZHJvcDoge1xuICAgICAgYmFja2dyb3VuZDogJyMzMzMzMzMnXG4gICAgfSxcbiAgICBmb2N1czoge1xuICAgICAgYm9yZGVyOiB7XG4gICAgICAgIGNvbG9yOiBjc3MoW1wiXCIsIFwiO1wiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZUNvbG9yKCdmb2N1cycsIHByb3BzLnRoZW1lKTtcbiAgICAgICAgfSksXG4gICAgICAgIHdpZHRoOiAnMnB4J1xuICAgICAgfVxuICAgIH0sXG4gICAgZm9udDoge1xuICAgICAgZmFtaWx5OiAnQXJpYWwnXG4gICAgfSxcbiAgICBpbnB1dDoge1xuICAgICAgd2VpZ2h0OiA3MDBcbiAgICB9XG4gIH0sXG4gIGFuY2hvcjoge1xuICAgIGNvbG9yOiAnY29udHJvbCdcbiAgfSxcbiAgbGF5ZXI6IHtcbiAgICBiYWNrZ3JvdW5kOiBiYWNrZ3JvdW5kQ29sb3IsXG4gICAgb3ZlcmxheToge1xuICAgICAgYmFja2dyb3VuZDogcmdiYSg0OCwgNDgsIDQ4LCAwLjUpXG4gICAgfVxuICB9XG59KTsiLCJpbXBvcnQgeyBjc3MgfSBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBkZWVwRnJlZXplIH0gZnJvbSAnLi4vdXRpbHMvb2JqZWN0JztcbmV4cG9ydCB2YXIgZ3JvbW1ldCA9IGRlZXBGcmVlemUoe1xuICBnbG9iYWw6IHtcbiAgICBjb2xvcnM6IHtcbiAgICAgIGJhY2tncm91bmQ6IHtcbiAgICAgICAgbGlnaHQ6ICcjZmZmZmZmJyxcbiAgICAgICAgZGFyazogJyMwMDAwMDAnXG4gICAgICB9XG4gICAgfSxcbiAgICBmb250OiB7XG4gICAgICBmYW1pbHk6IFwiLWFwcGxlLXN5c3RlbSxcXG4gICAgICAgICBCbGlua01hY1N5c3RlbUZvbnQsIFxcbiAgICAgICAgIFxcXCJTZWdvZSBVSVxcXCIsIFxcbiAgICAgICAgIFJvYm90bywgXFxuICAgICAgICAgT3h5Z2VuLCBcXG4gICAgICAgICBVYnVudHUsIFxcbiAgICAgICAgIENhbnRhcmVsbCwgXFxuICAgICAgICAgXFxcIkZpcmEgU2Fuc1xcXCIsIFxcbiAgICAgICAgIFxcXCJEcm9pZCBTYW5zXFxcIiwgIFxcbiAgICAgICAgIFxcXCJIZWx2ZXRpY2EgTmV1ZVxcXCIsIFxcbiAgICAgICAgIEFyaWFsLCBzYW5zLXNlcmlmLCAgXFxuICAgICAgICAgXFxcIkFwcGxlIENvbG9yIEVtb2ppXFxcIiwgXFxuICAgICAgICAgXFxcIlNlZ29lIFVJIEVtb2ppXFxcIiwgXFxuICAgICAgICAgXFxcIlNlZ29lIFVJIFN5bWJvbFxcXCJcIlxuICAgIH1cbiAgfSxcbiAgYnV0dG9uOiB7XG4gICAgZXh0ZW5kOiBjc3MoW1wiXCIsIFwiXCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgIHJldHVybiAhcHJvcHMucGxhaW4gJiYgJ2ZvbnQtd2VpZ2h0OiBib2xkOyc7XG4gICAgfSlcbiAgfVxufSk7IiwiZXhwb3J0IHsgYmFzZSwgZ2VuZXJhdGUgfSBmcm9tICcuL2Jhc2UnO1xuZXhwb3J0IHsgZ3JvbW1ldCB9IGZyb20gJy4vZ3JvbW1ldCc7XG5leHBvcnQgeyBkYXJrIH0gZnJvbSAnLi9kYXJrJzsiLCJleHBvcnQgdmFyIGZpbHRlckJ5Rm9jdXNhYmxlID0gZnVuY3Rpb24gZmlsdGVyQnlGb2N1c2FibGUoZWxlbWVudHMpIHtcbiAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5maWx0ZXIuY2FsbChlbGVtZW50cyB8fCBbXSwgZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICB2YXIgY3VycmVudFRhZyA9IGVsZW1lbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIHZhciB2YWxpZFRhZ3MgPSAvKHN2Z3xhfGFyZWF8aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbnxpZnJhbWV8ZGl2KSQvO1xuICAgIHZhciBpc1ZhbGlkVGFnID0gY3VycmVudFRhZy5tYXRjaCh2YWxpZFRhZ3MpICYmIGVsZW1lbnQuZm9jdXM7XG5cbiAgICBpZiAoY3VycmVudFRhZyA9PT0gJ2EnKSB7XG4gICAgICByZXR1cm4gaXNWYWxpZFRhZyAmJiBlbGVtZW50LmNoaWxkTm9kZXMubGVuZ3RoID4gMCAmJiBlbGVtZW50LmdldEF0dHJpYnV0ZSgnaHJlZicpO1xuICAgIH1cblxuICAgIGlmIChjdXJyZW50VGFnID09PSAnc3ZnJyB8fCBjdXJyZW50VGFnID09PSAnZGl2Jykge1xuICAgICAgcmV0dXJuIGlzVmFsaWRUYWcgJiYgZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ3RhYmluZGV4JykgJiYgZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JykgIT09ICctMSc7XG4gICAgfVxuXG4gICAgcmV0dXJuIGlzVmFsaWRUYWc7XG4gIH0pO1xufTtcbmV4cG9ydCB2YXIgZmluZFNjcm9sbFBhcmVudHMgPSBmdW5jdGlvbiBmaW5kU2Nyb2xsUGFyZW50cyhlbGVtZW50LCBob3Jpem9udGFsKSB7XG4gIHZhciByZXN1bHQgPSBbXTtcblxuICBpZiAoZWxlbWVudCkge1xuICAgIHZhciBwYXJlbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XG5cbiAgICB3aGlsZSAocGFyZW50ICYmIHBhcmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QpIHtcbiAgICAgIHZhciByZWN0ID0gcGFyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOyAvLyAxMHB4IGlzIHRvIGFjY291bnQgZm9yIGJvcmRlcnMgYW5kIHNjcm9sbGJhcnMgaW4gYSBsYXp5IHdheVxuXG4gICAgICBpZiAoaG9yaXpvbnRhbCkge1xuICAgICAgICBpZiAocmVjdC53aWR0aCAmJiBwYXJlbnQuc2Nyb2xsV2lkdGggPiByZWN0LndpZHRoICsgMTApIHtcbiAgICAgICAgICByZXN1bHQucHVzaChwYXJlbnQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHJlY3QuaGVpZ2h0ICYmIHBhcmVudC5zY3JvbGxIZWlnaHQgPiByZWN0LmhlaWdodCArIDEwKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKHBhcmVudCk7XG4gICAgICB9XG5cbiAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnROb2RlO1xuICAgIH0gLy8gbGFzdCBzY3JvbGxhYmxlIGVsZW1lbnQgd2lsbCBiZSB0aGUgZG9jdW1lbnRcbiAgICAvLyBpZiBub3RoaW5nIGVsc2UgaXMgc2Nyb2xsYWJsZSBpbiB0aGUgcGFnZVxuXG5cbiAgICBpZiAocmVzdWx0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmVzdWx0LnB1c2goZG9jdW1lbnQpO1xuICAgIH0gZWxzZSBpZiAocmVzdWx0WzBdLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ2JvZHknKSB7XG4gICAgICByZXN1bHQubGVuZ3RoID0gMDtcbiAgICAgIHJlc3VsdC5wdXNoKGRvY3VtZW50KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufTtcbmV4cG9ydCB2YXIgZ2V0Rmlyc3RGb2N1c2FibGVEZXNjZW5kYW50ID0gZnVuY3Rpb24gZ2V0Rmlyc3RGb2N1c2FibGVEZXNjZW5kYW50KGVsZW1lbnQpIHtcbiAgdmFyIGNoaWxkcmVuID0gZWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnKicpO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpICs9IDEpIHtcbiAgICB2YXIgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICB2YXIgdGFnTmFtZSA9IGNoaWxkLnRhZ05hbWUudG9Mb3dlckNhc2UoKTtcblxuICAgIGlmICh0YWdOYW1lID09PSAnaW5wdXQnIHx8IHRhZ05hbWUgPT09ICdzZWxlY3QnKSB7XG4gICAgICByZXR1cm4gY2hpbGQ7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn07XG5leHBvcnQgdmFyIGdldEJvZHlDaGlsZEVsZW1lbnRzID0gZnVuY3Rpb24gZ2V0Qm9keUNoaWxkRWxlbWVudHMoKSB7XG4gIHZhciBleGNsdWRlTWF0Y2ggPSAvXihzY3JpcHR8bGluaykkL2k7XG4gIHZhciBjaGlsZHJlbiA9IFtdO1xuICBbXS5mb3JFYWNoLmNhbGwoZG9jdW1lbnQuYm9keS5jaGlsZHJlbiwgZnVuY3Rpb24gKG5vZGUpIHtcbiAgICBpZiAoIWV4Y2x1ZGVNYXRjaC50ZXN0KG5vZGUudGFnTmFtZSkpIHtcbiAgICAgIGNoaWxkcmVuLnB1c2gobm9kZSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGNoaWxkcmVuO1xufTtcbmV4cG9ydCB2YXIgZ2V0TmV3Q29udGFpbmVyID0gZnVuY3Rpb24gZ2V0TmV3Q29udGFpbmVyKCkge1xuICAvLyBzZXR1cCBET01cbiAgdmFyIGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG4gIHJldHVybiBjb250YWluZXI7XG59O1xuZXhwb3J0IHZhciBzZXRGb2N1c1dpdGhvdXRTY3JvbGwgPSBmdW5jdGlvbiBzZXRGb2N1c1dpdGhvdXRTY3JvbGwoZWxlbWVudCkge1xuICB2YXIgeCA9IHdpbmRvdy5zY3JvbGxYO1xuICB2YXIgeSA9IHdpbmRvdy5zY3JvbGxZO1xuICBlbGVtZW50LmZvY3VzKCk7XG4gIHdpbmRvdy5zY3JvbGxUbyh4LCB5KTtcbn07XG5leHBvcnQgdmFyIHNldFRhYkluZGV4ID0gZnVuY3Rpb24gc2V0VGFiSW5kZXgodGFiSW5kZXgpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgdGFiSW5kZXgpO1xuICB9O1xufTtcbmV4cG9ydCB2YXIgY29weUF0dHJpYnV0ZSA9IGZ1bmN0aW9uIGNvcHlBdHRyaWJ1dGUoc291cmNlKSB7XG4gIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSh0YXJnZXQsIGVsZW1lbnQuZ2V0QXR0cmlidXRlKHNvdXJjZSkpO1xuICAgIH07XG4gIH07XG59O1xuXG52YXIgZGVsZXRlQXR0cmlidXRlID0gZnVuY3Rpb24gZGVsZXRlQXR0cmlidXRlKGF0dHJpYnV0ZSkge1xuICByZXR1cm4gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICByZXR1cm4gZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoYXR0cmlidXRlKTtcbiAgfTtcbn07XG5cbnZhciB1bnNldFRhYkluZGV4ID0gc2V0VGFiSW5kZXgoLTEpO1xudmFyIHNhdmVUYWJJbmRleCA9IGNvcHlBdHRyaWJ1dGUoJ3RhYmluZGV4JykoJ2RhdGEtZy10YWJpbmRleCcpO1xudmFyIHJlc3RvcmVUYWJJbmRleCA9IGNvcHlBdHRyaWJ1dGUoJ2RhdGEtZy10YWJpbmRleCcpKCd0YWJpbmRleCcpO1xudmFyIGRlbGV0ZVRhYkluZGV4ID0gZGVsZXRlQXR0cmlidXRlKCd0YWJpbmRleCcpO1xudmFyIGRlbGV0ZVRhYkluZGV4Q29weSA9IGRlbGV0ZUF0dHJpYnV0ZSgnZGF0YS1nLXRhYmluZGV4Jyk7XG5leHBvcnQgdmFyIG1ha2VOb2RlRm9jdXNhYmxlID0gZnVuY3Rpb24gbWFrZU5vZGVGb2N1c2FibGUobm9kZSkge1xuICAvLyBkbyBub3QgdG91Y2ggYXJpYSBsaXZlIGNvbnRhaW5lcnMgc28gdGhhdCBhbm5vdW5jZW1lbnRzIHdvcmtcbiAgaWYgKCFub2RlLmhhc0F0dHJpYnV0ZSgnYXJpYS1saXZlJykpIHtcbiAgICBub2RlLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCBmYWxzZSk7IC8vIGFsbG93IGNoaWxkcmVuIHRvIHJlY2VpdmUgZm9jdXMgYWdhaW5cblxuICAgIGZpbHRlckJ5Rm9jdXNhYmxlKG5vZGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJyonKSkuZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgIGlmIChjaGlsZC5oYXNBdHRyaWJ1dGUoJ2RhdGEtZy10YWJpbmRleCcpKSB7XG4gICAgICAgIHJlc3RvcmVUYWJJbmRleChjaGlsZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZWxldGVUYWJJbmRleChjaGlsZCk7XG4gICAgICB9XG5cbiAgICAgIGRlbGV0ZVRhYkluZGV4Q29weShjaGlsZCk7XG4gICAgfSk7XG4gIH1cbn07XG5leHBvcnQgdmFyIG1ha2VOb2RlVW5mb2N1c2FibGUgPSBmdW5jdGlvbiBtYWtlTm9kZVVuZm9jdXNhYmxlKG5vZGUpIHtcbiAgLy8gZG8gbm90IHRvdWNoIGFyaWEgbGl2ZSBjb250YWluZXJzIHNvIHRoYXQgYW5ub3VuY2VtZW50cyB3b3JrXG4gIGlmICghbm9kZS5oYXNBdHRyaWJ1dGUoJ2FyaWEtbGl2ZScpKSB7XG4gICAgbm9kZS5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgdHJ1ZSk7IC8vIHByZXZlbnQgY2hpbGRyZW4gdG8gcmVjZWl2ZSBmb2N1c1xuXG4gICAgZmlsdGVyQnlGb2N1c2FibGUobm9kZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnKicpKS5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgaWYgKGNoaWxkLmhhc0F0dHJpYnV0ZSgndGFiaW5kZXgnKSkge1xuICAgICAgICBzYXZlVGFiSW5kZXgoY2hpbGQpO1xuICAgICAgfVxuXG4gICAgICB1bnNldFRhYkluZGV4KGNoaWxkKTtcbiAgICB9KTtcbiAgfVxufTtcbmV4cG9ydCB2YXIgZmluZFZpc2libGVQYXJlbnQgPSBmdW5jdGlvbiBmaW5kVmlzaWJsZVBhcmVudChlbGVtZW50KSB7XG4gIGlmIChlbGVtZW50KSB7XG4gICAgcmV0dXJuIGVsZW1lbnQub2Zmc2V0UGFyZW50ID8gZWxlbWVudCA6IGZpbmRWaXNpYmxlUGFyZW50KGVsZW1lbnQucGFyZW50RWxlbWVudCkgfHwgZWxlbWVudDtcbiAgfVxuXG4gIHJldHVybiB1bmRlZmluZWQ7XG59O1xuZXhwb3J0IHZhciBpc05vZGVBZnRlclNjcm9sbCA9IGZ1bmN0aW9uIGlzTm9kZUFmdGVyU2Nyb2xsKG5vZGUsIHRhcmdldCkge1xuICBpZiAodGFyZ2V0ID09PSB2b2lkIDApIHtcbiAgICB0YXJnZXQgPSB3aW5kb3c7XG4gIH1cblxuICB2YXIgX25vZGUkZ2V0Qm91bmRpbmdDbGllID0gbm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgIGJvdHRvbSA9IF9ub2RlJGdldEJvdW5kaW5nQ2xpZS5ib3R0b207XG5cbiAgdmFyIF90YXJnZXQkZ2V0Qm91bmRpbmdDbCA9IHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgIGhlaWdodCA9IF90YXJnZXQkZ2V0Qm91bmRpbmdDbC5oZWlnaHQsXG4gICAgICB0b3AgPSBfdGFyZ2V0JGdldEJvdW5kaW5nQ2wudG9wO1xuXG4gIHJldHVybiBib3R0b20gPj0gdG9wICsgaGVpZ2h0O1xufTtcbmV4cG9ydCB2YXIgaXNOb2RlQmVmb3JlU2Nyb2xsID0gZnVuY3Rpb24gaXNOb2RlQmVmb3JlU2Nyb2xsKG5vZGUsIHRhcmdldCkge1xuICBpZiAodGFyZ2V0ID09PSB2b2lkIDApIHtcbiAgICB0YXJnZXQgPSB3aW5kb3c7XG4gIH1cblxuICB2YXIgX25vZGUkZ2V0Qm91bmRpbmdDbGllMiA9IG5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXG4gICAgICB0b3AgPSBfbm9kZSRnZXRCb3VuZGluZ0NsaWUyLnRvcDtcblxuICB2YXIgX3RhcmdldCRnZXRCb3VuZGluZ0NsMiA9IHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgIHRhcmdldFRvcCA9IF90YXJnZXQkZ2V0Qm91bmRpbmdDbDIudG9wO1xuXG4gIHJldHVybiB0b3AgPD0gdGFyZ2V0VG9wO1xufTsiLCJpbXBvcnQgeyBjc3MgfSBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBjb2xvcklzRGFyaywgZ2V0UkdCQSwgbm9ybWFsaXplQ29sb3IgfSBmcm9tICcuL2NvbG9ycyc7XG5pbXBvcnQgeyBldmFsU3R5bGUgfSBmcm9tICcuL3N0eWxlcyc7XG5leHBvcnQgdmFyIG5vcm1hbGl6ZUJhY2tncm91bmQgPSBmdW5jdGlvbiBub3JtYWxpemVCYWNrZ3JvdW5kKGJhY2tncm91bmQsIHRoZW1lKSB7XG4gIC8vIElmIHRoZSBiYWNrZ3JvdW5kIGhhcyBhIGxpZ2h0IG9yIGRhcmsgb2JqZWN0LCB1c2UgdGhhdFxuICB2YXIgcmVzdWx0ID0gYmFja2dyb3VuZDtcblxuICBpZiAoYmFja2dyb3VuZCkge1xuICAgIGlmICh0aGVtZS5kYXJrICYmIGJhY2tncm91bmQuZGFyayAmJiB0eXBlb2YgYmFja2dyb3VuZC5kYXJrICE9PSAnYm9vbGVhbicpIHtcbiAgICAgIHJlc3VsdCA9IGJhY2tncm91bmQuZGFyaztcbiAgICB9IGVsc2UgaWYgKCF0aGVtZS5kYXJrICYmIGJhY2tncm91bmQubGlnaHQgJiYgdHlwZW9mIGJhY2tncm91bmQubGlnaHQgIT09ICdib29sZWFuJykge1xuICAgICAgcmVzdWx0ID0gYmFja2dyb3VuZC5saWdodDtcbiAgICB9XG5cbiAgICByZXN1bHQgPSBldmFsU3R5bGUocmVzdWx0LCB0aGVtZSk7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufTtcbmV4cG9ydCB2YXIgYmFja2dyb3VuZElzRGFyayA9IGZ1bmN0aW9uIGJhY2tncm91bmRJc0RhcmsoYmFja2dyb3VuZEFyZywgdGhlbWUpIHtcbiAgdmFyIGJhY2tncm91bmQgPSBub3JtYWxpemVCYWNrZ3JvdW5kKGJhY2tncm91bmRBcmcsIHRoZW1lKTtcbiAgdmFyIHJlc3VsdDtcblxuICBpZiAoYmFja2dyb3VuZCkge1xuICAgIGlmICh0eXBlb2YgYmFja2dyb3VuZCA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHZhciBjb2xvciA9IGJhY2tncm91bmQuY29sb3IsXG4gICAgICAgICAgZGFyayA9IGJhY2tncm91bmQuZGFyayxcbiAgICAgICAgICBvcGFjaXR5ID0gYmFja2dyb3VuZC5vcGFjaXR5O1xuXG4gICAgICBpZiAodHlwZW9mIGRhcmsgPT09ICdib29sZWFuJykge1xuICAgICAgICByZXN1bHQgPSBkYXJrO1xuICAgICAgfSBlbHNlIGlmIChjb2xvciAmJiAoIC8vIHdlYWsgb3BhY2l0eSBtZWFucyB3ZSBrZWVwIHRoZSBleGlzdGluZyBkYXJrbmVzc1xuICAgICAgIW9wYWNpdHkgfHwgb3BhY2l0eSAhPT0gJ3dlYWsnKSkge1xuICAgICAgICB2YXIgYmFja2dyb3VuZENvbG9yID0gbm9ybWFsaXplQ29sb3IoYmFja2dyb3VuZC5jb2xvciwgdGhlbWUpO1xuXG4gICAgICAgIGlmIChiYWNrZ3JvdW5kQ29sb3IpIHtcbiAgICAgICAgICByZXN1bHQgPSBjb2xvcklzRGFyayhiYWNrZ3JvdW5kQ29sb3IpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBfY29sb3IgPSBub3JtYWxpemVDb2xvcihiYWNrZ3JvdW5kLCB0aGVtZSk7XG5cbiAgICAgIGlmIChfY29sb3IpIHtcbiAgICAgICAgcmVzdWx0ID0gY29sb3JJc0RhcmsoX2NvbG9yKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufTtcbmV4cG9ydCB2YXIgYmFja2dyb3VuZFN0eWxlID0gZnVuY3Rpb24gYmFja2dyb3VuZFN0eWxlKGJhY2tncm91bmRBcmcsIHRoZW1lLCB0ZXh0Q29sb3JBcmcpIHtcbiAgLy8gSWYgdGhlIGJhY2tncm91bmQgaGFzIGEgbGlnaHQgb3IgZGFyayBvYmplY3QsIHVzZSB0aGF0XG4gIHZhciBiYWNrZ3JvdW5kID0gbm9ybWFsaXplQmFja2dyb3VuZChiYWNrZ3JvdW5kQXJnLCB0aGVtZSk7XG4gIHZhciB0ZXh0Q29sb3IgPSB0ZXh0Q29sb3JBcmcgfHwgdGhlbWUuZ2xvYmFsLmNvbG9ycy50ZXh0O1xuXG4gIGlmICh0eXBlb2YgYmFja2dyb3VuZCA9PT0gJ29iamVjdCcpIHtcbiAgICB2YXIgc3R5bGVzID0gW107XG5cbiAgICBpZiAoYmFja2dyb3VuZC5pbWFnZSkge1xuICAgICAgdmFyIGNvbG9yO1xuXG4gICAgICBpZiAoYmFja2dyb3VuZC5kYXJrID09PSBmYWxzZSkge1xuICAgICAgICBjb2xvciA9IG5vcm1hbGl6ZUNvbG9yKHRleHRDb2xvci5saWdodCB8fCB0ZXh0Q29sb3IsIHRoZW1lKTtcbiAgICAgIH0gZWxzZSBpZiAoYmFja2dyb3VuZC5kYXJrKSB7XG4gICAgICAgIGNvbG9yID0gbm9ybWFsaXplQ29sb3IodGV4dENvbG9yLmRhcmsgfHwgdGV4dENvbG9yLCB0aGVtZSk7XG4gICAgICB9IGVsc2UgaWYgKCF0ZXh0Q29sb3JBcmcpIHtcbiAgICAgICAgY29sb3IgPSAnaW5oZXJpdCc7XG4gICAgICB9XG5cbiAgICAgIHN0eWxlcy5wdXNoKGNzcyhbXCJiYWNrZ3JvdW5kLWltYWdlOlwiLCBcIjtiYWNrZ3JvdW5kLXJlcGVhdDpcIiwgXCI7YmFja2dyb3VuZC1wb3NpdGlvbjpcIiwgXCI7YmFja2dyb3VuZC1zaXplOlwiLCBcIjtjb2xvcjpcIiwgXCI7XCJdLCBiYWNrZ3JvdW5kLmltYWdlLCBiYWNrZ3JvdW5kLnJlcGVhdCB8fCAnbm8tcmVwZWF0JywgYmFja2dyb3VuZC5wb3NpdGlvbiB8fCAnY2VudGVyIGNlbnRlcicsIGJhY2tncm91bmQuc2l6ZSB8fCAnY292ZXInLCBjb2xvcikpO1xuICAgIH1cblxuICAgIGlmIChiYWNrZ3JvdW5kLmNvbG9yKSB7XG4gICAgICB2YXIgX2NvbG9yMiA9IG5vcm1hbGl6ZUNvbG9yKGJhY2tncm91bmQuY29sb3IsIHRoZW1lKTtcblxuICAgICAgdmFyIGJhY2tncm91bmRDb2xvciA9IGdldFJHQkEoX2NvbG9yMiwgYmFja2dyb3VuZC5vcGFjaXR5ID09PSB0cnVlID8gdGhlbWUuZ2xvYmFsLm9wYWNpdHkubWVkaXVtIDogdGhlbWUuZ2xvYmFsLm9wYWNpdHlbYmFja2dyb3VuZC5vcGFjaXR5XSB8fCBiYWNrZ3JvdW5kLm9wYWNpdHkpIHx8IF9jb2xvcjI7XG5cbiAgICAgIHN0eWxlcy5wdXNoKGNzcyhbXCJiYWNrZ3JvdW5kLWNvbG9yOlwiLCBcIjtcIiwgXCJcIl0sIGJhY2tncm91bmRDb2xvciwgKCFiYWNrZ3JvdW5kLm9wYWNpdHkgfHwgYmFja2dyb3VuZC5vcGFjaXR5ICE9PSAnd2VhaycpICYmIFwiY29sb3I6IFwiICsgbm9ybWFsaXplQ29sb3IodGV4dENvbG9yW2JhY2tncm91bmQuZGFyayB8fCBjb2xvcklzRGFyayhiYWNrZ3JvdW5kQ29sb3IpID8gJ2RhcmsnIDogJ2xpZ2h0J10gfHwgdGV4dENvbG9yLCB0aGVtZSkgKyBcIjtcIikpO1xuICAgIH1cblxuICAgIGlmIChiYWNrZ3JvdW5kLmRhcmsgPT09IGZhbHNlKSB7XG4gICAgICBzdHlsZXMucHVzaChjc3MoW1wiY29sb3I6XCIsIFwiO1wiXSwgdGV4dENvbG9yLmxpZ2h0IHx8IHRleHRDb2xvcikpO1xuICAgIH0gZWxzZSBpZiAoYmFja2dyb3VuZC5kYXJrKSB7XG4gICAgICBzdHlsZXMucHVzaChjc3MoW1wiY29sb3I6XCIsIFwiO1wiXSwgdGV4dENvbG9yLmRhcmsgfHwgdGV4dENvbG9yKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0eWxlcztcbiAgfVxuXG4gIGlmIChiYWNrZ3JvdW5kKSB7XG4gICAgaWYgKGJhY2tncm91bmQubGFzdEluZGV4T2YoJ3VybCcsIDApID09PSAwKSB7XG4gICAgICByZXR1cm4gY3NzKFtcImJhY2tncm91bmQ6XCIsIFwiIG5vLXJlcGVhdCBjZW50ZXIgY2VudGVyO2JhY2tncm91bmQtc2l6ZTpjb3ZlcjtcIl0sIGJhY2tncm91bmQpO1xuICAgIH1cblxuICAgIHZhciBfYmFja2dyb3VuZENvbG9yID0gbm9ybWFsaXplQ29sb3IoYmFja2dyb3VuZCwgdGhlbWUpO1xuXG4gICAgaWYgKF9iYWNrZ3JvdW5kQ29sb3IpIHtcbiAgICAgIHJldHVybiBjc3MoW1wiYmFja2dyb3VuZDpcIiwgXCI7Y29sb3I6XCIsIFwiO1wiXSwgX2JhY2tncm91bmRDb2xvciwgbm9ybWFsaXplQ29sb3IodGV4dENvbG9yW2NvbG9ySXNEYXJrKF9iYWNrZ3JvdW5kQ29sb3IpID8gJ2RhcmsnIDogJ2xpZ2h0J10gfHwgdGV4dENvbG9yLCB0aGVtZSkpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB1bmRlZmluZWQ7XG59O1xuZXhwb3J0IHZhciBhY3RpdmVTdHlsZSA9IGNzcyhbXCJcIiwgXCJcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gYmFja2dyb3VuZFN0eWxlKG5vcm1hbGl6ZUNvbG9yKHByb3BzLnRoZW1lLmdsb2JhbC5hY3RpdmUuYmFja2dyb3VuZCwgcHJvcHMudGhlbWUpLCBwcm9wcy50aGVtZSwgcHJvcHMudGhlbWUuZ2xvYmFsLmFjdGl2ZS5jb2xvcik7XG59KTtcbmV4cG9ydCB2YXIgc2VsZWN0ZWRTdHlsZSA9IGNzcyhbXCJcIiwgXCJcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gYmFja2dyb3VuZFN0eWxlKG5vcm1hbGl6ZUNvbG9yKHByb3BzLnRoZW1lLmdsb2JhbC5zZWxlY3RlZC5iYWNrZ3JvdW5kLCBwcm9wcy50aGVtZSksIHByb3BzLnRoZW1lLCBwcm9wcy50aGVtZS5nbG9iYWwuc2VsZWN0ZWQuY29sb3IpO1xufSk7XG5leHBvcnQgdmFyIGdldEhvdmVySW5kaWNhdG9yU3R5bGUgPSBmdW5jdGlvbiBnZXRIb3ZlckluZGljYXRvclN0eWxlKGhvdmVySW5kaWNhdG9yLCB0aGVtZSkge1xuICB2YXIgYmFja2dyb3VuZDtcblxuICBpZiAoaG92ZXJJbmRpY2F0b3IgPT09IHRydWUgfHwgaG92ZXJJbmRpY2F0b3IgPT09ICdiYWNrZ3JvdW5kJykge1xuICAgIGJhY2tncm91bmQgPSB0aGVtZS5nbG9iYWwuaG92ZXIuYmFja2dyb3VuZDtcbiAgfSBlbHNlIHtcbiAgICBiYWNrZ3JvdW5kID0gaG92ZXJJbmRpY2F0b3I7XG4gIH1cblxuICByZXR1cm4gY3NzKFtcIlwiLCBcIlwiXSwgYmFja2dyb3VuZFN0eWxlKGJhY2tncm91bmQsIHRoZW1lLCB0aGVtZS5nbG9iYWwuaG92ZXIuY29sb3IpKTtcbn07IiwiaW1wb3J0IHsgY3NzIH0gZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgbm9ybWFsaXplQ29sb3IgfSBmcm9tICcuL2NvbG9ycyc7XG5pbXBvcnQgeyBicmVha3BvaW50U3R5bGUgfSBmcm9tICcuL21peGlucyc7XG5leHBvcnQgdmFyIGJvcmRlclN0eWxlID0gZnVuY3Rpb24gYm9yZGVyU3R5bGUoZGF0YSwgcmVzcG9uc2l2ZSwgdGhlbWUpIHtcbiAgdmFyIHN0eWxlcyA9IFtdO1xuICB2YXIgY29sb3IgPSBub3JtYWxpemVDb2xvcihkYXRhLmNvbG9yIHx8ICdib3JkZXInLCB0aGVtZSk7XG4gIHZhciBib3JkZXJTaXplID0gZGF0YS5zaXplIHx8ICd4c21hbGwnO1xuICB2YXIgc3R5bGUgPSBkYXRhLnN0eWxlIHx8ICdzb2xpZCc7XG4gIHZhciBzaWRlID0gdHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnID8gZGF0YSA6IGRhdGEuc2lkZSB8fCAnYWxsJztcbiAgdmFyIHZhbHVlID0gc3R5bGUgKyBcIiBcIiArICh0aGVtZS5nbG9iYWwuYm9yZGVyU2l6ZVtib3JkZXJTaXplXSB8fCBib3JkZXJTaXplKSArIFwiIFwiICsgY29sb3I7XG4gIHZhciBicmVha3BvaW50ID0gdGhlbWUuYm94LnJlc3BvbnNpdmVCcmVha3BvaW50ICYmIHRoZW1lLmdsb2JhbC5icmVha3BvaW50c1t0aGVtZS5ib3gucmVzcG9uc2l2ZUJyZWFrcG9pbnRdO1xuICB2YXIgcmVzcG9uc2l2ZVZhbHVlID0gcmVzcG9uc2l2ZSAmJiBicmVha3BvaW50ICYmIChicmVha3BvaW50LmJvcmRlclNpemVbYm9yZGVyU2l6ZV0gfHwgYm9yZGVyU2l6ZSkgJiYgc3R5bGUgKyBcIiBcIiArIChicmVha3BvaW50LmJvcmRlclNpemVbYm9yZGVyU2l6ZV0gfHwgYm9yZGVyU2l6ZSkgKyBcIiBcIiArIGNvbG9yO1xuXG4gIGlmIChzaWRlID09PSAndG9wJyB8fCBzaWRlID09PSAnYm90dG9tJyB8fCBzaWRlID09PSAnbGVmdCcgfHwgc2lkZSA9PT0gJ3JpZ2h0Jykge1xuICAgIHN0eWxlcy5wdXNoKGNzcyhbXCJib3JkZXItXCIsIFwiOlwiLCBcIjtcIl0sIHNpZGUsIHZhbHVlKSk7XG5cbiAgICBpZiAocmVzcG9uc2l2ZVZhbHVlKSB7XG4gICAgICBzdHlsZXMucHVzaChicmVha3BvaW50U3R5bGUoYnJlYWtwb2ludCwgXCJcXG4gICAgICAgIGJvcmRlci1cIiArIHNpZGUgKyBcIjogXCIgKyByZXNwb25zaXZlVmFsdWUgKyBcIjtcXG4gICAgICBcIikpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChzaWRlID09PSAndmVydGljYWwnKSB7XG4gICAgc3R5bGVzLnB1c2goY3NzKFtcImJvcmRlci1sZWZ0OlwiLCBcIjtib3JkZXItcmlnaHQ6XCIsIFwiO1wiXSwgdmFsdWUsIHZhbHVlKSk7XG5cbiAgICBpZiAocmVzcG9uc2l2ZVZhbHVlKSB7XG4gICAgICBzdHlsZXMucHVzaChicmVha3BvaW50U3R5bGUoYnJlYWtwb2ludCwgXCJcXG4gICAgICAgIGJvcmRlci1sZWZ0OiBcIiArIHJlc3BvbnNpdmVWYWx1ZSArIFwiO1xcbiAgICAgICAgYm9yZGVyLXJpZ2h0OiBcIiArIHJlc3BvbnNpdmVWYWx1ZSArIFwiO1xcbiAgICAgIFwiKSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKHNpZGUgPT09ICdob3Jpem9udGFsJykge1xuICAgIHN0eWxlcy5wdXNoKGNzcyhbXCJib3JkZXItdG9wOlwiLCBcIjtib3JkZXItYm90dG9tOlwiLCBcIjtcIl0sIHZhbHVlLCB2YWx1ZSkpO1xuXG4gICAgaWYgKHJlc3BvbnNpdmVWYWx1ZSkge1xuICAgICAgc3R5bGVzLnB1c2goYnJlYWtwb2ludFN0eWxlKGJyZWFrcG9pbnQsIFwiXFxuICAgICAgICBib3JkZXItdG9wOiBcIiArIHJlc3BvbnNpdmVWYWx1ZSArIFwiO1xcbiAgICAgICAgYm9yZGVyLWJvdHRvbTogXCIgKyByZXNwb25zaXZlVmFsdWUgKyBcIjtcXG4gICAgICBcIikpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBzdHlsZXMucHVzaChjc3MoW1wiYm9yZGVyOlwiLCBcIjtcIl0sIHZhbHVlKSk7XG5cbiAgICBpZiAocmVzcG9uc2l2ZVZhbHVlKSB7XG4gICAgICBzdHlsZXMucHVzaChicmVha3BvaW50U3R5bGUoYnJlYWtwb2ludCwgXCJib3JkZXI6IFwiICsgcmVzcG9uc2l2ZVZhbHVlICsgXCI7XCIpKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gc3R5bGVzO1xufTsiLCJleHBvcnQgdmFyIG5vcm1hbGl6ZUNvbG9yID0gZnVuY3Rpb24gbm9ybWFsaXplQ29sb3IoY29sb3IsIHRoZW1lLCByZXF1aXJlZCkge1xuICB2YXIgY29sb3JTcGVjID0gdGhlbWUuZ2xvYmFsLmNvbG9yc1tjb2xvcl0gIT09IHVuZGVmaW5lZCA/IHRoZW1lLmdsb2JhbC5jb2xvcnNbY29sb3JdIDogY29sb3I7IC8vIElmIHRoZSBjb2xvciBoYXMgYSBsaWdodCBvciBkYXJrIG9iamVjdCwgdXNlIHRoYXRcblxuICB2YXIgcmVzdWx0ID0gY29sb3JTcGVjO1xuXG4gIGlmIChjb2xvclNwZWMpIHtcbiAgICBpZiAodGhlbWUuZGFyayAmJiBjb2xvclNwZWMuZGFyayAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXN1bHQgPSBjb2xvclNwZWMuZGFyaztcbiAgICB9IGVsc2UgaWYgKCF0aGVtZS5kYXJrICYmIGNvbG9yU3BlYy5saWdodCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXN1bHQgPSBjb2xvclNwZWMubGlnaHQ7XG4gICAgfVxuICB9IC8vIGFsbG93IG9uZSBsZXZlbCBvZiBpbmRpcmVjdGlvbiBpbiBjb2xvciBuYW1lc1xuXG5cbiAgaWYgKHJlc3VsdCAmJiB0aGVtZS5nbG9iYWwuY29sb3JzW3Jlc3VsdF0gIT09IHVuZGVmaW5lZCkge1xuICAgIHJlc3VsdCA9IG5vcm1hbGl6ZUNvbG9yKHJlc3VsdCwgdGhlbWUpO1xuICB9XG5cbiAgcmV0dXJuIHJlcXVpcmVkICYmIHJlc3VsdCA9PT0gY29sb3IgPyAnaW5oZXJpdCcgOiByZXN1bHQ7XG59O1xuXG52YXIgcGFyc2VIZXhUb1JHQiA9IGZ1bmN0aW9uIHBhcnNlSGV4VG9SR0IoY29sb3IpIHtcbiAgcmV0dXJuIGNvbG9yLmxlbmd0aCA8IDcgLy8gNyBpcyB3aGF0J3MgbmVlZGVkIGZvciAnI1JSR0dCQidcbiAgPyBjb2xvci5tYXRjaCgvW0EtWmEtejAtOV17MX0vZykubWFwKGZ1bmN0aW9uICh2KSB7XG4gICAgcmV0dXJuIHBhcnNlSW50KFwiXCIgKyB2ICsgdiwgMTYpO1xuICB9KSA6IC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS80MjQyOTMzM1xuICBjb2xvci5tYXRjaCgvW0EtWmEtejAtOV17Mn0vZykubWFwKGZ1bmN0aW9uICh2KSB7XG4gICAgcmV0dXJuIHBhcnNlSW50KHYsIDE2KTtcbiAgfSk7XG59OyAvLyBGcm9tOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvOTQ5MzA2MC84NTEzMDY3XG4vLyBDb252ZXJ0cyBhbiBIU0wgY29sb3IgdmFsdWUgdG8gUkdCLiBDb252ZXJzaW9uIGZvcm11bGFcbi8vIGFkYXB0ZWQgZnJvbSBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0hTTF9jb2xvcl9zcGFjZS5cbi8vIEFzc3VtZXMgaCwgcywgYW5kIGwgYXJlIGNvbnRhaW5lZCBpbiB0aGUgc2V0IFswLCAxXSBhbmRcbi8vIHJldHVybnMgciwgZywgYW5kIGIgaW4gdGhlIHNldCBbMCwgMjU1XS5cblxuXG52YXIgaHNsVG9SR0IgPSBmdW5jdGlvbiBoc2xUb1JHQihoLCBzLCBsKSB7XG4gIHZhciByO1xuICB2YXIgZztcbiAgdmFyIGI7XG5cbiAgaWYgKHMgPT09IDAgfHwgcyA9PT0gJzAnKSB7XG4gICAgLy8gYWNocm9tYXRpY1xuICAgIHIgPSBsO1xuICAgIGcgPSBsO1xuICAgIGIgPSBsO1xuICB9IGVsc2Uge1xuICAgIHZhciBodWUycmdiID0gZnVuY3Rpb24gaHVlMnJnYihwLCBxLCBpblQpIHtcbiAgICAgIHZhciB0ID0gaW5UO1xuICAgICAgaWYgKHQgPCAwKSB0ICs9IDE7XG4gICAgICBpZiAodCA+IDEpIHQgLT0gMTtcbiAgICAgIGlmICh0IDwgMC4xNjY2NjY2NykgcmV0dXJuIHAgKyAocSAtIHApICogNiAqIHQ7XG4gICAgICBpZiAodCA8IDEgLyAyKSByZXR1cm4gcTtcbiAgICAgIGlmICh0IDwgMC42NjY2NjY2NykgcmV0dXJuIHAgKyAocSAtIHApICogKDAuNjY2NjY2NjcgLSB0KSAqIDY7XG4gICAgICByZXR1cm4gcDtcbiAgICB9O1xuXG4gICAgdmFyIHEgPSBsIDwgMC41ID8gbCAqICgxICsgcykgOiBsICsgcyAtIGwgKiBzO1xuICAgIHZhciBwID0gMiAqIGwgLSBxO1xuICAgIHIgPSBodWUycmdiKHAsIHEsIGggKyAwLjMzMzMzMzMzKTtcbiAgICBnID0gaHVlMnJnYihwLCBxLCBoKTtcbiAgICBiID0gaHVlMnJnYihwLCBxLCBoIC0gMC4zMzMzMzMzMyk7XG4gIH1cblxuICByZXR1cm4gW01hdGgucm91bmQociAqIDI1NSksIE1hdGgucm91bmQoZyAqIDI1NSksIE1hdGgucm91bmQoYiAqIDI1NSldO1xufTsgLy8gYWxsb3cgZm9yIGFscGhhOiAjUkdCLCAjUkdCQSwgI1JSR0dCQiwgb3IgI1JSR0dCQkFBXG5cblxudmFyIGhleEV4cCA9IC9eI1tBLVphLXowLTldezMsNH0kfF4jW0EtWmEtejAtOV17Niw4fSQvO1xudmFyIHJnYkV4cCA9IC9yZ2JhP1xcKFxccz8oWzAtOV0qKVxccz8sXFxzPyhbMC05XSopXFxzPyxcXHM/KFswLTldKilcXHM/XFwpLztcbnZhciByZ2JhRXhwID0gL3JnYmE/XFwoXFxzPyhbMC05XSopXFxzPyxcXHM/KFswLTldKilcXHM/LFxccz8oWzAtOV0qKVxccz8sXFxzPyhbLjAtOV0qKVxccz9cXCkvOyAvLyBlLmcuIGhzbCgyNDAsIDYwJSwgNTAlKVxuXG52YXIgaHNsRXhwID0gL2hzbGE/XFwoXFxzPyhbMC05XSopXFxzPyxcXHM/KFswLTldKiklP1xccz8sXFxzPyhbMC05XSopJT9cXHM/Lio/XFwpLztcblxudmFyIGNhbkV4dHJhY3RSR0JBcnJheSA9IGZ1bmN0aW9uIGNhbkV4dHJhY3RSR0JBcnJheShjb2xvcikge1xuICByZXR1cm4gaGV4RXhwLnRlc3QoY29sb3IpIHx8IHJnYkV4cC50ZXN0KGNvbG9yKSB8fCByZ2JhRXhwLnRlc3QoY29sb3IpIHx8IGhzbEV4cC50ZXN0KGNvbG9yKTtcbn07XG5cbnZhciBnZXRSR0JBcnJheSA9IGZ1bmN0aW9uIGdldFJHQkFycmF5KGNvbG9yKSB7XG4gIGlmIChoZXhFeHAudGVzdChjb2xvcikpIHtcbiAgICB2YXIgX3BhcnNlSGV4VG9SR0IgPSBwYXJzZUhleFRvUkdCKGNvbG9yKSxcbiAgICAgICAgcmVkID0gX3BhcnNlSGV4VG9SR0JbMF0sXG4gICAgICAgIGdyZWVuID0gX3BhcnNlSGV4VG9SR0JbMV0sXG4gICAgICAgIGJsdWUgPSBfcGFyc2VIZXhUb1JHQlsyXSxcbiAgICAgICAgYWxwaGEgPSBfcGFyc2VIZXhUb1JHQlszXTtcblxuICAgIHJldHVybiBbcmVkLCBncmVlbiwgYmx1ZSwgYWxwaGEgIT09IHVuZGVmaW5lZCA/IGFscGhhIC8gMjU1LjAgOiB1bmRlZmluZWRdO1xuICB9XG5cbiAgdmFyIG1hdGNoID0gY29sb3IubWF0Y2gocmdiRXhwKTtcblxuICBpZiAobWF0Y2gpIHtcbiAgICByZXR1cm4gbWF0Y2guc3BsaWNlKDEpLm1hcChmdW5jdGlvbiAodikge1xuICAgICAgcmV0dXJuIHBhcnNlSW50KHYsIDEwKTtcbiAgICB9KTtcbiAgfVxuXG4gIG1hdGNoID0gY29sb3IubWF0Y2gocmdiYUV4cCk7XG5cbiAgaWYgKG1hdGNoKSB7XG4gICAgcmV0dXJuIG1hdGNoLnNwbGljZSgxKS5tYXAoZnVuY3Rpb24gKHYpIHtcbiAgICAgIHJldHVybiBwYXJzZUZsb2F0KHYsIDEwKTtcbiAgICB9KTtcbiAgfVxuXG4gIG1hdGNoID0gY29sb3IubWF0Y2goaHNsRXhwKTtcblxuICBpZiAobWF0Y2gpIHtcbiAgICB2YXIgX21hdGNoJHNwbGljZSRtYXAgPSBtYXRjaC5zcGxpY2UoMSkubWFwKGZ1bmN0aW9uICh2KSB7XG4gICAgICByZXR1cm4gcGFyc2VJbnQodiwgMTApO1xuICAgIH0pLFxuICAgICAgICBoID0gX21hdGNoJHNwbGljZSRtYXBbMF0sXG4gICAgICAgIHMgPSBfbWF0Y2gkc3BsaWNlJG1hcFsxXSxcbiAgICAgICAgbCA9IF9tYXRjaCRzcGxpY2UkbWFwWzJdO1xuXG4gICAgcmV0dXJuIGhzbFRvUkdCKGggLyAzNjAuMCwgcyAvIDEwMC4wLCBsIC8gMTAwLjApO1xuICB9XG5cbiAgcmV0dXJuIGNvbG9yO1xufTtcblxuZXhwb3J0IHZhciBjb2xvcklzRGFyayA9IGZ1bmN0aW9uIGNvbG9ySXNEYXJrKGNvbG9yKSB7XG4gIHZhciBfZ2V0UkdCQXJyYXkgPSBnZXRSR0JBcnJheShjb2xvciksXG4gICAgICByZWQgPSBfZ2V0UkdCQXJyYXlbMF0sXG4gICAgICBncmVlbiA9IF9nZXRSR0JBcnJheVsxXSxcbiAgICAgIGJsdWUgPSBfZ2V0UkdCQXJyYXlbMl0sXG4gICAgICBhbHBoYSA9IF9nZXRSR0JBcnJheVszXTsgLy8gaWYgdGhlcmUgaXMgYW4gYWxwaGEgYW5kIGl0J3MgZ3JlYXRlciB0aGFuIDUwJSwgd2UgY2FuJ3QgcmVhbGx5IHRlbGxcblxuXG4gIGlmIChhbHBoYSA8IDAuNSkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgdmFyIGJyaWdodG5lc3MgPSAoMjk5ICogcmVkICsgNTg3ICogZ3JlZW4gKyAxMTQgKiBibHVlKSAvIDEwMDA7IC8vIEZyb206IGh0dHA6Ly93d3cuaGFkMmtub3cuY29tL3RlY2hub2xvZ3kvY29sb3ItY29udHJhc3QtY2FsY3VsYXRvci13ZWItZGVzaWduLmh0bWxcbiAgLy8gQWJvdmUgZG9tYWluIGlzIG5vIGxvbmdlciByZWdpc3RlcmVkLlxuXG4gIHJldHVybiBicmlnaHRuZXNzIDwgMTI1O1xufTtcbmV4cG9ydCB2YXIgZ2V0UkdCQSA9IGZ1bmN0aW9uIGdldFJHQkEoY29sb3IsIG9wYWNpdHkpIHtcbiAgaWYgKGNvbG9yICYmIGNhbkV4dHJhY3RSR0JBcnJheShjb2xvcikpIHtcbiAgICB2YXIgX2dldFJHQkFycmF5MiA9IGdldFJHQkFycmF5KGNvbG9yKSxcbiAgICAgICAgcmVkID0gX2dldFJHQkFycmF5MlswXSxcbiAgICAgICAgZ3JlZW4gPSBfZ2V0UkdCQXJyYXkyWzFdLFxuICAgICAgICBibHVlID0gX2dldFJHQkFycmF5MlsyXSxcbiAgICAgICAgYWxwaGEgPSBfZ2V0UkdCQXJyYXkyWzNdO1xuXG4gICAgdmFyIG5vcm1hbGl6ZWRBbHBoYTtcblxuICAgIGlmIChvcGFjaXR5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIG5vcm1hbGl6ZWRBbHBoYSA9IG9wYWNpdHk7XG4gICAgfSBlbHNlIGlmIChhbHBoYSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBub3JtYWxpemVkQWxwaGEgPSBhbHBoYTtcbiAgICB9IGVsc2Uge1xuICAgICAgbm9ybWFsaXplZEFscGhhID0gMTtcbiAgICB9XG5cbiAgICByZXR1cm4gXCJyZ2JhKFwiICsgcmVkICsgXCIsIFwiICsgZ3JlZW4gKyBcIiwgXCIgKyBibHVlICsgXCIsIFwiICsgbm9ybWFsaXplZEFscGhhICsgXCIpXCI7XG4gIH1cblxuICByZXR1cm4gdW5kZWZpbmVkO1xufTsiLCJ2YXIgX3RoaXMgPSB0aGlzO1xuXG5leHBvcnQgdmFyIGRlYm91bmNlID0gZnVuY3Rpb24gZGVib3VuY2UoY2IsIHRpbWVyKSB7XG4gIHZhciB0aW1lb3V0O1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICB2YXIgY29udGV4dCA9IF90aGlzO1xuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICB0aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gY2IuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgfSwgdGltZXIpO1xuICB9O1xufTtcbmV4cG9ydCB2YXIgZGVib3VuY2VEZWxheSA9IGZ1bmN0aW9uIGRlYm91bmNlRGVsYXkoX3JlZikge1xuICB2YXIgdGhlbWUgPSBfcmVmLnRoZW1lO1xuICByZXR1cm4gdGhlbWUuZ2xvYmFsLmRlYm91bmNlRGVsYXk7XG59OyIsInZhciBQT1NUX0RFQ0lNQUxfRElHSVRTID0gMTA7XG5leHBvcnQgdmFyIGJhc2VVbml0ID0gMjQ7XG5leHBvcnQgdmFyIHBvbGFyVG9DYXJ0ZXNpYW4gPSBmdW5jdGlvbiBwb2xhclRvQ2FydGVzaWFuKGNlbnRlclgsIGNlbnRlclksIHJhZGl1cywgYW5nbGVJbkRlZ3JlZXMpIHtcbiAgdmFyIGFuZ2xlSW5SYWRpYW5zID0gKGFuZ2xlSW5EZWdyZWVzIC0gOTApICogTWF0aC5QSSAvIDE4MC4wO1xuICByZXR1cm4ge1xuICAgIHg6IGNlbnRlclggKyByYWRpdXMgKiBNYXRoLmNvcyhhbmdsZUluUmFkaWFucyksXG4gICAgeTogY2VudGVyWSArIHJhZGl1cyAqIE1hdGguc2luKGFuZ2xlSW5SYWRpYW5zKVxuICB9O1xufTtcbmV4cG9ydCB2YXIgYXJjQ29tbWFuZHMgPSBmdW5jdGlvbiBhcmNDb21tYW5kcyhjZW50ZXJYLCBjZW50ZXJZLCByYWRpdXMsIHN0YXJ0QW5nbGUsIGVuZEFuZ2xlKSB7XG4gIC8vIGhhbmRsZSB0aGF0IHdlIGNhbid0IGRyYXcgYSBjb21wbGV0ZSBjaXJjbGVcbiAgdmFyIG5vcm1hbGl6ZWRFbmRBbmdsZSA9IGVuZEFuZ2xlO1xuXG4gIGlmIChlbmRBbmdsZSAtIHN0YXJ0QW5nbGUgPj0gMzYwKSB7XG4gICAgbm9ybWFsaXplZEVuZEFuZ2xlID0gc3RhcnRBbmdsZSArIDM1OS45OTtcbiAgfVxuXG4gIHZhciBzdGFydCA9IHBvbGFyVG9DYXJ0ZXNpYW4oY2VudGVyWCwgY2VudGVyWSwgcmFkaXVzLCBub3JtYWxpemVkRW5kQW5nbGUpO1xuICB2YXIgZW5kID0gcG9sYXJUb0NhcnRlc2lhbihjZW50ZXJYLCBjZW50ZXJZLCByYWRpdXMsIHN0YXJ0QW5nbGUpO1xuICB2YXIgYXJjU3dlZXAgPSBub3JtYWxpemVkRW5kQW5nbGUgLSBzdGFydEFuZ2xlIDw9IDE4MCA/ICcwJyA6ICcxJztcbiAgdmFyIGQgPSBbJ00nLCBzdGFydC54LnRvRml4ZWQoUE9TVF9ERUNJTUFMX0RJR0lUUyksIHN0YXJ0LnkudG9GaXhlZChQT1NUX0RFQ0lNQUxfRElHSVRTKSwgJ0EnLCByYWRpdXMudG9GaXhlZChQT1NUX0RFQ0lNQUxfRElHSVRTKSwgcmFkaXVzLnRvRml4ZWQoUE9TVF9ERUNJTUFMX0RJR0lUUyksIDAsIGFyY1N3ZWVwLCAwLCBlbmQueC50b0ZpeGVkKFBPU1RfREVDSU1BTF9ESUdJVFMpLCBlbmQueS50b0ZpeGVkKFBPU1RfREVDSU1BTF9ESUdJVFMpXS5qb2luKCcgJyk7XG4gIHJldHVybiBkO1xufTtcbmV4cG9ydCB2YXIgdHJhbnNsYXRlRW5kQW5nbGUgPSBmdW5jdGlvbiB0cmFuc2xhdGVFbmRBbmdsZShzdGFydEFuZ2xlLCBhbmdsZVBlciwgdmFsdWUpIHtcbiAgcmV0dXJuIE1hdGgubWluKDM2MCwgTWF0aC5tYXgoMCwgc3RhcnRBbmdsZSArIGFuZ2xlUGVyICogdmFsdWUpKTtcbn07IiwiZXhwb3J0ICogZnJvbSAnLi9taXhpbnMnO1xuZXhwb3J0ICogZnJvbSAnLi9iYWNrZ3JvdW5kJztcbmV4cG9ydCAqIGZyb20gJy4vYm9yZGVyJztcbmV4cG9ydCAqIGZyb20gJy4vY29sb3JzJztcbmV4cG9ydCAqIGZyb20gJy4vZGVib3VuY2UnO1xuZXhwb3J0ICogZnJvbSAnLi9ET00nO1xuZXhwb3J0ICogZnJvbSAnLi9ncmFwaGljcyc7XG5leHBvcnQgKiBmcm9tICcuL3Byb3AtdHlwZXMnO1xuZXhwb3J0ICogZnJvbSAnLi9zdHlsZXMnO1xuZXhwb3J0ICogZnJvbSAnLi9vYmplY3QnO1xuZXhwb3J0ICogZnJvbSAnLi9yZXNwb25zaXZlJztcbmV4cG9ydCAqIGZyb20gJy4vcm91dGVyJztcbmV4cG9ydCAqIGZyb20gJy4vdGhyb3R0bGUnO1xuZXhwb3J0ICogZnJvbSAnLi90aGVtZURvY1V0aWxzJzsiLCJpbXBvcnQgeyBjc3MgfSBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5leHBvcnQgdmFyIHBhcnNlTWV0cmljVG9OdW0gPSBmdW5jdGlvbiBwYXJzZU1ldHJpY1RvTnVtKGZvbnRBc1N0cmluZykge1xuICBpZiAoZm9udEFzU3RyaW5nLm1hdGNoKC9cXHMvKSAmJiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgY29uc29sZS53YXJuKFwiSW52YWxpZCBzaW5nbGUgbWVhc3VyZW1lbnQgdmFsdWU6IFxcXCJcIiArIGZvbnRBc1N0cmluZyArIFwiXFxcIlwiKTtcbiAgfVxuXG4gIHJldHVybiBwYXJzZUZsb2F0KGZvbnRBc1N0cmluZy5tYXRjaCgvXFxkKyhcXC5cXGQrKT8vKSwgMTApO1xufTtcbmV4cG9ydCB2YXIgZm9udFNpemUgPSBmdW5jdGlvbiBmb250U2l6ZShzaXplLCBsaW5lSGVpZ2h0KSB7XG4gIHJldHVybiBjc3MoW1wiZm9udC1zaXplOlwiLCBcIjtsaW5lLWhlaWdodDpcIiwgXCI7XCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICByZXR1cm4gcGFyc2VNZXRyaWNUb051bShzaXplKSAvIHBhcnNlTWV0cmljVG9OdW0ocHJvcHMudGhlbWUuZ2xvYmFsLmZvbnQuc2l6ZSkgKiAxICsgXCJyZW1cIjtcbiAgfSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgcmV0dXJuIGxpbmVIZWlnaHQgfHwgTWF0aC5jZWlsKHBhcnNlTWV0cmljVG9OdW0oc2l6ZSkgLyBwYXJzZU1ldHJpY1RvTnVtKHByb3BzLnRoZW1lLmdsb2JhbC5saW5lSGVpZ2h0KSkgKiAocGFyc2VNZXRyaWNUb051bShwcm9wcy50aGVtZS5nbG9iYWwubGluZUhlaWdodCkgLyBwYXJzZU1ldHJpY1RvTnVtKHNpemUpKSArIFwicHhcIjtcbiAgfSk7XG59O1xuZXhwb3J0IHZhciBicmVha3BvaW50U3R5bGUgPSBmdW5jdGlvbiBicmVha3BvaW50U3R5bGUoYnJlYWtwb2ludCwgY29udGVudCkge1xuICByZXR1cm4gY3NzKFtcIkBtZWRpYSBvbmx5IHNjcmVlbiBcIiwgXCJ7XCIsIFwiO31cIl0sIGJyZWFrcG9pbnQudmFsdWUgJiYgXCJhbmQgKG1heC13aWR0aDogXCIgKyBicmVha3BvaW50LnZhbHVlICsgXCJweClcIiwgY29udGVudCk7XG59O1xuZXhwb3J0IHZhciBmaW5kQWxsQnlUeXBlID0gZnVuY3Rpb24gZmluZEFsbEJ5VHlwZShjb21wb25lbnQsIHR5cGUpIHtcbiAgdmFyIG1hdGNoZXMgPSBbXTtcblxuICBpZiAoY29tcG9uZW50LnR5cGUgPT09IHR5cGUpIHtcbiAgICBtYXRjaGVzLnB1c2goY29tcG9uZW50KTtcbiAgfVxuXG4gIGlmIChjb21wb25lbnQuY2hpbGRyZW4pIHtcbiAgICBjb21wb25lbnQuY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgIG1hdGNoZXMgPSBtYXRjaGVzLmNvbmNhdChmaW5kQWxsQnlUeXBlKGNoaWxkLCB0eXBlKSk7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gbWF0Y2hlcztcbn07XG5leHBvcnQgdmFyIGdldEF2YWlsYWJsZUF0QmFkZ2UgPSBmdW5jdGlvbiBnZXRBdmFpbGFibGVBdEJhZGdlKGF2YWlsYWJsZUF0KSB7XG4gIHJldHVybiBbe1xuICAgIHVybDogXCJodHRwczovL3N0b3J5Ym9vay5ncm9tbWV0LmlvLz9zZWxlY3RlZEtpbmQ9XCIgKyBhdmFpbGFibGVBdCArIFwiJmZ1bGw9MCZhZGRvbnM9MCZzdG9yaWVzPTEmcGFuZWxSaWdodD0wXCIsXG4gICAgYmFkZ2U6ICdodHRwczovL2Nkbi1pbWFnZXMtMS5tZWRpdW0uY29tL2ZpdC9jLzEyMC8xMjAvMSpURDFQMEh0SUg5ekYwVUVIMjh6WXR3LnBuZycsXG4gICAgbGFiZWw6ICdTdG9yeWJvb2snXG4gIH0sIHtcbiAgICB1cmw6IFwiaHR0cHM6Ly9jb2Rlc2FuZGJveC5pby9zL2dpdGh1Yi9ncm9tbWV0L2dyb21tZXQtc2FuZGJveD9pbml0aWFscGF0aD1cIiArIGF2YWlsYWJsZUF0LnRvTG93ZXJDYXNlKCkgKyBcIiZtb2R1bGU9JTJGc3JjJTJGXCIgKyBhdmFpbGFibGVBdCArIFwiLmpzXCIsXG4gICAgYmFkZ2U6ICdodHRwczovL2NvZGVzYW5kYm94LmlvL3N0YXRpYy9pbWcvcGxheS1jb2Rlc2FuZGJveC5zdmcnLFxuICAgIGxhYmVsOiAnQ29kZVNhbmRib3gnXG4gIH1dO1xufTsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5leHBvcnQgdmFyIGlzT2JqZWN0ID0gZnVuY3Rpb24gaXNPYmplY3QoaXRlbSkge1xuICByZXR1cm4gaXRlbSAmJiB0eXBlb2YgaXRlbSA9PT0gJ29iamVjdCcgJiYgIUFycmF5LmlzQXJyYXkoaXRlbSk7XG59O1xuZXhwb3J0IHZhciBkZWVwRnJlZXplID0gZnVuY3Rpb24gZGVlcEZyZWV6ZShvYmopIHtcbiAgT2JqZWN0LmtleXMob2JqKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICByZXR1cm4ga2V5ICYmIGlzT2JqZWN0KG9ialtrZXldKSAmJiBPYmplY3QuZnJlZXplKG9ialtrZXldKTtcbiAgfSk7XG4gIHJldHVybiBPYmplY3QuZnJlZXplKG9iaik7XG59O1xuZXhwb3J0IHZhciBkZWVwTWVyZ2UgPSBmdW5jdGlvbiBkZWVwTWVyZ2UodGFyZ2V0KSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBzb3VyY2VzID0gbmV3IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBzb3VyY2VzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIGlmICghc291cmNlcy5sZW5ndGgpIHtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9IC8vIG1ha2luZyBzdXJlIHRvIG5vdCBjaGFuZ2UgdGFyZ2V0IChpbW11dGFibGUpXG5cblxuICB2YXIgb3V0cHV0ID0gX2V4dGVuZHMoe30sIHRhcmdldCk7XG5cbiAgc291cmNlcy5mb3JFYWNoKGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICBpZiAoaXNPYmplY3Qoc291cmNlKSkge1xuICAgICAgT2JqZWN0LmtleXMoc291cmNlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKGlzT2JqZWN0KHNvdXJjZVtrZXldKSkge1xuICAgICAgICAgIGlmICghb3V0cHV0W2tleV0pIHtcbiAgICAgICAgICAgIG91dHB1dFtrZXldID0gX2V4dGVuZHMoe30sIHNvdXJjZVtrZXldKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3V0cHV0W2tleV0gPSBkZWVwTWVyZ2Uob3V0cHV0W2tleV0sIHNvdXJjZVtrZXldKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3V0cHV0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIG91dHB1dDtcbn07XG5leHBvcnQgdmFyIHJlbW92ZVVuZGVmaW5lZCA9IGZ1bmN0aW9uIHJlbW92ZVVuZGVmaW5lZChvYmopIHtcbiAgdmFyIHJlc3VsdCA9IHt9O1xuICBPYmplY3Qua2V5cyhvYmopLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIGlmIChvYmpba2V5XSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXN1bHRba2V5XSA9IG9ialtrZXldO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59OyIsImltcG9ydCB7IFByb3BUeXBlcyB9IGZyb20gJ3JlYWN0LWRlc2MnO1xuZXhwb3J0IHZhciBhMTF5VGl0bGVQcm9wVHlwZSA9IFByb3BUeXBlcy5zdHJpbmcuZGVzY3JpcHRpb24oXCJDdXN0b20gbGFiZWwgdG8gYmUgdXNlZCBieSBzY3JlZW4gcmVhZGVycy4gV2hlbiBwcm92aWRlZCwgYW4gYXJpYS1sYWJlbCB3aWxsXFxuICAgYmUgYWRkZWQgdG8gdGhlIGVsZW1lbnQuXCIpO1xuZXhwb3J0IHZhciBiYWNrZ3JvdW5kUHJvcFR5cGUgPSBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMuc2hhcGUoe1xuICBjb2xvcjogUHJvcFR5cGVzLnN0cmluZyxcbiAgb3BhY2l0eTogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFsnd2VhaycsICdtZWRpdW0nLCAnc3Ryb25nJ10pLCBQcm9wVHlwZXMuYm9vbF0pXG59KV0pLmRlc2NyaXB0aW9uKCdCYWNrZ3JvdW5kIGNvbG9yJyk7XG5leHBvcnQgdmFyIGNvbG9yUHJvcFR5cGUgPSBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMuc2hhcGUoe1xuICBkYXJrOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBsaWdodDogUHJvcFR5cGVzLnN0cmluZ1xufSldKTtcbnZhciBNQVJHSU5fU0laRVMgPSBbJ3h4c21hbGwnLCAneHNtYWxsJywgJ3NtYWxsJywgJ21lZGl1bScsICdsYXJnZScsICd4bGFyZ2UnXTtcbmV4cG9ydCB2YXIgbWFyZ2luUHJvcCA9IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbJ25vbmUnXS5jb25jYXQoTUFSR0lOX1NJWkVTKSksIFByb3BUeXBlcy5zaGFwZSh7XG4gIGJvdHRvbTogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKE1BUkdJTl9TSVpFUyksIFByb3BUeXBlcy5zdHJpbmddKSxcbiAgaG9yaXpvbnRhbDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKE1BUkdJTl9TSVpFUyksIFByb3BUeXBlcy5zdHJpbmddKSxcbiAgbGVmdDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKE1BUkdJTl9TSVpFUyksIFByb3BUeXBlcy5zdHJpbmddKSxcbiAgcmlnaHQ6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihNQVJHSU5fU0laRVMpLCBQcm9wVHlwZXMuc3RyaW5nXSksXG4gIHRvcDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKE1BUkdJTl9TSVpFUyksIFByb3BUeXBlcy5zdHJpbmddKSxcbiAgdmVydGljYWw6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihNQVJHSU5fU0laRVMpLCBQcm9wVHlwZXMuc3RyaW5nXSlcbn0pLCBQcm9wVHlwZXMuc3RyaW5nXSkuZGVzY3JpcHRpb24oXCJUaGUgYW1vdW50IG9mIG1hcmdpbiBhcm91bmQgdGhlIGNvbXBvbmVudC4gQW4gb2JqZWN0IGNhblxcbiAgICBiZSBzcGVjaWZpZWQgdG8gZGlzdGluZ3Vpc2ggaG9yaXpvbnRhbCBtYXJnaW4sIHZlcnRpY2FsIG1hcmdpbiwgYW5kXFxuICAgIG1hcmdpbiBvbiBhIHBhcnRpY3VsYXIgc2lkZS5cIik7XG5leHBvcnQgdmFyIGdlbmVyaWNQcm9wcyA9IHtcbiAgYTExeVRpdGxlOiBhMTF5VGl0bGVQcm9wVHlwZSxcbiAgYWxpZ25TZWxmOiBQcm9wVHlwZXMub25lT2YoWydzdGFydCcsICdjZW50ZXInLCAnZW5kJywgJ3N0cmV0Y2gnXSkuZGVzY3JpcHRpb24oXCJIb3cgdG8gYWxpZ24gYWxvbmcgdGhlIGNyb3NzIGF4aXMgd2hlbiBjb250YWluZWQgaW5cXG4gICAgICBhIEJveCBvciBhbG9uZyB0aGUgY29sdW1uIGF4aXMgd2hlbiBjb250YWluZWQgaW4gYSBHcmlkLlwiKSxcbiAgZ3JpZEFyZWE6IFByb3BUeXBlcy5zdHJpbmcuZGVzY3JpcHRpb24oXCJUaGUgbmFtZSBvZiB0aGUgYXJlYSB0byBwbGFjZVxcbiAgICB0aGlzIGluc2lkZSBhIHBhcmVudCBHcmlkLlwiKSxcbiAgbWFyZ2luOiBtYXJnaW5Qcm9wXG59O1xuZXhwb3J0IHZhciBob3ZlckluZGljYXRvclByb3BUeXBlID0gUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmJvb2wsIFByb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5vbmVPZihbJ2JhY2tncm91bmQnXSksIFByb3BUeXBlcy5zaGFwZSh7XG4gIGNvbG9yOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBkYXJrOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuYm9vbCwgUHJvcFR5cGVzLnN0cmluZ10pLFxuICBpbWFnZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgbGlnaHQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gIHBvc2l0aW9uOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBvcGFjaXR5OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMuYm9vbCwgUHJvcFR5cGVzLm51bWJlciwgUHJvcFR5cGVzLm9uZU9mKFsnd2VhaycsICdtZWRpdW0nLCAnc3Ryb25nJ10pXSksXG4gIHJlcGVhdDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFsnbm8tcmVwZWF0JywgJ3JlcGVhdCddKSwgUHJvcFR5cGVzLnN0cmluZ10pLFxuICBzaXplOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2YoWydjb3ZlcicsICdjb250YWluJ10pLCBQcm9wVHlwZXMuc3RyaW5nXSlcbn0pXSk7IiwiZXhwb3J0IHZhciBnZXRCcmVha3BvaW50ID0gZnVuY3Rpb24gZ2V0QnJlYWtwb2ludCh3aW5kb3dXaWR0aCwgdGhlbWUpIHtcbiAgdmFyIHJlc3VsdDtcbiAgT2JqZWN0LmtleXModGhlbWUuZ2xvYmFsLmJyZWFrcG9pbnRzKS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgdmFyIGZpcnN0ID0gdGhlbWUuZ2xvYmFsLmJyZWFrcG9pbnRzW2FdO1xuICAgIHZhciBzZWNvbmQgPSB0aGVtZS5nbG9iYWwuYnJlYWtwb2ludHNbYl07XG4gICAgaWYgKCFmaXJzdCkgcmV0dXJuIDE7XG4gICAgaWYgKCFzZWNvbmQpIHJldHVybiAtMTtcbiAgICBpZiAoIWZpcnN0LnZhbHVlKSByZXR1cm4gMTtcbiAgICBpZiAoIXNlY29uZC52YWx1ZSkgcmV0dXJuIC0xO1xuICAgIHJldHVybiBmaXJzdC52YWx1ZSAtIHNlY29uZC52YWx1ZTtcbiAgfSkuc29tZShmdW5jdGlvbiAobmFtZSkge1xuICAgIHZhciBicmVha3BvaW50ID0gdGhlbWUuZ2xvYmFsLmJyZWFrcG9pbnRzW25hbWVdO1xuXG4gICAgaWYgKGJyZWFrcG9pbnQpIHtcbiAgICAgIGlmICghYnJlYWtwb2ludC52YWx1ZSB8fCBicmVha3BvaW50LnZhbHVlID49IHdpbmRvd1dpZHRoKSB7XG4gICAgICAgIHJlc3VsdCA9IG5hbWU7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuZXhwb3J0IHZhciBnZXREZXZpY2VCcmVha3BvaW50ID0gZnVuY3Rpb24gZ2V0RGV2aWNlQnJlYWtwb2ludCh0eXBlLCB0aGVtZSkge1xuICByZXR1cm4gdGhlbWUuZ2xvYmFsLmRldmljZUJyZWFrcG9pbnRzW3R5cGVdO1xufTsiLCJpbXBvcnQgeyBQcm9wVHlwZXMgfSBmcm9tICdyZWFjdC1kZXNjJztcbmV4cG9ydCB2YXIgUk9VVEVSX1BST1BTID0ge1xuICBwYXRoOiBQcm9wVHlwZXMuc3RyaW5nLmRlc2NyaXB0aW9uKCdJbmRpY2F0ZXMgdGhlIHBhdGggdG8gYmUgdXNlZCBmb3IgcmVhY3Qtcm91dGVyIGxpbmsuJykuaXNSZXF1aXJlZCxcbiAgbWV0aG9kOiBQcm9wVHlwZXMub25lT2YoWydwdXNoJywgJ3JlcGxhY2UnXSkuZGVzY3JpcHRpb24oXCJJbmRpY2F0ZXMgd2hldGhlciB0aGUgYnJvd3NlciBoaXN0b3J5IHNob3VsZCBiZSBhcHBlbmRlZCB0byBvciBcXG4gICAgICByZXBsYWNlZC5cIikuZGVmYXVsdFZhbHVlKCdwdXNoJylcbn07IiwiaW1wb3J0IHsgY3NzIH0gZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgbm9ybWFsaXplQ29sb3IgfSBmcm9tICcuL2NvbG9ycyc7XG5pbXBvcnQgeyBicmVha3BvaW50U3R5bGUsIHBhcnNlTWV0cmljVG9OdW0gfSBmcm9tICcuL21peGlucyc7XG5leHBvcnQgdmFyIGJhc2VTdHlsZSA9IGNzcyhbXCJmb250LWZhbWlseTpcIiwgXCI7Zm9udC1zaXplOlwiLCBcIjtsaW5lLWhlaWdodDpcIiwgXCI7Zm9udC13ZWlnaHQ6XCIsIFwiO1wiLCBcIiBib3gtc2l6aW5nOmJvcmRlci1ib3g7LXdlYmtpdC10ZXh0LXNpemUtYWRqdXN0OjEwMCU7LW1zLXRleHQtc2l6ZS1hZGp1c3Q6MTAwJTstbW96LW9zeC1mb250LXNtb290aGluZzpncmF5c2NhbGU7LXdlYmtpdC1mb250LXNtb290aGluZzphbnRpYWxpYXNlZDtcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUuZ2xvYmFsLmZvbnQuZmFtaWx5O1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5nbG9iYWwuZm9udC5zaXplO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5nbG9iYWwuZm9udC5oZWlnaHQ7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLmdsb2JhbC5mb250LndlaWdodDtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gIXByb3BzLnBsYWluICYmIHByb3BzLnRoZW1lLmdsb2JhbC5jb2xvcnMuYmFja2dyb3VuZCAmJiBjc3MoW1wiYmFja2dyb3VuZDpcIiwgXCI7Y29sb3I6XCIsIFwiO1wiXSwgbm9ybWFsaXplQ29sb3IoJ2JhY2tncm91bmQnLCBwcm9wcy50aGVtZSwgdHJ1ZSksIG5vcm1hbGl6ZUNvbG9yKCd0ZXh0JywgcHJvcHMudGhlbWUsIHRydWUpKTtcbn0pO1xuZXhwb3J0IHZhciBjb250cm9sQm9yZGVyU3R5bGUgPSBjc3MoW1wiYm9yZGVyOlwiLCBcIiBzb2xpZCBcIiwgXCI7Ym9yZGVyLXJhZGl1czpcIiwgXCI7XCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLmdsb2JhbC5jb250cm9sLmJvcmRlci53aWR0aDtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gbm9ybWFsaXplQ29sb3IocHJvcHMudGhlbWUuZ2xvYmFsLmNvbnRyb2wuYm9yZGVyLmNvbG9yIHx8ICdib3JkZXInLCBwcm9wcy50aGVtZSk7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLmdsb2JhbC5jb250cm9sLmJvcmRlci5yYWRpdXM7XG59KTtcbmV4cG9ydCB2YXIgZWRnZVN0eWxlID0gZnVuY3Rpb24gZWRnZVN0eWxlKGtpbmQsIGRhdGEsIHJlc3BvbnNpdmUsIHJlc3BvbnNpdmVCcmVha3BvaW50LCB0aGVtZSkge1xuICB2YXIgYnJlYWtwb2ludCA9IHJlc3BvbnNpdmVCcmVha3BvaW50ICYmIHRoZW1lLmdsb2JhbC5icmVha3BvaW50c1tyZXNwb25zaXZlQnJlYWtwb2ludF07XG5cbiAgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBjc3MoW1wiXCIsIFwiOlwiLCBcIjtcIiwgXCI7XCJdLCBraW5kLCB0aGVtZS5nbG9iYWwuZWRnZVNpemVbZGF0YV0gfHwgZGF0YSwgcmVzcG9uc2l2ZSAmJiBicmVha3BvaW50ID8gYnJlYWtwb2ludFN0eWxlKGJyZWFrcG9pbnQsIFwiXFxuICAgICAgICBcIiArIGtpbmQgKyBcIjogXCIgKyAoYnJlYWtwb2ludC5lZGdlU2l6ZVtkYXRhXSB8fCBkYXRhKSArIFwiO1xcbiAgICAgIFwiKSA6ICcnKTtcbiAgfVxuXG4gIHZhciByZXN1bHQgPSBbXTtcblxuICBpZiAoZGF0YS5ob3Jpem9udGFsKSB7XG4gICAgcmVzdWx0LnB1c2goY3NzKFtcIlwiLCBcIi1sZWZ0OlwiLCBcIjtcIiwgXCItcmlnaHQ6XCIsIFwiO1wiLCBcIjtcIl0sIGtpbmQsIHRoZW1lLmdsb2JhbC5lZGdlU2l6ZVtkYXRhLmhvcml6b250YWxdIHx8IGRhdGEuaG9yaXpvbnRhbCwga2luZCwgdGhlbWUuZ2xvYmFsLmVkZ2VTaXplW2RhdGEuaG9yaXpvbnRhbF0gfHwgZGF0YS5ob3Jpem9udGFsLCByZXNwb25zaXZlICYmIGJyZWFrcG9pbnQgPyBicmVha3BvaW50U3R5bGUoYnJlYWtwb2ludCwgXCJcXG4gICAgICAgIFwiICsga2luZCArIFwiLWxlZnQ6IFwiICsgKGJyZWFrcG9pbnQuZWRnZVNpemVbZGF0YS5ob3Jpem9udGFsXSB8fCBkYXRhLmhvcml6b250YWwpICsgXCI7XFxuICAgICAgICBcIiArIGtpbmQgKyBcIi1yaWdodDogXCIgKyAoYnJlYWtwb2ludC5lZGdlU2l6ZVtkYXRhLmhvcml6b250YWxdIHx8IGRhdGEuaG9yaXpvbnRhbCkgKyBcIjtcXG4gICAgICBcIikgOiAnJykpO1xuICB9XG5cbiAgaWYgKGRhdGEudmVydGljYWwpIHtcbiAgICByZXN1bHQucHVzaChjc3MoW1wiXCIsIFwiLXRvcDpcIiwgXCI7XCIsIFwiLWJvdHRvbTpcIiwgXCI7XCIsIFwiO1wiXSwga2luZCwgdGhlbWUuZ2xvYmFsLmVkZ2VTaXplW2RhdGEudmVydGljYWxdIHx8IGRhdGEudmVydGljYWwsIGtpbmQsIHRoZW1lLmdsb2JhbC5lZGdlU2l6ZVtkYXRhLnZlcnRpY2FsXSB8fCBkYXRhLnZlcnRpY2FsLCByZXNwb25zaXZlICYmIGJyZWFrcG9pbnQgPyBicmVha3BvaW50U3R5bGUoYnJlYWtwb2ludCwgXCJcXG4gICAgICAgIFwiICsga2luZCArIFwiLXRvcDogXCIgKyAoYnJlYWtwb2ludC5lZGdlU2l6ZVtkYXRhLnZlcnRpY2FsXSB8fCBkYXRhLnZlcnRpY2FsKSArIFwiO1xcbiAgICAgICAgXCIgKyBraW5kICsgXCItYm90dG9tOiBcIiArIChicmVha3BvaW50LmVkZ2VTaXplW2RhdGEudmVydGljYWxdIHx8IGRhdGEudmVydGljYWwpICsgXCI7XFxuICAgICAgXCIpIDogJycpKTtcbiAgfVxuXG4gIGlmIChkYXRhLnRvcCkge1xuICAgIHJlc3VsdC5wdXNoKGNzcyhbXCJcIiwgXCItdG9wOlwiLCBcIjtcIiwgXCI7XCJdLCBraW5kLCB0aGVtZS5nbG9iYWwuZWRnZVNpemVbZGF0YS50b3BdIHx8IGRhdGEudG9wLCByZXNwb25zaXZlICYmIGJyZWFrcG9pbnQgPyBicmVha3BvaW50U3R5bGUoYnJlYWtwb2ludCwgXCJcXG4gICAgICAgIFwiICsga2luZCArIFwiLXRvcDogXCIgKyAoYnJlYWtwb2ludC5lZGdlU2l6ZVtkYXRhLnRvcF0gfHwgZGF0YS50b3ApICsgXCI7XFxuICAgICAgXCIpIDogJycpKTtcbiAgfVxuXG4gIGlmIChkYXRhLmJvdHRvbSkge1xuICAgIHJlc3VsdC5wdXNoKGNzcyhbXCJcIiwgXCItYm90dG9tOlwiLCBcIjtcIiwgXCI7XCJdLCBraW5kLCB0aGVtZS5nbG9iYWwuZWRnZVNpemVbZGF0YS5ib3R0b21dIHx8IGRhdGEuYm90dG9tLCByZXNwb25zaXZlICYmIGJyZWFrcG9pbnQgPyBicmVha3BvaW50U3R5bGUoYnJlYWtwb2ludCwgXCJcXG4gICAgICAgIFwiICsga2luZCArIFwiLWJvdHRvbTogXCIgKyAoYnJlYWtwb2ludC5lZGdlU2l6ZVtkYXRhLmJvdHRvbV0gfHwgZGF0YS5ib3R0b20pICsgXCI7XFxuICAgICAgXCIpIDogJycpKTtcbiAgfVxuXG4gIGlmIChkYXRhLmxlZnQpIHtcbiAgICByZXN1bHQucHVzaChjc3MoW1wiXCIsIFwiLWxlZnQ6XCIsIFwiO1wiLCBcIjtcIl0sIGtpbmQsIHRoZW1lLmdsb2JhbC5lZGdlU2l6ZVtkYXRhLmxlZnRdIHx8IGRhdGEubGVmdCwgcmVzcG9uc2l2ZSAmJiBicmVha3BvaW50ID8gYnJlYWtwb2ludFN0eWxlKGJyZWFrcG9pbnQsIFwiXFxuICAgICAgICBcIiArIGtpbmQgKyBcIi1sZWZ0OiBcIiArIChicmVha3BvaW50LmVkZ2VTaXplW2RhdGEubGVmdF0gfHwgZGF0YS5sZWZ0KSArIFwiO1xcbiAgICAgIFwiKSA6ICcnKSk7XG4gIH1cblxuICBpZiAoZGF0YS5yaWdodCkge1xuICAgIHJlc3VsdC5wdXNoKGNzcyhbXCJcIiwgXCItcmlnaHQ6XCIsIFwiO1wiLCBcIjtcIl0sIGtpbmQsIHRoZW1lLmdsb2JhbC5lZGdlU2l6ZVtkYXRhLnJpZ2h0XSB8fCBkYXRhLnJpZ2h0LCByZXNwb25zaXZlICYmIGJyZWFrcG9pbnQgPyBicmVha3BvaW50U3R5bGUoYnJlYWtwb2ludCwgXCJcXG4gICAgICAgIFwiICsga2luZCArIFwiLXJpZ2h0OiBcIiArIChicmVha3BvaW50LmVkZ2VTaXplW2RhdGEucmlnaHRdIHx8IGRhdGEucmlnaHQpICsgXCI7XFxuICAgICAgXCIpIDogJycpKTtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59OyAvLyBmb2N1cyBhbHNvIHN1cHBvcnRzIGNsaWNrYWJsZSBlbGVtZW50cyBpbnNpZGUgc3ZnXG5cbmV4cG9ydCB2YXIgZm9jdXNTdHlsZSA9IGNzcyhbXCI+IGNpcmNsZSw+IGVsbGlwc2UsPiBsaW5lLD4gcGF0aCw+IHBvbHlnb24sPiBwb2x5bGluZSw+IHJlY3R7b3V0bGluZTpcIiwgXCIgc29saWQgMnB4O31vdXRsaW5lLWNvbG9yOlwiLCBcIjtib3JkZXItY29sb3I6XCIsIFwiO2JveC1zaGFkb3c6MCAwIDJweCAycHggXCIsIFwiOzo6LW1vei1mb2N1cy1pbm5lcntib3JkZXI6MDt9XCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIG5vcm1hbGl6ZUNvbG9yKHByb3BzLnRoZW1lLmdsb2JhbC5mb2N1cy5ib3JkZXIuY29sb3IsIHByb3BzLnRoZW1lKTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gbm9ybWFsaXplQ29sb3IocHJvcHMudGhlbWUuZ2xvYmFsLmZvY3VzLmJvcmRlci5jb2xvciwgcHJvcHMudGhlbWUpO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBub3JtYWxpemVDb2xvcihwcm9wcy50aGVtZS5nbG9iYWwuZm9jdXMuYm9yZGVyLmNvbG9yLCBwcm9wcy50aGVtZSk7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIG5vcm1hbGl6ZUNvbG9yKHByb3BzLnRoZW1lLmdsb2JhbC5mb2N1cy5ib3JkZXIuY29sb3IsIHByb3BzLnRoZW1lKTtcbn0pO1xuZXhwb3J0IHZhciBpbnB1dFN0eWxlID0gY3NzKFtcImJveC1zaXppbmc6Ym9yZGVyLWJveDtmb250LXNpemU6aW5oZXJpdDtmb250LWZhbWlseTppbmhlcml0O2JvcmRlcjpub25lOy13ZWJraXQtYXBwZWFyYW5jZTpub25lO3BhZGRpbmc6XCIsIFwicHg7b3V0bGluZTpub25lO2JhY2tncm91bmQ6dHJhbnNwYXJlbnQ7Y29sb3I6aW5oZXJpdDtcIiwgXCIgbWFyZ2luOjA7XCIsIFwiIFwiLCBcIjo6LXdlYmtpdC1zZWFyY2gtZGVjb3JhdGlvbnstd2Via2l0LWFwcGVhcmFuY2U6bm9uZTt9XCJdLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHBhcnNlTWV0cmljVG9OdW0ocHJvcHMudGhlbWUuZ2xvYmFsLmlucHV0LnBhZGRpbmcpIC0gcGFyc2VNZXRyaWNUb051bShwcm9wcy50aGVtZS5nbG9iYWwuY29udHJvbC5ib3JkZXIud2lkdGgpO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5nbG9iYWwuaW5wdXQud2VpZ2h0ICYmIGNzcyhbXCJmb250LXdlaWdodDpcIiwgXCI7XCJdLCBwcm9wcy50aGVtZS5nbG9iYWwuaW5wdXQud2VpZ2h0KTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuZm9jdXMgJiYgKCFwcm9wcy5wbGFpbiB8fCBwcm9wcy5mb2N1c0luZGljYXRvcikgJiYgZm9jdXNTdHlsZTtcbn0sIGNvbnRyb2xCb3JkZXJTdHlsZSk7XG5leHBvcnQgdmFyIG92ZXJmbG93U3R5bGUgPSBmdW5jdGlvbiBvdmVyZmxvd1N0eWxlKG92ZXJmbG93UHJvcCkge1xuICBpZiAodHlwZW9mIG92ZXJmbG93UHJvcCA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gY3NzKFtcIm92ZXJmbG93OlwiLCBcIjtcIl0sIG92ZXJmbG93UHJvcCk7XG4gIH1cblxuICByZXR1cm4gY3NzKFtcIlwiLCBcIiBcIiwgXCI7XCJdLCBvdmVyZmxvd1Byb3AuaG9yaXpvbnRhbCAmJiBcIm92ZXJmbG93LXg6IFwiICsgb3ZlcmZsb3dQcm9wLmhvcml6b250YWwgKyBcIjtcIiwgb3ZlcmZsb3dQcm9wLnZlcnRpY2FsICYmIFwib3ZlcmZsb3cteTogXCIgKyBvdmVyZmxvd1Byb3AudmVydGljYWwgKyBcIjtcIik7XG59O1xudmFyIHBsYWNlaG9sZGVyQ29sb3IgPSBjc3MoW1wiY29sb3I6XCIsIFwiO1wiXSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5nbG9iYWwuY29sb3JzLnBsYWNlaG9sZGVyO1xufSk7XG5leHBvcnQgdmFyIHBsYWNlaG9sZGVyU3R5bGUgPSBjc3MoW1wiJjo6LXdlYmtpdC1pbnB1dC1wbGFjZWhvbGRlcntcIiwgXCI7fSY6Oi1tb3otcGxhY2Vob2xkZXJ7XCIsIFwiO30mOi1tcy1pbnB1dC1wbGFjZWhvbGRlcntcIiwgXCI7fVwiXSwgcGxhY2Vob2xkZXJDb2xvciwgcGxhY2Vob2xkZXJDb2xvciwgcGxhY2Vob2xkZXJDb2xvcik7IC8vIGV2YWxTdHlsZSgpIGNvbnZlcnRzIGEgc3R5bGVkLWNvbXBvbmVudHMgaXRlbSBpbnRvIGEgc3RyaW5nXG5cbmV4cG9ydCB2YXIgZXZhbFN0eWxlID0gZnVuY3Rpb24gZXZhbFN0eWxlKGFyZywgdGhlbWUpIHtcbiAgaWYgKGFyZyAmJiBBcnJheS5pc0FycmF5KGFyZykgJiYgdHlwZW9mIGFyZ1swXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBhcmdbMF0oe1xuICAgICAgdGhlbWU6IHRoZW1lXG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gYXJnO1xufTtcbnZhciBBTElHTl9TRUxGX01BUCA9IHtcbiAgY2VudGVyOiAnY2VudGVyJyxcbiAgZW5kOiAnZmxleC1lbmQnLFxuICBzdGFydDogJ2ZsZXgtc3RhcnQnLFxuICBzdHJldGNoOiAnc3RyZXRjaCdcbn07XG5leHBvcnQgdmFyIGdlbmVyaWNTdHlsZXMgPSBjc3MoW1wiXCIsIFwiIFwiLCBcIiBcIiwgXCJcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuYWxpZ25TZWxmICYmIFwiYWxpZ24tc2VsZjogXCIgKyBBTElHTl9TRUxGX01BUFtwcm9wcy5hbGlnblNlbGZdICsgXCI7XCI7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLmdyaWRBcmVhICYmIFwiZ3JpZC1hcmVhOiBcIiArIHByb3BzLmdyaWRBcmVhICsgXCI7XCI7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLm1hcmdpbiAmJiBlZGdlU3R5bGUoJ21hcmdpbicsIHByb3BzLm1hcmdpbiwgcHJvcHMucmVzcG9uc2l2ZSwgcHJvcHMudGhlbWUuZ2xvYmFsLmVkZ2VTaXplLnJlc3BvbnNpdmVCcmVha3BvaW50LCBwcm9wcy50aGVtZSk7XG59KTtcbmV4cG9ydCB2YXIgZGlzYWJsZWRTdHlsZSA9IGZ1bmN0aW9uIGRpc2FibGVkU3R5bGUoY29tcG9uZW50U3R5bGUpIHtcbiAgcmV0dXJuIGNzcyhbXCJvcGFjaXR5OlwiLCBcIjtjdXJzb3I6ZGVmYXVsdDtcIl0sIGZ1bmN0aW9uIChwcm9wcykge1xuICAgIHJldHVybiBjb21wb25lbnRTdHlsZSB8fCBwcm9wcy50aGVtZS5nbG9iYWwuY29udHJvbC5kaXNhYmxlZC5vcGFjaXR5O1xuICB9KTtcbn07XG5leHBvcnQgdmFyIHNpemVTdHlsZSA9IGZ1bmN0aW9uIHNpemVTdHlsZShuYW1lLCB2YWx1ZSwgdGhlbWUpIHtcbiAgcmV0dXJuIGNzcyhbXCJcIiwgXCI6XCIsIFwiO1wiXSwgbmFtZSwgdGhlbWUuZ2xvYmFsLnNpemVbdmFsdWVdIHx8IHZhbHVlKTtcbn07IiwiZXhwb3J0IHZhciB0aGVtZURvY1V0aWxzID0ge1xuICAvLyAnVGhlIHBvc3NpYmxlIGJyZWFrcG9pbnRzIHRoYXQgY291bGQgYWZmZWN0IGJvcmRlciwgZGlyZWN0aW9uLCBnYXAsXG4gIC8vIG1hcmdpbiwgcGFkLCBhbmQgcm91bmQuJyxcbiAgYnJlYWtwb2ludFN0eWxlOiBmdW5jdGlvbiBicmVha3BvaW50U3R5bGUoZGVzY3JpcHRpb24pIHtcbiAgICByZXR1cm4ge1xuICAgICAgJ2dsb2JhbC5icmVha3BvaW50cyc6IHtcbiAgICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uLFxuICAgICAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBcIntcXG4gICAgc21hbGw6IHtcXG4gICAgICB2YWx1ZTogJzc2OHB4JyxcXG4gICAgICBib3JkZXJTaXplOiB7XFxuICAgICAgICB4c21hbGw6ICcxcHgnLFxcbiAgICAgICAgc21hbGw6ICcycHgnLFxcbiAgICAgICAgbWVkaXVtOiAnNHB4JyxcXG4gICAgICAgIGxhcmdlOiAnNnB4JyxcXG4gICAgICAgIHhsYXJnZTogJzEycHgnLFxcbiAgICAgIH0sXFxuICAgICAgZWRnZVNpemU6IHtcXG4gICAgICAgIG5vbmU6ICcwcHgnLFxcbiAgICAgICAgaGFpcjogJzFweCcsXFxuICAgICAgICB4eHNtYWxsOiAnMnB4JyxcXG4gICAgICAgIHhzbWFsbDogJzNweCcsXFxuICAgICAgICBzbWFsbDogJzZweCcsXFxuICAgICAgICBtZWRpdW06ICcxMnB4JyxcXG4gICAgICAgIGxhcmdlOiAnMjRweCcsXFxuICAgICAgICB4bGFyZ2U6ICc0OHB4JyxcXG4gICAgICB9LFxcbiAgICAgIHNpemU6IHtcXG4gICAgICAgIHh4c21hbGw6ICcyNHB4JyxcXG4gICAgICAgIHhzbWFsbDogJzQ4cHgnLFxcbiAgICAgICAgc21hbGw6ICc5NnB4JyxcXG4gICAgICAgIG1lZGl1bTogJzE5MnB4JyxcXG4gICAgICAgIGxhcmdlOiAnMzg0cHgnLFxcbiAgICAgICAgeGxhcmdlOiAnNzY4cHgnLFxcbiAgICAgICAgZnVsbDogJzEwMCUnLFxcbiAgICAgIH0sXFxuICAgIH0sXFxuICAgIG1lZGl1bToge1xcbiAgICAgIHZhbHVlOiAnMTUzNnB4JyxcXG4gICAgfSxcXG4gICAgbGFyZ2U6IHt9LFxcbiAgfVwiXG4gICAgICB9XG4gICAgfTtcbiAgfSxcbiAgZGlzYWJsZWRTdHlsZToge1xuICAgICdnbG9iYWwuY29udHJvbC5kaXNhYmxlZC5vcGFjaXR5Jzoge1xuICAgICAgZGVzY3JpcHRpb246ICdUaGUgb3BhY2l0eSB3aGVuIGEgY29tcG9uZW50IGlzIGRpc2FibGVkLicsXG4gICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgIGRlZmF1bHRWYWx1ZTogMC4zXG4gICAgfVxuICB9LFxuICBlZGdlU3R5bGU6IGZ1bmN0aW9uIGVkZ2VTdHlsZShkZXNjcmlwdGlvbikge1xuICAgIHJldHVybiB7XG4gICAgICAnZ2xvYmFsLmVkZ2VTaXplJzoge1xuICAgICAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24sXG4gICAgICAgIHR5cGU6ICdvYmplY3QnLFxuICAgICAgICBkZWZhdWx0VmFsdWU6IFwie1xcbiAgICBlZGdlU2l6ZToge1xcbiAgICAgIG5vbmU6ICcwcHgnLFxcbiAgICAgIGhhaXI6ICcxcHgnLFxcbiAgICAgIHh4c21hbGw6ICczcHgnLFxcbiAgICAgIHhzbWFsbDogJzZweCcsXFxuICAgICAgc21hbGw6ICcxMnB4JyxcXG4gICAgICBtZWRpdW06ICcyNHB4JyxcXG4gICAgICBsYXJnZTogJzQ4cHgnLFxcbiAgICAgIHhsYXJnZTogJzk2cHgnLFxcbiAgICAgIHJlc3BvbnNpdmVCcmVha3BvaW50OiAnc21hbGwnLFxcbiAgICB9LFxcbiAgfVwiXG4gICAgICB9XG4gICAgfTtcbiAgfSxcbiAgZm9jdXNTdHlsZToge1xuICAgICdnbG9iYWwuZm9jdXMuYm9yZGVyLmNvbG9yJzoge1xuICAgICAgZGVzY3JpcHRpb246ICdUaGUgY29sb3IgYXJvdW5kIHRoZSBjb21wb25lbnQgd2hlbiBpbiBmb2N1cy4nLFxuICAgICAgdHlwZTogJ3N0cmluZyB8IHsgZGFyazogc3RyaW5nLCBsaWdodDogc3RyaW5nIH0nLFxuICAgICAgZGVmYXVsdFZhbHVlOiAnZm9jdXMnXG4gICAgfVxuICB9LFxuICBpY29uQ29sb3I6IHtcbiAgICAnZ2xvYmFsLmNvbG9ycy5pY29uJzoge1xuICAgICAgZGVzY3JpcHRpb246ICdUaGUgY29sb3Igb2YgYSBnaXZlbiBpY29uLicsXG4gICAgICB0eXBlOiAnc3RyaW5nIHwgeyBkYXJrOiBzdHJpbmcsIGxpZ2h0OiBzdHJpbmcgfScsXG4gICAgICBkZWZhdWx0VmFsdWU6ICd7IGRhcms6ICNmOGY4ZjgsIGxpZ2h0OiAjNjY2NjY2IH0nXG4gICAgfVxuICB9LFxuICBpbnB1dFN0eWxlOiB7XG4gICAgJ2dsb2JhbC5pbnB1dC53ZWlnaHQnOiB7XG4gICAgICBkZXNjcmlwdGlvbjogJ1RoZSBmb250IHdlaWdodCBvZiB0aGUgdGV4dCBlbnRlcmVkLicsXG4gICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgIGRlZmF1bHRWYWx1ZTogNjAwXG4gICAgfSxcbiAgICAnZ2xvYmFsLmlucHV0LnBhZGRpbmcnOiB7XG4gICAgICBkZXNjcmlwdGlvbjogJ1RoZSBwYWRkaW5nIG9mIHRoZSB0ZXh0LicsXG4gICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgIGRlZmF1bHRWYWx1ZTogJzEycHgnXG4gICAgfVxuICB9LFxuICBwbGFjZWhvbGRlclN0eWxlOiB7XG4gICAgJ2dsb2JhbC5jb2xvcnMucGxhY2Vob2xkZXInOiB7XG4gICAgICBkZXNjcmlwdGlvbjogJ1RoZSBwbGFjZWhvbGRlciBjb2xvciB1c2VkIGZvciB0aGUgY29tcG9uZW50LicsXG4gICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgIGRlZmF1bHRWYWx1ZTogJyNBQUFBQUEnXG4gICAgfVxuICB9LFxuICByZXNwb25zaXZlQnJlYWtwb2ludDogZnVuY3Rpb24gcmVzcG9uc2l2ZUJyZWFrcG9pbnQoZGVzY3JpcHRpb24pIHtcbiAgICByZXR1cm4ge1xuICAgICAgJ2dsb2JhbC5lZGdlU2l6ZS5yZXNwb25zaXZlQnJlYWtwb2ludCc6IHtcbiAgICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uLFxuICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgZGVmYXVsdFZhbHVlOiAnc21hbGwnXG4gICAgICB9XG4gICAgfTtcbiAgfVxufTsiLCJ2YXIgX3RoaXMgPSB0aGlzO1xuXG4vLyAoQykgQ29weXJpZ2h0IDIwMTQtMjAxNiBIZXdsZXR0IFBhY2thcmQgRW50ZXJwcmlzZSBEZXZlbG9wbWVudCBMUFxuZXhwb3J0IHZhciB0aHJvdHRsZSA9IGZ1bmN0aW9uIHRocm90dGxlKGZuLCB0aHJlc2hob2xkLCBzY29wZSkge1xuICBpZiAodGhyZXNoaG9sZCA9PT0gdm9pZCAwKSB7XG4gICAgdGhyZXNoaG9sZCA9IDI1MDtcbiAgfVxuXG4gIGlmIChzY29wZSA9PT0gdm9pZCAwKSB7XG4gICAgc2NvcGUgPSBfdGhpcztcbiAgfVxuXG4gIHZhciBsYXN0O1xuICB2YXIgZGVmZXJUaW1lcjtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgdmFyIG5vdyA9IERhdGUubm93KCk7XG5cbiAgICBpZiAobGFzdCAmJiBub3cgPCBsYXN0ICsgdGhyZXNoaG9sZCkge1xuICAgICAgY2xlYXJUaW1lb3V0KGRlZmVyVGltZXIpO1xuICAgICAgZGVmZXJUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBsYXN0ID0gbm93O1xuICAgICAgICBmbi5hcHBseShzY29wZSwgYXJncyk7XG4gICAgICB9LCB0aHJlc2hob2xkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGFzdCA9IG5vdztcbiAgICAgIGZuLmFwcGx5KHNjb3BlLCBhcmdzKTtcbiAgICB9XG4gIH07XG59OyIsIid1c2Ugc3RyaWN0JztcblxudmFyIHJlYWN0SXMgPSByZXF1aXJlKCdyZWFjdC1pcycpO1xuXG4vKipcbiAqIENvcHlyaWdodCAyMDE1LCBZYWhvbyEgSW5jLlxuICogQ29weXJpZ2h0cyBsaWNlbnNlZCB1bmRlciB0aGUgTmV3IEJTRCBMaWNlbnNlLiBTZWUgdGhlIGFjY29tcGFueWluZyBMSUNFTlNFIGZpbGUgZm9yIHRlcm1zLlxuICovXG52YXIgUkVBQ1RfU1RBVElDUyA9IHtcbiAgY2hpbGRDb250ZXh0VHlwZXM6IHRydWUsXG4gIGNvbnRleHRUeXBlOiB0cnVlLFxuICBjb250ZXh0VHlwZXM6IHRydWUsXG4gIGRlZmF1bHRQcm9wczogdHJ1ZSxcbiAgZGlzcGxheU5hbWU6IHRydWUsXG4gIGdldERlZmF1bHRQcm9wczogdHJ1ZSxcbiAgZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yOiB0cnVlLFxuICBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHM6IHRydWUsXG4gIG1peGluczogdHJ1ZSxcbiAgcHJvcFR5cGVzOiB0cnVlLFxuICB0eXBlOiB0cnVlXG59O1xudmFyIEtOT1dOX1NUQVRJQ1MgPSB7XG4gIG5hbWU6IHRydWUsXG4gIGxlbmd0aDogdHJ1ZSxcbiAgcHJvdG90eXBlOiB0cnVlLFxuICBjYWxsZXI6IHRydWUsXG4gIGNhbGxlZTogdHJ1ZSxcbiAgYXJndW1lbnRzOiB0cnVlLFxuICBhcml0eTogdHJ1ZVxufTtcbnZhciBGT1JXQVJEX1JFRl9TVEFUSUNTID0ge1xuICAnJCR0eXBlb2YnOiB0cnVlLFxuICByZW5kZXI6IHRydWUsXG4gIGRlZmF1bHRQcm9wczogdHJ1ZSxcbiAgZGlzcGxheU5hbWU6IHRydWUsXG4gIHByb3BUeXBlczogdHJ1ZVxufTtcbnZhciBNRU1PX1NUQVRJQ1MgPSB7XG4gICckJHR5cGVvZic6IHRydWUsXG4gIGNvbXBhcmU6IHRydWUsXG4gIGRlZmF1bHRQcm9wczogdHJ1ZSxcbiAgZGlzcGxheU5hbWU6IHRydWUsXG4gIHByb3BUeXBlczogdHJ1ZSxcbiAgdHlwZTogdHJ1ZVxufTtcbnZhciBUWVBFX1NUQVRJQ1MgPSB7fTtcblRZUEVfU1RBVElDU1tyZWFjdElzLkZvcndhcmRSZWZdID0gRk9SV0FSRF9SRUZfU1RBVElDUztcblxuZnVuY3Rpb24gZ2V0U3RhdGljcyhjb21wb25lbnQpIHtcbiAgaWYgKHJlYWN0SXMuaXNNZW1vKGNvbXBvbmVudCkpIHtcbiAgICByZXR1cm4gTUVNT19TVEFUSUNTO1xuICB9XG5cbiAgcmV0dXJuIFRZUEVfU1RBVElDU1tjb21wb25lbnRbJyQkdHlwZW9mJ11dIHx8IFJFQUNUX1NUQVRJQ1M7XG59XG5cbnZhciBkZWZpbmVQcm9wZXJ0eSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBnZXRPd25Qcm9wZXJ0eU5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM7XG52YXIgZ2V0T3duUHJvcGVydHlTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xudmFyIGdldFByb3RvdHlwZU9mID0gT2JqZWN0LmdldFByb3RvdHlwZU9mO1xudmFyIG9iamVjdFByb3RvdHlwZSA9IE9iamVjdC5wcm90b3R5cGU7XG5mdW5jdGlvbiBob2lzdE5vblJlYWN0U3RhdGljcyh0YXJnZXRDb21wb25lbnQsIHNvdXJjZUNvbXBvbmVudCwgYmxhY2tsaXN0KSB7XG4gIGlmICh0eXBlb2Ygc291cmNlQ29tcG9uZW50ICE9PSAnc3RyaW5nJykge1xuICAgIC8vIGRvbid0IGhvaXN0IG92ZXIgc3RyaW5nIChodG1sKSBjb21wb25lbnRzXG4gICAgaWYgKG9iamVjdFByb3RvdHlwZSkge1xuICAgICAgdmFyIGluaGVyaXRlZENvbXBvbmVudCA9IGdldFByb3RvdHlwZU9mKHNvdXJjZUNvbXBvbmVudCk7XG5cbiAgICAgIGlmIChpbmhlcml0ZWRDb21wb25lbnQgJiYgaW5oZXJpdGVkQ29tcG9uZW50ICE9PSBvYmplY3RQcm90b3R5cGUpIHtcbiAgICAgICAgaG9pc3ROb25SZWFjdFN0YXRpY3ModGFyZ2V0Q29tcG9uZW50LCBpbmhlcml0ZWRDb21wb25lbnQsIGJsYWNrbGlzdCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGtleXMgPSBnZXRPd25Qcm9wZXJ0eU5hbWVzKHNvdXJjZUNvbXBvbmVudCk7XG5cbiAgICBpZiAoZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgICBrZXlzID0ga2V5cy5jb25jYXQoZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZUNvbXBvbmVudCkpO1xuICAgIH1cblxuICAgIHZhciB0YXJnZXRTdGF0aWNzID0gZ2V0U3RhdGljcyh0YXJnZXRDb21wb25lbnQpO1xuICAgIHZhciBzb3VyY2VTdGF0aWNzID0gZ2V0U3RhdGljcyhzb3VyY2VDb21wb25lbnQpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIga2V5ID0ga2V5c1tpXTtcblxuICAgICAgaWYgKCFLTk9XTl9TVEFUSUNTW2tleV0gJiYgIShibGFja2xpc3QgJiYgYmxhY2tsaXN0W2tleV0pICYmICEoc291cmNlU3RhdGljcyAmJiBzb3VyY2VTdGF0aWNzW2tleV0pICYmICEodGFyZ2V0U3RhdGljcyAmJiB0YXJnZXRTdGF0aWNzW2tleV0pKSB7XG4gICAgICAgIHZhciBkZXNjcmlwdG9yID0gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZUNvbXBvbmVudCwga2V5KTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIEF2b2lkIGZhaWx1cmVzIGZyb20gcmVhZC1vbmx5IHByb3BlcnRpZXNcbiAgICAgICAgICBkZWZpbmVQcm9wZXJ0eSh0YXJnZXRDb21wb25lbnQsIGtleSwgZGVzY3JpcHRvcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRhcmdldENvbXBvbmVudDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBob2lzdE5vblJlYWN0U3RhdGljcztcbiIsIi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBvYmplY3QgdHlwZSBvZiB0aGUgZ2l2ZW4gcGF5bG9hZFxyXG4gKlxyXG4gKiBAcGFyYW0geyp9IHBheWxvYWRcclxuICogQHJldHVybnMge3N0cmluZ31cclxuICovXHJcbmZ1bmN0aW9uIGdldFR5cGUocGF5bG9hZCkge1xyXG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChwYXlsb2FkKS5zbGljZSg4LCAtMSk7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgd2hldGhlciB0aGUgcGF5bG9hZCBpcyB1bmRlZmluZWRcclxuICpcclxuICogQHBhcmFtIHsqfSBwYXlsb2FkXHJcbiAqIEByZXR1cm5zIHtwYXlsb2FkIGlzIHVuZGVmaW5lZH1cclxuICovXHJcbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKHBheWxvYWQpIHtcclxuICAgIHJldHVybiBnZXRUeXBlKHBheWxvYWQpID09PSAnVW5kZWZpbmVkJztcclxufVxyXG4vKipcclxuICogUmV0dXJucyB3aGV0aGVyIHRoZSBwYXlsb2FkIGlzIG51bGxcclxuICpcclxuICogQHBhcmFtIHsqfSBwYXlsb2FkXHJcbiAqIEByZXR1cm5zIHtwYXlsb2FkIGlzIG51bGx9XHJcbiAqL1xyXG5mdW5jdGlvbiBpc051bGwocGF5bG9hZCkge1xyXG4gICAgcmV0dXJuIGdldFR5cGUocGF5bG9hZCkgPT09ICdOdWxsJztcclxufVxyXG4vKipcclxuICogUmV0dXJucyB3aGV0aGVyIHRoZSBwYXlsb2FkIGlzIGEgcGxhaW4gSmF2YVNjcmlwdCBvYmplY3QgKGV4Y2x1ZGluZyBzcGVjaWFsIGNsYXNzZXMgb3Igb2JqZWN0cyB3aXRoIG90aGVyIHByb3RvdHlwZXMpXHJcbiAqXHJcbiAqIEBwYXJhbSB7Kn0gcGF5bG9hZFxyXG4gKiBAcmV0dXJucyB7cGF5bG9hZCBpcyB7W2tleTogc3RyaW5nXTogYW55fX1cclxuICovXHJcbmZ1bmN0aW9uIGlzUGxhaW5PYmplY3QocGF5bG9hZCkge1xyXG4gICAgaWYgKGdldFR5cGUocGF5bG9hZCkgIT09ICdPYmplY3QnKVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIHJldHVybiBwYXlsb2FkLmNvbnN0cnVjdG9yID09PSBPYmplY3QgJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mKHBheWxvYWQpID09PSBPYmplY3QucHJvdG90eXBlO1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIHdoZXRoZXIgdGhlIHBheWxvYWQgaXMgYSBwbGFpbiBKYXZhU2NyaXB0IG9iamVjdCAoZXhjbHVkaW5nIHNwZWNpYWwgY2xhc3NlcyBvciBvYmplY3RzIHdpdGggb3RoZXIgcHJvdG90eXBlcylcclxuICpcclxuICogQHBhcmFtIHsqfSBwYXlsb2FkXHJcbiAqIEByZXR1cm5zIHtwYXlsb2FkIGlzIHtba2V5OiBzdHJpbmddOiBhbnl9fVxyXG4gKi9cclxuZnVuY3Rpb24gaXNPYmplY3QocGF5bG9hZCkge1xyXG4gICAgcmV0dXJuIGlzUGxhaW5PYmplY3QocGF5bG9hZCk7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgd2hldGhlciB0aGUgcGF5bG9hZCBpcyBhbiBhbnkga2luZCBvZiBvYmplY3QgKGluY2x1ZGluZyBzcGVjaWFsIGNsYXNzZXMgb3Igb2JqZWN0cyB3aXRoIGRpZmZlcmVudCBwcm90b3R5cGVzKVxyXG4gKlxyXG4gKiBAcGFyYW0geyp9IHBheWxvYWRcclxuICogQHJldHVybnMge3BheWxvYWQgaXMge1trZXk6IHN0cmluZ106IGFueX19XHJcbiAqL1xyXG5mdW5jdGlvbiBpc0FueU9iamVjdChwYXlsb2FkKSB7XHJcbiAgICByZXR1cm4gZ2V0VHlwZShwYXlsb2FkKSA9PT0gJ09iamVjdCc7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgd2hldGhlciB0aGUgcGF5bG9hZCBpcyBhbiBvYmplY3QgbGlrZSBhIHR5cGUgcGFzc2VkIGluIDwgPlxyXG4gKlxyXG4gKiBVc2FnZTogaXNPYmplY3RMaWtlPHtpZDogYW55fT4ocGF5bG9hZCkgLy8gd2lsbCBtYWtlIHN1cmUgaXQncyBhbiBvYmplY3QgYW5kIGhhcyBhbiBgaWRgIHByb3AuXHJcbiAqXHJcbiAqIEB0ZW1wbGF0ZSBUIHRoaXMgbXVzdCBiZSBwYXNzZWQgaW4gPCA+XHJcbiAqIEBwYXJhbSB7Kn0gcGF5bG9hZFxyXG4gKiBAcmV0dXJucyB7cGF5bG9hZCBpcyBUfVxyXG4gKi9cclxuZnVuY3Rpb24gaXNPYmplY3RMaWtlKHBheWxvYWQpIHtcclxuICAgIHJldHVybiBpc0FueU9iamVjdChwYXlsb2FkKTtcclxufVxyXG4vKipcclxuICogUmV0dXJucyB3aGV0aGVyIHRoZSBwYXlsb2FkIGlzIGEgZnVuY3Rpb25cclxuICpcclxuICogQHBhcmFtIHsqfSBwYXlsb2FkXHJcbiAqIEByZXR1cm5zIHtwYXlsb2FkIGlzIEZ1bmN0aW9ufVxyXG4gKi9cclxuZnVuY3Rpb24gaXNGdW5jdGlvbihwYXlsb2FkKSB7XHJcbiAgICByZXR1cm4gZ2V0VHlwZShwYXlsb2FkKSA9PT0gJ0Z1bmN0aW9uJztcclxufVxyXG4vKipcclxuICogUmV0dXJucyB3aGV0aGVyIHRoZSBwYXlsb2FkIGlzIGFuIGFycmF5XHJcbiAqXHJcbiAqIEBwYXJhbSB7Kn0gcGF5bG9hZFxyXG4gKiBAcmV0dXJucyB7cGF5bG9hZCBpcyB1bmRlZmluZWR9XHJcbiAqL1xyXG5mdW5jdGlvbiBpc0FycmF5KHBheWxvYWQpIHtcclxuICAgIHJldHVybiBnZXRUeXBlKHBheWxvYWQpID09PSAnQXJyYXknO1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIHdoZXRoZXIgdGhlIHBheWxvYWQgaXMgYSBzdHJpbmdcclxuICpcclxuICogQHBhcmFtIHsqfSBwYXlsb2FkXHJcbiAqIEByZXR1cm5zIHtwYXlsb2FkIGlzIHN0cmluZ31cclxuICovXHJcbmZ1bmN0aW9uIGlzU3RyaW5nKHBheWxvYWQpIHtcclxuICAgIHJldHVybiBnZXRUeXBlKHBheWxvYWQpID09PSAnU3RyaW5nJztcclxufVxyXG4vKipcclxuICogUmV0dXJucyB3aGV0aGVyIHRoZSBwYXlsb2FkIGlzIGEgc3RyaW5nLCBCVVQgcmV0dXJucyBmYWxzZSBmb3IgJydcclxuICpcclxuICogQHBhcmFtIHsqfSBwYXlsb2FkXHJcbiAqIEByZXR1cm5zIHtwYXlsb2FkIGlzIHN0cmluZ31cclxuICovXHJcbmZ1bmN0aW9uIGlzRnVsbFN0cmluZyhwYXlsb2FkKSB7XHJcbiAgICByZXR1cm4gaXNTdHJpbmcocGF5bG9hZCkgJiYgcGF5bG9hZCAhPT0gJyc7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgd2hldGhlciB0aGUgcGF5bG9hZCBpcyAnJ1xyXG4gKlxyXG4gKiBAcGFyYW0geyp9IHBheWxvYWRcclxuICogQHJldHVybnMge3BheWxvYWQgaXMgc3RyaW5nfVxyXG4gKi9cclxuZnVuY3Rpb24gaXNFbXB0eVN0cmluZyhwYXlsb2FkKSB7XHJcbiAgICByZXR1cm4gcGF5bG9hZCA9PT0gJyc7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgd2hldGhlciB0aGUgcGF5bG9hZCBpcyBhIG51bWJlclxyXG4gKlxyXG4gKiBUaGlzIHdpbGwgcmV0dXJuIGZhbHNlIGZvciBOYU5cclxuICpcclxuICogQHBhcmFtIHsqfSBwYXlsb2FkXHJcbiAqIEByZXR1cm5zIHtwYXlsb2FkIGlzIG51bWJlcn1cclxuICovXHJcbmZ1bmN0aW9uIGlzTnVtYmVyKHBheWxvYWQpIHtcclxuICAgIHJldHVybiBnZXRUeXBlKHBheWxvYWQpID09PSAnTnVtYmVyJyAmJiAhaXNOYU4ocGF5bG9hZCk7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgd2hldGhlciB0aGUgcGF5bG9hZCBpcyBhIGJvb2xlYW5cclxuICpcclxuICogQHBhcmFtIHsqfSBwYXlsb2FkXHJcbiAqIEByZXR1cm5zIHtwYXlsb2FkIGlzIGJvb2xlYW59XHJcbiAqL1xyXG5mdW5jdGlvbiBpc0Jvb2xlYW4ocGF5bG9hZCkge1xyXG4gICAgcmV0dXJuIGdldFR5cGUocGF5bG9hZCkgPT09ICdCb29sZWFuJztcclxufVxyXG4vKipcclxuICogUmV0dXJucyB3aGV0aGVyIHRoZSBwYXlsb2FkIGlzIGEgcmVndWxhciBleHByZXNzaW9uXHJcbiAqXHJcbiAqIEBwYXJhbSB7Kn0gcGF5bG9hZFxyXG4gKiBAcmV0dXJucyB7cGF5bG9hZCBpcyBSZWdFeHB9XHJcbiAqL1xyXG5mdW5jdGlvbiBpc1JlZ0V4cChwYXlsb2FkKSB7XHJcbiAgICByZXR1cm4gZ2V0VHlwZShwYXlsb2FkKSA9PT0gJ1JlZ0V4cCc7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgd2hldGhlciB0aGUgcGF5bG9hZCBpcyBhIFN5bWJvbFxyXG4gKlxyXG4gKiBAcGFyYW0geyp9IHBheWxvYWRcclxuICogQHJldHVybnMge3BheWxvYWQgaXMgc3ltYm9sfVxyXG4gKi9cclxuZnVuY3Rpb24gaXNTeW1ib2wocGF5bG9hZCkge1xyXG4gICAgcmV0dXJuIGdldFR5cGUocGF5bG9hZCkgPT09ICdTeW1ib2wnO1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIHdoZXRoZXIgdGhlIHBheWxvYWQgaXMgYSBkYXRlLCBhbmQgdGhhdCB0aGUgZGF0ZSBpcyBWYWxpZFxyXG4gKlxyXG4gKiBAcGFyYW0geyp9IHBheWxvYWRcclxuICogQHJldHVybnMge3BheWxvYWQgaXMgRGF0ZX1cclxuICovXHJcbmZ1bmN0aW9uIGlzRGF0ZShwYXlsb2FkKSB7XHJcbiAgICByZXR1cm4gZ2V0VHlwZShwYXlsb2FkKSA9PT0gJ0RhdGUnICYmICFpc05hTihwYXlsb2FkKTtcclxufVxyXG4vKipcclxuICogUmV0dXJucyB3aGV0aGVyIHRoZSBwYXlsb2FkIGlzIGEgYmxvYlxyXG4gKlxyXG4gKiBAcGFyYW0geyp9IHBheWxvYWRcclxuICogQHJldHVybnMge3BheWxvYWQgaXMgQmxvYn1cclxuICovXHJcbmZ1bmN0aW9uIGlzQmxvYihwYXlsb2FkKSB7XHJcbiAgICByZXR1cm4gZ2V0VHlwZShwYXlsb2FkKSA9PT0gJ0Jsb2InO1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIHdoZXRoZXIgdGhlIHBheWxvYWQgaXMgYSBmaWxlXHJcbiAqXHJcbiAqIEBwYXJhbSB7Kn0gcGF5bG9hZFxyXG4gKiBAcmV0dXJucyB7cGF5bG9hZCBpcyBGaWxlfVxyXG4gKi9cclxuZnVuY3Rpb24gaXNGaWxlKHBheWxvYWQpIHtcclxuICAgIHJldHVybiBnZXRUeXBlKHBheWxvYWQpID09PSAnRmlsZSc7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgd2hldGhlciB0aGUgcGF5bG9hZCBpcyBhIHByaW1pdGl2ZSB0eXBlIChlZy4gQm9vbGVhbiB8IE51bGwgfCBVbmRlZmluZWQgfCBOdW1iZXIgfCBTdHJpbmcgfCBTeW1ib2wpXHJcbiAqXHJcbiAqIEBwYXJhbSB7Kn0gcGF5bG9hZFxyXG4gKiBAcmV0dXJucyB7KHBheWxvYWQgaXMgYm9vbGVhbiB8IG51bGwgfCB1bmRlZmluZWQgfCBudW1iZXIgfCBzdHJpbmcgfCBzeW1ib2wpfVxyXG4gKi9cclxuZnVuY3Rpb24gaXNQcmltaXRpdmUocGF5bG9hZCkge1xyXG4gICAgcmV0dXJuIChpc0Jvb2xlYW4ocGF5bG9hZCkgfHxcclxuICAgICAgICBpc051bGwocGF5bG9hZCkgfHxcclxuICAgICAgICBpc1VuZGVmaW5lZChwYXlsb2FkKSB8fFxyXG4gICAgICAgIGlzTnVtYmVyKHBheWxvYWQpIHx8XHJcbiAgICAgICAgaXNTdHJpbmcocGF5bG9hZCkgfHxcclxuICAgICAgICBpc1N5bWJvbChwYXlsb2FkKSk7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgdHJ1ZSB3aGV0aGVyIHRoZSBwYXlsb2FkIGlzIG51bGwgb3IgdW5kZWZpbmVkXHJcbiAqXHJcbiAqIEBwYXJhbSB7Kn0gcGF5bG9hZFxyXG4gKiBAcmV0dXJucyB7KHBheWxvYWQgaXMgbnVsbCB8IHVuZGVmaW5lZCl9XHJcbiAqL1xyXG5mdW5jdGlvbiBpc051bGxPclVuZGVmaW5lZChwYXlsb2FkKSB7XHJcbiAgICByZXR1cm4gaXNOdWxsKHBheWxvYWQpIHx8IGlzVW5kZWZpbmVkKHBheWxvYWQpO1xyXG59XHJcbi8qKlxyXG4gKiBEb2VzIGEgZ2VuZXJpYyBjaGVjayB0byBjaGVjayB0aGF0IHRoZSBnaXZlbiBwYXlsb2FkIGlzIG9mIGEgZ2l2ZW4gdHlwZS5cclxuICogSW4gY2FzZXMgbGlrZSBOdW1iZXIsIGl0IHdpbGwgcmV0dXJuIHRydWUgZm9yIE5hTiBhcyBOYU4gaXMgYSBOdW1iZXIgKHRoYW5rcyBqYXZhc2NyaXB0ISk7XHJcbiAqIEl0IHdpbGwsIGhvd2V2ZXIsIGRpZmZlcmVudGlhdGUgYmV0d2VlbiBvYmplY3QgYW5kIG51bGxcclxuICpcclxuICogQHRlbXBsYXRlIFRcclxuICogQHBhcmFtIHsqfSBwYXlsb2FkXHJcbiAqIEBwYXJhbSB7VH0gdHlwZVxyXG4gKiBAdGhyb3dzIHtUeXBlRXJyb3J9IFdpbGwgdGhyb3cgdHlwZSBlcnJvciBpZiB0eXBlIGlzIGFuIGludmFsaWQgdHlwZVxyXG4gKiBAcmV0dXJucyB7cGF5bG9hZCBpcyBUfVxyXG4gKi9cclxuZnVuY3Rpb24gaXNUeXBlKHBheWxvYWQsIHR5cGUpIHtcclxuICAgIGlmICghKHR5cGUgaW5zdGFuY2VvZiBGdW5jdGlvbikpIHtcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUeXBlIG11c3QgYmUgYSBmdW5jdGlvbicpO1xyXG4gICAgfVxyXG4gICAgaWYgKCF0eXBlLmhhc093blByb3BlcnR5KCdwcm90b3R5cGUnKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1R5cGUgaXMgbm90IGEgY2xhc3MnKTtcclxuICAgIH1cclxuICAgIC8vIENsYXNzZXMgdXN1YWxseSBoYXZlIG5hbWVzIChhcyBmdW5jdGlvbnMgdXN1YWxseSBoYXZlIG5hbWVzKVxyXG4gICAgdmFyIG5hbWUgPSB0eXBlLm5hbWU7XHJcbiAgICByZXR1cm4gZ2V0VHlwZShwYXlsb2FkKSA9PT0gbmFtZSB8fCBCb29sZWFuKHBheWxvYWQgJiYgcGF5bG9hZC5jb25zdHJ1Y3RvciA9PT0gdHlwZSk7XHJcbn1cblxuZXhwb3J0IHsgZ2V0VHlwZSwgaXNBbnlPYmplY3QsIGlzQXJyYXksIGlzQmxvYiwgaXNCb29sZWFuLCBpc0RhdGUsIGlzRW1wdHlTdHJpbmcsIGlzRmlsZSwgaXNGdWxsU3RyaW5nLCBpc0Z1bmN0aW9uLCBpc051bGwsIGlzTnVsbE9yVW5kZWZpbmVkLCBpc051bWJlciwgaXNPYmplY3QsIGlzT2JqZWN0TGlrZSwgaXNQbGFpbk9iamVjdCwgaXNQcmltaXRpdmUsIGlzUmVnRXhwLCBpc1N0cmluZywgaXNTeW1ib2wsIGlzVHlwZSwgaXNVbmRlZmluZWQgfTtcbiIsInZhciBfZXh0ZW5kcz1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihhKXtmb3IodmFyIGIsYz0xO2M8YXJndW1lbnRzLmxlbmd0aDtjKyspZm9yKHZhciBkIGluIGI9YXJndW1lbnRzW2NdLGIpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsZCkmJihhW2RdPWJbZF0pO3JldHVybiBhfSxfdHlwZW9mPXR5cGVvZiBTeW1ib2w9PSdmdW5jdGlvbicmJnR5cGVvZiBTeW1ib2wuaXRlcmF0b3I9PSdzeW1ib2wnP2Z1bmN0aW9uKGEpe3JldHVybiB0eXBlb2YgYX06ZnVuY3Rpb24oYSl7cmV0dXJuIGEmJnR5cGVvZiBTeW1ib2w9PSdmdW5jdGlvbicmJmEuY29uc3RydWN0b3I9PT1TeW1ib2wmJmEhPT1TeW1ib2wucHJvdG90eXBlPydzeW1ib2wnOnR5cGVvZiBhfTtmdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoYSxiKXt2YXIgYz17fTtmb3IodmFyIGQgaW4gYSliLmluZGV4T2YoZCk+PTB8fE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhLGQpJiYoY1tkXT1hW2RdKTtyZXR1cm4gY31pbXBvcnQgUmVhY3QgZnJvbSdyZWFjdCc7aW1wb3J0IHVucXVvdGUgZnJvbSd1bnF1b3RlJzt2YXIgQVRUUklCVVRFX1RPX0pTWF9QUk9QX01BUD17YWNjZXNza2V5OidhY2Nlc3NLZXknLGFsbG93ZnVsbHNjcmVlbjonYWxsb3dGdWxsU2NyZWVuJyxhbGxvd3RyYW5zcGFyZW5jeTonYWxsb3dUcmFuc3BhcmVuY3knLGF1dG9jb21wbGV0ZTonYXV0b0NvbXBsZXRlJyxhdXRvZm9jdXM6J2F1dG9Gb2N1cycsYXV0b3BsYXk6J2F1dG9QbGF5JyxjZWxscGFkZGluZzonY2VsbFBhZGRpbmcnLGNlbGxzcGFjaW5nOidjZWxsU3BhY2luZycsY2hhcnNldDonY2hhclNldCcsY2xhc3M6J2NsYXNzTmFtZScsY2xhc3NpZDonY2xhc3NJZCcsY29sc3BhbjonY29sU3BhbicsY29udGVudGVkaXRhYmxlOidjb250ZW50RWRpdGFibGUnLGNvbnRleHRtZW51Oidjb250ZXh0TWVudScsY3Jvc3NvcmlnaW46J2Nyb3NzT3JpZ2luJyxlbmN0eXBlOidlbmNUeXBlJyxmb3I6J2h0bWxGb3InLGZvcm1hY3Rpb246J2Zvcm1BY3Rpb24nLGZvcm1lbmN0eXBlOidmb3JtRW5jVHlwZScsZm9ybW1ldGhvZDonZm9ybU1ldGhvZCcsZm9ybW5vdmFsaWRhdGU6J2Zvcm1Ob1ZhbGlkYXRlJyxmb3JtdGFyZ2V0Oidmb3JtVGFyZ2V0JyxmcmFtZWJvcmRlcjonZnJhbWVCb3JkZXInLGhyZWZsYW5nOidocmVmTGFuZycsaW5wdXRtb2RlOidpbnB1dE1vZGUnLGtleXBhcmFtczona2V5UGFyYW1zJyxrZXl0eXBlOidrZXlUeXBlJyxtYXJnaW5oZWlnaHQ6J21hcmdpbkhlaWdodCcsbWFyZ2lud2lkdGg6J21hcmdpbldpZHRoJyxtYXhsZW5ndGg6J21heExlbmd0aCcsbWVkaWFncm91cDonbWVkaWFHcm91cCcsbWlubGVuZ3RoOidtaW5MZW5ndGgnLG5vdmFsaWRhdGU6J25vVmFsaWRhdGUnLHJhZGlvZ3JvdXA6J3JhZGlvR3JvdXAnLHJlYWRvbmx5OidyZWFkT25seScscm93c3Bhbjoncm93U3Bhbicsc3BlbGxjaGVjazonc3BlbGxDaGVjaycsc3JjZG9jOidzcmNEb2MnLHNyY2xhbmc6J3NyY0xhbmcnLHNyY3NldDonc3JjU2V0Jyx0YWJpbmRleDondGFiSW5kZXgnLHVzZW1hcDondXNlTWFwJ30sbmFtZWRDb2Rlc1RvVW5pY29kZT17YW1wOicmJyxhcG9zOidcXCcnLGd0Oic+JyxsdDonPCcsbmJzcDonXFx4QTAnLHF1b3Q6J1xcdTIwMUMnfSxET19OT1RfUFJPQ0VTU19IVE1MX0VMRU1FTlRTPVsnc3R5bGUnLCdzY3JpcHQnXSxBVFRSX0VYVFJBQ1RPUl9SPS8oWy1BLVowLTlfOl0rKSg/Olxccyo9XFxzKig/Oig/OlwiKCg/OlxcXFwufFteXCJdKSopXCIpfCg/OicoKD86XFxcXC58W14nXSkqKScpfCg/OlxceygoPzpcXFxcLnx7W159XSo/fXxbXn1dKSopXFx9KSkpPy9naSxBVVRPTElOS19NQUlMVE9fQ0hFQ0tfUj0vbWFpbHRvOi9pLEJMT0NLX0VORF9SPS9cXG57Mix9JC8sQkxPQ0tRVU9URV9SPS9eKCAqPlteXFxuXSsoXFxuW15cXG5dKykqXFxuKikrXFxuezIsfS8sQkxPQ0tRVU9URV9UUklNX0xFRlRfTVVMVElMSU5FX1I9L14gKj4gPy9nbSxCUkVBS19MSU5FX1I9L14gezIsfVxcbi8sQlJFQUtfVEhFTUFUSUNfUj0vXig/OiggKlstKl9dKSAqKXszLH0oPzpcXG4gKikrXFxuLyxDT0RFX0JMT0NLX0ZFTkNFRF9SPS9eXFxzKihgezMsfXx+ezMsfSkgKihcXFMrKT8gKlxcbihbXFxzXFxTXSs/KVxccypcXDEgKig/OlxcbiAqKStcXG4/LyxDT0RFX0JMT0NLX1I9L14oPzogezR9W15cXG5dK1xcbiopKyg/OlxcbiAqKStcXG4/LyxDT0RFX0lOTElORV9SPS9eKGArKVxccyooW1xcc1xcU10qP1teYF0pXFxzKlxcMSg/IWApLyxDT05TRUNVVElWRV9ORVdMSU5FX1I9L14oPzpcXG4gKikqXFxuLyxDUl9ORVdMSU5FX1I9L1xcclxcbj8vZyxGT09UTk9URV9SPS9eXFxbXFxeKC4qKVxcXSg6LiopXFxuLyxGT09UTk9URV9SRUZFUkVOQ0VfUj0vXlxcW1xcXiguKilcXF0vLEZPUk1GRUVEX1I9L1xcZi9nLEdGTV9UQVNLX1I9L15cXHMqP1xcWyh4fFxccylcXF0vLEhFQURJTkdfUj0vXiAqKCN7MSw2fSkgKihbXlxcbl0rKVxcbnswLDJ9LyxIRUFESU5HX1NFVEVYVF9SPS9eKFteXFxuXSspXFxuICooPXwtKXszLH0gKig/OlxcbiAqKStcXG4vLEhUTUxfQkxPQ0tfRUxFTUVOVF9SPS9eICooPyE8W2Etel1bXiA+L10qID9cXC8+KTwoW2Etel1bXiA+L10qKSA/KFtePl0qKVxcL3swfT5cXG4/KFxccyooPzo8XFwxW14+XSo/PltcXHNcXFNdKj88XFwvXFwxPnwoPyE8XFwxKVtcXHNcXFNdKSo/KTxcXC9cXDE+XFxuKi9pLEhUTUxfQ0hBUl9DT0RFX1I9LyYoW2Etel0rKTsvZyxIVE1MX0NPTU1FTlRfUj0vXjwhLS0uKj8tLT4vLEhUTUxfQ1VTVE9NX0FUVFJfUj0vXihkYXRhfGFyaWF8eCktW2Etel9dW2EtelxcZF8uLV0qJC8sSFRNTF9TRUxGX0NMT1NJTkdfRUxFTUVOVF9SPS9eICo8KFthLXpdW2EtejAtOTpdKikoPzpcXHMrKCg/OjwuKj8+fFtePl0pKikpP1xcLz8+KD8hPFxcL1xcMT4pKFxccypcXG4pPy9pLElOVEVSUE9MQVRJT05fUj0vXlxcey4qXFx9JC8sTElOS19BVVRPTElOS19CQVJFX1VSTF9SPS9eKGh0dHBzPzpcXC9cXC9bXlxcczxdK1tePC4sOjtcIicpXFxdXFxzXSkvLExJTktfQVVUT0xJTktfTUFJTFRPX1I9L148KFteID5dK0BbXiA+XSspPi8sTElOS19BVVRPTElOS19SPS9ePChbXiA+XSs6XFwvW14gPl0rKT4vLExJU1RfSVRFTV9FTkRfUj0vICpcXG4rJC8sTElTVF9MT09LQkVISU5EX1I9Lyg/Ol58XFxuKSggKikkLyxDQVBUVVJFX0xFVFRFUl9BRlRFUl9IWVBIRU49Ly0oW2Etel0pPy9naSxOUF9UQUJMRV9SPS9eKC4qXFx8Py4qKVxcbiAqKFxcfD8gKlstOl0rICpcXHxbLXwgOl0qKVxcbigoPzouKlxcfC4qXFxuKSopXFxuPy8sUEFSQUdSQVBIX1I9L14oKD86W15cXG5dfFxcbig/ISAqXFxuKSkrKSg/OlxcbiAqKStcXG4vLFJFRkVSRU5DRV9JTUFHRV9PUl9MSU5LPS9eXFxbKFteXFxdXSopXFxdOlxccyooXFxTKylcXHMqKFwiKFteXCJdKilcIik/LyxSRUZFUkVOQ0VfSU1BR0VfUj0vXiFcXFsoW15cXF1dKilcXF0gP1xcWyhbXlxcXV0qKVxcXS8sUkVGRVJFTkNFX0xJTktfUj0vXlxcWyhbXlxcXV0qKVxcXSA/XFxbKFteXFxdXSopXFxdLyxTUVVBUkVfQlJBQ0tFVFNfUj0vKFxcW3xcXF0pL2csU0hPVUxEX1JFTkRFUl9BU19CTE9DS19SPS8oXFxufF5bLSpdXFxzfF4jfF4gezIsfXxeLXsyLH18Xj5cXHMpLyxUQUJfUj0vXFx0L2csVEFCTEVfU0VQQVJBVE9SX1I9L14gKlxcfCAqLyxUQUJMRV9UUklNX1BJUEVTPS8oXiAqXFx8fFxcfCAqJCkvZyxUQUJMRV9DRUxMX0VORF9UUklNPS8gKiQvLFRBQkxFX0NFTlRFUl9BTElHTj0vXiAqOi0rOiAqJC8sVEFCTEVfTEVGVF9BTElHTj0vXiAqOi0rICokLyxUQUJMRV9SSUdIVF9BTElHTj0vXiAqLSs6ICokLyxURVhUX0JPTERfUj0vXihbKl9dKVxcMSgoPzpcXFsuKj9cXF1bKFtdLio/WylcXF1dfDwuKj8+KD86Lio/PC4qPz4pP3xgLio/YHx+Ky4qP34rfC4pKj8pXFwxXFwxKD8hXFwxKS8sVEVYVF9FTVBIQVNJWkVEX1I9L14oWypfXSkoKD86XFxbLio/XFxdWyhbXS4qP1spXFxdXXw8Lio/Pig/Oi4qPzwuKj8+KT98YC4qP2B8fisuKj9+K3wuKSo/KVxcMSg/IVxcMSkvLFRFWFRfU1RSSUtFVEhST1VHSEVEX1I9L15+figoPzpcXFsuKj9cXF18PC4qPz4oPzouKj88Lio/Pik/fGAuKj9gfC4pKj8pfn4vLFRFWFRfRVNDQVBFRF9SPS9eXFxcXChbXjAtOUEtWmEtelxcc10pLyxURVhUX1BMQUlOX1I9L15bXFxzXFxTXSs/KD89W14wLTlBLVpcXHNcXHUwMGMwLVxcdWZmZmYmOy4oKSdcIl18XFxkK1xcLnxcXG5cXG58IHsyLH1cXG58XFx3KzpcXFN8JCkvaSxUUklNX05FV0xJTkVTX0FORF9UUkFJTElOR19XSElURVNQQUNFX1I9LyheXFxuK3xcXG4rJHxcXHMrJCkvZyxIVE1MX0xFRlRfVFJJTV9BTU9VTlRfUj0vXihbIFxcdF0qKS8sVU5FU0NBUEVfVVJMX1I9L1xcXFwoW14wLTlBLVpcXHNdKS9naSxMSVNUX0JVTExFVD0nKD86WyorLV18XFxcXGQrXFxcXC4pJyxMSVNUX0lURU1fUFJFRklYPScoICopKCg/OlsqKy1dfFxcXFxkK1xcXFwuKSkgKycsTElTVF9JVEVNX1BSRUZJWF9SPS9eKCAqKSgoPzpbKistXXxcXGQrXFwuKSkgKy8sTElTVF9JVEVNX1I9LyggKikoKD86WyorLV18XFxkK1xcLikpICtbXlxcbl0qKD86XFxuKD8hXFwxKD86WyorLV18XFxkK1xcLikgKVteXFxuXSopKihcXG58JCkvZ20sTElTVF9SPS9eKCAqKSgoPzpbKistXXxcXGQrXFwuKSkgW1xcc1xcU10rPyg/OlxcbnsyLH0oPyEgKSg/IVxcMSg/OlsqKy1dfFxcZCtcXC4pICg/ISg/OlsqKy1dfFxcZCtcXC4pICkpXFxuKnxcXHMqXFxuKiQpLyxMSU5LX0lOU0lERT0nKD86XFxcXFtbXlxcXFxdXSpcXFxcXXxbXlxcXFxbXFxcXF1dfFxcXFxdKD89W15cXFxcW10qXFxcXF0pKSonLExJTktfSFJFRl9BTkRfVElUTEU9J1xcXFxzKjw/KCg/OlteXFxcXHNcXFxcXFxcXF18XFxcXFxcXFwuKSo/KT4/KD86XFxcXHMrW1xcJ1wiXShbXFxcXHNcXFxcU10qPylbXFwnXCJdKT9cXFxccyonLExJTktfUj0vXlxcWygoPzpcXFtbXlxcXV0qXFxdfFteXFxbXFxdXXxcXF0oPz1bXlxcW10qXFxdKSkqKVxcXVxcKFxccyo8PygoPzpbXlxcc1xcXFxdfFxcXFwuKSo/KT4/KD86XFxzK1snXCJdKFtcXHNcXFNdKj8pWydcIl0pP1xccypcXCkvLElNQUdFX1I9L14hXFxbKCg/OlxcW1teXFxdXSpcXF18W15cXFtcXF1dfFxcXSg/PVteXFxbXSpcXF0pKSopXFxdXFwoXFxzKjw/KCg/OlteXFxzXFxcXF18XFxcXC4pKj8pPj8oPzpcXHMrWydcIl0oW1xcc1xcU10qPylbJ1wiXSk/XFxzKlxcKS8sQkxPQ0tfU1lOVEFYRVM9W0JMT0NLUVVPVEVfUixDT0RFX0JMT0NLX1IsQ09ERV9CTE9DS19GRU5DRURfUixIRUFESU5HX1IsSEVBRElOR19TRVRFWFRfUixIVE1MX0JMT0NLX0VMRU1FTlRfUixIVE1MX0NPTU1FTlRfUixIVE1MX1NFTEZfQ0xPU0lOR19FTEVNRU5UX1IsTElTVF9JVEVNX1IsTElTVF9SLE5QX1RBQkxFX1IsUEFSQUdSQVBIX1JdO2Z1bmN0aW9uIGNvbnRhaW5zQmxvY2tTeW50YXgoYSl7cmV0dXJuIEJMT0NLX1NZTlRBWEVTLnNvbWUoZnVuY3Rpb24oYil7cmV0dXJuIGIudGVzdChhKX0pfWZ1bmN0aW9uIHNsdWdpZnkoYSl7cmV0dXJuIGEucmVwbGFjZSgvW8OAw4HDgsODw4TDhcOgw6HDosOjw6TDpcOmw4ZdL2csJ2EnKS5yZXBsYWNlKC9bw6fDh10vZywnYycpLnJlcGxhY2UoL1vDsMOQXS9nLCdkJykucmVwbGFjZSgvW8OIw4nDisOLw6nDqMOqw6tdL2csJ2UnKS5yZXBsYWNlKC9bw4/Dr8OOw67DjcOtw4zDrF0vZywnaScpLnJlcGxhY2UoL1vDkcOxXS9nLCduJykucmVwbGFjZSgvW8O4w5jFk8WSw5XDtcOUw7TDk8Ozw5LDsl0vZywnbycpLnJlcGxhY2UoL1vDnMO8w5vDu8Oaw7rDmcO5XS9nLCd1JykucmVwbGFjZSgvW8W4w7/DncO9XS9nLCd5JykucmVwbGFjZSgvW15hLXowLTktIF0vZ2ksJycpLnJlcGxhY2UoLyAvZ2ksJy0nKS50b0xvd2VyQ2FzZSgpfWZ1bmN0aW9uIHBhcnNlVGFibGVBbGlnbkNhcHR1cmUoYSl7aWYoVEFCTEVfUklHSFRfQUxJR04udGVzdChhKSlyZXR1cm4ncmlnaHQnO3JldHVybiBUQUJMRV9DRU5URVJfQUxJR04udGVzdChhKT8nY2VudGVyJzpUQUJMRV9MRUZUX0FMSUdOLnRlc3QoYSk/J2xlZnQnOm51bGx9ZnVuY3Rpb24gcGFyc2VUYWJsZVJvdyhhLGIsYyl7dmFyIGQ9Yy5pblRhYmxlO2MuaW5UYWJsZT0hMDt2YXIgZT1iKGEudHJpbSgpLGMpO2MuaW5UYWJsZT1kO3ZhciBmPVtbXV07cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihhLGIpe2EudHlwZT09PSd0YWJsZVNlcGFyYXRvcic/YiE9PTAmJmIhPT1lLmxlbmd0aC0xJiZmLnB1c2goW10pOihhLnR5cGU9PT0ndGV4dCcmJihlW2IrMV09PW51bGx8fGVbYisxXS50eXBlPT09J3RhYmxlU2VwYXJhdG9yJykmJihhLmNvbnRlbnQ9YS5jb250ZW50LnJlcGxhY2UoVEFCTEVfQ0VMTF9FTkRfVFJJTSwnJykpLGZbZi5sZW5ndGgtMV0ucHVzaChhKSl9KSxmfWZ1bmN0aW9uIHBhcnNlVGFibGVBbGlnbihhKXt2YXIgYj1hLnJlcGxhY2UoVEFCTEVfVFJJTV9QSVBFUywnJykuc3BsaXQoJ3wnKTtyZXR1cm4gYi5tYXAocGFyc2VUYWJsZUFsaWduQ2FwdHVyZSl9ZnVuY3Rpb24gcGFyc2VUYWJsZUNlbGxzKGEsYixjKXt2YXIgZD1hLnRyaW0oKS5zcGxpdCgnXFxuJyk7cmV0dXJuIGQubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBwYXJzZVRhYmxlUm93KGEsYixjKX0pfWZ1bmN0aW9uIHBhcnNlVGFibGUoYSxiLGMpe2MuaW5saW5lPSEwO3ZhciBkPXBhcnNlVGFibGVSb3coYVsxXSxiLGMpLGU9cGFyc2VUYWJsZUFsaWduKGFbMl0sYixjKSxmPXBhcnNlVGFibGVDZWxscyhhWzNdLGIsYyk7cmV0dXJuIGMuaW5saW5lPSExLHthbGlnbjplLGNlbGxzOmYsaGVhZGVyOmQsdHlwZTondGFibGUnfX1mdW5jdGlvbiBnZXRUYWJsZVN0eWxlKGEsYil7cmV0dXJuIGEuYWxpZ25bYl09PW51bGw/e306e3RleHRBbGlnbjphLmFsaWduW2JdfX1mdW5jdGlvbiBub3JtYWxpemVBdHRyaWJ1dGVLZXkoYSl7dmFyIGI9YS5pbmRleE9mKCctJyk7cmV0dXJuIGIhPT0tMSYmYS5tYXRjaChIVE1MX0NVU1RPTV9BVFRSX1IpPT09bnVsbCYmKGE9YS5yZXBsYWNlKENBUFRVUkVfTEVUVEVSX0FGVEVSX0hZUEhFTixmdW5jdGlvbihhLGIpe3JldHVybiBiLnRvVXBwZXJDYXNlKCl9KSksYX1mdW5jdGlvbiBhdHRyaWJ1dGVWYWx1ZVRvSlNYUHJvcFZhbHVlKGEsYil7cmV0dXJuIGE9PT0nc3R5bGUnP2Iuc3BsaXQoLztcXHM/LykucmVkdWNlKGZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5zbGljZSgwLGIuaW5kZXhPZignOicpKSxkPWMucmVwbGFjZSgvKC1bYS16XSkvZyxmdW5jdGlvbihhKXtyZXR1cm4gYVsxXS50b1VwcGVyQ2FzZSgpfSk7cmV0dXJuIGFbZF09Yi5zbGljZShjLmxlbmd0aCsxKS50cmltKCksYX0se30pOmE9PT0naHJlZic/c2FuaXRpemVVcmwoYik6KGIubWF0Y2goSU5URVJQT0xBVElPTl9SKSYmKGI9Yi5zbGljZSgxLGIubGVuZ3RoLTEpKSxiPT09J3RydWUnfHxiIT09J2ZhbHNlJyYmYil9ZnVuY3Rpb24gbm9ybWFsaXplV2hpdGVzcGFjZShhKXtyZXR1cm4gYS5yZXBsYWNlKENSX05FV0xJTkVfUiwnXFxuJykucmVwbGFjZShGT1JNRkVFRF9SLCcnKS5yZXBsYWNlKFRBQl9SLCcgICAgJyl9ZnVuY3Rpb24gcGFyc2VyRm9yKGEpe2Z1bmN0aW9uIGIoZCxlKXtmb3IodmFyIGY9W10sZz0nJztkOylmb3IodmFyIGw9MDtsPGMubGVuZ3RoOyl7dmFyIGg9Y1tsXSxqPWFbaF0saz1qLm1hdGNoKGQsZSxnKTtpZihrKXt2YXIgaT1rWzBdO2Q9ZC5zdWJzdHJpbmcoaS5sZW5ndGgpO3ZhciBtPWoucGFyc2UoayxiLGUpO20udHlwZT09bnVsbCYmKG0udHlwZT1oKSxmLnB1c2gobSksZz1pO2JyZWFrfWwrK31yZXR1cm4gZn12YXIgYz1PYmplY3Qua2V5cyhhKTtyZXR1cm4gcHJvY2Vzcy5lbnYuTk9ERV9FTlYhPT0ncHJvZHVjdGlvbicmJmMuZm9yRWFjaChmdW5jdGlvbihiKXt2YXIgYz1hW2JdLm9yZGVyO3Byb2Nlc3MuZW52Lk5PREVfRU5WPT09J3Byb2R1Y3Rpb24nfHx0eXBlb2YgYz09J251bWJlcicmJmlzRmluaXRlKGMpfHxjb25zb2xlLndhcm4oJ21hcmtkb3duLXRvLWpzeDogSW52YWxpZCBvcmRlciBmb3IgcnVsZSBgJytiKydgOiAnK2MpfSksYy5zb3J0KGZ1bmN0aW9uKGIsYyl7dmFyIGQ9YVtiXS5vcmRlcixlPWFbY10ub3JkZXI7cmV0dXJuIGQ9PT1lP2I8Yz8tMToxOmQtZX0pLGZ1bmN0aW9uKGEsYyl7cmV0dXJuIGIobm9ybWFsaXplV2hpdGVzcGFjZShhKSxjKX19ZnVuY3Rpb24gaW5saW5lUmVnZXgoYSl7cmV0dXJuIGZ1bmN0aW9uKGIsYyl7cmV0dXJuIGMuaW5saW5lP2EuZXhlYyhiKTpudWxsfX1mdW5jdGlvbiBzaW1wbGVJbmxpbmVSZWdleChhKXtyZXR1cm4gZnVuY3Rpb24oYixjKXtyZXR1cm4gYy5pbmxpbmV8fGMuc2ltcGxlP2EuZXhlYyhiKTpudWxsfX1mdW5jdGlvbiBibG9ja1JlZ2V4KGEpe3JldHVybiBmdW5jdGlvbihiLGMpe3JldHVybiBjLmlubGluZXx8Yy5zaW1wbGU/bnVsbDphLmV4ZWMoYil9fWZ1bmN0aW9uIGFueVNjb3BlUmVnZXgoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybiBhLmV4ZWMoYil9fWZ1bmN0aW9uIHJlYWN0Rm9yKGEpe3JldHVybiBmdW5jdGlvbiBiKGMsZCl7aWYoZD1kfHx7fSxBcnJheS5pc0FycmF5KGMpKXtmb3IodmFyIGU9ZC5rZXksZj1bXSxnPSExLGg9MDtoPGMubGVuZ3RoO2grKyl7ZC5rZXk9aDt2YXIgaj1iKGNbaF0sZCksaz10eXBlb2Ygaj09J3N0cmluZyc7ayYmZz9mW2YubGVuZ3RoLTFdKz1qOmYucHVzaChqKSxnPWt9cmV0dXJuIGQua2V5PWUsZn1yZXR1cm4gYShjLGIsZCl9fWZ1bmN0aW9uIHNhbml0aXplVXJsKGEpe3RyeXt2YXIgYj1kZWNvZGVVUklDb21wb25lbnQoYSk7aWYoYi5tYXRjaCgvXlxccypqYXZhc2NyaXB0Oi9pKSlyZXR1cm4gcHJvY2Vzcy5lbnYuTk9ERV9FTlYhPT0ncHJvZHVjdGlvbicmJmNvbnNvbGUud2FybignQW5jaG9yIFVSTCBjb250YWlucyBhbiB1bnNhZmUgSmF2YVNjcmlwdCBleHByZXNzaW9uLCBpdCB3aWxsIG5vdCBiZSByZW5kZXJlZC4nLGIpLG51bGx9Y2F0Y2goYil7cmV0dXJuIHByb2Nlc3MuZW52Lk5PREVfRU5WIT09J3Byb2R1Y3Rpb24nJiZjb25zb2xlLndhcm4oJ0FuY2hvciBVUkwgY291bGQgbm90IGJlIGRlY29kZWQgZHVlIHRvIG1hbGZvcm1lZCBzeW50YXggb3IgY2hhcmFjdGVycywgaXQgd2lsbCBub3QgYmUgcmVuZGVyZWQuJyxhKSxudWxsfXJldHVybiBhfWZ1bmN0aW9uIHVuZXNjYXBlVXJsKGEpe3JldHVybiBhLnJlcGxhY2UoVU5FU0NBUEVfVVJMX1IsJyQxJyl9ZnVuY3Rpb24gcGFyc2VJbmxpbmUoYSxiLGMpe3ZhciBkPWMuaW5saW5lfHwhMSxlPWMuc2ltcGxlfHwhMTtjLmlubGluZT0hMCxjLnNpbXBsZT0hMDt2YXIgZj1hKGIsYyk7cmV0dXJuIGMuaW5saW5lPWQsYy5zaW1wbGU9ZSxmfWZ1bmN0aW9uIHBhcnNlU2ltcGxlSW5saW5lKGEsYixjKXt2YXIgZD1jLmlubGluZXx8ITEsZT1jLnNpbXBsZXx8ITE7Yy5pbmxpbmU9ITEsYy5zaW1wbGU9ITA7dmFyIGY9YShiLGMpO3JldHVybiBjLmlubGluZT1kLGMuc2ltcGxlPWUsZn1mdW5jdGlvbiBwYXJzZUJsb2NrKGEsYixjKXtyZXR1cm4gYy5pbmxpbmU9ITEsYShiKydcXG5cXG4nLGMpfWZ1bmN0aW9uIHBhcnNlQ2FwdHVyZUlubGluZShhLGIsYyl7cmV0dXJue2NvbnRlbnQ6cGFyc2VJbmxpbmUoYixhWzFdLGMpfX1mdW5jdGlvbiBjYXB0dXJlTm90aGluZygpe3JldHVybnt9fWZ1bmN0aW9uIHJlbmRlck5vdGhpbmcoKXtyZXR1cm4gbnVsbH1mdW5jdGlvbiBydWxlT3V0cHV0KGEpe3JldHVybiBmdW5jdGlvbihiLGMsZCl7cmV0dXJuIGFbYi50eXBlXS5yZWFjdChiLGMsZCl9fWZ1bmN0aW9uIGN4KCl7Zm9yKHZhciBhPWFyZ3VtZW50cy5sZW5ndGgsYj1BcnJheShhKSxjPTA7YzxhO2MrKyliW2NdPWFyZ3VtZW50c1tjXTtyZXR1cm4gYi5maWx0ZXIoQm9vbGVhbikuam9pbignICcpfWZ1bmN0aW9uIGdldChhLGIsYyl7Zm9yKHZhciBkPWEsZT1iLnNwbGl0KCcuJyk7ZS5sZW5ndGgmJihkPWRbZVswXV0sZCE9PXZvaWQgMCk7KWUuc2hpZnQoKTtyZXR1cm4gZHx8Y31mdW5jdGlvbiBnZXRUYWcoYSxiKXt2YXIgYz1nZXQoYixhKTtyZXR1cm4gYz90eXBlb2YgYz09J2Z1bmN0aW9uJ3x8KHR5cGVvZiBjPT0ndW5kZWZpbmVkJz8ndW5kZWZpbmVkJzpfdHlwZW9mKGMpKT09PSdvYmplY3QnJiYncmVuZGVyJ2luIGM/YzpnZXQoYixhKycuY29tcG9uZW50JyxhKTphfXZhciBQQVJTRV9QUklPUklUWV9NQVg9MSxQQVJTRV9QUklPUklUWV9ISUdIPTIsUEFSU0VfUFJJT1JJVFlfTUVEPTMsUEFSU0VfUFJJT1JJVFlfTE9XPTQsUEFSU0VfUFJJT1JJVFlfTUlOPTU7ZXhwb3J0IGZ1bmN0aW9uIGNvbXBpbGVyKGEsYil7ZnVuY3Rpb24gZChhLGMpe2Zvcih2YXIgZD1nZXQoYi5vdmVycmlkZXMsYSsnLnByb3BzJyx7fSksZT1hcmd1bWVudHMubGVuZ3RoLGc9QXJyYXkoZT4yP2UtMjowKSxoPTI7aDxlO2grKylnW2gtMl09YXJndW1lbnRzW2hdO3JldHVybiBmLmFwcGx5KHZvaWQgMCxbZ2V0VGFnKGEsYi5vdmVycmlkZXMpLF9leHRlbmRzKHt9LGMsZCx7Y2xhc3NOYW1lOmN4KGMmJmMuY2xhc3NOYW1lLGQuY2xhc3NOYW1lKXx8dm9pZCAwfSldLmNvbmNhdChnKSl9ZnVuY3Rpb24gYyhhKXt2YXIgYz0hMTtiLmZvcmNlSW5saW5lP2M9ITA6IWIuZm9yY2VCbG9jayYmKGM9U0hPVUxEX1JFTkRFUl9BU19CTE9DS19SLnRlc3QoYSk9PT0hMSk7dmFyIGU9ayhqKGM/YTphLnJlcGxhY2UoVFJJTV9ORVdMSU5FU19BTkRfVFJBSUxJTkdfV0hJVEVTUEFDRV9SLCcnKSsnXFxuXFxuJyx7aW5saW5lOmN9KSksZj12b2lkIDA7cmV0dXJuIGUubGVuZ3RoPjE/Zj1jP2QoJ3NwYW4nLHtrZXk6J291dGVyJ30sZSk6ZCgnZGl2Jyx7a2V5OidvdXRlcid9LGUpOmUubGVuZ3RoPT09MT8oZj1lWzBdLHR5cGVvZiBmPT0nc3RyaW5nJyYmKGY9ZCgnc3Bhbicse2tleTonb3V0ZXInfSxmKSkpOmY9ZCgnc3Bhbicse2tleTonb3V0ZXInfSksZn1mdW5jdGlvbiBlKGEpe3ZhciBiPWEubWF0Y2goQVRUUl9FWFRSQUNUT1JfUik7cmV0dXJuIGI/Yi5yZWR1Y2UoZnVuY3Rpb24oYSxiLGQpe3ZhciBlPWIuaW5kZXhPZignPScpO2lmKGUhPT0tMSl7dmFyIGY9bm9ybWFsaXplQXR0cmlidXRlS2V5KGIuc2xpY2UoMCxlKSkudHJpbSgpLGc9dW5xdW90ZShiLnNsaWNlKGUrMSkudHJpbSgpKSxoPUFUVFJJQlVURV9UT19KU1hfUFJPUF9NQVBbZl18fGYsaT1hW2hdPWF0dHJpYnV0ZVZhbHVlVG9KU1hQcm9wVmFsdWUoZixnKTsoSFRNTF9CTE9DS19FTEVNRU5UX1IudGVzdChpKXx8SFRNTF9TRUxGX0NMT1NJTkdfRUxFTUVOVF9SLnRlc3QoaSkpJiYoYVtoXT1SZWFjdC5jbG9uZUVsZW1lbnQoYyhpLnRyaW0oKSkse2tleTpkfSkpfWVsc2UgYVtBVFRSSUJVVEVfVE9fSlNYX1BST1BfTUFQW2JdfHxiXT0hMDtyZXR1cm4gYX0se30pOnZvaWQgMH1iPWJ8fHt9LGIub3ZlcnJpZGVzPWIub3ZlcnJpZGVzfHx7fSxiLnNsdWdpZnk9Yi5zbHVnaWZ5fHxzbHVnaWZ5LGIubmFtZWRDb2Rlc1RvVW5pY29kZT1iLm5hbWVkQ29kZXNUb1VuaWNvZGU/X2V4dGVuZHMoe30sbmFtZWRDb2Rlc1RvVW5pY29kZSxiLm5hbWVkQ29kZXNUb1VuaWNvZGUpOm5hbWVkQ29kZXNUb1VuaWNvZGU7dmFyIGY9Yi5jcmVhdGVFbGVtZW50fHxSZWFjdC5jcmVhdGVFbGVtZW50O2lmKHByb2Nlc3MuZW52Lk5PREVfRU5WIT09J3Byb2R1Y3Rpb24nKXtpZih0eXBlb2YgYSE9J3N0cmluZycpdGhyb3cgbmV3IEVycm9yKCdtYXJrZG93bi10by1qc3g6IHRoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhIHN0cmluZycpO2lmKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChiLm92ZXJyaWRlcykhPT0nW29iamVjdCBPYmplY3RdJyl0aHJvdyBuZXcgRXJyb3IoJ21hcmtkb3duLXRvLWpzeDogb3B0aW9ucy5vdmVycmlkZXMgKHNlY29uZCBhcmd1bWVudCBwcm9wZXJ0eSkgbXVzdCBiZVxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkIG9yIGFuIG9iamVjdCBsaXRlcmFsIHdpdGggc2hhcGU6XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sdGFnbmFtZToge1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudDogc3RyaW5nfFJlYWN0Q29tcG9uZW50KG9wdGlvbmFsKSxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wczogb2JqZWN0KG9wdGlvbmFsKVxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfScpfXZhciBnPVtdLGg9e30saT17YmxvY2tRdW90ZTp7bWF0Y2g6YmxvY2tSZWdleChCTE9DS1FVT1RFX1IpLG9yZGVyOlBBUlNFX1BSSU9SSVRZX0hJR0gscGFyc2U6ZnVuY3Rpb24gZChhLGIsYyl7cmV0dXJue2NvbnRlbnQ6YihhWzBdLnJlcGxhY2UoQkxPQ0tRVU9URV9UUklNX0xFRlRfTVVMVElMSU5FX1IsJycpLGMpfX0scmVhY3Q6ZnVuY3Rpb24gZShhLGIsYyl7cmV0dXJuIGQoJ2Jsb2NrcXVvdGUnLHtrZXk6Yy5rZXl9LGIoYS5jb250ZW50LGMpKX19LGJyZWFrTGluZTp7bWF0Y2g6YW55U2NvcGVSZWdleChCUkVBS19MSU5FX1IpLG9yZGVyOlBBUlNFX1BSSU9SSVRZX0hJR0gscGFyc2U6Y2FwdHVyZU5vdGhpbmcscmVhY3Q6ZnVuY3Rpb24gZShhLGIsYyl7cmV0dXJuIGQoJ2JyJyx7a2V5OmMua2V5fSl9fSxicmVha1RoZW1hdGljOnttYXRjaDpibG9ja1JlZ2V4KEJSRUFLX1RIRU1BVElDX1IpLG9yZGVyOlBBUlNFX1BSSU9SSVRZX0hJR0gscGFyc2U6Y2FwdHVyZU5vdGhpbmcscmVhY3Q6ZnVuY3Rpb24gZShhLGIsYyl7cmV0dXJuIGQoJ2hyJyx7a2V5OmMua2V5fSl9fSxjb2RlQmxvY2s6e21hdGNoOmJsb2NrUmVnZXgoQ09ERV9CTE9DS19SKSxvcmRlcjpQQVJTRV9QUklPUklUWV9NQVgscGFyc2U6ZnVuY3Rpb24gYyhhKXt2YXIgYj1hWzBdLnJlcGxhY2UoL14gezR9L2dtLCcnKS5yZXBsYWNlKC9cXG4rJC8sJycpO3JldHVybntjb250ZW50OmIsbGFuZzp2b2lkIDB9fSxyZWFjdDpmdW5jdGlvbiBlKGEsYixjKXtyZXR1cm4gZCgncHJlJyx7a2V5OmMua2V5fSxkKCdjb2RlJyx7Y2xhc3NOYW1lOmEubGFuZz8nbGFuZy0nK2EubGFuZzonJ30sYS5jb250ZW50KSl9fSxjb2RlRmVuY2VkOnttYXRjaDpibG9ja1JlZ2V4KENPREVfQkxPQ0tfRkVOQ0VEX1IpLG9yZGVyOlBBUlNFX1BSSU9SSVRZX01BWCxwYXJzZTpmdW5jdGlvbiBiKGEpe3JldHVybntjb250ZW50OmFbM10sbGFuZzphWzJdfHx2b2lkIDAsdHlwZTonY29kZUJsb2NrJ319fSxjb2RlSW5saW5lOnttYXRjaDpzaW1wbGVJbmxpbmVSZWdleChDT0RFX0lOTElORV9SKSxvcmRlcjpQQVJTRV9QUklPUklUWV9MT1cscGFyc2U6ZnVuY3Rpb24gYihhKXtyZXR1cm57Y29udGVudDphWzJdfX0scmVhY3Q6ZnVuY3Rpb24gZShhLGIsYyl7cmV0dXJuIGQoJ2NvZGUnLHtrZXk6Yy5rZXl9LGEuY29udGVudCl9fSxmb290bm90ZTp7bWF0Y2g6YmxvY2tSZWdleChGT09UTk9URV9SKSxvcmRlcjpQQVJTRV9QUklPUklUWV9NQVgscGFyc2U6ZnVuY3Rpb24gYihhKXtyZXR1cm4gZy5wdXNoKHtmb290bm90ZTphWzJdLGlkZW50aWZpZXI6YVsxXX0pLHt9fSxyZWFjdDpyZW5kZXJOb3RoaW5nfSxmb290bm90ZVJlZmVyZW5jZTp7bWF0Y2g6aW5saW5lUmVnZXgoRk9PVE5PVEVfUkVGRVJFTkNFX1IpLG9yZGVyOlBBUlNFX1BSSU9SSVRZX0hJR0gscGFyc2U6ZnVuY3Rpb24gYihhKXtyZXR1cm57Y29udGVudDphWzFdLHRhcmdldDonIycrYVsxXX19LHJlYWN0OmZ1bmN0aW9uIGUoYSxiLGMpe3JldHVybiBkKCdhJyx7a2V5OmMua2V5LGhyZWY6c2FuaXRpemVVcmwoYS50YXJnZXQpfSxkKCdzdXAnLHtrZXk6Yy5rZXl9LGEuY29udGVudCkpfX0sZ2ZtVGFzazp7bWF0Y2g6aW5saW5lUmVnZXgoR0ZNX1RBU0tfUiksb3JkZXI6UEFSU0VfUFJJT1JJVFlfSElHSCxwYXJzZTpmdW5jdGlvbiBiKGEpe3JldHVybntjb21wbGV0ZWQ6YVsxXS50b0xvd2VyQ2FzZSgpPT09J3gnfX0scmVhY3Q6ZnVuY3Rpb24gZShhLGIsYyl7cmV0dXJuIGQoJ2lucHV0Jyx7Y2hlY2tlZDphLmNvbXBsZXRlZCxrZXk6Yy5rZXkscmVhZE9ubHk6ITAsdHlwZTonY2hlY2tib3gnfSl9fSxoZWFkaW5nOnttYXRjaDpibG9ja1JlZ2V4KEhFQURJTkdfUiksb3JkZXI6UEFSU0VfUFJJT1JJVFlfSElHSCxwYXJzZTpmdW5jdGlvbiBlKGEsYyxkKXtyZXR1cm57Y29udGVudDpwYXJzZUlubGluZShjLGFbMl0sZCksaWQ6Yi5zbHVnaWZ5KGFbMl0pLGxldmVsOmFbMV0ubGVuZ3RofX0scmVhY3Q6ZnVuY3Rpb24gZihhLGIsYyl7dmFyIGU9J2gnK2EubGV2ZWw7cmV0dXJuIGQoZSx7aWQ6YS5pZCxrZXk6Yy5rZXl9LGIoYS5jb250ZW50LGMpKX19LGhlYWRpbmdTZXRleHQ6e21hdGNoOmJsb2NrUmVnZXgoSEVBRElOR19TRVRFWFRfUiksb3JkZXI6UEFSU0VfUFJJT1JJVFlfTUFYLHBhcnNlOmZ1bmN0aW9uIGQoYSxiLGMpe3JldHVybntjb250ZW50OnBhcnNlSW5saW5lKGIsYVsxXSxjKSxsZXZlbDphWzJdPT09Jz0nPzE6Mix0eXBlOidoZWFkaW5nJ319fSxodG1sQmxvY2s6e21hdGNoOmFueVNjb3BlUmVnZXgoSFRNTF9CTE9DS19FTEVNRU5UX1IpLG9yZGVyOlBBUlNFX1BSSU9SSVRZX0hJR0gscGFyc2U6ZnVuY3Rpb24gbChhLGIsYyl7dmFyIGQ9YVszXS5tYXRjaChIVE1MX0xFRlRfVFJJTV9BTU9VTlRfUiksZj1kWzFdLGc9bmV3IFJlZ0V4cCgnXicrZiwnZ20nKSxoPWFbM10ucmVwbGFjZShnLCcnKSxpPWNvbnRhaW5zQmxvY2tTeW50YXgoaCk/cGFyc2VCbG9jazpwYXJzZUlubGluZSxqPWFbMV0udG9Mb3dlckNhc2UoKSxrPURPX05PVF9QUk9DRVNTX0hUTUxfRUxFTUVOVFMuaW5kZXhPZihqKSE9PS0xO3JldHVybnthdHRyczplKGFbMl0pLGNvbnRlbnQ6az9hWzNdOmkoYixoLGMpLG5vSW5uZXJQYXJzZTprLHRhZzprP2o6YVsxXX19LHJlYWN0OmZ1bmN0aW9uIGUoYSxiLGMpe3JldHVybiBkKGEudGFnLF9leHRlbmRzKHtrZXk6Yy5rZXl9LGEuYXR0cnMpLGEubm9Jbm5lclBhcnNlP2EuY29udGVudDpiKGEuY29udGVudCxjKSl9fSxodG1sQ29tbWVudDp7bWF0Y2g6YW55U2NvcGVSZWdleChIVE1MX0NPTU1FTlRfUiksb3JkZXI6UEFSU0VfUFJJT1JJVFlfSElHSCxwYXJzZTpmdW5jdGlvbiBhKCl7cmV0dXJue319LHJlYWN0OnJlbmRlck5vdGhpbmd9LGh0bWxTZWxmQ2xvc2luZzp7bWF0Y2g6YW55U2NvcGVSZWdleChIVE1MX1NFTEZfQ0xPU0lOR19FTEVNRU5UX1IpLG9yZGVyOlBBUlNFX1BSSU9SSVRZX0hJR0gscGFyc2U6ZnVuY3Rpb24gYihhKXtyZXR1cm57YXR0cnM6ZShhWzJdfHwnJyksdGFnOmFbMV19fSxyZWFjdDpmdW5jdGlvbiBlKGEsYixjKXtyZXR1cm4gZChhLnRhZyxfZXh0ZW5kcyh7fSxhLmF0dHJzLHtrZXk6Yy5rZXl9KSl9fSxpbWFnZTp7bWF0Y2g6c2ltcGxlSW5saW5lUmVnZXgoSU1BR0VfUiksb3JkZXI6UEFSU0VfUFJJT1JJVFlfSElHSCxwYXJzZTpmdW5jdGlvbiBiKGEpe3JldHVybnthbHQ6YVsxXSx0YXJnZXQ6dW5lc2NhcGVVcmwoYVsyXSksdGl0bGU6YVszXX19LHJlYWN0OmZ1bmN0aW9uIGUoYSxiLGMpe3JldHVybiBkKCdpbWcnLHtrZXk6Yy5rZXksYWx0OmEuYWx0fHx2b2lkIDAsdGl0bGU6YS50aXRsZXx8dm9pZCAwLHNyYzpzYW5pdGl6ZVVybChhLnRhcmdldCl9KX19LGxpbms6e21hdGNoOmlubGluZVJlZ2V4KExJTktfUiwhMSksb3JkZXI6UEFSU0VfUFJJT1JJVFlfTE9XLHBhcnNlOmZ1bmN0aW9uIGQoYSxiLGMpe3JldHVybntjb250ZW50OnBhcnNlU2ltcGxlSW5saW5lKGIsYVsxXSxjKSx0YXJnZXQ6dW5lc2NhcGVVcmwoYVsyXSksdGl0bGU6YVszXX19LHJlYWN0OmZ1bmN0aW9uIGUoYSxiLGMpe3JldHVybiBkKCdhJyx7a2V5OmMua2V5LGhyZWY6c2FuaXRpemVVcmwoYS50YXJnZXQpLHRpdGxlOmEudGl0bGV9LGIoYS5jb250ZW50LGMpKX19LGxpbmtBbmdsZUJyYWNlU3R5bGVEZXRlY3Rvcjp7bWF0Y2g6aW5saW5lUmVnZXgoTElOS19BVVRPTElOS19SKSxvcmRlcjpQQVJTRV9QUklPUklUWV9NQVgscGFyc2U6ZnVuY3Rpb24gYihhKXtyZXR1cm57Y29udGVudDpbe2NvbnRlbnQ6YVsxXSx0eXBlOid0ZXh0J31dLHRhcmdldDphWzFdLHR5cGU6J2xpbmsnfX19LGxpbmtCYXJlVXJsRGV0ZWN0b3I6e21hdGNoOmlubGluZVJlZ2V4KExJTktfQVVUT0xJTktfQkFSRV9VUkxfUiksb3JkZXI6UEFSU0VfUFJJT1JJVFlfTUFYLHBhcnNlOmZ1bmN0aW9uIGIoYSl7cmV0dXJue2NvbnRlbnQ6W3tjb250ZW50OmFbMV0sdHlwZTondGV4dCd9XSx0YXJnZXQ6YVsxXSx0aXRsZTp2b2lkIDAsdHlwZTonbGluayd9fX0sbGlua01haWx0b0RldGVjdG9yOnttYXRjaDppbmxpbmVSZWdleChMSU5LX0FVVE9MSU5LX01BSUxUT19SKSxvcmRlcjpQQVJTRV9QUklPUklUWV9NQVgscGFyc2U6ZnVuY3Rpb24gZChhKXt2YXIgYj1hWzFdLGM9YVsxXTtyZXR1cm4gQVVUT0xJTktfTUFJTFRPX0NIRUNLX1IudGVzdChjKXx8KGM9J21haWx0bzonK2MpLHtjb250ZW50Olt7Y29udGVudDpiLnJlcGxhY2UoJ21haWx0bzonLCcnKSx0eXBlOid0ZXh0J31dLHRhcmdldDpjLHR5cGU6J2xpbmsnfX19LGxpc3Q6e21hdGNoOmZ1bmN0aW9uIGYoYSxiLGMpe3ZhciBkPUxJU1RfTE9PS0JFSElORF9SLmV4ZWMoYyksZT1iLl9saXN0fHwhYi5pbmxpbmU7cmV0dXJuIGQmJmU/KGE9ZFsxXSthLExJU1RfUi5leGVjKGEpKTpudWxsfSxvcmRlcjpQQVJTRV9QUklPUklUWV9ISUdILHBhcnNlOmZ1bmN0aW9uIGooYSxiLGMpe3ZhciBkPWFbMl0sZT1kLmxlbmd0aD4xLGY9ZT8rZDp2b2lkIDAsZz1hWzBdLnJlcGxhY2UoQkxPQ0tfRU5EX1IsJ1xcbicpLm1hdGNoKExJU1RfSVRFTV9SKSxoPSExLGk9Zy5tYXAoZnVuY3Rpb24oYSxkKXt2YXIgZT1MSVNUX0lURU1fUFJFRklYX1IuZXhlYyhhKVswXS5sZW5ndGgsZj1uZXcgUmVnRXhwKCdeIHsxLCcrZSsnfScsJ2dtJyksaT1hLnJlcGxhY2UoZiwnJykucmVwbGFjZShMSVNUX0lURU1fUFJFRklYX1IsJycpLGo9ZD09PWcubGVuZ3RoLTEsaz1pLmluZGV4T2YoJ1xcblxcbicpIT09LTEsbD1rfHxqJiZoO2g9bDt2YXIgbT1jLmlubGluZSxuPWMuX2xpc3Q7Yy5fbGlzdD0hMDt2YXIgbztsPyhjLmlubGluZT0hMSxvPWkucmVwbGFjZShMSVNUX0lURU1fRU5EX1IsJ1xcblxcbicpKTooYy5pbmxpbmU9ITAsbz1pLnJlcGxhY2UoTElTVF9JVEVNX0VORF9SLCcnKSk7dmFyIHA9YihvLGMpO3JldHVybiBjLmlubGluZT1tLGMuX2xpc3Q9bixwfSk7cmV0dXJue2l0ZW1zOmksb3JkZXJlZDplLHN0YXJ0OmZ9fSxyZWFjdDpmdW5jdGlvbiBmKGEsYixjKXt2YXIgZT1hLm9yZGVyZWQ/J29sJzondWwnO3JldHVybiBkKGUse2tleTpjLmtleSxzdGFydDphLnN0YXJ0fSxhLml0ZW1zLm1hcChmdW5jdGlvbihhLGUpe3JldHVybiBkKCdsaScse2tleTplfSxiKGEsYykpfSkpfX0sbmV3bGluZUNvYWxlc2Nlcjp7bWF0Y2g6YmxvY2tSZWdleChDT05TRUNVVElWRV9ORVdMSU5FX1IpLG9yZGVyOlBBUlNFX1BSSU9SSVRZX0xPVyxwYXJzZTpjYXB0dXJlTm90aGluZyxyZWFjdDpmdW5jdGlvbiBhKCl7cmV0dXJuJ1xcbid9fSxwYXJhZ3JhcGg6e21hdGNoOmJsb2NrUmVnZXgoUEFSQUdSQVBIX1IpLG9yZGVyOlBBUlNFX1BSSU9SSVRZX0xPVyxwYXJzZTpwYXJzZUNhcHR1cmVJbmxpbmUscmVhY3Q6ZnVuY3Rpb24gZShhLGIsYyl7cmV0dXJuIGQoJ3AnLHtrZXk6Yy5rZXl9LGIoYS5jb250ZW50LGMpKX19LHJlZjp7bWF0Y2g6aW5saW5lUmVnZXgoUkVGRVJFTkNFX0lNQUdFX09SX0xJTkspLG9yZGVyOlBBUlNFX1BSSU9SSVRZX01BWCxwYXJzZTpmdW5jdGlvbiBiKGEpe3JldHVybiBoW2FbMV1dPXt0YXJnZXQ6YVsyXSx0aXRsZTphWzRdfSx7fX0scmVhY3Q6cmVuZGVyTm90aGluZ30scmVmSW1hZ2U6e21hdGNoOnNpbXBsZUlubGluZVJlZ2V4KFJFRkVSRU5DRV9JTUFHRV9SKSxvcmRlcjpQQVJTRV9QUklPUklUWV9NQVgscGFyc2U6ZnVuY3Rpb24gYihhKXtyZXR1cm57YWx0OmFbMV18fHZvaWQgMCxyZWY6YVsyXX19LHJlYWN0OmZ1bmN0aW9uIGUoYSxiLGMpe3JldHVybiBkKCdpbWcnLHtrZXk6Yy5rZXksYWx0OmEuYWx0LHNyYzpzYW5pdGl6ZVVybChoW2EucmVmXS50YXJnZXQpLHRpdGxlOmhbYS5yZWZdLnRpdGxlfSl9fSxyZWZMaW5rOnttYXRjaDppbmxpbmVSZWdleChSRUZFUkVOQ0VfTElOS19SKSxvcmRlcjpQQVJTRV9QUklPUklUWV9NQVgscGFyc2U6ZnVuY3Rpb24gZChhLGIsYyl7cmV0dXJue2NvbnRlbnQ6YihhWzFdLGMpLGZhbGxiYWNrQ29udGVudDpiKGFbMF0ucmVwbGFjZShTUVVBUkVfQlJBQ0tFVFNfUiwnXFxcXCQxJyksYykscmVmOmFbMl19fSxyZWFjdDpmdW5jdGlvbiBlKGEsYixjKXtyZXR1cm4gaFthLnJlZl0/ZCgnYScse2tleTpjLmtleSxocmVmOnNhbml0aXplVXJsKGhbYS5yZWZdLnRhcmdldCksdGl0bGU6aFthLnJlZl0udGl0bGV9LGIoYS5jb250ZW50LGMpKTpkKCdzcGFuJyx7a2V5OmMua2V5fSxiKGEuZmFsbGJhY2tDb250ZW50LGMpKX19LHRhYmxlOnttYXRjaDpibG9ja1JlZ2V4KE5QX1RBQkxFX1IpLG9yZGVyOlBBUlNFX1BSSU9SSVRZX0hJR0gscGFyc2U6cGFyc2VUYWJsZSxyZWFjdDpmdW5jdGlvbiBmKGEsYixlKXtyZXR1cm4gZCgndGFibGUnLHtrZXk6ZS5rZXl9LGQoJ3RoZWFkJyxudWxsLGQoJ3RyJyxudWxsLGEuaGVhZGVyLm1hcChmdW5jdGlvbihjLGYpe3JldHVybiBkKCd0aCcse2tleTpmLHN0eWxlOmdldFRhYmxlU3R5bGUoYSxmKX0sYihjLGUpKX0pKSksZCgndGJvZHknLG51bGwsYS5jZWxscy5tYXAoZnVuY3Rpb24oYyxmKXtyZXR1cm4gZCgndHInLHtrZXk6Zn0sYy5tYXAoZnVuY3Rpb24oZixnKXtyZXR1cm4gZCgndGQnLHtrZXk6ZyxzdHlsZTpnZXRUYWJsZVN0eWxlKGEsZyl9LGIoZixlKSl9KSl9KSkpfX0sdGFibGVTZXBhcmF0b3I6e21hdGNoOmZ1bmN0aW9uIGMoYSxiKXtyZXR1cm4gYi5pblRhYmxlP1RBQkxFX1NFUEFSQVRPUl9SLmV4ZWMoYSk6bnVsbH0sb3JkZXI6UEFSU0VfUFJJT1JJVFlfSElHSCxwYXJzZTpmdW5jdGlvbiBhKCl7cmV0dXJue3R5cGU6J3RhYmxlU2VwYXJhdG9yJ319LHJlYWN0OmZ1bmN0aW9uIGEoKXtyZXR1cm4nIHwgJ319LHRleHQ6e21hdGNoOmFueVNjb3BlUmVnZXgoVEVYVF9QTEFJTl9SKSxvcmRlcjpQQVJTRV9QUklPUklUWV9NSU4scGFyc2U6ZnVuY3Rpb24gYyhhKXtyZXR1cm57Y29udGVudDphWzBdLnJlcGxhY2UoSFRNTF9DSEFSX0NPREVfUixmdW5jdGlvbihhLGMpe3JldHVybiBiLm5hbWVkQ29kZXNUb1VuaWNvZGVbY10/Yi5uYW1lZENvZGVzVG9Vbmljb2RlW2NdOmF9KX19LHJlYWN0OmZ1bmN0aW9uIGIoYSl7cmV0dXJuIGEuY29udGVudH19LHRleHRCb2xkZWQ6e21hdGNoOnNpbXBsZUlubGluZVJlZ2V4KFRFWFRfQk9MRF9SKSxvcmRlcjpQQVJTRV9QUklPUklUWV9NRUQscGFyc2U6ZnVuY3Rpb24gZChhLGIsYyl7cmV0dXJue2NvbnRlbnQ6YihhWzJdLGMpfX0scmVhY3Q6ZnVuY3Rpb24gZShhLGIsYyl7cmV0dXJuIGQoJ3N0cm9uZycse2tleTpjLmtleX0sYihhLmNvbnRlbnQsYykpfX0sdGV4dEVtcGhhc2l6ZWQ6e21hdGNoOnNpbXBsZUlubGluZVJlZ2V4KFRFWFRfRU1QSEFTSVpFRF9SKSxvcmRlcjpQQVJTRV9QUklPUklUWV9MT1cscGFyc2U6ZnVuY3Rpb24gZChhLGIsYyl7cmV0dXJue2NvbnRlbnQ6YihhWzJdLGMpfX0scmVhY3Q6ZnVuY3Rpb24gZShhLGIsYyl7cmV0dXJuIGQoJ2VtJyx7a2V5OmMua2V5fSxiKGEuY29udGVudCxjKSl9fSx0ZXh0RXNjYXBlZDp7bWF0Y2g6c2ltcGxlSW5saW5lUmVnZXgoVEVYVF9FU0NBUEVEX1IpLG9yZGVyOlBBUlNFX1BSSU9SSVRZX0hJR0gscGFyc2U6ZnVuY3Rpb24gYihhKXtyZXR1cm57Y29udGVudDphWzFdLHR5cGU6J3RleHQnfX19LHRleHRTdHJpa2V0aHJvdWdoZWQ6e21hdGNoOnNpbXBsZUlubGluZVJlZ2V4KFRFWFRfU1RSSUtFVEhST1VHSEVEX1IpLG9yZGVyOlBBUlNFX1BSSU9SSVRZX0xPVyxwYXJzZTpwYXJzZUNhcHR1cmVJbmxpbmUscmVhY3Q6ZnVuY3Rpb24gZShhLGIsYyl7cmV0dXJuIGQoJ2RlbCcse2tleTpjLmtleX0sYihhLmNvbnRlbnQsYykpfX19LGo9cGFyc2VyRm9yKGkpLGs9cmVhY3RGb3IocnVsZU91dHB1dChpKSksbD1jKGEpO3JldHVybiBnLmxlbmd0aCYmbC5wcm9wcy5jaGlsZHJlbi5wdXNoKGQoJ2Zvb3Rlcicse2tleTonZm9vdGVyJ30sZy5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGQoJ2Rpdicse2lkOmEuaWRlbnRpZmllcixrZXk6YS5pZGVudGlmaWVyfSxhLmlkZW50aWZpZXIsayhqKGEuZm9vdG5vdGUse2lubGluZTohMH0pKSl9KSkpLGx9ZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTWFya2Rvd24oYSl7dmFyIGI9YS5jaGlsZHJlbixjPWEub3B0aW9ucyxkPV9vYmplY3RXaXRob3V0UHJvcGVydGllcyhhLFsnY2hpbGRyZW4nLCdvcHRpb25zJ10pO3JldHVybiBSZWFjdC5jbG9uZUVsZW1lbnQoY29tcGlsZXIoYixjKSxkKX1pZihwcm9jZXNzLmVudi5OT0RFX0VOViE9PSdwcm9kdWN0aW9uJyl7dmFyIFByb3BUeXBlcz1yZXF1aXJlKCdwcm9wLXR5cGVzJyk7TWFya2Rvd24ucHJvcFR5cGVzPXtjaGlsZHJlbjpQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsb3B0aW9uczpQcm9wVHlwZXMub2JqZWN0fX1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXNtLmpzLm1hcCIsImZ1bmN0aW9uIGFyZUlucHV0c0VxdWFsKG5ld0lucHV0cywgbGFzdElucHV0cykge1xuICAgIGlmIChuZXdJbnB1dHMubGVuZ3RoICE9PSBsYXN0SW5wdXRzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmV3SW5wdXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChuZXdJbnB1dHNbaV0gIT09IGxhc3RJbnB1dHNbaV0pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gbWVtb2l6ZU9uZShyZXN1bHRGbiwgaXNFcXVhbCkge1xuICAgIGlmIChpc0VxdWFsID09PSB2b2lkIDApIHsgaXNFcXVhbCA9IGFyZUlucHV0c0VxdWFsOyB9XG4gICAgdmFyIGxhc3RUaGlzO1xuICAgIHZhciBsYXN0QXJncyA9IFtdO1xuICAgIHZhciBsYXN0UmVzdWx0O1xuICAgIHZhciBjYWxsZWRPbmNlID0gZmFsc2U7XG4gICAgZnVuY3Rpb24gbWVtb2l6ZWQoKSB7XG4gICAgICAgIHZhciBuZXdBcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBuZXdBcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNhbGxlZE9uY2UgJiYgbGFzdFRoaXMgPT09IHRoaXMgJiYgaXNFcXVhbChuZXdBcmdzLCBsYXN0QXJncykpIHtcbiAgICAgICAgICAgIHJldHVybiBsYXN0UmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIGxhc3RSZXN1bHQgPSByZXN1bHRGbi5hcHBseSh0aGlzLCBuZXdBcmdzKTtcbiAgICAgICAgY2FsbGVkT25jZSA9IHRydWU7XG4gICAgICAgIGxhc3RUaGlzID0gdGhpcztcbiAgICAgICAgbGFzdEFyZ3MgPSBuZXdBcmdzO1xuICAgICAgICByZXR1cm4gbGFzdFJlc3VsdDtcbiAgICB9XG4gICAgcmV0dXJuIG1lbW9pemVkO1xufVxuXG5leHBvcnQgZGVmYXVsdCBtZW1vaXplT25lO1xuIiwiaW1wb3J0IHsgaXNQbGFpbk9iamVjdCwgaXNBcnJheSwgaXNTeW1ib2wgfSBmcm9tICdpcy13aGF0JztcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuXHJcbmZ1bmN0aW9uIF9fc3ByZWFkQXJyYXlzKCkge1xyXG4gICAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XHJcbiAgICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXHJcbiAgICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXHJcbiAgICAgICAgICAgIHJba10gPSBhW2pdO1xyXG4gICAgcmV0dXJuIHI7XHJcbn1cblxuZnVuY3Rpb24gYXNzaWduUHJvcChjYXJyeSwga2V5LCBuZXdWYWwsIG9yaWdpbmFsT2JqZWN0KSB7XHJcbiAgICB2YXIgcHJvcFR5cGUgPSBvcmlnaW5hbE9iamVjdC5wcm9wZXJ0eUlzRW51bWVyYWJsZShrZXkpXHJcbiAgICAgICAgPyAnZW51bWVyYWJsZSdcclxuICAgICAgICA6ICdub25lbnVtZXJhYmxlJztcclxuICAgIGlmIChwcm9wVHlwZSA9PT0gJ2VudW1lcmFibGUnKVxyXG4gICAgICAgIGNhcnJ5W2tleV0gPSBuZXdWYWw7XHJcbiAgICBpZiAocHJvcFR5cGUgPT09ICdub25lbnVtZXJhYmxlJykge1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjYXJyeSwga2V5LCB7XHJcbiAgICAgICAgICAgIHZhbHVlOiBuZXdWYWwsXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gbWVyZ2VSZWN1cnNpdmVseShvcmlnaW4sIG5ld0NvbWVyLCBleHRlbnNpb25zKSB7XHJcbiAgICAvLyB3b3JrIGRpcmVjdGx5IG9uIG5ld0NvbWVyIGlmIGl0cyBub3QgYW4gb2JqZWN0XHJcbiAgICBpZiAoIWlzUGxhaW5PYmplY3QobmV3Q29tZXIpKSB7XHJcbiAgICAgICAgLy8gZXh0ZW5kIG1lcmdlIHJ1bGVzXHJcbiAgICAgICAgaWYgKGV4dGVuc2lvbnMgJiYgaXNBcnJheShleHRlbnNpb25zKSkge1xyXG4gICAgICAgICAgICBleHRlbnNpb25zLmZvckVhY2goZnVuY3Rpb24gKGV4dGVuZCkge1xyXG4gICAgICAgICAgICAgICAgbmV3Q29tZXIgPSBleHRlbmQob3JpZ2luLCBuZXdDb21lcik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3Q29tZXI7XHJcbiAgICB9XHJcbiAgICAvLyBkZWZpbmUgbmV3T2JqZWN0IHRvIG1lcmdlIGFsbCB2YWx1ZXMgdXBvblxyXG4gICAgdmFyIG5ld09iamVjdCA9IHt9O1xyXG4gICAgaWYgKGlzUGxhaW5PYmplY3Qob3JpZ2luKSkge1xyXG4gICAgICAgIHZhciBwcm9wc18xID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMob3JpZ2luKTtcclxuICAgICAgICB2YXIgc3ltYm9sc18xID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvcmlnaW4pO1xyXG4gICAgICAgIG5ld09iamVjdCA9IF9fc3ByZWFkQXJyYXlzKHByb3BzXzEsIHN5bWJvbHNfMSkucmVkdWNlKGZ1bmN0aW9uIChjYXJyeSwga2V5KSB7XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgdmFyIHRhcmdldFZhbCA9IG9yaWdpbltrZXldO1xyXG4gICAgICAgICAgICBpZiAoKCFpc1N5bWJvbChrZXkpICYmICFPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhuZXdDb21lcikuaW5jbHVkZXMoa2V5KSkgfHxcclxuICAgICAgICAgICAgICAgIChpc1N5bWJvbChrZXkpICYmICFPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG5ld0NvbWVyKS5pbmNsdWRlcyhrZXkpKSkge1xyXG4gICAgICAgICAgICAgICAgYXNzaWduUHJvcChjYXJyeSwga2V5LCB0YXJnZXRWYWwsIG9yaWdpbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGNhcnJ5O1xyXG4gICAgICAgIH0sIHt9KTtcclxuICAgIH1cclxuICAgIHZhciBwcm9wcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKG5ld0NvbWVyKTtcclxuICAgIHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhuZXdDb21lcik7XHJcbiAgICB2YXIgcmVzdWx0ID0gX19zcHJlYWRBcnJheXMocHJvcHMsIHN5bWJvbHMpLnJlZHVjZShmdW5jdGlvbiAoY2FycnksIGtleSkge1xyXG4gICAgICAgIC8vIHJlLWRlZmluZSB0aGUgb3JpZ2luIGFuZCBuZXdDb21lciBhcyB0YXJnZXRWYWwgYW5kIG5ld1ZhbFxyXG4gICAgICAgIHZhciBuZXdWYWwgPSBuZXdDb21lcltrZXldO1xyXG4gICAgICAgIHZhciB0YXJnZXRWYWwgPSAoaXNQbGFpbk9iamVjdChvcmlnaW4pKVxyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgID8gb3JpZ2luW2tleV1cclxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgLy8gZXh0ZW5kIG1lcmdlIHJ1bGVzXHJcbiAgICAgICAgaWYgKGV4dGVuc2lvbnMgJiYgaXNBcnJheShleHRlbnNpb25zKSkge1xyXG4gICAgICAgICAgICBleHRlbnNpb25zLmZvckVhY2goZnVuY3Rpb24gKGV4dGVuZCkge1xyXG4gICAgICAgICAgICAgICAgbmV3VmFsID0gZXh0ZW5kKHRhcmdldFZhbCwgbmV3VmFsKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFdoZW4gbmV3VmFsIGlzIGFuIG9iamVjdCBkbyB0aGUgbWVyZ2UgcmVjdXJzaXZlbHlcclxuICAgICAgICBpZiAodGFyZ2V0VmFsICE9PSB1bmRlZmluZWQgJiYgaXNQbGFpbk9iamVjdChuZXdWYWwpKSB7XHJcbiAgICAgICAgICAgIG5ld1ZhbCA9IG1lcmdlUmVjdXJzaXZlbHkodGFyZ2V0VmFsLCBuZXdWYWwsIGV4dGVuc2lvbnMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhc3NpZ25Qcm9wKGNhcnJ5LCBrZXksIG5ld1ZhbCwgbmV3Q29tZXIpO1xyXG4gICAgICAgIHJldHVybiBjYXJyeTtcclxuICAgIH0sIG5ld09iamVjdCk7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcbi8qKlxyXG4gKiBNZXJnZSBhbnl0aGluZyByZWN1cnNpdmVseS5cclxuICogT2JqZWN0cyBnZXQgbWVyZ2VkLCBzcGVjaWFsIG9iamVjdHMgKGNsYXNzZXMgZXRjLikgYXJlIHJlLWFzc2lnbmVkIFwiYXMgaXNcIi5cclxuICogQmFzaWMgdHlwZXMgb3ZlcndyaXRlIG9iamVjdHMgb3Igb3RoZXIgYmFzaWMgdHlwZXMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7KElDb25maWcgfCBhbnkpfSBvcmlnaW5cclxuICogQHBhcmFtIHsuLi5hbnlbXX0gbmV3Q29tZXJzXHJcbiAqIEByZXR1cm5zIHRoZSByZXN1bHRcclxuICovXHJcbmZ1bmN0aW9uIG1lcmdlKG9yaWdpbikge1xyXG4gICAgdmFyIG5ld0NvbWVycyA9IFtdO1xyXG4gICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICBuZXdDb21lcnNbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICB9XHJcbiAgICB2YXIgZXh0ZW5zaW9ucyA9IG51bGw7XHJcbiAgICB2YXIgYmFzZSA9IG9yaWdpbjtcclxuICAgIGlmIChpc1BsYWluT2JqZWN0KG9yaWdpbikgJiYgb3JpZ2luLmV4dGVuc2lvbnMgJiYgT2JqZWN0LmtleXMob3JpZ2luKS5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICBiYXNlID0ge307XHJcbiAgICAgICAgZXh0ZW5zaW9ucyA9IG9yaWdpbi5leHRlbnNpb25zO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5ld0NvbWVycy5yZWR1Y2UoZnVuY3Rpb24gKHJlc3VsdCwgbmV3Q29tZXIpIHtcclxuICAgICAgICByZXR1cm4gbWVyZ2VSZWN1cnNpdmVseShyZXN1bHQsIG5ld0NvbWVyLCBleHRlbnNpb25zKTtcclxuICAgIH0sIGJhc2UpO1xyXG59XG5cbmZ1bmN0aW9uIGNvbmNhdEFycmF5cyhvcmlnaW5WYWwsIG5ld1ZhbCkge1xyXG4gICAgaWYgKGlzQXJyYXkob3JpZ2luVmFsKSAmJiBpc0FycmF5KG5ld1ZhbCkpIHtcclxuICAgICAgICAvLyBjb25jYXQgbG9naWNcclxuICAgICAgICByZXR1cm4gb3JpZ2luVmFsLmNvbmNhdChuZXdWYWwpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5ld1ZhbDsgLy8gYWx3YXlzIHJldHVybiBuZXdWYWwgYXMgZmFsbGJhY2shIVxyXG59XG5cbmV4cG9ydCBkZWZhdWx0IG1lcmdlO1xuZXhwb3J0IHsgY29uY2F0QXJyYXlzLCBtZXJnZSB9O1xuIiwiaW1wb3J0IF9leHRlbmRzIGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHMnO1xuaW1wb3J0IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXNzZXJ0VGhpc0luaXRpYWxpemVkJztcbmltcG9ydCBfaW5oZXJpdHNMb29zZSBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pbmhlcml0c0xvb3NlJztcbmltcG9ydCBfd3JhcE5hdGl2ZVN1cGVyIGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3dyYXBOYXRpdmVTdXBlcic7XG5pbXBvcnQgX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbExvb3NlIGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbExvb3NlJztcblxuZnVuY3Rpb24gbGFzdCgpIHtcbiAgdmFyIF9yZWY7XG5cbiAgcmV0dXJuIF9yZWYgPSBhcmd1bWVudHMubGVuZ3RoIC0gMSwgX3JlZiA8IDAgfHwgYXJndW1lbnRzLmxlbmd0aCA8PSBfcmVmID8gdW5kZWZpbmVkIDogYXJndW1lbnRzW19yZWZdO1xufVxuXG5mdW5jdGlvbiBuZWdhdGlvbihhKSB7XG4gIHJldHVybiAtYTtcbn1cblxuZnVuY3Rpb24gYWRkaXRpb24oYSwgYikge1xuICByZXR1cm4gYSArIGI7XG59XG5cbmZ1bmN0aW9uIHN1YnRyYWN0aW9uKGEsIGIpIHtcbiAgcmV0dXJuIGEgLSBiO1xufVxuXG5mdW5jdGlvbiBtdWx0aXBsaWNhdGlvbihhLCBiKSB7XG4gIHJldHVybiBhICogYjtcbn1cblxuZnVuY3Rpb24gZGl2aXNpb24oYSwgYikge1xuICByZXR1cm4gYSAvIGI7XG59XG5cbmZ1bmN0aW9uIGZhY3RvcmlhbChhKSB7XG4gIGlmIChhICUgMSB8fCAhKCthID49IDApKSByZXR1cm4gTmFOO1xuICBpZiAoYSA+IDE3MCkgcmV0dXJuIEluZmluaXR5O2Vsc2UgaWYgKGEgPT09IDApIHJldHVybiAxO2Vsc2Uge1xuICAgIHJldHVybiBhICogZmFjdG9yaWFsKGEgLSAxKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwb3dlcihhLCBiKSB7XG4gIHJldHVybiBNYXRoLnBvdyhhLCBiKTtcbn1cblxuZnVuY3Rpb24gc3FydChhKSB7XG4gIHJldHVybiBNYXRoLnNxcnQoYSk7XG59XG5cbmZ1bmN0aW9uIG1heCgpIHtcbiAgcmV0dXJuIE1hdGgubWF4LmFwcGx5KE1hdGgsIGFyZ3VtZW50cyk7XG59XG5cbmZ1bmN0aW9uIG1pbigpIHtcbiAgcmV0dXJuIE1hdGgubWluLmFwcGx5KE1hdGgsIGFyZ3VtZW50cyk7XG59XG5cbmZ1bmN0aW9uIGNvbW1hKCkge1xuICByZXR1cm4gQXJyYXkub2YuYXBwbHkoQXJyYXksIGFyZ3VtZW50cyk7XG59XG5cbnZhciBkZWZhdWx0TWF0aFN5bWJvbHMgPSB7XG4gIHN5bWJvbHM6IHtcbiAgICAnISc6IHtcbiAgICAgIHBvc3RmaXg6IHtcbiAgICAgICAgc3ltYm9sOiAnIScsXG4gICAgICAgIGY6IGZhY3RvcmlhbCxcbiAgICAgICAgbm90YXRpb246ICdwb3N0Zml4JyxcbiAgICAgICAgcHJlY2VkZW5jZTogNixcbiAgICAgICAgcmlnaHRUb0xlZnQ6IDAsXG4gICAgICAgIGFyZ0NvdW50OiAxXG4gICAgICB9LFxuICAgICAgc3ltYm9sOiAnIScsXG4gICAgICByZWdTeW1ib2w6ICchJ1xuICAgIH0sXG4gICAgJ14nOiB7XG4gICAgICBpbmZpeDoge1xuICAgICAgICBzeW1ib2w6ICdeJyxcbiAgICAgICAgZjogcG93ZXIsXG4gICAgICAgIG5vdGF0aW9uOiAnaW5maXgnLFxuICAgICAgICBwcmVjZWRlbmNlOiA1LFxuICAgICAgICByaWdodFRvTGVmdDogMSxcbiAgICAgICAgYXJnQ291bnQ6IDJcbiAgICAgIH0sXG4gICAgICBzeW1ib2w6ICdeJyxcbiAgICAgIHJlZ1N5bWJvbDogJ1xcXFxeJ1xuICAgIH0sXG4gICAgJyonOiB7XG4gICAgICBpbmZpeDoge1xuICAgICAgICBzeW1ib2w6ICcqJyxcbiAgICAgICAgZjogbXVsdGlwbGljYXRpb24sXG4gICAgICAgIG5vdGF0aW9uOiAnaW5maXgnLFxuICAgICAgICBwcmVjZWRlbmNlOiA0LFxuICAgICAgICByaWdodFRvTGVmdDogMCxcbiAgICAgICAgYXJnQ291bnQ6IDJcbiAgICAgIH0sXG4gICAgICBzeW1ib2w6ICcqJyxcbiAgICAgIHJlZ1N5bWJvbDogJ1xcXFwqJ1xuICAgIH0sXG4gICAgJy8nOiB7XG4gICAgICBpbmZpeDoge1xuICAgICAgICBzeW1ib2w6ICcvJyxcbiAgICAgICAgZjogZGl2aXNpb24sXG4gICAgICAgIG5vdGF0aW9uOiAnaW5maXgnLFxuICAgICAgICBwcmVjZWRlbmNlOiA0LFxuICAgICAgICByaWdodFRvTGVmdDogMCxcbiAgICAgICAgYXJnQ291bnQ6IDJcbiAgICAgIH0sXG4gICAgICBzeW1ib2w6ICcvJyxcbiAgICAgIHJlZ1N5bWJvbDogJy8nXG4gICAgfSxcbiAgICAnKyc6IHtcbiAgICAgIGluZml4OiB7XG4gICAgICAgIHN5bWJvbDogJysnLFxuICAgICAgICBmOiBhZGRpdGlvbixcbiAgICAgICAgbm90YXRpb246ICdpbmZpeCcsXG4gICAgICAgIHByZWNlZGVuY2U6IDIsXG4gICAgICAgIHJpZ2h0VG9MZWZ0OiAwLFxuICAgICAgICBhcmdDb3VudDogMlxuICAgICAgfSxcbiAgICAgIHByZWZpeDoge1xuICAgICAgICBzeW1ib2w6ICcrJyxcbiAgICAgICAgZjogbGFzdCxcbiAgICAgICAgbm90YXRpb246ICdwcmVmaXgnLFxuICAgICAgICBwcmVjZWRlbmNlOiAzLFxuICAgICAgICByaWdodFRvTGVmdDogMCxcbiAgICAgICAgYXJnQ291bnQ6IDFcbiAgICAgIH0sXG4gICAgICBzeW1ib2w6ICcrJyxcbiAgICAgIHJlZ1N5bWJvbDogJ1xcXFwrJ1xuICAgIH0sXG4gICAgJy0nOiB7XG4gICAgICBpbmZpeDoge1xuICAgICAgICBzeW1ib2w6ICctJyxcbiAgICAgICAgZjogc3VidHJhY3Rpb24sXG4gICAgICAgIG5vdGF0aW9uOiAnaW5maXgnLFxuICAgICAgICBwcmVjZWRlbmNlOiAyLFxuICAgICAgICByaWdodFRvTGVmdDogMCxcbiAgICAgICAgYXJnQ291bnQ6IDJcbiAgICAgIH0sXG4gICAgICBwcmVmaXg6IHtcbiAgICAgICAgc3ltYm9sOiAnLScsXG4gICAgICAgIGY6IG5lZ2F0aW9uLFxuICAgICAgICBub3RhdGlvbjogJ3ByZWZpeCcsXG4gICAgICAgIHByZWNlZGVuY2U6IDMsXG4gICAgICAgIHJpZ2h0VG9MZWZ0OiAwLFxuICAgICAgICBhcmdDb3VudDogMVxuICAgICAgfSxcbiAgICAgIHN5bWJvbDogJy0nLFxuICAgICAgcmVnU3ltYm9sOiAnLSdcbiAgICB9LFxuICAgICcsJzoge1xuICAgICAgaW5maXg6IHtcbiAgICAgICAgc3ltYm9sOiAnLCcsXG4gICAgICAgIGY6IGNvbW1hLFxuICAgICAgICBub3RhdGlvbjogJ2luZml4JyxcbiAgICAgICAgcHJlY2VkZW5jZTogMSxcbiAgICAgICAgcmlnaHRUb0xlZnQ6IDAsXG4gICAgICAgIGFyZ0NvdW50OiAyXG4gICAgICB9LFxuICAgICAgc3ltYm9sOiAnLCcsXG4gICAgICByZWdTeW1ib2w6ICcsJ1xuICAgIH0sXG4gICAgJygnOiB7XG4gICAgICBwcmVmaXg6IHtcbiAgICAgICAgc3ltYm9sOiAnKCcsXG4gICAgICAgIGY6IGxhc3QsXG4gICAgICAgIG5vdGF0aW9uOiAncHJlZml4JyxcbiAgICAgICAgcHJlY2VkZW5jZTogMCxcbiAgICAgICAgcmlnaHRUb0xlZnQ6IDAsXG4gICAgICAgIGFyZ0NvdW50OiAxXG4gICAgICB9LFxuICAgICAgc3ltYm9sOiAnKCcsXG4gICAgICByZWdTeW1ib2w6ICdcXFxcKCdcbiAgICB9LFxuICAgICcpJzoge1xuICAgICAgcG9zdGZpeDoge1xuICAgICAgICBzeW1ib2w6ICcpJyxcbiAgICAgICAgZjogdW5kZWZpbmVkLFxuICAgICAgICBub3RhdGlvbjogJ3Bvc3RmaXgnLFxuICAgICAgICBwcmVjZWRlbmNlOiAwLFxuICAgICAgICByaWdodFRvTGVmdDogMCxcbiAgICAgICAgYXJnQ291bnQ6IDFcbiAgICAgIH0sXG4gICAgICBzeW1ib2w6ICcpJyxcbiAgICAgIHJlZ1N5bWJvbDogJ1xcXFwpJ1xuICAgIH0sXG4gICAgbWluOiB7XG4gICAgICBmdW5jOiB7XG4gICAgICAgIHN5bWJvbDogJ21pbicsXG4gICAgICAgIGY6IG1pbixcbiAgICAgICAgbm90YXRpb246ICdmdW5jJyxcbiAgICAgICAgcHJlY2VkZW5jZTogMCxcbiAgICAgICAgcmlnaHRUb0xlZnQ6IDAsXG4gICAgICAgIGFyZ0NvdW50OiAxXG4gICAgICB9LFxuICAgICAgc3ltYm9sOiAnbWluJyxcbiAgICAgIHJlZ1N5bWJvbDogJ21pblxcXFxiJ1xuICAgIH0sXG4gICAgbWF4OiB7XG4gICAgICBmdW5jOiB7XG4gICAgICAgIHN5bWJvbDogJ21heCcsXG4gICAgICAgIGY6IG1heCxcbiAgICAgICAgbm90YXRpb246ICdmdW5jJyxcbiAgICAgICAgcHJlY2VkZW5jZTogMCxcbiAgICAgICAgcmlnaHRUb0xlZnQ6IDAsXG4gICAgICAgIGFyZ0NvdW50OiAxXG4gICAgICB9LFxuICAgICAgc3ltYm9sOiAnbWF4JyxcbiAgICAgIHJlZ1N5bWJvbDogJ21heFxcXFxiJ1xuICAgIH0sXG4gICAgc3FydDoge1xuICAgICAgZnVuYzoge1xuICAgICAgICBzeW1ib2w6ICdzcXJ0JyxcbiAgICAgICAgZjogc3FydCxcbiAgICAgICAgbm90YXRpb246ICdmdW5jJyxcbiAgICAgICAgcHJlY2VkZW5jZTogMCxcbiAgICAgICAgcmlnaHRUb0xlZnQ6IDAsXG4gICAgICAgIGFyZ0NvdW50OiAxXG4gICAgICB9LFxuICAgICAgc3ltYm9sOiAnc3FydCcsXG4gICAgICByZWdTeW1ib2w6ICdzcXJ0XFxcXGInXG4gICAgfVxuICB9XG59O1xuXG4vLyBiYXNlZCBvbiBodHRwczovL2dpdGh1Yi5jb20vc3R5bGVkLWNvbXBvbmVudHMvc3R5bGVkLWNvbXBvbmVudHMvYmxvYi9mY2Y2ZjM4MDRjNTdhMTRkZDc5ODRkZmFiN2JjMDZlZTJlZGNhMDQ0L3NyYy91dGlscy9lcnJvci5qc1xuXG4vKipcbiAqIFBhcnNlIGVycm9ycy5tZCBhbmQgdHVybiBpdCBpbnRvIGEgc2ltcGxlIGhhc2ggb2YgY29kZTogbWVzc2FnZVxuICogQHByaXZhdGVcbiAqL1xudmFyIEVSUk9SUyA9IHtcbiAgXCIxXCI6IFwiUGFzc2VkIGludmFsaWQgYXJndW1lbnRzIHRvIGhzbCwgcGxlYXNlIHBhc3MgbXVsdGlwbGUgbnVtYmVycyBlLmcuIGhzbCgzNjAsIDAuNzUsIDAuNCkgb3IgYW4gb2JqZWN0IGUuZy4gcmdiKHsgaHVlOiAyNTUsIHNhdHVyYXRpb246IDAuNCwgbGlnaHRuZXNzOiAwLjc1IH0pLlxcblxcblwiLFxuICBcIjJcIjogXCJQYXNzZWQgaW52YWxpZCBhcmd1bWVudHMgdG8gaHNsYSwgcGxlYXNlIHBhc3MgbXVsdGlwbGUgbnVtYmVycyBlLmcuIGhzbGEoMzYwLCAwLjc1LCAwLjQsIDAuNykgb3IgYW4gb2JqZWN0IGUuZy4gcmdiKHsgaHVlOiAyNTUsIHNhdHVyYXRpb246IDAuNCwgbGlnaHRuZXNzOiAwLjc1LCBhbHBoYTogMC43IH0pLlxcblxcblwiLFxuICBcIjNcIjogXCJQYXNzZWQgYW4gaW5jb3JyZWN0IGFyZ3VtZW50IHRvIGEgY29sb3IgZnVuY3Rpb24sIHBsZWFzZSBwYXNzIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGEgY29sb3IuXFxuXFxuXCIsXG4gIFwiNFwiOiBcIkNvdWxkbid0IGdlbmVyYXRlIHZhbGlkIHJnYiBzdHJpbmcgZnJvbSAlcywgaXQgcmV0dXJuZWQgJXMuXFxuXFxuXCIsXG4gIFwiNVwiOiBcIkNvdWxkbid0IHBhcnNlIHRoZSBjb2xvciBzdHJpbmcuIFBsZWFzZSBwcm92aWRlIHRoZSBjb2xvciBhcyBhIHN0cmluZyBpbiBoZXgsIHJnYiwgcmdiYSwgaHNsIG9yIGhzbGEgbm90YXRpb24uXFxuXFxuXCIsXG4gIFwiNlwiOiBcIlBhc3NlZCBpbnZhbGlkIGFyZ3VtZW50cyB0byByZ2IsIHBsZWFzZSBwYXNzIG11bHRpcGxlIG51bWJlcnMgZS5nLiByZ2IoMjU1LCAyMDUsIDEwMCkgb3IgYW4gb2JqZWN0IGUuZy4gcmdiKHsgcmVkOiAyNTUsIGdyZWVuOiAyMDUsIGJsdWU6IDEwMCB9KS5cXG5cXG5cIixcbiAgXCI3XCI6IFwiUGFzc2VkIGludmFsaWQgYXJndW1lbnRzIHRvIHJnYmEsIHBsZWFzZSBwYXNzIG11bHRpcGxlIG51bWJlcnMgZS5nLiByZ2IoMjU1LCAyMDUsIDEwMCwgMC43NSkgb3IgYW4gb2JqZWN0IGUuZy4gcmdiKHsgcmVkOiAyNTUsIGdyZWVuOiAyMDUsIGJsdWU6IDEwMCwgYWxwaGE6IDAuNzUgfSkuXFxuXFxuXCIsXG4gIFwiOFwiOiBcIlBhc3NlZCBpbnZhbGlkIGFyZ3VtZW50IHRvIHRvQ29sb3JTdHJpbmcsIHBsZWFzZSBwYXNzIGEgUmdiQ29sb3IsIFJnYmFDb2xvciwgSHNsQ29sb3Igb3IgSHNsYUNvbG9yIG9iamVjdC5cXG5cXG5cIixcbiAgXCI5XCI6IFwiUGxlYXNlIHByb3ZpZGUgYSBudW1iZXIgb2Ygc3RlcHMgdG8gdGhlIG1vZHVsYXJTY2FsZSBoZWxwZXIuXFxuXFxuXCIsXG4gIFwiMTBcIjogXCJQbGVhc2UgcGFzcyBhIG51bWJlciBvciBvbmUgb2YgdGhlIHByZWRlZmluZWQgc2NhbGVzIHRvIHRoZSBtb2R1bGFyU2NhbGUgaGVscGVyIGFzIHRoZSByYXRpby5cXG5cXG5cIixcbiAgXCIxMVwiOiBcIkludmFsaWQgdmFsdWUgcGFzc2VkIGFzIGJhc2UgdG8gbW9kdWxhclNjYWxlLCBleHBlY3RlZCBudW1iZXIgb3IgZW0gc3RyaW5nIGJ1dCBnb3QgXFxcIiVzXFxcIlxcblxcblwiLFxuICBcIjEyXCI6IFwiRXhwZWN0ZWQgYSBzdHJpbmcgZW5kaW5nIGluIFxcXCJweFxcXCIgb3IgYSBudW1iZXIgcGFzc2VkIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byAlcygpLCBnb3QgXFxcIiVzXFxcIiBpbnN0ZWFkLlxcblxcblwiLFxuICBcIjEzXCI6IFwiRXhwZWN0ZWQgYSBzdHJpbmcgZW5kaW5nIGluIFxcXCJweFxcXCIgb3IgYSBudW1iZXIgcGFzc2VkIGFzIHRoZSBzZWNvbmQgYXJndW1lbnQgdG8gJXMoKSwgZ290IFxcXCIlc1xcXCIgaW5zdGVhZC5cXG5cXG5cIixcbiAgXCIxNFwiOiBcIlBhc3NlZCBpbnZhbGlkIHBpeGVsIHZhbHVlIChcXFwiJXNcXFwiKSB0byAlcygpLCBwbGVhc2UgcGFzcyBhIHZhbHVlIGxpa2UgXFxcIjEycHhcXFwiIG9yIDEyLlxcblxcblwiLFxuICBcIjE1XCI6IFwiUGFzc2VkIGludmFsaWQgYmFzZSB2YWx1ZSAoXFxcIiVzXFxcIikgdG8gJXMoKSwgcGxlYXNlIHBhc3MgYSB2YWx1ZSBsaWtlIFxcXCIxMnB4XFxcIiBvciAxMi5cXG5cXG5cIixcbiAgXCIxNlwiOiBcIllvdSBtdXN0IHByb3ZpZGUgYSB0ZW1wbGF0ZSB0byB0aGlzIG1ldGhvZC5cXG5cXG5cIixcbiAgXCIxN1wiOiBcIllvdSBwYXNzZWQgYW4gdW5zdXBwb3J0ZWQgc2VsZWN0b3Igc3RhdGUgdG8gdGhpcyBtZXRob2QuXFxuXFxuXCIsXG4gIFwiMThcIjogXCJtaW5TY3JlZW4gYW5kIG1heFNjcmVlbiBtdXN0IGJlIHByb3ZpZGVkIGFzIHN0cmluZ2lmaWVkIG51bWJlcnMgd2l0aCB0aGUgc2FtZSB1bml0cy5cXG5cXG5cIixcbiAgXCIxOVwiOiBcImZyb21TaXplIGFuZCB0b1NpemUgbXVzdCBiZSBwcm92aWRlZCBhcyBzdHJpbmdpZmllZCBudW1iZXJzIHdpdGggdGhlIHNhbWUgdW5pdHMuXFxuXFxuXCIsXG4gIFwiMjBcIjogXCJleHBlY3RzIGVpdGhlciBhbiBhcnJheSBvZiBvYmplY3RzIG9yIGEgc2luZ2xlIG9iamVjdCB3aXRoIHRoZSBwcm9wZXJ0aWVzIHByb3AsIGZyb21TaXplLCBhbmQgdG9TaXplLlxcblxcblwiLFxuICBcIjIxXCI6IFwiZXhwZWN0cyB0aGUgb2JqZWN0cyBpbiB0aGUgZmlyc3QgYXJndW1lbnQgYXJyYXkgdG8gaGF2ZSB0aGUgcHJvcGVydGllcyBgcHJvcGAsIGBmcm9tU2l6ZWAsIGFuZCBgdG9TaXplYC5cXG5cXG5cIixcbiAgXCIyMlwiOiBcImV4cGVjdHMgdGhlIGZpcnN0IGFyZ3VtZW50IG9iamVjdCB0byBoYXZlIHRoZSBwcm9wZXJ0aWVzIGBwcm9wYCwgYGZyb21TaXplYCwgYW5kIGB0b1NpemVgLlxcblxcblwiLFxuICBcIjIzXCI6IFwiZm9udEZhY2UgZXhwZWN0cyBhIG5hbWUgb2YgYSBmb250LWZhbWlseS5cXG5cXG5cIixcbiAgXCIyNFwiOiBcImZvbnRGYWNlIGV4cGVjdHMgZWl0aGVyIHRoZSBwYXRoIHRvIHRoZSBmb250IGZpbGUocykgb3IgYSBuYW1lIG9mIGEgbG9jYWwgY29weS5cXG5cXG5cIixcbiAgXCIyNVwiOiBcImZvbnRGYWNlIGV4cGVjdHMgbG9jYWxGb250cyB0byBiZSBhbiBhcnJheS5cXG5cXG5cIixcbiAgXCIyNlwiOiBcImZvbnRGYWNlIGV4cGVjdHMgZmlsZUZvcm1hdHMgdG8gYmUgYW4gYXJyYXkuXFxuXFxuXCIsXG4gIFwiMjdcIjogXCJyYWRpYWxHcmFkaWVudCByZXF1cmllcyBhdCBsZWFzdCAyIGNvbG9yLXN0b3BzIHRvIHByb3Blcmx5IHJlbmRlci5cXG5cXG5cIixcbiAgXCIyOFwiOiBcIlBsZWFzZSBzdXBwbHkgYSBmaWxlbmFtZSB0byByZXRpbmFJbWFnZSgpIGFzIHRoZSBmaXJzdCBhcmd1bWVudC5cXG5cXG5cIixcbiAgXCIyOVwiOiBcIlBhc3NlZCBpbnZhbGlkIGFyZ3VtZW50IHRvIHRyaWFuZ2xlLCBwbGVhc2UgcGFzcyBjb3JyZWN0IHBvaW50aW5nRGlyZWN0aW9uIGUuZy4gJ3JpZ2h0Jy5cXG5cXG5cIixcbiAgXCIzMFwiOiBcIlBhc3NlZCBhbiBpbnZhbGlkIHZhbHVlIHRvIGBoZWlnaHRgIG9yIGB3aWR0aGAuIFBsZWFzZSBwcm92aWRlIGEgcGl4ZWwgYmFzZWQgdW5pdC5cXG5cXG5cIixcbiAgXCIzMVwiOiBcIlRoZSBhbmltYXRpb24gc2hvcnRoYW5kIG9ubHkgdGFrZXMgOCBhcmd1bWVudHMuIFNlZSB0aGUgc3BlY2lmaWNhdGlvbiBmb3IgbW9yZSBpbmZvcm1hdGlvbjogaHR0cDovL21kbi5pby9hbmltYXRpb25cXG5cXG5cIixcbiAgXCIzMlwiOiBcIlRvIHBhc3MgbXVsdGlwbGUgYW5pbWF0aW9ucyBwbGVhc2Ugc3VwcGx5IHRoZW0gaW4gYXJyYXlzLCBlLmcuIGFuaW1hdGlvbihbJ3JvdGF0ZScsICcycyddLCBbJ21vdmUnLCAnMXMnXSlcXG5UbyBwYXNzIGEgc2luZ2xlIGFuaW1hdGlvbiBwbGVhc2Ugc3VwcGx5IHRoZW0gaW4gc2ltcGxlIHZhbHVlcywgZS5nLiBhbmltYXRpb24oJ3JvdGF0ZScsICcycycpXFxuXFxuXCIsXG4gIFwiMzNcIjogXCJUaGUgYW5pbWF0aW9uIHNob3J0aGFuZCBhcnJheXMgY2FuIG9ubHkgaGF2ZSA4IGVsZW1lbnRzLiBTZWUgdGhlIHNwZWNpZmljYXRpb24gZm9yIG1vcmUgaW5mb3JtYXRpb246IGh0dHA6Ly9tZG4uaW8vYW5pbWF0aW9uXFxuXFxuXCIsXG4gIFwiMzRcIjogXCJib3JkZXJSYWRpdXMgZXhwZWN0cyBhIHJhZGl1cyB2YWx1ZSBhcyBhIHN0cmluZyBvciBudW1iZXIgYXMgdGhlIHNlY29uZCBhcmd1bWVudC5cXG5cXG5cIixcbiAgXCIzNVwiOiBcImJvcmRlclJhZGl1cyBleHBlY3RzIG9uZSBvZiBcXFwidG9wXFxcIiwgXFxcImJvdHRvbVxcXCIsIFxcXCJsZWZ0XFxcIiBvciBcXFwicmlnaHRcXFwiIGFzIHRoZSBmaXJzdCBhcmd1bWVudC5cXG5cXG5cIixcbiAgXCIzNlwiOiBcIlByb3BlcnR5IG11c3QgYmUgYSBzdHJpbmcgdmFsdWUuXFxuXFxuXCIsXG4gIFwiMzdcIjogXCJTeW50YXggRXJyb3IgYXQgJXMuXFxuXFxuXCIsXG4gIFwiMzhcIjogXCJGb3JtdWxhIGNvbnRhaW5zIGEgZnVuY3Rpb24gdGhhdCBuZWVkcyBwYXJlbnRoZXNlcyBhdCAlcy5cXG5cXG5cIixcbiAgXCIzOVwiOiBcIkZvcm11bGEgaXMgbWlzc2luZyBjbG9zaW5nIHBhcmVudGhlc2lzIGF0ICVzLlxcblxcblwiLFxuICBcIjQwXCI6IFwiRm9ybXVsYSBoYXMgdG9vIG1hbnkgY2xvc2luZyBwYXJlbnRoZXNlcyBhdCAlcy5cXG5cXG5cIixcbiAgXCI0MVwiOiBcIkFsbCB2YWx1ZXMgaW4gYSBmb3JtdWxhIG11c3QgaGF2ZSB0aGUgc2FtZSB1bml0IG9yIGJlIHVuaXRsZXNzLlxcblxcblwiLFxuICBcIjQyXCI6IFwiUGxlYXNlIHByb3ZpZGUgYSBudW1iZXIgb2Ygc3RlcHMgdG8gdGhlIG1vZHVsYXJTY2FsZSBoZWxwZXIuXFxuXFxuXCIsXG4gIFwiNDNcIjogXCJQbGVhc2UgcGFzcyBhIG51bWJlciBvciBvbmUgb2YgdGhlIHByZWRlZmluZWQgc2NhbGVzIHRvIHRoZSBtb2R1bGFyU2NhbGUgaGVscGVyIGFzIHRoZSByYXRpby5cXG5cXG5cIixcbiAgXCI0NFwiOiBcIkludmFsaWQgdmFsdWUgcGFzc2VkIGFzIGJhc2UgdG8gbW9kdWxhclNjYWxlLCBleHBlY3RlZCBudW1iZXIgb3IgZW0vcmVtIHN0cmluZyBidXQgZ290ICVzLlxcblxcblwiLFxuICBcIjQ1XCI6IFwiUGFzc2VkIGludmFsaWQgYXJndW1lbnQgdG8gaHNsVG9Db2xvclN0cmluZywgcGxlYXNlIHBhc3MgYSBIc2xDb2xvciBvciBIc2xhQ29sb3Igb2JqZWN0LlxcblxcblwiLFxuICBcIjQ2XCI6IFwiUGFzc2VkIGludmFsaWQgYXJndW1lbnQgdG8gcmdiVG9Db2xvclN0cmluZywgcGxlYXNlIHBhc3MgYSBSZ2JDb2xvciBvciBSZ2JhQ29sb3Igb2JqZWN0LlxcblxcblwiLFxuICBcIjQ3XCI6IFwibWluU2NyZWVuIGFuZCBtYXhTY3JlZW4gbXVzdCBiZSBwcm92aWRlZCBhcyBzdHJpbmdpZmllZCBudW1iZXJzIHdpdGggdGhlIHNhbWUgdW5pdHMuXFxuXFxuXCIsXG4gIFwiNDhcIjogXCJmcm9tU2l6ZSBhbmQgdG9TaXplIG11c3QgYmUgcHJvdmlkZWQgYXMgc3RyaW5naWZpZWQgbnVtYmVycyB3aXRoIHRoZSBzYW1lIHVuaXRzLlxcblxcblwiLFxuICBcIjQ5XCI6IFwiRXhwZWN0cyBlaXRoZXIgYW4gYXJyYXkgb2Ygb2JqZWN0cyBvciBhIHNpbmdsZSBvYmplY3Qgd2l0aCB0aGUgcHJvcGVydGllcyBwcm9wLCBmcm9tU2l6ZSwgYW5kIHRvU2l6ZS5cXG5cXG5cIixcbiAgXCI1MFwiOiBcIkV4cGVjdHMgdGhlIG9iamVjdHMgaW4gdGhlIGZpcnN0IGFyZ3VtZW50IGFycmF5IHRvIGhhdmUgdGhlIHByb3BlcnRpZXMgcHJvcCwgZnJvbVNpemUsIGFuZCB0b1NpemUuXFxuXFxuXCIsXG4gIFwiNTFcIjogXCJFeHBlY3RzIHRoZSBmaXJzdCBhcmd1bWVudCBvYmplY3QgdG8gaGF2ZSB0aGUgcHJvcGVydGllcyBwcm9wLCBmcm9tU2l6ZSwgYW5kIHRvU2l6ZS5cXG5cXG5cIixcbiAgXCI1MlwiOiBcImZvbnRGYWNlIGV4cGVjdHMgZWl0aGVyIHRoZSBwYXRoIHRvIHRoZSBmb250IGZpbGUocykgb3IgYSBuYW1lIG9mIGEgbG9jYWwgY29weS5cXG5cXG5cIixcbiAgXCI1M1wiOiBcImZvbnRGYWNlIGV4cGVjdHMgbG9jYWxGb250cyB0byBiZSBhbiBhcnJheS5cXG5cXG5cIixcbiAgXCI1NFwiOiBcImZvbnRGYWNlIGV4cGVjdHMgZmlsZUZvcm1hdHMgdG8gYmUgYW4gYXJyYXkuXFxuXFxuXCIsXG4gIFwiNTVcIjogXCJmb250RmFjZSBleHBlY3RzIGEgbmFtZSBvZiBhIGZvbnQtZmFtaWx5LlxcblxcblwiLFxuICBcIjU2XCI6IFwibGluZWFyR3JhZGllbnQgcmVxdXJpZXMgYXQgbGVhc3QgMiBjb2xvci1zdG9wcyB0byBwcm9wZXJseSByZW5kZXIuXFxuXFxuXCIsXG4gIFwiNTdcIjogXCJyYWRpYWxHcmFkaWVudCByZXF1cmllcyBhdCBsZWFzdCAyIGNvbG9yLXN0b3BzIHRvIHByb3Blcmx5IHJlbmRlci5cXG5cXG5cIixcbiAgXCI1OFwiOiBcIlBsZWFzZSBzdXBwbHkgYSBmaWxlbmFtZSB0byByZXRpbmFJbWFnZSgpIGFzIHRoZSBmaXJzdCBhcmd1bWVudC5cXG5cXG5cIixcbiAgXCI1OVwiOiBcIlBhc3NlZCBpbnZhbGlkIGFyZ3VtZW50IHRvIHRyaWFuZ2xlLCBwbGVhc2UgcGFzcyBjb3JyZWN0IHBvaW50aW5nRGlyZWN0aW9uIGUuZy4gJ3JpZ2h0Jy5cXG5cXG5cIixcbiAgXCI2MFwiOiBcIlBhc3NlZCBhbiBpbnZhbGlkIHZhbHVlIHRvIGBoZWlnaHRgIG9yIGB3aWR0aGAuIFBsZWFzZSBwcm92aWRlIGEgcGl4ZWwgYmFzZWQgdW5pdC5cXG5cXG5cIixcbiAgXCI2MVwiOiBcIlByb3BlcnR5IG11c3QgYmUgYSBzdHJpbmcgdmFsdWUuXFxuXFxuXCIsXG4gIFwiNjJcIjogXCJib3JkZXJSYWRpdXMgZXhwZWN0cyBhIHJhZGl1cyB2YWx1ZSBhcyBhIHN0cmluZyBvciBudW1iZXIgYXMgdGhlIHNlY29uZCBhcmd1bWVudC5cXG5cXG5cIixcbiAgXCI2M1wiOiBcImJvcmRlclJhZGl1cyBleHBlY3RzIG9uZSBvZiBcXFwidG9wXFxcIiwgXFxcImJvdHRvbVxcXCIsIFxcXCJsZWZ0XFxcIiBvciBcXFwicmlnaHRcXFwiIGFzIHRoZSBmaXJzdCBhcmd1bWVudC5cXG5cXG5cIixcbiAgXCI2NFwiOiBcIlRoZSBhbmltYXRpb24gc2hvcnRoYW5kIG9ubHkgdGFrZXMgOCBhcmd1bWVudHMuIFNlZSB0aGUgc3BlY2lmaWNhdGlvbiBmb3IgbW9yZSBpbmZvcm1hdGlvbjogaHR0cDovL21kbi5pby9hbmltYXRpb24uXFxuXFxuXCIsXG4gIFwiNjVcIjogXCJUbyBwYXNzIG11bHRpcGxlIGFuaW1hdGlvbnMgcGxlYXNlIHN1cHBseSB0aGVtIGluIGFycmF5cywgZS5nLiBhbmltYXRpb24oWydyb3RhdGUnLCAnMnMnXSwgWydtb3ZlJywgJzFzJ10pXFxcXG5UbyBwYXNzIGEgc2luZ2xlIGFuaW1hdGlvbiBwbGVhc2Ugc3VwcGx5IHRoZW0gaW4gc2ltcGxlIHZhbHVlcywgZS5nLiBhbmltYXRpb24oJ3JvdGF0ZScsICcycycpLlxcblxcblwiLFxuICBcIjY2XCI6IFwiVGhlIGFuaW1hdGlvbiBzaG9ydGhhbmQgYXJyYXlzIGNhbiBvbmx5IGhhdmUgOCBlbGVtZW50cy4gU2VlIHRoZSBzcGVjaWZpY2F0aW9uIGZvciBtb3JlIGluZm9ybWF0aW9uOiBodHRwOi8vbWRuLmlvL2FuaW1hdGlvbi5cXG5cXG5cIixcbiAgXCI2N1wiOiBcIllvdSBtdXN0IHByb3ZpZGUgYSB0ZW1wbGF0ZSB0byB0aGlzIG1ldGhvZC5cXG5cXG5cIixcbiAgXCI2OFwiOiBcIllvdSBwYXNzZWQgYW4gdW5zdXBwb3J0ZWQgc2VsZWN0b3Igc3RhdGUgdG8gdGhpcyBtZXRob2QuXFxuXFxuXCIsXG4gIFwiNjlcIjogXCJFeHBlY3RlZCBhIHN0cmluZyBlbmRpbmcgaW4gXFxcInB4XFxcIiBvciBhIG51bWJlciBwYXNzZWQgYXMgdGhlIGZpcnN0IGFyZ3VtZW50IHRvICVzKCksIGdvdCAlcyBpbnN0ZWFkLlxcblxcblwiLFxuICBcIjcwXCI6IFwiRXhwZWN0ZWQgYSBzdHJpbmcgZW5kaW5nIGluIFxcXCJweFxcXCIgb3IgYSBudW1iZXIgcGFzc2VkIGFzIHRoZSBzZWNvbmQgYXJndW1lbnQgdG8gJXMoKSwgZ290ICVzIGluc3RlYWQuXFxuXFxuXCIsXG4gIFwiNzFcIjogXCJQYXNzZWQgaW52YWxpZCBwaXhlbCB2YWx1ZSAlcyB0byAlcygpLCBwbGVhc2UgcGFzcyBhIHZhbHVlIGxpa2UgXFxcIjEycHhcXFwiIG9yIDEyLlxcblxcblwiLFxuICBcIjcyXCI6IFwiUGFzc2VkIGludmFsaWQgYmFzZSB2YWx1ZSAlcyB0byAlcygpLCBwbGVhc2UgcGFzcyBhIHZhbHVlIGxpa2UgXFxcIjEycHhcXFwiIG9yIDEyLlxcblwiXG59O1xuLyoqXG4gKiBzdXBlciBiYXNpYyB2ZXJzaW9uIG9mIHNwcmludGZcbiAqIEBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gZm9ybWF0KCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgdmFyIGEgPSBhcmdzWzBdO1xuICB2YXIgYiA9IFtdO1xuICB2YXIgYztcblxuICBmb3IgKGMgPSAxOyBjIDwgYXJncy5sZW5ndGg7IGMgKz0gMSkge1xuICAgIGIucHVzaChhcmdzW2NdKTtcbiAgfVxuXG4gIGIuZm9yRWFjaChmdW5jdGlvbiAoZCkge1xuICAgIGEgPSBhLnJlcGxhY2UoLyVbYS16XS8sIGQpO1xuICB9KTtcbiAgcmV0dXJuIGE7XG59XG4vKipcbiAqIENyZWF0ZSBhbiBlcnJvciBmaWxlIG91dCBvZiBlcnJvcnMubWQgZm9yIGRldmVsb3BtZW50IGFuZCBhIHNpbXBsZSB3ZWIgbGluayB0byB0aGUgZnVsbCBlcnJvcnNcbiAqIGluIHByb2R1Y3Rpb24gbW9kZS5cbiAqIEBwcml2YXRlXG4gKi9cblxuXG52YXIgUG9saXNoZWRFcnJvciA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX0Vycm9yKSB7XG4gIF9pbmhlcml0c0xvb3NlKFBvbGlzaGVkRXJyb3IsIF9FcnJvcik7XG5cbiAgZnVuY3Rpb24gUG9saXNoZWRFcnJvcihjb2RlKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIF90aGlzID0gX0Vycm9yLmNhbGwodGhpcywgXCJBbiBlcnJvciBvY2N1cnJlZC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9zdHlsZWQtY29tcG9uZW50cy9wb2xpc2hlZC9ibG9iL21hc3Rlci9zcmMvaW50ZXJuYWxIZWxwZXJzL2Vycm9ycy5tZCNcIiArIGNvZGUgKyBcIiBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cIikgfHwgdGhpcztcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4yID4gMSA/IF9sZW4yIC0gMSA6IDApLCBfa2V5MiA9IDE7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgICAgYXJnc1tfa2V5MiAtIDFdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMgPSBfRXJyb3IuY2FsbCh0aGlzLCBmb3JtYXQuYXBwbHkodm9pZCAwLCBbRVJST1JTW2NvZGVdXS5jb25jYXQoYXJncykpKSB8fCB0aGlzO1xuICAgIH1cblxuICAgIHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKTtcbiAgfVxuXG4gIHJldHVybiBQb2xpc2hlZEVycm9yO1xufShcbi8qI19fUFVSRV9fKi9cbl93cmFwTmF0aXZlU3VwZXIoRXJyb3IpKTtcblxudmFyIHVuaXRSZWdFeHAgPSAvKCg/IVxcdylhfG5hfGhjfG1jfGRnfG1lW3JdP3x4ZXxuaSg/IVthLXpBLVpdKXxtbXxjcHx0cHx4cHxxKD8hcyl8aHZ8eGFtdnxuaW12fHd2fHNtfHMoPyFcXER8JCl8Z2VkfGRhcmc/fG5ydXQpL2c7IC8vIE1lcmdlcyBhZGRpdGlvbmFsIG1hdGggZnVuY3Rpb25hbGl0eSBpbnRvIHRoZSBkZWZhdWx0cy5cblxuZnVuY3Rpb24gbWVyZ2VTeW1ib2xNYXBzKGFkZGl0aW9uYWxTeW1ib2xzKSB7XG4gIHZhciBzeW1ib2xNYXAgPSB7fTtcbiAgc3ltYm9sTWFwLnN5bWJvbHMgPSBhZGRpdGlvbmFsU3ltYm9scyA/IF9leHRlbmRzKHt9LCBkZWZhdWx0TWF0aFN5bWJvbHMuc3ltYm9scywge30sIGFkZGl0aW9uYWxTeW1ib2xzLnN5bWJvbHMpIDogX2V4dGVuZHMoe30sIGRlZmF1bHRNYXRoU3ltYm9scy5zeW1ib2xzKTtcbiAgcmV0dXJuIHN5bWJvbE1hcDtcbn1cblxuZnVuY3Rpb24gZXhlYyhvcGVyYXRvcnMsIHZhbHVlcykge1xuICB2YXIgX3JlZjtcblxuICB2YXIgb3AgPSBvcGVyYXRvcnMucG9wKCk7XG4gIHZhbHVlcy5wdXNoKG9wLmYuYXBwbHkob3AsIChfcmVmID0gW10pLmNvbmNhdC5hcHBseShfcmVmLCB2YWx1ZXMuc3BsaWNlKC1vcC5hcmdDb3VudCkpKSk7XG4gIHJldHVybiBvcC5wcmVjZWRlbmNlO1xufVxuXG5mdW5jdGlvbiBjYWxjdWxhdGUoZXhwcmVzc2lvbiwgYWRkaXRpb25hbFN5bWJvbHMpIHtcbiAgdmFyIHN5bWJvbE1hcCA9IG1lcmdlU3ltYm9sTWFwcyhhZGRpdGlvbmFsU3ltYm9scyk7XG4gIHZhciBtYXRjaDtcbiAgdmFyIG9wZXJhdG9ycyA9IFtzeW1ib2xNYXAuc3ltYm9sc1snKCddLnByZWZpeF07XG4gIHZhciB2YWx1ZXMgPSBbXTtcbiAgdmFyIHBhdHRlcm4gPSBuZXcgUmVnRXhwKCAvLyBQYXR0ZXJuIGZvciBudW1iZXJzXG4gIFwiXFxcXGQrKD86XFxcXC5cXFxcZCspP3xcIiArIC8vIC4uLmFuZCBwYXR0ZXJucyBmb3IgaW5kaXZpZHVhbCBvcGVyYXRvcnMvZnVuY3Rpb24gbmFtZXNcbiAgT2JqZWN0LmtleXMoc3ltYm9sTWFwLnN5bWJvbHMpLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgcmV0dXJuIHN5bWJvbE1hcC5zeW1ib2xzW2tleV07XG4gIH0pIC8vIGxvbmdlciBzeW1ib2xzIHNob3VsZCBiZSBsaXN0ZWQgZmlyc3RcbiAgLy8gJEZsb3dGaXhNZVxuICAuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgIHJldHVybiBiLnN5bWJvbC5sZW5ndGggLSBhLnN5bWJvbC5sZW5ndGg7XG4gIH0pIC8vICRGbG93Rml4TWVcbiAgLm1hcChmdW5jdGlvbiAodmFsKSB7XG4gICAgcmV0dXJuIHZhbC5yZWdTeW1ib2w7XG4gIH0pLmpvaW4oJ3wnKSArIFwifChcXFxcUylcIiwgJ2cnKTtcbiAgcGF0dGVybi5sYXN0SW5kZXggPSAwOyAvLyBSZXNldCByZWd1bGFyIGV4cHJlc3Npb24gb2JqZWN0XG5cbiAgdmFyIGFmdGVyVmFsdWUgPSBmYWxzZTtcblxuICBkbyB7XG4gICAgbWF0Y2ggPSBwYXR0ZXJuLmV4ZWMoZXhwcmVzc2lvbik7XG5cbiAgICB2YXIgX3JlZjIgPSBtYXRjaCB8fCBbJyknLCB1bmRlZmluZWRdLFxuICAgICAgICB0b2tlbiA9IF9yZWYyWzBdLFxuICAgICAgICBiYWQgPSBfcmVmMlsxXTtcblxuICAgIHZhciBub3ROdW1iZXIgPSBzeW1ib2xNYXAuc3ltYm9sc1t0b2tlbl07XG4gICAgdmFyIG5vdE5ld1ZhbHVlID0gbm90TnVtYmVyICYmICFub3ROdW1iZXIucHJlZml4ICYmICFub3ROdW1iZXIuZnVuYztcbiAgICB2YXIgbm90QWZ0ZXJWYWx1ZSA9ICFub3ROdW1iZXIgfHwgIW5vdE51bWJlci5wb3N0Zml4ICYmICFub3ROdW1iZXIuaW5maXg7IC8vIENoZWNrIGZvciBzeW50YXggZXJyb3JzOlxuXG4gICAgaWYgKGJhZCB8fCAoYWZ0ZXJWYWx1ZSA/IG5vdEFmdGVyVmFsdWUgOiBub3ROZXdWYWx1ZSkpIHtcbiAgICAgIHRocm93IG5ldyBQb2xpc2hlZEVycm9yKDM3LCBtYXRjaCA/IG1hdGNoLmluZGV4IDogZXhwcmVzc2lvbi5sZW5ndGgsIGV4cHJlc3Npb24pO1xuICAgIH1cblxuICAgIGlmIChhZnRlclZhbHVlKSB7XG4gICAgICAvLyBXZSBlaXRoZXIgaGF2ZSBhbiBpbmZpeCBvciBwb3N0Zml4IG9wZXJhdG9yICh0aGV5IHNob3VsZCBiZSBtdXR1YWxseSBleGNsdXNpdmUpXG4gICAgICB2YXIgY3VyciA9IG5vdE51bWJlci5wb3N0Zml4IHx8IG5vdE51bWJlci5pbmZpeDtcblxuICAgICAgZG8ge1xuICAgICAgICB2YXIgcHJldiA9IG9wZXJhdG9yc1tvcGVyYXRvcnMubGVuZ3RoIC0gMV07XG4gICAgICAgIGlmICgoY3Vyci5wcmVjZWRlbmNlIC0gcHJldi5wcmVjZWRlbmNlIHx8IHByZXYucmlnaHRUb0xlZnQpID4gMCkgYnJlYWs7IC8vIEFwcGx5IHByZXZpb3VzIG9wZXJhdG9yLCBzaW5jZSBpdCBoYXMgcHJlY2VkZW5jZSBvdmVyIGN1cnJlbnQgb25lXG4gICAgICB9IHdoaWxlIChleGVjKG9wZXJhdG9ycywgdmFsdWVzKSk7IC8vIEV4aXQgbG9vcCBhZnRlciBleGVjdXRpbmcgYW4gb3BlbmluZyBwYXJlbnRoZXNpcyBvciBmdW5jdGlvblxuXG5cbiAgICAgIGFmdGVyVmFsdWUgPSBjdXJyLm5vdGF0aW9uID09PSAncG9zdGZpeCc7XG5cbiAgICAgIGlmIChjdXJyLnN5bWJvbCAhPT0gJyknKSB7XG4gICAgICAgIG9wZXJhdG9ycy5wdXNoKGN1cnIpOyAvLyBQb3N0Zml4IGFsd2F5cyBoYXMgcHJlY2VkZW5jZSBvdmVyIGFueSBvcGVyYXRvciB0aGF0IGZvbGxvd3MgYWZ0ZXIgaXRcblxuICAgICAgICBpZiAoYWZ0ZXJWYWx1ZSkgZXhlYyhvcGVyYXRvcnMsIHZhbHVlcyk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChub3ROdW1iZXIpIHtcbiAgICAgIC8vIHByZWZpeCBvcGVyYXRvciBvciBmdW5jdGlvblxuICAgICAgb3BlcmF0b3JzLnB1c2gobm90TnVtYmVyLnByZWZpeCB8fCBub3ROdW1iZXIuZnVuYyk7XG5cbiAgICAgIGlmIChub3ROdW1iZXIuZnVuYykge1xuICAgICAgICAvLyBSZXF1aXJlIGFuIG9wZW5pbmcgcGFyZW50aGVzaXNcbiAgICAgICAgbWF0Y2ggPSBwYXR0ZXJuLmV4ZWMoZXhwcmVzc2lvbik7XG5cbiAgICAgICAgaWYgKCFtYXRjaCB8fCBtYXRjaFswXSAhPT0gJygnKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFBvbGlzaGVkRXJyb3IoMzgsIG1hdGNoID8gbWF0Y2guaW5kZXggOiBleHByZXNzaW9uLmxlbmd0aCwgZXhwcmVzc2lvbik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gbnVtYmVyXG4gICAgICB2YWx1ZXMucHVzaCgrdG9rZW4pO1xuICAgICAgYWZ0ZXJWYWx1ZSA9IHRydWU7XG4gICAgfVxuICB9IHdoaWxlIChtYXRjaCAmJiBvcGVyYXRvcnMubGVuZ3RoKTtcblxuICBpZiAob3BlcmF0b3JzLmxlbmd0aCkge1xuICAgIHRocm93IG5ldyBQb2xpc2hlZEVycm9yKDM5LCBtYXRjaCA/IG1hdGNoLmluZGV4IDogZXhwcmVzc2lvbi5sZW5ndGgsIGV4cHJlc3Npb24pO1xuICB9IGVsc2UgaWYgKG1hdGNoKSB7XG4gICAgdGhyb3cgbmV3IFBvbGlzaGVkRXJyb3IoNDAsIG1hdGNoID8gbWF0Y2guaW5kZXggOiBleHByZXNzaW9uLmxlbmd0aCwgZXhwcmVzc2lvbik7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHZhbHVlcy5wb3AoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZXZlcnNlU3RyaW5nKHN0cikge1xuICByZXR1cm4gc3RyLnNwbGl0KCcnKS5yZXZlcnNlKCkuam9pbignJyk7XG59XG4vKipcbiAqIEhlbHBlciBmb3IgZG9pbmcgbWF0aCB3aXRoIENTUyBVbml0cy4gQWNjZXB0cyBhIGZvcm11bGEgYXMgYSBzdHJpbmcuIEFsbCB2YWx1ZXMgaW4gdGhlIGZvcm11bGEgbXVzdCBoYXZlIHRoZSBzYW1lIHVuaXQgKG9yIGJlIHVuaXRsZXNzKS4gU3VwcG9ydHMgY29tcGxleCBmb3JtdWxhcyB1dGxpemlpbmcgYWRkaXRpb24sIHN1YnRyYWN0aW9uLCBtdWx0aXBsaWNhdGlvbiwgZGl2aXNpb24sIHNxdWFyZSByb290LCBwb3dlcnMsIGZhY3RvcmlhbCwgbWluLCBtYXgsIGFzIHdlbGwgYXMgcGFyZW50aGVzZXMgZm9yIG9yZGVyIG9mIG9wZXJhdGlvbi5cbiAqXG4gKkluIGNhc2VzIHdoZXJlIHlvdSBuZWVkIHRvIGRvIGNhbGN1bGF0aW9ucyB3aXRoIG1peGVkIHVuaXRzIHdoZXJlIG9uZSB1bml0IGlzIGEgW3JlbGF0aXZlIGxlbmd0aCB1bml0XShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MvbGVuZ3RoI1JlbGF0aXZlX2xlbmd0aF91bml0cyksIHlvdSB3aWxsIHdhbnQgdG8gdXNlIFtDU1MgQ2FsY10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL2NhbGMpLlxuICpcbiAqICp3YXJuaW5nKiBXaGlsZSB3ZSd2ZSBkb25lIGV2ZXJ5dGhpbmcgcG9zc2libGUgdG8gZW5zdXJlIG1hdGggc2FmZWx5IGV2YWx1dGVzIGZvcm11bGFzIGV4cHJlc3NlZCBhcyBzdHJpbmdzLCB5b3Ugc2hvdWxkIGFsd2F5cyB1c2UgZXh0cmVtZSBjYXV0aW9uIHdoZW4gcGFzc2luZyBgbWF0aGAgdXNlciBwcm92aWRlZCB2YWx1ZXMuXG4gKiBAZXhhbXBsZVxuICogLy8gU3R5bGVzIGFzIG9iamVjdCB1c2FnZVxuICogY29uc3Qgc3R5bGVzID0ge1xuICogICBmb250U2l6ZTogbWF0aCgnMTJyZW0gKyA4cmVtJyksXG4gKiAgIGZvbnRTaXplOiBtYXRoKCcoMTJweCArIDJweCkgKiAzJyksXG4gKiAgIGZvbnRTaXplOiBtYXRoKCczcHheMiArIHNxcnQoNCknKSxcbiAqIH1cbiAqXG4gKiAvLyBzdHlsZWQtY29tcG9uZW50cyB1c2FnZVxuICogY29uc3QgZGl2ID0gc3R5bGVkLmRpdmBcbiAqICAgZm9udFNpemU6ICR7bWF0aCgnMTJyZW0gKyA4cmVtJyl9O1xuICogICBmb250U2l6ZTogJHttYXRoKCcoMTJweCArIDJweCkgKiAzJyl9O1xuICogICBmb250U2l6ZTogJHttYXRoKCczcHheMiArIHNxcnQoNCknKX07XG4gKiBgXG4gKlxuICogLy8gQ1NTIGFzIEpTIE91dHB1dFxuICpcbiAqIGRpdjoge1xuICogICBmb250U2l6ZTogJzIwcmVtJyxcbiAqICAgZm9udFNpemU6ICc0MnB4JyxcbiAqICAgZm9udFNpemU6ICcxMXB4JyxcbiAqIH1cbiAqL1xuXG5cbmZ1bmN0aW9uIG1hdGgoZm9ybXVsYSwgYWRkaXRpb25hbFN5bWJvbHMpIHtcbiAgdmFyIHJldmVyc2VkRm9ybXVsYSA9IHJldmVyc2VTdHJpbmcoZm9ybXVsYSk7XG4gIHZhciBmb3JtdWxhTWF0Y2ggPSByZXZlcnNlZEZvcm11bGEubWF0Y2godW5pdFJlZ0V4cCk7IC8vIENoZWNrIHRoYXQgYWxsIHVuaXRzIGFyZSB0aGUgc2FtZVxuXG4gIGlmIChmb3JtdWxhTWF0Y2ggJiYgIWZvcm11bGFNYXRjaC5ldmVyeShmdW5jdGlvbiAodW5pdCkge1xuICAgIHJldHVybiB1bml0ID09PSBmb3JtdWxhTWF0Y2hbMF07XG4gIH0pKSB7XG4gICAgdGhyb3cgbmV3IFBvbGlzaGVkRXJyb3IoNDEpO1xuICB9XG5cbiAgdmFyIGNsZWFuRm9ybXVsYSA9IHJldmVyc2VTdHJpbmcocmV2ZXJzZWRGb3JtdWxhLnJlcGxhY2UodW5pdFJlZ0V4cCwgJycpKTtcbiAgcmV0dXJuIFwiXCIgKyBjYWxjdWxhdGUoY2xlYW5Gb3JtdWxhLCBhZGRpdGlvbmFsU3ltYm9scykgKyAoZm9ybXVsYU1hdGNoID8gcmV2ZXJzZVN0cmluZyhmb3JtdWxhTWF0Y2hbMF0pIDogJycpO1xufVxuXG4vLyBAcHJpdmF0ZVxuZnVuY3Rpb24gY2FwaXRhbGl6ZVN0cmluZyhzdHJpbmcpIHtcbiAgcmV0dXJuIHN0cmluZy5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0cmluZy5zbGljZSgxKTtcbn1cblxudmFyIHBvc2l0aW9uTWFwID0gWydUb3AnLCAnUmlnaHQnLCAnQm90dG9tJywgJ0xlZnQnXTtcblxuZnVuY3Rpb24gZ2VuZXJhdGVQcm9wZXJ0eShwcm9wZXJ0eSwgcG9zaXRpb24pIHtcbiAgaWYgKCFwcm9wZXJ0eSkgcmV0dXJuIHBvc2l0aW9uLnRvTG93ZXJDYXNlKCk7XG4gIHZhciBzcGxpdFByb3BlcnR5ID0gcHJvcGVydHkuc3BsaXQoJy0nKTtcblxuICBpZiAoc3BsaXRQcm9wZXJ0eS5sZW5ndGggPiAxKSB7XG4gICAgc3BsaXRQcm9wZXJ0eS5zcGxpY2UoMSwgMCwgcG9zaXRpb24pO1xuICAgIHJldHVybiBzcGxpdFByb3BlcnR5LnJlZHVjZShmdW5jdGlvbiAoYWNjLCB2YWwpIHtcbiAgICAgIHJldHVybiBcIlwiICsgYWNjICsgY2FwaXRhbGl6ZVN0cmluZyh2YWwpO1xuICAgIH0pO1xuICB9XG5cbiAgdmFyIGpvaW5lZFByb3BlcnR5ID0gcHJvcGVydHkucmVwbGFjZSgvKFthLXpdKShbQS1aXSkvZywgXCIkMVwiICsgcG9zaXRpb24gKyBcIiQyXCIpO1xuICByZXR1cm4gcHJvcGVydHkgPT09IGpvaW5lZFByb3BlcnR5ID8gXCJcIiArIHByb3BlcnR5ICsgcG9zaXRpb24gOiBqb2luZWRQcm9wZXJ0eTtcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVTdHlsZXMocHJvcGVydHksIHZhbHVlc1dpdGhEZWZhdWx0cykge1xuICB2YXIgc3R5bGVzID0ge307XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZXNXaXRoRGVmYXVsdHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBpZiAodmFsdWVzV2l0aERlZmF1bHRzW2ldIHx8IHZhbHVlc1dpdGhEZWZhdWx0c1tpXSA9PT0gMCkge1xuICAgICAgc3R5bGVzW2dlbmVyYXRlUHJvcGVydHkocHJvcGVydHksIHBvc2l0aW9uTWFwW2ldKV0gPSB2YWx1ZXNXaXRoRGVmYXVsdHNbaV07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHN0eWxlcztcbn1cbi8qKlxuICogRW5hYmxlcyBzaG9ydGhhbmQgZm9yIGRpcmVjdGlvbi1iYXNlZCBwcm9wZXJ0aWVzLiBJdCBhY2NlcHRzIGEgcHJvcGVydHkgKGh5cGhlbmF0ZWQgb3IgY2FtZWxDYXNlZCkgYW5kIHVwIHRvIGZvdXIgdmFsdWVzIHRoYXQgbWFwIHRvIHRvcCwgcmlnaHQsIGJvdHRvbSwgYW5kIGxlZnQsIHJlc3BlY3RpdmVseS4gWW91IGNhbiBvcHRpb25hbGx5IHBhc3MgYW4gZW1wdHkgc3RyaW5nIHRvIGdldCBvbmx5IHRoZSBkaXJlY3Rpb25hbCB2YWx1ZXMgYXMgcHJvcGVydGllcy4gWW91IGNhbiBhbHNvIG9wdGlvbmFsbHkgcGFzcyBhIG51bGwgYXJndW1lbnQgZm9yIGEgZGlyZWN0aW9uYWwgdmFsdWUgdG8gaWdub3JlIGl0LlxuICogQGV4YW1wbGVcbiAqIC8vIFN0eWxlcyBhcyBvYmplY3QgdXNhZ2VcbiAqIGNvbnN0IHN0eWxlcyA9IHtcbiAqICAgLi4uZGlyZWN0aW9uYWxQcm9wZXJ0eSgncGFkZGluZycsICcxMnB4JywgJzI0cHgnLCAnMzZweCcsICc0OHB4JylcbiAqIH1cbiAqXG4gKiAvLyBzdHlsZWQtY29tcG9uZW50cyB1c2FnZVxuICogY29uc3QgZGl2ID0gc3R5bGVkLmRpdmBcbiAqICAgJHtkaXJlY3Rpb25hbFByb3BlcnR5KCdwYWRkaW5nJywgJzEycHgnLCAnMjRweCcsICczNnB4JywgJzQ4cHgnKX1cbiAqIGBcbiAqXG4gKiAvLyBDU1MgYXMgSlMgT3V0cHV0XG4gKlxuICogZGl2IHtcbiAqICAgJ3BhZGRpbmdUb3AnOiAnMTJweCcsXG4gKiAgICdwYWRkaW5nUmlnaHQnOiAnMjRweCcsXG4gKiAgICdwYWRkaW5nQm90dG9tJzogJzM2cHgnLFxuICogICAncGFkZGluZ0xlZnQnOiAnNDhweCdcbiAqIH1cbiAqL1xuXG5cbmZ1bmN0aW9uIGRpcmVjdGlvbmFsUHJvcGVydHkocHJvcGVydHkpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHZhbHVlcyA9IG5ldyBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgdmFsdWVzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIC8vICBwcmV0dGllci1pZ25vcmVcbiAgdmFyIGZpcnN0VmFsdWUgPSB2YWx1ZXNbMF0sXG4gICAgICBfdmFsdWVzJCA9IHZhbHVlc1sxXSxcbiAgICAgIHNlY29uZFZhbHVlID0gX3ZhbHVlcyQgPT09IHZvaWQgMCA/IGZpcnN0VmFsdWUgOiBfdmFsdWVzJCxcbiAgICAgIF92YWx1ZXMkMiA9IHZhbHVlc1syXSxcbiAgICAgIHRoaXJkVmFsdWUgPSBfdmFsdWVzJDIgPT09IHZvaWQgMCA/IGZpcnN0VmFsdWUgOiBfdmFsdWVzJDIsXG4gICAgICBfdmFsdWVzJDMgPSB2YWx1ZXNbM10sXG4gICAgICBmb3VydGhWYWx1ZSA9IF92YWx1ZXMkMyA9PT0gdm9pZCAwID8gc2Vjb25kVmFsdWUgOiBfdmFsdWVzJDM7XG4gIHZhciB2YWx1ZXNXaXRoRGVmYXVsdHMgPSBbZmlyc3RWYWx1ZSwgc2Vjb25kVmFsdWUsIHRoaXJkVmFsdWUsIGZvdXJ0aFZhbHVlXTtcbiAgcmV0dXJuIGdlbmVyYXRlU3R5bGVzKHByb3BlcnR5LCB2YWx1ZXNXaXRoRGVmYXVsdHMpO1xufVxuXG4vKipcbiAqIENoZWNrIGlmIGEgc3RyaW5nIGVuZHMgd2l0aCBzb21ldGhpbmdcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGVuZHNXaXRoIChzdHJpbmcsIHN1ZmZpeCkge1xuICByZXR1cm4gc3RyaW5nLnN1YnN0cigtc3VmZml4Lmxlbmd0aCkgPT09IHN1ZmZpeDtcbn1cblxudmFyIGNzc1JlZ2V4ID0gL14oWystXT8oPzpcXGQrfFxcZCpcXC5cXGQrKSkoW2Etel0qfCUpJC87XG4vKipcbiAqIFJldHVybnMgYSBnaXZlbiBDU1MgdmFsdWUgbWludXMgaXRzIHVuaXQgKG9yIHRoZSBvcmlnaW5hbCB2YWx1ZSBpZiBhbiBpbnZhbGlkIHN0cmluZyBpcyBwYXNzZWQpLiBPcHRpb25hbGx5IHJldHVybnMgYW4gYXJyYXkgY29udGFpbmluZyB0aGUgc3RyaXBwZWQgdmFsdWUgYW5kIHRoZSBvcmlnaW5hbCB1bml0IG9mIG1lYXN1cmUuXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFN0eWxlcyBhcyBvYmplY3QgdXNhZ2VcbiAqIGNvbnN0IHN0eWxlcyA9IHtcbiAqICAgJy0tZGltZW5zaW9uJzogc3RyaXBVbml0KCcxMDBweCcpLFxuICogICAnLS11bml0Jzogc3RyaXBVbml0KCcxMDBweCcpWzFdLFxuICogfVxuICpcbiAqIC8vIHN0eWxlZC1jb21wb25lbnRzIHVzYWdlXG4gKiBjb25zdCBkaXYgPSBzdHlsZWQuZGl2YFxuICogICAtLWRpbWVuc2lvbjogJHtzdHJpcFVuaXQoJzEwMHB4Jyl9O1xuICogICAtLXVuaXQ6ICR7c3RyaXBVbml0KCcxMDBweCcpWzFdfTtcbiAqIGBcbiAqXG4gKiAvLyBDU1MgaW4gSlMgT3V0cHV0XG4gKlxuICogZWxlbWVudCB7XG4gKiAgICctLWRpbWVuc2lvbic6IDEwMCxcbiAqICAgJy0tdW5pdCc6ICdweCcsXG4gKiB9XG4gKi9cblxuZnVuY3Rpb24gc3RyaXBVbml0KHZhbHVlLCB1bml0UmV0dXJuKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSByZXR1cm4gdW5pdFJldHVybiA/IFt2YWx1ZSwgdW5kZWZpbmVkXSA6IHZhbHVlO1xuICB2YXIgbWF0Y2hlZFZhbHVlID0gdmFsdWUubWF0Y2goY3NzUmVnZXgpO1xuXG4gIGlmICh1bml0UmV0dXJuKSB7XG4gICAgaWYgKG1hdGNoZWRWYWx1ZSkgcmV0dXJuIFtwYXJzZUZsb2F0KHZhbHVlKSwgbWF0Y2hlZFZhbHVlWzJdXTtcbiAgICByZXR1cm4gW3ZhbHVlLCB1bmRlZmluZWRdO1xuICB9XG5cbiAgaWYgKG1hdGNoZWRWYWx1ZSkgcmV0dXJuIHBhcnNlRmxvYXQodmFsdWUpO1xuICByZXR1cm4gdmFsdWU7XG59XG5cbi8qKlxuICogRmFjdG9yeSBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgcGl4ZWwtdG8teCBjb252ZXJ0ZXJzXG4gKiBAcHJpdmF0ZVxuICovXG5cbnZhciBweHRvRmFjdG9yeSA9IGZ1bmN0aW9uIHB4dG9GYWN0b3J5KHRvKSB7XG4gIHJldHVybiBmdW5jdGlvbiAocHh2YWwsIGJhc2UpIHtcbiAgICBpZiAoYmFzZSA9PT0gdm9pZCAwKSB7XG4gICAgICBiYXNlID0gJzE2cHgnO1xuICAgIH1cblxuICAgIHZhciBuZXdQeHZhbCA9IHB4dmFsO1xuICAgIHZhciBuZXdCYXNlID0gYmFzZTtcblxuICAgIGlmICh0eXBlb2YgcHh2YWwgPT09ICdzdHJpbmcnKSB7XG4gICAgICBpZiAoIWVuZHNXaXRoKHB4dmFsLCAncHgnKSkge1xuICAgICAgICB0aHJvdyBuZXcgUG9saXNoZWRFcnJvcig2OSwgdG8sIHB4dmFsKTtcbiAgICAgIH1cblxuICAgICAgbmV3UHh2YWwgPSBzdHJpcFVuaXQocHh2YWwpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgYmFzZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGlmICghZW5kc1dpdGgoYmFzZSwgJ3B4JykpIHtcbiAgICAgICAgdGhyb3cgbmV3IFBvbGlzaGVkRXJyb3IoNzAsIHRvLCBiYXNlKTtcbiAgICAgIH1cblxuICAgICAgbmV3QmFzZSA9IHN0cmlwVW5pdChiYXNlKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG5ld1B4dmFsID09PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IFBvbGlzaGVkRXJyb3IoNzEsIHB4dmFsLCB0byk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBuZXdCYXNlID09PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IFBvbGlzaGVkRXJyb3IoNzIsIGJhc2UsIHRvKTtcbiAgICB9XG5cbiAgICByZXR1cm4gXCJcIiArIG5ld1B4dmFsIC8gbmV3QmFzZSArIHRvO1xuICB9O1xufTtcblxuLyoqXG4gKiBDb252ZXJ0IHBpeGVsIHZhbHVlIHRvIGVtcy4gVGhlIGRlZmF1bHQgYmFzZSB2YWx1ZSBpcyAxNnB4LCBidXQgY2FuIGJlIGNoYW5nZWQgYnkgcGFzc2luZyBhXG4gKiBzZWNvbmQgYXJndW1lbnQgdG8gdGhlIGZ1bmN0aW9uLlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IHB4dmFsXG4gKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IFtiYXNlPScxNnB4J11cbiAqIEBleGFtcGxlXG4gKiAvLyBTdHlsZXMgYXMgb2JqZWN0IHVzYWdlXG4gKiBjb25zdCBzdHlsZXMgPSB7XG4gKiAgICdoZWlnaHQnOiBlbSgnMTZweCcpXG4gKiB9XG4gKlxuICogLy8gc3R5bGVkLWNvbXBvbmVudHMgdXNhZ2VcbiAqIGNvbnN0IGRpdiA9IHN0eWxlZC5kaXZgXG4gKiAgIGhlaWdodDogJHtlbSgnMTZweCcpfVxuICogYFxuICpcbiAqIC8vIENTUyBpbiBKUyBPdXRwdXRcbiAqXG4gKiBlbGVtZW50IHtcbiAqICAgJ2hlaWdodCc6ICcxZW0nXG4gKiB9XG4gKi9cblxudmFyIGVtID1cbi8qI19fUFVSRV9fKi9cbnB4dG9GYWN0b3J5KCdlbScpO1xuXG52YXIgY3NzUmVnZXgkMSA9IC9eKFsrLV0/KD86XFxkK3xcXGQqXFwuXFxkKykpKFthLXpdKnwlKSQvO1xuLyoqXG4gKiBSZXR1cm5zIGEgZ2l2ZW4gQ1NTIHZhbHVlIGFuZCBpdHMgdW5pdCBhcyBlbGVtZW50cyBvZiBhbiBhcnJheS5cbiAqXG4gKiBAZGVwcmVjYXRlZCAtIGdldFZhbHVlQW5kVW5pdCBoYXMgYmVlbiBtYXJrZWQgZm9yIGRlcHJlY2F0aW9uIGluIHBvbGlzaGVkIDMuMCBhbmQgd2lsbCBiZSBmdWxseSBkZXByZWNhdGVkIGluIDQuMC4gSXQncyBmdW5jdGlvbmFsaXR5IGhhcyBiZWVuIGJlZW4gbW92ZWQgdG8gc3RyaXBVbml0IGFzIGFuIG9wdGlvbmFsIHJldHVybi5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gU3R5bGVzIGFzIG9iamVjdCB1c2FnZVxuICogY29uc3Qgc3R5bGVzID0ge1xuICogICAnLS1kaW1lbnNpb24nOiBnZXRWYWx1ZUFuZFVuaXQoJzEwMHB4JylbMF0sXG4gKiAgICctLXVuaXQnOiBnZXRWYWx1ZUFuZFVuaXQoJzEwMHB4JylbMV0sXG4gKiB9XG4gKlxuICogLy8gc3R5bGVkLWNvbXBvbmVudHMgdXNhZ2VcbiAqIGNvbnN0IGRpdiA9IHN0eWxlZC5kaXZgXG4gKiAgIC0tZGltZW5zaW9uOiAke2dldFZhbHVlQW5kVW5pdCgnMTAwcHgnKVswXX07XG4gKiAgIC0tdW5pdDogJHtnZXRWYWx1ZUFuZFVuaXQoJzEwMHB4JylbMV19O1xuICogYFxuICpcbiAqIC8vIENTUyBpbiBKUyBPdXRwdXRcbiAqXG4gKiBlbGVtZW50IHtcbiAqICAgJy0tZGltZW5zaW9uJzogMTAwLFxuICogICAnLS11bml0JzogJ3B4JyxcbiAqIH1cbiAqL1xuXG5mdW5jdGlvbiBnZXRWYWx1ZUFuZFVuaXQodmFsdWUpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgY29uc29sZS53YXJuKFwiZ2V0VmFsdWVBbmRVbml0IGhhcyBiZWVuIG1hcmtlZCBmb3IgZGVwcmVjYXRpb24gaW4gcG9saXNoZWQgMy4wIGFuZCB3aWxsIGJlIGZ1bGx5IGRlcHJlY2F0ZWQgaW4gNC4wLiBJdCdzIGZ1bmN0aW9uYWxpdHkgaGFzIGJlZW4gYmVlbiBtb3ZlZCB0byBzdHJpcFVuaXQgYXMgYW4gb3B0aW9uYWwgcmV0dXJuLlwiKTtcbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHJldHVybiBbdmFsdWUsICcnXTtcbiAgdmFyIG1hdGNoZWRWYWx1ZSA9IHZhbHVlLm1hdGNoKGNzc1JlZ2V4JDEpO1xuICBpZiAobWF0Y2hlZFZhbHVlKSByZXR1cm4gW3BhcnNlRmxvYXQodmFsdWUpLCBtYXRjaGVkVmFsdWVbMl1dO1xuICByZXR1cm4gW3ZhbHVlLCB1bmRlZmluZWRdO1xufVxuXG52YXIgcmF0aW9OYW1lcyA9IHtcbiAgbWlub3JTZWNvbmQ6IDEuMDY3LFxuICBtYWpvclNlY29uZDogMS4xMjUsXG4gIG1pbm9yVGhpcmQ6IDEuMixcbiAgbWFqb3JUaGlyZDogMS4yNSxcbiAgcGVyZmVjdEZvdXJ0aDogMS4zMzMsXG4gIGF1Z0ZvdXJ0aDogMS40MTQsXG4gIHBlcmZlY3RGaWZ0aDogMS41LFxuICBtaW5vclNpeHRoOiAxLjYsXG4gIGdvbGRlblNlY3Rpb246IDEuNjE4LFxuICBtYWpvclNpeHRoOiAxLjY2NyxcbiAgbWlub3JTZXZlbnRoOiAxLjc3OCxcbiAgbWFqb3JTZXZlbnRoOiAxLjg3NSxcbiAgb2N0YXZlOiAyLFxuICBtYWpvclRlbnRoOiAyLjUsXG4gIG1ham9yRWxldmVudGg6IDIuNjY3LFxuICBtYWpvclR3ZWxmdGg6IDMsXG4gIGRvdWJsZU9jdGF2ZTogNFxufTtcblxuZnVuY3Rpb24gZ2V0UmF0aW8ocmF0aW9OYW1lKSB7XG4gIHJldHVybiByYXRpb05hbWVzW3JhdGlvTmFtZV07XG59XG4vKipcbiAqIEVzdGFibGlzaCBjb25zaXN0ZW50IG1lYXN1cmVtZW50cyBhbmQgc3BhY2lhbCByZWxhdGlvbnNoaXBzIHRocm91Z2hvdXQgeW91ciBwcm9qZWN0cyBieSBpbmNyZW1lbnRpbmcgYW4gZW0gb3IgcmVtIHZhbHVlIHVwIG9yIGRvd24gYSBkZWZpbmVkIHNjYWxlLiBXZSBwcm92aWRlIGEgbGlzdCBvZiBjb21tb25seSB1c2VkIHNjYWxlcyBhcyBwcmUtZGVmaW5lZCB2YXJpYWJsZXMuXG4gKiBAZXhhbXBsZVxuICogLy8gU3R5bGVzIGFzIG9iamVjdCB1c2FnZVxuICogY29uc3Qgc3R5bGVzID0ge1xuICogICAgLy8gSW5jcmVtZW50IHR3byBzdGVwcyB1cCB0aGUgZGVmYXVsdCBzY2FsZVxuICogICAnZm9udFNpemUnOiBtb2R1bGFyU2NhbGUoMilcbiAqIH1cbiAqXG4gKiAvLyBzdHlsZWQtY29tcG9uZW50cyB1c2FnZVxuICogY29uc3QgZGl2ID0gc3R5bGVkLmRpdmBcbiAqICAgIC8vIEluY3JlbWVudCB0d28gc3RlcHMgdXAgdGhlIGRlZmF1bHQgc2NhbGVcbiAqICAgZm9udFNpemU6ICR7bW9kdWxhclNjYWxlKDIpfVxuICogYFxuICpcbiAqIC8vIENTUyBpbiBKUyBPdXRwdXRcbiAqXG4gKiBlbGVtZW50IHtcbiAqICAgJ2ZvbnRTaXplJzogJzEuNzc2ODllbSdcbiAqIH1cbiAqL1xuXG5cbmZ1bmN0aW9uIG1vZHVsYXJTY2FsZShzdGVwcywgYmFzZSwgcmF0aW8pIHtcbiAgaWYgKGJhc2UgPT09IHZvaWQgMCkge1xuICAgIGJhc2UgPSAnMWVtJztcbiAgfVxuXG4gIGlmIChyYXRpbyA9PT0gdm9pZCAwKSB7XG4gICAgcmF0aW8gPSAxLjMzMztcbiAgfVxuXG4gIGlmICh0eXBlb2Ygc3RlcHMgIT09ICdudW1iZXInKSB7XG4gICAgdGhyb3cgbmV3IFBvbGlzaGVkRXJyb3IoNDIpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiByYXRpbyA9PT0gJ3N0cmluZycgJiYgIXJhdGlvTmFtZXNbcmF0aW9dKSB7XG4gICAgdGhyb3cgbmV3IFBvbGlzaGVkRXJyb3IoNDMpO1xuICB9XG5cbiAgdmFyIF9yZWYgPSB0eXBlb2YgYmFzZSA9PT0gJ3N0cmluZycgPyBzdHJpcFVuaXQoYmFzZSwgdHJ1ZSkgOiBbYmFzZSwgJyddLFxuICAgICAgcmVhbEJhc2UgPSBfcmVmWzBdLFxuICAgICAgdW5pdCA9IF9yZWZbMV07XG5cbiAgdmFyIHJlYWxSYXRpbyA9IHR5cGVvZiByYXRpbyA9PT0gJ3N0cmluZycgPyBnZXRSYXRpbyhyYXRpbykgOiByYXRpbztcblxuICBpZiAodHlwZW9mIHJlYWxCYXNlID09PSAnc3RyaW5nJykge1xuICAgIHRocm93IG5ldyBQb2xpc2hlZEVycm9yKDQ0LCBiYXNlKTtcbiAgfVxuXG4gIHJldHVybiBcIlwiICsgcmVhbEJhc2UgKiBNYXRoLnBvdyhyZWFsUmF0aW8sIHN0ZXBzKSArIHVuaXQ7XG59XG5cbi8qKlxuICogQ29udmVydCBwaXhlbCB2YWx1ZSB0byByZW1zLiBUaGUgZGVmYXVsdCBiYXNlIHZhbHVlIGlzIDE2cHgsIGJ1dCBjYW4gYmUgY2hhbmdlZCBieSBwYXNzaW5nIGFcbiAqIHNlY29uZCBhcmd1bWVudCB0byB0aGUgZnVuY3Rpb24uXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gcHh2YWxcbiAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gW2Jhc2U9JzE2cHgnXVxuICogQGV4YW1wbGVcbiAqIC8vIFN0eWxlcyBhcyBvYmplY3QgdXNhZ2VcbiAqIGNvbnN0IHN0eWxlcyA9IHtcbiAqICAgJ2hlaWdodCc6IHJlbSgnMTZweCcpXG4gKiB9XG4gKlxuICogLy8gc3R5bGVkLWNvbXBvbmVudHMgdXNhZ2VcbiAqIGNvbnN0IGRpdiA9IHN0eWxlZC5kaXZgXG4gKiAgIGhlaWdodDogJHtyZW0oJzE2cHgnKX1cbiAqIGBcbiAqXG4gKiAvLyBDU1MgaW4gSlMgT3V0cHV0XG4gKlxuICogZWxlbWVudCB7XG4gKiAgICdoZWlnaHQnOiAnMXJlbSdcbiAqIH1cbiAqL1xuXG52YXIgcmVtID1cbi8qI19fUFVSRV9fKi9cbnB4dG9GYWN0b3J5KCdyZW0nKTtcblxuLyoqXG4gKiBSZXR1cm5zIGEgQ1NTIGNhbGMgZm9ybXVsYSBmb3IgbGluZWFyIGludGVycG9sYXRpb24gb2YgYSBwcm9wZXJ0eSBiZXR3ZWVuIHR3byB2YWx1ZXMuIEFjY2VwdHMgb3B0aW9uYWwgbWluU2NyZWVuIChkZWZhdWx0cyB0byAnMzIwcHgnKSBhbmQgbWF4U2NyZWVuIChkZWZhdWx0cyB0byAnMTIwMHB4JykuXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFN0eWxlcyBhcyBvYmplY3QgdXNhZ2VcbiAqIGNvbnN0IHN0eWxlcyA9IHtcbiAqICAgZm9udFNpemU6IGJldHdlZW4oJzIwcHgnLCAnMTAwcHgnLCAnNDAwcHgnLCAnMTAwMHB4JyksXG4gKiAgIGZvbnRTaXplOiBiZXR3ZWVuKCcyMHB4JywgJzEwMHB4JylcbiAqIH1cbiAqXG4gKiAvLyBzdHlsZWQtY29tcG9uZW50cyB1c2FnZVxuICogY29uc3QgZGl2ID0gc3R5bGVkLmRpdmBcbiAqICAgZm9udFNpemU6ICR7YmV0d2VlbignMjBweCcsICcxMDBweCcsICc0MDBweCcsICcxMDAwcHgnKX07XG4gKiAgIGZvbnRTaXplOiAke2JldHdlZW4oJzIwcHgnLCAnMTAwcHgnKX1cbiAqIGBcbiAqXG4gKiAvLyBDU1MgYXMgSlMgT3V0cHV0XG4gKlxuICogaDE6IHtcbiAqICAgJ2ZvbnRTaXplJzogJ2NhbGMoLTMzLjMzMzMzMzMzMzMzMzM0cHggKyAxMy4zMzMzMzMzMzMzMzMzMzR2dyknLFxuICogICAnZm9udFNpemUnOiAnY2FsYygtOS4wOTA5MDkwOTA5MDkwOTNweCArIDkuMDkwOTA5MDkwOTA5MDkydncpJ1xuICogfVxuICovXG5cbmZ1bmN0aW9uIGJldHdlZW4oZnJvbVNpemUsIHRvU2l6ZSwgbWluU2NyZWVuLCBtYXhTY3JlZW4pIHtcbiAgaWYgKG1pblNjcmVlbiA9PT0gdm9pZCAwKSB7XG4gICAgbWluU2NyZWVuID0gJzMyMHB4JztcbiAgfVxuXG4gIGlmIChtYXhTY3JlZW4gPT09IHZvaWQgMCkge1xuICAgIG1heFNjcmVlbiA9ICcxMjAwcHgnO1xuICB9XG5cbiAgdmFyIF9zdHJpcFVuaXQgPSBzdHJpcFVuaXQoZnJvbVNpemUsIHRydWUpLFxuICAgICAgdW5pdGxlc3NGcm9tU2l6ZSA9IF9zdHJpcFVuaXRbMF0sXG4gICAgICBmcm9tU2l6ZVVuaXQgPSBfc3RyaXBVbml0WzFdO1xuXG4gIHZhciBfc3RyaXBVbml0MiA9IHN0cmlwVW5pdCh0b1NpemUsIHRydWUpLFxuICAgICAgdW5pdGxlc3NUb1NpemUgPSBfc3RyaXBVbml0MlswXSxcbiAgICAgIHRvU2l6ZVVuaXQgPSBfc3RyaXBVbml0MlsxXTtcblxuICB2YXIgX3N0cmlwVW5pdDMgPSBzdHJpcFVuaXQobWluU2NyZWVuLCB0cnVlKSxcbiAgICAgIHVuaXRsZXNzTWluU2NyZWVuID0gX3N0cmlwVW5pdDNbMF0sXG4gICAgICBtaW5TY3JlZW5Vbml0ID0gX3N0cmlwVW5pdDNbMV07XG5cbiAgdmFyIF9zdHJpcFVuaXQ0ID0gc3RyaXBVbml0KG1heFNjcmVlbiwgdHJ1ZSksXG4gICAgICB1bml0bGVzc01heFNjcmVlbiA9IF9zdHJpcFVuaXQ0WzBdLFxuICAgICAgbWF4U2NyZWVuVW5pdCA9IF9zdHJpcFVuaXQ0WzFdO1xuXG4gIGlmICh0eXBlb2YgdW5pdGxlc3NNaW5TY3JlZW4gIT09ICdudW1iZXInIHx8IHR5cGVvZiB1bml0bGVzc01heFNjcmVlbiAhPT0gJ251bWJlcicgfHwgIW1pblNjcmVlblVuaXQgfHwgIW1heFNjcmVlblVuaXQgfHwgbWluU2NyZWVuVW5pdCAhPT0gbWF4U2NyZWVuVW5pdCkge1xuICAgIHRocm93IG5ldyBQb2xpc2hlZEVycm9yKDQ3KTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgdW5pdGxlc3NGcm9tU2l6ZSAhPT0gJ251bWJlcicgfHwgdHlwZW9mIHVuaXRsZXNzVG9TaXplICE9PSAnbnVtYmVyJyB8fCBmcm9tU2l6ZVVuaXQgIT09IHRvU2l6ZVVuaXQpIHtcbiAgICB0aHJvdyBuZXcgUG9saXNoZWRFcnJvcig0OCk7XG4gIH1cblxuICB2YXIgc2xvcGUgPSAodW5pdGxlc3NGcm9tU2l6ZSAtIHVuaXRsZXNzVG9TaXplKSAvICh1bml0bGVzc01pblNjcmVlbiAtIHVuaXRsZXNzTWF4U2NyZWVuKTtcbiAgdmFyIGJhc2UgPSB1bml0bGVzc1RvU2l6ZSAtIHNsb3BlICogdW5pdGxlc3NNYXhTY3JlZW47XG4gIHJldHVybiBcImNhbGMoXCIgKyBiYXNlLnRvRml4ZWQoMikgKyAoZnJvbVNpemVVbml0IHx8ICcnKSArIFwiICsgXCIgKyAoMTAwICogc2xvcGUpLnRvRml4ZWQoMikgKyBcInZ3KVwiO1xufVxuXG5mdW5jdGlvbiBjbGVhckZpeChwYXJlbnQpIHtcbiAgdmFyIF9yZWY7XG5cbiAgaWYgKHBhcmVudCA9PT0gdm9pZCAwKSB7XG4gICAgcGFyZW50ID0gJyYnO1xuICB9XG5cbiAgdmFyIHBzZXVkb1NlbGVjdG9yID0gcGFyZW50ICsgXCI6OmFmdGVyXCI7XG4gIHJldHVybiBfcmVmID0ge30sIF9yZWZbcHNldWRvU2VsZWN0b3JdID0ge1xuICAgIGNsZWFyOiAnYm90aCcsXG4gICAgY29udGVudDogJ1wiXCInLFxuICAgIGRpc3BsYXk6ICd0YWJsZSdcbiAgfSwgX3JlZjtcbn1cblxuZnVuY3Rpb24gY292ZXIob2Zmc2V0KSB7XG4gIGlmIChvZmZzZXQgPT09IHZvaWQgMCkge1xuICAgIG9mZnNldCA9IDA7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgIHRvcDogb2Zmc2V0LFxuICAgIHJpZ2h0OiBvZmZzZXQsXG4gICAgYm90dG9tOiBvZmZzZXQsXG4gICAgbGVmdDogb2Zmc2V0XG4gIH07XG59XG5cbmZ1bmN0aW9uIGVsbGlwc2lzKHdpZHRoKSB7XG4gIGlmICh3aWR0aCA9PT0gdm9pZCAwKSB7XG4gICAgd2lkdGggPSAnMTAwJSc7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICAgIG1heFdpZHRoOiB3aWR0aCxcbiAgICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gICAgdGV4dE92ZXJmbG93OiAnZWxsaXBzaXMnLFxuICAgIHdoaXRlU3BhY2U6ICdub3dyYXAnLFxuICAgIHdvcmRXcmFwOiAnbm9ybWFsJ1xuICB9O1xufVxuXG5mdW5jdGlvbiBmbHVpZFJhbmdlKGNzc1Byb3AsIG1pblNjcmVlbiwgbWF4U2NyZWVuKSB7XG4gIGlmIChtaW5TY3JlZW4gPT09IHZvaWQgMCkge1xuICAgIG1pblNjcmVlbiA9ICczMjBweCc7XG4gIH1cblxuICBpZiAobWF4U2NyZWVuID09PSB2b2lkIDApIHtcbiAgICBtYXhTY3JlZW4gPSAnMTIwMHB4JztcbiAgfVxuXG4gIGlmICghQXJyYXkuaXNBcnJheShjc3NQcm9wKSAmJiB0eXBlb2YgY3NzUHJvcCAhPT0gJ29iamVjdCcgfHwgY3NzUHJvcCA9PT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBQb2xpc2hlZEVycm9yKDQ5KTtcbiAgfVxuXG4gIGlmIChBcnJheS5pc0FycmF5KGNzc1Byb3ApKSB7XG4gICAgdmFyIG1lZGlhUXVlcmllcyA9IHt9O1xuICAgIHZhciBmYWxsYmFja3MgPSB7fTtcblxuICAgIGZvciAodmFyIF9pdGVyYXRvciA9IGNzc1Byb3AsIF9pc0FycmF5ID0gQXJyYXkuaXNBcnJheShfaXRlcmF0b3IpLCBfaSA9IDAsIF9pdGVyYXRvciA9IF9pc0FycmF5ID8gX2l0ZXJhdG9yIDogX2l0ZXJhdG9yW1N5bWJvbC5pdGVyYXRvcl0oKTs7KSB7XG4gICAgICB2YXIgX2V4dGVuZHMyLCBfZXh0ZW5kczM7XG5cbiAgICAgIHZhciBfcmVmO1xuXG4gICAgICBpZiAoX2lzQXJyYXkpIHtcbiAgICAgICAgaWYgKF9pID49IF9pdGVyYXRvci5sZW5ndGgpIGJyZWFrO1xuICAgICAgICBfcmVmID0gX2l0ZXJhdG9yW19pKytdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX2kgPSBfaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICBpZiAoX2kuZG9uZSkgYnJlYWs7XG4gICAgICAgIF9yZWYgPSBfaS52YWx1ZTtcbiAgICAgIH1cblxuICAgICAgdmFyIG9iaiA9IF9yZWY7XG5cbiAgICAgIGlmICghb2JqLnByb3AgfHwgIW9iai5mcm9tU2l6ZSB8fCAhb2JqLnRvU2l6ZSkge1xuICAgICAgICB0aHJvdyBuZXcgUG9saXNoZWRFcnJvcig1MCk7XG4gICAgICB9XG5cbiAgICAgIGZhbGxiYWNrc1tvYmoucHJvcF0gPSBvYmouZnJvbVNpemU7XG4gICAgICBtZWRpYVF1ZXJpZXNbXCJAbWVkaWEgKG1pbi13aWR0aDogXCIgKyBtaW5TY3JlZW4gKyBcIilcIl0gPSBfZXh0ZW5kcyh7fSwgbWVkaWFRdWVyaWVzW1wiQG1lZGlhIChtaW4td2lkdGg6IFwiICsgbWluU2NyZWVuICsgXCIpXCJdLCAoX2V4dGVuZHMyID0ge30sIF9leHRlbmRzMltvYmoucHJvcF0gPSBiZXR3ZWVuKG9iai5mcm9tU2l6ZSwgb2JqLnRvU2l6ZSwgbWluU2NyZWVuLCBtYXhTY3JlZW4pLCBfZXh0ZW5kczIpKTtcbiAgICAgIG1lZGlhUXVlcmllc1tcIkBtZWRpYSAobWluLXdpZHRoOiBcIiArIG1heFNjcmVlbiArIFwiKVwiXSA9IF9leHRlbmRzKHt9LCBtZWRpYVF1ZXJpZXNbXCJAbWVkaWEgKG1pbi13aWR0aDogXCIgKyBtYXhTY3JlZW4gKyBcIilcIl0sIChfZXh0ZW5kczMgPSB7fSwgX2V4dGVuZHMzW29iai5wcm9wXSA9IG9iai50b1NpemUsIF9leHRlbmRzMykpO1xuICAgIH1cblxuICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgZmFsbGJhY2tzLCB7fSwgbWVkaWFRdWVyaWVzKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgX3JlZjIsIF9yZWYzLCBfcmVmNDtcblxuICAgIGlmICghY3NzUHJvcC5wcm9wIHx8ICFjc3NQcm9wLmZyb21TaXplIHx8ICFjc3NQcm9wLnRvU2l6ZSkge1xuICAgICAgdGhyb3cgbmV3IFBvbGlzaGVkRXJyb3IoNTEpO1xuICAgIH1cblxuICAgIHJldHVybiBfcmVmNCA9IHt9LCBfcmVmNFtjc3NQcm9wLnByb3BdID0gY3NzUHJvcC5mcm9tU2l6ZSwgX3JlZjRbXCJAbWVkaWEgKG1pbi13aWR0aDogXCIgKyBtaW5TY3JlZW4gKyBcIilcIl0gPSAoX3JlZjIgPSB7fSwgX3JlZjJbY3NzUHJvcC5wcm9wXSA9IGJldHdlZW4oY3NzUHJvcC5mcm9tU2l6ZSwgY3NzUHJvcC50b1NpemUsIG1pblNjcmVlbiwgbWF4U2NyZWVuKSwgX3JlZjIpLCBfcmVmNFtcIkBtZWRpYSAobWluLXdpZHRoOiBcIiArIG1heFNjcmVlbiArIFwiKVwiXSA9IChfcmVmMyA9IHt9LCBfcmVmM1tjc3NQcm9wLnByb3BdID0gY3NzUHJvcC50b1NpemUsIF9yZWYzKSwgX3JlZjQ7XG4gIH1cbn1cblxudmFyIGRhdGFVUklSZWdleCA9IC9eXFxzKmRhdGE6KFthLXpdK1xcL1thLXotXSsoO1thLXotXSs9W2Etei1dKyk/KT8oO2NoYXJzZXQ9W2EtejAtOS1dKyk/KDtiYXNlNjQpPyxbYS16MC05ISQmJywoKSorLDs9XFwtLl9+OkAvPyVcXHNdKlxccyokL2k7XG52YXIgZm9ybWF0SGludE1hcCA9IHtcbiAgd29mZjogJ3dvZmYnLFxuICB3b2ZmMjogJ3dvZmYyJyxcbiAgdHRmOiAndHJ1ZXR5cGUnLFxuICBvdGY6ICdvcGVudHlwZScsXG4gIGVvdDogJ2VtYmVkZGVkLW9wZW50eXBlJyxcbiAgc3ZnOiAnc3ZnJyxcbiAgc3ZnejogJ3N2Zydcbn07XG5cbmZ1bmN0aW9uIGdlbmVyYXRlRm9ybWF0SGludChmb3JtYXQsIGZvcm1hdEhpbnQpIHtcbiAgaWYgKCFmb3JtYXRIaW50KSByZXR1cm4gJyc7XG4gIHJldHVybiBcIiBmb3JtYXQoXFxcIlwiICsgZm9ybWF0SGludE1hcFtmb3JtYXRdICsgXCJcXFwiKVwiO1xufVxuXG5mdW5jdGlvbiBpc0RhdGFVUkkoZm9udEZpbGVQYXRoKSB7XG4gIHJldHVybiAhIWZvbnRGaWxlUGF0aC5tYXRjaChkYXRhVVJJUmVnZXgpO1xufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZUZpbGVSZWZlcmVuY2VzKGZvbnRGaWxlUGF0aCwgZmlsZUZvcm1hdHMsIGZvcm1hdEhpbnQpIHtcbiAgaWYgKGlzRGF0YVVSSShmb250RmlsZVBhdGgpKSB7XG4gICAgcmV0dXJuIFwidXJsKFxcXCJcIiArIGZvbnRGaWxlUGF0aCArIFwiXFxcIilcIiArIGdlbmVyYXRlRm9ybWF0SGludChmaWxlRm9ybWF0c1swXSwgZm9ybWF0SGludCk7XG4gIH1cblxuICB2YXIgZmlsZUZvbnRSZWZlcmVuY2VzID0gZmlsZUZvcm1hdHMubWFwKGZ1bmN0aW9uIChmb3JtYXQpIHtcbiAgICByZXR1cm4gXCJ1cmwoXFxcIlwiICsgZm9udEZpbGVQYXRoICsgXCIuXCIgKyBmb3JtYXQgKyBcIlxcXCIpXCIgKyBnZW5lcmF0ZUZvcm1hdEhpbnQoZm9ybWF0LCBmb3JtYXRIaW50KTtcbiAgfSk7XG4gIHJldHVybiBmaWxlRm9udFJlZmVyZW5jZXMuam9pbignLCAnKTtcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVMb2NhbFJlZmVyZW5jZXMobG9jYWxGb250cykge1xuICB2YXIgbG9jYWxGb250UmVmZXJlbmNlcyA9IGxvY2FsRm9udHMubWFwKGZ1bmN0aW9uIChmb250KSB7XG4gICAgcmV0dXJuIFwibG9jYWwoXFxcIlwiICsgZm9udCArIFwiXFxcIilcIjtcbiAgfSk7XG4gIHJldHVybiBsb2NhbEZvbnRSZWZlcmVuY2VzLmpvaW4oJywgJyk7XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlU291cmNlcyhmb250RmlsZVBhdGgsIGxvY2FsRm9udHMsIGZpbGVGb3JtYXRzLCBmb3JtYXRIaW50KSB7XG4gIHZhciBmb250UmVmZXJlbmNlcyA9IFtdO1xuICBpZiAobG9jYWxGb250cykgZm9udFJlZmVyZW5jZXMucHVzaChnZW5lcmF0ZUxvY2FsUmVmZXJlbmNlcyhsb2NhbEZvbnRzKSk7XG5cbiAgaWYgKGZvbnRGaWxlUGF0aCkge1xuICAgIGZvbnRSZWZlcmVuY2VzLnB1c2goZ2VuZXJhdGVGaWxlUmVmZXJlbmNlcyhmb250RmlsZVBhdGgsIGZpbGVGb3JtYXRzLCBmb3JtYXRIaW50KSk7XG4gIH1cblxuICByZXR1cm4gZm9udFJlZmVyZW5jZXMuam9pbignLCAnKTtcbn1cbi8qKlxuICogQ1NTIGZvciBhIEBmb250LWZhY2UgZGVjbGFyYXRpb24uXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFN0eWxlcyBhcyBvYmplY3QgYmFzaWMgdXNhZ2VcbiAqIGNvbnN0IHN0eWxlcyA9IHtcbiAqICAgIC4uLmZvbnRGYWNlKHtcbiAqICAgICAgJ2ZvbnRGYW1pbHknOiAnU2Fucy1Qcm8nLFxuICogICAgICAnZm9udEZpbGVQYXRoJzogJ3BhdGgvdG8vZmlsZSdcbiAqICAgIH0pXG4gKiB9XG4gKlxuICogLy8gc3R5bGVkLWNvbXBvbmVudHMgYmFzaWMgdXNhZ2VcbiAqIGNvbnN0IEdsb2JhbFN0eWxlID0gY3JlYXRlR2xvYmFsU3R5bGVgJHtcbiAqICAgZm9udEZhY2Uoe1xuICogICAgICdmb250RmFtaWx5JzogJ1NhbnMtUHJvJyxcbiAqICAgICAnZm9udEZpbGVQYXRoJzogJ3BhdGgvdG8vZmlsZSdcbiAqICAgfVxuICogKX1gXG4gKlxuICogLy8gQ1NTIGFzIEpTIE91dHB1dFxuICpcbiAqICdAZm9udC1mYWNlJzoge1xuICogICAnZm9udEZhbWlseSc6ICdTYW5zLVBybycsXG4gKiAgICdzcmMnOiAndXJsKFwicGF0aC90by9maWxlLmVvdFwiKSwgdXJsKFwicGF0aC90by9maWxlLndvZmYyXCIpLCB1cmwoXCJwYXRoL3RvL2ZpbGUud29mZlwiKSwgdXJsKFwicGF0aC90by9maWxlLnR0ZlwiKSwgdXJsKFwicGF0aC90by9maWxlLnN2Z1wiKScsXG4gKiB9XG4gKi9cblxuXG5mdW5jdGlvbiBmb250RmFjZShfcmVmKSB7XG4gIHZhciBmb250RmFtaWx5ID0gX3JlZi5mb250RmFtaWx5LFxuICAgICAgZm9udEZpbGVQYXRoID0gX3JlZi5mb250RmlsZVBhdGgsXG4gICAgICBmb250U3RyZXRjaCA9IF9yZWYuZm9udFN0cmV0Y2gsXG4gICAgICBmb250U3R5bGUgPSBfcmVmLmZvbnRTdHlsZSxcbiAgICAgIGZvbnRWYXJpYW50ID0gX3JlZi5mb250VmFyaWFudCxcbiAgICAgIGZvbnRXZWlnaHQgPSBfcmVmLmZvbnRXZWlnaHQsXG4gICAgICBfcmVmJGZpbGVGb3JtYXRzID0gX3JlZi5maWxlRm9ybWF0cyxcbiAgICAgIGZpbGVGb3JtYXRzID0gX3JlZiRmaWxlRm9ybWF0cyA9PT0gdm9pZCAwID8gWydlb3QnLCAnd29mZjInLCAnd29mZicsICd0dGYnLCAnc3ZnJ10gOiBfcmVmJGZpbGVGb3JtYXRzLFxuICAgICAgX3JlZiRmb3JtYXRIaW50ID0gX3JlZi5mb3JtYXRIaW50LFxuICAgICAgZm9ybWF0SGludCA9IF9yZWYkZm9ybWF0SGludCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmJGZvcm1hdEhpbnQsXG4gICAgICBsb2NhbEZvbnRzID0gX3JlZi5sb2NhbEZvbnRzLFxuICAgICAgdW5pY29kZVJhbmdlID0gX3JlZi51bmljb2RlUmFuZ2UsXG4gICAgICBmb250RGlzcGxheSA9IF9yZWYuZm9udERpc3BsYXksXG4gICAgICBmb250VmFyaWF0aW9uU2V0dGluZ3MgPSBfcmVmLmZvbnRWYXJpYXRpb25TZXR0aW5ncyxcbiAgICAgIGZvbnRGZWF0dXJlU2V0dGluZ3MgPSBfcmVmLmZvbnRGZWF0dXJlU2V0dGluZ3M7XG4gIC8vIEVycm9yIEhhbmRsaW5nXG4gIGlmICghZm9udEZhbWlseSkgdGhyb3cgbmV3IFBvbGlzaGVkRXJyb3IoNTUpO1xuXG4gIGlmICghZm9udEZpbGVQYXRoICYmICFsb2NhbEZvbnRzKSB7XG4gICAgdGhyb3cgbmV3IFBvbGlzaGVkRXJyb3IoNTIpO1xuICB9XG5cbiAgaWYgKGxvY2FsRm9udHMgJiYgIUFycmF5LmlzQXJyYXkobG9jYWxGb250cykpIHtcbiAgICB0aHJvdyBuZXcgUG9saXNoZWRFcnJvcig1Myk7XG4gIH1cblxuICBpZiAoIUFycmF5LmlzQXJyYXkoZmlsZUZvcm1hdHMpKSB7XG4gICAgdGhyb3cgbmV3IFBvbGlzaGVkRXJyb3IoNTQpO1xuICB9XG5cbiAgdmFyIGZvbnRGYWNlRGVjbGFyYXRpb24gPSB7XG4gICAgJ0Bmb250LWZhY2UnOiB7XG4gICAgICBmb250RmFtaWx5OiBmb250RmFtaWx5LFxuICAgICAgc3JjOiBnZW5lcmF0ZVNvdXJjZXMoZm9udEZpbGVQYXRoLCBsb2NhbEZvbnRzLCBmaWxlRm9ybWF0cywgZm9ybWF0SGludCksXG4gICAgICB1bmljb2RlUmFuZ2U6IHVuaWNvZGVSYW5nZSxcbiAgICAgIGZvbnRTdHJldGNoOiBmb250U3RyZXRjaCxcbiAgICAgIGZvbnRTdHlsZTogZm9udFN0eWxlLFxuICAgICAgZm9udFZhcmlhbnQ6IGZvbnRWYXJpYW50LFxuICAgICAgZm9udFdlaWdodDogZm9udFdlaWdodCxcbiAgICAgIGZvbnREaXNwbGF5OiBmb250RGlzcGxheSxcbiAgICAgIGZvbnRWYXJpYXRpb25TZXR0aW5nczogZm9udFZhcmlhdGlvblNldHRpbmdzLFxuICAgICAgZm9udEZlYXR1cmVTZXR0aW5nczogZm9udEZlYXR1cmVTZXR0aW5nc1xuICAgIH1cbiAgfTsgLy8gUmVtb3ZlcyB1bmRlZmluZWQgZmllbGRzIGZvciBjbGVhbmVyIGNzcyBvYmplY3QuXG5cbiAgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZm9udEZhY2VEZWNsYXJhdGlvbikpO1xufVxuXG5mdW5jdGlvbiBoaWRlVGV4dCgpIHtcbiAgcmV0dXJuIHtcbiAgICB0ZXh0SW5kZW50OiAnMTAxJScsXG4gICAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICAgIHdoaXRlU3BhY2U6ICdub3dyYXAnXG4gIH07XG59XG5cbmZ1bmN0aW9uIGhpZGVWaXN1YWxseSgpIHtcbiAgcmV0dXJuIHtcbiAgICBib3JkZXI6ICcwJyxcbiAgICBjbGlwOiAncmVjdCgwIDAgMCAwKScsXG4gICAgY2xpcFBhdGg6ICdpbnNldCg1MCUpJyxcbiAgICBoZWlnaHQ6ICcxcHgnLFxuICAgIG1hcmdpbjogJy0xcHgnLFxuICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcbiAgICBwYWRkaW5nOiAnMCcsXG4gICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgd2hpdGVTcGFjZTogJ25vd3JhcCcsXG4gICAgd2lkdGg6ICcxcHgnXG4gIH07XG59XG5cbi8qKlxuICogR2VuZXJhdGVzIGEgbWVkaWEgcXVlcnkgdG8gdGFyZ2V0IEhpRFBJIGRldmljZXMuXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFN0eWxlcyBhcyBvYmplY3QgdXNhZ2VcbiAqIGNvbnN0IHN0eWxlcyA9IHtcbiAqICBbaGlEUEkoMS41KV06IHtcbiAqICAgIHdpZHRoOiAyMDBweDtcbiAqICB9XG4gKiB9XG4gKlxuICogLy8gc3R5bGVkLWNvbXBvbmVudHMgdXNhZ2VcbiAqIGNvbnN0IGRpdiA9IHN0eWxlZC5kaXZgXG4gKiAgICR7aGlEUEkoMS41KX0ge1xuICogICAgIHdpZHRoOiAyMDBweDtcbiAqICAgfVxuICogYFxuICpcbiAqIC8vIENTUyBhcyBKUyBPdXRwdXRcbiAqXG4gKiAnQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAoLXdlYmtpdC1taW4tZGV2aWNlLXBpeGVsLXJhdGlvOiAxLjUpLFxuICogIG9ubHkgc2NyZWVuIGFuZCAobWluLS1tb3otZGV2aWNlLXBpeGVsLXJhdGlvOiAxLjUpLFxuICogIG9ubHkgc2NyZWVuIGFuZCAoLW8tbWluLWRldmljZS1waXhlbC1yYXRpbzogMS41LzEpLFxuICogIG9ubHkgc2NyZWVuIGFuZCAobWluLXJlc29sdXRpb246IDE0NGRwaSksXG4gKiAgb25seSBzY3JlZW4gYW5kIChtaW4tcmVzb2x1dGlvbjogMS41ZHBweCknOiB7XG4gKiAgICd3aWR0aCc6ICcyMDBweCcsXG4gKiB9XG4gKi9cbmZ1bmN0aW9uIGhpRFBJKHJhdGlvKSB7XG4gIGlmIChyYXRpbyA9PT0gdm9pZCAwKSB7XG4gICAgcmF0aW8gPSAxLjM7XG4gIH1cblxuICByZXR1cm4gXCJcXG4gICAgQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAoLXdlYmtpdC1taW4tZGV2aWNlLXBpeGVsLXJhdGlvOiBcIiArIHJhdGlvICsgXCIpLFxcbiAgICBvbmx5IHNjcmVlbiBhbmQgKG1pbi0tbW96LWRldmljZS1waXhlbC1yYXRpbzogXCIgKyByYXRpbyArIFwiKSxcXG4gICAgb25seSBzY3JlZW4gYW5kICgtby1taW4tZGV2aWNlLXBpeGVsLXJhdGlvOiBcIiArIHJhdGlvICsgXCIvMSksXFxuICAgIG9ubHkgc2NyZWVuIGFuZCAobWluLXJlc29sdXRpb246IFwiICsgTWF0aC5yb3VuZChyYXRpbyAqIDk2KSArIFwiZHBpKSxcXG4gICAgb25seSBzY3JlZW4gYW5kIChtaW4tcmVzb2x1dGlvbjogXCIgKyByYXRpbyArIFwiZHBweClcXG4gIFwiO1xufVxuXG5mdW5jdGlvbiBjb25zdHJ1Y3RHcmFkaWVudFZhbHVlKGxpdGVyYWxzKSB7XG4gIHZhciB0ZW1wbGF0ZSA9ICcnO1xuXG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBzdWJzdGl0dXRpb25zID0gbmV3IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBzdWJzdGl0dXRpb25zW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGl0ZXJhbHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICB0ZW1wbGF0ZSArPSBsaXRlcmFsc1tpXTtcblxuICAgIGlmIChpID09PSBzdWJzdGl0dXRpb25zLmxlbmd0aCAtIDEgJiYgc3Vic3RpdHV0aW9uc1tpXSkge1xuICAgICAgdmFyIGRlZmluZWRWYWx1ZXMgPSBzdWJzdGl0dXRpb25zLmZpbHRlcihmdW5jdGlvbiAoc3Vic3RpdHV0ZSkge1xuICAgICAgICByZXR1cm4gISFzdWJzdGl0dXRlO1xuICAgICAgfSk7IC8vIEFkZHMgbGVhZGluZyBjb21hIGlmIHByb3BlcnRpZXMgcHJlY2VlZCBjb2xvci1zdG9wc1xuXG4gICAgICBpZiAoZGVmaW5lZFZhbHVlcy5sZW5ndGggPiAxKSB7XG4gICAgICAgIHRlbXBsYXRlID0gdGVtcGxhdGUuc2xpY2UoMCwgLTEpO1xuICAgICAgICB0ZW1wbGF0ZSArPSBcIiwgXCIgKyBzdWJzdGl0dXRpb25zW2ldOyAvLyBObyB0cmFpbGluZyBzcGFjZSBpZiBjb2xvci1zdG9wcyBpcyB0aGUgb25seSBwYXJhbSBwcm92aWRlZFxuICAgICAgfSBlbHNlIGlmIChkZWZpbmVkVmFsdWVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICB0ZW1wbGF0ZSArPSBcIlwiICsgc3Vic3RpdHV0aW9uc1tpXTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHN1YnN0aXR1dGlvbnNbaV0pIHtcbiAgICAgIHRlbXBsYXRlICs9IHN1YnN0aXR1dGlvbnNbaV0gKyBcIiBcIjtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGVtcGxhdGUudHJpbSgpO1xufVxuXG5mdW5jdGlvbiBfdGVtcGxhdGVPYmplY3QoKSB7XG4gIHZhciBkYXRhID0gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbExvb3NlKFtcImxpbmVhci1ncmFkaWVudChcIiwgXCJcIiwgXCIpXCJdKTtcblxuICBfdGVtcGxhdGVPYmplY3QgPSBmdW5jdGlvbiBfdGVtcGxhdGVPYmplY3QoKSB7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH07XG5cbiAgcmV0dXJuIGRhdGE7XG59XG5mdW5jdGlvbiBsaW5lYXJHcmFkaWVudChfcmVmKSB7XG4gIHZhciBjb2xvclN0b3BzID0gX3JlZi5jb2xvclN0b3BzLFxuICAgICAgZmFsbGJhY2sgPSBfcmVmLmZhbGxiYWNrLFxuICAgICAgX3JlZiR0b0RpcmVjdGlvbiA9IF9yZWYudG9EaXJlY3Rpb24sXG4gICAgICB0b0RpcmVjdGlvbiA9IF9yZWYkdG9EaXJlY3Rpb24gPT09IHZvaWQgMCA/ICcnIDogX3JlZiR0b0RpcmVjdGlvbjtcblxuICBpZiAoIWNvbG9yU3RvcHMgfHwgY29sb3JTdG9wcy5sZW5ndGggPCAyKSB7XG4gICAgdGhyb3cgbmV3IFBvbGlzaGVkRXJyb3IoNTYpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBiYWNrZ3JvdW5kQ29sb3I6IGZhbGxiYWNrIHx8IGNvbG9yU3RvcHNbMF0uc3BsaXQoJyAnKVswXSxcbiAgICBiYWNrZ3JvdW5kSW1hZ2U6IGNvbnN0cnVjdEdyYWRpZW50VmFsdWUoX3RlbXBsYXRlT2JqZWN0KCksIHRvRGlyZWN0aW9uLCBjb2xvclN0b3BzLmpvaW4oJywgJykpXG4gIH07XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZSgpIHtcbiAgdmFyIF9yZWY7XG5cbiAgcmV0dXJuIFsoX3JlZiA9IHtcbiAgICBodG1sOiB7XG4gICAgICBsaW5lSGVpZ2h0OiAnMS4xNScsXG4gICAgICB0ZXh0U2l6ZUFkanVzdDogJzEwMCUnXG4gICAgfSxcbiAgICBib2R5OiB7XG4gICAgICBtYXJnaW46ICcwJ1xuICAgIH0sXG4gICAgaDE6IHtcbiAgICAgIGZvbnRTaXplOiAnMmVtJyxcbiAgICAgIG1hcmdpbjogJzAuNjdlbSAwJ1xuICAgIH0sXG4gICAgaHI6IHtcbiAgICAgIGJveFNpemluZzogJ2NvbnRlbnQtYm94JyxcbiAgICAgIGhlaWdodDogJzAnLFxuICAgICAgb3ZlcmZsb3c6ICd2aXNpYmxlJ1xuICAgIH0sXG4gICAgcHJlOiB7XG4gICAgICBmb250RmFtaWx5OiAnbW9ub3NwYWNlLCBtb25vc3BhY2UnLFxuICAgICAgZm9udFNpemU6ICcxZW0nXG4gICAgfSxcbiAgICBhOiB7XG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6ICd0cmFuc3BhcmVudCdcbiAgICB9LFxuICAgICdhYmJyW3RpdGxlXSc6IHtcbiAgICAgIGJvcmRlckJvdHRvbTogJ25vbmUnLFxuICAgICAgdGV4dERlY29yYXRpb246ICd1bmRlcmxpbmUnXG4gICAgfVxuICB9LCBfcmVmW1wiYixcXG4gICAgc3Ryb25nXCJdID0ge1xuICAgIGZvbnRXZWlnaHQ6ICdib2xkZXInXG4gIH0sIF9yZWZbXCJjb2RlLFxcbiAgICBrYmQsXFxuICAgIHNhbXBcIl0gPSB7XG4gICAgZm9udEZhbWlseTogJ21vbm9zcGFjZSwgbW9ub3NwYWNlJyxcbiAgICBmb250U2l6ZTogJzFlbSdcbiAgfSwgX3JlZi5zbWFsbCA9IHtcbiAgICBmb250U2l6ZTogJzgwJSdcbiAgfSwgX3JlZltcInN1YixcXG4gICAgc3VwXCJdID0ge1xuICAgIGZvbnRTaXplOiAnNzUlJyxcbiAgICBsaW5lSGVpZ2h0OiAnMCcsXG4gICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgdmVydGljYWxBbGlnbjogJ2Jhc2VsaW5lJ1xuICB9LCBfcmVmLnN1YiA9IHtcbiAgICBib3R0b206ICctMC4yNWVtJ1xuICB9LCBfcmVmLnN1cCA9IHtcbiAgICB0b3A6ICctMC41ZW0nXG4gIH0sIF9yZWYuaW1nID0ge1xuICAgIGJvcmRlclN0eWxlOiAnbm9uZSdcbiAgfSwgX3JlZltcImJ1dHRvbixcXG4gICAgaW5wdXQsXFxuICAgIG9wdGdyb3VwLFxcbiAgICBzZWxlY3QsXFxuICAgIHRleHRhcmVhXCJdID0ge1xuICAgIGZvbnRGYW1pbHk6ICdpbmhlcml0JyxcbiAgICBmb250U2l6ZTogJzEwMCUnLFxuICAgIGxpbmVIZWlnaHQ6ICcxLjE1JyxcbiAgICBtYXJnaW46ICcwJ1xuICB9LCBfcmVmW1wiYnV0dG9uLFxcbiAgICBpbnB1dFwiXSA9IHtcbiAgICBvdmVyZmxvdzogJ3Zpc2libGUnXG4gIH0sIF9yZWZbXCJidXR0b24sXFxuICAgIHNlbGVjdFwiXSA9IHtcbiAgICB0ZXh0VHJhbnNmb3JtOiAnbm9uZSdcbiAgfSwgX3JlZltcImJ1dHRvbixcXG4gICAgaHRtbCBbdHlwZT1cXFwiYnV0dG9uXFxcIl0sXFxuICAgIFt0eXBlPVxcXCJyZXNldFxcXCJdLFxcbiAgICBbdHlwZT1cXFwic3VibWl0XFxcIl1cIl0gPSB7XG4gICAgV2Via2l0QXBwZWFyYW5jZTogJ2J1dHRvbidcbiAgfSwgX3JlZltcImJ1dHRvbjo6LW1vei1mb2N1cy1pbm5lcixcXG4gICAgW3R5cGU9XFxcImJ1dHRvblxcXCJdOjotbW96LWZvY3VzLWlubmVyLFxcbiAgICBbdHlwZT1cXFwicmVzZXRcXFwiXTo6LW1vei1mb2N1cy1pbm5lcixcXG4gICAgW3R5cGU9XFxcInN1Ym1pdFxcXCJdOjotbW96LWZvY3VzLWlubmVyXCJdID0ge1xuICAgIGJvcmRlclN0eWxlOiAnbm9uZScsXG4gICAgcGFkZGluZzogJzAnXG4gIH0sIF9yZWZbXCJidXR0b246LW1vei1mb2N1c3JpbmcsXFxuICAgIFt0eXBlPVxcXCJidXR0b25cXFwiXTotbW96LWZvY3VzcmluZyxcXG4gICAgW3R5cGU9XFxcInJlc2V0XFxcIl06LW1vei1mb2N1c3JpbmcsXFxuICAgIFt0eXBlPVxcXCJzdWJtaXRcXFwiXTotbW96LWZvY3VzcmluZ1wiXSA9IHtcbiAgICBvdXRsaW5lOiAnMXB4IGRvdHRlZCBCdXR0b25UZXh0J1xuICB9LCBfcmVmLmZpZWxkc2V0ID0ge1xuICAgIHBhZGRpbmc6ICcwLjM1ZW0gMC42MjVlbSAwLjc1ZW0nXG4gIH0sIF9yZWYubGVnZW5kID0ge1xuICAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnLFxuICAgIGNvbG9yOiAnaW5oZXJpdCcsXG4gICAgZGlzcGxheTogJ3RhYmxlJyxcbiAgICBtYXhXaWR0aDogJzEwMCUnLFxuICAgIHBhZGRpbmc6ICcwJyxcbiAgICB3aGl0ZVNwYWNlOiAnbm9ybWFsJ1xuICB9LCBfcmVmLnByb2dyZXNzID0ge1xuICAgIHZlcnRpY2FsQWxpZ246ICdiYXNlbGluZSdcbiAgfSwgX3JlZi50ZXh0YXJlYSA9IHtcbiAgICBvdmVyZmxvdzogJ2F1dG8nXG4gIH0sIF9yZWZbXCJbdHlwZT1cXFwiY2hlY2tib3hcXFwiXSxcXG4gICAgW3R5cGU9XFxcInJhZGlvXFxcIl1cIl0gPSB7XG4gICAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCcsXG4gICAgcGFkZGluZzogJzAnXG4gIH0sIF9yZWZbXCJbdHlwZT1cXFwibnVtYmVyXFxcIl06Oi13ZWJraXQtaW5uZXItc3Bpbi1idXR0b24sXFxuICAgIFt0eXBlPVxcXCJudW1iZXJcXFwiXTo6LXdlYmtpdC1vdXRlci1zcGluLWJ1dHRvblwiXSA9IHtcbiAgICBoZWlnaHQ6ICdhdXRvJ1xuICB9LCBfcmVmWydbdHlwZT1cInNlYXJjaFwiXSddID0ge1xuICAgIFdlYmtpdEFwcGVhcmFuY2U6ICd0ZXh0ZmllbGQnLFxuICAgIG91dGxpbmVPZmZzZXQ6ICctMnB4J1xuICB9LCBfcmVmWydbdHlwZT1cInNlYXJjaFwiXTo6LXdlYmtpdC1zZWFyY2gtZGVjb3JhdGlvbiddID0ge1xuICAgIFdlYmtpdEFwcGVhcmFuY2U6ICdub25lJ1xuICB9LCBfcmVmWyc6Oi13ZWJraXQtZmlsZS11cGxvYWQtYnV0dG9uJ10gPSB7XG4gICAgV2Via2l0QXBwZWFyYW5jZTogJ2J1dHRvbicsXG4gICAgZm9udDogJ2luaGVyaXQnXG4gIH0sIF9yZWYuZGV0YWlscyA9IHtcbiAgICBkaXNwbGF5OiAnYmxvY2snXG4gIH0sIF9yZWYuc3VtbWFyeSA9IHtcbiAgICBkaXNwbGF5OiAnbGlzdC1pdGVtJ1xuICB9LCBfcmVmLnRlbXBsYXRlID0ge1xuICAgIGRpc3BsYXk6ICdub25lJ1xuICB9LCBfcmVmWydbaGlkZGVuXSddID0ge1xuICAgIGRpc3BsYXk6ICdub25lJ1xuICB9LCBfcmVmKSwge1xuICAgICdhYmJyW3RpdGxlXSc6IHtcbiAgICAgIHRleHREZWNvcmF0aW9uOiAndW5kZXJsaW5lIGRvdHRlZCdcbiAgICB9XG4gIH1dO1xufVxuXG5mdW5jdGlvbiBfdGVtcGxhdGVPYmplY3QkMSgpIHtcbiAgdmFyIGRhdGEgPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsTG9vc2UoW1wicmFkaWFsLWdyYWRpZW50KFwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIilcIl0pO1xuXG4gIF90ZW1wbGF0ZU9iamVjdCQxID0gZnVuY3Rpb24gX3RlbXBsYXRlT2JqZWN0KCkge1xuICAgIHJldHVybiBkYXRhO1xuICB9O1xuXG4gIHJldHVybiBkYXRhO1xufVxuZnVuY3Rpb24gcmFkaWFsR3JhZGllbnQoX3JlZikge1xuICB2YXIgY29sb3JTdG9wcyA9IF9yZWYuY29sb3JTdG9wcyxcbiAgICAgIF9yZWYkZXh0ZW50ID0gX3JlZi5leHRlbnQsXG4gICAgICBleHRlbnQgPSBfcmVmJGV4dGVudCA9PT0gdm9pZCAwID8gJycgOiBfcmVmJGV4dGVudCxcbiAgICAgIGZhbGxiYWNrID0gX3JlZi5mYWxsYmFjayxcbiAgICAgIF9yZWYkcG9zaXRpb24gPSBfcmVmLnBvc2l0aW9uLFxuICAgICAgcG9zaXRpb24gPSBfcmVmJHBvc2l0aW9uID09PSB2b2lkIDAgPyAnJyA6IF9yZWYkcG9zaXRpb24sXG4gICAgICBfcmVmJHNoYXBlID0gX3JlZi5zaGFwZSxcbiAgICAgIHNoYXBlID0gX3JlZiRzaGFwZSA9PT0gdm9pZCAwID8gJycgOiBfcmVmJHNoYXBlO1xuXG4gIGlmICghY29sb3JTdG9wcyB8fCBjb2xvclN0b3BzLmxlbmd0aCA8IDIpIHtcbiAgICB0aHJvdyBuZXcgUG9saXNoZWRFcnJvcig1Nyk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGJhY2tncm91bmRDb2xvcjogZmFsbGJhY2sgfHwgY29sb3JTdG9wc1swXS5zcGxpdCgnICcpWzBdLFxuICAgIGJhY2tncm91bmRJbWFnZTogY29uc3RydWN0R3JhZGllbnRWYWx1ZShfdGVtcGxhdGVPYmplY3QkMSgpLCBwb3NpdGlvbiwgc2hhcGUsIGV4dGVudCwgY29sb3JTdG9wcy5qb2luKCcsICcpKVxuICB9O1xufVxuXG5mdW5jdGlvbiByZXRpbmFJbWFnZShmaWxlbmFtZSwgYmFja2dyb3VuZFNpemUsIGV4dGVuc2lvbiwgcmV0aW5hRmlsZW5hbWUsIHJldGluYVN1ZmZpeCkge1xuICB2YXIgX3JlZjtcblxuICBpZiAoZXh0ZW5zaW9uID09PSB2b2lkIDApIHtcbiAgICBleHRlbnNpb24gPSAncG5nJztcbiAgfVxuXG4gIGlmIChyZXRpbmFTdWZmaXggPT09IHZvaWQgMCkge1xuICAgIHJldGluYVN1ZmZpeCA9ICdfMngnO1xuICB9XG5cbiAgaWYgKCFmaWxlbmFtZSkge1xuICAgIHRocm93IG5ldyBQb2xpc2hlZEVycm9yKDU4KTtcbiAgfSAvLyBSZXBsYWNlIHRoZSBkb3QgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgcGFzc2VkIGV4dGVuc2lvbiBpZiBvbmUgZXhpc3RzXG5cblxuICB2YXIgZXh0ID0gZXh0ZW5zaW9uLnJlcGxhY2UoL15cXC4vLCAnJyk7XG4gIHZhciByRmlsZW5hbWUgPSByZXRpbmFGaWxlbmFtZSA/IHJldGluYUZpbGVuYW1lICsgXCIuXCIgKyBleHQgOiBcIlwiICsgZmlsZW5hbWUgKyByZXRpbmFTdWZmaXggKyBcIi5cIiArIGV4dDtcbiAgcmV0dXJuIF9yZWYgPSB7XG4gICAgYmFja2dyb3VuZEltYWdlOiBcInVybChcIiArIGZpbGVuYW1lICsgXCIuXCIgKyBleHQgKyBcIilcIlxuICB9LCBfcmVmW2hpRFBJKCldID0gX2V4dGVuZHMoe1xuICAgIGJhY2tncm91bmRJbWFnZTogXCJ1cmwoXCIgKyByRmlsZW5hbWUgKyBcIilcIlxuICB9LCBiYWNrZ3JvdW5kU2l6ZSA/IHtcbiAgICBiYWNrZ3JvdW5kU2l6ZTogYmFja2dyb3VuZFNpemVcbiAgfSA6IHt9KSwgX3JlZjtcbn1cblxudmFyIGZ1bmN0aW9uc01hcCA9IHtcbiAgZWFzZUluQmFjazogJ2N1YmljLWJlemllcigwLjYwMCwgLTAuMjgwLCAwLjczNSwgMC4wNDUpJyxcbiAgZWFzZUluQ2lyYzogJ2N1YmljLWJlemllcigwLjYwMCwgIDAuMDQwLCAwLjk4MCwgMC4zMzUpJyxcbiAgZWFzZUluQ3ViaWM6ICdjdWJpYy1iZXppZXIoMC41NTAsICAwLjA1NSwgMC42NzUsIDAuMTkwKScsXG4gIGVhc2VJbkV4cG86ICdjdWJpYy1iZXppZXIoMC45NTAsICAwLjA1MCwgMC43OTUsIDAuMDM1KScsXG4gIGVhc2VJblF1YWQ6ICdjdWJpYy1iZXppZXIoMC41NTAsICAwLjA4NSwgMC42ODAsIDAuNTMwKScsXG4gIGVhc2VJblF1YXJ0OiAnY3ViaWMtYmV6aWVyKDAuODk1LCAgMC4wMzAsIDAuNjg1LCAwLjIyMCknLFxuICBlYXNlSW5RdWludDogJ2N1YmljLWJlemllcigwLjc1NSwgIDAuMDUwLCAwLjg1NSwgMC4wNjApJyxcbiAgZWFzZUluU2luZTogJ2N1YmljLWJlemllcigwLjQ3MCwgIDAuMDAwLCAwLjc0NSwgMC43MTUpJyxcbiAgZWFzZU91dEJhY2s6ICdjdWJpYy1iZXppZXIoMC4xNzUsICAwLjg4NSwgMC4zMjAsIDEuMjc1KScsXG4gIGVhc2VPdXRDdWJpYzogJ2N1YmljLWJlemllcigwLjIxNSwgIDAuNjEwLCAwLjM1NSwgMS4wMDApJyxcbiAgZWFzZU91dENpcmM6ICdjdWJpYy1iZXppZXIoMC4wNzUsICAwLjgyMCwgMC4xNjUsIDEuMDAwKScsXG4gIGVhc2VPdXRFeHBvOiAnY3ViaWMtYmV6aWVyKDAuMTkwLCAgMS4wMDAsIDAuMjIwLCAxLjAwMCknLFxuICBlYXNlT3V0UXVhZDogJ2N1YmljLWJlemllcigwLjI1MCwgIDAuNDYwLCAwLjQ1MCwgMC45NDApJyxcbiAgZWFzZU91dFF1YXJ0OiAnY3ViaWMtYmV6aWVyKDAuMTY1LCAgMC44NDAsIDAuNDQwLCAxLjAwMCknLFxuICBlYXNlT3V0UXVpbnQ6ICdjdWJpYy1iZXppZXIoMC4yMzAsICAxLjAwMCwgMC4zMjAsIDEuMDAwKScsXG4gIGVhc2VPdXRTaW5lOiAnY3ViaWMtYmV6aWVyKDAuMzkwLCAgMC41NzUsIDAuNTY1LCAxLjAwMCknLFxuICBlYXNlSW5PdXRCYWNrOiAnY3ViaWMtYmV6aWVyKDAuNjgwLCAtMC41NTAsIDAuMjY1LCAxLjU1MCknLFxuICBlYXNlSW5PdXRDaXJjOiAnY3ViaWMtYmV6aWVyKDAuNzg1LCAgMC4xMzUsIDAuMTUwLCAwLjg2MCknLFxuICBlYXNlSW5PdXRDdWJpYzogJ2N1YmljLWJlemllcigwLjY0NSwgIDAuMDQ1LCAwLjM1NSwgMS4wMDApJyxcbiAgZWFzZUluT3V0RXhwbzogJ2N1YmljLWJlemllcigxLjAwMCwgIDAuMDAwLCAwLjAwMCwgMS4wMDApJyxcbiAgZWFzZUluT3V0UXVhZDogJ2N1YmljLWJlemllcigwLjQ1NSwgIDAuMDMwLCAwLjUxNSwgMC45NTUpJyxcbiAgZWFzZUluT3V0UXVhcnQ6ICdjdWJpYy1iZXppZXIoMC43NzAsICAwLjAwMCwgMC4xNzUsIDEuMDAwKScsXG4gIGVhc2VJbk91dFF1aW50OiAnY3ViaWMtYmV6aWVyKDAuODYwLCAgMC4wMDAsIDAuMDcwLCAxLjAwMCknLFxuICBlYXNlSW5PdXRTaW5lOiAnY3ViaWMtYmV6aWVyKDAuNDQ1LCAgMC4wNTAsIDAuNTUwLCAwLjk1MCknXG59O1xuLyogZXNsaW50LWVuYWJsZSBrZXktc3BhY2luZyAqL1xuXG5mdW5jdGlvbiBnZXRUaW1pbmdGdW5jdGlvbihmdW5jdGlvbk5hbWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uc01hcFtmdW5jdGlvbk5hbWVdO1xufVxuLyoqXG4gKiBTdHJpbmcgdG8gcmVwcmVzZW50IGNvbW1vbiBlYXNpbmcgZnVuY3Rpb25zIGFzIGRlbW9uc3RyYXRlZCBoZXJlOiAoZ2l0aHViLmNvbS9qYXVraWEvZWFzaWUpLlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBTdHlsZXMgYXMgb2JqZWN0IHVzYWdlXG4gKiBjb25zdCBzdHlsZXMgPSB7XG4gKiAgICd0cmFuc2l0aW9uVGltaW5nRnVuY3Rpb24nOiB0aW1pbmdGdW5jdGlvbnMoJ2Vhc2VJblF1YWQnKVxuICogfVxuICpcbiAqIC8vIHN0eWxlZC1jb21wb25lbnRzIHVzYWdlXG4gKiAgY29uc3QgZGl2ID0gc3R5bGVkLmRpdmBcbiAqICAgdHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uOiAke3RpbWluZ0Z1bmN0aW9ucygnZWFzZUluUXVhZCcpfTtcbiAqIGBcbiAqXG4gKiAvLyBDU1MgYXMgSlMgT3V0cHV0XG4gKlxuICogJ2Rpdic6IHtcbiAqICAgJ3RyYW5zaXRpb25UaW1pbmdGdW5jdGlvbic6ICdjdWJpYy1iZXppZXIoMC41NTAsICAwLjA4NSwgMC42ODAsIDAuNTMwKScsXG4gKiB9XG4gKi9cblxuXG5mdW5jdGlvbiB0aW1pbmdGdW5jdGlvbnModGltaW5nRnVuY3Rpb24pIHtcbiAgcmV0dXJuIGdldFRpbWluZ0Z1bmN0aW9uKHRpbWluZ0Z1bmN0aW9uKTtcbn1cblxudmFyIGdldEJvcmRlcldpZHRoID0gZnVuY3Rpb24gZ2V0Qm9yZGVyV2lkdGgocG9pbnRpbmdEaXJlY3Rpb24sIGhlaWdodCwgd2lkdGgpIHtcbiAgdmFyIGZ1bGxXaWR0aCA9IFwiXCIgKyB3aWR0aFswXSArICh3aWR0aFsxXSB8fCAnJyk7XG4gIHZhciBoYWxmV2lkdGggPSBcIlwiICsgd2lkdGhbMF0gLyAyICsgKHdpZHRoWzFdIHx8ICcnKTtcbiAgdmFyIGZ1bGxIZWlnaHQgPSBcIlwiICsgaGVpZ2h0WzBdICsgKGhlaWdodFsxXSB8fCAnJyk7XG4gIHZhciBoYWxmSGVpZ2h0ID0gXCJcIiArIGhlaWdodFswXSAvIDIgKyAoaGVpZ2h0WzFdIHx8ICcnKTtcblxuICBzd2l0Y2ggKHBvaW50aW5nRGlyZWN0aW9uKSB7XG4gICAgY2FzZSAndG9wJzpcbiAgICAgIHJldHVybiBcIjAgXCIgKyBoYWxmV2lkdGggKyBcIiBcIiArIGZ1bGxIZWlnaHQgKyBcIiBcIiArIGhhbGZXaWR0aDtcblxuICAgIGNhc2UgJ3RvcExlZnQnOlxuICAgICAgcmV0dXJuIGZ1bGxXaWR0aCArIFwiIFwiICsgZnVsbEhlaWdodCArIFwiIDAgMFwiO1xuXG4gICAgY2FzZSAnbGVmdCc6XG4gICAgICByZXR1cm4gaGFsZkhlaWdodCArIFwiIFwiICsgZnVsbFdpZHRoICsgXCIgXCIgKyBoYWxmSGVpZ2h0ICsgXCIgMFwiO1xuXG4gICAgY2FzZSAnYm90dG9tTGVmdCc6XG4gICAgICByZXR1cm4gZnVsbFdpZHRoICsgXCIgMCAwIFwiICsgZnVsbEhlaWdodDtcblxuICAgIGNhc2UgJ2JvdHRvbSc6XG4gICAgICByZXR1cm4gZnVsbEhlaWdodCArIFwiIFwiICsgaGFsZldpZHRoICsgXCIgMCBcIiArIGhhbGZXaWR0aDtcblxuICAgIGNhc2UgJ2JvdHRvbVJpZ2h0JzpcbiAgICAgIHJldHVybiBcIjAgMCBcIiArIGZ1bGxXaWR0aCArIFwiIFwiICsgZnVsbEhlaWdodDtcblxuICAgIGNhc2UgJ3JpZ2h0JzpcbiAgICAgIHJldHVybiBoYWxmSGVpZ2h0ICsgXCIgMCBcIiArIGhhbGZIZWlnaHQgKyBcIiBcIiArIGZ1bGxXaWR0aDtcblxuICAgIGNhc2UgJ3RvcFJpZ2h0JzpcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIFwiMCBcIiArIGZ1bGxXaWR0aCArIFwiIFwiICsgZnVsbEhlaWdodCArIFwiIDBcIjtcbiAgfVxufTtcblxudmFyIGdldEJvcmRlckNvbG9yID0gZnVuY3Rpb24gZ2V0Qm9yZGVyQ29sb3IocG9pbnRpbmdEaXJlY3Rpb24sIGZvcmVncm91bmRDb2xvciwgYmFja2dyb3VuZENvbG9yKSB7XG4gIHN3aXRjaCAocG9pbnRpbmdEaXJlY3Rpb24pIHtcbiAgICBjYXNlICd0b3AnOlxuICAgIGNhc2UgJ2JvdHRvbVJpZ2h0JzpcbiAgICAgIHJldHVybiBiYWNrZ3JvdW5kQ29sb3IgKyBcIiBcIiArIGJhY2tncm91bmRDb2xvciArIFwiIFwiICsgZm9yZWdyb3VuZENvbG9yICsgXCIgXCIgKyBiYWNrZ3JvdW5kQ29sb3I7XG5cbiAgICBjYXNlICdyaWdodCc6XG4gICAgY2FzZSAnYm90dG9tTGVmdCc6XG4gICAgICByZXR1cm4gYmFja2dyb3VuZENvbG9yICsgXCIgXCIgKyBiYWNrZ3JvdW5kQ29sb3IgKyBcIiBcIiArIGJhY2tncm91bmRDb2xvciArIFwiIFwiICsgZm9yZWdyb3VuZENvbG9yO1xuXG4gICAgY2FzZSAnYm90dG9tJzpcbiAgICBjYXNlICd0b3BMZWZ0JzpcbiAgICAgIHJldHVybiBmb3JlZ3JvdW5kQ29sb3IgKyBcIiBcIiArIGJhY2tncm91bmRDb2xvciArIFwiIFwiICsgYmFja2dyb3VuZENvbG9yICsgXCIgXCIgKyBiYWNrZ3JvdW5kQ29sb3I7XG5cbiAgICBjYXNlICdsZWZ0JzpcbiAgICBjYXNlICd0b3BSaWdodCc6XG4gICAgICByZXR1cm4gYmFja2dyb3VuZENvbG9yICsgXCIgXCIgKyBmb3JlZ3JvdW5kQ29sb3IgKyBcIiBcIiArIGJhY2tncm91bmRDb2xvciArIFwiIFwiICsgYmFja2dyb3VuZENvbG9yO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBQb2xpc2hlZEVycm9yKDU5KTtcbiAgfVxufTtcbi8qKlxuICogQ1NTIHRvIHJlcHJlc2VudCB0cmlhbmdsZSB3aXRoIGFueSBwb2ludGluZyBkaXJlY3Rpb24gd2l0aCBhbiBvcHRpb25hbCBiYWNrZ3JvdW5kIGNvbG9yLlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBTdHlsZXMgYXMgb2JqZWN0IHVzYWdlXG4gKlxuICogY29uc3Qgc3R5bGVzID0ge1xuICogICAuLi50cmlhbmdsZSh7IHBvaW50aW5nRGlyZWN0aW9uOiAncmlnaHQnLCB3aWR0aDogJzEwMHB4JywgaGVpZ2h0OiAnMTAwcHgnLCBmb3JlZ3JvdW5kQ29sb3I6ICdyZWQnIH0pXG4gKiB9XG4gKlxuICpcbiAqIC8vIHN0eWxlZC1jb21wb25lbnRzIHVzYWdlXG4gKiBjb25zdCBkaXYgPSBzdHlsZWQuZGl2YFxuICogICAke3RyaWFuZ2xlKHsgcG9pbnRpbmdEaXJlY3Rpb246ICdyaWdodCcsIHdpZHRoOiAnMTAwcHgnLCBoZWlnaHQ6ICcxMDBweCcsIGZvcmVncm91bmRDb2xvcjogJ3JlZCcgfSl9XG4gKlxuICpcbiAqIC8vIENTUyBhcyBKUyBPdXRwdXRcbiAqXG4gKiBkaXY6IHtcbiAqICAnYm9yZGVyQ29sb3InOiAndHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQgcmVkJyxcbiAqICAnYm9yZGVyU3R5bGUnOiAnc29saWQnLFxuICogICdib3JkZXJXaWR0aCc6ICc1MHB4IDAgNTBweCAxMDBweCcsXG4gKiAgJ2hlaWdodCc6ICcwJyxcbiAqICAnd2lkdGgnOiAnMCcsXG4gKiB9XG4gKi9cblxuXG5mdW5jdGlvbiB0cmlhbmdsZShfcmVmKSB7XG4gIHZhciBwb2ludGluZ0RpcmVjdGlvbiA9IF9yZWYucG9pbnRpbmdEaXJlY3Rpb24sXG4gICAgICBoZWlnaHQgPSBfcmVmLmhlaWdodCxcbiAgICAgIHdpZHRoID0gX3JlZi53aWR0aCxcbiAgICAgIGZvcmVncm91bmRDb2xvciA9IF9yZWYuZm9yZWdyb3VuZENvbG9yLFxuICAgICAgX3JlZiRiYWNrZ3JvdW5kQ29sb3IgPSBfcmVmLmJhY2tncm91bmRDb2xvcixcbiAgICAgIGJhY2tncm91bmRDb2xvciA9IF9yZWYkYmFja2dyb3VuZENvbG9yID09PSB2b2lkIDAgPyAndHJhbnNwYXJlbnQnIDogX3JlZiRiYWNrZ3JvdW5kQ29sb3I7XG4gIHZhciB3aWR0aEFuZFVuaXQgPSBzdHJpcFVuaXQod2lkdGgsIHRydWUpO1xuICB2YXIgaGVpZ2h0QW5kVW5pdCA9IHN0cmlwVW5pdChoZWlnaHQsIHRydWUpO1xuXG4gIGlmIChpc05hTihoZWlnaHRBbmRVbml0WzBdKSB8fCBpc05hTih3aWR0aEFuZFVuaXRbMF0pKSB7XG4gICAgdGhyb3cgbmV3IFBvbGlzaGVkRXJyb3IoNjApO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB3aWR0aDogJzAnLFxuICAgIGhlaWdodDogJzAnLFxuICAgIGJvcmRlckNvbG9yOiBnZXRCb3JkZXJDb2xvcihwb2ludGluZ0RpcmVjdGlvbiwgZm9yZWdyb3VuZENvbG9yLCBiYWNrZ3JvdW5kQ29sb3IpLFxuICAgIGJvcmRlclN0eWxlOiAnc29saWQnLFxuICAgIGJvcmRlcldpZHRoOiBnZXRCb3JkZXJXaWR0aChwb2ludGluZ0RpcmVjdGlvbiwgaGVpZ2h0QW5kVW5pdCwgd2lkdGhBbmRVbml0KVxuICB9O1xufVxuXG5mdW5jdGlvbiB3b3JkV3JhcCh3cmFwKSB7XG4gIGlmICh3cmFwID09PSB2b2lkIDApIHtcbiAgICB3cmFwID0gJ2JyZWFrLXdvcmQnO1xuICB9XG5cbiAgdmFyIHdvcmRCcmVhayA9IHdyYXAgPT09ICdicmVhay13b3JkJyA/ICdicmVhay1hbGwnIDogd3JhcDtcbiAgcmV0dXJuIHtcbiAgICBvdmVyZmxvd1dyYXA6IHdyYXAsXG4gICAgd29yZFdyYXA6IHdyYXAsXG4gICAgd29yZEJyZWFrOiB3b3JkQnJlYWtcbiAgfTtcbn1cblxuZnVuY3Rpb24gY29sb3JUb0ludChjb2xvcikge1xuICByZXR1cm4gTWF0aC5yb3VuZChjb2xvciAqIDI1NSk7XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRUb0ludChyZWQsIGdyZWVuLCBibHVlKSB7XG4gIHJldHVybiBjb2xvclRvSW50KHJlZCkgKyBcIixcIiArIGNvbG9yVG9JbnQoZ3JlZW4pICsgXCIsXCIgKyBjb2xvclRvSW50KGJsdWUpO1xufVxuXG5mdW5jdGlvbiBoc2xUb1JnYihodWUsIHNhdHVyYXRpb24sIGxpZ2h0bmVzcywgY29udmVydCkge1xuICBpZiAoY29udmVydCA9PT0gdm9pZCAwKSB7XG4gICAgY29udmVydCA9IGNvbnZlcnRUb0ludDtcbiAgfVxuXG4gIGlmIChzYXR1cmF0aW9uID09PSAwKSB7XG4gICAgLy8gYWNocm9tYXRpY1xuICAgIHJldHVybiBjb252ZXJ0KGxpZ2h0bmVzcywgbGlnaHRuZXNzLCBsaWdodG5lc3MpO1xuICB9IC8vIGZvcm11bGFlIGZyb20gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSFNMX2FuZF9IU1ZcblxuXG4gIHZhciBodWVQcmltZSA9IChodWUgJSAzNjAgKyAzNjApICUgMzYwIC8gNjA7XG4gIHZhciBjaHJvbWEgPSAoMSAtIE1hdGguYWJzKDIgKiBsaWdodG5lc3MgLSAxKSkgKiBzYXR1cmF0aW9uO1xuICB2YXIgc2Vjb25kQ29tcG9uZW50ID0gY2hyb21hICogKDEgLSBNYXRoLmFicyhodWVQcmltZSAlIDIgLSAxKSk7XG4gIHZhciByZWQgPSAwO1xuICB2YXIgZ3JlZW4gPSAwO1xuICB2YXIgYmx1ZSA9IDA7XG5cbiAgaWYgKGh1ZVByaW1lID49IDAgJiYgaHVlUHJpbWUgPCAxKSB7XG4gICAgcmVkID0gY2hyb21hO1xuICAgIGdyZWVuID0gc2Vjb25kQ29tcG9uZW50O1xuICB9IGVsc2UgaWYgKGh1ZVByaW1lID49IDEgJiYgaHVlUHJpbWUgPCAyKSB7XG4gICAgcmVkID0gc2Vjb25kQ29tcG9uZW50O1xuICAgIGdyZWVuID0gY2hyb21hO1xuICB9IGVsc2UgaWYgKGh1ZVByaW1lID49IDIgJiYgaHVlUHJpbWUgPCAzKSB7XG4gICAgZ3JlZW4gPSBjaHJvbWE7XG4gICAgYmx1ZSA9IHNlY29uZENvbXBvbmVudDtcbiAgfSBlbHNlIGlmIChodWVQcmltZSA+PSAzICYmIGh1ZVByaW1lIDwgNCkge1xuICAgIGdyZWVuID0gc2Vjb25kQ29tcG9uZW50O1xuICAgIGJsdWUgPSBjaHJvbWE7XG4gIH0gZWxzZSBpZiAoaHVlUHJpbWUgPj0gNCAmJiBodWVQcmltZSA8IDUpIHtcbiAgICByZWQgPSBzZWNvbmRDb21wb25lbnQ7XG4gICAgYmx1ZSA9IGNocm9tYTtcbiAgfSBlbHNlIGlmIChodWVQcmltZSA+PSA1ICYmIGh1ZVByaW1lIDwgNikge1xuICAgIHJlZCA9IGNocm9tYTtcbiAgICBibHVlID0gc2Vjb25kQ29tcG9uZW50O1xuICB9XG5cbiAgdmFyIGxpZ2h0bmVzc01vZGlmaWNhdGlvbiA9IGxpZ2h0bmVzcyAtIGNocm9tYSAvIDI7XG4gIHZhciBmaW5hbFJlZCA9IHJlZCArIGxpZ2h0bmVzc01vZGlmaWNhdGlvbjtcbiAgdmFyIGZpbmFsR3JlZW4gPSBncmVlbiArIGxpZ2h0bmVzc01vZGlmaWNhdGlvbjtcbiAgdmFyIGZpbmFsQmx1ZSA9IGJsdWUgKyBsaWdodG5lc3NNb2RpZmljYXRpb247XG4gIHJldHVybiBjb252ZXJ0KGZpbmFsUmVkLCBmaW5hbEdyZWVuLCBmaW5hbEJsdWUpO1xufVxuXG52YXIgbmFtZWRDb2xvck1hcCA9IHtcbiAgYWxpY2VibHVlOiAnZjBmOGZmJyxcbiAgYW50aXF1ZXdoaXRlOiAnZmFlYmQ3JyxcbiAgYXF1YTogJzAwZmZmZicsXG4gIGFxdWFtYXJpbmU6ICc3ZmZmZDQnLFxuICBhenVyZTogJ2YwZmZmZicsXG4gIGJlaWdlOiAnZjVmNWRjJyxcbiAgYmlzcXVlOiAnZmZlNGM0JyxcbiAgYmxhY2s6ICcwMDAnLFxuICBibGFuY2hlZGFsbW9uZDogJ2ZmZWJjZCcsXG4gIGJsdWU6ICcwMDAwZmYnLFxuICBibHVldmlvbGV0OiAnOGEyYmUyJyxcbiAgYnJvd246ICdhNTJhMmEnLFxuICBidXJseXdvb2Q6ICdkZWI4ODcnLFxuICBjYWRldGJsdWU6ICc1ZjllYTAnLFxuICBjaGFydHJldXNlOiAnN2ZmZjAwJyxcbiAgY2hvY29sYXRlOiAnZDI2OTFlJyxcbiAgY29yYWw6ICdmZjdmNTAnLFxuICBjb3JuZmxvd2VyYmx1ZTogJzY0OTVlZCcsXG4gIGNvcm5zaWxrOiAnZmZmOGRjJyxcbiAgY3JpbXNvbjogJ2RjMTQzYycsXG4gIGN5YW46ICcwMGZmZmYnLFxuICBkYXJrYmx1ZTogJzAwMDA4YicsXG4gIGRhcmtjeWFuOiAnMDA4YjhiJyxcbiAgZGFya2dvbGRlbnJvZDogJ2I4ODYwYicsXG4gIGRhcmtncmF5OiAnYTlhOWE5JyxcbiAgZGFya2dyZWVuOiAnMDA2NDAwJyxcbiAgZGFya2dyZXk6ICdhOWE5YTknLFxuICBkYXJra2hha2k6ICdiZGI3NmInLFxuICBkYXJrbWFnZW50YTogJzhiMDA4YicsXG4gIGRhcmtvbGl2ZWdyZWVuOiAnNTU2YjJmJyxcbiAgZGFya29yYW5nZTogJ2ZmOGMwMCcsXG4gIGRhcmtvcmNoaWQ6ICc5OTMyY2MnLFxuICBkYXJrcmVkOiAnOGIwMDAwJyxcbiAgZGFya3NhbG1vbjogJ2U5OTY3YScsXG4gIGRhcmtzZWFncmVlbjogJzhmYmM4ZicsXG4gIGRhcmtzbGF0ZWJsdWU6ICc0ODNkOGInLFxuICBkYXJrc2xhdGVncmF5OiAnMmY0ZjRmJyxcbiAgZGFya3NsYXRlZ3JleTogJzJmNGY0ZicsXG4gIGRhcmt0dXJxdW9pc2U6ICcwMGNlZDEnLFxuICBkYXJrdmlvbGV0OiAnOTQwMGQzJyxcbiAgZGVlcHBpbms6ICdmZjE0OTMnLFxuICBkZWVwc2t5Ymx1ZTogJzAwYmZmZicsXG4gIGRpbWdyYXk6ICc2OTY5NjknLFxuICBkaW1ncmV5OiAnNjk2OTY5JyxcbiAgZG9kZ2VyYmx1ZTogJzFlOTBmZicsXG4gIGZpcmVicmljazogJ2IyMjIyMicsXG4gIGZsb3JhbHdoaXRlOiAnZmZmYWYwJyxcbiAgZm9yZXN0Z3JlZW46ICcyMjhiMjInLFxuICBmdWNoc2lhOiAnZmYwMGZmJyxcbiAgZ2FpbnNib3JvOiAnZGNkY2RjJyxcbiAgZ2hvc3R3aGl0ZTogJ2Y4ZjhmZicsXG4gIGdvbGQ6ICdmZmQ3MDAnLFxuICBnb2xkZW5yb2Q6ICdkYWE1MjAnLFxuICBncmF5OiAnODA4MDgwJyxcbiAgZ3JlZW46ICcwMDgwMDAnLFxuICBncmVlbnllbGxvdzogJ2FkZmYyZicsXG4gIGdyZXk6ICc4MDgwODAnLFxuICBob25leWRldzogJ2YwZmZmMCcsXG4gIGhvdHBpbms6ICdmZjY5YjQnLFxuICBpbmRpYW5yZWQ6ICdjZDVjNWMnLFxuICBpbmRpZ286ICc0YjAwODInLFxuICBpdm9yeTogJ2ZmZmZmMCcsXG4gIGtoYWtpOiAnZjBlNjhjJyxcbiAgbGF2ZW5kZXI6ICdlNmU2ZmEnLFxuICBsYXZlbmRlcmJsdXNoOiAnZmZmMGY1JyxcbiAgbGF3bmdyZWVuOiAnN2NmYzAwJyxcbiAgbGVtb25jaGlmZm9uOiAnZmZmYWNkJyxcbiAgbGlnaHRibHVlOiAnYWRkOGU2JyxcbiAgbGlnaHRjb3JhbDogJ2YwODA4MCcsXG4gIGxpZ2h0Y3lhbjogJ2UwZmZmZicsXG4gIGxpZ2h0Z29sZGVucm9keWVsbG93OiAnZmFmYWQyJyxcbiAgbGlnaHRncmF5OiAnZDNkM2QzJyxcbiAgbGlnaHRncmVlbjogJzkwZWU5MCcsXG4gIGxpZ2h0Z3JleTogJ2QzZDNkMycsXG4gIGxpZ2h0cGluazogJ2ZmYjZjMScsXG4gIGxpZ2h0c2FsbW9uOiAnZmZhMDdhJyxcbiAgbGlnaHRzZWFncmVlbjogJzIwYjJhYScsXG4gIGxpZ2h0c2t5Ymx1ZTogJzg3Y2VmYScsXG4gIGxpZ2h0c2xhdGVncmF5OiAnNzg5JyxcbiAgbGlnaHRzbGF0ZWdyZXk6ICc3ODknLFxuICBsaWdodHN0ZWVsYmx1ZTogJ2IwYzRkZScsXG4gIGxpZ2h0eWVsbG93OiAnZmZmZmUwJyxcbiAgbGltZTogJzBmMCcsXG4gIGxpbWVncmVlbjogJzMyY2QzMicsXG4gIGxpbmVuOiAnZmFmMGU2JyxcbiAgbWFnZW50YTogJ2YwZicsXG4gIG1hcm9vbjogJzgwMDAwMCcsXG4gIG1lZGl1bWFxdWFtYXJpbmU6ICc2NmNkYWEnLFxuICBtZWRpdW1ibHVlOiAnMDAwMGNkJyxcbiAgbWVkaXVtb3JjaGlkOiAnYmE1NWQzJyxcbiAgbWVkaXVtcHVycGxlOiAnOTM3MGRiJyxcbiAgbWVkaXVtc2VhZ3JlZW46ICczY2IzNzEnLFxuICBtZWRpdW1zbGF0ZWJsdWU6ICc3YjY4ZWUnLFxuICBtZWRpdW1zcHJpbmdncmVlbjogJzAwZmE5YScsXG4gIG1lZGl1bXR1cnF1b2lzZTogJzQ4ZDFjYycsXG4gIG1lZGl1bXZpb2xldHJlZDogJ2M3MTU4NScsXG4gIG1pZG5pZ2h0Ymx1ZTogJzE5MTk3MCcsXG4gIG1pbnRjcmVhbTogJ2Y1ZmZmYScsXG4gIG1pc3R5cm9zZTogJ2ZmZTRlMScsXG4gIG1vY2Nhc2luOiAnZmZlNGI1JyxcbiAgbmF2YWpvd2hpdGU6ICdmZmRlYWQnLFxuICBuYXZ5OiAnMDAwMDgwJyxcbiAgb2xkbGFjZTogJ2ZkZjVlNicsXG4gIG9saXZlOiAnODA4MDAwJyxcbiAgb2xpdmVkcmFiOiAnNmI4ZTIzJyxcbiAgb3JhbmdlOiAnZmZhNTAwJyxcbiAgb3JhbmdlcmVkOiAnZmY0NTAwJyxcbiAgb3JjaGlkOiAnZGE3MGQ2JyxcbiAgcGFsZWdvbGRlbnJvZDogJ2VlZThhYScsXG4gIHBhbGVncmVlbjogJzk4ZmI5OCcsXG4gIHBhbGV0dXJxdW9pc2U6ICdhZmVlZWUnLFxuICBwYWxldmlvbGV0cmVkOiAnZGI3MDkzJyxcbiAgcGFwYXlhd2hpcDogJ2ZmZWZkNScsXG4gIHBlYWNocHVmZjogJ2ZmZGFiOScsXG4gIHBlcnU6ICdjZDg1M2YnLFxuICBwaW5rOiAnZmZjMGNiJyxcbiAgcGx1bTogJ2RkYTBkZCcsXG4gIHBvd2RlcmJsdWU6ICdiMGUwZTYnLFxuICBwdXJwbGU6ICc4MDAwODAnLFxuICByZWJlY2NhcHVycGxlOiAnNjM5JyxcbiAgcmVkOiAnZjAwJyxcbiAgcm9zeWJyb3duOiAnYmM4ZjhmJyxcbiAgcm95YWxibHVlOiAnNDE2OWUxJyxcbiAgc2FkZGxlYnJvd246ICc4YjQ1MTMnLFxuICBzYWxtb246ICdmYTgwNzInLFxuICBzYW5keWJyb3duOiAnZjRhNDYwJyxcbiAgc2VhZ3JlZW46ICcyZThiNTcnLFxuICBzZWFzaGVsbDogJ2ZmZjVlZScsXG4gIHNpZW5uYTogJ2EwNTIyZCcsXG4gIHNpbHZlcjogJ2MwYzBjMCcsXG4gIHNreWJsdWU6ICc4N2NlZWInLFxuICBzbGF0ZWJsdWU6ICc2YTVhY2QnLFxuICBzbGF0ZWdyYXk6ICc3MDgwOTAnLFxuICBzbGF0ZWdyZXk6ICc3MDgwOTAnLFxuICBzbm93OiAnZmZmYWZhJyxcbiAgc3ByaW5nZ3JlZW46ICcwMGZmN2YnLFxuICBzdGVlbGJsdWU6ICc0NjgyYjQnLFxuICB0YW46ICdkMmI0OGMnLFxuICB0ZWFsOiAnMDA4MDgwJyxcbiAgdGhpc3RsZTogJ2Q4YmZkOCcsXG4gIHRvbWF0bzogJ2ZmNjM0NycsXG4gIHR1cnF1b2lzZTogJzQwZTBkMCcsXG4gIHZpb2xldDogJ2VlODJlZScsXG4gIHdoZWF0OiAnZjVkZWIzJyxcbiAgd2hpdGU6ICdmZmYnLFxuICB3aGl0ZXNtb2tlOiAnZjVmNWY1JyxcbiAgeWVsbG93OiAnZmYwJyxcbiAgeWVsbG93Z3JlZW46ICc5YWNkMzInXG59O1xuLyoqXG4gKiBDaGVja3MgaWYgYSBzdHJpbmcgaXMgYSBDU1MgbmFtZWQgY29sb3IgYW5kIHJldHVybnMgaXRzIGVxdWl2YWxlbnQgaGV4IHZhbHVlLCBvdGhlcndpc2UgcmV0dXJucyB0aGUgb3JpZ2luYWwgY29sb3IuXG4gKiBAcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIG5hbWVUb0hleChjb2xvcikge1xuICBpZiAodHlwZW9mIGNvbG9yICE9PSAnc3RyaW5nJykgcmV0dXJuIGNvbG9yO1xuICB2YXIgbm9ybWFsaXplZENvbG9yTmFtZSA9IGNvbG9yLnRvTG93ZXJDYXNlKCk7XG4gIHJldHVybiBuYW1lZENvbG9yTWFwW25vcm1hbGl6ZWRDb2xvck5hbWVdID8gXCIjXCIgKyBuYW1lZENvbG9yTWFwW25vcm1hbGl6ZWRDb2xvck5hbWVdIDogY29sb3I7XG59XG5cbnZhciBoZXhSZWdleCA9IC9eI1thLWZBLUYwLTldezZ9JC87XG52YXIgaGV4UmdiYVJlZ2V4ID0gL14jW2EtZkEtRjAtOV17OH0kLztcbnZhciByZWR1Y2VkSGV4UmVnZXggPSAvXiNbYS1mQS1GMC05XXszfSQvO1xudmFyIHJlZHVjZWRSZ2JhSGV4UmVnZXggPSAvXiNbYS1mQS1GMC05XXs0fSQvO1xudmFyIHJnYlJlZ2V4ID0gL15yZ2JcXChcXHMqKFxcZHsxLDN9KVxccyosXFxzKihcXGR7MSwzfSlcXHMqLFxccyooXFxkezEsM30pXFxzKlxcKSQvaTtcbnZhciByZ2JhUmVnZXggPSAvXnJnYmFcXChcXHMqKFxcZHsxLDN9KVxccyosXFxzKihcXGR7MSwzfSlcXHMqLFxccyooXFxkezEsM30pXFxzKixcXHMqKFstK10/WzAtOV0qWy5dP1swLTldKylcXHMqXFwpJC9pO1xudmFyIGhzbFJlZ2V4ID0gL15oc2xcXChcXHMqKFxcZHswLDN9Wy5dP1swLTldKylcXHMqLFxccyooXFxkezEsM31bLl0/WzAtOV0/KSVcXHMqLFxccyooXFxkezEsM31bLl0/WzAtOV0/KSVcXHMqXFwpJC9pO1xudmFyIGhzbGFSZWdleCA9IC9eaHNsYVxcKFxccyooXFxkezAsM31bLl0/WzAtOV0rKVxccyosXFxzKihcXGR7MSwzfVsuXT9bMC05XT8pJVxccyosXFxzKihcXGR7MSwzfVsuXT9bMC05XT8pJVxccyosXFxzKihbLStdP1swLTldKlsuXT9bMC05XSspXFxzKlxcKSQvaTtcbi8qKlxuICogUmV0dXJucyBhbiBSZ2JDb2xvciBvciBSZ2JhQ29sb3Igb2JqZWN0LiBUaGlzIHV0aWxpdHkgZnVuY3Rpb24gaXMgb25seSB1c2VmdWxcbiAqIGlmIHdhbnQgdG8gZXh0cmFjdCBhIGNvbG9yIGNvbXBvbmVudC4gV2l0aCB0aGUgY29sb3IgdXRpbCBgdG9Db2xvclN0cmluZ2AgeW91XG4gKiBjYW4gY29udmVydCBhIFJnYkNvbG9yIG9yIFJnYmFDb2xvciBvYmplY3QgYmFjayB0byBhIHN0cmluZy5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQXNzaWducyBgeyByZWQ6IDI1NSwgZ3JlZW46IDAsIGJsdWU6IDAgfWAgdG8gY29sb3IxXG4gKiBjb25zdCBjb2xvcjEgPSBwYXJzZVRvUmdiKCdyZ2IoMjU1LCAwLCAwKScpO1xuICogLy8gQXNzaWducyBgeyByZWQ6IDkyLCBncmVlbjogMTAyLCBibHVlOiAxMTIsIGFscGhhOiAwLjc1IH1gIHRvIGNvbG9yMlxuICogY29uc3QgY29sb3IyID0gcGFyc2VUb1JnYignaHNsYSgyMTAsIDEwJSwgNDAlLCAwLjc1KScpO1xuICovXG5cbmZ1bmN0aW9uIHBhcnNlVG9SZ2IoY29sb3IpIHtcbiAgaWYgKHR5cGVvZiBjb2xvciAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgUG9saXNoZWRFcnJvcigzKTtcbiAgfVxuXG4gIHZhciBub3JtYWxpemVkQ29sb3IgPSBuYW1lVG9IZXgoY29sb3IpO1xuXG4gIGlmIChub3JtYWxpemVkQ29sb3IubWF0Y2goaGV4UmVnZXgpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlZDogcGFyc2VJbnQoXCJcIiArIG5vcm1hbGl6ZWRDb2xvclsxXSArIG5vcm1hbGl6ZWRDb2xvclsyXSwgMTYpLFxuICAgICAgZ3JlZW46IHBhcnNlSW50KFwiXCIgKyBub3JtYWxpemVkQ29sb3JbM10gKyBub3JtYWxpemVkQ29sb3JbNF0sIDE2KSxcbiAgICAgIGJsdWU6IHBhcnNlSW50KFwiXCIgKyBub3JtYWxpemVkQ29sb3JbNV0gKyBub3JtYWxpemVkQ29sb3JbNl0sIDE2KVxuICAgIH07XG4gIH1cblxuICBpZiAobm9ybWFsaXplZENvbG9yLm1hdGNoKGhleFJnYmFSZWdleCkpIHtcbiAgICB2YXIgYWxwaGEgPSBwYXJzZUZsb2F0KChwYXJzZUludChcIlwiICsgbm9ybWFsaXplZENvbG9yWzddICsgbm9ybWFsaXplZENvbG9yWzhdLCAxNikgLyAyNTUpLnRvRml4ZWQoMikpO1xuICAgIHJldHVybiB7XG4gICAgICByZWQ6IHBhcnNlSW50KFwiXCIgKyBub3JtYWxpemVkQ29sb3JbMV0gKyBub3JtYWxpemVkQ29sb3JbMl0sIDE2KSxcbiAgICAgIGdyZWVuOiBwYXJzZUludChcIlwiICsgbm9ybWFsaXplZENvbG9yWzNdICsgbm9ybWFsaXplZENvbG9yWzRdLCAxNiksXG4gICAgICBibHVlOiBwYXJzZUludChcIlwiICsgbm9ybWFsaXplZENvbG9yWzVdICsgbm9ybWFsaXplZENvbG9yWzZdLCAxNiksXG4gICAgICBhbHBoYTogYWxwaGFcbiAgICB9O1xuICB9XG5cbiAgaWYgKG5vcm1hbGl6ZWRDb2xvci5tYXRjaChyZWR1Y2VkSGV4UmVnZXgpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlZDogcGFyc2VJbnQoXCJcIiArIG5vcm1hbGl6ZWRDb2xvclsxXSArIG5vcm1hbGl6ZWRDb2xvclsxXSwgMTYpLFxuICAgICAgZ3JlZW46IHBhcnNlSW50KFwiXCIgKyBub3JtYWxpemVkQ29sb3JbMl0gKyBub3JtYWxpemVkQ29sb3JbMl0sIDE2KSxcbiAgICAgIGJsdWU6IHBhcnNlSW50KFwiXCIgKyBub3JtYWxpemVkQ29sb3JbM10gKyBub3JtYWxpemVkQ29sb3JbM10sIDE2KVxuICAgIH07XG4gIH1cblxuICBpZiAobm9ybWFsaXplZENvbG9yLm1hdGNoKHJlZHVjZWRSZ2JhSGV4UmVnZXgpKSB7XG4gICAgdmFyIF9hbHBoYSA9IHBhcnNlRmxvYXQoKHBhcnNlSW50KFwiXCIgKyBub3JtYWxpemVkQ29sb3JbNF0gKyBub3JtYWxpemVkQ29sb3JbNF0sIDE2KSAvIDI1NSkudG9GaXhlZCgyKSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgcmVkOiBwYXJzZUludChcIlwiICsgbm9ybWFsaXplZENvbG9yWzFdICsgbm9ybWFsaXplZENvbG9yWzFdLCAxNiksXG4gICAgICBncmVlbjogcGFyc2VJbnQoXCJcIiArIG5vcm1hbGl6ZWRDb2xvclsyXSArIG5vcm1hbGl6ZWRDb2xvclsyXSwgMTYpLFxuICAgICAgYmx1ZTogcGFyc2VJbnQoXCJcIiArIG5vcm1hbGl6ZWRDb2xvclszXSArIG5vcm1hbGl6ZWRDb2xvclszXSwgMTYpLFxuICAgICAgYWxwaGE6IF9hbHBoYVxuICAgIH07XG4gIH1cblxuICB2YXIgcmdiTWF0Y2hlZCA9IHJnYlJlZ2V4LmV4ZWMobm9ybWFsaXplZENvbG9yKTtcblxuICBpZiAocmdiTWF0Y2hlZCkge1xuICAgIHJldHVybiB7XG4gICAgICByZWQ6IHBhcnNlSW50KFwiXCIgKyByZ2JNYXRjaGVkWzFdLCAxMCksXG4gICAgICBncmVlbjogcGFyc2VJbnQoXCJcIiArIHJnYk1hdGNoZWRbMl0sIDEwKSxcbiAgICAgIGJsdWU6IHBhcnNlSW50KFwiXCIgKyByZ2JNYXRjaGVkWzNdLCAxMClcbiAgICB9O1xuICB9XG5cbiAgdmFyIHJnYmFNYXRjaGVkID0gcmdiYVJlZ2V4LmV4ZWMobm9ybWFsaXplZENvbG9yKTtcblxuICBpZiAocmdiYU1hdGNoZWQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVkOiBwYXJzZUludChcIlwiICsgcmdiYU1hdGNoZWRbMV0sIDEwKSxcbiAgICAgIGdyZWVuOiBwYXJzZUludChcIlwiICsgcmdiYU1hdGNoZWRbMl0sIDEwKSxcbiAgICAgIGJsdWU6IHBhcnNlSW50KFwiXCIgKyByZ2JhTWF0Y2hlZFszXSwgMTApLFxuICAgICAgYWxwaGE6IHBhcnNlRmxvYXQoXCJcIiArIHJnYmFNYXRjaGVkWzRdKVxuICAgIH07XG4gIH1cblxuICB2YXIgaHNsTWF0Y2hlZCA9IGhzbFJlZ2V4LmV4ZWMobm9ybWFsaXplZENvbG9yKTtcblxuICBpZiAoaHNsTWF0Y2hlZCkge1xuICAgIHZhciBodWUgPSBwYXJzZUludChcIlwiICsgaHNsTWF0Y2hlZFsxXSwgMTApO1xuICAgIHZhciBzYXR1cmF0aW9uID0gcGFyc2VJbnQoXCJcIiArIGhzbE1hdGNoZWRbMl0sIDEwKSAvIDEwMDtcbiAgICB2YXIgbGlnaHRuZXNzID0gcGFyc2VJbnQoXCJcIiArIGhzbE1hdGNoZWRbM10sIDEwKSAvIDEwMDtcbiAgICB2YXIgcmdiQ29sb3JTdHJpbmcgPSBcInJnYihcIiArIGhzbFRvUmdiKGh1ZSwgc2F0dXJhdGlvbiwgbGlnaHRuZXNzKSArIFwiKVwiO1xuICAgIHZhciBoc2xSZ2JNYXRjaGVkID0gcmdiUmVnZXguZXhlYyhyZ2JDb2xvclN0cmluZyk7XG5cbiAgICBpZiAoIWhzbFJnYk1hdGNoZWQpIHtcbiAgICAgIHRocm93IG5ldyBQb2xpc2hlZEVycm9yKDQsIG5vcm1hbGl6ZWRDb2xvciwgcmdiQ29sb3JTdHJpbmcpO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICByZWQ6IHBhcnNlSW50KFwiXCIgKyBoc2xSZ2JNYXRjaGVkWzFdLCAxMCksXG4gICAgICBncmVlbjogcGFyc2VJbnQoXCJcIiArIGhzbFJnYk1hdGNoZWRbMl0sIDEwKSxcbiAgICAgIGJsdWU6IHBhcnNlSW50KFwiXCIgKyBoc2xSZ2JNYXRjaGVkWzNdLCAxMClcbiAgICB9O1xuICB9XG5cbiAgdmFyIGhzbGFNYXRjaGVkID0gaHNsYVJlZ2V4LmV4ZWMobm9ybWFsaXplZENvbG9yKTtcblxuICBpZiAoaHNsYU1hdGNoZWQpIHtcbiAgICB2YXIgX2h1ZSA9IHBhcnNlSW50KFwiXCIgKyBoc2xhTWF0Y2hlZFsxXSwgMTApO1xuXG4gICAgdmFyIF9zYXR1cmF0aW9uID0gcGFyc2VJbnQoXCJcIiArIGhzbGFNYXRjaGVkWzJdLCAxMCkgLyAxMDA7XG5cbiAgICB2YXIgX2xpZ2h0bmVzcyA9IHBhcnNlSW50KFwiXCIgKyBoc2xhTWF0Y2hlZFszXSwgMTApIC8gMTAwO1xuXG4gICAgdmFyIF9yZ2JDb2xvclN0cmluZyA9IFwicmdiKFwiICsgaHNsVG9SZ2IoX2h1ZSwgX3NhdHVyYXRpb24sIF9saWdodG5lc3MpICsgXCIpXCI7XG5cbiAgICB2YXIgX2hzbFJnYk1hdGNoZWQgPSByZ2JSZWdleC5leGVjKF9yZ2JDb2xvclN0cmluZyk7XG5cbiAgICBpZiAoIV9oc2xSZ2JNYXRjaGVkKSB7XG4gICAgICB0aHJvdyBuZXcgUG9saXNoZWRFcnJvcig0LCBub3JtYWxpemVkQ29sb3IsIF9yZ2JDb2xvclN0cmluZyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHJlZDogcGFyc2VJbnQoXCJcIiArIF9oc2xSZ2JNYXRjaGVkWzFdLCAxMCksXG4gICAgICBncmVlbjogcGFyc2VJbnQoXCJcIiArIF9oc2xSZ2JNYXRjaGVkWzJdLCAxMCksXG4gICAgICBibHVlOiBwYXJzZUludChcIlwiICsgX2hzbFJnYk1hdGNoZWRbM10sIDEwKSxcbiAgICAgIGFscGhhOiBwYXJzZUZsb2F0KFwiXCIgKyBoc2xhTWF0Y2hlZFs0XSlcbiAgICB9O1xuICB9XG5cbiAgdGhyb3cgbmV3IFBvbGlzaGVkRXJyb3IoNSk7XG59XG5cbmZ1bmN0aW9uIHJnYlRvSHNsKGNvbG9yKSB7XG4gIC8vIG1ha2Ugc3VyZSByZ2IgYXJlIGNvbnRhaW5lZCBpbiBhIHNldCBvZiBbMCwgMjU1XVxuICB2YXIgcmVkID0gY29sb3IucmVkIC8gMjU1O1xuICB2YXIgZ3JlZW4gPSBjb2xvci5ncmVlbiAvIDI1NTtcbiAgdmFyIGJsdWUgPSBjb2xvci5ibHVlIC8gMjU1O1xuICB2YXIgbWF4ID0gTWF0aC5tYXgocmVkLCBncmVlbiwgYmx1ZSk7XG4gIHZhciBtaW4gPSBNYXRoLm1pbihyZWQsIGdyZWVuLCBibHVlKTtcbiAgdmFyIGxpZ2h0bmVzcyA9IChtYXggKyBtaW4pIC8gMjtcblxuICBpZiAobWF4ID09PSBtaW4pIHtcbiAgICAvLyBhY2hyb21hdGljXG4gICAgaWYgKGNvbG9yLmFscGhhICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGh1ZTogMCxcbiAgICAgICAgc2F0dXJhdGlvbjogMCxcbiAgICAgICAgbGlnaHRuZXNzOiBsaWdodG5lc3MsXG4gICAgICAgIGFscGhhOiBjb2xvci5hbHBoYVxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaHVlOiAwLFxuICAgICAgICBzYXR1cmF0aW9uOiAwLFxuICAgICAgICBsaWdodG5lc3M6IGxpZ2h0bmVzc1xuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICB2YXIgaHVlO1xuICB2YXIgZGVsdGEgPSBtYXggLSBtaW47XG4gIHZhciBzYXR1cmF0aW9uID0gbGlnaHRuZXNzID4gMC41ID8gZGVsdGEgLyAoMiAtIG1heCAtIG1pbikgOiBkZWx0YSAvIChtYXggKyBtaW4pO1xuXG4gIHN3aXRjaCAobWF4KSB7XG4gICAgY2FzZSByZWQ6XG4gICAgICBodWUgPSAoZ3JlZW4gLSBibHVlKSAvIGRlbHRhICsgKGdyZWVuIDwgYmx1ZSA/IDYgOiAwKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBncmVlbjpcbiAgICAgIGh1ZSA9IChibHVlIC0gcmVkKSAvIGRlbHRhICsgMjtcbiAgICAgIGJyZWFrO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIC8vIGJsdWUgY2FzZVxuICAgICAgaHVlID0gKHJlZCAtIGdyZWVuKSAvIGRlbHRhICsgNDtcbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgaHVlICo9IDYwO1xuXG4gIGlmIChjb2xvci5hbHBoYSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGh1ZTogaHVlLFxuICAgICAgc2F0dXJhdGlvbjogc2F0dXJhdGlvbixcbiAgICAgIGxpZ2h0bmVzczogbGlnaHRuZXNzLFxuICAgICAgYWxwaGE6IGNvbG9yLmFscGhhXG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgaHVlOiBodWUsXG4gICAgc2F0dXJhdGlvbjogc2F0dXJhdGlvbixcbiAgICBsaWdodG5lc3M6IGxpZ2h0bmVzc1xuICB9O1xufVxuXG5mdW5jdGlvbiBwYXJzZVRvSHNsKGNvbG9yKSB7XG4gIC8vIE5vdGU6IEF0IGEgbGF0ZXIgc3RhZ2Ugd2UgY2FuIG9wdGltaXplIHRoaXMgZnVuY3Rpb24gYXMgcmlnaHQgbm93IGEgaHNsXG4gIC8vIGNvbG9yIHdvdWxkIGJlIHBhcnNlZCBjb252ZXJ0ZWQgdG8gcmdiIHZhbHVlcyBhbmQgY29udmVydGVkIGJhY2sgdG8gaHNsLlxuICByZXR1cm4gcmdiVG9Ic2wocGFyc2VUb1JnYihjb2xvcikpO1xufVxuXG4vKipcbiAqIFJlZHVjZXMgaGV4IHZhbHVlcyBpZiBwb3NzaWJsZSBlLmcuICNmZjg4NjYgdG8gI2Y4NlxuICogQHByaXZhdGVcbiAqL1xudmFyIHJlZHVjZUhleFZhbHVlID0gZnVuY3Rpb24gcmVkdWNlSGV4VmFsdWUodmFsdWUpIHtcbiAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gNyAmJiB2YWx1ZVsxXSA9PT0gdmFsdWVbMl0gJiYgdmFsdWVbM10gPT09IHZhbHVlWzRdICYmIHZhbHVlWzVdID09PSB2YWx1ZVs2XSkge1xuICAgIHJldHVybiBcIiNcIiArIHZhbHVlWzFdICsgdmFsdWVbM10gKyB2YWx1ZVs1XTtcbiAgfVxuXG4gIHJldHVybiB2YWx1ZTtcbn07XG5cbmZ1bmN0aW9uIG51bWJlclRvSGV4KHZhbHVlKSB7XG4gIHZhciBoZXggPSB2YWx1ZS50b1N0cmluZygxNik7XG4gIHJldHVybiBoZXgubGVuZ3RoID09PSAxID8gXCIwXCIgKyBoZXggOiBoZXg7XG59XG5cbmZ1bmN0aW9uIGNvbG9yVG9IZXgoY29sb3IpIHtcbiAgcmV0dXJuIG51bWJlclRvSGV4KE1hdGgucm91bmQoY29sb3IgKiAyNTUpKTtcbn1cblxuZnVuY3Rpb24gY29udmVydFRvSGV4KHJlZCwgZ3JlZW4sIGJsdWUpIHtcbiAgcmV0dXJuIHJlZHVjZUhleFZhbHVlKFwiI1wiICsgY29sb3JUb0hleChyZWQpICsgY29sb3JUb0hleChncmVlbikgKyBjb2xvclRvSGV4KGJsdWUpKTtcbn1cblxuZnVuY3Rpb24gaHNsVG9IZXgoaHVlLCBzYXR1cmF0aW9uLCBsaWdodG5lc3MpIHtcbiAgcmV0dXJuIGhzbFRvUmdiKGh1ZSwgc2F0dXJhdGlvbiwgbGlnaHRuZXNzLCBjb252ZXJ0VG9IZXgpO1xufVxuXG5mdW5jdGlvbiBoc2wodmFsdWUsIHNhdHVyYXRpb24sIGxpZ2h0bmVzcykge1xuICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJiB0eXBlb2Ygc2F0dXJhdGlvbiA9PT0gJ251bWJlcicgJiYgdHlwZW9mIGxpZ2h0bmVzcyA9PT0gJ251bWJlcicpIHtcbiAgICByZXR1cm4gaHNsVG9IZXgodmFsdWUsIHNhdHVyYXRpb24sIGxpZ2h0bmVzcyk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiBzYXR1cmF0aW9uID09PSB1bmRlZmluZWQgJiYgbGlnaHRuZXNzID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gaHNsVG9IZXgodmFsdWUuaHVlLCB2YWx1ZS5zYXR1cmF0aW9uLCB2YWx1ZS5saWdodG5lc3MpO1xuICB9XG5cbiAgdGhyb3cgbmV3IFBvbGlzaGVkRXJyb3IoMSk7XG59XG5cbmZ1bmN0aW9uIGhzbGEodmFsdWUsIHNhdHVyYXRpb24sIGxpZ2h0bmVzcywgYWxwaGEpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgJiYgdHlwZW9mIHNhdHVyYXRpb24gPT09ICdudW1iZXInICYmIHR5cGVvZiBsaWdodG5lc3MgPT09ICdudW1iZXInICYmIHR5cGVvZiBhbHBoYSA9PT0gJ251bWJlcicpIHtcbiAgICByZXR1cm4gYWxwaGEgPj0gMSA/IGhzbFRvSGV4KHZhbHVlLCBzYXR1cmF0aW9uLCBsaWdodG5lc3MpIDogXCJyZ2JhKFwiICsgaHNsVG9SZ2IodmFsdWUsIHNhdHVyYXRpb24sIGxpZ2h0bmVzcykgKyBcIixcIiArIGFscGhhICsgXCIpXCI7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiBzYXR1cmF0aW9uID09PSB1bmRlZmluZWQgJiYgbGlnaHRuZXNzID09PSB1bmRlZmluZWQgJiYgYWxwaGEgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiB2YWx1ZS5hbHBoYSA+PSAxID8gaHNsVG9IZXgodmFsdWUuaHVlLCB2YWx1ZS5zYXR1cmF0aW9uLCB2YWx1ZS5saWdodG5lc3MpIDogXCJyZ2JhKFwiICsgaHNsVG9SZ2IodmFsdWUuaHVlLCB2YWx1ZS5zYXR1cmF0aW9uLCB2YWx1ZS5saWdodG5lc3MpICsgXCIsXCIgKyB2YWx1ZS5hbHBoYSArIFwiKVwiO1xuICB9XG5cbiAgdGhyb3cgbmV3IFBvbGlzaGVkRXJyb3IoMik7XG59XG5cbmZ1bmN0aW9uIHJnYih2YWx1ZSwgZ3JlZW4sIGJsdWUpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgJiYgdHlwZW9mIGdyZWVuID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgYmx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICByZXR1cm4gcmVkdWNlSGV4VmFsdWUoXCIjXCIgKyBudW1iZXJUb0hleCh2YWx1ZSkgKyBudW1iZXJUb0hleChncmVlbikgKyBudW1iZXJUb0hleChibHVlKSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiBncmVlbiA9PT0gdW5kZWZpbmVkICYmIGJsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiByZWR1Y2VIZXhWYWx1ZShcIiNcIiArIG51bWJlclRvSGV4KHZhbHVlLnJlZCkgKyBudW1iZXJUb0hleCh2YWx1ZS5ncmVlbikgKyBudW1iZXJUb0hleCh2YWx1ZS5ibHVlKSk7XG4gIH1cblxuICB0aHJvdyBuZXcgUG9saXNoZWRFcnJvcig2KTtcbn1cblxuZnVuY3Rpb24gcmdiYShmaXJzdFZhbHVlLCBzZWNvbmRWYWx1ZSwgdGhpcmRWYWx1ZSwgZm91cnRoVmFsdWUpIHtcbiAgaWYgKHR5cGVvZiBmaXJzdFZhbHVlID09PSAnc3RyaW5nJyAmJiB0eXBlb2Ygc2Vjb25kVmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgdmFyIHJnYlZhbHVlID0gcGFyc2VUb1JnYihmaXJzdFZhbHVlKTtcbiAgICByZXR1cm4gXCJyZ2JhKFwiICsgcmdiVmFsdWUucmVkICsgXCIsXCIgKyByZ2JWYWx1ZS5ncmVlbiArIFwiLFwiICsgcmdiVmFsdWUuYmx1ZSArIFwiLFwiICsgc2Vjb25kVmFsdWUgKyBcIilcIjtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZmlyc3RWYWx1ZSA9PT0gJ251bWJlcicgJiYgdHlwZW9mIHNlY29uZFZhbHVlID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgdGhpcmRWYWx1ZSA9PT0gJ251bWJlcicgJiYgdHlwZW9mIGZvdXJ0aFZhbHVlID09PSAnbnVtYmVyJykge1xuICAgIHJldHVybiBmb3VydGhWYWx1ZSA+PSAxID8gcmdiKGZpcnN0VmFsdWUsIHNlY29uZFZhbHVlLCB0aGlyZFZhbHVlKSA6IFwicmdiYShcIiArIGZpcnN0VmFsdWUgKyBcIixcIiArIHNlY29uZFZhbHVlICsgXCIsXCIgKyB0aGlyZFZhbHVlICsgXCIsXCIgKyBmb3VydGhWYWx1ZSArIFwiKVwiO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBmaXJzdFZhbHVlID09PSAnb2JqZWN0JyAmJiBzZWNvbmRWYWx1ZSA9PT0gdW5kZWZpbmVkICYmIHRoaXJkVmFsdWUgPT09IHVuZGVmaW5lZCAmJiBmb3VydGhWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIGZpcnN0VmFsdWUuYWxwaGEgPj0gMSA/IHJnYihmaXJzdFZhbHVlLnJlZCwgZmlyc3RWYWx1ZS5ncmVlbiwgZmlyc3RWYWx1ZS5ibHVlKSA6IFwicmdiYShcIiArIGZpcnN0VmFsdWUucmVkICsgXCIsXCIgKyBmaXJzdFZhbHVlLmdyZWVuICsgXCIsXCIgKyBmaXJzdFZhbHVlLmJsdWUgKyBcIixcIiArIGZpcnN0VmFsdWUuYWxwaGEgKyBcIilcIjtcbiAgfVxuXG4gIHRocm93IG5ldyBQb2xpc2hlZEVycm9yKDcpO1xufVxuXG52YXIgaXNSZ2IgPSBmdW5jdGlvbiBpc1JnYihjb2xvcikge1xuICByZXR1cm4gdHlwZW9mIGNvbG9yLnJlZCA9PT0gJ251bWJlcicgJiYgdHlwZW9mIGNvbG9yLmdyZWVuID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgY29sb3IuYmx1ZSA9PT0gJ251bWJlcicgJiYgKHR5cGVvZiBjb2xvci5hbHBoYSAhPT0gJ251bWJlcicgfHwgdHlwZW9mIGNvbG9yLmFscGhhID09PSAndW5kZWZpbmVkJyk7XG59O1xuXG52YXIgaXNSZ2JhID0gZnVuY3Rpb24gaXNSZ2JhKGNvbG9yKSB7XG4gIHJldHVybiB0eXBlb2YgY29sb3IucmVkID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgY29sb3IuZ3JlZW4gPT09ICdudW1iZXInICYmIHR5cGVvZiBjb2xvci5ibHVlID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgY29sb3IuYWxwaGEgPT09ICdudW1iZXInO1xufTtcblxudmFyIGlzSHNsID0gZnVuY3Rpb24gaXNIc2woY29sb3IpIHtcbiAgcmV0dXJuIHR5cGVvZiBjb2xvci5odWUgPT09ICdudW1iZXInICYmIHR5cGVvZiBjb2xvci5zYXR1cmF0aW9uID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgY29sb3IubGlnaHRuZXNzID09PSAnbnVtYmVyJyAmJiAodHlwZW9mIGNvbG9yLmFscGhhICE9PSAnbnVtYmVyJyB8fCB0eXBlb2YgY29sb3IuYWxwaGEgPT09ICd1bmRlZmluZWQnKTtcbn07XG5cbnZhciBpc0hzbGEgPSBmdW5jdGlvbiBpc0hzbGEoY29sb3IpIHtcbiAgcmV0dXJuIHR5cGVvZiBjb2xvci5odWUgPT09ICdudW1iZXInICYmIHR5cGVvZiBjb2xvci5zYXR1cmF0aW9uID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgY29sb3IubGlnaHRuZXNzID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgY29sb3IuYWxwaGEgPT09ICdudW1iZXInO1xufTtcbi8qKlxuICogQ29udmVydHMgYSBSZ2JDb2xvciwgUmdiYUNvbG9yLCBIc2xDb2xvciBvciBIc2xhQ29sb3Igb2JqZWN0IHRvIGEgY29sb3Igc3RyaW5nLlxuICogVGhpcyB1dGlsIGlzIHVzZWZ1bCBpbiBjYXNlIHlvdSBvbmx5IGtub3cgb24gcnVudGltZSB3aGljaCBjb2xvciBvYmplY3QgaXNcbiAqIHVzZWQuIE90aGVyd2lzZSB3ZSByZWNvbW1lbmQgdG8gcmVseSBvbiBgcmdiYCwgYHJnYmFgLCBgaHNsYCBvciBgaHNsYWAuXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFN0eWxlcyBhcyBvYmplY3QgdXNhZ2VcbiAqIGNvbnN0IHN0eWxlcyA9IHtcbiAqICAgYmFja2dyb3VuZDogdG9Db2xvclN0cmluZyh7IHJlZDogMjU1LCBncmVlbjogMjA1LCBibHVlOiAxMDAgfSksXG4gKiAgIGJhY2tncm91bmQ6IHRvQ29sb3JTdHJpbmcoeyByZWQ6IDI1NSwgZ3JlZW46IDIwNSwgYmx1ZTogMTAwLCBhbHBoYTogMC43MiB9KSxcbiAqICAgYmFja2dyb3VuZDogdG9Db2xvclN0cmluZyh7IGh1ZTogMjQwLCBzYXR1cmF0aW9uOiAxLCBsaWdodG5lc3M6IDAuNSB9KSxcbiAqICAgYmFja2dyb3VuZDogdG9Db2xvclN0cmluZyh7IGh1ZTogMzYwLCBzYXR1cmF0aW9uOiAwLjc1LCBsaWdodG5lc3M6IDAuNCwgYWxwaGE6IDAuNzIgfSksXG4gKiB9XG4gKlxuICogLy8gc3R5bGVkLWNvbXBvbmVudHMgdXNhZ2VcbiAqIGNvbnN0IGRpdiA9IHN0eWxlZC5kaXZgXG4gKiAgIGJhY2tncm91bmQ6ICR7dG9Db2xvclN0cmluZyh7IHJlZDogMjU1LCBncmVlbjogMjA1LCBibHVlOiAxMDAgfSl9O1xuICogICBiYWNrZ3JvdW5kOiAke3RvQ29sb3JTdHJpbmcoeyByZWQ6IDI1NSwgZ3JlZW46IDIwNSwgYmx1ZTogMTAwLCBhbHBoYTogMC43MiB9KX07XG4gKiAgIGJhY2tncm91bmQ6ICR7dG9Db2xvclN0cmluZyh7IGh1ZTogMjQwLCBzYXR1cmF0aW9uOiAxLCBsaWdodG5lc3M6IDAuNSB9KX07XG4gKiAgIGJhY2tncm91bmQ6ICR7dG9Db2xvclN0cmluZyh7IGh1ZTogMzYwLCBzYXR1cmF0aW9uOiAwLjc1LCBsaWdodG5lc3M6IDAuNCwgYWxwaGE6IDAuNzIgfSl9O1xuICogYFxuICpcbiAqIC8vIENTUyBpbiBKUyBPdXRwdXRcbiAqIGVsZW1lbnQge1xuICogICBiYWNrZ3JvdW5kOiBcIiNmZmNkNjRcIjtcbiAqICAgYmFja2dyb3VuZDogXCJyZ2JhKDI1NSwyMDUsMTAwLDAuNzIpXCI7XG4gKiAgIGJhY2tncm91bmQ6IFwiIzAwZlwiO1xuICogICBiYWNrZ3JvdW5kOiBcInJnYmEoMTc5LDI1LDI1LDAuNzIpXCI7XG4gKiB9XG4gKi9cblxuXG5mdW5jdGlvbiB0b0NvbG9yU3RyaW5nKGNvbG9yKSB7XG4gIGlmICh0eXBlb2YgY29sb3IgIT09ICdvYmplY3QnKSB0aHJvdyBuZXcgUG9saXNoZWRFcnJvcig4KTtcbiAgaWYgKGlzUmdiYShjb2xvcikpIHJldHVybiByZ2JhKGNvbG9yKTtcbiAgaWYgKGlzUmdiKGNvbG9yKSkgcmV0dXJuIHJnYihjb2xvcik7XG4gIGlmIChpc0hzbGEoY29sb3IpKSByZXR1cm4gaHNsYShjb2xvcik7XG4gIGlmIChpc0hzbChjb2xvcikpIHJldHVybiBoc2woY29sb3IpO1xuICB0aHJvdyBuZXcgUG9saXNoZWRFcnJvcig4KTtcbn1cblxuLy8gVHlwZSBkZWZpbml0aW9ucyB0YWtlbiBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9nY2FudGkvZmxvdy1zdGF0aWMtbGFuZC9ibG9iL21hc3Rlci9zcmMvRnVuLmpzXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlZGVjbGFyZVxuZnVuY3Rpb24gY3VycmllZChmLCBsZW5ndGgsIGFjYykge1xuICByZXR1cm4gZnVuY3Rpb24gZm4oKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1yZXN0LXBhcmFtc1xuICAgIHZhciBjb21iaW5lZCA9IGFjYy5jb25jYXQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSk7XG4gICAgcmV0dXJuIGNvbWJpbmVkLmxlbmd0aCA+PSBsZW5ndGggPyBmLmFwcGx5KHRoaXMsIGNvbWJpbmVkKSA6IGN1cnJpZWQoZiwgbGVuZ3RoLCBjb21iaW5lZCk7XG4gIH07XG59IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZWRlY2xhcmVcblxuXG5mdW5jdGlvbiBjdXJyeShmKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcmVkZWNsYXJlXG4gIHJldHVybiBjdXJyaWVkKGYsIGYubGVuZ3RoLCBbXSk7XG59XG5cbi8qKlxuICogQ2hhbmdlcyB0aGUgaHVlIG9mIHRoZSBjb2xvci4gSHVlIGlzIGEgbnVtYmVyIGJldHdlZW4gMCB0byAzNjAuIFRoZSBmaXJzdFxuICogYXJndW1lbnQgZm9yIGFkanVzdEh1ZSBpcyB0aGUgYW1vdW50IG9mIGRlZ3JlZXMgdGhlIGNvbG9yIGlzIHJvdGF0ZWQgYXJvdW5kXG4gKiB0aGUgY29sb3Igd2hlZWwsIGFsd2F5cyBwcm9kdWNpbmcgYSBwb3NpdGl2ZSBodWUgdmFsdWUuXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFN0eWxlcyBhcyBvYmplY3QgdXNhZ2VcbiAqIGNvbnN0IHN0eWxlcyA9IHtcbiAqICAgYmFja2dyb3VuZDogYWRqdXN0SHVlKDE4MCwgJyM0NDgnKSxcbiAqICAgYmFja2dyb3VuZDogYWRqdXN0SHVlKCcxODAnLCAncmdiYSgxMDEsMTAwLDIwNSwwLjcpJyksXG4gKiB9XG4gKlxuICogLy8gc3R5bGVkLWNvbXBvbmVudHMgdXNhZ2VcbiAqIGNvbnN0IGRpdiA9IHN0eWxlZC5kaXZgXG4gKiAgIGJhY2tncm91bmQ6ICR7YWRqdXN0SHVlKDE4MCwgJyM0NDgnKX07XG4gKiAgIGJhY2tncm91bmQ6ICR7YWRqdXN0SHVlKCcxODAnLCAncmdiYSgxMDEsMTAwLDIwNSwwLjcpJyl9O1xuICogYFxuICpcbiAqIC8vIENTUyBpbiBKUyBPdXRwdXRcbiAqIGVsZW1lbnQge1xuICogICBiYWNrZ3JvdW5kOiBcIiM4ODg4NDRcIjtcbiAqICAgYmFja2dyb3VuZDogXCJyZ2JhKDEzNiwxMzYsNjgsMC43KVwiO1xuICogfVxuICovXG5cbmZ1bmN0aW9uIGFkanVzdEh1ZShkZWdyZWUsIGNvbG9yKSB7XG4gIGlmIChjb2xvciA9PT0gJ3RyYW5zcGFyZW50JykgcmV0dXJuIGNvbG9yO1xuICB2YXIgaHNsQ29sb3IgPSBwYXJzZVRvSHNsKGNvbG9yKTtcbiAgcmV0dXJuIHRvQ29sb3JTdHJpbmcoX2V4dGVuZHMoe30sIGhzbENvbG9yLCB7XG4gICAgaHVlOiBoc2xDb2xvci5odWUgKyBwYXJzZUZsb2F0KGRlZ3JlZSlcbiAgfSkpO1xufSAvLyBwcmV0dGllci1pZ25vcmVcblxuXG52YXIgY3VycmllZEFkanVzdEh1ZSA9XG4vKiNfX1BVUkVfXyovXG5jdXJyeVxuLyogOjo8bnVtYmVyIHwgc3RyaW5nLCBzdHJpbmcsIHN0cmluZz4gKi9cbihhZGp1c3RIdWUpO1xuXG4vKipcbiAqIFJldHVybnMgdGhlIGNvbXBsZW1lbnQgb2YgdGhlIHByb3ZpZGVkIGNvbG9yLiBUaGlzIGlzIGlkZW50aWNhbCB0byBhZGp1c3RIdWUoMTgwLCA8Y29sb3I+KS5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gU3R5bGVzIGFzIG9iamVjdCB1c2FnZVxuICogY29uc3Qgc3R5bGVzID0ge1xuICogICBiYWNrZ3JvdW5kOiBjb21wbGVtZW50KCcjNDQ4JyksXG4gKiAgIGJhY2tncm91bmQ6IGNvbXBsZW1lbnQoJ3JnYmEoMjA0LDIwNSwxMDAsMC43KScpLFxuICogfVxuICpcbiAqIC8vIHN0eWxlZC1jb21wb25lbnRzIHVzYWdlXG4gKiBjb25zdCBkaXYgPSBzdHlsZWQuZGl2YFxuICogICBiYWNrZ3JvdW5kOiAke2NvbXBsZW1lbnQoJyM0NDgnKX07XG4gKiAgIGJhY2tncm91bmQ6ICR7Y29tcGxlbWVudCgncmdiYSgyMDQsMjA1LDEwMCwwLjcpJyl9O1xuICogYFxuICpcbiAqIC8vIENTUyBpbiBKUyBPdXRwdXRcbiAqIGVsZW1lbnQge1xuICogICBiYWNrZ3JvdW5kOiBcIiM4ODRcIjtcbiAqICAgYmFja2dyb3VuZDogXCJyZ2JhKDE1MywxNTMsMTUzLDAuNylcIjtcbiAqIH1cbiAqL1xuXG5mdW5jdGlvbiBjb21wbGVtZW50KGNvbG9yKSB7XG4gIGlmIChjb2xvciA9PT0gJ3RyYW5zcGFyZW50JykgcmV0dXJuIGNvbG9yO1xuICB2YXIgaHNsQ29sb3IgPSBwYXJzZVRvSHNsKGNvbG9yKTtcbiAgcmV0dXJuIHRvQ29sb3JTdHJpbmcoX2V4dGVuZHMoe30sIGhzbENvbG9yLCB7XG4gICAgaHVlOiAoaHNsQ29sb3IuaHVlICsgMTgwKSAlIDM2MFxuICB9KSk7XG59XG5cbmZ1bmN0aW9uIGd1YXJkKGxvd2VyQm91bmRhcnksIHVwcGVyQm91bmRhcnksIHZhbHVlKSB7XG4gIHJldHVybiBNYXRoLm1heChsb3dlckJvdW5kYXJ5LCBNYXRoLm1pbih1cHBlckJvdW5kYXJ5LCB2YWx1ZSkpO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBzdHJpbmcgdmFsdWUgZm9yIHRoZSBkYXJrZW5lZCBjb2xvci5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gU3R5bGVzIGFzIG9iamVjdCB1c2FnZVxuICogY29uc3Qgc3R5bGVzID0ge1xuICogICBiYWNrZ3JvdW5kOiBkYXJrZW4oMC4yLCAnI0ZGQ0Q2NCcpLFxuICogICBiYWNrZ3JvdW5kOiBkYXJrZW4oJzAuMicsICdyZ2JhKDI1NSwyMDUsMTAwLDAuNyknKSxcbiAqIH1cbiAqXG4gKiAvLyBzdHlsZWQtY29tcG9uZW50cyB1c2FnZVxuICogY29uc3QgZGl2ID0gc3R5bGVkLmRpdmBcbiAqICAgYmFja2dyb3VuZDogJHtkYXJrZW4oMC4yLCAnI0ZGQ0Q2NCcpfTtcbiAqICAgYmFja2dyb3VuZDogJHtkYXJrZW4oJzAuMicsICdyZ2JhKDI1NSwyMDUsMTAwLDAuNyknKX07XG4gKiBgXG4gKlxuICogLy8gQ1NTIGluIEpTIE91dHB1dFxuICpcbiAqIGVsZW1lbnQge1xuICogICBiYWNrZ3JvdW5kOiBcIiNmZmJkMzFcIjtcbiAqICAgYmFja2dyb3VuZDogXCJyZ2JhKDI1NSwxODksNDksMC43KVwiO1xuICogfVxuICovXG5cbmZ1bmN0aW9uIGRhcmtlbihhbW91bnQsIGNvbG9yKSB7XG4gIGlmIChjb2xvciA9PT0gJ3RyYW5zcGFyZW50JykgcmV0dXJuIGNvbG9yO1xuICB2YXIgaHNsQ29sb3IgPSBwYXJzZVRvSHNsKGNvbG9yKTtcbiAgcmV0dXJuIHRvQ29sb3JTdHJpbmcoX2V4dGVuZHMoe30sIGhzbENvbG9yLCB7XG4gICAgbGlnaHRuZXNzOiBndWFyZCgwLCAxLCBoc2xDb2xvci5saWdodG5lc3MgLSBwYXJzZUZsb2F0KGFtb3VudCkpXG4gIH0pKTtcbn0gLy8gcHJldHRpZXItaWdub3JlXG5cblxudmFyIGN1cnJpZWREYXJrZW4gPVxuLyojX19QVVJFX18qL1xuY3Vycnlcbi8qIDo6PG51bWJlciB8IHN0cmluZywgc3RyaW5nLCBzdHJpbmc+ICovXG4oZGFya2VuKTtcblxuLyoqXG4gKiBEZWNyZWFzZXMgdGhlIGludGVuc2l0eSBvZiBhIGNvbG9yLiBJdHMgcmFuZ2UgaXMgYmV0d2VlbiAwIHRvIDEuIFRoZSBmaXJzdFxuICogYXJndW1lbnQgb2YgdGhlIGRlc2F0dXJhdGUgZnVuY3Rpb24gaXMgdGhlIGFtb3VudCBieSBob3cgbXVjaCB0aGUgY29sb3JcbiAqIGludGVuc2l0eSBzaG91bGQgYmUgZGVjcmVhc2VkLlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBTdHlsZXMgYXMgb2JqZWN0IHVzYWdlXG4gKiBjb25zdCBzdHlsZXMgPSB7XG4gKiAgIGJhY2tncm91bmQ6IGRlc2F0dXJhdGUoMC4yLCAnI0NDQ0Q2NCcpLFxuICogICBiYWNrZ3JvdW5kOiBkZXNhdHVyYXRlKCcwLjInLCAncmdiYSgyMDQsMjA1LDEwMCwwLjcpJyksXG4gKiB9XG4gKlxuICogLy8gc3R5bGVkLWNvbXBvbmVudHMgdXNhZ2VcbiAqIGNvbnN0IGRpdiA9IHN0eWxlZC5kaXZgXG4gKiAgIGJhY2tncm91bmQ6ICR7ZGVzYXR1cmF0ZSgwLjIsICcjQ0NDRDY0Jyl9O1xuICogICBiYWNrZ3JvdW5kOiAke2Rlc2F0dXJhdGUoJzAuMicsICdyZ2JhKDIwNCwyMDUsMTAwLDAuNyknKX07XG4gKiBgXG4gKlxuICogLy8gQ1NTIGluIEpTIE91dHB1dFxuICogZWxlbWVudCB7XG4gKiAgIGJhY2tncm91bmQ6IFwiI2I4Yjk3OVwiO1xuICogICBiYWNrZ3JvdW5kOiBcInJnYmEoMTg0LDE4NSwxMjEsMC43KVwiO1xuICogfVxuICovXG5cbmZ1bmN0aW9uIGRlc2F0dXJhdGUoYW1vdW50LCBjb2xvcikge1xuICBpZiAoY29sb3IgPT09ICd0cmFuc3BhcmVudCcpIHJldHVybiBjb2xvcjtcbiAgdmFyIGhzbENvbG9yID0gcGFyc2VUb0hzbChjb2xvcik7XG4gIHJldHVybiB0b0NvbG9yU3RyaW5nKF9leHRlbmRzKHt9LCBoc2xDb2xvciwge1xuICAgIHNhdHVyYXRpb246IGd1YXJkKDAsIDEsIGhzbENvbG9yLnNhdHVyYXRpb24gLSBwYXJzZUZsb2F0KGFtb3VudCkpXG4gIH0pKTtcbn0gLy8gcHJldHRpZXItaWdub3JlXG5cblxudmFyIGN1cnJpZWREZXNhdHVyYXRlID1cbi8qI19fUFVSRV9fKi9cbmN1cnJ5XG4vKiA6OjxudW1iZXIgfCBzdHJpbmcsIHN0cmluZywgc3RyaW5nPiAqL1xuKGRlc2F0dXJhdGUpO1xuXG4vKipcbiAqIFJldHVybnMgYSBudW1iZXIgKGZsb2F0KSByZXByZXNlbnRpbmcgdGhlIGx1bWluYW5jZSBvZiBhIGNvbG9yLlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBTdHlsZXMgYXMgb2JqZWN0IHVzYWdlXG4gKiBjb25zdCBzdHlsZXMgPSB7XG4gKiAgIGJhY2tncm91bmQ6IGdldEx1bWluYW5jZSgnI0NDQ0Q2NCcpID49IGdldEx1bWluYW5jZSgnIzAwMDBmZicpID8gJyNDQ0NENjQnIDogJyMwMDAwZmYnLFxuICogICBiYWNrZ3JvdW5kOiBnZXRMdW1pbmFuY2UoJ3JnYmEoNTgsIDEzMywgMjU1LCAxKScpID49IGdldEx1bWluYW5jZSgncmdiYSgyNTUsIDU3LCAxNDksIDEpJykgP1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICdyZ2JhKDU4LCAxMzMsIDI1NSwgMSknIDpcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAncmdiYSgyNTUsIDU3LCAxNDksIDEpJyxcbiAqIH1cbiAqXG4gKiAvLyBzdHlsZWQtY29tcG9uZW50cyB1c2FnZVxuICogY29uc3QgZGl2ID0gc3R5bGVkLmRpdmBcbiAqICAgYmFja2dyb3VuZDogJHtnZXRMdW1pbmFuY2UoJyNDQ0NENjQnKSA+PSBnZXRMdW1pbmFuY2UoJyMwMDAwZmYnKSA/ICcjQ0NDRDY0JyA6ICcjMDAwMGZmJ307XG4gKiAgIGJhY2tncm91bmQ6ICR7Z2V0THVtaW5hbmNlKCdyZ2JhKDU4LCAxMzMsIDI1NSwgMSknKSA+PSBnZXRMdW1pbmFuY2UoJ3JnYmEoMjU1LCA1NywgMTQ5LCAxKScpID9cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAncmdiYSg1OCwgMTMzLCAyNTUsIDEpJyA6XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3JnYmEoMjU1LCA1NywgMTQ5LCAxKSd9O1xuICpcbiAqIC8vIENTUyBpbiBKUyBPdXRwdXRcbiAqXG4gKiBkaXYge1xuICogICBiYWNrZ3JvdW5kOiBcIiNDQ0NENjRcIjtcbiAqICAgYmFja2dyb3VuZDogXCJyZ2JhKDU4LCAxMzMsIDI1NSwgMSlcIjtcbiAqIH1cbiAqL1xuXG5mdW5jdGlvbiBnZXRMdW1pbmFuY2UoY29sb3IpIHtcbiAgaWYgKGNvbG9yID09PSAndHJhbnNwYXJlbnQnKSByZXR1cm4gMDtcbiAgdmFyIHJnYkNvbG9yID0gcGFyc2VUb1JnYihjb2xvcik7XG5cbiAgdmFyIF9PYmplY3Qka2V5cyRtYXAgPSBPYmplY3Qua2V5cyhyZ2JDb2xvcikubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIgY2hhbm5lbCA9IHJnYkNvbG9yW2tleV0gLyAyNTU7XG4gICAgcmV0dXJuIGNoYW5uZWwgPD0gMC4wMzkyOCA/IGNoYW5uZWwgLyAxMi45MiA6IE1hdGgucG93KChjaGFubmVsICsgMC4wNTUpIC8gMS4wNTUsIDIuNCk7XG4gIH0pLFxuICAgICAgciA9IF9PYmplY3Qka2V5cyRtYXBbMF0sXG4gICAgICBnID0gX09iamVjdCRrZXlzJG1hcFsxXSxcbiAgICAgIGIgPSBfT2JqZWN0JGtleXMkbWFwWzJdO1xuXG4gIHJldHVybiBwYXJzZUZsb2F0KCgwLjIxMjYgKiByICsgMC43MTUyICogZyArIDAuMDcyMiAqIGIpLnRvRml4ZWQoMykpO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIGNvbnRyYXN0IHJhdGlvIGJldHdlZW4gdHdvIGNvbG9ycyBiYXNlZCBvblxuICogW1czJ3MgcmVjb21tZW5kZWQgZXF1YXRpb24gZm9yIGNhbGN1bGF0aW5nIGNvbnRyYXN0XShodHRwOi8vd3d3LnczLm9yZy9UUi9XQ0FHMjAvI2NvbnRyYXN0LXJhdGlvZGVmKS5cbiAqXG4gKiBAZXhhbXBsZVxuICogY29uc3QgY29udHJhc3RSYXRpbyA9IGdldENvbnRyYXN0KCcjNDQ0JywgJyNmZmYnKTtcbiAqL1xuXG5mdW5jdGlvbiBnZXRDb250cmFzdChjb2xvcjEsIGNvbG9yMikge1xuICB2YXIgbHVtaW5hbmNlMSA9IGdldEx1bWluYW5jZShjb2xvcjEpO1xuICB2YXIgbHVtaW5hbmNlMiA9IGdldEx1bWluYW5jZShjb2xvcjIpO1xuICByZXR1cm4gcGFyc2VGbG9hdCgobHVtaW5hbmNlMSA+IGx1bWluYW5jZTIgPyAobHVtaW5hbmNlMSArIDAuMDUpIC8gKGx1bWluYW5jZTIgKyAwLjA1KSA6IChsdW1pbmFuY2UyICsgMC4wNSkgLyAobHVtaW5hbmNlMSArIDAuMDUpKS50b0ZpeGVkKDIpKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyB0aGUgY29sb3IgdG8gYSBncmF5c2NhbGUsIGJ5IHJlZHVjaW5nIGl0cyBzYXR1cmF0aW9uIHRvIDAuXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFN0eWxlcyBhcyBvYmplY3QgdXNhZ2VcbiAqIGNvbnN0IHN0eWxlcyA9IHtcbiAqICAgYmFja2dyb3VuZDogZ3JheXNjYWxlKCcjQ0NDRDY0JyksXG4gKiAgIGJhY2tncm91bmQ6IGdyYXlzY2FsZSgncmdiYSgyMDQsMjA1LDEwMCwwLjcpJyksXG4gKiB9XG4gKlxuICogLy8gc3R5bGVkLWNvbXBvbmVudHMgdXNhZ2VcbiAqIGNvbnN0IGRpdiA9IHN0eWxlZC5kaXZgXG4gKiAgIGJhY2tncm91bmQ6ICR7Z3JheXNjYWxlKCcjQ0NDRDY0Jyl9O1xuICogICBiYWNrZ3JvdW5kOiAke2dyYXlzY2FsZSgncmdiYSgyMDQsMjA1LDEwMCwwLjcpJyl9O1xuICogYFxuICpcbiAqIC8vIENTUyBpbiBKUyBPdXRwdXRcbiAqIGVsZW1lbnQge1xuICogICBiYWNrZ3JvdW5kOiBcIiM5OTlcIjtcbiAqICAgYmFja2dyb3VuZDogXCJyZ2JhKDE1MywxNTMsMTUzLDAuNylcIjtcbiAqIH1cbiAqL1xuXG5mdW5jdGlvbiBncmF5c2NhbGUoY29sb3IpIHtcbiAgaWYgKGNvbG9yID09PSAndHJhbnNwYXJlbnQnKSByZXR1cm4gY29sb3I7XG4gIHJldHVybiB0b0NvbG9yU3RyaW5nKF9leHRlbmRzKHt9LCBwYXJzZVRvSHNsKGNvbG9yKSwge1xuICAgIHNhdHVyYXRpb246IDBcbiAgfSkpO1xufVxuXG5mdW5jdGlvbiBoc2xUb0NvbG9yU3RyaW5nKGNvbG9yKSB7XG4gIGlmICh0eXBlb2YgY29sb3IgPT09ICdvYmplY3QnICYmIHR5cGVvZiBjb2xvci5odWUgPT09ICdudW1iZXInICYmIHR5cGVvZiBjb2xvci5zYXR1cmF0aW9uID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgY29sb3IubGlnaHRuZXNzID09PSAnbnVtYmVyJykge1xuICAgIGlmIChjb2xvci5hbHBoYSAmJiB0eXBlb2YgY29sb3IuYWxwaGEgPT09ICdudW1iZXInKSB7XG4gICAgICByZXR1cm4gaHNsYSh7XG4gICAgICAgIGh1ZTogY29sb3IuaHVlLFxuICAgICAgICBzYXR1cmF0aW9uOiBjb2xvci5zYXR1cmF0aW9uLFxuICAgICAgICBsaWdodG5lc3M6IGNvbG9yLmxpZ2h0bmVzcyxcbiAgICAgICAgYWxwaGE6IGNvbG9yLmFscGhhXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gaHNsKHtcbiAgICAgIGh1ZTogY29sb3IuaHVlLFxuICAgICAgc2F0dXJhdGlvbjogY29sb3Iuc2F0dXJhdGlvbixcbiAgICAgIGxpZ2h0bmVzczogY29sb3IubGlnaHRuZXNzXG4gICAgfSk7XG4gIH1cblxuICB0aHJvdyBuZXcgUG9saXNoZWRFcnJvcig0NSk7XG59XG5cbi8qKlxuICogSW52ZXJ0cyB0aGUgcmVkLCBncmVlbiBhbmQgYmx1ZSB2YWx1ZXMgb2YgYSBjb2xvci5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gU3R5bGVzIGFzIG9iamVjdCB1c2FnZVxuICogY29uc3Qgc3R5bGVzID0ge1xuICogICBiYWNrZ3JvdW5kOiBpbnZlcnQoJyNDQ0NENjQnKSxcbiAqICAgYmFja2dyb3VuZDogaW52ZXJ0KCdyZ2JhKDEwMSwxMDAsMjA1LDAuNyknKSxcbiAqIH1cbiAqXG4gKiAvLyBzdHlsZWQtY29tcG9uZW50cyB1c2FnZVxuICogY29uc3QgZGl2ID0gc3R5bGVkLmRpdmBcbiAqICAgYmFja2dyb3VuZDogJHtpbnZlcnQoJyNDQ0NENjQnKX07XG4gKiAgIGJhY2tncm91bmQ6ICR7aW52ZXJ0KCdyZ2JhKDEwMSwxMDAsMjA1LDAuNyknKX07XG4gKiBgXG4gKlxuICogLy8gQ1NTIGluIEpTIE91dHB1dFxuICpcbiAqIGVsZW1lbnQge1xuICogICBiYWNrZ3JvdW5kOiBcIiMzMzMyOWJcIjtcbiAqICAgYmFja2dyb3VuZDogXCJyZ2JhKDE1NCwxNTUsNTAsMC43KVwiO1xuICogfVxuICovXG5cbmZ1bmN0aW9uIGludmVydChjb2xvcikge1xuICBpZiAoY29sb3IgPT09ICd0cmFuc3BhcmVudCcpIHJldHVybiBjb2xvcjsgLy8gcGFyc2UgY29sb3Igc3RyaW5nIHRvIHJnYlxuXG4gIHZhciB2YWx1ZSA9IHBhcnNlVG9SZ2IoY29sb3IpO1xuICByZXR1cm4gdG9Db2xvclN0cmluZyhfZXh0ZW5kcyh7fSwgdmFsdWUsIHtcbiAgICByZWQ6IDI1NSAtIHZhbHVlLnJlZCxcbiAgICBncmVlbjogMjU1IC0gdmFsdWUuZ3JlZW4sXG4gICAgYmx1ZTogMjU1IC0gdmFsdWUuYmx1ZVxuICB9KSk7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIHN0cmluZyB2YWx1ZSBmb3IgdGhlIGxpZ2h0ZW5lZCBjb2xvci5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gU3R5bGVzIGFzIG9iamVjdCB1c2FnZVxuICogY29uc3Qgc3R5bGVzID0ge1xuICogICBiYWNrZ3JvdW5kOiBsaWdodGVuKDAuMiwgJyNDQ0NENjQnKSxcbiAqICAgYmFja2dyb3VuZDogbGlnaHRlbignMC4yJywgJ3JnYmEoMjA0LDIwNSwxMDAsMC43KScpLFxuICogfVxuICpcbiAqIC8vIHN0eWxlZC1jb21wb25lbnRzIHVzYWdlXG4gKiBjb25zdCBkaXYgPSBzdHlsZWQuZGl2YFxuICogICBiYWNrZ3JvdW5kOiAke2xpZ2h0ZW4oMC4yLCAnI0ZGQ0Q2NCcpfTtcbiAqICAgYmFja2dyb3VuZDogJHtsaWdodGVuKCcwLjInLCAncmdiYSgyMDQsMjA1LDEwMCwwLjcpJyl9O1xuICogYFxuICpcbiAqIC8vIENTUyBpbiBKUyBPdXRwdXRcbiAqXG4gKiBlbGVtZW50IHtcbiAqICAgYmFja2dyb3VuZDogXCIjZTVlNmIxXCI7XG4gKiAgIGJhY2tncm91bmQ6IFwicmdiYSgyMjksMjMwLDE3NywwLjcpXCI7XG4gKiB9XG4gKi9cblxuZnVuY3Rpb24gbGlnaHRlbihhbW91bnQsIGNvbG9yKSB7XG4gIGlmIChjb2xvciA9PT0gJ3RyYW5zcGFyZW50JykgcmV0dXJuIGNvbG9yO1xuICB2YXIgaHNsQ29sb3IgPSBwYXJzZVRvSHNsKGNvbG9yKTtcbiAgcmV0dXJuIHRvQ29sb3JTdHJpbmcoX2V4dGVuZHMoe30sIGhzbENvbG9yLCB7XG4gICAgbGlnaHRuZXNzOiBndWFyZCgwLCAxLCBoc2xDb2xvci5saWdodG5lc3MgKyBwYXJzZUZsb2F0KGFtb3VudCkpXG4gIH0pKTtcbn0gLy8gcHJldHRpZXItaWdub3JlXG5cblxudmFyIGN1cnJpZWRMaWdodGVuID1cbi8qI19fUFVSRV9fKi9cbmN1cnJ5XG4vKiA6OjxudW1iZXIgfCBzdHJpbmcsIHN0cmluZywgc3RyaW5nPiAqL1xuKGxpZ2h0ZW4pO1xuXG5mdW5jdGlvbiBtZWV0c0NvbnRyYXN0R3VpZGVsaW5lcyhjb2xvcjEsIGNvbG9yMikge1xuICB2YXIgY29udHJhc3RSYXRpbyA9IGdldENvbnRyYXN0KGNvbG9yMSwgY29sb3IyKTtcbiAgcmV0dXJuIHtcbiAgICBBQTogY29udHJhc3RSYXRpbyA+PSA0LjUsXG4gICAgQUFMYXJnZTogY29udHJhc3RSYXRpbyA+PSAzLFxuICAgIEFBQTogY29udHJhc3RSYXRpbyA+PSA3LFxuICAgIEFBQUxhcmdlOiBjb250cmFzdFJhdGlvID49IDQuNVxuICB9O1xufVxuXG4vKipcbiAqIE1peGVzIHRoZSB0d28gcHJvdmlkZWQgY29sb3JzIHRvZ2V0aGVyIGJ5IGNhbGN1bGF0aW5nIHRoZSBhdmVyYWdlIG9mIGVhY2ggb2YgdGhlIFJHQiBjb21wb25lbnRzIHdlaWdodGVkIHRvIHRoZSBmaXJzdCBjb2xvciBieSB0aGUgcHJvdmlkZWQgd2VpZ2h0LlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBTdHlsZXMgYXMgb2JqZWN0IHVzYWdlXG4gKiBjb25zdCBzdHlsZXMgPSB7XG4gKiAgIGJhY2tncm91bmQ6IG1peCgwLjUsICcjZjAwJywgJyMwMGYnKVxuICogICBiYWNrZ3JvdW5kOiBtaXgoMC4yNSwgJyNmMDAnLCAnIzAwZicpXG4gKiAgIGJhY2tncm91bmQ6IG1peCgnMC41JywgJ3JnYmEoMjU1LCAwLCAwLCAwLjUpJywgJyMwMGYnKVxuICogfVxuICpcbiAqIC8vIHN0eWxlZC1jb21wb25lbnRzIHVzYWdlXG4gKiBjb25zdCBkaXYgPSBzdHlsZWQuZGl2YFxuICogICBiYWNrZ3JvdW5kOiAke21peCgwLjUsICcjZjAwJywgJyMwMGYnKX07XG4gKiAgIGJhY2tncm91bmQ6ICR7bWl4KDAuMjUsICcjZjAwJywgJyMwMGYnKX07XG4gKiAgIGJhY2tncm91bmQ6ICR7bWl4KCcwLjUnLCAncmdiYSgyNTUsIDAsIDAsIDAuNSknLCAnIzAwZicpfTtcbiAqIGBcbiAqXG4gKiAvLyBDU1MgaW4gSlMgT3V0cHV0XG4gKlxuICogZWxlbWVudCB7XG4gKiAgIGJhY2tncm91bmQ6IFwiIzdmMDA3ZlwiO1xuICogICBiYWNrZ3JvdW5kOiBcIiMzZjAwYmZcIjtcbiAqICAgYmFja2dyb3VuZDogXCJyZ2JhKDYzLCAwLCAxOTEsIDAuNzUpXCI7XG4gKiB9XG4gKi9cblxuZnVuY3Rpb24gbWl4KHdlaWdodCwgY29sb3IsIG90aGVyQ29sb3IpIHtcbiAgaWYgKGNvbG9yID09PSAndHJhbnNwYXJlbnQnKSByZXR1cm4gb3RoZXJDb2xvcjtcbiAgaWYgKG90aGVyQ29sb3IgPT09ICd0cmFuc3BhcmVudCcpIHJldHVybiBjb2xvcjtcbiAgdmFyIHBhcnNlZENvbG9yMSA9IHBhcnNlVG9SZ2IoY29sb3IpO1xuXG4gIHZhciBjb2xvcjEgPSBfZXh0ZW5kcyh7fSwgcGFyc2VkQ29sb3IxLCB7XG4gICAgYWxwaGE6IHR5cGVvZiBwYXJzZWRDb2xvcjEuYWxwaGEgPT09ICdudW1iZXInID8gcGFyc2VkQ29sb3IxLmFscGhhIDogMVxuICB9KTtcblxuICB2YXIgcGFyc2VkQ29sb3IyID0gcGFyc2VUb1JnYihvdGhlckNvbG9yKTtcblxuICB2YXIgY29sb3IyID0gX2V4dGVuZHMoe30sIHBhcnNlZENvbG9yMiwge1xuICAgIGFscGhhOiB0eXBlb2YgcGFyc2VkQ29sb3IyLmFscGhhID09PSAnbnVtYmVyJyA/IHBhcnNlZENvbG9yMi5hbHBoYSA6IDFcbiAgfSk7IC8vIFRoZSBmb3JtdWxhciBpcyBjb3BpZWQgZnJvbSB0aGUgb3JpZ2luYWwgU2FzcyBpbXBsZW1lbnRhdGlvbjpcbiAgLy8gaHR0cDovL3Nhc3MtbGFuZy5jb20vZG9jdW1lbnRhdGlvbi9TYXNzL1NjcmlwdC9GdW5jdGlvbnMuaHRtbCNtaXgtaW5zdGFuY2VfbWV0aG9kXG5cblxuICB2YXIgYWxwaGFEZWx0YSA9IGNvbG9yMS5hbHBoYSAtIGNvbG9yMi5hbHBoYTtcbiAgdmFyIHggPSBwYXJzZUZsb2F0KHdlaWdodCkgKiAyIC0gMTtcbiAgdmFyIHkgPSB4ICogYWxwaGFEZWx0YSA9PT0gLTEgPyB4IDogeCArIGFscGhhRGVsdGE7XG4gIHZhciB6ID0gMSArIHggKiBhbHBoYURlbHRhO1xuICB2YXIgd2VpZ2h0MSA9ICh5IC8geiArIDEpIC8gMi4wO1xuICB2YXIgd2VpZ2h0MiA9IDEgLSB3ZWlnaHQxO1xuICB2YXIgbWl4ZWRDb2xvciA9IHtcbiAgICByZWQ6IE1hdGguZmxvb3IoY29sb3IxLnJlZCAqIHdlaWdodDEgKyBjb2xvcjIucmVkICogd2VpZ2h0MiksXG4gICAgZ3JlZW46IE1hdGguZmxvb3IoY29sb3IxLmdyZWVuICogd2VpZ2h0MSArIGNvbG9yMi5ncmVlbiAqIHdlaWdodDIpLFxuICAgIGJsdWU6IE1hdGguZmxvb3IoY29sb3IxLmJsdWUgKiB3ZWlnaHQxICsgY29sb3IyLmJsdWUgKiB3ZWlnaHQyKSxcbiAgICBhbHBoYTogY29sb3IxLmFscGhhICsgKGNvbG9yMi5hbHBoYSAtIGNvbG9yMS5hbHBoYSkgKiAocGFyc2VGbG9hdCh3ZWlnaHQpIC8gMS4wKVxuICB9O1xuICByZXR1cm4gcmdiYShtaXhlZENvbG9yKTtcbn0gLy8gcHJldHRpZXItaWdub3JlXG5cblxudmFyIGN1cnJpZWRNaXggPVxuLyojX19QVVJFX18qL1xuY3Vycnlcbi8qIDo6PG51bWJlciB8IHN0cmluZywgc3RyaW5nLCBzdHJpbmcsIHN0cmluZz4gKi9cbihtaXgpO1xuXG4vKipcbiAqIEluY3JlYXNlcyB0aGUgb3BhY2l0eSBvZiBhIGNvbG9yLiBJdHMgcmFuZ2UgZm9yIHRoZSBhbW91bnQgaXMgYmV0d2VlbiAwIHRvIDEuXG4gKlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBTdHlsZXMgYXMgb2JqZWN0IHVzYWdlXG4gKiBjb25zdCBzdHlsZXMgPSB7XG4gKiAgIGJhY2tncm91bmQ6IG9wYWNpZnkoMC4xLCAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjkpJyk7XG4gKiAgIGJhY2tncm91bmQ6IG9wYWNpZnkoMC4yLCAnaHNsYSgwLCAwJSwgMTAwJSwgMC41KScpLFxuICogICBiYWNrZ3JvdW5kOiBvcGFjaWZ5KCcwLjUnLCAncmdiYSgyNTUsIDAsIDAsIDAuMiknKSxcbiAqIH1cbiAqXG4gKiAvLyBzdHlsZWQtY29tcG9uZW50cyB1c2FnZVxuICogY29uc3QgZGl2ID0gc3R5bGVkLmRpdmBcbiAqICAgYmFja2dyb3VuZDogJHtvcGFjaWZ5KDAuMSwgJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC45KScpfTtcbiAqICAgYmFja2dyb3VuZDogJHtvcGFjaWZ5KDAuMiwgJ2hzbGEoMCwgMCUsIDEwMCUsIDAuNSknKX0sXG4gKiAgIGJhY2tncm91bmQ6ICR7b3BhY2lmeSgnMC41JywgJ3JnYmEoMjU1LCAwLCAwLCAwLjIpJyl9LFxuICogYFxuICpcbiAqIC8vIENTUyBpbiBKUyBPdXRwdXRcbiAqXG4gKiBlbGVtZW50IHtcbiAqICAgYmFja2dyb3VuZDogXCIjZmZmXCI7XG4gKiAgIGJhY2tncm91bmQ6IFwicmdiYSgyNTUsMjU1LDI1NSwwLjcpXCI7XG4gKiAgIGJhY2tncm91bmQ6IFwicmdiYSgyNTUsMCwwLDAuNylcIjtcbiAqIH1cbiAqL1xuXG5mdW5jdGlvbiBvcGFjaWZ5KGFtb3VudCwgY29sb3IpIHtcbiAgaWYgKGNvbG9yID09PSAndHJhbnNwYXJlbnQnKSByZXR1cm4gY29sb3I7XG4gIHZhciBwYXJzZWRDb2xvciA9IHBhcnNlVG9SZ2IoY29sb3IpO1xuICB2YXIgYWxwaGEgPSB0eXBlb2YgcGFyc2VkQ29sb3IuYWxwaGEgPT09ICdudW1iZXInID8gcGFyc2VkQ29sb3IuYWxwaGEgOiAxO1xuXG4gIHZhciBjb2xvcldpdGhBbHBoYSA9IF9leHRlbmRzKHt9LCBwYXJzZWRDb2xvciwge1xuICAgIGFscGhhOiBndWFyZCgwLCAxLCAoYWxwaGEgKiAxMDAgKyBwYXJzZUZsb2F0KGFtb3VudCkgKiAxMDApIC8gMTAwKVxuICB9KTtcblxuICByZXR1cm4gcmdiYShjb2xvcldpdGhBbHBoYSk7XG59IC8vIHByZXR0aWVyLWlnbm9yZVxuXG5cbnZhciBjdXJyaWVkT3BhY2lmeSA9XG4vKiNfX1BVUkVfXyovXG5jdXJyeVxuLyogOjo8bnVtYmVyIHwgc3RyaW5nLCBzdHJpbmcsIHN0cmluZz4gKi9cbihvcGFjaWZ5KTtcblxuLyoqXG4gKiBSZXR1cm5zIGJsYWNrIG9yIHdoaXRlIChvciBvcHRpb25hbCBsaWdodCBhbmQgZGFyayByZXR1cm4gY29sb3JzKSBmb3IgYmVzdCBjb250cmFzdCBkZXBlbmRpbmcgb24gdGhlIGx1bWlub3NpdHkgb2YgdGhlIGdpdmVuIGNvbG9yLlxuICogRm9sbG93cyBbVzNDIHNwZWNzIGZvciByZWFkYWJpbGl0eV0oaHR0cHM6Ly93d3cudzMub3JnL1RSL1dDQUcyMC1URUNIUy9HMTguaHRtbCkuXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFN0eWxlcyBhcyBvYmplY3QgdXNhZ2VcbiAqIGNvbnN0IHN0eWxlcyA9IHtcbiAqICAgY29sb3I6IHJlYWRhYmxlQ29sb3IoJyMwMDAnKSxcbiAqICAgY29sb3I6IHJlYWRhYmxlQ29sb3IoJ2JsYWNrJywgJyMwMDEnLCAnI2ZmOCcpLFxuICogICBjb2xvcjogcmVhZGFibGVDb2xvcignd2hpdGUnLCAnIzAwMScsICcjZmY4JyksXG4gKiB9XG4gKlxuICogLy8gc3R5bGVkLWNvbXBvbmVudHMgdXNhZ2VcbiAqIGNvbnN0IGRpdiA9IHN0eWxlZC5kaXZgXG4gKiAgIGNvbG9yOiAke3JlYWRhYmxlQ29sb3IoJyMwMDAnKX07XG4gKiAgIGNvbG9yOiAke3JlYWRhYmxlQ29sb3IoJ2JsYWNrJywgJyMwMDEnLCAnI2ZmOCcpfTtcbiAqICAgY29sb3I6ICR7cmVhZGFibGVDb2xvcignd2hpdGUnLCAnIzAwMScsICcjZmY4Jyl9O1xuICogYFxuICpcbiAqIC8vIENTUyBpbiBKUyBPdXRwdXRcbiAqXG4gKiBlbGVtZW50IHtcbiAqICAgY29sb3I6IFwiI2ZmZlwiO1xuICogICBjb2xvcjogXCIjZmY4XCI7XG4gKiAgIGNvbG9yOiBcIiMwMDFcIjtcbiAqIH1cbiAqL1xuXG5mdW5jdGlvbiByZWFkYWJsZUNvbG9yKGNvbG9yLCBsaWdodFJldHVybkNvbG9yLCBkYXJrUmV0dXJuQ29sb3IpIHtcbiAgaWYgKGxpZ2h0UmV0dXJuQ29sb3IgPT09IHZvaWQgMCkge1xuICAgIGxpZ2h0UmV0dXJuQ29sb3IgPSAnIzAwMCc7XG4gIH1cblxuICBpZiAoZGFya1JldHVybkNvbG9yID09PSB2b2lkIDApIHtcbiAgICBkYXJrUmV0dXJuQ29sb3IgPSAnI2ZmZic7XG4gIH1cblxuICByZXR1cm4gZ2V0THVtaW5hbmNlKGNvbG9yKSA+IDAuMTc5ID8gbGlnaHRSZXR1cm5Db2xvciA6IGRhcmtSZXR1cm5Db2xvcjtcbn1cblxuZnVuY3Rpb24gcmdiVG9Db2xvclN0cmluZyhjb2xvcikge1xuICBpZiAodHlwZW9mIGNvbG9yID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgY29sb3IucmVkID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgY29sb3IuZ3JlZW4gPT09ICdudW1iZXInICYmIHR5cGVvZiBjb2xvci5ibHVlID09PSAnbnVtYmVyJykge1xuICAgIGlmIChjb2xvci5hbHBoYSAmJiB0eXBlb2YgY29sb3IuYWxwaGEgPT09ICdudW1iZXInKSB7XG4gICAgICByZXR1cm4gcmdiYSh7XG4gICAgICAgIHJlZDogY29sb3IucmVkLFxuICAgICAgICBncmVlbjogY29sb3IuZ3JlZW4sXG4gICAgICAgIGJsdWU6IGNvbG9yLmJsdWUsXG4gICAgICAgIGFscGhhOiBjb2xvci5hbHBoYVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJnYih7XG4gICAgICByZWQ6IGNvbG9yLnJlZCxcbiAgICAgIGdyZWVuOiBjb2xvci5ncmVlbixcbiAgICAgIGJsdWU6IGNvbG9yLmJsdWVcbiAgICB9KTtcbiAgfVxuXG4gIHRocm93IG5ldyBQb2xpc2hlZEVycm9yKDQ2KTtcbn1cblxuLyoqXG4gKiBJbmNyZWFzZXMgdGhlIGludGVuc2l0eSBvZiBhIGNvbG9yLiBJdHMgcmFuZ2UgaXMgYmV0d2VlbiAwIHRvIDEuIFRoZSBmaXJzdFxuICogYXJndW1lbnQgb2YgdGhlIHNhdHVyYXRlIGZ1bmN0aW9uIGlzIHRoZSBhbW91bnQgYnkgaG93IG11Y2ggdGhlIGNvbG9yXG4gKiBpbnRlbnNpdHkgc2hvdWxkIGJlIGluY3JlYXNlZC5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gU3R5bGVzIGFzIG9iamVjdCB1c2FnZVxuICogY29uc3Qgc3R5bGVzID0ge1xuICogICBiYWNrZ3JvdW5kOiBzYXR1cmF0ZSgwLjIsICcjQ0NDRDY0JyksXG4gKiAgIGJhY2tncm91bmQ6IHNhdHVyYXRlKCcwLjInLCAncmdiYSgyMDQsMjA1LDEwMCwwLjcpJyksXG4gKiB9XG4gKlxuICogLy8gc3R5bGVkLWNvbXBvbmVudHMgdXNhZ2VcbiAqIGNvbnN0IGRpdiA9IHN0eWxlZC5kaXZgXG4gKiAgIGJhY2tncm91bmQ6ICR7c2F0dXJhdGUoMC4yLCAnI0ZGQ0Q2NCcpfTtcbiAqICAgYmFja2dyb3VuZDogJHtzYXR1cmF0ZSgnMC4yJywgJ3JnYmEoMjA0LDIwNSwxMDAsMC43KScpfTtcbiAqIGBcbiAqXG4gKiAvLyBDU1MgaW4gSlMgT3V0cHV0XG4gKlxuICogZWxlbWVudCB7XG4gKiAgIGJhY2tncm91bmQ6IFwiI2UwZTI1MFwiO1xuICogICBiYWNrZ3JvdW5kOiBcInJnYmEoMjI0LDIyNiw4MCwwLjcpXCI7XG4gKiB9XG4gKi9cblxuZnVuY3Rpb24gc2F0dXJhdGUoYW1vdW50LCBjb2xvcikge1xuICBpZiAoY29sb3IgPT09ICd0cmFuc3BhcmVudCcpIHJldHVybiBjb2xvcjtcbiAgdmFyIGhzbENvbG9yID0gcGFyc2VUb0hzbChjb2xvcik7XG4gIHJldHVybiB0b0NvbG9yU3RyaW5nKF9leHRlbmRzKHt9LCBoc2xDb2xvciwge1xuICAgIHNhdHVyYXRpb246IGd1YXJkKDAsIDEsIGhzbENvbG9yLnNhdHVyYXRpb24gKyBwYXJzZUZsb2F0KGFtb3VudCkpXG4gIH0pKTtcbn0gLy8gcHJldHRpZXItaWdub3JlXG5cblxudmFyIGN1cnJpZWRTYXR1cmF0ZSA9XG4vKiNfX1BVUkVfXyovXG5jdXJyeVxuLyogOjo8bnVtYmVyIHwgc3RyaW5nLCBzdHJpbmcsIHN0cmluZz4gKi9cbihzYXR1cmF0ZSk7XG5cbi8qKlxuICogU2V0cyB0aGUgaHVlIG9mIGEgY29sb3IgdG8gdGhlIHByb3ZpZGVkIHZhbHVlLiBUaGUgaHVlIHJhbmdlIGNhbiBiZVxuICogZnJvbSAwIGFuZCAzNTkuXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFN0eWxlcyBhcyBvYmplY3QgdXNhZ2VcbiAqIGNvbnN0IHN0eWxlcyA9IHtcbiAqICAgYmFja2dyb3VuZDogc2V0SHVlKDQyLCAnI0NDQ0Q2NCcpLFxuICogICBiYWNrZ3JvdW5kOiBzZXRIdWUoJzI0NCcsICdyZ2JhKDIwNCwyMDUsMTAwLDAuNyknKSxcbiAqIH1cbiAqXG4gKiAvLyBzdHlsZWQtY29tcG9uZW50cyB1c2FnZVxuICogY29uc3QgZGl2ID0gc3R5bGVkLmRpdmBcbiAqICAgYmFja2dyb3VuZDogJHtzZXRIdWUoNDIsICcjQ0NDRDY0Jyl9O1xuICogICBiYWNrZ3JvdW5kOiAke3NldEh1ZSgnMjQ0JywgJ3JnYmEoMjA0LDIwNSwxMDAsMC43KScpfTtcbiAqIGBcbiAqXG4gKiAvLyBDU1MgaW4gSlMgT3V0cHV0XG4gKiBlbGVtZW50IHtcbiAqICAgYmFja2dyb3VuZDogXCIjY2RhZTY0XCI7XG4gKiAgIGJhY2tncm91bmQ6IFwicmdiYSgxMDcsMTAwLDIwNSwwLjcpXCI7XG4gKiB9XG4gKi9cblxuZnVuY3Rpb24gc2V0SHVlKGh1ZSwgY29sb3IpIHtcbiAgaWYgKGNvbG9yID09PSAndHJhbnNwYXJlbnQnKSByZXR1cm4gY29sb3I7XG4gIHJldHVybiB0b0NvbG9yU3RyaW5nKF9leHRlbmRzKHt9LCBwYXJzZVRvSHNsKGNvbG9yKSwge1xuICAgIGh1ZTogcGFyc2VGbG9hdChodWUpXG4gIH0pKTtcbn0gLy8gcHJldHRpZXItaWdub3JlXG5cblxudmFyIGN1cnJpZWRTZXRIdWUgPVxuLyojX19QVVJFX18qL1xuY3Vycnlcbi8qIDo6PG51bWJlciB8IHN0cmluZywgc3RyaW5nLCBzdHJpbmc+ICovXG4oc2V0SHVlKTtcblxuLyoqXG4gKiBTZXRzIHRoZSBsaWdodG5lc3Mgb2YgYSBjb2xvciB0byB0aGUgcHJvdmlkZWQgdmFsdWUuIFRoZSBsaWdodG5lc3MgcmFuZ2UgY2FuIGJlXG4gKiBmcm9tIDAgYW5kIDEuXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFN0eWxlcyBhcyBvYmplY3QgdXNhZ2VcbiAqIGNvbnN0IHN0eWxlcyA9IHtcbiAqICAgYmFja2dyb3VuZDogc2V0TGlnaHRuZXNzKDAuMiwgJyNDQ0NENjQnKSxcbiAqICAgYmFja2dyb3VuZDogc2V0TGlnaHRuZXNzKCcwLjc1JywgJ3JnYmEoMjA0LDIwNSwxMDAsMC43KScpLFxuICogfVxuICpcbiAqIC8vIHN0eWxlZC1jb21wb25lbnRzIHVzYWdlXG4gKiBjb25zdCBkaXYgPSBzdHlsZWQuZGl2YFxuICogICBiYWNrZ3JvdW5kOiAke3NldExpZ2h0bmVzcygwLjIsICcjQ0NDRDY0Jyl9O1xuICogICBiYWNrZ3JvdW5kOiAke3NldExpZ2h0bmVzcygnMC43NScsICdyZ2JhKDIwNCwyMDUsMTAwLDAuNyknKX07XG4gKiBgXG4gKlxuICogLy8gQ1NTIGluIEpTIE91dHB1dFxuICogZWxlbWVudCB7XG4gKiAgIGJhY2tncm91bmQ6IFwiIzRkNGQxOVwiO1xuICogICBiYWNrZ3JvdW5kOiBcInJnYmEoMjIzLDIyNCwxNTksMC43KVwiO1xuICogfVxuICovXG5cbmZ1bmN0aW9uIHNldExpZ2h0bmVzcyhsaWdodG5lc3MsIGNvbG9yKSB7XG4gIGlmIChjb2xvciA9PT0gJ3RyYW5zcGFyZW50JykgcmV0dXJuIGNvbG9yO1xuICByZXR1cm4gdG9Db2xvclN0cmluZyhfZXh0ZW5kcyh7fSwgcGFyc2VUb0hzbChjb2xvciksIHtcbiAgICBsaWdodG5lc3M6IHBhcnNlRmxvYXQobGlnaHRuZXNzKVxuICB9KSk7XG59IC8vIHByZXR0aWVyLWlnbm9yZVxuXG5cbnZhciBjdXJyaWVkU2V0TGlnaHRuZXNzID1cbi8qI19fUFVSRV9fKi9cbmN1cnJ5XG4vKiA6OjxudW1iZXIgfCBzdHJpbmcsIHN0cmluZywgc3RyaW5nPiAqL1xuKHNldExpZ2h0bmVzcyk7XG5cbi8qKlxuICogU2V0cyB0aGUgc2F0dXJhdGlvbiBvZiBhIGNvbG9yIHRvIHRoZSBwcm92aWRlZCB2YWx1ZS4gVGhlIHNhdHVyYXRpb24gcmFuZ2UgY2FuIGJlXG4gKiBmcm9tIDAgYW5kIDEuXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFN0eWxlcyBhcyBvYmplY3QgdXNhZ2VcbiAqIGNvbnN0IHN0eWxlcyA9IHtcbiAqICAgYmFja2dyb3VuZDogc2V0U2F0dXJhdGlvbigwLjIsICcjQ0NDRDY0JyksXG4gKiAgIGJhY2tncm91bmQ6IHNldFNhdHVyYXRpb24oJzAuNzUnLCAncmdiYSgyMDQsMjA1LDEwMCwwLjcpJyksXG4gKiB9XG4gKlxuICogLy8gc3R5bGVkLWNvbXBvbmVudHMgdXNhZ2VcbiAqIGNvbnN0IGRpdiA9IHN0eWxlZC5kaXZgXG4gKiAgIGJhY2tncm91bmQ6ICR7c2V0U2F0dXJhdGlvbigwLjIsICcjQ0NDRDY0Jyl9O1xuICogICBiYWNrZ3JvdW5kOiAke3NldFNhdHVyYXRpb24oJzAuNzUnLCAncmdiYSgyMDQsMjA1LDEwMCwwLjcpJyl9O1xuICogYFxuICpcbiAqIC8vIENTUyBpbiBKUyBPdXRwdXRcbiAqIGVsZW1lbnQge1xuICogICBiYWNrZ3JvdW5kOiBcIiNhZGFkODRcIjtcbiAqICAgYmFja2dyb3VuZDogXCJyZ2JhKDIyOCwyMjksNzYsMC43KVwiO1xuICogfVxuICovXG5cbmZ1bmN0aW9uIHNldFNhdHVyYXRpb24oc2F0dXJhdGlvbiwgY29sb3IpIHtcbiAgaWYgKGNvbG9yID09PSAndHJhbnNwYXJlbnQnKSByZXR1cm4gY29sb3I7XG4gIHJldHVybiB0b0NvbG9yU3RyaW5nKF9leHRlbmRzKHt9LCBwYXJzZVRvSHNsKGNvbG9yKSwge1xuICAgIHNhdHVyYXRpb246IHBhcnNlRmxvYXQoc2F0dXJhdGlvbilcbiAgfSkpO1xufSAvLyBwcmV0dGllci1pZ25vcmVcblxuXG52YXIgY3VycmllZFNldFNhdHVyYXRpb24gPVxuLyojX19QVVJFX18qL1xuY3Vycnlcbi8qIDo6PG51bWJlciB8IHN0cmluZywgc3RyaW5nLCBzdHJpbmc+ICovXG4oc2V0U2F0dXJhdGlvbik7XG5cbi8qKlxuICogU2hhZGVzIGEgY29sb3IgYnkgbWl4aW5nIGl0IHdpdGggYmxhY2suIGBzaGFkZWAgY2FuIHByb2R1Y2VcbiAqIGh1ZSBzaGlmdHMsIHdoZXJlIGFzIGBkYXJrZW5gIG1hbmlwdWxhdGVzIHRoZSBsdW1pbmFuY2UgY2hhbm5lbCBhbmQgdGhlcmVmb3JlXG4gKiBkb2Vzbid0IHByb2R1Y2UgaHVlIHNoaWZ0cy5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gU3R5bGVzIGFzIG9iamVjdCB1c2FnZVxuICogY29uc3Qgc3R5bGVzID0ge1xuICogICBiYWNrZ3JvdW5kOiBzaGFkZSgwLjI1LCAnIzAwZicpXG4gKiB9XG4gKlxuICogLy8gc3R5bGVkLWNvbXBvbmVudHMgdXNhZ2VcbiAqIGNvbnN0IGRpdiA9IHN0eWxlZC5kaXZgXG4gKiAgIGJhY2tncm91bmQ6ICR7c2hhZGUoMC4yNSwgJyMwMGYnKX07XG4gKiBgXG4gKlxuICogLy8gQ1NTIGluIEpTIE91dHB1dFxuICpcbiAqIGVsZW1lbnQge1xuICogICBiYWNrZ3JvdW5kOiBcIiMwMDAwM2ZcIjtcbiAqIH1cbiAqL1xuXG5mdW5jdGlvbiBzaGFkZShwZXJjZW50YWdlLCBjb2xvcikge1xuICBpZiAoY29sb3IgPT09ICd0cmFuc3BhcmVudCcpIHJldHVybiBjb2xvcjtcbiAgcmV0dXJuIGN1cnJpZWRNaXgocGFyc2VGbG9hdChwZXJjZW50YWdlKSwgJ3JnYigwLCAwLCAwKScsIGNvbG9yKTtcbn0gLy8gcHJldHRpZXItaWdub3JlXG5cblxudmFyIGN1cnJpZWRTaGFkZSA9XG4vKiNfX1BVUkVfXyovXG5jdXJyeVxuLyogOjo8bnVtYmVyIHwgc3RyaW5nLCBzdHJpbmcsIHN0cmluZz4gKi9cbihzaGFkZSk7XG5cbi8qKlxuICogVGludHMgYSBjb2xvciBieSBtaXhpbmcgaXQgd2l0aCB3aGl0ZS4gYHRpbnRgIGNhbiBwcm9kdWNlXG4gKiBodWUgc2hpZnRzLCB3aGVyZSBhcyBgbGlnaHRlbmAgbWFuaXB1bGF0ZXMgdGhlIGx1bWluYW5jZSBjaGFubmVsIGFuZCB0aGVyZWZvcmVcbiAqIGRvZXNuJ3QgcHJvZHVjZSBodWUgc2hpZnRzLlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBTdHlsZXMgYXMgb2JqZWN0IHVzYWdlXG4gKiBjb25zdCBzdHlsZXMgPSB7XG4gKiAgIGJhY2tncm91bmQ6IHRpbnQoMC4yNSwgJyMwMGYnKVxuICogfVxuICpcbiAqIC8vIHN0eWxlZC1jb21wb25lbnRzIHVzYWdlXG4gKiBjb25zdCBkaXYgPSBzdHlsZWQuZGl2YFxuICogICBiYWNrZ3JvdW5kOiAke3RpbnQoMC4yNSwgJyMwMGYnKX07XG4gKiBgXG4gKlxuICogLy8gQ1NTIGluIEpTIE91dHB1dFxuICpcbiAqIGVsZW1lbnQge1xuICogICBiYWNrZ3JvdW5kOiBcIiNiZmJmZmZcIjtcbiAqIH1cbiAqL1xuXG5mdW5jdGlvbiB0aW50KHBlcmNlbnRhZ2UsIGNvbG9yKSB7XG4gIGlmIChjb2xvciA9PT0gJ3RyYW5zcGFyZW50JykgcmV0dXJuIGNvbG9yO1xuICByZXR1cm4gY3VycmllZE1peChwYXJzZUZsb2F0KHBlcmNlbnRhZ2UpLCAncmdiKDI1NSwgMjU1LCAyNTUpJywgY29sb3IpO1xufSAvLyBwcmV0dGllci1pZ25vcmVcblxuXG52YXIgY3VycmllZFRpbnQgPVxuLyojX19QVVJFX18qL1xuY3Vycnlcbi8qIDo6PG51bWJlciB8IHN0cmluZywgc3RyaW5nLCBzdHJpbmc+ICovXG4odGludCk7XG5cbi8qKlxuICogRGVjcmVhc2VzIHRoZSBvcGFjaXR5IG9mIGEgY29sb3IuIEl0cyByYW5nZSBmb3IgdGhlIGFtb3VudCBpcyBiZXR3ZWVuIDAgdG8gMS5cbiAqXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFN0eWxlcyBhcyBvYmplY3QgdXNhZ2VcbiAqIGNvbnN0IHN0eWxlcyA9IHtcbiAqICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnRpemUoMC4xLCAnI2ZmZicpO1xuICogICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudGl6ZSgwLjIsICdoc2woMCwgMCUsIDEwMCUpJyksXG4gKiAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50aXplKCcwLjUnLCAncmdiYSgyNTUsIDAsIDAsIDAuOCknKSxcbiAqIH1cbiAqXG4gKiAvLyBzdHlsZWQtY29tcG9uZW50cyB1c2FnZVxuICogY29uc3QgZGl2ID0gc3R5bGVkLmRpdmBcbiAqICAgYmFja2dyb3VuZDogJHt0cmFuc3BhcmVudGl6ZSgwLjEsICcjZmZmJyl9O1xuICogICBiYWNrZ3JvdW5kOiAke3RyYW5zcGFyZW50aXplKDAuMiwgJ2hzbCgwLCAwJSwgMTAwJSknKX0sXG4gKiAgIGJhY2tncm91bmQ6ICR7dHJhbnNwYXJlbnRpemUoJzAuNScsICdyZ2JhKDI1NSwgMCwgMCwgMC44KScpfSxcbiAqIGBcbiAqXG4gKiAvLyBDU1MgaW4gSlMgT3V0cHV0XG4gKlxuICogZWxlbWVudCB7XG4gKiAgIGJhY2tncm91bmQ6IFwicmdiYSgyNTUsMjU1LDI1NSwwLjkpXCI7XG4gKiAgIGJhY2tncm91bmQ6IFwicmdiYSgyNTUsMjU1LDI1NSwwLjgpXCI7XG4gKiAgIGJhY2tncm91bmQ6IFwicmdiYSgyNTUsMCwwLDAuMylcIjtcbiAqIH1cbiAqL1xuXG5mdW5jdGlvbiB0cmFuc3BhcmVudGl6ZShhbW91bnQsIGNvbG9yKSB7XG4gIGlmIChjb2xvciA9PT0gJ3RyYW5zcGFyZW50JykgcmV0dXJuIGNvbG9yO1xuICB2YXIgcGFyc2VkQ29sb3IgPSBwYXJzZVRvUmdiKGNvbG9yKTtcbiAgdmFyIGFscGhhID0gdHlwZW9mIHBhcnNlZENvbG9yLmFscGhhID09PSAnbnVtYmVyJyA/IHBhcnNlZENvbG9yLmFscGhhIDogMTtcblxuICB2YXIgY29sb3JXaXRoQWxwaGEgPSBfZXh0ZW5kcyh7fSwgcGFyc2VkQ29sb3IsIHtcbiAgICBhbHBoYTogZ3VhcmQoMCwgMSwgKGFscGhhICogMTAwIC0gcGFyc2VGbG9hdChhbW91bnQpICogMTAwKSAvIDEwMClcbiAgfSk7XG5cbiAgcmV0dXJuIHJnYmEoY29sb3JXaXRoQWxwaGEpO1xufSAvLyBwcmV0dGllci1pZ25vcmVcblxuXG52YXIgY3VycmllZFRyYW5zcGFyZW50aXplID1cbi8qI19fUFVSRV9fKi9cbmN1cnJ5XG4vKiA6OjxudW1iZXIgfCBzdHJpbmcsIHN0cmluZywgc3RyaW5nPiAqL1xuKHRyYW5zcGFyZW50aXplKTtcblxuZnVuY3Rpb24gYW5pbWF0aW9uKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgLy8gQWxsb3cgc2luZ2xlIG9yIG11bHRpcGxlIGFuaW1hdGlvbnMgcGFzc2VkXG4gIHZhciBtdWx0aU1vZGUgPSBBcnJheS5pc0FycmF5KGFyZ3NbMF0pO1xuXG4gIGlmICghbXVsdGlNb2RlICYmIGFyZ3MubGVuZ3RoID4gOCkge1xuICAgIHRocm93IG5ldyBQb2xpc2hlZEVycm9yKDY0KTtcbiAgfVxuXG4gIHZhciBjb2RlID0gYXJncy5tYXAoZnVuY3Rpb24gKGFyZykge1xuICAgIGlmIChtdWx0aU1vZGUgJiYgIUFycmF5LmlzQXJyYXkoYXJnKSB8fCAhbXVsdGlNb2RlICYmIEFycmF5LmlzQXJyYXkoYXJnKSkge1xuICAgICAgdGhyb3cgbmV3IFBvbGlzaGVkRXJyb3IoNjUpO1xuICAgIH1cblxuICAgIGlmIChBcnJheS5pc0FycmF5KGFyZykgJiYgYXJnLmxlbmd0aCA+IDgpIHtcbiAgICAgIHRocm93IG5ldyBQb2xpc2hlZEVycm9yKDY2KTtcbiAgICB9XG5cbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShhcmcpID8gYXJnLmpvaW4oJyAnKSA6IGFyZztcbiAgfSkuam9pbignLCAnKTtcbiAgcmV0dXJuIHtcbiAgICBhbmltYXRpb246IGNvZGVcbiAgfTtcbn1cblxuZnVuY3Rpb24gYmFja2dyb3VuZEltYWdlcygpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHByb3BlcnRpZXMgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgcHJvcGVydGllc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgYmFja2dyb3VuZEltYWdlOiBwcm9wZXJ0aWVzLmpvaW4oJywgJylcbiAgfTtcbn1cblxuZnVuY3Rpb24gYmFja2dyb3VuZHMoKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBwcm9wZXJ0aWVzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIHByb3BlcnRpZXNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGJhY2tncm91bmQ6IHByb3BlcnRpZXMuam9pbignLCAnKVxuICB9O1xufVxuXG52YXIgc2lkZU1hcCA9IFsndG9wJywgJ3JpZ2h0JywgJ2JvdHRvbScsICdsZWZ0J107XG4vKipcbiAqIFNob3J0aGFuZCBmb3IgdGhlIGJvcmRlciBwcm9wZXJ0eSB0aGF0IHNwbGl0cyBvdXQgaW5kaXZpZHVhbCBwcm9wZXJ0aWVzIGZvciB1c2Ugd2l0aCB0b29scyBsaWtlIEZlbGEgYW5kIFN0eWxldHJvbi4gQSBzaWRlIGtleXdvcmQgY2FuIG9wdGlvbmFsbHkgYmUgcGFzc2VkIHRvIHRhcmdldCBvbmx5IG9uZSBzaWRlJ3MgYm9yZGVyIHByb3BlcnRpZXMuXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFN0eWxlcyBhcyBvYmplY3QgdXNhZ2VcbiAqIGNvbnN0IHN0eWxlcyA9IHtcbiAqICAgLi4uYm9yZGVyKCcxcHgnLCAnc29saWQnLCAncmVkJylcbiAqIH1cbiAqXG4gKiAvLyBzdHlsZWQtY29tcG9uZW50cyB1c2FnZVxuICogY29uc3QgZGl2ID0gc3R5bGVkLmRpdmBcbiAqICAgJHtib3JkZXIoJzFweCcsICdzb2xpZCcsICdyZWQnKX1cbiAqIGBcbiAqXG4gKiAvLyBDU1MgYXMgSlMgT3V0cHV0XG4gKlxuICogZGl2IHtcbiAqICAgJ2JvcmRlckNvbG9yJzogJ3JlZCcsXG4gKiAgICdib3JkZXJTdHlsZSc6ICdzb2xpZCcsXG4gKiAgICdib3JkZXJXaWR0aCc6IGAxcHhgLFxuICogfVxuICpcbiAqIC8vIFN0eWxlcyBhcyBvYmplY3QgdXNhZ2VcbiAqIGNvbnN0IHN0eWxlcyA9IHtcbiAqICAgLi4uYm9yZGVyKCd0b3AnLCAnMXB4JywgJ3NvbGlkJywgJ3JlZCcpXG4gKiB9XG4gKlxuICogLy8gc3R5bGVkLWNvbXBvbmVudHMgdXNhZ2VcbiAqIGNvbnN0IGRpdiA9IHN0eWxlZC5kaXZgXG4gKiAgICR7Ym9yZGVyKCd0b3AnLCAnMXB4JywgJ3NvbGlkJywgJ3JlZCcpfVxuICogYFxuICpcbiAqIC8vIENTUyBhcyBKUyBPdXRwdXRcbiAqXG4gKiBkaXYge1xuICogICAnYm9yZGVyVG9wQ29sb3InOiAncmVkJyxcbiAqICAgJ2JvcmRlclRvcFN0eWxlJzogJ3NvbGlkJyxcbiAqICAgJ2JvcmRlclRvcFdpZHRoJzogYDFweGAsXG4gKiB9XG4gKi9cblxuZnVuY3Rpb24gYm9yZGVyKHNpZGVLZXl3b3JkKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCB2YWx1ZXMgPSBuZXcgQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIHZhbHVlc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICBpZiAodHlwZW9mIHNpZGVLZXl3b3JkID09PSAnc3RyaW5nJyAmJiBzaWRlTWFwLmluZGV4T2Yoc2lkZUtleXdvcmQpID49IDApIHtcbiAgICB2YXIgX3JlZjtcblxuICAgIHJldHVybiBfcmVmID0ge30sIF9yZWZbXCJib3JkZXJcIiArIGNhcGl0YWxpemVTdHJpbmcoc2lkZUtleXdvcmQpICsgXCJXaWR0aFwiXSA9IHZhbHVlc1swXSwgX3JlZltcImJvcmRlclwiICsgY2FwaXRhbGl6ZVN0cmluZyhzaWRlS2V5d29yZCkgKyBcIlN0eWxlXCJdID0gdmFsdWVzWzFdLCBfcmVmW1wiYm9yZGVyXCIgKyBjYXBpdGFsaXplU3RyaW5nKHNpZGVLZXl3b3JkKSArIFwiQ29sb3JcIl0gPSB2YWx1ZXNbMl0sIF9yZWY7XG4gIH0gZWxzZSB7XG4gICAgdmFsdWVzLnVuc2hpZnQoc2lkZUtleXdvcmQpO1xuICAgIHJldHVybiB7XG4gICAgICBib3JkZXJXaWR0aDogdmFsdWVzWzBdLFxuICAgICAgYm9yZGVyU3R5bGU6IHZhbHVlc1sxXSxcbiAgICAgIGJvcmRlckNvbG9yOiB2YWx1ZXNbMl1cbiAgICB9O1xuICB9XG59XG5cbmZ1bmN0aW9uIGJvcmRlckNvbG9yKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgdmFsdWVzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIHZhbHVlc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHJldHVybiBkaXJlY3Rpb25hbFByb3BlcnR5LmFwcGx5KHZvaWQgMCwgWydib3JkZXJDb2xvciddLmNvbmNhdCh2YWx1ZXMpKTtcbn1cblxuZnVuY3Rpb24gYm9yZGVyUmFkaXVzKHNpZGUsIHJhZGl1cykge1xuICB2YXIgdXBwZXJjYXNlU2lkZSA9IGNhcGl0YWxpemVTdHJpbmcoc2lkZSk7XG5cbiAgaWYgKCFyYWRpdXMgJiYgcmFkaXVzICE9PSAwKSB7XG4gICAgdGhyb3cgbmV3IFBvbGlzaGVkRXJyb3IoNjIpO1xuICB9XG5cbiAgaWYgKHVwcGVyY2FzZVNpZGUgPT09ICdUb3AnIHx8IHVwcGVyY2FzZVNpZGUgPT09ICdCb3R0b20nKSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICByZXR1cm4gX3JlZiA9IHt9LCBfcmVmW1wiYm9yZGVyXCIgKyB1cHBlcmNhc2VTaWRlICsgXCJSaWdodFJhZGl1c1wiXSA9IHJhZGl1cywgX3JlZltcImJvcmRlclwiICsgdXBwZXJjYXNlU2lkZSArIFwiTGVmdFJhZGl1c1wiXSA9IHJhZGl1cywgX3JlZjtcbiAgfVxuXG4gIGlmICh1cHBlcmNhc2VTaWRlID09PSAnTGVmdCcgfHwgdXBwZXJjYXNlU2lkZSA9PT0gJ1JpZ2h0Jykge1xuICAgIHZhciBfcmVmMjtcblxuICAgIHJldHVybiBfcmVmMiA9IHt9LCBfcmVmMltcImJvcmRlclRvcFwiICsgdXBwZXJjYXNlU2lkZSArIFwiUmFkaXVzXCJdID0gcmFkaXVzLCBfcmVmMltcImJvcmRlckJvdHRvbVwiICsgdXBwZXJjYXNlU2lkZSArIFwiUmFkaXVzXCJdID0gcmFkaXVzLCBfcmVmMjtcbiAgfVxuXG4gIHRocm93IG5ldyBQb2xpc2hlZEVycm9yKDYzKTtcbn1cblxuZnVuY3Rpb24gYm9yZGVyU3R5bGUoKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCB2YWx1ZXMgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgdmFsdWVzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgcmV0dXJuIGRpcmVjdGlvbmFsUHJvcGVydHkuYXBwbHkodm9pZCAwLCBbJ2JvcmRlclN0eWxlJ10uY29uY2F0KHZhbHVlcykpO1xufVxuXG5mdW5jdGlvbiBib3JkZXJXaWR0aCgpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHZhbHVlcyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICB2YWx1ZXNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICByZXR1cm4gZGlyZWN0aW9uYWxQcm9wZXJ0eS5hcHBseSh2b2lkIDAsIFsnYm9yZGVyV2lkdGgnXS5jb25jYXQodmFsdWVzKSk7XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlU2VsZWN0b3JzKHRlbXBsYXRlLCBzdGF0ZSkge1xuICB2YXIgc3RhdGVTdWZmaXggPSBzdGF0ZSA/IFwiOlwiICsgc3RhdGUgOiAnJztcbiAgcmV0dXJuIHRlbXBsYXRlKHN0YXRlU3VmZml4KTtcbn1cbi8qKlxuICogRnVuY3Rpb24gaGVscGVyIHRoYXQgYWRkcyBhbiBhcnJheSBvZiBzdGF0ZXMgdG8gYSB0ZW1wbGF0ZSBvZiBzZWxlY3RvcnMuIFVzZWQgaW4gdGV4dElucHV0cyBhbmQgYnV0dG9ucy5cbiAqIEBwcml2YXRlXG4gKi9cblxuXG5mdW5jdGlvbiBzdGF0ZWZ1bFNlbGVjdG9ycyhzdGF0ZXMsIHRlbXBsYXRlLCBzdGF0ZU1hcCkge1xuICBpZiAoIXRlbXBsYXRlKSB0aHJvdyBuZXcgUG9saXNoZWRFcnJvcig2Nyk7XG4gIGlmIChzdGF0ZXMubGVuZ3RoID09PSAwKSByZXR1cm4gZ2VuZXJhdGVTZWxlY3RvcnModGVtcGxhdGUsIG51bGwpO1xuICB2YXIgc2VsZWN0b3JzID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGF0ZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBpZiAoc3RhdGVNYXAgJiYgc3RhdGVNYXAuaW5kZXhPZihzdGF0ZXNbaV0pIDwgMCkge1xuICAgICAgdGhyb3cgbmV3IFBvbGlzaGVkRXJyb3IoNjgpO1xuICAgIH1cblxuICAgIHNlbGVjdG9ycy5wdXNoKGdlbmVyYXRlU2VsZWN0b3JzKHRlbXBsYXRlLCBzdGF0ZXNbaV0pKTtcbiAgfVxuXG4gIHNlbGVjdG9ycyA9IHNlbGVjdG9ycy5qb2luKCcsJyk7XG4gIHJldHVybiBzZWxlY3RvcnM7XG59XG5cbnZhciBzdGF0ZU1hcCA9IFt1bmRlZmluZWQsIG51bGwsICdhY3RpdmUnLCAnZm9jdXMnLCAnaG92ZXInXTtcblxuZnVuY3Rpb24gdGVtcGxhdGUoc3RhdGUpIHtcbiAgcmV0dXJuIFwiYnV0dG9uXCIgKyBzdGF0ZSArIFwiLFxcbiAgaW5wdXRbdHlwZT1cXFwiYnV0dG9uXFxcIl1cIiArIHN0YXRlICsgXCIsXFxuICBpbnB1dFt0eXBlPVxcXCJyZXNldFxcXCJdXCIgKyBzdGF0ZSArIFwiLFxcbiAgaW5wdXRbdHlwZT1cXFwic3VibWl0XFxcIl1cIiArIHN0YXRlO1xufVxuLyoqXG4gKiBQb3B1bGF0ZXMgc2VsZWN0b3JzIHRoYXQgdGFyZ2V0IGFsbCBidXR0b25zLiBZb3UgY2FuIHBhc3Mgb3B0aW9uYWwgc3RhdGVzIHRvIGFwcGVuZCB0byB0aGUgc2VsZWN0b3JzLlxuICogQGV4YW1wbGVcbiAqIC8vIFN0eWxlcyBhcyBvYmplY3QgdXNhZ2VcbiAqIGNvbnN0IHN0eWxlcyA9IHtcbiAqICAgW2J1dHRvbnMoJ2FjdGl2ZScpXToge1xuICogICAgICdib3JkZXInOiAnbm9uZSdcbiAqICAgfVxuICogfVxuICpcbiAqIC8vIHN0eWxlZC1jb21wb25lbnRzIHVzYWdlXG4gKiBjb25zdCBkaXYgPSBzdHlsZWQuZGl2YFxuICogICA+ICR7YnV0dG9ucygnYWN0aXZlJyl9IHtcbiAqICAgICBib3JkZXI6IG5vbmU7XG4gKiAgIH1cbiAqIGBcbiAqXG4gKiAvLyBDU1MgaW4gSlMgT3V0cHV0XG4gKlxuICogICdidXR0b246YWN0aXZlLFxuICogICdpbnB1dFt0eXBlPVwiYnV0dG9uXCJdOmFjdGl2ZSxcbiAqICAnaW5wdXRbdHlwZT1cXFwicmVzZXRcXFwiXTphY3RpdmUsXG4gKiAgJ2lucHV0W3R5cGU9XFxcInN1Ym1pdFxcXCJdOmFjdGl2ZToge1xuICogICAnYm9yZGVyJzogJ25vbmUnXG4gKiB9XG4gKi9cblxuXG5mdW5jdGlvbiBidXR0b25zKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgc3RhdGVzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIHN0YXRlc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHJldHVybiBzdGF0ZWZ1bFNlbGVjdG9ycyhzdGF0ZXMsIHRlbXBsYXRlLCBzdGF0ZU1hcCk7XG59XG5cbmZ1bmN0aW9uIG1hcmdpbigpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHZhbHVlcyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICB2YWx1ZXNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICByZXR1cm4gZGlyZWN0aW9uYWxQcm9wZXJ0eS5hcHBseSh2b2lkIDAsIFsnbWFyZ2luJ10uY29uY2F0KHZhbHVlcykpO1xufVxuXG5mdW5jdGlvbiBwYWRkaW5nKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgdmFsdWVzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIHZhbHVlc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHJldHVybiBkaXJlY3Rpb25hbFByb3BlcnR5LmFwcGx5KHZvaWQgMCwgWydwYWRkaW5nJ10uY29uY2F0KHZhbHVlcykpO1xufVxuXG52YXIgcG9zaXRpb25NYXAkMSA9IFsnYWJzb2x1dGUnLCAnZml4ZWQnLCAncmVsYXRpdmUnLCAnc3RhdGljJywgJ3N0aWNreSddO1xuLyoqXG4gKiBTaG9ydGhhbmQgYWNjZXB0cyB1cCB0byBmaXZlIHZhbHVlcywgaW5jbHVkaW5nIG51bGwgdG8gc2tpcCBhIHZhbHVlLCBhbmQgbWFwcyB0aGVtIHRvIHRoZWlyIHJlc3BlY3RpdmUgZGlyZWN0aW9ucy4gVGhlIGZpcnN0IHZhbHVlIGNhbiBvcHRpb25hbGx5IGJlIGEgcG9zaXRpb24ga2V5d29yZC5cbiAqIEBleGFtcGxlXG4gKiAvLyBTdHlsZXMgYXMgb2JqZWN0IHVzYWdlXG4gKiBjb25zdCBzdHlsZXMgPSB7XG4gKiAgIC4uLnBvc2l0aW9uKCcxMnB4JywgJzI0cHgnLCAnMzZweCcsICc0OHB4JylcbiAqIH1cbiAqXG4gKiAvLyBzdHlsZWQtY29tcG9uZW50cyB1c2FnZVxuICogY29uc3QgZGl2ID0gc3R5bGVkLmRpdmBcbiAqICAgJHtwb3NpdGlvbignMTJweCcsICcyNHB4JywgJzM2cHgnLCAnNDhweCcpfVxuICogYFxuICpcbiAqIC8vIENTUyBhcyBKUyBPdXRwdXRcbiAqXG4gKiBkaXYge1xuICogICAndG9wJzogJzEycHgnLFxuICogICAncmlnaHQnOiAnMjRweCcsXG4gKiAgICdib3R0b20nOiAnMzZweCcsXG4gKiAgICdsZWZ0JzogJzQ4cHgnXG4gKiB9XG4gKlxuICogLy8gU3R5bGVzIGFzIG9iamVjdCB1c2FnZVxuICogY29uc3Qgc3R5bGVzID0ge1xuICogICAuLi5wb3NpdGlvbignYWJzb2x1dGUnLCAnMTJweCcsICcyNHB4JywgJzM2cHgnLCAnNDhweCcpXG4gKiB9XG4gKlxuICogLy8gc3R5bGVkLWNvbXBvbmVudHMgdXNhZ2VcbiAqIGNvbnN0IGRpdiA9IHN0eWxlZC5kaXZgXG4gKiAgICR7cG9zaXRpb24oJ2Fic29sdXRlJywgJzEycHgnLCAnMjRweCcsICczNnB4JywgJzQ4cHgnKX1cbiAqIGBcbiAqXG4gKiAvLyBDU1MgYXMgSlMgT3V0cHV0XG4gKlxuICogZGl2IHtcbiAqICAgJ3Bvc2l0aW9uJzogJ2Fic29sdXRlJyxcbiAqICAgJ3RvcCc6ICcxMnB4JyxcbiAqICAgJ3JpZ2h0JzogJzI0cHgnLFxuICogICAnYm90dG9tJzogJzM2cHgnLFxuICogICAnbGVmdCc6ICc0OHB4J1xuICogfVxuICovXG5cbmZ1bmN0aW9uIHBvc2l0aW9uKHBvc2l0aW9uS2V5d29yZCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgdmFsdWVzID0gbmV3IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICB2YWx1ZXNbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgaWYgKHBvc2l0aW9uTWFwJDEuaW5kZXhPZihwb3NpdGlvbktleXdvcmQpID49IDApIHtcbiAgICByZXR1cm4gX2V4dGVuZHMoe1xuICAgICAgcG9zaXRpb246IHBvc2l0aW9uS2V5d29yZFxuICAgIH0sIGRpcmVjdGlvbmFsUHJvcGVydHkuYXBwbHkodm9pZCAwLCBbJyddLmNvbmNhdCh2YWx1ZXMpKSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGZpcnN0VmFsdWUgPSBwb3NpdGlvbktleXdvcmQ7IC8vIGluIHRoaXMgY2FzZSBwb3NpdGlvbiBpcyBhY3R1YWxseSB0aGUgZmlyc3QgdmFsdWVcblxuICAgIHJldHVybiBkaXJlY3Rpb25hbFByb3BlcnR5LmFwcGx5KHZvaWQgMCwgWycnLCBmaXJzdFZhbHVlXS5jb25jYXQodmFsdWVzKSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2l6ZShoZWlnaHQsIHdpZHRoKSB7XG4gIGlmICh3aWR0aCA9PT0gdm9pZCAwKSB7XG4gICAgd2lkdGggPSBoZWlnaHQ7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGhlaWdodDogaGVpZ2h0LFxuICAgIHdpZHRoOiB3aWR0aFxuICB9O1xufVxuXG52YXIgc3RhdGVNYXAkMSA9IFt1bmRlZmluZWQsIG51bGwsICdhY3RpdmUnLCAnZm9jdXMnLCAnaG92ZXInXTtcblxuZnVuY3Rpb24gdGVtcGxhdGUkMShzdGF0ZSkge1xuICByZXR1cm4gXCJpbnB1dFt0eXBlPVxcXCJjb2xvclxcXCJdXCIgKyBzdGF0ZSArIFwiLFxcbiAgICBpbnB1dFt0eXBlPVxcXCJkYXRlXFxcIl1cIiArIHN0YXRlICsgXCIsXFxuICAgIGlucHV0W3R5cGU9XFxcImRhdGV0aW1lXFxcIl1cIiArIHN0YXRlICsgXCIsXFxuICAgIGlucHV0W3R5cGU9XFxcImRhdGV0aW1lLWxvY2FsXFxcIl1cIiArIHN0YXRlICsgXCIsXFxuICAgIGlucHV0W3R5cGU9XFxcImVtYWlsXFxcIl1cIiArIHN0YXRlICsgXCIsXFxuICAgIGlucHV0W3R5cGU9XFxcIm1vbnRoXFxcIl1cIiArIHN0YXRlICsgXCIsXFxuICAgIGlucHV0W3R5cGU9XFxcIm51bWJlclxcXCJdXCIgKyBzdGF0ZSArIFwiLFxcbiAgICBpbnB1dFt0eXBlPVxcXCJwYXNzd29yZFxcXCJdXCIgKyBzdGF0ZSArIFwiLFxcbiAgICBpbnB1dFt0eXBlPVxcXCJzZWFyY2hcXFwiXVwiICsgc3RhdGUgKyBcIixcXG4gICAgaW5wdXRbdHlwZT1cXFwidGVsXFxcIl1cIiArIHN0YXRlICsgXCIsXFxuICAgIGlucHV0W3R5cGU9XFxcInRleHRcXFwiXVwiICsgc3RhdGUgKyBcIixcXG4gICAgaW5wdXRbdHlwZT1cXFwidGltZVxcXCJdXCIgKyBzdGF0ZSArIFwiLFxcbiAgICBpbnB1dFt0eXBlPVxcXCJ1cmxcXFwiXVwiICsgc3RhdGUgKyBcIixcXG4gICAgaW5wdXRbdHlwZT1cXFwid2Vla1xcXCJdXCIgKyBzdGF0ZSArIFwiLFxcbiAgICBpbnB1dDpub3QoW3R5cGVdKVwiICsgc3RhdGUgKyBcIixcXG4gICAgdGV4dGFyZWFcIiArIHN0YXRlO1xufVxuLyoqXG4gKiBQb3B1bGF0ZXMgc2VsZWN0b3JzIHRoYXQgdGFyZ2V0IGFsbCB0ZXh0IGlucHV0cy4gWW91IGNhbiBwYXNzIG9wdGlvbmFsIHN0YXRlcyB0byBhcHBlbmQgdG8gdGhlIHNlbGVjdG9ycy5cbiAqIEBleGFtcGxlXG4gKiAvLyBTdHlsZXMgYXMgb2JqZWN0IHVzYWdlXG4gKiBjb25zdCBzdHlsZXMgPSB7XG4gKiAgIFt0ZXh0SW5wdXRzKCdhY3RpdmUnKV06IHtcbiAqICAgICAnYm9yZGVyJzogJ25vbmUnXG4gKiAgIH1cbiAqIH1cbiAqXG4gKiAvLyBzdHlsZWQtY29tcG9uZW50cyB1c2FnZVxuICogY29uc3QgZGl2ID0gc3R5bGVkLmRpdmBcbiAqICAgPiAke3RleHRJbnB1dHMoJ2FjdGl2ZScpfSB7XG4gKiAgICAgYm9yZGVyOiBub25lO1xuICogICB9XG4gKiBgXG4gKlxuICogLy8gQ1NTIGluIEpTIE91dHB1dFxuICpcbiAqICAnaW5wdXRbdHlwZT1cImNvbG9yXCJdOmFjdGl2ZSxcbiAqICBpbnB1dFt0eXBlPVwiZGF0ZVwiXTphY3RpdmUsXG4gKiAgaW5wdXRbdHlwZT1cImRhdGV0aW1lXCJdOmFjdGl2ZSxcbiAqICBpbnB1dFt0eXBlPVwiZGF0ZXRpbWUtbG9jYWxcIl06YWN0aXZlLFxuICogIGlucHV0W3R5cGU9XCJlbWFpbFwiXTphY3RpdmUsXG4gKiAgaW5wdXRbdHlwZT1cIm1vbnRoXCJdOmFjdGl2ZSxcbiAqICBpbnB1dFt0eXBlPVwibnVtYmVyXCJdOmFjdGl2ZSxcbiAqICBpbnB1dFt0eXBlPVwicGFzc3dvcmRcIl06YWN0aXZlLFxuICogIGlucHV0W3R5cGU9XCJzZWFyY2hcIl06YWN0aXZlLFxuICogIGlucHV0W3R5cGU9XCJ0ZWxcIl06YWN0aXZlLFxuICogIGlucHV0W3R5cGU9XCJ0ZXh0XCJdOmFjdGl2ZSxcbiAqICBpbnB1dFt0eXBlPVwidGltZVwiXTphY3RpdmUsXG4gKiAgaW5wdXRbdHlwZT1cInVybFwiXTphY3RpdmUsXG4gKiAgaW5wdXRbdHlwZT1cIndlZWtcIl06YWN0aXZlLFxuICogIGlucHV0Om5vdChbdHlwZV0pOmFjdGl2ZSxcbiAqICB0ZXh0YXJlYTphY3RpdmUnOiB7XG4gKiAgICdib3JkZXInOiAnbm9uZSdcbiAqIH1cbiAqL1xuXG5cbmZ1bmN0aW9uIHRleHRJbnB1dHMoKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBzdGF0ZXMgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgc3RhdGVzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgcmV0dXJuIHN0YXRlZnVsU2VsZWN0b3JzKHN0YXRlcywgdGVtcGxhdGUkMSwgc3RhdGVNYXAkMSk7XG59XG5cbi8qKlxuICogQWNjZXB0cyBhbnkgbnVtYmVyIG9mIHRyYW5zaXRpb24gdmFsdWVzIGFzIHBhcmFtZXRlcnMgZm9yIGNyZWF0aW5nIGEgc2luZ2xlIHRyYW5zaXRpb24gc3RhdGVtZW50LiBZb3UgbWF5IGFsc28gcGFzcyBhbiBhcnJheSBvZiBwcm9wZXJ0aWVzIGFzIHRoZSBmaXJzdCBwYXJhbWV0ZXIgdGhhdCB5b3Ugd291bGQgbGlrZSB0byBhcHBseSB0aGUgc2FtZSB0cmFuc2l0aW9uIHZhbHVlcyB0byAoc2Vjb25kIHBhcmFtZXRlcikuXG4gKiBAZXhhbXBsZVxuICogLy8gU3R5bGVzIGFzIG9iamVjdCB1c2FnZVxuICogY29uc3Qgc3R5bGVzID0ge1xuICogICAuLi50cmFuc2l0aW9ucygnb3BhY2l0eSAxLjBzIGVhc2UtaW4gMHMnLCAnd2lkdGggMi4wcyBlYXNlLWluIDJzJyksXG4gKiAgIC4uLnRyYW5zaXRpb25zKFsnY29sb3InLCAnYmFja2dyb3VuZC1jb2xvciddLCAnMi4wcyBlYXNlLWluIDJzJylcbiAqIH1cbiAqXG4gKiAvLyBzdHlsZWQtY29tcG9uZW50cyB1c2FnZVxuICogY29uc3QgZGl2ID0gc3R5bGVkLmRpdmBcbiAqICAgJHt0cmFuc2l0aW9ucygnb3BhY2l0eSAxLjBzIGVhc2UtaW4gMHMnLCAnd2lkdGggMi4wcyBlYXNlLWluIDJzJyl9O1xuICogICAke3RyYW5zaXRpb25zKFsnY29sb3InLCAnYmFja2dyb3VuZC1jb2xvciddLCAnMi4wcyBlYXNlLWluIDJzJyksfTtcbiAqIGBcbiAqXG4gKiAvLyBDU1MgYXMgSlMgT3V0cHV0XG4gKlxuICogZGl2IHtcbiAqICAgJ3RyYW5zaXRpb24nOiAnb3BhY2l0eSAxLjBzIGVhc2UtaW4gMHMsIHdpZHRoIDIuMHMgZWFzZS1pbiAycydcbiAqICAgJ3RyYW5zaXRpb24nOiAnY29sb3IgMi4wcyBlYXNlLWluIDJzLCBiYWNrZ3JvdW5kLWNvbG9yIDIuMHMgZWFzZS1pbiAycycsXG4gKiB9XG4gKi9cblxuZnVuY3Rpb24gdHJhbnNpdGlvbnMoKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBwcm9wZXJ0aWVzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIHByb3BlcnRpZXNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICBpZiAoQXJyYXkuaXNBcnJheShwcm9wZXJ0aWVzWzBdKSAmJiBwcm9wZXJ0aWVzLmxlbmd0aCA9PT0gMikge1xuICAgIHZhciB2YWx1ZSA9IHByb3BlcnRpZXNbMV07XG5cbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IFBvbGlzaGVkRXJyb3IoNjEpO1xuICAgIH1cblxuICAgIHZhciB0cmFuc2l0aW9uc1N0cmluZyA9IHByb3BlcnRpZXNbMF0ubWFwKGZ1bmN0aW9uIChwcm9wZXJ0eSkge1xuICAgICAgcmV0dXJuIHByb3BlcnR5ICsgXCIgXCIgKyB2YWx1ZTtcbiAgICB9KS5qb2luKCcsICcpO1xuICAgIHJldHVybiB7XG4gICAgICB0cmFuc2l0aW9uOiB0cmFuc2l0aW9uc1N0cmluZ1xuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRyYW5zaXRpb246IHByb3BlcnRpZXMuam9pbignLCAnKVxuICAgIH07XG4gIH1cbn1cblxuZXhwb3J0IHsgY3VycmllZEFkanVzdEh1ZSBhcyBhZGp1c3RIdWUsIGFuaW1hdGlvbiwgYmFja2dyb3VuZEltYWdlcywgYmFja2dyb3VuZHMsIGJldHdlZW4sIGJvcmRlciwgYm9yZGVyQ29sb3IsIGJvcmRlclJhZGl1cywgYm9yZGVyU3R5bGUsIGJvcmRlcldpZHRoLCBidXR0b25zLCBjbGVhckZpeCwgY29tcGxlbWVudCwgY292ZXIsIGN1cnJpZWREYXJrZW4gYXMgZGFya2VuLCBjdXJyaWVkRGVzYXR1cmF0ZSBhcyBkZXNhdHVyYXRlLCBkaXJlY3Rpb25hbFByb3BlcnR5LCBlbGxpcHNpcywgZW0sIGZsdWlkUmFuZ2UsIGZvbnRGYWNlLCBnZXRDb250cmFzdCwgZ2V0THVtaW5hbmNlLCBnZXRWYWx1ZUFuZFVuaXQsIGdyYXlzY2FsZSwgaGlEUEksIGhpZGVUZXh0LCBoaWRlVmlzdWFsbHksIGhzbCwgaHNsVG9Db2xvclN0cmluZywgaHNsYSwgaW52ZXJ0LCBjdXJyaWVkTGlnaHRlbiBhcyBsaWdodGVuLCBsaW5lYXJHcmFkaWVudCwgbWFyZ2luLCBtYXRoLCBtZWV0c0NvbnRyYXN0R3VpZGVsaW5lcywgY3VycmllZE1peCBhcyBtaXgsIG1vZHVsYXJTY2FsZSwgbm9ybWFsaXplLCBjdXJyaWVkT3BhY2lmeSBhcyBvcGFjaWZ5LCBwYWRkaW5nLCBwYXJzZVRvSHNsLCBwYXJzZVRvUmdiLCBwb3NpdGlvbiwgcmFkaWFsR3JhZGllbnQsIHJlYWRhYmxlQ29sb3IsIHJlbSwgcmV0aW5hSW1hZ2UsIHJnYiwgcmdiVG9Db2xvclN0cmluZywgcmdiYSwgY3VycmllZFNhdHVyYXRlIGFzIHNhdHVyYXRlLCBjdXJyaWVkU2V0SHVlIGFzIHNldEh1ZSwgY3VycmllZFNldExpZ2h0bmVzcyBhcyBzZXRMaWdodG5lc3MsIGN1cnJpZWRTZXRTYXR1cmF0aW9uIGFzIHNldFNhdHVyYXRpb24sIGN1cnJpZWRTaGFkZSBhcyBzaGFkZSwgc2l6ZSwgc3RyaXBVbml0LCB0ZXh0SW5wdXRzLCB0aW1pbmdGdW5jdGlvbnMsIGN1cnJpZWRUaW50IGFzIHRpbnQsIHRvQ29sb3JTdHJpbmcsIHRyYW5zaXRpb25zLCBjdXJyaWVkVHJhbnNwYXJlbnRpemUgYXMgdHJhbnNwYXJlbnRpemUsIHRyaWFuZ2xlLCB3b3JkV3JhcCB9O1xuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7XG4gIGlmIChzZWxmID09PSB2b2lkIDApIHtcbiAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7XG4gIH1cblxuICByZXR1cm4gc2VsZjtcbn0iLCJpbXBvcnQgc2V0UHJvdG90eXBlT2YgZnJvbSBcIi4vc2V0UHJvdG90eXBlT2ZcIjtcblxuZnVuY3Rpb24gaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkge1xuICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7XG4gIGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7XG4gIGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7XG5cbiAgdHJ5IHtcbiAgICBEYXRlLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFJlZmxlY3QuY29uc3RydWN0KERhdGUsIFtdLCBmdW5jdGlvbiAoKSB7fSkpO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9jb25zdHJ1Y3QoUGFyZW50LCBhcmdzLCBDbGFzcykge1xuICBpZiAoaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkpIHtcbiAgICBfY29uc3RydWN0ID0gUmVmbGVjdC5jb25zdHJ1Y3Q7XG4gIH0gZWxzZSB7XG4gICAgX2NvbnN0cnVjdCA9IGZ1bmN0aW9uIF9jb25zdHJ1Y3QoUGFyZW50LCBhcmdzLCBDbGFzcykge1xuICAgICAgdmFyIGEgPSBbbnVsbF07XG4gICAgICBhLnB1c2guYXBwbHkoYSwgYXJncyk7XG4gICAgICB2YXIgQ29uc3RydWN0b3IgPSBGdW5jdGlvbi5iaW5kLmFwcGx5KFBhcmVudCwgYSk7XG4gICAgICB2YXIgaW5zdGFuY2UgPSBuZXcgQ29uc3RydWN0b3IoKTtcbiAgICAgIGlmIChDbGFzcykgc2V0UHJvdG90eXBlT2YoaW5zdGFuY2UsIENsYXNzLnByb3RvdHlwZSk7XG4gICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBfY29uc3RydWN0LmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2V4dGVuZHMoKSB7XG4gIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfTtcblxuICByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2Yobykge1xuICBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2Yobykge1xuICAgIHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7XG4gIH07XG4gIHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2luaGVyaXRzTG9vc2Uoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzLnByb3RvdHlwZSk7XG4gIHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzO1xuICBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9pc05hdGl2ZUZ1bmN0aW9uKGZuKSB7XG4gIHJldHVybiBGdW5jdGlvbi50b1N0cmluZy5jYWxsKGZuKS5pbmRleE9mKFwiW25hdGl2ZSBjb2RlXVwiKSAhPT0gLTE7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHtcbiAgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7XG4gICAgby5fX3Byb3RvX18gPSBwO1xuICAgIHJldHVybiBvO1xuICB9O1xuXG4gIHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbExvb3NlKHN0cmluZ3MsIHJhdykge1xuICBpZiAoIXJhdykge1xuICAgIHJhdyA9IHN0cmluZ3Muc2xpY2UoMCk7XG4gIH1cblxuICBzdHJpbmdzLnJhdyA9IHJhdztcbiAgcmV0dXJuIHN0cmluZ3M7XG59IiwiaW1wb3J0IGdldFByb3RvdHlwZU9mIGZyb20gXCIuL2dldFByb3RvdHlwZU9mXCI7XG5pbXBvcnQgc2V0UHJvdG90eXBlT2YgZnJvbSBcIi4vc2V0UHJvdG90eXBlT2ZcIjtcbmltcG9ydCBpc05hdGl2ZUZ1bmN0aW9uIGZyb20gXCIuL2lzTmF0aXZlRnVuY3Rpb25cIjtcbmltcG9ydCBjb25zdHJ1Y3QgZnJvbSBcIi4vY29uc3RydWN0XCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKSB7XG4gIHZhciBfY2FjaGUgPSB0eXBlb2YgTWFwID09PSBcImZ1bmN0aW9uXCIgPyBuZXcgTWFwKCkgOiB1bmRlZmluZWQ7XG5cbiAgX3dyYXBOYXRpdmVTdXBlciA9IGZ1bmN0aW9uIF93cmFwTmF0aXZlU3VwZXIoQ2xhc3MpIHtcbiAgICBpZiAoQ2xhc3MgPT09IG51bGwgfHwgIWlzTmF0aXZlRnVuY3Rpb24oQ2xhc3MpKSByZXR1cm4gQ2xhc3M7XG5cbiAgICBpZiAodHlwZW9mIENsYXNzICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIF9jYWNoZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgaWYgKF9jYWNoZS5oYXMoQ2xhc3MpKSByZXR1cm4gX2NhY2hlLmdldChDbGFzcyk7XG5cbiAgICAgIF9jYWNoZS5zZXQoQ2xhc3MsIFdyYXBwZXIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIFdyYXBwZXIoKSB7XG4gICAgICByZXR1cm4gY29uc3RydWN0KENsYXNzLCBhcmd1bWVudHMsIGdldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yKTtcbiAgICB9XG5cbiAgICBXcmFwcGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQ2xhc3MucHJvdG90eXBlLCB7XG4gICAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgICB2YWx1ZTogV3JhcHBlcixcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gc2V0UHJvdG90eXBlT2YoV3JhcHBlciwgQ2xhc3MpO1xuICB9O1xuXG4gIHJldHVybiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKTtcbn0iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbi8vIGFycmF5IGZ1bmN0aW9uIHNob3VsZCBub3QgYmUgdXNlZCBoZXJlIHNvIHRoYXQgd2UgY2FuIHRoZSBsb2NhbCB0aGlzXG52YXIgYWRkUHJvcFR5cGVEb2N1bWVudGF0aW9uRmllbGQgPSBmdW5jdGlvbiBhZGRQcm9wVHlwZURvY3VtZW50YXRpb25GaWVsZChmaWVsZE5hbWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIGFkZEZpZWxkVG9SZWFjdERlc2ModmFsdWUpIHtcbiAgICBpZiAoIXRoaXMucmVhY3REZXNjKSB7XG4gICAgICB0aGlzLnJlYWN0RGVzYyA9IHt9O1xuICAgIH1cbiAgICB0aGlzLnJlYWN0RGVzY1tmaWVsZE5hbWVdID0gdmFsdWU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG59O1xuXG52YXIgZG9jdW1lbnRlZFByb3BUeXBlID0ge1xuICBkZWZhdWx0VmFsdWU6IGFkZFByb3BUeXBlRG9jdW1lbnRhdGlvbkZpZWxkKCdkZWZhdWx0VmFsdWUnKSxcbiAgZGVzY3JpcHRpb246IGFkZFByb3BUeXBlRG9jdW1lbnRhdGlvbkZpZWxkKCdkZXNjcmlwdGlvbicpLFxuICBkZXByZWNhdGVkOiBhZGRQcm9wVHlwZURvY3VtZW50YXRpb25GaWVsZCgnZGVwcmVjYXRlZCcpLFxuICBmb3JtYXQ6IGFkZFByb3BUeXBlRG9jdW1lbnRhdGlvbkZpZWxkKCdmb3JtYXQnKVxufTtcblxudmFyIGNyZWF0ZVByb3BUeXBlID0gZnVuY3Rpb24gY3JlYXRlUHJvcFR5cGUodHlwZSkge1xuICB2YXIgcHJvcFR5cGVPYmogPSBfZXh0ZW5kcyh7XG4gICAgdHlwZTogdHlwZVxuICB9LCBkb2N1bWVudGVkUHJvcFR5cGUpO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvcFR5cGVPYmosICdpc1JlcXVpcmVkJywge1xuICAgIGdldDogZnVuY3Rpb24gZ2V0UmVxdWlyZWQoKSB7XG4gICAgICBpZiAoIXRoaXMucmVhY3REZXNjKSB7XG4gICAgICAgIHRoaXMucmVhY3REZXNjID0ge307XG4gICAgICB9XG4gICAgICB0aGlzLnJlYWN0RGVzYy5yZXF1aXJlZCA9IHRydWU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pO1xuICByZXR1cm4gcHJvcFR5cGVPYmo7XG59O1xuXG52YXIgY3JlYXRlUHJvcFR5cGVXaXRoQXJncyA9IGZ1bmN0aW9uIGNyZWF0ZVByb3BUeXBlV2l0aEFyZ3ModHlwZSkge1xuICByZXR1cm4gZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICB2YXIgcHJvcFR5cGVPYmogPSBfZXh0ZW5kcyh7XG4gICAgICBhcmdzOiBhcmdzLFxuICAgICAgdHlwZTogdHlwZVxuICAgIH0sIGRvY3VtZW50ZWRQcm9wVHlwZSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3BUeXBlT2JqLCAnaXNSZXF1aXJlZCcsIHtcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0UmVxdWlyZWQoKSB7XG4gICAgICAgIGlmICghdGhpcy5yZWFjdERlc2MpIHtcbiAgICAgICAgICB0aGlzLnJlYWN0RGVzYyA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVhY3REZXNjLnJlcXVpcmVkID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9LFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBwcm9wVHlwZU9iajtcbiAgfTtcbn07XG5cbnZhciBQcm9wVHlwZXMgPSB7XG4gIGN1c3RvbTogZnVuY3Rpb24gY3VzdG9tKGNhbGxiYWNrKSB7XG4gICAgdmFyIHRhcmdldCA9IGNhbGxiYWNrLmJpbmQobnVsbCk7XG4gICAgdGFyZ2V0LnR5cGUgPSAnZnVuYyc7XG4gICAgT2JqZWN0LmtleXMoZG9jdW1lbnRlZFByb3BUeXBlKS5mb3JFYWNoKGZ1bmN0aW9uIChmaWVsZE5hbWUpIHtcbiAgICAgIHRhcmdldFtmaWVsZE5hbWVdID0gZG9jdW1lbnRlZFByb3BUeXBlW2ZpZWxkTmFtZV07XG4gICAgfSk7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxufTtcblxuZnVuY3Rpb24gZGVmaW5lUHJvcFR5cGUodHlwZSkge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUHJvcFR5cGVzLCB0eXBlLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiBnZXRQcm9wVHlwZSgpIHtcbiAgICAgIHJldHVybiBjcmVhdGVQcm9wVHlwZSh0eXBlKTtcbiAgICB9LFxuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBkZWZpbmVQcm9wVHlwZVdpdGhBcmdzKHR5cGUpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFByb3BUeXBlcywgdHlwZSwge1xuICAgIGdldDogZnVuY3Rpb24gZ2V0UHJvcFR5cGUoKSB7XG4gICAgICByZXR1cm4gY3JlYXRlUHJvcFR5cGVXaXRoQXJncyh0eXBlKTtcbiAgICB9LFxuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pO1xufVxuXG5kZWZpbmVQcm9wVHlwZSgnYW55Jyk7XG5kZWZpbmVQcm9wVHlwZSgnYXJyYXknKTtcbmRlZmluZVByb3BUeXBlKCdib29sJyk7XG5kZWZpbmVQcm9wVHlwZSgnZWxlbWVudCcpO1xuZGVmaW5lUHJvcFR5cGUoJ2Z1bmMnKTtcbmRlZmluZVByb3BUeXBlKCdub2RlJyk7XG5kZWZpbmVQcm9wVHlwZSgnbnVtYmVyJyk7XG5kZWZpbmVQcm9wVHlwZSgnb2JqZWN0Jyk7XG5kZWZpbmVQcm9wVHlwZSgnc3ltYm9sJyk7XG5kZWZpbmVQcm9wVHlwZSgnc3RyaW5nJyk7XG5cbmRlZmluZVByb3BUeXBlV2l0aEFyZ3MoJ2FycmF5T2YnKTtcbmRlZmluZVByb3BUeXBlV2l0aEFyZ3MoJ2luc3RhbmNlT2YnKTtcbmRlZmluZVByb3BUeXBlV2l0aEFyZ3MoJ29iamVjdE9mJyk7XG5kZWZpbmVQcm9wVHlwZVdpdGhBcmdzKCdvbmVPZlR5cGUnKTtcbmRlZmluZVByb3BUeXBlV2l0aEFyZ3MoJ29uZU9mJyk7XG5kZWZpbmVQcm9wVHlwZVdpdGhBcmdzKCdzaGFwZScpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBQcm9wVHlwZXM7IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG5leHBvcnRzLmRlZmF1bHQgPSBkZXNjVG9KU09OO1xuXG52YXIgYXJyYXlGb3JtYXQgPSBmdW5jdGlvbiBhcnJheUZvcm1hdChhcnJheSwgcHJlZml4KSB7XG4gIHJldHVybiBhcnJheS5tYXAoZnVuY3Rpb24gKHByb3BUeXBlKSB7XG4gICAgcmV0dXJuIHByb3BUeXBlRm9ybWF0KHByb3BUeXBlLCBwcmVmaXgpO1xuICB9KTtcbn07XG5cbnZhciBzaGFwZUZvcm1hdCA9IGZ1bmN0aW9uIHNoYXBlRm9ybWF0KHNoYXBlLCBwcmVmaXgpIHtcbiAgdmFyIHByb3BzID0gT2JqZWN0LmtleXMoc2hhcGUpLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgdmFyIHZhbHVlID0gc2hhcGVba2V5XTtcbiAgICB2YXIgdmFsdWVGb3JtYXQgPSB2b2lkIDA7XG4gICAgaWYgKHZhbHVlLnR5cGUgJiYgKHZhbHVlLnR5cGUgPT09ICdhcnJheU9mJyB8fCB2YWx1ZS50eXBlID09PSAnb25lT2ZUeXBlJyB8fCB2YWx1ZS50eXBlID09PSAnb25lT2YnKSAmJiBBcnJheS5pc0FycmF5KHZhbHVlLmFyZ3MpKSB7XG4gICAgICB2YWx1ZUZvcm1hdCA9ICdcXG4nICsgcHJvcFR5cGVGb3JtYXQodmFsdWUsIHByZWZpeCArICcgICAgJyk7XG4gICAgfSBlbHNlIGlmICh2YWx1ZS50eXBlID09PSAnc2hhcGUnKSB7XG4gICAgICB2YWx1ZUZvcm1hdCA9ICdcXG4nICsgcHJvcFR5cGVGb3JtYXQodmFsdWUsIHByZWZpeCArICcgICAgJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbHVlRm9ybWF0ID0gcHJvcFR5cGVGb3JtYXQodmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gcHJlZml4ICsgJyAgJyArIGtleSArICc6ICcgKyB2YWx1ZUZvcm1hdDtcbiAgfSk7XG4gIHJldHVybiBwcmVmaXggKyAne1xcbicgKyBwcm9wcy5qb2luKCcsXFxuJykgKyAnXFxuJyArIHByZWZpeCArICd9Jztcbn07XG5cbnZhciBwcm9wVHlwZUZvcm1hdCA9IGZ1bmN0aW9uIHByb3BUeXBlRm9ybWF0KHByb3BUeXBlKSB7XG4gIHZhciBwcmVmaXggPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICcnO1xuXG4gIHZhciByZXN1bHQgPSB2b2lkIDA7XG4gIGlmIChwcm9wVHlwZS50eXBlKSB7XG4gICAgc3dpdGNoIChwcm9wVHlwZS50eXBlKSB7XG4gICAgICBjYXNlICdhcnJheU9mJzpcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocHJvcFR5cGUuYXJncykpIHtcbiAgICAgICAgICByZXN1bHQgPSBwcmVmaXggKyAnW1xcbicgKyBhcnJheUZvcm1hdChwcm9wVHlwZS5hcmdzLCBwcmVmaXggKyAnICAnKS5qb2luKCdcXG4nKSArICdcXG4nICsgcHJlZml4ICsgJ10nO1xuICAgICAgICB9IGVsc2UgaWYgKHByb3BUeXBlLmFyZ3MudHlwZSA9PT0gJ29uZU9mVHlwZScpIHtcbiAgICAgICAgICByZXN1bHQgPSBwcmVmaXggKyAnW1xcbicgKyBwcm9wVHlwZUZvcm1hdChwcm9wVHlwZS5hcmdzLCBwcmVmaXggKyAnICAnKSArICdcXG4nICsgcHJlZml4ICsgJ10nO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc3VsdCA9IHByZWZpeCArICdbJyArIHByb3BUeXBlRm9ybWF0KHByb3BUeXBlLmFyZ3MpICsgJ10nO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnYm9vbCc6XG4gICAgICAgIHJlc3VsdCA9IHByZWZpeCArICdib29sZWFuJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdmdW5jJzpcbiAgICAgICAgcmVzdWx0ID0gcHJlZml4ICsgJ2Z1bmN0aW9uJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdpbnN0YW5jZU9mJzpcbiAgICAgICAgcmVzdWx0ID0gcHJlZml4ICsgJ25ldyAnICsgcHJvcFR5cGUuYXJncy5uYW1lICsgJyguLi4pJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdvYmplY3RPZic6XG4gICAgICAgIHJlc3VsdCA9IHByZWZpeCArICd7IHRlc3Q6ICcgKyBwcm9wVHlwZS5hcmdzLnR5cGUgKyAnLCAuLi4gfSc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnb25lT2YnOlxuICAgICAgICByZXN1bHQgPSBwcm9wVHlwZS5hcmdzLm1hcChmdW5jdGlvbiAoYSkge1xuICAgICAgICAgIHJldHVybiAnJyArIHByZWZpeCArIGE7XG4gICAgICAgIH0pLmpvaW4oJ1xcbicpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ29uZU9mVHlwZSc6XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHByb3BUeXBlLmFyZ3MpKSB7XG4gICAgICAgICAgcmVzdWx0ID0gYXJyYXlGb3JtYXQocHJvcFR5cGUuYXJncywgcHJlZml4KS5qb2luKCdcXG4nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHQgPSAnJyArIHByZWZpeCArIHByb3BUeXBlRm9ybWF0KHByb3BUeXBlLmFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnc2hhcGUnOlxuICAgICAgICByZXN1bHQgPSAnJyArIHNoYXBlRm9ybWF0KHByb3BUeXBlLmFyZ3MsIHByZWZpeCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmVzdWx0ID0gJycgKyBwcmVmaXggKyBwcm9wVHlwZS50eXBlO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0ID0gcHJlZml4ICsgJ2N1c3RvbSc7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbnZhciBwcm9wVHlwZUFzSnNvbiA9IGZ1bmN0aW9uIHByb3BUeXBlQXNKc29uKHByb3BUeXBlLCBwcm9wTmFtZSwgZGVmYXVsdFZhbHVlKSB7XG4gIHZhciBkb2N1bWVudGF0aW9uID0gX2V4dGVuZHMoe30sIHByb3BUeXBlLnJlYWN0RGVzYywge1xuICAgIG5hbWU6IHByb3BOYW1lXG4gIH0pO1xuXG4gIGlmIChkZWZhdWx0VmFsdWUpIHtcbiAgICBkb2N1bWVudGF0aW9uLmRlZmF1bHRWYWx1ZSA9IGRlZmF1bHRWYWx1ZTtcbiAgfVxuXG4gIGRvY3VtZW50YXRpb24uZm9ybWF0ID0gZG9jdW1lbnRhdGlvbi5mb3JtYXQgfHwgcHJvcFR5cGVGb3JtYXQocHJvcFR5cGUpO1xuXG4gIHJldHVybiBkb2N1bWVudGF0aW9uO1xufTtcblxuZnVuY3Rpb24gZGVzY1RvSlNPTihjb21wb25lbnQpIHtcbiAgdmFyIHJlYWN0RGVzYyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG5cbiAgaWYgKCFjb21wb25lbnQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3JlYWN0LWRlc2M6IGNvbXBvbmVudCBpcyByZXF1aXJlZCcpO1xuICB9XG5cbiAgdmFyIGRvY3VtZW50YXRpb24gPSBfZXh0ZW5kcyh7XG4gICAgbmFtZTogY29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IGNvbXBvbmVudC5uYW1lXG4gIH0sIHJlYWN0RGVzYyk7XG4gIGlmIChyZWFjdERlc2MpIHtcbiAgICBkZWxldGUgZG9jdW1lbnRhdGlvbi5wcm9wVHlwZXM7XG5cbiAgICBpZiAocmVhY3REZXNjLnByb3BUeXBlcykge1xuICAgICAgdmFyIHByb3BUeXBlcyA9IFtdO1xuICAgICAgT2JqZWN0LmtleXMocmVhY3REZXNjLnByb3BUeXBlcykuZm9yRWFjaChmdW5jdGlvbiAocHJvcE5hbWUpIHtcbiAgICAgICAgdmFyIHByb3BUeXBlID0gcmVhY3REZXNjLnByb3BUeXBlc1twcm9wTmFtZV07XG4gICAgICAgIHByb3BUeXBlcy5wdXNoKHByb3BUeXBlQXNKc29uKHByb3BUeXBlLCBwcm9wTmFtZSwgKGNvbXBvbmVudC5kZWZhdWx0UHJvcHMgfHwge30pW3Byb3BOYW1lXSkpO1xuICAgICAgfSk7XG4gICAgICBpZiAocHJvcFR5cGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZG9jdW1lbnRhdGlvbi5wcm9wZXJ0aWVzID0gcHJvcFR5cGVzO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gZG9jdW1lbnRhdGlvbjtcbn0iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZGVzY1RvTWFya2Rvd247XG5cbnZhciBfZGVzY1RvSlNPTiA9IHJlcXVpcmUoJy4vZGVzY1RvSlNPTicpO1xuXG52YXIgX2Rlc2NUb0pTT04yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVzY1RvSlNPTik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBjb2RlID0gJ2BgYCc7XG5cbmZ1bmN0aW9uIHBhcnNlQXZhaWxhYmxlQXQoX3JlZikge1xuICB2YXIgYmFkZ2UgPSBfcmVmLmJhZGdlLFxuICAgICAgdXJsID0gX3JlZi51cmw7XG5cbiAgcmV0dXJuICdbIVtdKCcgKyBiYWRnZSArICcpXSgnICsgdXJsICsgJyknO1xufVxuXG5mdW5jdGlvbiBnZXRBdmFpbGFibGVBdChfcmVmMikge1xuICB2YXIgYXZhaWxhYmxlQXQgPSBfcmVmMi5hdmFpbGFibGVBdDtcblxuICBpZiAoIWF2YWlsYWJsZUF0KSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG4gIHZhciBhdmFpbGFibGVBdFN0ciA9IHZvaWQgMDtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXZhaWxhYmxlQXQpKSB7XG4gICAgYXZhaWxhYmxlQXRTdHIgPSBhdmFpbGFibGVBdC5tYXAoZnVuY3Rpb24gKGN1cnJlbnRBdmFpbGFibGUpIHtcbiAgICAgIHJldHVybiBwYXJzZUF2YWlsYWJsZUF0KGN1cnJlbnRBdmFpbGFibGUpO1xuICAgIH0pLmpvaW4oJyAnKTtcbiAgfSBlbHNlIHtcbiAgICBhdmFpbGFibGVBdFN0ciA9IHBhcnNlQXZhaWxhYmxlQXQoYXZhaWxhYmxlQXQpO1xuICB9XG4gIHJldHVybiAnXFxuJyArIGF2YWlsYWJsZUF0U3RyO1xufVxuXG5mdW5jdGlvbiBnZXRIZWFkZXIoX3JlZjMpIHtcbiAgdmFyIGRlc2NyaXB0aW9uID0gX3JlZjMuZGVzY3JpcHRpb24sXG4gICAgICBkZXRhaWxzID0gX3JlZjMuZGV0YWlscyxcbiAgICAgIGRlcHJlY2F0ZWQgPSBfcmVmMy5kZXByZWNhdGVkLFxuICAgICAgbmFtZSA9IF9yZWYzLm5hbWU7XG5cbiAgcmV0dXJuICcjIyAnICsgKGRlcHJlY2F0ZWQgPyAnfn4nICsgbmFtZSArICd+ficgOiBuYW1lKSArIChkZXByZWNhdGVkID8gJyAoJyArIGRlcHJlY2F0ZWQgKyAnKScgOiAnJykgKyAnXFxuJyArIGRlc2NyaXB0aW9uICsgKGRldGFpbHMgPyAnXFxuXFxuJyArIGRldGFpbHMgOiAnJykgKyAnXFxuJztcbn1cblxuZnVuY3Rpb24gZ2V0VXNhZ2UoX3JlZjQpIHtcbiAgdmFyIHVzYWdlID0gX3JlZjQudXNhZ2U7XG5cbiAgcmV0dXJuIHVzYWdlID8gJ1xcbiMjIFVzYWdlXFxuXFxuJyArIGNvZGUgKyAnamF2YXNjcmlwdFxcbicgKyB1c2FnZSArICdcXG4nICsgY29kZSA6ICcnO1xufVxuXG5mdW5jdGlvbiBnZXREZWZhdWx0VmFsdWUoZGVmYXVsdFZhbHVlKSB7XG4gIHZhciBkZWZhdWx0VmFsdWVTdHJpbmcgPSAodHlwZW9mIGRlZmF1bHRWYWx1ZSA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YoZGVmYXVsdFZhbHVlKSkgPT09ICdvYmplY3QnID8gSlNPTi5zdHJpbmdpZnkoZGVmYXVsdFZhbHVlLCB1bmRlZmluZWQsIDIpIDogZGVmYXVsdFZhbHVlO1xuXG4gIHJldHVybiAnIERlZmF1bHRzIHRvIGAnICsgZGVmYXVsdFZhbHVlU3RyaW5nICsgJ2AuJztcbn1cblxuZnVuY3Rpb24gZ2V0UHJvcGVydGllcyhfcmVmNSkge1xuICB2YXIgX3JlZjUkcHJvcGVydGllcyA9IF9yZWY1LnByb3BlcnRpZXMsXG4gICAgICBwcm9wZXJ0aWVzID0gX3JlZjUkcHJvcGVydGllcyA9PT0gdW5kZWZpbmVkID8gW10gOiBfcmVmNSRwcm9wZXJ0aWVzO1xuXG4gIHZhciBwcm9wcyA9IHByb3BlcnRpZXMubWFwKGZ1bmN0aW9uIChfcmVmNikge1xuICAgIHZhciBkZWZhdWx0VmFsdWUgPSBfcmVmNi5kZWZhdWx0VmFsdWUsXG4gICAgICAgIGRlcHJlY2F0ZWQgPSBfcmVmNi5kZXByZWNhdGVkLFxuICAgICAgICBkZXNjcmlwdGlvbiA9IF9yZWY2LmRlc2NyaXB0aW9uLFxuICAgICAgICBmb3JtYXQgPSBfcmVmNi5mb3JtYXQsXG4gICAgICAgIG5hbWUgPSBfcmVmNi5uYW1lLFxuICAgICAgICByZXF1aXJlZCA9IF9yZWY2LnJlcXVpcmVkO1xuICAgIHJldHVybiAnXFxuJyArIChkZXByZWNhdGVkID8gJyoqfn4nICsgbmFtZSArICd+fioqJyA6ICcqKicgKyBuYW1lICsgJyoqJykgKyAoZGVwcmVjYXRlZCA/ICcgKCcgKyBkZXByZWNhdGVkICsgJyknIDogJycpICsgJ1xcblxcbicgKyAocmVxdWlyZWQgPyAnUmVxdWlyZWQuICcgOiAnJykgKyBkZXNjcmlwdGlvbiArIChkZWZhdWx0VmFsdWUgPyBnZXREZWZhdWx0VmFsdWUoZGVmYXVsdFZhbHVlKSA6ICcnKSArICdcXG5cXG4nICsgY29kZSArICdcXG4nICsgZm9ybWF0ICsgJ1xcbicgKyBjb2RlO1xuICB9KTtcbiAgcmV0dXJuICdcXG5cXG4jIyBQcm9wZXJ0aWVzXFxuJyArIHByb3BzLmpvaW4oJ1xcbicpICsgJ1xcbiAgJztcbn1cblxuZnVuY3Rpb24gZ2V0SW50cmluc2ljRWxlbWVudChfcmVmNykge1xuICB2YXIgaW50cmluc2ljRWxlbWVudCA9IF9yZWY3LmludHJpbnNpY0VsZW1lbnQ7XG5cbiAgcmV0dXJuIGludHJpbnNpY0VsZW1lbnQgPyAnXFxuIyMgSW50cmluc2ljIGVsZW1lbnRcXG5cXG4nICsgY29kZSArICdcXG4nICsgaW50cmluc2ljRWxlbWVudCArICdcXG4nICsgY29kZSA6ICcnO1xufVxuXG5mdW5jdGlvbiBkZXNjVG9NYXJrZG93bihjb21wb25lbnQsIHJlYWN0RGVzYykge1xuICBpZiAoIWNvbXBvbmVudCkge1xuICAgIHRocm93IG5ldyBFcnJvcigncmVhY3QtZGVzYzogY29tcG9uZW50IGlzIHJlcXVpcmVkJyk7XG4gIH1cblxuICB2YXIgZG9jdW1lbnRhdGlvbiA9ICgwLCBfZGVzY1RvSlNPTjIuZGVmYXVsdCkoY29tcG9uZW50LCByZWFjdERlc2MpO1xuICB2YXIgYXZhaWxhYmxlQXQgPSBnZXRBdmFpbGFibGVBdChkb2N1bWVudGF0aW9uKTtcbiAgdmFyIGhlYWRlciA9IGdldEhlYWRlcihkb2N1bWVudGF0aW9uKTtcbiAgdmFyIHVzYWdlID0gZ2V0VXNhZ2UoZG9jdW1lbnRhdGlvbik7XG4gIHZhciBwcm9wZXJ0aWVzID0gZ2V0UHJvcGVydGllcyhkb2N1bWVudGF0aW9uKTtcbiAgdmFyIGludHJpbnNpY0VsZW1lbnQgPSBnZXRJbnRyaW5zaWNFbGVtZW50KGRvY3VtZW50YXRpb24pO1xuICByZXR1cm4gJycgKyBoZWFkZXIgKyBhdmFpbGFibGVBdCArIHVzYWdlICsgcHJvcGVydGllcyArIGludHJpbnNpY0VsZW1lbnQ7XG59IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG5leHBvcnRzLmRlZmF1bHQgPSBkZXNjVG9UeXBlc2NyaXB0O1xuXG52YXIgYXJyYXlGb3JtYXQgPSBmdW5jdGlvbiBhcnJheUZvcm1hdChhcnJheSkge1xuICByZXR1cm4gYXJyYXkubWFwKGZ1bmN0aW9uIChwcm9wVHlwZSkge1xuICAgIHJldHVybiBwcm9wVHlwZUZvcm1hdChwcm9wVHlwZSk7XG4gIH0pO1xufTtcblxudmFyIHNoYXBlRm9ybWF0ID0gZnVuY3Rpb24gc2hhcGVGb3JtYXQoc2hhcGUpIHtcbiAgdmFyIHByb3BzID0gT2JqZWN0LmtleXMoc2hhcGUpLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgdmFyIHZhbHVlID0gc2hhcGVba2V5XTtcbiAgICB2YXIgdmFsdWVGb3JtYXQgPSB2b2lkIDA7XG4gICAgaWYgKHZhbHVlLnR5cGUgJiYgKHZhbHVlLnR5cGUgPT09ICdhcnJheU9mJyB8fCB2YWx1ZS50eXBlID09PSAnb25lT2ZUeXBlJyB8fCB2YWx1ZS50eXBlID09PSAnb25lT2YnKSAmJiBBcnJheS5pc0FycmF5KHZhbHVlLmFyZ3MpKSB7XG4gICAgICB2YWx1ZUZvcm1hdCA9ICcnICsgcHJvcFR5cGVGb3JtYXQodmFsdWUpO1xuICAgIH0gZWxzZSBpZiAodmFsdWUudHlwZSA9PT0gJ3NoYXBlJykge1xuICAgICAgdmFsdWVGb3JtYXQgPSAnJyArIHByb3BUeXBlRm9ybWF0KHZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsdWVGb3JtYXQgPSBwcm9wVHlwZUZvcm1hdCh2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiAnJyArIGtleSArICh2YWx1ZS5yZWFjdERlc2MgJiYgdmFsdWUucmVhY3REZXNjLnJlcXVpcmVkID8gJycgOiAnPycpICsgJzogJyArIHZhbHVlRm9ybWF0O1xuICB9KTtcbiAgcmV0dXJuICd7JyArIHByb3BzLmpvaW4oJywnKSArICd9Jztcbn07XG5cbnZhciBwcm9wVHlwZUZvcm1hdCA9IGZ1bmN0aW9uIHByb3BUeXBlRm9ybWF0KHByb3BUeXBlLCBqb2luV2l0aCkge1xuICB2YXIgcmVzdWx0ID0gdm9pZCAwO1xuICBpZiAoQXJyYXkuaXNBcnJheShwcm9wVHlwZSkpIHtcbiAgICByZXN1bHQgPSBhcnJheUZvcm1hdChwcm9wVHlwZSkuam9pbihqb2luV2l0aCk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHByb3BUeXBlICE9PSAnZnVuY3Rpb24nICYmIHByb3BUeXBlLnR5cGUpIHtcbiAgICBzd2l0Y2ggKHByb3BUeXBlLnR5cGUpIHtcbiAgICAgIGNhc2UgJ2FycmF5JzpcbiAgICAgICAgcmVzdWx0ID0gJ2FueVtdJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdhcnJheU9mJzpcbiAgICAgICAgaWYgKHByb3BUeXBlLmFyZ3MudHlwZSA9PT0gJ29uZU9mVHlwZScpIHtcbiAgICAgICAgICByZXN1bHQgPSAnKCcgKyBwcm9wVHlwZUZvcm1hdChwcm9wVHlwZS5hcmdzLCAnIHwgJykgKyAnKVtdJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHQgPSBwcm9wVHlwZUZvcm1hdChwcm9wVHlwZS5hcmdzLCAnXFxuJykgKyAnW10nO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnYm9vbCc6XG4gICAgICAgIHJlc3VsdCA9ICdib29sZWFuJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdmdW5jJzpcbiAgICAgICAgcmVzdWx0ID0gJygoLi4uYXJnczogYW55W10pID0+IGFueSknO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ25vZGUnOlxuICAgICAgICByZXN1bHQgPSAnUmVhY3QuUmVhY3ROb2RlJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdlbGVtZW50JzpcbiAgICAgICAgcmVzdWx0ID0gJ0pTWC5FbGVtZW50JztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdpbnN0YW5jZU9mJzpcbiAgICAgICAgcmVzdWx0ID0gJ2FueSc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnc3ltYm9sJzpcbiAgICAgICAgcmVzdWx0ID0gJ2FueSc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnb2JqZWN0T2YnOlxuICAgICAgICByZXN1bHQgPSAneyBba2V5OiBzdHJpbmddOiAnICsgcHJvcFR5cGVGb3JtYXQocHJvcFR5cGUuYXJncykgKyAnIH0nO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ29uZU9mJzpcbiAgICAgICAgcmVzdWx0ID0gcHJvcFR5cGUuYXJncy5tYXAoZnVuY3Rpb24gKGEpIHtcbiAgICAgICAgICByZXR1cm4gJ1wiJyArIGEgKyAnXCInO1xuICAgICAgICB9KS5qb2luKCcgfCAnKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdvbmVPZlR5cGUnOlxuICAgICAgICByZXN1bHQgPSAnJyArIHByb3BUeXBlRm9ybWF0KHByb3BUeXBlLmFyZ3MsICcgfCAnKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdzaGFwZSc6XG4gICAgICAgIHJlc3VsdCA9ICcnICsgc2hhcGVGb3JtYXQocHJvcFR5cGUuYXJncyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmVzdWx0ID0gJycgKyBwcm9wVHlwZS50eXBlO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0ID0gJ2FueSc7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbnZhciBwcm9wVHlwZUFzVHlwZXNjcmlwdCA9IGZ1bmN0aW9uIHByb3BUeXBlQXNUeXBlc2NyaXB0KHByb3BUeXBlLCBwcm9wTmFtZSkge1xuICB2YXIgZG9jdW1lbnRhdGlvbiA9IF9leHRlbmRzKHt9LCBwcm9wVHlwZS5yZWFjdERlc2MsIHtcbiAgICBuYW1lOiBwcm9wTmFtZVxuICB9KTtcblxuICBkb2N1bWVudGF0aW9uLmZvcm1hdCA9IHByb3BUeXBlRm9ybWF0KHByb3BUeXBlKTtcblxuICByZXR1cm4gZG9jdW1lbnRhdGlvbjtcbn07XG5cbmZ1bmN0aW9uIGRlc2NUb1R5cGVzY3JpcHQoY29tcG9uZW50KSB7XG4gIHZhciByZWFjdERlc2MgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuXG4gIGlmICghY29tcG9uZW50KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdyZWFjdC1kZXNjOiBjb21wb25lbnQgaXMgcmVxdWlyZWQnKTtcbiAgfVxuXG4gIHZhciBkb2N1bWVudGF0aW9uID0gX2V4dGVuZHMoe1xuICAgIG5hbWU6IGNvbXBvbmVudC5kaXNwbGF5TmFtZSB8fCBjb21wb25lbnQubmFtZVxuICB9LCByZWFjdERlc2MpO1xuICBpZiAocmVhY3REZXNjKSB7XG4gICAgZGVsZXRlIGRvY3VtZW50YXRpb24ucHJvcFR5cGVzO1xuXG4gICAgaWYgKHJlYWN0RGVzYy5wcm9wVHlwZXMpIHtcbiAgICAgIHZhciBwcm9wVHlwZXMgPSBbXTtcbiAgICAgIE9iamVjdC5rZXlzKHJlYWN0RGVzYy5wcm9wVHlwZXMpLmZvckVhY2goZnVuY3Rpb24gKHByb3BOYW1lKSB7XG4gICAgICAgIHZhciBwcm9wVHlwZSA9IHJlYWN0RGVzYy5wcm9wVHlwZXNbcHJvcE5hbWVdO1xuICAgICAgICBwcm9wVHlwZXMucHVzaChwcm9wVHlwZUFzVHlwZXNjcmlwdChwcm9wVHlwZSwgcHJvcE5hbWUpKTtcbiAgICAgIH0pO1xuICAgICAgaWYgKHByb3BUeXBlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGRvY3VtZW50YXRpb24ucHJvcGVydGllcyA9IHByb3BUeXBlcztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGRvY3VtZW50YXRpb247XG59IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gZGVzY3JpYmU7XG5cbnZhciBfcHJvcFR5cGVzID0gcmVxdWlyZSgncHJvcC10eXBlcycpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX2Rlc2NUb0pTT04gPSByZXF1aXJlKCcuL2Rlc2NUb0pTT04nKTtcblxudmFyIF9kZXNjVG9KU09OMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Rlc2NUb0pTT04pO1xuXG52YXIgX2Rlc2NUb01hcmtkb3duID0gcmVxdWlyZSgnLi9kZXNjVG9NYXJrZG93bicpO1xuXG52YXIgX2Rlc2NUb01hcmtkb3duMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Rlc2NUb01hcmtkb3duKTtcblxudmFyIF9kZXNjVG9UeXBlc2NyaXB0ID0gcmVxdWlyZSgnLi9kZXNjVG9UeXBlc2NyaXB0Jyk7XG5cbnZhciBfZGVzY1RvVHlwZXNjcmlwdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZXNjVG9UeXBlc2NyaXB0KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIGNvbnZlcnRBcnJheSA9IGZ1bmN0aW9uIGNvbnZlcnRBcnJheShhcnJheSkge1xuICByZXR1cm4gYXJyYXkubWFwKGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgcmV0dXJuIGNvbnZlcnRQcm9wVHlwZSh0eXBlKTtcbiAgfSk7XG59O1xuXG52YXIgY29udmVydFNoYXBlID0gZnVuY3Rpb24gY29udmVydFNoYXBlKHNoYXBlKSB7XG4gIHZhciByZXN1bHQgPSB7fTtcbiAgT2JqZWN0LmtleXMoc2hhcGUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHJlc3VsdFtrZXldID0gY29udmVydFByb3BUeXBlKHNoYXBlW2tleV0pO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbnZhciBjb252ZXJ0UHJvcFR5cGUgPSBmdW5jdGlvbiBjb252ZXJ0UHJvcFR5cGUocHJvcFR5cGUpIHtcbiAgdmFyIHJlc3VsdCA9IHZvaWQgMDtcbiAgaWYgKHByb3BUeXBlICYmIHByb3BUeXBlLnR5cGUpIHtcbiAgICBpZiAoIV9wcm9wVHlwZXMyLmRlZmF1bHRbcHJvcFR5cGUudHlwZV0pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigncmVhY3QtZGVzYzogdW5rbm93biB0eXBlICcgKyBwcm9wVHlwZS50eXBlKTtcbiAgICB9XG4gICAgaWYgKHByb3BUeXBlLmFyZ3MpIHtcbiAgICAgIGlmIChwcm9wVHlwZS50eXBlID09PSAnb25lT2ZUeXBlJyB8fCBwcm9wVHlwZS50eXBlID09PSAnYXJyYXlPZicpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocHJvcFR5cGUuYXJncykpIHtcbiAgICAgICAgICByZXN1bHQgPSBfcHJvcFR5cGVzMi5kZWZhdWx0W3Byb3BUeXBlLnR5cGVdKGNvbnZlcnRBcnJheShwcm9wVHlwZS5hcmdzKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzdWx0ID0gX3Byb3BUeXBlczIuZGVmYXVsdFtwcm9wVHlwZS50eXBlXShjb252ZXJ0UHJvcFR5cGUocHJvcFR5cGUuYXJncykpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHByb3BUeXBlLnR5cGUgPT09ICdzaGFwZScpIHtcbiAgICAgICAgcmVzdWx0ID0gX3Byb3BUeXBlczIuZGVmYXVsdFtwcm9wVHlwZS50eXBlXShjb252ZXJ0U2hhcGUocHJvcFR5cGUuYXJncykpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gX3Byb3BUeXBlczIuZGVmYXVsdFtwcm9wVHlwZS50eXBlXShwcm9wVHlwZS5hcmdzKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0ID0gX3Byb3BUeXBlczIuZGVmYXVsdFtwcm9wVHlwZS50eXBlXTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0ID0gcHJvcFR5cGU7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbmZ1bmN0aW9uIGRlc2NyaWJlKENvbXBvbmVudEluc3RhbmNlKSB7XG4gIGlmICghQ29tcG9uZW50SW5zdGFuY2UpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3JlYWN0LWRlc2M6IGNvbXBvbmVudCBpcyByZXF1aXJlZCcpO1xuICB9XG5cbiAgdmFyIGRvY3VtZW50YXRpb24gPSB7XG4gICAgcHJvcFR5cGVzOiB7fVxuICB9O1xuXG4gIHZhciBEb2N1bWVudGVkQ29tcG9uZW50ID0gQ29tcG9uZW50SW5zdGFuY2U7XG5cbiAgdmFyIGFkZERvY3VtZW50YXRpb25Qcm9wID0gZnVuY3Rpb24gYWRkRG9jdW1lbnRhdGlvblByb3AocHJvcE5hbWUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBkb2N1bWVudGF0aW9uW3Byb3BOYW1lXSA9IHZhbHVlO1xuICAgICAgcmV0dXJuIERvY3VtZW50ZWRDb21wb25lbnQ7XG4gICAgfTtcbiAgfTtcblxuICBEb2N1bWVudGVkQ29tcG9uZW50LmF2YWlsYWJsZUF0ID0gYWRkRG9jdW1lbnRhdGlvblByb3AoJ2F2YWlsYWJsZUF0Jyk7XG4gIERvY3VtZW50ZWRDb21wb25lbnQuZGVzY3JpcHRpb24gPSBhZGREb2N1bWVudGF0aW9uUHJvcCgnZGVzY3JpcHRpb24nKTtcbiAgRG9jdW1lbnRlZENvbXBvbmVudC5kZXRhaWxzID0gYWRkRG9jdW1lbnRhdGlvblByb3AoJ2RldGFpbHMnKTtcbiAgRG9jdW1lbnRlZENvbXBvbmVudC5kZXByZWNhdGVkID0gYWRkRG9jdW1lbnRhdGlvblByb3AoJ2RlcHJlY2F0ZWQnKTtcbiAgRG9jdW1lbnRlZENvbXBvbmVudC51c2FnZSA9IGFkZERvY3VtZW50YXRpb25Qcm9wKCd1c2FnZScpO1xuICBEb2N1bWVudGVkQ29tcG9uZW50LmludHJpbnNpY0VsZW1lbnQgPSBhZGREb2N1bWVudGF0aW9uUHJvcCgnaW50cmluc2ljRWxlbWVudCcpO1xuXG4gIERvY3VtZW50ZWRDb21wb25lbnQudG9KU09OID0gX2Rlc2NUb0pTT04yLmRlZmF1bHQuYmluZChudWxsLCBDb21wb25lbnRJbnN0YW5jZSwgZG9jdW1lbnRhdGlvbik7XG4gIERvY3VtZW50ZWRDb21wb25lbnQudG9UeXBlc2NyaXB0ID0gX2Rlc2NUb1R5cGVzY3JpcHQyLmRlZmF1bHQuYmluZChudWxsLCBDb21wb25lbnRJbnN0YW5jZSwgZG9jdW1lbnRhdGlvbik7XG4gIERvY3VtZW50ZWRDb21wb25lbnQudG9NYXJrZG93biA9IF9kZXNjVG9NYXJrZG93bjIuZGVmYXVsdC5iaW5kKG51bGwsIENvbXBvbmVudEluc3RhbmNlLCBkb2N1bWVudGF0aW9uKTtcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRG9jdW1lbnRlZENvbXBvbmVudCwgJ3Byb3BUeXBlcycsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBEb2N1bWVudGVkQ29tcG9uZW50LnByb3BUeXBlc1ZhbHVlO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgIGlmICghRG9jdW1lbnRlZENvbXBvbmVudC5wcm9wVHlwZXNWYWx1ZSkge1xuICAgICAgICBEb2N1bWVudGVkQ29tcG9uZW50LnByb3BUeXBlc1ZhbHVlID0ge307XG4gICAgICB9XG4gICAgICBPYmplY3Qua2V5cyh2YWx1ZSkuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICB2YXIgcHJvcFR5cGUgPSB2YWx1ZVtuYW1lXTtcbiAgICAgICAgaWYgKHByb3BUeXBlLnR5cGUpIHtcbiAgICAgICAgICBkb2N1bWVudGF0aW9uLnByb3BUeXBlc1tuYW1lXSA9IHByb3BUeXBlO1xuICAgICAgICAgIHByb3BUeXBlID0gY29udmVydFByb3BUeXBlKHByb3BUeXBlKTtcbiAgICAgICAgICBpZiAodmFsdWVbbmFtZV0ucmVhY3REZXNjLnJlcXVpcmVkKSB7XG4gICAgICAgICAgICBwcm9wVHlwZSA9IHByb3BUeXBlLmlzUmVxdWlyZWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIERvY3VtZW50ZWRDb21wb25lbnQucHJvcFR5cGVzVmFsdWVbbmFtZV0gPSBwcm9wVHlwZTtcbiAgICAgICAgcmV0dXJuIHByb3BUeXBlO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KTtcblxuICByZXR1cm4gRG9jdW1lbnRlZENvbXBvbmVudDtcbn0iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfUHJvcFR5cGVzID0gcmVxdWlyZSgnLi9Qcm9wVHlwZXMnKTtcblxudmFyIF9Qcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUHJvcFR5cGVzKTtcblxudmFyIF9kZXNjcmliZSA9IHJlcXVpcmUoJy4vZGVzY3JpYmUnKTtcblxudmFyIF9kZXNjcmliZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZXNjcmliZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuUHJvcFR5cGVzID0gX1Byb3BUeXBlczIuZGVmYXVsdDtcbmV4cG9ydHMuZGVzY3JpYmUgPSBfZGVzY3JpYmUyLmRlZmF1bHQ7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IHtcbiAgZGVzY3JpYmU6IF9kZXNjcmliZTIuZGVmYXVsdCxcbiAgUHJvcFR5cGVzOiBfUHJvcFR5cGVzMi5kZWZhdWx0XG59OyIsImltcG9ydCB7IFB1cmVDb21wb25lbnQsIGNyZWF0ZUNvbnRleHQsIGNyZWF0ZVJlZiwgY3JlYXRlRWxlbWVudCwgRnJhZ21lbnQsIENvbXBvbmVudCwgdXNlQ29udGV4dCwgdXNlRWZmZWN0LCB1c2VTdGF0ZSwgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IG1lbW9pemUgZnJvbSAnbWVtb2l6ZS1vbmUnO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG52YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfTtcclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19zcHJlYWRBcnJheXMoKSB7XHJcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcclxuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcclxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcclxuICAgICAgICAgICAgcltrXSA9IGFbal07XHJcbiAgICByZXR1cm4gcjtcclxufVxuXG52YXIgc2hhbGxvd0VxdWFsU2Nyb2xsID0gZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgIGlmIChhID09PSBiKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gKGEueCA9PT0gYi54ICYmXHJcbiAgICAgICAgYS55ID09PSBiLnkgJiZcclxuICAgICAgICBhLnhUdXJuID09PSBiLnhUdXJuICYmXHJcbiAgICAgICAgYS55VHVybiA9PT0gYi55VHVybiAmJlxyXG4gICAgICAgIGEueERUdXJuID09PSBiLnhEVHVybiAmJlxyXG4gICAgICAgIGEueURUdXJuID09PSBiLnlEVHVybiAmJlxyXG4gICAgICAgIGEuaXNTY3JvbGxpbmdVcCA9PT0gYi5pc1Njcm9sbGluZ1VwICYmXHJcbiAgICAgICAgYS5pc1Njcm9sbGluZ0Rvd24gPT09IGIuaXNTY3JvbGxpbmdEb3duICYmXHJcbiAgICAgICAgYS5pc1Njcm9sbGluZ0xlZnQgPT09IGIuaXNTY3JvbGxpbmdMZWZ0ICYmXHJcbiAgICAgICAgYS5pc1Njcm9sbGluZ1JpZ2h0ID09PSBiLmlzU2Nyb2xsaW5nUmlnaHQpO1xyXG59O1xyXG52YXIgc2hhbGxvd0VxdWFsUmVjdCA9IGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICBpZiAoYSA9PT0gYikge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIChhLnRvcCA9PT0gYi50b3AgJiZcclxuICAgICAgICBhLnJpZ2h0ID09PSBiLnJpZ2h0ICYmXHJcbiAgICAgICAgYS5ib3R0b20gPT09IGIuYm90dG9tICYmXHJcbiAgICAgICAgYS5sZWZ0ID09PSBiLmxlZnQgJiZcclxuICAgICAgICBhLmhlaWdodCA9PT0gYi5oZWlnaHQgJiZcclxuICAgICAgICBhLndpZHRoID09PSBiLndpZHRoKTtcclxufTtcclxudmFyIHNoYWxsb3dFcXVhbERpbWVuc2lvbnMgPSBmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgaWYgKGEgPT09IGIpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIHJldHVybiAoYS53aWR0aCA9PT0gYi53aWR0aCAmJlxyXG4gICAgICAgIGEuaGVpZ2h0ID09PSBiLmhlaWdodCAmJlxyXG4gICAgICAgIGEuY2xpZW50V2lkdGggPT09IGIuY2xpZW50V2lkdGggJiZcclxuICAgICAgICBhLmNsaWVudEhlaWdodCA9PT0gYi5jbGllbnRIZWlnaHQgJiZcclxuICAgICAgICBhLm91dGVyV2lkdGggPT09IGIub3V0ZXJXaWR0aCAmJlxyXG4gICAgICAgIGEub3V0ZXJIZWlnaHQgPT09IGIub3V0ZXJIZWlnaHQgJiZcclxuICAgICAgICBhLmRvY3VtZW50V2lkdGggPT09IGIuZG9jdW1lbnRXaWR0aCAmJlxyXG4gICAgICAgIGEuZG9jdW1lbnRIZWlnaHQgPT09IGIuZG9jdW1lbnRIZWlnaHQpO1xyXG59O1xyXG4vLyBpbXBsZW1lbnRhdGlvbiBiYXNlZCBvbiBodHRwczovL2dpdGh1Yi5jb20vV0lDRy9FdmVudExpc3RlbmVyT3B0aW9ucy9ibG9iL2doLXBhZ2VzL2V4cGxhaW5lci5tZFxyXG52YXIgYnJvd3NlclN1cHBvcnRzUGFzc2l2ZUV2ZW50cyA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICB2YXIgc3VwcG9ydHNQYXNzaXZlID0gZmFsc2U7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHZhciBvcHRzID0gT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAncGFzc2l2ZScsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBzdXBwb3J0c1Bhc3NpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0ZXN0UGFzc2l2ZScsIG51bGwsIG9wdHMpO1xyXG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd0ZXN0UGFzc2l2ZScsIG51bGwsIG9wdHMpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gc3VwcG9ydHNQYXNzaXZlO1xyXG59KSgpO1xyXG52YXIgc2ltcGxlRGVib3VuY2UgPSBmdW5jdGlvbiAoZm4sIGRlbGF5KSB7XHJcbiAgICB2YXIgdGltZW91dDtcclxuICAgIHJldHVybiAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBhcmdzID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XHJcbiAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQuYXBwbHkodm9pZCAwLCBfX3NwcmVhZEFycmF5cyhbZm4sIGRlbGF5XSwgYXJncykpO1xyXG4gICAgfSk7XHJcbn07XHJcbnZhciBkZWJvdW5jZU9uVXBkYXRlID0gZnVuY3Rpb24gKGZuLCBkZWxheSkge1xyXG4gICAgdmFyIHRpbWVvdXQ7XHJcbiAgICB2YXIgc2Nyb2xsRGlkVXBkYXRlID0gZmFsc2U7XHJcbiAgICB2YXIgZGltZW5zaW9uc0RpZFVwZGF0ZSA9IGZhbHNlO1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh2aWV3cG9ydCwgb3B0aW9ucykge1xyXG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcclxuICAgICAgICBzY3JvbGxEaWRVcGRhdGUgPSBzY3JvbGxEaWRVcGRhdGUgfHwgb3B0aW9ucy5zY3JvbGxEaWRVcGRhdGU7XHJcbiAgICAgICAgZGltZW5zaW9uc0RpZFVwZGF0ZSA9IGRpbWVuc2lvbnNEaWRVcGRhdGUgfHwgb3B0aW9ucy5kaW1lbnNpb25zRGlkVXBkYXRlO1xyXG4gICAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgZm4odmlld3BvcnQsIHtcclxuICAgICAgICAgICAgICAgIHNjcm9sbERpZFVwZGF0ZTogc2Nyb2xsRGlkVXBkYXRlLFxyXG4gICAgICAgICAgICAgICAgZGltZW5zaW9uc0RpZFVwZGF0ZTogZGltZW5zaW9uc0RpZFVwZGF0ZSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHNjcm9sbERpZFVwZGF0ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBkaW1lbnNpb25zRGlkVXBkYXRlID0gZmFsc2U7XHJcbiAgICAgICAgfSwgZGVsYXkpO1xyXG4gICAgfTtcclxufTtcclxudmFyIHdhcm5Ob0NvbnRleHRBdmFpbGFibGUgPSBmdW5jdGlvbiAobG9jYXRpb24pIHtcclxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdmFyIGZyb21Ib29rID0gbG9jYXRpb24uc3RhcnRzV2l0aCgndXNlJyk7XHJcbiAgICBpZiAoZnJvbUhvb2spIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oXCJyZWFjdC12aWV3cG9ydC11dGlsczogXCIgKyBsb2NhdGlvbiArIFwiIGhvb2sgaXMgbm90IGFibGUgdG8gY29ubmVjdCB0byBhIDxWaWV3cG9ydFByb3ZpZGVyPi4gVGhlcmVmb3JlIGl0IGNhbm5vdCBkZXRlY3QgdXBkYXRlcyBmcm9tIHRoZSB2aWV3cG9ydCBhbmQgd2lsbCBub3Qgd29yayBhcyBleHBlY3RlZC4gVG8gcmVzb2x2ZSB0aGlzIGlzc3VlIHBsZWFzZSBhZGQgYSA8Vmlld3BvcnRQcm92aWRlcj4gYXMgYSBwYXJlbnQgb2YgdGhlIGNvbXBvbmVudCB1c2luZyB0aGUgaG9vaywgZS5nLiBkaXJlY3RseSBpbiB0aGUgUmVhY3RET00ucmVuZGVyIGNhbGw6XFxuXFxuaW1wb3J0ICogYXMgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcXG5pbXBvcnQgeyBWaWV3cG9ydFByb3ZpZGVyLCBcIiArIGxvY2F0aW9uICsgXCIgfSBmcm9tICdyZWFjdC12aWV3cG9ydC11dGlscyc7XFxuXFxuY29uc3QgTXlDb21wb25lbnQgPSAoKSA9PiB7XFxuICBcIiArIGxvY2F0aW9uICsgXCIoKVxcbiAgLi4uXFxufVxcblxcblJlYWN0RE9NLnJlbmRlcihcXG4gIDxWaWV3cG9ydFByb3ZpZGVyPlxcbiAgICA8bWFpbiByb2xlPVxcXCJtYWluXFxcIj5cXG4gICAgICA8TXlDb21wb25lbnQgLz5cXG4gICAgPC9tYWluPlxcbiAgPC9WaWV3cG9ydFByb3ZpZGVyPixcXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyb290JylcXG4pO1wiKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBjb25zb2xlLndhcm4oXCJyZWFjdC12aWV3cG9ydC11dGlsczogXCIgKyBsb2NhdGlvbiArIFwiIGNvbXBvbmVudCBpcyBub3QgYWJsZSB0byBjb25uZWN0IHRvIGEgPFZpZXdwb3J0UHJvdmlkZXI+LiBUaGVyZWZvcmUgaXQgY2Fubm90IGRldGVjdCB1cGRhdGVzIGZyb20gdGhlIHZpZXdwb3J0IGFuZCB3aWxsIG5vdCB3b3JrIGFzIGV4cGVjdGVkLiBUbyByZXNvbHZlIHRoaXMgaXNzdWUgcGxlYXNlIGFkZCBhIDxWaWV3cG9ydFByb3ZpZGVyPiBhcyBhIHBhcmVudCBvZiB0aGUgPE9ic2VydmVWaWV3cG9ydD4gY29tcG9uZW50LCBlLmcuIGRpcmVjdGx5IGluIHRoZSBSZWFjdERPTS5yZW5kZXIgY2FsbDpcXG5cXG5pbXBvcnQgKiBhcyBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xcbmltcG9ydCB7IFZpZXdwb3J0UHJvdmlkZXIsIE9ic2VydmVWaWV3cG9ydCB9IGZyb20gJ3JlYWN0LXZpZXdwb3J0LXV0aWxzJztcXG5SZWFjdERPTS5yZW5kZXIoXFxuICA8Vmlld3BvcnRQcm92aWRlcj5cXG4gICAgPG1haW4gcm9sZT1cXFwibWFpblxcXCI+XFxuICAgICAgPE9ic2VydmVWaWV3cG9ydD5cXG4gICAgICAgIHsoeyBzY3JvbGwsIGRpbWVuc2lvbnMgfSkgPT4gLi4ufVxcbiAgICAgIDwvT2JzZXJ2ZVZpZXdwb3J0PlxcbiAgICA8L21haW4+XFxuICA8L1ZpZXdwb3J0UHJvdmlkZXI+LFxcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jvb3QnKVxcbik7XCIpO1xyXG59O1xyXG52YXIgd2Fybk5vUmVzaXplT2JzZXJ2ZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNvbnNvbGUud2FybigncmVhY3Qtdmlld3BvcnQtdXRpbHM6IFRoaXMgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IHRoZSBSZXNpemVPYnNlcnZlciBBUEksIHRoZXJlZm9yZSBub3QgYWxsIHBvc3NpYmxlIHJlc2l6ZSBldmVudHMgd2lsbCBiZSBkZXRlY3RlZC4gSW4gbW9zdCBvZiB0aGUgY2FzZXMgdGhpcyBpcyBub3QgYW4gaXNzdWUgYW5kIGNhbiBiZSBpZ25vcmVkLiBJZiBpdHMgcmVsZXZhbnQgdG8geW91ciBhcHBsaWNhdGlvbiBwbGVhc2UgY29uc2lkZXIgYWRkaW5nIGEgcG9seWZpbGwsIGUuZy4gaHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2UvcmVzaXplLW9ic2VydmVyLXBvbHlmaWxsIC4nKTtcclxufTtcclxudmFyIHJlcXVlc3RBbmltYXRpb25GcmFtZSA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZmFsbGJhY2sgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcclxuICAgICAgICByZXR1cm4gc2V0VGltZW91dChjYWxsYmFjaywgMTAwMCAvIDYwKTtcclxuICAgIH07XHJcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICByZXR1cm4gKHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcclxuICAgICAgICAgICAgd2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxyXG4gICAgICAgICAgICB3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XHJcbiAgICAgICAgICAgIGZhbGxiYWNrKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxsYmFjaztcclxufSkoKTtcclxudmFyIGNhbmNlbEFuaW1hdGlvbkZyYW1lID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIHJldHVybiAod2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lIHx8XHJcbiAgICAgICAgICAgIHdpbmRvdy53ZWJraXRDYW5jZWxBbmltYXRpb25GcmFtZSB8fFxyXG4gICAgICAgICAgICB3aW5kb3cud2Via2l0Q2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XHJcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY2xlYXJUaW1lb3V0O1xyXG59KSgpO1xyXG52YXIgbm93ID0gdHlwZW9mIHBlcmZvcm1hbmNlICE9PSAndW5kZWZpbmVkJyAmJiBwZXJmb3JtYW5jZS5ub3dcclxuICAgID8gcGVyZm9ybWFuY2Uubm93LmJpbmQocGVyZm9ybWFuY2UpXHJcbiAgICA6IERhdGUubm93O1xyXG52YXIgY3JlYXRlUGVyZm9ybWFuY2VNYXJrZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc3RhcnQgPSBub3coKTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7IHJldHVybiBub3coKSAtIHN0YXJ0OyB9O1xyXG59O1xuXG52YXIgZ2V0Q2xpZW50RGltZW5zaW9ucyA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnIHx8ICFkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpIHtcclxuICAgICAgICByZXR1cm4gY3JlYXRlRW1wdHlEaW1lbnNpb25TdGF0ZSgpO1xyXG4gICAgfVxyXG4gICAgdmFyIGlubmVyV2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aCwgaW5uZXJIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQsIG91dGVyV2lkdGggPSB3aW5kb3cub3V0ZXJXaWR0aCwgb3V0ZXJIZWlnaHQgPSB3aW5kb3cub3V0ZXJIZWlnaHQ7XHJcbiAgICB2YXIgX2EgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIGNsaWVudFdpZHRoID0gX2EuY2xpZW50V2lkdGgsIGNsaWVudEhlaWdodCA9IF9hLmNsaWVudEhlaWdodCwgc2Nyb2xsSGVpZ2h0ID0gX2Euc2Nyb2xsSGVpZ2h0LCBzY3JvbGxXaWR0aCA9IF9hLnNjcm9sbFdpZHRoLCBvZmZzZXRIZWlnaHQgPSBfYS5vZmZzZXRIZWlnaHQsIG9mZnNldFdpZHRoID0gX2Eub2Zmc2V0V2lkdGg7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHdpZHRoOiBpbm5lcldpZHRoLFxyXG4gICAgICAgIGhlaWdodDogaW5uZXJIZWlnaHQsXHJcbiAgICAgICAgY2xpZW50V2lkdGg6IGNsaWVudFdpZHRoLFxyXG4gICAgICAgIGNsaWVudEhlaWdodDogY2xpZW50SGVpZ2h0LFxyXG4gICAgICAgIG91dGVyV2lkdGg6IG91dGVyV2lkdGgsXHJcbiAgICAgICAgb3V0ZXJIZWlnaHQ6IG91dGVySGVpZ2h0LFxyXG4gICAgICAgIGRvY3VtZW50V2lkdGg6IE1hdGgubWF4KHNjcm9sbFdpZHRoLCBvZmZzZXRXaWR0aCwgY2xpZW50V2lkdGgpLFxyXG4gICAgICAgIGRvY3VtZW50SGVpZ2h0OiBNYXRoLm1heChzY3JvbGxIZWlnaHQsIG9mZnNldEhlaWdodCwgY2xpZW50SGVpZ2h0KSxcclxuICAgIH07XHJcbn07XHJcbnZhciBnZXROb2RlU2Nyb2xsID0gZnVuY3Rpb24gKGVsZW0pIHtcclxuICAgIGlmIChlbGVtID09PSB2b2lkIDApIHsgZWxlbSA9IHdpbmRvdzsgfVxyXG4gICAgdmFyIHNjcm9sbFggPSBlbGVtLnNjcm9sbFgsIHNjcm9sbFkgPSBlbGVtLnNjcm9sbFk7XHJcbiAgICBpZiAoc2Nyb2xsWCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgc2Nyb2xsWCA9IGVsZW0ucGFnZVhPZmZzZXQ7XHJcbiAgICB9XHJcbiAgICBpZiAoc2Nyb2xsWSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgc2Nyb2xsWSA9IGVsZW0ucGFnZVlPZmZzZXQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHg6IHNjcm9sbFgsXHJcbiAgICAgICAgeTogc2Nyb2xsWSxcclxuICAgIH07XHJcbn07XHJcbnZhciBnZXRDbGllbnRTY3JvbGwgPSBmdW5jdGlvbiAocHJldlNjcm9sbFN0YXRlKSB7XHJcbiAgICBpZiAocHJldlNjcm9sbFN0YXRlID09PSB2b2lkIDApIHsgcHJldlNjcm9sbFN0YXRlID0gY3JlYXRlRW1wdHlTY3JvbGxTdGF0ZSgpOyB9XHJcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICByZXR1cm4gY3JlYXRlRW1wdHlTY3JvbGxTdGF0ZSgpO1xyXG4gICAgfVxyXG4gICAgdmFyIF9hID0gZ2V0Tm9kZVNjcm9sbCgpLCB4ID0gX2EueCwgeSA9IF9hLnk7XHJcbiAgICB2YXIgbmV4dFNjcm9sbFN0YXRlID0gX19hc3NpZ24oe30sIHByZXZTY3JvbGxTdGF0ZSk7XHJcbiAgICB2YXIgcHJldklzU2Nyb2xsaW5nTGVmdCA9IHByZXZTY3JvbGxTdGF0ZS5pc1Njcm9sbGluZ0xlZnQsIHByZXZJc1Njcm9sbGluZ1VwID0gcHJldlNjcm9sbFN0YXRlLmlzU2Nyb2xsaW5nVXAsIHByZXZYVHVybiA9IHByZXZTY3JvbGxTdGF0ZS54VHVybiwgcHJldllUdXJuID0gcHJldlNjcm9sbFN0YXRlLnlUdXJuO1xyXG4gICAgbmV4dFNjcm9sbFN0YXRlLmlzU2Nyb2xsaW5nTGVmdCA9IGlzU2Nyb2xsaW5nTGVmdCh4LCBuZXh0U2Nyb2xsU3RhdGUpO1xyXG4gICAgbmV4dFNjcm9sbFN0YXRlLmlzU2Nyb2xsaW5nUmlnaHQgPSBpc1Njcm9sbGluZ1JpZ2h0KHgsIG5leHRTY3JvbGxTdGF0ZSk7XHJcbiAgICBuZXh0U2Nyb2xsU3RhdGUuaXNTY3JvbGxpbmdVcCA9IGlzU2Nyb2xsaW5nVXAoeSwgbmV4dFNjcm9sbFN0YXRlKTtcclxuICAgIG5leHRTY3JvbGxTdGF0ZS5pc1Njcm9sbGluZ0Rvd24gPSBpc1Njcm9sbGluZ0Rvd24oeSwgbmV4dFNjcm9sbFN0YXRlKTtcclxuICAgIG5leHRTY3JvbGxTdGF0ZS54VHVybiA9XHJcbiAgICAgICAgbmV4dFNjcm9sbFN0YXRlLmlzU2Nyb2xsaW5nTGVmdCA9PT0gcHJldklzU2Nyb2xsaW5nTGVmdCA/IHByZXZYVHVybiA6IHg7XHJcbiAgICBuZXh0U2Nyb2xsU3RhdGUueVR1cm4gPVxyXG4gICAgICAgIG5leHRTY3JvbGxTdGF0ZS5pc1Njcm9sbGluZ1VwID09PSBwcmV2SXNTY3JvbGxpbmdVcCA/IHByZXZZVHVybiA6IHk7XHJcbiAgICBuZXh0U2Nyb2xsU3RhdGUueERUdXJuID0geCAtIG5leHRTY3JvbGxTdGF0ZS54VHVybjtcclxuICAgIG5leHRTY3JvbGxTdGF0ZS55RFR1cm4gPSB5IC0gbmV4dFNjcm9sbFN0YXRlLnlUdXJuO1xyXG4gICAgbmV4dFNjcm9sbFN0YXRlLnggPSB4O1xyXG4gICAgbmV4dFNjcm9sbFN0YXRlLnkgPSB5O1xyXG4gICAgcmV0dXJuIG5leHRTY3JvbGxTdGF0ZTtcclxufTtcclxudmFyIGlzU2Nyb2xsaW5nTGVmdCA9IGZ1bmN0aW9uICh4LCBwcmV2KSB7XHJcbiAgICBzd2l0Y2ggKHRydWUpIHtcclxuICAgICAgICBjYXNlIHggPCBwcmV2Lng6XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIGNhc2UgeCA+IHByZXYueDpcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIGNhc2UgeCA9PT0gcHJldi54OlxyXG4gICAgICAgICAgICByZXR1cm4gcHJldi5pc1Njcm9sbGluZ0xlZnQ7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb3VsZCBub3QgY2FsY3VsYXRlIGlzU2Nyb2xsaW5nTGVmdCcpO1xyXG4gICAgfVxyXG59O1xyXG52YXIgaXNTY3JvbGxpbmdSaWdodCA9IGZ1bmN0aW9uICh4LCBwcmV2KSB7XHJcbiAgICBzd2l0Y2ggKHRydWUpIHtcclxuICAgICAgICBjYXNlIHggPiBwcmV2Lng6XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIGNhc2UgeCA8IHByZXYueDpcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIGNhc2UgeCA9PT0gcHJldi54OlxyXG4gICAgICAgICAgICByZXR1cm4gcHJldi5pc1Njcm9sbGluZ1JpZ2h0O1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ291bGQgbm90IGNhbGN1bGF0ZSBpc1Njcm9sbGluZ1JpZ2h0Jyk7XHJcbiAgICB9XHJcbn07XHJcbnZhciBpc1Njcm9sbGluZ1VwID0gZnVuY3Rpb24gKHksIHByZXYpIHtcclxuICAgIHN3aXRjaCAodHJ1ZSkge1xyXG4gICAgICAgIGNhc2UgeSA8IHByZXYueTpcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgY2FzZSB5ID4gcHJldi55OlxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgY2FzZSB5ID09PSBwcmV2Lnk6XHJcbiAgICAgICAgICAgIHJldHVybiBwcmV2LmlzU2Nyb2xsaW5nVXA7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb3VsZCBub3QgY2FsY3VsYXRlIGlzU2Nyb2xsaW5nVXAnKTtcclxuICAgIH1cclxufTtcclxudmFyIGlzU2Nyb2xsaW5nRG93biA9IGZ1bmN0aW9uICh5LCBwcmV2KSB7XHJcbiAgICBzd2l0Y2ggKHRydWUpIHtcclxuICAgICAgICBjYXNlIHkgPiBwcmV2Lnk6XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIGNhc2UgeSA8IHByZXYueTpcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIGNhc2UgeSA9PT0gcHJldi55OlxyXG4gICAgICAgICAgICByZXR1cm4gcHJldi5pc1Njcm9sbGluZ0Rvd247XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb3VsZCBub3QgY2FsY3VsYXRlIGlzU2Nyb2xsaW5nRG93bicpO1xyXG4gICAgfVxyXG59O1xyXG52YXIgY3JlYXRlRW1wdHlTY3JvbGxTdGF0ZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICh7XHJcbiAgICB4OiAwLFxyXG4gICAgeTogMCxcclxuICAgIGlzU2Nyb2xsaW5nVXA6IGZhbHNlLFxyXG4gICAgaXNTY3JvbGxpbmdEb3duOiBmYWxzZSxcclxuICAgIGlzU2Nyb2xsaW5nTGVmdDogZmFsc2UsXHJcbiAgICBpc1Njcm9sbGluZ1JpZ2h0OiBmYWxzZSxcclxuICAgIHhUdXJuOiAwLFxyXG4gICAgeVR1cm46IDAsXHJcbiAgICB4RFR1cm46IDAsXHJcbiAgICB5RFR1cm46IDAsXHJcbn0pOyB9O1xyXG52YXIgY3JlYXRlRW1wdHlEaW1lbnNpb25TdGF0ZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICh7XHJcbiAgICB3aWR0aDogMCxcclxuICAgIGhlaWdodDogMCxcclxuICAgIGNsaWVudFdpZHRoOiAwLFxyXG4gICAgY2xpZW50SGVpZ2h0OiAwLFxyXG4gICAgb3V0ZXJXaWR0aDogMCxcclxuICAgIG91dGVySGVpZ2h0OiAwLFxyXG4gICAgZG9jdW1lbnRXaWR0aDogMCxcclxuICAgIGRvY3VtZW50SGVpZ2h0OiAwLFxyXG59KTsgfTtcclxudmFyIFZpZXdwb3J0Q29sbGVjdG9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFZpZXdwb3J0Q29sbGVjdG9yLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gVmlld3BvcnRDb2xsZWN0b3IocHJvcHMpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy50aWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoX3RoaXMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5zY3JvbGxNaWdodEhhdmVVcGRhdGVkIHx8IF90aGlzLnJlc2l6ZU1pZ2h0SGF2ZVVwZGF0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zeW5jU3RhdGUoKTtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zY3JvbGxNaWdodEhhdmVVcGRhdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucmVzaXplTWlnaHRIYXZlVXBkYXRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgX3RoaXMudGlja0lkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBfdGhpcy5oYW5kbGVTY3JvbGwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLnNjcm9sbE1pZ2h0SGF2ZVVwZGF0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAoIV90aGlzLnRpY2tJZCkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMudGlja0lkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKF90aGlzLnRpY2spO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBfdGhpcy5oYW5kbGVSZXNpemUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLnJlc2l6ZU1pZ2h0SGF2ZVVwZGF0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAoIV90aGlzLnRpY2tJZCkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMudGlja0lkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKF90aGlzLnRpY2spO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBfdGhpcy5oYW5kbGVSZXNpemVEZWJvdW5jZSA9IHNpbXBsZURlYm91bmNlKF90aGlzLmhhbmRsZVJlc2l6ZSwgODgpO1xyXG4gICAgICAgIF90aGlzLmdldFB1YmxpY1Njcm9sbCA9IG1lbW9pemUoZnVuY3Rpb24gKHNjcm9sbCkgeyByZXR1cm4gKF9fYXNzaWduKHt9LCBzY3JvbGwpKTsgfSwgZnVuY3Rpb24gKF9hLCBfYikge1xyXG4gICAgICAgICAgICB2YXIgYSA9IF9hWzBdO1xyXG4gICAgICAgICAgICB2YXIgYiA9IF9iWzBdO1xyXG4gICAgICAgICAgICByZXR1cm4gc2hhbGxvd0VxdWFsU2Nyb2xsKGEsIGIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIF90aGlzLmdldFB1YmxpY0RpbWVuc2lvbnMgPSBtZW1vaXplKGZ1bmN0aW9uIChkaW1lbnNpb25zKSB7IHJldHVybiAoX19hc3NpZ24oe30sIGRpbWVuc2lvbnMpKTsgfSwgZnVuY3Rpb24gKF9hLCBfYikge1xyXG4gICAgICAgICAgICB2YXIgYSA9IF9hWzBdO1xyXG4gICAgICAgICAgICB2YXIgYiA9IF9iWzBdO1xyXG4gICAgICAgICAgICByZXR1cm4gc2hhbGxvd0VxdWFsRGltZW5zaW9ucyhhLCBiKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBfdGhpcy5zeW5jU3RhdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5zY3JvbGxNaWdodEhhdmVVcGRhdGVkKSB7XHJcbiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKF90aGlzLnNjcm9sbFN0YXRlLCBnZXRDbGllbnRTY3JvbGwoX3RoaXMuc2Nyb2xsU3RhdGUpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoX3RoaXMucmVzaXplTWlnaHRIYXZlVXBkYXRlZCkge1xyXG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihfdGhpcy5kaW1lbnNpb25zU3RhdGUsIGdldENsaWVudERpbWVuc2lvbnMoKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHNjcm9sbERpZFVwZGF0ZSA9IF90aGlzLnNjcm9sbE1pZ2h0SGF2ZVVwZGF0ZWQgJiZcclxuICAgICAgICAgICAgICAgICFzaGFsbG93RXF1YWxTY3JvbGwoX3RoaXMubGFzdFN5bmNlZFNjcm9sbFN0YXRlLCBfdGhpcy5zY3JvbGxTdGF0ZSk7XHJcbiAgICAgICAgICAgIHZhciBkaW1lbnNpb25zRGlkVXBkYXRlID0gX3RoaXMucmVzaXplTWlnaHRIYXZlVXBkYXRlZCAmJlxyXG4gICAgICAgICAgICAgICAgIXNoYWxsb3dFcXVhbERpbWVuc2lvbnMoX3RoaXMubGFzdFN5bmNlZERpbWVuc2lvbnNTdGF0ZSwgX3RoaXMuZGltZW5zaW9uc1N0YXRlKTtcclxuICAgICAgICAgICAgaWYgKHNjcm9sbERpZFVwZGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMubGFzdFN5bmNlZFNjcm9sbFN0YXRlID0gX19hc3NpZ24oe30sIF90aGlzLnNjcm9sbFN0YXRlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZGltZW5zaW9uc0RpZFVwZGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMubGFzdFN5bmNlZERpbWVuc2lvbnNTdGF0ZSA9IF9fYXNzaWduKHt9LCBfdGhpcy5kaW1lbnNpb25zU3RhdGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzY3JvbGxEaWRVcGRhdGUgfHwgZGltZW5zaW9uc0RpZFVwZGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHB1YmxpY1N0YXRlID0gX3RoaXMuZ2V0UHJvcHNGcm9tU3RhdGUoKTtcclxuICAgICAgICAgICAgICAgIF90aGlzLnByb3BzLm9uVXBkYXRlKHB1YmxpY1N0YXRlLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGlkVXBkYXRlOiBzY3JvbGxEaWRVcGRhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgZGltZW5zaW9uc0RpZFVwZGF0ZTogZGltZW5zaW9uc0RpZFVwZGF0ZSxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMudXBkYXRlT25JZGxlKHB1YmxpY1N0YXRlLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGlkVXBkYXRlOiBzY3JvbGxEaWRVcGRhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgZGltZW5zaW9uc0RpZFVwZGF0ZTogZGltZW5zaW9uc0RpZFVwZGF0ZSxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBfdGhpcy51cGRhdGVPbklkbGUgPSBkZWJvdW5jZU9uVXBkYXRlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgICAgICB2YXIgYXJncyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgX3RoaXMucHJvcHMub25JZGxlZFVwZGF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgKF9hID0gX3RoaXMucHJvcHMpLm9uSWRsZWRVcGRhdGUuYXBwbHkoX2EsIGFyZ3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgMTY2KTtcclxuICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgcGFyZW50UHJvdmlkZXJFeGlzdHM6IGZhbHNlLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgX3RoaXMuc2Nyb2xsTWlnaHRIYXZlVXBkYXRlZCA9IGZhbHNlO1xyXG4gICAgICAgIF90aGlzLnJlc2l6ZU1pZ2h0SGF2ZVVwZGF0ZWQgPSBmYWxzZTtcclxuICAgICAgICBfdGhpcy5zY3JvbGxTdGF0ZSA9IGNyZWF0ZUVtcHR5U2Nyb2xsU3RhdGUoKTtcclxuICAgICAgICBfdGhpcy5kaW1lbnNpb25zU3RhdGUgPSBjcmVhdGVFbXB0eURpbWVuc2lvblN0YXRlKCk7XHJcbiAgICAgICAgX3RoaXMubGFzdFN5bmNlZERpbWVuc2lvbnNTdGF0ZSA9IF9fYXNzaWduKHt9LCBfdGhpcy5kaW1lbnNpb25zU3RhdGUpO1xyXG4gICAgICAgIF90aGlzLmxhc3RTeW5jZWRTY3JvbGxTdGF0ZSA9IF9fYXNzaWduKHt9LCBfdGhpcy5zY3JvbGxTdGF0ZSk7XHJcbiAgICAgICAgX3RoaXMucmVzaXplT2JzZXJ2ZXIgPSBudWxsO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIFZpZXdwb3J0Q29sbGVjdG9yLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgb3B0aW9ucyA9IGJyb3dzZXJTdXBwb3J0c1Bhc3NpdmVFdmVudHMgPyB7IHBhc3NpdmU6IHRydWUgfSA6IGZhbHNlO1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLmhhbmRsZVNjcm9sbCwgb3B0aW9ucyk7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuaGFuZGxlUmVzaXplRGVib3VuY2UsIG9wdGlvbnMpO1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvcmllbnRhdGlvbmNoYW5nZScsIHRoaXMuaGFuZGxlUmVzaXplRGVib3VuY2UsIG9wdGlvbnMpO1xyXG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93LlJlc2l6ZU9ic2VydmVyICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICB0aGlzLnJlc2l6ZU9ic2VydmVyID0gbmV3IHdpbmRvdy5SZXNpemVPYnNlcnZlcih0aGlzLmhhbmRsZVJlc2l6ZURlYm91bmNlKTtcclxuICAgICAgICAgICAgdGhpcy5yZXNpemVPYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LmJvZHkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgd2Fybk5vUmVzaXplT2JzZXJ2ZXIoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5oYW5kbGVTY3JvbGwoKTtcclxuICAgICAgICB0aGlzLmhhbmRsZVJlc2l6ZSgpO1xyXG4gICAgfTtcclxuICAgIFZpZXdwb3J0Q29sbGVjdG9yLnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5oYW5kbGVTY3JvbGwsIGZhbHNlKTtcclxuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5oYW5kbGVSZXNpemVEZWJvdW5jZSwgZmFsc2UpO1xyXG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdvcmllbnRhdGlvbmNoYW5nZScsIHRoaXMuaGFuZGxlUmVzaXplRGVib3VuY2UsIGZhbHNlKTtcclxuICAgICAgICBpZiAodGhpcy5yZXNpemVPYnNlcnZlcikge1xyXG4gICAgICAgICAgICB0aGlzLnJlc2l6ZU9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcclxuICAgICAgICAgICAgdGhpcy5yZXNpemVPYnNlcnZlciA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy50aWNrSWQgPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMudGlja0lkKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgVmlld3BvcnRDb2xsZWN0b3IucHJvdG90eXBlLmdldFByb3BzRnJvbVN0YXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHNjcm9sbDogdGhpcy5nZXRQdWJsaWNTY3JvbGwodGhpcy5sYXN0U3luY2VkU2Nyb2xsU3RhdGUpLFxyXG4gICAgICAgICAgICBkaW1lbnNpb25zOiB0aGlzLmdldFB1YmxpY0RpbWVuc2lvbnModGhpcy5sYXN0U3luY2VkRGltZW5zaW9uc1N0YXRlKSxcclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuICAgIFZpZXdwb3J0Q29sbGVjdG9yLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFZpZXdwb3J0Q29sbGVjdG9yO1xyXG59KFB1cmVDb21wb25lbnQpKTtcblxudmFyIGNyZWF0ZUZhbGxiYWNrVmlld3BvcnRSZXF1ZXN0ZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZGVmYXVsdFZhbHVlO1xyXG4gICAgdmFyIGxhc3RBY2Nlc3MgPSAwO1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIWRlZmF1bHRWYWx1ZSB8fCBub3coKSAtIGxhc3RBY2Nlc3MgPiAxMDAwKSB7XHJcbiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZSA9IHtcclxuICAgICAgICAgICAgICAgIHNjcm9sbDogZ2V0Q2xpZW50U2Nyb2xsKCksXHJcbiAgICAgICAgICAgICAgICBkaW1lbnNpb25zOiBnZXRDbGllbnREaW1lbnNpb25zKCksXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGxhc3RBY2Nlc3MgPSBub3coKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcclxuICAgIH07XHJcbn07XHJcbnZhciBWaWV3cG9ydENvbnRleHQgPSBjcmVhdGVDb250ZXh0KHtcclxuICAgIHJlbW92ZVZpZXdwb3J0Q2hhbmdlTGlzdGVuZXI6IGZ1bmN0aW9uIChoYW5kbGVyKSB7IH0sXHJcbiAgICBzY2hlZHVsZVJlaW5pdGlhbGl6ZUNoYW5nZUhhbmRsZXI6IGZ1bmN0aW9uIChoYW5kbGVyKSB7IH0sXHJcbiAgICBhZGRWaWV3cG9ydENoYW5nZUxpc3RlbmVyOiBmdW5jdGlvbiAoaGFuZGxlciwgb3B0aW9ucykgeyB9LFxyXG4gICAgZ2V0Q3VycmVudFZpZXdwb3J0OiBjcmVhdGVGYWxsYmFja1ZpZXdwb3J0UmVxdWVzdGVyKCksXHJcbiAgICBoYXNSb290UHJvdmlkZXJBc1BhcmVudDogZmFsc2UsXHJcbiAgICB2ZXJzaW9uOiAnMS4xMS4wJyxcclxufSk7XHJcbnZhciBtYXhJdGVyYXRpb25zID0gZnVuY3Rpb24gKHByaW9yaXR5KSB7XHJcbiAgICBzd2l0Y2ggKHByaW9yaXR5KSB7XHJcbiAgICAgICAgY2FzZSAnaGlnaGVzdCc6XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIGNhc2UgJ2hpZ2gnOlxyXG4gICAgICAgICAgICByZXR1cm4gNDtcclxuICAgICAgICBjYXNlICdub3JtYWwnOlxyXG4gICAgICAgICAgICByZXR1cm4gMTY7XHJcbiAgICAgICAgY2FzZSAnbG93JzpcclxuICAgICAgICAgICAgcmV0dXJuIDY0O1xyXG4gICAgfVxyXG59O1xyXG52YXIgc2hvdWxkU2tpcEl0ZXJhdGlvbiA9IGZ1bmN0aW9uIChfYSwgYnVkZ2V0KSB7XHJcbiAgICB2YXIgZ2V0UHJpb3JpdHkgPSBfYS5wcmlvcml0eSwgYXZlcmFnZUV4ZWN1dGlvbkNvc3QgPSBfYS5hdmVyYWdlRXhlY3V0aW9uQ29zdCwgc2tpcHBlZEl0ZXJhdGlvbnMgPSBfYS5za2lwcGVkSXRlcmF0aW9ucztcclxuICAgIHZhciBwcmlvcml0eSA9IGdldFByaW9yaXR5KCk7XHJcbiAgICBpZiAocHJpb3JpdHkgPT09ICdoaWdoZXN0Jykge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGlmIChwcmlvcml0eSAhPT0gJ2xvdycgJiYgYXZlcmFnZUV4ZWN1dGlvbkNvc3QgPD0gYnVkZ2V0KSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgaWYgKGF2ZXJhZ2VFeGVjdXRpb25Db3N0IDw9IGJ1ZGdldCAvIDEwKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgdmFyIHByb2JhYmlsaXR5ID0gc2tpcHBlZEl0ZXJhdGlvbnMgLyBtYXhJdGVyYXRpb25zKHByaW9yaXR5KTtcclxuICAgIGlmIChwcm9iYWJpbGl0eSA+PSAxKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIE1hdGgucmFuZG9tKCkgPiBwcm9iYWJpbGl0eTtcclxufTtcclxudmFyIFZpZXdwb3J0UHJvdmlkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoVmlld3BvcnRQcm92aWRlciwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFZpZXdwb3J0UHJvdmlkZXIocHJvcHMpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5saXN0ZW5lcnMgPSBbXTtcclxuICAgICAgICBfdGhpcy50cmlnZ2VyVXBkYXRlVG9MaXN0ZW5lcnMgPSBmdW5jdGlvbiAoc3RhdGUsIF9hLCBvcHRpb25zKSB7XHJcbiAgICAgICAgICAgIHZhciBzY3JvbGxEaWRVcGRhdGUgPSBfYS5zY3JvbGxEaWRVcGRhdGUsIGRpbWVuc2lvbnNEaWRVcGRhdGUgPSBfYS5kaW1lbnNpb25zRGlkVXBkYXRlO1xyXG4gICAgICAgICAgICB2YXIgZ2V0T3ZlcmFsbER1cmF0aW9uID0gY3JlYXRlUGVyZm9ybWFuY2VNYXJrZXIoKTtcclxuICAgICAgICAgICAgdmFyIF9iID0gT2JqZWN0LmFzc2lnbih7IGlzSWRsZTogZmFsc2UsIHNob3VsZEluaXRpYWxpemU6IGZhbHNlIH0sIG9wdGlvbnMpLCBpc0lkbGUgPSBfYi5pc0lkbGUsIHNob3VsZEluaXRpYWxpemUgPSBfYi5zaG91bGRJbml0aWFsaXplO1xyXG4gICAgICAgICAgICB2YXIgdXBkYXRhYmxlTGlzdGVuZXJzID0gX3RoaXMubGlzdGVuZXJzLmZpbHRlcihmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHZhciBub3RpZnlTY3JvbGwgPSBfYS5ub3RpZnlTY3JvbGwsIG5vdGlmeURpbWVuc2lvbnMgPSBfYS5ub3RpZnlEaW1lbnNpb25zLCBub3RpZnlPbmx5V2hlbklkbGUgPSBfYS5ub3RpZnlPbmx5V2hlbklkbGUsIHNraXBwZWRJdGVyYXRpb25zID0gX2Euc2tpcHBlZEl0ZXJhdGlvbnMsIGluaXRpYWxpemVkID0gX2EuaW5pdGlhbGl6ZWQ7XHJcbiAgICAgICAgICAgICAgICB2YXIgbmVlZHNVcGRhdGUgPSBza2lwcGVkSXRlcmF0aW9ucyA+IDA7XHJcbiAgICAgICAgICAgICAgICBpZiAobm90aWZ5T25seVdoZW5JZGxlKCkgIT09IGlzSWRsZSAmJiAhbmVlZHNVcGRhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoc2hvdWxkSW5pdGlhbGl6ZSAmJiAhaW5pdGlhbGl6ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciB1cGRhdGVGb3JTY3JvbGwgPSBub3RpZnlTY3JvbGwoKSAmJiBzY3JvbGxEaWRVcGRhdGU7XHJcbiAgICAgICAgICAgICAgICB2YXIgdXBkYXRlRm9yRGltZW5zaW9ucyA9IG5vdGlmeURpbWVuc2lvbnMoKSAmJiBkaW1lbnNpb25zRGlkVXBkYXRlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZUZvclNjcm9sbCB8fCB1cGRhdGVGb3JEaW1lbnNpb25zO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaWYgKF90aGlzLnByb3BzLmV4cGVyaW1lbnRhbFNjaGVkdWxlckVuYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgIGlmICghaXNJZGxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJ1ZGdldF8xID0gMTYgLyB1cGRhdGFibGVMaXN0ZW5lcnMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0YWJsZUxpc3RlbmVycyA9IHVwZGF0YWJsZUxpc3RlbmVycy5maWx0ZXIoZnVuY3Rpb24gKGxpc3RlbmVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBza2lwID0gbGlzdGVuZXIuaW5pdGlhbGl6ZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gc2hvdWxkU2tpcEl0ZXJhdGlvbihsaXN0ZW5lciwgYnVkZ2V0XzEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2tpcCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXIuc2tpcHBlZEl0ZXJhdGlvbnMrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lci5za2lwcGVkSXRlcmF0aW9ucyA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBsYXlvdXRzID0gdXBkYXRhYmxlTGlzdGVuZXJzLm1hcChmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHZhciByZWNhbGN1bGF0ZUxheW91dEJlZm9yZVVwZGF0ZSA9IF9hLnJlY2FsY3VsYXRlTGF5b3V0QmVmb3JlVXBkYXRlO1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlY2FsY3VsYXRlTGF5b3V0QmVmb3JlVXBkYXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGdldER1cmF0aW9uID0gY3JlYXRlUGVyZm9ybWFuY2VNYXJrZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbGF5b3V0U3RhdGUgPSByZWNhbGN1bGF0ZUxheW91dEJlZm9yZVVwZGF0ZShzdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtsYXlvdXRTdGF0ZSwgZ2V0RHVyYXRpb24oKV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHZhciBvdmVyYWxsSlNIYW5kbGVyVG90YWxDb3N0ID0gMDtcclxuICAgICAgICAgICAgdXBkYXRhYmxlTGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24gKGxpc3RlbmVyLCBpbmRleCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGhhbmRsZXIgPSBsaXN0ZW5lci5oYW5kbGVyLCBhdmVyYWdlRXhlY3V0aW9uQ29zdCA9IGxpc3RlbmVyLmF2ZXJhZ2VFeGVjdXRpb25Db3N0LCBpdGVyYXRpb25zID0gbGlzdGVuZXIuaXRlcmF0aW9ucztcclxuICAgICAgICAgICAgICAgIHZhciBfYSA9IGxheW91dHNbaW5kZXhdIHx8IFtudWxsLCAwXSwgbGF5b3V0ID0gX2FbMF0sIGxheW91dENvc3QgPSBfYVsxXTtcclxuICAgICAgICAgICAgICAgIHZhciBnZXREdXJhdGlvbiA9IGNyZWF0ZVBlcmZvcm1hbmNlTWFya2VyKCk7XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVyKHN0YXRlLCBsYXlvdXQpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHRvdGFsQ29zdCA9IGxheW91dENvc3QgKyBnZXREdXJhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGRpZmYgPSB0b3RhbENvc3QgLSBhdmVyYWdlRXhlY3V0aW9uQ29zdDtcclxuICAgICAgICAgICAgICAgIHZhciBpID0gaXRlcmF0aW9ucyArIDE7XHJcbiAgICAgICAgICAgICAgICBsaXN0ZW5lci5hdmVyYWdlRXhlY3V0aW9uQ29zdCA9IGF2ZXJhZ2VFeGVjdXRpb25Db3N0ICsgZGlmZiAvIGk7XHJcbiAgICAgICAgICAgICAgICBsaXN0ZW5lci5pdGVyYXRpb25zID0gaTtcclxuICAgICAgICAgICAgICAgIGxpc3RlbmVyLmluaXRpYWxpemVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIG92ZXJhbGxKU0hhbmRsZXJUb3RhbENvc3QgKz0gdG90YWxDb3N0O1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaWYgKF90aGlzLnByb3BzLmV4cGVyaW1lbnRhbFNjaGVkdWxlckxheW91dENhbGN1bGF0b3JFbmFibGVkICYmXHJcbiAgICAgICAgICAgICAgICB1cGRhdGFibGVMaXN0ZW5lcnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGlmZlBlckhhbmRsZXIgPSAoZ2V0T3ZlcmFsbER1cmF0aW9uKCkgLSBvdmVyYWxsSlNIYW5kbGVyVG90YWxDb3N0KSAvXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0YWJsZUxpc3RlbmVycy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRhYmxlTGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24gKGxpc3RlbmVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLmF2ZXJhZ2VFeGVjdXRpb25Db3N0ID1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLmF2ZXJhZ2VFeGVjdXRpb25Db3N0ICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWZmUGVySGFuZGxlciAvIGxpc3RlbmVyLml0ZXJhdGlvbnM7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9LCAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgX3RoaXMuYWRkVmlld3BvcnRDaGFuZ2VMaXN0ZW5lciA9IGZ1bmN0aW9uIChoYW5kbGVyLCBvcHRpb25zKSB7XHJcbiAgICAgICAgICAgIF90aGlzLmxpc3RlbmVycy5wdXNoKF9fYXNzaWduKHsgaGFuZGxlcjogaGFuZGxlciwgaXRlcmF0aW9uczogMCwgYXZlcmFnZUV4ZWN1dGlvbkNvc3Q6IDAsIHNraXBwZWRJdGVyYXRpb25zOiAwLCBpbml0aWFsaXplZDogZmFsc2UgfSwgb3B0aW9ucykpO1xyXG4gICAgICAgICAgICBfdGhpcy5oYW5kbGVMaXN0ZW5lclVwZGF0ZSgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgX3RoaXMuc2NoZWR1bGVSZWluaXRpYWxpemVDaGFuZ2VIYW5kbGVyID0gZnVuY3Rpb24gKGgpIHtcclxuICAgICAgICAgICAgdmFyIGxpc3RlbmVyID0gX3RoaXMubGlzdGVuZXJzLmZpbmQoZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaGFuZGxlciA9IF9hLmhhbmRsZXI7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlciA9PT0gaDtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmIChsaXN0ZW5lciAmJiBsaXN0ZW5lci5pbml0aWFsaXplZCkge1xyXG4gICAgICAgICAgICAgICAgbGlzdGVuZXIuaW5pdGlhbGl6ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIF90aGlzLmhhbmRsZUxpc3RlbmVyVXBkYXRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIF90aGlzLnJlbW92ZVZpZXdwb3J0Q2hhbmdlTGlzdGVuZXIgPSBmdW5jdGlvbiAoaCkge1xyXG4gICAgICAgICAgICBfdGhpcy5saXN0ZW5lcnMgPSBfdGhpcy5saXN0ZW5lcnMuZmlsdGVyKGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGhhbmRsZXIgPSBfYS5oYW5kbGVyO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZXIgIT09IGg7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBfdGhpcy5oYW5kbGVMaXN0ZW5lclVwZGF0ZSgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgX3RoaXMuY29sbGVjdG9yID0gY3JlYXRlUmVmKCk7XHJcbiAgICAgICAgX3RoaXMuZ2V0Q3VycmVudERlZmF1bHRWaWV3cG9ydCA9IGNyZWF0ZUZhbGxiYWNrVmlld3BvcnRSZXF1ZXN0ZXIoKTtcclxuICAgICAgICBfdGhpcy5jb250ZXh0VmFsdWUgPSB7XHJcbiAgICAgICAgICAgIGFkZFZpZXdwb3J0Q2hhbmdlTGlzdGVuZXI6IF90aGlzLmFkZFZpZXdwb3J0Q2hhbmdlTGlzdGVuZXIsXHJcbiAgICAgICAgICAgIHJlbW92ZVZpZXdwb3J0Q2hhbmdlTGlzdGVuZXI6IF90aGlzLnJlbW92ZVZpZXdwb3J0Q2hhbmdlTGlzdGVuZXIsXHJcbiAgICAgICAgICAgIHNjaGVkdWxlUmVpbml0aWFsaXplQ2hhbmdlSGFuZGxlcjogX3RoaXMuc2NoZWR1bGVSZWluaXRpYWxpemVDaGFuZ2VIYW5kbGVyLFxyXG4gICAgICAgICAgICBnZXRDdXJyZW50Vmlld3BvcnQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmICghX3RoaXMuY29sbGVjdG9yLmN1cnJlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuZ2V0Q3VycmVudERlZmF1bHRWaWV3cG9ydCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmNvbGxlY3Rvci5jdXJyZW50LmdldFByb3BzRnJvbVN0YXRlKCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGhhc1Jvb3RQcm92aWRlckFzUGFyZW50OiB0cnVlLFxyXG4gICAgICAgICAgICB2ZXJzaW9uOiAnMS4xMS4wJyxcclxuICAgICAgICB9O1xyXG4gICAgICAgIF90aGlzLnJlbmRlckNoaWxkcmVuID0gZnVuY3Rpb24gKHByb3BzKSB7XHJcbiAgICAgICAgICAgIGlmIChwcm9wcy5oYXNSb290UHJvdmlkZXJBc1BhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiZcclxuICAgICAgICAgICAgICAgICAgICBwcm9wcy52ZXJzaW9uICE9PSAnMS4xMS4wJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcInJlYWN0LXZpZXdwb3J0LXV0aWxzOiBUd28gZGlmZmVyZW50IHZlcnNpb25zIG9mIHRoZSByZWFjdC12aWV3cG9ydC11dGlscyBsaWJyYXJ5IGFyZSB1c2VkIGluIHRoZSBzYW1lIHJlYWN0IHRyZWUuIFRoaXMgY2FuIGxlYWQgdG8gdW5leHBlY3RlZCByZXN1bHRzIGFzIHRoZSB2ZXJzaW9ucyBtaWdodCBub3QgYmUgY29tcGF0aWJsZS5cXG5UaGUgPFZpZXdwb3J0UHJvdmlkZXI+IG9mIHZlcnNpb24gXCIgKyBwcm9wcy52ZXJzaW9uICsgXCIgaXMgY3VycmVudGx5IHVzZWQsIGFub3RoZXIgPFZpZXdwb3J0UHJvdmlkZXI+IG9mIHZlcnNpb24gMS4xMS4wIHdhcyBkZXRlY3RlZCBidXQgaXMgaWdub3JlZC5cXG5UaGlzIGlzIG1vc3QgcHJvYmFibHkgZHVlIHRvIHNvbWUgZGVwZW5kZW5jaWVzIHRoYXQgdXNlIGRpZmZlcmVudCB2ZXJzaW9ucyBvZiB0aGUgcmVhY3Qtdmlld3BvcnQtdXRpbHMgbGlicmFyeS4gWW91IGNhbiBjaGVjayBpZiBhbiB1cGRhdGUgaXMgcG9zc2libGUuXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnByb3BzLmNoaWxkcmVuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAoY3JlYXRlRWxlbWVudChGcmFnbWVudCwgbnVsbCxcclxuICAgICAgICAgICAgICAgIF90aGlzLnN0YXRlLmhhc0xpc3RlbmVycyAmJiAoY3JlYXRlRWxlbWVudChWaWV3cG9ydENvbGxlY3RvciwgeyByZWY6IF90aGlzLmNvbGxlY3Rvciwgb25VcGRhdGU6IF90aGlzLnRyaWdnZXJVcGRhdGVUb0xpc3RlbmVycywgb25JZGxlZFVwZGF0ZTogZnVuY3Rpb24gKHN0YXRlLCB1cGRhdGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy50cmlnZ2VyVXBkYXRlVG9MaXN0ZW5lcnMoc3RhdGUsIHVwZGF0ZXMsIHsgaXNJZGxlOiB0cnVlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gfSkpLFxyXG4gICAgICAgICAgICAgICAgY3JlYXRlRWxlbWVudChWaWV3cG9ydENvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IF90aGlzLmNvbnRleHRWYWx1ZSB9LCBfdGhpcy5wcm9wcy5jaGlsZHJlbikpKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIF90aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBoYXNMaXN0ZW5lcnM6IGZhbHNlLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgVmlld3BvcnRQcm92aWRlci5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnVwZGF0ZUxpc3RlbmVyc1RpY2sgPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnVwZGF0ZUxpc3RlbmVyc1RpY2spO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIHRoaXMuaW5pdGlhbGl6ZUxpc3RlbmVyc1RpY2sgPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuaW5pdGlhbGl6ZUxpc3RlbmVyc1RpY2spO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBWaWV3cG9ydFByb3ZpZGVyLnByb3RvdHlwZS5oYW5kbGVMaXN0ZW5lclVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmICh0aGlzLnVwZGF0ZUxpc3RlbmVyc1RpY2sgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUxpc3RlbmVyc1RpY2sgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBuZXh0U3RhdGUgPSBfdGhpcy5saXN0ZW5lcnMubGVuZ3RoICE9PSAwO1xyXG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLnN0YXRlLmhhc0xpc3RlbmVycyAhPT0gbmV4dFN0YXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNMaXN0ZW5lcnM6IF90aGlzLmxpc3RlbmVycy5sZW5ndGggIT09IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBfdGhpcy51cGRhdGVMaXN0ZW5lcnNUaWNrID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9LCAxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaW5pdGlhbGl6ZUxpc3RlbmVyc1RpY2sgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLmluaXRpYWxpemVMaXN0ZW5lcnNUaWNrID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5jb2xsZWN0b3IuY3VycmVudCAmJlxyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmxpc3RlbmVycy5zb21lKGZ1bmN0aW9uIChsKSB7IHJldHVybiAhbC5pbml0aWFsaXplZDsgfSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy50cmlnZ2VyVXBkYXRlVG9MaXN0ZW5lcnMoX3RoaXMuY29sbGVjdG9yLmN1cnJlbnQuZ2V0UHJvcHNGcm9tU3RhdGUoKSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaW1lbnNpb25zRGlkVXBkYXRlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGlkVXBkYXRlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzSWRsZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3VsZEluaXRpYWxpemU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5pbml0aWFsaXplTGlzdGVuZXJzVGljayA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFZpZXdwb3J0UHJvdmlkZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gKGNyZWF0ZUVsZW1lbnQoVmlld3BvcnRDb250ZXh0LkNvbnN1bWVyLCBudWxsLCB0aGlzLnJlbmRlckNoaWxkcmVuKSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFZpZXdwb3J0UHJvdmlkZXI7XHJcbn0oUHVyZUNvbXBvbmVudCkpO1xuXG52YXIgT2JzZXJ2ZVZpZXdwb3J0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKE9ic2VydmVWaWV3cG9ydCwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIE9ic2VydmVWaWV3cG9ydChwcm9wcykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHByb3BzKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmhhbmRsZVZpZXdwb3J0VXBkYXRlID0gZnVuY3Rpb24gKHZpZXdwb3J0LCBsYXlvdXRTbmFwc2hvdCkge1xyXG4gICAgICAgICAgICBpZiAoX3RoaXMucHJvcHMub25VcGRhdGUpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnByb3BzLm9uVXBkYXRlKHZpZXdwb3J0LCBsYXlvdXRTbmFwc2hvdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKF90aGlzLnByb3BzLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zeW5jU3RhdGUodmlld3BvcnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBfdGhpcy5yZWdpc3RlclZpZXdwb3J0TGlzdGVuZXJzID0gZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgIHZhciBhZGRWaWV3cG9ydENoYW5nZUxpc3RlbmVyID0gX2EuYWRkVmlld3BvcnRDaGFuZ2VMaXN0ZW5lciwgcmVtb3ZlVmlld3BvcnRDaGFuZ2VMaXN0ZW5lciA9IF9hLnJlbW92ZVZpZXdwb3J0Q2hhbmdlTGlzdGVuZXIsIHNjaGVkdWxlUmVpbml0aWFsaXplQ2hhbmdlSGFuZGxlciA9IF9hLnNjaGVkdWxlUmVpbml0aWFsaXplQ2hhbmdlSGFuZGxlciwgaGFzUm9vdFByb3ZpZGVyQXNQYXJlbnQgPSBfYS5oYXNSb290UHJvdmlkZXJBc1BhcmVudCwgZ2V0Q3VycmVudFZpZXdwb3J0ID0gX2EuZ2V0Q3VycmVudFZpZXdwb3J0O1xyXG4gICAgICAgICAgICBpZiAoIWhhc1Jvb3RQcm92aWRlckFzUGFyZW50KSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuTm9Db250ZXh0QXZhaWxhYmxlKCdPYnNlcnZlVmlld3BvcnQnKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBzaG91bGRSZWdpc3RlciA9IF90aGlzLnJlbW92ZVZpZXdwb3J0Q2hhbmdlTGlzdGVuZXIgIT09IHJlbW92ZVZpZXdwb3J0Q2hhbmdlTGlzdGVuZXI7XHJcbiAgICAgICAgICAgIGlmICghc2hvdWxkUmVnaXN0ZXIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5yZW1vdmVWaWV3cG9ydENoYW5nZUxpc3RlbmVyKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5yZW1vdmVWaWV3cG9ydENoYW5nZUxpc3RlbmVyKF90aGlzLmhhbmRsZVZpZXdwb3J0VXBkYXRlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBfdGhpcy5yZW1vdmVWaWV3cG9ydENoYW5nZUxpc3RlbmVyID0gcmVtb3ZlVmlld3BvcnRDaGFuZ2VMaXN0ZW5lcjtcclxuICAgICAgICAgICAgX3RoaXMuZ2V0Q3VycmVudFZpZXdwb3J0ID0gZ2V0Q3VycmVudFZpZXdwb3J0O1xyXG4gICAgICAgICAgICBfdGhpcy5zY2hlZHVsZVJlaW5pdGlhbGl6ZUNoYW5nZUhhbmRsZXIgPSBzY2hlZHVsZVJlaW5pdGlhbGl6ZUNoYW5nZUhhbmRsZXI7XHJcbiAgICAgICAgICAgIGFkZFZpZXdwb3J0Q2hhbmdlTGlzdGVuZXIoX3RoaXMuaGFuZGxlVmlld3BvcnRVcGRhdGUsIHtcclxuICAgICAgICAgICAgICAgIG5vdGlmeVNjcm9sbDogZnVuY3Rpb24gKCkgeyByZXR1cm4gIV90aGlzLnByb3BzLmRpc2FibGVTY3JvbGxVcGRhdGVzOyB9LFxyXG4gICAgICAgICAgICAgICAgbm90aWZ5RGltZW5zaW9uczogZnVuY3Rpb24gKCkgeyByZXR1cm4gIV90aGlzLnByb3BzLmRpc2FibGVEaW1lbnNpb25zVXBkYXRlczsgfSxcclxuICAgICAgICAgICAgICAgIG5vdGlmeU9ubHlXaGVuSWRsZTogZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMucHJvcHMuZGVmZXJVcGRhdGVVbnRpbElkbGU7IH0sXHJcbiAgICAgICAgICAgICAgICBwcmlvcml0eTogZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMucHJvcHMucHJpb3JpdHk7IH0sXHJcbiAgICAgICAgICAgICAgICByZWNhbGN1bGF0ZUxheW91dEJlZm9yZVVwZGF0ZTogZnVuY3Rpb24gKHZpZXdwb3J0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLnByb3BzLnJlY2FsY3VsYXRlTGF5b3V0QmVmb3JlVXBkYXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5wcm9wcy5yZWNhbGN1bGF0ZUxheW91dEJlZm9yZVVwZGF0ZSh2aWV3cG9ydCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5wcm9wcy5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuc3luY1N0YXRlKGdldEN1cnJlbnRWaWV3cG9ydCgpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIF90aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBzY3JvbGw6IGNyZWF0ZUVtcHR5U2Nyb2xsU3RhdGUoKSxcclxuICAgICAgICAgICAgZGltZW5zaW9uczogY3JlYXRlRW1wdHlEaW1lbnNpb25TdGF0ZSgpLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgT2JzZXJ2ZVZpZXdwb3J0LnByb3RvdHlwZS5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiAocHJldlByb3BzKSB7XHJcbiAgICAgICAgdmFyIGRpbWVuc2lvbnNCZWNhbWVBY3RpdmUgPSAhdGhpcy5wcm9wcy5kaXNhYmxlRGltZW5zaW9uc1VwZGF0ZXMgJiZcclxuICAgICAgICAgICAgcHJldlByb3BzLmRpc2FibGVEaW1lbnNpb25zVXBkYXRlcztcclxuICAgICAgICB2YXIgc2Nyb2xsQmVjYW1lQWN0aXZlID0gIXRoaXMucHJvcHMuZGlzYWJsZVNjcm9sbFVwZGF0ZXMgJiYgcHJldlByb3BzLmRpc2FibGVTY3JvbGxVcGRhdGVzO1xyXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5zY2hlZHVsZVJlaW5pdGlhbGl6ZUNoYW5nZUhhbmRsZXIgPT09ICdmdW5jdGlvbicgJiZcclxuICAgICAgICAgICAgKGRpbWVuc2lvbnNCZWNhbWVBY3RpdmUgfHwgc2Nyb2xsQmVjYW1lQWN0aXZlKSkge1xyXG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlUmVpbml0aWFsaXplQ2hhbmdlSGFuZGxlcih0aGlzLmhhbmRsZVZpZXdwb3J0VXBkYXRlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgT2JzZXJ2ZVZpZXdwb3J0LnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5yZW1vdmVWaWV3cG9ydENoYW5nZUxpc3RlbmVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlVmlld3BvcnRDaGFuZ2VMaXN0ZW5lcih0aGlzLmhhbmRsZVZpZXdwb3J0VXBkYXRlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5yZW1vdmVWaWV3cG9ydENoYW5nZUxpc3RlbmVyID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIHRoaXMuc2NoZWR1bGVSZWluaXRpYWxpemVDaGFuZ2VIYW5kbGVyID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy50aWNrSWQgPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMudGlja0lkKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgT2JzZXJ2ZVZpZXdwb3J0LnByb3RvdHlwZS5zeW5jU3RhdGUgPSBmdW5jdGlvbiAobmV4dFZpZXdwb3J0KSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBpZiAodGhpcy50aWNrSWQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLnRpY2tJZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZShuZXh0Vmlld3BvcnQpO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMudGlja0lkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE9ic2VydmVWaWV3cG9ydC5wcm90b3R5cGUsIFwib3B0aW9uTm90aWZ5U2Nyb2xsXCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuICF0aGlzLnByb3BzLmRpc2FibGVTY3JvbGxVcGRhdGVzO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE9ic2VydmVWaWV3cG9ydC5wcm90b3R5cGUsIFwib3B0aW9uTm90aWZ5RGltZW5zaW9uc1wiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAhdGhpcy5wcm9wcy5kaXNhYmxlRGltZW5zaW9uc1VwZGF0ZXM7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYnNlcnZlVmlld3BvcnQucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgY2hpbGRyZW4gPSB0aGlzLnByb3BzLmNoaWxkcmVuO1xyXG4gICAgICAgIHJldHVybiAoY3JlYXRlRWxlbWVudChGcmFnbWVudCwgbnVsbCxcclxuICAgICAgICAgICAgY3JlYXRlRWxlbWVudChWaWV3cG9ydENvbnRleHQuQ29uc3VtZXIsIG51bGwsIHRoaXMucmVnaXN0ZXJWaWV3cG9ydExpc3RlbmVycyksXHJcbiAgICAgICAgICAgIGNoaWxkcmVuID8gY2hpbGRyZW4odGhpcy5zdGF0ZSkgOiBudWxsKSk7XHJcbiAgICB9O1xyXG4gICAgT2JzZXJ2ZVZpZXdwb3J0LmRlZmF1bHRQcm9wcyA9IHtcclxuICAgICAgICBkaXNhYmxlU2Nyb2xsVXBkYXRlczogZmFsc2UsXHJcbiAgICAgICAgZGlzYWJsZURpbWVuc2lvbnNVcGRhdGVzOiBmYWxzZSxcclxuICAgICAgICBkZWZlclVwZGF0ZVVudGlsSWRsZTogZmFsc2UsXHJcbiAgICAgICAgcHJpb3JpdHk6ICdub3JtYWwnLFxyXG4gICAgfTtcclxuICAgIHJldHVybiBPYnNlcnZlVmlld3BvcnQ7XHJcbn0oQ29tcG9uZW50KSk7XG5cbmZ1bmN0aW9uIGNvbm5lY3Qob3B0aW9ucykge1xyXG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cclxuICAgIHZhciBkZWZlclVwZGF0ZVVudGlsSWRsZSA9IEJvb2xlYW4ob3B0aW9ucy5kZWZlclVwZGF0ZVVudGlsSWRsZSk7XHJcbiAgICB2YXIgb21pdCA9IG9wdGlvbnMub21pdCB8fCBbXTtcclxuICAgIHZhciBzaG91bGRPbWl0U2Nyb2xsID0gb21pdC5pbmRleE9mKCdzY3JvbGwnKSAhPT0gLTE7XHJcbiAgICB2YXIgc2hvdWxkT21pdERpbWVuc2lvbnMgPSBvbWl0LmluZGV4T2YoJ2RpbWVuc2lvbnMnKSAhPT0gLTE7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKFdyYXBwZWRDb21wb25lbnQpIHtcclxuICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgdmFyIGRpc3BsYXlOYW1lID0gV3JhcHBlZENvbXBvbmVudC5kaXNwbGF5TmFtZSB8fCBXcmFwcGVkQ29tcG9uZW50Lm5hbWUgfHwgJ0NvbXBvbmVudCc7XHJcbiAgICAgICAgcmV0dXJuIF9hID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgICAgICAgICAgX19leHRlbmRzKENvbm5lY3RWaWV3cG9ydCwgX3N1cGVyKTtcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIENvbm5lY3RWaWV3cG9ydCgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBDb25uZWN0Vmlld3BvcnQucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoY3JlYXRlRWxlbWVudChPYnNlcnZlVmlld3BvcnQsIHsgZGlzYWJsZVNjcm9sbFVwZGF0ZXM6IHNob3VsZE9taXRTY3JvbGwsIGRpc2FibGVEaW1lbnNpb25zVXBkYXRlczogc2hvdWxkT21pdERpbWVuc2lvbnMsIGRlZmVyVXBkYXRlVW50aWxJZGxlOiBkZWZlclVwZGF0ZVVudGlsSWRsZSB9LCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNjcm9sbCA9IF9hLnNjcm9sbCwgZGltZW5zaW9ucyA9IF9hLmRpbWVuc2lvbnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoY3JlYXRlRWxlbWVudChXcmFwcGVkQ29tcG9uZW50LCBfX2Fzc2lnbih7IHNjcm9sbDogc2Nyb2xsLCBkaW1lbnNpb25zOiBkaW1lbnNpb25zIH0sIF90aGlzLnByb3BzKSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gQ29ubmVjdFZpZXdwb3J0O1xyXG4gICAgICAgICAgICB9KENvbXBvbmVudCkpLFxyXG4gICAgICAgICAgICBfYS5kaXNwbGF5TmFtZSA9IFwiY29ubmVjdFZpZXdwb3J0KFwiICsgZGlzcGxheU5hbWUgKyBcIilcIixcclxuICAgICAgICAgICAgX2E7XHJcbiAgICB9O1xyXG59XG5cbi8qKlxyXG4gKiBAZGVwcmVjYXRlZCBVc2UgdXNlUmVjdCBvciB1c2VSZWN0RWZmZWN0IGluc3RlYWQgYXMgaXQgcHJvdmlkZXMgYmV0dGVyIHBlcmZvcm1hbmNlLlxyXG4gKi9cclxudmFyIE9ic2VydmVCb3VuZGluZ0NsaWVudFJlY3QgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoT2JzZXJ2ZUJvdW5kaW5nQ2xpZW50UmVjdCwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIE9ic2VydmVCb3VuZGluZ0NsaWVudFJlY3QocHJvcHMpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5zeW5jU3RhdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBub2RlID0gX3RoaXMucHJvcHMubm9kZTtcclxuICAgICAgICAgICAgaWYgKCFub2RlIHx8ICFub2RlLmN1cnJlbnQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgcmVjdCA9IF90aGlzLmdldFJlY3RGcm9tTm9kZSgpO1xyXG4gICAgICAgICAgICBpZiAocmVjdCAmJiAhX3RoaXMuc3RhdGUuaXNJbml0aWFsaXplZCkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoX19hc3NpZ24oX19hc3NpZ24oe30sIHJlY3QpLCB7IGlzSW5pdGlhbGl6ZWQ6IHRydWUgfSkpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHJlY3QpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIHRvcDogMCxcclxuICAgICAgICAgICAgcmlnaHQ6IDAsXHJcbiAgICAgICAgICAgIGJvdHRvbTogMCxcclxuICAgICAgICAgICAgbGVmdDogMCxcclxuICAgICAgICAgICAgaGVpZ2h0OiAwLFxyXG4gICAgICAgICAgICB3aWR0aDogMCxcclxuICAgICAgICAgICAgaXNJbml0aWFsaXplZDogZmFsc2UsXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBPYnNlcnZlQm91bmRpbmdDbGllbnRSZWN0LnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLnRpY2sodGhpcy5zeW5jU3RhdGUpO1xyXG4gICAgfTtcclxuICAgIE9ic2VydmVCb3VuZGluZ0NsaWVudFJlY3QucHJvdG90eXBlLmNvbXBvbmVudERpZFVwZGF0ZSA9IGZ1bmN0aW9uIChwcmV2UHJvcHMsIHByZXZTdGF0ZSkge1xyXG4gICAgICAgIHZhciByZWN0ID0gdGhpcy5nZXRSZWN0RnJvbVN0YXRlKCk7XHJcbiAgICAgICAgdmFyIHByZXZSZWN0ID0gdGhpcy5nZXRSZWN0RnJvbVN0YXRlKHByZXZTdGF0ZSk7XHJcbiAgICAgICAgaWYgKCFyZWN0KSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMub25Jbml0KSB7XHJcbiAgICAgICAgICAgIGlmICghcHJldlN0YXRlLmlzSW5pdGlhbGl6ZWQgJiYgdGhpcy5zdGF0ZS5pc0luaXRpYWxpemVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm9uSW5pdChyZWN0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5vblVwZGF0ZSkge1xyXG4gICAgICAgICAgICBpZiAocHJldlJlY3QgPT09IG51bGwgfHwgIXNoYWxsb3dFcXVhbFJlY3QocmVjdCwgcHJldlJlY3QpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm9uVXBkYXRlKHJlY3QpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIE9ic2VydmVCb3VuZGluZ0NsaWVudFJlY3QucHJvdG90eXBlLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy50aWNrSWQgPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMudGlja0lkKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgT2JzZXJ2ZUJvdW5kaW5nQ2xpZW50UmVjdC5wcm90b3R5cGUudGljayA9IGZ1bmN0aW9uICh1cGRhdGVyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLnRpY2tJZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHVwZGF0ZXIoKTtcclxuICAgICAgICAgICAgX3RoaXMudGljayh1cGRhdGVyKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBPYnNlcnZlQm91bmRpbmdDbGllbnRSZWN0LnByb3RvdHlwZS5nZXRSZWN0RnJvbVN0YXRlID0gZnVuY3Rpb24gKHN0YXRlKSB7XHJcbiAgICAgICAgaWYgKHN0YXRlID09PSB2b2lkIDApIHsgc3RhdGUgPSB0aGlzLnN0YXRlOyB9XHJcbiAgICAgICAgaWYgKCFzdGF0ZS5pc0luaXRpYWxpemVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBoZWlnaHQ6IHN0YXRlLmhlaWdodCxcclxuICAgICAgICAgICAgd2lkdGg6IHN0YXRlLndpZHRoLFxyXG4gICAgICAgICAgICB0b3A6IHN0YXRlLnRvcCxcclxuICAgICAgICAgICAgYm90dG9tOiBzdGF0ZS5ib3R0b20sXHJcbiAgICAgICAgICAgIGxlZnQ6IHN0YXRlLmxlZnQsXHJcbiAgICAgICAgICAgIHJpZ2h0OiBzdGF0ZS5yaWdodCxcclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuICAgIE9ic2VydmVCb3VuZGluZ0NsaWVudFJlY3QucHJvdG90eXBlLmdldFJlY3RGcm9tTm9kZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgbm9kZSA9IHRoaXMucHJvcHMubm9kZTtcclxuICAgICAgICBpZiAoIW5vZGUgfHwgIW5vZGUuY3VycmVudCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHJlY3QgPSBub2RlLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgaGVpZ2h0OiByZWN0LmhlaWdodCxcclxuICAgICAgICAgICAgd2lkdGg6IHJlY3Qud2lkdGgsXHJcbiAgICAgICAgICAgIHRvcDogcmVjdC50b3AsXHJcbiAgICAgICAgICAgIGJvdHRvbTogcmVjdC5ib3R0b20sXHJcbiAgICAgICAgICAgIGxlZnQ6IHJlY3QubGVmdCxcclxuICAgICAgICAgICAgcmlnaHQ6IHJlY3QucmlnaHQsXHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcbiAgICBPYnNlcnZlQm91bmRpbmdDbGllbnRSZWN0LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGNoaWxkcmVuID0gdGhpcy5wcm9wcy5jaGlsZHJlbjtcclxuICAgICAgICByZXR1cm4gdHlwZW9mIGNoaWxkcmVuID09PSAnZnVuY3Rpb24nXHJcbiAgICAgICAgICAgID8gY2hpbGRyZW4odGhpcy5nZXRSZWN0RnJvbVN0YXRlKCkpXHJcbiAgICAgICAgICAgIDogbnVsbDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gT2JzZXJ2ZUJvdW5kaW5nQ2xpZW50UmVjdDtcclxufShQdXJlQ29tcG9uZW50KSk7XG5cbmZ1bmN0aW9uIHVzZVZpZXdwb3J0RWZmZWN0KGhhbmRsZVZpZXdwb3J0Q2hhbmdlLCBzZWNvbmQsIHRoaXJkKSB7XHJcbiAgICB2YXIgX2EgPSB1c2VDb250ZXh0KFZpZXdwb3J0Q29udGV4dCksIGFkZFZpZXdwb3J0Q2hhbmdlTGlzdGVuZXIgPSBfYS5hZGRWaWV3cG9ydENoYW5nZUxpc3RlbmVyLCByZW1vdmVWaWV3cG9ydENoYW5nZUxpc3RlbmVyID0gX2EucmVtb3ZlVmlld3BvcnRDaGFuZ2VMaXN0ZW5lciwgaGFzUm9vdFByb3ZpZGVyQXNQYXJlbnQgPSBfYS5oYXNSb290UHJvdmlkZXJBc1BhcmVudDtcclxuICAgIHZhciBfYiA9IHNvcnRBcmdzKHNlY29uZCwgdGhpcmQpLCBvcHRpb25zID0gX2Iub3B0aW9ucywgZGVwcyA9IF9iLmRlcHM7XHJcbiAgICB2YXIgbWVtb09wdGlvbnMgPSB1c2VPcHRpb25zKG9wdGlvbnMpO1xyXG4gICAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIWhhc1Jvb3RQcm92aWRlckFzUGFyZW50KSB7XHJcbiAgICAgICAgICAgIHdhcm5Ob0NvbnRleHRBdmFpbGFibGUoJ3VzZVZpZXdwb3J0Jyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgYWRkVmlld3BvcnRDaGFuZ2VMaXN0ZW5lcihoYW5kbGVWaWV3cG9ydENoYW5nZSwge1xyXG4gICAgICAgICAgICBub3RpZnlTY3JvbGw6IGZ1bmN0aW9uICgpIHsgcmV0dXJuICFtZW1vT3B0aW9ucy5kaXNhYmxlU2Nyb2xsVXBkYXRlczsgfSxcclxuICAgICAgICAgICAgbm90aWZ5RGltZW5zaW9uczogZnVuY3Rpb24gKCkgeyByZXR1cm4gIW1lbW9PcHRpb25zLmRpc2FibGVEaW1lbnNpb25zVXBkYXRlczsgfSxcclxuICAgICAgICAgICAgbm90aWZ5T25seVdoZW5JZGxlOiBmdW5jdGlvbiAoKSB7IHJldHVybiBCb29sZWFuKG1lbW9PcHRpb25zLmRlZmVyVXBkYXRlVW50aWxJZGxlKTsgfSxcclxuICAgICAgICAgICAgcHJpb3JpdHk6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG1lbW9PcHRpb25zLnByaW9yaXR5IHx8ICdub3JtYWwnOyB9LFxyXG4gICAgICAgICAgICByZWNhbGN1bGF0ZUxheW91dEJlZm9yZVVwZGF0ZTogbWVtb09wdGlvbnMucmVjYWxjdWxhdGVMYXlvdXRCZWZvcmVVcGRhdGUsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlbW92ZVZpZXdwb3J0Q2hhbmdlTGlzdGVuZXIoaGFuZGxlVmlld3BvcnRDaGFuZ2UpOyB9O1xyXG4gICAgfSwgX19zcHJlYWRBcnJheXMoW1xyXG4gICAgICAgIGFkZFZpZXdwb3J0Q2hhbmdlTGlzdGVuZXIgfHwgbnVsbCxcclxuICAgICAgICByZW1vdmVWaWV3cG9ydENoYW5nZUxpc3RlbmVyIHx8IG51bGxcclxuICAgIF0sIGRlcHMpKTtcclxufVxyXG52YXIgdXNlVmlld3BvcnQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xyXG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cclxuICAgIHZhciBnZXRDdXJyZW50Vmlld3BvcnQgPSB1c2VDb250ZXh0KFZpZXdwb3J0Q29udGV4dCkuZ2V0Q3VycmVudFZpZXdwb3J0O1xyXG4gICAgdmFyIF9hID0gdXNlU3RhdGUoZ2V0Q3VycmVudFZpZXdwb3J0KCkpLCBzdGF0ZSA9IF9hWzBdLCBzZXRWaWV3cG9ydCA9IF9hWzFdO1xyXG4gICAgdXNlVmlld3BvcnRFZmZlY3QoZnVuY3Rpb24gKHZpZXdwb3J0KSB7IHJldHVybiBzZXRWaWV3cG9ydCh2aWV3cG9ydCk7IH0sIG9wdGlvbnMpO1xyXG4gICAgcmV0dXJuIHN0YXRlO1xyXG59O1xyXG5mdW5jdGlvbiB1c2VTY3JvbGxFZmZlY3QoZWZmZWN0LCBzZWNvbmQsIHRoaXJkKSB7XHJcbiAgICB2YXIgX2EgPSBzb3J0QXJncyhzZWNvbmQsIHRoaXJkKSwgb3B0aW9ucyA9IF9hLm9wdGlvbnMsIGRlcHMgPSBfYS5kZXBzO1xyXG4gICAgdXNlVmlld3BvcnRFZmZlY3QoZnVuY3Rpb24gKHZpZXdwb3J0LCBzbmFwc2hvdCkgeyByZXR1cm4gZWZmZWN0KHZpZXdwb3J0LnNjcm9sbCwgc25hcHNob3QpOyB9LCBfX2Fzc2lnbih7IGRpc2FibGVEaW1lbnNpb25zVXBkYXRlczogdHJ1ZSB9LCBvcHRpb25zKSwgZGVwcyk7XHJcbn1cclxudmFyIHVzZVNjcm9sbCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxyXG4gICAgdmFyIHNjcm9sbCA9IHVzZVZpZXdwb3J0KF9fYXNzaWduKHsgZGlzYWJsZURpbWVuc2lvbnNVcGRhdGVzOiB0cnVlIH0sIG9wdGlvbnMpKS5zY3JvbGw7XHJcbiAgICByZXR1cm4gc2Nyb2xsO1xyXG59O1xyXG5mdW5jdGlvbiB1c2VEaW1lbnNpb25zRWZmZWN0KGVmZmVjdCwgc2Vjb25kLCB0aGlyZCkge1xyXG4gICAgdmFyIF9hID0gc29ydEFyZ3Moc2Vjb25kLCB0aGlyZCksIG9wdGlvbnMgPSBfYS5vcHRpb25zLCBkZXBzID0gX2EuZGVwcztcclxuICAgIHVzZVZpZXdwb3J0RWZmZWN0KGZ1bmN0aW9uICh2aWV3cG9ydCwgc25hcHNob3QpIHsgcmV0dXJuIGVmZmVjdCh2aWV3cG9ydC5kaW1lbnNpb25zLCBzbmFwc2hvdCk7IH0sIF9fYXNzaWduKHsgZGlzYWJsZVNjcm9sbFVwZGF0ZXM6IHRydWUgfSwgb3B0aW9ucyksIGRlcHMpO1xyXG59XHJcbnZhciB1c2VEaW1lbnNpb25zID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XHJcbiAgICB2YXIgZGltZW5zaW9ucyA9IHVzZVZpZXdwb3J0KF9fYXNzaWduKHsgZGlzYWJsZVNjcm9sbFVwZGF0ZXM6IHRydWUgfSwgb3B0aW9ucykpLmRpbWVuc2lvbnM7XHJcbiAgICByZXR1cm4gZGltZW5zaW9ucztcclxufTtcclxudmFyIHVzZVJlY3RFZmZlY3QgPSBmdW5jdGlvbiAoZWZmZWN0LCByZWYsIG9wdGlvbnMpIHtcclxuICAgIHVzZVZpZXdwb3J0RWZmZWN0KGZ1bmN0aW9uIChfLCBzbmFwc2hvdCkgeyByZXR1cm4gZWZmZWN0KHNuYXBzaG90KTsgfSwgX19hc3NpZ24oX19hc3NpZ24oe30sIG9wdGlvbnMpLCB7IHJlY2FsY3VsYXRlTGF5b3V0QmVmb3JlVXBkYXRlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZWYuY3VycmVudCA/IHJlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpIDogbnVsbDtcclxuICAgICAgICB9IH0pLCBbcmVmLmN1cnJlbnRdKTtcclxufTtcclxudmFyIHVzZVJlY3QgPSBmdW5jdGlvbiAocmVmLCBvcHRpb25zKSB7XHJcbiAgICByZXR1cm4gdXNlTGF5b3V0U25hcHNob3QoZnVuY3Rpb24gKCkgeyByZXR1cm4gKHJlZi5jdXJyZW50ID8gcmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkgOiBudWxsKTsgfSwgb3B0aW9ucywgW3JlZi5jdXJyZW50XSk7XHJcbn07XHJcbmZ1bmN0aW9uIHVzZUxheW91dFNuYXBzaG90KHJlY2FsY3VsYXRlTGF5b3V0QmVmb3JlVXBkYXRlLCBzZWNvbmQsIHRoaXJkKSB7XHJcbiAgICB2YXIgX2EgPSBzb3J0QXJncyhzZWNvbmQsIHRoaXJkKSwgb3B0aW9ucyA9IF9hLm9wdGlvbnMsIGRlcHMgPSBfYS5kZXBzO1xyXG4gICAgdmFyIF9iID0gdXNlU3RhdGUobnVsbCksIHN0YXRlID0gX2JbMF0sIHNldFNuYXBzaG90ID0gX2JbMV07XHJcbiAgICB1c2VWaWV3cG9ydEVmZmVjdChmdW5jdGlvbiAoXywgc25hcHNob3QpIHsgcmV0dXJuIHNldFNuYXBzaG90KHNuYXBzaG90KTsgfSwgX19hc3NpZ24oX19hc3NpZ24oe30sIG9wdGlvbnMpLCB7IHJlY2FsY3VsYXRlTGF5b3V0QmVmb3JlVXBkYXRlOiByZWNhbGN1bGF0ZUxheW91dEJlZm9yZVVwZGF0ZSB9KSwgZGVwcyk7XHJcbiAgICByZXR1cm4gc3RhdGU7XHJcbn1cclxudmFyIHVzZU9wdGlvbnMgPSBmdW5jdGlvbiAobykge1xyXG4gICAgdmFyIG9wdGlvbnNSZWYgPSB1c2VSZWYoT2JqZWN0LmNyZWF0ZShudWxsKSk7XHJcbiAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gT2JqZWN0LmtleXMob3B0aW9uc1JlZi5jdXJyZW50KTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICB2YXIga2V5ID0gX2FbX2ldO1xyXG4gICAgICAgIGRlbGV0ZSBvcHRpb25zUmVmLmN1cnJlbnRba2V5XTtcclxuICAgIH1cclxuICAgIE9iamVjdC5hc3NpZ24ob3B0aW9uc1JlZi5jdXJyZW50LCBvKTtcclxuICAgIHJldHVybiBvcHRpb25zUmVmLmN1cnJlbnQ7XHJcbn07XHJcbnZhciBzb3J0QXJncyA9IGZ1bmN0aW9uIChmaXJzdCwgc2Vjb25kKSB7XHJcbiAgICB2YXIgb3B0aW9ucyA9IHt9O1xyXG4gICAgaWYgKGZpcnN0ICYmICFBcnJheS5pc0FycmF5KGZpcnN0KSkge1xyXG4gICAgICAgIG9wdGlvbnMgPSBmaXJzdDtcclxuICAgIH1cclxuICAgIHZhciBkZXBzID0gc2Vjb25kIHx8IFtdO1xyXG4gICAgaWYgKGZpcnN0ICYmIEFycmF5LmlzQXJyYXkoZmlyc3QpKSB7XHJcbiAgICAgICAgZGVwcyA9IGZpcnN0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHsgZGVwczogZGVwcywgb3B0aW9uczogb3B0aW9ucyB9O1xyXG59O1xuXG52YXIgVkVSU0lPTiA9ICcxLjExLjAnO1xuXG5leHBvcnQgeyBPYnNlcnZlQm91bmRpbmdDbGllbnRSZWN0LCBPYnNlcnZlVmlld3BvcnQsIFZFUlNJT04sIFZpZXdwb3J0UHJvdmlkZXIsIGNhbmNlbEFuaW1hdGlvbkZyYW1lLCBjb25uZWN0IGFzIGNvbm5lY3RWaWV3cG9ydCwgcmVxdWVzdEFuaW1hdGlvbkZyYW1lLCB1c2VEaW1lbnNpb25zLCB1c2VEaW1lbnNpb25zRWZmZWN0LCB1c2VMYXlvdXRTbmFwc2hvdCwgdXNlUmVjdCwgdXNlUmVjdEVmZmVjdCwgdXNlU2Nyb2xsLCB1c2VTY3JvbGxFZmZlY3QsIHVzZVZpZXdwb3J0LCB1c2VWaWV3cG9ydEVmZmVjdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguZXMuanMubWFwXG4iLCJpbXBvcnQgUmVhY3QsIHsgY3JlYXRlRmFjdG9yeSwgQ29tcG9uZW50LCBjcmVhdGVFbGVtZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IF9leHRlbmRzIGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHMnO1xuaW1wb3J0IHNoYWxsb3dFcXVhbCBmcm9tICdmYmpzL2xpYi9zaGFsbG93RXF1YWwnO1xuaW1wb3J0IF9pbmhlcml0c0xvb3NlIGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzTG9vc2UnO1xuaW1wb3J0IHsgcG9seWZpbGwgfSBmcm9tICdyZWFjdC1saWZlY3ljbGVzLWNvbXBhdCc7XG5pbXBvcnQgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSc7XG5pbXBvcnQgaG9pc3ROb25SZWFjdFN0YXRpY3MgZnJvbSAnaG9pc3Qtbm9uLXJlYWN0LXN0YXRpY3MnO1xuaW1wb3J0IHsgY3JlYXRlQ2hhbmdlRW1pdHRlciB9IGZyb20gJ2NoYW5nZS1lbWl0dGVyJztcbmltcG9ydCAkJG9ic2VydmFibGUgZnJvbSAnc3ltYm9sLW9ic2VydmFibGUnO1xuXG52YXIgc2V0U3RhdGljID0gZnVuY3Rpb24gc2V0U3RhdGljKGtleSwgdmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChCYXNlQ29tcG9uZW50KSB7XG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tcGFyYW0tcmVhc3NpZ24gKi9cbiAgICBCYXNlQ29tcG9uZW50W2tleV0gPSB2YWx1ZTtcbiAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLXBhcmFtLXJlYXNzaWduICovXG5cbiAgICByZXR1cm4gQmFzZUNvbXBvbmVudDtcbiAgfTtcbn07XG5cbnZhciBzZXREaXNwbGF5TmFtZSA9IGZ1bmN0aW9uIHNldERpc3BsYXlOYW1lKGRpc3BsYXlOYW1lKSB7XG4gIHJldHVybiBzZXRTdGF0aWMoJ2Rpc3BsYXlOYW1lJywgZGlzcGxheU5hbWUpO1xufTtcblxudmFyIGdldERpc3BsYXlOYW1lID0gZnVuY3Rpb24gZ2V0RGlzcGxheU5hbWUoQ29tcG9uZW50JCQxKSB7XG4gIGlmICh0eXBlb2YgQ29tcG9uZW50JCQxID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBDb21wb25lbnQkJDE7XG4gIH1cblxuICBpZiAoIUNvbXBvbmVudCQkMSkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICByZXR1cm4gQ29tcG9uZW50JCQxLmRpc3BsYXlOYW1lIHx8IENvbXBvbmVudCQkMS5uYW1lIHx8ICdDb21wb25lbnQnO1xufTtcblxudmFyIHdyYXBEaXNwbGF5TmFtZSA9IGZ1bmN0aW9uIHdyYXBEaXNwbGF5TmFtZShCYXNlQ29tcG9uZW50LCBob2NOYW1lKSB7XG4gIHJldHVybiBob2NOYW1lICsgXCIoXCIgKyBnZXREaXNwbGF5TmFtZShCYXNlQ29tcG9uZW50KSArIFwiKVwiO1xufTtcblxudmFyIG1hcFByb3BzID0gZnVuY3Rpb24gbWFwUHJvcHMocHJvcHNNYXBwZXIpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChCYXNlQ29tcG9uZW50KSB7XG4gICAgdmFyIGZhY3RvcnkgPSBjcmVhdGVGYWN0b3J5KEJhc2VDb21wb25lbnQpO1xuXG4gICAgdmFyIE1hcFByb3BzID0gZnVuY3Rpb24gTWFwUHJvcHMocHJvcHMpIHtcbiAgICAgIHJldHVybiBmYWN0b3J5KHByb3BzTWFwcGVyKHByb3BzKSk7XG4gICAgfTtcblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICByZXR1cm4gc2V0RGlzcGxheU5hbWUod3JhcERpc3BsYXlOYW1lKEJhc2VDb21wb25lbnQsICdtYXBQcm9wcycpKShNYXBQcm9wcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIE1hcFByb3BzO1xuICB9O1xufTtcblxudmFyIHdpdGhQcm9wcyA9IGZ1bmN0aW9uIHdpdGhQcm9wcyhpbnB1dCkge1xuICB2YXIgaG9jID0gbWFwUHJvcHMoZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgcmV0dXJuIF9leHRlbmRzKHt9LCBwcm9wcywgdHlwZW9mIGlucHV0ID09PSAnZnVuY3Rpb24nID8gaW5wdXQocHJvcHMpIDogaW5wdXQpO1xuICB9KTtcblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIHJldHVybiBmdW5jdGlvbiAoQmFzZUNvbXBvbmVudCkge1xuICAgICAgcmV0dXJuIHNldERpc3BsYXlOYW1lKHdyYXBEaXNwbGF5TmFtZShCYXNlQ29tcG9uZW50LCAnd2l0aFByb3BzJykpKGhvYyhCYXNlQ29tcG9uZW50KSk7XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBob2M7XG59O1xuXG52YXIgcGljayA9IGZ1bmN0aW9uIHBpY2sob2JqLCBrZXlzKSB7XG4gIHZhciByZXN1bHQgPSB7fTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIga2V5ID0ga2V5c1tpXTtcblxuICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgcmVzdWx0W2tleV0gPSBvYmpba2V5XTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufTtcblxudmFyIHdpdGhQcm9wc09uQ2hhbmdlID0gZnVuY3Rpb24gd2l0aFByb3BzT25DaGFuZ2Uoc2hvdWxkTWFwT3JLZXlzLCBwcm9wc01hcHBlcikge1xuICByZXR1cm4gZnVuY3Rpb24gKEJhc2VDb21wb25lbnQpIHtcbiAgICB2YXIgZmFjdG9yeSA9IGNyZWF0ZUZhY3RvcnkoQmFzZUNvbXBvbmVudCk7XG4gICAgdmFyIHNob3VsZE1hcCA9IHR5cGVvZiBzaG91bGRNYXBPcktleXMgPT09ICdmdW5jdGlvbicgPyBzaG91bGRNYXBPcktleXMgOiBmdW5jdGlvbiAocHJvcHMsIG5leHRQcm9wcykge1xuICAgICAgcmV0dXJuICFzaGFsbG93RXF1YWwocGljayhwcm9wcywgc2hvdWxkTWFwT3JLZXlzKSwgcGljayhuZXh0UHJvcHMsIHNob3VsZE1hcE9yS2V5cykpO1xuICAgIH07XG5cbiAgICB2YXIgV2l0aFByb3BzT25DaGFuZ2UgPVxuICAgIC8qI19fUFVSRV9fKi9cbiAgICBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAgICAgX2luaGVyaXRzTG9vc2UoV2l0aFByb3BzT25DaGFuZ2UsIF9Db21wb25lbnQpO1xuXG4gICAgICBmdW5jdGlvbiBXaXRoUHJvcHNPbkNoYW5nZSgpIHtcbiAgICAgICAgdmFyIF90aGlzO1xuXG4gICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpcyA9IF9Db21wb25lbnQuY2FsbC5hcHBseShfQ29tcG9uZW50LCBbdGhpc10uY29uY2F0KGFyZ3MpKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICBjb21wdXRlZFByb3BzOiBwcm9wc01hcHBlcihfdGhpcy5wcm9wcyksXG4gICAgICAgICAgcHJldlByb3BzOiBfdGhpcy5wcm9wc1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICB9XG5cbiAgICAgIFdpdGhQcm9wc09uQ2hhbmdlLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9IGZ1bmN0aW9uIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhuZXh0UHJvcHMsIHByZXZTdGF0ZSkge1xuICAgICAgICBpZiAoc2hvdWxkTWFwKHByZXZTdGF0ZS5wcmV2UHJvcHMsIG5leHRQcm9wcykpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY29tcHV0ZWRQcm9wczogcHJvcHNNYXBwZXIobmV4dFByb3BzKSxcbiAgICAgICAgICAgIHByZXZQcm9wczogbmV4dFByb3BzXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcHJldlByb3BzOiBuZXh0UHJvcHNcbiAgICAgICAgfTtcbiAgICAgIH07XG5cbiAgICAgIHZhciBfcHJvdG8gPSBXaXRoUHJvcHNPbkNoYW5nZS5wcm90b3R5cGU7XG5cbiAgICAgIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiBmYWN0b3J5KF9leHRlbmRzKHt9LCB0aGlzLnByb3BzLCB0aGlzLnN0YXRlLmNvbXB1dGVkUHJvcHMpKTtcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBXaXRoUHJvcHNPbkNoYW5nZTtcbiAgICB9KENvbXBvbmVudCk7XG5cbiAgICBwb2x5ZmlsbChXaXRoUHJvcHNPbkNoYW5nZSk7XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgcmV0dXJuIHNldERpc3BsYXlOYW1lKHdyYXBEaXNwbGF5TmFtZShCYXNlQ29tcG9uZW50LCAnd2l0aFByb3BzT25DaGFuZ2UnKSkoV2l0aFByb3BzT25DaGFuZ2UpO1xuICAgIH1cblxuICAgIHJldHVybiBXaXRoUHJvcHNPbkNoYW5nZTtcbiAgfTtcbn07XG5cbnZhciBtYXBWYWx1ZXMgPSBmdW5jdGlvbiBtYXBWYWx1ZXMob2JqLCBmdW5jKSB7XG4gIHZhciByZXN1bHQgPSB7fTtcbiAgLyogZXNsaW50LWRpc2FibGUgbm8tcmVzdHJpY3RlZC1zeW50YXggKi9cblxuICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICByZXN1bHRba2V5XSA9IGZ1bmMob2JqW2tleV0sIGtleSk7XG4gICAgfVxuICB9XG4gIC8qIGVzbGludC1lbmFibGUgbm8tcmVzdHJpY3RlZC1zeW50YXggKi9cblxuXG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG52YXIgd2l0aEhhbmRsZXJzID0gZnVuY3Rpb24gd2l0aEhhbmRsZXJzKGhhbmRsZXJzKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoQmFzZUNvbXBvbmVudCkge1xuICAgIHZhciBmYWN0b3J5ID0gY3JlYXRlRmFjdG9yeShCYXNlQ29tcG9uZW50KTtcblxuICAgIHZhciBXaXRoSGFuZGxlcnMgPVxuICAgIC8qI19fUFVSRV9fKi9cbiAgICBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAgICAgX2luaGVyaXRzTG9vc2UoV2l0aEhhbmRsZXJzLCBfQ29tcG9uZW50KTtcblxuICAgICAgZnVuY3Rpb24gV2l0aEhhbmRsZXJzKCkge1xuICAgICAgICB2YXIgX3RoaXM7XG5cbiAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIF9hcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICAgIF9hcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMgPSBfQ29tcG9uZW50LmNhbGwuYXBwbHkoX0NvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChfYXJncykpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmhhbmRsZXJzID0gbWFwVmFsdWVzKHR5cGVvZiBoYW5kbGVycyA9PT0gJ2Z1bmN0aW9uJyA/IGhhbmRsZXJzKF90aGlzLnByb3BzKSA6IGhhbmRsZXJzLCBmdW5jdGlvbiAoY3JlYXRlSGFuZGxlcikge1xuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgaGFuZGxlciA9IGNyZWF0ZUhhbmRsZXIoX3RoaXMucHJvcHMpO1xuXG4gICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB0eXBlb2YgaGFuZGxlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICAgICAgJ3dpdGhIYW5kbGVycygpOiBFeHBlY3RlZCBhIG1hcCBvZiBoaWdoZXItb3JkZXIgZnVuY3Rpb25zLiAnICsgJ1JlZmVyIHRvIHRoZSBkb2NzIGZvciBtb3JlIGluZm8uJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVyLmFwcGx5KHZvaWQgMCwgYXJndW1lbnRzKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgfVxuXG4gICAgICB2YXIgX3Byb3RvID0gV2l0aEhhbmRsZXJzLnByb3RvdHlwZTtcblxuICAgICAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIGZhY3RvcnkoX2V4dGVuZHMoe30sIHRoaXMucHJvcHMsIHRoaXMuaGFuZGxlcnMpKTtcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBXaXRoSGFuZGxlcnM7XG4gICAgfShDb21wb25lbnQpO1xuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHJldHVybiBzZXREaXNwbGF5TmFtZSh3cmFwRGlzcGxheU5hbWUoQmFzZUNvbXBvbmVudCwgJ3dpdGhIYW5kbGVycycpKShXaXRoSGFuZGxlcnMpO1xuICAgIH1cblxuICAgIHJldHVybiBXaXRoSGFuZGxlcnM7XG4gIH07XG59O1xuXG52YXIgZGVmYXVsdFByb3BzID0gZnVuY3Rpb24gZGVmYXVsdFByb3BzKHByb3BzKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoQmFzZUNvbXBvbmVudCkge1xuICAgIHZhciBmYWN0b3J5ID0gY3JlYXRlRmFjdG9yeShCYXNlQ29tcG9uZW50KTtcblxuICAgIHZhciBEZWZhdWx0UHJvcHMgPSBmdW5jdGlvbiBEZWZhdWx0UHJvcHMob3duZXJQcm9wcykge1xuICAgICAgcmV0dXJuIGZhY3Rvcnkob3duZXJQcm9wcyk7XG4gICAgfTtcblxuICAgIERlZmF1bHRQcm9wcy5kZWZhdWx0UHJvcHMgPSBwcm9wcztcblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICByZXR1cm4gc2V0RGlzcGxheU5hbWUod3JhcERpc3BsYXlOYW1lKEJhc2VDb21wb25lbnQsICdkZWZhdWx0UHJvcHMnKSkoRGVmYXVsdFByb3BzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gRGVmYXVsdFByb3BzO1xuICB9O1xufTtcblxudmFyIG9taXQgPSBmdW5jdGlvbiBvbWl0KG9iaiwga2V5cykge1xuICB2YXIgcmVzdCA9IF9leHRlbmRzKHt9LCBvYmopO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuXG4gICAgaWYgKHJlc3QuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgZGVsZXRlIHJlc3Rba2V5XTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdDtcbn07XG5cbnZhciByZW5hbWVQcm9wID0gZnVuY3Rpb24gcmVuYW1lUHJvcChvbGROYW1lLCBuZXdOYW1lKSB7XG4gIHZhciBob2MgPSBtYXBQcm9wcyhmdW5jdGlvbiAocHJvcHMpIHtcbiAgICB2YXIgX2V4dGVuZHMyO1xuXG4gICAgcmV0dXJuIF9leHRlbmRzKHt9LCBvbWl0KHByb3BzLCBbb2xkTmFtZV0pLCAoX2V4dGVuZHMyID0ge30sIF9leHRlbmRzMltuZXdOYW1lXSA9IHByb3BzW29sZE5hbWVdLCBfZXh0ZW5kczIpKTtcbiAgfSk7XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKEJhc2VDb21wb25lbnQpIHtcbiAgICAgIHJldHVybiBzZXREaXNwbGF5TmFtZSh3cmFwRGlzcGxheU5hbWUoQmFzZUNvbXBvbmVudCwgJ3JlbmFtZVByb3AnKSkoaG9jKEJhc2VDb21wb25lbnQpKTtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIGhvYztcbn07XG5cbnZhciBrZXlzID0gT2JqZWN0LmtleXM7XG5cbnZhciBtYXBLZXlzID0gZnVuY3Rpb24gbWFwS2V5cyhvYmosIGZ1bmMpIHtcbiAgcmV0dXJuIGtleXMob2JqKS5yZWR1Y2UoZnVuY3Rpb24gKHJlc3VsdCwga2V5KSB7XG4gICAgdmFyIHZhbCA9IG9ialtrZXldO1xuICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLXBhcmFtLXJlYXNzaWduICovXG5cbiAgICByZXN1bHRbZnVuYyh2YWwsIGtleSldID0gdmFsO1xuICAgIC8qIGVzbGludC1lbmFibGUgbm8tcGFyYW0tcmVhc3NpZ24gKi9cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH0sIHt9KTtcbn07XG5cbnZhciByZW5hbWVQcm9wcyA9IGZ1bmN0aW9uIHJlbmFtZVByb3BzKG5hbWVNYXApIHtcbiAgdmFyIGhvYyA9IG1hcFByb3BzKGZ1bmN0aW9uIChwcm9wcykge1xuICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgb21pdChwcm9wcywga2V5cyhuYW1lTWFwKSksIG1hcEtleXMocGljayhwcm9wcywga2V5cyhuYW1lTWFwKSksIGZ1bmN0aW9uIChfLCBvbGROYW1lKSB7XG4gICAgICByZXR1cm4gbmFtZU1hcFtvbGROYW1lXTtcbiAgICB9KSk7XG4gIH0pO1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChCYXNlQ29tcG9uZW50KSB7XG4gICAgICByZXR1cm4gc2V0RGlzcGxheU5hbWUod3JhcERpc3BsYXlOYW1lKEJhc2VDb21wb25lbnQsICdyZW5hbWVQcm9wcycpKShob2MoQmFzZUNvbXBvbmVudCkpO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gaG9jO1xufTtcblxudmFyIGZsYXR0ZW5Qcm9wID0gZnVuY3Rpb24gZmxhdHRlblByb3AocHJvcE5hbWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChCYXNlQ29tcG9uZW50KSB7XG4gICAgdmFyIGZhY3RvcnkgPSBjcmVhdGVGYWN0b3J5KEJhc2VDb21wb25lbnQpO1xuXG4gICAgdmFyIEZsYXR0ZW5Qcm9wID0gZnVuY3Rpb24gRmxhdHRlblByb3AocHJvcHMpIHtcbiAgICAgIHJldHVybiBmYWN0b3J5KF9leHRlbmRzKHt9LCBwcm9wcywgcHJvcHNbcHJvcE5hbWVdKSk7XG4gICAgfTtcblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICByZXR1cm4gc2V0RGlzcGxheU5hbWUod3JhcERpc3BsYXlOYW1lKEJhc2VDb21wb25lbnQsICdmbGF0dGVuUHJvcCcpKShGbGF0dGVuUHJvcCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIEZsYXR0ZW5Qcm9wO1xuICB9O1xufTtcblxudmFyIHdpdGhTdGF0ZSA9IGZ1bmN0aW9uIHdpdGhTdGF0ZShzdGF0ZU5hbWUsIHN0YXRlVXBkYXRlck5hbWUsIGluaXRpYWxTdGF0ZSkge1xuICByZXR1cm4gZnVuY3Rpb24gKEJhc2VDb21wb25lbnQpIHtcbiAgICB2YXIgZmFjdG9yeSA9IGNyZWF0ZUZhY3RvcnkoQmFzZUNvbXBvbmVudCk7XG5cbiAgICB2YXIgV2l0aFN0YXRlID1cbiAgICAvKiNfX1BVUkVfXyovXG4gICAgZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgICAgIF9pbmhlcml0c0xvb3NlKFdpdGhTdGF0ZSwgX0NvbXBvbmVudCk7XG5cbiAgICAgIGZ1bmN0aW9uIFdpdGhTdGF0ZSgpIHtcbiAgICAgICAgdmFyIF90aGlzO1xuXG4gICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpcyA9IF9Db21wb25lbnQuY2FsbC5hcHBseShfQ29tcG9uZW50LCBbdGhpc10uY29uY2F0KGFyZ3MpKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICBzdGF0ZVZhbHVlOiB0eXBlb2YgaW5pdGlhbFN0YXRlID09PSAnZnVuY3Rpb24nID8gaW5pdGlhbFN0YXRlKF90aGlzLnByb3BzKSA6IGluaXRpYWxTdGF0ZVxuICAgICAgICB9O1xuXG4gICAgICAgIF90aGlzLnVwZGF0ZVN0YXRlVmFsdWUgPSBmdW5jdGlvbiAodXBkYXRlRm4sIGNhbGxiYWNrKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLnNldFN0YXRlKGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgICAgICAgICB2YXIgc3RhdGVWYWx1ZSA9IF9yZWYuc3RhdGVWYWx1ZTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIHN0YXRlVmFsdWU6IHR5cGVvZiB1cGRhdGVGbiA9PT0gJ2Z1bmN0aW9uJyA/IHVwZGF0ZUZuKHN0YXRlVmFsdWUpIDogdXBkYXRlRm5cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSwgY2FsbGJhY2spO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgIH1cblxuICAgICAgdmFyIF9wcm90byA9IFdpdGhTdGF0ZS5wcm90b3R5cGU7XG5cbiAgICAgIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIHZhciBfZXh0ZW5kczI7XG5cbiAgICAgICAgcmV0dXJuIGZhY3RvcnkoX2V4dGVuZHMoe30sIHRoaXMucHJvcHMsIChfZXh0ZW5kczIgPSB7fSwgX2V4dGVuZHMyW3N0YXRlTmFtZV0gPSB0aGlzLnN0YXRlLnN0YXRlVmFsdWUsIF9leHRlbmRzMltzdGF0ZVVwZGF0ZXJOYW1lXSA9IHRoaXMudXBkYXRlU3RhdGVWYWx1ZSwgX2V4dGVuZHMyKSkpO1xuICAgICAgfTtcblxuICAgICAgcmV0dXJuIFdpdGhTdGF0ZTtcbiAgICB9KENvbXBvbmVudCk7XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgcmV0dXJuIHNldERpc3BsYXlOYW1lKHdyYXBEaXNwbGF5TmFtZShCYXNlQ29tcG9uZW50LCAnd2l0aFN0YXRlJykpKFdpdGhTdGF0ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFdpdGhTdGF0ZTtcbiAgfTtcbn07XG5cbnZhciB3aXRoU3RhdGVIYW5kbGVycyA9IGZ1bmN0aW9uIHdpdGhTdGF0ZUhhbmRsZXJzKGluaXRpYWxTdGF0ZSwgc3RhdGVVcGRhdGVycykge1xuICByZXR1cm4gZnVuY3Rpb24gKEJhc2VDb21wb25lbnQpIHtcbiAgICB2YXIgZmFjdG9yeSA9IGNyZWF0ZUZhY3RvcnkoQmFzZUNvbXBvbmVudCk7XG5cbiAgICB2YXIgV2l0aFN0YXRlSGFuZGxlcnMgPVxuICAgIC8qI19fUFVSRV9fKi9cbiAgICBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAgICAgX2luaGVyaXRzTG9vc2UoV2l0aFN0YXRlSGFuZGxlcnMsIF9Db21wb25lbnQpO1xuXG4gICAgICBmdW5jdGlvbiBXaXRoU3RhdGVIYW5kbGVycygpIHtcbiAgICAgICAgdmFyIF90aGlzO1xuXG4gICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBfYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgICBfYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzID0gX0NvbXBvbmVudC5jYWxsLmFwcGx5KF9Db21wb25lbnQsIFt0aGlzXS5jb25jYXQoX2FyZ3MpKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zdGF0ZSA9IHR5cGVvZiBpbml0aWFsU3RhdGUgPT09ICdmdW5jdGlvbicgPyBpbml0aWFsU3RhdGUoX3RoaXMucHJvcHMpIDogaW5pdGlhbFN0YXRlO1xuICAgICAgICBfdGhpcy5zdGF0ZVVwZGF0ZXJzID0gbWFwVmFsdWVzKHN0YXRlVXBkYXRlcnMsIGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChtYXlCZUV2ZW50KSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjIgPiAxID8gX2xlbjIgLSAxIDogMCksIF9rZXkyID0gMTsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgICAgICAgICBhcmdzW19rZXkyIC0gMV0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBIYXZpbmcgdGhhdCBmdW5jdGlvbmFsIGZvcm0gb2Ygc2V0U3RhdGUgY2FuIGJlIGNhbGxlZCBhc3luY1xuICAgICAgICAgICAgLy8gd2UgbmVlZCB0byBwZXJzaXN0IFN5bnRoZXRpY0V2ZW50XG4gICAgICAgICAgICBpZiAobWF5QmVFdmVudCAmJiB0eXBlb2YgbWF5QmVFdmVudC5wZXJzaXN0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgIG1heUJlRXZlbnQucGVyc2lzdCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZShmdW5jdGlvbiAoc3RhdGUsIHByb3BzKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGVyKHN0YXRlLCBwcm9wcykuYXBwbHkodm9pZCAwLCBbbWF5QmVFdmVudF0uY29uY2F0KGFyZ3MpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICB9XG5cbiAgICAgIHZhciBfcHJvdG8gPSBXaXRoU3RhdGVIYW5kbGVycy5wcm90b3R5cGU7XG5cbiAgICAgIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiBmYWN0b3J5KF9leHRlbmRzKHt9LCB0aGlzLnByb3BzLCB0aGlzLnN0YXRlLCB0aGlzLnN0YXRlVXBkYXRlcnMpKTtcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBXaXRoU3RhdGVIYW5kbGVycztcbiAgICB9KENvbXBvbmVudCk7XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgcmV0dXJuIHNldERpc3BsYXlOYW1lKHdyYXBEaXNwbGF5TmFtZShCYXNlQ29tcG9uZW50LCAnd2l0aFN0YXRlSGFuZGxlcnMnKSkoV2l0aFN0YXRlSGFuZGxlcnMpO1xuICAgIH1cblxuICAgIHJldHVybiBXaXRoU3RhdGVIYW5kbGVycztcbiAgfTtcbn07XG5cbnZhciBub29wID0gZnVuY3Rpb24gbm9vcCgpIHt9O1xuXG52YXIgd2l0aFJlZHVjZXIgPSBmdW5jdGlvbiB3aXRoUmVkdWNlcihzdGF0ZU5hbWUsIGRpc3BhdGNoTmFtZSwgcmVkdWNlciwgaW5pdGlhbFN0YXRlKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoQmFzZUNvbXBvbmVudCkge1xuICAgIHZhciBmYWN0b3J5ID0gY3JlYXRlRmFjdG9yeShCYXNlQ29tcG9uZW50KTtcblxuICAgIHZhciBXaXRoUmVkdWNlciA9XG4gICAgLyojX19QVVJFX18qL1xuICAgIGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICAgICBfaW5oZXJpdHNMb29zZShXaXRoUmVkdWNlciwgX0NvbXBvbmVudCk7XG5cbiAgICAgIGZ1bmN0aW9uIFdpdGhSZWR1Y2VyKCkge1xuICAgICAgICB2YXIgX3RoaXM7XG5cbiAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzID0gX0NvbXBvbmVudC5jYWxsLmFwcGx5KF9Db21wb25lbnQsIFt0aGlzXS5jb25jYXQoYXJncykpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgICAgIHN0YXRlVmFsdWU6IF90aGlzLmluaXRpYWxpemVTdGF0ZVZhbHVlKClcbiAgICAgICAgfTtcblxuICAgICAgICBfdGhpcy5kaXNwYXRjaCA9IGZ1bmN0aW9uIChhY3Rpb24sIGNhbGxiYWNrKSB7XG4gICAgICAgICAgaWYgKGNhbGxiYWNrID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGNhbGxiYWNrID0gbm9vcDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gX3RoaXMuc2V0U3RhdGUoZnVuY3Rpb24gKF9yZWYpIHtcbiAgICAgICAgICAgIHZhciBzdGF0ZVZhbHVlID0gX3JlZi5zdGF0ZVZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgc3RhdGVWYWx1ZTogcmVkdWNlcihzdGF0ZVZhbHVlLCBhY3Rpb24pXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhfdGhpcy5zdGF0ZS5zdGF0ZVZhbHVlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICB9XG5cbiAgICAgIHZhciBfcHJvdG8gPSBXaXRoUmVkdWNlci5wcm90b3R5cGU7XG5cbiAgICAgIF9wcm90by5pbml0aWFsaXplU3RhdGVWYWx1ZSA9IGZ1bmN0aW9uIGluaXRpYWxpemVTdGF0ZVZhbHVlKCkge1xuICAgICAgICBpZiAoaW5pdGlhbFN0YXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZXR1cm4gdHlwZW9mIGluaXRpYWxTdGF0ZSA9PT0gJ2Z1bmN0aW9uJyA/IGluaXRpYWxTdGF0ZSh0aGlzLnByb3BzKSA6IGluaXRpYWxTdGF0ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZWR1Y2VyKHVuZGVmaW5lZCwge1xuICAgICAgICAgIHR5cGU6ICdAQHJlY29tcG9zZS9JTklUJ1xuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIHZhciBfZXh0ZW5kczI7XG5cbiAgICAgICAgcmV0dXJuIGZhY3RvcnkoX2V4dGVuZHMoe30sIHRoaXMucHJvcHMsIChfZXh0ZW5kczIgPSB7fSwgX2V4dGVuZHMyW3N0YXRlTmFtZV0gPSB0aGlzLnN0YXRlLnN0YXRlVmFsdWUsIF9leHRlbmRzMltkaXNwYXRjaE5hbWVdID0gdGhpcy5kaXNwYXRjaCwgX2V4dGVuZHMyKSkpO1xuICAgICAgfTtcblxuICAgICAgcmV0dXJuIFdpdGhSZWR1Y2VyO1xuICAgIH0oQ29tcG9uZW50KTtcblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICByZXR1cm4gc2V0RGlzcGxheU5hbWUod3JhcERpc3BsYXlOYW1lKEJhc2VDb21wb25lbnQsICd3aXRoUmVkdWNlcicpKShXaXRoUmVkdWNlcik7XG4gICAgfVxuXG4gICAgcmV0dXJuIFdpdGhSZWR1Y2VyO1xuICB9O1xufTtcblxudmFyIGlkZW50aXR5ID0gZnVuY3Rpb24gaWRlbnRpdHkoQ29tcG9uZW50JCQxKSB7XG4gIHJldHVybiBDb21wb25lbnQkJDE7XG59O1xuXG52YXIgYnJhbmNoID0gZnVuY3Rpb24gYnJhbmNoKHRlc3QsIGxlZnQsIHJpZ2h0KSB7XG4gIGlmIChyaWdodCA9PT0gdm9pZCAwKSB7XG4gICAgcmlnaHQgPSBpZGVudGl0eTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoQmFzZUNvbXBvbmVudCkge1xuICAgIHZhciBsZWZ0RmFjdG9yeTtcbiAgICB2YXIgcmlnaHRGYWN0b3J5O1xuXG4gICAgdmFyIEJyYW5jaCA9IGZ1bmN0aW9uIEJyYW5jaChwcm9wcykge1xuICAgICAgaWYgKHRlc3QocHJvcHMpKSB7XG4gICAgICAgIGxlZnRGYWN0b3J5ID0gbGVmdEZhY3RvcnkgfHwgY3JlYXRlRmFjdG9yeShsZWZ0KEJhc2VDb21wb25lbnQpKTtcbiAgICAgICAgcmV0dXJuIGxlZnRGYWN0b3J5KHByb3BzKTtcbiAgICAgIH1cblxuICAgICAgcmlnaHRGYWN0b3J5ID0gcmlnaHRGYWN0b3J5IHx8IGNyZWF0ZUZhY3RvcnkocmlnaHQoQmFzZUNvbXBvbmVudCkpO1xuICAgICAgcmV0dXJuIHJpZ2h0RmFjdG9yeShwcm9wcyk7XG4gICAgfTtcblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICByZXR1cm4gc2V0RGlzcGxheU5hbWUod3JhcERpc3BsYXlOYW1lKEJhc2VDb21wb25lbnQsICdicmFuY2gnKSkoQnJhbmNoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gQnJhbmNoO1xuICB9O1xufTtcblxudmFyIHJlbmRlckNvbXBvbmVudCA9IGZ1bmN0aW9uIHJlbmRlckNvbXBvbmVudChDb21wb25lbnQkJDEpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChfKSB7XG4gICAgdmFyIGZhY3RvcnkgPSBjcmVhdGVGYWN0b3J5KENvbXBvbmVudCQkMSk7XG5cbiAgICB2YXIgUmVuZGVyQ29tcG9uZW50ID0gZnVuY3Rpb24gUmVuZGVyQ29tcG9uZW50KHByb3BzKSB7XG4gICAgICByZXR1cm4gZmFjdG9yeShwcm9wcyk7XG4gICAgfTtcblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBSZW5kZXJDb21wb25lbnQuZGlzcGxheU5hbWUgPSB3cmFwRGlzcGxheU5hbWUoQ29tcG9uZW50JCQxLCAncmVuZGVyQ29tcG9uZW50Jyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFJlbmRlckNvbXBvbmVudDtcbiAgfTtcbn07XG5cbnZhciBOb3RoaW5nID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKE5vdGhpbmcsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIE5vdGhpbmcoKSB7XG4gICAgcmV0dXJuIF9Db21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IE5vdGhpbmcucHJvdG90eXBlO1xuXG4gIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgcmV0dXJuIE5vdGhpbmc7XG59KENvbXBvbmVudCk7XG5cbnZhciByZW5kZXJOb3RoaW5nID0gZnVuY3Rpb24gcmVuZGVyTm90aGluZyhfKSB7XG4gIHJldHVybiBOb3RoaW5nO1xufTtcblxudmFyIHNob3VsZFVwZGF0ZSA9IGZ1bmN0aW9uIHNob3VsZFVwZGF0ZSh0ZXN0KSB7XG4gIHJldHVybiBmdW5jdGlvbiAoQmFzZUNvbXBvbmVudCkge1xuICAgIHZhciBmYWN0b3J5ID0gY3JlYXRlRmFjdG9yeShCYXNlQ29tcG9uZW50KTtcblxuICAgIHZhciBTaG91bGRVcGRhdGUgPVxuICAgIC8qI19fUFVSRV9fKi9cbiAgICBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAgICAgX2luaGVyaXRzTG9vc2UoU2hvdWxkVXBkYXRlLCBfQ29tcG9uZW50KTtcblxuICAgICAgZnVuY3Rpb24gU2hvdWxkVXBkYXRlKCkge1xuICAgICAgICByZXR1cm4gX0NvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICB9XG5cbiAgICAgIHZhciBfcHJvdG8gPSBTaG91bGRVcGRhdGUucHJvdG90eXBlO1xuXG4gICAgICBfcHJvdG8uc2hvdWxkQ29tcG9uZW50VXBkYXRlID0gZnVuY3Rpb24gc2hvdWxkQ29tcG9uZW50VXBkYXRlKG5leHRQcm9wcykge1xuICAgICAgICByZXR1cm4gdGVzdCh0aGlzLnByb3BzLCBuZXh0UHJvcHMpO1xuICAgICAgfTtcblxuICAgICAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIGZhY3RvcnkodGhpcy5wcm9wcyk7XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gU2hvdWxkVXBkYXRlO1xuICAgIH0oQ29tcG9uZW50KTtcblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICByZXR1cm4gc2V0RGlzcGxheU5hbWUod3JhcERpc3BsYXlOYW1lKEJhc2VDb21wb25lbnQsICdzaG91bGRVcGRhdGUnKSkoU2hvdWxkVXBkYXRlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gU2hvdWxkVXBkYXRlO1xuICB9O1xufTtcblxudmFyIHB1cmUgPSBmdW5jdGlvbiBwdXJlKEJhc2VDb21wb25lbnQpIHtcbiAgdmFyIGhvYyA9IHNob3VsZFVwZGF0ZShmdW5jdGlvbiAocHJvcHMsIG5leHRQcm9wcykge1xuICAgIHJldHVybiAhc2hhbGxvd0VxdWFsKHByb3BzLCBuZXh0UHJvcHMpO1xuICB9KTtcblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIHJldHVybiBzZXREaXNwbGF5TmFtZSh3cmFwRGlzcGxheU5hbWUoQmFzZUNvbXBvbmVudCwgJ3B1cmUnKSkoaG9jKEJhc2VDb21wb25lbnQpKTtcbiAgfVxuXG4gIHJldHVybiBob2MoQmFzZUNvbXBvbmVudCk7XG59O1xuXG52YXIgb25seVVwZGF0ZUZvcktleXMgPSBmdW5jdGlvbiBvbmx5VXBkYXRlRm9yS2V5cyhwcm9wS2V5cykge1xuICB2YXIgaG9jID0gc2hvdWxkVXBkYXRlKGZ1bmN0aW9uIChwcm9wcywgbmV4dFByb3BzKSB7XG4gICAgcmV0dXJuICFzaGFsbG93RXF1YWwocGljayhuZXh0UHJvcHMsIHByb3BLZXlzKSwgcGljayhwcm9wcywgcHJvcEtleXMpKTtcbiAgfSk7XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKEJhc2VDb21wb25lbnQpIHtcbiAgICAgIHJldHVybiBzZXREaXNwbGF5TmFtZSh3cmFwRGlzcGxheU5hbWUoQmFzZUNvbXBvbmVudCwgJ29ubHlVcGRhdGVGb3JLZXlzJykpKGhvYyhCYXNlQ29tcG9uZW50KSk7XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBob2M7XG59O1xuXG52YXIgb25seVVwZGF0ZUZvclByb3BUeXBlcyA9IGZ1bmN0aW9uIG9ubHlVcGRhdGVGb3JQcm9wVHlwZXMoQmFzZUNvbXBvbmVudCkge1xuICB2YXIgcHJvcFR5cGVzID0gQmFzZUNvbXBvbmVudC5wcm9wVHlwZXM7XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBpZiAoIXByb3BUeXBlcykge1xuICAgICAgLyogZXNsaW50LWRpc2FibGUgKi9cbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0EgY29tcG9uZW50IHdpdGhvdXQgYW55IGBwcm9wVHlwZXNgIHdhcyBwYXNzZWQgdG8gJyArICdgb25seVVwZGF0ZUZvclByb3BUeXBlcygpYC4gQ2hlY2sgdGhlIGltcGxlbWVudGF0aW9uIG9mIHRoZSAnICsgKFwiY29tcG9uZW50IHdpdGggZGlzcGxheSBuYW1lIFxcXCJcIiArIGdldERpc3BsYXlOYW1lKEJhc2VDb21wb25lbnQpICsgXCJcXFwiLlwiKSk7XG4gICAgICAvKiBlc2xpbnQtZW5hYmxlICovXG4gICAgfVxuICB9XG5cbiAgdmFyIHByb3BLZXlzID0gT2JqZWN0LmtleXMocHJvcFR5cGVzIHx8IHt9KTtcbiAgdmFyIE9ubHlVcGRhdGVGb3JQcm9wVHlwZXMgPSBvbmx5VXBkYXRlRm9yS2V5cyhwcm9wS2V5cykoQmFzZUNvbXBvbmVudCk7XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICByZXR1cm4gc2V0RGlzcGxheU5hbWUod3JhcERpc3BsYXlOYW1lKEJhc2VDb21wb25lbnQsICdvbmx5VXBkYXRlRm9yUHJvcFR5cGVzJykpKE9ubHlVcGRhdGVGb3JQcm9wVHlwZXMpO1xuICB9XG5cbiAgcmV0dXJuIE9ubHlVcGRhdGVGb3JQcm9wVHlwZXM7XG59O1xuXG52YXIgd2l0aENvbnRleHQgPSBmdW5jdGlvbiB3aXRoQ29udGV4dChjaGlsZENvbnRleHRUeXBlcywgZ2V0Q2hpbGRDb250ZXh0KSB7XG4gIHJldHVybiBmdW5jdGlvbiAoQmFzZUNvbXBvbmVudCkge1xuICAgIHZhciBmYWN0b3J5ID0gY3JlYXRlRmFjdG9yeShCYXNlQ29tcG9uZW50KTtcblxuICAgIHZhciBXaXRoQ29udGV4dCA9XG4gICAgLyojX19QVVJFX18qL1xuICAgIGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICAgICBfaW5oZXJpdHNMb29zZShXaXRoQ29udGV4dCwgX0NvbXBvbmVudCk7XG5cbiAgICAgIGZ1bmN0aW9uIFdpdGhDb250ZXh0KCkge1xuICAgICAgICB2YXIgX3RoaXM7XG5cbiAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzID0gX0NvbXBvbmVudC5jYWxsLmFwcGx5KF9Db21wb25lbnQsIFt0aGlzXS5jb25jYXQoYXJncykpIHx8IHRoaXM7XG5cbiAgICAgICAgX3RoaXMuZ2V0Q2hpbGRDb250ZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBnZXRDaGlsZENvbnRleHQoX3RoaXMucHJvcHMpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgIH1cblxuICAgICAgdmFyIF9wcm90byA9IFdpdGhDb250ZXh0LnByb3RvdHlwZTtcblxuICAgICAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIGZhY3RvcnkodGhpcy5wcm9wcyk7XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gV2l0aENvbnRleHQ7XG4gICAgfShDb21wb25lbnQpO1xuXG4gICAgV2l0aENvbnRleHQuY2hpbGRDb250ZXh0VHlwZXMgPSBjaGlsZENvbnRleHRUeXBlcztcblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICByZXR1cm4gc2V0RGlzcGxheU5hbWUod3JhcERpc3BsYXlOYW1lKEJhc2VDb21wb25lbnQsICd3aXRoQ29udGV4dCcpKShXaXRoQ29udGV4dCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFdpdGhDb250ZXh0O1xuICB9O1xufTtcblxudmFyIGdldENvbnRleHQgPSBmdW5jdGlvbiBnZXRDb250ZXh0KGNvbnRleHRUeXBlcykge1xuICByZXR1cm4gZnVuY3Rpb24gKEJhc2VDb21wb25lbnQpIHtcbiAgICB2YXIgZmFjdG9yeSA9IGNyZWF0ZUZhY3RvcnkoQmFzZUNvbXBvbmVudCk7XG5cbiAgICB2YXIgR2V0Q29udGV4dCA9IGZ1bmN0aW9uIEdldENvbnRleHQob3duZXJQcm9wcywgY29udGV4dCkge1xuICAgICAgcmV0dXJuIGZhY3RvcnkoX2V4dGVuZHMoe30sIG93bmVyUHJvcHMsIGNvbnRleHQpKTtcbiAgICB9O1xuXG4gICAgR2V0Q29udGV4dC5jb250ZXh0VHlwZXMgPSBjb250ZXh0VHlwZXM7XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgcmV0dXJuIHNldERpc3BsYXlOYW1lKHdyYXBEaXNwbGF5TmFtZShCYXNlQ29tcG9uZW50LCAnZ2V0Q29udGV4dCcpKShHZXRDb250ZXh0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gR2V0Q29udGV4dDtcbiAgfTtcbn07XG5cbnZhciBsaWZlY3ljbGUgPSBmdW5jdGlvbiBsaWZlY3ljbGUoc3BlYykge1xuICByZXR1cm4gZnVuY3Rpb24gKEJhc2VDb21wb25lbnQpIHtcbiAgICB2YXIgZmFjdG9yeSA9IGNyZWF0ZUZhY3RvcnkoQmFzZUNvbXBvbmVudCk7XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBzcGVjLmhhc093blByb3BlcnR5KCdyZW5kZXInKSkge1xuICAgICAgY29uc29sZS5lcnJvcignbGlmZWN5Y2xlKCkgZG9lcyBub3Qgc3VwcG9ydCB0aGUgcmVuZGVyIG1ldGhvZDsgaXRzIGJlaGF2aW9yIGlzIHRvICcgKyAncGFzcyBhbGwgcHJvcHMgYW5kIHN0YXRlIHRvIHRoZSBiYXNlIGNvbXBvbmVudC4nKTtcbiAgICB9XG5cbiAgICB2YXIgTGlmZWN5Y2xlID1cbiAgICAvKiNfX1BVUkVfXyovXG4gICAgZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgICAgIF9pbmhlcml0c0xvb3NlKExpZmVjeWNsZSwgX0NvbXBvbmVudCk7XG5cbiAgICAgIGZ1bmN0aW9uIExpZmVjeWNsZSgpIHtcbiAgICAgICAgcmV0dXJuIF9Db21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgfVxuXG4gICAgICB2YXIgX3Byb3RvID0gTGlmZWN5Y2xlLnByb3RvdHlwZTtcblxuICAgICAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIGZhY3RvcnkoX2V4dGVuZHMoe30sIHRoaXMucHJvcHMsIHRoaXMuc3RhdGUpKTtcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBMaWZlY3ljbGU7XG4gICAgfShDb21wb25lbnQpO1xuXG4gICAgT2JqZWN0LmtleXMoc3BlYykuZm9yRWFjaChmdW5jdGlvbiAoaG9vaykge1xuICAgICAgcmV0dXJuIExpZmVjeWNsZS5wcm90b3R5cGVbaG9va10gPSBzcGVjW2hvb2tdO1xuICAgIH0pO1xuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHJldHVybiBzZXREaXNwbGF5TmFtZSh3cmFwRGlzcGxheU5hbWUoQmFzZUNvbXBvbmVudCwgJ2xpZmVjeWNsZScpKShMaWZlY3ljbGUpO1xuICAgIH1cblxuICAgIHJldHVybiBMaWZlY3ljbGU7XG4gIH07XG59O1xuXG52YXIgaXNDbGFzc0NvbXBvbmVudCA9IGZ1bmN0aW9uIGlzQ2xhc3NDb21wb25lbnQoQ29tcG9uZW50JCQxKSB7XG4gIHJldHVybiBCb29sZWFuKENvbXBvbmVudCQkMSAmJiBDb21wb25lbnQkJDEucHJvdG90eXBlICYmIHR5cGVvZiBDb21wb25lbnQkJDEucHJvdG90eXBlLnJlbmRlciA9PT0gJ2Z1bmN0aW9uJyk7XG59O1xuXG52YXIgdG9DbGFzcyA9IGZ1bmN0aW9uIHRvQ2xhc3MoYmFzZUNvbXBvbmVudCkge1xuICB2YXIgX2NsYXNzLCBfdGVtcDtcblxuICByZXR1cm4gaXNDbGFzc0NvbXBvbmVudChiYXNlQ29tcG9uZW50KSA/IGJhc2VDb21wb25lbnQgOiAoX3RlbXAgPSBfY2xhc3MgPVxuICAvKiNfX1BVUkVfXyovXG4gIGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzTG9vc2UoVG9DbGFzcywgX0NvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBUb0NsYXNzKCkge1xuICAgICAgcmV0dXJuIF9Db21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cblxuICAgIHZhciBfcHJvdG8gPSBUb0NsYXNzLnByb3RvdHlwZTtcblxuICAgIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICBpZiAodHlwZW9mIGJhc2VDb21wb25lbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KGJhc2VDb21wb25lbnQsIHRoaXMucHJvcHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYmFzZUNvbXBvbmVudCh0aGlzLnByb3BzLCB0aGlzLmNvbnRleHQpO1xuICAgIH07XG5cbiAgICByZXR1cm4gVG9DbGFzcztcbiAgfShDb21wb25lbnQpLCBfY2xhc3MuZGlzcGxheU5hbWUgPSBnZXREaXNwbGF5TmFtZShiYXNlQ29tcG9uZW50KSwgX2NsYXNzLnByb3BUeXBlcyA9IGJhc2VDb21wb25lbnQucHJvcFR5cGVzLCBfY2xhc3MuY29udGV4dFR5cGVzID0gYmFzZUNvbXBvbmVudC5jb250ZXh0VHlwZXMsIF9jbGFzcy5kZWZhdWx0UHJvcHMgPSBiYXNlQ29tcG9uZW50LmRlZmF1bHRQcm9wcywgX3RlbXApO1xufTtcblxuZnVuY3Rpb24gdG9SZW5kZXJQcm9wcyhob2MpIHtcbiAgdmFyIFJlbmRlclByb3BzQ29tcG9uZW50ID0gZnVuY3Rpb24gUmVuZGVyUHJvcHNDb21wb25lbnQocHJvcHMpIHtcbiAgICByZXR1cm4gcHJvcHMuY2hpbGRyZW4ocHJvcHMpO1xuICB9O1xuXG4gIHJldHVybiBob2MoUmVuZGVyUHJvcHNDb21wb25lbnQpO1xufVxuXG52YXIgZnJvbVJlbmRlclByb3BzID0gZnVuY3Rpb24gZnJvbVJlbmRlclByb3BzKFJlbmRlclByb3BzQ29tcG9uZW50LCBwcm9wc01hcHBlciwgcmVuZGVyUHJvcE5hbWUpIHtcbiAgaWYgKHJlbmRlclByb3BOYW1lID09PSB2b2lkIDApIHtcbiAgICByZW5kZXJQcm9wTmFtZSA9ICdjaGlsZHJlbic7XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKEJhc2VDb21wb25lbnQpIHtcbiAgICB2YXIgYmFzZUZhY3RvcnkgPSBSZWFjdC5jcmVhdGVGYWN0b3J5KEJhc2VDb21wb25lbnQpO1xuICAgIHZhciByZW5kZXJQcm9wc0ZhY3RvcnkgPSBSZWFjdC5jcmVhdGVGYWN0b3J5KFJlbmRlclByb3BzQ29tcG9uZW50KTtcblxuICAgIHZhciBGcm9tUmVuZGVyUHJvcHMgPSBmdW5jdGlvbiBGcm9tUmVuZGVyUHJvcHMob3duZXJQcm9wcykge1xuICAgICAgdmFyIF9yZW5kZXJQcm9wc0ZhY3Rvcnk7XG5cbiAgICAgIHJldHVybiByZW5kZXJQcm9wc0ZhY3RvcnkoKF9yZW5kZXJQcm9wc0ZhY3RvcnkgPSB7fSwgX3JlbmRlclByb3BzRmFjdG9yeVtyZW5kZXJQcm9wTmFtZV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBiYXNlRmFjdG9yeShfZXh0ZW5kcyh7fSwgb3duZXJQcm9wcywgcHJvcHNNYXBwZXIuYXBwbHkodm9pZCAwLCBhcmd1bWVudHMpKSk7XG4gICAgICB9LCBfcmVuZGVyUHJvcHNGYWN0b3J5KSk7XG4gICAgfTtcblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICByZXR1cm4gc2V0RGlzcGxheU5hbWUod3JhcERpc3BsYXlOYW1lKEJhc2VDb21wb25lbnQsICdmcm9tUmVuZGVyUHJvcHMnKSkoRnJvbVJlbmRlclByb3BzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gRnJvbVJlbmRlclByb3BzO1xuICB9O1xufTtcblxudmFyIHNldFByb3BUeXBlcyA9IGZ1bmN0aW9uIHNldFByb3BUeXBlcyhwcm9wVHlwZXMpIHtcbiAgcmV0dXJuIHNldFN0YXRpYygncHJvcFR5cGVzJywgcHJvcFR5cGVzKTtcbn07XG5cbnZhciBjb21wb3NlID0gZnVuY3Rpb24gY29tcG9zZSgpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGZ1bmNzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIGZ1bmNzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmNzLnJlZHVjZShmdW5jdGlvbiAoYSwgYikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gYShiLmFwcGx5KHZvaWQgMCwgYXJndW1lbnRzKSk7XG4gICAgfTtcbiAgfSwgZnVuY3Rpb24gKGFyZykge1xuICAgIHJldHVybiBhcmc7XG4gIH0pO1xufTtcblxudmFyIGNyZWF0ZVNpbmsgPSBmdW5jdGlvbiBjcmVhdGVTaW5rKGNhbGxiYWNrKSB7XG4gIHZhciBTaW5rID1cbiAgLyojX19QVVJFX18qL1xuICBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAgIF9pbmhlcml0c0xvb3NlKFNpbmssIF9Db21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gU2luaygpIHtcbiAgICAgIHZhciBfdGhpcztcblxuICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG5cbiAgICAgIF90aGlzID0gX0NvbXBvbmVudC5jYWxsLmFwcGx5KF9Db21wb25lbnQsIFt0aGlzXS5jb25jYXQoYXJncykpIHx8IHRoaXM7XG4gICAgICBfdGhpcy5zdGF0ZSA9IHt9O1xuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIFNpbmsuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID0gZnVuY3Rpb24gZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKG5leHRQcm9wcykge1xuICAgICAgY2FsbGJhY2sobmV4dFByb3BzKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG5cbiAgICB2YXIgX3Byb3RvID0gU2luay5wcm90b3R5cGU7XG5cbiAgICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiBTaW5rO1xuICB9KENvbXBvbmVudCk7XG5cbiAgcG9seWZpbGwoU2luayk7XG4gIHJldHVybiBTaW5rO1xufTtcblxudmFyIGNvbXBvbmVudEZyb21Qcm9wID0gZnVuY3Rpb24gY29tcG9uZW50RnJvbVByb3AocHJvcE5hbWUpIHtcbiAgdmFyIENvbXBvbmVudCQkMSA9IGZ1bmN0aW9uIENvbXBvbmVudCQkMShwcm9wcykge1xuICAgIHJldHVybiBjcmVhdGVFbGVtZW50KHByb3BzW3Byb3BOYW1lXSwgb21pdChwcm9wcywgW3Byb3BOYW1lXSkpO1xuICB9O1xuXG4gIENvbXBvbmVudCQkMS5kaXNwbGF5TmFtZSA9IFwiY29tcG9uZW50RnJvbVByb3AoXCIgKyBwcm9wTmFtZSArIFwiKVwiO1xuICByZXR1cm4gQ29tcG9uZW50JCQxO1xufTtcblxudmFyIG5lc3QgPSBmdW5jdGlvbiBuZXN0KCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgQ29tcG9uZW50cyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBDb21wb25lbnRzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgdmFyIGZhY3RvcmllcyA9IENvbXBvbmVudHMubWFwKGNyZWF0ZUZhY3RvcnkpO1xuXG4gIHZhciBOZXN0ID0gZnVuY3Rpb24gTmVzdChfcmVmKSB7XG4gICAgdmFyIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbixcbiAgICAgICAgcHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfcmVmLCBbXCJjaGlsZHJlblwiXSk7XG5cbiAgICByZXR1cm4gZmFjdG9yaWVzLnJlZHVjZVJpZ2h0KGZ1bmN0aW9uIChjaGlsZCwgZmFjdG9yeSkge1xuICAgICAgcmV0dXJuIGZhY3RvcnkocHJvcHMsIGNoaWxkKTtcbiAgICB9LCBjaGlsZHJlbik7XG4gIH07XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICB2YXIgZGlzcGxheU5hbWVzID0gQ29tcG9uZW50cy5tYXAoZ2V0RGlzcGxheU5hbWUpO1xuICAgIE5lc3QuZGlzcGxheU5hbWUgPSBcIm5lc3QoXCIgKyBkaXNwbGF5TmFtZXMuam9pbignLCAnKSArIFwiKVwiO1xuICB9XG5cbiAgcmV0dXJuIE5lc3Q7XG59O1xuXG52YXIgaG9pc3RTdGF0aWNzID0gZnVuY3Rpb24gaG9pc3RTdGF0aWNzKGhpZ2hlck9yZGVyQ29tcG9uZW50LCBibGFja2xpc3QpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChCYXNlQ29tcG9uZW50KSB7XG4gICAgdmFyIE5ld0NvbXBvbmVudCA9IGhpZ2hlck9yZGVyQ29tcG9uZW50KEJhc2VDb21wb25lbnQpO1xuICAgIGhvaXN0Tm9uUmVhY3RTdGF0aWNzKE5ld0NvbXBvbmVudCwgQmFzZUNvbXBvbmVudCwgYmxhY2tsaXN0KTtcbiAgICByZXR1cm4gTmV3Q29tcG9uZW50O1xuICB9O1xufTtcblxudmFyIF9jb25maWcgPSB7XG4gIGZyb21FU09ic2VydmFibGU6IG51bGwsXG4gIHRvRVNPYnNlcnZhYmxlOiBudWxsXG59O1xuXG52YXIgY29uZmlndXJlT2JzZXJ2YWJsZSA9IGZ1bmN0aW9uIGNvbmZpZ3VyZU9ic2VydmFibGUoYykge1xuICBfY29uZmlnID0gYztcbn07XG5cbnZhciBjb25maWcgPSB7XG4gIGZyb21FU09ic2VydmFibGU6IGZ1bmN0aW9uIGZyb21FU09ic2VydmFibGUob2JzZXJ2YWJsZSkge1xuICAgIHJldHVybiB0eXBlb2YgX2NvbmZpZy5mcm9tRVNPYnNlcnZhYmxlID09PSAnZnVuY3Rpb24nID8gX2NvbmZpZy5mcm9tRVNPYnNlcnZhYmxlKG9ic2VydmFibGUpIDogb2JzZXJ2YWJsZTtcbiAgfSxcbiAgdG9FU09ic2VydmFibGU6IGZ1bmN0aW9uIHRvRVNPYnNlcnZhYmxlKHN0cmVhbSkge1xuICAgIHJldHVybiB0eXBlb2YgX2NvbmZpZy50b0VTT2JzZXJ2YWJsZSA9PT0gJ2Z1bmN0aW9uJyA/IF9jb25maWcudG9FU09ic2VydmFibGUoc3RyZWFtKSA6IHN0cmVhbTtcbiAgfVxufTtcblxudmFyIGNvbXBvbmVudEZyb21TdHJlYW1XaXRoQ29uZmlnID0gZnVuY3Rpb24gY29tcG9uZW50RnJvbVN0cmVhbVdpdGhDb25maWcoY29uZmlnJCQxKSB7XG4gIHJldHVybiBmdW5jdGlvbiAocHJvcHNUb1Zkb20pIHtcbiAgICByZXR1cm4gKFxuICAgICAgLyojX19QVVJFX18qL1xuICAgICAgZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgICAgICAgX2luaGVyaXRzTG9vc2UoQ29tcG9uZW50RnJvbVN0cmVhbSwgX0NvbXBvbmVudCk7XG5cbiAgICAgICAgZnVuY3Rpb24gQ29tcG9uZW50RnJvbVN0cmVhbSgpIHtcbiAgICAgICAgICB2YXIgX2NvbmZpZyRmcm9tRVNPYnNlcnZhO1xuXG4gICAgICAgICAgdmFyIF90aGlzO1xuXG4gICAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF90aGlzID0gX0NvbXBvbmVudC5jYWxsLmFwcGx5KF9Db21wb25lbnQsIFt0aGlzXS5jb25jYXQoYXJncykpIHx8IHRoaXM7XG4gICAgICAgICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICB2ZG9tOiBudWxsXG4gICAgICAgICAgfTtcbiAgICAgICAgICBfdGhpcy5wcm9wc0VtaXR0ZXIgPSBjcmVhdGVDaGFuZ2VFbWl0dGVyKCk7XG4gICAgICAgICAgX3RoaXMucHJvcHMkID0gY29uZmlnJCQxLmZyb21FU09ic2VydmFibGUoKF9jb25maWckZnJvbUVTT2JzZXJ2YSA9IHtcbiAgICAgICAgICAgIHN1YnNjcmliZTogZnVuY3Rpb24gc3Vic2NyaWJlKG9ic2VydmVyKSB7XG4gICAgICAgICAgICAgIHZhciB1bnN1YnNjcmliZSA9IF90aGlzLnByb3BzRW1pdHRlci5saXN0ZW4oZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHByb3BzKSB7XG4gICAgICAgICAgICAgICAgICBvYnNlcnZlci5uZXh0KHByb3BzKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdW5zdWJzY3JpYmU6IHVuc3Vic2NyaWJlXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgX2NvbmZpZyRmcm9tRVNPYnNlcnZhWyQkb2JzZXJ2YWJsZV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICB9LCBfY29uZmlnJGZyb21FU09ic2VydmEpKTtcbiAgICAgICAgICBfdGhpcy52ZG9tJCA9IGNvbmZpZyQkMS50b0VTT2JzZXJ2YWJsZShwcm9wc1RvVmRvbShfdGhpcy5wcm9wcyQpKTtcbiAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgX3Byb3RvID0gQ29tcG9uZW50RnJvbVN0cmVhbS5wcm90b3R5cGU7XG5cbiAgICAgICAgX3Byb3RvLmNvbXBvbmVudFdpbGxNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgIC8vIFN1YnNjcmliZSB0byBjaGlsZCBwcm9wIGNoYW5nZXMgc28gd2Uga25vdyB3aGVuIHRvIHJlLXJlbmRlclxuICAgICAgICAgIHRoaXMuc3Vic2NyaXB0aW9uID0gdGhpcy52ZG9tJC5zdWJzY3JpYmUoe1xuICAgICAgICAgICAgbmV4dDogZnVuY3Rpb24gbmV4dCh2ZG9tKSB7XG4gICAgICAgICAgICAgIF90aGlzMi5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgdmRvbTogdmRvbVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICB0aGlzLnByb3BzRW1pdHRlci5lbWl0KHRoaXMucHJvcHMpO1xuICAgICAgICB9O1xuXG4gICAgICAgIF9wcm90by5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgICAgICAvLyBSZWNlaXZlIG5ldyBwcm9wcyBmcm9tIHRoZSBvd25lclxuICAgICAgICAgIHRoaXMucHJvcHNFbWl0dGVyLmVtaXQobmV4dFByb3BzKTtcbiAgICAgICAgfTtcblxuICAgICAgICBfcHJvdG8uc2hvdWxkQ29tcG9uZW50VXBkYXRlID0gZnVuY3Rpb24gc2hvdWxkQ29tcG9uZW50VXBkYXRlKG5leHRQcm9wcywgbmV4dFN0YXRlKSB7XG4gICAgICAgICAgcmV0dXJuIG5leHRTdGF0ZS52ZG9tICE9PSB0aGlzLnN0YXRlLnZkb207XG4gICAgICAgIH07XG5cbiAgICAgICAgX3Byb3RvLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgICAgLy8gQ2FsbCB3aXRob3V0IGFyZ3VtZW50cyB0byBjb21wbGV0ZSBzdHJlYW1cbiAgICAgICAgICB0aGlzLnByb3BzRW1pdHRlci5lbWl0KCk7IC8vIENsZWFuLXVwIHN1YnNjcmlwdGlvbiBiZWZvcmUgdW4tbW91bnRpbmdcblxuICAgICAgICAgIHRoaXMuc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZS52ZG9tO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBDb21wb25lbnRGcm9tU3RyZWFtO1xuICAgICAgfShDb21wb25lbnQpXG4gICAgKTtcbiAgfTtcbn07XG5cbnZhciBjb21wb25lbnRGcm9tU3RyZWFtID0gZnVuY3Rpb24gY29tcG9uZW50RnJvbVN0cmVhbShwcm9wc1RvVmRvbSkge1xuICByZXR1cm4gY29tcG9uZW50RnJvbVN0cmVhbVdpdGhDb25maWcoY29uZmlnKShwcm9wc1RvVmRvbSk7XG59O1xuXG52YXIgaWRlbnRpdHkkMSA9IGZ1bmN0aW9uIGlkZW50aXR5KHQpIHtcbiAgcmV0dXJuIHQ7XG59O1xuXG52YXIgbWFwUHJvcHNTdHJlYW1XaXRoQ29uZmlnID0gZnVuY3Rpb24gbWFwUHJvcHNTdHJlYW1XaXRoQ29uZmlnKGNvbmZpZyQkMSkge1xuICB2YXIgY29tcG9uZW50RnJvbVN0cmVhbSQkMSA9IGNvbXBvbmVudEZyb21TdHJlYW1XaXRoQ29uZmlnKHtcbiAgICBmcm9tRVNPYnNlcnZhYmxlOiBpZGVudGl0eSQxLFxuICAgIHRvRVNPYnNlcnZhYmxlOiBpZGVudGl0eSQxXG4gIH0pO1xuICByZXR1cm4gZnVuY3Rpb24gKHRyYW5zZm9ybSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoQmFzZUNvbXBvbmVudCkge1xuICAgICAgdmFyIGZhY3RvcnkgPSBjcmVhdGVGYWN0b3J5KEJhc2VDb21wb25lbnQpO1xuICAgICAgdmFyIGZyb21FU09ic2VydmFibGUgPSBjb25maWckJDEuZnJvbUVTT2JzZXJ2YWJsZSxcbiAgICAgICAgICB0b0VTT2JzZXJ2YWJsZSA9IGNvbmZpZyQkMS50b0VTT2JzZXJ2YWJsZTtcbiAgICAgIHJldHVybiBjb21wb25lbnRGcm9tU3RyZWFtJCQxKGZ1bmN0aW9uIChwcm9wcyQpIHtcbiAgICAgICAgdmFyIF9yZWY7XG5cbiAgICAgICAgcmV0dXJuIF9yZWYgPSB7XG4gICAgICAgICAgc3Vic2NyaWJlOiBmdW5jdGlvbiBzdWJzY3JpYmUob2JzZXJ2ZXIpIHtcbiAgICAgICAgICAgIHZhciBzdWJzY3JpcHRpb24gPSB0b0VTT2JzZXJ2YWJsZSh0cmFuc2Zvcm0oZnJvbUVTT2JzZXJ2YWJsZShwcm9wcyQpKSkuc3Vic2NyaWJlKHtcbiAgICAgICAgICAgICAgbmV4dDogZnVuY3Rpb24gbmV4dChjaGlsZFByb3BzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9ic2VydmVyLm5leHQoZmFjdG9yeShjaGlsZFByb3BzKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgdW5zdWJzY3JpYmU6IGZ1bmN0aW9uIHVuc3Vic2NyaWJlKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9yZWZbJCRvYnNlcnZhYmxlXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSwgX3JlZjtcbiAgICAgIH0pO1xuICAgIH07XG4gIH07XG59O1xuXG52YXIgbWFwUHJvcHNTdHJlYW0gPSBmdW5jdGlvbiBtYXBQcm9wc1N0cmVhbSh0cmFuc2Zvcm0pIHtcbiAgdmFyIGhvYyA9IG1hcFByb3BzU3RyZWFtV2l0aENvbmZpZyhjb25maWcpKHRyYW5zZm9ybSk7XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKEJhc2VDb21wb25lbnQpIHtcbiAgICAgIHJldHVybiBzZXREaXNwbGF5TmFtZSh3cmFwRGlzcGxheU5hbWUoQmFzZUNvbXBvbmVudCwgJ21hcFByb3BzU3RyZWFtJykpKGhvYyhCYXNlQ29tcG9uZW50KSk7XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBob2M7XG59O1xuXG52YXIgY3JlYXRlRXZlbnRIYW5kbGVyV2l0aENvbmZpZyA9IGZ1bmN0aW9uIGNyZWF0ZUV2ZW50SGFuZGxlcldpdGhDb25maWcoY29uZmlnJCQxKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9jb25maWckZnJvbUVTT2JzZXJ2YTtcblxuICAgIHZhciBlbWl0dGVyID0gY3JlYXRlQ2hhbmdlRW1pdHRlcigpO1xuICAgIHZhciBzdHJlYW0gPSBjb25maWckJDEuZnJvbUVTT2JzZXJ2YWJsZSgoX2NvbmZpZyRmcm9tRVNPYnNlcnZhID0ge1xuICAgICAgc3Vic2NyaWJlOiBmdW5jdGlvbiBzdWJzY3JpYmUob2JzZXJ2ZXIpIHtcbiAgICAgICAgdmFyIHVuc3Vic2NyaWJlID0gZW1pdHRlci5saXN0ZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuIG9ic2VydmVyLm5leHQodmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB1bnN1YnNjcmliZTogdW5zdWJzY3JpYmVcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9LCBfY29uZmlnJGZyb21FU09ic2VydmFbJCRvYnNlcnZhYmxlXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sIF9jb25maWckZnJvbUVTT2JzZXJ2YSkpO1xuICAgIHJldHVybiB7XG4gICAgICBoYW5kbGVyOiBlbWl0dGVyLmVtaXQsXG4gICAgICBzdHJlYW06IHN0cmVhbVxuICAgIH07XG4gIH07XG59O1xudmFyIGNyZWF0ZUV2ZW50SGFuZGxlciA9IGNyZWF0ZUV2ZW50SGFuZGxlcldpdGhDb25maWcoY29uZmlnKTtcblxuLy8gSGlnaGVyLW9yZGVyIGNvbXBvbmVudCBoZWxwZXJzXG5cbmV4cG9ydCB7IG1hcFByb3BzLCB3aXRoUHJvcHMsIHdpdGhQcm9wc09uQ2hhbmdlLCB3aXRoSGFuZGxlcnMsIGRlZmF1bHRQcm9wcywgcmVuYW1lUHJvcCwgcmVuYW1lUHJvcHMsIGZsYXR0ZW5Qcm9wLCB3aXRoU3RhdGUsIHdpdGhTdGF0ZUhhbmRsZXJzLCB3aXRoUmVkdWNlciwgYnJhbmNoLCByZW5kZXJDb21wb25lbnQsIHJlbmRlck5vdGhpbmcsIHNob3VsZFVwZGF0ZSwgcHVyZSwgb25seVVwZGF0ZUZvcktleXMsIG9ubHlVcGRhdGVGb3JQcm9wVHlwZXMsIHdpdGhDb250ZXh0LCBnZXRDb250ZXh0LCBsaWZlY3ljbGUsIHRvQ2xhc3MsIHRvUmVuZGVyUHJvcHMsIGZyb21SZW5kZXJQcm9wcywgc2V0U3RhdGljLCBzZXRQcm9wVHlwZXMsIHNldERpc3BsYXlOYW1lLCBjb21wb3NlLCBnZXREaXNwbGF5TmFtZSwgd3JhcERpc3BsYXlOYW1lLCBzaGFsbG93RXF1YWwsIGlzQ2xhc3NDb21wb25lbnQsIGNyZWF0ZVNpbmssIGNvbXBvbmVudEZyb21Qcm9wLCBuZXN0LCBob2lzdFN0YXRpY3MsIGNvbXBvbmVudEZyb21TdHJlYW0sIGNvbXBvbmVudEZyb21TdHJlYW1XaXRoQ29uZmlnLCBtYXBQcm9wc1N0cmVhbSwgbWFwUHJvcHNTdHJlYW1XaXRoQ29uZmlnLCBjcmVhdGVFdmVudEhhbmRsZXIsIGNyZWF0ZUV2ZW50SGFuZGxlcldpdGhDb25maWcsIGNvbmZpZ3VyZU9ic2VydmFibGUgYXMgc2V0T2JzZXJ2YWJsZUNvbmZpZyB9O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBnZXREaXNwbGF5TmFtZSA9IGZ1bmN0aW9uIGdldERpc3BsYXlOYW1lKENvbXBvbmVudCkge1xuICBpZiAodHlwZW9mIENvbXBvbmVudCA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gQ29tcG9uZW50O1xuICB9XG5cbiAgaWYgKCFDb21wb25lbnQpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgcmV0dXJuIENvbXBvbmVudC5kaXNwbGF5TmFtZSB8fCBDb21wb25lbnQubmFtZSB8fCAnQ29tcG9uZW50Jztcbn07XG5cbnZhciBfZGVmYXVsdCA9IGdldERpc3BsYXlOYW1lO1xuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7IiwiaW1wb3J0IFN0eWxpcyBmcm9tICdzdHlsaXMvc3R5bGlzLm1pbic7XG5pbXBvcnQgX2luc2VydFJ1bGVQbHVnaW4gZnJvbSAnc3R5bGlzLXJ1bGUtc2hlZXQnO1xuaW1wb3J0IFJlYWN0LCB7IGNsb25lRWxlbWVudCwgY3JlYXRlQ29udGV4dCwgQ29tcG9uZW50LCBjcmVhdGVFbGVtZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHVuaXRsZXNzIGZyb20gJ0BlbW90aW9uL3VuaXRsZXNzJztcbmltcG9ydCB7IGlzRWxlbWVudCwgaXNWYWxpZEVsZW1lbnRUeXBlLCBGb3J3YXJkUmVmIH0gZnJvbSAncmVhY3QtaXMnO1xuaW1wb3J0IG1lbW9pemUgZnJvbSAnbWVtb2l6ZS1vbmUnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB2YWxpZEF0dHIgZnJvbSAnQGVtb3Rpb24vaXMtcHJvcC12YWxpZCc7XG5pbXBvcnQgbWVyZ2UgZnJvbSAnbWVyZ2UtYW55dGhpbmcnO1xuXG4vLyBcblxudmFyIGludGVybGVhdmUgPSAoZnVuY3Rpb24gKHN0cmluZ3MsIGludGVycG9sYXRpb25zKSB7XG4gIHZhciByZXN1bHQgPSBbc3RyaW5nc1swXV07XG5cbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGludGVycG9sYXRpb25zLmxlbmd0aDsgaSA8IGxlbjsgaSArPSAxKSB7XG4gICAgcmVzdWx0LnB1c2goaW50ZXJwb2xhdGlvbnNbaV0sIHN0cmluZ3NbaSArIDFdKTtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59KTtcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHtcbiAgcmV0dXJuIHR5cGVvZiBvYmo7XG59IDogZnVuY3Rpb24gKG9iaikge1xuICByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajtcbn07XG5cbnZhciBjbGFzc0NhbGxDaGVjayA9IGZ1bmN0aW9uIChpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59O1xuXG52YXIgY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgICBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gIH07XG59KCk7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59O1xuXG52YXIgaW5oZXJpdHMgPSBmdW5jdGlvbiAoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpO1xuICB9XG5cbiAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7XG4gICAgY29uc3RydWN0b3I6IHtcbiAgICAgIHZhbHVlOiBzdWJDbGFzcyxcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9XG4gIH0pO1xuICBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7XG59O1xuXG52YXIgb2JqZWN0V2l0aG91dFByb3BlcnRpZXMgPSBmdW5jdGlvbiAob2JqLCBrZXlzKSB7XG4gIHZhciB0YXJnZXQgPSB7fTtcblxuICBmb3IgKHZhciBpIGluIG9iaikge1xuICAgIGlmIChrZXlzLmluZGV4T2YoaSkgPj0gMCkgY29udGludWU7XG4gICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBpKSkgY29udGludWU7XG4gICAgdGFyZ2V0W2ldID0gb2JqW2ldO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn07XG5cbnZhciBwb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuID0gZnVuY3Rpb24gKHNlbGYsIGNhbGwpIHtcbiAgaWYgKCFzZWxmKSB7XG4gICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO1xuICB9XG5cbiAgcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7XG59O1xuXG4vLyBcbnZhciBpc1BsYWluT2JqZWN0ID0gKGZ1bmN0aW9uICh4KSB7XG4gIHJldHVybiAodHlwZW9mIHggPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKHgpKSA9PT0gJ29iamVjdCcgJiYgeC5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0O1xufSk7XG5cbi8vIFxudmFyIEVNUFRZX0FSUkFZID0gT2JqZWN0LmZyZWV6ZShbXSk7XG52YXIgRU1QVFlfT0JKRUNUID0gT2JqZWN0LmZyZWV6ZSh7fSk7XG5cbi8vIFxuZnVuY3Rpb24gaXNGdW5jdGlvbih0ZXN0KSB7XG4gIHJldHVybiB0eXBlb2YgdGVzdCA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuLy8gXG5cbmZ1bmN0aW9uIGdldENvbXBvbmVudE5hbWUodGFyZ2V0KSB7XG4gIHJldHVybiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHR5cGVvZiB0YXJnZXQgPT09ICdzdHJpbmcnICYmIHRhcmdldCA6IGZhbHNlKSB8fCB0YXJnZXQuZGlzcGxheU5hbWUgfHwgdGFyZ2V0Lm5hbWUgfHwgJ0NvbXBvbmVudCc7XG59XG5cbi8vIFxuZnVuY3Rpb24gaXNTdGF0ZWxlc3NGdW5jdGlvbih0ZXN0KSB7XG4gIHJldHVybiB0eXBlb2YgdGVzdCA9PT0gJ2Z1bmN0aW9uJyAmJiAhKHRlc3QucHJvdG90eXBlICYmIHRlc3QucHJvdG90eXBlLmlzUmVhY3RDb21wb25lbnQpO1xufVxuXG4vLyBcbmZ1bmN0aW9uIGlzU3R5bGVkQ29tcG9uZW50KHRhcmdldCkge1xuICByZXR1cm4gdGFyZ2V0ICYmIHR5cGVvZiB0YXJnZXQuc3R5bGVkQ29tcG9uZW50SWQgPT09ICdzdHJpbmcnO1xufVxuXG4vLyBcblxudmFyIFNDX0FUVFIgPSB0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgKHByb2Nlc3MuZW52LlJFQUNUX0FQUF9TQ19BVFRSIHx8IHByb2Nlc3MuZW52LlNDX0FUVFIpIHx8ICdkYXRhLXN0eWxlZCc7XG5cbnZhciBTQ19WRVJTSU9OX0FUVFIgPSAnZGF0YS1zdHlsZWQtdmVyc2lvbic7XG5cbnZhciBTQ19TVFJFQU1fQVRUUiA9ICdkYXRhLXN0eWxlZC1zdHJlYW1lZCc7XG5cbnZhciBJU19CUk9XU0VSID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgJ0hUTUxFbGVtZW50JyBpbiB3aW5kb3c7XG5cbnZhciBESVNBQkxFX1NQRUVEWSA9IHR5cGVvZiBTQ19ESVNBQkxFX1NQRUVEWSA9PT0gJ2Jvb2xlYW4nICYmIFNDX0RJU0FCTEVfU1BFRURZIHx8IHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiAocHJvY2Vzcy5lbnYuUkVBQ1RfQVBQX1NDX0RJU0FCTEVfU1BFRURZIHx8IHByb2Nlc3MuZW52LlNDX0RJU0FCTEVfU1BFRURZKSB8fCBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nO1xuXG4vLyBTaGFyZWQgZW1wdHkgZXhlY3V0aW9uIGNvbnRleHQgd2hlbiBnZW5lcmF0aW5nIHN0YXRpYyBzdHlsZXNcbnZhciBTVEFUSUNfRVhFQ1VUSU9OX0NPTlRFWFQgPSB7fTtcblxuLy8gXG5cblxuLyoqXG4gKiBQYXJzZSBlcnJvcnMubWQgYW5kIHR1cm4gaXQgaW50byBhIHNpbXBsZSBoYXNoIG9mIGNvZGU6IG1lc3NhZ2VcbiAqL1xudmFyIEVSUk9SUyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB7XG4gIFwiMVwiOiBcIkNhbm5vdCBjcmVhdGUgc3R5bGVkLWNvbXBvbmVudCBmb3IgY29tcG9uZW50OiAlcy5cXG5cXG5cIixcbiAgXCIyXCI6IFwiQ2FuJ3QgY29sbGVjdCBzdHlsZXMgb25jZSB5b3UndmUgY29uc3VtZWQgYSBgU2VydmVyU3R5bGVTaGVldGAncyBzdHlsZXMhIGBTZXJ2ZXJTdHlsZVNoZWV0YCBpcyBhIG9uZSBvZmYgaW5zdGFuY2UgZm9yIGVhY2ggc2VydmVyLXNpZGUgcmVuZGVyIGN5Y2xlLlxcblxcbi0gQXJlIHlvdSB0cnlpbmcgdG8gcmV1c2UgaXQgYWNyb3NzIHJlbmRlcnM/XFxuLSBBcmUgeW91IGFjY2lkZW50YWxseSBjYWxsaW5nIGNvbGxlY3RTdHlsZXMgdHdpY2U/XFxuXFxuXCIsXG4gIFwiM1wiOiBcIlN0cmVhbWluZyBTU1IgaXMgb25seSBzdXBwb3J0ZWQgaW4gYSBOb2RlLmpzIGVudmlyb25tZW50OyBQbGVhc2UgZG8gbm90IHRyeSB0byBjYWxsIHRoaXMgbWV0aG9kIGluIHRoZSBicm93c2VyLlxcblxcblwiLFxuICBcIjRcIjogXCJUaGUgYFN0eWxlU2hlZXRNYW5hZ2VyYCBleHBlY3RzIGEgdmFsaWQgdGFyZ2V0IG9yIHNoZWV0IHByb3AhXFxuXFxuLSBEb2VzIHRoaXMgZXJyb3Igb2NjdXIgb24gdGhlIGNsaWVudCBhbmQgaXMgeW91ciB0YXJnZXQgZmFsc3k/XFxuLSBEb2VzIHRoaXMgZXJyb3Igb2NjdXIgb24gdGhlIHNlcnZlciBhbmQgaXMgdGhlIHNoZWV0IGZhbHN5P1xcblxcblwiLFxuICBcIjVcIjogXCJUaGUgY2xvbmUgbWV0aG9kIGNhbm5vdCBiZSB1c2VkIG9uIHRoZSBjbGllbnQhXFxuXFxuLSBBcmUgeW91IHJ1bm5pbmcgaW4gYSBjbGllbnQtbGlrZSBlbnZpcm9ubWVudCBvbiB0aGUgc2VydmVyP1xcbi0gQXJlIHlvdSB0cnlpbmcgdG8gcnVuIFNTUiBvbiB0aGUgY2xpZW50P1xcblxcblwiLFxuICBcIjZcIjogXCJUcnlpbmcgdG8gaW5zZXJ0IGEgbmV3IHN0eWxlIHRhZywgYnV0IHRoZSBnaXZlbiBOb2RlIGlzIHVubW91bnRlZCFcXG5cXG4tIEFyZSB5b3UgdXNpbmcgYSBjdXN0b20gdGFyZ2V0IHRoYXQgaXNuJ3QgbW91bnRlZD9cXG4tIERvZXMgeW91ciBkb2N1bWVudCBub3QgaGF2ZSBhIHZhbGlkIGhlYWQgZWxlbWVudD9cXG4tIEhhdmUgeW91IGFjY2lkZW50YWxseSByZW1vdmVkIGEgc3R5bGUgdGFnIG1hbnVhbGx5P1xcblxcblwiLFxuICBcIjdcIjogXCJUaGVtZVByb3ZpZGVyOiBQbGVhc2UgcmV0dXJuIGFuIG9iamVjdCBmcm9tIHlvdXIgXFxcInRoZW1lXFxcIiBwcm9wIGZ1bmN0aW9uLCBlLmcuXFxuXFxuYGBganNcXG50aGVtZT17KCkgPT4gKHt9KX1cXG5gYGBcXG5cXG5cIixcbiAgXCI4XCI6IFwiVGhlbWVQcm92aWRlcjogUGxlYXNlIG1ha2UgeW91ciBcXFwidGhlbWVcXFwiIHByb3AgYW4gb2JqZWN0LlxcblxcblwiLFxuICBcIjlcIjogXCJNaXNzaW5nIGRvY3VtZW50IGA8aGVhZD5gXFxuXFxuXCIsXG4gIFwiMTBcIjogXCJDYW5ub3QgZmluZCBhIFN0eWxlU2hlZXQgaW5zdGFuY2UuIFVzdWFsbHkgdGhpcyBoYXBwZW5zIGlmIHRoZXJlIGFyZSBtdWx0aXBsZSBjb3BpZXMgb2Ygc3R5bGVkLWNvbXBvbmVudHMgbG9hZGVkIGF0IG9uY2UuIENoZWNrIG91dCB0aGlzIGlzc3VlIGZvciBob3cgdG8gdHJvdWJsZXNob290IGFuZCBmaXggdGhlIGNvbW1vbiBjYXNlcyB3aGVyZSB0aGlzIHNpdHVhdGlvbiBjYW4gaGFwcGVuOiBodHRwczovL2dpdGh1Yi5jb20vc3R5bGVkLWNvbXBvbmVudHMvc3R5bGVkLWNvbXBvbmVudHMvaXNzdWVzLzE5NDEjaXNzdWVjb21tZW50LTQxNzg2MjAyMVxcblxcblwiLFxuICBcIjExXCI6IFwiX1RoaXMgZXJyb3Igd2FzIHJlcGxhY2VkIHdpdGggYSBkZXYtdGltZSB3YXJuaW5nLCBpdCB3aWxsIGJlIGRlbGV0ZWQgZm9yIHY0IGZpbmFsLl8gW2NyZWF0ZUdsb2JhbFN0eWxlXSByZWNlaXZlZCBjaGlsZHJlbiB3aGljaCB3aWxsIG5vdCBiZSByZW5kZXJlZC4gUGxlYXNlIHVzZSB0aGUgY29tcG9uZW50IHdpdGhvdXQgcGFzc2luZyBjaGlsZHJlbiBlbGVtZW50cy5cXG5cXG5cIixcbiAgXCIxMlwiOiBcIkl0IHNlZW1zIHlvdSBhcmUgaW50ZXJwb2xhdGluZyBhIGtleWZyYW1lIGRlY2xhcmF0aW9uICglcykgaW50byBhbiB1bnRhZ2dlZCBzdHJpbmcuIFRoaXMgd2FzIHN1cHBvcnRlZCBpbiBzdHlsZWQtY29tcG9uZW50cyB2MywgYnV0IGlzIG5vdCBsb25nZXIgc3VwcG9ydGVkIGluIHY0IGFzIGtleWZyYW1lcyBhcmUgbm93IGluamVjdGVkIG9uLWRlbWFuZC4gUGxlYXNlIHdyYXAgeW91ciBzdHJpbmcgaW4gdGhlIGNzc1xcXFxgXFxcXGAgaGVscGVyIHdoaWNoIGVuc3VyZXMgdGhlIHN0eWxlcyBhcmUgaW5qZWN0ZWQgY29ycmVjdGx5LiBTZWUgaHR0cHM6Ly93d3cuc3R5bGVkLWNvbXBvbmVudHMuY29tL2RvY3MvYXBpI2Nzc1xcblxcblwiLFxuICBcIjEzXCI6IFwiJXMgaXMgbm90IGEgc3R5bGVkIGNvbXBvbmVudCBhbmQgY2Fubm90IGJlIHJlZmVycmVkIHRvIHZpYSBjb21wb25lbnQgc2VsZWN0b3IuIFNlZSBodHRwczovL3d3dy5zdHlsZWQtY29tcG9uZW50cy5jb20vZG9jcy9hZHZhbmNlZCNyZWZlcnJpbmctdG8tb3RoZXItY29tcG9uZW50cyBmb3IgbW9yZSBkZXRhaWxzLlxcblwiXG59IDoge307XG5cbi8qKlxuICogc3VwZXIgYmFzaWMgdmVyc2lvbiBvZiBzcHJpbnRmXG4gKi9cbmZ1bmN0aW9uIGZvcm1hdCgpIHtcbiAgdmFyIGEgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgPyB1bmRlZmluZWQgOiBhcmd1bWVudHNbMF07XG4gIHZhciBiID0gW107XG5cbiAgZm9yICh2YXIgYyA9IDEsIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGMgPCBsZW47IGMgKz0gMSkge1xuICAgIGIucHVzaChhcmd1bWVudHMubGVuZ3RoIDw9IGMgPyB1bmRlZmluZWQgOiBhcmd1bWVudHNbY10pO1xuICB9XG5cbiAgYi5mb3JFYWNoKGZ1bmN0aW9uIChkKSB7XG4gICAgYSA9IGEucmVwbGFjZSgvJVthLXpdLywgZCk7XG4gIH0pO1xuXG4gIHJldHVybiBhO1xufVxuXG4vKipcbiAqIENyZWF0ZSBhbiBlcnJvciBmaWxlIG91dCBvZiBlcnJvcnMubWQgZm9yIGRldmVsb3BtZW50IGFuZCBhIHNpbXBsZSB3ZWIgbGluayB0byB0aGUgZnVsbCBlcnJvcnNcbiAqIGluIHByb2R1Y3Rpb24gbW9kZS5cbiAqL1xuXG52YXIgU3R5bGVkQ29tcG9uZW50c0Vycm9yID0gZnVuY3Rpb24gKF9FcnJvcikge1xuICBpbmhlcml0cyhTdHlsZWRDb21wb25lbnRzRXJyb3IsIF9FcnJvcik7XG5cbiAgZnVuY3Rpb24gU3R5bGVkQ29tcG9uZW50c0Vycm9yKGNvZGUpIHtcbiAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBTdHlsZWRDb21wb25lbnRzRXJyb3IpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGludGVycG9sYXRpb25zID0gQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgaW50ZXJwb2xhdGlvbnNbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICB2YXIgX3RoaXMgPSBwb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9FcnJvci5jYWxsKHRoaXMsICdBbiBlcnJvciBvY2N1cnJlZC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9zdHlsZWQtY29tcG9uZW50cy9zdHlsZWQtY29tcG9uZW50cy9ibG9iL21hc3Rlci9wYWNrYWdlcy9zdHlsZWQtY29tcG9uZW50cy9zcmMvdXRpbHMvZXJyb3JzLm1kIycgKyBjb2RlICsgJyBmb3IgbW9yZSBpbmZvcm1hdGlvbi4nICsgKGludGVycG9sYXRpb25zLmxlbmd0aCA+IDAgPyAnIEFkZGl0aW9uYWwgYXJndW1lbnRzOiAnICsgaW50ZXJwb2xhdGlvbnMuam9pbignLCAnKSA6ICcnKSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgX3RoaXMgPSBwb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9FcnJvci5jYWxsKHRoaXMsIGZvcm1hdC5hcHBseSh1bmRlZmluZWQsIFtFUlJPUlNbY29kZV1dLmNvbmNhdChpbnRlcnBvbGF0aW9ucykpLnRyaW0oKSkpO1xuICAgIH1cbiAgICByZXR1cm4gcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihfdGhpcyk7XG4gIH1cblxuICByZXR1cm4gU3R5bGVkQ29tcG9uZW50c0Vycm9yO1xufShFcnJvcik7XG5cbi8vIFxudmFyIFNDX0NPTVBPTkVOVF9JRCA9IC9eW15cXFNcXG5dKj9cXC9cXCogc2MtY29tcG9uZW50LWlkOlxccyooXFxTKylcXHMrXFwqXFwvL2dtO1xuXG52YXIgZXh0cmFjdENvbXBzID0gKGZ1bmN0aW9uIChtYXliZUNTUykge1xuICB2YXIgY3NzID0gJycgKyAobWF5YmVDU1MgfHwgJycpOyAvLyBEZWZpbml0ZWx5IGEgc3RyaW5nLCBhbmQgYSBjbG9uZVxuICB2YXIgZXhpc3RpbmdDb21wb25lbnRzID0gW107XG4gIGNzcy5yZXBsYWNlKFNDX0NPTVBPTkVOVF9JRCwgZnVuY3Rpb24gKG1hdGNoLCBjb21wb25lbnRJZCwgbWF0Y2hJbmRleCkge1xuICAgIGV4aXN0aW5nQ29tcG9uZW50cy5wdXNoKHsgY29tcG9uZW50SWQ6IGNvbXBvbmVudElkLCBtYXRjaEluZGV4OiBtYXRjaEluZGV4IH0pO1xuICAgIHJldHVybiBtYXRjaDtcbiAgfSk7XG4gIHJldHVybiBleGlzdGluZ0NvbXBvbmVudHMubWFwKGZ1bmN0aW9uIChfcmVmLCBpKSB7XG4gICAgdmFyIGNvbXBvbmVudElkID0gX3JlZi5jb21wb25lbnRJZCxcbiAgICAgICAgbWF0Y2hJbmRleCA9IF9yZWYubWF0Y2hJbmRleDtcblxuICAgIHZhciBuZXh0Q29tcCA9IGV4aXN0aW5nQ29tcG9uZW50c1tpICsgMV07XG4gICAgdmFyIGNzc0Zyb21ET00gPSBuZXh0Q29tcCA/IGNzcy5zbGljZShtYXRjaEluZGV4LCBuZXh0Q29tcC5tYXRjaEluZGV4KSA6IGNzcy5zbGljZShtYXRjaEluZGV4KTtcbiAgICByZXR1cm4geyBjb21wb25lbnRJZDogY29tcG9uZW50SWQsIGNzc0Zyb21ET006IGNzc0Zyb21ET00gfTtcbiAgfSk7XG59KTtcblxuLy8gXG5cbnZhciBDT01NRU5UX1JFR0VYID0gL15cXHMqXFwvXFwvLiokL2dtO1xuXG4vLyBOT1RFOiBUaGlzIHN0eWxpcyBpbnN0YW5jZSBpcyBvbmx5IHVzZWQgdG8gc3BsaXQgcnVsZXMgZnJvbSBTU1InZCBzdHlsZSB0YWdzXG52YXIgc3R5bGlzU3BsaXR0ZXIgPSBuZXcgU3R5bGlzKHtcbiAgZ2xvYmFsOiBmYWxzZSxcbiAgY2FzY2FkZTogdHJ1ZSxcbiAga2V5ZnJhbWU6IGZhbHNlLFxuICBwcmVmaXg6IGZhbHNlLFxuICBjb21wcmVzczogZmFsc2UsXG4gIHNlbWljb2xvbjogdHJ1ZVxufSk7XG5cbnZhciBzdHlsaXMgPSBuZXcgU3R5bGlzKHtcbiAgZ2xvYmFsOiBmYWxzZSxcbiAgY2FzY2FkZTogdHJ1ZSxcbiAga2V5ZnJhbWU6IGZhbHNlLFxuICBwcmVmaXg6IHRydWUsXG4gIGNvbXByZXNzOiBmYWxzZSxcbiAgc2VtaWNvbG9uOiBmYWxzZSAvLyBOT1RFOiBUaGlzIG1lYW5zIFwiYXV0b2NvbXBsZXRlIG1pc3Npbmcgc2VtaWNvbG9uc1wiXG59KTtcblxuLy8gV3JhcCBgaW5zZXJ0UnVsZVBsdWdpbiB0byBidWlsZCBhIGxpc3Qgb2YgcnVsZXMsXG4vLyBhbmQgdGhlbiBtYWtlIG91ciBvd24gcGx1Z2luIHRvIHJldHVybiB0aGUgcnVsZXMuIFRoaXNcbi8vIG1ha2VzIGl0IGVhc2llciB0byBob29rIGludG8gdGhlIGV4aXN0aW5nIFNTUiBhcmNoaXRlY3R1cmVcblxudmFyIHBhcnNpbmdSdWxlcyA9IFtdO1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29uc2lzdGVudC1yZXR1cm5cbnZhciByZXR1cm5SdWxlc1BsdWdpbiA9IGZ1bmN0aW9uIHJldHVyblJ1bGVzUGx1Z2luKGNvbnRleHQpIHtcbiAgaWYgKGNvbnRleHQgPT09IC0yKSB7XG4gICAgdmFyIHBhcnNlZFJ1bGVzID0gcGFyc2luZ1J1bGVzO1xuICAgIHBhcnNpbmdSdWxlcyA9IFtdO1xuICAgIHJldHVybiBwYXJzZWRSdWxlcztcbiAgfVxufTtcblxudmFyIHBhcnNlUnVsZXNQbHVnaW4gPSBfaW5zZXJ0UnVsZVBsdWdpbihmdW5jdGlvbiAocnVsZSkge1xuICBwYXJzaW5nUnVsZXMucHVzaChydWxlKTtcbn0pO1xuXG52YXIgX2NvbXBvbmVudElkID0gdm9pZCAwO1xudmFyIF9zZWxlY3RvciA9IHZvaWQgMDtcbnZhciBfc2VsZWN0b3JSZWdleHAgPSB2b2lkIDA7XG5cbnZhciBzZWxmUmVmZXJlbmNlUmVwbGFjZXIgPSBmdW5jdGlvbiBzZWxmUmVmZXJlbmNlUmVwbGFjZXIobWF0Y2gsIG9mZnNldCwgc3RyaW5nKSB7XG4gIGlmIChcbiAgLy8gdGhlIGZpcnN0IHNlbGYtcmVmIGlzIGFsd2F5cyB1bnRvdWNoZWRcbiAgb2Zmc2V0ID4gMCAmJlxuICAvLyB0aGVyZSBzaG91bGQgYmUgYXQgbGVhc3QgdHdvIHNlbGYtcmVmcyB0byBkbyBhIHJlcGxhY2VtZW50ICguYiA+IC5iKVxuICBzdHJpbmcuc2xpY2UoMCwgb2Zmc2V0KS5pbmRleE9mKF9zZWxlY3RvcikgIT09IC0xICYmXG4gIC8vIG5vIGNvbnNlY3V0aXZlIHNlbGYgcmVmcyAoLmIuYik7IHRoYXQgaXMgYSBwcmVjZWRlbmNlIGJvb3N0IGFuZCB0cmVhdGVkIGRpZmZlcmVudGx5XG4gIHN0cmluZy5zbGljZShvZmZzZXQgLSBfc2VsZWN0b3IubGVuZ3RoLCBvZmZzZXQpICE9PSBfc2VsZWN0b3IpIHtcbiAgICByZXR1cm4gJy4nICsgX2NvbXBvbmVudElkO1xuICB9XG5cbiAgcmV0dXJuIG1hdGNoO1xufTtcblxuLyoqXG4gKiBXaGVuIHdyaXRpbmcgYSBzdHlsZSBsaWtlXG4gKlxuICogJiArICYge1xuICogICBjb2xvcjogcmVkO1xuICogfVxuICpcbiAqIFRoZSBzZWNvbmQgYW1wZXJzYW5kIHNob3VsZCBiZSBhIHJlZmVyZW5jZSB0byB0aGUgc3RhdGljIGNvbXBvbmVudCBjbGFzcy4gc3R5bGlzXG4gKiBoYXMgbm8ga25vd2xlZGdlIG9mIHN0YXRpYyBjbGFzcyBzbyB3ZSBoYXZlIHRvIGludGVsbGlnZW50bHkgcmVwbGFjZSB0aGUgYmFzZSBzZWxlY3Rvci5cbiAqL1xudmFyIHNlbGZSZWZlcmVuY2VSZXBsYWNlbWVudFBsdWdpbiA9IGZ1bmN0aW9uIHNlbGZSZWZlcmVuY2VSZXBsYWNlbWVudFBsdWdpbihjb250ZXh0LCBfLCBzZWxlY3RvcnMpIHtcbiAgaWYgKGNvbnRleHQgPT09IDIgJiYgc2VsZWN0b3JzLmxlbmd0aCAmJiBzZWxlY3RvcnNbMF0ubGFzdEluZGV4T2YoX3NlbGVjdG9yKSA+IDApIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICBzZWxlY3RvcnNbMF0gPSBzZWxlY3RvcnNbMF0ucmVwbGFjZShfc2VsZWN0b3JSZWdleHAsIHNlbGZSZWZlcmVuY2VSZXBsYWNlcik7XG4gIH1cbn07XG5cbnN0eWxpcy51c2UoW3NlbGZSZWZlcmVuY2VSZXBsYWNlbWVudFBsdWdpbiwgcGFyc2VSdWxlc1BsdWdpbiwgcmV0dXJuUnVsZXNQbHVnaW5dKTtcbnN0eWxpc1NwbGl0dGVyLnVzZShbcGFyc2VSdWxlc1BsdWdpbiwgcmV0dXJuUnVsZXNQbHVnaW5dKTtcblxudmFyIHNwbGl0QnlSdWxlcyA9IGZ1bmN0aW9uIHNwbGl0QnlSdWxlcyhjc3MpIHtcbiAgcmV0dXJuIHN0eWxpc1NwbGl0dGVyKCcnLCBjc3MpO1xufTtcblxuZnVuY3Rpb24gc3RyaW5naWZ5UnVsZXMocnVsZXMsIHNlbGVjdG9yLCBwcmVmaXgpIHtcbiAgdmFyIGNvbXBvbmVudElkID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiAnJic7XG5cbiAgdmFyIGZsYXRDU1MgPSBydWxlcy5qb2luKCcnKS5yZXBsYWNlKENPTU1FTlRfUkVHRVgsICcnKTsgLy8gcmVwbGFjZSBKUyBjb21tZW50c1xuXG4gIHZhciBjc3NTdHIgPSBzZWxlY3RvciAmJiBwcmVmaXggPyBwcmVmaXggKyAnICcgKyBzZWxlY3RvciArICcgeyAnICsgZmxhdENTUyArICcgfScgOiBmbGF0Q1NTO1xuXG4gIC8vIHN0eWxpcyBoYXMgbm8gY29uY2VwdCBvZiBzdGF0ZSB0byBiZSBwYXNzZWQgdG8gcGx1Z2luc1xuICAvLyBidXQgc2luY2UgSlMgaXMgc2luZ2xlPXRocmVhZGVkLCB3ZSBjYW4gcmVseSBvbiB0aGF0IHRvIGVuc3VyZVxuICAvLyB0aGVzZSBwcm9wZXJ0aWVzIHN0YXkgaW4gc3luYyB3aXRoIHRoZSBjdXJyZW50IHN0eWxpcyBydW5cbiAgX2NvbXBvbmVudElkID0gY29tcG9uZW50SWQ7XG4gIF9zZWxlY3RvciA9IHNlbGVjdG9yO1xuICBfc2VsZWN0b3JSZWdleHAgPSBuZXcgUmVnRXhwKCdcXFxcJyArIF9zZWxlY3RvciArICdcXFxcYicsICdnJyk7XG5cbiAgcmV0dXJuIHN0eWxpcyhwcmVmaXggfHwgIXNlbGVjdG9yID8gJycgOiBzZWxlY3RvciwgY3NzU3RyKTtcbn1cblxuLy8gXG4vKiBlc2xpbnQtZGlzYWJsZSBjYW1lbGNhc2UsIG5vLXVuZGVmICovXG5cbnZhciBnZXROb25jZSA9IChmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gIT09ICd1bmRlZmluZWQnID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xufSk7XG5cbi8vIFxuLyogVGhlc2UgYXJlIGhlbHBlcnMgZm9yIHRoZSBTdHlsZVRhZ3MgdG8ga2VlcCB0cmFjayBvZiB0aGUgaW5qZWN0ZWRcbiAqIHJ1bGUgbmFtZXMgZm9yIGVhY2ggKGNvbXBvbmVudCkgSUQgdGhhdCB0aGV5J3JlIGtlZXBpbmcgdHJhY2sgb2YuXG4gKiBUaGV5J3JlIGNydWNpYWwgZm9yIGRldGVjdGluZyB3aGV0aGVyIGEgbmFtZSBoYXMgYWxyZWFkeSBiZWVuXG4gKiBpbmplY3RlZC5cbiAqIChUaGlzIGV4Y2x1ZGVzIHJlaHlkcmF0ZWQgbmFtZXMpICovXG5cbi8qIGFkZHMgYSBuZXcgSUQ6bmFtZSBwYWlyaW5nIHRvIGEgbmFtZXMgZGljdGlvbmFyeSAqL1xudmFyIGFkZE5hbWVGb3JJZCA9IGZ1bmN0aW9uIGFkZE5hbWVGb3JJZChuYW1lcywgaWQsIG5hbWUpIHtcbiAgaWYgKG5hbWUpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICB2YXIgbmFtZXNGb3JJZCA9IG5hbWVzW2lkXSB8fCAobmFtZXNbaWRdID0gT2JqZWN0LmNyZWF0ZShudWxsKSk7XG4gICAgbmFtZXNGb3JJZFtuYW1lXSA9IHRydWU7XG4gIH1cbn07XG5cbi8qIHJlc2V0cyBhbiBJRCBlbnRpcmVseSBieSBvdmVyd3JpdGluZyBpdCBpbiB0aGUgZGljdGlvbmFyeSAqL1xudmFyIHJlc2V0SWROYW1lcyA9IGZ1bmN0aW9uIHJlc2V0SWROYW1lcyhuYW1lcywgaWQpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gIG5hbWVzW2lkXSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG59O1xuXG4vKiBmYWN0b3J5IGZvciBhIG5hbWVzIGRpY3Rpb25hcnkgY2hlY2tpbmcgdGhlIGV4aXN0YW5jZSBvZiBhbiBJRDpuYW1lIHBhaXJpbmcgKi9cbnZhciBoYXNOYW1lRm9ySWQgPSBmdW5jdGlvbiBoYXNOYW1lRm9ySWQobmFtZXMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChpZCwgbmFtZSkge1xuICAgIHJldHVybiBuYW1lc1tpZF0gIT09IHVuZGVmaW5lZCAmJiBuYW1lc1tpZF1bbmFtZV07XG4gIH07XG59O1xuXG4vKiBzdHJpbmdpZmllcyBuYW1lcyBmb3IgdGhlIGh0bWwvZWxlbWVudCBvdXRwdXQgKi9cbnZhciBzdHJpbmdpZnlOYW1lcyA9IGZ1bmN0aW9uIHN0cmluZ2lmeU5hbWVzKG5hbWVzKSB7XG4gIHZhciBzdHIgPSAnJztcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGd1YXJkLWZvci1pblxuICBmb3IgKHZhciBpZCBpbiBuYW1lcykge1xuICAgIHN0ciArPSBPYmplY3Qua2V5cyhuYW1lc1tpZF0pLmpvaW4oJyAnKSArICcgJztcbiAgfVxuICByZXR1cm4gc3RyLnRyaW0oKTtcbn07XG5cbi8qIGNsb25lcyB0aGUgbmVzdGVkIG5hbWVzIGRpY3Rpb25hcnkgKi9cbnZhciBjbG9uZU5hbWVzID0gZnVuY3Rpb24gY2xvbmVOYW1lcyhuYW1lcykge1xuICB2YXIgY2xvbmUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZ3VhcmQtZm9yLWluXG4gIGZvciAodmFyIGlkIGluIG5hbWVzKSB7XG4gICAgY2xvbmVbaWRdID0gX2V4dGVuZHMoe30sIG5hbWVzW2lkXSk7XG4gIH1cbiAgcmV0dXJuIGNsb25lO1xufTtcblxuLy8gXG5cbi8qIFRoZXNlIGFyZSBoZWxwZXJzIHRoYXQgZGVhbCB3aXRoIHRoZSBpbnNlcnRSdWxlIChha2Egc3BlZWR5KSBBUElcbiAqIFRoZXkgYXJlIHVzZWQgaW4gdGhlIFN0eWxlVGFncyBhbmQgc3BlY2lmaWNhbGx5IHRoZSBzcGVlZHkgdGFnXG4gKi9cblxuLyogcmV0cmlldmUgYSBzaGVldCBmb3IgYSBnaXZlbiBzdHlsZSB0YWcgKi9cbnZhciBzaGVldEZvclRhZyA9IGZ1bmN0aW9uIHNoZWV0Rm9yVGFnKHRhZykge1xuICAvLyAkRmxvd0ZpeE1lXG4gIGlmICh0YWcuc2hlZXQpIHJldHVybiB0YWcuc2hlZXQ7XG5cbiAgLyogRmlyZWZveCBxdWlyayByZXF1aXJlcyB1cyB0byBzdGVwIHRocm91Z2ggYWxsIHN0eWxlc2hlZXRzIHRvIGZpbmQgb25lIG93bmVkIGJ5IHRoZSBnaXZlbiB0YWcgKi9cbiAgdmFyIHNpemUgPSB0YWcub3duZXJEb2N1bWVudC5zdHlsZVNoZWV0cy5sZW5ndGg7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc2l6ZTsgaSArPSAxKSB7XG4gICAgdmFyIHNoZWV0ID0gdGFnLm93bmVyRG9jdW1lbnQuc3R5bGVTaGVldHNbaV07XG4gICAgLy8gJEZsb3dGaXhNZVxuICAgIGlmIChzaGVldC5vd25lck5vZGUgPT09IHRhZykgcmV0dXJuIHNoZWV0O1xuICB9XG5cbiAgLyogd2Ugc2hvdWxkIGFsd2F5cyBiZSBhYmxlIHRvIGZpbmQgYSB0YWcgKi9cbiAgdGhyb3cgbmV3IFN0eWxlZENvbXBvbmVudHNFcnJvcigxMCk7XG59O1xuXG4vKiBpbnNlcnQgYSBydWxlIHNhZmVseSBhbmQgcmV0dXJuIHdoZXRoZXIgaXQgd2FzIGFjdHVhbGx5IGluamVjdGVkICovXG52YXIgc2FmZUluc2VydFJ1bGUgPSBmdW5jdGlvbiBzYWZlSW5zZXJ0UnVsZShzaGVldCwgY3NzUnVsZSwgaW5kZXgpIHtcbiAgLyogYWJvcnQgZWFybHkgaWYgY3NzUnVsZSBzdHJpbmcgaXMgZmFsc3kgKi9cbiAgaWYgKCFjc3NSdWxlKSByZXR1cm4gZmFsc2U7XG5cbiAgdmFyIG1heEluZGV4ID0gc2hlZXQuY3NzUnVsZXMubGVuZ3RoO1xuXG4gIHRyeSB7XG4gICAgLyogdXNlIGluc2VydFJ1bGUgYW5kIGNhcCBwYXNzZWQgaW5kZXggd2l0aCBtYXhJbmRleCAobm8gb2YgY3NzUnVsZXMpICovXG4gICAgc2hlZXQuaW5zZXJ0UnVsZShjc3NSdWxlLCBpbmRleCA8PSBtYXhJbmRleCA/IGluZGV4IDogbWF4SW5kZXgpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICAvKiBhbnkgZXJyb3IgaW5kaWNhdGVzIGFuIGludmFsaWQgcnVsZSAqL1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuLyogZGVsZXRlcyBgc2l6ZWAgcnVsZXMgc3RhcnRpbmcgZnJvbSBgcmVtb3ZhbEluZGV4YCAqL1xudmFyIGRlbGV0ZVJ1bGVzID0gZnVuY3Rpb24gZGVsZXRlUnVsZXMoc2hlZXQsIHJlbW92YWxJbmRleCwgc2l6ZSkge1xuICB2YXIgbG93ZXJCb3VuZCA9IHJlbW92YWxJbmRleCAtIHNpemU7XG4gIGZvciAodmFyIGkgPSByZW1vdmFsSW5kZXg7IGkgPiBsb3dlckJvdW5kOyBpIC09IDEpIHtcbiAgICBzaGVldC5kZWxldGVSdWxlKGkpO1xuICB9XG59O1xuXG4vLyBcblxuLyogdGhpcyBtYXJrZXIgc2VwYXJhdGVzIGNvbXBvbmVudCBzdHlsZXMgYW5kIGlzIGltcG9ydGFudCBmb3IgcmVoeWRyYXRpb24gKi9cbnZhciBtYWtlVGV4dE1hcmtlciA9IGZ1bmN0aW9uIG1ha2VUZXh0TWFya2VyKGlkKSB7XG4gIHJldHVybiAnXFxuLyogc2MtY29tcG9uZW50LWlkOiAnICsgaWQgKyAnICovXFxuJztcbn07XG5cbi8qIGFkZCB1cCBhbGwgbnVtYmVycyBpbiBhcnJheSB1cCB1bnRpbCBhbmQgaW5jbHVkaW5nIHRoZSBpbmRleCAqL1xudmFyIGFkZFVwVW50aWxJbmRleCA9IGZ1bmN0aW9uIGFkZFVwVW50aWxJbmRleChzaXplcywgaW5kZXgpIHtcbiAgdmFyIHRvdGFsVXBUb0luZGV4ID0gMDtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPD0gaW5kZXg7IGkgKz0gMSkge1xuICAgIHRvdGFsVXBUb0luZGV4ICs9IHNpemVzW2ldO1xuICB9XG5cbiAgcmV0dXJuIHRvdGFsVXBUb0luZGV4O1xufTtcblxuLyogY3JlYXRlIGEgbmV3IHN0eWxlIHRhZyBhZnRlciBsYXN0RWwgKi9cbnZhciBtYWtlU3R5bGVUYWcgPSBmdW5jdGlvbiBtYWtlU3R5bGVUYWcodGFyZ2V0LCB0YWdFbCwgaW5zZXJ0QmVmb3JlKSB7XG4gIHZhciB0YXJnZXREb2N1bWVudCA9IGRvY3VtZW50O1xuICBpZiAodGFyZ2V0KSB0YXJnZXREb2N1bWVudCA9IHRhcmdldC5vd25lckRvY3VtZW50O2Vsc2UgaWYgKHRhZ0VsKSB0YXJnZXREb2N1bWVudCA9IHRhZ0VsLm93bmVyRG9jdW1lbnQ7XG5cbiAgdmFyIGVsID0gdGFyZ2V0RG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgZWwuc2V0QXR0cmlidXRlKFNDX0FUVFIsICcnKTtcbiAgZWwuc2V0QXR0cmlidXRlKFNDX1ZFUlNJT05fQVRUUiwgXCI0LjQuMVwiKTtcblxuICB2YXIgbm9uY2UgPSBnZXROb25jZSgpO1xuICBpZiAobm9uY2UpIHtcbiAgICBlbC5zZXRBdHRyaWJ1dGUoJ25vbmNlJywgbm9uY2UpO1xuICB9XG5cbiAgLyogV29yayBhcm91bmQgaW5zZXJ0UnVsZSBxdWlyayBpbiBFZGdlSFRNTCAqL1xuICBlbC5hcHBlbmRDaGlsZCh0YXJnZXREb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJykpO1xuXG4gIGlmICh0YXJnZXQgJiYgIXRhZ0VsKSB7XG4gICAgLyogQXBwZW5kIHRvIHRhcmdldCB3aGVuIG5vIHByZXZpb3VzIGVsZW1lbnQgd2FzIHBhc3NlZCAqL1xuICAgIHRhcmdldC5hcHBlbmRDaGlsZChlbCk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKCF0YWdFbCB8fCAhdGFyZ2V0IHx8ICF0YWdFbC5wYXJlbnROb2RlKSB7XG4gICAgICB0aHJvdyBuZXcgU3R5bGVkQ29tcG9uZW50c0Vycm9yKDYpO1xuICAgIH1cblxuICAgIC8qIEluc2VydCBuZXcgc3R5bGUgdGFnIGFmdGVyIHRoZSBwcmV2aW91cyBvbmUgKi9cbiAgICB0YWdFbC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShlbCwgaW5zZXJ0QmVmb3JlID8gdGFnRWwgOiB0YWdFbC5uZXh0U2libGluZyk7XG4gIH1cblxuICByZXR1cm4gZWw7XG59O1xuXG4vKiB0YWtlcyBhIGNzcyBmYWN0b3J5IGZ1bmN0aW9uIGFuZCBvdXRwdXRzIGFuIGh0bWwgc3R5bGVkIHRhZyBmYWN0b3J5ICovXG52YXIgd3JhcEFzSHRtbFRhZyA9IGZ1bmN0aW9uIHdyYXBBc0h0bWxUYWcoY3NzLCBuYW1lcykge1xuICByZXR1cm4gZnVuY3Rpb24gKGFkZGl0aW9uYWxBdHRycykge1xuICAgIHZhciBub25jZSA9IGdldE5vbmNlKCk7XG4gICAgdmFyIGF0dHJzID0gW25vbmNlICYmICdub25jZT1cIicgKyBub25jZSArICdcIicsIFNDX0FUVFIgKyAnPVwiJyArIHN0cmluZ2lmeU5hbWVzKG5hbWVzKSArICdcIicsIFNDX1ZFUlNJT05fQVRUUiArICc9XCInICsgXCI0LjQuMVwiICsgJ1wiJywgYWRkaXRpb25hbEF0dHJzXTtcblxuICAgIHZhciBodG1sQXR0ciA9IGF0dHJzLmZpbHRlcihCb29sZWFuKS5qb2luKCcgJyk7XG4gICAgcmV0dXJuICc8c3R5bGUgJyArIGh0bWxBdHRyICsgJz4nICsgY3NzKCkgKyAnPC9zdHlsZT4nO1xuICB9O1xufTtcblxuLyogdGFrZXMgYSBjc3MgZmFjdG9yeSBmdW5jdGlvbiBhbmQgb3V0cHV0cyBhbiBlbGVtZW50IGZhY3RvcnkgKi9cbnZhciB3cmFwQXNFbGVtZW50ID0gZnVuY3Rpb24gd3JhcEFzRWxlbWVudChjc3MsIG5hbWVzKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9wcm9wcztcblxuICAgIHZhciBwcm9wcyA9IChfcHJvcHMgPSB7fSwgX3Byb3BzW1NDX0FUVFJdID0gc3RyaW5naWZ5TmFtZXMobmFtZXMpLCBfcHJvcHNbU0NfVkVSU0lPTl9BVFRSXSA9IFwiNC40LjFcIiwgX3Byb3BzKTtcblxuICAgIHZhciBub25jZSA9IGdldE5vbmNlKCk7XG4gICAgaWYgKG5vbmNlKSB7XG4gICAgICAvLyAkRmxvd0ZpeE1lXG4gICAgICBwcm9wcy5ub25jZSA9IG5vbmNlO1xuICAgIH1cblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC9uby1kYW5nZXJcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudCgnc3R5bGUnLCBfZXh0ZW5kcyh7fSwgcHJvcHMsIHsgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IHsgX19odG1sOiBjc3MoKSB9IH0pKTtcbiAgfTtcbn07XG5cbnZhciBnZXRJZHNGcm9tTWFya2Vyc0ZhY3RvcnkgPSBmdW5jdGlvbiBnZXRJZHNGcm9tTWFya2Vyc0ZhY3RvcnkobWFya2Vycykge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhtYXJrZXJzKTtcbiAgfTtcbn07XG5cbi8qIHNwZWVkeSB0YWdzIHV0aWxpc2UgaW5zZXJ0UnVsZSAqL1xudmFyIG1ha2VTcGVlZHlUYWcgPSBmdW5jdGlvbiBtYWtlU3BlZWR5VGFnKGVsLCBnZXRJbXBvcnRSdWxlVGFnKSB7XG4gIHZhciBuYW1lcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIHZhciBtYXJrZXJzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgdmFyIHNpemVzID0gW107XG5cbiAgdmFyIGV4dHJhY3RJbXBvcnQgPSBnZXRJbXBvcnRSdWxlVGFnICE9PSB1bmRlZmluZWQ7XG4gIC8qIGluZGljYXRlcyB3aGV0aGVyIGdldEltcG9ydFJ1bGVUYWcgd2FzIGNhbGxlZCAqL1xuICB2YXIgdXNlZEltcG9ydFJ1bGVUYWcgPSBmYWxzZTtcblxuICB2YXIgaW5zZXJ0TWFya2VyID0gZnVuY3Rpb24gaW5zZXJ0TWFya2VyKGlkKSB7XG4gICAgdmFyIHByZXYgPSBtYXJrZXJzW2lkXTtcbiAgICBpZiAocHJldiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gcHJldjtcbiAgICB9XG5cbiAgICBtYXJrZXJzW2lkXSA9IHNpemVzLmxlbmd0aDtcbiAgICBzaXplcy5wdXNoKDApO1xuICAgIHJlc2V0SWROYW1lcyhuYW1lcywgaWQpO1xuXG4gICAgcmV0dXJuIG1hcmtlcnNbaWRdO1xuICB9O1xuXG4gIHZhciBpbnNlcnRSdWxlcyA9IGZ1bmN0aW9uIGluc2VydFJ1bGVzKGlkLCBjc3NSdWxlcywgbmFtZSkge1xuICAgIHZhciBtYXJrZXIgPSBpbnNlcnRNYXJrZXIoaWQpO1xuICAgIHZhciBzaGVldCA9IHNoZWV0Rm9yVGFnKGVsKTtcbiAgICB2YXIgaW5zZXJ0SW5kZXggPSBhZGRVcFVudGlsSW5kZXgoc2l6ZXMsIG1hcmtlcik7XG5cbiAgICB2YXIgaW5qZWN0ZWRSdWxlcyA9IDA7XG4gICAgdmFyIGltcG9ydFJ1bGVzID0gW107XG4gICAgdmFyIGNzc1J1bGVzU2l6ZSA9IGNzc1J1bGVzLmxlbmd0aDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY3NzUnVsZXNTaXplOyBpICs9IDEpIHtcbiAgICAgIHZhciBjc3NSdWxlID0gY3NzUnVsZXNbaV07XG4gICAgICB2YXIgbWF5SGF2ZUltcG9ydCA9IGV4dHJhY3RJbXBvcnQ7IC8qIEBpbXBvcnQgcnVsZXMgYXJlIHJlb3JkZXJlZCB0byBhcHBlYXIgZmlyc3QgKi9cbiAgICAgIGlmIChtYXlIYXZlSW1wb3J0ICYmIGNzc1J1bGUuaW5kZXhPZignQGltcG9ydCcpICE9PSAtMSkge1xuICAgICAgICBpbXBvcnRSdWxlcy5wdXNoKGNzc1J1bGUpO1xuICAgICAgfSBlbHNlIGlmIChzYWZlSW5zZXJ0UnVsZShzaGVldCwgY3NzUnVsZSwgaW5zZXJ0SW5kZXggKyBpbmplY3RlZFJ1bGVzKSkge1xuICAgICAgICBtYXlIYXZlSW1wb3J0ID0gZmFsc2U7XG4gICAgICAgIGluamVjdGVkUnVsZXMgKz0gMTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZXh0cmFjdEltcG9ydCAmJiBpbXBvcnRSdWxlcy5sZW5ndGggPiAwKSB7XG4gICAgICB1c2VkSW1wb3J0UnVsZVRhZyA9IHRydWU7XG4gICAgICAvLyAkRmxvd0ZpeE1lXG4gICAgICBnZXRJbXBvcnRSdWxlVGFnKCkuaW5zZXJ0UnVsZXMoaWQgKyAnLWltcG9ydCcsIGltcG9ydFJ1bGVzKTtcbiAgICB9XG5cbiAgICBzaXplc1ttYXJrZXJdICs9IGluamVjdGVkUnVsZXM7IC8qIGFkZCB1cCBubyBvZiBpbmplY3RlZCBydWxlcyAqL1xuICAgIGFkZE5hbWVGb3JJZChuYW1lcywgaWQsIG5hbWUpO1xuICB9O1xuXG4gIHZhciByZW1vdmVSdWxlcyA9IGZ1bmN0aW9uIHJlbW92ZVJ1bGVzKGlkKSB7XG4gICAgdmFyIG1hcmtlciA9IG1hcmtlcnNbaWRdO1xuICAgIGlmIChtYXJrZXIgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgIC8vICRGbG93Rml4TWVcbiAgICBpZiAoZWwuaXNDb25uZWN0ZWQgPT09IGZhbHNlKSByZXR1cm47XG5cbiAgICB2YXIgc2l6ZSA9IHNpemVzW21hcmtlcl07XG4gICAgdmFyIHNoZWV0ID0gc2hlZXRGb3JUYWcoZWwpO1xuICAgIHZhciByZW1vdmFsSW5kZXggPSBhZGRVcFVudGlsSW5kZXgoc2l6ZXMsIG1hcmtlcikgLSAxO1xuICAgIGRlbGV0ZVJ1bGVzKHNoZWV0LCByZW1vdmFsSW5kZXgsIHNpemUpO1xuICAgIHNpemVzW21hcmtlcl0gPSAwO1xuICAgIHJlc2V0SWROYW1lcyhuYW1lcywgaWQpO1xuXG4gICAgaWYgKGV4dHJhY3RJbXBvcnQgJiYgdXNlZEltcG9ydFJ1bGVUYWcpIHtcbiAgICAgIC8vICRGbG93Rml4TWVcbiAgICAgIGdldEltcG9ydFJ1bGVUYWcoKS5yZW1vdmVSdWxlcyhpZCArICctaW1wb3J0Jyk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBjc3MgPSBmdW5jdGlvbiBjc3MoKSB7XG4gICAgdmFyIF9zaGVldEZvclRhZyA9IHNoZWV0Rm9yVGFnKGVsKSxcbiAgICAgICAgY3NzUnVsZXMgPSBfc2hlZXRGb3JUYWcuY3NzUnVsZXM7XG5cbiAgICB2YXIgc3RyID0gJyc7XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZ3VhcmQtZm9yLWluXG4gICAgZm9yICh2YXIgaWQgaW4gbWFya2Vycykge1xuICAgICAgc3RyICs9IG1ha2VUZXh0TWFya2VyKGlkKTtcbiAgICAgIHZhciBtYXJrZXIgPSBtYXJrZXJzW2lkXTtcbiAgICAgIHZhciBlbmQgPSBhZGRVcFVudGlsSW5kZXgoc2l6ZXMsIG1hcmtlcik7XG4gICAgICB2YXIgc2l6ZSA9IHNpemVzW21hcmtlcl07XG4gICAgICBmb3IgKHZhciBpID0gZW5kIC0gc2l6ZTsgaSA8IGVuZDsgaSArPSAxKSB7XG4gICAgICAgIHZhciBydWxlID0gY3NzUnVsZXNbaV07XG4gICAgICAgIGlmIChydWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBzdHIgKz0gcnVsZS5jc3NUZXh0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0cjtcbiAgfTtcblxuICByZXR1cm4ge1xuICAgIGNsb25lOiBmdW5jdGlvbiBjbG9uZSgpIHtcbiAgICAgIHRocm93IG5ldyBTdHlsZWRDb21wb25lbnRzRXJyb3IoNSk7XG4gICAgfSxcblxuICAgIGNzczogY3NzLFxuICAgIGdldElkczogZ2V0SWRzRnJvbU1hcmtlcnNGYWN0b3J5KG1hcmtlcnMpLFxuICAgIGhhc05hbWVGb3JJZDogaGFzTmFtZUZvcklkKG5hbWVzKSxcbiAgICBpbnNlcnRNYXJrZXI6IGluc2VydE1hcmtlcixcbiAgICBpbnNlcnRSdWxlczogaW5zZXJ0UnVsZXMsXG4gICAgcmVtb3ZlUnVsZXM6IHJlbW92ZVJ1bGVzLFxuICAgIHNlYWxlZDogZmFsc2UsXG4gICAgc3R5bGVUYWc6IGVsLFxuICAgIHRvRWxlbWVudDogd3JhcEFzRWxlbWVudChjc3MsIG5hbWVzKSxcbiAgICB0b0hUTUw6IHdyYXBBc0h0bWxUYWcoY3NzLCBuYW1lcylcbiAgfTtcbn07XG5cbnZhciBtYWtlVGV4dE5vZGUgPSBmdW5jdGlvbiBtYWtlVGV4dE5vZGUodGFyZ2V0RG9jdW1lbnQsIGlkKSB7XG4gIHJldHVybiB0YXJnZXREb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShtYWtlVGV4dE1hcmtlcihpZCkpO1xufTtcblxudmFyIG1ha2VCcm93c2VyVGFnID0gZnVuY3Rpb24gbWFrZUJyb3dzZXJUYWcoZWwsIGdldEltcG9ydFJ1bGVUYWcpIHtcbiAgdmFyIG5hbWVzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgdmFyIG1hcmtlcnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4gIHZhciBleHRyYWN0SW1wb3J0ID0gZ2V0SW1wb3J0UnVsZVRhZyAhPT0gdW5kZWZpbmVkO1xuXG4gIC8qIGluZGljYXRlcyB3aGV0aGVyIGdldEltcG9ydFJ1bGVUYWcgd2FzIGNhbGxlZCAqL1xuICB2YXIgdXNlZEltcG9ydFJ1bGVUYWcgPSBmYWxzZTtcblxuICB2YXIgaW5zZXJ0TWFya2VyID0gZnVuY3Rpb24gaW5zZXJ0TWFya2VyKGlkKSB7XG4gICAgdmFyIHByZXYgPSBtYXJrZXJzW2lkXTtcbiAgICBpZiAocHJldiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gcHJldjtcbiAgICB9XG5cbiAgICBtYXJrZXJzW2lkXSA9IG1ha2VUZXh0Tm9kZShlbC5vd25lckRvY3VtZW50LCBpZCk7XG4gICAgZWwuYXBwZW5kQ2hpbGQobWFya2Vyc1tpZF0pO1xuICAgIG5hbWVzW2lkXSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbiAgICByZXR1cm4gbWFya2Vyc1tpZF07XG4gIH07XG5cbiAgdmFyIGluc2VydFJ1bGVzID0gZnVuY3Rpb24gaW5zZXJ0UnVsZXMoaWQsIGNzc1J1bGVzLCBuYW1lKSB7XG4gICAgdmFyIG1hcmtlciA9IGluc2VydE1hcmtlcihpZCk7XG4gICAgdmFyIGltcG9ydFJ1bGVzID0gW107XG4gICAgdmFyIGNzc1J1bGVzU2l6ZSA9IGNzc1J1bGVzLmxlbmd0aDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY3NzUnVsZXNTaXplOyBpICs9IDEpIHtcbiAgICAgIHZhciBydWxlID0gY3NzUnVsZXNbaV07XG4gICAgICB2YXIgbWF5SGF2ZUltcG9ydCA9IGV4dHJhY3RJbXBvcnQ7XG4gICAgICBpZiAobWF5SGF2ZUltcG9ydCAmJiBydWxlLmluZGV4T2YoJ0BpbXBvcnQnKSAhPT0gLTEpIHtcbiAgICAgICAgaW1wb3J0UnVsZXMucHVzaChydWxlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1heUhhdmVJbXBvcnQgPSBmYWxzZTtcbiAgICAgICAgdmFyIHNlcGFyYXRvciA9IGkgPT09IGNzc1J1bGVzU2l6ZSAtIDEgPyAnJyA6ICcgJztcbiAgICAgICAgbWFya2VyLmFwcGVuZERhdGEoJycgKyBydWxlICsgc2VwYXJhdG9yKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBhZGROYW1lRm9ySWQobmFtZXMsIGlkLCBuYW1lKTtcblxuICAgIGlmIChleHRyYWN0SW1wb3J0ICYmIGltcG9ydFJ1bGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIHVzZWRJbXBvcnRSdWxlVGFnID0gdHJ1ZTtcbiAgICAgIC8vICRGbG93Rml4TWVcbiAgICAgIGdldEltcG9ydFJ1bGVUYWcoKS5pbnNlcnRSdWxlcyhpZCArICctaW1wb3J0JywgaW1wb3J0UnVsZXMpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgcmVtb3ZlUnVsZXMgPSBmdW5jdGlvbiByZW1vdmVSdWxlcyhpZCkge1xuICAgIHZhciBtYXJrZXIgPSBtYXJrZXJzW2lkXTtcbiAgICBpZiAobWFya2VyID09PSB1bmRlZmluZWQpIHJldHVybjtcblxuICAgIC8qIGNyZWF0ZSBuZXcgZW1wdHkgdGV4dCBub2RlIGFuZCByZXBsYWNlIHRoZSBjdXJyZW50IG9uZSAqL1xuICAgIHZhciBuZXdNYXJrZXIgPSBtYWtlVGV4dE5vZGUoZWwub3duZXJEb2N1bWVudCwgaWQpO1xuICAgIGVsLnJlcGxhY2VDaGlsZChuZXdNYXJrZXIsIG1hcmtlcik7XG4gICAgbWFya2Vyc1tpZF0gPSBuZXdNYXJrZXI7XG4gICAgcmVzZXRJZE5hbWVzKG5hbWVzLCBpZCk7XG5cbiAgICBpZiAoZXh0cmFjdEltcG9ydCAmJiB1c2VkSW1wb3J0UnVsZVRhZykge1xuICAgICAgLy8gJEZsb3dGaXhNZVxuICAgICAgZ2V0SW1wb3J0UnVsZVRhZygpLnJlbW92ZVJ1bGVzKGlkICsgJy1pbXBvcnQnKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGNzcyA9IGZ1bmN0aW9uIGNzcygpIHtcbiAgICB2YXIgc3RyID0gJyc7XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZ3VhcmQtZm9yLWluXG4gICAgZm9yICh2YXIgaWQgaW4gbWFya2Vycykge1xuICAgICAgc3RyICs9IG1hcmtlcnNbaWRdLmRhdGE7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0cjtcbiAgfTtcblxuICByZXR1cm4ge1xuICAgIGNsb25lOiBmdW5jdGlvbiBjbG9uZSgpIHtcbiAgICAgIHRocm93IG5ldyBTdHlsZWRDb21wb25lbnRzRXJyb3IoNSk7XG4gICAgfSxcblxuICAgIGNzczogY3NzLFxuICAgIGdldElkczogZ2V0SWRzRnJvbU1hcmtlcnNGYWN0b3J5KG1hcmtlcnMpLFxuICAgIGhhc05hbWVGb3JJZDogaGFzTmFtZUZvcklkKG5hbWVzKSxcbiAgICBpbnNlcnRNYXJrZXI6IGluc2VydE1hcmtlcixcbiAgICBpbnNlcnRSdWxlczogaW5zZXJ0UnVsZXMsXG4gICAgcmVtb3ZlUnVsZXM6IHJlbW92ZVJ1bGVzLFxuICAgIHNlYWxlZDogZmFsc2UsXG4gICAgc3R5bGVUYWc6IGVsLFxuICAgIHRvRWxlbWVudDogd3JhcEFzRWxlbWVudChjc3MsIG5hbWVzKSxcbiAgICB0b0hUTUw6IHdyYXBBc0h0bWxUYWcoY3NzLCBuYW1lcylcbiAgfTtcbn07XG5cbnZhciBtYWtlU2VydmVyVGFnID0gZnVuY3Rpb24gbWFrZVNlcnZlclRhZyhuYW1lc0FyZywgbWFya2Vyc0FyZykge1xuICB2YXIgbmFtZXMgPSBuYW1lc0FyZyA9PT0gdW5kZWZpbmVkID8gT2JqZWN0LmNyZWF0ZShudWxsKSA6IG5hbWVzQXJnO1xuICB2YXIgbWFya2VycyA9IG1hcmtlcnNBcmcgPT09IHVuZGVmaW5lZCA/IE9iamVjdC5jcmVhdGUobnVsbCkgOiBtYXJrZXJzQXJnO1xuXG4gIHZhciBpbnNlcnRNYXJrZXIgPSBmdW5jdGlvbiBpbnNlcnRNYXJrZXIoaWQpIHtcbiAgICB2YXIgcHJldiA9IG1hcmtlcnNbaWRdO1xuICAgIGlmIChwcmV2ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBwcmV2O1xuICAgIH1cblxuICAgIHJldHVybiBtYXJrZXJzW2lkXSA9IFsnJ107XG4gIH07XG5cbiAgdmFyIGluc2VydFJ1bGVzID0gZnVuY3Rpb24gaW5zZXJ0UnVsZXMoaWQsIGNzc1J1bGVzLCBuYW1lKSB7XG4gICAgdmFyIG1hcmtlciA9IGluc2VydE1hcmtlcihpZCk7XG4gICAgbWFya2VyWzBdICs9IGNzc1J1bGVzLmpvaW4oJyAnKTtcbiAgICBhZGROYW1lRm9ySWQobmFtZXMsIGlkLCBuYW1lKTtcbiAgfTtcblxuICB2YXIgcmVtb3ZlUnVsZXMgPSBmdW5jdGlvbiByZW1vdmVSdWxlcyhpZCkge1xuICAgIHZhciBtYXJrZXIgPSBtYXJrZXJzW2lkXTtcbiAgICBpZiAobWFya2VyID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICBtYXJrZXJbMF0gPSAnJztcbiAgICByZXNldElkTmFtZXMobmFtZXMsIGlkKTtcbiAgfTtcblxuICB2YXIgY3NzID0gZnVuY3Rpb24gY3NzKCkge1xuICAgIHZhciBzdHIgPSAnJztcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZ3VhcmQtZm9yLWluXG4gICAgZm9yICh2YXIgaWQgaW4gbWFya2Vycykge1xuICAgICAgdmFyIGNzc0ZvcklkID0gbWFya2Vyc1tpZF1bMF07XG4gICAgICBpZiAoY3NzRm9ySWQpIHtcbiAgICAgICAgc3RyICs9IG1ha2VUZXh0TWFya2VyKGlkKSArIGNzc0ZvcklkO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3RyO1xuICB9O1xuXG4gIHZhciBjbG9uZSA9IGZ1bmN0aW9uIGNsb25lKCkge1xuICAgIHZhciBuYW1lc0Nsb25lID0gY2xvbmVOYW1lcyhuYW1lcyk7XG4gICAgdmFyIG1hcmtlcnNDbG9uZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZ3VhcmQtZm9yLWluXG4gICAgZm9yICh2YXIgaWQgaW4gbWFya2Vycykge1xuICAgICAgbWFya2Vyc0Nsb25lW2lkXSA9IFttYXJrZXJzW2lkXVswXV07XG4gICAgfVxuXG4gICAgcmV0dXJuIG1ha2VTZXJ2ZXJUYWcobmFtZXNDbG9uZSwgbWFya2Vyc0Nsb25lKTtcbiAgfTtcblxuICB2YXIgdGFnID0ge1xuICAgIGNsb25lOiBjbG9uZSxcbiAgICBjc3M6IGNzcyxcbiAgICBnZXRJZHM6IGdldElkc0Zyb21NYXJrZXJzRmFjdG9yeShtYXJrZXJzKSxcbiAgICBoYXNOYW1lRm9ySWQ6IGhhc05hbWVGb3JJZChuYW1lcyksXG4gICAgaW5zZXJ0TWFya2VyOiBpbnNlcnRNYXJrZXIsXG4gICAgaW5zZXJ0UnVsZXM6IGluc2VydFJ1bGVzLFxuICAgIHJlbW92ZVJ1bGVzOiByZW1vdmVSdWxlcyxcbiAgICBzZWFsZWQ6IGZhbHNlLFxuICAgIHN0eWxlVGFnOiBudWxsLFxuICAgIHRvRWxlbWVudDogd3JhcEFzRWxlbWVudChjc3MsIG5hbWVzKSxcbiAgICB0b0hUTUw6IHdyYXBBc0h0bWxUYWcoY3NzLCBuYW1lcylcbiAgfTtcblxuICByZXR1cm4gdGFnO1xufTtcblxudmFyIG1ha2VUYWcgPSBmdW5jdGlvbiBtYWtlVGFnKHRhcmdldCwgdGFnRWwsIGZvcmNlU2VydmVyLCBpbnNlcnRCZWZvcmUsIGdldEltcG9ydFJ1bGVUYWcpIHtcbiAgaWYgKElTX0JST1dTRVIgJiYgIWZvcmNlU2VydmVyKSB7XG4gICAgdmFyIGVsID0gbWFrZVN0eWxlVGFnKHRhcmdldCwgdGFnRWwsIGluc2VydEJlZm9yZSk7XG5cbiAgICBpZiAoRElTQUJMRV9TUEVFRFkpIHtcbiAgICAgIHJldHVybiBtYWtlQnJvd3NlclRhZyhlbCwgZ2V0SW1wb3J0UnVsZVRhZyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBtYWtlU3BlZWR5VGFnKGVsLCBnZXRJbXBvcnRSdWxlVGFnKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbWFrZVNlcnZlclRhZygpO1xufTtcblxudmFyIHJlaHlkcmF0ZSA9IGZ1bmN0aW9uIHJlaHlkcmF0ZSh0YWcsIGVscywgZXh0cmFjdGVkKSB7XG4gIC8qIGFkZCBhbGwgZXh0cmFjdGVkIGNvbXBvbmVudHMgdG8gdGhlIG5ldyB0YWcgKi9cbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGV4dHJhY3RlZC5sZW5ndGg7IGkgPCBsZW47IGkgKz0gMSkge1xuICAgIHZhciBfZXh0cmFjdGVkJGkgPSBleHRyYWN0ZWRbaV0sXG4gICAgICAgIGNvbXBvbmVudElkID0gX2V4dHJhY3RlZCRpLmNvbXBvbmVudElkLFxuICAgICAgICBjc3NGcm9tRE9NID0gX2V4dHJhY3RlZCRpLmNzc0Zyb21ET007XG5cbiAgICB2YXIgY3NzUnVsZXMgPSBzcGxpdEJ5UnVsZXMoY3NzRnJvbURPTSk7XG4gICAgdGFnLmluc2VydFJ1bGVzKGNvbXBvbmVudElkLCBjc3NSdWxlcyk7XG4gIH1cblxuICAvKiByZW1vdmUgb2xkIEhUTUxTdHlsZUVsZW1lbnRzLCBzaW5jZSB0aGV5IGhhdmUgYmVlbiByZWh5ZHJhdGVkICovXG4gIGZvciAodmFyIF9pID0gMCwgX2xlbiA9IGVscy5sZW5ndGg7IF9pIDwgX2xlbjsgX2kgKz0gMSkge1xuICAgIHZhciBlbCA9IGVsc1tfaV07XG4gICAgaWYgKGVsLnBhcmVudE5vZGUpIHtcbiAgICAgIGVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWwpO1xuICAgIH1cbiAgfVxufTtcblxuLy8gXG5cbnZhciBTUExJVF9SRUdFWCA9IC9cXHMrLztcblxuLyogZGV0ZXJtaW5lIHRoZSBtYXhpbXVtIG51bWJlciBvZiBjb21wb25lbnRzIGJlZm9yZSB0YWdzIGFyZSBzaGFyZGVkICovXG52YXIgTUFYX1NJWkUgPSB2b2lkIDA7XG5pZiAoSVNfQlJPV1NFUikge1xuICAvKiBpbiBzcGVlZHkgbW9kZSB3ZSBjYW4ga2VlcCBhIGxvdCBtb3JlIHJ1bGVzIGluIGEgc2hlZXQgYmVmb3JlIGEgc2xvd2Rvd24gY2FuIGJlIGV4cGVjdGVkICovXG4gIE1BWF9TSVpFID0gRElTQUJMRV9TUEVFRFkgPyA0MCA6IDEwMDA7XG59IGVsc2Uge1xuICAvKiBmb3Igc2VydmVycyB3ZSBkbyBub3QgbmVlZCB0byBzaGFyZCBhdCBhbGwgKi9cbiAgTUFYX1NJWkUgPSAtMTtcbn1cblxudmFyIHNoZWV0UnVubmluZ0lkID0gMDtcbnZhciBtYXN0ZXIgPSB2b2lkIDA7XG5cbnZhciBTdHlsZVNoZWV0ID0gZnVuY3Rpb24gKCkge1xuXG4gIC8qIGEgbWFwIGZyb20gaWRzIHRvIHRhZ3MgKi9cblxuICAvKiBkZWZlcnJlZCBydWxlcyBmb3IgYSBnaXZlbiBpZCAqL1xuXG4gIC8qIHRoaXMgaXMgdXNlZCBmb3Igbm90IHJlaW5qZWN0aW5nIHJ1bGVzIHZpYSBoYXNOYW1lRm9ySWQoKSAqL1xuXG4gIC8qIHdoZW4gcnVsZXMgZm9yIGFuIGlkIGFyZSByZW1vdmVkIHVzaW5nIHJlbW92ZSgpIHdlIGhhdmUgdG8gaWdub3JlIHJlaHlkcmF0ZWROYW1lcyBmb3IgaXQgKi9cblxuICAvKiBhIGxpc3Qgb2YgdGFncyBiZWxvbmdpbmcgdG8gdGhpcyBTdHlsZVNoZWV0ICovXG5cbiAgLyogYSB0YWcgZm9yIGltcG9ydCBydWxlcyAqL1xuXG4gIC8qIGN1cnJlbnQgY2FwYWNpdHkgdW50aWwgYSBuZXcgdGFnIG11c3QgYmUgY3JlYXRlZCAqL1xuXG4gIC8qIGNoaWxkcmVuIChha2EgY2xvbmVzKSBvZiB0aGlzIFN0eWxlU2hlZXQgaW5oZXJpdGluZyBhbGwgYW5kIGZ1dHVyZSBpbmplY3Rpb25zICovXG5cbiAgZnVuY3Rpb24gU3R5bGVTaGVldCgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyIHRhcmdldCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogSVNfQlJPV1NFUiA/IGRvY3VtZW50LmhlYWQgOiBudWxsO1xuICAgIHZhciBmb3JjZVNlcnZlciA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7XG4gICAgY2xhc3NDYWxsQ2hlY2sodGhpcywgU3R5bGVTaGVldCk7XG5cbiAgICB0aGlzLmdldEltcG9ydFJ1bGVUYWcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgaW1wb3J0UnVsZVRhZyA9IF90aGlzLmltcG9ydFJ1bGVUYWc7XG5cbiAgICAgIGlmIChpbXBvcnRSdWxlVGFnICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGltcG9ydFJ1bGVUYWc7XG4gICAgICB9XG5cbiAgICAgIHZhciBmaXJzdFRhZyA9IF90aGlzLnRhZ3NbMF07XG4gICAgICB2YXIgaW5zZXJ0QmVmb3JlID0gdHJ1ZTtcblxuICAgICAgcmV0dXJuIF90aGlzLmltcG9ydFJ1bGVUYWcgPSBtYWtlVGFnKF90aGlzLnRhcmdldCwgZmlyc3RUYWcgPyBmaXJzdFRhZy5zdHlsZVRhZyA6IG51bGwsIF90aGlzLmZvcmNlU2VydmVyLCBpbnNlcnRCZWZvcmUpO1xuICAgIH07XG5cbiAgICBzaGVldFJ1bm5pbmdJZCArPSAxO1xuICAgIHRoaXMuaWQgPSBzaGVldFJ1bm5pbmdJZDtcbiAgICB0aGlzLmZvcmNlU2VydmVyID0gZm9yY2VTZXJ2ZXI7XG4gICAgdGhpcy50YXJnZXQgPSBmb3JjZVNlcnZlciA/IG51bGwgOiB0YXJnZXQ7XG4gICAgdGhpcy50YWdNYXAgPSB7fTtcbiAgICB0aGlzLmRlZmVycmVkID0ge307XG4gICAgdGhpcy5yZWh5ZHJhdGVkTmFtZXMgPSB7fTtcbiAgICB0aGlzLmlnbm9yZVJlaHlkcmF0ZWROYW1lcyA9IHt9O1xuICAgIHRoaXMudGFncyA9IFtdO1xuICAgIHRoaXMuY2FwYWNpdHkgPSAxO1xuICAgIHRoaXMuY2xvbmVzID0gW107XG4gIH1cblxuICAvKiByZWh5ZHJhdGUgYWxsIFNTUidkIHN0eWxlIHRhZ3MgKi9cblxuXG4gIFN0eWxlU2hlZXQucHJvdG90eXBlLnJlaHlkcmF0ZSA9IGZ1bmN0aW9uIHJlaHlkcmF0ZSQkMSgpIHtcbiAgICBpZiAoIUlTX0JST1dTRVIgfHwgdGhpcy5mb3JjZVNlcnZlcikgcmV0dXJuIHRoaXM7XG5cbiAgICB2YXIgZWxzID0gW107XG4gICAgdmFyIGV4dHJhY3RlZCA9IFtdO1xuICAgIHZhciBpc1N0cmVhbWVkID0gZmFsc2U7XG5cbiAgICAvKiByZXRyaWV2ZSBhbGwgb2Ygb3VyIFNTUiBzdHlsZSBlbGVtZW50cyBmcm9tIHRoZSBET00gKi9cbiAgICB2YXIgbm9kZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdzdHlsZVsnICsgU0NfQVRUUiArICddWycgKyBTQ19WRVJTSU9OX0FUVFIgKyAnPVwiJyArIFwiNC40LjFcIiArICdcIl0nKTtcblxuICAgIHZhciBub2Rlc1NpemUgPSBub2Rlcy5sZW5ndGg7XG5cbiAgICAvKiBhYm9ydCByZWh5ZHJhdGlvbiBpZiBubyBwcmV2aW91cyBzdHlsZSB0YWdzIHdlcmUgZm91bmQgKi9cbiAgICBpZiAoIW5vZGVzU2l6ZSkgcmV0dXJuIHRoaXM7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGVzU2l6ZTsgaSArPSAxKSB7XG4gICAgICB2YXIgZWwgPSBub2Rlc1tpXTtcblxuICAgICAgLyogY2hlY2sgaWYgc3R5bGUgdGFnIGlzIGEgc3RyZWFtZWQgdGFnICovXG4gICAgICBpZiAoIWlzU3RyZWFtZWQpIGlzU3RyZWFtZWQgPSAhIWVsLmdldEF0dHJpYnV0ZShTQ19TVFJFQU1fQVRUUik7XG5cbiAgICAgIC8qIHJldHJpZXZlIGFsbCBjb21wb25lbnQgbmFtZXMgKi9cbiAgICAgIHZhciBlbE5hbWVzID0gKGVsLmdldEF0dHJpYnV0ZShTQ19BVFRSKSB8fCAnJykudHJpbSgpLnNwbGl0KFNQTElUX1JFR0VYKTtcbiAgICAgIHZhciBlbE5hbWVzU2l6ZSA9IGVsTmFtZXMubGVuZ3RoO1xuICAgICAgZm9yICh2YXIgaiA9IDAsIG5hbWU7IGogPCBlbE5hbWVzU2l6ZTsgaiArPSAxKSB7XG4gICAgICAgIG5hbWUgPSBlbE5hbWVzW2pdO1xuICAgICAgICAvKiBhZGQgcmVoeWRyYXRlZCBuYW1lIHRvIHNoZWV0IHRvIGF2b2lkIHJlLWFkZGluZyBzdHlsZXMgKi9cbiAgICAgICAgdGhpcy5yZWh5ZHJhdGVkTmFtZXNbbmFtZV0gPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICAvKiBleHRyYWN0IGFsbCBjb21wb25lbnRzIGFuZCB0aGVpciBDU1MgKi9cbiAgICAgIGV4dHJhY3RlZC5wdXNoLmFwcGx5KGV4dHJhY3RlZCwgZXh0cmFjdENvbXBzKGVsLnRleHRDb250ZW50KSk7XG5cbiAgICAgIC8qIHN0b3JlIG9yaWdpbmFsIEhUTUxTdHlsZUVsZW1lbnQgKi9cbiAgICAgIGVscy5wdXNoKGVsKTtcbiAgICB9XG5cbiAgICAvKiBhYm9ydCByZWh5ZHJhdGlvbiBpZiBub3RoaW5nIHdhcyBleHRyYWN0ZWQgKi9cbiAgICB2YXIgZXh0cmFjdGVkU2l6ZSA9IGV4dHJhY3RlZC5sZW5ndGg7XG4gICAgaWYgKCFleHRyYWN0ZWRTaXplKSByZXR1cm4gdGhpcztcblxuICAgIC8qIGNyZWF0ZSBhIHRhZyB0byBiZSB1c2VkIGZvciByZWh5ZHJhdGlvbiAqL1xuICAgIHZhciB0YWcgPSB0aGlzLm1ha2VUYWcobnVsbCk7XG5cbiAgICByZWh5ZHJhdGUodGFnLCBlbHMsIGV4dHJhY3RlZCk7XG5cbiAgICAvKiByZXNldCBjYXBhY2l0eSBhbmQgYWRqdXN0IE1BWF9TSVpFIGJ5IHRoZSBpbml0aWFsIHNpemUgb2YgdGhlIHJlaHlkcmF0aW9uICovXG4gICAgdGhpcy5jYXBhY2l0eSA9IE1hdGgubWF4KDEsIE1BWF9TSVpFIC0gZXh0cmFjdGVkU2l6ZSk7XG4gICAgdGhpcy50YWdzLnB1c2godGFnKTtcblxuICAgIC8qIHJldHJpZXZlIGFsbCBjb21wb25lbnQgaWRzICovXG4gICAgZm9yICh2YXIgX2ogPSAwOyBfaiA8IGV4dHJhY3RlZFNpemU7IF9qICs9IDEpIHtcbiAgICAgIHRoaXMudGFnTWFwW2V4dHJhY3RlZFtfal0uY29tcG9uZW50SWRdID0gdGFnO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qIHJldHJpZXZlIGEgXCJtYXN0ZXJcIiBpbnN0YW5jZSBvZiBTdHlsZVNoZWV0IHdoaWNoIGlzIHR5cGljYWxseSB1c2VkIHdoZW4gbm8gb3RoZXIgaXMgYXZhaWxhYmxlXG4gICAqIFRoZSBtYXN0ZXIgU3R5bGVTaGVldCBpcyB0YXJnZXRlZCBieSBjcmVhdGVHbG9iYWxTdHlsZSwga2V5ZnJhbWVzLCBhbmQgY29tcG9uZW50cyBvdXRzaWRlIG9mIGFueVxuICAgICogU3R5bGVTaGVldE1hbmFnZXIncyBjb250ZXh0ICovXG5cblxuICAvKiByZXNldCB0aGUgaW50ZXJuYWwgXCJtYXN0ZXJcIiBpbnN0YW5jZSAqL1xuICBTdHlsZVNoZWV0LnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgdmFyIGZvcmNlU2VydmVyID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBmYWxzZTtcblxuICAgIG1hc3RlciA9IG5ldyBTdHlsZVNoZWV0KHVuZGVmaW5lZCwgZm9yY2VTZXJ2ZXIpLnJlaHlkcmF0ZSgpO1xuICB9O1xuXG4gIC8qIGFkZHMgXCJjaGlsZHJlblwiIHRvIHRoZSBTdHlsZVNoZWV0IHRoYXQgaW5oZXJpdCBhbGwgb2YgdGhlIHBhcmVudHMnIHJ1bGVzXG4gICAqIHdoaWxlIHRoZWlyIG93biBydWxlcyBkbyBub3QgYWZmZWN0IHRoZSBwYXJlbnQgKi9cblxuXG4gIFN0eWxlU2hlZXQucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gY2xvbmUoKSB7XG4gICAgdmFyIHNoZWV0ID0gbmV3IFN0eWxlU2hlZXQodGhpcy50YXJnZXQsIHRoaXMuZm9yY2VTZXJ2ZXIpO1xuXG4gICAgLyogYWRkIHRvIGNsb25lIGFycmF5ICovXG4gICAgdGhpcy5jbG9uZXMucHVzaChzaGVldCk7XG5cbiAgICAvKiBjbG9uZSBhbGwgdGFncyAqL1xuICAgIHNoZWV0LnRhZ3MgPSB0aGlzLnRhZ3MubWFwKGZ1bmN0aW9uICh0YWcpIHtcbiAgICAgIHZhciBpZHMgPSB0YWcuZ2V0SWRzKCk7XG4gICAgICB2YXIgbmV3VGFnID0gdGFnLmNsb25lKCk7XG5cbiAgICAgIC8qIHJlY29uc3RydWN0IHRhZ01hcCAqL1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpZHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgc2hlZXQudGFnTWFwW2lkc1tpXV0gPSBuZXdUYWc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXdUYWc7XG4gICAgfSk7XG5cbiAgICAvKiBjbG9uZSBvdGhlciBtYXBzICovXG4gICAgc2hlZXQucmVoeWRyYXRlZE5hbWVzID0gX2V4dGVuZHMoe30sIHRoaXMucmVoeWRyYXRlZE5hbWVzKTtcbiAgICBzaGVldC5kZWZlcnJlZCA9IF9leHRlbmRzKHt9LCB0aGlzLmRlZmVycmVkKTtcblxuICAgIHJldHVybiBzaGVldDtcbiAgfTtcblxuICAvKiBmb3JjZSBTdHlsZVNoZWV0IHRvIGNyZWF0ZSBhIG5ldyB0YWcgb24gdGhlIG5leHQgaW5qZWN0aW9uICovXG5cblxuICBTdHlsZVNoZWV0LnByb3RvdHlwZS5zZWFsQWxsVGFncyA9IGZ1bmN0aW9uIHNlYWxBbGxUYWdzKCkge1xuICAgIHRoaXMuY2FwYWNpdHkgPSAxO1xuXG4gICAgdGhpcy50YWdzLmZvckVhY2goZnVuY3Rpb24gKHRhZykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICB0YWcuc2VhbGVkID0gdHJ1ZTtcbiAgICB9KTtcbiAgfTtcblxuICBTdHlsZVNoZWV0LnByb3RvdHlwZS5tYWtlVGFnID0gZnVuY3Rpb24gbWFrZVRhZyQkMSh0YWcpIHtcbiAgICB2YXIgbGFzdEVsID0gdGFnID8gdGFnLnN0eWxlVGFnIDogbnVsbDtcbiAgICB2YXIgaW5zZXJ0QmVmb3JlID0gZmFsc2U7XG5cbiAgICByZXR1cm4gbWFrZVRhZyh0aGlzLnRhcmdldCwgbGFzdEVsLCB0aGlzLmZvcmNlU2VydmVyLCBpbnNlcnRCZWZvcmUsIHRoaXMuZ2V0SW1wb3J0UnVsZVRhZyk7XG4gIH07XG5cbiAgLyogZ2V0IGEgdGFnIGZvciBhIGdpdmVuIGNvbXBvbmVudElkLCBhc3NpZ24gdGhlIGNvbXBvbmVudElkIHRvIG9uZSwgb3Igc2hhcmQgKi9cbiAgU3R5bGVTaGVldC5wcm90b3R5cGUuZ2V0VGFnRm9ySWQgPSBmdW5jdGlvbiBnZXRUYWdGb3JJZChpZCkge1xuICAgIC8qIHNpbXBseSByZXR1cm4gYSB0YWcsIHdoZW4gdGhlIGNvbXBvbmVudElkIHdhcyBhbHJlYWR5IGFzc2lnbmVkIG9uZSAqL1xuICAgIHZhciBwcmV2ID0gdGhpcy50YWdNYXBbaWRdO1xuICAgIGlmIChwcmV2ICE9PSB1bmRlZmluZWQgJiYgIXByZXYuc2VhbGVkKSB7XG4gICAgICByZXR1cm4gcHJldjtcbiAgICB9XG5cbiAgICB2YXIgdGFnID0gdGhpcy50YWdzW3RoaXMudGFncy5sZW5ndGggLSAxXTtcblxuICAgIC8qIHNoYXJkIChjcmVhdGUgYSBuZXcgdGFnKSBpZiB0aGUgdGFnIGlzIGV4aGF1c3RlZCAoU2VlIE1BWF9TSVpFKSAqL1xuICAgIHRoaXMuY2FwYWNpdHkgLT0gMTtcblxuICAgIGlmICh0aGlzLmNhcGFjaXR5ID09PSAwKSB7XG4gICAgICB0aGlzLmNhcGFjaXR5ID0gTUFYX1NJWkU7XG4gICAgICB0YWcgPSB0aGlzLm1ha2VUYWcodGFnKTtcbiAgICAgIHRoaXMudGFncy5wdXNoKHRhZyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMudGFnTWFwW2lkXSA9IHRhZztcbiAgfTtcblxuICAvKiBtYWlubHkgZm9yIGNyZWF0ZUdsb2JhbFN0eWxlIHRvIGNoZWNrIGZvciBpdHMgaWQgKi9cblxuXG4gIFN0eWxlU2hlZXQucHJvdG90eXBlLmhhc0lkID0gZnVuY3Rpb24gaGFzSWQoaWQpIHtcbiAgICByZXR1cm4gdGhpcy50YWdNYXBbaWRdICE9PSB1bmRlZmluZWQ7XG4gIH07XG5cbiAgLyogY2FjaGluZyBsYXllciBjaGVja2luZyBpZCtuYW1lIHRvIGFscmVhZHkgaGF2ZSBhIGNvcnJlc3BvbmRpbmcgdGFnIGFuZCBpbmplY3RlZCBydWxlcyAqL1xuXG5cbiAgU3R5bGVTaGVldC5wcm90b3R5cGUuaGFzTmFtZUZvcklkID0gZnVuY3Rpb24gaGFzTmFtZUZvcklkKGlkLCBuYW1lKSB7XG4gICAgLyogZXhjZXB0aW9uIGZvciByZWh5ZHJhdGVkIG5hbWVzIHdoaWNoIGFyZSBjaGVja2VkIHNlcGFyYXRlbHkgKi9cbiAgICBpZiAodGhpcy5pZ25vcmVSZWh5ZHJhdGVkTmFtZXNbaWRdID09PSB1bmRlZmluZWQgJiYgdGhpcy5yZWh5ZHJhdGVkTmFtZXNbbmFtZV0pIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHZhciB0YWcgPSB0aGlzLnRhZ01hcFtpZF07XG4gICAgcmV0dXJuIHRhZyAhPT0gdW5kZWZpbmVkICYmIHRhZy5oYXNOYW1lRm9ySWQoaWQsIG5hbWUpO1xuICB9O1xuXG4gIC8qIHJlZ2lzdGVycyBhIGNvbXBvbmVudElkIGFuZCByZWdpc3RlcnMgaXQgb24gaXRzIHRhZyAqL1xuXG5cbiAgU3R5bGVTaGVldC5wcm90b3R5cGUuZGVmZXJyZWRJbmplY3QgPSBmdW5jdGlvbiBkZWZlcnJlZEluamVjdChpZCwgY3NzUnVsZXMpIHtcbiAgICAvKiBkb24ndCBpbmplY3Qgd2hlbiB0aGUgaWQgaXMgYWxyZWFkeSByZWdpc3RlcmVkICovXG4gICAgaWYgKHRoaXMudGFnTWFwW2lkXSAhPT0gdW5kZWZpbmVkKSByZXR1cm47XG5cbiAgICB2YXIgY2xvbmVzID0gdGhpcy5jbG9uZXM7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNsb25lcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgY2xvbmVzW2ldLmRlZmVycmVkSW5qZWN0KGlkLCBjc3NSdWxlcyk7XG4gICAgfVxuXG4gICAgdGhpcy5nZXRUYWdGb3JJZChpZCkuaW5zZXJ0TWFya2VyKGlkKTtcbiAgICB0aGlzLmRlZmVycmVkW2lkXSA9IGNzc1J1bGVzO1xuICB9O1xuXG4gIC8qIGluamVjdHMgcnVsZXMgZm9yIGEgZ2l2ZW4gaWQgd2l0aCBhIG5hbWUgdGhhdCB3aWxsIG5lZWQgdG8gYmUgY2FjaGVkICovXG5cblxuICBTdHlsZVNoZWV0LnByb3RvdHlwZS5pbmplY3QgPSBmdW5jdGlvbiBpbmplY3QoaWQsIGNzc1J1bGVzLCBuYW1lKSB7XG4gICAgdmFyIGNsb25lcyA9IHRoaXMuY2xvbmVzO1xuXG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNsb25lcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgY2xvbmVzW2ldLmluamVjdChpZCwgY3NzUnVsZXMsIG5hbWUpO1xuICAgIH1cblxuICAgIHZhciB0YWcgPSB0aGlzLmdldFRhZ0ZvcklkKGlkKTtcblxuICAgIC8qIGFkZCBkZWZlcnJlZCBydWxlcyBmb3IgY29tcG9uZW50ICovXG4gICAgaWYgKHRoaXMuZGVmZXJyZWRbaWRdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIENvbWJpbmUgcGFzc2VkIGNzc1J1bGVzIHdpdGggcHJldmlvdXNseSBkZWZlcnJlZCBDU1MgcnVsZXNcbiAgICAgIC8vIE5PVEU6IFdlIGNhbm5vdCBtdXRhdGUgdGhlIGRlZmVycmVkIGFycmF5IGl0c2VsZiBhcyBhbGwgY2xvbmVzXG4gICAgICAvLyBkbyB0aGUgc2FtZSAoc2VlIGNsb25lc1tpXS5pbmplY3QpXG4gICAgICB2YXIgcnVsZXMgPSB0aGlzLmRlZmVycmVkW2lkXS5jb25jYXQoY3NzUnVsZXMpO1xuICAgICAgdGFnLmluc2VydFJ1bGVzKGlkLCBydWxlcywgbmFtZSk7XG5cbiAgICAgIHRoaXMuZGVmZXJyZWRbaWRdID0gdW5kZWZpbmVkO1xuICAgIH0gZWxzZSB7XG4gICAgICB0YWcuaW5zZXJ0UnVsZXMoaWQsIGNzc1J1bGVzLCBuYW1lKTtcbiAgICB9XG4gIH07XG5cbiAgLyogcmVtb3ZlcyBhbGwgcnVsZXMgZm9yIGEgZ2l2ZW4gaWQsIHdoaWNoIGRvZXNuJ3QgcmVtb3ZlIGl0cyBtYXJrZXIgYnV0IHJlc2V0cyBpdCAqL1xuXG5cbiAgU3R5bGVTaGVldC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlKGlkKSB7XG4gICAgdmFyIHRhZyA9IHRoaXMudGFnTWFwW2lkXTtcbiAgICBpZiAodGFnID09PSB1bmRlZmluZWQpIHJldHVybjtcblxuICAgIHZhciBjbG9uZXMgPSB0aGlzLmNsb25lcztcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2xvbmVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBjbG9uZXNbaV0ucmVtb3ZlKGlkKTtcbiAgICB9XG5cbiAgICAvKiByZW1vdmUgYWxsIHJ1bGVzIGZyb20gdGhlIHRhZyAqL1xuICAgIHRhZy5yZW1vdmVSdWxlcyhpZCk7XG5cbiAgICAvKiBpZ25vcmUgcG9zc2libGUgcmVoeWRyYXRlZCBuYW1lcyAqL1xuICAgIHRoaXMuaWdub3JlUmVoeWRyYXRlZE5hbWVzW2lkXSA9IHRydWU7XG5cbiAgICAvKiBkZWxldGUgcG9zc2libGUgZGVmZXJyZWQgcnVsZXMgKi9cbiAgICB0aGlzLmRlZmVycmVkW2lkXSA9IHVuZGVmaW5lZDtcbiAgfTtcblxuICBTdHlsZVNoZWV0LnByb3RvdHlwZS50b0hUTUwgPSBmdW5jdGlvbiB0b0hUTUwoKSB7XG4gICAgcmV0dXJuIHRoaXMudGFncy5tYXAoZnVuY3Rpb24gKHRhZykge1xuICAgICAgcmV0dXJuIHRhZy50b0hUTUwoKTtcbiAgICB9KS5qb2luKCcnKTtcbiAgfTtcblxuICBTdHlsZVNoZWV0LnByb3RvdHlwZS50b1JlYWN0RWxlbWVudHMgPSBmdW5jdGlvbiB0b1JlYWN0RWxlbWVudHMoKSB7XG4gICAgdmFyIGlkID0gdGhpcy5pZDtcblxuXG4gICAgcmV0dXJuIHRoaXMudGFncy5tYXAoZnVuY3Rpb24gKHRhZywgaSkge1xuICAgICAgdmFyIGtleSA9ICdzYy0nICsgaWQgKyAnLScgKyBpO1xuICAgICAgcmV0dXJuIGNsb25lRWxlbWVudCh0YWcudG9FbGVtZW50KCksIHsga2V5OiBrZXkgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgY3JlYXRlQ2xhc3MoU3R5bGVTaGVldCwgbnVsbCwgW3tcbiAgICBrZXk6ICdtYXN0ZXInLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0JCQxKCkge1xuICAgICAgcmV0dXJuIG1hc3RlciB8fCAobWFzdGVyID0gbmV3IFN0eWxlU2hlZXQoKS5yZWh5ZHJhdGUoKSk7XG4gICAgfVxuXG4gICAgLyogTk9URTogVGhpcyBpcyBqdXN0IGZvciBiYWNrd2FyZHMtY29tcGF0aWJpbGl0eSB3aXRoIGplc3Qtc3R5bGVkLWNvbXBvbmVudHMgKi9cblxuICB9LCB7XG4gICAga2V5OiAnaW5zdGFuY2UnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0JCQxKCkge1xuICAgICAgcmV0dXJuIFN0eWxlU2hlZXQubWFzdGVyO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gU3R5bGVTaGVldDtcbn0oKTtcblxuLy8gXG5cbnZhciBLZXlmcmFtZXMgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEtleWZyYW1lcyhuYW1lLCBydWxlcykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBLZXlmcmFtZXMpO1xuXG4gICAgdGhpcy5pbmplY3QgPSBmdW5jdGlvbiAoc3R5bGVTaGVldCkge1xuICAgICAgaWYgKCFzdHlsZVNoZWV0Lmhhc05hbWVGb3JJZChfdGhpcy5pZCwgX3RoaXMubmFtZSkpIHtcbiAgICAgICAgc3R5bGVTaGVldC5pbmplY3QoX3RoaXMuaWQsIF90aGlzLnJ1bGVzLCBfdGhpcy5uYW1lKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRocm93IG5ldyBTdHlsZWRDb21wb25lbnRzRXJyb3IoMTIsIFN0cmluZyhfdGhpcy5uYW1lKSk7XG4gICAgfTtcblxuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5ydWxlcyA9IHJ1bGVzO1xuXG4gICAgdGhpcy5pZCA9ICdzYy1rZXlmcmFtZXMtJyArIG5hbWU7XG4gIH1cblxuICBLZXlmcmFtZXMucHJvdG90eXBlLmdldE5hbWUgPSBmdW5jdGlvbiBnZXROYW1lKCkge1xuICAgIHJldHVybiB0aGlzLm5hbWU7XG4gIH07XG5cbiAgcmV0dXJuIEtleWZyYW1lcztcbn0oKTtcblxuLy8gXG5cbi8qKlxuICogaW5saW5lZCB2ZXJzaW9uIG9mXG4gKiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svZmJqcy9ibG9iL21hc3Rlci9wYWNrYWdlcy9mYmpzL3NyYy9jb3JlL2h5cGhlbmF0ZVN0eWxlTmFtZS5qc1xuICovXG5cbnZhciB1cHBlcmNhc2VQYXR0ZXJuID0gLyhbQS1aXSkvZztcbnZhciBtc1BhdHRlcm4gPSAvXm1zLS87XG5cbi8qKlxuICogSHlwaGVuYXRlcyBhIGNhbWVsY2FzZWQgQ1NTIHByb3BlcnR5IG5hbWUsIGZvciBleGFtcGxlOlxuICpcbiAqICAgPiBoeXBoZW5hdGVTdHlsZU5hbWUoJ2JhY2tncm91bmRDb2xvcicpXG4gKiAgIDwgXCJiYWNrZ3JvdW5kLWNvbG9yXCJcbiAqICAgPiBoeXBoZW5hdGVTdHlsZU5hbWUoJ01velRyYW5zaXRpb24nKVxuICogICA8IFwiLW1vei10cmFuc2l0aW9uXCJcbiAqICAgPiBoeXBoZW5hdGVTdHlsZU5hbWUoJ21zVHJhbnNpdGlvbicpXG4gKiAgIDwgXCItbXMtdHJhbnNpdGlvblwiXG4gKlxuICogQXMgTW9kZXJuaXpyIHN1Z2dlc3RzIChodHRwOi8vbW9kZXJuaXpyLmNvbS9kb2NzLyNwcmVmaXhlZCksIGFuIGBtc2AgcHJlZml4XG4gKiBpcyBjb252ZXJ0ZWQgdG8gYC1tcy1gLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmdcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gaHlwaGVuYXRlU3R5bGVOYW1lKHN0cmluZykge1xuICByZXR1cm4gc3RyaW5nLnJlcGxhY2UodXBwZXJjYXNlUGF0dGVybiwgJy0kMScpLnRvTG93ZXJDYXNlKCkucmVwbGFjZShtc1BhdHRlcm4sICctbXMtJyk7XG59XG5cbi8vIFxuXG4vLyBUYWtlbiBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9ibG9iL2I4N2FhYmRmZTFiNzQ2MWU3MzMxYWJiMzYwMWQ5ZTZiYjI3NTQ0YmMvcGFja2FnZXMvcmVhY3QtZG9tL3NyYy9zaGFyZWQvZGFuZ2Vyb3VzU3R5bGVWYWx1ZS5qc1xuZnVuY3Rpb24gYWRkVW5pdElmTmVlZGVkKG5hbWUsIHZhbHVlKSB7XG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbWlsYWphY2svZXNsaW50LXBsdWdpbi1mbG93dHlwZS1lcnJvcnMvaXNzdWVzLzEzM1xuICAvLyAkRmxvd0ZpeE1lXG4gIGlmICh2YWx1ZSA9PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nIHx8IHZhbHVlID09PSAnJykge1xuICAgIHJldHVybiAnJztcbiAgfVxuXG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmIHZhbHVlICE9PSAwICYmICEobmFtZSBpbiB1bml0bGVzcykpIHtcbiAgICByZXR1cm4gdmFsdWUgKyAncHgnOyAvLyBQcmVzdW1lcyBpbXBsaWNpdCAncHgnIHN1ZmZpeCBmb3IgdW5pdGxlc3MgbnVtYmVyc1xuICB9XG5cbiAgcmV0dXJuIFN0cmluZyh2YWx1ZSkudHJpbSgpO1xufVxuXG4vLyBcblxuLyoqXG4gKiBJdCdzIGZhbHNpc2ggbm90IGZhbHN5IGJlY2F1c2UgMCBpcyBhbGxvd2VkLlxuICovXG52YXIgaXNGYWxzaXNoID0gZnVuY3Rpb24gaXNGYWxzaXNoKGNodW5rKSB7XG4gIHJldHVybiBjaHVuayA9PT0gdW5kZWZpbmVkIHx8IGNodW5rID09PSBudWxsIHx8IGNodW5rID09PSBmYWxzZSB8fCBjaHVuayA9PT0gJyc7XG59O1xuXG52YXIgb2JqVG9Dc3NBcnJheSA9IGZ1bmN0aW9uIG9ialRvQ3NzQXJyYXkob2JqLCBwcmV2S2V5KSB7XG4gIHZhciBydWxlcyA9IFtdO1xuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG5cbiAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBpZiAoIWlzRmFsc2lzaChvYmpba2V5XSkpIHtcbiAgICAgIGlmIChpc1BsYWluT2JqZWN0KG9ialtrZXldKSkge1xuICAgICAgICBydWxlcy5wdXNoLmFwcGx5KHJ1bGVzLCBvYmpUb0Nzc0FycmF5KG9ialtrZXldLCBrZXkpKTtcblxuICAgICAgICByZXR1cm4gcnVsZXM7XG4gICAgICB9IGVsc2UgaWYgKGlzRnVuY3Rpb24ob2JqW2tleV0pKSB7XG4gICAgICAgIHJ1bGVzLnB1c2goaHlwaGVuYXRlU3R5bGVOYW1lKGtleSkgKyAnOicsIG9ialtrZXldLCAnOycpO1xuXG4gICAgICAgIHJldHVybiBydWxlcztcbiAgICAgIH1cbiAgICAgIHJ1bGVzLnB1c2goaHlwaGVuYXRlU3R5bGVOYW1lKGtleSkgKyAnOiAnICsgYWRkVW5pdElmTmVlZGVkKGtleSwgb2JqW2tleV0pICsgJzsnKTtcbiAgICB9XG4gICAgcmV0dXJuIHJ1bGVzO1xuICB9KTtcblxuICByZXR1cm4gcHJldktleSA/IFtwcmV2S2V5ICsgJyB7J10uY29uY2F0KHJ1bGVzLCBbJ30nXSkgOiBydWxlcztcbn07XG5cbmZ1bmN0aW9uIGZsYXR0ZW4oY2h1bmssIGV4ZWN1dGlvbkNvbnRleHQsIHN0eWxlU2hlZXQpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoY2h1bmspKSB7XG4gICAgdmFyIHJ1bGVTZXQgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBjaHVuay5sZW5ndGgsIHJlc3VsdDsgaSA8IGxlbjsgaSArPSAxKSB7XG4gICAgICByZXN1bHQgPSBmbGF0dGVuKGNodW5rW2ldLCBleGVjdXRpb25Db250ZXh0LCBzdHlsZVNoZWV0KTtcblxuICAgICAgaWYgKHJlc3VsdCA9PT0gbnVsbCkgY29udGludWU7ZWxzZSBpZiAoQXJyYXkuaXNBcnJheShyZXN1bHQpKSBydWxlU2V0LnB1c2guYXBwbHkocnVsZVNldCwgcmVzdWx0KTtlbHNlIHJ1bGVTZXQucHVzaChyZXN1bHQpO1xuICAgIH1cblxuICAgIHJldHVybiBydWxlU2V0O1xuICB9XG5cbiAgaWYgKGlzRmFsc2lzaChjaHVuaykpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qIEhhbmRsZSBvdGhlciBjb21wb25lbnRzICovXG4gIGlmIChpc1N0eWxlZENvbXBvbmVudChjaHVuaykpIHtcbiAgICByZXR1cm4gJy4nICsgY2h1bmsuc3R5bGVkQ29tcG9uZW50SWQ7XG4gIH1cblxuICAvKiBFaXRoZXIgZXhlY3V0ZSBvciBkZWZlciB0aGUgZnVuY3Rpb24gKi9cbiAgaWYgKGlzRnVuY3Rpb24oY2h1bmspKSB7XG4gICAgaWYgKGlzU3RhdGVsZXNzRnVuY3Rpb24oY2h1bmspICYmIGV4ZWN1dGlvbkNvbnRleHQpIHtcbiAgICAgIHZhciBfcmVzdWx0ID0gY2h1bmsoZXhlY3V0aW9uQ29udGV4dCk7XG5cbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIGlzRWxlbWVudChfcmVzdWx0KSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICBjb25zb2xlLndhcm4oZ2V0Q29tcG9uZW50TmFtZShjaHVuaykgKyAnIGlzIG5vdCBhIHN0eWxlZCBjb21wb25lbnQgYW5kIGNhbm5vdCBiZSByZWZlcnJlZCB0byB2aWEgY29tcG9uZW50IHNlbGVjdG9yLiBTZWUgaHR0cHM6Ly93d3cuc3R5bGVkLWNvbXBvbmVudHMuY29tL2RvY3MvYWR2YW5jZWQjcmVmZXJyaW5nLXRvLW90aGVyLWNvbXBvbmVudHMgZm9yIG1vcmUgZGV0YWlscy4nKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZsYXR0ZW4oX3Jlc3VsdCwgZXhlY3V0aW9uQ29udGV4dCwgc3R5bGVTaGVldCk7XG4gICAgfSBlbHNlIHJldHVybiBjaHVuaztcbiAgfVxuXG4gIGlmIChjaHVuayBpbnN0YW5jZW9mIEtleWZyYW1lcykge1xuICAgIGlmIChzdHlsZVNoZWV0KSB7XG4gICAgICBjaHVuay5pbmplY3Qoc3R5bGVTaGVldCk7XG4gICAgICByZXR1cm4gY2h1bmsuZ2V0TmFtZSgpO1xuICAgIH0gZWxzZSByZXR1cm4gY2h1bms7XG4gIH1cblxuICAvKiBIYW5kbGUgb2JqZWN0cyAqL1xuICByZXR1cm4gaXNQbGFpbk9iamVjdChjaHVuaykgPyBvYmpUb0Nzc0FycmF5KGNodW5rKSA6IGNodW5rLnRvU3RyaW5nKCk7XG59XG5cbi8vIFxuXG5mdW5jdGlvbiBjc3Moc3R5bGVzKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBpbnRlcnBvbGF0aW9ucyA9IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBpbnRlcnBvbGF0aW9uc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICBpZiAoaXNGdW5jdGlvbihzdHlsZXMpIHx8IGlzUGxhaW5PYmplY3Qoc3R5bGVzKSkge1xuICAgIC8vICRGbG93Rml4TWVcbiAgICByZXR1cm4gZmxhdHRlbihpbnRlcmxlYXZlKEVNUFRZX0FSUkFZLCBbc3R5bGVzXS5jb25jYXQoaW50ZXJwb2xhdGlvbnMpKSk7XG4gIH1cblxuICAvLyAkRmxvd0ZpeE1lXG4gIHJldHVybiBmbGF0dGVuKGludGVybGVhdmUoc3R5bGVzLCBpbnRlcnBvbGF0aW9ucykpO1xufVxuXG4vLyBcblxuZnVuY3Rpb24gY29uc3RydWN0V2l0aE9wdGlvbnMoY29tcG9uZW50Q29uc3RydWN0b3IsIHRhZykge1xuICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogRU1QVFlfT0JKRUNUO1xuXG4gIGlmICghaXNWYWxpZEVsZW1lbnRUeXBlKHRhZykpIHtcbiAgICB0aHJvdyBuZXcgU3R5bGVkQ29tcG9uZW50c0Vycm9yKDEsIFN0cmluZyh0YWcpKTtcbiAgfVxuXG4gIC8qIFRoaXMgaXMgY2FsbGFibGUgZGlyZWN0bHkgYXMgYSB0ZW1wbGF0ZSBmdW5jdGlvbiAqL1xuICAvLyAkRmxvd0ZpeE1lOiBOb3QgdHlwZWQgdG8gYXZvaWQgZGVzdHJ1Y3R1cmluZyBhcmd1bWVudHNcbiAgdmFyIHRlbXBsYXRlRnVuY3Rpb24gPSBmdW5jdGlvbiB0ZW1wbGF0ZUZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBjb21wb25lbnRDb25zdHJ1Y3Rvcih0YWcsIG9wdGlvbnMsIGNzcy5hcHBseSh1bmRlZmluZWQsIGFyZ3VtZW50cykpO1xuICB9O1xuXG4gIC8qIElmIGNvbmZpZyBtZXRob2RzIGFyZSBjYWxsZWQsIHdyYXAgdXAgYSBuZXcgdGVtcGxhdGUgZnVuY3Rpb24gYW5kIG1lcmdlIG9wdGlvbnMgKi9cbiAgdGVtcGxhdGVGdW5jdGlvbi53aXRoQ29uZmlnID0gZnVuY3Rpb24gKGNvbmZpZykge1xuICAgIHJldHVybiBjb25zdHJ1Y3RXaXRoT3B0aW9ucyhjb21wb25lbnRDb25zdHJ1Y3RvciwgdGFnLCBfZXh0ZW5kcyh7fSwgb3B0aW9ucywgY29uZmlnKSk7XG4gIH07XG5cbiAgLyogTW9kaWZ5L2luamVjdCBuZXcgcHJvcHMgYXQgcnVudGltZSAqL1xuICB0ZW1wbGF0ZUZ1bmN0aW9uLmF0dHJzID0gZnVuY3Rpb24gKGF0dHJzKSB7XG4gICAgcmV0dXJuIGNvbnN0cnVjdFdpdGhPcHRpb25zKGNvbXBvbmVudENvbnN0cnVjdG9yLCB0YWcsIF9leHRlbmRzKHt9LCBvcHRpb25zLCB7XG4gICAgICBhdHRyczogQXJyYXkucHJvdG90eXBlLmNvbmNhdChvcHRpb25zLmF0dHJzLCBhdHRycykuZmlsdGVyKEJvb2xlYW4pXG4gICAgfSkpO1xuICB9O1xuXG4gIHJldHVybiB0ZW1wbGF0ZUZ1bmN0aW9uO1xufVxuXG4vLyBcbi8vIFNvdXJjZTogaHR0cHM6Ly9naXRodWIuY29tL2dhcnljb3VydC9tdXJtdXJoYXNoLWpzL2Jsb2IvbWFzdGVyL211cm11cmhhc2gyX2djLmpzXG5mdW5jdGlvbiBtdXJtdXJoYXNoKGMpIHtcbiAgZm9yICh2YXIgZSA9IGMubGVuZ3RoIHwgMCwgYSA9IGUgfCAwLCBkID0gMCwgYjsgZSA+PSA0Oykge1xuICAgIGIgPSBjLmNoYXJDb2RlQXQoZCkgJiAyNTUgfCAoYy5jaGFyQ29kZUF0KCsrZCkgJiAyNTUpIDw8IDggfCAoYy5jaGFyQ29kZUF0KCsrZCkgJiAyNTUpIDw8IDE2IHwgKGMuY2hhckNvZGVBdCgrK2QpICYgMjU1KSA8PCAyNCwgYiA9IDE1NDA0ODM0NzcgKiAoYiAmIDY1NTM1KSArICgoMTU0MDQ4MzQ3NyAqIChiID4+PiAxNikgJiA2NTUzNSkgPDwgMTYpLCBiIF49IGIgPj4+IDI0LCBiID0gMTU0MDQ4MzQ3NyAqIChiICYgNjU1MzUpICsgKCgxNTQwNDgzNDc3ICogKGIgPj4+IDE2KSAmIDY1NTM1KSA8PCAxNiksIGEgPSAxNTQwNDgzNDc3ICogKGEgJiA2NTUzNSkgKyAoKDE1NDA0ODM0NzcgKiAoYSA+Pj4gMTYpICYgNjU1MzUpIDw8IDE2KSBeIGIsIGUgLT0gNCwgKytkO1xuICB9XG4gIHN3aXRjaCAoZSkge1xuICAgIGNhc2UgMzpcbiAgICAgIGEgXj0gKGMuY2hhckNvZGVBdChkICsgMikgJiAyNTUpIDw8IDE2O1xuICAgIGNhc2UgMjpcbiAgICAgIGEgXj0gKGMuY2hhckNvZGVBdChkICsgMSkgJiAyNTUpIDw8IDg7XG4gICAgY2FzZSAxOlxuICAgICAgYSBePSBjLmNoYXJDb2RlQXQoZCkgJiAyNTUsIGEgPSAxNTQwNDgzNDc3ICogKGEgJiA2NTUzNSkgKyAoKDE1NDA0ODM0NzcgKiAoYSA+Pj4gMTYpICYgNjU1MzUpIDw8IDE2KTtcbiAgfVxuICBhIF49IGEgPj4+IDEzO1xuICBhID0gMTU0MDQ4MzQ3NyAqIChhICYgNjU1MzUpICsgKCgxNTQwNDgzNDc3ICogKGEgPj4+IDE2KSAmIDY1NTM1KSA8PCAxNik7XG4gIHJldHVybiAoYSBeIGEgPj4+IDE1KSA+Pj4gMDtcbn1cblxuLy8gXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1iaXR3aXNlICovXG5cbi8qIFRoaXMgaXMgdGhlIFwiY2FwYWNpdHlcIiBvZiBvdXIgYWxwaGFiZXQgaS5lLiAyeDI2IGZvciBhbGwgbGV0dGVycyBwbHVzIHRoZWlyIGNhcGl0YWxpc2VkXG4gKiBjb3VudGVycGFydHMgKi9cbnZhciBjaGFyc0xlbmd0aCA9IDUyO1xuXG4vKiBzdGFydCBhdCA3NSBmb3IgJ2EnIHVudGlsICd6JyAoMjUpIGFuZCB0aGVuIHN0YXJ0IGF0IDY1IGZvciBjYXBpdGFsaXNlZCBsZXR0ZXJzICovXG52YXIgZ2V0QWxwaGFiZXRpY0NoYXIgPSBmdW5jdGlvbiBnZXRBbHBoYWJldGljQ2hhcihjb2RlKSB7XG4gIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKGNvZGUgKyAoY29kZSA+IDI1ID8gMzkgOiA5NykpO1xufTtcblxuLyogaW5wdXQgYSBudW1iZXIsIHVzdWFsbHkgYSBoYXNoIGFuZCBjb252ZXJ0IGl0IHRvIGJhc2UtNTIgKi9cbmZ1bmN0aW9uIGdlbmVyYXRlQWxwaGFiZXRpY05hbWUoY29kZSkge1xuICB2YXIgbmFtZSA9ICcnO1xuICB2YXIgeCA9IHZvaWQgMDtcblxuICAvKiBnZXQgYSBjaGFyIGFuZCBkaXZpZGUgYnkgYWxwaGFiZXQtbGVuZ3RoICovXG4gIGZvciAoeCA9IGNvZGU7IHggPiBjaGFyc0xlbmd0aDsgeCA9IE1hdGguZmxvb3IoeCAvIGNoYXJzTGVuZ3RoKSkge1xuICAgIG5hbWUgPSBnZXRBbHBoYWJldGljQ2hhcih4ICUgY2hhcnNMZW5ndGgpICsgbmFtZTtcbiAgfVxuXG4gIHJldHVybiBnZXRBbHBoYWJldGljQ2hhcih4ICUgY2hhcnNMZW5ndGgpICsgbmFtZTtcbn1cblxuLy8gXG5cbmZ1bmN0aW9uIGhhc0Z1bmN0aW9uT2JqZWN0S2V5KG9iaikge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZ3VhcmQtZm9yLWluLCBuby1yZXN0cmljdGVkLXN5bnRheFxuICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgaWYgKGlzRnVuY3Rpb24ob2JqW2tleV0pKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGlzU3RhdGljUnVsZXMocnVsZXMsIGF0dHJzKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcnVsZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICB2YXIgcnVsZSA9IHJ1bGVzW2ldO1xuXG4gICAgLy8gcmVjdXJzaXZlIGNhc2VcbiAgICBpZiAoQXJyYXkuaXNBcnJheShydWxlKSAmJiAhaXNTdGF0aWNSdWxlcyhydWxlLCBhdHRycykpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2UgaWYgKGlzRnVuY3Rpb24ocnVsZSkgJiYgIWlzU3R5bGVkQ29tcG9uZW50KHJ1bGUpKSB7XG4gICAgICAvLyBmdW5jdGlvbnMgYXJlIGFsbG93ZWQgdG8gYmUgc3RhdGljIGlmIHRoZXkncmUganVzdCBiZWluZ1xuICAgICAgLy8gdXNlZCB0byBnZXQgdGhlIGNsYXNzbmFtZSBvZiBhIG5lc3RlZCBzdHlsZWQgY29tcG9uZW50XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgaWYgKGF0dHJzLnNvbWUoZnVuY3Rpb24gKHgpIHtcbiAgICByZXR1cm4gaXNGdW5jdGlvbih4KSB8fCBoYXNGdW5jdGlvbk9iamVjdEtleSh4KTtcbiAgfSkpIHJldHVybiBmYWxzZTtcblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLy8gXG5cbi8qIGNvbWJpbmVzIGhhc2hTdHIgKG11cm11cmhhc2gpIGFuZCBuYW1lR2VuZXJhdG9yIGZvciBjb252ZW5pZW5jZSAqL1xudmFyIGhhc2hlciA9IGZ1bmN0aW9uIGhhc2hlcihzdHIpIHtcbiAgcmV0dXJuIGdlbmVyYXRlQWxwaGFiZXRpY05hbWUobXVybXVyaGFzaChzdHIpKTtcbn07XG5cbi8qXG4gQ29tcG9uZW50U3R5bGUgaXMgYWxsIHRoZSBDU1Mtc3BlY2lmaWMgc3R1ZmYsIG5vdFxuIHRoZSBSZWFjdC1zcGVjaWZpYyBzdHVmZi5cbiAqL1xuXG52YXIgQ29tcG9uZW50U3R5bGUgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIENvbXBvbmVudFN0eWxlKHJ1bGVzLCBhdHRycywgY29tcG9uZW50SWQpIHtcbiAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBDb21wb25lbnRTdHlsZSk7XG5cbiAgICB0aGlzLnJ1bGVzID0gcnVsZXM7XG4gICAgdGhpcy5pc1N0YXRpYyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicgJiYgaXNTdGF0aWNSdWxlcyhydWxlcywgYXR0cnMpO1xuICAgIHRoaXMuY29tcG9uZW50SWQgPSBjb21wb25lbnRJZDtcblxuICAgIGlmICghU3R5bGVTaGVldC5tYXN0ZXIuaGFzSWQoY29tcG9uZW50SWQpKSB7XG4gICAgICBTdHlsZVNoZWV0Lm1hc3Rlci5kZWZlcnJlZEluamVjdChjb21wb25lbnRJZCwgW10pO1xuICAgIH1cbiAgfVxuXG4gIC8qXG4gICAqIEZsYXR0ZW5zIGEgcnVsZSBzZXQgaW50byB2YWxpZCBDU1NcbiAgICogSGFzaGVzIGl0LCB3cmFwcyB0aGUgd2hvbGUgY2h1bmsgaW4gYSAuaGFzaDEyMzQge31cbiAgICogUmV0dXJucyB0aGUgaGFzaCB0byBiZSBpbmplY3RlZCBvbiByZW5kZXIoKVxuICAgKiAqL1xuXG5cbiAgQ29tcG9uZW50U3R5bGUucHJvdG90eXBlLmdlbmVyYXRlQW5kSW5qZWN0U3R5bGVzID0gZnVuY3Rpb24gZ2VuZXJhdGVBbmRJbmplY3RTdHlsZXMoZXhlY3V0aW9uQ29udGV4dCwgc3R5bGVTaGVldCkge1xuICAgIHZhciBpc1N0YXRpYyA9IHRoaXMuaXNTdGF0aWMsXG4gICAgICAgIGNvbXBvbmVudElkID0gdGhpcy5jb21wb25lbnRJZCxcbiAgICAgICAgbGFzdENsYXNzTmFtZSA9IHRoaXMubGFzdENsYXNzTmFtZTtcblxuICAgIGlmIChJU19CUk9XU0VSICYmIGlzU3RhdGljICYmIHR5cGVvZiBsYXN0Q2xhc3NOYW1lID09PSAnc3RyaW5nJyAmJiBzdHlsZVNoZWV0Lmhhc05hbWVGb3JJZChjb21wb25lbnRJZCwgbGFzdENsYXNzTmFtZSkpIHtcbiAgICAgIHJldHVybiBsYXN0Q2xhc3NOYW1lO1xuICAgIH1cblxuICAgIHZhciBmbGF0Q1NTID0gZmxhdHRlbih0aGlzLnJ1bGVzLCBleGVjdXRpb25Db250ZXh0LCBzdHlsZVNoZWV0KTtcbiAgICB2YXIgbmFtZSA9IGhhc2hlcih0aGlzLmNvbXBvbmVudElkICsgZmxhdENTUy5qb2luKCcnKSk7XG4gICAgaWYgKCFzdHlsZVNoZWV0Lmhhc05hbWVGb3JJZChjb21wb25lbnRJZCwgbmFtZSkpIHtcbiAgICAgIHN0eWxlU2hlZXQuaW5qZWN0KHRoaXMuY29tcG9uZW50SWQsIHN0cmluZ2lmeVJ1bGVzKGZsYXRDU1MsICcuJyArIG5hbWUsIHVuZGVmaW5lZCwgY29tcG9uZW50SWQpLCBuYW1lKTtcbiAgICB9XG5cbiAgICB0aGlzLmxhc3RDbGFzc05hbWUgPSBuYW1lO1xuICAgIHJldHVybiBuYW1lO1xuICB9O1xuXG4gIENvbXBvbmVudFN0eWxlLmdlbmVyYXRlTmFtZSA9IGZ1bmN0aW9uIGdlbmVyYXRlTmFtZShzdHIpIHtcbiAgICByZXR1cm4gaGFzaGVyKHN0cik7XG4gIH07XG5cbiAgcmV0dXJuIENvbXBvbmVudFN0eWxlO1xufSgpO1xuXG4vLyBcblxudmFyIExJTUlUID0gMjAwO1xuXG52YXIgY3JlYXRlV2FyblRvb01hbnlDbGFzc2VzID0gKGZ1bmN0aW9uIChkaXNwbGF5TmFtZSkge1xuICB2YXIgZ2VuZXJhdGVkQ2xhc3NlcyA9IHt9O1xuICB2YXIgd2FybmluZ1NlZW4gPSBmYWxzZTtcblxuICByZXR1cm4gZnVuY3Rpb24gKGNsYXNzTmFtZSkge1xuICAgIGlmICghd2FybmluZ1NlZW4pIHtcbiAgICAgIGdlbmVyYXRlZENsYXNzZXNbY2xhc3NOYW1lXSA9IHRydWU7XG4gICAgICBpZiAoT2JqZWN0LmtleXMoZ2VuZXJhdGVkQ2xhc3NlcykubGVuZ3RoID49IExJTUlUKSB7XG4gICAgICAgIC8vIFVuYWJsZSB0byBmaW5kIGxhdGVzdFJ1bGUgaW4gdGVzdCBlbnZpcm9ubWVudC5cbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSwgcHJlZmVyLXRlbXBsYXRlICovXG4gICAgICAgIGNvbnNvbGUud2FybignT3ZlciAnICsgTElNSVQgKyAnIGNsYXNzZXMgd2VyZSBnZW5lcmF0ZWQgZm9yIGNvbXBvbmVudCAnICsgZGlzcGxheU5hbWUgKyAnLiBcXG4nICsgJ0NvbnNpZGVyIHVzaW5nIHRoZSBhdHRycyBtZXRob2QsIHRvZ2V0aGVyIHdpdGggYSBzdHlsZSBvYmplY3QgZm9yIGZyZXF1ZW50bHkgY2hhbmdlZCBzdHlsZXMuXFxuJyArICdFeGFtcGxlOlxcbicgKyAnICBjb25zdCBDb21wb25lbnQgPSBzdHlsZWQuZGl2LmF0dHJzKHByb3BzID0+ICh7XFxuJyArICcgICAgc3R5bGU6IHtcXG4nICsgJyAgICAgIGJhY2tncm91bmQ6IHByb3BzLmJhY2tncm91bmQsXFxuJyArICcgICAgfSxcXG4nICsgJyAgfSkpYHdpZHRoOiAxMDAlO2BcXG5cXG4nICsgJyAgPENvbXBvbmVudCAvPicpO1xuICAgICAgICB3YXJuaW5nU2VlbiA9IHRydWU7XG4gICAgICAgIGdlbmVyYXRlZENsYXNzZXMgPSB7fTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59KTtcblxuLy8gXG5cbnZhciBkZXRlcm1pbmVUaGVtZSA9IChmdW5jdGlvbiAocHJvcHMsIGZhbGxiYWNrVGhlbWUpIHtcbiAgdmFyIGRlZmF1bHRQcm9wcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogRU1QVFlfT0JKRUNUO1xuXG4gIC8vIFByb3BzIHNob3VsZCB0YWtlIHByZWNlZGVuY2Ugb3ZlciBUaGVtZVByb3ZpZGVyLCB3aGljaCBzaG91bGQgdGFrZSBwcmVjZWRlbmNlIG92ZXJcbiAgLy8gZGVmYXVsdFByb3BzLCBidXQgUmVhY3QgYXV0b21hdGljYWxseSBwdXRzIGRlZmF1bHRQcm9wcyBvbiBwcm9wcy5cblxuICAvKiBlc2xpbnQtZGlzYWJsZSByZWFjdC9wcm9wLXR5cGVzLCBmbG93dHlwZS1lcnJvcnMvc2hvdy1lcnJvcnMgKi9cbiAgdmFyIGlzRGVmYXVsdFRoZW1lID0gZGVmYXVsdFByb3BzID8gcHJvcHMudGhlbWUgPT09IGRlZmF1bHRQcm9wcy50aGVtZSA6IGZhbHNlO1xuICB2YXIgdGhlbWUgPSBwcm9wcy50aGVtZSAmJiAhaXNEZWZhdWx0VGhlbWUgPyBwcm9wcy50aGVtZSA6IGZhbGxiYWNrVGhlbWUgfHwgZGVmYXVsdFByb3BzLnRoZW1lO1xuICAvKiBlc2xpbnQtZW5hYmxlICovXG5cbiAgcmV0dXJuIHRoZW1lO1xufSk7XG5cbi8vIFxudmFyIGVzY2FwZVJlZ2V4ID0gL1tbXFxdLiMqJD48K349fF46KCksXCInYC1dKy9nO1xudmFyIGRhc2hlc0F0RW5kcyA9IC8oXi18LSQpL2c7XG5cbi8qKlxuICogVE9ETzogRXhwbG9yZSB1c2luZyBDU1MuZXNjYXBlIHdoZW4gaXQgYmVjb21lcyBtb3JlIGF2YWlsYWJsZVxuICogaW4gZXZlcmdyZWVuIGJyb3dzZXJzLlxuICovXG5mdW5jdGlvbiBlc2NhcGUoc3RyKSB7XG4gIHJldHVybiBzdHJcbiAgLy8gUmVwbGFjZSBhbGwgcG9zc2libGUgQ1NTIHNlbGVjdG9yc1xuICAucmVwbGFjZShlc2NhcGVSZWdleCwgJy0nKVxuXG4gIC8vIFJlbW92ZSBleHRyYW5lb3VzIGh5cGhlbnMgYXQgdGhlIHN0YXJ0IGFuZCBlbmRcbiAgLnJlcGxhY2UoZGFzaGVzQXRFbmRzLCAnJyk7XG59XG5cbi8vIFxuXG5mdW5jdGlvbiBpc1RhZyh0YXJnZXQpIHtcbiAgcmV0dXJuIHR5cGVvZiB0YXJnZXQgPT09ICdzdHJpbmcnICYmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gdGFyZ2V0LmNoYXJBdCgwKSA9PT0gdGFyZ2V0LmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpIDogdHJ1ZSk7XG59XG5cbi8vIFxuXG5mdW5jdGlvbiBnZW5lcmF0ZURpc3BsYXlOYW1lKHRhcmdldCkge1xuICAvLyAkRmxvd0ZpeE1lXG4gIHJldHVybiBpc1RhZyh0YXJnZXQpID8gJ3N0eWxlZC4nICsgdGFyZ2V0IDogJ1N0eWxlZCgnICsgZ2V0Q29tcG9uZW50TmFtZSh0YXJnZXQpICsgJyknO1xufVxuXG52YXIgX1RZUEVfU1RBVElDUztcblxudmFyIFJFQUNUX1NUQVRJQ1MgPSB7XG4gIGNoaWxkQ29udGV4dFR5cGVzOiB0cnVlLFxuICBjb250ZXh0VHlwZXM6IHRydWUsXG4gIGRlZmF1bHRQcm9wczogdHJ1ZSxcbiAgZGlzcGxheU5hbWU6IHRydWUsXG4gIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wczogdHJ1ZSxcbiAgcHJvcFR5cGVzOiB0cnVlLFxuICB0eXBlOiB0cnVlXG59O1xuXG52YXIgS05PV05fU1RBVElDUyA9IHtcbiAgbmFtZTogdHJ1ZSxcbiAgbGVuZ3RoOiB0cnVlLFxuICBwcm90b3R5cGU6IHRydWUsXG4gIGNhbGxlcjogdHJ1ZSxcbiAgY2FsbGVlOiB0cnVlLFxuICBhcmd1bWVudHM6IHRydWUsXG4gIGFyaXR5OiB0cnVlXG59O1xuXG52YXIgVFlQRV9TVEFUSUNTID0gKF9UWVBFX1NUQVRJQ1MgPSB7fSwgX1RZUEVfU1RBVElDU1tGb3J3YXJkUmVmXSA9IHtcbiAgJCR0eXBlb2Y6IHRydWUsXG4gIHJlbmRlcjogdHJ1ZVxufSwgX1RZUEVfU1RBVElDUyk7XG5cbnZhciBkZWZpbmVQcm9wZXJ0eSQxID0gT2JqZWN0LmRlZmluZVByb3BlcnR5LFxuICAgIGdldE93blByb3BlcnR5TmFtZXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyxcbiAgICBfT2JqZWN0JGdldE93blByb3BlcnQgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLFxuICAgIGdldE93blByb3BlcnR5U3ltYm9scyA9IF9PYmplY3QkZ2V0T3duUHJvcGVydCA9PT0gdW5kZWZpbmVkID8gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gW107XG59IDogX09iamVjdCRnZXRPd25Qcm9wZXJ0LFxuICAgIGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsXG4gICAgZ2V0UHJvdG90eXBlT2YgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YsXG4gICAgb2JqZWN0UHJvdG90eXBlID0gT2JqZWN0LnByb3RvdHlwZTtcbnZhciBhcnJheVByb3RvdHlwZSA9IEFycmF5LnByb3RvdHlwZTtcblxuXG5mdW5jdGlvbiBob2lzdE5vblJlYWN0U3RhdGljcyh0YXJnZXRDb21wb25lbnQsIHNvdXJjZUNvbXBvbmVudCwgYmxhY2tsaXN0KSB7XG4gIGlmICh0eXBlb2Ygc291cmNlQ29tcG9uZW50ICE9PSAnc3RyaW5nJykge1xuICAgIC8vIGRvbid0IGhvaXN0IG92ZXIgc3RyaW5nIChodG1sKSBjb21wb25lbnRzXG5cbiAgICB2YXIgaW5oZXJpdGVkQ29tcG9uZW50ID0gZ2V0UHJvdG90eXBlT2Yoc291cmNlQ29tcG9uZW50KTtcblxuICAgIGlmIChpbmhlcml0ZWRDb21wb25lbnQgJiYgaW5oZXJpdGVkQ29tcG9uZW50ICE9PSBvYmplY3RQcm90b3R5cGUpIHtcbiAgICAgIGhvaXN0Tm9uUmVhY3RTdGF0aWNzKHRhcmdldENvbXBvbmVudCwgaW5oZXJpdGVkQ29tcG9uZW50LCBibGFja2xpc3QpO1xuICAgIH1cblxuICAgIHZhciBrZXlzID0gYXJyYXlQcm90b3R5cGUuY29uY2F0KGdldE93blByb3BlcnR5TmFtZXMoc291cmNlQ29tcG9uZW50KSxcbiAgICAvLyAkRmxvd0ZpeE1lXG4gICAgZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZUNvbXBvbmVudCkpO1xuXG4gICAgdmFyIHRhcmdldFN0YXRpY3MgPSBUWVBFX1NUQVRJQ1NbdGFyZ2V0Q29tcG9uZW50LiQkdHlwZW9mXSB8fCBSRUFDVF9TVEFUSUNTO1xuXG4gICAgdmFyIHNvdXJjZVN0YXRpY3MgPSBUWVBFX1NUQVRJQ1Nbc291cmNlQ29tcG9uZW50LiQkdHlwZW9mXSB8fCBSRUFDVF9TVEFUSUNTO1xuXG4gICAgdmFyIGkgPSBrZXlzLmxlbmd0aDtcbiAgICB2YXIgZGVzY3JpcHRvciA9IHZvaWQgMDtcbiAgICB2YXIga2V5ID0gdm9pZCAwO1xuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBsdXNwbHVzXG4gICAgd2hpbGUgKGktLSkge1xuICAgICAga2V5ID0ga2V5c1tpXTtcblxuICAgICAgaWYgKFxuICAgICAgLy8gJEZsb3dGaXhNZVxuICAgICAgIUtOT1dOX1NUQVRJQ1Nba2V5XSAmJiAhKGJsYWNrbGlzdCAmJiBibGFja2xpc3Rba2V5XSkgJiYgIShzb3VyY2VTdGF0aWNzICYmIHNvdXJjZVN0YXRpY3Nba2V5XSkgJiZcbiAgICAgIC8vICRGbG93Rml4TWVcbiAgICAgICEodGFyZ2V0U3RhdGljcyAmJiB0YXJnZXRTdGF0aWNzW2tleV0pKSB7XG4gICAgICAgIGRlc2NyaXB0b3IgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlQ29tcG9uZW50LCBrZXkpO1xuXG4gICAgICAgIGlmIChkZXNjcmlwdG9yKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIEF2b2lkIGZhaWx1cmVzIGZyb20gcmVhZC1vbmx5IHByb3BlcnRpZXNcbiAgICAgICAgICAgIGRlZmluZVByb3BlcnR5JDEodGFyZ2V0Q29tcG9uZW50LCBrZXksIGRlc2NyaXB0b3IpO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8qIGZhaWwgc2lsZW50bHkgKi9cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0Q29tcG9uZW50O1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldENvbXBvbmVudDtcbn1cblxuLy8gXG5mdW5jdGlvbiBpc0Rlcml2ZWRSZWFjdENvbXBvbmVudChmbikge1xuICByZXR1cm4gISEoZm4gJiYgZm4ucHJvdG90eXBlICYmIGZuLnByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50KTtcbn1cblxuLy8gXG4vLyBIZWxwZXIgdG8gY2FsbCBhIGdpdmVuIGZ1bmN0aW9uLCBvbmx5IG9uY2VcbnZhciBvbmNlID0gKGZ1bmN0aW9uIChjYikge1xuICB2YXIgY2FsbGVkID0gZmFsc2U7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIWNhbGxlZCkge1xuICAgICAgY2FsbGVkID0gdHJ1ZTtcbiAgICAgIGNiLmFwcGx5KHVuZGVmaW5lZCwgYXJndW1lbnRzKTtcbiAgICB9XG4gIH07XG59KTtcblxuLy8gXG5cbnZhciBUaGVtZUNvbnRleHQgPSBjcmVhdGVDb250ZXh0KCk7XG5cbnZhciBUaGVtZUNvbnN1bWVyID0gVGhlbWVDb250ZXh0LkNvbnN1bWVyO1xuXG4vKipcbiAqIFByb3ZpZGUgYSB0aGVtZSB0byBhbiBlbnRpcmUgcmVhY3QgY29tcG9uZW50IHRyZWUgdmlhIGNvbnRleHRcbiAqL1xuXG52YXIgVGhlbWVQcm92aWRlciA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIGluaGVyaXRzKFRoZW1lUHJvdmlkZXIsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFRoZW1lUHJvdmlkZXIocHJvcHMpIHtcbiAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBUaGVtZVByb3ZpZGVyKTtcblxuICAgIHZhciBfdGhpcyA9IHBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0NvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICBfdGhpcy5nZXRDb250ZXh0ID0gbWVtb2l6ZShfdGhpcy5nZXRDb250ZXh0LmJpbmQoX3RoaXMpKTtcbiAgICBfdGhpcy5yZW5kZXJJbm5lciA9IF90aGlzLnJlbmRlcklubmVyLmJpbmQoX3RoaXMpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIFRoZW1lUHJvdmlkZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMuY2hpbGRyZW4pIHJldHVybiBudWxsO1xuXG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICBUaGVtZUNvbnRleHQuQ29uc3VtZXIsXG4gICAgICBudWxsLFxuICAgICAgdGhpcy5yZW5kZXJJbm5lclxuICAgICk7XG4gIH07XG5cbiAgVGhlbWVQcm92aWRlci5wcm90b3R5cGUucmVuZGVySW5uZXIgPSBmdW5jdGlvbiByZW5kZXJJbm5lcihvdXRlclRoZW1lKSB7XG4gICAgdmFyIGNvbnRleHQgPSB0aGlzLmdldENvbnRleHQodGhpcy5wcm9wcy50aGVtZSwgb3V0ZXJUaGVtZSk7XG5cbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgIFRoZW1lQ29udGV4dC5Qcm92aWRlcixcbiAgICAgIHsgdmFsdWU6IGNvbnRleHQgfSxcbiAgICAgIHRoaXMucHJvcHMuY2hpbGRyZW5cbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHRoZW1lIGZyb20gdGhlIHByb3BzLCBzdXBwb3J0aW5nIGJvdGggKG91dGVyVGhlbWUpID0+IHt9XG4gICAqIGFzIHdlbGwgYXMgb2JqZWN0IG5vdGF0aW9uXG4gICAqL1xuXG5cbiAgVGhlbWVQcm92aWRlci5wcm90b3R5cGUuZ2V0VGhlbWUgPSBmdW5jdGlvbiBnZXRUaGVtZSh0aGVtZSwgb3V0ZXJUaGVtZSkge1xuICAgIGlmIChpc0Z1bmN0aW9uKHRoZW1lKSkge1xuICAgICAgdmFyIG1lcmdlZFRoZW1lID0gdGhlbWUob3V0ZXJUaGVtZSk7XG5cbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIChtZXJnZWRUaGVtZSA9PT0gbnVsbCB8fCBBcnJheS5pc0FycmF5KG1lcmdlZFRoZW1lKSB8fCAodHlwZW9mIG1lcmdlZFRoZW1lID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihtZXJnZWRUaGVtZSkpICE9PSAnb2JqZWN0JykpIHtcbiAgICAgICAgdGhyb3cgbmV3IFN0eWxlZENvbXBvbmVudHNFcnJvcig3KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG1lcmdlZFRoZW1lO1xuICAgIH1cblxuICAgIGlmICh0aGVtZSA9PT0gbnVsbCB8fCBBcnJheS5pc0FycmF5KHRoZW1lKSB8fCAodHlwZW9mIHRoZW1lID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZih0aGVtZSkpICE9PSAnb2JqZWN0Jykge1xuICAgICAgdGhyb3cgbmV3IFN0eWxlZENvbXBvbmVudHNFcnJvcig4KTtcbiAgICB9XG5cbiAgICByZXR1cm4gX2V4dGVuZHMoe30sIG91dGVyVGhlbWUsIHRoZW1lKTtcbiAgfTtcblxuICBUaGVtZVByb3ZpZGVyLnByb3RvdHlwZS5nZXRDb250ZXh0ID0gZnVuY3Rpb24gZ2V0Q29udGV4dCh0aGVtZSwgb3V0ZXJUaGVtZSkge1xuICAgIHJldHVybiB0aGlzLmdldFRoZW1lKHRoZW1lLCBvdXRlclRoZW1lKTtcbiAgfTtcblxuICByZXR1cm4gVGhlbWVQcm92aWRlcjtcbn0oQ29tcG9uZW50KTtcblxuLy8gXG5cbnZhciBDTE9TSU5HX1RBR19SID0gL15cXHMqPFxcL1thLXpdL2k7XG5cbnZhciBTZXJ2ZXJTdHlsZVNoZWV0ID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBTZXJ2ZXJTdHlsZVNoZWV0KCkge1xuICAgIGNsYXNzQ2FsbENoZWNrKHRoaXMsIFNlcnZlclN0eWxlU2hlZXQpO1xuXG4gICAgLyogVGhlIG1hc3RlciBzaGVldCBtaWdodCBiZSByZXNldCwgc28ga2VlcCBhIHJlZmVyZW5jZSBoZXJlICovXG4gICAgdGhpcy5tYXN0ZXJTaGVldCA9IFN0eWxlU2hlZXQubWFzdGVyO1xuICAgIHRoaXMuaW5zdGFuY2UgPSB0aGlzLm1hc3RlclNoZWV0LmNsb25lKCk7XG4gICAgdGhpcy5zZWFsZWQgPSBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNYXJrIHRoZSBTZXJ2ZXJTdHlsZVNoZWV0IGFzIGJlaW5nIGZ1bGx5IGVtaXR0ZWQgYW5kIG1hbnVhbGx5IEdDIGl0IGZyb20gdGhlXG4gICAqIFN0eWxlU2hlZXQgc2luZ2xldG9uLlxuICAgKi9cblxuXG4gIFNlcnZlclN0eWxlU2hlZXQucHJvdG90eXBlLnNlYWwgPSBmdW5jdGlvbiBzZWFsKCkge1xuICAgIGlmICghdGhpcy5zZWFsZWQpIHtcbiAgICAgIC8qIFJlbW92ZSBzZWFsZWQgU3R5bGVTaGVldHMgZnJvbSB0aGUgbWFzdGVyIHNoZWV0ICovXG4gICAgICB2YXIgaW5kZXggPSB0aGlzLm1hc3RlclNoZWV0LmNsb25lcy5pbmRleE9mKHRoaXMuaW5zdGFuY2UpO1xuICAgICAgdGhpcy5tYXN0ZXJTaGVldC5jbG9uZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIHRoaXMuc2VhbGVkID0gdHJ1ZTtcbiAgICB9XG4gIH07XG5cbiAgU2VydmVyU3R5bGVTaGVldC5wcm90b3R5cGUuY29sbGVjdFN0eWxlcyA9IGZ1bmN0aW9uIGNvbGxlY3RTdHlsZXMoY2hpbGRyZW4pIHtcbiAgICBpZiAodGhpcy5zZWFsZWQpIHtcbiAgICAgIHRocm93IG5ldyBTdHlsZWRDb21wb25lbnRzRXJyb3IoMik7XG4gICAgfVxuXG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICBTdHlsZVNoZWV0TWFuYWdlcixcbiAgICAgIHsgc2hlZXQ6IHRoaXMuaW5zdGFuY2UgfSxcbiAgICAgIGNoaWxkcmVuXG4gICAgKTtcbiAgfTtcblxuICBTZXJ2ZXJTdHlsZVNoZWV0LnByb3RvdHlwZS5nZXRTdHlsZVRhZ3MgPSBmdW5jdGlvbiBnZXRTdHlsZVRhZ3MoKSB7XG4gICAgdGhpcy5zZWFsKCk7XG4gICAgcmV0dXJuIHRoaXMuaW5zdGFuY2UudG9IVE1MKCk7XG4gIH07XG5cbiAgU2VydmVyU3R5bGVTaGVldC5wcm90b3R5cGUuZ2V0U3R5bGVFbGVtZW50ID0gZnVuY3Rpb24gZ2V0U3R5bGVFbGVtZW50KCkge1xuICAgIHRoaXMuc2VhbCgpO1xuICAgIHJldHVybiB0aGlzLmluc3RhbmNlLnRvUmVhY3RFbGVtZW50cygpO1xuICB9O1xuXG4gIFNlcnZlclN0eWxlU2hlZXQucHJvdG90eXBlLmludGVybGVhdmVXaXRoTm9kZVN0cmVhbSA9IGZ1bmN0aW9uIGludGVybGVhdmVXaXRoTm9kZVN0cmVhbShyZWFkYWJsZVN0cmVhbSkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB7XG4gICAgICB0aHJvdyBuZXcgU3R5bGVkQ29tcG9uZW50c0Vycm9yKDMpO1xuICAgIH1cblxuICAgIC8qIHRoZSB0YWcgaW5kZXgga2VlcHMgdHJhY2sgb2Ygd2hpY2ggdGFncyBoYXZlIGFscmVhZHkgYmVlbiBlbWl0dGVkICovXG4gICAgdmFyIGluc3RhbmNlID0gdGhpcy5pbnN0YW5jZTtcblxuICAgIHZhciBpbnN0YW5jZVRhZ0luZGV4ID0gMDtcblxuICAgIHZhciBzdHJlYW1BdHRyID0gU0NfU1RSRUFNX0FUVFIgKyAnPVwidHJ1ZVwiJztcblxuICAgIHZhciB0cmFuc2Zvcm1lciA9IG5ldyBzdHJlYW0uVHJhbnNmb3JtKHtcbiAgICAgIHRyYW5zZm9ybTogZnVuY3Rpb24gYXBwZW5kU3R5bGVDaHVua3MoY2h1bmssIC8qIGVuY29kaW5nICovXywgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIHRhZ3MgPSBpbnN0YW5jZS50YWdzO1xuXG4gICAgICAgIHZhciBodG1sID0gJyc7XG5cbiAgICAgICAgLyogcmV0cmlldmUgaHRtbCBmb3IgZWFjaCBuZXcgc3R5bGUgdGFnICovXG4gICAgICAgIGZvciAoOyBpbnN0YW5jZVRhZ0luZGV4IDwgdGFncy5sZW5ndGg7IGluc3RhbmNlVGFnSW5kZXggKz0gMSkge1xuICAgICAgICAgIHZhciB0YWcgPSB0YWdzW2luc3RhbmNlVGFnSW5kZXhdO1xuICAgICAgICAgIGh0bWwgKz0gdGFnLnRvSFRNTChzdHJlYW1BdHRyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qIGZvcmNlIG91ciBTdHlsZVNoZWV0cyB0byBlbWl0IGVudGlyZWx5IG5ldyB0YWdzICovXG4gICAgICAgIGluc3RhbmNlLnNlYWxBbGxUYWdzKCk7XG5cbiAgICAgICAgdmFyIHJlbmRlcmVkSHRtbCA9IGNodW5rLnRvU3RyaW5nKCk7XG5cbiAgICAgICAgLyogcHJlcGVuZCBzdHlsZSBodG1sIHRvIGNodW5rLCB1bmxlc3MgdGhlIHN0YXJ0IG9mIHRoZSBjaHVuayBpcyBhIGNsb3NpbmcgdGFnIGluIHdoaWNoIGNhc2UgYXBwZW5kIHJpZ2h0IGFmdGVyIHRoYXQgKi9cbiAgICAgICAgaWYgKENMT1NJTkdfVEFHX1IudGVzdChyZW5kZXJlZEh0bWwpKSB7XG4gICAgICAgICAgdmFyIGVuZE9mQ2xvc2luZ1RhZyA9IHJlbmRlcmVkSHRtbC5pbmRleE9mKCc+Jyk7XG5cbiAgICAgICAgICB0aGlzLnB1c2gocmVuZGVyZWRIdG1sLnNsaWNlKDAsIGVuZE9mQ2xvc2luZ1RhZyArIDEpICsgaHRtbCArIHJlbmRlcmVkSHRtbC5zbGljZShlbmRPZkNsb3NpbmdUYWcgKyAxKSk7XG4gICAgICAgIH0gZWxzZSB0aGlzLnB1c2goaHRtbCArIHJlbmRlcmVkSHRtbCk7XG5cbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJlYWRhYmxlU3RyZWFtLm9uKCdlbmQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXMuc2VhbCgpO1xuICAgIH0pO1xuXG4gICAgcmVhZGFibGVTdHJlYW0ub24oJ2Vycm9yJywgZnVuY3Rpb24gKGVycikge1xuICAgICAgX3RoaXMuc2VhbCgpO1xuXG4gICAgICAvLyBmb3J3YXJkIHRoZSBlcnJvciB0byB0aGUgdHJhbnNmb3JtIHN0cmVhbVxuICAgICAgdHJhbnNmb3JtZXIuZW1pdCgnZXJyb3InLCBlcnIpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHJlYWRhYmxlU3RyZWFtLnBpcGUodHJhbnNmb3JtZXIpO1xuICB9O1xuXG4gIHJldHVybiBTZXJ2ZXJTdHlsZVNoZWV0O1xufSgpO1xuXG4vLyBcblxudmFyIFN0eWxlU2hlZXRDb250ZXh0ID0gY3JlYXRlQ29udGV4dCgpO1xudmFyIFN0eWxlU2hlZXRDb25zdW1lciA9IFN0eWxlU2hlZXRDb250ZXh0LkNvbnN1bWVyO1xuXG52YXIgU3R5bGVTaGVldE1hbmFnZXIgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBpbmhlcml0cyhTdHlsZVNoZWV0TWFuYWdlciwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gU3R5bGVTaGVldE1hbmFnZXIocHJvcHMpIHtcbiAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBTdHlsZVNoZWV0TWFuYWdlcik7XG5cbiAgICB2YXIgX3RoaXMgPSBwb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9Db21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgX3RoaXMuZ2V0Q29udGV4dCA9IG1lbW9pemUoX3RoaXMuZ2V0Q29udGV4dCk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgU3R5bGVTaGVldE1hbmFnZXIucHJvdG90eXBlLmdldENvbnRleHQgPSBmdW5jdGlvbiBnZXRDb250ZXh0KHNoZWV0LCB0YXJnZXQpIHtcbiAgICBpZiAoc2hlZXQpIHtcbiAgICAgIHJldHVybiBzaGVldDtcbiAgICB9IGVsc2UgaWYgKHRhcmdldCkge1xuICAgICAgcmV0dXJuIG5ldyBTdHlsZVNoZWV0KHRhcmdldCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBTdHlsZWRDb21wb25lbnRzRXJyb3IoNCk7XG4gICAgfVxuICB9O1xuXG4gIFN0eWxlU2hlZXRNYW5hZ2VyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgIGNoaWxkcmVuID0gX3Byb3BzLmNoaWxkcmVuLFxuICAgICAgICBzaGVldCA9IF9wcm9wcy5zaGVldCxcbiAgICAgICAgdGFyZ2V0ID0gX3Byb3BzLnRhcmdldDtcblxuXG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICBTdHlsZVNoZWV0Q29udGV4dC5Qcm92aWRlcixcbiAgICAgIHsgdmFsdWU6IHRoaXMuZ2V0Q29udGV4dChzaGVldCwgdGFyZ2V0KSB9LFxuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IFJlYWN0LkNoaWxkcmVuLm9ubHkoY2hpbGRyZW4pIDogY2hpbGRyZW5cbiAgICApO1xuICB9O1xuXG4gIHJldHVybiBTdHlsZVNoZWV0TWFuYWdlcjtcbn0oQ29tcG9uZW50KTtcbnByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IFN0eWxlU2hlZXRNYW5hZ2VyLnByb3BUeXBlcyA9IHtcbiAgc2hlZXQ6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5pbnN0YW5jZU9mKFN0eWxlU2hlZXQpLCBQcm9wVHlwZXMuaW5zdGFuY2VPZihTZXJ2ZXJTdHlsZVNoZWV0KV0pLFxuXG4gIHRhcmdldDogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICBhcHBlbmRDaGlsZDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZFxuICB9KVxufSA6IHZvaWQgMDtcblxuLy8gXG5cbnZhciBpZGVudGlmaWVycyA9IHt9O1xuXG4vKiBXZSBkZXBlbmQgb24gY29tcG9uZW50cyBoYXZpbmcgdW5pcXVlIElEcyAqL1xuZnVuY3Rpb24gZ2VuZXJhdGVJZChfQ29tcG9uZW50U3R5bGUsIF9kaXNwbGF5TmFtZSwgcGFyZW50Q29tcG9uZW50SWQpIHtcbiAgdmFyIGRpc3BsYXlOYW1lID0gdHlwZW9mIF9kaXNwbGF5TmFtZSAhPT0gJ3N0cmluZycgPyAnc2MnIDogZXNjYXBlKF9kaXNwbGF5TmFtZSk7XG5cbiAgLyoqXG4gICAqIFRoaXMgZW5zdXJlcyB1bmlxdWVuZXNzIGlmIHR3byBjb21wb25lbnRzIGhhcHBlbiB0byBzaGFyZVxuICAgKiB0aGUgc2FtZSBkaXNwbGF5TmFtZS5cbiAgICovXG4gIHZhciBuciA9IChpZGVudGlmaWVyc1tkaXNwbGF5TmFtZV0gfHwgMCkgKyAxO1xuICBpZGVudGlmaWVyc1tkaXNwbGF5TmFtZV0gPSBucjtcblxuICB2YXIgY29tcG9uZW50SWQgPSBkaXNwbGF5TmFtZSArICctJyArIF9Db21wb25lbnRTdHlsZS5nZW5lcmF0ZU5hbWUoZGlzcGxheU5hbWUgKyBucik7XG5cbiAgcmV0dXJuIHBhcmVudENvbXBvbmVudElkID8gcGFyZW50Q29tcG9uZW50SWQgKyAnLScgKyBjb21wb25lbnRJZCA6IGNvbXBvbmVudElkO1xufVxuXG4vLyAkRmxvd0ZpeE1lXG5cbnZhciBTdHlsZWRDb21wb25lbnQgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBpbmhlcml0cyhTdHlsZWRDb21wb25lbnQsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFN0eWxlZENvbXBvbmVudCgpIHtcbiAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBTdHlsZWRDb21wb25lbnQpO1xuXG4gICAgdmFyIF90aGlzID0gcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfQ29tcG9uZW50LmNhbGwodGhpcykpO1xuXG4gICAgX3RoaXMuYXR0cnMgPSB7fTtcblxuICAgIF90aGlzLnJlbmRlck91dGVyID0gX3RoaXMucmVuZGVyT3V0ZXIuYmluZChfdGhpcyk7XG4gICAgX3RoaXMucmVuZGVySW5uZXIgPSBfdGhpcy5yZW5kZXJJbm5lci5iaW5kKF90aGlzKTtcblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBfdGhpcy53YXJuSW5uZXJSZWYgPSBvbmNlKGZ1bmN0aW9uIChkaXNwbGF5TmFtZSkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgY29uc29sZS53YXJuKCdUaGUgXCJpbm5lclJlZlwiIEFQSSBoYXMgYmVlbiByZW1vdmVkIGluIHN0eWxlZC1jb21wb25lbnRzIHY0IGluIGZhdm9yIG9mIFJlYWN0IDE2IHJlZiBmb3J3YXJkaW5nLCB1c2UgXCJyZWZcIiBpbnN0ZWFkIGxpa2UgYSB0eXBpY2FsIGNvbXBvbmVudC4gXCJpbm5lclJlZlwiIHdhcyBkZXRlY3RlZCBvbiBjb21wb25lbnQgXCInICsgZGlzcGxheU5hbWUgKyAnXCIuJylcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuXG4gICAgICBfdGhpcy53YXJuQXR0cnNGbk9iamVjdEtleURlcHJlY2F0ZWQgPSBvbmNlKGZ1bmN0aW9uIChrZXksIGRpc3BsYXlOYW1lKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ0Z1bmN0aW9ucyBhcyBvYmplY3QtZm9ybSBhdHRycyh7fSkga2V5cyBhcmUgbm93IGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiBhIGZ1dHVyZSB2ZXJzaW9uIG9mIHN0eWxlZC1jb21wb25lbnRzLiBTd2l0Y2ggdG8gdGhlIG5ldyBhdHRycyhwcm9wcyA9PiAoe30pKSBzeW50YXggaW5zdGVhZCBmb3IgZWFzaWVyIGFuZCBtb3JlIHBvd2VyZnVsIGNvbXBvc2l0aW9uLiBUaGUgYXR0cnMga2V5IGluIHF1ZXN0aW9uIGlzIFwiJyArIGtleSArICdcIiBvbiBjb21wb25lbnQgXCInICsgZGlzcGxheU5hbWUgKyAnXCIuJywgJ1xcbiAnICsgbmV3IEVycm9yKCkuc3RhY2spXG4gICAgICAgICk7XG4gICAgICB9KTtcblxuICAgICAgX3RoaXMud2Fybk5vblN0eWxlZENvbXBvbmVudEF0dHJzT2JqZWN0S2V5ID0gb25jZShmdW5jdGlvbiAoa2V5LCBkaXNwbGF5TmFtZSkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgY29uc29sZS53YXJuKCdJdCBsb29rcyBsaWtlIHlvdVxcJ3ZlIHVzZWQgYSBub24gc3R5bGVkLWNvbXBvbmVudCBhcyB0aGUgdmFsdWUgZm9yIHRoZSBcIicgKyBrZXkgKyAnXCIgcHJvcCBpbiBhbiBvYmplY3QtZm9ybSBhdHRycyBjb25zdHJ1Y3RvciBvZiBcIicgKyBkaXNwbGF5TmFtZSArICdcIi5cXG4nICsgJ1lvdSBzaG91bGQgdXNlIHRoZSBuZXcgZnVuY3Rpb24tZm9ybSBhdHRycyBjb25zdHJ1Y3RvciB3aGljaCBhdm9pZHMgdGhpcyBpc3N1ZTogYXR0cnMocHJvcHMgPT4gKHsgeW91clN0dWZmIH0pKVxcbicgKyBcIlRvIGNvbnRpbnVlIHVzaW5nIHRoZSBkZXByZWNhdGVkIG9iamVjdCBzeW50YXgsIHlvdSdsbCBuZWVkIHRvIHdyYXAgeW91ciBjb21wb25lbnQgcHJvcCBpbiBhIGZ1bmN0aW9uIHRvIG1ha2UgaXQgYXZhaWxhYmxlIGluc2lkZSB0aGUgc3R5bGVkIGNvbXBvbmVudCAoeW91J2xsIHN0aWxsIGdldCB0aGUgZGVwcmVjYXRpb24gd2FybmluZyB0aG91Z2guKVxcblwiICsgKCdGb3IgZXhhbXBsZSwgeyAnICsga2V5ICsgJzogKCkgPT4gSW5uZXJDb21wb25lbnQgfSBpbnN0ZWFkIG9mIHsgJyArIGtleSArICc6IElubmVyQ29tcG9uZW50IH0nKSlcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBTdHlsZWRDb21wb25lbnQucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgIFN0eWxlU2hlZXRDb25zdW1lcixcbiAgICAgIG51bGwsXG4gICAgICB0aGlzLnJlbmRlck91dGVyXG4gICAgKTtcbiAgfTtcblxuICBTdHlsZWRDb21wb25lbnQucHJvdG90eXBlLnJlbmRlck91dGVyID0gZnVuY3Rpb24gcmVuZGVyT3V0ZXIoKSB7XG4gICAgdmFyIHN0eWxlU2hlZXQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IFN0eWxlU2hlZXQubWFzdGVyO1xuXG4gICAgdGhpcy5zdHlsZVNoZWV0ID0gc3R5bGVTaGVldDtcblxuICAgIC8vIE5vIG5lZWQgdG8gc3Vic2NyaWJlIGEgc3RhdGljIGNvbXBvbmVudCB0byB0aGVtZSBjaGFuZ2VzLCBpdCB3b24ndCBjaGFuZ2UgYW55dGhpbmdcbiAgICBpZiAodGhpcy5wcm9wcy5mb3J3YXJkZWRDb21wb25lbnQuY29tcG9uZW50U3R5bGUuaXNTdGF0aWMpIHJldHVybiB0aGlzLnJlbmRlcklubmVyKCk7XG5cbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgIFRoZW1lQ29uc3VtZXIsXG4gICAgICBudWxsLFxuICAgICAgdGhpcy5yZW5kZXJJbm5lclxuICAgICk7XG4gIH07XG5cbiAgU3R5bGVkQ29tcG9uZW50LnByb3RvdHlwZS5yZW5kZXJJbm5lciA9IGZ1bmN0aW9uIHJlbmRlcklubmVyKHRoZW1lKSB7XG4gICAgdmFyIF9wcm9wcyRmb3J3YXJkZWRDb21wbyA9IHRoaXMucHJvcHMuZm9yd2FyZGVkQ29tcG9uZW50LFxuICAgICAgICBjb21wb25lbnRTdHlsZSA9IF9wcm9wcyRmb3J3YXJkZWRDb21wby5jb21wb25lbnRTdHlsZSxcbiAgICAgICAgZGVmYXVsdFByb3BzID0gX3Byb3BzJGZvcndhcmRlZENvbXBvLmRlZmF1bHRQcm9wcyxcbiAgICAgICAgZGlzcGxheU5hbWUgPSBfcHJvcHMkZm9yd2FyZGVkQ29tcG8uZGlzcGxheU5hbWUsXG4gICAgICAgIGZvbGRlZENvbXBvbmVudElkcyA9IF9wcm9wcyRmb3J3YXJkZWRDb21wby5mb2xkZWRDb21wb25lbnRJZHMsXG4gICAgICAgIHN0eWxlZENvbXBvbmVudElkID0gX3Byb3BzJGZvcndhcmRlZENvbXBvLnN0eWxlZENvbXBvbmVudElkLFxuICAgICAgICB0YXJnZXQgPSBfcHJvcHMkZm9yd2FyZGVkQ29tcG8udGFyZ2V0O1xuXG5cbiAgICB2YXIgZ2VuZXJhdGVkQ2xhc3NOYW1lID0gdm9pZCAwO1xuICAgIGlmIChjb21wb25lbnRTdHlsZS5pc1N0YXRpYykge1xuICAgICAgZ2VuZXJhdGVkQ2xhc3NOYW1lID0gdGhpcy5nZW5lcmF0ZUFuZEluamVjdFN0eWxlcyhFTVBUWV9PQkpFQ1QsIHRoaXMucHJvcHMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBnZW5lcmF0ZWRDbGFzc05hbWUgPSB0aGlzLmdlbmVyYXRlQW5kSW5qZWN0U3R5bGVzKGRldGVybWluZVRoZW1lKHRoaXMucHJvcHMsIHRoZW1lLCBkZWZhdWx0UHJvcHMpIHx8IEVNUFRZX09CSkVDVCwgdGhpcy5wcm9wcyk7XG4gICAgfVxuXG4gICAgdmFyIGVsZW1lbnRUb0JlQ3JlYXRlZCA9IHRoaXMucHJvcHMuYXMgfHwgdGhpcy5hdHRycy5hcyB8fCB0YXJnZXQ7XG4gICAgdmFyIGlzVGFyZ2V0VGFnID0gaXNUYWcoZWxlbWVudFRvQmVDcmVhdGVkKTtcblxuICAgIHZhciBwcm9wc0ZvckVsZW1lbnQgPSB7fTtcbiAgICB2YXIgY29tcHV0ZWRQcm9wcyA9IF9leHRlbmRzKHt9LCB0aGlzLnByb3BzLCB0aGlzLmF0dHJzKTtcblxuICAgIHZhciBrZXkgPSB2b2lkIDA7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGd1YXJkLWZvci1pblxuICAgIGZvciAoa2V5IGluIGNvbXB1dGVkUHJvcHMpIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIGtleSA9PT0gJ2lubmVyUmVmJyAmJiBpc1RhcmdldFRhZykge1xuICAgICAgICB0aGlzLndhcm5Jbm5lclJlZihkaXNwbGF5TmFtZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChrZXkgPT09ICdmb3J3YXJkZWRDb21wb25lbnQnIHx8IGtleSA9PT0gJ2FzJykge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnZm9yd2FyZGVkUmVmJykgcHJvcHNGb3JFbGVtZW50LnJlZiA9IGNvbXB1dGVkUHJvcHNba2V5XTtlbHNlIGlmIChrZXkgPT09ICdmb3J3YXJkZWRBcycpIHByb3BzRm9yRWxlbWVudC5hcyA9IGNvbXB1dGVkUHJvcHNba2V5XTtlbHNlIGlmICghaXNUYXJnZXRUYWcgfHwgdmFsaWRBdHRyKGtleSkpIHtcbiAgICAgICAgLy8gRG9uJ3QgcGFzcyB0aHJvdWdoIG5vbiBIVE1MIHRhZ3MgdGhyb3VnaCB0byBIVE1MIGVsZW1lbnRzXG4gICAgICAgIHByb3BzRm9yRWxlbWVudFtrZXldID0gY29tcHV0ZWRQcm9wc1trZXldO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLnByb3BzLnN0eWxlICYmIHRoaXMuYXR0cnMuc3R5bGUpIHtcbiAgICAgIHByb3BzRm9yRWxlbWVudC5zdHlsZSA9IF9leHRlbmRzKHt9LCB0aGlzLmF0dHJzLnN0eWxlLCB0aGlzLnByb3BzLnN0eWxlKTtcbiAgICB9XG5cbiAgICBwcm9wc0ZvckVsZW1lbnQuY2xhc3NOYW1lID0gQXJyYXkucHJvdG90eXBlLmNvbmNhdChmb2xkZWRDb21wb25lbnRJZHMsIHN0eWxlZENvbXBvbmVudElkLCBnZW5lcmF0ZWRDbGFzc05hbWUgIT09IHN0eWxlZENvbXBvbmVudElkID8gZ2VuZXJhdGVkQ2xhc3NOYW1lIDogbnVsbCwgdGhpcy5wcm9wcy5jbGFzc05hbWUsIHRoaXMuYXR0cnMuY2xhc3NOYW1lKS5maWx0ZXIoQm9vbGVhbikuam9pbignICcpO1xuXG4gICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoZWxlbWVudFRvQmVDcmVhdGVkLCBwcm9wc0ZvckVsZW1lbnQpO1xuICB9O1xuXG4gIFN0eWxlZENvbXBvbmVudC5wcm90b3R5cGUuYnVpbGRFeGVjdXRpb25Db250ZXh0ID0gZnVuY3Rpb24gYnVpbGRFeGVjdXRpb25Db250ZXh0KHRoZW1lLCBwcm9wcywgYXR0cnMpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIHZhciBjb250ZXh0ID0gX2V4dGVuZHMoe30sIHByb3BzLCB7IHRoZW1lOiB0aGVtZSB9KTtcblxuICAgIGlmICghYXR0cnMubGVuZ3RoKSByZXR1cm4gY29udGV4dDtcblxuICAgIHRoaXMuYXR0cnMgPSB7fTtcblxuICAgIGF0dHJzLmZvckVhY2goZnVuY3Rpb24gKGF0dHJEZWYpIHtcbiAgICAgIHZhciByZXNvbHZlZEF0dHJEZWYgPSBhdHRyRGVmO1xuICAgICAgdmFyIGF0dHJEZWZXYXNGbiA9IGZhbHNlO1xuICAgICAgdmFyIGF0dHIgPSB2b2lkIDA7XG4gICAgICB2YXIga2V5ID0gdm9pZCAwO1xuXG4gICAgICBpZiAoaXNGdW5jdGlvbihyZXNvbHZlZEF0dHJEZWYpKSB7XG4gICAgICAgIC8vICRGbG93Rml4TWVcbiAgICAgICAgcmVzb2x2ZWRBdHRyRGVmID0gcmVzb2x2ZWRBdHRyRGVmKGNvbnRleHQpO1xuICAgICAgICBhdHRyRGVmV2FzRm4gPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICAvKiBlc2xpbnQtZGlzYWJsZSBndWFyZC1mb3ItaW4gKi9cbiAgICAgIC8vICRGbG93Rml4TWVcbiAgICAgIGZvciAoa2V5IGluIHJlc29sdmVkQXR0ckRlZikge1xuICAgICAgICBhdHRyID0gcmVzb2x2ZWRBdHRyRGVmW2tleV07XG5cbiAgICAgICAgaWYgKCFhdHRyRGVmV2FzRm4pIHtcbiAgICAgICAgICBpZiAoaXNGdW5jdGlvbihhdHRyKSAmJiAhaXNEZXJpdmVkUmVhY3RDb21wb25lbnQoYXR0cikgJiYgIWlzU3R5bGVkQ29tcG9uZW50KGF0dHIpKSB7XG4gICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICBfdGhpczIud2FybkF0dHJzRm5PYmplY3RLZXlEZXByZWNhdGVkKGtleSwgcHJvcHMuZm9yd2FyZGVkQ29tcG9uZW50LmRpc3BsYXlOYW1lKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYXR0ciA9IGF0dHIoY29udGV4dCk7XG5cbiAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIFJlYWN0LmlzVmFsaWRFbGVtZW50KGF0dHIpKSB7XG4gICAgICAgICAgICAgIF90aGlzMi53YXJuTm9uU3R5bGVkQ29tcG9uZW50QXR0cnNPYmplY3RLZXkoa2V5LCBwcm9wcy5mb3J3YXJkZWRDb21wb25lbnQuZGlzcGxheU5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzMi5hdHRyc1trZXldID0gYXR0cjtcbiAgICAgICAgY29udGV4dFtrZXldID0gYXR0cjtcbiAgICAgIH1cbiAgICAgIC8qIGVzbGludC1lbmFibGUgKi9cbiAgICB9KTtcblxuICAgIHJldHVybiBjb250ZXh0O1xuICB9O1xuXG4gIFN0eWxlZENvbXBvbmVudC5wcm90b3R5cGUuZ2VuZXJhdGVBbmRJbmplY3RTdHlsZXMgPSBmdW5jdGlvbiBnZW5lcmF0ZUFuZEluamVjdFN0eWxlcyh0aGVtZSwgcHJvcHMpIHtcbiAgICB2YXIgX3Byb3BzJGZvcndhcmRlZENvbXBvMiA9IHByb3BzLmZvcndhcmRlZENvbXBvbmVudCxcbiAgICAgICAgYXR0cnMgPSBfcHJvcHMkZm9yd2FyZGVkQ29tcG8yLmF0dHJzLFxuICAgICAgICBjb21wb25lbnRTdHlsZSA9IF9wcm9wcyRmb3J3YXJkZWRDb21wbzIuY29tcG9uZW50U3R5bGUsXG4gICAgICAgIHdhcm5Ub29NYW55Q2xhc3NlcyA9IF9wcm9wcyRmb3J3YXJkZWRDb21wbzIud2FyblRvb01hbnlDbGFzc2VzO1xuXG4gICAgLy8gc3RhdGljYWxseSBzdHlsZWQtY29tcG9uZW50cyBkb24ndCBuZWVkIHRvIGJ1aWxkIGFuIGV4ZWN1dGlvbiBjb250ZXh0IG9iamVjdCxcbiAgICAvLyBhbmQgc2hvdWxkbid0IGJlIGluY3JlYXNpbmcgdGhlIG51bWJlciBvZiBjbGFzcyBuYW1lc1xuXG4gICAgaWYgKGNvbXBvbmVudFN0eWxlLmlzU3RhdGljICYmICFhdHRycy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBjb21wb25lbnRTdHlsZS5nZW5lcmF0ZUFuZEluamVjdFN0eWxlcyhFTVBUWV9PQkpFQ1QsIHRoaXMuc3R5bGVTaGVldCk7XG4gICAgfVxuXG4gICAgdmFyIGNsYXNzTmFtZSA9IGNvbXBvbmVudFN0eWxlLmdlbmVyYXRlQW5kSW5qZWN0U3R5bGVzKHRoaXMuYnVpbGRFeGVjdXRpb25Db250ZXh0KHRoZW1lLCBwcm9wcywgYXR0cnMpLCB0aGlzLnN0eWxlU2hlZXQpO1xuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgd2FyblRvb01hbnlDbGFzc2VzKSB3YXJuVG9vTWFueUNsYXNzZXMoY2xhc3NOYW1lKTtcblxuICAgIHJldHVybiBjbGFzc05hbWU7XG4gIH07XG5cbiAgcmV0dXJuIFN0eWxlZENvbXBvbmVudDtcbn0oQ29tcG9uZW50KTtcblxuZnVuY3Rpb24gY3JlYXRlU3R5bGVkQ29tcG9uZW50KHRhcmdldCwgb3B0aW9ucywgcnVsZXMpIHtcbiAgdmFyIGlzVGFyZ2V0U3R5bGVkQ29tcCA9IGlzU3R5bGVkQ29tcG9uZW50KHRhcmdldCk7XG4gIHZhciBpc0NsYXNzID0gIWlzVGFnKHRhcmdldCk7XG5cbiAgdmFyIF9vcHRpb25zJGRpc3BsYXlOYW1lID0gb3B0aW9ucy5kaXNwbGF5TmFtZSxcbiAgICAgIGRpc3BsYXlOYW1lID0gX29wdGlvbnMkZGlzcGxheU5hbWUgPT09IHVuZGVmaW5lZCA/IGdlbmVyYXRlRGlzcGxheU5hbWUodGFyZ2V0KSA6IF9vcHRpb25zJGRpc3BsYXlOYW1lLFxuICAgICAgX29wdGlvbnMkY29tcG9uZW50SWQgPSBvcHRpb25zLmNvbXBvbmVudElkLFxuICAgICAgY29tcG9uZW50SWQgPSBfb3B0aW9ucyRjb21wb25lbnRJZCA9PT0gdW5kZWZpbmVkID8gZ2VuZXJhdGVJZChDb21wb25lbnRTdHlsZSwgb3B0aW9ucy5kaXNwbGF5TmFtZSwgb3B0aW9ucy5wYXJlbnRDb21wb25lbnRJZCkgOiBfb3B0aW9ucyRjb21wb25lbnRJZCxcbiAgICAgIF9vcHRpb25zJFBhcmVudENvbXBvbiA9IG9wdGlvbnMuUGFyZW50Q29tcG9uZW50LFxuICAgICAgUGFyZW50Q29tcG9uZW50ID0gX29wdGlvbnMkUGFyZW50Q29tcG9uID09PSB1bmRlZmluZWQgPyBTdHlsZWRDb21wb25lbnQgOiBfb3B0aW9ucyRQYXJlbnRDb21wb24sXG4gICAgICBfb3B0aW9ucyRhdHRycyA9IG9wdGlvbnMuYXR0cnMsXG4gICAgICBhdHRycyA9IF9vcHRpb25zJGF0dHJzID09PSB1bmRlZmluZWQgPyBFTVBUWV9BUlJBWSA6IF9vcHRpb25zJGF0dHJzO1xuXG5cbiAgdmFyIHN0eWxlZENvbXBvbmVudElkID0gb3B0aW9ucy5kaXNwbGF5TmFtZSAmJiBvcHRpb25zLmNvbXBvbmVudElkID8gZXNjYXBlKG9wdGlvbnMuZGlzcGxheU5hbWUpICsgJy0nICsgb3B0aW9ucy5jb21wb25lbnRJZCA6IG9wdGlvbnMuY29tcG9uZW50SWQgfHwgY29tcG9uZW50SWQ7XG5cbiAgLy8gZm9sZCB0aGUgdW5kZXJseWluZyBTdHlsZWRDb21wb25lbnQgYXR0cnMgdXAgKGltcGxpY2l0IGV4dGVuZClcbiAgdmFyIGZpbmFsQXR0cnMgPVxuICAvLyAkRmxvd0ZpeE1lXG4gIGlzVGFyZ2V0U3R5bGVkQ29tcCAmJiB0YXJnZXQuYXR0cnMgPyBBcnJheS5wcm90b3R5cGUuY29uY2F0KHRhcmdldC5hdHRycywgYXR0cnMpLmZpbHRlcihCb29sZWFuKSA6IGF0dHJzO1xuXG4gIHZhciBjb21wb25lbnRTdHlsZSA9IG5ldyBDb21wb25lbnRTdHlsZShpc1RhcmdldFN0eWxlZENvbXAgPyAvLyBmb2xkIHRoZSB1bmRlcmx5aW5nIFN0eWxlZENvbXBvbmVudCBydWxlcyB1cCAoaW1wbGljaXQgZXh0ZW5kKVxuICAvLyAkRmxvd0ZpeE1lXG4gIHRhcmdldC5jb21wb25lbnRTdHlsZS5ydWxlcy5jb25jYXQocnVsZXMpIDogcnVsZXMsIGZpbmFsQXR0cnMsIHN0eWxlZENvbXBvbmVudElkKTtcblxuICAvKipcbiAgICogZm9yd2FyZFJlZiBjcmVhdGVzIGEgbmV3IGludGVyaW0gY29tcG9uZW50LCB3aGljaCB3ZSdsbCB0YWtlIGFkdmFudGFnZSBvZlxuICAgKiBpbnN0ZWFkIG9mIGV4dGVuZGluZyBQYXJlbnRDb21wb25lbnQgdG8gY3JlYXRlIF9hbm90aGVyXyBpbnRlcmltIGNsYXNzXG4gICAqL1xuICB2YXIgV3JhcHBlZFN0eWxlZENvbXBvbmVudCA9IHZvaWQgMDtcbiAgdmFyIGZvcndhcmRSZWYgPSBmdW5jdGlvbiBmb3J3YXJkUmVmKHByb3BzLCByZWYpIHtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChQYXJlbnRDb21wb25lbnQsIF9leHRlbmRzKHt9LCBwcm9wcywgeyBmb3J3YXJkZWRDb21wb25lbnQ6IFdyYXBwZWRTdHlsZWRDb21wb25lbnQsIGZvcndhcmRlZFJlZjogcmVmIH0pKTtcbiAgfTtcbiAgZm9yd2FyZFJlZi5kaXNwbGF5TmFtZSA9IGRpc3BsYXlOYW1lO1xuICBXcmFwcGVkU3R5bGVkQ29tcG9uZW50ID0gUmVhY3QuZm9yd2FyZFJlZihmb3J3YXJkUmVmKTtcbiAgV3JhcHBlZFN0eWxlZENvbXBvbmVudC5kaXNwbGF5TmFtZSA9IGRpc3BsYXlOYW1lO1xuXG4gIC8vICRGbG93Rml4TWVcbiAgV3JhcHBlZFN0eWxlZENvbXBvbmVudC5hdHRycyA9IGZpbmFsQXR0cnM7XG4gIC8vICRGbG93Rml4TWVcbiAgV3JhcHBlZFN0eWxlZENvbXBvbmVudC5jb21wb25lbnRTdHlsZSA9IGNvbXBvbmVudFN0eWxlO1xuXG4gIC8vICRGbG93Rml4TWVcbiAgV3JhcHBlZFN0eWxlZENvbXBvbmVudC5mb2xkZWRDb21wb25lbnRJZHMgPSBpc1RhcmdldFN0eWxlZENvbXAgPyAvLyAkRmxvd0ZpeE1lXG4gIEFycmF5LnByb3RvdHlwZS5jb25jYXQodGFyZ2V0LmZvbGRlZENvbXBvbmVudElkcywgdGFyZ2V0LnN0eWxlZENvbXBvbmVudElkKSA6IEVNUFRZX0FSUkFZO1xuXG4gIC8vICRGbG93Rml4TWVcbiAgV3JhcHBlZFN0eWxlZENvbXBvbmVudC5zdHlsZWRDb21wb25lbnRJZCA9IHN0eWxlZENvbXBvbmVudElkO1xuXG4gIC8vIGZvbGQgdGhlIHVuZGVybHlpbmcgU3R5bGVkQ29tcG9uZW50IHRhcmdldCB1cCBzaW5jZSB3ZSBmb2xkZWQgdGhlIHN0eWxlc1xuICAvLyAkRmxvd0ZpeE1lXG4gIFdyYXBwZWRTdHlsZWRDb21wb25lbnQudGFyZ2V0ID0gaXNUYXJnZXRTdHlsZWRDb21wID8gdGFyZ2V0LnRhcmdldCA6IHRhcmdldDtcblxuICAvLyAkRmxvd0ZpeE1lXG4gIFdyYXBwZWRTdHlsZWRDb21wb25lbnQud2l0aENvbXBvbmVudCA9IGZ1bmN0aW9uIHdpdGhDb21wb25lbnQodGFnKSB7XG4gICAgdmFyIHByZXZpb3VzQ29tcG9uZW50SWQgPSBvcHRpb25zLmNvbXBvbmVudElkLFxuICAgICAgICBvcHRpb25zVG9Db3B5ID0gb2JqZWN0V2l0aG91dFByb3BlcnRpZXMob3B0aW9ucywgWydjb21wb25lbnRJZCddKTtcblxuXG4gICAgdmFyIG5ld0NvbXBvbmVudElkID0gcHJldmlvdXNDb21wb25lbnRJZCAmJiBwcmV2aW91c0NvbXBvbmVudElkICsgJy0nICsgKGlzVGFnKHRhZykgPyB0YWcgOiBlc2NhcGUoZ2V0Q29tcG9uZW50TmFtZSh0YWcpKSk7XG5cbiAgICB2YXIgbmV3T3B0aW9ucyA9IF9leHRlbmRzKHt9LCBvcHRpb25zVG9Db3B5LCB7XG4gICAgICBhdHRyczogZmluYWxBdHRycyxcbiAgICAgIGNvbXBvbmVudElkOiBuZXdDb21wb25lbnRJZCxcbiAgICAgIFBhcmVudENvbXBvbmVudDogUGFyZW50Q29tcG9uZW50XG4gICAgfSk7XG5cbiAgICByZXR1cm4gY3JlYXRlU3R5bGVkQ29tcG9uZW50KHRhZywgbmV3T3B0aW9ucywgcnVsZXMpO1xuICB9O1xuXG4gIC8vICRGbG93Rml4TWVcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFdyYXBwZWRTdHlsZWRDb21wb25lbnQsICdkZWZhdWx0UHJvcHMnLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQkJDEoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZm9sZGVkRGVmYXVsdFByb3BzO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQkJDEob2JqKSB7XG4gICAgICAvLyAkRmxvd0ZpeE1lXG4gICAgICB0aGlzLl9mb2xkZWREZWZhdWx0UHJvcHMgPSBpc1RhcmdldFN0eWxlZENvbXAgPyBtZXJnZSh0YXJnZXQuZGVmYXVsdFByb3BzLCBvYmopIDogb2JqO1xuICAgIH1cbiAgfSk7XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAvLyAkRmxvd0ZpeE1lXG4gICAgV3JhcHBlZFN0eWxlZENvbXBvbmVudC53YXJuVG9vTWFueUNsYXNzZXMgPSBjcmVhdGVXYXJuVG9vTWFueUNsYXNzZXMoZGlzcGxheU5hbWUpO1xuICB9XG5cbiAgLy8gJEZsb3dGaXhNZVxuICBXcmFwcGVkU3R5bGVkQ29tcG9uZW50LnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAnLicgKyBXcmFwcGVkU3R5bGVkQ29tcG9uZW50LnN0eWxlZENvbXBvbmVudElkO1xuICB9O1xuXG4gIGlmIChpc0NsYXNzKSB7XG4gICAgaG9pc3ROb25SZWFjdFN0YXRpY3MoV3JhcHBlZFN0eWxlZENvbXBvbmVudCwgdGFyZ2V0LCB7XG4gICAgICAvLyBhbGwgU0Mtc3BlY2lmaWMgdGhpbmdzIHNob3VsZCBub3QgYmUgaG9pc3RlZFxuICAgICAgYXR0cnM6IHRydWUsXG4gICAgICBjb21wb25lbnRTdHlsZTogdHJ1ZSxcbiAgICAgIGRpc3BsYXlOYW1lOiB0cnVlLFxuICAgICAgZm9sZGVkQ29tcG9uZW50SWRzOiB0cnVlLFxuICAgICAgc3R5bGVkQ29tcG9uZW50SWQ6IHRydWUsXG4gICAgICB0YXJnZXQ6IHRydWUsXG4gICAgICB3aXRoQ29tcG9uZW50OiB0cnVlXG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gV3JhcHBlZFN0eWxlZENvbXBvbmVudDtcbn1cblxuLy8gXG4vLyBUaGFua3MgdG8gUmVhY3RET01GYWN0b3JpZXMgZm9yIHRoaXMgaGFuZHkgbGlzdCFcblxudmFyIGRvbUVsZW1lbnRzID0gWydhJywgJ2FiYnInLCAnYWRkcmVzcycsICdhcmVhJywgJ2FydGljbGUnLCAnYXNpZGUnLCAnYXVkaW8nLCAnYicsICdiYXNlJywgJ2JkaScsICdiZG8nLCAnYmlnJywgJ2Jsb2NrcXVvdGUnLCAnYm9keScsICdicicsICdidXR0b24nLCAnY2FudmFzJywgJ2NhcHRpb24nLCAnY2l0ZScsICdjb2RlJywgJ2NvbCcsICdjb2xncm91cCcsICdkYXRhJywgJ2RhdGFsaXN0JywgJ2RkJywgJ2RlbCcsICdkZXRhaWxzJywgJ2RmbicsICdkaWFsb2cnLCAnZGl2JywgJ2RsJywgJ2R0JywgJ2VtJywgJ2VtYmVkJywgJ2ZpZWxkc2V0JywgJ2ZpZ2NhcHRpb24nLCAnZmlndXJlJywgJ2Zvb3RlcicsICdmb3JtJywgJ2gxJywgJ2gyJywgJ2gzJywgJ2g0JywgJ2g1JywgJ2g2JywgJ2hlYWQnLCAnaGVhZGVyJywgJ2hncm91cCcsICdocicsICdodG1sJywgJ2knLCAnaWZyYW1lJywgJ2ltZycsICdpbnB1dCcsICdpbnMnLCAna2JkJywgJ2tleWdlbicsICdsYWJlbCcsICdsZWdlbmQnLCAnbGknLCAnbGluaycsICdtYWluJywgJ21hcCcsICdtYXJrJywgJ21hcnF1ZWUnLCAnbWVudScsICdtZW51aXRlbScsICdtZXRhJywgJ21ldGVyJywgJ25hdicsICdub3NjcmlwdCcsICdvYmplY3QnLCAnb2wnLCAnb3B0Z3JvdXAnLCAnb3B0aW9uJywgJ291dHB1dCcsICdwJywgJ3BhcmFtJywgJ3BpY3R1cmUnLCAncHJlJywgJ3Byb2dyZXNzJywgJ3EnLCAncnAnLCAncnQnLCAncnVieScsICdzJywgJ3NhbXAnLCAnc2NyaXB0JywgJ3NlY3Rpb24nLCAnc2VsZWN0JywgJ3NtYWxsJywgJ3NvdXJjZScsICdzcGFuJywgJ3N0cm9uZycsICdzdHlsZScsICdzdWInLCAnc3VtbWFyeScsICdzdXAnLCAndGFibGUnLCAndGJvZHknLCAndGQnLCAndGV4dGFyZWEnLCAndGZvb3QnLCAndGgnLCAndGhlYWQnLCAndGltZScsICd0aXRsZScsICd0cicsICd0cmFjaycsICd1JywgJ3VsJywgJ3ZhcicsICd2aWRlbycsICd3YnInLFxuXG4vLyBTVkdcbidjaXJjbGUnLCAnY2xpcFBhdGgnLCAnZGVmcycsICdlbGxpcHNlJywgJ2ZvcmVpZ25PYmplY3QnLCAnZycsICdpbWFnZScsICdsaW5lJywgJ2xpbmVhckdyYWRpZW50JywgJ21hcmtlcicsICdtYXNrJywgJ3BhdGgnLCAncGF0dGVybicsICdwb2x5Z29uJywgJ3BvbHlsaW5lJywgJ3JhZGlhbEdyYWRpZW50JywgJ3JlY3QnLCAnc3RvcCcsICdzdmcnLCAndGV4dCcsICd0c3BhbiddO1xuXG4vLyBcblxudmFyIHN0eWxlZCA9IGZ1bmN0aW9uIHN0eWxlZCh0YWcpIHtcbiAgcmV0dXJuIGNvbnN0cnVjdFdpdGhPcHRpb25zKGNyZWF0ZVN0eWxlZENvbXBvbmVudCwgdGFnKTtcbn07XG5cbi8vIFNob3J0aGFuZHMgZm9yIGFsbCB2YWxpZCBIVE1MIEVsZW1lbnRzXG5kb21FbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChkb21FbGVtZW50KSB7XG4gIHN0eWxlZFtkb21FbGVtZW50XSA9IHN0eWxlZChkb21FbGVtZW50KTtcbn0pO1xuXG4vLyBcblxudmFyIEdsb2JhbFN0eWxlID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBHbG9iYWxTdHlsZShydWxlcywgY29tcG9uZW50SWQpIHtcbiAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBHbG9iYWxTdHlsZSk7XG5cbiAgICB0aGlzLnJ1bGVzID0gcnVsZXM7XG4gICAgdGhpcy5jb21wb25lbnRJZCA9IGNvbXBvbmVudElkO1xuICAgIHRoaXMuaXNTdGF0aWMgPSBpc1N0YXRpY1J1bGVzKHJ1bGVzLCBFTVBUWV9BUlJBWSk7XG5cbiAgICBpZiAoIVN0eWxlU2hlZXQubWFzdGVyLmhhc0lkKGNvbXBvbmVudElkKSkge1xuICAgICAgU3R5bGVTaGVldC5tYXN0ZXIuZGVmZXJyZWRJbmplY3QoY29tcG9uZW50SWQsIFtdKTtcbiAgICB9XG4gIH1cblxuICBHbG9iYWxTdHlsZS5wcm90b3R5cGUuY3JlYXRlU3R5bGVzID0gZnVuY3Rpb24gY3JlYXRlU3R5bGVzKGV4ZWN1dGlvbkNvbnRleHQsIHN0eWxlU2hlZXQpIHtcbiAgICB2YXIgZmxhdENTUyA9IGZsYXR0ZW4odGhpcy5ydWxlcywgZXhlY3V0aW9uQ29udGV4dCwgc3R5bGVTaGVldCk7XG4gICAgdmFyIGNzcyA9IHN0cmluZ2lmeVJ1bGVzKGZsYXRDU1MsICcnKTtcblxuICAgIHN0eWxlU2hlZXQuaW5qZWN0KHRoaXMuY29tcG9uZW50SWQsIGNzcyk7XG4gIH07XG5cbiAgR2xvYmFsU3R5bGUucHJvdG90eXBlLnJlbW92ZVN0eWxlcyA9IGZ1bmN0aW9uIHJlbW92ZVN0eWxlcyhzdHlsZVNoZWV0KSB7XG4gICAgdmFyIGNvbXBvbmVudElkID0gdGhpcy5jb21wb25lbnRJZDtcblxuICAgIGlmIChzdHlsZVNoZWV0Lmhhc0lkKGNvbXBvbmVudElkKSkge1xuICAgICAgc3R5bGVTaGVldC5yZW1vdmUoY29tcG9uZW50SWQpO1xuICAgIH1cbiAgfTtcblxuICAvLyBUT0RPOiBvdmVyd3JpdGUgaW4tcGxhY2UgaW5zdGVhZCBvZiByZW1vdmUrY3JlYXRlP1xuXG5cbiAgR2xvYmFsU3R5bGUucHJvdG90eXBlLnJlbmRlclN0eWxlcyA9IGZ1bmN0aW9uIHJlbmRlclN0eWxlcyhleGVjdXRpb25Db250ZXh0LCBzdHlsZVNoZWV0KSB7XG4gICAgdGhpcy5yZW1vdmVTdHlsZXMoc3R5bGVTaGVldCk7XG4gICAgdGhpcy5jcmVhdGVTdHlsZXMoZXhlY3V0aW9uQ29udGV4dCwgc3R5bGVTaGVldCk7XG4gIH07XG5cbiAgcmV0dXJuIEdsb2JhbFN0eWxlO1xufSgpO1xuXG4vLyBcblxuLy8gcGxhY2Ugb3VyIGNhY2hlIGludG8gc2hhcmVkIGNvbnRleHQgc28gaXQnbGwgcGVyc2lzdCBiZXR3ZWVuIEhNUnNcbmlmIChJU19CUk9XU0VSKSB7XG4gIHdpbmRvdy5zY0NHU0hNUkNhY2hlID0ge307XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUdsb2JhbFN0eWxlKHN0cmluZ3MpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGludGVycG9sYXRpb25zID0gQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIGludGVycG9sYXRpb25zW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHZhciBydWxlcyA9IGNzcy5hcHBseSh1bmRlZmluZWQsIFtzdHJpbmdzXS5jb25jYXQoaW50ZXJwb2xhdGlvbnMpKTtcbiAgdmFyIGlkID0gJ3NjLWdsb2JhbC0nICsgbXVybXVyaGFzaChKU09OLnN0cmluZ2lmeShydWxlcykpO1xuICB2YXIgc3R5bGUgPSBuZXcgR2xvYmFsU3R5bGUocnVsZXMsIGlkKTtcblxuICB2YXIgR2xvYmFsU3R5bGVDb21wb25lbnQgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAgIGluaGVyaXRzKEdsb2JhbFN0eWxlQ29tcG9uZW50LCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIEdsb2JhbFN0eWxlQ29tcG9uZW50KHByb3BzKSB7XG4gICAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBHbG9iYWxTdHlsZUNvbXBvbmVudCk7XG5cbiAgICAgIHZhciBfdGhpcyA9IHBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1JlYWN0JENvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICAgIHZhciBfdGhpcyRjb25zdHJ1Y3RvciA9IF90aGlzLmNvbnN0cnVjdG9yLFxuICAgICAgICAgIGdsb2JhbFN0eWxlID0gX3RoaXMkY29uc3RydWN0b3IuZ2xvYmFsU3R5bGUsXG4gICAgICAgICAgc3R5bGVkQ29tcG9uZW50SWQgPSBfdGhpcyRjb25zdHJ1Y3Rvci5zdHlsZWRDb21wb25lbnRJZDtcblxuXG4gICAgICBpZiAoSVNfQlJPV1NFUikge1xuICAgICAgICB3aW5kb3cuc2NDR1NITVJDYWNoZVtzdHlsZWRDb21wb25lbnRJZF0gPSAod2luZG93LnNjQ0dTSE1SQ2FjaGVbc3R5bGVkQ29tcG9uZW50SWRdIHx8IDApICsgMTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBUaGlzIGZpeGVzIEhNUiBjb21wYXRpYmlsaXR5LiBEb24ndCBhc2sgbWUgd2h5LCBidXQgdGhpcyBjb21iaW5hdGlvbiBvZlxuICAgICAgICogY2FjaGluZyB0aGUgY2xvc3VyZSB2YXJpYWJsZXMgdmlhIHN0YXRpY3MgYW5kIHRoZW4gcGVyc2lzdGluZyB0aGUgc3RhdGljcyBpblxuICAgICAgICogc3RhdGUgd29ya3MgYWNyb3NzIEhNUiB3aGVyZSBubyBvdGhlciBjb21iaW5hdGlvbiBkaWQuIMKvXFxfKOODhClfL8KvXG4gICAgICAgKi9cbiAgICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgICBnbG9iYWxTdHlsZTogZ2xvYmFsU3R5bGUsXG4gICAgICAgIHN0eWxlZENvbXBvbmVudElkOiBzdHlsZWRDb21wb25lbnRJZFxuICAgICAgfTtcbiAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBHbG9iYWxTdHlsZUNvbXBvbmVudC5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIGlmICh3aW5kb3cuc2NDR1NITVJDYWNoZVt0aGlzLnN0YXRlLnN0eWxlZENvbXBvbmVudElkXSkge1xuICAgICAgICB3aW5kb3cuc2NDR1NITVJDYWNoZVt0aGlzLnN0YXRlLnN0eWxlZENvbXBvbmVudElkXSAtPSAxO1xuICAgICAgfVxuICAgICAgLyoqXG4gICAgICAgKiBEZXBlbmRpbmcgb24gdGhlIG9yZGVyIFwicmVuZGVyXCIgaXMgY2FsbGVkIHRoaXMgY2FuIGNhdXNlIHRoZSBzdHlsZXMgdG8gYmUgbG9zdFxuICAgICAgICogdW50aWwgdGhlIG5leHQgcmVuZGVyIHBhc3Mgb2YgdGhlIHJlbWFpbmluZyBpbnN0YW5jZSwgd2hpY2ggbWF5XG4gICAgICAgKiBub3QgYmUgaW1tZWRpYXRlLlxuICAgICAgICovXG4gICAgICBpZiAod2luZG93LnNjQ0dTSE1SQ2FjaGVbdGhpcy5zdGF0ZS5zdHlsZWRDb21wb25lbnRJZF0gPT09IDApIHtcbiAgICAgICAgdGhpcy5zdGF0ZS5nbG9iYWxTdHlsZS5yZW1vdmVTdHlsZXModGhpcy5zdHlsZVNoZWV0KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgR2xvYmFsU3R5bGVDb21wb25lbnQucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBSZWFjdC5DaGlsZHJlbi5jb3VudCh0aGlzLnByb3BzLmNoaWxkcmVuKSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICBjb25zb2xlLndhcm4oJ1RoZSBnbG9iYWwgc3R5bGUgY29tcG9uZW50ICcgKyB0aGlzLnN0YXRlLnN0eWxlZENvbXBvbmVudElkICsgJyB3YXMgZ2l2ZW4gY2hpbGQgSlNYLiBjcmVhdGVHbG9iYWxTdHlsZSBkb2VzIG5vdCByZW5kZXIgY2hpbGRyZW4uJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICBTdHlsZVNoZWV0Q29uc3VtZXIsXG4gICAgICAgIG51bGwsXG4gICAgICAgIGZ1bmN0aW9uIChzdHlsZVNoZWV0KSB7XG4gICAgICAgICAgX3RoaXMyLnN0eWxlU2hlZXQgPSBzdHlsZVNoZWV0IHx8IFN0eWxlU2hlZXQubWFzdGVyO1xuXG4gICAgICAgICAgdmFyIGdsb2JhbFN0eWxlID0gX3RoaXMyLnN0YXRlLmdsb2JhbFN0eWxlO1xuXG5cbiAgICAgICAgICBpZiAoZ2xvYmFsU3R5bGUuaXNTdGF0aWMpIHtcbiAgICAgICAgICAgIGdsb2JhbFN0eWxlLnJlbmRlclN0eWxlcyhTVEFUSUNfRVhFQ1VUSU9OX0NPTlRFWFQsIF90aGlzMi5zdHlsZVNoZWV0KTtcblxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICBUaGVtZUNvbnN1bWVyLFxuICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICBmdW5jdGlvbiAodGhlbWUpIHtcbiAgICAgICAgICAgICAgICAvLyAkRmxvd0ZpeE1lXG4gICAgICAgICAgICAgICAgdmFyIGRlZmF1bHRQcm9wcyA9IF90aGlzMi5jb25zdHJ1Y3Rvci5kZWZhdWx0UHJvcHM7XG5cblxuICAgICAgICAgICAgICAgIHZhciBjb250ZXh0ID0gX2V4dGVuZHMoe30sIF90aGlzMi5wcm9wcyk7XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoZW1lICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgY29udGV4dC50aGVtZSA9IGRldGVybWluZVRoZW1lKF90aGlzMi5wcm9wcywgdGhlbWUsIGRlZmF1bHRQcm9wcyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZ2xvYmFsU3R5bGUucmVuZGVyU3R5bGVzKGNvbnRleHQsIF90aGlzMi5zdHlsZVNoZWV0KTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIEdsb2JhbFN0eWxlQ29tcG9uZW50O1xuICB9KFJlYWN0LkNvbXBvbmVudCk7XG5cbiAgR2xvYmFsU3R5bGVDb21wb25lbnQuZ2xvYmFsU3R5bGUgPSBzdHlsZTtcbiAgR2xvYmFsU3R5bGVDb21wb25lbnQuc3R5bGVkQ29tcG9uZW50SWQgPSBpZDtcblxuXG4gIHJldHVybiBHbG9iYWxTdHlsZUNvbXBvbmVudDtcbn1cblxuLy8gXG5cbnZhciByZXBsYWNlV2hpdGVzcGFjZSA9IGZ1bmN0aW9uIHJlcGxhY2VXaGl0ZXNwYWNlKHN0cikge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoL1xcc3xcXFxcbi9nLCAnJyk7XG59O1xuXG5mdW5jdGlvbiBrZXlmcmFtZXMoc3RyaW5ncykge1xuICAvKiBXYXJuaW5nIGlmIHlvdSd2ZSB1c2VkIGtleWZyYW1lcyBvbiBSZWFjdCBOYXRpdmUgKi9cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnByb2R1Y3QgPT09ICdSZWFjdE5hdGl2ZScpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgIGNvbnNvbGUud2FybignYGtleWZyYW1lc2AgY2Fubm90IGJlIHVzZWQgb24gUmVhY3ROYXRpdmUsIG9ubHkgb24gdGhlIHdlYi4gVG8gZG8gYW5pbWF0aW9uIGluIFJlYWN0TmF0aXZlIHBsZWFzZSB1c2UgQW5pbWF0ZWQuJyk7XG4gIH1cblxuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgaW50ZXJwb2xhdGlvbnMgPSBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgaW50ZXJwb2xhdGlvbnNbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgdmFyIHJ1bGVzID0gY3NzLmFwcGx5KHVuZGVmaW5lZCwgW3N0cmluZ3NdLmNvbmNhdChpbnRlcnBvbGF0aW9ucykpO1xuXG4gIHZhciBuYW1lID0gZ2VuZXJhdGVBbHBoYWJldGljTmFtZShtdXJtdXJoYXNoKHJlcGxhY2VXaGl0ZXNwYWNlKEpTT04uc3RyaW5naWZ5KHJ1bGVzKSkpKTtcblxuICByZXR1cm4gbmV3IEtleWZyYW1lcyhuYW1lLCBzdHJpbmdpZnlSdWxlcyhydWxlcywgbmFtZSwgJ0BrZXlmcmFtZXMnKSk7XG59XG5cbi8vIFxuXG52YXIgd2l0aFRoZW1lID0gKGZ1bmN0aW9uIChDb21wb25lbnQkJDEpIHtcbiAgdmFyIFdpdGhUaGVtZSA9IFJlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgIFRoZW1lQ29uc3VtZXIsXG4gICAgICBudWxsLFxuICAgICAgZnVuY3Rpb24gKHRoZW1lKSB7XG4gICAgICAgIC8vICRGbG93Rml4TWVcbiAgICAgICAgdmFyIGRlZmF1bHRQcm9wcyA9IENvbXBvbmVudCQkMS5kZWZhdWx0UHJvcHM7XG5cbiAgICAgICAgdmFyIHRoZW1lUHJvcCA9IGRldGVybWluZVRoZW1lKHByb3BzLCB0aGVtZSwgZGVmYXVsdFByb3BzKTtcblxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB0aGVtZVByb3AgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgY29uc29sZS53YXJuKCdbd2l0aFRoZW1lXSBZb3UgYXJlIG5vdCB1c2luZyBhIFRoZW1lUHJvdmlkZXIgbm9yIHBhc3NpbmcgYSB0aGVtZSBwcm9wIG9yIGEgdGhlbWUgaW4gZGVmYXVsdFByb3BzIGluIGNvbXBvbmVudCBjbGFzcyBcIicgKyBnZXRDb21wb25lbnROYW1lKENvbXBvbmVudCQkMSkgKyAnXCInKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KENvbXBvbmVudCQkMSwgX2V4dGVuZHMoe30sIHByb3BzLCB7IHRoZW1lOiB0aGVtZVByb3AsIHJlZjogcmVmIH0pKTtcbiAgICAgIH1cbiAgICApO1xuICB9KTtcblxuICBob2lzdE5vblJlYWN0U3RhdGljcyhXaXRoVGhlbWUsIENvbXBvbmVudCQkMSk7XG5cbiAgV2l0aFRoZW1lLmRpc3BsYXlOYW1lID0gJ1dpdGhUaGVtZSgnICsgZ2V0Q29tcG9uZW50TmFtZShDb21wb25lbnQkJDEpICsgJyknO1xuXG4gIHJldHVybiBXaXRoVGhlbWU7XG59KTtcblxuLy8gXG5cbi8qIGVzbGludC1kaXNhYmxlICovXG52YXIgX19ET19OT1RfVVNFX09SX1lPVV9XSUxMX0JFX0hBVU5URURfQllfU1BPT0tZX0dIT1NUUyA9IHtcbiAgU3R5bGVTaGVldDogU3R5bGVTaGVldFxufTtcblxuLy8gXG5cbi8qIFdhcm5pbmcgaWYgeW91J3ZlIGltcG9ydGVkIHRoaXMgZmlsZSBvbiBSZWFjdCBOYXRpdmUgKi9cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci5wcm9kdWN0ID09PSAnUmVhY3ROYXRpdmUnKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gIGNvbnNvbGUud2FybihcIkl0IGxvb2tzIGxpa2UgeW91J3ZlIGltcG9ydGVkICdzdHlsZWQtY29tcG9uZW50cycgb24gUmVhY3QgTmF0aXZlLlxcblwiICsgXCJQZXJoYXBzIHlvdSdyZSBsb29raW5nIHRvIGltcG9ydCAnc3R5bGVkLWNvbXBvbmVudHMvbmF0aXZlJz9cXG5cIiArICdSZWFkIG1vcmUgYWJvdXQgdGhpcyBhdCBodHRwczovL3d3dy5zdHlsZWQtY29tcG9uZW50cy5jb20vZG9jcy9iYXNpY3MjcmVhY3QtbmF0aXZlJyk7XG59XG5cbi8qIFdhcm5pbmcgaWYgdGhlcmUgYXJlIHNldmVyYWwgaW5zdGFuY2VzIG9mIHN0eWxlZC1jb21wb25lbnRzICovXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Rlc3QnICYmIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBuYXZpZ2F0b3IudXNlckFnZW50ID09PSAnc3RyaW5nJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ05vZGUuanMnKSA9PT0gLTEgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdqc2RvbScpID09PSAtMSkge1xuICB3aW5kb3dbJ19fc3R5bGVkLWNvbXBvbmVudHMtaW5pdF9fJ10gPSB3aW5kb3dbJ19fc3R5bGVkLWNvbXBvbmVudHMtaW5pdF9fJ10gfHwgMDtcblxuICBpZiAod2luZG93WydfX3N0eWxlZC1jb21wb25lbnRzLWluaXRfXyddID09PSAxKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICBjb25zb2xlLndhcm4oXCJJdCBsb29rcyBsaWtlIHRoZXJlIGFyZSBzZXZlcmFsIGluc3RhbmNlcyBvZiAnc3R5bGVkLWNvbXBvbmVudHMnIGluaXRpYWxpemVkIGluIHRoaXMgYXBwbGljYXRpb24uIFwiICsgJ1RoaXMgbWF5IGNhdXNlIGR5bmFtaWMgc3R5bGVzIG5vdCByZW5kZXJpbmcgcHJvcGVybHksIGVycm9ycyBoYXBwZW5pbmcgZHVyaW5nIHJlaHlkcmF0aW9uIHByb2Nlc3MgJyArICdhbmQgbWFrZXMgeW91ciBhcHBsaWNhdGlvbiBiaWdnZXIgd2l0aG91dCBhIGdvb2QgcmVhc29uLlxcblxcbicgKyAnU2VlIGh0dHBzOi8vcy1jLnNoLzJCQVh6ZWQgZm9yIG1vcmUgaW5mby4nKTtcbiAgfVxuXG4gIHdpbmRvd1snX19zdHlsZWQtY29tcG9uZW50cy1pbml0X18nXSArPSAxO1xufVxuXG4vL1xuXG5leHBvcnQgZGVmYXVsdCBzdHlsZWQ7XG5leHBvcnQgeyBjcmVhdGVHbG9iYWxTdHlsZSwgY3NzLCBpc1N0eWxlZENvbXBvbmVudCwga2V5ZnJhbWVzLCBTZXJ2ZXJTdHlsZVNoZWV0LCBTdHlsZVNoZWV0Q29uc3VtZXIsIFN0eWxlU2hlZXRDb250ZXh0LCBTdHlsZVNoZWV0TWFuYWdlciwgVGhlbWVDb25zdW1lciwgVGhlbWVDb250ZXh0LCBUaGVtZVByb3ZpZGVyLCB3aXRoVGhlbWUsIF9fRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9IQVVOVEVEX0JZX1NQT09LWV9HSE9TVFMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0eWxlZC1jb21wb25lbnRzLmJyb3dzZXIuZXNtLmpzLm1hcFxuIiwiKGZ1bmN0aW9uIChmYWN0b3J5KSB7XG5cdHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IChtb2R1bGVbJ2V4cG9ydHMnXSA9IGZhY3RvcnkoKSkgOlxuXHRcdHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lWydhbWQnXSA/IGRlZmluZShmYWN0b3J5KCkpIDpcblx0XHRcdCh3aW5kb3dbJ3N0eWxpc1J1bGVTaGVldCddID0gZmFjdG9yeSgpKVxufShmdW5jdGlvbiAoKSB7XG5cblx0J3VzZSBzdHJpY3QnXG5cblx0cmV0dXJuIGZ1bmN0aW9uIChpbnNlcnRSdWxlKSB7XG5cdFx0dmFyIGRlbGltaXRlciA9ICcvKnwqLydcblx0XHR2YXIgbmVlZGxlID0gZGVsaW1pdGVyKyd9J1xuXG5cdFx0ZnVuY3Rpb24gdG9TaGVldCAoYmxvY2spIHtcblx0XHRcdGlmIChibG9jaylcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRpbnNlcnRSdWxlKGJsb2NrICsgJ30nKVxuXHRcdFx0XHR9IGNhdGNoIChlKSB7fVxuXHRcdH1cblxuXHRcdHJldHVybiBmdW5jdGlvbiBydWxlU2hlZXQgKGNvbnRleHQsIGNvbnRlbnQsIHNlbGVjdG9ycywgcGFyZW50cywgbGluZSwgY29sdW1uLCBsZW5ndGgsIG5zLCBkZXB0aCwgYXQpIHtcblx0XHRcdHN3aXRjaCAoY29udGV4dCkge1xuXHRcdFx0XHQvLyBwcm9wZXJ0eVxuXHRcdFx0XHRjYXNlIDE6XG5cdFx0XHRcdFx0Ly8gQGltcG9ydFxuXHRcdFx0XHRcdGlmIChkZXB0aCA9PT0gMCAmJiBjb250ZW50LmNoYXJDb2RlQXQoMCkgPT09IDY0KVxuXHRcdFx0XHRcdFx0cmV0dXJuIGluc2VydFJ1bGUoY29udGVudCsnOycpLCAnJ1xuXHRcdFx0XHRcdGJyZWFrXG5cdFx0XHRcdC8vIHNlbGVjdG9yXG5cdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRpZiAobnMgPT09IDApXG5cdFx0XHRcdFx0XHRyZXR1cm4gY29udGVudCArIGRlbGltaXRlclxuXHRcdFx0XHRcdGJyZWFrXG5cdFx0XHRcdC8vIGF0LXJ1bGVcblx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdHN3aXRjaCAobnMpIHtcblx0XHRcdFx0XHRcdC8vIEBmb250LWZhY2UsIEBwYWdlXG5cdFx0XHRcdFx0XHRjYXNlIDEwMjpcblx0XHRcdFx0XHRcdGNhc2UgMTEyOlxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gaW5zZXJ0UnVsZShzZWxlY3RvcnNbMF0rY29udGVudCksICcnXG5cdFx0XHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGVudCArIChhdCA9PT0gMCA/IGRlbGltaXRlciA6ICcnKVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0Y2FzZSAtMjpcblx0XHRcdFx0XHRjb250ZW50LnNwbGl0KG5lZWRsZSkuZm9yRWFjaCh0b1NoZWV0KVxuXHRcdFx0fVxuXHRcdH1cblx0fVxufSkpXG4iLCIhZnVuY3Rpb24oZSl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9ZShudWxsKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKGUobnVsbCkpOndpbmRvdy5zdHlsaXM9ZShudWxsKX0oZnVuY3Rpb24gZShhKXtcInVzZSBzdHJpY3RcIjt2YXIgcj0vXlxcMCsvZyxjPS9bXFwwXFxyXFxmXS9nLHM9LzogKi9nLHQ9L3pvb3xncmEvLGk9LyhbLDogXSkodHJhbnNmb3JtKS9nLGY9LywrXFxzKig/IVteKF0qWyldKS9nLG49LyArXFxzKig/IVteKF0qWyldKS9nLGw9LyAqW1xcMF0gKi9nLG89LyxcXHIrPy9nLGg9LyhbXFx0XFxyXFxuIF0pKlxcZj8mL2csdT0vOmdsb2JhbFxcKCgoPzpbXlxcKFxcKVxcW1xcXV0qfFxcWy4qXFxdfFxcKFteXFwoXFwpXSpcXCkpKilcXCkvZyxkPS9cXFcrL2csYj0vQChrXFx3KylcXHMqKFxcUyopXFxzKi8scD0vOjoocGxhY2UpL2csaz0vOihyZWFkLW9ubHkpL2csZz0vXFxzKyg/PVt7XFxdOz06Pl0pL2csQT0vKFtbfT06Pl0pXFxzKy9nLEM9LyhcXHtbXntdKz8pOyg/PVxcfSkvZyx3PS9cXHN7Mix9L2csdj0vKFteXFwoXSkoOispICovZyxtPS9bc3ZoXVxcdystW3RibHJdezJ9Lyx4PS9cXChcXHMqKC4qKVxccypcXCkvZywkPS8oW1xcc1xcU10qPyk7L2cseT0vLXNlbGZ8ZmxleC0vZyxPPS9bXl0qPyg6W3JwXVtlbF1hW1xcdy1dKylbXl0qLyxqPS9zdHJldGNofDpcXHMqXFx3K1xcLSg/OmNvbnRlfGF2YWlsKS8sej0vKFteLV0pKGltYWdlLXNldFxcKCkvLE49XCItd2Via2l0LVwiLFM9XCItbW96LVwiLEY9XCItbXMtXCIsVz01OSxxPTEyNSxCPTEyMyxEPTQwLEU9NDEsRz05MSxIPTkzLEk9MTAsSj0xMyxLPTksTD02NCxNPTMyLFA9MzgsUT00NSxSPTk1LFQ9NDIsVT00NCxWPTU4LFg9MzksWT0zNCxaPTQ3LF89NjIsZWU9NDMsYWU9MTI2LHJlPTAsY2U9MTIsc2U9MTEsdGU9MTA3LGllPTEwOSxmZT0xMTUsbmU9MTEyLGxlPTExMSxvZT0xMDUsaGU9OTksdWU9MTAwLGRlPTExMixiZT0xLHBlPTEsa2U9MCxnZT0xLEFlPTEsQ2U9MSx3ZT0wLHZlPTAsbWU9MCx4ZT1bXSwkZT1bXSx5ZT0wLE9lPW51bGwsamU9LTIsemU9LTEsTmU9MCxTZT0xLEZlPTIsV2U9MyxxZT0wLEJlPTEsRGU9XCJcIixFZT1cIlwiLEdlPVwiXCI7ZnVuY3Rpb24gSGUoZSxhLHMsdCxpKXtmb3IodmFyIGYsbixvPTAsaD0wLHU9MCxkPTAsZz0wLEE9MCxDPTAsdz0wLG09MCwkPTAseT0wLE89MCxqPTAsej0wLFI9MCx3ZT0wLCRlPTAsT2U9MCxqZT0wLHplPXMubGVuZ3RoLEplPXplLTEsUmU9XCJcIixUZT1cIlwiLFVlPVwiXCIsVmU9XCJcIixYZT1cIlwiLFllPVwiXCI7Ujx6ZTspe2lmKEM9cy5jaGFyQ29kZUF0KFIpLFI9PT1KZSlpZihoK2QrdStvIT09MCl7aWYoMCE9PWgpQz1oPT09Wj9JOlo7ZD11PW89MCx6ZSsrLEplKyt9aWYoaCtkK3Urbz09PTApe2lmKFI9PT1KZSl7aWYod2U+MClUZT1UZS5yZXBsYWNlKGMsXCJcIik7aWYoVGUudHJpbSgpLmxlbmd0aD4wKXtzd2l0Y2goQyl7Y2FzZSBNOmNhc2UgSzpjYXNlIFc6Y2FzZSBKOmNhc2UgSTpicmVhaztkZWZhdWx0OlRlKz1zLmNoYXJBdChSKX1DPVd9fWlmKDE9PT0kZSlzd2l0Y2goQyl7Y2FzZSBCOmNhc2UgcTpjYXNlIFc6Y2FzZSBZOmNhc2UgWDpjYXNlIEQ6Y2FzZSBFOmNhc2UgVTokZT0wO2Nhc2UgSzpjYXNlIEo6Y2FzZSBJOmNhc2UgTTpicmVhaztkZWZhdWx0OmZvcigkZT0wLGplPVIsZz1DLFItLSxDPVc7amU8emU7KXN3aXRjaChzLmNoYXJDb2RlQXQoamUrKykpe2Nhc2UgSTpjYXNlIEo6Y2FzZSBXOisrUixDPWcsamU9emU7YnJlYWs7Y2FzZSBWOmlmKHdlPjApKytSLEM9ZztjYXNlIEI6amU9emV9fXN3aXRjaChDKXtjYXNlIEI6Zm9yKGc9KFRlPVRlLnRyaW0oKSkuY2hhckNvZGVBdCgwKSx5PTEsamU9KytSO1I8emU7KXtzd2l0Y2goQz1zLmNoYXJDb2RlQXQoUikpe2Nhc2UgQjp5Kys7YnJlYWs7Y2FzZSBxOnktLTticmVhaztjYXNlIFo6c3dpdGNoKEE9cy5jaGFyQ29kZUF0KFIrMSkpe2Nhc2UgVDpjYXNlIFo6Uj1RZShBLFIsSmUscyl9YnJlYWs7Y2FzZSBHOkMrKztjYXNlIEQ6QysrO2Nhc2UgWTpjYXNlIFg6Zm9yKDtSKys8SmUmJnMuY2hhckNvZGVBdChSKSE9PUM7KTt9aWYoMD09PXkpYnJlYWs7UisrfWlmKFVlPXMuc3Vic3RyaW5nKGplLFIpLGc9PT1yZSlnPShUZT1UZS5yZXBsYWNlKHIsXCJcIikudHJpbSgpKS5jaGFyQ29kZUF0KDApO3N3aXRjaChnKXtjYXNlIEw6aWYod2U+MClUZT1UZS5yZXBsYWNlKGMsXCJcIik7c3dpdGNoKEE9VGUuY2hhckNvZGVBdCgxKSl7Y2FzZSB1ZTpjYXNlIGllOmNhc2UgZmU6Y2FzZSBROmY9YTticmVhaztkZWZhdWx0OmY9eGV9aWYoamU9KFVlPUhlKGEsZixVZSxBLGkrMSkpLmxlbmd0aCxtZT4wJiYwPT09amUpamU9VGUubGVuZ3RoO2lmKHllPjApaWYoZj1JZSh4ZSxUZSxPZSksbj1QZShXZSxVZSxmLGEscGUsYmUsamUsQSxpLHQpLFRlPWYuam9pbihcIlwiKSx2b2lkIDAhPT1uKWlmKDA9PT0oamU9KFVlPW4udHJpbSgpKS5sZW5ndGgpKUE9MCxVZT1cIlwiO2lmKGplPjApc3dpdGNoKEEpe2Nhc2UgZmU6VGU9VGUucmVwbGFjZSh4LE1lKTtjYXNlIHVlOmNhc2UgaWU6Y2FzZSBROlVlPVRlK1wie1wiK1VlK1wifVwiO2JyZWFrO2Nhc2UgdGU6aWYoVWU9KFRlPVRlLnJlcGxhY2UoYixcIiQxICQyXCIrKEJlPjA/RGU6XCJcIikpKStcIntcIitVZStcIn1cIiwxPT09QWV8fDI9PT1BZSYmTGUoXCJAXCIrVWUsMykpVWU9XCJAXCIrTitVZStcIkBcIitVZTtlbHNlIFVlPVwiQFwiK1VlO2JyZWFrO2RlZmF1bHQ6aWYoVWU9VGUrVWUsdD09PWRlKVZlKz1VZSxVZT1cIlwifWVsc2UgVWU9XCJcIjticmVhaztkZWZhdWx0OlVlPUhlKGEsSWUoYSxUZSxPZSksVWUsdCxpKzEpfVhlKz1VZSxPPTAsJGU9MCx6PTAsd2U9MCxPZT0wLGo9MCxUZT1cIlwiLFVlPVwiXCIsQz1zLmNoYXJDb2RlQXQoKytSKTticmVhaztjYXNlIHE6Y2FzZSBXOmlmKChqZT0oVGU9KHdlPjA/VGUucmVwbGFjZShjLFwiXCIpOlRlKS50cmltKCkpLmxlbmd0aCk+MSl7aWYoMD09PXopaWYoKGc9VGUuY2hhckNvZGVBdCgwKSk9PT1RfHxnPjk2JiZnPDEyMylqZT0oVGU9VGUucmVwbGFjZShcIiBcIixcIjpcIikpLmxlbmd0aDtpZih5ZT4wKWlmKHZvaWQgMCE9PShuPVBlKFNlLFRlLGEsZSxwZSxiZSxWZS5sZW5ndGgsdCxpLHQpKSlpZigwPT09KGplPShUZT1uLnRyaW0oKSkubGVuZ3RoKSlUZT1cIlxcMFxcMFwiO3N3aXRjaChnPVRlLmNoYXJDb2RlQXQoMCksQT1UZS5jaGFyQ29kZUF0KDEpLGcpe2Nhc2UgcmU6YnJlYWs7Y2FzZSBMOmlmKEE9PT1vZXx8QT09PWhlKXtZZSs9VGUrcy5jaGFyQXQoUik7YnJlYWt9ZGVmYXVsdDppZihUZS5jaGFyQ29kZUF0KGplLTEpPT09VilicmVhaztWZSs9S2UoVGUsZyxBLFRlLmNoYXJDb2RlQXQoMikpfX1PPTAsJGU9MCx6PTAsd2U9MCxPZT0wLFRlPVwiXCIsQz1zLmNoYXJDb2RlQXQoKytSKX19c3dpdGNoKEMpe2Nhc2UgSjpjYXNlIEk6aWYoaCtkK3Urbyt2ZT09PTApc3dpdGNoKCQpe2Nhc2UgRTpjYXNlIFg6Y2FzZSBZOmNhc2UgTDpjYXNlIGFlOmNhc2UgXzpjYXNlIFQ6Y2FzZSBlZTpjYXNlIFo6Y2FzZSBROmNhc2UgVjpjYXNlIFU6Y2FzZSBXOmNhc2UgQjpjYXNlIHE6YnJlYWs7ZGVmYXVsdDppZih6PjApJGU9MX1pZihoPT09WiloPTA7ZWxzZSBpZihnZStPPT09MCYmdCE9PXRlJiZUZS5sZW5ndGg+MCl3ZT0xLFRlKz1cIlxcMFwiO2lmKHllKnFlPjApUGUoTmUsVGUsYSxlLHBlLGJlLFZlLmxlbmd0aCx0LGksdCk7YmU9MSxwZSsrO2JyZWFrO2Nhc2UgVzpjYXNlIHE6aWYoaCtkK3Urbz09PTApe2JlKys7YnJlYWt9ZGVmYXVsdDpzd2l0Y2goYmUrKyxSZT1zLmNoYXJBdChSKSxDKXtjYXNlIEs6Y2FzZSBNOmlmKGQrbytoPT09MClzd2l0Y2godyl7Y2FzZSBVOmNhc2UgVjpjYXNlIEs6Y2FzZSBNOlJlPVwiXCI7YnJlYWs7ZGVmYXVsdDppZihDIT09TSlSZT1cIiBcIn1icmVhaztjYXNlIHJlOlJlPVwiXFxcXDBcIjticmVhaztjYXNlIGNlOlJlPVwiXFxcXGZcIjticmVhaztjYXNlIHNlOlJlPVwiXFxcXHZcIjticmVhaztjYXNlIFA6aWYoZCtoK289PT0wJiZnZT4wKU9lPTEsd2U9MSxSZT1cIlxcZlwiK1JlO2JyZWFrO2Nhc2UgMTA4OmlmKGQraCtvK2tlPT09MCYmej4wKXN3aXRjaChSLXope2Nhc2UgMjppZih3PT09bmUmJnMuY2hhckNvZGVBdChSLTMpPT09VilrZT13O2Nhc2UgODppZihtPT09bGUpa2U9bX1icmVhaztjYXNlIFY6aWYoZCtoK289PT0wKXo9UjticmVhaztjYXNlIFU6aWYoaCt1K2Qrbz09PTApd2U9MSxSZSs9XCJcXHJcIjticmVhaztjYXNlIFk6Y2FzZSBYOmlmKDA9PT1oKWQ9ZD09PUM/MDowPT09ZD9DOmQ7YnJlYWs7Y2FzZSBHOmlmKGQraCt1PT09MClvKys7YnJlYWs7Y2FzZSBIOmlmKGQraCt1PT09MClvLS07YnJlYWs7Y2FzZSBFOmlmKGQraCtvPT09MCl1LS07YnJlYWs7Y2FzZSBEOmlmKGQraCtvPT09MCl7aWYoMD09PU8pc3dpdGNoKDIqdyszKm0pe2Nhc2UgNTMzOmJyZWFrO2RlZmF1bHQ6eT0wLE89MX11Kyt9YnJlYWs7Y2FzZSBMOmlmKGgrdStkK28reitqPT09MClqPTE7YnJlYWs7Y2FzZSBUOmNhc2UgWjppZihkK28rdT4wKWJyZWFrO3N3aXRjaChoKXtjYXNlIDA6c3dpdGNoKDIqQyszKnMuY2hhckNvZGVBdChSKzEpKXtjYXNlIDIzNTpoPVo7YnJlYWs7Y2FzZSAyMjA6amU9UixoPVR9YnJlYWs7Y2FzZSBUOmlmKEM9PT1aJiZ3PT09VCYmamUrMiE9PVIpe2lmKDMzPT09cy5jaGFyQ29kZUF0KGplKzIpKVZlKz1zLnN1YnN0cmluZyhqZSxSKzEpO1JlPVwiXCIsaD0wfX19aWYoMD09PWgpe2lmKGdlK2QrbytqPT09MCYmdCE9PXRlJiZDIT09Vylzd2l0Y2goQyl7Y2FzZSBVOmNhc2UgYWU6Y2FzZSBfOmNhc2UgZWU6Y2FzZSBFOmNhc2UgRDppZigwPT09Tyl7c3dpdGNoKHcpe2Nhc2UgSzpjYXNlIE06Y2FzZSBJOmNhc2UgSjpSZSs9XCJcXDBcIjticmVhaztkZWZhdWx0OlJlPVwiXFwwXCIrUmUrKEM9PT1VP1wiXCI6XCJcXDBcIil9d2U9MX1lbHNlIHN3aXRjaChDKXtjYXNlIEQ6aWYoeis3PT09UiYmMTA4PT09dyl6PTA7Tz0rK3k7YnJlYWs7Y2FzZSBFOmlmKDA9PShPPS0teSkpd2U9MSxSZSs9XCJcXDBcIn1icmVhaztjYXNlIEs6Y2FzZSBNOnN3aXRjaCh3KXtjYXNlIHJlOmNhc2UgQjpjYXNlIHE6Y2FzZSBXOmNhc2UgVTpjYXNlIGNlOmNhc2UgSzpjYXNlIE06Y2FzZSBJOmNhc2UgSjpicmVhaztkZWZhdWx0OmlmKDA9PT1PKXdlPTEsUmUrPVwiXFwwXCJ9fWlmKFRlKz1SZSxDIT09TSYmQyE9PUspJD1DfX1tPXcsdz1DLFIrK31pZihqZT1WZS5sZW5ndGgsbWU+MClpZigwPT09amUmJjA9PT1YZS5sZW5ndGgmJjA9PT1hWzBdLmxlbmd0aD09ZmFsc2UpaWYodCE9PWllfHwxPT09YS5sZW5ndGgmJihnZT4wP0VlOkdlKT09PWFbMF0pamU9YS5qb2luKFwiLFwiKS5sZW5ndGgrMjtpZihqZT4wKXtpZihmPTA9PT1nZSYmdCE9PXRlP2Z1bmN0aW9uKGUpe2Zvcih2YXIgYSxyLHM9MCx0PWUubGVuZ3RoLGk9QXJyYXkodCk7czx0Oysrcyl7Zm9yKHZhciBmPWVbc10uc3BsaXQobCksbj1cIlwiLG89MCxoPTAsdT0wLGQ9MCxiPWYubGVuZ3RoO288YjsrK28pe2lmKDA9PT0oaD0ocj1mW29dKS5sZW5ndGgpJiZiPjEpY29udGludWU7aWYodT1uLmNoYXJDb2RlQXQobi5sZW5ndGgtMSksZD1yLmNoYXJDb2RlQXQoMCksYT1cIlwiLDAhPT1vKXN3aXRjaCh1KXtjYXNlIFQ6Y2FzZSBhZTpjYXNlIF86Y2FzZSBlZTpjYXNlIE06Y2FzZSBEOmJyZWFrO2RlZmF1bHQ6YT1cIiBcIn1zd2l0Y2goZCl7Y2FzZSBQOnI9YStFZTtjYXNlIGFlOmNhc2UgXzpjYXNlIGVlOmNhc2UgTTpjYXNlIEU6Y2FzZSBEOmJyZWFrO2Nhc2UgRzpyPWErcitFZTticmVhaztjYXNlIFY6c3dpdGNoKDIqci5jaGFyQ29kZUF0KDEpKzMqci5jaGFyQ29kZUF0KDIpKXtjYXNlIDUzMDppZihDZT4wKXtyPWErci5zdWJzdHJpbmcoOCxoLTEpO2JyZWFrfWRlZmF1bHQ6aWYobzwxfHxmW28tMV0ubGVuZ3RoPDEpcj1hK0VlK3J9YnJlYWs7Y2FzZSBVOmE9XCJcIjtkZWZhdWx0OmlmKGg+MSYmci5pbmRleE9mKFwiOlwiKT4wKXI9YStyLnJlcGxhY2UodixcIiQxXCIrRWUrXCIkMlwiKTtlbHNlIHI9YStyK0VlfW4rPXJ9aVtzXT1uLnJlcGxhY2UoYyxcIlwiKS50cmltKCl9cmV0dXJuIGl9KGEpOmEseWU+MClpZih2b2lkIDAhPT0obj1QZShGZSxWZSxmLGUscGUsYmUsamUsdCxpLHQpKSYmMD09PShWZT1uKS5sZW5ndGgpcmV0dXJuIFllK1ZlK1hlO2lmKFZlPWYuam9pbihcIixcIikrXCJ7XCIrVmUrXCJ9XCIsQWUqa2UhPTApe2lmKDI9PT1BZSYmIUxlKFZlLDIpKWtlPTA7c3dpdGNoKGtlKXtjYXNlIGxlOlZlPVZlLnJlcGxhY2UoayxcIjpcIitTK1wiJDFcIikrVmU7YnJlYWs7Y2FzZSBuZTpWZT1WZS5yZXBsYWNlKHAsXCI6OlwiK04rXCJpbnB1dC0kMVwiKStWZS5yZXBsYWNlKHAsXCI6OlwiK1MrXCIkMVwiKStWZS5yZXBsYWNlKHAsXCI6XCIrRitcImlucHV0LSQxXCIpK1ZlfWtlPTB9fXJldHVybiBZZStWZStYZX1mdW5jdGlvbiBJZShlLGEscil7dmFyIGM9YS50cmltKCkuc3BsaXQobykscz1jLHQ9Yy5sZW5ndGgsaT1lLmxlbmd0aDtzd2l0Y2goaSl7Y2FzZSAwOmNhc2UgMTpmb3IodmFyIGY9MCxuPTA9PT1pP1wiXCI6ZVswXStcIiBcIjtmPHQ7KytmKXNbZl09SmUobixzW2ZdLHIsaSkudHJpbSgpO2JyZWFrO2RlZmF1bHQ6Zj0wO3ZhciBsPTA7Zm9yKHM9W107Zjx0OysrZilmb3IodmFyIGg9MDtoPGk7KytoKXNbbCsrXT1KZShlW2hdK1wiIFwiLGNbZl0scixpKS50cmltKCl9cmV0dXJuIHN9ZnVuY3Rpb24gSmUoZSxhLHIsYyl7dmFyIHM9YSx0PXMuY2hhckNvZGVBdCgwKTtpZih0PDMzKXQ9KHM9cy50cmltKCkpLmNoYXJDb2RlQXQoMCk7c3dpdGNoKHQpe2Nhc2UgUDpzd2l0Y2goZ2UrYyl7Y2FzZSAwOmNhc2UgMTppZigwPT09ZS50cmltKCkubGVuZ3RoKWJyZWFrO2RlZmF1bHQ6cmV0dXJuIHMucmVwbGFjZShoLFwiJDFcIitlLnRyaW0oKSl9YnJlYWs7Y2FzZSBWOnN3aXRjaChzLmNoYXJDb2RlQXQoMSkpe2Nhc2UgMTAzOmlmKENlPjAmJmdlPjApcmV0dXJuIHMucmVwbGFjZSh1LFwiJDFcIikucmVwbGFjZShoLFwiJDFcIitHZSk7YnJlYWs7ZGVmYXVsdDpyZXR1cm4gZS50cmltKCkrcy5yZXBsYWNlKGgsXCIkMVwiK2UudHJpbSgpKX1kZWZhdWx0OmlmKHIqZ2U+MCYmcy5pbmRleE9mKFwiXFxmXCIpPjApcmV0dXJuIHMucmVwbGFjZShoLChlLmNoYXJDb2RlQXQoMCk9PT1WP1wiXCI6XCIkMVwiKStlLnRyaW0oKSl9cmV0dXJuIGUrc31mdW5jdGlvbiBLZShlLGEscixjKXt2YXIgbCxvPTAsaD1lK1wiO1wiLHU9MiphKzMqcis0KmM7aWYoOTQ0PT09dSlyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIGE9ZS5sZW5ndGgscj1lLmluZGV4T2YoXCI6XCIsOSkrMSxjPWUuc3Vic3RyaW5nKDAscikudHJpbSgpLHM9ZS5zdWJzdHJpbmcocixhLTEpLnRyaW0oKTtzd2l0Y2goZS5jaGFyQ29kZUF0KDkpKkJlKXtjYXNlIDA6YnJlYWs7Y2FzZSBROmlmKDExMCE9PWUuY2hhckNvZGVBdCgxMCkpYnJlYWs7ZGVmYXVsdDpmb3IodmFyIHQ9cy5zcGxpdCgocz1cIlwiLGYpKSxpPTAscj0wLGE9dC5sZW5ndGg7aTxhO3I9MCwrK2kpe2Zvcih2YXIgbD10W2ldLG89bC5zcGxpdChuKTtsPW9bcl07KXt2YXIgaD1sLmNoYXJDb2RlQXQoMCk7aWYoMT09PUJlJiYoaD5MJiZoPDkwfHxoPjk2JiZoPDEyM3x8aD09PVJ8fGg9PT1RJiZsLmNoYXJDb2RlQXQoMSkhPT1RKSlzd2l0Y2goaXNOYU4ocGFyc2VGbG9hdChsKSkrKC0xIT09bC5pbmRleE9mKFwiKFwiKSkpe2Nhc2UgMTpzd2l0Y2gobCl7Y2FzZVwiaW5maW5pdGVcIjpjYXNlXCJhbHRlcm5hdGVcIjpjYXNlXCJiYWNrd2FyZHNcIjpjYXNlXCJydW5uaW5nXCI6Y2FzZVwibm9ybWFsXCI6Y2FzZVwiZm9yd2FyZHNcIjpjYXNlXCJib3RoXCI6Y2FzZVwibm9uZVwiOmNhc2VcImxpbmVhclwiOmNhc2VcImVhc2VcIjpjYXNlXCJlYXNlLWluXCI6Y2FzZVwiZWFzZS1vdXRcIjpjYXNlXCJlYXNlLWluLW91dFwiOmNhc2VcInBhdXNlZFwiOmNhc2VcInJldmVyc2VcIjpjYXNlXCJhbHRlcm5hdGUtcmV2ZXJzZVwiOmNhc2VcImluaGVyaXRcIjpjYXNlXCJpbml0aWFsXCI6Y2FzZVwidW5zZXRcIjpjYXNlXCJzdGVwLXN0YXJ0XCI6Y2FzZVwic3RlcC1lbmRcIjpicmVhaztkZWZhdWx0OmwrPURlfX1vW3IrK109bH1zKz0oMD09PWk/XCJcIjpcIixcIikrby5qb2luKFwiIFwiKX19aWYocz1jK3MrXCI7XCIsMT09PUFlfHwyPT09QWUmJkxlKHMsMSkpcmV0dXJuIE4rcytzO3JldHVybiBzfShoKTtlbHNlIGlmKDA9PT1BZXx8Mj09PUFlJiYhTGUoaCwxKSlyZXR1cm4gaDtzd2l0Y2godSl7Y2FzZSAxMDE1OnJldHVybiA5Nz09PWguY2hhckNvZGVBdCgxMCk/TitoK2g6aDtjYXNlIDk1MTpyZXR1cm4gMTE2PT09aC5jaGFyQ29kZUF0KDMpP04raCtoOmg7Y2FzZSA5NjM6cmV0dXJuIDExMD09PWguY2hhckNvZGVBdCg1KT9OK2graDpoO2Nhc2UgMTAwOTppZigxMDAhPT1oLmNoYXJDb2RlQXQoNCkpYnJlYWs7Y2FzZSA5Njk6Y2FzZSA5NDI6cmV0dXJuIE4raCtoO2Nhc2UgOTc4OnJldHVybiBOK2grUytoK2g7Y2FzZSAxMDE5OmNhc2UgOTgzOnJldHVybiBOK2grUytoK0YraCtoO2Nhc2UgODgzOmlmKGguY2hhckNvZGVBdCg4KT09PVEpcmV0dXJuIE4raCtoO2lmKGguaW5kZXhPZihcImltYWdlLXNldChcIiwxMSk+MClyZXR1cm4gaC5yZXBsYWNlKHosXCIkMVwiK04rXCIkMlwiKStoO3JldHVybiBoO2Nhc2UgOTMyOmlmKGguY2hhckNvZGVBdCg0KT09PVEpc3dpdGNoKGguY2hhckNvZGVBdCg1KSl7Y2FzZSAxMDM6cmV0dXJuIE4rXCJib3gtXCIraC5yZXBsYWNlKFwiLWdyb3dcIixcIlwiKStOK2grRitoLnJlcGxhY2UoXCJncm93XCIsXCJwb3NpdGl2ZVwiKStoO2Nhc2UgMTE1OnJldHVybiBOK2grRitoLnJlcGxhY2UoXCJzaHJpbmtcIixcIm5lZ2F0aXZlXCIpK2g7Y2FzZSA5ODpyZXR1cm4gTitoK0YraC5yZXBsYWNlKFwiYmFzaXNcIixcInByZWZlcnJlZC1zaXplXCIpK2h9cmV0dXJuIE4raCtGK2graDtjYXNlIDk2NDpyZXR1cm4gTitoK0YrXCJmbGV4LVwiK2graDtjYXNlIDEwMjM6aWYoOTkhPT1oLmNoYXJDb2RlQXQoOCkpYnJlYWs7cmV0dXJuIGw9aC5zdWJzdHJpbmcoaC5pbmRleE9mKFwiOlwiLDE1KSkucmVwbGFjZShcImZsZXgtXCIsXCJcIikucmVwbGFjZShcInNwYWNlLWJldHdlZW5cIixcImp1c3RpZnlcIiksTitcImJveC1wYWNrXCIrbCtOK2grRitcImZsZXgtcGFja1wiK2wraDtjYXNlIDEwMDU6cmV0dXJuIHQudGVzdChoKT9oLnJlcGxhY2UocyxcIjpcIitOKStoLnJlcGxhY2UocyxcIjpcIitTKStoOmg7Y2FzZSAxZTM6c3dpdGNoKG89KGw9aC5zdWJzdHJpbmcoMTMpLnRyaW0oKSkuaW5kZXhPZihcIi1cIikrMSxsLmNoYXJDb2RlQXQoMCkrbC5jaGFyQ29kZUF0KG8pKXtjYXNlIDIyNjpsPWgucmVwbGFjZShtLFwidGJcIik7YnJlYWs7Y2FzZSAyMzI6bD1oLnJlcGxhY2UobSxcInRiLXJsXCIpO2JyZWFrO2Nhc2UgMjIwOmw9aC5yZXBsYWNlKG0sXCJsclwiKTticmVhaztkZWZhdWx0OnJldHVybiBofXJldHVybiBOK2grRitsK2g7Y2FzZSAxMDE3OmlmKC0xPT09aC5pbmRleE9mKFwic3RpY2t5XCIsOSkpcmV0dXJuIGg7Y2FzZSA5NzU6c3dpdGNoKG89KGg9ZSkubGVuZ3RoLTEwLHU9KGw9KDMzPT09aC5jaGFyQ29kZUF0KG8pP2guc3Vic3RyaW5nKDAsbyk6aCkuc3Vic3RyaW5nKGUuaW5kZXhPZihcIjpcIiw3KSsxKS50cmltKCkpLmNoYXJDb2RlQXQoMCkrKDB8bC5jaGFyQ29kZUF0KDcpKSl7Y2FzZSAyMDM6aWYobC5jaGFyQ29kZUF0KDgpPDExMSlicmVhaztjYXNlIDExNTpoPWgucmVwbGFjZShsLE4rbCkrXCI7XCIraDticmVhaztjYXNlIDIwNzpjYXNlIDEwMjpoPWgucmVwbGFjZShsLE4rKHU+MTAyP1wiaW5saW5lLVwiOlwiXCIpK1wiYm94XCIpK1wiO1wiK2gucmVwbGFjZShsLE4rbCkrXCI7XCIraC5yZXBsYWNlKGwsRitsK1wiYm94XCIpK1wiO1wiK2h9cmV0dXJuIGgrXCI7XCI7Y2FzZSA5Mzg6aWYoaC5jaGFyQ29kZUF0KDUpPT09USlzd2l0Y2goaC5jaGFyQ29kZUF0KDYpKXtjYXNlIDEwNTpyZXR1cm4gbD1oLnJlcGxhY2UoXCItaXRlbXNcIixcIlwiKSxOK2grTitcImJveC1cIitsK0YrXCJmbGV4LVwiK2wraDtjYXNlIDExNTpyZXR1cm4gTitoK0YrXCJmbGV4LWl0ZW0tXCIraC5yZXBsYWNlKHksXCJcIikraDtkZWZhdWx0OnJldHVybiBOK2grRitcImZsZXgtbGluZS1wYWNrXCIraC5yZXBsYWNlKFwiYWxpZ24tY29udGVudFwiLFwiXCIpLnJlcGxhY2UoeSxcIlwiKStofWJyZWFrO2Nhc2UgOTczOmNhc2UgOTg5OmlmKGguY2hhckNvZGVBdCgzKSE9PVF8fDEyMj09PWguY2hhckNvZGVBdCg0KSlicmVhaztjYXNlIDkzMTpjYXNlIDk1MzppZih0cnVlPT09ai50ZXN0KGUpKWlmKDExNT09PShsPWUuc3Vic3RyaW5nKGUuaW5kZXhPZihcIjpcIikrMSkpLmNoYXJDb2RlQXQoMCkpcmV0dXJuIEtlKGUucmVwbGFjZShcInN0cmV0Y2hcIixcImZpbGwtYXZhaWxhYmxlXCIpLGEscixjKS5yZXBsYWNlKFwiOmZpbGwtYXZhaWxhYmxlXCIsXCI6c3RyZXRjaFwiKTtlbHNlIHJldHVybiBoLnJlcGxhY2UobCxOK2wpK2gucmVwbGFjZShsLFMrbC5yZXBsYWNlKFwiZmlsbC1cIixcIlwiKSkraDticmVhaztjYXNlIDk2MjppZihoPU4raCsoMTAyPT09aC5jaGFyQ29kZUF0KDUpP0YraDpcIlwiKStoLHIrYz09PTIxMSYmMTA1PT09aC5jaGFyQ29kZUF0KDEzKSYmaC5pbmRleE9mKFwidHJhbnNmb3JtXCIsMTApPjApcmV0dXJuIGguc3Vic3RyaW5nKDAsaC5pbmRleE9mKFwiO1wiLDI3KSsxKS5yZXBsYWNlKGksXCIkMVwiK04rXCIkMlwiKStofXJldHVybiBofWZ1bmN0aW9uIExlKGUsYSl7dmFyIHI9ZS5pbmRleE9mKDE9PT1hP1wiOlwiOlwie1wiKSxjPWUuc3Vic3RyaW5nKDAsMyE9PWE/cjoxMCkscz1lLnN1YnN0cmluZyhyKzEsZS5sZW5ndGgtMSk7cmV0dXJuIE9lKDIhPT1hP2M6Yy5yZXBsYWNlKE8sXCIkMVwiKSxzLGEpfWZ1bmN0aW9uIE1lKGUsYSl7dmFyIHI9S2UoYSxhLmNoYXJDb2RlQXQoMCksYS5jaGFyQ29kZUF0KDEpLGEuY2hhckNvZGVBdCgyKSk7cmV0dXJuIHIhPT1hK1wiO1wiP3IucmVwbGFjZSgkLFwiIG9yICgkMSlcIikuc3Vic3RyaW5nKDQpOlwiKFwiK2ErXCIpXCJ9ZnVuY3Rpb24gUGUoZSxhLHIsYyxzLHQsaSxmLG4sbCl7Zm9yKHZhciBvLGg9MCx1PWE7aDx5ZTsrK2gpc3dpdGNoKG89JGVbaF0uY2FsbChUZSxlLHUscixjLHMsdCxpLGYsbixsKSl7Y2FzZSB2b2lkIDA6Y2FzZSBmYWxzZTpjYXNlIHRydWU6Y2FzZSBudWxsOmJyZWFrO2RlZmF1bHQ6dT1vfWlmKHUhPT1hKXJldHVybiB1fWZ1bmN0aW9uIFFlKGUsYSxyLGMpe2Zvcih2YXIgcz1hKzE7czxyOysrcylzd2l0Y2goYy5jaGFyQ29kZUF0KHMpKXtjYXNlIFo6aWYoZT09PVQpaWYoYy5jaGFyQ29kZUF0KHMtMSk9PT1UJiZhKzIhPT1zKXJldHVybiBzKzE7YnJlYWs7Y2FzZSBJOmlmKGU9PT1aKXJldHVybiBzKzF9cmV0dXJuIHN9ZnVuY3Rpb24gUmUoZSl7Zm9yKHZhciBhIGluIGUpe3ZhciByPWVbYV07c3dpdGNoKGEpe2Nhc2VcImtleWZyYW1lXCI6QmU9MHxyO2JyZWFrO2Nhc2VcImdsb2JhbFwiOkNlPTB8cjticmVhaztjYXNlXCJjYXNjYWRlXCI6Z2U9MHxyO2JyZWFrO2Nhc2VcImNvbXByZXNzXCI6d2U9MHxyO2JyZWFrO2Nhc2VcInNlbWljb2xvblwiOnZlPTB8cjticmVhaztjYXNlXCJwcmVzZXJ2ZVwiOm1lPTB8cjticmVhaztjYXNlXCJwcmVmaXhcIjppZihPZT1udWxsLCFyKUFlPTA7ZWxzZSBpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiByKUFlPTE7ZWxzZSBBZT0yLE9lPXJ9fXJldHVybiBSZX1mdW5jdGlvbiBUZShhLHIpe2lmKHZvaWQgMCE9PXRoaXMmJnRoaXMuY29uc3RydWN0b3I9PT1UZSlyZXR1cm4gZShhKTt2YXIgcz1hLHQ9cy5jaGFyQ29kZUF0KDApO2lmKHQ8MzMpdD0ocz1zLnRyaW0oKSkuY2hhckNvZGVBdCgwKTtpZihCZT4wKURlPXMucmVwbGFjZShkLHQ9PT1HP1wiXCI6XCItXCIpO2lmKHQ9MSwxPT09Z2UpR2U9cztlbHNlIEVlPXM7dmFyIGksZj1bR2VdO2lmKHllPjApaWYodm9pZCAwIT09KGk9UGUoemUscixmLGYscGUsYmUsMCwwLDAsMCkpJiZcInN0cmluZ1wiPT10eXBlb2YgaSlyPWk7dmFyIG49SGUoeGUsZixyLDAsMCk7aWYoeWU+MClpZih2b2lkIDAhPT0oaT1QZShqZSxuLGYsZixwZSxiZSxuLmxlbmd0aCwwLDAsMCkpJiZcInN0cmluZ1wiIT10eXBlb2Yobj1pKSl0PTA7cmV0dXJuIERlPVwiXCIsR2U9XCJcIixFZT1cIlwiLGtlPTAscGU9MSxiZT0xLHdlKnQ9PTA/bjpuLnJlcGxhY2UoYyxcIlwiKS5yZXBsYWNlKGcsXCJcIikucmVwbGFjZShBLFwiJDFcIikucmVwbGFjZShDLFwiJDFcIikucmVwbGFjZSh3LFwiIFwiKX1pZihUZS51c2U9ZnVuY3Rpb24gZShhKXtzd2l0Y2goYSl7Y2FzZSB2b2lkIDA6Y2FzZSBudWxsOnllPSRlLmxlbmd0aD0wO2JyZWFrO2RlZmF1bHQ6aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgYSkkZVt5ZSsrXT1hO2Vsc2UgaWYoXCJvYmplY3RcIj09dHlwZW9mIGEpZm9yKHZhciByPTAsYz1hLmxlbmd0aDtyPGM7KytyKWUoYVtyXSk7ZWxzZSBxZT0wfCEhYX1yZXR1cm4gZX0sVGUuc2V0PVJlLHZvaWQgMCE9PWEpUmUoYSk7cmV0dXJuIFRlfSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdHlsaXMubWluLmpzLm1hcCIsIi8qIGdsb2JhbCB3aW5kb3cgKi9cbmltcG9ydCBwb255ZmlsbCBmcm9tICcuL3BvbnlmaWxsLmpzJztcblxudmFyIHJvb3Q7XG5cbmlmICh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgcm9vdCA9IHNlbGY7XG59IGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gIHJvb3QgPSB3aW5kb3c7XG59IGVsc2UgaWYgKHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnKSB7XG4gIHJvb3QgPSBnbG9iYWw7XG59IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnKSB7XG4gIHJvb3QgPSBtb2R1bGU7XG59IGVsc2Uge1xuICByb290ID0gRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcbn1cblxudmFyIHJlc3VsdCA9IHBvbnlmaWxsKHJvb3QpO1xuZXhwb3J0IGRlZmF1bHQgcmVzdWx0O1xuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc3ltYm9sT2JzZXJ2YWJsZVBvbnlmaWxsKHJvb3QpIHtcblx0dmFyIHJlc3VsdDtcblx0dmFyIFN5bWJvbCA9IHJvb3QuU3ltYm9sO1xuXG5cdGlmICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0aWYgKFN5bWJvbC5vYnNlcnZhYmxlKSB7XG5cdFx0XHRyZXN1bHQgPSBTeW1ib2wub2JzZXJ2YWJsZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmVzdWx0ID0gU3ltYm9sKCdvYnNlcnZhYmxlJyk7XG5cdFx0XHRTeW1ib2wub2JzZXJ2YWJsZSA9IHJlc3VsdDtcblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0cmVzdWx0ID0gJ0BAb2JzZXJ2YWJsZSc7XG5cdH1cblxuXHRyZXR1cm4gcmVzdWx0O1xufTtcbiIsInZhciByZWcgPSAvW1xcJ1xcXCJdL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHVucXVvdGUoc3RyKSB7XG4gIGlmICghc3RyKSB7XG4gICAgcmV0dXJuICcnXG4gIH1cbiAgaWYgKHJlZy50ZXN0KHN0ci5jaGFyQXQoMCkpKSB7XG4gICAgc3RyID0gc3RyLnN1YnN0cigxKVxuICB9XG4gIGlmIChyZWcudGVzdChzdHIuY2hhckF0KHN0ci5sZW5ndGggLSAxKSkpIHtcbiAgICBzdHIgPSBzdHIuc3Vic3RyKDAsIHN0ci5sZW5ndGggLSAxKVxuICB9XG4gIHJldHVybiBzdHJcbn1cbiIsInZhciBnO1xuXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxuZyA9IChmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXM7XG59KSgpO1xuXG50cnkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcblx0ZyA9IGcgfHwgbmV3IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcbn0gY2F0Y2ggKGUpIHtcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIGcgPSB3aW5kb3c7XG59XG5cbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XG5cbm1vZHVsZS5leHBvcnRzID0gZztcbiJdLCJzb3VyY2VSb290IjoiIn0=